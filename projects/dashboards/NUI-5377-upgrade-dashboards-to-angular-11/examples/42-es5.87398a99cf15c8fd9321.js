!function(){var e,r;function t(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function s(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{F9Zb:function(t,d,n){"use strict";var p,l,c;n.r(d),n.d(d,"OverviewModule",function(){return L});var u,b,v,g=n("tyNb"),h=n("Rr1A"),f=n("gKry"),m=n("4uQc"),w=n("bTxs"),y=n("FupF"),C=n("M+5T"),I=n("WqJa"),S=n("QVEU"),k=n.n(S),T=n("XNiG"),P=n("fXoL"),D=((u=function t(i){var o=this;s(this,t),this.toastService=i,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=function(r,t){var i=new T.a;return setTimeout(function(){if(o.allowSubmit)i.next(r);else{var t=$localize(e||(e=a(["Submit failed."])));o.toastService.error({title:t}),i.error(t)}},1e3),i.asObservable()},this.tryRemove=function(e){var t=new T.a;return setTimeout(function(){if(o.allowRemoval)t.next(e);else{var i=$localize(r||(r=a(["Widget removal failed."])));o.toastService.error({title:i}),t.error(i)}},200),t.asObservable()},this.toastService.setConfig({timeOut:2e3})}).\u0275fac=function(e){return new(e||u)(P.fc(h.Yb))},u.\u0275prov=P.Lb({token:u,factory:u.\u0275fac}),u),z=n("bPcI"),O={widget1:{cols:6,rows:6,y:0,x:0},widget2:{cols:6,rows:6,y:0,x:6},widget3:{cols:7,rows:6,y:6,x:0},widget4:{cols:5,rows:6,y:6,x:7}},E=[{id:"widget1",type:"kpi",pizzagna:o({},f.Q.Configuration,{header:{properties:{title:"KPI Widget!",subtitle:"A bunch of number boxes"}},tiles:{properties:{nodes:["kpi1","kpi2"]}},kpi1:{id:"kpi1",componentType:f.z.lateLoadKey,providers:(p={},o(p,f.kb.DataSource,{providerId:w.a.providerId}),o(p,f.kb.Adapter,{providerId:f.I,properties:{componentId:"kpi1",propertyPath:"widgetData",thresholds:{showThresholds:!0,warningThresholdValue:5,criticalThresholdValue:8}}}),p),properties:{elementClass:"flex-grow-1",widgetData:{id:"totalStorage",value:0,label:"Total storage"}}},kpi2:{id:"kpi2",componentType:f.z.lateLoadKey,providers:(l={},o(l,f.kb.DataSource,{providerId:w.b.providerId}),o(l,f.kb.Adapter,{providerId:f.I,properties:{componentId:"kpi2",propertyPath:"widgetData",thresholds:{warningThresholdValue:120,criticalThresholdValue:150}}}),l),properties:{elementClass:"flex-grow-1",widgetData:{id:"downloadSpeed",value:0,label:"Download speed"}}}})},{id:"widget2",type:"proportional",pizzagna:o({},f.Q.Configuration,{header:{properties:{title:"Proportional Widget!",subtitle:"Proportional widget with legend formatters"}},chart:{providers:o({},f.kb.DataSource,{providerId:y.b.providerId}),properties:{configuration:{chartOptions:{type:f.U.PieChart,legendPlacement:f.B.Right,legendFormatter:{componentType:f.C.lateLoadKey}}}}}})},{id:"widget3",type:"timeseries",pizzagna:o({},f.Q.Configuration,(c={},o(c,f.g,{providers:o({},f.kb.DataSource,{providerId:I.a.providerId})}),o(c,"header",{properties:{title:"Timeseries Widget!",subtitle:"Basic timeseries widget"}}),o(c,"chart",{providers:o({},f.kb.Adapter,{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"}]}}),properties:{configuration:{legendPlacement:f.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)"}}}),o(c,"timeframeSelection",{properties:{timeframe:{startDatetime:Object(z.e)().subtract(7,"day").format(),endDatetime:Object(z.e)().format(),selectedPresetId:null}}}),c))},{id:"widget4",type:"table",pizzagna:o({},f.Q.Configuration,{header:{properties:{title:"Table Widget!",subtitle:"Basic table widget"}},table:{providers:o({},f.kb.DataSource,{providerId:C.a.providerId}),properties:{configuration:{columns:[{id:"column1",label:"No",isActive:!0,formatter:{componentType:f.W.lateLoadKey,properties:{dataFieldIds:{value:"position"}}}},{id:"column2",label:"Name",isActive:!0,formatter:{componentType:f.W.lateLoadKey,properties:{dataFieldIds:{value:"name"}}}},{id:"column3",label:"Location",isActive:!0,formatter:{componentType:f.C.lateLoadKey,properties:{dataFieldIds:{value:"firstUrlLabel",link:"firstUrl"}}}}],sorterConfiguration:{descendantSorting:!0,sortBy:"column1"},hasVirtualScroll:!0}}}})}],j=n("BJxG"),x=n("sleA"),A=n("MJAs"),M=[{path:"",component:(b=function(){function e(r,t,i,a){var d;s(this,e),this.providerRegistry=r,this.submitHandler=t,this.themeSwitcherService=i,this.widgetTypesService=a,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.dsError=!1,this.providerRegistry.setProviders((o(d={},w.a.providerId,{provide:f.b,useClass:w.a,deps:[]}),o(d,w.b.providerId,{provide:f.b,useClass:w.b,deps:[]}),o(d,y.a.providerId,{provide:f.b,useClass:y.a,deps:[]}),o(d,y.b.providerId,{provide:f.b,useClass:y.b,deps:[]}),o(d,y.c.providerId,{provide:f.b,useClass:y.c,deps:[]}),o(d,C.a.providerId,{provide:f.b,useClass:C.a,deps:[h.wb,f.O]}),o(d,C.b.providerId,{provide:f.b,useClass:C.b,deps:[h.wb,f.O]}),o(d,I.a.providerId,{provide:f.b,useClass:I.a,deps:[]}),o(d,I.b.providerId,{provide:f.b,useClass:I.b,deps:[]}),d))}return i(e,[{key:"ngOnInit",value:function(){var e=this,r=E.map(function(r){return Object.assign(Object.assign({},r),{pizzagna:Object.assign(Object.assign({},e.widgetTypesService.getWidgetType(r.type,r.version).widget),r.pizzagna)})}),t=k()(r,function(e){return e.id});this.dashboard={positions:O,widgets:t}}},{key:"onDsErrorChange",value:function(e){w.a.mockError=e,I.a.mockError=e,C.a.mockError=e,y.b.mockError=e}}]),e}(),b.\u0275fac=function(e){return new(e||b)(P.Pb(f.V),P.Pb(D),P.Pb(h.Tb),P.Pb(f.nb))},b.\u0275cmp=P.Jb({type:b,selectors:[["acme-dashboard"]],features:[P.Cb([D])],decls:3,vars:6,consts:[[3,"editMode","dsError","editModeChange","dsErrorChange"],[1,"dashboard"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"]],template:function(e,r){1&e&&(P.Vb(0,"dashboard-test-harness",0),P.jc("editModeChange",function(e){return r.editMode=e})("dsErrorChange",function(e){return r.onDsErrorChange(e)}),P.Vb(1,"div",1),P.Vb(2,"nui-dashboard",2),P.jc("dashboardChange",function(e){return r.dashboard=e})("gridsterConfigChange",function(e){return r.gridsterConfig=e}),P.Ub(),P.Ub(),P.Ub()),2&e&&(P.uc("editMode",r.editMode)("dsError",r.dsError),P.Db(2),P.uc("nuiWidgetEditor",r.submitHandler)("dashboard",r.dashboard)("gridsterConfig",r.gridsterConfig)("editMode",r.editMode))},directives:[j.a,x.a,A.a],styles:[".dashboard[_ngcontent-%COMP%]{height:725px;width:1000px}"]}),b),data:{srlc:{hideIndicator:!0}}}],L=((v=function(){function e(r){var t;s(this,e),this.widgetTypesService=r,null===(t=this.widgetTypesService.getWidgetType("proportional",1).widget.structure[f.g].providers)||void 0===t||delete t.refresher,this.setDataSourceProviders("table",[C.a.providerId,C.b.providerId]),this.setDataSourceProviders("kpi",[w.a.providerId,w.b.providerId]),this.setDataSourceProviders("proportional",[y.a.providerId,y.b.providerId,y.c.providerId]),this.setDataSourceProviders("timeseries",[I.a.providerId,I.b.providerId])}return i(e,[{key:"setDataSourceProviders",value:function(e,r){var t=this.widgetTypesService.getWidgetType(e,1);this.widgetTypesService.setNode(t,"configurator",f.jb.DataSourceProviders,r)}}]),e}()).\u0275mod=P.Nb({type:v}),v.\u0275inj=P.Mb({factory:function(e){return new(e||v)(P.fc(f.nb))},providers:[f.V],imports:[[m.a,f.N,h.z,h.A,h.F,h.Z,h.J,g.d.forChild(M)]]}),v)}}])}();