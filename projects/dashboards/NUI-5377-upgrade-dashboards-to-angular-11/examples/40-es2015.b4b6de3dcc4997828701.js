(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"xi9+":function(e,r,i){"use strict";i.r(r),i.d(r,"TimeseriesWidgetPrototypeModule",function(){return x});var t=i("ofXK"),s=i("tyNb"),a=i("Rr1A"),o=i("gKry"),d=i("AgrY"),p=i("RBoe"),l=i("HNto"),n=i("A//S"),c=i("UJ+P"),g=i("U9RZ"),b=i("k2eP"),v=i("rWRh"),m=i("QVEU"),u=i.n(m),f=i("XNiG"),h=i("fXoL");let I=(()=>{class e{constructor(e){this.toastService=e,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=(e,r)=>{const i=new f.a;return setTimeout(()=>{if(this.allowSubmit)e.id||(e.id=Object(a.ic)("acme")),i.next(e);else{const e=$localize`Submit failed.`;this.toastService.error({title:e}),i.error(e)}},1e3),i.asObservable()},this.tryRemove=e=>{const r=new f.a;return setTimeout(()=>{if(this.allowRemoval)r.next(e);else{const e=$localize`Widget removal failed.`;this.toastService.error({title:e}),r.error(e)}},200),r.asObservable()},this.toastService.setConfig({timeOut:2e3})}}return e.\u0275fac=function(r){return new(r||e)(h.fc(a.Yb))},e.\u0275prov=h.Lb({token:e,factory:e.\u0275fac}),e})();var S=i("wd/R"),w=i.n(S);const y={widget1:{cols:6,rows:6,y:0,x:0},"widget1-interval":{cols:6,rows:6,y:0,x:6},widget2:{cols:6,rows:6,y:6,x:0},"widget2-interval":{cols:6,rows:6,y:6,x:6},widget3:{cols:6,rows:6,y:12,x:0},"widget3-interval":{cols:6,rows:6,y:12,x:6},widget4:{cols:6,rows:6,y:18,x:0},"widget4-interval":{cols:6,rows:6,y:18,x:6},widget5:{cols:6,rows:6,y:24,x:0},"widget5-interval":{cols:6,rows:6,y:24,x:6}},C=[{id:"widget1",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:v.a.providerId}}},header:{properties:{title:"Line chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:o.bb.Line}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:w()().format()}}}}},{id:"widget1-interval",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:v.a.providerId}}},header:{properties:{title:"Line chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:o.bb.Line,scales:{x:{type:o.cb.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:w()().format()}}}}},{id:"widget2",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:v.a.providerId}}},header:{properties:{title:"Area chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:o.bb.StackedArea}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:w()().format()}}}}},{id:"widget2-interval",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:v.a.providerId}}},header:{properties:{title:"Area chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:o.bb.StackedArea,scales:{x:{type:o.cb.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:w()().format()}}}}},{id:"widget3",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:v.a.providerId}}},header:{properties:{title:"Stacked percentage area",subtitle:"Basic timeseries widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:o.bb.StackedPercentageArea}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:w()().format()}}}}},{id:"widget3-interval",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:v.a.providerId}}},header:{properties:{title:"Stacked percentage area",subtitle:"Basic timeseries widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:o.bb.StackedPercentageArea,scales:{x:{type:o.cb.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:w()().format()}}}}},{id:"widget4",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:v.a.providerId}}},header:{properties:{title:"Bar chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:o.bb.StackedBar,scales:{}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:w()().format()}}}}},{id:"widget4-interval",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:v.a.providerId}}},header:{properties:{title:"Bar chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:o.bb.StackedBar,scales:{x:{type:o.cb.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:w()().format()}}}}},{id:"widget5",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:v.c.providerId}}},header:{properties:{title:"Status chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:o.bb.StatusBar}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:w()().format()}}}}},{id:"widget5-interval",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:v.d.providerId}}},header:{properties:{title:"Status chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:o.bb.StatusBar,scales:{x:{type:o.cb.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:w()().format()}}}}}];var P=i("sleA"),A=i("MJAs");const D=[{path:"",component:(()=>{class e{constructor(e,r,i){this.submitHandler=e,this.providerRegistry=r,this.widgetTypesService=i,this.gridsterConfig={},this.editMode=!1,this.providerRegistry.setProviders({[p.a.providerId]:{provide:o.b,useClass:p.a,deps:[]},[p.b.providerId]:{provide:o.b,useClass:p.b,deps:[]},[l.a.providerId]:{provide:o.b,useClass:l.a,deps:[]},[l.b.providerId]:{provide:o.b,useClass:l.b,deps:[]},[n.a.providerId]:{provide:o.b,useClass:n.a,deps:[a.v]},[c.a.providerId]:{provide:o.b,useClass:c.a,deps:[a.v]},[g.a.providerId]:{provide:o.b,useClass:g.a,deps:[a.v]},[b.a.providerId]:{provide:o.b,useClass:b.a,deps:[a.wb]},[v.a.providerId]:{provide:o.b,useClass:v.a,deps:[]},[v.b.providerId]:{provide:o.b,useClass:v.b,deps:[]},[v.c.providerId]:{provide:o.b,useClass:v.c,deps:[]},[v.d.providerId]:{provide:o.b,useClass:v.d,deps:[]}})}ngOnInit(){const e=C.map(e=>this.widgetTypesService.mergeWithWidgetType(e)),r=u()(e,e=>e.id);this.dashboard={positions:y,widgets:r}}}return e.\u0275fac=function(r){return new(r||e)(h.Pb(I),h.Pb(o.V),h.Pb(o.nb))},e.\u0275cmp=h.Jb({type:e,selectors:[["acme-dashboard"]],viewQuery:function(e,r){if(1&e&&h.Sc(o.k,3),2&e){let e;h.Cc(e=h.kc())&&(r.dashboardComponent=e.first)}},features:[h.Cb([I])],decls:5,vars:5,consts:function(){let e;return e=$localize`:␟c0390f914462a77b0ab8e053abf7c77af5b1da81␟6640158718767573444: Edit mode `,[[1,"w-100",2,"height","800px"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3",3,"value","valueChange"],e]},template:function(e,r){1&e&&(h.Vb(0,"div",0),h.Vb(1,"nui-dashboard",1),h.jc("dashboardChange",function(e){return r.dashboard=e})("gridsterConfigChange",function(e){return r.gridsterConfig=e}),h.Ub(),h.Ub(),h.Vb(2,"div",2),h.Vb(3,"nui-switch",3),h.jc("valueChange",function(e){return r.editMode=e}),h.Zb(4,4),h.Ub(),h.Ub()),2&e&&(h.Db(1),h.uc("nuiWidgetEditor",r.submitHandler)("dashboard",r.dashboard)("gridsterConfig",r.gridsterConfig)("editMode",r.editMode),h.Db(2),h.uc("value",r.editMode))},directives:[P.a,A.a,a.Fb],encapsulation:2}),e})(),data:{srlc:{hideIndicator:!0}}}];let x=(()=>{class e{constructor(e,r){this.widgetTypesService=e,this.componentRegistry=r,this.setupDataSourceProviders(),this.setupCustomProportionalWidgetDSConfig()}setupCustomProportionalWidgetDSConfig(){var e;const r=this.widgetTypesService.getWidgetType("proportional",1);null===(e=r.widget.structure[o.g].providers)||void 0===e||delete e.refresher,this.widgetTypesService.setNode(r,"configurator",o.jb.DataSourceConfigComponentType,d.a.lateLoadKey),this.componentRegistry.registerByLateLoadKey(d.a)}setupDataSourceProviders(){this.setDataSourceProviders("table",[n.a.providerId,c.a.providerId,g.a.providerId,b.a.providerId]),this.setDataSourceProviders("kpi",[p.a.providerId,p.b.providerId]),this.setDataSourceProviders("proportional",[l.a.providerId,l.b.providerId]),this.setDataSourceProviders("timeseries",[v.a.providerId,v.b.providerId,v.c.providerId,v.d.providerId])}setDataSourceProviders(e,r){const i=this.widgetTypesService.getWidgetType(e,1);this.widgetTypesService.setNode(i,"configurator",o.jb.DataSourceProviders,r)}}return e.\u0275mod=h.Nb({type:e}),e.\u0275inj=h.Mb({factory:function(r){return new(r||e)(h.fc(o.nb),h.fc(o.a))},providers:[o.V],imports:[[t.c,o.N,a.z,a.A,a.I,a.K,a.T,a.W,a.Z,a.J,s.d.forChild(D)]]}),e})()}}]);