(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{HXMQ:function(e,t,a){"use strict";a.r(t),a.d(t,"TimeseriesDocsModule",function(){return M});var i=a("tyNb"),n=a("Rr1A"),o=a("gKry"),r=a("fXoL"),s=a("mrSG"),d=a("QVEU"),c=a.n(d),l=a("wd/R"),u=a.n(l),p=a("2Vo4"),m=a("ofXK"),b=a("sleA"),y=a("MJAs");function g(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",6),r.jc("click",function(){return r.Gc(e),r.nc().initializeDashboard()}),r.Oc(1,"Restore Widget"),r.Ub()}}let f=(()=>{class e extends n.g{constructor(){super(...arguments),this.busy=new p.a(!1)}getFilteredData(e){var t;return Object(s.a)(this,void 0,void 0,function*(){let a=C();this.busy.next(!0);const i=null===(t=e.timeframe)||void 0===t?void 0:t.value;return i&&(a=a.map(e=>({id:e.id,name:e.name,description:e.description,data:e.data.filter(e=>function(e,t,a){const i=u()(e);return i.isBetween(t,a)||i.isSame(t)||i.isSame(a)}(e.x,i.startDatetime,i.endDatetime))}))),this.busy.next(!1),{result:{series:a}}})}}return e.providerId="BeerVsReadingMockDataSource",e.\u0275fac=function(t){return h(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})();const h=r.Xb(f);let D=(()=>{class e{constructor(e,t){this.widgetTypesService=e,this.providerRegistry=t,this.gridsterConfig={},this.editMode=!1}ngOnInit(){const e=this.widgetTypesService.getWidgetType("timeseries",1);this.widgetTypesService.setNode(e,"configurator",o.jb.DataSourceProviders,[f.providerId]),this.providerRegistry.setProviders({[f.providerId]:{provide:o.b,useClass:f,deps:[]}}),this.initializeDashboard()}initializeDashboard(){const e=v.map(e=>this.widgetTypesService.mergeWithWidgetType(e)),t=c()(e,e=>e.id);this.dashboard={positions:T,widgets:t}}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.nb),r.Pb(o.V))},e.\u0275cmp=r.Jb({type:e,selectors:[["timeseries-widget-example"]],decls:6,vars:5,consts:function(){let e;return e=$localize`:␟18d630a3c524dbab6dc528571782a939a7bc95b1␟861097914887003123: Edit Mode `,[[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"value","valueChange"],e,["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboard","editMode","gridsterConfig","dashboardChange","gridsterConfigChange"],["type","button","displayStyle","action","nui-button","",3,"click"]]},template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"nui-switch",1),r.jc("valueChange",function(e){return t.editMode=e}),r.Zb(2,2),r.Ub(),r.Mc(3,g,2,0,"button",3),r.Ub(),r.Vb(4,"div",4),r.Vb(5,"nui-dashboard",5),r.jc("dashboardChange",function(e){return t.dashboard=e})("gridsterConfigChange",function(e){return t.gridsterConfig=e}),r.Ub(),r.Ub()),2&e&&(r.Db(1),r.uc("value",t.editMode),r.Db(2),r.uc("ngIf",!(null!=t.dashboard&&t.dashboard.widgets.timeseriesWidgetId)),r.Db(2),r.uc("dashboard",t.dashboard)("editMode",t.editMode)("gridsterConfig",t.gridsterConfig))},directives:[n.Fb,m.o,b.a,y.a,n.b],styles:[".dashboard[_ngcontent-%COMP%]{height:725px}"]}),e})();const v=[{id:"lineWidgetId",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:f.providerId}}},header:{properties:{title:"Line Chart",subtitle:"Survey of 1000 Solarians"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Beer Tasting",selectedSeriesId:"series-1"},{id:"series-2",label:"Reading",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Solarians (%)"}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:u()().subtract(60,"days").format(),maxDate:u()().format()}}}}},{id:"stackedAreaWidgetId",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:f.providerId}}},header:{properties:{title:"Stacked Area Chart",subtitle:"Survey of 1000 Solarians"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Beer Tasting",selectedSeriesId:"series-1"},{id:"series-2",label:"Reading",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,preset:o.bb.StackedArea,leftAxisLabel:"Solarians (%)"}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:u()().subtract(60,"days").format(),maxDate:u()().format()}}}}},{id:"stackedPercentageAreaWidgetId",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:f.providerId}}},header:{properties:{title:"Stacked Percentage Area Chart",subtitle:"Survey of 1000 Solarians"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Beer Tasting",selectedSeriesId:"series-1"},{id:"series-2",label:"Reading",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,preset:o.bb.StackedPercentageArea,leftAxisLabel:"Solarians (%)"}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:u()().subtract(60,"days").format(),maxDate:u()().format()}}}}},{id:"stackedBarWidgetId",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:f.providerId}}},header:{properties:{title:"Stacked Bar Chart",subtitle:"Survey of 1000 Solarians"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Beer Tasting",selectedSeriesId:"series-1"},{id:"series-2",label:"Reading",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,leftAxisLabel:"Solarians (%)",preset:o.bb.StackedBar,scales:{x:{type:o.cb.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:u()().subtract(60,"days").format(),maxDate:u()().format()}}}}}],x=u()().startOf("day"),C=()=>[{id:"series-1",name:"Beer Tasting",description:"Havin' some suds",data:[{x:x.clone().subtract(20,"day").toDate(),y:30},{x:x.clone().subtract(19,"day").toDate(),y:35},{x:x.clone().subtract(18,"day").toDate(),y:33},{x:x.clone().subtract(17,"day").toDate(),y:40},{x:x.clone().subtract(16,"day").toDate(),y:35},{x:x.clone().subtract(15,"day").toDate(),y:30},{x:x.clone().subtract(14,"day").toDate(),y:35},{x:x.clone().subtract(13,"day").toDate(),y:15},{x:x.clone().subtract(12,"day").toDate(),y:30},{x:x.clone().subtract(11,"day").toDate(),y:45},{x:x.clone().subtract(10,"day").toDate(),y:60},{x:x.clone().subtract(9,"day").toDate(),y:54},{x:x.clone().subtract(8,"day").toDate(),y:42},{x:x.clone().subtract(7,"day").toDate(),y:44},{x:x.clone().subtract(6,"day").toDate(),y:54},{x:x.clone().subtract(5,"day").toDate(),y:43},{x:x.clone().subtract(4,"day").toDate(),y:76},{x:x.clone().subtract(3,"day").toDate(),y:54},{x:x.clone().subtract(2,"day").toDate(),y:42},{x:x.clone().subtract(1,"day").toDate(),y:34}]},{id:"series-2",name:"Reading",description:"Hittin' the books",data:[{x:x.clone().subtract(20,"day").toDate(),y:60},{x:x.clone().subtract(19,"day").toDate(),y:64},{x:x.clone().subtract(18,"day").toDate(),y:70},{x:x.clone().subtract(17,"day").toDate(),y:55},{x:x.clone().subtract(16,"day").toDate(),y:55},{x:x.clone().subtract(15,"day").toDate(),y:45},{x:x.clone().subtract(14,"day").toDate(),y:60},{x:x.clone().subtract(13,"day").toDate(),y:65},{x:x.clone().subtract(12,"day").toDate(),y:63},{x:x.clone().subtract(11,"day").toDate(),y:60},{x:x.clone().subtract(10,"day").toDate(),y:61},{x:x.clone().subtract(9,"day").toDate(),y:65},{x:x.clone().subtract(8,"day").toDate(),y:63},{x:x.clone().subtract(7,"day").toDate(),y:58},{x:x.clone().subtract(6,"day").toDate(),y:64},{x:x.clone().subtract(5,"day").toDate(),y:63},{x:x.clone().subtract(4,"day").toDate(),y:60},{x:x.clone().subtract(3,"day").toDate(),y:62},{x:x.clone().subtract(2,"day").toDate(),y:61},{x:x.clone().subtract(1,"day").toDate(),y:62}]}],T={[v[0].id]:{cols:6,rows:6,y:0,x:0},[v[1].id]:{cols:6,rows:6,y:0,x:6},[v[3].id]:{cols:6,rows:6,y:6,x:0},[v[2].id]:{cols:6,rows:6,y:6,x:6}};var w=a("g8du");function S(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",6),r.jc("click",function(){return r.Gc(e),r.nc().initializeDashboard()}),r.Oc(1,"Restore Widget"),r.Ub()}}let I=(()=>{class e extends n.g{constructor(){super(...arguments),this.busy=new p.a(!1)}getFilteredData(e){var t;return Object(s.a)(this,void 0,void 0,function*(){const a=_();let i=a;this.busy.next(!0);const n=null===(t=e.timeframe)||void 0===t?void 0:t.value;return n&&(i=i.map(e=>({id:e.id,name:e.name,description:e.description,data:e.data.filter(e=>E(e.x,n.startDatetime,n.endDatetime))})),i=Object(o.ob)(n,i,a)),this.busy.next(!1),{result:{series:i}}})}}return e.providerId="TimeseriesStatusContinuousDataSource",e.\u0275fac=function(t){return O(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})();const O=r.Xb(I);let U=(()=>{class e extends n.g{constructor(){super(...arguments),this.busy=new p.a(!1)}getFilteredData(e){var t;return Object(s.a)(this,void 0,void 0,function*(){let a=k();this.busy.next(!0);const i=null===(t=e.timeframe)||void 0===t?void 0:t.value;return i&&(a=a.map(e=>({id:e.id,name:e.name,description:e.description,data:e.data.filter(e=>E(e.x,i.startDatetime,i.endDatetime))}))),this.busy.next(!1),{result:{series:a}}})}}return e.providerId="TimeseriesStatusIntervalDataSource",e.\u0275fac=function(t){return V(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})();const V=r.Xb(U);function E(e,t,a){const i=u()(e);return i.isBetween(t,a)||i.isSame(t)||i.isSame(a)}let A=(()=>{class e{constructor(e,t){this.widgetTypesService=e,this.providerRegistry=t,this.gridsterConfig={},this.editMode=!1}ngOnInit(){const e=this.widgetTypesService.getWidgetType("timeseries",1);this.widgetTypesService.setNode(e,"configurator",o.jb.DataSourceProviders,[I.providerId,U.providerId]),this.providerRegistry.setProviders({[I.providerId]:{provide:o.b,useClass:I,deps:[]},[U.providerId]:{provide:o.b,useClass:U,deps:[]}}),this.initializeDashboard()}initializeDashboard(){const e=R.map(e=>this.widgetTypesService.mergeWithWidgetType(e)),t=c()(e,e=>e.id);this.dashboard={positions:z,widgets:t}}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.nb),r.Pb(o.V))},e.\u0275cmp=r.Jb({type:e,selectors:[["timeseries-widget-status-bar-example"]],decls:6,vars:5,consts:function(){let e;return e=$localize`:␟18d630a3c524dbab6dc528571782a939a7bc95b1␟861097914887003123: Edit Mode `,[[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"value","valueChange"],e,["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboard","editMode","gridsterConfig","dashboardChange","gridsterConfigChange"],["type","button","displayStyle","action","nui-button","",3,"click"]]},template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"nui-switch",1),r.jc("valueChange",function(e){return t.editMode=e}),r.Zb(2,2),r.Ub(),r.Mc(3,S,2,0,"button",3),r.Ub(),r.Vb(4,"div",4),r.Vb(5,"nui-dashboard",5),r.jc("dashboardChange",function(e){return t.dashboard=e})("gridsterConfigChange",function(e){return t.gridsterConfig=e}),r.Ub(),r.Ub()),2&e&&(r.Db(1),r.uc("value",t.editMode),r.Db(2),r.uc("ngIf",!(null!=t.dashboard&&t.dashboard.widgets.timeseriesWidgetId)),r.Db(2),r.uc("dashboard",t.dashboard)("editMode",t.editMode)("gridsterConfig",t.gridsterConfig))},directives:[n.Fb,m.o,b.a,y.a,n.b],styles:[".dashboard[_ngcontent-%COMP%]{height:485px}"]}),e})();const R=[{id:"statusChartWidgetId",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:I.providerId}}},header:{properties:{title:"Status Bar Chart with Continuous (Non-Interval) Scale",subtitle:"Basic Timeseries Widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Node Status",selectedSeriesId:"series-1"},{id:"series-2",label:"Node Status",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,preset:o.bb.StatusBar}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:u()().format()}}}}},{id:"statusIntervalChartWidgetId",type:"timeseries",pizzagna:{[o.Q.Configuration]:{[o.g]:{providers:{[o.kb.DataSource]:{providerId:U.providerId}}},header:{properties:{title:"Status Bar Chart with Interval Scale",subtitle:"Basic Timeseries Widget"}},chart:{providers:{[o.kb.Adapter]:{properties:{series:[{id:"series-1",label:"Node Status",selectedSeriesId:"series-1"},{id:"series-2",label:"Node Status",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.B.Right,enableZoom:!0,preset:o.bb.StatusBar,scales:{x:{type:o.cb.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:u()().format()}}}}}],P=()=>u()().startOf("day"),_=()=>{const e=[{id:"series-1",name:"Node Status",description:"lastchance.demo.lab",data:[{x:P().subtract(20,"day").toDate(),y:W.Warning},{x:P().subtract(19,"day").toDate(),y:W.Down},{x:P().subtract(17,"day").toDate(),y:W.Critical},{x:P().subtract(16,"day").toDate(),y:W.Warning},{x:P().subtract(15,"day").toDate(),y:W.Down},{x:P().subtract(14,"day").toDate(),y:W.Critical},{x:P().subtract(12,"day").toDate(),y:W.Unknown},{x:P().subtract(10,"day").toDate(),y:W.Up},{x:P().subtract(9,"day").toDate(),y:W.Critical},{x:P().subtract(6,"day").toDate(),y:W.Up},{x:P().subtract(3,"day").toDate(),y:W.Warning},{x:P().subtract(2,"day").toDate(),y:W.Critical},{x:P().subtract(1,"day").toDate(),y:W.Up},{x:u()().toDate(),y:W.Up}]},{id:"series-2",name:"Node Status",description:"newhope.demo.lab",data:[{x:P().subtract(19,"day").toDate(),y:W.Critical},{x:P().subtract(18,"day").toDate(),y:W.Unknown},{x:P().subtract(17,"day").toDate(),y:W.Warning},{x:P().subtract(15,"day").toDate(),y:W.Down},{x:P().subtract(8,"day").toDate(),y:W.Critical},{x:P().subtract(7,"day").toDate(),y:W.Down},{x:P().subtract(6,"day").toDate(),y:W.Up},{x:P().subtract(5,"day").toDate(),y:W.Critical},{x:P().subtract(4,"day").toDate(),y:W.Up},{x:P().subtract(3,"day").toDate(),y:W.Warning},{x:P().subtract(2,"day").toDate(),y:W.Up},{x:P().subtract(1,"day").toDate(),y:W.Down},{x:u()().toDate(),y:W.Down}]}];for(const t of e)t.data=t.data.map((e,t)=>Object.assign(Object.assign({},e),{color:N[e.y],thick:e.y!==W.Up,icon:"status_"+e.y}));return e},k=()=>{const e=[{id:"series-1",name:"Node Status",description:"lastchance.demo.lab",data:[{x:P().subtract(20,"day").toDate(),y:W.Up},{x:P().subtract(19,"day").toDate(),y:W.Critical},{x:P().subtract(18,"day").toDate(),y:W.Warning},{x:P().subtract(17,"day").toDate(),y:W.Down},{x:P().subtract(16,"day").toDate(),y:W.Critical},{x:P().subtract(15,"day").toDate(),y:W.Down},{x:P().subtract(14,"day").toDate(),y:W.Up},{x:P().subtract(13,"day").toDate(),y:W.Warning},{x:P().subtract(12,"day").toDate(),y:W.Up},{x:P().subtract(11,"day").toDate(),y:W.Critical},{x:P().subtract(10,"day").toDate(),y:W.Up},{x:P().subtract(9,"day").toDate(),y:W.Down},{x:P().subtract(8,"day").toDate(),y:W.Critical},{x:P().subtract(7,"day").toDate(),y:W.Warning},{x:P().subtract(6,"day").toDate(),y:W.Down},{x:P().subtract(5,"day").toDate(),y:W.Critical},{x:P().subtract(4,"day").toDate(),y:W.Down},{x:P().subtract(3,"day").toDate(),y:W.Up},{x:P().subtract(2,"day").toDate(),y:W.Warning},{x:P().subtract(1,"day").toDate(),y:W.Critical},{x:P().toDate(),y:W.Up}]},{id:"series-2",name:"Node Status",description:"newhope.demo.lab",data:[{x:P().subtract(20,"day").toDate(),y:W.Up},{x:P().subtract(19,"day").toDate(),y:W.Up},{x:P().subtract(18,"day").toDate(),y:W.Down},{x:P().subtract(17,"day").toDate(),y:W.Critical},{x:P().subtract(16,"day").toDate(),y:W.Down},{x:P().subtract(15,"day").toDate(),y:W.Up},{x:P().subtract(14,"day").toDate(),y:W.Critical},{x:P().subtract(13,"day").toDate(),y:W.Up},{x:P().subtract(12,"day").toDate(),y:W.Critical},{x:P().subtract(11,"day").toDate(),y:W.Warning},{x:P().subtract(10,"day").toDate(),y:W.Up},{x:P().subtract(9,"day").toDate(),y:W.Down},{x:P().subtract(8,"day").toDate(),y:W.Up},{x:P().subtract(7,"day").toDate(),y:W.Down},{x:P().subtract(6,"day").toDate(),y:W.Critical},{x:P().subtract(5,"day").toDate(),y:W.Down},{x:P().subtract(4,"day").toDate(),y:W.Up},{x:P().subtract(3,"day").toDate(),y:W.Critical},{x:P().subtract(2,"day").toDate(),y:W.Up},{x:P().subtract(1,"day").toDate(),y:W.Warning},{x:P().toDate(),y:W.Critical}]}];for(const t of e)t.data=t.data.map((e,t)=>Object.assign(Object.assign({},e),{color:N[e.y],thick:e.y!==W.Up,icon:"status_"+e.y}));return e};var W=function(e){return e.Unknown="unknown",e.Up="up",e.Warning="warning",e.Down="down",e.Critical="critical",e}({});const N={[W.Unknown]:w.h[6],[W.Up]:w.h[8],[W.Warning]:w.h[4],[W.Down]:w.h[0],[W.Critical]:w.h[2]},z={[R[0].id]:{cols:12,rows:4,y:0,x:0},[R[1].id]:{cols:12,rows:4,y:4,x:0}},L=[{path:"",component:(()=>{class e{constructor(){this.timeseriesWidgetFileText=a("gWb7").default,this.timeseriesConfiguratorFileText=a("WDOI").default}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["nui-timeseries-docs"]],decls:147,vars:3,consts:[["type","info",3,"allowDismiss"],["href","../miscellaneous/enumerations.html#TimeseriesChartPreset","target","_blank"],["href","../interfaces/ITimeseriesWidgetSeriesData.html","target","_blank"],["filenamePrefix","timeseries-widget-example.component","exampleTitle","Numeric Value Visualizations"],["href","../interfaces/ITimeseriesWidgetStatusData.html","target","_blank"],["href","../miscellaneous/enumerations.html#TimeseriesScaleType","target","_blank"],["href","../miscellaneous/functions.html#applyStatusEndpoints","target","_blank"],["filenamePrefix","timeseries-widget-status-bar-example.component","exampleTitle","State Values Visualization"],["language","typescript"],["href","../interfaces/ITimeseriesWidgetConfig.html","target","_blank"],["href","../miscellaneous/enumerations.html#TimeseriesScaleType"]],template:function(e,t){1&e&&(r.Vb(0,"h1"),r.Oc(1,"Timeseries Widget"),r.Ub(),r.Vb(2,"p"),r.Oc(3," A timeseries widget is, as its name suggests, used for visualizing changes in one or more numeric values over a specified period of time. It essentially brings a second dimension to the KPI widget use-case of displaying values of one or more metrics at a specific moment in time, i.e. the present. The following example exhibits an admittedly contrived scenario of comparing the reported primary leisure activity of Solarians over a seven-day period. The data is made up and makes absolutely no sense, but it's all in good fun.\n"),r.Ub(),r.Vb(4,"nui-message",0),r.Oc(5," For details on how to instantiate a timeseries widget, take a look at the inline comments under the source expander of the following example.\n"),r.Ub(),r.Vb(6,"h2"),r.Oc(7,"Supported Visualizations"),r.Ub(),r.Vb(8,"ul"),r.Vb(9,"li"),r.Oc(10,"Line"),r.Ub(),r.Vb(11,"li"),r.Oc(12,"Stacked Area"),r.Ub(),r.Vb(13,"li"),r.Oc(14,"Stacked Percentage Area"),r.Ub(),r.Vb(15,"li"),r.Oc(16,"Stacked Bar"),r.Ub(),r.Vb(17,"li"),r.Oc(18,"Status Bar"),r.Ub(),r.Ub(),r.Vb(19,"p"),r.Oc(20," The default visualization for the timeseries widget is Line. To change the visualization presented by the widget, set the widget's "),r.Vb(21,"code"),r.Oc(22,"pizzagna.configuration.chart.properties.configuration.preset"),r.Ub(),r.Oc(23," property to a value of type "),r.Vb(24,"code"),r.Vb(25,"a",1),r.Oc(26,"TimeseriesChartPreset"),r.Ub(),r.Ub(),r.Oc(27,". For a look at how to configure it in the context of a functioning widget, see the widget configurations in the source expanders of the examples on this page.\n"),r.Ub(),r.Vb(28,"h3"),r.Oc(29,"Visualizations for Continuous Numeric Values"),r.Ub(),r.Vb(30,"p"),r.Oc(31," Continuous numeric values can be visualized as lines, areas, or bars along a time progression. Data sources for these visualizations should provide series data that conform to the "),r.Vb(32,"code"),r.Vb(33,"a",2),r.Oc(34,"ITimeseriesWidgetSeriesData"),r.Ub(),r.Ub(),r.Oc(35," interface in their output. Open the source expander of the following example to see how this looks.\n"),r.Ub(),r.Vb(36,"nui-example-wrapper",3),r.Qb(37,"timeseries-widget-example"),r.Ub(),r.Vb(38,"h3"),r.Oc(39,"Visualizing Discrete State Values"),r.Ub(),r.Vb(40,"p"),r.Oc(41," Discrete state values can be visualized as horizontal bars of variable length and color along a time progression. Data sources for the Status Bar visualization must provide their series data in a slightly different format from that of the other timeseries visualization types shown above. In this case, the series data should conform to the "),r.Vb(42,"code"),r.Vb(43,"a",4),r.Oc(44,"ITimeseriesWidgetStatusData"),r.Ub(),r.Ub(),r.Oc(45," interface which extends "),r.Vb(46,"code"),r.Vb(47,"a",2),r.Oc(48,"ITimeseriesWidgetSeriesData"),r.Ub(),r.Ub(),r.Oc(49," with three additional properties:\n"),r.Ub(),r.Vb(50,"ul"),r.Vb(51,"li"),r.Vb(52,"code"),r.Oc(53,"color"),r.Ub(),r.Oc(54,": string or css variable for the color to use for the fill color of the associated bar"),r.Ub(),r.Vb(55,"li"),r.Vb(56,"code"),r.Oc(57,"icon"),r.Ub(),r.Oc(58,": string value for the name of the icon to display on the bar as well as the legend"),r.Ub(),r.Vb(59,"li"),r.Vb(60,"code"),r.Oc(61,"thick"),r.Ub(),r.Oc(62,': boolean for whether or not to display a "thick" bar ("false" is typically used for an "ok" status)'),r.Ub(),r.Ub(),r.Vb(63,"h4"),r.Oc(64,"Usage Notes"),r.Ub(),r.Vb(65,"ul"),r.Vb(66,"li"),r.Vb(67,"strong"),r.Oc(68,"Continuous (Non-Interval) Scale ("),r.Vb(69,"code"),r.Vb(70,"a",5),r.Oc(71,"TimeseriesScaleType.Time"),r.Ub(),r.Ub(),r.Oc(72,")"),r.Ub(),r.Vb(73,"ul"),r.Vb(74,"li"),r.Oc(75," To display the last data point correctly, your data must include a final data point that indicates the endpoint for the most recent status value in the data set. "),r.Ub(),r.Vb(76,"li"),r.Oc(77," To accommodate proper zooming of the chart, use the "),r.Vb(78,"code"),r.Vb(79,"a",6),r.Oc(80,"applyStatusEndpoints"),r.Ub(),r.Ub(),r.Oc(81," function to prepend and append the filtered status data with endpoints that match the start and end datetimes of the zoomed time period. This will ensure that each status visualization has valid start and end values after the chart is zoomed. "),r.Ub(),r.Ub(),r.Ub(),r.Vb(82,"li"),r.Vb(83,"strong"),r.Oc(84,"Interval Scale ("),r.Vb(85,"code"),r.Vb(86,"a",5),r.Oc(87,"TimeseriesScaleType.TimeInterval"),r.Ub(),r.Ub(),r.Oc(88,")"),r.Ub(),r.Vb(89,"ul"),r.Vb(90,"li"),r.Oc(91," Unlike a continuous scale "),r.Vb(92,"strong"),r.Oc(93,"no"),r.Ub(),r.Oc(94," additional data point is needed at the end of the data set since the status values are visualized at regular intervals. "),r.Ub(),r.Vb(95,"li"),r.Oc(96," Unlike a continuous scale, endpoints do not need to be applied to the data since the values are simply visualized at regular intervals. In other words, the "),r.Vb(97,"code"),r.Oc(98,"applyStatusEndpoints"),r.Ub(),r.Oc(99," function mentioned for continuous scales above does not need to be used. "),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(100,"p"),r.Oc(101,"For better clarity on these usage notes, see the inline comments in the source expander of the example below."),r.Ub(),r.Vb(102,"nui-example-wrapper",7),r.Qb(103,"timeseries-widget-status-bar-example"),r.Ub(),r.Vb(104,"h2"),r.Oc(105,"Widget Schema"),r.Ub(),r.Vb(106,"p"),r.Oc(107," The code listings below are the source files for the Timeseries widget definition with inline comments describing the parts that compose the standard Timeseries widget type. It includes the widget's definition as well as its corresponding configurator form for defining how to configure (create/edit) the widget.\n"),r.Ub(),r.Vb(108,"h2"),r.Oc(109,"Widget"),r.Ub(),r.Vb(110,"p"),r.Oc(111," This part shows the actual widget definition. It includes, among other things, the components and providers that compose the widget itself.\n"),r.Ub(),r.Vb(112,"nui-example-code",8),r.Oc(113),r.Ub(),r.Vb(114,"h2"),r.Oc(115,"Configurator"),r.Ub(),r.Vb(116,"p"),r.Oc(117,"This part shows the form that's used for configuring (creating/editing) the widget."),r.Ub(),r.Vb(118,"nui-example-code",8),r.Oc(119),r.Ub(),r.Vb(120,"h2"),r.Oc(121,"Additional Features"),r.Ub(),r.Vb(122,"ul"),r.Vb(123,"li"),r.Oc(124," Define custom colors for the chart by assigning a string array of css color variables, color keywords, or RGB hex values to the "),r.Vb(125,"code"),r.Oc(126,"chartColors"),r.Ub(),r.Oc(127," property on the widget's "),r.Vb(128,"code"),r.Oc(129,"configuration"),r.Ub(),r.Oc(130," input ("),r.Vb(131,"code"),r.Vb(132,"a",9),r.Oc(133,"ITimeseriesWidgetConfig"),r.Ub(),r.Ub(),r.Oc(134,"). For how to do this, take a look at the inline comment in the example's source expander above. "),r.Ub(),r.Vb(135,"li"),r.Oc(136," Apart from the aforementioned configuration options, you can also configure the chart scale types using the "),r.Vb(137,"code"),r.Oc(138,"scales"),r.Ub(),r.Oc(139," property of the "),r.Vb(140,"code"),r.Oc(141,"configuration"),r.Ub(),r.Oc(142," input. Supported scales are enumerated in the "),r.Vb(143,"code"),r.Vb(144,"a",10),r.Oc(145,"TimeseriesScaleType"),r.Ub(),r.Ub(),r.Oc(146," type. "),r.Ub(),r.Ub()),2&e&&(r.Db(4),r.uc("allowDismiss",!1),r.Db(109),r.Pc(t.timeseriesWidgetFileText),r.Db(6),r.Pc(t.timeseriesConfiguratorFileText))},directives:[n.y,n.l,D,A,n.k],encapsulation:2}),e})(),data:{srlc:{hideIndicator:!0},showThemeSwitcher:!0}},{path:"example",component:D,data:{srlc:{hideIndicator:!0}}}];let M=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},imports:[[i.d.forChild(L),n.A,n.F,n.M,n.Z,o.N]]}),e})()},WDOI:function(e,t,a){"use strict";a.r(t),t.default='// tslint:disable:max-line-length\nimport { LegendPlacement } from "../../components/types";\nimport { FormStackComponent } from "../../configurator/components/form-stack/form-stack.component";\nimport { WidgetConfiguratorSectionComponent } from "../../configurator/components/widget-configurator-section/widget-configurator-section.component";\nimport { DataSourceConfigurationComponent } from "../../configurator/components/widgets/configurator-items/data-source-configuration/data-source-configuration.component";\nimport { TimeseriesMetadataConfigurationComponent } from "../../configurator/components/widgets/configurator-items/timeseries-metadata-configuration/timeseries-metadata-configuration.component";\nimport { TitleAndDescriptionConfigurationComponent } from "../../configurator/components/widgets/configurator-items/title-and-description-configuration/title-and-description-configuration.component";\nimport { TimeseriesSeriesCollectionConfigurationComponent } from "../../configurator/components/widgets/timeseries/timeseries-series-collection-configuration/timeseries-series-collection-configuration.component";\nimport { TimeseriesTileDescriptionConfigurationComponent } from "../../configurator/components/widgets/timeseries/timeseries-tile-description-configuration/timeseries-tile-description-configuration.component";\nimport { TimeseriesTileIndicatorDataConfigurationComponent } from "../../configurator/components/widgets/timeseries/timeseries-tile-indicator-data-configuration/timeseries-tile-indicator-data-configuration.component";\nimport { IConverterFormPartsProperties } from "../../configurator/services/converters/types";\nimport {\n    DEFAULT_PIZZAGNA_ROOT,\n    NOVA_GENERIC_ARRAY_CONVERTER,\n    NOVA_GENERIC_CONVERTER,\n    NOVA_TIMESERIES_METADATA_CONVERTER,\n    NOVA_TIMESERIES_SERIES_CONVERTER,\n    NOVA_TIMESERIES_TILE_INDICATOR_DATA_CONVERTER,\n    NOVA_TITLE_AND_DESCRIPTION_CONVERTER\n} from "../../services/types";\nimport { IPizzagna, IProviderConfiguration, PizzagnaLayer, WellKnownProviders } from "../../types";\nimport { REFRESHER_CONFIGURATOR } from "../common/configurator/components";\n// tslint:enable:max-line-length\n\nexport const timeseriesConfigurator: IPizzagna = {\n    [PizzagnaLayer.Structure]: {\n        [DEFAULT_PIZZAGNA_ROOT]: {\n            id: DEFAULT_PIZZAGNA_ROOT,\n            // base layout of the configurator - all form components referenced herein will be stacked in a column\n            componentType: FormStackComponent.lateLoadKey,\n            properties: {\n                elementClass: "flex-grow-1 overflow-auto nui-scroll-shadows",\n                // references to other components laid out in this form\n                nodes: [\n                    "presentation",\n                    "dataAndCalculations",\n                    "series",\n                ],\n            },\n        },\n        // /presentation\n        presentation: {\n            id: "presentation",\n            componentType: WidgetConfiguratorSectionComponent.lateLoadKey,\n            properties: {\n                headerText: $localize`Presentation`,\n                nodes: [\n                    "titleAndDescription",\n                    "timeseriesMetadata",\n                ],\n            },\n        },\n        // /presentation/titleAndDescription\n        titleAndDescription: {\n            id: "titleAndDescription",\n            componentType: TitleAndDescriptionConfigurationComponent.lateLoadKey,\n            providers: {\n                [WellKnownProviders.Converter]: {\n                    providerId: NOVA_TITLE_AND_DESCRIPTION_CONVERTER,\n                } as IProviderConfiguration,\n            },\n        },\n        // /presentation/timeseriesMetadata\n        timeseriesMetadata: {\n            id: "timeseriesMetadata",\n            componentType: TimeseriesMetadataConfigurationComponent.lateLoadKey,\n            properties: {\n                legendPlacements: [\n                    {\n                        id: LegendPlacement.None,\n                        label: $localize`None`,\n                    },\n                    {\n                        id: LegendPlacement.Right,\n                        label: $localize`Right`,\n                    },\n                    {\n                        id: LegendPlacement.Bottom,\n                        label: $localize`Bottom`,\n                    },\n                ],\n            },\n            providers: {\n                // converter transforms the timeseries metadata configuration between the widget and the form\n                [WellKnownProviders.Converter]: {\n                    providerId: NOVA_TIMESERIES_METADATA_CONVERTER,\n                } as IProviderConfiguration,\n            },\n        },\n        refresher: REFRESHER_CONFIGURATOR,\n        // /dataAndCalculations\n        dataAndCalculations: {\n            id: "dataAndCalculations",\n            componentType: WidgetConfiguratorSectionComponent.lateLoadKey,\n            properties: {\n                headerText: $localize`Data and Calculations`,\n                nodes: ["dataSource"],\n            },\n        },\n        // /dataAndCalculations/dataSource\n        dataSource: {\n            id: "dataSource",\n            componentType: DataSourceConfigurationComponent.lateLoadKey,\n            properties: {\n                // for the DataSourceConfigurationComponent, this defines the list of data sources to pick from\n                dataSourceProviders: [] as string[],\n            },\n            providers: {\n                // converter transforms the data source metadata between the widget and the form\n                [WellKnownProviders.Converter]: {\n                    providerId: NOVA_GENERIC_CONVERTER,\n                    properties: {\n                        formParts: [\n                            {\n                                // this component updates \'providerId\' of \'dataSource\'\n                                previewPath: "/.providers.dataSource",\n                                // TODO: Remove \'properties\' key in v10\n                                keys: ["providerId", "properties"],\n                            },\n                            {\n                                // this component updates \'properties\' of \'dataSource\' via an adapter\n                                previewPath: "chart.providers.adapter.properties.dataSource",\n                                keys: ["properties"],\n                            },\n                        ] as IConverterFormPartsProperties[],\n                    },\n                } as IProviderConfiguration,\n            },\n        },\n        // /series\n        series: {\n            id: "series",\n            componentType: TimeseriesSeriesCollectionConfigurationComponent.lateLoadKey,\n            providers: {\n                // converter transforms the data between the widget and the form\n                [WellKnownProviders.Converter]: {\n                    providerId: NOVA_TIMESERIES_SERIES_CONVERTER,\n                } as IProviderConfiguration,\n            },\n            properties: {\n                // these components serve as a template for every configured timeseries\n                template: [\n                    {\n                        // series description (label) configuration section\n                        id: "description",\n                        componentType: TimeseriesTileDescriptionConfigurationComponent.lateLoadKey,\n                        providers: {\n                            // converter transforms the data between the widget and the form\n                            [WellKnownProviders.Converter]: {\n                                providerId: NOVA_GENERIC_ARRAY_CONVERTER,\n                                properties: {\n                                    formParts: [\n                                        {\n                                            // this component updates \'label\' of \'series\' via an adapter\n                                            previewPath: "chart.providers.adapter.properties.series",\n                                            keys: ["label"],\n                                        },\n                                    ] as IConverterFormPartsProperties[],\n                                },\n                            } as IProviderConfiguration,\n                        },\n                    },\n                    {\n                        // indicator data configuration section\n                        id: "indicatorData",\n                        componentType: TimeseriesTileIndicatorDataConfigurationComponent.lateLoadKey,\n                        providers: {\n                            // converter transforms the data such as the selected series between the widget and the form\n                            [WellKnownProviders.Converter]: {\n                                providerId: NOVA_TIMESERIES_TILE_INDICATOR_DATA_CONVERTER,\n                            } as IProviderConfiguration,\n                        },\n                    },\n                ],\n            },\n        },\n    },\n};\n'},gWb7:function(e,t,a){"use strict";a.r(t),t.default='import { StackComponent } from "../../components/layouts/stack/stack.component";\nimport { TimeframeSelectionComponent } from "../../components/time-frame-selection/timeframe-selection.component";\nimport { TimeseriesWidgetComponent } from "../../components/timeseries-widget/timeseries-widget.component";\nimport { ITimeseriesScaleConfig, ITimeseriesWidgetConfig, TimeseriesChartPreset, TimeseriesScaleType } from "../../components/timeseries-widget/types";\nimport { ITimeseriesItemConfiguration } from "../../configurator/components/widgets/timeseries/types";\nimport { DEFAULT_PIZZAGNA_ROOT, NOVA_TIMESERIES_DATASOURCE_ADAPTER } from "../../services/types";\nimport { IProviderConfiguration, PizzagnaLayer, WellKnownProviders } from "../../types";\nimport { widgetBodyContentNodes, WIDGET_BODY, WIDGET_HEADER, WIDGET_LOADING } from "../common/widget/components";\nimport { EVENT_PROXY, refresher } from "../common/widget/providers";\n\nexport const timeseriesWidget = {\n    [PizzagnaLayer.Structure]: {\n        [DEFAULT_PIZZAGNA_ROOT]: {\n            id: DEFAULT_PIZZAGNA_ROOT,\n            // base layout of the widget - all components referenced herein will be stacked in a column\n            componentType: StackComponent.lateLoadKey,\n            providers: {\n                // When enabled, this provider emits the REFRESH event on the pizzagna event bus every X seconds\n                [WellKnownProviders.Refresher]: refresher(),\n                // event proxy manages the transmission of events between widget and dashboard\n                [WellKnownProviders.EventProxy]: EVENT_PROXY,\n            },\n            properties: {\n                // these values reference other components in this structure\n                nodes: [\n                    "header",\n                    "loading",\n                    "body",\n                ],\n            },\n        },\n        // widget header\n        header: WIDGET_HEADER,\n        // this is the loading bar below the header\n        loading: WIDGET_LOADING,\n        // widget body\n        body: {\n            ...WIDGET_BODY,\n            properties: {\n                ...WIDGET_BODY.properties,\n                elementClass: "overflow-auto",\n            },\n        },\n\n\n        // retrieving the definitions for the body content nodes. the argument corresponds to the main content node key\n        ...widgetBodyContentNodes("mainContent"),\n\n        mainContent: {\n            id: "mainContent",\n            componentType: StackComponent.lateLoadKey,\n            properties: {\n                // these values reference other components in this configuration\n                nodes: [\n                    "timeframeSelection",\n                    "chart",\n                ],\n            },\n        },\n        // component that filters the widget\'s timeseries data by timeframe\n        timeframeSelection: {\n            id: "timeframeSelection",\n            componentType: TimeframeSelectionComponent.lateLoadKey,\n        },\n        // component that displays the widget\'s timeseries data as a line chart\n        chart: {\n            id: "chart",\n            componentType: TimeseriesWidgetComponent.lateLoadKey,\n            properties: {\n                elementClass: "d-flex flex-column justify-content-center h-100 overflow-auto",\n                configuration: {\n                    preset: TimeseriesChartPreset.Line,\n                    // this scales configuration defines default scale types for the chart\n                    scales: {\n                        y: { // linear numeric scale for the y axis\n                            type: TimeseriesScaleType.Linear,\n                        } as ITimeseriesScaleConfig,\n                        x: { // continuous time scale for the x axis\n                            type: TimeseriesScaleType.Time,\n                        } as ITimeseriesScaleConfig,\n                    },\n                } as ITimeseriesWidgetConfig,\n            },\n            providers: {\n                // provider for mapping the timeseries data source output to the format required by the widget\n                [WellKnownProviders.Adapter]: {\n                    providerId: NOVA_TIMESERIES_DATASOURCE_ADAPTER,\n                    properties: {\n                        componentId: "chart",\n                        propertyPath: "widgetData",\n                        series: [] as ITimeseriesItemConfiguration[],\n                    },\n                } as IProviderConfiguration,\n            },\n        },\n    },\n    [PizzagnaLayer.Configuration]: {\n        [DEFAULT_PIZZAGNA_ROOT]: {\n            id: DEFAULT_PIZZAGNA_ROOT,\n            providers: {\n                // default refresher configuration\n                [WellKnownProviders.Refresher]: refresher(false, 60),\n            },\n        },\n        // default header configuration\n        header: {\n            properties: {\n                title: $localize`Empty Timeseries Widget`,\n            },\n        },\n    },\n};\n'}}]);