!function(){var e,r,i;function t(e,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function s(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}function a(e,r,i){return r in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function o(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function d(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"xi9+":function(t,n,p){"use strict";var l,c,b,v,g,u,m,f,h,I;p.r(n),p.d(n,"TimeseriesWidgetPrototypeModule",function(){return H});var S,w,y,C=p("ofXK"),P=p("tyNb"),A=p("Rr1A"),D=p("gKry"),k=p("AgrY"),x=p("RBoe"),z=p("HNto"),L=p("A//S"),U=p("UJ+P"),B=p("U9RZ"),R=p("k2eP"),T=p("rWRh"),Z=p("QVEU"),Q=p.n(Z),W=p("XNiG"),j=p("fXoL"),O=((S=function i(t){var s=this;d(this,i),this.toastService=t,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=function(r,i){var t=new W.a;return setTimeout(function(){if(s.allowSubmit)r.id||(r.id=Object(A.ic)("acme")),t.next(r);else{var i=$localize(e||(e=o(["Submit failed."])));s.toastService.error({title:i}),t.error(i)}},1e3),t.asObservable()},this.tryRemove=function(e){var i=new W.a;return setTimeout(function(){if(s.allowRemoval)i.next(e);else{var t=$localize(r||(r=o(["Widget removal failed."])));s.toastService.error({title:t}),i.error(t)}},200),i.asObservable()},this.toastService.setConfig({timeOut:2e3})}).\u0275fac=function(e){return new(e||S)(j.fc(A.Yb))},S.\u0275prov=j.Lb({token:S,factory:S.\u0275fac}),S),M=p("wd/R"),N=p.n(M),V={widget1:{cols:6,rows:6,y:0,x:0},"widget1-interval":{cols:6,rows:6,y:0,x:6},widget2:{cols:6,rows:6,y:6,x:0},"widget2-interval":{cols:6,rows:6,y:6,x:6},widget3:{cols:6,rows:6,y:12,x:0},"widget3-interval":{cols:6,rows:6,y:12,x:6},widget4:{cols:6,rows:6,y:18,x:0},"widget4-interval":{cols:6,rows:6,y:18,x:6},widget5:{cols:6,rows:6,y:24,x:0},"widget5-interval":{cols:6,rows:6,y:24,x:6}},G=[{id:"widget1",type:"timeseries",pizzagna:a({},D.Q.Configuration,(l={},a(l,D.g,{providers:a({},D.kb.DataSource,{providerId:T.a.providerId})}),a(l,"header",{properties:{title:"Line chart",subtitle:"Basic timeseries widget"}}),a(l,"chart",{providers:a({},D.kb.Adapter,{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:D.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:D.bb.Line}}}),a(l,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:N()().format()}}),l))},{id:"widget1-interval",type:"timeseries",pizzagna:a({},D.Q.Configuration,(c={},a(c,D.g,{providers:a({},D.kb.DataSource,{providerId:T.a.providerId})}),a(c,"header",{properties:{title:"Line chart",subtitle:"Basic timeseries widget"}}),a(c,"chart",{providers:a({},D.kb.Adapter,{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:D.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:D.bb.Line,scales:{x:{type:D.cb.TimeInterval,properties:{interval:86400}}}}}}),a(c,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:N()().format()}}),c))},{id:"widget2",type:"timeseries",pizzagna:a({},D.Q.Configuration,(b={},a(b,D.g,{providers:a({},D.kb.DataSource,{providerId:T.a.providerId})}),a(b,"header",{properties:{title:"Area chart",subtitle:"Basic timeseries widget"}}),a(b,"chart",{providers:a({},D.kb.Adapter,{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:D.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:D.bb.StackedArea}}}),a(b,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:N()().format()}}),b))},{id:"widget2-interval",type:"timeseries",pizzagna:a({},D.Q.Configuration,(v={},a(v,D.g,{providers:a({},D.kb.DataSource,{providerId:T.a.providerId})}),a(v,"header",{properties:{title:"Area chart",subtitle:"Basic timeseries widget"}}),a(v,"chart",{providers:a({},D.kb.Adapter,{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:D.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:D.bb.StackedArea,scales:{x:{type:D.cb.TimeInterval,properties:{interval:86400}}}}}}),a(v,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:N()().format()}}),v))},{id:"widget3",type:"timeseries",pizzagna:a({},D.Q.Configuration,(g={},a(g,D.g,{providers:a({},D.kb.DataSource,{providerId:T.a.providerId})}),a(g,"header",{properties:{title:"Stacked percentage area",subtitle:"Basic timeseries widget"}}),a(g,"chart",{providers:a({},D.kb.Adapter,{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:D.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:D.bb.StackedPercentageArea}}}),a(g,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:N()().format()}}),g))},{id:"widget3-interval",type:"timeseries",pizzagna:a({},D.Q.Configuration,(u={},a(u,D.g,{providers:a({},D.kb.DataSource,{providerId:T.a.providerId})}),a(u,"header",{properties:{title:"Stacked percentage area",subtitle:"Basic timeseries widget"}}),a(u,"chart",{providers:a({},D.kb.Adapter,{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:D.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:D.bb.StackedPercentageArea,scales:{x:{type:D.cb.TimeInterval,properties:{interval:86400}}}}}}),a(u,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:N()().format()}}),u))},{id:"widget4",type:"timeseries",pizzagna:a({},D.Q.Configuration,(m={},a(m,D.g,{providers:a({},D.kb.DataSource,{providerId:T.a.providerId})}),a(m,"header",{properties:{title:"Bar chart",subtitle:"Basic timeseries widget"}}),a(m,"chart",{providers:a({},D.kb.Adapter,{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:D.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:D.bb.StackedBar,scales:{}}}}),a(m,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:N()().format()}}),m))},{id:"widget4-interval",type:"timeseries",pizzagna:a({},D.Q.Configuration,(f={},a(f,D.g,{providers:a({},D.kb.DataSource,{providerId:T.a.providerId})}),a(f,"header",{properties:{title:"Bar chart",subtitle:"Basic timeseries widget"}}),a(f,"chart",{providers:a({},D.kb.Adapter,{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:D.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:D.bb.StackedBar,scales:{x:{type:D.cb.TimeInterval,properties:{interval:86400}}}}}}),a(f,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:N()().format()}}),f))},{id:"widget5",type:"timeseries",pizzagna:a({},D.Q.Configuration,(h={},a(h,D.g,{providers:a({},D.kb.DataSource,{providerId:T.c.providerId})}),a(h,"header",{properties:{title:"Status chart",subtitle:"Basic timeseries widget"}}),a(h,"chart",{providers:a({},D.kb.Adapter,{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:D.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:D.bb.StatusBar}}}),a(h,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:N()().format()}}),h))},{id:"widget5-interval",type:"timeseries",pizzagna:a({},D.Q.Configuration,(I={},a(I,D.g,{providers:a({},D.kb.DataSource,{providerId:T.d.providerId})}),a(I,"header",{properties:{title:"Status chart",subtitle:"Basic timeseries widget"}}),a(I,"chart",{providers:a({},D.kb.Adapter,{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:D.B.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:D.bb.StatusBar,scales:{x:{type:D.cb.TimeInterval,properties:{interval:86400}}}}}}),a(I,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:N()().format()}}),I))}],J=p("sleA"),E=p("MJAs"),K=[{path:"",component:(w=function(){function e(r,i,t){var s;d(this,e),this.submitHandler=r,this.providerRegistry=i,this.widgetTypesService=t,this.gridsterConfig={},this.editMode=!1,this.providerRegistry.setProviders((a(s={},x.a.providerId,{provide:D.b,useClass:x.a,deps:[]}),a(s,x.b.providerId,{provide:D.b,useClass:x.b,deps:[]}),a(s,z.a.providerId,{provide:D.b,useClass:z.a,deps:[]}),a(s,z.b.providerId,{provide:D.b,useClass:z.b,deps:[]}),a(s,L.a.providerId,{provide:D.b,useClass:L.a,deps:[A.v]}),a(s,U.a.providerId,{provide:D.b,useClass:U.a,deps:[A.v]}),a(s,B.a.providerId,{provide:D.b,useClass:B.a,deps:[A.v]}),a(s,R.a.providerId,{provide:D.b,useClass:R.a,deps:[A.wb]}),a(s,T.a.providerId,{provide:D.b,useClass:T.a,deps:[]}),a(s,T.b.providerId,{provide:D.b,useClass:T.b,deps:[]}),a(s,T.c.providerId,{provide:D.b,useClass:T.c,deps:[]}),a(s,T.d.providerId,{provide:D.b,useClass:T.d,deps:[]}),s))}return s(e,[{key:"ngOnInit",value:function(){var e=this,r=G.map(function(r){return e.widgetTypesService.mergeWithWidgetType(r)}),i=Q()(r,function(e){return e.id});this.dashboard={positions:V,widgets:i}}}]),e}(),w.\u0275fac=function(e){return new(e||w)(j.Pb(O),j.Pb(D.V),j.Pb(D.nb))},w.\u0275cmp=j.Jb({type:w,selectors:[["acme-dashboard"]],viewQuery:function(e,r){var i;1&e&&j.Sc(D.k,3),2&e&&j.Cc(i=j.kc())&&(r.dashboardComponent=i.first)},features:[j.Cb([O])],decls:5,vars:5,consts:function(){return[[1,"w-100",2,"height","800px"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3",3,"value","valueChange"],$localize(i||(i=o([":\u241fc0390f914462a77b0ab8e053abf7c77af5b1da81\u241f6640158718767573444: Edit mode "])))]},template:function(e,r){1&e&&(j.Vb(0,"div",0),j.Vb(1,"nui-dashboard",1),j.jc("dashboardChange",function(e){return r.dashboard=e})("gridsterConfigChange",function(e){return r.gridsterConfig=e}),j.Ub(),j.Ub(),j.Vb(2,"div",2),j.Vb(3,"nui-switch",3),j.jc("valueChange",function(e){return r.editMode=e}),j.Zb(4,4),j.Ub(),j.Ub()),2&e&&(j.Db(1),j.uc("nuiWidgetEditor",r.submitHandler)("dashboard",r.dashboard)("gridsterConfig",r.gridsterConfig)("editMode",r.editMode),j.Db(2),j.uc("value",r.editMode))},directives:[J.a,E.a,A.Fb],encapsulation:2}),w),data:{srlc:{hideIndicator:!0}}}],H=((y=function(){function e(r,i){d(this,e),this.widgetTypesService=r,this.componentRegistry=i,this.setupDataSourceProviders(),this.setupCustomProportionalWidgetDSConfig()}return s(e,[{key:"setupCustomProportionalWidgetDSConfig",value:function(){var e,r=this.widgetTypesService.getWidgetType("proportional",1);null===(e=r.widget.structure[D.g].providers)||void 0===e||delete e.refresher,this.widgetTypesService.setNode(r,"configurator",D.jb.DataSourceConfigComponentType,k.a.lateLoadKey),this.componentRegistry.registerByLateLoadKey(k.a)}},{key:"setupDataSourceProviders",value:function(){this.setDataSourceProviders("table",[L.a.providerId,U.a.providerId,B.a.providerId,R.a.providerId]),this.setDataSourceProviders("kpi",[x.a.providerId,x.b.providerId]),this.setDataSourceProviders("proportional",[z.a.providerId,z.b.providerId]),this.setDataSourceProviders("timeseries",[T.a.providerId,T.b.providerId,T.c.providerId,T.d.providerId])}},{key:"setDataSourceProviders",value:function(e,r){var i=this.widgetTypesService.getWidgetType(e,1);this.widgetTypesService.setNode(i,"configurator",D.jb.DataSourceProviders,r)}}]),e}()).\u0275mod=j.Nb({type:y}),y.\u0275inj=j.Mb({factory:function(e){return new(e||y)(j.fc(D.nb),j.fc(D.a))},providers:[D.V],imports:[[C.c,D.N,A.z,A.A,A.I,A.K,A.T,A.W,A.Z,A.J,P.d.forChild(K)]]}),y)}}])}();