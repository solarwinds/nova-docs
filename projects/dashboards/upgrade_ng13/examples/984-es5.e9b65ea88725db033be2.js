!function(){"use strict";var e,r;function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function o(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,r,t){return r&&o(e.prototype,r),t&&o(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(self.webpackChunk_nova_ui_dashboards=self.webpackChunk_nova_ui_dashboards||[]).push([[984],{30984:function(o,a,n){var p,l,u;n.r(a),n.d(a,{OverviewModule:function(){return E}});var c,v=n(99763),g=n(46806),h=n(69063),f=n(91580),m=n(98462),b=n(48791),w=n(10325),y=n(40844),C=n(59311),I=n.n(C),k=n(79765),S=n(33018),T=((c=d(function t(o){var d=this;s(this,t),this.toastService=o,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=function(r,t){var o=new k.xQ;return setTimeout(function(){if(d.allowSubmit)o.next(r);else{var t=$localize(e||(e=i(["Submit failed."])));d.toastService.error({title:t}),o.error(t)}},1e3),o.asObservable()},this.tryRemove=function(e){var t=new k.xQ;return setTimeout(function(){if(d.allowRemoval)t.next(e);else{var o=$localize(r||(r=i(["Widget removal failed."])));d.toastService.error({title:o}),t.error(o)}},200),t.asObservable()},this.toastService.setConfig({timeOut:2e3})})).\u0275fac=function(e){return new(e||c)(S.LFG(g.klp))},c.\u0275prov=S.Yz7({token:c,factory:c.\u0275fac}),c),P=n(77459),D={widget1:{cols:6,rows:6,y:0,x:0},widget2:{cols:6,rows:6,y:0,x:6},widget3:{cols:7,rows:6,y:6,x:0},widget4:{cols:5,rows:6,y:6,x:7}},x=[{id:"widget1",type:"kpi",pizzagna:t({},h.xW5.Configuration,{header:{properties:{title:"KPI Widget!",subtitle:"A bunch of number boxes"}},tiles:{properties:{nodes:["kpi1","kpi2"]}},kpi1:{id:"kpi1",componentType:h.ufE.lateLoadKey,providers:(p={},t(p,h.Muk.DataSource,{providerId:m.Of.providerId}),t(p,h.Muk.Adapter,{providerId:h.u1$,properties:{componentId:"kpi1",propertyPath:"widgetData",thresholds:{showThresholds:!0,warningThresholdValue:5,criticalThresholdValue:8}}}),p),properties:{elementClass:"flex-grow-1",widgetData:{id:"totalStorage",value:0,label:"Total storage"}}},kpi2:{id:"kpi2",componentType:h.ufE.lateLoadKey,providers:(l={},t(l,h.Muk.DataSource,{providerId:m.v8.providerId}),t(l,h.Muk.Adapter,{providerId:h.u1$,properties:{componentId:"kpi2",propertyPath:"widgetData",thresholds:{warningThresholdValue:120,criticalThresholdValue:150}}}),l),properties:{elementClass:"flex-grow-1",widgetData:{id:"downloadSpeed",value:0,label:"Download speed"}}}})},{id:"widget2",type:"proportional",pizzagna:t({},h.xW5.Configuration,{header:{properties:{title:"Proportional Widget!",subtitle:"Proportional widget with legend formatters"}},chart:{providers:t({},h.Muk.DataSource,{providerId:b.DU.providerId}),properties:{configuration:{chartOptions:{type:h.EMX.PieChart,legendPlacement:h.woB.Right,legendFormatter:{componentType:h.s9y.lateLoadKey}}}}}})},{id:"widget3",type:"timeseries",pizzagna:t({},h.xW5.Configuration,(u={},t(u,h.XMI,{providers:t({},h.Muk.DataSource,{providerId:y.GS.providerId})}),t(u,"header",{properties:{title:"Timeseries Widget!",subtitle:"Basic timeseries widget"}}),t(u,"chart",{providers:t({},h.Muk.Adapter,{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"}]}}),properties:{configuration:{legendPlacement:h.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)"}}}),t(u,"timeframeSelection",{properties:{timeframe:{startDatetime:(0,P.ad)().subtract(7,"day").format(),endDatetime:(0,P.ad)().format(),selectedPresetId:null}}}),u))},{id:"widget4",type:"table",pizzagna:t({},h.xW5.Configuration,{header:{properties:{title:"Table Widget!",subtitle:"Basic table widget"}},table:{providers:t({},h.Muk.DataSource,{providerId:w.P.providerId}),properties:{configuration:{columns:[{id:"column1",label:"No",isActive:!0,formatter:{componentType:h.aDR.lateLoadKey,properties:{dataFieldIds:{value:"position"}}}},{id:"column2",label:"Name",isActive:!0,formatter:{componentType:h.aDR.lateLoadKey,properties:{dataFieldIds:{value:"name"}}}},{id:"column3",label:"Location",isActive:!0,formatter:{componentType:h.s9y.lateLoadKey,properties:{dataFieldIds:{value:"firstUrlLabel",link:"firstUrl"}}}}],sorterConfiguration:{descendantSorting:!0,sortBy:"column1"},hasVirtualScroll:!0}}}})}],M=n(5457),O=n(46276),z=n(54607),A=[{path:"",component:function(){var e=function(){function e(r,i,o,d){var a;s(this,e),this.providerRegistry=r,this.submitHandler=i,this.themeSwitcherService=o,this.widgetTypesService=d,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.dsError=!1,this.providerRegistry.setProviders((t(a={},m.Of.providerId,{provide:h.Fk3,useClass:m.Of,deps:[]}),t(a,m.v8.providerId,{provide:h.Fk3,useClass:m.v8,deps:[]}),t(a,b.U8.providerId,{provide:h.Fk3,useClass:b.U8,deps:[]}),t(a,b.DU.providerId,{provide:h.Fk3,useClass:b.DU,deps:[]}),t(a,b.An.providerId,{provide:h.Fk3,useClass:b.An,deps:[]}),t(a,w.P.providerId,{provide:h.Fk3,useClass:w.P,deps:[g.oDG,h.nYw]}),t(a,w.B.providerId,{provide:h.Fk3,useClass:w.B,deps:[g.oDG,h.nYw]}),t(a,y.GS.providerId,{provide:h.Fk3,useClass:y.GS,deps:[]}),t(a,y.mx.providerId,{provide:h.Fk3,useClass:y.mx,deps:[]}),a))}return d(e,[{key:"ngOnInit",value:function(){var e=this,r=x.map(function(r){return Object.assign(Object.assign({},r),{pizzagna:Object.assign(Object.assign({},e.widgetTypesService.getWidgetType(r.type,r.version).widget),r.pizzagna)})}),t=I()(r,function(e){return e.id});this.dashboard={positions:D,widgets:t}}},{key:"onDsErrorChange",value:function(e){m.Of.mockError=e,y.GS.mockError=e,w.P.mockError=e,b.DU.mockError=e}}]),e}();return e.\u0275fac=function(r){return new(r||e)(S.Y36(h.CNH),S.Y36(T),S.Y36(g.ERq),S.Y36(h.xTe))},e.\u0275cmp=S.Xpm({type:e,selectors:[["acme-dashboard"]],features:[S._Bn([T])],decls:3,vars:6,consts:[[3,"editMode","dsError","editModeChange","dsErrorChange"],[1,"dashboard"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"]],template:function(e,r){1&e&&(S.TgZ(0,"dashboard-test-harness",0),S.NdJ("editModeChange",function(e){return r.editMode=e})("dsErrorChange",function(e){return r.onDsErrorChange(e)}),S.TgZ(1,"div",1),S.TgZ(2,"nui-dashboard",2),S.NdJ("dashboardChange",function(e){return r.dashboard=e})("gridsterConfigChange",function(e){return r.gridsterConfig=e}),S.qZA(),S.qZA(),S.qZA()),2&e&&(S.Q6J("editMode",r.editMode)("dsError",r.dsError),S.xp6(2),S.Q6J("nuiWidgetEditor",r.submitHandler)("dashboard",r.dashboard)("gridsterConfig",r.gridsterConfig)("editMode",r.editMode))},directives:[M.W,O.M,z.t],styles:[".dashboard[_ngcontent-%COMP%]{height:725px;width:1000px}"]}),e}(),data:{srlc:{hideIndicator:!0}}}],E=function(){var e=function(){function e(r){var t;s(this,e),this.widgetTypesService=r,null===(t=this.widgetTypesService.getWidgetType("proportional",1).widget.structure[h.XMI].providers)||void 0===t||delete t.refresher,this.setDataSourceProviders("table",[w.P.providerId,w.B.providerId]),this.setDataSourceProviders("kpi",[m.Of.providerId,m.v8.providerId]),this.setDataSourceProviders("proportional",[b.U8.providerId,b.DU.providerId,b.An.providerId]),this.setDataSourceProviders("timeseries",[y.GS.providerId,y.mx.providerId])}return d(e,[{key:"setDataSourceProviders",value:function(e,r){var t=this.widgetTypesService.getWidgetType(e,1);this.widgetTypesService.setNode(t,"configurator",h.ACc.DataSourceProviders,r)}}]),e}();return e.\u0275fac=function(r){return new(r||e)(S.LFG(h.xTe))},e.\u0275mod=S.oAB({type:e}),e.\u0275inj=S.cJS({providers:[h.CNH],imports:[[f.o,h.Pi,g.Gsl,g.Az_,g.vvu,g.cJ5,g.Ts3,v.Bz.forChild(A)]]}),e}()}}])}();