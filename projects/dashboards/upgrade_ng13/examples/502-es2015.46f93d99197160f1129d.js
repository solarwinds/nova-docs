"use strict";(self.webpackChunk_nova_ui_dashboards=self.webpackChunk_nova_ui_dashboards||[]).push([[502],{80502:function(e,t,i){i.r(t),i.d(t,{Prototype1Module:function(){return j}});var r=i(38583),o=i(91841),a=i(99763),s=i(46806),n=i(69063),d=i(93877),l=i(4758),c=i(40837),u=i(64762),p=i(49977),g=i.n(p),v=i(92080),h=i.n(v),m=i(26215),f=i(7484),w=i(33018);let b=(()=>{class e extends s.LvN{constructor(e){super(),this.logger=e,this.cache=Array.from({length:0}),this.totalItems=325,this.page=1,this.busy=new m.X(!1),this.dataFields=[]}getFilteredData(e){var t,i,r,o,a,s,n,d,l,c,p,v,h,m;return(0,u.mG)(this,void 0,void 0,function*(){const u=null!==(r=null===(i=null===(t=e.virtualScroll)||void 0===t?void 0:t.value)||void 0===i?void 0:i.start)&&void 0!==r?r:0,w=null!==(s=null===(a=null===(o=e.virtualScroll)||void 0===o?void 0:o.value)||void 0===a?void 0:a.end)&&void 0!==s?s:0,b=w-u;if(0===u&&(this.cache=[]),(null===(n=e.sorter)||void 0===n?void 0:n.value)&&!g()(this.lastSortValue,e.sorter.value)&&0===(null===(d=e.virtualScroll)||void 0===d?void 0:d.value.start)&&this.lastVirtualScroll){const t=Math.ceil(b?this.totalItems/b:1),i=Math.max(b<80?b:80,1);let r,o=null;if("desc"===(null===(c=null===(l=e.sorter)||void 0===l?void 0:l.value)||void 0===c?void 0:c.direction)){this.cache=[];for(let e=0;e<this.page;++e)o=yield(yield fetch(`${f.Wg}/?page=${t-e||1}&per_page=${i}`)).json(),o&&o.length<i&&this.page++,r={brewInfo:null==o?void 0:o.map(e=>({id:e.id,name:e.name,tagline:e.tagline,first_brewed:e.first_brewed,description:e.description,brewers_tips:e.brewers_tips})),total:null==o?void 0:o.length},this.cache=t-e!=0?this.cache.concat(r.brewInfo):this.cache}if("asc"===(null===(v=null===(p=e.sorter)||void 0===p?void 0:p.value)||void 0===v?void 0:v.direction)){this.cache=[];for(let e=0;e<this.page;e++)o=yield(yield fetch(`${f.Wg}/?page=${e+1}&per_page=${i}`)).json(),r={brewInfo:null==o?void 0:o.map(e=>({id:e.id,name:e.name,tagline:e.tagline,first_brewed:e.first_brewed,description:e.description,brewers_tips:e.brewers_tips})),total:null==o?void 0:o.length},this.cache=this.cache.concat(r.brewInfo)}return this.lastSortValue=null===(h=e.sorter)||void 0===h?void 0:h.value,this.lastVirtualScroll=null===(m=e.virtualScroll)||void 0===m?void 0:m.value,{result:{repeat:{itemsSource:this.sortData(this.cache,e)},paginator:{total:this.totalItems},dataFields:this.dataFields}}}return this.busy.next(!0),new Promise(t=>{setTimeout(()=>{this.getData(u,w,e).then(i=>{var r,o;!i||(this.cache=this.cache.concat(i.brewInfo),this.dataSubject.next(this.cache),t({result:{repeat:{itemsSource:this.sortData(this.cache,e)},paginator:{total:this.totalItems},dataFields:this.dataFields}}),this.lastSortValue=null===(r=e.sorter)||void 0===r?void 0:r.value,this.lastVirtualScroll=null===(o=e.virtualScroll)||void 0===o?void 0:o.value,this.busy.next(!1))})},500)})})}getData(e=0,t=20,i){var r,o,a,s;return(0,u.mG)(this,void 0,void 0,function*(){const n=t-e,d=Math.ceil(n?this.totalItems/n:1);let l=null;const c=Math.max(n<80?n:80,1);return"asc"===(null===(o=null===(r=i.sorter)||void 0===r?void 0:r.value)||void 0===o?void 0:o.direction)&&(l=yield(yield fetch(`${f.Wg}/?page=${this.page}&per_page=${c}`)).json()),"desc"===(null===(s=null===(a=i.sorter)||void 0===a?void 0:a.value)||void 0===s?void 0:s.direction)&&(l=yield(yield fetch(`${f.Wg}/?page=${d-this.page}&per_page=${c}`)).json()),i.sorter||(l=yield(yield fetch(`${f.Wg}/?page=${this.page}&per_page=${c}`)).json()),{brewInfo:null==l?void 0:l.map((e,t)=>({id:e.id,name:e.name,tagline:e.tagline,first_brewed:e.first_brewed,description:e.description,brewers_tips:e.brewers_tips})),total:null==l?void 0:l.length}})}sortData(e,t){var i,r,o,a;return h()(e,null===(r=null===(i=t.sorter)||void 0===i?void 0:i.value)||void 0===r?void 0:r.sortBy,null===(a=null===(o=t.sorter)||void 0===o?void 0:o.value)||void 0===a?void 0:a.direction)}}return e.providerId="AcmeTableDataSourceNoDataFields",e.\u0275fac=function(t){return new(t||e)(w.LFG(s.mQy))},e.\u0275prov=w.Yz7({token:e,factory:e.\u0275fac}),e})();var y=i(5596),S=i(33618),I=i(85631),C=i(6376),T=i(55350),k=i(55206),D=i(59311),x=i.n(D),A=i(79765),Z=i(15257),W=i(46782),$=i(37524),F=i.n($),R=i(12666),M=i.n(R),_=i(16738),z=i.n(_);let L=(()=>{class e extends s.LvN{getFilteredData(e){return(0,u.mG)(this,void 0,void 0,function*(){return Promise.resolve({})})}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=w.n5z(e)))(i||e)}}(),e.\u0275prov=w.Yz7({token:e,factory:e.\u0275fac}),e})(),N=(()=>{class e{constructor(e){this.globalFilters=e}getLink(e){if(!this.globalFilters)return e;const t=this.globalFilters.getFilters();return e+"/search?"+Object.keys(t).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e].data.value)).join("&")}}return e.providerId="HeaderLinkProviderService",e.\u0275fac=function(t){return new(t||e)(w.LFG(L,8))},e.\u0275prov=w.Yz7({token:e,factory:e.\u0275fac}),e})();const q={widget1:{cols:5,rows:6,y:0,x:0},widget2:{cols:7,rows:6,y:0,x:5},widget3:{cols:6,rows:6,y:6,x:0},widget4:{cols:6,rows:6,y:6,x:6}},P=[{id:"widget1",type:"kpi",pizzagna:{[n.xW5.Configuration]:{header:{properties:{title:"KPI Widget!",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{interaction:{providerId:n.DJm,properties:{url:"${data.link}"}}},properties:{nodes:["kpi1","kpi2","kpi3"]}},kpi1:{id:"kpi1",providers:{[n.Muk.DataSource]:{providerId:l.i.providerId},[n.Muk.Adapter]:{providerId:n.u1$,properties:{componentId:"kpi1",propertyPath:"widgetData"}},[n.Muk.KpiColorPrioritizer]:{providerId:n.tSO,properties:{rules:[{comparisonType:">",value:2,color:"var(--nui-color-chart-four)"},{comparisonType:"==",value:1.5,color:"var(--nui-color-chart-seven)"},{comparisonType:"<",value:1,color:"var(--nui-color-chart-one)"}]}}},properties:{configuration:{formatters:{[n.Klf.Value]:{formatter:{componentType:n.PEA.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}},widgetData:{id:"totalStorage",value:0,label:"Total storage",units:"Bytes",icon:"state_ok",link:"http://www.google.com"}}},kpi2:{id:"kpi2",providers:{[n.Muk.DataSource]:{providerId:l.L2.providerId,properties:{numberFormat:"1.1-1"}}},properties:{configuration:{formatters:{[n.Klf.Value]:{formatter:{componentType:n.Cg1.lateLoadKey,properties:{dataFieldIds:{value:"icon"}}}}}},widgetData:{id:"downloadSpeed",value:0,label:"Download SUPER DUPER VERY LONG STRING Speed",icon:"state_ok",units:"MB/S"}}},kpi3:{id:"kpi3",providers:{[n.Muk.DataSource]:{providerId:l.sR.providerId}},properties:{configuration:{formatters:{[n.Klf.Value]:{formatter:{componentType:n.aDR.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}},widgetData:{id:"uploadSpeed",value:0,label:"Upload Speed",units:"MB/S"}}}}}},{id:"widget2",type:"proportional",pizzagna:{[n.xW5.Configuration]:{[n.XMI]:{providers:{[n.Muk.InteractionHandler]:{providerId:n.DJm,properties:{url:"${data.link}"}}}},header:{properties:{title:"Proportional Widget!",subtitle:"Proportional widget with legend formatters"}},chart:{providers:{[n.Muk.DataSource]:{providerId:c.s.providerId},[n.Muk.Adapter]:{properties:{[n.Muk.DataSource]:{properties:{isEuropeOnly:!1}}}}},properties:{configuration:{interactive:!0,chartDonutContentLabel:"Some label",chartDonutContentIcon:"printer",chartOptions:{type:n.EMX.VerticalBarChart,legendPlacement:n.woB.Right},chartColors:["gray","orange","black"]}}}}}},{id:"widget3",type:"timeseries",pizzagna:{[n.xW5.Configuration]:{[n.XMI]:{providers:{[n.Muk.DataSource]:{providerId:k.wi.providerId},[n.Muk.InteractionHandler]:{providerId:n.DJm}}},header:{providers:{dynamicLinkProvider:{providerId:N.providerId}},properties:{title:"Timeseries Widget!",subtitle:"Basic timeseries widget",url:"https://www.google.com"}},chart:{providers:{[n.Muk.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:n.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",chartColors:["var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"]}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:z()().subtract(10,"days").format(),maxDate:z()().format()}}}}},{id:"widget4",type:"table",pizzagna:{[n.xW5.Configuration]:{[n.XMI]:{providers:{[n.Muk.InteractionHandler]:{providerId:n.DJm}}},header:{properties:{title:"Table Widget!",subtitle:"Basic table widget",collapsible:!0}},table:{providers:{[n.Muk.DataSource]:{providerId:y.g.providerId}},properties:{configuration:{interactive:!0,columns:[{id:"column1",label:"No",isActive:!0,formatter:{componentType:n.aDR.lateLoadKey,properties:{dataFieldIds:{value:"no"}}}},{id:"column2",label:"Title",isActive:!0,formatter:{componentType:n.aDR.lateLoadKey,properties:{dataFieldIds:{value:"nameTitle"}}}},{id:"column3",label:"First Name",isActive:!0,formatter:{componentType:n.aDR.lateLoadKey,properties:{dataFieldIds:{value:"nameFirst"}}}},{id:"column4",label:"Last Name",isActive:!0,formatter:{componentType:n.aDR.lateLoadKey,properties:{dataFieldIds:{value:"nameLast"}}}},{id:"column5",label:"E-Mail",isActive:!0,formatter:{componentType:n.aDR.lateLoadKey,properties:{dataFieldIds:{value:"email"}}}}],sorterConfiguration:{descendantSorting:!0,sortBy:"column4"},hasVirtualScroll:!0,searchConfiguration:{enabled:!0}}}}}}}];function J(e,t){if(1&e&&(w.TgZ(0,"div",3),w.TgZ(1,"div",4),w._uU(2),w.qZA(),w.qZA()),2&e){const e=t.item;w.xp6(2),w.hij(" ",e.title," ")}}let Q=(()=>{class e{constructor(e){this.widgetTypesService=e,this.widgetSelected=new w.vpe,this.widgetItems=[]}ngOnInit(){const e=new r.rS;this.widgetItems=P.map(t=>({title:e.transform(t.type),widget:this.widgetTypesService.mergeWithWidgetType(t)})),P.forEach(e=>{this.addUnconfiguredWidgetWithConfigLayer(e)})}addUnconfiguredWidget(e){const t=(new r.rS).transform(e);this.widgetItems.push({title:`Unconfigured ${t}`,widget:{id:`unconfigured${t}`,type:e,metadata:{needsConfiguration:!0},pizzagna:F()(this.widgetTypesService.getWidgetType(e).widget)}}),M()(this.widgetItems[this.widgetItems.length-1].widget.pizzagna,`${n.xW5.Structure}.header.properties.title`,`Unconfigured ${t}`)}addUnconfiguredWidgetWithConfigLayer(e){const t=(new r.rS).transform(e.type);this.widgetItems.push({title:`Unconfigured ${t} With Config Layer`,widget:Object.assign(Object.assign({},F()(this.widgetTypesService.mergeWithWidgetType(e))),{id:`unconfiguredWithConfigLayer${t}`,metadata:{needsConfiguration:!0}})}),M()(this.widgetItems[this.widgetItems.length-1].widget.pizzagna,`${n.xW5.Configuration}.header.properties.title`,`Unconfigured ${t} With Config Layer`)}onSelect(e){this.widgetSelected.emit(e[0].widget),this.widgetSelection=e}}return e.lateLoadKey="AcmeCloneSelectionComponent",e.\u0275fac=function(t){return new(t||e)(w.Y36(n.xTe))},e.\u0275cmp=w.Xpm({type:e,selectors:[["acme-clone-selection"]],outputs:{widgetSelected:"widgetSelected"},decls:4,vars:3,consts:[[1,"nui-widget-cloner"],["selectionMode","singleWithRequiredSelection",3,"itemsSource","selection","repeatItemTemplateRef","selectionChange"],["widgetClonerItem",""],[1,"nui-widget-cloner__item","d-flex","pt-2","pb-2","align-items-center"],[1,"text-info","ml-3"]],template:function(e,t){if(1&e&&(w.TgZ(0,"div",0),w.TgZ(1,"nui-repeat",1),w.NdJ("selectionChange",function(e){return t.onSelect(e)}),w.qZA(),w.qZA(),w.YNc(2,J,3,1,"ng-template",null,2,w.W1O)),2&e){const e=w.MAs(3);w.xp6(1),w.Q6J("itemsSource",t.widgetItems)("selection",t.widgetSelection)("repeatItemTemplateRef",e)}},directives:[s.$N6],styles:[".nui-widget-cloner__item[_ngcontent-%COMP%]{height:60px}"]}),e})();function O(e,t){if(1&e&&(w.TgZ(0,"div",3),w.TgZ(1,"div",4),w._uU(2),w.qZA(),w.qZA()),2&e){const e=t.item;w.xp6(2),w.hij(" ",e.title," ")}}let B=(()=>{class e extends Q{constructor(e){super(e)}ngOnInit(){const e=new r.rS;this.widgetItems=P.map(t=>({title:e.transform(t.type),widget:this.widgetTypesService.mergeWithWidgetType(t)}))}}return e.lateLoadKey="AcmeCloneSelectionComponent",e.\u0275fac=function(t){return new(t||e)(w.Y36(n.xTe))},e.\u0275cmp=w.Xpm({type:e,selectors:[["acme-clone-selection"]],features:[w.qOj],decls:4,vars:3,consts:[[1,"nui-widget-cloner"],["selectionMode","singleWithRequiredSelection",3,"itemsSource","selection","repeatItemTemplateRef","selectionChange"],["widgetClonerItem",""],[1,"nui-widget-cloner__item","d-flex","pt-2","pb-2","align-items-center"],[1,"text-info","ml-3"]],template:function(e,t){if(1&e&&(w.TgZ(0,"div",0),w.TgZ(1,"nui-repeat",1),w.NdJ("selectionChange",function(e){return t.onSelect(e)}),w.qZA(),w.qZA(),w.YNc(2,O,3,1,"ng-template",null,2,w.W1O)),2&e){const e=w.MAs(3);w.xp6(1),w.Q6J("itemsSource",t.widgetItems)("selection",t.widgetSelection)("repeatItemTemplateRef",e)}},directives:[s.$N6],styles:[".nui-widget-cloner__item[_ngcontent-%COMP%]{height:60px}"]}),e})(),E=(()=>{class e{constructor(e){this.toastService=e,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=(e,t)=>{const i=new A.xQ;return setTimeout(()=>{if(this.allowSubmit)i.next(e);else{const e=$localize`Submit failed.`;this.toastService.error({title:e}),i.error(e)}},1e3),i.asObservable()},this.tryRemove=e=>{const t=new A.xQ;return setTimeout(()=>{if(this.allowRemoval)t.next(e);else{const e=$localize`Widget removal failed.`;this.toastService.error({title:e}),t.error(e)}},200),t.asObservable()},this.toastService.setConfig({timeOut:2e3})}}return e.\u0275fac=function(t){return new(t||e)(w.LFG(s.klp))},e.\u0275prov=w.Yz7({token:e,factory:e.\u0275fac}),e})();var K=i(46276),U=i(54607);const Y=[{path:"",component:(()=>{class e{constructor(e,t,i,r,a,d){this.providerRegistry=e,this.submitHandler=t,this.widgetTypesService=i,this.widgetClonerService=r,this.refreshSettings=a,this.globalFilters=d,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.systemRefreshInterval=60,this.searchQuery="solarwinds",this.destroy$=new A.xQ,this.globalFilters.registerComponent({q:{componentInstance:{getFilters:()=>({data:{type:"string",value:this.searchQuery}})}}}),this.providerRegistry.setProviders({[l.i.providerId]:{provide:n.Fk3,useClass:l.i,deps:[o.eN]},[l.L2.providerId]:{provide:n.Fk3,useClass:l.L2,deps:[o.eN]},[l.sR.providerId]:{provide:n.Fk3,useClass:l.sR,deps:[]},[c.Q.providerId]:{provide:n.Fk3,useClass:c.Q,deps:[o.eN]},[c.s.providerId]:{provide:n.Fk3,useClass:c.s,deps:[]},[y.g.providerId]:{provide:n.Fk3,useClass:y.g,deps:[s.mQy,o.eN]},[S.W.providerId]:{provide:n.Fk3,useClass:S.W,deps:[s.mQy]},[I.t.providerId]:{provide:n.Fk3,useClass:I.t,deps:[s.mQy]},[b.providerId]:{provide:n.Fk3,useClass:b,deps:[s.mQy]},[T.n.providerId]:{provide:n.Fk3,useClass:T.n,deps:[s.oDG]},[k.wi.providerId]:{provide:n.Fk3,useClass:k.wi,deps:[o.eN]},[k.u2.providerId]:{provide:n.Fk3,useClass:k.u2,deps:[]},[C.a.providerId]:{provide:n.Fk3,useClass:C.a,deps:[s.mQy,o.eN]},[N.providerId]:{provide:n.B5u,useClass:N,deps:[[new w.FiY,L]]}})}ngOnInit(){var e,t;null===(t=null===(e=this.widgetTypesService.getWidgetType("table").configurator)||void 0===e?void 0:e[n.xW5.Structure].presentation.properties)||void 0===t||t.nodes.push("refresher"),this.refreshSettings.refreshRateSeconds=this.systemRefreshInterval;const i=P.map(e=>this.widgetTypesService.mergeWithWidgetType(e)),r=x()(i,e=>e.id);this.dashboard={positions:q,widgets:r}}onDsErrorSwitch(e){c.Q.mockError=e,l.i.mockError=e,l.L2.mockError=e,y.g.mockError=e,k.wi.mockError=e}onShowButtonSwitch(e,t){for(const i of Object.keys(this.dashboard.widgets))this.dashboard=(0,s.zdu)(this.dashboard,`widgets.${i}.pizzagna.configuration.header.properties.${t}`,e)}ngAfterViewInit(){this.dashboardComponent.eventBus.subscribeUntil(n.MOJ,this.destroy$,e=>{this.widgetClonerService.open({widget:this.dashboard.widgets[e.widgetId],dashboardComponent:this.dashboardComponent,trySubmit:this.submitHandler.trySubmit,widgetSelectionComponentType:B}).pipe((0,Z.q)(1),(0,W.R)(this.destroy$)).subscribe()})}onCloneWidget(){this.widgetClonerService.open({dashboardComponent:this.dashboardComponent,trySubmit:this.submitHandler.trySubmit,widgetSelectionComponentType:Q}).pipe((0,Z.q)(1),(0,W.R)(this.destroy$)).subscribe()}onEditWithCloner(){this.dashboardComponent.eventBus.next(n.MOJ,{widgetId:P[0].id})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSystemRefreshIntervalClick(){this.refreshSettings.refreshRateSeconds=this.systemRefreshInterval}}return e.\u0275fac=function(t){return new(t||e)(w.Y36(n.CNH),w.Y36(E),w.Y36(n.xTe),w.Y36(n.$Ie),w.Y36(n.g4s),w.Y36(L))},e.\u0275cmp=w.Xpm({type:e,selectors:[["acme-dashboard"]],viewQuery:function(e,t){if(1&e&&w.Gf(n.MXM,7),2&e){let e;w.iGM(e=w.CRH())&&(t.dashboardComponent=e.first)}},features:[w._Bn([E,L])],decls:28,vars:11,consts:function(){let e,t,i,r,o,a,s,n,d,l,c;return e=$localize`:␟08a1b409eac8269dd4dce8a2b3bd976356ba40ee␟7260316479095556147:Create Widget Clone`,t=$localize`:␟4e17d1961186f54a679f7623cd03e5c49c411f65␟639090956363340116:Simulate edit with cloner`,i=$localize`:␟c0390f914462a77b0ab8e053abf7c77af5b1da81␟6640158718767573444: Edit mode `,r=$localize`:␟db70aaa4da7a9f7c0fa3a218907f9fa354a19038␟5855643886473775120: Allow Submit `,o=$localize`:␟d289dfdc6c4e23b49a96db083f95f1087ed1400a␟3687117978364204872: Allow Removal `,a=$localize`:␟3299af3b186d7701f4c0626e41eba58af8382723␟4106211393112768148: Show Edit Button `,s=$localize`:␟30251ad3dcd7facd3a222d48fb2ba02f8503c52c␟8096484277280346189: Show Remove Button `,n=$localize`:␟c355f0feb3f72b3594e6e975456cd0a2dac1d929␟870224976565315483: Data Source Error `,d=$localize`:␟90504d9af68fb3aa81accb4bc3005526deb04093␟5488473345097746222:System refresh interval (seconds)`,l=$localize`:␟4de55e520d95a021a3b6dcb94b34b5b2364abef8␟1472280137824054907:Update system refresh interval `,c=$localize`:␟b3cbfe131ba0c10de2f194b783e0ca697cdeaef9␟4452935965886173182:Search query for Timeseries widget`,[["type","button","nui-button","",1,"mb-3","ml-4",3,"click"],e,t,[1,"w-100",2,"height","725px"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3",3,"value","valueChange"],i,r,o,a,s,[1,"ml-3",3,"valueChange"],n,[1,"d-flex","flex-row"],[2,"width","300px"],["caption",d],[3,"value","valueChange"],["type","button","nui-button","",1,"ml-4",3,"click"],l,[1,"mt-4"],["caption",c],[3,"value","textChange"]]},template:function(e,t){1&e&&(w.TgZ(0,"button",0),w.NdJ("click",function(){return t.onCloneWidget()}),w.SDv(1,1),w.qZA(),w.TgZ(2,"button",0),w.NdJ("click",function(){return t.onEditWithCloner()}),w.SDv(3,2),w.qZA(),w.TgZ(4,"div",3),w.TgZ(5,"nui-dashboard",4),w.NdJ("dashboardChange",function(e){return t.dashboard=e})("gridsterConfigChange",function(e){return t.gridsterConfig=e}),w.qZA(),w.qZA(),w.TgZ(6,"div",5),w.TgZ(7,"nui-switch",6),w.NdJ("valueChange",function(e){return t.editMode=e}),w.SDv(8,7),w.qZA(),w.TgZ(9,"nui-switch",6),w.NdJ("valueChange",function(e){return t.submitHandler.allowSubmit=e}),w.SDv(10,8),w.qZA(),w.TgZ(11,"nui-switch",6),w.NdJ("valueChange",function(e){return t.submitHandler.allowRemoval=e}),w.SDv(12,9),w.qZA(),w.TgZ(13,"nui-switch",6),w.NdJ("valueChange",function(e){return t.onShowButtonSwitch(e,"editable")}),w.SDv(14,10),w.qZA(),w.TgZ(15,"nui-switch",6),w.NdJ("valueChange",function(e){return t.onShowButtonSwitch(e,"removable")}),w.SDv(16,11),w.qZA(),w.TgZ(17,"nui-switch",12),w.NdJ("valueChange",function(e){return t.onDsErrorSwitch(e)}),w.SDv(18,13),w.qZA(),w.qZA(),w.TgZ(19,"div",14),w.TgZ(20,"div",15),w.TgZ(21,"nui-form-field",16),w.TgZ(22,"nui-textbox-number",17),w.NdJ("valueChange",function(e){return t.systemRefreshInterval=e}),w.qZA(),w.qZA(),w.qZA(),w.TgZ(23,"button",18),w.NdJ("click",function(){return t.onSystemRefreshIntervalClick()}),w.SDv(24,19),w.qZA(),w.qZA(),w.TgZ(25,"div",20),w.TgZ(26,"nui-form-field",21),w.TgZ(27,"nui-textbox",22),w.NdJ("textChange",function(e){return t.searchQuery=e}),w.qZA(),w.qZA(),w.qZA()),2&e&&(w.xp6(5),w.Q6J("nuiWidgetEditor",t.submitHandler)("dashboard",t.dashboard)("gridsterConfig",t.gridsterConfig)("editMode",t.editMode),w.xp6(2),w.Q6J("value",t.editMode),w.xp6(2),w.Q6J("value",t.submitHandler.allowSubmit),w.xp6(2),w.Q6J("value",t.submitHandler.allowRemoval),w.xp6(2),w.Q6J("value",!0),w.xp6(2),w.Q6J("value",!0),w.xp6(7),w.Q6J("value",t.systemRefreshInterval),w.xp6(5),w.Q6J("value",t.searchQuery))},directives:[s.r0F,K.M,U.t,s.qUD,s.hgI,s.I5I,s.XHW],styles:[".nui-theme-switcher-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:10px;background-color:#fff;background-color:var(--nui-color-bg-light,#fff)}"]}),e})(),data:{srlc:{hideIndicator:!0},showThemeSwitcher:!0}}];let j=(()=>{class e{constructor(e,t){this.widgetTypesService=e,this.componentRegistry=t,this.setupDataSourceProviders(),this.setupCustomProportionalWidgetDSConfig()}setupCustomProportionalWidgetDSConfig(){var e;const t=this.widgetTypesService.getWidgetType("proportional",1);null===(e=t.widget.structure[n.XMI].providers)||void 0===e||delete e.refresher,this.widgetTypesService.setNode(t,"configurator",n.ACc.DataSourceConfigComponentType,d.b.lateLoadKey),this.componentRegistry.registerByLateLoadKey(d.b)}setupDataSourceProviders(){this.setDataSourceProviders("table",[y.g.providerId,S.W.providerId,I.t.providerId,T.n.providerId,C.a.providerId,b.providerId]);const e=this.widgetTypesService.getWidgetType("kpi",1);this.widgetTypesService.setNode(e,"configurator",n.ACc.DataSourceConfigComponentType,n.cY_.lateLoadKey),this.setDataSourceProviders("kpi",[{providerId:l.i.providerId,label:"Acme KPI Data Source 1"},{providerId:l.L2.providerId,label:"Acme KPI Data Source 2",properties:{numberFormat:"1.1-1"}},{providerId:l.sR.providerId,label:"Acme KPI Data Source 3"}]),this.setDataSourceProviders("proportional",[c.Q.providerId,c.s.providerId]),this.setDataSourceProviders("timeseries",[k.wi.providerId,k.u2.providerId])}setDataSourceProviders(e,t){const i=this.widgetTypesService.getWidgetType(e,1);this.widgetTypesService.setNode(i,"configurator",n.ACc.DataSourceProviders,t)}}return e.\u0275fac=function(t){return new(t||e)(w.LFG(n.xTe),w.LFG(n.hiK))},e.\u0275mod=w.oAB({type:e}),e.\u0275inj=w.cJS({providers:[n.CNH],imports:[[r.ez,o.JF,n.Pi,s.Gsl,s.Az_,s.vvu,s.cJ5,s.Ts3,s.sF0,s.ZuS,a.Bz.forChild(Y),s.C6o,s.YMY]]}),e})()}}]);