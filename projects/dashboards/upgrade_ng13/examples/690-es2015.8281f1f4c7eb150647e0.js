"use strict";(self.webpackChunk_nova_ui_dashboards=self.webpackChunk_nova_ui_dashboards||[]).push([[690],{21690:function(e,r,t){t.r(r),t.d(r,{TimeseriesTestModule:function(){return C}});var i=t(99763),s=t(46806),a=t(69063),d=t(91580),o=t(40844),l=t(59311),n=t.n(l),p=t(79765),c=t(33018);let m=(()=>{class e{constructor(e){this.toastService=e,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=e=>{const r=new p.xQ;return setTimeout(()=>{if(this.allowSubmit)r.next(e);else{const e=$localize`Submit failed.`;this.toastService.error({title:e}),r.error(e)}},1e3),r.asObservable()},this.tryRemove=e=>{const r=new p.xQ;return setTimeout(()=>{if(this.allowRemoval)r.next(e);else{const e=$localize`Widget removal failed.`;this.toastService.error({title:e}),r.error(e)}},200),r.asObservable()},this.toastService.setConfig({timeOut:2e3})}}return e.\u0275fac=function(r){return new(r||e)(c.LFG(s.klp))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e})();var g=t(77459);const v={widget1:{cols:6,rows:7,y:0,x:0},"widget1-interval":{cols:6,rows:7,y:0,x:6},widget2:{cols:6,rows:7,y:7,x:0},"widget2-interval":{cols:6,rows:7,y:7,x:6},widget3:{cols:6,rows:7,y:14,x:0},"widget3-interval":{cols:6,rows:7,y:14,x:6},widget4:{cols:6,rows:7,y:21,x:0},"widget4-interval":{cols:6,rows:7,y:21,x:6},widget5:{cols:6,rows:7,y:28,x:0},"widget5-interval":{cols:6,rows:7,y:28,x:6}},u=[{id:"widget1",type:"timeseries",pizzagna:{[a.xW5.Configuration]:{[a.XMI]:{providers:{[a.Muk.DataSource]:{providerId:o.hp.providerId}}},header:{properties:{title:"Line Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[a.Muk.Adapter]:{properties:{series:[{id:"series-a",label:"Events",selectedSeriesId:"series-a"},{id:"series-b",label:"Events",selectedSeriesId:"series-b"},{id:"series-c",label:"Events",selectedSeriesId:"series-c"}]}}},properties:{configuration:{interaction:"series",legendPlacement:a.woB.Bottom,enableZoom:!0,preset:a.CKZ.Line}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,g.ad)().subtract(7,"day").format(),endDatetime:(0,g.ad)().format(),selectedPresetId:null}}}}}},{id:"widget1-interval",type:"timeseries",pizzagna:{[a.xW5.Configuration]:{[a.XMI]:{providers:{[a.Muk.DataSource]:{providerId:o.mx.providerId}}},header:{properties:{title:"Line Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[a.Muk.Adapter]:{properties:{series:[{id:"series-a",label:"Average CPU Load",selectedSeriesId:"series-a"},{id:"series-b",label:"Average CPU Load",selectedSeriesId:"series-b"},{id:"series-c",label:"Average CPU Load",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:a.woB.Bottom,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:a.CKZ.Line,scales:{x:{type:a.D9N.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,g.ad)().subtract(7,"day").format(),endDatetime:(0,g.ad)().format(),selectedPresetId:null}}}}}},{id:"widget2",type:"timeseries",pizzagna:{[a.xW5.Configuration]:{[a.XMI]:{providers:{[a.Muk.DataSource]:{providerId:o.GS.providerId}}},header:{properties:{title:"Area Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[a.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:a.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:a.CKZ.StackedArea}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,g.ad)().subtract(7,"day").format(),endDatetime:(0,g.ad)().format(),selectedPresetId:null}}}}}},{id:"widget2-interval",type:"timeseries",pizzagna:{[a.xW5.Configuration]:{[a.XMI]:{providers:{[a.Muk.DataSource]:{providerId:o.GS.providerId}}},header:{properties:{title:"Area Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[a.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:a.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:a.CKZ.StackedArea,scales:{x:{type:a.D9N.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,g.ad)().subtract(7,"day").format(),endDatetime:(0,g.ad)().format(),selectedPresetId:null}}}}}},{id:"widget3",type:"timeseries",pizzagna:{[a.xW5.Configuration]:{[a.XMI]:{providers:{[a.Muk.DataSource]:{providerId:o.GS.providerId}}},header:{properties:{title:"Stacked Percentage Area Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[a.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:a.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:a.CKZ.StackedPercentageArea}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,g.ad)().subtract(7,"day").format(),endDatetime:(0,g.ad)().format(),selectedPresetId:null}}}}}},{id:"widget3-interval",type:"timeseries",pizzagna:{[a.xW5.Configuration]:{[a.XMI]:{providers:{[a.Muk.DataSource]:{providerId:o.GS.providerId}}},header:{properties:{title:"Stacked Percentage Area Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[a.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:a.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:a.CKZ.StackedPercentageArea,scales:{x:{type:a.D9N.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,g.ad)().subtract(7,"day").format(),endDatetime:(0,g.ad)().format(),selectedPresetId:null}}}}}},{id:"widget4",type:"timeseries",pizzagna:{[a.xW5.Configuration]:{[a.XMI]:{providers:{[a.Muk.DataSource]:{providerId:o.mx.providerId}}},header:{properties:{title:"Bar Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[a.Muk.Adapter]:{properties:{series:[{id:"series-a",label:"Average CPU Load",selectedSeriesId:"series-a"},{id:"series-b",label:"Average CPU Load",selectedSeriesId:"series-b"},{id:"series-c",label:"Average CPU Load",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:a.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:a.CKZ.StackedBar}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,g.ad)().subtract(7,"day").format(),endDatetime:(0,g.ad)().format(),selectedPresetId:null}}}}}},{id:"widget4-interval",type:"timeseries",pizzagna:{[a.xW5.Configuration]:{[a.XMI]:{providers:{[a.Muk.DataSource]:{providerId:o.mx.providerId}}},header:{properties:{title:"Bar Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[a.Muk.Adapter]:{properties:{series:[{id:"series-a",label:"Average CPU Load",selectedSeriesId:"series-a"},{id:"series-b",label:"Average CPU Load",selectedSeriesId:"series-b"},{id:"series-c",label:"Average CPU Load",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:a.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:a.CKZ.StackedBar,scales:{x:{type:a.D9N.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,g.ad)().subtract(7,"day").format(),endDatetime:(0,g.ad)().format(),selectedPresetId:null}}}}}},{id:"widget5",type:"timeseries",pizzagna:{[a.xW5.Configuration]:{[a.XMI]:{providers:{[a.Muk.DataSource]:{providerId:o.Ct.providerId}}},header:{properties:{title:"Status Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[a.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:a.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:a.CKZ.StatusBar}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,g.ad)().subtract(14,"day").format(),endDatetime:(0,g.ad)().format(),selectedPresetId:null}}}}}},{id:"widget5-interval",type:"timeseries",pizzagna:{[a.xW5.Configuration]:{[a.XMI]:{providers:{[a.Muk.DataSource]:{providerId:o.ks.providerId}}},header:{properties:{title:"Status Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[a.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:a.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:a.CKZ.StatusBar,scales:{x:{type:a.D9N.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,g.ad)().subtract(14,"day").format(),endDatetime:(0,g.ad)().format(),selectedPresetId:null}}}}}}];var h=t(5457),S=t(46276),b=t(54607);const f=[{path:"",component:(()=>{class e{constructor(e,r,t,i){this.providerRegistry=e,this.submitHandler=r,this.themeSwitcherService=t,this.widgetTypesService=i,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.dsError=!1,this.providerRegistry.setProviders({[o.GS.providerId]:{provide:a.Fk3,useClass:o.GS,deps:[]},[o.mx.providerId]:{provide:a.Fk3,useClass:o.mx,deps:[]},[o.hp.providerId]:{provide:a.Fk3,useClass:o.hp,deps:[]},[o.Ct.providerId]:{provide:a.Fk3,useClass:o.Ct,deps:[]},[o.ks.providerId]:{provide:a.Fk3,useClass:o.ks,deps:[]}})}ngOnInit(){const e=u.map(e=>this.widgetTypesService.mergeWithWidgetType(e)),r=n()(e,e=>e.id);this.dashboard={positions:v,widgets:r}}onDsErrorChange(e){o.GS.mockError=e}}return e.\u0275fac=function(r){return new(r||e)(c.Y36(a.CNH),c.Y36(m),c.Y36(s.ERq),c.Y36(a.xTe))},e.\u0275cmp=c.Xpm({type:e,selectors:[["acme-dashboard"]],viewQuery:function(e,r){if(1&e&&c.Gf(a.MXM,7),2&e){let e;c.iGM(e=c.CRH())&&(r.dashboardComponent=e.first)}},features:[c._Bn([m])],decls:3,vars:6,consts:[[3,"editMode","dsError","editModeChange","dsErrorChange"],[1,"dashboard"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"]],template:function(e,r){1&e&&(c.TgZ(0,"dashboard-test-harness",0),c.NdJ("editModeChange",function(e){return r.editMode=e})("dsErrorChange",function(e){return r.onDsErrorChange(e)}),c.TgZ(1,"div",1),c.TgZ(2,"nui-dashboard",2),c.NdJ("dashboardChange",function(e){return r.dashboard=e})("gridsterConfigChange",function(e){return r.gridsterConfig=e}),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Q6J("editMode",r.editMode)("dsError",r.dsError),c.xp6(2),c.Q6J("nuiWidgetEditor",r.submitHandler)("dashboard",r.dashboard)("gridsterConfig",r.gridsterConfig)("editMode",r.editMode))},directives:[h.W,S.M,b.t],styles:[".dashboard[_ngcontent-%COMP%]{height:2080px;width:1200px}"]}),e})(),data:{srlc:{hideIndicator:!0}}}];let C=(()=>{class e{constructor(e){this.widgetTypesService=e,this.setupDataSourceProviders()}setupDataSourceProviders(){this.setDataSourceProviders("timeseries",[o.hp.providerId,o.GS.providerId,o.mx.providerId,o.Ct.providerId,o.ks.providerId])}setDataSourceProviders(e,r){const t=this.widgetTypesService.getWidgetType(e,1);this.widgetTypesService.setNode(t,"configurator",a.ACc.DataSourceProviders,r)}}return e.\u0275fac=function(r){return new(r||e)(c.LFG(a.xTe))},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[a.CNH],imports:[[d.o,a.Pi,s.Gsl,s.Az_,s.C6o,s.ZuS,s.qAs,s.vvu,s.cJ5,s.Ts3,i.Bz.forChild(f)]]}),e})()}}]);