!function(){"use strict";var e,r,i;function t(e,r,i){return r in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function s(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function a(e,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function o(e,r,i){return r&&a(e.prototype,r),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(self.webpackChunk_nova_ui_dashboards=self.webpackChunk_nova_ui_dashboards||[]).push([[461],{48280:function(a,n,p){var l,c,u,v,g,m,f,h,I,b,w,C;p.r(n),p.d(n,{TimeseriesWidgetPrototypeModule:function(){return Y}});var S,y=p(38583),k=p(99763),x=p(46806),P=p(69063),D=p(93877),A=p(4758),M=p(40837),z=p(5596),L=p(33618),B=p(85631),Z=p(55350),T=p(55206),U=p(59311),W=p.n(U),R=p(79765),F=p(33018),K=((S=o(function i(t){var a=this;d(this,i),this.toastService=t,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=function(r,i){var t=new R.xQ;return setTimeout(function(){if(a.allowSubmit)r.id||(r.id=(0,x.VjN)("acme")),t.next(r);else{var i=$localize(e||(e=s(["Submit failed."])));a.toastService.error({title:i}),t.error(i)}},1e3),t.asObservable()},this.tryRemove=function(e){var i=new R.xQ;return setTimeout(function(){if(a.allowRemoval)i.next(e);else{var t=$localize(r||(r=s(["Widget removal failed."])));a.toastService.error({title:t}),i.error(t)}},200),i.asObservable()},this.toastService.setConfig({timeOut:2e3})})).\u0275fac=function(e){return new(e||S)(F.LFG(x.klp))},S.\u0275prov=F.Yz7({token:S,factory:S.\u0275fac}),S),X=p(16738),j=p.n(X),G={widget1:{cols:6,rows:6,y:0,x:0},"widget1-interval":{cols:6,rows:6,y:0,x:6},widget2:{cols:6,rows:6,y:6,x:0},"widget2-interval":{cols:6,rows:6,y:6,x:6},widget3:{cols:6,rows:6,y:12,x:0},"widget3-interval":{cols:6,rows:6,y:12,x:6},widget4:{cols:6,rows:6,y:18,x:0},"widget4-interval":{cols:6,rows:6,y:18,x:6},widget5:{cols:6,rows:6,y:24,x:0},"widget5-interval":{cols:6,rows:6,y:24,x:6}},N=[{id:"widget1",type:"timeseries",pizzagna:t({},P.xW5.Configuration,(c={},t(c,P.XMI,{providers:(l={},t(l,P.Muk.DataSource,{providerId:T.wi.providerId}),t(l,P.Muk.InteractionHandler,{providerId:P.DJm,properties:{url:"${data.link}"}}),l)}),t(c,"header",{properties:{title:"Line chart",subtitle:"Basic timeseries widget"}}),t(c,"chart",{providers:t({},P.Muk.Adapter,{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{interaction:"series",legendPlacement:P.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:P.CKZ.Line}}}),t(c,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:j()().format()}}),c))},{id:"widget1-interval",type:"timeseries",pizzagna:t({},P.xW5.Configuration,(v={},t(v,P.XMI,{providers:(u={},t(u,P.Muk.DataSource,{providerId:T.wi.providerId}),t(u,P.Muk.InteractionHandler,{providerId:P.DJm,properties:{url:"${data.link}"}}),u)}),t(v,"header",{properties:{title:"Line chart",subtitle:"Basic timeseries widget"}}),t(v,"chart",{providers:t({},P.Muk.Adapter,{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:P.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:P.CKZ.Line,scales:{x:{type:P.D9N.TimeInterval,properties:{interval:86400}}}}}}),t(v,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:j()().format()}}),v))},{id:"widget2",type:"timeseries",pizzagna:t({},P.xW5.Configuration,(g={},t(g,P.XMI,{providers:t({},P.Muk.DataSource,{providerId:T.wi.providerId})}),t(g,"header",{properties:{title:"Area chart",subtitle:"Basic timeseries widget"}}),t(g,"chart",{providers:t({},P.Muk.Adapter,{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:P.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:P.CKZ.StackedArea}}}),t(g,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:j()().format()}}),g))},{id:"widget2-interval",type:"timeseries",pizzagna:t({},P.xW5.Configuration,(m={},t(m,P.XMI,{providers:t({},P.Muk.DataSource,{providerId:T.wi.providerId})}),t(m,"header",{properties:{title:"Area chart",subtitle:"Basic timeseries widget"}}),t(m,"chart",{providers:t({},P.Muk.Adapter,{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:P.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:P.CKZ.StackedArea,scales:{x:{type:P.D9N.TimeInterval,properties:{interval:86400}}}}}}),t(m,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:j()().format()}}),m))},{id:"widget3",type:"timeseries",pizzagna:t({},P.xW5.Configuration,(f={},t(f,P.XMI,{providers:t({},P.Muk.DataSource,{providerId:T.wi.providerId})}),t(f,"header",{properties:{title:"Stacked percentage area",subtitle:"Basic timeseries widget"}}),t(f,"chart",{providers:t({},P.Muk.Adapter,{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:P.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:P.CKZ.StackedPercentageArea}}}),t(f,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:j()().format()}}),f))},{id:"widget3-interval",type:"timeseries",pizzagna:t({},P.xW5.Configuration,(h={},t(h,P.XMI,{providers:t({},P.Muk.DataSource,{providerId:T.wi.providerId})}),t(h,"header",{properties:{title:"Stacked percentage area",subtitle:"Basic timeseries widget"}}),t(h,"chart",{providers:t({},P.Muk.Adapter,{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:P.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:P.CKZ.StackedPercentageArea,scales:{x:{type:P.D9N.TimeInterval,properties:{interval:86400}}}}}}),t(h,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:j()().format()}}),h))},{id:"widget4",type:"timeseries",pizzagna:t({},P.xW5.Configuration,(I={},t(I,P.XMI,{providers:t({},P.Muk.DataSource,{providerId:T.wi.providerId})}),t(I,"header",{properties:{title:"Bar chart",subtitle:"Basic timeseries widget"}}),t(I,"chart",{providers:t({},P.Muk.Adapter,{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:P.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:P.CKZ.StackedBar,scales:{}}}}),t(I,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:j()().format()}}),I))},{id:"widget4-interval",type:"timeseries",pizzagna:t({},P.xW5.Configuration,(b={},t(b,P.XMI,{providers:t({},P.Muk.DataSource,{providerId:T.wi.providerId})}),t(b,"header",{properties:{title:"Bar chart",subtitle:"Basic timeseries widget"}}),t(b,"chart",{providers:t({},P.Muk.Adapter,{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:P.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:P.CKZ.StackedBar,scales:{x:{type:P.D9N.TimeInterval,properties:{interval:86400}}}}}}),t(b,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:j()().format()}}),b))},{id:"widget5",type:"timeseries",pizzagna:t({},P.xW5.Configuration,(w={},t(w,P.XMI,{providers:t({},P.Muk.DataSource,{providerId:T.oC.providerId})}),t(w,"header",{properties:{title:"Status chart",subtitle:"Basic timeseries widget"}}),t(w,"chart",{providers:t({},P.Muk.Adapter,{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:P.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:P.CKZ.StatusBar}}}),t(w,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:j()().format()}}),w))},{id:"widget5-interval",type:"timeseries",pizzagna:t({},P.xW5.Configuration,(C={},t(C,P.XMI,{providers:t({},P.Muk.DataSource,{providerId:T.Yj.providerId})}),t(C,"header",{properties:{title:"Status chart",subtitle:"Basic timeseries widget"}}),t(C,"chart",{providers:t({},P.Muk.Adapter,{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}),properties:{configuration:{legendPlacement:P.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:P.CKZ.StatusBar,scales:{x:{type:P.D9N.TimeInterval,properties:{interval:86400}}}}}}),t(C,"timeframeSelection",{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:j()().format()}}),C))}],Q=p(46276),O=p(54607),J=[{path:"",component:function(){var e=function(){function e(r,i,s){var a;d(this,e),this.submitHandler=r,this.providerRegistry=i,this.widgetTypesService=s,this.gridsterConfig={},this.editMode=!1,this.providerRegistry.setProviders((t(a={},A.i.providerId,{provide:P.Fk3,useClass:A.i,deps:[]}),t(a,A.L2.providerId,{provide:P.Fk3,useClass:A.L2,deps:[]}),t(a,M.Q.providerId,{provide:P.Fk3,useClass:M.Q,deps:[]}),t(a,M.s.providerId,{provide:P.Fk3,useClass:M.s,deps:[]}),t(a,z.g.providerId,{provide:P.Fk3,useClass:z.g,deps:[x.mQy]}),t(a,L.W.providerId,{provide:P.Fk3,useClass:L.W,deps:[x.mQy]}),t(a,B.t.providerId,{provide:P.Fk3,useClass:B.t,deps:[x.mQy]}),t(a,Z.n.providerId,{provide:P.Fk3,useClass:Z.n,deps:[x.oDG]}),t(a,T.wi.providerId,{provide:P.Fk3,useClass:T.wi,deps:[]}),t(a,T.u2.providerId,{provide:P.Fk3,useClass:T.u2,deps:[]}),t(a,T.oC.providerId,{provide:P.Fk3,useClass:T.oC,deps:[]}),t(a,T.Yj.providerId,{provide:P.Fk3,useClass:T.Yj,deps:[]}),a))}return o(e,[{key:"ngOnInit",value:function(){var e=this,r=N.map(function(r){return e.widgetTypesService.mergeWithWidgetType(r)}),i=W()(r,function(e){return e.id});this.dashboard={positions:G,widgets:i}}}]),e}();return e.\u0275fac=function(r){return new(r||e)(F.Y36(K),F.Y36(P.CNH),F.Y36(P.xTe))},e.\u0275cmp=F.Xpm({type:e,selectors:[["acme-dashboard"]],viewQuery:function(e,r){var i;(1&e&&F.Gf(P.MXM,7),2&e)&&(F.iGM(i=F.CRH())&&(r.dashboardComponent=i.first))},features:[F._Bn([K])],decls:5,vars:5,consts:function(){return[[1,"w-100",2,"height","800px"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3",3,"value","valueChange"],$localize(i||(i=s([":\u241fc0390f914462a77b0ab8e053abf7c77af5b1da81\u241f6640158718767573444: Edit mode "])))]},template:function(e,r){1&e&&(F.TgZ(0,"div",0),F.TgZ(1,"nui-dashboard",1),F.NdJ("dashboardChange",function(e){return r.dashboard=e})("gridsterConfigChange",function(e){return r.gridsterConfig=e}),F.qZA(),F.qZA(),F.TgZ(2,"div",2),F.TgZ(3,"nui-switch",3),F.NdJ("valueChange",function(e){return r.editMode=e}),F.SDv(4,4),F.qZA(),F.qZA()),2&e&&(F.xp6(1),F.Q6J("nuiWidgetEditor",r.submitHandler)("dashboard",r.dashboard)("gridsterConfig",r.gridsterConfig)("editMode",r.editMode),F.xp6(2),F.Q6J("value",r.editMode))},directives:[Q.M,O.t,x.qUD],encapsulation:2}),e}(),data:{srlc:{hideIndicator:!0}}}],Y=function(){var e=function(){function e(r,i){d(this,e),this.widgetTypesService=r,this.componentRegistry=i,this.setupDataSourceProviders(),this.setupCustomProportionalWidgetDSConfig()}return o(e,[{key:"setupCustomProportionalWidgetDSConfig",value:function(){var e,r=this.widgetTypesService.getWidgetType("proportional",1);null===(e=r.widget.structure[P.XMI].providers)||void 0===e||delete e.refresher,this.widgetTypesService.setNode(r,"configurator",P.ACc.DataSourceConfigComponentType,D.b.lateLoadKey),this.componentRegistry.registerByLateLoadKey(D.b)}},{key:"setupDataSourceProviders",value:function(){this.setDataSourceProviders("table",[z.g.providerId,L.W.providerId,B.t.providerId,Z.n.providerId]),this.setDataSourceProviders("kpi",[A.i.providerId,A.L2.providerId]),this.setDataSourceProviders("proportional",[M.Q.providerId,M.s.providerId]),this.setDataSourceProviders("timeseries",[T.wi.providerId,T.u2.providerId,T.oC.providerId,T.Yj.providerId])}},{key:"setDataSourceProviders",value:function(e,r){var i=this.widgetTypesService.getWidgetType(e,1);this.widgetTypesService.setNode(i,"configurator",P.ACc.DataSourceProviders,r)}}]),e}();return e.\u0275fac=function(r){return new(r||e)(F.LFG(P.xTe),F.LFG(P.hiK))},e.\u0275mod=F.oAB({type:e}),e.\u0275inj=F.cJS({providers:[P.CNH],imports:[[y.ez,P.Pi,x.Gsl,x.Az_,x.C6o,x.sF0,x.ZuS,x.qAs,x.cJ5,x.Ts3,k.Bz.forChild(J)]]}),e}()}}])}();