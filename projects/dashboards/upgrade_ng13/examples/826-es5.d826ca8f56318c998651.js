!function(){"use strict";var e,t,o,n,i,r,a,s,u,c,l,d,h,p,g,f,m,v,Z,b,y;function T(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==o.return||o.return()}finally{if(s)throw r}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function A(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function w(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var o,n=k(e);if(t){var i=k(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return x(this,o)}}function x(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t,o){return t&&D(e.prototype,t),o&&D(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunk_nova_ui_dashboards=self.webpackChunk_nova_ui_dashboards||[]).push([[826],{40826:function(_,U,x){x.r(U),x.d(U,{CustomFormatterModuleRoute:function(){return Ue}});var k=x(90665),D=x(99763),M=x(46806),F=x(69063),O=x(33018),N=x(64762),J=x(79765),z=x(68307),R=x(46782),j=x(38583),Q=x(46276),L=x(54607),W=x(91841);function Y(e,t){if(1&e&&(O.TgZ(0,"nui-select-v2-option",10),O._uU(1),O.qZA()),2&e){var o=t.$implicit;O.Q6J("value",null==o?null:o.id),O.xp6(1),O.hij(" ",null==o?null:o.name," ")}}function $(e,t){if(1&e&&(O.TgZ(0,"nui-select-v2-option",10),O._uU(1),O.qZA()),2&e){var o=t.$implicit;O.Q6J("value",o),O.xp6(1),O.hij(" ",o," ")}}var B=".dashboard[_ngcontent-%COMP%]{height:400px}.custom-formatter-configurator__icon-select-template[_ngcontent-%COMP%]{height:20px}";function V(e,t){if(1&e){var o=O.EpF();O.TgZ(0,"button",6),O.NdJ("click",function(){return O.CHM(o),O.oxw().reInitializeDashboard()}),O._uU(1,"Restore Widget"),O.qZA()}}function P(e,t){if(1&e){var o=O.EpF();O.TgZ(0,"nui-dashboard",7),O.NdJ("dashboardChange",function(e){return O.CHM(o),O.oxw().dashboard=e})("gridsterConfigChange",function(e){return O.CHM(o),O.oxw().gridsterConfig=e}),O.qZA()}if(2&e){var n=O.oxw();O.Q6J("dashboard",n.dashboard)("editMode",n.editMode)("gridsterConfig",n.gridsterConfig)}}var H,E=((H=E||(E={})).Days="Day(s)",H.Weeks="Week(s)",H.Hours="Hour(s)",E),K=function(){var e=function(){function e(t){S(this,e),this.changeDetector=t,this.units=E.Days,this.destroy$=new J.xQ}return I(e,[{key:"ngOnChanges",value:function(e){var t,o,n=this;(e.properties||!this.properties)&&(this.currentMetricData=(null===(t=this.data.find(function(e){var t;return e.id===(null===(t=n.properties)||void 0===t?void 0:t.currentMetric)}))||void 0===t?void 0:t.data[0])||this.data[0].data[0],this.units=(null===(o=this.properties)||void 0===o?void 0:o.units)||this.units),this.setContentValue()}},{key:"ngOnInit",value:function(){var e=this;this.chartAssist.chartAssistSubject.pipe((0,z.b)(function(t){return e.emphasizedSeriesData=e.data.find(function(e){return e.id===t.payload.seriesId})}),(0,z.b)(function(){return e.setContentValue()}),(0,z.b)(function(){return e.setMetricValue()}),(0,R.R)(this.destroy$)).subscribe()}},{key:"getConvertedData",value:function(e){switch(this.units){case E.Weeks:return this.convertToWeeks(this.emphasizedSeriesData?e:this.currentMetricData);case E.Hours:return this.convertToHours(this.emphasizedSeriesData?e:this.currentMetricData);default:return this.emphasizedSeriesData?e:this.currentMetricData}}},{key:"setContentValue",value:function(){var e;this.chartContent=this.getConvertedData(null===(e=this.emphasizedSeriesData)||void 0===e?void 0:e.data[0])}},{key:"setMetricValue",value:function(){var e,t,o=this;this.chartMetric=this.emphasizedSeriesData?null===(e=this.data.find(function(e){var t;return o.getConvertedData(e.data[0])===o.getConvertedData(null===(t=o.emphasizedSeriesData)||void 0===t?void 0:t.data[0])}))||void 0===e?void 0:e.id:(null===(t=this.properties)||void 0===t?void 0:t.currentMetric)||this.data[0].id}},{key:"convertToWeeks",value:function(e){return e?Number((e/7).toFixed(2)):0}},{key:"convertToHours",value:function(e){return e?Number((24*e).toFixed(2)):0}}]),e}();return e.lateLoadKey="CustomDonutContentFormatterComponent",e.\u0275fac=function(t){return new(t||e)(O.Y36(O.sBO))},e.\u0275cmp=O.Xpm({type:e,selectors:[["custom-donut-content-formatter"]],hostAttrs:[1,"d-flex","flex-column","align-items-center"],inputs:{data:"data",chartAssist:"chartAssist",properties:"properties"},features:[O.TTD],decls:7,vars:3,consts:[[1,"nui-text-panel"],[1,"nui-text-page"],[1,"nui-text-secondary"]],template:function(e,t){1&e&&(O.ynx(0),O.TgZ(1,"div",0),O._uU(2),O.qZA(),O.TgZ(3,"div",1),O._uU(4),O.qZA(),O.TgZ(5,"div",2),O._uU(6),O.qZA(),O.BQk()),2&e&&(O.xp6(2),O.hij(" ",t.chartMetric||(null==t.properties?null:t.properties.currentMetric)||t.data[0].id," "),O.xp6(2),O.hij(" ",t.chartContent," "),O.xp6(2),O.hij(" ",t.units," "))},styles:[B]}),e}(),X=function(){var i=function(e){q(o,e);var t=C(o);function o(e,n,i,r,a){var s;return S(this,o),(s=t.call(this,e,n,i)).iconService=r,s.configuratorHeading=a,s.availableUnits=[E.Days,E.Hours,E.Weeks],s}return I(o,[{key:"addCustomFormControls",value:function(e){e.addControl("units",this.formBuilder.control(E.Days,k.kI.required))}}]),o}(F.dsi);return i.lateLoadKey="CustomFormatterConfiguratorComponent",i.\u0275fac=function(e){return new(e||i)(O.Y36(O.sBO),O.Y36(k.qu),O.Y36(M.mQy),O.Y36(M.C6t),O.Y36(F.p3D))},i.\u0275cmp=O.Xpm({type:i,selectors:[["custom-donut-content-formatter-configurator"]],features:[O.qOj],decls:15,vars:13,consts:function(){return[[3,"formGroup"],[1,"mt-4"],["caption",$localize(e||(e=w([":\u241f447ffd4cbfd3d8c3ca8dd216c0a82ecadc24a7de\u241f4196232656388343089:Metrics"]))),1,"mb-3",3,"control"],["formControlName","currentMetric",3,"formControl","popupViewportMargin"],[3,"value",4,"ngFor","ngForOf"],["for","required"],$localize(t||(t=w([":\u241fb17406f843dc33feb81478ae8273dc1aae06bbf6\u241f2244196281006156184: This field is required "]))),["caption",$localize(o||(o=w([":\u241fbe537f4ddb09e1a2856314f2cbe84063ab6b4170\u241f9074327260054432941:Units"]))),1,"mb-3",3,"control"],["formControlName","units",3,"formControl","popupViewportMargin"],$localize(n||(n=w([":\u241fb17406f843dc33feb81478ae8273dc1aae06bbf6\u241f2244196281006156184: This field is required "]))),[3,"value"]]},template:function(e,t){1&e&&(O.TgZ(0,"div",0),O.TgZ(1,"div",1),O.TgZ(2,"nui-form-field",2),O.TgZ(3,"nui-select-v2",3),O.ALo(4,"async"),O.YNc(5,Y,2,2,"nui-select-v2-option",4),O.qZA(),O.TgZ(6,"nui-validation-message",5),O.SDv(7,6),O.qZA(),O.qZA(),O.qZA(),O.TgZ(8,"div",1),O.TgZ(9,"nui-form-field",7),O.TgZ(10,"nui-select-v2",8),O.ALo(11,"async"),O.YNc(12,$,2,2,"nui-select-v2-option",4),O.qZA(),O.TgZ(13,"nui-validation-message",5),O.SDv(14,9),O.qZA(),O.qZA(),O.qZA(),O.qZA()),2&e&&(O.Q6J("formGroup",t.form),O.xp6(2),O.Q6J("control",t.currentMetric),O.xp6(1),O.Q6J("formControl",t.currentMetric)("popupViewportMargin",O.lcZ(4,9,t.configuratorHeading.height$)),O.xp6(2),O.Q6J("ngForOf",null==t.dsOutput?null:t.dsOutput.result),O.xp6(4),O.Q6J("control",t.form.controls.units),O.xp6(1),O.Q6J("formControl",t.form.controls.units)("popupViewportMargin",O.lcZ(11,11,t.configuratorHeading.height$)),O.xp6(2),O.Q6J("ngForOf",t.availableUnits))},directives:[k.JL,k.sg,M.hgI,M.j_n,k.JJ,k.u,k.oH,j.sg,M.CfE,M.rLF],pipes:[j.Ov],styles:[B]}),i}(),G=function(){var e=function(){function e(t,o,n,s){S(this,e),this.widgetTypesService=t,this.providerRegistry=o,this.componentRegistry=n,this.changeDetectorRef=s,this.editMode=!1,this.gridsterConfig={},this.componentRegistry.registerByLateLoadKey(X),this.componentRegistry.registerByLateLoadKey(K);var u=this.widgetTypesService.getWidgetType("proportional",1),c=[{componentType:F.TAb.lateLoadKey,label:$localize(i||(i=w(["Sum"])))},{componentType:F.O5k.lateLoadKey,label:$localize(r||(r=w(["Percentage"]))),configurationComponent:F.vHB.lateLoadKey},{componentType:K.lateLoadKey,label:$localize(a||(a=w(["Custom"]))),configurationComponent:X.lateLoadKey}];this.widgetTypesService.setNode(u,"configurator",F.ACc.Formatters,c),this.widgetTypesService.setNode(u,"configurator",F.ACc.DataSourceProviders,[te.providerId]),this.providerRegistry.setProviders(A({},te.providerId,{provide:F.Fk3,useClass:te,deps:[]}))}return I(e,[{key:"ngOnInit",value:function(){this.initializeDashboard()}},{key:"reInitializeDashboard",value:function(){this.dashboard=void 0,this.changeDetectorRef.detectChanges(),this.initializeDashboard()}},{key:"initializeDashboard",value:function(){var e=oe,t=A({},e.id,this.widgetTypesService.mergeWithWidgetType(e));this.dashboard={positions:A({},e.id,{cols:12,rows:6,y:0,x:0}),widgets:t}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(O.Y36(F.xTe),O.Y36(F.CNH),O.Y36(F.hiK),O.Y36(O.sBO))},e.\u0275cmp=O.Xpm({type:e,selectors:[["custom-donut-content-formatter-example"]],decls:6,vars:3,consts:function(){return[[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"value","valueChange"],$localize(s||(s=w([":\u241f18d630a3c524dbab6dc528571782a939a7bc95b1\u241f861097914887003123: Edit Mode "]))),["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboard","editMode","gridsterConfig","dashboardChange","gridsterConfigChange",4,"ngIf"],["type","button","displayStyle","action","nui-button","",3,"click"],["nuiWidgetEditor","",3,"dashboard","editMode","gridsterConfig","dashboardChange","gridsterConfigChange"]]},template:function(e,t){1&e&&(O.TgZ(0,"div",0),O.TgZ(1,"nui-switch",1),O.NdJ("valueChange",function(e){return t.editMode=e}),O.SDv(2,2),O.qZA(),O.YNc(3,V,2,0,"button",3),O.qZA(),O.TgZ(4,"div",4),O.YNc(5,P,1,3,"nui-dashboard",5),O.qZA()),2&e&&(O.xp6(1),O.Q6J("value",t.editMode),O.xp6(2),O.Q6J("ngIf",!(null!=t.dashboard&&t.dashboard.widgets.proportionalWidgetId)),O.xp6(2),O.Q6J("ngIf",t.dashboard))},directives:[M.qUD,j.O5,M.r0F,Q.M,L.t],styles:[B]}),e}(),ee=[{id:"Down",name:"Down",data:[Math.round(100*Math.random())]},{id:"Critical",name:"Critical",data:[Math.round(100*Math.random())]},{id:"Warning",name:"Warning",data:[Math.round(100*Math.random())]},{id:"Unknown",name:"Unknown",data:[Math.round(100*Math.random())]},{id:"Up",name:"Up",data:[Math.round(100*Math.random())]},{id:"Unmanaged",name:"Unmanaged",data:[Math.round(100*Math.random())]}],te=function(){var e=function(e){q(o,e);var t=C(o);function o(e){var n;return S(this,o),(n=t.call(this)).http=e,n.busy=new J.xQ,n}return I(o,[{key:"getFilteredData",value:function(){return(0,N.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.busy.next(!0),new Promise(function(e){setTimeout(function(){e({result:ee}),t.busy.next(!1)},1e3)})));case 1:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){this.outputsSubject.complete()}}]),o}(M.LvN);return e.providerId="StatusesExampleDatasource",e.\u0275fac=function(t){return new(t||e)(O.LFG(W.eN))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e}(),oe={id:"proportionalWidgetId",type:"proportional",pizzagna:A({},F.xW5.Configuration,{header:{properties:{title:"Proportional Widget!",subtitle:"Proportional widget with legend formatters"}},chart:{providers:A({},F.Muk.DataSource,{providerId:te.providerId}),properties:{configuration:{interactive:!0,chartOptions:{type:F.EMX.DonutChart,legendPlacement:F.woB.Right,contentFormatter:{componentType:K.lateLoadKey,properties:{currentMetric:"Down",units:E.Weeks}}},chartColors:["var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"]}}}})},ne=function(){var e=I(function e(){S(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O.Xpm({type:e,selectors:[["nui-custom-donut-content-formatter-docs"]],decls:129,vars:2,consts:[["href","../classes/DonutChartFormatterConfiguratorComponent.html","target","_blank"],["href","../injectables/ComponentRegistryService.html","target","_blank"],["href","../interfaces/IFormatterDefinition.html","target","_blank"],["href","../classes/WidgetTypesService.html","target","_blank"],["type","info",3,"allowDismiss"],["href","../injectables/ConfiguratorHeadingService.html","target","_blank"],["filenamePrefix","custom-donut-content-formatter-example","exampleTitle","Custom Formatter"]],template:function(e,t){1&e&&(O.TgZ(0,"h1"),O._uU(1,"Custom Formatter for the Donut Chart Content"),O.qZA(),O.TgZ(2,"h2"),O._uU(3,"Basic Steps"),O.qZA(),O.TgZ(4,"ol"),O.TgZ(5,"li"),O._uU(6," Follow the instructions from previous tutorials to get a basic dashboard up and running. "),O.qZA(),O.TgZ(7,"li"),O._uU(8," Create a component that will format the donut chart's content. It will take as an input the data that's normally displayed as a raw value. In this tutorial, our formatter will do the following: "),O.TgZ(9,"ul"),O.TgZ(10,"li"),O._uU(11,"Display the selected metric name"),O.qZA(),O.TgZ(12,"li"),O._uU(13,"Display the selected metric's value"),O.qZA(),O.TgZ(14,"li"),O._uU(15,"Convert and change the selected metric's value depending on the unit type selected"),O.qZA(),O.TgZ(16,"li"),O._uU(17,"Change the selected metric name and value depending on whether user interacts with the chart"),O.qZA(),O.qZA(),O.qZA(),O.TgZ(18,"li"),O._uU(19," Create a component that extends "),O.TgZ(20,"code"),O.TgZ(21,"a",0),O._uU(22,"DonutChartFormatterConfiguratorComponent"),O.qZA(),O.qZA(),O._uU(23,". This component will serve as the custom configurator section. If you have any custom form controls make sure to override "),O.TgZ(24,"code"),O._uU(25,"DonutChartFormatterConfiguratorComponent"),O.qZA(),O._uU(26,"'s "),O.TgZ(27,"code"),O._uU(28,"addCustomFormControls"),O.qZA(),O._uU(29," method and add the custom form controls using the form group argument. The controls in this form group will be available under the "),O.TgZ(30,"code"),O._uU(31,"properties"),O.qZA(),O._uU(32," input on the formatter. "),O.qZA(),O.TgZ(33,"li"),O._uU(34," Ensure that the following modules are included in the imports of the custom configurator section component's parent module: "),O.TgZ(35,"code"),O._uU(36,"NuiFormFieldModule"),O.qZA(),O._uU(37,", "),O.TgZ(38,"code"),O._uU(39,"NuiValidationMessageModule"),O.qZA(),O._uU(40,", and "),O.TgZ(41,"code"),O._uU(42,"NuiSelectV2Module"),O.qZA(),O.qZA(),O.TgZ(43,"li"),O._uU(44," Add the custom formatter and configurator section component class names to the declarations of the module(s) in which they're implemented. In this example, the class names are "),O.TgZ(45,"code"),O._uU(46,"CustomDonutContentFormatterComponent"),O.qZA(),O._uU(47," and "),O.TgZ(48,"code"),O._uU(49,"CustomDonutContentFormatterConfiguratorComponent"),O.qZA(),O._uU(50," respectively. "),O.qZA(),O.TgZ(51,"li"),O._uU(52," Prepare the dashboard framework to use our custom components by doing the following: "),O.TgZ(53,"ol"),O.TgZ(54,"li"),O._uU(55," Register the custom formatter and custom configurator section components using the "),O.TgZ(56,"code"),O.TgZ(57,"a",1),O._uU(58,"ComponentRegistryService"),O.qZA(),O.qZA(),O._uU(59,". This will make them available for late load by the dashboard framework. "),O.qZA(),O.TgZ(60,"li"),O._uU(61," Register the formatter definitions of type "),O.TgZ(62,"code"),O.TgZ(63,"a",2),O._uU(64,"IFormatterDefinition"),O.qZA(),O.qZA(),O._uU(65," using the "),O.TgZ(66,"code"),O.TgZ(67,"a",3),O._uU(68,"WidgetTypesService"),O.qZA(),O.qZA(),O._uU(69,". "),O.qZA(),O.TgZ(70,"nui-message",4),O.TgZ(71,"strong"),O._uU(72,"Note:"),O.qZA(),O._uU(73," In this tutorial, the above two steps are performed in the component's "),O.TgZ(74,"code"),O._uU(75,"constructor"),O.qZA(),O._uU(76,". But, in a real-world app, widget type modifications and component registrations like this might make more sense in a parent module's constructor. Moving framework initialization procedures such as these to a higher level in an app's hierarchy ensures that multiple dashboard instances within a common parent module have access to the same modifications. "),O.qZA(),O.qZA(),O.qZA(),O.TgZ(77,"li"),O._uU(78," At this point you should be able to open the widget editor using the Edit button in the menu at the top-right corner of the widget. Once the editor is open, expand the "),O.TgZ(79,"code"),O._uU(80,"Chart Options"),O.qZA(),O._uU(81," section. The custom component we created should be displayed in the "),O.TgZ(82,"code"),O._uU(83,"Custom format"),O.qZA(),O._uU(84," select. "),O.qZA(),O.TgZ(85,"li"),O._uU(86," Observe how additional selects "),O.TgZ(87,"code"),O._uU(88,"Metrics"),O.qZA(),O._uU(89," and "),O.TgZ(90,"code"),O._uU(91,"Units"),O.qZA(),O._uU(92," appeared under the formatter menu. The "),O.TgZ(93,"code"),O._uU(94,"Metrics"),O.qZA(),O._uU(95," one enables users to select a specific metric to show it's info in the chart content. The "),O.TgZ(96,"code"),O._uU(97,"Units"),O.qZA(),O._uU(98," one allows users to select different units to display that would format the metric's data to a selected unit format. "),O.qZA(),O.TgZ(99,"li"),O._uU(100," Choose your options and save changes, then quit the edit mode. Hover over either the chart legend, or chart's segments to see how the donut chart content data is changed dynamically. "),O.qZA(),O.TgZ(101,"li"),O._uU(102," In case you you use "),O.TgZ(103,"code"),O._uU(104,"nui-select-v2"),O.qZA(),O._uU(105," and "),O.TgZ(106,"code"),O._uU(107,"nui-combobox-v2"),O.qZA(),O._uU(108," components, it is possible that in case of large lists the component overlay may go beyond the configurator heading due to its high z-index. To fix this, use the "),O.TgZ(109,"code"),O._uU(110,"nui-select-v2"),O.qZA(),O._uU(111," and "),O.TgZ(112,"code"),O._uU(113,"nui-combobox-v2"),O.qZA(),O._uU(114," components input "),O.TgZ(115,"code"),O._uU(116,"popupViewportMargin"),O.qZA(),O._uU(117," and pass the height of the configurator heading into it. You can get the height of the configurator heading by simply injecting the "),O.TgZ(118,"code"),O.TgZ(119,"a",5),O._uU(120,"ConfiguratorHeadingService"),O.qZA(),O.qZA(),O._uU(121," and use its "),O.TgZ(122,"code"),O._uU(123,"height$"),O.qZA(),O._uU(124," observable and async pipe to instantly get the current height of the configurator heading. "),O.qZA(),O.qZA(),O.TgZ(125,"nui-message",4),O._uU(126," For details on how to create a custom formatter, take a look at the inline comments under the source expander of the following example.\n"),O.qZA(),O.TgZ(127,"nui-example-wrapper",6),O._UZ(128,"custom-donut-content-formatter-example"),O.qZA()),2&e&&(O.xp6(70),O.Q6J("allowDismiss",!1),O.xp6(55),O.Q6J("allowDismiss",!1))},directives:[M.qqZ,M.hD2,G],encapsulation:2}),e}(),ie=x(49977),re=x.n(ie),ae=x(92080),se=x.n(ae),ue=x(26215);function ce(e,t){if(1&e&&(O.TgZ(0,"div",2),O._UZ(1,"nui-icon",3),O.qZA()),2&e){var o=O.oxw();O.xp6(1),O.Q6J("icon",o.icon)}}function le(e,t){if(1&e&&(O.TgZ(0,"nui-select-v2-option",16),O._uU(1),O.qZA()),2&e){var o=t.$implicit;O.Q6J("value",o.id),O.xp6(1),O.hij(" ",o.label," ")}}function de(e,t){if(1&e&&(O.TgZ(0,"nui-select-v2-option",17),O.tHW(1,18),O._UZ(2,"nui-icon",19),O.N_p(),O.qZA()),2&e){var o=t.$implicit;O.Q6J("value",o),O.xp6(2),O.Q6J("icon",o)}}function he(e,t){if(1&e&&(O.TgZ(0,"div",24),O._UZ(1,"nui-icon",19),O.qZA()),2&e){var o=O.oxw().$implicit;O.xp6(1),O.Q6J("icon",o)}}function pe(e,t){1&e&&(O.TgZ(0,"span",25),O._uU(1,"Select Item"),O.qZA())}function ge(e,t){if(1&e&&(O.TgZ(0,"div",20),O.YNc(1,he,2,1,"div",21),O._UZ(2,"nui-icon",22),O.qZA(),O.YNc(3,pe,2,0,"ng-template",null,23,O.W1O)),2&e){var o=t.$implicit,n=t.open,i=O.MAs(4);O.xp6(1),O.Q6J("ngIf",o)("ngIfElse",i),O.xp6(1),O.Udp("transform",n?"rotate(180deg)":"")}}var fe=function(){return{width:36}},me=".dashboard[_ngcontent-%COMP%]{height:400px}.custom-formatter-configurator__icon-select-template[_ngcontent-%COMP%]{height:20px}";function ve(e,t){if(1&e){var o=O.EpF();O.TgZ(0,"button",6),O.NdJ("click",function(){return O.CHM(o),O.oxw().reInitializeDashboard()}),O._uU(1,"Restore Widget"),O.qZA()}}function Ze(e,t){if(1&e){var o=O.EpF();O.TgZ(0,"nui-dashboard",7),O.NdJ("dashboardChange",function(e){return O.CHM(o),O.oxw().dashboard=e})("gridsterConfigChange",function(e){return O.CHM(o),O.oxw().gridsterConfig=e}),O.qZA()}if(2&e){var n=O.oxw();O.Q6J("dashboard",n.dashboard)("editMode",n.editMode)("gridsterConfig",n.gridsterConfig)}}var be="https://api.punkapi.com/v2/beers",ye=function(){var e=function(){function e(t){S(this,e),this.changeDetector=t}return I(e,[{key:"isAboveThreshold",value:function(){return parseFloat(this.threshold)<=this.data.value}}]),e}();return e.lateLoadKey="CustomFormatterComponent",e.\u0275fac=function(t){return new(t||e)(O.Y36(O.sBO))},e.\u0275cmp=O.Xpm({type:e,selectors:[["custom-formatter"]],hostAttrs:[1,"d-flex"],inputs:{data:"data",icon:"icon",threshold:"threshold"},decls:4,vars:3,consts:[[1,"d-inline-flex","w-100"],["class","mr-2 d-flex align-items-center",4,"ngIf"],[1,"mr-2","d-flex","align-items-center"],[3,"icon"]],template:function(e,t){1&e&&(O.TgZ(0,"div",0),O.YNc(1,ce,2,1,"div",1),O.TgZ(2,"div"),O._uU(3),O.qZA(),O.qZA()),2&e&&(O.xp6(1),O.Q6J("ngIf",t.icon&&t.isAboveThreshold()),O.xp6(1),O.uIk("data-value",t.data.value),O.xp6(1),O.hij(" ",t.data.value," "))},directives:[j.O5,M.oJW],styles:[me]}),e}(),Te=function(){var e=function(e){q(o,e);var t=C(o);function o(e,n,i,r,a){var s;return S(this,o),(s=t.call(this,e,n,i,r)).iconService=a,s.options=[],s}return I(o,[{key:"ngOnInit",value:function(){var e,t=T(this.iconService.icons);try{for(t.s();!(e=t.n()).done;){var o=e.value;"severity"===o.category&&this.options.push(o.name)}}catch(n){t.e(n)}finally{t.f()}}},{key:"addCustomFormControls",value:function(e){e.addControl("icon",this.formBuilder.control("",k.kI.required)),e.addControl("threshold",this.formBuilder.control(null,k.kI.required))}}]),o}(F.AOA);return e.lateLoadKey="CustomFormatterConfiguratorComponent",e.\u0275fac=function(t){return new(t||e)(O.Y36(O.sBO),O.Y36(F.p3D),O.Y36(k.qu),O.Y36(M.mQy),O.Y36(M.C6t))},e.\u0275cmp=O.Xpm({type:e,selectors:[["custom-formatter-configurator"]],features:[O.qOj],decls:22,vars:15,consts:function(){return[[3,"formGroup"],["formGroupName","dataFieldIds",1,"mt-4"],["caption",$localize(u||(u=w([":\u241f5049e204c14c648691ac775a64fb504467aeb549\u241f6555318547274416232:Value"]))),3,"control"],["placeholder",$localize(c||(c=w([":\u241f8963500ed15311446b0523f2611efedf72556b0a\u241f3855456680169888833:Select value"]))),"formControlName","value",3,"popupViewportMargin"],[3,"value",4,"ngFor","ngForOf"],["for","required"],$localize(l||(l=w([":\u241fb17406f843dc33feb81478ae8273dc1aae06bbf6\u241f2244196281006156184: This field is required "]))),[1,"mt-4"],["caption",$localize(d||(d=w([":caption | displayed above the icon selection field\u241ffd8543daec71ca70e94c905a25fa2defaf8d60ea\u241f7861991600556423311:Icon"]))),3,"control"],["placeholder",$localize(h||(h=w([":\u241f48706c96c19919d44ca7ec6cc81d354c8a452105\u241f6798423092221387663:Select icon"]))),"formControlName","icon",3,"popupViewportMargin","displayValueTemplate","overlayConfig"],["class","d-flex align-items-center",3,"value",4,"ngFor","ngForOf"],$localize(p||(p=w([":error message | displayed on blur when icon selection is empty\u241fe94b7ac111ccf3af9e892dd50c8964b39dc5fdea\u241f350156926525289492: This field is required "]))),["caption",$localize(g||(g=w([":caption | displayed above the threshold textbox\u241f8bd51130ce656edded4f36f1adb4bd5304bd4292\u241f903859908728646095:A.B.V. Threshold"]))),3,"control"],["type","number","formControlName","threshold","placeholder",$localize(f||(f=w([":\u241fd1805ee940331c69e00628a2af158d6ca5a83fc8\u241f2311294945879906773:Set threshold"])))],$localize(m||(m=w([":error message | displayed on blur when threshold selection is empty\u241fe94b7ac111ccf3af9e892dd50c8964b39dc5fdea\u241f350156926525289492: This field is required "]))),["iconSelectTemplate",""],[3,"value"],[1,"d-flex","align-items-center",3,"value"],$localize(v||(v=w([":\u241faa00ec7c344d1e7475695faa5f049779b31ce8cc\u241f1802473558576816769:",":START_TAG_NUI_ICON:",":CLOSE_TAG_NUI_ICON:"])),"\ufffd#2\ufffd","\ufffd/#2\ufffd"),[3,"icon"],[1,"nui-select-v2__value"],["class","d-flex align-items-center nui-select-v2__value-content",4,"ngIf","ngIfElse"],["icon","caret-down"],["empty",""],[1,"d-flex","align-items-center","nui-select-v2__value-content"],[1,"nui-select-v2__placeholder"]]},template:function(e,t){if(1&e&&(O.TgZ(0,"form",0),O.TgZ(1,"div",1),O.TgZ(2,"nui-form-field",2),O.TgZ(3,"nui-select-v2",3),O.ALo(4,"async"),O.YNc(5,le,2,2,"nui-select-v2-option",4),O.qZA(),O.TgZ(6,"nui-validation-message",5),O.SDv(7,6),O.qZA(),O.qZA(),O.qZA(),O.TgZ(8,"div",7),O.TgZ(9,"nui-form-field",8),O.TgZ(10,"nui-select-v2",9),O.ALo(11,"async"),O.YNc(12,de,3,2,"nui-select-v2-option",10),O.qZA(),O.TgZ(13,"nui-validation-message",5),O.SDv(14,11),O.qZA(),O.qZA(),O.qZA(),O.TgZ(15,"div",7),O.TgZ(16,"nui-form-field",12),O._UZ(17,"nui-textbox",13),O.TgZ(18,"nui-validation-message",5),O.SDv(19,14),O.qZA(),O.qZA(),O.qZA(),O.qZA(),O.YNc(20,ge,5,4,"ng-template",null,15,O.W1O)),2&e){var o=O.MAs(21);O.Q6J("formGroup",t.form),O.xp6(2),O.Q6J("control",t.dataFieldIds.controls.value),O.xp6(1),O.Q6J("popupViewportMargin",O.lcZ(4,10,t.configuratorHeading.height$)),O.xp6(2),O.Q6J("ngForOf",t.dropdownItems.value),O.xp6(4),O.Q6J("control",t.form.controls.icon),O.xp6(1),O.Q6J("popupViewportMargin",O.lcZ(11,12,t.configuratorHeading.height$))("displayValueTemplate",o)("overlayConfig",O.DdM(14,fe)),O.xp6(2),O.Q6J("ngForOf",t.options),O.xp6(4),O.Q6J("control",t.form.controls.threshold)}},directives:[k._Y,k.JL,k.sg,k.x0,M.hgI,M.j_n,k.JJ,k.u,j.sg,M.CfE,M.XHW,M.rLF,M.oJW,j.O5],pipes:[j.Ov],styles:[me]}),e}(),_e=function(){var e=function(){function e(t,o,n,i,r){S(this,e),this.widgetTypesService=t,this.providerRegistry=o,this.componentRegistry=n,this.tableFormatterRegistryService=i,this.changeDetectorRef=r,this.editMode=!1,this.gridsterConfig={},this.componentRegistry.registerByLateLoadKey(Te),this.componentRegistry.registerByLateLoadKey(ye);var a=this.widgetTypesService.getWidgetType("table",1),s=[{componentType:F.aDR.lateLoadKey,label:$localize(Z||(Z=w([":table formatter|:No formatter"]))),dataTypes:{value:null}},{componentType:ye.lateLoadKey,label:$localize(b||(b=w([":table formatter|:Custom formatter"]))),configurationComponent:Te.lateLoadKey,dataTypes:{value:["abv"]}}];this.tableFormatterRegistryService.addItems(s),this.widgetTypesService.setNode(a,"configurator",F.ACc.DataSourceProviders,[Ae.providerId]),this.providerRegistry.setProviders(A({},Ae.providerId,{provide:F.Fk3,useClass:Ae,deps:[]}))}return I(e,[{key:"ngOnInit",value:function(){this.initializeDashboard()}},{key:"reInitializeDashboard",value:function(){this.dashboard=void 0,this.changeDetectorRef.detectChanges(),this.initializeDashboard()}},{key:"initializeDashboard",value:function(){var e=we,t=A({},e.id,this.widgetTypesService.mergeWithWidgetType(e));this.dashboard={positions:A({},e.id,{cols:12,rows:6,y:0,x:0}),widgets:t}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(O.Y36(F.xTe),O.Y36(F.CNH),O.Y36(F.hiK),O.Y36(F.Car),O.Y36(O.sBO))},e.\u0275cmp=O.Xpm({type:e,selectors:[["custom-formatter-example"]],decls:6,vars:3,consts:function(){return[[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"value","valueChange"],$localize(y||(y=w([":\u241f18d630a3c524dbab6dc528571782a939a7bc95b1\u241f861097914887003123: Edit Mode "]))),["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboard","editMode","gridsterConfig","dashboardChange","gridsterConfigChange",4,"ngIf"],["type","button","displayStyle","action","nui-button","",3,"click"],["nuiWidgetEditor","",3,"dashboard","editMode","gridsterConfig","dashboardChange","gridsterConfigChange"]]},template:function(e,t){1&e&&(O.TgZ(0,"div",0),O.TgZ(1,"nui-switch",1),O.NdJ("valueChange",function(e){return t.editMode=e}),O.SDv(2,2),O.qZA(),O.YNc(3,ve,2,0,"button",3),O.qZA(),O.TgZ(4,"div",4),O.YNc(5,Ze,1,3,"nui-dashboard",5),O.qZA()),2&e&&(O.xp6(1),O.Q6J("value",t.editMode),O.xp6(2),O.Q6J("ngIf",!(null!=t.dashboard&&t.dashboard.widgets.tableWidgetId)),O.xp6(2),O.Q6J("ngIf",t.dashboard))},directives:[M.qUD,j.O5,M.r0F,Q.M,L.t],styles:[me]}),e}(),Ae=function(){var e=function(e){q(o,e);var t=C(o);function o(e){var n;return S(this,o),(n=t.call(this)).logger=e,n.cache=Array.from({length:0}),n.totalItems=325,n.page=1,n.busy=new ue.X(!1),n.dataFields=[{id:"id",label:"No",dataType:"number"},{id:"name",label:"Name",dataType:"string"},{id:"tagline",label:"Tagline",dataType:"string"},{id:"first_brewed",label:"First Brewed",dataType:"string"},{id:"description",label:"Description",dataType:"string"},{id:"brewers_tips",label:"Brewer's Tips",dataType:"string"},{id:"abv",label:"Alcohol By Volume",dataType:"abv"}],n}return I(o,[{key:"getFilteredData",value:function(e){var t,o,n,i,r,a,s,u,c,l,d,h,p,g;return(0,N.mG)(this,void 0,void 0,regeneratorRuntime.mark(function f(){var m,v,Z,b,y,T,_,A,w,q=this;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(m=null!==(n=null===(o=null===(t=e.virtualScroll)||void 0===t?void 0:t.value)||void 0===o?void 0:o.start)&&void 0!==n?n:0,v=null!==(a=null===(r=null===(i=e.virtualScroll)||void 0===i?void 0:i.value)||void 0===r?void 0:r.end)&&void 0!==a?a:0,Z=v-m,0===m&&(this.cache=[]),!(null===(s=e.sorter)||void 0===s?void 0:s.value)||re()(this.lastSortValue,e.sorter.value)||0!==(null===(u=e.virtualScroll)||void 0===u?void 0:u.value.start)||!this.lastVirtualScroll){f.next=34;break}if(b=Math.ceil(Z?this.totalItems/Z:1),y=Math.max(Z<80?Z:80,1),_=null,"desc"!==(null===(l=null===(c=e.sorter)||void 0===c?void 0:c.value)||void 0===l?void 0:l.direction)){f.next=19;break}this.cache=[],A=0;case 7:if(!(A<this.page)){f.next=19;break}return f.next=10,fetch("".concat(be,"/?page=").concat(b-A||1,"&per_page=").concat(y));case 10:return f.next=12,f.sent.json();case 12:(_=f.sent)&&_.length<y&&this.page++,T={brewInfo:null==_?void 0:_.map(function(e){return{id:e.id,name:e.name,tagline:e.tagline,first_brewed:e.first_brewed,description:e.description,brewers_tips:e.brewers_tips}}),total:null==_?void 0:_.length},this.cache=b-A!=0?this.cache.concat(T.brewInfo):this.cache;case 16:++A,f.next=7;break;case 19:if("asc"!==(null===(h=null===(d=e.sorter)||void 0===d?void 0:d.value)||void 0===h?void 0:h.direction)){f.next=33;break}this.cache=[],w=0;case 22:if(!(w<this.page)){f.next=33;break}return f.next=25,fetch("".concat(be,"/?page=").concat(w+1,"&per_page=").concat(y));case 25:return f.next=27,f.sent.json();case 27:_=f.sent,T={brewInfo:null==_?void 0:_.map(function(e){return{id:e.id,name:e.name,tagline:e.tagline,first_brewed:e.first_brewed,description:e.description,brewers_tips:e.brewers_tips}}),total:null==_?void 0:_.length},this.cache=this.cache.concat(T.brewInfo);case 30:w++,f.next=22;break;case 33:return f.abrupt("return",(this.lastSortValue=null===(p=e.sorter)||void 0===p?void 0:p.value,this.lastVirtualScroll=null===(g=e.virtualScroll)||void 0===g?void 0:g.value,{result:{repeat:{itemsSource:this.sortData(this.cache,e)},paginator:{total:this.totalItems},dataFields:this.dataFields}}));case 34:return f.abrupt("return",(this.busy.next(!0),new Promise(function(t){setTimeout(function(){q.getData(m,v,e).then(function(o){var n,i;!o||(q.cache=q.cache.concat(o.brewInfo),q.dataSubject.next(q.cache),t({result:{repeat:{itemsSource:q.sortData(q.cache,e)},paginator:{total:q.totalItems},dataFields:q.dataFields}}),q.lastSortValue=null===(n=e.sorter)||void 0===n?void 0:n.value,q.lastVirtualScroll=null===(i=e.virtualScroll)||void 0===i?void 0:i.value,q.busy.next(!1))})},500)})));case 35:case"end":return f.stop()}},f,this)}))}},{key:"getData",value:function(){var e,t,o,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2?arguments[2]:void 0;return(0,N.mG)(this,void 0,void 0,regeneratorRuntime.mark(function s(){var u,c,l,d;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(u=r-i,c=Math.ceil(u?this.totalItems/u:1),l=null,d=Math.max(u<80?u:80,1),s.t0="asc"===(null===(t=null===(e=a.sorter)||void 0===e?void 0:e.value)||void 0===t?void 0:t.direction),!s.t0){s.next=10;break}return s.next=7,fetch("".concat(be,"/?page=").concat(this.page,"&per_page=").concat(d));case 7:return s.next=9,s.sent.json();case 9:l=s.sent;case 10:if(s.t1="desc"===(null===(n=null===(o=a.sorter)||void 0===o?void 0:o.value)||void 0===n?void 0:n.direction),!s.t1){s.next=17;break}return s.next=14,fetch("".concat(be,"/?page=").concat(c-this.page,"&per_page=").concat(d));case 14:return s.next=16,s.sent.json();case 16:l=s.sent;case 17:if(s.t2=a.sorter,s.t2){s.next=24;break}return s.next=21,fetch("".concat(be,"/?page=").concat(this.page,"&per_page=").concat(d));case 21:return s.next=23,s.sent.json();case 23:l=s.sent;case 24:return s.abrupt("return",{brewInfo:null==l?void 0:l.map(function(e,t){return{id:e.id,abv:e.abv,name:e.name,tagline:e.tagline,first_brewed:e.first_brewed,description:e.description,brewers_tips:e.brewers_tips}}),total:null==l?void 0:l.length});case 25:case"end":return s.stop()}},s,this)}))}},{key:"sortData",value:function(e,t){var o,n,i,r;return se()(e,null===(n=null===(o=t.sorter)||void 0===o?void 0:o.value)||void 0===n?void 0:n.sortBy,null===(r=null===(i=t.sorter)||void 0===i?void 0:i.value)||void 0===r?void 0:r.direction)}}]),o}(M.LvN);return e.providerId="BeerDataSource",e}(),we={id:"tableWidgetId",type:"table",pizzagna:A({},F.xW5.Configuration,{header:{properties:{title:"Stupendous Suds",subtitle:"Try These Brilliant Brews"}},table:{providers:A({},F.Muk.DataSource,{providerId:Ae.providerId}),properties:{configuration:{columns:[{id:"column1",label:"Beer Name",isActive:!0,width:185,formatter:{componentType:F.aDR.lateLoadKey,properties:{dataFieldIds:{value:"name"}}}},{id:"column2",label:"Tagline",isActive:!0,width:250,formatter:{componentType:F.aDR.lateLoadKey,properties:{dataFieldIds:{value:"tagline"}}}},{id:"column3",label:"Alcohol By Volume",isActive:!0,width:150,formatter:{componentType:ye.lateLoadKey,properties:{dataFieldIds:{value:"abv"},icon:"severity_error",threshold:"5"}}},{id:"column4",label:"Description",isActive:!0,formatter:{componentType:F.aDR.lateLoadKey,properties:{dataFieldIds:{value:"description"}}}}],sorterConfiguration:{descendantSorting:!1,sortBy:""},hasVirtualScroll:!0}}}})},qe=[{path:"table-formatter",component:function(){var e=I(function e(){S(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O.Xpm({type:e,selectors:[["nui-custom-formatter-docs"]],decls:149,vars:3,consts:[["href","../additional-documentation/tutorials/customization/configurator-section.html","target","_parent"],["type","info",3,"allowDismiss"],["href","../components/LinkConfiguratorComponent.html","target","_blank"],["href","../components/LinkFormatterComponent.html","target","_blank"],["href","../classes/WidgetTypesService.html","target","_blank"],["href","../injectables/ComponentRegistryService.html","target","_blank"],["href","../additional-documentation/getting-started.html","target","_parent"],["href","../classes/FormatterConfiguratorComponent.html","target","_blank"],["href","../interfaces/ITableFormatterDefinition.html","target","_blank"],["href","../injectables/TableFormatterRegistryService.html","target","_blank"],["href","../classes/FormatterRegistryService.html","target","_blank"],["href","../injectables/ConfiguratorHeadingService.html","target","_blank"],["filenamePrefix","custom-formatter-example","exampleTitle","Custom Table Formatter"]],template:function(e,t){1&e&&(O.TgZ(0,"h1"),O._uU(1,"Implementing a Custom Formatter"),O.qZA(),O.TgZ(2,"p"),O._uU(3," In the "),O.TgZ(4,"a",0),O._uU(5,"Custom Configurator Section"),O.qZA(),O._uU(6," tutorial, we talked about giving users the ability to configure a widget behavior or layout that's not configurable out of the box. While developing a dashboard, you may discover a need to give users the ability to add some special layout or styling to the contents of a table cell beyond raw text display or a link. In this tutorial, we'll create a custom formatter and a custom configurator component to conditionally add an icon to the contents of a specified column.\n"),O.qZA(),O.TgZ(7,"nui-message",1),O.TgZ(8,"strong"),O._uU(9,"Note:"),O.qZA(),O._uU(10," Off the shelf, the Nova Dashboards framework provides a "),O.TgZ(11,"code"),O.TgZ(12,"a",2),O._uU(13,"LinkConfiguratorComponent"),O.qZA(),O.qZA(),O._uU(14," which allows users pair a value and url to be displayed as a link in a specified column. The corresponding "),O.TgZ(15,"code"),O.TgZ(16,"a",3),O._uU(17,"LinkFormatterComponent"),O.qZA(),O.qZA(),O._uU(18," uses the configurator's output to determine which value to use for display and which value to use for the url. The formatter then displays the formatted link in each table cell within the configured column.\n"),O.qZA(),O.TgZ(19,"h2"),O._uU(20,"Fundamental Concepts"),O.qZA(),O.TgZ(21,"ul"),O.TgZ(22,"li"),O.TgZ(23,"code"),O.TgZ(24,"a",4),O._uU(25,"WidgetTypesService"),O.qZA(),O.qZA(),O.qZA(),O.TgZ(26,"li"),O.TgZ(27,"code"),O.TgZ(28,"a",5),O._uU(29,"ComponentRegistryService"),O.qZA(),O.qZA(),O.qZA(),O.TgZ(30,"li"),O._uU(31," Custom configurator section component "),O.qZA(),O.TgZ(32,"li"),O._uU(33," Custom formatter "),O.qZA(),O.qZA(),O.TgZ(34,"h2"),O._uU(35,"Basic Steps"),O.qZA(),O.TgZ(36,"ol"),O.TgZ(37,"li"),O._uU(38," Follow the instructions "),O.TgZ(39,"a",6),O._uU(40,"here"),O.qZA(),O._uU(41," to set up your environment for dashboard development. "),O.qZA(),O.TgZ(42,"li"),O._uU(43," Follow the instructions from previous tutorials to get a basic dashboard up and running. "),O.qZA(),O.TgZ(44,"li"),O._uU(45," Create a component that will format the contents of a table cell. It will take as an input the data that's normally displayed as a raw value in the cell. In this tutorial, our formatter will prepend the data with an icon if the value meets a certain threshold. "),O.qZA(),O.TgZ(46,"li"),O._uU(47," Create a component that extends "),O.TgZ(48,"code"),O.TgZ(49,"a",7),O._uU(50,"FormatterConfiguratorComponent"),O.qZA(),O.qZA(),O._uU(51,". This component will serve as the custom configurator section. If you have any custom form controls make sure to override "),O.TgZ(52,"code"),O._uU(53,"FormatterConfiguratorComponent"),O.qZA(),O._uU(54,"'s "),O.TgZ(55,"code"),O._uU(56,"addCustomFormControls"),O.qZA(),O._uU(57," method and add the custom form controls using the form group argument. The controls in this form group will each correspond to an input on the formatter. "),O.qZA(),O.TgZ(58,"li"),O._uU(59," Ensure that the following modules are included in the imports of the custom configurator section component's parent module: "),O.TgZ(60,"code"),O._uU(61,"NuiFormFieldModule"),O.qZA(),O._uU(62,", "),O.TgZ(63,"code"),O._uU(64,"NuiIconModule"),O.qZA(),O._uU(65,", "),O.TgZ(66,"code"),O._uU(67,"NuiTextboxModule "),O.qZA(),O._uU(68,", "),O.TgZ(69,"code"),O._uU(70,"NuiValidationMessageModule"),O.qZA(),O._uU(71,", and "),O.TgZ(72,"code"),O._uU(73,"NuiSelectV2Module"),O.qZA(),O.qZA(),O.TgZ(74,"li"),O._uU(75," Ensure that the "),O.TgZ(76,"code"),O._uU(77,"NuiIconModule"),O.qZA(),O._uU(78," is included in the imports of the custom formatter component's parent module. "),O.qZA(),O.TgZ(79,"li"),O._uU(80," Add the custom formatter and configurator section component class names to the declarations of the module(s) in which they're implemented. In this example, the class names are "),O.TgZ(81,"code"),O._uU(82,"CustomFormatterComponent"),O.qZA(),O._uU(83," and "),O.TgZ(84,"code"),O._uU(85,"CustomFormatterConfiguratorComponent"),O.qZA(),O._uU(86," respectively. "),O.qZA(),O.TgZ(87,"li"),O._uU(88," Prepare the dashboard framework to use our custom components by doing the following: "),O.TgZ(89,"ol"),O.TgZ(90,"li"),O._uU(91," Register the custom formatter and custom configurator section components using the "),O.TgZ(92,"code"),O.TgZ(93,"a",5),O._uU(94,"ComponentRegistryService"),O.qZA(),O.qZA(),O._uU(95,". This will make them available for late load by the dashboard framework. "),O.qZA(),O.TgZ(96,"li"),O._uU(97," Register the formatter definitions of type "),O.TgZ(98,"code"),O.TgZ(99,"a",8),O._uU(100,"ITableFormatterDefinition"),O.qZA(),O.qZA(),O._uU(101," using the "),O.TgZ(102,"code"),O.TgZ(103,"a",9),O._uU(104,"TableFormatterRegistryService"),O.qZA(),O._uU(105," which is extending ("),O.TgZ(106,"a",10),O._uU(107,"FormatterRegistryService"),O.qZA(),O._uU(108,")"),O.qZA(),O._uU(109,". "),O.qZA(),O.TgZ(110,"nui-message",1),O.TgZ(111,"strong"),O._uU(112,"Note:"),O.qZA(),O._uU(113," In this tutorial, the above two steps are performed in the component's "),O.TgZ(114,"code"),O._uU(115,"constructor"),O.qZA(),O._uU(116,". But, in a real-world app, widget type modifications and component registrations like this might make more sense in a parent module's constructor. Moving framework initialization procedures such as these to a higher level in an app's hierarchy ensures that multiple dashboard instances within a common parent module have access to the same modifications. "),O.qZA(),O.qZA(),O.qZA(),O.TgZ(117,"li"),O._uU(118," At this point you should be able to open the widget editor using the Edit button in the menu at the top-right corner of the widget. Once the editor is open, expand any of the column sections. The custom component we created should be displayed in that section of the editor. "),O.qZA(),O.TgZ(119,"li"),O._uU(120," Select the custom formatter from the Format dropdown and choose an icon and threshold. The selected icon should now be shown on the left side of the corresponding column in the table widget preview if the value is above the threshold. "),O.qZA(),O.TgZ(121,"li"),O._uU(122," In case you use "),O.TgZ(123,"code"),O._uU(124,"nui-select-v2"),O.qZA(),O._uU(125," and "),O.TgZ(126,"code"),O._uU(127,"nui-combobox-v2"),O.qZA(),O._uU(128," components, it is possible that in case of large lists the component overlay may go beyond the configurator heading due to its high z-index. To fix this, use the "),O.TgZ(129,"code"),O._uU(130,"nui-select-v2"),O.qZA(),O._uU(131," and "),O.TgZ(132,"code"),O._uU(133,"nui-combobox-v2"),O.qZA(),O._uU(134," components input "),O.TgZ(135,"code"),O._uU(136,"popupViewportMargin"),O.qZA(),O._uU(137," and pass the height of the configurator heading into it. You can get the height of the configurator heading by simply injecting the "),O.TgZ(138,"code"),O.TgZ(139,"a",11),O._uU(140,"ConfiguratorHeadingService"),O.qZA(),O.qZA(),O._uU(141," and use its "),O.TgZ(142,"code"),O._uU(143,"height$"),O.qZA(),O._uU(144," observable and async pipe to instantly get the current height of the configurator heading. "),O.qZA(),O.qZA(),O.TgZ(145,"nui-message",1),O._uU(146," For details on how to create a custom formatter, take a look at the inline comments under the source expander of the following example.\n"),O.qZA(),O.TgZ(147,"nui-example-wrapper",12),O._UZ(148,"custom-formatter-example"),O.qZA()),2&e&&(O.xp6(7),O.Q6J("allowDismiss",!1),O.xp6(103),O.Q6J("allowDismiss",!1),O.xp6(35),O.Q6J("allowDismiss",!1))},directives:[M.qqZ,M.hD2,_e],encapsulation:2}),e}(),data:{srlc:{hideIndicator:!0},showThemeSwitcher:!0}},{path:"donut-content-formatter",component:ne,data:{srlc:{hideIndicator:!0},showThemeSwitcher:!0}}],Ue=function(){var e=I(function e(){S(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=O.oAB({type:e}),e.\u0275inj=O.cJS({imports:[[D.Bz.forChild(qe),M.vvu,M.Az_,M.gkT,F.Pi,M.C6o,M.YMY,M.cJ5,M.qAs,M.uCA,M.Ts3,k.UX]]}),e}()}}])}();