import{a as l,b as r,c as o,d as e}from"./chunk-URNVATU6.js";import{a as M,b as Y}from"./chunk-YNEQTNRT.js";import{a as K,j as z,k as G,l as H}from"./chunk-PPQN6QZA.js";import{a as b}from"./chunk-MD6F45Z7.js";import"./chunk-LVFB3RKU.js";import"./chunk-SPPZFYNP.js";import"./chunk-GDLY3HLX.js";import"./chunk-KJJ6TWPM.js";import"./chunk-LA47LHC2.js";import"./chunk-4HXDNOXI.js";import"./chunk-5ELJRXLQ.js";import"./chunk-TGKM7UGT.js";import"./chunk-IYRXTWZX.js";import"./chunk-ZXV5URGJ.js";import"./chunk-BC67S2GR.js";import"./chunk-OGZVPW3S.js";import"./chunk-4GVDWU57.js";import"./chunk-OZALKHRQ.js";import"./chunk-AZWDHRVR.js";import"./chunk-EWX2S4QW.js";import"./chunk-SE5ZEHMX.js";import"./chunk-RDGFC72M.js";import"./chunk-LZOJVJPM.js";import"./chunk-NZJJPQMD.js";import"./chunk-3J5U6KSS.js";import"./chunk-K6DXWVOP.js";import{a as V}from"./chunk-SBSX6PXY.js";import"./chunk-ZKE5BQF3.js";import"./chunk-KJCSOJ3W.js";import"./chunk-LTNK7SWM.js";import"./chunk-5RQCZS6F.js";import"./chunk-7ZQISLLB.js";import{a as Z}from"./chunk-LZEECJLY.js";import"./chunk-OPPBYCVB.js";import"./chunk-NVJ4XKOU.js";import"./chunk-JOEIBHEU.js";import"./chunk-POOVCM3L.js";import"./chunk-EU2T5UE6.js";import{A as I,C as U,Ja as y,b as ti,c as D,ea as k,ha as g,ia as W,ka as n}from"./chunk-573U3PX6.js";import"./chunk-URWUMSY2.js";import"./chunk-GDYE5MCV.js";import{Dd as L,Gc as O,Hc as B,od as q,se as j,te as F}from"./chunk-PMWUHOKA.js";import{N as x}from"./chunk-YHLZAVJ5.js";import{Db as C,Eb as E,Ec as m,Fc as u,Gc as f,Ub as S,Xc as N,bc as h,cc as T,la as P,pa as R,rb as _,xb as c}from"./chunk-MCPF2SEG.js";import"./chunk-CUY44B7R.js";import{a as v,b as A,g as oi}from"./chunk-VBFW7A5V.js";var X=(()=>{class s{constructor(a,p,t){this.widgetTypesService=a,this.providerRegistry=p,this.changeDetectorRef=t,this.gridsterConfig={},this.editMode=!1}ngOnInit(){let a=this.widgetTypesService.getWidgetType("kpi",1);this.widgetTypesService.setNode(a,"configurator",W.DataSourceProviders,[l.providerId,r.providerId,e.providerId,o.providerId]),[l,r,e].forEach(p=>{p.mockError=!0}),this.providerRegistry.setProviders({[l.providerId]:{provide:k,useClass:l,deps:[]},[r.providerId]:{provide:k,useClass:r,deps:[]},[e.providerId]:{provide:k,useClass:e,deps:[]},[o.providerId]:{provide:k,useClass:o,deps:[]}}),this.initializeDashboard()}reInitializeDashboard(){this.dashboard=void 0,this.changeDetectorRef.detectChanges(),this.initializeDashboard()}initializeDashboard(){let a=ai,p={[a.id]:this.widgetTypesService.mergeWithWidgetType(a)},t={[a.id]:{cols:4,rows:6,y:0,x:0}};this.dashboard={positions:t,widgets:p}}static{this.\u0275fac=function(p){return new(p||s)(c(b),c(y),c(N))}}static{this.\u0275cmp=C({type:s,selectors:[["kpi-error-test"]],standalone:!1,decls:3,vars:4,consts:[[3,"editModeChange","editMode"],[1,"dashboard"],["nuiWidgetEditor","",3,"dashboardChange","gridsterConfigChange","dashboard","gridsterConfig","editMode"]],template:function(p,t){p&1&&(h(0,"dashboard-test-harness",0),f("editModeChange",function(d){return u(t.editMode,d)||(t.editMode=d),d}),h(1,"div",1)(2,"nui-dashboard",2),f("dashboardChange",function(d){return u(t.dashboard,d)||(t.dashboard=d),d})("gridsterConfigChange",function(d){return u(t.gridsterConfig,d)||(t.gridsterConfig=d),d}),T()()()),p&2&&(m("editMode",t.editMode),_(2),m("dashboard",t.dashboard)("gridsterConfig",t.gridsterConfig),S("editMode",t.editMode))},dependencies:[M,K,z],styles:[".dashboard[_ngcontent-%COMP%]{height:725px;width:98vw}"]})}}return s})(),ai={id:"widget1",type:"kpi",pizzagna:{[n.Configuration]:{[D]:{providers:{[g.Refresher]:{properties:{interval:60*10,enabled:!0}}}},header:{properties:{title:"Error Widget"}},tiles:{properties:{nodes:["kpi1"]}},kpi1:{id:"kpi1",componentType:V.lateLoadKey,properties:{widgetData:{units:"out of 5 Stars",label:"Average Rating"}},providers:{[g.DataSource]:{providerId:l.providerId},[g.Adapter]:{providerId:I,properties:{componentId:"kpi1",propertyPath:"widgetData"}}}}}}};var ei=oi(ti());function i(s){return{id:s.id,providers:{[g.DataSource]:{providerId:s.ds?.providerId||l.providerId},[g.Adapter]:{providerId:I,properties:{componentId:s.id,propertyPath:"widgetData"}},[g.KpiColorPrioritizer]:{providerId:U,properties:s.colorPrioritizer?li():{}}},properties:{configuration:{formatters:s.formatter?ni():{}},widgetData:{id:"totalStorage",value:0,label:s.title?"Test Label":"Lack_of_white_spaces_often_break_the_markup",units:"Bytes",backgroundColor:s.color||"skyblue",icon:"state_ok",link:"http://www.google.com"}}}}function ni(){return{[H.Value]:{formatter:{componentType:Z.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}}function li(){return{rules:[{comparisonType:">",value:2,color:"var(--nui-color-chart-four)"},{comparisonType:"==",value:1.5,color:"var(--nui-color-chart-seven)"},{comparisonType:"<",value:1,color:"var(--nui-color-chart-one)"}]}}var $={widget0:{cols:12,rows:2,x:0,y:0},widget1_1:{cols:6,rows:3,x:0,y:0},widget1_2:{cols:6,rows:3,x:0,y:0},fullWidth_1:{cols:12,rows:4,x:0,y:0},widget3_1:{cols:1,rows:5,x:0,y:0},widget3_2:{cols:2,rows:5,x:0,y:0},widget3_3:{cols:2,rows:5,x:0,y:0},widget3_4:{cols:3,rows:5,x:0,y:0},widget3_5:{cols:4,rows:5,x:0,y:0},fullWidth_2:{cols:12,rows:6,x:0,y:0},widget_4:{cols:12,rows:8,x:0,y:0},widget_5:{cols:12,rows:3,x:0,y:0},fullWidth_3:{cols:12,rows:2,x:0,y:0},fullWidth_4:{cols:12,rows:12,x:0,y:0}},ii=[{id:"widget0",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"widget0",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3"]}},kpi0:i({id:"kpi0",formatter:!0,color:"green",ds:o}),kpi1:i({id:"kpi1",color:"lightgrey",ds:l}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",ds:e})}}},{id:"widget1_1",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"widget1_1",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3","kpi4","kpi5"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e})}}},{id:"widget1_2",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"widget1_2",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3","kpi4","kpi5"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e})}}},{id:"fullWidth_1",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"fullWidth",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3","kpi4","kpi5","kpi6","kpi7","kpi8","kpi9","kpi10","kpi11"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e}),kpi6:i({id:"kpi6",formatter:!0,color:"pink",ds:e}),kpi7:i({id:"kpi7",color:"lightgrey",ds:r}),kpi8:i({id:"kpi8",color:"teal",ds:r}),kpi9:i({id:"kpi9",formatter:!0,ds:o}),kpi10:i({id:"kpi10",color:"orange",ds:o}),kpi11:i({id:"kpi11",color:"antiquewhite",ds:e})}}},{id:"widget3_1",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"widget3_1",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3"]}},kpi0:i({id:"kpi0",formatter:!0,color:"green",ds:o}),kpi1:i({id:"kpi1",color:"lightgrey",ds:l}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",ds:e})}}},{id:"widget3_2",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"widget3_2",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3"]}},kpi0:i({id:"kpi0",formatter:!0,color:"green",ds:o}),kpi1:i({id:"kpi1",color:"lightgrey",ds:l}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",ds:e})}}},{id:"widget3_3",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"widget3_3",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3","kpi4","kpi5"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e})}}},{id:"widget3_4",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"3_4",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3","kpi4","kpi5","kpi6","kpi7","kpi8","kpi9","kpi10","kpi11"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e}),kpi6:i({id:"kpi6",formatter:!0,color:"pink",ds:e}),kpi7:i({id:"kpi7",color:"lightgrey",ds:r}),kpi8:i({id:"kpi8",color:"teal",ds:r}),kpi9:i({id:"kpi9",formatter:!0,ds:o}),kpi10:i({id:"kpi10",color:"orange",ds:o}),kpi11:i({id:"kpi11",color:"antiquewhite",ds:e})}}},{id:"widget3_5",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"widget3_5",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi3","kpi4","kpi5"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e})}}},{id:"fullWidth_2",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"fullWidth_2",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3","kpi4","kpi5","kpi6","kpi7","kpi8","kpi9","kpi10","kpi11"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e}),kpi6:i({id:"kpi6",formatter:!0,color:"pink",ds:e}),kpi7:i({id:"kpi7",color:"lightgrey",ds:r}),kpi8:i({id:"kpi8",color:"teal",ds:r}),kpi9:i({id:"kpi9",formatter:!0,ds:o}),kpi10:i({id:"kpi10",color:"orange",ds:o}),kpi11:i({id:"kpi11",color:"antiquewhite",ds:e})}}},{id:"widget_4",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"widget_4",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3","kpi4","kpi5"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e})}}},{id:"widget_5",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"widget_5",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3","kpi4","kpi5"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e})}}},{id:"fullWidth_3",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"fullWidth_3",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3","kpi4","kpi5","kpi6","kpi7","kpi8","kpi9","kpi10","kpi11"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e}),kpi6:i({id:"kpi6",formatter:!0,color:"pink",ds:e}),kpi7:i({id:"kpi7",color:"lightgrey",ds:r}),kpi8:i({id:"kpi8",color:"teal",ds:r}),kpi9:i({id:"kpi9",formatter:!0,ds:o}),kpi10:i({id:"kpi10",color:"orange",ds:o}),kpi11:i({id:"kpi11",color:"antiquewhite",ds:e})}}},{id:"fullWidth_4",type:"kpi",pizzagna:{[n.Configuration]:{header:{properties:{title:"fullWidth_4",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{},properties:{nodes:["kpi0","kpi1","kpi2","kpi3","kpi4","kpi5","kpi6","kpi7","kpi8","kpi9","kpi10","kpi11"]}},kpi0:i({id:"kpi0",formatter:!0,color:"pink",ds:e}),kpi1:i({id:"kpi1",color:"lightgrey",ds:r}),kpi2:i({id:"kpi2",color:"teal",ds:r}),kpi3:i({id:"kpi3",formatter:!0,ds:o}),kpi4:i({id:"kpi4",color:"orange",ds:o}),kpi5:i({id:"kpi5",color:"antiquewhite",ds:e}),kpi6:i({id:"kpi6",formatter:!0,color:"pink",ds:e}),kpi7:i({id:"kpi7",color:"lightgrey",ds:r}),kpi8:i({id:"kpi8",color:"teal",ds:r}),kpi9:i({id:"kpi9",formatter:!0,ds:o}),kpi10:i({id:"kpi10",color:"orange",ds:o}),kpi11:i({id:"kpi11",color:"antiquewhite",ds:e})}}}];var ri=(()=>{class s{constructor(a,p,t){this.providerRegistry=a,this.themeSwitcherService=p,this.widgetTypesService=t,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.providerRegistry.setProviders({[l.providerId]:{provide:k,useClass:l,deps:[]},[r.providerId]:{provide:k,useClass:r,deps:[]},[e.providerId]:{provide:k,useClass:e,deps:[]},[o.providerId]:{provide:k,useClass:o,deps:[]}})}ngOnInit(){let a=ii.map(t=>A(v({},t),{pizzagna:v(v({},this.widgetTypesService.getWidgetType(t.type,t.version).widget),t.pizzagna)})),p=(0,ei.default)(a,t=>t.id);this.dashboard={positions:$,widgets:p}}static{this.\u0275fac=function(p){return new(p||s)(c(y),c(j),c(b))}}static{this.\u0275cmp=C({type:s,selectors:[["acme-dashboard"]],standalone:!1,decls:3,vars:4,consts:[[3,"editModeChange","editMode"],[1,"dashboard"],["nuiWidgetEditor","",3,"dashboardChange","gridsterConfigChange","dashboard","gridsterConfig","editMode"]],template:function(p,t){p&1&&(h(0,"dashboard-test-harness",0),f("editModeChange",function(d){return u(t.editMode,d)||(t.editMode=d),d}),h(1,"div",1)(2,"nui-dashboard",2),f("dashboardChange",function(d){return u(t.dashboard,d)||(t.dashboard=d),d})("gridsterConfigChange",function(d){return u(t.gridsterConfig,d)||(t.gridsterConfig=d),d}),T()()()),p&2&&(m("editMode",t.editMode),_(2),m("dashboard",t.dashboard)("gridsterConfig",t.gridsterConfig),S("editMode",t.editMode))},dependencies:[M,K,z],styles:[".dashboard[_ngcontent-%COMP%]{height:150vw;width:98vw}"]})}}return s})();var ki=[{path:"",component:ri,data:{srlc:{hideIndicator:!0}}},{path:"error",component:X,data:{srlc:{hideIndicator:!0}}}],Li=(()=>{class s{constructor(a){let p=a.getWidgetType("kpi",1);delete p.widget.structure[D].providers?.refresher,a.setNode(p,"configurator",W.DataSourceProviders,[l.providerId,r.providerId,e.providerId,o.providerId])}static{this.\u0275fac=function(p){return new(p||s)(R(b))}}static{this.\u0275mod=E({type:s})}static{this.\u0275inj=P({providers:[y],imports:[Y,G,L,B,F,q,O,x.forChild(ki)]})}}return s})();export{Li as KpiWidgetTestModule};
