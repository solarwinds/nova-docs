import{a as X,j as q,n as _}from"./chunk-BOWRRSH7.js";import{a as j,b as Y}from"./chunk-DSXQJ4TK.js";import{j as H,k as J,l as Q,m as tt}from"./chunk-FTFNVH5I.js";import{a as Z}from"./chunk-LTNK7SWM.js";import{a as $}from"./chunk-SFCHEBF7.js";import{Aa as z,Ga as G,Ha as K,Ja as V,c as W,ea as x,ha as k,ia as B,ka as U}from"./chunk-UW6LU7NQ.js";import{Xc as F,oc as A,we as L}from"./chunk-VVYJCL6H.js";import{f as I}from"./chunk-N5H4HNSX.js";import{Aa as p,Ac as N,Ba as g,Cb as P,Dc as h,Ea as w,Ec as C,Fc as b,Hb as f,Tb as m,Wc as M,ac as d,bc as a,gc as S,i as l,ka as E,lc as D,pc as R,qb as c,qc as u,wb as r}from"./chunk-7LLRMBML.js";import{i as O}from"./chunk-VBFW7A5V.js";function it(i,T){if(i&1){let t=S();d(0,"button",6),R("click",function(){p(t);let e=u();return g(e.reInitializeDashboard())}),N(1," Restore Widget "),a()}}function ot(i,T){if(i&1){let t=S();d(0,"nui-dashboard",7),b("dashboardChange",function(e){p(t);let n=u();return C(n.dashboard,e)||(n.dashboard=e),g(e)})("gridsterConfigChange",function(e){p(t);let n=u();return C(n.gridsterConfig,e)||(n.gridsterConfig=e),g(e)}),a()}if(i&2){let t=u();h("dashboard",t.dashboard),m("editMode",t.editMode),h("gridsterConfig",t.gridsterConfig)}}var y=(()=>{class i extends L{constructor(){super(...arguments),this.busy=new l(!1),this.dataFields=[{id:"Brno",label:"Brno",dataType:null},{id:"kyiv",label:"Kyiv",dataType:null},{id:"austin",label:"Austin",dataType:null},{id:"lisbon",label:"Lisbon",dataType:null},{id:"sydney",label:"Sydney",dataType:null},{id:"nur-sultan",label:"Nur-Sultan",dataType:null}],this.chartSeriesDataFields=[{id:"data[0]",label:"data",dataType:null},{id:"customDonutContent",label:"Custom Donut Content",dataType:null}],this.dataFieldsConfig={dataFields$:new l(this.dataFields),chartSeriesDataFields$:new l(this.chartSeriesDataFields)}}static{this.providerId="BeerReviewCountsByCityMockDataSource"}getFilteredData(){return O(this,null,function*(){return this.busy.next(!0),new Promise(t=>{setTimeout(()=>{this.outputsSubject.next({result:nt()}),this.busy.next(!1)},300)})})}ngOnDestroy(){this.outputsSubject.complete()}static{this.\u0275fac=(()=>{let t;return function(e){return(t||(t=w(i)))(e||i)}})()}static{this.\u0275prov=E({token:i,factory:i.\u0275fac})}}return i})(),Tt=(()=>{class i{constructor(t,o,e,n,s,et){this.widgetTypesService=t,this.providerRegistry=o,this.changeDetectorRef=et,this.gridsterConfig={},this.editMode=!1,n.addItems(J),e.addItems(Q),s.addItems(tt)}ngOnInit(){let t=this.widgetTypesService.getWidgetType("proportional",1);this.widgetTypesService.setNode(t,"configurator",B.DataSourceProviders,[y.providerId]),this.setupConfigurator(),this.providerRegistry.setProviders({[y.providerId]:{provide:x,useClass:y,deps:[]}}),this.initializeDashboard()}reInitializeDashboard(){this.dashboard=void 0,this.changeDetectorRef.detectChanges(),this.initializeDashboard()}initializeDashboard(){let t={[v.id]:this.widgetTypesService.mergeWithWidgetType(v)},o={[v.id]:{cols:6,rows:6,y:0,x:0}};this.dashboard={positions:o,widgets:t}}setupConfigurator(){let t=this.widgetTypesService.getWidgetType("proportional",1);delete t.configurator?.structure?.presentation,delete t.configurator?.structure?.chartOptionsEditor,delete t.configurator?.structure?.donutContentConfiguration,this.widgetTypesService.setNode(t,"configurator","presentation",_.presentation),this.widgetTypesService.setNode(t,"configurator","chartOptionsEditor",_.chartOptionsEditor),this.widgetTypesService.setNode(t,"configurator","donutContentConfiguration",_.donutContentConfiguration)}static{this.\u0275fac=function(o){return new(o||i)(r(j),r(V),r(G),r(K),r(Y),r(M))}}static{this.\u0275cmp=P({type:i,selectors:[["proportional-widget-donut-content-formatters-example"]],standalone:!1,decls:6,vars:3,consts:()=>{let t;return t=$localize`:␟18d630a3c524dbab6dc528571782a939a7bc95b1␟861097914887003123: Edit Mode `,[t,[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"valueChange","value"],["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboard","editMode","gridsterConfig","dashboardChange","gridsterConfigChange",4,"ngIf"],["type","button","displayStyle","action","nui-button","",3,"click"],["nuiWidgetEditor","",3,"dashboardChange","gridsterConfigChange","dashboard","editMode","gridsterConfig"]]},template:function(o,e){o&1&&(d(0,"div",1)(1,"nui-switch",2),b("valueChange",function(s){return C(e.editMode,s)||(e.editMode=s),s}),D(2,0),a(),f(3,it,2,0,"button",3),a(),d(4,"div",4),f(5,ot,1,3,"nui-dashboard",5),a()),o&2&&(c(),h("value",e.editMode),c(2),m("ngIf",!(e.dashboard!=null&&e.dashboard.widgets.proportionalWidgetId)),c(2),m("ngIf",e.dashboard))},dependencies:[A,I,X,q,F],styles:[".dashboard[_ngcontent-%COMP%]{height:370px}"]})}}return i})(),v={id:"proportionalWidgetId",type:"proportional",pizzagna:{[U.Configuration]:{[W]:{providers:{}},header:{properties:{title:"Beer Review Tally by City",subtitle:"These People Love Beer"}},chart:{providers:{[k.DataSource]:{providerId:y.providerId}},properties:{configuration:{chartOptions:{type:Z.DonutChart,legendPlacement:z.Right,donutContentConfig:{formatter:{componentType:$.lateLoadKey},aggregator:{aggregatorType:H.aggregatorType,properties:{}}}}}}}}}};function nt(){return[{id:"Brno",name:"Brno",data:[Math.round(Math.random()*1e6)],icon:"status_down",link:"https://en.wikipedia.org/wiki/Brno",value:"Brno",customDonutContent:"Custom Brno"},{id:"kyiv",name:"Kyiv",data:[Math.round(Math.random()*1e6)],icon:"status_critical",link:"https://en.wikipedia.org/wiki/Kyiv",value:"Kyiv",customDonutContent:"Custom Kyiv"},{id:"austin",name:"Austin",data:[Math.round(Math.random()*1e6)],icon:"status_warning",link:"https://en.wikipedia.org/wiki/Austin",value:"Austin",customDonutContent:"Custom Austin"},{id:"lisbon",name:"Lisbon",data:[Math.round(Math.random()*1e6)],icon:"status_unknown",link:"https://en.wikipedia.org/wiki/Lisbon",value:"Lisbon",customDonutContent:"Custom Lisbon"},{id:"sydney",name:"Sydney",data:[Math.round(Math.random()*1e6)],icon:"status_up",link:"https://en.wikipedia.org/wiki/Sydney",value:"Sydney",customDonutContent:"Custom Sydney"},{id:"nur-sultan",name:"Nur-Sultan",data:[Math.round(Math.random()*1e6)],icon:"status_unmanaged",link:"https://en.wikipedia.org/wiki/Nur-Sultan",value:"Nur-Sultan",customDonutContent:"Custom Nur-Sultan"}].sort((i,T)=>i.data[0]-T.data[0])}export{y as a,Tt as b,nt as c};
