import{a as Q,b as A,c as B,d as j,f as D}from"./chunk-6RFOZAUJ.js";import"./chunk-URWUMSY2.js";import{Nc as F,te as P}from"./chunk-PMWUHOKA.js";import{C as q,E as T,N as k,x}from"./chunk-YHLZAVJ5.js";import{Eb as N,e as y,ka as M,la as E,pa as O,qa as I}from"./chunk-MCPF2SEG.js";import"./chunk-CUY44B7R.js";import{a as g,i as w}from"./chunk-VBFW7A5V.js";var L=(t,e,n)=>{let r=["POST","PUT","PATCH"].indexOf(t.method.toUpperCase())!==-1,a=i=>["variables","extensions"].indexOf(i.toLowerCase())!==-1,s=t.body.length,h=t.options&&t.options.useMultipart,f;if(h){if(s)return new y(i=>i.error(new Error("File upload is not available when combined with Batching")));if(!r)return new y(i=>i.error(new Error("File upload is not available when GET is used")));if(!n)return new y(i=>i.error(new Error(`To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink's options`)));f=n(t.body),h=!!f.files.size}let c={};if(s){if(!r)return new y(i=>i.error(new Error("Batching is not available for GET requests")));c={body:t.body}}else{let i=h?f.clone:t.body;r?c={body:i}:c={params:Object.keys(t.body).reduce((u,o)=>{let p=t.body[o];return u[o]=a(o)?JSON.stringify(p):p,u},{})}}if(h&&r){let i=new FormData;i.append("operations",JSON.stringify(c.body));let b={},u=f.files,o=0;u.forEach(p=>{b[++o]=p}),i.append("map",JSON.stringify(b)),o=0,u.forEach((p,l)=>{i.append(++o+"",l,l.name)}),c.body=i}return e.request(t.method,t.url,g(g({observe:"response",responseType:"json",reportProgress:!1},c),t.options))},U=(t,e)=>t&&e?e.keys().reduce((r,a)=>r.set(a,e.getAll(a)),t):e||t;function J(...t){return t.find(e=>typeof e<"u")}function K(t){let e=t.headers&&t.headers instanceof x?t.headers:new x(t.headers);if(t.clientAwareness){let{name:n,version:r}=t.clientAwareness;n&&!e.has("apollographql-client-name")&&(e=e.set("apollographql-client-name",n)),r&&!e.has("apollographql-client-version")&&(e=e.set("apollographql-client-version",r))}return e}var R={batchInterval:10,batchMax:10,uri:"graphql",method:"POST",withCredentials:!1,includeQuery:!0,includeExtensions:!1,useMultipart:!1};function m(t,e,n){return J(t[n],e[n],R[n])}var C=class extends B{httpClient;options;requester;print=Q;constructor(e,n){super(),this.httpClient=e,this.options=n,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=r=>new A(a=>{let s=r.getContext(),h=m(s,this.options,"method"),f=m(s,this.options,"includeQuery"),c=m(s,this.options,"includeExtensions"),i=m(s,this.options,"uri"),b=m(s,this.options,"withCredentials"),u=m(s,this.options,"useMultipart"),o=this.options.useGETForQueries===!0,p=r.query.definitions.some(d=>d.kind==="OperationDefinition"&&d.operation==="query");o&&p&&(h="GET");let l={method:h,url:typeof i=="function"?i(r):i,body:{operationName:r.operationName,variables:r.variables},options:{withCredentials:b,useMultipart:u,headers:this.options.headers}};c&&(l.body.extensions=r.extensions),f&&(l.body.query=this.print(r.query));let S=K(s);l.options.headers=U(l.options.headers,S);let v=L(l,this.httpClient,this.options.extractFiles).subscribe({next:d=>{r.setContext({response:d}),a.next(d.body)},error:d=>a.error(d),complete:()=>a.complete()});return()=>{v.closed||v.unsubscribe()}})}request(e){return this.requester(e)}},H=(()=>{class t{httpClient;constructor(n){this.httpClient=n}create(n){return new C(this.httpClient,n)}static \u0275fac=function(r){return new(r||t)(O(q))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var z="https://countries.trevorblades.com/graphql",W=[{path:"overview",loadChildren:()=>w(void 0,null,function*(){return import("./chunk-HSPXDQOP.js")})},{path:"tutorials",loadChildren:()=>w(void 0,null,function*(){return import("./chunk-ADNKQQQD.js")})},{path:"widget-types",loadChildren:()=>w(void 0,null,function*(){return import("./chunk-VHDS4PJM.js")})}],lt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=N({type:t})}static{this.\u0275inj=E({providers:[T(),D(()=>({link:I(H).create({uri:z}),cache:new j}))],imports:[P,F,k.forChild(W)]})}}return t})();export{lt as default};
