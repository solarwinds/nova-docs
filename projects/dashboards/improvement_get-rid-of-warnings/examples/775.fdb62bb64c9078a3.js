"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[775],{46775:(Ce,B,s)=>{s.r(B),s.d(B,{Prototype1Module:()=>fe});var M=s(69808),y=s(40520),ie=s(11420),l=s(30652),o=s(45388),Q=s(27790),v=s(35898),f=s(47794),L=s(70655),oe=s(64509),re=s.n(oe),ne=s(9120),ae=s.n(ne),se=s(61135),R=s(78498),e=s(5e3);let Y=(()=>{class r extends l.LvN{constructor(t){super(),this.logger=t,this.cache=Array.from({length:0}),this.totalItems=325,this.page=1,this.busy=new se.X(!1),this.dataFields=[]}getFilteredData(t){var i,n,a,c,g,_,T,P,m,p,S,A,G,Z;return(0,L.mG)(this,void 0,void 0,function*(){const J=null!==(a=null===(n=null===(i=t.virtualScroll)||void 0===i?void 0:i.value)||void 0===n?void 0:n.start)&&void 0!==a?a:0,te=null!==(_=null===(g=null===(c=t.virtualScroll)||void 0===c?void 0:c.value)||void 0===g?void 0:g.end)&&void 0!==_?_:0,D=te-J;if(0===J&&(this.cache=[]),(null===(T=t.sorter)||void 0===T?void 0:T.value)&&!re()(this.lastSortValue,t.sorter.value)&&0===(null===(P=t.virtualScroll)||void 0===P?void 0:P.value.start)&&this.lastVirtualScroll){const $=Math.ceil(D?this.totalItems/D:1),b=Math.max(D<80?D:80,1);let O,u=null;if("desc"===(null===(p=null===(m=t.sorter)||void 0===m?void 0:m.value)||void 0===p?void 0:p.direction)){this.cache=[];for(let E=0;E<this.page;++E)u=yield(yield fetch(`${R.Wg}/?page=${$-E||1}&per_page=${b}`)).json(),u&&u.length<b&&this.page++,O={brewInfo:null==u?void 0:u.map(h=>({id:h.id,name:h.name,tagline:h.tagline,first_brewed:h.first_brewed,description:h.description,brewers_tips:h.brewers_tips})),total:null==u?void 0:u.length},this.cache=$-E!=0?this.cache.concat(O.brewInfo):this.cache}if("asc"===(null===(A=null===(S=t.sorter)||void 0===S?void 0:S.value)||void 0===A?void 0:A.direction)){this.cache=[];for(let E=0;E<this.page;E++)u=yield(yield fetch(`${R.Wg}/?page=${E+1}&per_page=${b}`)).json(),O={brewInfo:null==u?void 0:u.map(h=>({id:h.id,name:h.name,tagline:h.tagline,first_brewed:h.first_brewed,description:h.description,brewers_tips:h.brewers_tips})),total:null==u?void 0:u.length},this.cache=this.cache.concat(O.brewInfo)}return this.lastSortValue=null===(G=t.sorter)||void 0===G?void 0:G.value,this.lastVirtualScroll=null===(Z=t.virtualScroll)||void 0===Z?void 0:Z.value,{result:{repeat:{itemsSource:this.sortData(this.cache,t)},paginator:{total:this.totalItems},dataFields:this.dataFields}}}return this.busy.next(!0),new Promise($=>{setTimeout(()=>{this.getData(J,te,t).then(b=>{var u,O;!b||(this.cache=this.cache.concat(b.brewInfo),this.dataSubject.next(this.cache),$({result:{repeat:{itemsSource:this.sortData(this.cache,t)},paginator:{total:this.totalItems},dataFields:this.dataFields}}),this.lastSortValue=null===(u=t.sorter)||void 0===u?void 0:u.value,this.lastVirtualScroll=null===(O=t.virtualScroll)||void 0===O?void 0:O.value,this.busy.next(!1))})},500)})})}getData(t=0,i=20,n){var a,c,g,_;return(0,L.mG)(this,void 0,void 0,function*(){const T=i-t,P=Math.ceil(T?this.totalItems/T:1);let m=null;const p=Math.max(T<80?T:80,1);return"asc"===(null===(c=null===(a=n.sorter)||void 0===a?void 0:a.value)||void 0===c?void 0:c.direction)&&(m=yield(yield fetch(`${R.Wg}/?page=${this.page}&per_page=${p}`)).json()),"desc"===(null===(_=null===(g=n.sorter)||void 0===g?void 0:g.value)||void 0===_?void 0:_.direction)&&(m=yield(yield fetch(`${R.Wg}/?page=${P-this.page}&per_page=${p}`)).json()),n.sorter||(m=yield(yield fetch(`${R.Wg}/?page=${this.page}&per_page=${p}`)).json()),{brewInfo:null==m?void 0:m.map((S,A)=>({id:S.id,name:S.name,tagline:S.tagline,first_brewed:S.first_brewed,description:S.description,brewers_tips:S.brewers_tips})),total:null==m?void 0:m.length}})}sortData(t,i){var n,a,c,g;return ae()(t,null===(a=null===(n=i.sorter)||void 0===n?void 0:n.value)||void 0===a?void 0:a.sortBy,null===(g=null===(c=i.sorter)||void 0===c?void 0:c.value)||void 0===g?void 0:g.direction)}}return r.providerId="AcmeTableDataSourceNoDataFields",r.\u0275fac=function(t){return new(t||r)(e.LFG(l.mQy))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var w=s(68052),F=s(51454),W=s(37990),X=s(51933),k=s(18631),C=s(22767),de=s(12498),le=s.n(de),x=s(77579),H=s(95698),K=s(82722),ce=s(90733),j=s.n(ce),ue=s(34793),U=s.n(ue),pe=s(15439),V=s.n(pe);let I=(()=>{class r extends l.LvN{getFilteredData(t){return(0,L.mG)(this,void 0,void 0,function*(){return Promise.resolve({})})}}return r.\u0275fac=function(){let d;return function(i){return(d||(d=e.n5z(r)))(i||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),z=(()=>{class r{constructor(t){this.globalFilters=t}getLink(t){if(!this.globalFilters)return t;const i=this.globalFilters.getFilters();return t+"/search?"+Object.keys(i).map(a=>encodeURIComponent(a)+"="+encodeURIComponent(i[a].data.value)).join("&")}}return r.providerId="HeaderLinkProviderService",r.\u0275fac=function(t){return new(t||r)(e.LFG(I,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const ge={widget1:{cols:5,rows:6,y:0,x:0},widget2:{cols:7,rows:6,y:0,x:5},widget3:{cols:6,rows:6,y:6,x:0},widget4:{cols:6,rows:6,y:6,x:6}},N=[{id:"widget1",type:"kpi",pizzagna:{[o.xW5.Configuration]:{header:{properties:{title:"KPI Widget!",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{interaction:{providerId:o.DJm,properties:{url:"${data.link}"}}},properties:{nodes:["kpi1","kpi2","kpi3"]}},kpi1:{id:"kpi1",providers:{[o.Muk.DataSource]:{providerId:v.i.providerId},[o.Muk.Adapter]:{providerId:o.u1$,properties:{componentId:"kpi1",propertyPath:"widgetData"}},[o.Muk.KpiColorPrioritizer]:{providerId:o.tSO,properties:{rules:[{comparisonType:">",value:2,color:"var(--nui-color-chart-four)"},{comparisonType:"==",value:1.5,color:"var(--nui-color-chart-seven)"},{comparisonType:"<",value:1,color:"var(--nui-color-chart-one)"}]}}},properties:{configuration:{formatters:{[o.Klf.Value]:{formatter:{componentType:o.PEA.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}},widgetData:{id:"totalStorage",value:0,label:"Total storage",units:"Bytes",icon:"state_ok",link:"http://www.google.com"}}},kpi2:{id:"kpi2",providers:{[o.Muk.DataSource]:{providerId:v.L2.providerId,properties:{numberFormat:"1.1-1"}}},properties:{configuration:{formatters:{[o.Klf.Value]:{formatter:{componentType:o.Cg1.lateLoadKey,properties:{dataFieldIds:{value:"icon"}}}}}},widgetData:{id:"downloadSpeed",value:0,label:"Download SUPER DUPER VERY LONG STRING Speed",icon:"state_ok",units:"MB/S"}}},kpi3:{id:"kpi3",providers:{[o.Muk.DataSource]:{providerId:v.sR.providerId}},properties:{configuration:{formatters:{[o.Klf.Value]:{formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}},widgetData:{id:"uploadSpeed",value:0,label:"Upload Speed",units:"MB/S"}}}}}},{id:"widget2",type:"proportional",pizzagna:{[o.xW5.Configuration]:{[o.XMI]:{providers:{[o.Muk.InteractionHandler]:{providerId:o.DJm,properties:{url:"${data.link}"}}}},header:{properties:{title:"Proportional Widget!",subtitle:"Proportional widget with legend formatters"}},chart:{providers:{[o.Muk.DataSource]:{providerId:f.s.providerId},[o.Muk.Adapter]:{properties:{[o.Muk.DataSource]:{properties:{isEuropeOnly:!1}}}}},properties:{configuration:{interactive:!0,chartDonutContentLabel:"Some label",chartDonutContentIcon:"printer",chartOptions:{type:o.EMX.VerticalBarChart,legendPlacement:o.woB.Right},chartColors:["gray","orange","black"]}}}}}},{id:"widget3",type:"timeseries",pizzagna:{[o.xW5.Configuration]:{[o.XMI]:{providers:{[o.Muk.DataSource]:{providerId:C.wi.providerId},[o.Muk.InteractionHandler]:{providerId:o.DJm}}},header:{providers:{dynamicLinkProvider:{providerId:z.providerId}},properties:{title:"Timeseries Widget!",subtitle:"Basic timeseries widget",url:"https://www.google.com"}},chart:{providers:{[o.Muk.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",chartColors:["var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"]}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:V()().subtract(10,"days").format(),maxDate:V()().format()}}}}},{id:"widget4",type:"table",pizzagna:{[o.xW5.Configuration]:{[o.XMI]:{providers:{[o.Muk.InteractionHandler]:{providerId:o.DJm}}},header:{properties:{title:"Table Widget!",subtitle:"Basic table widget",collapsible:!0}},table:{providers:{[o.Muk.DataSource]:{providerId:w.g.providerId}},properties:{configuration:{interactive:!0,columns:[{id:"column1",label:"No",isActive:!0,formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"no"}}}},{id:"column2",label:"Title",isActive:!0,formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"nameTitle"}}}},{id:"column3",label:"First Name",isActive:!0,formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"nameFirst"}}}},{id:"column4",label:"Last Name",isActive:!0,formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"nameLast"}}}},{id:"column5",label:"E-Mail",isActive:!0,formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"email"}}}}],sorterConfiguration:{descendantSorting:!0,sortBy:"column4"},hasVirtualScroll:!0,searchConfiguration:{enabled:!0}}}}}}}];function me(r,d){if(1&r&&(e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.qZA()()),2&r){const t=d.item;e.xp6(2),e.hij(" ",t.title," ")}}let q=(()=>{class r{constructor(t){this.widgetTypesService=t,this.widgetSelected=new e.vpe,this.widgetItems=[]}ngOnInit(){const t=new M.rS;this.widgetItems=N.map(i=>({title:t.transform(i.type),widget:this.widgetTypesService.mergeWithWidgetType(i)})),N.forEach(i=>{this.addUnconfiguredWidgetWithConfigLayer(i)})}addUnconfiguredWidget(t){const i=(new M.rS).transform(t);this.widgetItems.push({title:`Unconfigured ${i}`,widget:{id:`unconfigured${i}`,type:t,metadata:{needsConfiguration:!0},pizzagna:j()(this.widgetTypesService.getWidgetType(t).widget)}}),U()(this.widgetItems[this.widgetItems.length-1].widget.pizzagna,`${o.xW5.Structure}.header.properties.title`,`Unconfigured ${i}`)}addUnconfiguredWidgetWithConfigLayer(t){const i=(new M.rS).transform(t.type);this.widgetItems.push({title:`Unconfigured ${i} With Config Layer`,widget:Object.assign(Object.assign({},j()(this.widgetTypesService.mergeWithWidgetType(t))),{id:`unconfiguredWithConfigLayer${i}`,metadata:{needsConfiguration:!0}})}),U()(this.widgetItems[this.widgetItems.length-1].widget.pizzagna,`${o.xW5.Configuration}.header.properties.title`,`Unconfigured ${i} With Config Layer`)}onSelect(t){this.widgetSelected.emit(t[0].widget),this.widgetSelection=t}}return r.lateLoadKey="AcmeCloneSelectionComponent",r.\u0275fac=function(t){return new(t||r)(e.Y36(o.xTe))},r.\u0275cmp=e.Xpm({type:r,selectors:[["acme-clone-selection"]],outputs:{widgetSelected:"widgetSelected"},decls:4,vars:3,consts:[[1,"nui-widget-cloner"],["selectionMode","singleWithRequiredSelection",3,"itemsSource","selection","repeatItemTemplateRef","selectionChange"],["widgetClonerItem",""],[1,"nui-widget-cloner__item","d-flex","pt-2","pb-2","align-items-center"],[1,"text-info","ml-3"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"nui-repeat",1),e.NdJ("selectionChange",function(a){return i.onSelect(a)}),e.qZA()(),e.YNc(2,me,3,1,"ng-template",null,2,e.W1O)),2&t){const n=e.MAs(3);e.xp6(1),e.Q6J("itemsSource",i.widgetItems)("selection",i.widgetSelection)("repeatItemTemplateRef",n)}},directives:[l.$N6],styles:[".nui-widget-cloner__item[_ngcontent-%COMP%]{height:60px}"]}),r})();function ve(r,d){if(1&r&&(e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.qZA()()),2&r){const t=d.item;e.xp6(2),e.hij(" ",t.title," ")}}let he=(()=>{class r extends q{constructor(t){super(t)}ngOnInit(){const t=new M.rS;this.widgetItems=N.map(i=>({title:t.transform(i.type),widget:this.widgetTypesService.mergeWithWidgetType(i)}))}}return r.lateLoadKey="AcmeCloneSelectionComponent",r.\u0275fac=function(t){return new(t||r)(e.Y36(o.xTe))},r.\u0275cmp=e.Xpm({type:r,selectors:[["acme-clone-selection"]],features:[e.qOj],decls:4,vars:3,consts:[[1,"nui-widget-cloner"],["selectionMode","singleWithRequiredSelection",3,"itemsSource","selection","repeatItemTemplateRef","selectionChange"],["widgetClonerItem",""],[1,"nui-widget-cloner__item","d-flex","pt-2","pb-2","align-items-center"],[1,"text-info","ml-3"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"nui-repeat",1),e.NdJ("selectionChange",function(a){return i.onSelect(a)}),e.qZA()(),e.YNc(2,ve,3,1,"ng-template",null,2,e.W1O)),2&t){const n=e.MAs(3);e.xp6(1),e.Q6J("itemsSource",i.widgetItems)("selection",i.widgetSelection)("repeatItemTemplateRef",n)}},directives:[l.$N6],styles:[".nui-widget-cloner__item[_ngcontent-%COMP%]{height:60px}"]}),r})(),ee=(()=>{class r{constructor(t){this.toastService=t,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=(i,n)=>{const a=new x.x;return setTimeout(()=>{if(this.allowSubmit)a.next(i);else{const c=$localize`Submit failed.`;this.toastService.error({title:c}),a.error(c)}},1e3),a.asObservable()},this.tryRemove=i=>{const n=new x.x;return setTimeout(()=>{if(this.allowRemoval)n.next(i);else{const a=$localize`Widget removal failed.`;this.toastService.error({title:a}),n.error(a)}},200),n.asObservable()},this.toastService.setConfig({timeOut:2e3})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(l.klp))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var Te=s(34575),_e=s(44994);const Se=[{path:"",component:(()=>{class r{constructor(t,i,n,a,c,g){this.providerRegistry=t,this.submitHandler=i,this.widgetTypesService=n,this.widgetClonerService=a,this.refreshSettings=c,this.globalFilters=g,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.systemRefreshInterval=60,this.searchQuery="solarwinds",this.destroy$=new x.x,this.globalFilters.registerComponent({q:{componentInstance:{getFilters:()=>({data:{type:"string",value:this.searchQuery}})}}}),this.providerRegistry.setProviders({[v.i.providerId]:{provide:o.Fk3,useClass:v.i,deps:[y.eN]},[v.L2.providerId]:{provide:o.Fk3,useClass:v.L2,deps:[y.eN]},[v.sR.providerId]:{provide:o.Fk3,useClass:v.sR,deps:[]},[f.Q.providerId]:{provide:o.Fk3,useClass:f.Q,deps:[y.eN]},[f.s.providerId]:{provide:o.Fk3,useClass:f.s,deps:[]},[w.g.providerId]:{provide:o.Fk3,useClass:w.g,deps:[l.mQy,y.eN]},[F.W.providerId]:{provide:o.Fk3,useClass:F.W,deps:[l.mQy]},[W.t.providerId]:{provide:o.Fk3,useClass:W.t,deps:[l.mQy]},[Y.providerId]:{provide:o.Fk3,useClass:Y,deps:[l.mQy]},[k.n.providerId]:{provide:o.Fk3,useClass:k.n,deps:[l.oDG]},[C.wi.providerId]:{provide:o.Fk3,useClass:C.wi,deps:[y.eN]},[C.u2.providerId]:{provide:o.Fk3,useClass:C.u2,deps:[]},[X.a.providerId]:{provide:o.Fk3,useClass:X.a,deps:[l.mQy,y.eN]},[z.providerId]:{provide:o.B5u,useClass:z,deps:[[new e.FiY,I]]}})}ngOnInit(){var t,i;null===(i=null===(t=this.widgetTypesService.getWidgetType("table").configurator)||void 0===t?void 0:t[o.xW5.Structure].presentation.properties)||void 0===i||i.nodes.push("refresher"),this.refreshSettings.refreshRateSeconds=this.systemRefreshInterval;const n=N.map(c=>this.widgetTypesService.mergeWithWidgetType(c)),a=le()(n,c=>c.id);this.dashboard={positions:ge,widgets:a}}onDsErrorSwitch(t){f.Q.mockError=t,v.i.mockError=t,v.L2.mockError=t,w.g.mockError=t,C.wi.mockError=t}onShowButtonSwitch(t,i){for(const n of Object.keys(this.dashboard.widgets))this.dashboard=(0,l.zdu)(this.dashboard,`widgets.${n}.pizzagna.configuration.header.properties.${i}`,t)}ngAfterViewInit(){this.dashboardComponent.eventBus.subscribeUntil(o.MOJ,this.destroy$,t=>{this.widgetClonerService.open({widget:this.dashboard.widgets[t.widgetId],dashboardComponent:this.dashboardComponent,trySubmit:this.submitHandler.trySubmit,widgetSelectionComponentType:he}).pipe((0,H.q)(1),(0,K.R)(this.destroy$)).subscribe()})}onCloneWidget(){this.widgetClonerService.open({dashboardComponent:this.dashboardComponent,trySubmit:this.submitHandler.trySubmit,widgetSelectionComponentType:q}).pipe((0,H.q)(1),(0,K.R)(this.destroy$)).subscribe()}onEditWithCloner(){this.dashboardComponent.eventBus.next(o.MOJ,{widgetId:N[0].id})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSystemRefreshIntervalClick(){this.refreshSettings.refreshRateSeconds=this.systemRefreshInterval}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.CNH),e.Y36(ee),e.Y36(o.xTe),e.Y36(o.$Ie),e.Y36(o.g4s),e.Y36(I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["acme-dashboard"]],viewQuery:function(t,i){if(1&t&&e.Gf(o.MXM,7),2&t){let n;e.iGM(n=e.CRH())&&(i.dashboardComponent=n.first)}},features:[e._Bn([ee,I])],decls:28,vars:11,consts:function(){let d,t,i,n,a,c,g,_,T,P,m;return d=$localize`:␟489801ff09de9b4a6ca8b6e05a475fa1ca00d98e␟5813529530812520031: Create Widget Clone
`,t=$localize`:␟d8e9c9957a5d6ebe7749aab0e18dcb5d944b2ef9␟7916291516675251750: Simulate edit with cloner
`,i=$localize`:␟5cab2718f1d3c09ccb1fca4886710430f59bf7c0␟81810662047948365: Edit mode `,n=$localize`:␟db70aaa4da7a9f7c0fa3a218907f9fa354a19038␟5855643886473775120: Allow Submit `,a=$localize`:␟d289dfdc6c4e23b49a96db083f95f1087ed1400a␟3687117978364204872: Allow Removal `,c=$localize`:␟3299af3b186d7701f4c0626e41eba58af8382723␟4106211393112768148: Show Edit Button `,g=$localize`:␟30251ad3dcd7facd3a222d48fb2ba02f8503c52c␟8096484277280346189: Show Remove Button `,_=$localize`:␟c355f0feb3f72b3594e6e975456cd0a2dac1d929␟870224976565315483: Data Source Error `,T=$localize`:␟90504d9af68fb3aa81accb4bc3005526deb04093␟5488473345097746222:System refresh interval (seconds)`,P=$localize`:␟559db359e3dcc0820499a4e58208fb22273e0d55␟5928813357836950616: Update system refresh interval `,m=$localize`:␟b3cbfe131ba0c10de2f194b783e0ca697cdeaef9␟4452935965886173182:Search query for Timeseries widget`,[["type","button","nui-button","",1,"mb-3","ml-4",3,"click"],d,t,[1,"w-100",2,"height","725px"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3",3,"value","valueChange"],i,n,a,c,g,[1,"ml-3",3,"valueChange"],_,[1,"d-flex","flex-row"],[2,"width","300px"],["caption",T],[3,"value","valueChange"],["type","button","nui-button","",1,"ml-4",3,"click"],P,[1,"mt-4"],["caption",m],[3,"value","textChange"]]},template:function(t,i){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return i.onCloneWidget()}),e.SDv(1,1),e.qZA(),e.TgZ(2,"button",0),e.NdJ("click",function(){return i.onEditWithCloner()}),e.SDv(3,2),e.qZA(),e.TgZ(4,"div",3)(5,"nui-dashboard",4),e.NdJ("dashboardChange",function(a){return i.dashboard=a})("gridsterConfigChange",function(a){return i.gridsterConfig=a}),e.qZA()(),e.TgZ(6,"div",5)(7,"nui-switch",6),e.NdJ("valueChange",function(a){return i.editMode=a}),e.SDv(8,7),e.qZA(),e.TgZ(9,"nui-switch",6),e.NdJ("valueChange",function(a){return i.submitHandler.allowSubmit=a}),e.SDv(10,8),e.qZA(),e.TgZ(11,"nui-switch",6),e.NdJ("valueChange",function(a){return i.submitHandler.allowRemoval=a}),e.SDv(12,9),e.qZA(),e.TgZ(13,"nui-switch",6),e.NdJ("valueChange",function(a){return i.onShowButtonSwitch(a,"editable")}),e.SDv(14,10),e.qZA(),e.TgZ(15,"nui-switch",6),e.NdJ("valueChange",function(a){return i.onShowButtonSwitch(a,"removable")}),e.SDv(16,11),e.qZA(),e.TgZ(17,"nui-switch",12),e.NdJ("valueChange",function(a){return i.onDsErrorSwitch(a)}),e.SDv(18,13),e.qZA()(),e.TgZ(19,"div",14)(20,"div",15)(21,"nui-form-field",16)(22,"nui-textbox-number",17),e.NdJ("valueChange",function(a){return i.systemRefreshInterval=a}),e.qZA()()(),e.TgZ(23,"button",18),e.NdJ("click",function(){return i.onSystemRefreshIntervalClick()}),e.SDv(24,19),e.qZA()(),e.TgZ(25,"div",20)(26,"nui-form-field",21)(27,"nui-textbox",22),e.NdJ("textChange",function(a){return i.searchQuery=a}),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("nuiWidgetEditor",i.submitHandler)("dashboard",i.dashboard)("gridsterConfig",i.gridsterConfig)("editMode",i.editMode),e.xp6(2),e.Q6J("value",i.editMode),e.xp6(2),e.Q6J("value",i.submitHandler.allowSubmit),e.xp6(2),e.Q6J("value",i.submitHandler.allowRemoval),e.xp6(2),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!0),e.xp6(7),e.Q6J("value",i.systemRefreshInterval),e.xp6(5),e.Q6J("value",i.searchQuery))},directives:[l.r0F,Te.M,_e.t,l.qUD,l.hgI,l.I5I,l.XHW],styles:[".nui-theme-switcher-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:10px;background-color:var(--nui-color-bg-light,#fff)}"]}),r})(),data:{srlc:{hideIndicator:!0},showThemeSwitcher:!0}}];let fe=(()=>{class r{constructor(t,i){this.widgetTypesService=t,this.componentRegistry=i,this.setupDataSourceProviders(),this.setupCustomProportionalWidgetDSConfig()}setupCustomProportionalWidgetDSConfig(){var t;const i=this.widgetTypesService.getWidgetType("proportional",1);null===(t=i.widget.structure[o.XMI].providers)||void 0===t||delete t.refresher,this.widgetTypesService.setNode(i,"configurator",o.ACc.DataSourceConfigComponentType,Q.b.lateLoadKey),this.componentRegistry.registerByLateLoadKey(Q.b)}setupDataSourceProviders(){this.setDataSourceProviders("table",[w.g.providerId,F.W.providerId,W.t.providerId,k.n.providerId,X.a.providerId,Y.providerId]);const t=this.widgetTypesService.getWidgetType("kpi",1);this.widgetTypesService.setNode(t,"configurator",o.ACc.DataSourceConfigComponentType,o.cY_.lateLoadKey),this.setDataSourceProviders("kpi",[{providerId:v.i.providerId,label:"Acme KPI Data Source 1"},{providerId:v.L2.providerId,label:"Acme KPI Data Source 2",properties:{numberFormat:"1.1-1"}},{providerId:v.sR.providerId,label:"Acme KPI Data Source 3"}]),this.setDataSourceProviders("proportional",[f.Q.providerId,f.s.providerId]),this.setDataSourceProviders("timeseries",[C.wi.providerId,C.u2.providerId])}setDataSourceProviders(t,i){const n=this.widgetTypesService.getWidgetType(t,1);this.widgetTypesService.setNode(n,"configurator",o.ACc.DataSourceProviders,i)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(o.xTe),e.LFG(o.hiK))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[o.CNH],imports:[[M.ez,y.JF,o.Pi,l.Gsl,l.Az_,l.vvu,l.cJ5,l.Ts3,l.sF0,l.ZuS,ie.Bz.forChild(Se),l.C6o,l.YMY]]}),r})()}}]);