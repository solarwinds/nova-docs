import{a as B,j as X}from"./chunk-BOWRRSH7.js";import{a as G}from"./chunk-DSXQJ4TK.js";import{a as j}from"./chunk-GWI475V7.js";import{A as K,Ja as V,V as O,ea as x,ha as _,ia as L,ka as z}from"./chunk-UW6LU7NQ.js";import{Xc as k,oc as A,we as N}from"./chunk-VVYJCL6H.js";import{C as l,f as R}from"./chunk-N5H4HNSX.js";import{Aa as E,Ac as M,Ba as b,Cb as T,Dc as s,Ec as p,Fc as m,Hb as w,Tb as u,U as v,ac as d,bc as n,gc as S,i as C,ka as y,lc as W,pa as I,pc as P,qb as a,qc as D,wb as c}from"./chunk-7LLRMBML.js";import{i as f}from"./chunk-VBFW7A5V.js";function H(o,U){if(o&1){let e=S();d(0,"button",6),P("click",function(){E(e);let i=D();return b(i.initializeDashboard())}),M(1," Restore Widget "),n()}}var g=(()=>{class o extends N{static{this.providerId="BookRatingDataSource"}constructor(e){super(),this.http=e,this.busy=new C(!1)}getFilteredData(){return f(this,null,function*(){return this.busy.next(!0),new Promise(e=>{this.http.get("https://www.googleapis.com/books/v1/volumes/zpvysRGsBlwC").pipe(v(()=>this.busy.next(!1))).subscribe({next:t=>{e({result:{value:t.volumeInfo.averageRating,link:t.volumeInfo.infoLink}})},error:t=>{e({result:null,error:{type:t.status}})}})})})}ngOnDestroy(){this.outputsSubject.complete()}static{this.\u0275fac=function(t){return new(t||o)(I(l))}}static{this.\u0275prov=y({token:o,factory:o.\u0275fac})}}return o})(),se=(()=>{class o{constructor(e,t){this.widgetTypesService=e,this.providerRegistry=t,this.gridsterConfig={},this.editMode=!1}ngOnInit(){let e=this.widgetTypesService.getWidgetType("kpi",1);this.widgetTypesService.setNode(e,"configurator",L.DataSourceProviders,[g.providerId]),this.providerRegistry.setProviders({[g.providerId]:{provide:x,useClass:g,deps:[l]}}),this.initializeDashboard()}initializeDashboard(){let e=F,t={[e.id]:this.widgetTypesService.mergeWithWidgetType(e)},i={[e.id]:{cols:4,rows:6,y:0,x:0}};this.dashboard={positions:i,widgets:t}}static{this.\u0275fac=function(t){return new(t||o)(c(G),c(V))}}static{this.\u0275cmp=T({type:o,selectors:[["kpi-widget-interactive-example"]],standalone:!1,decls:6,vars:5,consts:()=>{let e;return e=$localize`:␟18d630a3c524dbab6dc528571782a939a7bc95b1␟861097914887003123: Edit Mode `,[e,[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"valueChange","value"],["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboardChange","gridsterConfigChange","dashboard","editMode","gridsterConfig"],["type","button","displayStyle","action","nui-button","",3,"click"]]},template:function(t,i){t&1&&(d(0,"div",1)(1,"nui-switch",2),m("valueChange",function(r){return p(i.editMode,r)||(i.editMode=r),r}),W(2,0),n(),w(3,H,2,0,"button",3),n(),d(4,"div",4)(5,"nui-dashboard",5),m("dashboardChange",function(r){return p(i.dashboard,r)||(i.dashboard=r),r})("gridsterConfigChange",function(r){return p(i.gridsterConfig,r)||(i.gridsterConfig=r),r}),n()()),t&2&&(a(),s("value",i.editMode),a(2),u("ngIf",!(i.dashboard!=null&&i.dashboard.widgets.kpiWidgetId)),a(2),s("dashboard",i.dashboard),u("editMode",i.editMode),s("gridsterConfig",i.gridsterConfig))},dependencies:[A,R,B,X,k],styles:[".dashboard[_ngcontent-%COMP%]{height:375px}"]})}}return o})(),F={id:"kpiWidgetId",type:"kpi",pizzagna:{[z.Configuration]:{header:{properties:{title:"Harry Potter and the Order of the Phoenix",subtitle:"By: J. K. Rowling"}},tiles:{providers:{interaction:{providerId:O,properties:{url:"${data.link}"}}},properties:{nodes:["kpi1"]}},kpi1:{id:"kpi1",componentType:j.lateLoadKey,properties:{widgetData:{units:"out of 5 stars",label:"Average Rating",value:0,link:"http://www.google.com"}},providers:{[_.DataSource]:{providerId:g.providerId},[_.Adapter]:{providerId:K,properties:{componentId:"kpi1",propertyPath:"widgetData"}}}}}}};export{g as a,se as b};
