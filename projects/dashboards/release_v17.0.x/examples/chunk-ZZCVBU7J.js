import{a as m,b as g,c as u,d as v,e as f}from"./chunk-4F3HMPIL.js";import{e as t}from"./chunk-OPV2UPWR.js";import{a as se,b as ae}from"./chunk-FSXUZGMJ.js";import{a as T,j as te,k as ie}from"./chunk-BOWRRSH7.js";import{a as y}from"./chunk-DSXQJ4TK.js";import"./chunk-6I7TS44Z.js";import"./chunk-JUPZGZRS.js";import"./chunk-SLNDOZHT.js";import"./chunk-YY44VW3L.js";import"./chunk-NL2BUAZT.js";import"./chunk-4HXDNOXI.js";import"./chunk-GRQ3I6DU.js";import"./chunk-3QXM5HIB.js";import{b as S,c as p,f as A}from"./chunk-IYRXTWZX.js";import"./chunk-DEDEN4HO.js";import"./chunk-TYDDX3UK.js";import"./chunk-O3DO7PNI.js";import"./chunk-QDQWUCTR.js";import"./chunk-OZALKHRQ.js";import"./chunk-LSEPWJWS.js";import"./chunk-BSCOJC4I.js";import"./chunk-6TGUIKVK.js";import"./chunk-6HGUVHUP.js";import"./chunk-EOKHLKUH.js";import"./chunk-RQK7FOMM.js";import"./chunk-VD3OFWQW.js";import"./chunk-OAMKFNWH.js";import"./chunk-GWI475V7.js";import"./chunk-ZKE5BQF3.js";import"./chunk-FTFNVH5I.js";import"./chunk-LTNK7SWM.js";import"./chunk-S3VNX4WV.js";import"./chunk-VZCEKN5H.js";import"./chunk-SFCHEBF7.js";import"./chunk-FXUCT5LQ.js";import"./chunk-JKHVMMKR.js";import"./chunk-ICNLH3VO.js";import"./chunk-KONGOWXB.js";import"./chunk-7W7EWBQD.js";import{Aa as c,Ja as P,b as ge,c as l,ea as h,ha as r,ia as re,ka as n}from"./chunk-UW6LU7NQ.js";import"./chunk-URWUMSY2.js";import"./chunk-SXG7KMJ2.js";import{Dd as J,Gc as G,Hc as Q,Jd as X,Kd as Y,md as K,od as V,se as $,te as ee,xd as q}from"./chunk-VVYJCL6H.js";import{N as H}from"./chunk-N5H4HNSX.js";import{Cb as R,Db as W,Dc as M,Ec as w,Fc as _,Gc as O,Tb as C,ac as z,bc as k,h as U,ka as x,la as B,pa as I,pc as j,qb as E,wb as b,wc as Z,xc as N,yc as F}from"./chunk-7LLRMBML.js";import"./chunk-CUY44B7R.js";import{g as me}from"./chunk-VBFW7A5V.js";var ce=me(ge());var D=(()=>{class a{constructor(s){this.toastService=s,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=i=>{let e=new U;return setTimeout(()=>{if(this.allowSubmit)e.next(i);else{let o=$localize`Submit failed.`;this.toastService.error({title:o}),e.error(o)}},1e3),e.asObservable()},this.tryRemove=i=>{let e=new U;return setTimeout(()=>{if(this.allowRemoval)e.next(i);else{let o=$localize`Widget removal failed.`;this.toastService.error({title:o}),e.error(o)}},200),e.asObservable()},this.toastService.setConfig({timeOut:2e3})}static{this.\u0275fac=function(i){return new(i||a)(I(Y))}}static{this.\u0275prov=x({token:a,factory:a.\u0275fac})}}return a})();var le={widget1:{cols:6,rows:7,y:0,x:0},"widget1-interval":{cols:6,rows:7,y:0,x:6},widget2:{cols:6,rows:7,y:7,x:0},"widget2-interval":{cols:6,rows:7,y:7,x:6},widget3:{cols:6,rows:7,y:14,x:0},"widget3-interval":{cols:6,rows:7,y:14,x:6},widget4:{cols:6,rows:7,y:21,x:0},"widget4-interval":{cols:6,rows:7,y:21,x:6},widget5:{cols:6,rows:7,y:28,x:0},"widget5-interval":{cols:6,rows:7,y:28,x:6},"widget1-perfstack":{cols:6,rows:7,y:35,x:0},"widget5-perfstack":{cols:6,rows:7,y:35,x:6}},de="test-collection-left",L="test-collection-right",ne=[{id:"widget1",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:u.providerId}}},header:{properties:{title:"Line Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-a",label:"Events",selectedSeriesId:"series-a"},{id:"series-b",label:"Events",selectedSeriesId:"series-b"},{id:"series-c",label:"Events",selectedSeriesId:"series-c"}]}}},properties:{configuration:{interaction:"series",legendPlacement:c.Bottom,enableZoom:!0,preset:p.Line,collectionId:de,allowLegendMenu:!0,projectType:A.PerfstackApp}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget1-interval",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:g.providerId}}},header:{properties:{title:"Line Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-a",label:"Average CPU Load",selectedSeriesId:"series-a"},{id:"series-b",label:"Average CPU Load",selectedSeriesId:"series-b"},{id:"series-c",label:"Average CPU Load",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:c.Bottom,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.Line,scales:{x:{type:S.TimeInterval,properties:{interval:24*60*60}}},collectionId:de,allowLegendMenu:!0}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget2",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:m.providerId}}},header:{properties:{title:"Area Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedArea}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget2-interval",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:m.providerId}}},header:{properties:{title:"Area Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedArea,scales:{x:{type:S.TimeInterval,properties:{interval:24*60*60}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget3",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:m.providerId}}},header:{properties:{title:"Stacked Percentage Area Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedPercentageArea}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget3-interval",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:m.providerId}}},header:{properties:{title:"Stacked Percentage Area Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedPercentageArea,scales:{x:{type:S.TimeInterval,properties:{interval:24*60*60}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget4",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:g.providerId}}},header:{properties:{title:"Bar Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-a",label:"Average CPU Load",selectedSeriesId:"series-a"},{id:"series-b",label:"Average CPU Load",selectedSeriesId:"series-b"},{id:"series-c",label:"Average CPU Load",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedBar}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget4-interval",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:g.providerId}}},header:{properties:{title:"Bar Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-a",label:"Average CPU Load",selectedSeriesId:"series-a"},{id:"series-b",label:"Average CPU Load",selectedSeriesId:"series-b"},{id:"series-c",label:"Average CPU Load",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedBar,scales:{x:{type:S.TimeInterval,properties:{interval:24*60*60}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget5",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:v.providerId}}},header:{properties:{title:"Status Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StatusBar,collectionId:L}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(14,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget5-interval",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:f.providerId}}},header:{properties:{title:"Status Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StatusBar,scales:{x:{type:S.TimeInterval,properties:{interval:24*60*60}}},collectionId:L}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(14,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget1-perfstack",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:u.providerId}}},header:{properties:{title:"Line Chart in PerfStack",subtitle:"Basic timeseries widget with legend actions"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-a",label:"Events",selectedSeriesId:"series-a"},{id:"series-b",label:"Events",selectedSeriesId:"series-b"},{id:"series-c",label:"Events",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,interaction:"series",preset:p.Line,collectionId:L,allowLegendMenu:!0,projectType:A.PerfstackApp,gridConfig:{fixedLayout:!0}}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget5-perfstack",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:v.providerId}}},header:{properties:{title:"Status Chart in PerfStack",subtitle:"Basic timeseries widget with legend actions"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StatusBar,collectionId:L,allowLegendMenu:!0,projectType:A.PerfstackApp,gridConfig:{fixedLayout:!0}}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(14,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}}];var pe=(()=>{class a{constructor(s,i,e,o){this.providerRegistry=s,this.submitHandler=i,this.themeSwitcherService=e,this.widgetTypesService=o,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.dsError=!1,this.providerRegistry.setProviders({[m.providerId]:{provide:h,useClass:m,deps:[]},[g.providerId]:{provide:h,useClass:g,deps:[]},[u.providerId]:{provide:h,useClass:u,deps:[]},[v.providerId]:{provide:h,useClass:v,deps:[]},[f.providerId]:{provide:h,useClass:f,deps:[]}})}ngOnInit(){let s=ne.map(e=>this.widgetTypesService.mergeWithWidgetType(e)),i=(0,ce.default)(s,e=>e.id);this.dashboard={positions:le,widgets:i}}onDsErrorChange(s){m.mockError=s}static{this.\u0275fac=function(i){return new(i||a)(b(P),b(D),b($),b(y))}}static{this.\u0275cmp=R({type:a,selectors:[["acme-dashboard"]],viewQuery:function(i,e){if(i&1&&Z(T,7),i&2){let o;N(o=F())&&(e.dashboardComponent=o.first)}},standalone:!1,features:[O([D])],decls:3,vars:6,consts:[[3,"editModeChange","dsErrorChange","editMode","dsError"],[1,"dashboard"],[3,"dashboardChange","gridsterConfigChange","nuiWidgetEditor","dashboard","gridsterConfig","editMode"]],template:function(i,e){i&1&&(z(0,"dashboard-test-harness",0),_("editModeChange",function(d){return w(e.editMode,d)||(e.editMode=d),d}),j("dsErrorChange",function(d){return e.onDsErrorChange(d)}),z(1,"div",1)(2,"nui-dashboard",2),_("dashboardChange",function(d){return w(e.dashboard,d)||(e.dashboard=d),d})("gridsterConfigChange",function(d){return w(e.gridsterConfig,d)||(e.gridsterConfig=d),d}),k()()()),i&2&&(M("editMode",e.editMode),C("dsError",e.dsError),E(2),C("nuiWidgetEditor",e.submitHandler),M("dashboard",e.dashboard)("gridsterConfig",e.gridsterConfig),C("editMode",e.editMode))},dependencies:[se,T,te],styles:[".dashboard[_ngcontent-%COMP%]{height:2496px;width:1200px}"]})}}return a})();var he=[{path:"",component:pe,data:{srlc:{hideIndicator:!0}}}],Ze=(()=>{class a{constructor(s){this.widgetTypesService=s,this.setupDataSourceProviders()}setupDataSourceProviders(){this.setDataSourceProviders("timeseries",[u.providerId,m.providerId,g.providerId,v.providerId,f.providerId])}setDataSourceProviders(s,i){let e=this.widgetTypesService.getWidgetType(s,1);this.widgetTypesService.setNode(e,"configurator",re.DataSourceProviders,i)}static{this.\u0275fac=function(i){return new(i||a)(I(y))}}static{this.\u0275mod=W({type:a})}static{this.\u0275inj=B({providers:[P],imports:[ae,ie,J,Q,X,q,K,ee,V,G,H.forChild(he)]})}}return a})();export{Ze as TimeseriesTestModule};
