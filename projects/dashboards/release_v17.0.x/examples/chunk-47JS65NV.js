import{a as m,b as g,c as u,d as v,e as f}from"./chunk-GOLPZZWO.js";import{e as t}from"./chunk-TKIYSYOM.js";import{a as se,b as ae}from"./chunk-VRLMZINP.js";import{a as T,j as te,k as ie}from"./chunk-32WL3UDE.js";import{a as y}from"./chunk-V2MEVMRQ.js";import"./chunk-DJYT3VBJ.js";import"./chunk-GQDQT2QR.js";import"./chunk-ZT7A7TZF.js";import"./chunk-F7CIRBPD.js";import"./chunk-K3YJT5MO.js";import"./chunk-4HXDNOXI.js";import"./chunk-WPL4APHO.js";import"./chunk-3OQ7M4HB.js";import{b as S,c as p,f as A}from"./chunk-IYRXTWZX.js";import"./chunk-SIB66IPC.js";import"./chunk-E6WOVQK3.js";import"./chunk-4VFLXTDB.js";import"./chunk-CNSYS4BF.js";import"./chunk-OZALKHRQ.js";import"./chunk-YP3CNFHO.js";import"./chunk-VAZJ6DY4.js";import"./chunk-JTLDSCSU.js";import"./chunk-FHSFZ6IZ.js";import"./chunk-7ELEEN5W.js";import"./chunk-DQ2U65MU.js";import"./chunk-6QRNUDBT.js";import"./chunk-LEQI7TWI.js";import"./chunk-QWK7WHL2.js";import"./chunk-ZKE5BQF3.js";import"./chunk-43BP6LOQ.js";import"./chunk-LTNK7SWM.js";import"./chunk-4RLLEQLT.js";import"./chunk-GHZ6RIMD.js";import"./chunk-IXIAG2WE.js";import"./chunk-RODZF2WM.js";import"./chunk-RA3JVS4W.js";import"./chunk-CGOWT33R.js";import"./chunk-DIZWAMYX.js";import"./chunk-AMXUNQ4T.js";import{Aa as c,Ja as P,b as ge,c as l,ea as h,ha as r,ia as re,ka as n}from"./chunk-USCLQP7P.js";import"./chunk-V76TIQNF.js";import{Ed as J,Hc as G,Ic as Q,Kd as X,Ld as Y,nd as K,pd as V,te as $,ue as ee,yd as q}from"./chunk-NZZJTGI5.js";import{L as H}from"./chunk-NEOTMEUH.js";import{Aa as I,Ac as _,Bc as O,Ha as E,Ia as R,Rb as C,Xb as z,Yb as k,h as U,kc as j,rc as Z,sc as N,tc as F,va as x,wa as B,yb as W,yc as M,zb as b,zc as w}from"./chunk-NNMBFNDY.js";import"./chunk-JISDZD7Z.js";import{g as me}from"./chunk-T555DFTC.js";var ce=me(ge());var D=(()=>{class a{constructor(s){this.toastService=s,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=i=>{let e=new U;return setTimeout(()=>{if(this.allowSubmit)e.next(i);else{let o=$localize`Submit failed.`;this.toastService.error({title:o}),e.error(o)}},1e3),e.asObservable()},this.tryRemove=i=>{let e=new U;return setTimeout(()=>{if(this.allowRemoval)e.next(i);else{let o=$localize`Widget removal failed.`;this.toastService.error({title:o}),e.error(o)}},200),e.asObservable()},this.toastService.setConfig({timeOut:2e3})}static{this.\u0275fac=function(i){return new(i||a)(I(Y))}}static{this.\u0275prov=x({token:a,factory:a.\u0275fac})}}return a})();var le={widget1:{cols:6,rows:7,y:0,x:0},"widget1-interval":{cols:6,rows:7,y:0,x:6},widget2:{cols:6,rows:7,y:7,x:0},"widget2-interval":{cols:6,rows:7,y:7,x:6},widget3:{cols:6,rows:7,y:14,x:0},"widget3-interval":{cols:6,rows:7,y:14,x:6},widget4:{cols:6,rows:7,y:21,x:0},"widget4-interval":{cols:6,rows:7,y:21,x:6},widget5:{cols:6,rows:7,y:28,x:0},"widget5-interval":{cols:6,rows:7,y:28,x:6},"widget1-perfstack":{cols:6,rows:7,y:35,x:0},"widget5-perfstack":{cols:6,rows:7,y:35,x:6}},de="test-collection-left",L="test-collection-right",ne=[{id:"widget1",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:u.providerId}}},header:{properties:{title:"Line Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-a",label:"Events",selectedSeriesId:"series-a"},{id:"series-b",label:"Events",selectedSeriesId:"series-b"},{id:"series-c",label:"Events",selectedSeriesId:"series-c"}]}}},properties:{configuration:{interaction:"series",legendPlacement:c.Bottom,enableZoom:!0,preset:p.Line,collectionId:de,allowLegendMenu:!0,projectType:A.PerfstackApp}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget1-interval",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:g.providerId}}},header:{properties:{title:"Line Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-a",label:"Average CPU Load",selectedSeriesId:"series-a"},{id:"series-b",label:"Average CPU Load",selectedSeriesId:"series-b"},{id:"series-c",label:"Average CPU Load",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:c.Bottom,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.Line,scales:{x:{type:S.TimeInterval,properties:{interval:24*60*60}}},collectionId:de,allowLegendMenu:!0}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget2",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:m.providerId}}},header:{properties:{title:"Area Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedArea}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget2-interval",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:m.providerId}}},header:{properties:{title:"Area Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedArea,scales:{x:{type:S.TimeInterval,properties:{interval:24*60*60}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget3",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:m.providerId}}},header:{properties:{title:"Stacked Percentage Area Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedPercentageArea}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget3-interval",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:m.providerId}}},header:{properties:{title:"Stacked Percentage Area Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"},{id:"series-4",label:"Average CPU Load",selectedSeriesId:"series-4"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedPercentageArea,scales:{x:{type:S.TimeInterval,properties:{interval:24*60*60}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget4",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:g.providerId}}},header:{properties:{title:"Bar Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-a",label:"Average CPU Load",selectedSeriesId:"series-a"},{id:"series-b",label:"Average CPU Load",selectedSeriesId:"series-b"},{id:"series-c",label:"Average CPU Load",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedBar}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget4-interval",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:g.providerId}}},header:{properties:{title:"Bar Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-a",label:"Average CPU Load",selectedSeriesId:"series-a"},{id:"series-b",label:"Average CPU Load",selectedSeriesId:"series-b"},{id:"series-c",label:"Average CPU Load",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StackedBar,scales:{x:{type:S.TimeInterval,properties:{interval:24*60*60}}}}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget5",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:v.providerId}}},header:{properties:{title:"Status Chart with Standard Time Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StatusBar,collectionId:L}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(14,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget5-interval",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:f.providerId}}},header:{properties:{title:"Status Chart with Time Interval Scale",subtitle:"Basic timeseries widget"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StatusBar,scales:{x:{type:S.TimeInterval,properties:{interval:24*60*60}}},collectionId:L}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(14,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget1-perfstack",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:u.providerId}}},header:{properties:{title:"Line Chart in PerfStack",subtitle:"Basic timeseries widget with legend actions"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-a",label:"Events",selectedSeriesId:"series-a"},{id:"series-b",label:"Events",selectedSeriesId:"series-b"},{id:"series-c",label:"Events",selectedSeriesId:"series-c"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,interaction:"series",preset:p.Line,collectionId:L,allowLegendMenu:!0,projectType:A.PerfstackApp,gridConfig:{fixedLayout:!0}}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(7,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}},{id:"widget5-perfstack",type:"timeseries",pizzagna:{[n.Configuration]:{[l]:{providers:{[r.DataSource]:{providerId:v.providerId}}},header:{properties:{title:"Status Chart in PerfStack",subtitle:"Basic timeseries widget with legend actions"}},chart:{providers:{[r.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:c.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:p.StatusBar,collectionId:L,allowLegendMenu:!0,projectType:A.PerfstackApp,gridConfig:{fixedLayout:!0}}}},timeframeSelection:{properties:{timeframe:{startDatetime:t().subtract(14,"day").format(),endDatetime:t().format(),selectedPresetId:null}}}}}}];var pe=(()=>{class a{constructor(s,i,e,o){this.providerRegistry=s,this.submitHandler=i,this.themeSwitcherService=e,this.widgetTypesService=o,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.dsError=!1,this.providerRegistry.setProviders({[m.providerId]:{provide:h,useClass:m,deps:[]},[g.providerId]:{provide:h,useClass:g,deps:[]},[u.providerId]:{provide:h,useClass:u,deps:[]},[v.providerId]:{provide:h,useClass:v,deps:[]},[f.providerId]:{provide:h,useClass:f,deps:[]}})}ngOnInit(){let s=ne.map(e=>this.widgetTypesService.mergeWithWidgetType(e)),i=(0,ce.default)(s,e=>e.id);this.dashboard={positions:le,widgets:i}}onDsErrorChange(s){m.mockError=s}static{this.\u0275fac=function(i){return new(i||a)(b(P),b(D),b($),b(y))}}static{this.\u0275cmp=E({type:a,selectors:[["acme-dashboard"]],viewQuery:function(i,e){if(i&1&&Z(T,7),i&2){let o;N(o=F())&&(e.dashboardComponent=o.first)}},features:[O([D])],decls:3,vars:6,consts:[[3,"editModeChange","dsErrorChange","editMode","dsError"],[1,"dashboard"],[3,"dashboardChange","gridsterConfigChange","nuiWidgetEditor","dashboard","gridsterConfig","editMode"]],template:function(i,e){i&1&&(z(0,"dashboard-test-harness",0),_("editModeChange",function(d){return w(e.editMode,d)||(e.editMode=d),d}),j("dsErrorChange",function(d){return e.onDsErrorChange(d)}),z(1,"div",1)(2,"nui-dashboard",2),_("dashboardChange",function(d){return w(e.dashboard,d)||(e.dashboard=d),d})("gridsterConfigChange",function(d){return w(e.gridsterConfig,d)||(e.gridsterConfig=d),d}),k()()()),i&2&&(M("editMode",e.editMode),C("dsError",e.dsError),W(2),C("nuiWidgetEditor",e.submitHandler),M("dashboard",e.dashboard)("gridsterConfig",e.gridsterConfig),C("editMode",e.editMode))},dependencies:[se,T,te],styles:[".dashboard[_ngcontent-%COMP%]{height:2496px;width:1200px}"]})}}return a})();var he=[{path:"",component:pe,data:{srlc:{hideIndicator:!0}}}],Ze=(()=>{class a{constructor(s){this.widgetTypesService=s,this.setupDataSourceProviders()}setupDataSourceProviders(){this.setDataSourceProviders("timeseries",[u.providerId,m.providerId,g.providerId,v.providerId,f.providerId])}setDataSourceProviders(s,i){let e=this.widgetTypesService.getWidgetType(s,1);this.widgetTypesService.setNode(e,"configurator",re.DataSourceProviders,i)}static{this.\u0275fac=function(i){return new(i||a)(I(y))}}static{this.\u0275mod=R({type:a})}static{this.\u0275inj=B({providers:[P],imports:[ae,ie,J,Q,X,q,K,ee,V,G,H.forChild(he)]})}}return a})();export{Ze as TimeseriesTestModule};
