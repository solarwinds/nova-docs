import{a as X,j as H}from"./chunk-XIF3MCYI.js";import{a as F}from"./chunk-DSSERSRF.js";import{a as E}from"./chunk-LTNK7SWM.js";import{Aa as w,Ja as K,V,b as Z,c as z,ea as G,ha as m,ia as j,ka as I}from"./chunk-JTZX6I73.js";import{Yc as L,pc as k,xe as B}from"./chunk-DKNPFPFG.js";import{f as A}from"./chunk-TBX5YZGF.js";import{$b as f,Ha as M,Nb as y,Pb as g,Ra as c,Sa as l,Va as O,Vb as a,Wb as n,Zc as N,ec as R,i as S,ic as x,jc as d,tc as D,va as W,wb as p,wc as h,xb as u,xc as _,yc as b}from"./chunk-FGVILFLG.js";import{g as Y,i as P}from"./chunk-T555DFTC.js";var U=Y(Z());function q(i,C){if(i&1){let e=f();a(0,"button",6),x("click",function(){c(e);let t=d();return l(t.reInitializeDashboard())}),D(1," Restore Widget "),n()}}function J(i,C){if(i&1){let e=f();a(0,"nui-dashboard",7),b("dashboardChange",function(t){c(e);let o=d();return _(o.dashboard,t)||(o.dashboard=t),l(t)})("gridsterConfigChange",function(t){c(e);let o=d();return _(o.gridsterConfig,t)||(o.gridsterConfig=t),l(t)}),n()}if(i&2){let e=d();h("dashboard",e.dashboard),g("editMode",e.editMode),h("gridsterConfig",e.gridsterConfig)}}var s=(()=>{class i extends B{constructor(){super(...arguments),this.busy=new S(!1)}static{this.providerId="ReviewCountsByCityMockDataSource"}getFilteredData(){return P(this,null,function*(){return this.busy.next(!0),new Promise(e=>{setTimeout(()=>{this.outputsSubject.next({result:Q()}),this.busy.next(!1)},300)})})}ngOnDestroy(){this.outputsSubject.complete()}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=O(i)))(t||i)}})()}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})(),le=(()=>{class i{constructor(e,r,t){this.widgetTypesService=e,this.providerRegistry=r,this.changeDetectorRef=t,this.gridsterConfig={},this.editMode=!1}ngOnInit(){let e=this.widgetTypesService.getWidgetType("proportional",1);this.widgetTypesService.setNode(e,"configurator",j.DataSourceProviders,[s.providerId]),this.providerRegistry.setProviders({[s.providerId]:{provide:G,useClass:s,deps:[]}}),this.initializeDashboard()}reInitializeDashboard(){this.dashboard=void 0,this.changeDetectorRef.detectChanges(),this.initializeDashboard()}initializeDashboard(){let e=T.map(o=>this.widgetTypesService.mergeWithWidgetType(o)),r=(0,U.default)(e,o=>o.id),t={[T[0].id]:{cols:6,rows:6,y:0,x:0},[T[1].id]:{cols:6,rows:6,y:0,x:6}};this.dashboard={positions:t,widgets:r}}static{this.\u0275fac=function(r){return new(r||i)(u(F),u(K),u(N))}}static{this.\u0275cmp=M({type:i,selectors:[["proportional-widget-interactive-example"]],decls:6,vars:3,consts:()=>{let e;return e=$localize`:␟18d630a3c524dbab6dc528571782a939a7bc95b1␟861097914887003123: Edit Mode `,[e,[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"valueChange","value"],["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboard","editMode","gridsterConfig","dashboardChange","gridsterConfigChange",4,"ngIf"],["type","button","displayStyle","action","nui-button","",3,"click"],["nuiWidgetEditor","",3,"dashboardChange","gridsterConfigChange","dashboard","editMode","gridsterConfig"]]},template:function(r,t){r&1&&(a(0,"div",1)(1,"nui-switch",2),b("valueChange",function(v){return _(t.editMode,v)||(t.editMode=v),v}),R(2,0),n(),y(3,q,2,0,"button",3),n(),a(4,"div",4),y(5,J,1,3,"nui-dashboard",5),n()),r&2&&(p(),h("value",t.editMode),p(2),g("ngIf",!(t.dashboard!=null&&t.dashboard.widgets.proportionalWidgetId)),p(2),g("ngIf",t.dashboard))},dependencies:[k,A,X,H,L],styles:[".dashboard[_ngcontent-%COMP%]{height:375px}"]})}}return i})(),T=[{id:"widget1",type:"proportional",pizzagna:{[I.Configuration]:{[z]:{providers:{[m.InteractionHandler]:{providerId:V,properties:{url:"${data.link || 'https://en.wikipedia.org/wiki/'+data.id}"}}}},header:{properties:{title:"Proportional Widget",subtitle:"With interaction handler"}},chart:{providers:{[m.DataSource]:{providerId:s.providerId}},properties:{configuration:{interactive:!0,chartOptions:{type:E.VerticalBarChart,legendPlacement:w.Bottom},prioritizeWidgetColors:!1}}}}}},{id:"widget2",type:"proportional",pizzagna:{[I.Configuration]:{header:{properties:{title:"Proportional Widget",subtitle:"Without interaction handler"}},chart:{providers:{[m.DataSource]:{providerId:s.providerId}},properties:{configuration:{interactive:!1,chartOptions:{type:E.HorizontalBarChart,legendPlacement:w.Bottom},prioritizeWidgetColors:!1}}}}}}];function Q(){return[{id:"Brno",name:"Brno",data:[Math.round(Math.random()*1e5)],icon:"status_down",link:"https://en.wikipedia.org/wiki/Brno",value:"Brno",color:"var(--nui-color-chart-one)"},{id:"kyiv",name:"Kyiv",data:[Math.round(Math.random()*1e5)],icon:"status_critical",link:"https://en.wikipedia.org/wiki/Kyiv",value:"Kyiv",color:"var(--nui-color-chart-two)"},{id:"austin",name:"Austin",data:[Math.round(Math.random()*1e5)],icon:"status_warning",value:"Austin",color:"var(--nui-color-chart-three)"},{id:"lisbon",name:"Lisbon",data:[Math.round(Math.random()*1e5)],icon:"status_unknown",link:"https://en.wikipedia.org/wiki/Lisbon",value:"Lisbon",color:"var(--nui-color-chart-four)"},{id:"sydney",name:"Sydney",data:[Math.round(Math.random()*1e5)],icon:"status_up",value:"Sydney",color:"var(--nui-color-chart-five)"},{id:"nur-sultan",name:"Nur-Sultan",data:[Math.round(Math.random()*1e5)],icon:"status_unmanaged",value:"Nur-Sultan",color:"var(--nui-color-chart-six)"}].sort((i,C)=>i.data[0]-C.data[0])}export{s as a,le as b,Q as c};
