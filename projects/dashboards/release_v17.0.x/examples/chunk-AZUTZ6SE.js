import{a as H,j as Y}from"./chunk-BOWRRSH7.js";import{a as Z}from"./chunk-DSXQJ4TK.js";import{b as U,c as I}from"./chunk-IYRXTWZX.js";import{Aa as g,Ja as K,b as ee,c as m,ea as F,ha as n,ia as j,ka as u}from"./chunk-UW6LU7NQ.js";import{Xc as V,Zb as $,oc as G,we as X}from"./chunk-VVYJCL6H.js";import{f as N}from"./chunk-N5H4HNSX.js";import{Aa as h,Ac as z,Ba as S,Cb as L,Dc as C,Ea as A,Ec as E,Fc as W,Hb as T,Tb as _,Wc as O,ac as p,bc as c,gc as w,i as M,ka as R,lc as k,pc as B,qb as D,qc as y,wb as x}from"./chunk-7LLRMBML.js";import{a as Q}from"./chunk-CUY44B7R.js";import{g as v,i as P}from"./chunk-VBFW7A5V.js";var q=v($()),J=v(ee()),s=v(Q());function te(r,f){if(r&1){let i=w();p(0,"button",6),B("click",function(){h(i);let t=y();return S(t.reInitializeDashboard())}),z(1," Restore Widget "),c()}}function ie(r,f){if(r&1){let i=w();p(0,"nui-dashboard",7),W("dashboardChange",function(t){h(i);let o=y();return E(o.dashboard,t)||(o.dashboard=t),S(t)})("gridsterConfigChange",function(t){h(i);let o=y();return E(o.gridsterConfig,t)||(o.gridsterConfig=t),S(t)}),c()}if(r&2){let i=y();C("dashboard",i.dashboard),_("editMode",i.editMode),C("gridsterConfig",i.gridsterConfig)}}var d=(()=>{class r extends X{constructor(){super(...arguments),this.busy=new M(!1)}static{this.providerId="BeerVsReadingMockDataSource"}getFilteredData(i){return P(this,null,function*(){let a=re();this.busy.next(!0);let t=i.timeframe?.value;return t&&(a=a.map(o=>({id:o.id,name:o.name,description:o.description,data:o.data.filter(l=>ae(l.x,t.startDatetime,t.endDatetime))}))),this.busy.next(!1),{result:{series:a}}})}static{this.\u0275fac=(()=>{let i;return function(t){return(i||(i=A(r)))(t||r)}})()}static{this.\u0275prov=R({token:r,factory:r.\u0275fac})}}return r})();function ae(r,f,i){let a=(0,s.default)(r);return a.isBetween(f,i)||a.isSame(f)||a.isSame(i)}var fe=(()=>{class r{constructor(i,a,t){this.widgetTypesService=i,this.providerRegistry=a,this.changeDetectorRef=t,this.gridsterConfig={},this.editMode=!1}ngOnInit(){let i=this.widgetTypesService.getWidgetType("timeseries",1);this.widgetTypesService.setNode(i,"configurator",j.DataSourceProviders,[d.providerId]),this.providerRegistry.setProviders({[d.providerId]:{provide:F,useClass:d,deps:[]}}),this.initializeDashboard()}initializeDashboard(){let i=b.map(t=>this.widgetTypesService.mergeWithWidgetType(t)),a=(0,J.default)(i,t=>t.id);this.dashboard={positions:(0,q.default)(oe),widgets:a}}reInitializeDashboard(){this.dashboard=void 0,this.changeDetectorRef.detectChanges(),this.initializeDashboard()}static{this.\u0275fac=function(a){return new(a||r)(x(Z),x(K),x(O))}}static{this.\u0275cmp=L({type:r,selectors:[["timeseries-widget-example"]],standalone:!1,decls:6,vars:3,consts:()=>{let i;return i=$localize`:␟18d630a3c524dbab6dc528571782a939a7bc95b1␟861097914887003123: Edit Mode `,[i,[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"valueChange","value"],["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboard","editMode","gridsterConfig","dashboardChange","gridsterConfigChange",4,"ngIf"],["type","button","displayStyle","action","nui-button","",3,"click"],["nuiWidgetEditor","",3,"dashboardChange","gridsterConfigChange","dashboard","editMode","gridsterConfig"]]},template:function(a,t){a&1&&(p(0,"div",1)(1,"nui-switch",2),W("valueChange",function(l){return E(t.editMode,l)||(t.editMode=l),l}),k(2,0),c(),T(3,te,2,0,"button",3),c(),p(4,"div",4),T(5,ie,1,3,"nui-dashboard",5),c()),a&2&&(D(),C("value",t.editMode),D(2),_("ngIf",!(t.dashboard!=null&&t.dashboard.widgets.timeseriesWidgetId)),D(2),_("ngIf",t.dashboard))},dependencies:[G,N,V,H,Y],styles:[".dashboard[_ngcontent-%COMP%]{height:725px}"]})}}return r})(),b=[{id:"lineWidgetId",type:"timeseries",pizzagna:{[u.Configuration]:{[m]:{providers:{[n.DataSource]:{providerId:d.providerId}}},header:{properties:{title:"Line Chart",subtitle:"Survey of 1000 Solarians"}},chart:{providers:{[n.Adapter]:{properties:{series:[{id:"series-1",label:"Beer Tasting",selectedSeriesId:"series-1"},{id:"series-2",label:"Reading",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:g.Right,enableZoom:!0,leftAxisLabel:"Solarians (%)"}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:(0,s.default)().subtract(60,"days").format(),maxDate:(0,s.default)().format()}}}}},{id:"stackedAreaWidgetId",type:"timeseries",pizzagna:{[u.Configuration]:{[m]:{providers:{[n.DataSource]:{providerId:d.providerId}}},header:{properties:{title:"Stacked Area Chart",subtitle:"Survey of 1000 Solarians"}},chart:{providers:{[n.Adapter]:{properties:{series:[{id:"series-1",label:"Beer Tasting",selectedSeriesId:"series-1"},{id:"series-2",label:"Reading",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:g.Right,enableZoom:!0,preset:I.StackedArea,leftAxisLabel:"Solarians (%)"}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:(0,s.default)().subtract(60,"days").format(),maxDate:(0,s.default)().format()}}}}},{id:"stackedPercentageAreaWidgetId",type:"timeseries",pizzagna:{[u.Configuration]:{[m]:{providers:{[n.DataSource]:{providerId:d.providerId}}},header:{properties:{title:"Stacked Percentage Area Chart",subtitle:"Survey of 1000 Solarians"}},chart:{providers:{[n.Adapter]:{properties:{series:[{id:"series-1",label:"Beer Tasting",selectedSeriesId:"series-1"},{id:"series-2",label:"Reading",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:g.Right,enableZoom:!0,preset:I.StackedPercentageArea,leftAxisLabel:"Solarians (%)"}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:(0,s.default)().subtract(60,"days").format(),maxDate:(0,s.default)().format()}}}}},{id:"stackedBarWidgetId",type:"timeseries",pizzagna:{[u.Configuration]:{[m]:{providers:{[n.DataSource]:{providerId:d.providerId}}},header:{properties:{title:"Stacked Bar Chart",subtitle:"Survey of 1000 Solarians"}},chart:{providers:{[n.Adapter]:{properties:{series:[{id:"series-1",label:"Beer Tasting",selectedSeriesId:"series-1"},{id:"series-2",label:"Reading",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:g.Right,enableZoom:!0,leftAxisLabel:"Solarians (%)",preset:I.StackedBar,scales:{x:{type:U.TimeInterval,properties:{interval:24*60*60}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:(0,s.default)().subtract(60,"days").format(),maxDate:(0,s.default)().format()}}}}}],e=(0,s.default)().startOf("day"),re=()=>[{id:"series-1",name:"Beer Tasting",description:"Havin' some suds",data:[{x:e.clone().subtract(20,"day").toDate(),y:30},{x:e.clone().subtract(19,"day").toDate(),y:35},{x:e.clone().subtract(18,"day").toDate(),y:33},{x:e.clone().subtract(17,"day").toDate(),y:40},{x:e.clone().subtract(16,"day").toDate(),y:35},{x:e.clone().subtract(15,"day").toDate(),y:30},{x:e.clone().subtract(14,"day").toDate(),y:35},{x:e.clone().subtract(13,"day").toDate(),y:15},{x:e.clone().subtract(12,"day").toDate(),y:30},{x:e.clone().subtract(11,"day").toDate(),y:45},{x:e.clone().subtract(10,"day").toDate(),y:60},{x:e.clone().subtract(9,"day").toDate(),y:54},{x:e.clone().subtract(8,"day").toDate(),y:42},{x:e.clone().subtract(7,"day").toDate(),y:44},{x:e.clone().subtract(6,"day").toDate(),y:54},{x:e.clone().subtract(5,"day").toDate(),y:43},{x:e.clone().subtract(4,"day").toDate(),y:76},{x:e.clone().subtract(3,"day").toDate(),y:54},{x:e.clone().subtract(2,"day").toDate(),y:42},{x:e.clone().subtract(1,"day").toDate(),y:34}]},{id:"series-2",name:"Reading",description:"Hittin' the books",data:[{x:e.clone().subtract(20,"day").toDate(),y:60},{x:e.clone().subtract(19,"day").toDate(),y:64},{x:e.clone().subtract(18,"day").toDate(),y:70},{x:e.clone().subtract(17,"day").toDate(),y:55},{x:e.clone().subtract(16,"day").toDate(),y:55},{x:e.clone().subtract(15,"day").toDate(),y:45},{x:e.clone().subtract(14,"day").toDate(),y:60},{x:e.clone().subtract(13,"day").toDate(),y:65},{x:e.clone().subtract(12,"day").toDate(),y:63},{x:e.clone().subtract(11,"day").toDate(),y:60},{x:e.clone().subtract(10,"day").toDate(),y:61},{x:e.clone().subtract(9,"day").toDate(),y:65},{x:e.clone().subtract(8,"day").toDate(),y:63},{x:e.clone().subtract(7,"day").toDate(),y:58},{x:e.clone().subtract(6,"day").toDate(),y:64},{x:e.clone().subtract(5,"day").toDate(),y:63},{x:e.clone().subtract(4,"day").toDate(),y:60},{x:e.clone().subtract(3,"day").toDate(),y:62},{x:e.clone().subtract(2,"day").toDate(),y:61},{x:e.clone().subtract(1,"day").toDate(),y:62}]}],oe={[b[0].id]:{cols:6,rows:6,y:0,x:0},[b[1].id]:{cols:6,rows:6,y:0,x:6},[b[3].id]:{cols:6,rows:6,y:6,x:0},[b[2].id]:{cols:6,rows:6,y:6,x:6}};export{d as a,fe as b,re as c};
