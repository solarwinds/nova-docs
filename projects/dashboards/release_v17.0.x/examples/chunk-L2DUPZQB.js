import{a as N,b as x,c as S,e as F,f as w}from"./chunk-TWGF5P3J.js";import{a as z,b as A,c as B,d as C,e as R,f as O}from"./chunk-KEVDW64K.js";import{m as V}from"./chunk-2PYN5BKZ.js";import{ja as L}from"./chunk-UNYFFDYX.js";import{C as $,kc as j,lc as v,xe as n,ye as k}from"./chunk-3HSEZOBQ.js";import{z as b}from"./chunk-NEOTMEUH.js";import{Aa as d,Wa as P,ca as D,h as E,i as u,va as h}from"./chunk-NNMBFNDY.js";import{a as X}from"./chunk-JISDZD7Z.js";import{g,i as o}from"./chunk-T555DFTC.js";var W=["London","Paris","Brno","Kyiv","Lisbon"],it=(()=>{class a extends n{static{this.providerId="AcmeProportionalDataSource"}static{this.mockError=!1}constructor(t){super(),this.http=t,this.busy=new E,this.properties={isEuropeOnly:!1}}getFilteredData(){return o(this,null,function*(){if(this.busy.next(!0),a.mockError)return new Promise(t=>{this.http.get("http://www.mocky.io/v2/5ec6bfd93200007800d75100?mocky-delay=1000ms").pipe(D(()=>{this.busy.next(!1)})).subscribe({error:e=>{t({result:null,error:{type:e.status}})}})});{let t=this.properties.isEuropeOnly?[W]:[];return new Promise(e=>{setTimeout(()=>{e({result:A(...t)}),this.busy.next(!1)},1e3)})}})}ngOnDestroy(){this.outputsSubject.complete()}updateConfiguration(t){this.properties=t}static{this.\u0275fac=function(e){return new(e||a)(d(b))}}static{this.\u0275prov=h({token:a,factory:a.\u0275fac})}}return a})(),st=(()=>{class a extends n{constructor(){super(...arguments),this.busy=new u(!1),this.properties={isEuropeOnly:!1}}static{this.providerId="AcmeProportionalDataSource2"}getFilteredData(){return o(this,null,function*(){this.busy.next(!1);let t=this.properties.isEuropeOnly?[W]:[];return new Promise(e=>{setTimeout(()=>{e({result:z(...t)}),this.busy.next(!1)},1e3)})})}ngOnDestroy(){this.outputsSubject.complete()}updateConfiguration(t){this.properties=t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=P(a)))(i||a)}})()}static{this.\u0275prov=h({token:a,factory:a.\u0275fac})}}return a})();var H=g($()),U=g(j());var pt=(()=>{class a extends n{static{this.providerId="AcmeTableDataSource"}static{this.mockError=!1}constructor(t,e){super(),this.logger=t,this.http=e,this.page=1,this.busy=new u(!1),this.seed="sw",this.cache=Array.from({length:0}),this.dataFields=[{id:"no",label:$localize`No`,dataType:"number"},{id:"nameTitle",label:$localize`Title`,dataType:"string"},{id:"nameFirst",label:$localize`First`,dataType:"string"},{id:"nameLast",label:$localize`Last`,dataType:"string"},{id:"gender",label:$localize`Gender`,dataType:"string",sortable:!1},{id:"country",label:$localize`Country`,dataType:"string",sortable:!1},{id:"city",label:$localize`City`,dataType:"string",sortable:!1},{id:"postcode",label:$localize`Postcode`,dataType:"number",sortable:!1},{id:"email",label:$localize`E-Mail`,dataType:"string",sortable:!1},{id:"cell",label:$localize`Cell`,dataType:"string"}]}getFilteredData(t){return o(this,null,function*(){if(t.sorter?.value&&!(0,H.default)(this.lastSortValue,t.sorter.value)&&t.virtualScroll?.value.start===0&&this.lastVirtualScroll)return this.lastSortValue=t.sorter?.value,this.lastVirtualScroll=t.virtualScroll?.value,{result:{repeat:{itemsSource:this.sortData(this.cache,t)},paginator:{total:200},dataFields:this.dataFields}};this.busy.next(!0);let e=t.virtualScroll&&t.virtualScroll.value,i=e?t.virtualScroll?.value.start:0,r=e?t.virtualScroll?.value.end:0;return i===0&&(this.cache=[]),new Promise(l=>{a.mockError?(this.busy.next(!1),l({result:null,error:{type:"unknownError"}})):setTimeout(()=>{this.getData(i,r).then(s=>{s&&(this.cache=this.cache.concat(s.users),this.dataSubject.next(this.cache),l({result:{repeat:{itemsSource:this.sortData(this.cache,t)},paginator:{total:200},dataFields:this.dataFields}}),this.lastSortValue=t.sorter?.value,this.lastVirtualScroll=t.virtualScroll?.value,this.busy.next(!1))})},300)})})}getData(t=0,e=20){return o(this,null,function*(){let i=null;try{return i=yield(yield fetch(`${x}${F}/?page=${e/(e-t)||0}&results=${e-t}&seed=${this.seed}`)).json(),{users:i?.results.map((r,l)=>({no:this.cache.length+l+1,nameTitle:r.name.title,nameFirst:r.name.first,nameLast:r.name.last,gender:r.gender,country:r.location.country,city:r.location.city,postcode:r.location.postcode,email:r.email,cell:r.cell})),total:i?.results.length,start:t}}catch{this.logger.error(w)}})}sortData(t,e){return(0,U.default)(t,e.sorter?.value?.sortBy,e.sorter?.value?.direction)}static{this.\u0275fac=function(e){return new(e||a)(d(v),d(b))}}static{this.\u0275prov=h({token:a,factory:a.\u0275fac})}}return a})();var q=g($()),G=g(j());var vt=(()=>{class a extends n{static{this.providerId="AcmeTableDataSource2"}constructor(t){super(),this.logger=t,this.seed="sw2",this.cache=Array.from({length:0}),this.page=1,this.busy=new u(!1),this.dataFields=[{id:"no",label:$localize`No`,dataType:"number"},{id:"nameFirst",label:$localize`First`,dataType:"string"},{id:"nameLast",label:$localize`Last`,dataType:"string"},{id:"country",label:$localize`Country`,dataType:"string"},{id:"city",label:$localize`City`,dataType:"string"}]}getFilteredData(t){return o(this,null,function*(){if(t.sorter?.value&&!(0,q.default)(this.lastSortValue,t.sorter.value)&&t.virtualScroll?.value.start===0&&this.lastVirtualScroll)return this.lastSortValue=t.sorter?.value,this.lastVirtualScroll=t.virtualScroll?.value,{repeat:{itemsSource:this.sortData(this.cache,t)},paginator:{total:200},dataFields:this.dataFields};this.busy.next(!0);let e=t.virtualScroll&&t.virtualScroll.value,i=e?t.virtualScroll?.value.start:0,r=e?t.virtualScroll?.value.end:0;return i===0&&(this.cache=[]),new Promise(l=>{setTimeout(()=>{this.getData(i,r).then(s=>{if(!s?.result){this.outputsSubject.next(s);return}this.cache=this.cache.concat(s.result.users),this.dataSubject.next(this.cache),l({repeat:{itemsSource:this.sortData(this.cache,t)},paginator:{total:200},dataFields:this.dataFields}),this.lastSortValue=t.sorter?.value,this.lastVirtualScroll=t.virtualScroll?.value,this.busy.next(!1),this.outputsSubject.next(s)})},300)})})}getData(t=0,e=20){return o(this,null,function*(){let i=null;try{return i=yield(yield fetch(`${N}${x}${F}/?page=${e/(e-t)||0}&results=${e-t}&seed=${this.seed}`)).json(),{result:{users:i?.results.map((r,l)=>({no:this.cache.length+l+1,nameFirst:r.name.first,nameLast:r.name.last,country:r.location.country,city:r.location.city})),total:i?.results.length,start:t}}}catch{return this.busy.next(!1),this.logger.error(w),{result:null,error:{type:w,message:w}}}})}sortData(t,e){return(0,G.default)(t,e.sorter?.value?.sortBy,e.sorter?.value?.direction)}static{this.\u0275fac=function(e){return new(e||a)(d(v))}}static{this.\u0275prov=h({token:a,factory:a.\u0275fac})}}return a})();var K=g($()),J=g(j());var $t=(()=>{class a extends n{static{this.providerId="AcmeTableDataSourceNoColumnGeneration"}constructor(t){super(),this.logger=t,this.cache=Array.from({length:0}),this.totalItems=325,this.page=1,this.busy=new u(!1),this.features=new k({[L.DisableTableColumnGeneration]:{enabled:!0}}),this.dataFields=[{id:"id",label:"No",dataType:"number"},{id:"name",label:"Name",dataType:"string"},{id:"tagline",label:"Tagline",dataType:"string"},{id:"first_brewed",label:"First Brewed",dataType:"string"},{id:"description",label:"Description",dataType:"string"},{id:"brewers_tips",label:"Brewer's Tips",dataType:"string"}]}getFilteredData(t){return o(this,null,function*(){let e=t.virtualScroll?.value?.start??0,i=t.virtualScroll?.value?.end??0,r=i-e;if(e===0&&(this.cache=[]),t.sorter?.value&&!(0,K.default)(this.lastSortValue,t.sorter.value)&&t.virtualScroll?.value.start===0&&this.lastVirtualScroll){let l=Math.ceil(r?this.totalItems/r:1),s=Math.max(r<80?r:80,1),p=null,m;if(t.sorter?.value?.direction==="desc"){this.cache=[];for(let f=0;f<this.page;++f)p=yield(yield fetch(`${S}/?page=${l-f||1}&per_page=${s}`)).json(),p&&p.length<s&&this.page++,m={brewInfo:p?.map(c=>({id:c.id,name:c.name,tagline:c.tagline,first_brewed:c.first_brewed,description:c.description,brewers_tips:c.brewers_tips})),total:p?.length},this.cache=l-f!==0?this.cache.concat(m.brewInfo):this.cache}if(t.sorter?.value?.direction==="asc"){this.cache=[];for(let f=0;f<this.page;f++)p=yield(yield fetch(`${S}/?page=${f+1}&per_page=${s}`)).json(),m={brewInfo:p?.map(c=>({id:c.id,name:c.name,tagline:c.tagline,first_brewed:c.first_brewed,description:c.description,brewers_tips:c.brewers_tips})),total:p?.length},this.cache=this.cache.concat(m.brewInfo)}return this.lastSortValue=t.sorter?.value,this.lastVirtualScroll=t.virtualScroll?.value,{result:{repeat:{itemsSource:this.sortData(this.cache,t)},paginator:{total:this.totalItems},dataFields:this.dataFields}}}return this.busy.next(!0),new Promise(l=>{setTimeout(()=>{this.getData(e,i,t).then(s=>{s&&(this.cache=this.cache.concat(s.brewInfo),this.dataSubject.next(this.cache),l({result:{repeat:{itemsSource:this.sortData(this.cache,t)},paginator:{total:this.totalItems},dataFields:this.dataFields}}),this.lastSortValue=t.sorter?.value,this.lastVirtualScroll=t.virtualScroll?.value,this.busy.next(!1))})},500)})})}getData(t=0,e=20,i){return o(this,null,function*(){let r=e-t,l=Math.ceil(r?this.totalItems/r:1),s=null,p=Math.max(r<80?r:80,1);return i.sorter?.value?.direction==="asc"&&(s=yield(yield fetch(`${S}/?page=${this.page}&per_page=${p}`)).json()),i.sorter?.value?.direction==="desc"&&(s=yield(yield fetch(`${S}/?page=${l-this.page}&per_page=${p}`)).json()),i.sorter||(s=yield(yield fetch(`${S}/?page=${this.page}&per_page=${p}`)).json()),{brewInfo:s?.map((m,f)=>({id:m.id,name:m.name,tagline:m.tagline,first_brewed:m.first_brewed,description:m.description,brewers_tips:m.brewers_tips})),total:s?.length}})}sortData(t,e){return(0,J.default)(t,e.sorter?.value?.sortBy,e.sorter?.value?.direction)}static{this.\u0275fac=function(e){return new(e||a)(d(v))}}static{this.\u0275prov=h({token:a,factory:a.\u0275fac})}}return a})();var Q=g(X());var At=(()=>{class a extends n{static{this.providerId="AcmeTimeseriesDataSource"}static{this.mockError=!1}constructor(t){super(),this.http=t,this.busy=new u(!1)}getFilteredData(t){return o(this,null,function*(){return this.busy.next(!0),a.mockError?new Promise(e=>{this.http.get("http://www.mocky.io/v2/5ec6bfd93200007800d75100?mocky-delay=1000ms").pipe(D(()=>{this.busy.next(!1)})).subscribe({error:i=>{e({result:null,error:{type:i.status}})}})}):new Promise(e=>{setTimeout(()=>{this.busy.next(!1),e({result:{series:I(t,B())}})},1e3)})})}static{this.\u0275fac=function(e){return new(e||a)(d(b))}}static{this.\u0275prov=h({token:a,factory:a.\u0275fac})}}return a})(),Bt=(()=>{class a extends n{static{this.providerId="AcmeTimeseriesDataSource2"}constructor(){super(),this.busy=new u(!1)}getFilteredData(t){return o(this,null,function*(){this.busy.next(!0);let e={series:I(t,C())};return this.busy.next(!1),e})}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275prov=h({token:a,factory:a.\u0275fac})}}return a})(),Ct=(()=>{class a extends n{static{this.providerId="AcmeTimeseriesStatusDataSource"}constructor(){super(),this.busy=new u(!1)}getFilteredData(t){return o(this,null,function*(){this.busy.next(!0);let e={series:Z(t,R())};return this.busy.next(!1),e})}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275prov=h({token:a,factory:a.\u0275fac})}}return a})(),Rt=(()=>{class a extends n{static{this.providerId="AcmeTimeseriesStatusIntervalDataSource"}constructor(){super(),this.busy=new u(!1)}getFilteredData(t){return o(this,null,function*(){this.busy.next(!0);let e={series:I(t,O())};return this.busy.next(!1),e})}}return a})();function I(a,y){let t=a.timeframe,e=y;return t&&(e=e.map(i=>({id:i.id,name:i.name,description:i.description,link:i.link,secondaryLink:i.secondaryLink,data:i.data.filter(r=>Y(r.x,t.value.startDatetime,t.value.endDatetime))}))),e}function Y(a,y,t){let e=(0,Q.default)(a);return e.isBetween(y,t)||e.isSame(y)||e.isSame(t)}function Z(a,y){let t=I(a,y);return a.timeframe&&(t=V(a.timeframe.value,t,y)),t}export{it as a,st as b,pt as c,vt as d,$t as e,At as f,Bt as g,Ct as h,Rt as i};
