import{a as B,j as F}from"./chunk-32WL3UDE.js";import{a as G}from"./chunk-V2MEVMRQ.js";import{a as X}from"./chunk-QWK7WHL2.js";import{A as N,Ja as j,c as k,ea as x,ha as l,ia as L,ka as z}from"./chunk-USCLQP7P.js";import{Yc as O,pc as K,xe as R}from"./chunk-NZZJTGI5.js";import{f as A,z as g}from"./chunk-NEOTMEUH.js";import{Aa as v,Ac as _,Ha as E,Pb as T,Rb as m,Sa as S,Ta as w,Xb as d,Yb as n,bc as I,ca as C,gc as W,i as y,kc as P,lc as D,va as b,vc as M,yb as a,yc as s,zb as u,zc as p}from"./chunk-NNMBFNDY.js";import{i as f}from"./chunk-T555DFTC.js";function V(r,U){if(r&1){let e=I();d(0,"button",6),P("click",function(){S(e);let i=D();return w(i.initializeDashboard())}),M(1," Restore Widget "),n()}}var c=(()=>{class r extends R{static{this.providerId="AverageRatingKpiDataSource"}constructor(e){super(),this.http=e,this.busy=new y(!1)}getFilteredData(){return f(this,null,function*(){return this.busy.next(!0),new Promise(e=>{this.http.get("https://www.googleapis.com/books/v1/volumes/5MQFrgEACAAJ").pipe(C(()=>this.busy.next(!1))).subscribe({next:t=>{e({result:{value:t.volumeInfo.averageRating}})},error:t=>{e({result:null,error:{type:t.status}})}})})})}ngOnDestroy(){this.outputsSubject.complete()}static{this.\u0275fac=function(t){return new(t||r)(v(g))}}static{this.\u0275prov=b({token:r,factory:r.\u0275fac})}}return r})(),se=(()=>{class r{constructor(e,t){this.widgetTypesService=e,this.providerRegistry=t,this.gridsterConfig={},this.editMode=!1}ngOnInit(){let e=this.widgetTypesService.getWidgetType("kpi",1);this.widgetTypesService.setNode(e,"configurator",L.DataSourceProviders,[c.providerId]),this.providerRegistry.setProviders({[c.providerId]:{provide:x,useClass:c,deps:[g]}}),this.initializeDashboard()}initializeDashboard(){let e=H,t={[e.id]:this.widgetTypesService.mergeWithWidgetType(e)},i={[e.id]:{cols:4,rows:6,y:0,x:0}};this.dashboard={positions:i,widgets:t}}static{this.\u0275fac=function(t){return new(t||r)(u(G),u(j))}}static{this.\u0275cmp=E({type:r,selectors:[["kpi-widget-example"]],decls:6,vars:5,consts:()=>{let e;return e=$localize`:␟18d630a3c524dbab6dc528571782a939a7bc95b1␟861097914887003123: Edit Mode `,[e,[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"valueChange","value"],["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboardChange","gridsterConfigChange","dashboard","editMode","gridsterConfig"],["type","button","displayStyle","action","nui-button","",3,"click"]]},template:function(t,i){t&1&&(d(0,"div",1)(1,"nui-switch",2),_("valueChange",function(o){return p(i.editMode,o)||(i.editMode=o),o}),W(2,0),n(),T(3,V,2,0,"button",3),n(),d(4,"div",4)(5,"nui-dashboard",5),_("dashboardChange",function(o){return p(i.dashboard,o)||(i.dashboard=o),o})("gridsterConfigChange",function(o){return p(i.gridsterConfig,o)||(i.gridsterConfig=o),o}),n()()),t&2&&(a(),s("value",i.editMode),a(2),m("ngIf",!(i.dashboard!=null&&i.dashboard.widgets.kpiWidgetId)),a(2),s("dashboard",i.dashboard),m("editMode",i.editMode),s("gridsterConfig",i.gridsterConfig))},dependencies:[K,A,B,F,O],styles:[".dashboard[_ngcontent-%COMP%]{height:400px}"]})}}return r})(),H={id:"kpiWidgetId",type:"kpi",pizzagna:{[z.Configuration]:{[k]:{providers:{[l.Refresher]:{properties:{interval:60*10,enabled:!0}}}},header:{properties:{title:"Harry Potter and the Sorcerer's Stone",subtitle:"By J. K. Rowling"}},tiles:{properties:{nodes:["kpi1"]}},kpi1:{id:"kpi1",componentType:X.lateLoadKey,properties:{widgetData:{units:"out of 5 Stars",label:"Average Rating"}},providers:{[l.DataSource]:{providerId:c.providerId},[l.Adapter]:{providerId:N,properties:{componentId:"kpi1",propertyPath:"widgetData"}}}}}}};export{c as a,se as b};
