import{d as Yt,h as Xt,i as Qt,j as nt,k as qt,l as Jt,m as rt}from"./chunk-FBQO6WJ5.js";import{a as Kt}from"./chunk-ZKE5BQF3.js";import{a as C}from"./chunk-LTNK7SWM.js";import{a as $}from"./chunk-LEJP7E4G.js";import{D as Y,I as Vt,J as Lt,Q as X,S as zt,T as Q,U as q,V as J,W as tt,a as ge,ba as et,ca as Mt,f as Dt,fa as it,ga as Nt,k as St,l as bt,m as Ot,o as Ft,q as Rt,r as Et,s as Wt,u as kt,w as K,z as O}from"./chunk-7VAIFS2G.js";import{Aa as W,Ca as Zt,Ga as Ht,Na as G,c as F,ca as $t,ea as Gt,ha as R,ja as Ut,ka as E,s as jt,y as Bt}from"./chunk-UNYFFDYX.js";import{C as ce,Fc as It,Pc as At,lc as b,nb as B,oc as Tt,vb as le,xb as pe,xc as xt}from"./chunk-3HSEZOBQ.js";import{d as wt,e as Pt,f as j}from"./chunk-NEOTMEUH.js";import{$b as S,$c as N,Aa as ct,Ec as M,Gb as pt,Gc as ft,Ha as L,Jc as _t,Kc as Ct,Nc as yt,Pb as h,Ra as z,Rb as o,Sa as y,Ta as v,Tb as gt,Ub as dt,Xb as f,Yb as _,Zb as A,_b as D,bc as x,bd as vt,h as at,kc as I,lc as c,na as st,rc as ut,sc as ht,tb as lt,tc as mt,uc as P,va as T,vc as Z,xc as H,yb as s,zb as u}from"./chunk-NNMBFNDY.js";import{a as d,b as m,g as V}from"./chunk-T555DFTC.js";var oe=V(ce()),ae=V(pe());var ot=(()=>{class i{static buildChartSeries(t,e,n,r){return(t||[]).map(p=>m(d({},p),{accessors:e,renderer:n,scales:r}))}static getChartAttributes(t,e,n){let r=i.getChartTools(t),a={grid:r.gridFunction(),accessors:r.accessorFunction(e,n),renderer:r.rendererFunction(),scales:r.scaleFunction()};return r.preprocessor&&(a.preprocessor=r.preprocessor),a}static getChartTools(t){let e=a=>{let p=new zt(a);return p.series.color=(g,w)=>w.color??a.get(g),p};function n(a,p){let g=Mt(this.config,a,p);return g.series.color=(w,U)=>U.color??a?.get(w),g.data.value=w=>Number.isFinite(w)?w:w.value,g}return{[C.DonutChart]:{preprocessor:q,gridFunction:Q,rendererFunction:()=>new St,accessorFunction:e,scaleFunction:J},[C.PieChart]:{preprocessor:q,gridFunction:Q,rendererFunction:()=>new Nt,accessorFunction:e,scaleFunction:J},[C.HorizontalBarChart]:{config:{horizontal:!0},gridFunction(){return et(this.config)},rendererFunction:()=>new Y({highlightStrategy:new it("y")}),accessorFunction:n,scaleFunction(){return X(this.config)}},[C.VerticalBarChart]:{config:{horizontal:!1},gridFunction(){return et(this.config)},rendererFunction:()=>new Y({highlightStrategy:new it("x")}),accessorFunction:n,scaleFunction(){return X(this.config)}}}[t]}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=T({token:i,factory:i.\u0275fac})}}return i})();var ee=(()=>{class i extends Zt{constructor(t){super(t,"ProportionalContentAggregatorsRegistryService")}getItemKey(t){return t.aggregatorType}static{this.\u0275fac=function(e){return new(e||i)(ct(b))}}static{this.\u0275prov=T({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ge=(()=>{class i{constructor(){this.componentMap={},this.providersMap={}}static{this.providerId="UnitTestRegistryService"}setComponent(t,e){this.componentMap[e]=t}setProviders(t,e){this.providersMap[e]=t}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=T({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ie=V(ge()),ne=V(le());var He=(()=>{class i{constructor(){this.widgetTypes={}}registerWidgetType(t,e,n){let r=this.widgetTypes[t];r||(r=[],this.widgetTypes[t]=r),r.length<e&&(r.length=e),r[e-1]=n}getWidgetType(t,e){let n=this.widgetTypes[t];if(!n||n.length===0)throw new Error("Type '"+t+"' not found in the registry. Available types: "+Object.keys(this.widgetTypes).join(", "));if(typeof e<"u"&&(e<=0||n.length<e))throw new Error("Version "+e+" for widget type '"+t+"' not registered. Max available version is "+n.length);let r=typeof e>"u"?n.length:e;return n[r-1]}mergeWithWidgetType(t){let e=this.getWidgetType(t.type,t.version);return m(d({},t),{pizzagna:(0,ie.default)(t.pizzagna,e.widget)})}setNode(t,e,n,r){let a=`${e}.${E.Structure}`,p=`${t.paths?.[e]?.[n]||n}`,g=`${a}.${p}`;(0,ne.default)(t,g,r)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=T({token:i,factory:i.\u0275fac})}}return i})();function _e(i,l){}function Ce(i,l){if(i&1){let t=x();D(0,2,0),h(2,_e,0,0,"ng-template",3),I("attached",function(n){y(t);let r=P(1);return v(r.attached(n))}),S()}if(i&2){let t=P(1),e=c();o("componentType",e.contentFormatter==null?null:e.contentFormatter.componentType)("properties",e.contentFormatterProperties),s(2),o("cdkPortalOutlet",t.portal)}}var re=(()=>{class i{static{this.lateLoadKey="ProportionalDonutContentComponent"}constructor(t,e,n,r){this.aggregatorRegistry=t,this.formatterRegistry=e,this.changeDetector=n,this.logger=r,this.destroy$=new at}ngOnChanges(t){if(t.donutConfig){let e=t.donutConfig.currentValue,{formatter:n,aggregator:r}=e;r?.aggregatorType&&(this.updateAggregatorDefinition(r),this.updateAggregatedValue()),n?.componentType&&(this.contentFormatter=n,this.updateFormatterDefinition(n),this.updateFormatterProperties())}t.widgetData&&(this.updateAggregatedValue(),this.updateFormatterProperties()),t.chartAssist&&this.subscribeToChartAssist()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getFormatterProperties(t){if(t)return m(d({},this.contentFormatterDefinition?.properties),{data:Kt(t,{value:this.aggregatedValue})})}updateAggregatorDefinition(t){let e=this.aggregatorRegistry.getItem(t.aggregatorType);e?this.contentAggregatorDefinition=e:this.logger.warn(`No aggregator with key ${t.aggregatorType} found in registry.`)}updateFormatterDefinition(t){let e=this.formatterRegistry.getItem(t.componentType);e?this.contentFormatterDefinition=e:this.logger.warn(`No aggregator with key ${t.componentType} found in registry.`)}updateAggregatedValue(){if(!this.widgetData||!this.contentAggregatorDefinition){this.logger.warn(`Can't aggregate value. Aggregator key: ${this.contentAggregatorDefinition?.aggregatorType}. Data: ${this.widgetData}`);return}let t=this.getAggregatorProperties();this.aggregatedValue=this.contentAggregatorDefinition.fn(this.widgetData,m(d({},t),{activeMetricId:this.emphasizedSeriesId||t.activeMetricId})).toString()}updateFormatterProperties(){this.contentFormatterProperties=this.getFormatterProperties(this.contentFormatter)}getAggregatorProperties(){return d(d({},this.contentAggregatorDefinition?.properties),this.donutConfig?.aggregator?.properties)}subscribeToChartAssist(){this.chartAssistSubscription?.unsubscribe(),this.chartAssistSubscription=this.chartAssist?.chartAssistSubject?.pipe(st(this.destroy$)).subscribe(t=>{this.emphasizedSeriesId=t.payload?.seriesId,this.updateAggregatedValue(),this.updateFormatterProperties(),this.changeDetector.detectChanges()})}static{this.\u0275fac=function(e){return new(e||i)(u(ee),u(Ht),u(N),u(b))}}static{this.\u0275cmp=L({type:i,selectors:[["nui-proportional-donut-content"]],inputs:{widgetData:"widgetData",donutConfig:"donutConfig",chartAssist:"chartAssist"},features:[z],decls:1,vars:1,consts:[["componentPortal","nuiComponentPortal"],["nuiComponentPortal","",3,"componentType","properties",4,"ngIf"],["nuiComponentPortal","",3,"componentType","properties"],[3,"attached","cdkPortalOutlet"]],template:function(e,n){e&1&&h(0,Ce,3,3,"ng-container",1),e&2&&o("ngIf",n.contentFormatter==null?null:n.contentFormatter.componentType)},dependencies:[j,B,G],changeDetection:0})}}return i})();var ve=["gridContainer"],we=(i,l,t)=>({"prioritize-rows__right":i,"prioritize-rows__bottom":l,"empty-grid":t}),Pe=i=>[i],Te=i=>({data:i}),xe=i=>({"nui-text-link-small link":i});function Ie(i,l){}function Ae(i,l){if(i&1){let t=x();D(0)(1,15,1),h(3,Ie,0,0,"ng-template",16),I("attached",function(n){y(t);let r=P(2);return v(r.attached(n))}),S()()}if(i&2){let t=P(2),e=c(3);s(),o("componentType",(e.contentFormatter==null?null:e.contentFormatter.componentType)||"DonutContentRawFormatterComponent")("properties",e.contentFormatterProperties),s(2),o("cdkPortalOutlet",t.portal)}}function De(i,l){if(i&1&&(D(0),A(1,"nui-proportional-donut-content",17),S()),i&2){let t=c(3);s(),o("widgetData",t.widgetData)("donutConfig",t.configuration==null||t.configuration.chartOptions==null?null:t.configuration.chartOptions.donutContentConfig)("chartAssist",t.chartAssist)}}function Se(i,l){if(i&1&&(f(0,"nui-chart-donut-content",11)(1,"div",12)(2,"div",13),h(3,Ae,4,3,"ng-container",14)(4,De,2,3,"ng-container",14),_()()()),i&2){let t=c(2);o("plugin",t.donutContentPlugin),s(2),o("useZoom",!1),s(),o("ngIf",!(!(t.configuration==null||t.configuration.chartOptions==null)&&t.configuration.chartOptions.donutContentConfig)),s(),o("ngIf",t.configuration==null||t.configuration.chartOptions==null?null:t.configuration.chartOptions.donutContentConfig)}}function be(i,l){if(i&1&&(f(0,"div",8),A(1,"nui-chart",9),h(2,Se,5,4,"nui-chart-donut-content",10),_()),i&2){let t=c();s(),o("chart",t.chartAssist.chart),s(),o("ngIf",t.donutContentPlugin)}}function Oe(i,l){}function Fe(i,l){if(i&1){let t=x();f(0,"div")(1,"div",23),D(2,15,3),h(4,Oe,0,0,"ng-template",16),I("attached",function(n){y(t);let r=P(3);return v(r.attached(n))}),S(),_()()}if(i&2){let t=P(3),e=c().index,n=c(2);s(2),o("componentType",n.legendFormatter.componentType)("properties",M(3,Te,n.widgetData[e])),s(2),o("cdkPortalOutlet",t.portal)}}function Re(i,l){if(i&1&&A(0,"nui-icon",29),i&2){let t=c(2).$implicit,e=c(2);o("icon",e.seriesToIconMap[t.id])}}function Ee(i,l){if(i&1&&(f(0,"div",30),Z(1),_()),i&2){let t=c(2).$implicit,e=c(2);o("ngClass",M(2,xe,e.interactive)),s(),H(" ",t.name," ")}}function We(i,l){if(i&1){let t=x();f(0,"a",31),I("click",function(n){return y(t),v(n.stopPropagation())}),Z(1),_()}if(i&2){let t=c(2).$implicit;o("href",t.link,lt)("title",t.name),s(),H(" ",t.name," ")}}function ke(i,l){if(i&1&&(A(0,"nui-rich-legend-tile",24),_t(1,"nuiDashboardUnitConversion"),h(2,Re,1,1,"nui-icon",25),f(3,"div",26),h(4,Ee,2,4,"div",27)(5,We,2,3,"a",28),_()),i&2){let t=c().$implicit,e=c(2);o("value",Ct(1,7,e.computeLegendTileValue(t.data[0])))("unitLabel",e.legendUnitLabel)("color",e.chartAssist.palette.textColors.get(t.id))("backgroundColor",e.chartAssist.palette.standardColors.get(t.id)),s(2),o("ngIf",e.seriesToIconMap&&e.seriesToIconMap[t.id]),s(2),o("ngIf",!t.link),s(),o("ngIf",t.link)}}function Ve(i,l){if(i&1){let t=x();f(0,"nui-legend-series",21),I("isSelectedChange",function(n){let r=y(t).$implicit,a=c(2);return v(a.chartAssist.toggleSeries(r.id,n))})("mouseenter",function(){let n=y(t).$implicit,r=c(2);return v(r.chartAssist.emphasizeSeries(n.id))})("click",function(){let n=y(t).$implicit,r=c(2);return v(r.onInteraction(n))}),h(1,Fe,5,5,"div",22)(2,ke,6,9,"ng-template",null,2,yt),_()}if(i&2){let t=l.$implicit,e=P(3),n=c(2);gt("nui-proportional-widget__legend--interactive",n.interactive),o("ngClass",(n.prioritizedGridRows.right||n.prioritizedGridRows.bottom)&&"description-min-width--unset")("isSelected",!n.chartAssist.isSeriesHidden(t.id))("seriesRenderState",n.chartAssist.renderStatesIndex[t.id]==null?null:n.chartAssist.renderStatesIndex[t.id].state),s(),o("ngIf",n.legendFormatter&&n.legendFormatter.componentType)("ngIfElse",e)}}function Le(i,l){if(i&1){let t=x();f(0,"div",18)(1,"nui-legend",19),I("mouseleave",function(){y(t);let n=c();return v(n.chartAssist.resetVisibleSeries())}),h(2,Ve,4,7,"nui-legend-series",20),_()()}if(i&2){let t=c();o("ngClass",M(5,Pe,t.legendShouldBeAlignedRight()?"scrollable":"legend-bottom")),s(),o("interactive",!1)("orientation",t.legendShouldBeAlignedRight()?"vertical":"horizontal"),s(),o("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn)}}function ze(i,l){i&1&&(f(0,"div",32),A(1,"nui-image",33),_())}var se=(()=>{class i{static{this.lateLoadKey="ProportionalWidgetComponent"}static{this.NO_SWITCH_LAYOUT_INTERVAL_SIZE=20}static{this.MAX_ROW_LAYOUT_SIZE=360}static{this.TICK_LABEL_MAX_WIDTH=75}get interactive(){return this.configuration?.interactive||this.dataSource?.features?.getFeatureConfig(Ut.Interactivity)?.enabled||!1}constructor(t,e,n,r,a,p,g){this.changeDetector=t,this.ngZone=e,this.kvDiffers=n,this.eventBus=r,this.dataSource=a,this.logger=p,this.prioritizedGridRows={right:!1,bottom:!1},this.chartPalette=new K(O()),this.differ=this.kvDiffers.find(this.prioritizedGridRows).create(),this.unitConversionPipe=new $(g)}computeLegendTileValue(t){return this.accessors.data?.value?.(t,0,null,null)}ngOnChanges(t){let e=t.configuration?.currentValue?.chartColors,n=t.configuration?.previousValue?.chartColors;if((t.widgetData||!(0,oe.default)(e,n))&&this.updateChartColors(),t.configuration){let r=t.configuration.currentValue.chartOptions.type,a=t.configuration.previousValue&&t.configuration.previousValue.chartOptions.type;r&&r!==a&&(this.buildChart(r),this.widgetData&&this.updateChart()),this.legendFormatter=this.configuration.chartOptions.legendFormatter,this.contentFormatter=this.configuration.chartOptions.contentFormatter,this.chartFormatterComponentType=this.configuration.chartOptions.chartFormatterComponentType,this.getContentFormatterProperties(),this.changeDetector.markForCheck()}t.widgetData&&this.chartAssist&&(this.updateChart(),this.getContentFormatterProperties(),this.changeDetector.markForCheck())}ngAfterViewInit(){this.handleGridFlowOnResize()}ngOnDestroy(){this.proportionalWidgetResizeObserver?.disconnect(),this.chartTypeSubscription$?.unsubscribe()}getContentFormatterProperties(){this.contentFormatterProperties={data:this.widgetData,config:this.configuration,chartAssist:this.chartAssist,properties:this.contentFormatter?.properties}}isDonutChart(){return this.configuration.chartOptions.type===C.DonutChart}isRadialChart(){return[C.DonutChart,C.PieChart].indexOf(this.configuration.chartOptions.type)!==-1}hasLegend(){return this.configuration.chartOptions.legendPlacement!==W.None}legendShouldBeAlignedRight(){return this.configuration.chartOptions.legendPlacement===W.Right}onInteraction(t){this.interactive&&this.eventBus.getStream(jt).next({payload:{data:t}})}buildChart(t){this.donutContentPlugin=null;let{grid:e,accessors:n,renderer:r,scales:a,preprocessor:p}=ot.getChartAttributes(t,this.chartPalette?.standardColors);this.chartAssist=new Lt(new Vt(e),p,this.chartPalette),this.renderer=r,this.accessors=n,this.scales=a,this.isDonutChart()&&(this.donutContentPlugin=new bt,this.chartAssist.chart.addPlugin(this.donutContentPlugin)),this.configuration.chartOptions.type===C.HorizontalBarChart?(this.scales.x.formatters.tick=g=>this.unitConversionPipe.transform(g),this.applyTickLabelMaxWidths()):this.configuration.chartOptions.type===C.VerticalBarChart&&(this.scales.y.formatters.tick=g=>this.unitConversionPipe.transform(g)),this.chartTypeSubscription$?.unsubscribe(),this.chartTypeSubscription$=this.chartAssist.chart.getEventBus().getStream(Dt).subscribe(g=>{let w=this.widgetData.find(U=>U.id===g.data.seriesId);this.onInteraction(w)})}handleGridFlowOnResize(){this.proportionalWidgetResizeObserver=new ResizeObserver(()=>this.onResize()),this.ngZone.runOutsideAngular(()=>{this.proportionalWidgetResizeObserver.observe(this.gridContainer.nativeElement)})}applyTickLabelMaxWidths(){let t=this.chartAssist.chart.getGrid().config().axis;t.left.tickLabel.maxWidth=this.configuration.chartOptions.horizontalBarTickLabelConfig?.maxWidth?.left??i.TICK_LABEL_MAX_WIDTH,t.right.tickLabel.maxWidth=this.configuration.chartOptions.horizontalBarTickLabelConfig?.maxWidth?.right??i.TICK_LABEL_MAX_WIDTH}onResize(){if(!this.isContainerInNoSwitchLayoutInterval()){switch(this.configuration.chartOptions.legendPlacement){case W.Bottom:this.prioritizedGridRows.bottom=this.containerHasRowLayoutWidth();break;case W.Right:this.prioritizedGridRows.right=this.containerHasRowLayoutWidth();break}this.differ.diff(this.prioritizedGridRows)&&this.changeDetector.detectChanges()}}isContainerInNoSwitchLayoutInterval(){let t=this.gridContainer.nativeElement.getBoundingClientRect().width;return t>i.MAX_ROW_LAYOUT_SIZE-i.NO_SWITCH_LAYOUT_INTERVAL_SIZE/2&&t<i.MAX_ROW_LAYOUT_SIZE+i.NO_SWITCH_LAYOUT_INTERVAL_SIZE/2}containerHasRowLayoutWidth(){return this.gridContainer.nativeElement.getBoundingClientRect().width<i.MAX_ROW_LAYOUT_SIZE}updateChart(){this.chartAssist.update(ot.buildChartSeries(this.widgetData,this.accessors,this.renderer,this.scales))}updateChartColors(){let t,e=this.widgetData?.map(r=>r.color),n=this.configuration.chartColors;!this.configuration.prioritizeWidgetColors&&(0,ae.default)(e)?t=this.getDataDriverColorProvider(this.widgetData):n?t=this.getConfigurationColorProvider(n):t=O(),this.chartPalette=new K(t),this.buildChart(this.configuration?.chartOptions.type),this.chartAssist&&(this.chartAssist.palette=this.chartPalette,this.updateChart())}getDataDriverColorProvider(t){let e;if((t?.map(r=>r.color).filter(r=>!!r)).length===t.length){let r=t.reduce((a,p)=>(a[p.id]=p.color,a),{});e=new tt(r)}else{let r=t.filter(a=>a.color);this.logger.warn(`Not all series have colors set, setting default pallette. Current series color config: ${JSON.stringify(r)}`),e=O()}return e}getConfigurationColorProvider(t){let e;return this.configuration.prioritizeWidgetColors&&this.widgetData&&(this.widgetData=this.widgetData.map(n=>{let r=d({},n);return r.color&&delete r.color,r})),Array.isArray(t)?e=new kt(t):Object.keys(t).length===this.widgetData?.length?e=new tt(t):(this.logger.warn(`Not all series have colors set, setting default pallette. Current series color config: ${JSON.stringify(t)}`),e=O()),e}get isEmpty(){return!this.widgetData||this.widgetData.length===0||!this.chartAssist}static{this.\u0275fac=function(e){return new(e||i)(u(N),u(pt),u(vt),u($t),u(Gt),u(b),u(xt))}}static{this.\u0275cmp=L({type:i,selectors:[["nui-proportional-widget"]],viewQuery:function(e,n){if(e&1&&ut(ve,7),e&2){let r;ht(r=mt())&&(n.gridContainer=r.first)}},hostVars:2,hostBindings:function(e,n){e&2&&dt(n.elementClass)},inputs:{widgetData:"widgetData",configuration:"configuration",elementClass:"elementClass",seriesToIconMap:"seriesToIconMap"},features:[z],decls:5,vars:8,consts:[["gridContainer",""],["componentPortal2","nuiComponentPortal"],["legendDefaultTile",""],["componentPortal","nuiComponentPortal"],[1,"w-100","nui-chart-layout","flex-grow-1","p-3",3,"ngClass"],["class","d-flex chart has-overlay",4,"ngIf"],["class","w-100 d-flex legend",3,"ngClass",4,"ngIf"],["class","is-empty",4,"ngIf"],[1,"d-flex","chart","has-overlay"],[1,"w-100",3,"chart"],["class","nui-proportional-widget__chart-donut-content",3,"plugin",4,"ngIf"],[1,"nui-proportional-widget__chart-donut-content",3,"plugin"],[1,"h-100","w-100","d-flex","justify-content-center","align-items-center","text-center"],["nuiZoomContent","",1,"d-inline-block",3,"useZoom"],[4,"ngIf"],["nuiComponentPortal","",3,"componentType","properties"],[3,"attached","cdkPortalOutlet"],[3,"widgetData","donutConfig","chartAssist"],[1,"w-100","d-flex","legend",3,"ngClass"],[1,"w-100","m-auto",3,"mouseleave","interactive","orientation"],["class","proportional-chart__legend-series",3,"ngClass","isSelected","seriesRenderState","nui-proportional-widget__legend--interactive","isSelectedChange","mouseenter","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"proportional-chart__legend-series",3,"isSelectedChange","mouseenter","click","ngClass","isSelected","seriesRenderState"],[4,"ngIf","ngIfElse"],["description",""],[3,"value","unitLabel","color","backgroundColor"],["legendTransclusion","","class","align-items-center",3,"icon",4,"ngIf"],["description","",1,"description-container","d-flex","flex-column","nui-text-small","justify-content-center"],["class","description description-primary",3,"ngClass",4,"ngIf"],["class","description description-primary nui-text-link-small link","rel","noopener noreferrer",3,"href","title","click",4,"ngIf"],["legendTransclusion","",1,"align-items-center",3,"icon"],[1,"description","description-primary",3,"ngClass"],["rel","noopener noreferrer",1,"description","description-primary","nui-text-link-small","link",3,"click","href","title"],[1,"is-empty"],["image","no-data-to-show"]],template:function(e,n){e&1&&(f(0,"div",4,0),h(2,be,3,2,"div",5)(3,Le,3,7,"div",6)(4,ze,2,0,"div",7),_()),e&2&&(o("ngClass",ft(4,we,n.prioritizedGridRows.right,n.prioritizedGridRows.bottom,!(n.widgetData&&n.widgetData.length>0&&n.chartAssist))),s(2),o("ngIf",!n.isEmpty),s(),o("ngIf",n.hasLegend()&&n.chartAssist),s(),o("ngIf",n.isEmpty))},dependencies:[wt,Pt,j,Rt,Et,Wt,Ft,Ot,Tt,At,B,G,It,re,$],styles:['.nui-proportional-widget__chart-donut-content[_ngcontent-%COMP%]{position:absolute}.nui-proportional-widget__legend--interactive[_ngcontent-%COMP%]{cursor:pointer!important}.has-overlay[_ngcontent-%COMP%]{overflow:auto}.nui-chart-layout[_ngcontent-%COMP%]{grid-template:"axis-label-left    axis-label-right    ." 0fr "chart              chart               legend" minmax(60%,auto) "axis-label-bottom  axis-label-bottom   ." 0fr "legend-bottom      legend-bottom       ." minmax(auto,min-content) / 1fr 1fr auto}.nui-chart-layout[_ngcontent-%COMP%]   .legend-bottom[_ngcontent-%COMP%]{overflow:auto;align-self:auto;padding-left:0}.prioritize-rows__right[_ngcontent-%COMP%]   .nui-legend-series[_ngcontent-%COMP%], .prioritize-rows__bottom[_ngcontent-%COMP%]   .nui-legend-series[_ngcontent-%COMP%]{max-width:unset;width:100%}.prioritize-rows[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{justify-self:start}.prioritize-rows__right[_ngcontent-%COMP%]{grid-template:"chart       chart        ." 60% "legend      legend       ." 40%}.prioritize-rows__bottom[_ngcontent-%COMP%]{grid-template:"chart       chart        ." 60% "legend-bottom      legend-bottom      ." 40%}.empty-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:1fr}.proportional-chart__legend-series[_ngcontent-%COMP%]   .link.description-primary[_ngcontent-%COMP%]{color:var(--nui-color-text-link,#0079aa)}.is-empty[_ngcontent-%COMP%]{display:grid;place-content:center;height:100%}']})}}return i})();var Ri={[E.Structure]:m(d({[F]:{id:F,componentType:Yt.lateLoadKey,properties:{nodes:["header","loading","body"]},providers:{[R.Refresher]:rt(),[R.EventProxy]:Jt}},header:Xt,loading:Qt,body:m(d({},nt),{properties:m(d({},nt.properties),{elementClass:"overflow-auto"})})},qt("chart")),{chart:{id:"chart",componentType:se.lateLoadKey,providers:{[R.Adapter]:{providerId:Bt,properties:{componentId:"chart",propertyPath:"widgetData"}}},properties:{elementClass:"d-flex flex-grow-1 justify-content-center overflow-auto"}}}),[E.Configuration]:{[F]:{id:F,providers:{[R.Refresher]:rt(!1,60)}},header:{properties:{title:$localize`Empty Proportional Widget`}}}};export{He as a,ee as b,Ge as c,re as d,se as e,Ri as f};
