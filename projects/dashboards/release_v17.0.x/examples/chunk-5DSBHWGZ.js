import{a as j,j as V}from"./chunk-BOWRRSH7.js";import{a as G}from"./chunk-DSXQJ4TK.js";import{a as B}from"./chunk-SLNDOZHT.js";import{A as N,Ja as X,c as L,ea as x,ha as l,ia as K,ka as z}from"./chunk-UW6LU7NQ.js";import{Xc as A,oc as k,we as O}from"./chunk-VVYJCL6H.js";import{C as c,f as D}from"./chunk-N5H4HNSX.js";import{Aa as b,Ac as M,Ba as v,Cb as R,Dc as d,Ec as p,Fc as _,Hb as w,Tb as m,U as C,ac as a,bc as n,gc as T,i as f,ka as y,lc as I,pa as E,pc as W,qb as s,qc as P,wb as u}from"./chunk-7LLRMBML.js";import{i as h}from"./chunk-VBFW7A5V.js";function F(r,J){if(r&1){let e=T();a(0,"button",6),W("click",function(){b(e);let i=P();return v(i.initializeDashboard())}),M(1," Restore Widget "),n()}}var g=(()=>{class r extends O{static{this.providerId="AverageRatingRiskScoreDataSource"}constructor(e){super(),this.http=e,this.busy=new f(!1)}getFilteredData(){return h(this,null,function*(){return this.busy.next(!0),new Promise(e=>{this.http.get("https://www.googleapis.com/books/v1/volumes/5MQFrgEACAAJ").pipe(C(()=>this.busy.next(!1))).subscribe({next:t=>{e({result:{value:t.volumeInfo.averageRating}})},error:t=>{e({result:null,error:{type:t.status}})}})})})}ngOnDestroy(){this.outputsSubject.complete()}static{this.\u0275fac=function(t){return new(t||r)(E(c))}}static{this.\u0275prov=y({token:r,factory:r.\u0275fac})}}return r})(),de=(()=>{class r{constructor(e,t){this.widgetTypesService=e,this.providerRegistry=t,this.gridsterConfig={},this.editMode=!1}ngOnInit(){let e=this.widgetTypesService.getWidgetType("risk-score",1);this.widgetTypesService.setNode(e,"configurator",K.DataSourceProviders,[g.providerId]),this.providerRegistry.setProviders({[g.providerId]:{provide:x,useClass:g,deps:[c]}}),this.initializeDashboard()}initializeDashboard(){let e=H,t={[e.id]:this.widgetTypesService.mergeWithWidgetType(e)},i={[e.id]:{cols:4,rows:6,y:0,x:0}};this.dashboard={positions:i,widgets:t}}static{this.\u0275fac=function(t){return new(t||r)(u(G),u(X))}}static{this.\u0275cmp=R({type:r,selectors:[["risk-score-widget-example"]],standalone:!1,decls:6,vars:5,consts:()=>{let e;return e=$localize`:␟18d630a3c524dbab6dc528571782a939a7bc95b1␟861097914887003123: Edit Mode `,[e,[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"valueChange","value"],["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboardChange","gridsterConfigChange","dashboard","editMode","gridsterConfig"],["type","button","displayStyle","action","nui-button","",3,"click"]]},template:function(t,i){t&1&&(a(0,"div",1)(1,"nui-switch",2),_("valueChange",function(o){return p(i.editMode,o)||(i.editMode=o),o}),I(2,0),n(),w(3,F,2,0,"button",3),n(),a(4,"div",4)(5,"nui-dashboard",5),_("dashboardChange",function(o){return p(i.dashboard,o)||(i.dashboard=o),o})("gridsterConfigChange",function(o){return p(i.gridsterConfig,o)||(i.gridsterConfig=o),o}),n()()),t&2&&(s(),d("value",i.editMode),s(2),m("ngIf",!(i.dashboard!=null&&i.dashboard.widgets.riskScoreWidgetId)),s(2),d("dashboard",i.dashboard),m("editMode",i.editMode),d("gridsterConfig",i.gridsterConfig))},dependencies:[k,D,j,V,A],styles:[".dashboard[_ngcontent-%COMP%]{height:400px}"]})}}return r})(),H={id:"riskScoreWidgetId",type:"risk-score",pizzagna:{[z.Configuration]:{[L]:{providers:{[l.Refresher]:{properties:{interval:60*10,enabled:!0}}}},header:{properties:{title:"Harry Potter and the Sorcerer's Stone",subtitle:"By J. K. Rowling"}},tiles:{properties:{nodes:["riskScore1"]}},riskScore1:{id:"riskScore1",componentType:B.lateLoadKey,properties:{widgetData:{minValue:0,maxValue:5,useStaticLabel:!1,staticLabel:void 0,label:"Average Rating",description:"Harry Potter and the Sorcerer's Stone By J. K. Rowling Average Rating Risk Score"}},providers:{[l.DataSource]:{providerId:g.providerId},[l.Adapter]:{providerId:N,properties:{componentId:"riskScore1",propertyPath:"widgetData"}}}}}}};export{g as a,de as b};
