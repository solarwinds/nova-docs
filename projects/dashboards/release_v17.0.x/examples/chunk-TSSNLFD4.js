import{a as Se}from"./chunk-ZF6BY4PO.js";import{a as fe}from"./chunk-7VSXACIJ.js";import{b as se}from"./chunk-H2FUVPRI.js";import{a as M}from"./chunk-HIJRDBV6.js";import{c as ge}from"./chunk-MOJBH2T7.js";import{b as ce,c as me}from"./chunk-MWCS5XML.js";import{a as le,c as Ne,e as Ee,f as de,g as pe,h as ue}from"./chunk-N7RPTMOT.js";import{D as Ie,F as ae,P as g,W as Oe,_ as Te,c as A,ca as Re,ha as s,ka as G,qa as Ce}from"./chunk-JTZX6I73.js";import{Ba as f,Ec as ee,Jd as re,Nc as te,Yc as ie,id as oe,ma as E,oa as H,oc as J,pa as Z,pc as Q,sd as _e,td as ne,va as q,ya as Y}from"./chunk-DKNPFPFG.js";import{f as j,l as u}from"./chunk-TBX5YZGF.js";import{F as $,Ha as d,Hc as R,Ic as l,Jc as w,Nb as K,Pb as n,Qa as p,Rb as B,Vb as o,Wb as r,Xb as T,Zc as m,_a as c,cc as V,dc as x,ec as N,gc as X,hc as W,ic as F,tc as z,vc as k,wb as _,xb as S}from"./chunk-FGVILFLG.js";var Ge=(()=>{class I{static{this.lateLoadKey="RiskScoreTileDescriptionConfigurationComponent"}constructor(e,i){this.changeDetector=e,this.formBuilder=i,this.MAX_DESCRIPTION_LENGTH=150,this.label="",this.minValue=0,this.maxValue=100,this.description="",this.useStaticLabel=!1,this.staticLabel="",this.formReady=new c}ngOnInit(){this.form=this.formBuilder.group({label:[this.label,[E.required]],minValue:[this.minValue,[E.required]],maxValue:[this.maxValue,[E.required]],description:[this.description,[E.maxLength(this.MAX_DESCRIPTION_LENGTH)]],useStaticLabel:[this.useStaticLabel,[E.required]],staticLabel:[this.staticLabel]}),this.formReady.emit(this.form)}ngOnChanges(e){e.label&&this.form?.patchValue({label:e.label.currentValue}),e.minValue&&this.form?.patchValue({minValue:e.minValue.currentValue}),e.maxValue&&this.form?.patchValue({maxValue:e.maxValue.currentValue}),e.description&&this.form?.patchValue({description:e.description.currentValue}),e.useStaticLabel&&this.form?.patchValue({useStaticLabel:e.useStaticLabel.currentValue}),e.staticLabel&&this.form?.patchValue({staticLabel:e.staticLabel.currentValue})}static{this.\u0275fac=function(i){return new(i||I)(S(m),S(f))}}static{this.\u0275cmp=d({type:I,selectors:[["nui-risk-score-tile-description-configuration"]],inputs:{componentId:"componentId",label:"label",minValue:"minValue",maxValue:"maxValue",description:"description",useStaticLabel:"useStaticLabel",staticLabel:"staticLabel"},outputs:{formReady:"formReady"},features:[p],decls:36,vars:27,consts:()=>{let e;e=$localize`:␟863226cffd5b66a6fee9810a9282a5006d6ef576␟4077520913910941990:Label`;let i;i=$localize`:␟8f40d8c34a1e732d86581f53b3ed6ff4e1baf8b5␟725093659603391179:Set label`;let t;t=$localize`:␟cee9a1f7aa61303650890f5c5daabc71daf3107c␟8098276671500834043:Min Value`;let a;a=$localize`:␟cee9a1f7aa61303650890f5c5daabc71daf3107c␟8098276671500834043:Min Value`;let C;C=$localize`:␟c500899f62c2504443a67509337443e3dd0005c7␟2596613355455139312:Max Value`;let L;L=$localize`:␟c500899f62c2504443a67509337443e3dd0005c7␟2596613355455139312:Max Value`;let P;P=$localize`:␟a23855f42e50ae75752c9b086ddabd27e708f41b␟2584882138020593800:Float Label`;let D;D=$localize`:␟d45dab34c95e21ef6f1a0f41470714470e67f187␟4646598584274027773:Set float label`;let U;U=$localize`:␟eec715de352a6b114713b30b640d319fa78207a0␟4902817035128594900:Description`;let y;y=$localize`:␟737d0ca16e8e241cdfec093293da801a55a5aa7a␟6637148085275077583:Set description`;let b;b=$localize`:␟eec715de352a6b114713b30b640d319fa78207a0␟4902817035128594900:Description`;let h;h=$localize`:␟81a16af84152d50c71c652f155efe59f76fc188b␟3249772502103344478:Use Float Label`;let v;return v=$localize`:␟df8e266a4c9278828f1b014f67653ce0beb57f9a␟6324850748561377279: Description cannot be longer than ${"\uFFFD0\uFFFD"}:INTERPOLATION: characters. `,[b,h,v,[3,"formGroup","state"],["accordionHeader","",1,"d-flex","align-items-center","px-4","py-2"],[1,"align-self-start","pt-2",3,"icon"],[1,"d-flex","flex-column","ml-4","pt-1"],[1,"nui-text-label"],[1,"nui-text-secondary",3,"title"],[1,"risk-score-tile-description-configuration__accordion-content"],[1,"mb-4"],["caption",e,1,"form-group",3,"control"],["formControlName","label","placeholder",i],[1,"mt-4"],["caption",t,1,"form-group",3,"control"],["formControlName","minValue","placeholder",a],["caption",C,1,"form-group",3,"control"],["formControlName","maxValue","placeholder",L],[1,"form-group",3,"control"],["formControlName","useStaticLabel"],["caption",P,1,"form-group",3,"control"],["formControlName","staticLabel","placeholder",D],["caption",U,1,"form-group",3,"control"],["formControlName","description","placeholder",y],["for","maxlength"]]},template:function(i,t){if(i&1&&(o(0,"nui-widget-editor-accordion",3),R(1,"nuiWidgetEditorAccordionFormState"),R(2,"async"),o(3,"div",4),T(4,"nui-icon",5),R(5,"nuiFormHeaderIconPipe"),R(6,"async"),o(7,"div",6)(8,"span",7),N(9,0),r(),o(10,"div",8),R(11,"async"),z(12),R(13,"async"),r()()(),o(14,"div",9)(15,"div",10)(16,"nui-form-field",11),T(17,"nui-textbox",12),r()(),o(18,"div",13)(19,"nui-form-field",14),T(20,"nui-textbox-number",15),r()(),o(21,"div",13)(22,"nui-form-field",16),T(23,"nui-textbox-number",17),r()(),o(24,"div",13)(25,"nui-form-field",18)(26,"nui-switch",19),N(27,1),r()()(),o(28,"div",13)(29,"nui-form-field",20),T(30,"nui-textbox",21),r()(),o(31,"div",13)(32,"nui-form-field",22),T(33,"nui-textbox",23),o(34,"nui-validation-message",24),N(35,2),r()()()()()),i&2){let a;n("formGroup",t.form)("state",l(2,16,l(1,14,t.form))),_(4),n("icon",l(6,21,w(5,18,t.form,"widget_list"))),_(6),n("title",l(11,23,t.subtitle$)),_(2),k(" ",l(13,25,t.subtitle$)," "),_(4),n("control",t.form.get("label")),_(3),n("control",t.form.get("minValue")),_(3),n("control",t.form.get("maxValue")),_(3),n("control",t.form.get("useStaticLabel")),_(3),B("hidden",!((a=t.form.get("useStaticLabel"))!=null&&a.value)),_(),n("control",t.form.get("staticLabel")),_(3),n("control",t.form.get("description")),_(3),X(t.MAX_DESCRIPTION_LENGTH),W(35)}},dependencies:[H,Z,q,Y,J,_e,ne,re,oe,ie,Ee,u,de,pe],styles:[".risk-score-tile-description-configuration__accordion-content[_ngcontent-%COMP%]{padding:15px 15px 15px 46px}.risk-score-tile-description-configuration__selector-arrow[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:30px;height:30px;border-left:1px solid;border-left-color:var(--nui-color-line-default,#d9d9d9);margin-left:10px}"],changeDetection:0})}}return I})();function De(I,Ue){I&1&&(o(0,"div",5)(1,"nui-message",6),V(2,1),T(3,"b"),x(),r()()),I&2&&(_(),n("allowDismiss",!1))}var Fe=(()=>{class I{static{this.lateLoadKey="RiskScoreTilesConfigurationComponent"}constructor(e,i,t,a){this.pizzagnaService=e,this.changeDetector=i,this.formBuilder=t,this.eventBus=a,this.tiles=[],this.formReady=new c}ngOnChanges(e){}onFormReady(e){this.form=this.formBuilder.group({tiles:e}),this.emptyItems$=this.form.valueChanges.pipe($(i=>i.tiles.length===0)),this.formReady.emit(this.form)}onItemsChange(e){let i="tiles",t=e.map(C=>C.id);this.pizzagnaService.createComponentsFromTemplate(i,t);let a={componentId:this.componentId,pizzagnaKey:G.Data,propertyPath:["tiles"]};this.pizzagnaService.setProperty(a,e)}addTile(){this.onItemsChange([...this.tiles,{id:ee("riskScore"),componentType:Se.lateLoadKey}])}static{this.\u0275fac=function(i){return new(i||I)(S(Ce),S(m),S(f),S(Re))}}static{this.\u0275cmp=d({type:I,selectors:[["nui-risk-score-tiles-configuration-component"]],inputs:{componentId:"componentId",tiles:"tiles",nodes:"nodes"},outputs:{formReady:"formReady"},features:[p],decls:5,vars:5,consts:()=>{let e;e=$localize`:␟79e4ae6fc9c1cd1ee331414b873fb40154ad1e95␟5306337511240259794: Add new value
`;let i;return i=$localize`:␟7ca16fec6555e99e64e1cbd41a9ce7a4f4cae2fd␟4636957726236815999:${"\uFFFD#3\uFFFD"}:START_BOLD_TEXT:At least one value must be added.${"\uFFFD/#3\uFFFD"}:CLOSE_BOLD_TEXT:`,[e,i,[3,"itemsChange","formReady","items","nodes"],["class","pl-4 pr-4",4,"ngIf"],["nui-button","","icon","add","displayStyle","action","id","kpi-widget-add-indicator-btn","type","button",1,"ml-4","mb-4",3,"click"],[1,"pl-4","pr-4"],["type","critical",3,"allowDismiss"]]},template:function(i,t){i&1&&(o(0,"nui-items-dynamic",2),F("itemsChange",function(C){return t.onItemsChange(C)})("formReady",function(C){return t.onFormReady(C)}),r(),K(1,De,4,1,"div",3),R(2,"async"),o(3,"button",4),F("click",function(){return t.addTile()}),N(4,0),r()),i&2&&(n("items",t.tiles)("nodes",t.nodes),_(),n("ngIf",l(2,3,t.emptyItems$)&&t.form.touched))},dependencies:[j,Q,te,se,u],encapsulation:2,changeDetection:0})}}return I})();var ct=[{componentType:M.lateLoadKey,label:$localize`Raw Formatter`,dataTypes:{value:null}}],mt={[G.Structure]:{[A]:{id:A,componentType:le.lateLoadKey,properties:{elementClass:"flex-grow-1 overflow-auto nui-scroll-shadows",nodes:["presentation","tiles"]},providers:{[s.FormattersRegistry]:{providerId:Te}}},presentation:{id:"presentation",componentType:Ne.lateLoadKey,properties:{headerText:$localize`Presentation`,nodes:["titleAndDescription","refresher"]}},titleAndDescription:{id:"titleAndDescription",componentType:ue.lateLoadKey,providers:{converter:{providerId:Ie}}},refresher:ge,tiles:{id:"tiles",componentType:Fe.lateLoadKey,properties:{template:[{id:"description",componentType:Ge.lateLoadKey,properties:{},providers:{[s.Converter]:{providerId:g,properties:{formParts:[{previewPath:"properties.widgetData",keys:["label","minValue","maxValue","description","useStaticLabel","staticLabel"]}]}}}},{id:"dataSource",componentType:me.lateLoadKey,properties:{dataSourceProviders:[],errorComponent:ce.lateLoadKey},providers:{[s.Converter]:{providerId:g,properties:{formParts:[{previewPath:"providers.dataSource",keys:["providerId","properties"]},{previewPath:"providers.adapter.properties.dataSource",keys:["properties"]}]}},[s.Broadcaster]:{providerId:Oe,properties:{configs:[{trackOn:"component",key:"dataFieldIds",paths:["data.{parentComponentId}/formatting.properties.dataFieldIds"]}]}}}},{id:"formatting",componentType:fe.lateLoadKey,providers:{[s.Converter]:{providerId:g,properties:{formParts:[{previewPath:"properties.configuration.formatters.Value",keys:["formatter"]}]}}},properties:{formatter:{componentType:M.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}]},providers:{[s.Converter]:{providerId:ae}}}}};export{Ge as a,Fe as b,ct as c,mt as d};
