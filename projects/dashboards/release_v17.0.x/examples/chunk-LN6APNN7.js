import{a as b,b as w,c as L}from"./chunk-IXZIADBL.js";import{a as Z}from"./chunk-D4336GLB.js";import{a as B,b as W,c as R,d as q,e as Q,f as I,g as J}from"./chunk-L2DUPZQB.js";import{a as Oe}from"./chunk-HYG2HKT6.js";import{c as G}from"./chunk-TWGF5P3J.js";import{g as H}from"./chunk-KEVDW64K.js";import{a as ge,f as St,h as ft,j as Tt,k as Ct,l as _e}from"./chunk-2PYN5BKZ.js";import{a as y}from"./chunk-32FRYE2I.js";import"./chunk-HCKKPO5O.js";import"./chunk-WBVXEKR6.js";import"./chunk-CGWMOQ73.js";import"./chunk-PPP2Z2XL.js";import"./chunk-ZJPGUU3O.js";import"./chunk-4HXDNOXI.js";import"./chunk-DIKJAFIQ.js";import"./chunk-7EWDUSAE.js";import"./chunk-IYRXTWZX.js";import"./chunk-ZTRLVS2O.js";import"./chunk-KRZNOVPK.js";import"./chunk-4J5UDC5D.js";import"./chunk-7FOOEARW.js";import"./chunk-OZALKHRQ.js";import"./chunk-35CK72MF.js";import"./chunk-RLYB54YO.js";import{a as _t}from"./chunk-QA3WFPNA.js";import"./chunk-QRVY5A5F.js";import"./chunk-7ELEEN5W.js";import"./chunk-AYZMMWI6.js";import"./chunk-LJERMBTK.js";import"./chunk-FBQO6WJ5.js";import"./chunk-ALWGDNZ2.js";import"./chunk-ZKE5BQF3.js";import"./chunk-RAV6TNVJ.js";import{a as gt}from"./chunk-LTNK7SWM.js";import"./chunk-4RLLEQLT.js";import"./chunk-LEJP7E4G.js";import{a as ht}from"./chunk-3KNFSTNZ.js";import{a as D}from"./chunk-RODZF2WM.js";import"./chunk-CJALCPUW.js";import"./chunk-7VAIFS2G.js";import"./chunk-KPEH2JEB.js";import"./chunk-O3MPXHYJ.js";import{A as lt,Aa as Ee,C as ct,Ja as ue,Ka as ut,V as U,b as Dt,c as z,ea as g,ga as pt,ha as m,i as Pe,ia as me,ka as v,va as mt}from"./chunk-UNYFFDYX.js";import"./chunk-A2HZGK4R.js";import{Ad as it,Bc as Ve,C as Rt,Ed as ot,Hc as Ue,Ic as He,Jd as rt,Kd as nt,Ld as at,Qc as qe,Yc as Qe,_b as At,kc as Nt,lc as O,pc as Ke,pd as Ze,sd as Je,td as et,ue as st,vb as It,ve as dt,wd as ce,xe as pe,yd as tt}from"./chunk-3HSEZOBQ.js";import{A as Ge,L as Be,n as x,r as ze,z as N}from"./chunk-NEOTMEUH.js";import{Aa as P,Ac as j,Bc as xe,Da as Le,Ha as k,Ia as We,Kb as Fe,Nc as le,Pb as re,Rb as T,Sa as ie,Ta as oe,Wa as $e,X as Ce,Xb as s,Yb as d,ab as Ye,bc as ne,gc as C,h as V,i as Ne,kc as h,na as ve,rc as ke,sc as Xe,tc as je,uc as ae,va as E,vc as se,wa as De,xc as de,yb as p,yc as X,zb as S,zc as A}from"./chunk-NNMBFNDY.js";import{a as Mt}from"./chunk-JISDZD7Z.js";import{a as Me,b as Ae,g as F,i as K}from"./chunk-T555DFTC.js";var vt=F(Rt()),Pt=F(Nt());var ee=(()=>{class o extends pe{static{this.providerId="AcmeTableDataSourceNoDataFields"}constructor(e){super(),this.logger=e,this.cache=Array.from({length:0}),this.totalItems=325,this.page=1,this.busy=new Ne(!1),this.dataFields=[]}getFilteredData(e){return K(this,null,function*(){let t=e.virtualScroll?.value?.start??0,i=e.virtualScroll?.value?.end??0,r=i-t;if(t===0&&(this.cache=[]),e.sorter?.value&&!(0,vt.default)(this.lastSortValue,e.sorter.value)&&e.virtualScroll?.value.start===0&&this.lastVirtualScroll){let n=Math.ceil(r?this.totalItems/r:1),a=Math.max(r<80?r:80,1),c=null,u;if(e.sorter?.value?.direction==="desc"){this.cache=[];for(let _=0;_<this.page;++_)c=yield(yield fetch(`${G}/?page=${n-_||1}&per_page=${a}`)).json(),c&&c.length<a&&this.page++,u={brewInfo:c?.map(l=>({id:l.id,name:l.name,tagline:l.tagline,first_brewed:l.first_brewed,description:l.description,brewers_tips:l.brewers_tips})),total:c?.length},this.cache=n-_!==0?this.cache.concat(u.brewInfo):this.cache}if(e.sorter?.value?.direction==="asc"){this.cache=[];for(let _=0;_<this.page;_++)c=yield(yield fetch(`${G}/?page=${_+1}&per_page=${a}`)).json(),u={brewInfo:c?.map(l=>({id:l.id,name:l.name,tagline:l.tagline,first_brewed:l.first_brewed,description:l.description,brewers_tips:l.brewers_tips})),total:c?.length},this.cache=this.cache.concat(u.brewInfo)}return this.lastSortValue=e.sorter?.value,this.lastVirtualScroll=e.virtualScroll?.value,{result:{repeat:{itemsSource:this.sortData(this.cache,e)},paginator:{total:this.totalItems},dataFields:this.dataFields}}}return this.busy.next(!0),new Promise(n=>{setTimeout(()=>{this.getData(t,i,e).then(a=>{a&&(this.cache=this.cache.concat(a.brewInfo),this.dataSubject.next(this.cache),n({result:{repeat:{itemsSource:this.sortData(this.cache,e)},paginator:{total:this.totalItems},dataFields:this.dataFields}}),this.lastSortValue=e.sorter?.value,this.lastVirtualScroll=e.virtualScroll?.value,this.busy.next(!1))})},500)})})}getData(e=0,t=20,i){return K(this,null,function*(){let r=t-e,n=Math.ceil(r?this.totalItems/r:1),a=null,c=Math.max(r<80?r:80,1);return i.sorter?.value?.direction==="asc"&&(a=yield(yield fetch(`${G}/?page=${this.page}&per_page=${c}`)).json()),i.sorter?.value?.direction==="desc"&&(a=yield(yield fetch(`${G}/?page=${n-this.page}&per_page=${c}`)).json()),i.sorter||(a=yield(yield fetch(`${G}/?page=${this.page}&per_page=${c}`)).json()),{brewInfo:a?.map((u,_)=>({id:u.id,name:u.name,tagline:u.tagline,first_brewed:u.first_brewed,description:u.description,brewers_tips:u.brewers_tips})),total:a?.length}})}sortData(e,t){return(0,Pt.default)(e,t.sorter?.value?.sortBy,t.sorter?.value?.direction)}static{this.\u0275fac=function(t){return new(t||o)(P(O))}}static{this.\u0275prov=E({token:o,factory:o.\u0275fac})}}return o})();var be=F(At()),we=F(It());var ye=F(Mt());var Y=(()=>{class o extends pe{getFilteredData(e){return K(this,null,function*(){return Promise.resolve({})})}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=$e(o)))(i||o)}})()}static{this.\u0275prov=E({token:o,factory:o.\u0275fac})}}return o})();var te=(()=>{class o{static{this.providerId="HeaderLinkProviderService"}constructor(e){this.globalFilters=e}getLink(e){if(!this.globalFilters)return e;let t=this.globalFilters.getFilters(),i=Object.keys(t).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t[r].data.value)).join("&");return e+"/search?"+i}static{this.\u0275fac=function(t){return new(t||o)(P(Y,8))}}static{this.\u0275prov=E({token:o,factory:o.\u0275fac})}}return o})();var Ot={widget1:{cols:5,rows:6,y:0,x:0},widget2:{cols:7,rows:6,y:0,x:5},widget3:{cols:6,rows:6,y:6,x:0},widget4:{cols:6,rows:6,y:6,x:6}},M=[{id:"widget1",type:"kpi",pizzagna:{[v.Configuration]:{header:{properties:{title:"KPI Widget!",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{interaction:{providerId:U,properties:{url:"${data.link}"}}},properties:{nodes:["kpi1","kpi2","kpi3"]}},kpi1:{id:"kpi1",providers:{[m.DataSource]:{providerId:b.providerId},[m.Adapter]:{providerId:lt,properties:{componentId:"kpi1",propertyPath:"widgetData"}},[m.KpiColorPrioritizer]:{providerId:ct,properties:{rules:[{comparisonType:">",value:2,color:"var(--nui-color-chart-four)"},{comparisonType:"==",value:1.5,color:"var(--nui-color-chart-seven)"},{comparisonType:"<",value:1,color:"var(--nui-color-chart-one)"}]}}},properties:{configuration:{formatters:{[_e.Value]:{formatter:{componentType:ht.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}},widgetData:{id:"totalStorage",value:0,label:"Total storage",units:"Bytes",icon:"state_ok",link:"http://www.google.com"}}},kpi2:{id:"kpi2",providers:{[m.DataSource]:{providerId:w.providerId,properties:{numberFormat:"1.1-1"}}},properties:{configuration:{formatters:{[_e.Value]:{formatter:{componentType:_t.lateLoadKey,properties:{dataFieldIds:{value:"icon"}}}}}},widgetData:{id:"downloadSpeed",value:0,label:"Download SUPER DUPER VERY LONG STRING Speed",icon:"state_ok",units:"MB/S"}}},kpi3:{id:"kpi3",providers:{[m.DataSource]:{providerId:L.providerId}},properties:{configuration:{formatters:{[_e.Value]:{formatter:{componentType:D.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}},widgetData:{id:"uploadSpeed",value:0,label:"Upload Speed",units:"MB/S"}}}}}},{id:"widget2",type:"proportional",pizzagna:{[v.Configuration]:{[z]:{providers:{[m.InteractionHandler]:{providerId:U,properties:{url:"${data.link}"}}}},header:{properties:{title:"Proportional Widget!",subtitle:"Proportional widget with legend formatters"}},chart:{providers:{[m.DataSource]:{providerId:W.providerId},[m.Adapter]:{properties:{[m.DataSource]:{properties:{isEuropeOnly:!1}}}}},properties:{configuration:{interactive:!0,chartDonutContentLabel:"Some label",chartDonutContentIcon:"printer",chartOptions:{type:gt.VerticalBarChart,legendPlacement:Ee.Right},chartColors:["gray","orange","black"]}}}}}},{id:"widget3",type:"timeseries",pizzagna:{[v.Configuration]:{[z]:{providers:{[m.DataSource]:{providerId:I.providerId},[m.InteractionHandler]:{providerId:U}}},header:{providers:{dynamicLinkProvider:{providerId:te.providerId}},properties:{title:"Timeseries Widget!",subtitle:"Basic timeseries widget",url:"https://www.google.com"}},chart:{providers:{[m.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:Ee.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",chartColors:["var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"]}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:(0,ye.default)().subtract(10,"days").format(),maxDate:(0,ye.default)().format()}}}}},{id:"widget4",type:"table",pizzagna:{[v.Configuration]:{[z]:{providers:{[m.InteractionHandler]:{providerId:U}}},header:{properties:{title:"Table Widget!",subtitle:"Basic table widget",collapsible:!0}},table:{providers:{[m.DataSource]:{providerId:R.providerId}},properties:{configuration:{interactive:!0,columns:[{id:"column1",label:"No",isActive:!0,formatter:{componentType:D.lateLoadKey,properties:{dataFieldIds:{value:"no"}}}},{id:"column2",label:"Title",isActive:!0,formatter:{componentType:D.lateLoadKey,properties:{dataFieldIds:{value:"nameTitle"}}}},{id:"column3",label:"First Name",isActive:!0,formatter:{componentType:D.lateLoadKey,properties:{dataFieldIds:{value:"nameFirst"}}}},{id:"column4",label:"Last Name",isActive:!0,formatter:{componentType:D.lateLoadKey,properties:{dataFieldIds:{value:"nameLast"}}}},{id:"column5",label:"E-Mail",isActive:!0,formatter:{componentType:D.lateLoadKey,properties:{dataFieldIds:{value:"email"}}}}],sorterConfiguration:{descendantSorting:!0,sortBy:"column4"},hasVirtualScroll:!0,searchConfiguration:{enabled:!0}}}}}}}];function Lt(o,Te){if(o&1&&(s(0,"div",3)(1,"div",4),se(2),d()()),o&2){let e=Te.item;p(2),de(" ",e.title," ")}}var Se=(()=>{class o{static{this.lateLoadKey="AcmeCloneSelectionComponent"}constructor(e){this.widgetTypesService=e,this.widgetSelected=new Ye,this.widgetItems=[]}ngOnInit(){let e=new x;this.widgetItems=M.map(t=>({title:e.transform(t.type),widget:this.widgetTypesService.mergeWithWidgetType(t)})),M.forEach(t=>{this.addUnconfiguredWidgetWithConfigLayer(t)})}addUnconfiguredWidget(e){let t=new x().transform(e);this.widgetItems.push({title:`Unconfigured ${t}`,widget:{id:`unconfigured${t}`,type:e,metadata:{needsConfiguration:!0},pizzagna:(0,be.default)(this.widgetTypesService.getWidgetType(e).widget)}}),(0,we.default)(this.widgetItems[this.widgetItems.length-1].widget.pizzagna,`${v.Structure}.header.properties.title`,`Unconfigured ${t}`)}addUnconfiguredWidgetWithConfigLayer(e){let t=new x().transform(e.type);this.widgetItems.push({title:`Unconfigured ${t} With Config Layer`,widget:Ae(Me({},(0,be.default)(this.widgetTypesService.mergeWithWidgetType(e))),{id:`unconfiguredWithConfigLayer${t}`,metadata:{needsConfiguration:!0}})}),(0,we.default)(this.widgetItems[this.widgetItems.length-1].widget.pizzagna,`${v.Configuration}.header.properties.title`,`Unconfigured ${t} With Config Layer`)}onSelect(e){this.widgetSelected.emit(e[0].widget),this.widgetSelection=e}static{this.\u0275fac=function(t){return new(t||o)(S(y))}}static{this.\u0275cmp=k({type:o,selectors:[["acme-clone-selection"]],outputs:{widgetSelected:"widgetSelected"},decls:4,vars:3,consts:[["widgetClonerItem",""],[1,"nui-widget-cloner"],["selectionMode","singleWithRequiredSelection",3,"selectionChange","itemsSource","selection","repeatItemTemplateRef"],[1,"nui-widget-cloner__item","d-flex","pt-2","pb-2","align-items-center"],[1,"text-info","ml-3"]],template:function(t,i){if(t&1){let r=ne();s(0,"div",1)(1,"nui-repeat",2),h("selectionChange",function(a){return ie(r),oe(i.onSelect(a))}),d()(),re(2,Lt,3,1,"ng-template",null,0,le)}if(t&2){let r=ae(3);p(),T("itemsSource",i.widgetItems)("selection",i.widgetSelection)("repeatItemTemplateRef",r)}},dependencies:[ce],styles:[".nui-widget-cloner__item[_ngcontent-%COMP%]{height:60px}"]})}}return o})();function Wt(o,Te){if(o&1&&(s(0,"div",3)(1,"div",4),se(2),d()()),o&2){let e=Te.item;p(2),de(" ",e.title," ")}}var yt=(()=>{class o extends Se{static{this.lateLoadKey="AcmeCloneSelectionComponent"}constructor(e){super(e)}ngOnInit(){let e=new x;this.widgetItems=M.map(t=>({title:e.transform(t.type),widget:this.widgetTypesService.mergeWithWidgetType(t)}))}static{this.\u0275fac=function(t){return new(t||o)(S(y))}}static{this.\u0275cmp=k({type:o,selectors:[["acme-clone-selection"]],features:[Fe],decls:4,vars:3,consts:[["widgetClonerItem",""],[1,"nui-widget-cloner"],["selectionMode","singleWithRequiredSelection",3,"selectionChange","itemsSource","selection","repeatItemTemplateRef"],[1,"nui-widget-cloner__item","d-flex","pt-2","pb-2","align-items-center"],[1,"text-info","ml-3"]],template:function(t,i){if(t&1){let r=ne();s(0,"div",1)(1,"nui-repeat",2),h("selectionChange",function(a){return ie(r),oe(i.onSelect(a))}),d()(),re(2,Wt,3,1,"ng-template",null,0,le)}if(t&2){let r=ae(3);p(),T("itemsSource",i.widgetItems)("selection",i.widgetSelection)("repeatItemTemplateRef",r)}},dependencies:[ce],styles:[".nui-widget-cloner__item[_ngcontent-%COMP%]{height:60px}"]})}}return o})();var bt=F(Dt());var fe=(()=>{class o{constructor(e){this.toastService=e,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=(t,i)=>{let r=new V;return setTimeout(()=>{if(this.allowSubmit)r.next(t);else{let n=$localize`Submit failed.`;this.toastService.error({title:n}),r.error(n)}},1e3),r.asObservable()},this.tryRemove=t=>{let i=new V;return setTimeout(()=>{if(this.allowRemoval)i.next(t);else{let r=$localize`Widget removal failed.`;this.toastService.error({title:r}),i.error(r)}},200),i.asObservable()},this.toastService.setConfig({timeOut:2e3})}static{this.\u0275fac=function(t){return new(t||o)(P(at))}}static{this.\u0275prov=E({token:o,factory:o.\u0275fac})}}return o})();var wt=(()=>{class o{constructor(e,t,i,r,n,a){this.providerRegistry=e,this.submitHandler=t,this.widgetTypesService=i,this.widgetClonerService=r,this.refreshSettings=n,this.globalFilters=a,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.systemRefreshInterval=60,this.searchQuery="solarwinds",this.destroy$=new V,this.globalFilters.registerComponent({q:{componentInstance:{getFilters:()=>({data:{type:"string",value:this.searchQuery}})}}}),this.providerRegistry.setProviders({[b.providerId]:{provide:g,useClass:b,deps:[N]},[w.providerId]:{provide:g,useClass:w,deps:[N]},[L.providerId]:{provide:g,useClass:L,deps:[]},[B.providerId]:{provide:g,useClass:B,deps:[N]},[W.providerId]:{provide:g,useClass:W,deps:[]},[R.providerId]:{provide:g,useClass:R,deps:[O,N]},[q.providerId]:{provide:g,useClass:q,deps:[O]},[Q.providerId]:{provide:g,useClass:Q,deps:[O]},[ee.providerId]:{provide:g,useClass:ee,deps:[O]},[H.providerId]:{provide:g,useClass:H,deps:[Ve]},[I.providerId]:{provide:g,useClass:I,deps:[N]},[J.providerId]:{provide:g,useClass:J,deps:[]},[Z.providerId]:{provide:g,useClass:Z,deps:[O,N]},[te.providerId]:{provide:pt,useClass:te,deps:[[new Le,Y]]}})}ngOnInit(){this.widgetTypesService.getWidgetType("table").configurator?.[v.Structure].presentation.properties?.nodes.push("refresher"),this.refreshSettings.refreshRateSeconds=this.systemRefreshInterval;let e=M.map(i=>this.widgetTypesService.mergeWithWidgetType(i)),t=(0,bt.default)(e,i=>i.id);this.dashboard={positions:Ot,widgets:t}}onDsErrorSwitch(e){B.mockError=e,b.mockError=e,w.mockError=e,R.mockError=e,I.mockError=e}onShowButtonSwitch(e,t){for(let i of Object.keys(this.dashboard.widgets))this.dashboard=dt(this.dashboard,`widgets.${i}.pizzagna.configuration.header.properties.${t}`,e)}ngAfterViewInit(){this.dashboardComponent.eventBus.subscribeUntil(Pe,this.destroy$,e=>{let t={widget:this.dashboard.widgets[e.widgetId],dashboardComponent:this.dashboardComponent,trySubmit:this.submitHandler.trySubmit,widgetSelectionComponentType:yt};this.widgetClonerService.open(t).pipe(Ce(1),ve(this.destroy$)).subscribe()})}onCloneWidget(){let e={dashboardComponent:this.dashboardComponent,trySubmit:this.submitHandler.trySubmit,widgetSelectionComponentType:Se};this.widgetClonerService.open(e).pipe(Ce(1),ve(this.destroy$)).subscribe()}onEditWithCloner(){this.dashboardComponent.eventBus.next(Pe,{widgetId:M[0].id})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSystemRefreshIntervalClick(){this.refreshSettings.refreshRateSeconds=this.systemRefreshInterval}static{this.\u0275fac=function(t){return new(t||o)(S(ue),S(fe),S(y),S(ft),S(mt),S(Y))}}static{this.\u0275cmp=k({type:o,selectors:[["acme-dashboard"]],viewQuery:function(t,i){if(t&1&&ke(ge,7),t&2){let r;Xe(r=je())&&(i.dashboardComponent=r.first)}},features:[xe([fe,Y])],decls:28,vars:11,consts:()=>{let e;e=$localize`:␟90504d9af68fb3aa81accb4bc3005526deb04093␟5488473345097746222:System refresh interval (seconds)`;let t;t=$localize`:␟b3cbfe131ba0c10de2f194b783e0ca697cdeaef9␟4452935965886173182:Search query for Timeseries widget`;let i;i=$localize`:␟489801ff09de9b4a6ca8b6e05a475fa1ca00d98e␟5813529530812520031: Create Widget Clone
`;let r;r=$localize`:␟d8e9c9957a5d6ebe7749aab0e18dcb5d944b2ef9␟7916291516675251750: Simulate edit with cloner
`;let n;n=$localize`:␟5cab2718f1d3c09ccb1fca4886710430f59bf7c0␟81810662047948365: Edit mode `;let a;a=$localize`:␟db70aaa4da7a9f7c0fa3a218907f9fa354a19038␟5855643886473775120: Allow Submit `;let c;c=$localize`:␟d289dfdc6c4e23b49a96db083f95f1087ed1400a␟3687117978364204872: Allow Removal `;let u;u=$localize`:␟3299af3b186d7701f4c0626e41eba58af8382723␟4106211393112768148: Show Edit Button `;let _;_=$localize`:␟30251ad3dcd7facd3a222d48fb2ba02f8503c52c␟8096484277280346189: Show Remove Button `;let l;l=$localize`:␟c355f0feb3f72b3594e6e975456cd0a2dac1d929␟870224976565315483: Data Source Error `;let Ie;return Ie=$localize`:␟559db359e3dcc0820499a4e58208fb22273e0d55␟5928813357836950616: Update system refresh interval `,[i,r,n,a,c,u,_,l,Ie,["type","button","nui-button","",1,"mb-3","ml-4",3,"click"],[1,"w-100",2,"height","725px"],[3,"dashboardChange","gridsterConfigChange","nuiWidgetEditor","dashboard","gridsterConfig","editMode"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3",3,"valueChange","value"],[1,"ml-3",3,"valueChange"],[1,"d-flex","flex-row"],[2,"width","300px"],["caption",e],[3,"valueChange","value"],["type","button","nui-button","",1,"ml-4",3,"click"],[1,"mt-4"],["caption",t],[3,"textChange","value"]]},template:function(t,i){t&1&&(s(0,"button",9),h("click",function(){return i.onCloneWidget()}),C(1,0),d(),s(2,"button",9),h("click",function(){return i.onEditWithCloner()}),C(3,1),d(),s(4,"div",10)(5,"nui-dashboard",11),j("dashboardChange",function(n){return A(i.dashboard,n)||(i.dashboard=n),n})("gridsterConfigChange",function(n){return A(i.gridsterConfig,n)||(i.gridsterConfig=n),n}),d()(),s(6,"div",12)(7,"nui-switch",13),j("valueChange",function(n){return A(i.editMode,n)||(i.editMode=n),n}),C(8,2),d(),s(9,"nui-switch",13),j("valueChange",function(n){return A(i.submitHandler.allowSubmit,n)||(i.submitHandler.allowSubmit=n),n}),C(10,3),d(),s(11,"nui-switch",13),j("valueChange",function(n){return A(i.submitHandler.allowRemoval,n)||(i.submitHandler.allowRemoval=n),n}),C(12,4),d(),s(13,"nui-switch",13),h("valueChange",function(n){return i.onShowButtonSwitch(n,"editable")}),C(14,5),d(),s(15,"nui-switch",13),h("valueChange",function(n){return i.onShowButtonSwitch(n,"removable")}),C(16,6),d(),s(17,"nui-switch",14),h("valueChange",function(n){return i.onDsErrorSwitch(n)}),C(18,7),d()(),s(19,"div",15)(20,"div",16)(21,"nui-form-field",17)(22,"nui-textbox-number",18),j("valueChange",function(n){return A(i.systemRefreshInterval,n)||(i.systemRefreshInterval=n),n}),d()()(),s(23,"button",19),h("click",function(){return i.onSystemRefreshIntervalClick()}),C(24,8),d()(),s(25,"div",20)(26,"nui-form-field",21)(27,"nui-textbox",22),h("textChange",function(n){return i.searchQuery=n}),d()()()),t&2&&(p(5),T("nuiWidgetEditor",i.submitHandler),X("dashboard",i.dashboard)("gridsterConfig",i.gridsterConfig),T("editMode",i.editMode),p(2),X("value",i.editMode),p(2),X("value",i.submitHandler.allowSubmit),p(2),X("value",i.submitHandler.allowRemoval),p(2),T("value",!0),p(2),T("value",!0),p(7),X("value",i.systemRefreshInterval),p(5),T("value",i.searchQuery))},dependencies:[ge,Tt,Ke,Qe,rt,Je,et],styles:[".nui-theme-switcher-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:10px;background-color:var(--nui-color-bg-light,#fff)}"]})}}return o})();var Yt=[{path:"",component:wt,data:{srlc:{hideIndicator:!0},showThemeSwitcher:!0}}],To=(()=>{class o{constructor(e,t){this.widgetTypesService=e,this.componentRegistry=t,this.setupDataSourceProviders(),this.setupCustomProportionalWidgetDSConfig()}setupCustomProportionalWidgetDSConfig(){let e=this.widgetTypesService.getWidgetType("proportional",1);delete e.widget.structure[z].providers?.refresher,this.widgetTypesService.setNode(e,"configurator",me.DataSourceConfigComponentType,Oe.lateLoadKey),this.componentRegistry.registerByLateLoadKey(Oe)}setupDataSourceProviders(){this.setDataSourceProviders("table",[R.providerId,q.providerId,Q.providerId,H.providerId,Z.providerId,ee.providerId]);let e=this.widgetTypesService.getWidgetType("kpi",1);this.widgetTypesService.setNode(e,"configurator",me.DataSourceConfigComponentType,St.lateLoadKey),this.setDataSourceProviders("kpi",[{providerId:b.providerId,label:"Acme KPI Data Source 1"},{providerId:w.providerId,label:"Acme KPI Data Source 2",properties:{numberFormat:"1.1-1"}},{providerId:L.providerId,label:"Acme KPI Data Source 3"}]),this.setDataSourceProviders("proportional",[B.providerId,W.providerId]),this.setDataSourceProviders("timeseries",[I.providerId,J.providerId])}setDataSourceProviders(e,t){let i=this.widgetTypesService.getWidgetType(e,1);this.widgetTypesService.setNode(i,"configurator",me.DataSourceProviders,t)}static{this.\u0275fac=function(t){return new(t||o)(P(y),P(ut))}}static{this.\u0275mod=We({type:o})}static{this.\u0275inj=De({providers:[ue],imports:[ze,Ge,Ct,ot,He,st,Ze,Ue,qe,tt,Be.forChild(Yt),nt,it]})}}return o})();export{To as Prototype1Module};
