import{g as s}from"./chunk-KEVDW64K.js";import{a as V,j as F}from"./chunk-2PYN5BKZ.js";import{a as z}from"./chunk-32FRYE2I.js";import{a as b}from"./chunk-RODZF2WM.js";import{Ja as G,V as N,c as P,ea as R,ha as T,ia as O,ka as B}from"./chunk-UNYFFDYX.js";import{Yc as D,ed as x,lc as M,pc as A}from"./chunk-3HSEZOBQ.js";import{f as I,z as L}from"./chunk-NEOTMEUH.js";import{$c as W,Ac as E,Ha as S,Pb as C,Rb as _,Sa as l,Ta as c,Xb as a,Yb as r,bc as f,gc as y,kc as v,lc as d,vc as w,yb as g,yc as m,zb as p,zc as u}from"./chunk-NNMBFNDY.js";function X(o,K){if(o&1){let e=f();a(0,"button",6),v("click",function(){l(e);let t=d();return c(t.reInitializeDashboard())}),w(1," Restore Widget "),r()}}function k(o,K){if(o&1){let e=f();a(0,"nui-dashboard",7),E("dashboardChange",function(t){l(e);let n=d();return u(n.dashboard,t)||(n.dashboard=t),c(t)})("gridsterConfigChange",function(t){l(e);let n=d();return u(n.gridsterConfig,t)||(n.gridsterConfig=t),c(t)}),r()}if(o&2){let e=d();m("dashboard",e.dashboard),_("editMode",e.editMode),m("gridsterConfig",e.gridsterConfig)}}var oe=(()=>{class o{constructor(e,i,t){this.widgetTypesService=e,this.providerRegistry=i,this.changeDetectorRef=t,this.gridsterConfig={},this.editMode=!1,this.selectionConfiguration={enabled:!1,selectionMode:x.None}}ngOnInit(){let e=this.widgetTypesService.getWidgetType("table",1);this.widgetTypesService.setNode(e,"configurator",O.DataSourceProviders,[s.providerId]),this.providerRegistry.setProviders({[s.providerId]:{provide:R,useClass:s,deps:[M,L]}}),this.initializeDashboard()}reInitializeDashboard(){this.dashboard=void 0,this.changeDetectorRef.detectChanges(),this.initializeDashboard()}initializeDashboard(){let e=this.widgetConfig,i={[e.id]:this.widgetTypesService.mergeWithWidgetType(e)},t={[e.id]:{cols:12,rows:6,y:0,x:0}};this.dashboard={positions:t,widgets:i}}get widgetConfig(){return{id:"widget1",type:"table",pizzagna:{[B.Configuration]:{[P]:{providers:{[T.InteractionHandler]:{providerId:N}}},header:{properties:{title:"Table Widget with Selection!",subtitle:"Basic table widget",collapsible:!0}},table:{providers:{[T.DataSource]:{providerId:s.providerId}},properties:{configuration:{selectionConfiguration:this.selectionConfiguration,columns:[{id:"column1",label:"No.",isActive:!0,formatter:{componentType:b.lateLoadKey,properties:{dataFieldIds:{value:"position"}}}},{id:"column2",label:"Name",isActive:!0,formatter:{componentType:b.lateLoadKey,properties:{dataFieldIds:{value:"name"}}}},{id:"column3",label:"Status",isActive:!0,formatter:{componentType:b.lateLoadKey,properties:{dataFieldIds:{value:"status"}}}}]}}}}}}}static{this.\u0275fac=function(i){return new(i||o)(p(z),p(G),p(W))}}static{this.\u0275cmp=S({type:o,selectors:[["table-widget-selectable-example"]],inputs:{selectionConfiguration:"selectionConfiguration"},decls:6,vars:3,consts:()=>{let e;return e=$localize`:␟18d630a3c524dbab6dc528571782a939a7bc95b1␟861097914887003123: Edit Mode `,[e,[1,"mb-2","d-flex","align-items-center"],[1,"ml-3","py-2",3,"valueChange","value"],["type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[1,"w-100","dashboard"],["nuiWidgetEditor","",3,"dashboard","editMode","gridsterConfig","dashboardChange","gridsterConfigChange",4,"ngIf"],["type","button","displayStyle","action","nui-button","",3,"click"],["nuiWidgetEditor","",3,"dashboardChange","gridsterConfigChange","dashboard","editMode","gridsterConfig"]]},template:function(i,t){i&1&&(a(0,"div",1)(1,"nui-switch",2),E("valueChange",function(h){return u(t.editMode,h)||(t.editMode=h),h}),y(2,0),r(),C(3,X,2,0,"button",3),r(),a(4,"div",4),C(5,k,1,3,"nui-dashboard",5),r()),i&2&&(g(),m("value",t.editMode),g(2),_("ngIf",!(t.dashboard!=null&&t.dashboard.widgets.tableWidgetId)),g(2),_("ngIf",t.dashboard))},dependencies:[A,I,D,V,F],styles:[".dashboard[_ngcontent-%COMP%]{height:400px}"]})}}return o})();export{oe as a};
