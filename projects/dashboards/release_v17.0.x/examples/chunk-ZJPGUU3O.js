import{a as P}from"./chunk-4HXDNOXI.js";import{d as bt,h as Ct,i as wt,j as ne,k as _t,m as oe}from"./chunk-FBQO6WJ5.js";import{Da as ft,I as lt,M as ct,Na as St,X as dt,c as M,ca as ut,d as Q,e as R,ea as gt,f as it,ha as O,j as rt,ja as pt,k as q,ka as y,na as ht,qa as mt,s as nt,t as ot,u as at,v as st}from"./chunk-UNYFFDYX.js";import{$d as Ze,Be as tt,C as Me,Ia as Re,J as At,La as U,Ma as Oe,Nd as Le,Pc as je,Ud as Ue,Xd as Ge,Yd as Qe,Zd as qe,_d as Ke,ae as Xe,be as Ye,ce as Je,de as et,ed as He,ee as G,fd as $e,gd as Ne,h as Ft,hc as Bt,lc as We,nb as ke,sc as x,uc as ze}from"./chunk-3HSEZOBQ.js";import{d as Ee,e as Fe,f as Ae,k as Be,l as xe}from"./chunk-NEOTMEUH.js";import{$a as $,$b as re,$c as Ve,A as ee,Bc as ve,Ec as Te,F as j,Ga as ue,Gb as me,Ha as ge,Ja as pe,Jc as De,Kc as Pe,Nc as Ie,P as H,Pb as m,Q as E,Qb as fe,Ra as he,Rb as o,Sa as S,Sb as te,Ta as b,Tb as Se,Ub as be,V as ce,X as de,Xb as h,Yb as f,Zb as ie,_b as N,ac as Ce,bc as D,h as z,i as le,kc as C,lc as d,na as g,oc as we,pa as v,rc as F,sc as A,tc as B,uc as L,va as T,vc as _e,xc as ye,yb as s,zb as c}from"./chunk-NNMBFNDY.js";import{a as p,b as _,g as V}from"./chunk-T555DFTC.js";var ae=V(At()),se=V(Me()),Dt=V(Bt());var yt=V(Me());var Z=(()=>{class r{constructor(){this.defaultPaginatorState={page:1,pageSize:10,pageSizeSet:[10,20,50],total:0},this.paginatorState=this.defaultPaginatorState}initPaginator(e){this.widget=e,this.setPaginatorState(),this.listenPaginatorChanges()}applyFilters(){this.widget.dataSource.applyFilters()}registerPaginator(){this.widget.dataSource&&this.widget.dataSource.registerComponent({paginator:{componentInstance:this.widget.paginator}})}deregisterPaginator(){this.widget.dataSource&&this.widget.dataSource.deregisterComponent?.("paginator")}setPaginatorState(){let e=this.widget.configuration?.paginatorConfiguration;if(this.widget.hasPaginator&&this.widget.paginator){this.registerPaginator();let t={pageSize:e?.pageSize??this.defaultPaginatorState.pageSize,pageSizeSet:e?.pageSizeSet??this.defaultPaginatorState.pageSizeSet};(0,yt.default)(t,{pageSize:this.paginatorState.pageSize,pageSizeSet:this.paginatorState.pageSizeSet})||(this.updatePaginatorState(t),this.widget.eventBus.getStream(R).next({}),this.widget.changeDetector.detectChanges()),this.widget.dataSource.outputsSubject.pipe(g(this.widget.onDestroy$)).subscribe(i=>{this.updatePaginatorState({total:i.paginator?.total??0})})}else this.deregisterPaginator()}updatePaginatorState(e){this.paginatorState=p(p({},this.paginatorState),e)}listenPaginatorChanges(){this.widget.eventBus.getStream(R).pipe(g(this.widget.onDestroy$)).subscribe(({payload:e})=>{e&&(this.updatePaginatorState({page:e.page??1}),this.applyFilters())})}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=T({token:r,factory:r.\u0275fac})}}return r})();var vt=V(Ft());var X=(()=>{class r{constructor(){this.searchDebounceTime=500}initWidget(e){this.widget=e,this.initSearch()}initSearch(){this.defineSearch();let e=this.widget.dataSource?.features?.featuresChanged;e&&e.pipe(g(this.widget.onDestroy$)).subscribe(()=>{this.defineSearch()})}registerSearch(){this.widget.dataSource&&this.widget.dataSource.registerComponent({search:{componentInstance:{getFilters:()=>({type:"search",value:this.widget.searchValue})}}})}deregisterSearch(){this.widget.dataSource&&this.widget.dataSource.deregisterComponent?.("search")}defineSearch(){let e=this.widget.configuration?.searchConfiguration,t=this.widget.dataSource.features?.getFeatureConfig("search");this.widget.isSearchEnabled=!!(e?.enabled&&t?.enabled),this.widget.isSearchEnabled?(this.widget.searchValue=e?.searchTerm||"",this.registerSearch(),this.searchDebounceTime=(0,vt.default)(e?.searchDebounce)?this.searchDebounceTime:e?.searchDebounce,this.watchSearchTerm()):this.deregisterSearch()}watchSearchTerm(){this.widget.searchTerm$.pipe(ce(this.searchDebounceTime),g(this.widget.onDestroy$)).subscribe(()=>{this.widget.pizzagnaService.setProperty({pizzagnaKey:y.Configuration,componentId:this.widget.componentId,propertyPath:["configuration.searchConfiguration.searchTerm"]},this.widget.searchValue),this.widget.eventBus.getStream(Q).next({})})}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=T({token:r,factory:r.\u0275fac})}}return r})();var Y=(()=>{class r{constructor(){this.visibleItems=[]}initWidget(e){this.widget=e}initVirtualScroll(e){this.widget||this.initWidget(e),this.widget.hasVirtualScroll?this.registerVirtualScroll():this.deregisterVirtualScroll()}registerVirtualScroll(){this.widget.dataSource&&this.widget.dataSource.registerComponent({["virtualScroll"]:{componentInstance:this.widget.viewportManager}})}deregisterVirtualScroll(){this.widget.dataSource&&this.widget.dataSource.deregisterComponent?.("virtualScroll")}subscribeToVirtualScroll(){this.widget.vscrollViewport&&(H(this.widget.vscrollViewport.renderedRangeStream,this.widget.tableUpdate$.pipe(j(()=>this.widget.vscrollViewport?.getRenderedRange()))).pipe(v(e=>{this.visibleItems=this.widget.tableData.slice(e?.start,e?.end),this.widget.changeDetector.detectChanges()}),g(this.widget.onDestroy$)).subscribe(),this.widget.viewportManager.setViewport(this.widget.vscrollViewport).observeNextPage$({pageSize:this.widget.range,emitFirstPage:!0}).pipe(E(e=>e.end>=(this.widget.vscrollViewport?.getDataLength()??0)),v(e=>this.widget.zone.run(()=>{this.widget.dataSource.page=e.end/(e.end-e.start),this.widget.eventBus.getStream(it).next({}),this.widget.changeDetector.detectChanges()})),g(this.widget.onDestroy$)).subscribe())}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=T({token:r,factory:r.\u0275fac})}}return r})();var Tt=(()=>{class r{constructor(){this.enabled=!0,this.delay=500}onHostMouseenter(){this.enabled&&(this.timeout=setTimeout(()=>{this.mousePresentSubject.next(!0)},this.delay))}onHostClick(){this.enabled&&this.mousePresentSubject.next(!0)}onHostMouseleave(){this.enabled&&(clearTimeout(this.timeout),this.mousePresentSubject.next(!1))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275dir=pe({type:r,selectors:[["","nuiDelayedMousePresenceDetection",""]],hostBindings:function(t,i){t&1&&C("mouseenter",function(){return i.onHostMouseenter()})("click",function(){return i.onHostClick()})("mouseleave",function(){return i.onHostMouseleave()})},inputs:{enabled:[ue.None,"nuiDelayedMousePresenceDetection","enabled"],mousePresentSubject:"mousePresentSubject",delay:"delay"}})}}return r})();var kt=["widgetTable"],Wt=["paginator"],zt=r=>({"virtual-scroll-disabled":r});function jt(r,u){r&1&&(h(0,"div",15),ie(1,"nui-image",16),f())}function Ht(r,u){if(r&1){let e=D();h(0,"div",17)(1,"nui-search",18),C("inputChange",function(i){S(e);let n=d();return b(n.onSearchInputChanged(i))})("cancel",function(i){S(e);let n=d();return b(n.onSearchInputChanged(i))}),f()()}if(r&2){let e=d();s(),o("value",e.searchValue)}}function $t(r,u){if(r&1&&(h(0,"th",22),_e(1),f()),r&2){let e=d().$implicit,t=d();te("width",t.columnsWidthMap.get(e.id),"px")("max-width",t.columnsWidthMap.get(e.id),"px")("min-width",t.columnsWidthMap.get(e.id),"px"),o("isColumnSortingDisabled",!e.sortable)("title",e.label)("tooltipText",t.headerTooltipsEnabled?e.label:void 0)("alignment",t.getColumnAlignment(e)),s(),ye(" ",e.label," ")}}function Nt(r,u){}function Lt(r,u){if(r&1){let e=D();N(0,25,2),m(2,Nt,0,0,"ng-template",26),C("attached",function(i){S(e);let n=L(1);return b(n.attached(i))}),re()}if(r&2){let e=L(1),t=d().$implicit,i=d().$implicit;o("componentType",i.formatter==null?null:i.formatter.componentType)("properties",t[i.id]),s(2),o("cdkPortalOutlet",e.portal)}}function Ut(r,u){if(r&1&&(h(0,"td",23),m(1,Lt,3,3,"ng-container",24),f()),r&2){let e=u.$implicit,t=d().$implicit,i=d();te("width",i.columnsWidthMap.get(t.id),"px")("max-width",i.columnsWidthMap.get(t.id),"px")("min-width",i.columnsWidthMap.get(t.id),"px"),o("alignment",i.getColumnAlignment(t)),s(),o("ngIf",e[t.id]&&t.formatter)}}function Gt(r,u){if(r&1&&(N(0,19),m(1,$t,2,11,"th",20),N(2),m(3,Ut,2,8,"td",21),re()()),r&2){let e=u.$implicit;we("nuiColumnDef",e.id)}}function Qt(r,u){r&1&&ie(0,"tr",27)}function qt(r,u){if(r&1){let e=D();h(0,"tr",28),C("click",function(i){let n=S(e).$implicit,a=d();return b(a.onInteraction(n,i))}),f()}if(r&2){let e=u.$implicit,t=d();o("rowObject",e.__record)("clickableRow",t.clickableRow),fe("role",t.interactive?"button":"")}}function Kt(r,u){r&1&&Ce(0)}function Zt(r,u){if(r&1){let e=D();h(0,"footer")(1,"nui-paginator",29,3),C("pagerAction",function(i){S(e);let n=d();return b(n.onPagerAction(i))}),f()()}if(r&2){let e=d();s(),o("appendToBody",!0)("page",e.paginatorAddon.paginatorState.page)("pageSize",e.paginatorAddon.paginatorState.pageSize)("pageSizeSet",e.paginatorAddon.paginatorState.pageSizeSet)("total",e.paginatorAddon.paginatorState.total)}}var Pt=(()=>{class r{static{this.lateLoadKey="TableWidgetComponent"}constructor(e,t,i,n,a,l,w,I,J,k,W,It,Vt,Et){this.eventBus=e,this.dataSource=t,this.widgetConfigurationService=i,this.changeDetector=n,this.pizzagnaService=a,this.viewportManager=l,this.zone=w,this.el=I,this.logger=J,this.searchAddon=k,this.paginatorAddon=W,this.virtualScrollAddon=It,this.formattersRegistryService=Vt,this.selectorService=Et,this.indentFromTop=70,this.sortable=!0,this.delayedMousePresenceDetectionEnabled=!0,this.tableData=[],this.columns=[],this.columnsWidthMap=new Map,this.scrollType=P.virtual,this.isSearchEnabled=!1,this.searchTerm$=new z,this.onDestroy$=new z,this.tableUpdate$=new z,this.mousePresent$=new le(!1),this.rowHeight=24,this.selection={isAllPages:!1,include:[],exclude:[]},this.totalPages=0,this.lastPageFetched=0,this.isBusy=this.lastPageFetched!==this.totalPages,this.sortableSet={},this.defaultColumnAlignment="left",this.idle=!1,this._scrollBuffer=0}get headerTooltipsEnabled(){return this.configuration.headerTooltipsEnabled??!0}set scrollBuffer(e){if(e>100||e<0)throw new Error("Invalid scroll buffer provided. Required range 1..100");this._scrollBuffer=e}get range(){return this.getTableScrollRange()}set range(e){this._range=e}get interactive(){return this.configuration?.interactive??this.dataSource?.features?.getFeatureConfig(pt.Interactivity)?.enabled??!1}get clickableRow(){let e=this.configuration?.selectionConfiguration;return!!e?.enabled&&(e.clickableRow||e.selectionMode===He.Single)}get hasVirtualScroll(){return this.scrollType===P.virtual}get hasPaginator(){return this.scrollType===P.paginator}ngOnChanges(e){e.dataFields&&this.dataFields?.length&&this.setSortableSet(),(e.widgetData||e.configuration||e.dataFields)&&(this.updateTable(),this.vscrollViewport?.checkViewportSize()),e.configuration&&(this.resolveSortBy(e),this.resolveScrollType(e),this.resolveSearch(e)),e.totalItems&&(this.totalPages=Math.floor((this.totalItems??0)/this.range))}resolveScrollType(e){let t=(0,ae.default)(e,"configuration.currentValue.hasVirtualScroll",!0),i=(0,ae.default)(e,"configuration.currentValue.scrollType",P.virtual);this.scrollType=t?P.virtual:i,this.initPrefetchAddon(),this.scrollTypeChanged(e.configuration)&&this.dataSource.applyFilters()}ngOnInit(){this.dataSource&&(this.setSortFilter(),this.registerSorter())}ngAfterViewInit(){if(!this.dataSource)return;this.dataSource.busy?.pipe(v(t=>this.isBusy=t),g(this.onDestroy$)).subscribe(),this.initPrefetchAddon(),this.searchAddon.initWidget(this);let e=this.eventBus.getStream(q).pipe(E(t=>t.payload?.widgetId?.toString()===this.widgetConfigurationService.getWidget().id),j(t=>t.payload?.height??0));e.pipe(g(this.onDestroy$)).subscribe(t=>{this.tableContainerHeight=t-this.indentFromTop,this.vscrollViewport?.checkViewportSize(),this.changeDetector.detectChanges()}),setTimeout(()=>{H(ee(this.range*this.rowHeight),e,ee(this.el.nativeElement.getBoundingClientRect().height)).pipe(E(t=>!!t),de(1),v(t=>{this.tableWidgetHeight=t,this.hasVirtualScroll&&this.virtualScrollAddon.subscribeToVirtualScroll(),this.eventBus.getStream(rt).next({})})).subscribe()}),this.eventBus.getStream(at).pipe(g(this.onDestroy$)).subscribe(({payload:t})=>{t?this.selection=t:this.logger.warn(`widget CHANGE_SELECTION, ${this.componentId} has received the incorrect selection object`)})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete(),this.tableUpdate$.complete(),this.searchTerm$?.complete(),this.pizzagnaService.setProperty({componentId:"bodyContent",propertyPath:["fallbackKey"],pizzagnaKey:y.Data},void 0)}shouldDisplayTable(){let e=this.columns.length>0,t=this.tableData?.length>0;return this.isSearchEnabled||this.hasVirtualScroll&&(this.isBusy||this.idle)?e:e&&t}dataTrackBy(){let e=this?.configuration?.selectionConfiguration,t=e?.enabled&&e.trackByProperty||"id";return(i,n)=>(n.__record&&(n=n.__record),n?n[t]:i)}columnTrackBy(e,t){return t.id}updateColumns(e){this.headers=e.columns.filter(n=>n.isActive).map(n=>n.id);let t=e.columns.every(n=>!!n.width),i=e.columns.map((n,a,l)=>{if(this.columnsWidthMap.set(n.id,n.width),t){let w=l[l.length-1];this.columnsWidthMap.set(w.id,void 0)}return _(p({},n),{sortable:this.sortableSet[n?.formatter?.properties?.dataFieldIds?.value]??!0})});i.length>0&&t&&this.logger.warn("Cannot set width for all columns. Resetting last column width."),this.columns.length!==i.length?this.columns=[...i]:this.columns.forEach((n,a)=>{Object.assign(n,i[a],{})})}mapTableData(e,t,i){return!i||i.length===0?(this.logger.warn("There are no data fields defined, so table data cannot be displayed."),[]):e.map(n=>{let a=t.reduce((l,w)=>{let I=w.formatter?.properties?.dataFieldIds;if(!I)return l;let J=Object.keys(I).reduce((k,W)=>(k[W]=n[I[W]],k),{});return l[w.id]=p({data:J},(0,Dt.default)(w.formatter?.properties,"dataFieldIds")),l},{});return a.__record=n,a})}onSortOrderChanged(e){this.sortedColumn=e;let t=this.columns.find(l=>l.id===e.sortBy);if(!t)return;let n=t.formatter?.properties?.dataFieldIds?.value;if(!n)return;let a={sortBy:n,direction:e.direction};(0,se.default)(a,this.sortFilter)||(this.sortFilter=a,this.flushTableData(),this.eventBus.getStream(Q).next({}))}onSelectionChange(e){this.selection=e,this.eventBus.getStream(st).next({payload:this.selectorService.getSelectedItems(this.selection,this.widgetData,(t,i)=>this.dataTrackBy()(0,t)===i),id:this.componentId}),this.eventBus.getStream(ot).next({payload:this.selection})}onInteraction(e,t){if(!this.interactive||this.configuration.selectionConfiguration?.enabled)return;let i=this.configuration.interactionIgnoredSelectors||Xe;t.target.closest(i.join(","))||this.eventBus.getStream(nt).next({payload:{data:e.__record}})}onSearchInputChanged(e){this.searchValue=e,this.searchTerm$.next(""),this.selection={include:[],exclude:[],isAllPages:!1}}getColumnAlignment(e){return!e?.formatter?.componentType||this.formattersRegistryService.isEmpty?this.defaultColumnAlignment:(this.formatters?.version!==this.formattersRegistryService.stateVersion&&(this.formatters={items:this.formattersRegistryService.getItems().reduce((t,i)=>_(p({},t),{[i.componentType]:i}),{}),version:this.formattersRegistryService.stateVersion}),this.formatters.items[e.formatter.componentType]?.alignment||this.defaultColumnAlignment)}setSortFilter(){if(this.configuration){let e=this.configuration.sorterConfiguration?.sortBy,t=this.configuration.columns?.find(i=>i.id===e)?.formatter?.properties?.dataFieldIds?.value;this.sortFilter={direction:this.configuration.sorterConfiguration?.descendantSorting?x.descending:x.ascending,sortBy:t}}}isSortByUpdated(e){let t=e.previousValue?.sorterConfiguration,i=e.currentValue.sorterConfiguration,n=t?.sortBy,a=i?.sortBy;return a?!(n===a&&i.descendantSorting===t.descendantSorting):!!n}updateTable(){this.widgetData&&this.dataFields&&this.configuration.columns&&(this.updateColumns(this.configuration),this.idle=!1,this.tableData=this.mapTableData(this.widgetData,this.configuration.columns,this.dataFields),this.tableUpdate$.next(),this.changeDetector.detectChanges())}registerSorter(){this.dataSource.registerComponent({sorter:{componentInstance:{getFilters:()=>({type:"sorter",value:this.sortFilter})}}})}setSortableSet(){this.sortableSet={},this.dataFields.forEach(e=>{this.sortableSet[e.id]=e.sortable??!0})}flushTableData(){this.idle=!0,this.tableData=[]}scrollTypeChanged(e){return!!e.previousValue&&e.previousValue.scrollType!==e.currentValue.scrollType}getTableScrollRange(){let t=(this._scrollBuffer??0)/100+1;return this._range?Math.floor(this._range*t):Math.floor(this.tableWidgetHeight/this.rowHeight*2*t)}onPagerAction(e){this.eventBus.getStream(R).next({payload:e,id:this.componentId})}initPrefetchAddon(){this.hasVirtualScroll?this.virtualScrollAddon.initVirtualScroll(this):this.hasPaginator?this.paginatorAddon.initPaginator(this):this.virtualScrollAddon.initVirtualScroll(this)}resolveSortBy(e){if(this.isSortByUpdated(e.configuration)&&(e.configuration.currentValue.sortable??!0)){let t={direction:e.configuration.currentValue.sorterConfiguration.descendantSorting?x.descending:x.ascending,sortBy:e.configuration.currentValue.sorterConfiguration.sortBy};this.onSortOrderChanged(t)}}resolveSearch(e){(0,se.default)(e.configuration.currentValue?.searchConfiguration,e.configuration.previousValue?.searchConfiguration)||this.searchAddon.initWidget(this)}static{this.\u0275fac=function(t){return new(t||r)(c(ut),c(gt,8),c(ht,8),c(Ve),c(mt),c(tt),c(me),c($),c(We),c(X),c(Z),c(Y),c(ft),c(ze))}}static{this.\u0275cmp=ge({type:r,selectors:[["nui-table-widget"]],viewQuery:function(t,i){if(t&1&&(F(kt,5),F(Wt,5),F(U,5),F(G,5,$)),t&2){let n;A(n=B())&&(i.table=n.first),A(n=B())&&(i.paginator=n.first),A(n=B())&&(i.vscrollViewport=n.first),A(n=B())&&(i.tableRows=n)}},hostVars:4,hostBindings:function(t,i){t&2&&(be(i.elementClass),Se("table-widget-fullwidth",!0))},inputs:{widgetData:"widgetData",componentId:"componentId",configuration:"configuration",dataFields:"dataFields",totalItems:"totalItems",indentFromTop:"indentFromTop",sortable:"sortable",delayedMousePresenceDetectionEnabled:"delayedMousePresenceDetectionEnabled",elementClass:"elementClass",range:"range"},features:[ve([X,Y,Z]),he],decls:15,vars:30,consts:[["widgetTable",""],["footer",""],["componentPortal","nuiComponentPortal"],["paginator",""],["class","h-100 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"nui-table-widget","d-flex","flex-column",3,"ngClass"],["class","mr-2 mb-2 flex-row",4,"ngIf"],[1,"flex-row","h-100","nui-table-widget-container",3,"nuiDelayedMousePresenceDetection","delay","mousePresentSubject"],["tableStickyHeader","",1,"calc-height",2,"height","calc(100% - 2px)",3,"itemSize","ngClass"],["nui-table","",1,"nui-table-widget__main",3,"sortOrderChanged","selectionChange","reorderable","sortable","selection","selectionConfig","totalItems","paginatorUsed","dataSource","sortedColumn","trackBy"],[3,"nuiColumnDef",4,"ngFor","ngForOf","ngForTrackBy"],["nui-header-row","",4,"nuiHeaderRowDef"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf","cdkVirtualForTemplateCacheSize","cdkVirtualForTrackBy"],[1,"mt-2",3,"hidden"],[4,"ngTemplateOutlet"],[1,"h-100","d-flex","justify-content-center","align-items-center"],["image","no-data-to-show"],[1,"mr-2","mb-2","flex-row"],[1,"unlimited-width","d-flex","justify-content-end","flex-grow-1",3,"inputChange","cancel","value"],[3,"nuiColumnDef"],["nui-header-cell","",3,"isColumnSortingDisabled","width","max-width","min-width","title","tooltipText","alignment",4,"nuiHeaderCellDef"],["nui-cell","",3,"width","max-width","min-width","alignment",4,"nuiCellDef"],["nui-header-cell","",3,"isColumnSortingDisabled","title","tooltipText","alignment"],["nui-cell","",3,"alignment"],["nuiComponentPortal","","componentId","formatter",3,"componentType","properties",4,"ngIf"],["nuiComponentPortal","","componentId","formatter",3,"componentType","properties"],[3,"attached","cdkPortalOutlet"],["nui-header-row",""],["nui-row","","density","tiny",3,"click","rowObject","clickableRow"],["id","nui-table-widget-paginator",3,"pagerAction","appendToBody","page","pageSize","pageSizeSet","total"]],template:function(t,i){if(t&1){let n=D();m(0,jt,2,0,"div",4),h(1,"div",5),m(2,Ht,2,1,"div",6),h(3,"div",7)(4,"cdk-virtual-scroll-viewport",8),De(5,"async"),h(6,"table",9,0),C("sortOrderChanged",function(l){return S(n),b(i.onSortOrderChanged(l))})("selectionChange",function(l){return S(n),b(i.onSelectionChange(l))}),m(8,Gt,4,1,"ng-container",10)(9,Qt,1,0,"tr",11)(10,qt,1,3,"ng-template",12),f()()(),h(11,"div",13),m(12,Kt,1,0,"ng-container",14),f()(),m(13,Zt,3,5,"ng-template",null,1,Ie)}if(t&2){let n=L(14);o("ngIf",!i.shouldDisplayTable()),s(),o("ngClass",i.shouldDisplayTable()?"h-100":"invisible"),s(),o("ngIf",i.isSearchEnabled),s(),o("nuiDelayedMousePresenceDetection",i.delayedMousePresenceDetectionEnabled)("delay",i.configuration.scrollActivationDelayMs)("mousePresentSubject",i.mousePresent$),s(),o("itemSize",i.rowHeight)("ngClass",Te(28,zt,Pe(5,26,i.mousePresent$)===!1&&i.delayedMousePresenceDetectionEnabled)),s(2),o("reorderable",i.configuration==null?null:i.configuration.reorderable)("sortable",i.sortable)("selection",i.selection)("selectionConfig",i.configuration==null?null:i.configuration.selectionConfiguration)("totalItems",i.totalItems)("paginatorUsed",i.hasPaginator&&(i.configuration==null||i.configuration.selectionConfiguration==null?null:i.configuration.selectionConfiguration.allPages))("dataSource",i.hasVirtualScroll?i.virtualScrollAddon.visibleItems:i.tableData)("sortedColumn",i.sortedColumn)("trackBy",i.dataTrackBy()),s(2),o("ngForOf",i.columns)("ngForTrackBy",i.columnTrackBy),s(),o("nuiHeaderRowDef",i.headers),s(),o("nuiRowDefColumns",i.headers)("cdkVirtualForOf",i.tableData)("cdkVirtualForTemplateCacheSize",10)("cdkVirtualForTrackBy",i.dataTrackBy()),s(),o("hidden",!i.hasPaginator),s(),o("ngTemplateOutlet",n)}},dependencies:[Ee,Fe,Ae,Be,je,ke,St,$e,Ye,Ge,Je,et,G,Ke,Ze,qe,Qe,Ne,Re,Oe,U,Ue,Le,Tt,xe],styles:[".nui-table-widget[_ngcontent-%COMP%]{overflow:auto;width:100%}.nui-table-widget[_ngcontent-%COMP%]   .display-contents[_ngcontent-%COMP%]{display:contents}.nui-table-widget__main[_ngcontent-%COMP%]{flex:1 1 auto}.nui-table-widget__paginator[_ngcontent-%COMP%]{margin-top:10px}.nui-table-widget__overflow[_ngcontent-%COMP%]{overflow-y:auto}.nui-table-widget[_ngcontent-%COMP%]   .nui-table-widget-container[_ngcontent-%COMP%]   .virtual-scroll-disabled.cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{overflow:hidden!important}.mobile[_nghost-%COMP%]   .calc-height[_ngcontent-%COMP%], .mobile   [_nghost-%COMP%]   .calc-height[_ngcontent-%COMP%]{min-height:200px}.table-widget-fullwidth[_nghost-%COMP%]{width:calc(100% - 10px)}.invisible[_ngcontent-%COMP%]{height:0}@-moz-document url-prefix(){.nui-table-widget-container{margin-right:10px}}"],changeDetection:0})}}return r})();var ir={[y.Structure]:_(p({[M]:{id:M,componentType:bt.lateLoadKey,providers:{[O.Refresher]:oe(),[O.EventProxy]:{providerId:lt,properties:{downstreams:[q.id]}}},properties:{nodes:["header","loading","body"]}},header:Ct,loading:wt,body:_(p({},ne),{properties:_(p({},ne.properties),{elementClass:"overflow-auto"})})},_t("table")),{table:{id:"table",componentType:Pt.lateLoadKey,providers:{[O.Adapter]:{providerId:ct,properties:{componentId:"table",dataPath:"widgetData",dataFieldsPath:"dataFields",totalItemsPath:"totalItems"}},virtualViewportManager:{providerId:dt}},properties:{elementClass:"flex-grow-1 mx-3 mb-3 mt-2",delayedMousePresenceDetectionEnabled:!0,configuration:{columns:[],scrollActivationDelayMs:500,headerTooltipsEnabled:!0}}}}),[y.Configuration]:{[M]:{id:M,providers:{[O.Refresher]:oe(!1,60)}},header:{properties:{title:$localize`Empty Table Widget`}}}};export{Pt as a,ir as b};
