import{I as M,e as F}from"./chunk-3HSEZOBQ.js";import{$b as h,$c as g,Ha as d,Ra as c,Ub as u,Xb as s,Yb as p,_b as x,vc as l,wc as w,xc as S,yb as a,zb as m}from"./chunk-NNMBFNDY.js";import{g as f}from"./chunk-T555DFTC.js";var E=f(F()),T=f(M());var b=[{power:1,prefix:"",label:""},{power:3,prefix:"k",label:"kilo"},{power:6,prefix:"M",label:"mega"},{power:9,prefix:"G",label:"giga"},{power:12,prefix:"T",label:"tera"},{power:15,prefix:"P",label:"peta"},{power:18,prefix:"E",label:"exa"},{power:21,prefix:"Z",label:"zetta"},{power:24,prefix:"Y",label:"yotta"}],I=[{power:-24,prefix:"y",label:"yocto"},{power:-21,prefix:"z",label:"zepto"},{power:-18,prefix:"a",label:"atto"},{power:-15,prefix:"f",label:"femto"},{power:-12,prefix:"p",label:"pico"},{power:-9,prefix:"n",label:"nano"},{power:-6,prefix:"\xB5",label:"micro"},{power:-3,prefix:"m",label:"milli"},{power:1,prefix:"",label:""}];var D=(()=>{class i{static{this.lateLoadKey="SiUnitsFormatterComponent"}static{this.SHIFT_POINT_DEFAULT=0}constructor(t){this.changeDetector=t,this.value="0"}ngOnChanges(t){if(t.data){let{value:e}=t.data.currentValue;e&&this.processSiUnitsValue((0,T.default)(e))}}processSiUnitsValue(t){let e=this.getTransformPrefix((0,E.default)(t));this.value=this.getTransformedValue(t,e),this.modifier=e?.prefix}getTransformedValue(t,e){if(!e)return t;let r=e.power!==1?+t*Math.pow(10,-e.power):+t;return(Math.round(r*10)/10).toString()}getTransformPrefix(t){let e=Math.abs(t);if(Number.isNaN(e))return;let r=this.data?.shiftPoint||i.SHIFT_POINT_DEFAULT;if(e>=1){let n=Math.round(e).toString().length;return[...b].reverse().find(_=>n>=_.power+1+r)}else{let o=v(e);return[...I].reverse().find(n=>o<=Math.abs(n.power)+1+r)}}static{this.\u0275fac=function(e){return new(e||i)(m(g))}}static{this.\u0275cmp=d({type:i,selectors:[["nui-dashboards-si-units-formatter"]],hostVars:2,hostBindings:function(e,r){e&2&&u(r.elementClass)},inputs:{data:"data",elementClass:"elementClass"},features:[c],decls:6,vars:2,consts:[[1,"d-flex","flex-nowrap"]],template:function(e,r){e&1&&(x(0),s(1,"div",0)(2,"span"),l(3),p(),s(4,"span"),l(5),p()(),h()),e&2&&(a(3),w(r.value),a(2),S(" ",r.modifier,""))},encapsulation:2})}}return i})();function v(i,C=1){let t=Math.abs(i);if(t>=1)return 1;let e=C+1;return t*Math.pow(10,e)>1?e:v(t,e)}export{D as a};
