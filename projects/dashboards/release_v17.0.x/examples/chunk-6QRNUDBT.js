import{Na as N,Oa as V,qa as E}from"./chunk-USCLQP7P.js";import{Pc as k,lc as S,nb as M}from"./chunk-NZZJTGI5.js";import{d as b,e as B,f as G}from"./chunk-NEOTMEUH.js";import{$b as z,$c as x,Ec as D,Gb as _,Ha as u,Kb as v,Pb as c,Rb as r,Sa as f,Ta as C,Ub as y,Xb as l,Yb as m,Zb as w,_b as R,bc as O,kc as T,rc as I,sc as P,tc as F,uc as d,yb as s,zb as a}from"./chunk-NNMBFNDY.js";var j=["gridItemsContainer"],H=t=>({"prioritize-rows":t});function L(t,p){}function Q(t,p){if(t&1){let i=O();R(0)(1,5,1),c(3,L,0,0,"ng-template",6),T("attached",function(n){f(i);let o=d(2);return C(o.attached(n))}),z()()}if(t&2){let i=p.$implicit,e=d(2);s(),r("componentId",i.id)("componentType",i.componentType)("properties",i.properties)("providers",i.providers),s(2),r("cdkPortalOutlet",e.portal)}}function Z(t,p){t&1&&(l(0,"div",7),w(1,"nui-image",8),m())}var te=(()=>{class t extends V{static{this.lateLoadKey="TilesComponent"}constructor(i,e,n,o){super(i,e,n),this.ngZone=o,this.nodes=[],this.direction="column",this.prioritizeGridRows=!1}ngAfterViewInit(){this.handleGridFlowOnResize()}ngOnDestroy(){this.tilesResizeObserver?.disconnect(),super.ngOnDestroy()}getNodes(){return this.nodes}handleGridFlowOnResize(){this.tilesResizeObserver=new ResizeObserver(()=>this.onResize()),this.ngZone.runOutsideAngular(()=>{this.tilesResizeObserver.observe(this.gridItemsContainer.nativeElement)})}onResize(){if(this.nodes?.length<2)return;let i=this.gridItemsContainer.nativeElement.getBoundingClientRect(),{height:e,width:n}=i,o=e/n,g=A(this.nodes.length),h=.05;if(o-h>g&&!this.prioritizeGridRows){this.prioritizeGridRows=!0,this.changeDetector.detectChanges();return}if(o+h<g&&this.prioritizeGridRows){this.prioritizeGridRows=!1,this.changeDetector.detectChanges();return}}static{this.\u0275fac=function(e){return new(e||t)(a(x),a(E),a(S),a(_))}}static{this.\u0275cmp=u({type:t,selectors:[["nui-tiles"]],viewQuery:function(e,n){if(e&1&&I(j,7),e&2){let o;P(o=F())&&(n.gridItemsContainer=o.first)}},hostVars:2,hostBindings:function(e,n){e&2&&y(n.elementClass)},inputs:{nodes:"nodes",direction:"direction"},features:[v],decls:4,vars:6,consts:[["gridItemsContainer",""],["componentPortal","nuiComponentPortal"],[1,"nui-grid-layout",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","is-empty",4,"ngIf"],["nuiComponentPortal","",3,"componentId","componentType","properties","providers"],[3,"attached","cdkPortalOutlet"],[1,"is-empty"],["image","no-data-to-show"]],template:function(e,n){e&1&&(l(0,"div",2,0),c(2,Q,4,5,"ng-container",3)(3,Z,2,0,"div",4),m()),e&2&&(r("ngClass",D(4,H,n.prioritizeGridRows)),s(2),r("ngForOf",n.nodeConfigs)("ngForTrackBy",n.trackByFn),s(),r("ngIf",n.nodeConfigs.length===0))},dependencies:[b,B,G,k,M,N],styles:[".nui-grid-layout[_ngcontent-%COMP%]{display:grid;height:100%;gap:10px;grid-template-columns:repeat(auto-fit,minmax(94.8px,1fr));grid-template-rows:repeat(auto-fit,minmax(15px,1fr));line-height:1.2}.nui-grid-layout.prioritize-rows[_ngcontent-%COMP%]{grid-auto-flow:column;grid-template-columns:minmax(1px,1fr)}.mobile[_nghost-%COMP%], .mobile   [_nghost-%COMP%]{min-height:160px}.is-empty[_ngcontent-%COMP%]{display:grid;place-content:center;height:100%}"]})}}return t})(),A=t=>.25*t+.7;export{te as a};
