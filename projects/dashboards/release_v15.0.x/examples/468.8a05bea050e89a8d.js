"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[468],{18468:(B,I,s)=>{s.r(I),s.d(I,{TimeseriesWidgetPrototypeModule:()=>E});var w=s(36895),P=s(75883),n=s(72536),e=s(5357),S=s(93877),m=s(4758),u=s(40837),v=s(5596),g=s(33618),f=s(85631),h=s(55350),a=s(55206),A=s(12498),D=s.n(A),C=s(77579),i=s(94650);let b=(()=>{class o{constructor(t){this.toastService=t,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=(r,d)=>{const l=new C.x;return setTimeout(()=>{if(this.allowSubmit)r.id||(r.id=(0,n.VjN)("acme")),l.next(r);else{const y=$localize`Submit failed.`;this.toastService.error({title:y}),l.error(y)}},1e3),l.asObservable()},this.tryRemove=r=>{const d=new C.x;return setTimeout(()=>{if(this.allowRemoval)d.next(r);else{const l=$localize`Widget removal failed.`;this.toastService.error({title:l}),d.error(l)}},200),d.asObservable()},this.toastService.setConfig({timeOut:2e3})}}return o.\u0275fac=function(t){return new(t||o)(i.LFG(n.klp))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac}),o})();var M=s(15439),p=s.n(M);const T={widget1:{cols:6,rows:6,y:0,x:0},"widget1-interval":{cols:6,rows:6,y:0,x:6},widget2:{cols:6,rows:6,y:6,x:0},"widget2-interval":{cols:6,rows:6,y:6,x:6},widget3:{cols:6,rows:6,y:12,x:0},"widget3-interval":{cols:6,rows:6,y:12,x:6},widget4:{cols:6,rows:6,y:18,x:0},"widget4-interval":{cols:6,rows:6,y:18,x:6},widget5:{cols:6,rows:6,y:24,x:0},"widget5-interval":{cols:6,rows:6,y:24,x:6}},x=[{id:"widget1",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:a.wi.providerId},[e.Muk.InteractionHandler]:{providerId:e.DJm,properties:{url:"${data.link}"}}}},header:{properties:{title:"Line chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{interaction:"series",legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.CKZ.Line}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget1-interval",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:a.wi.providerId},[e.Muk.InteractionHandler]:{providerId:e.DJm,properties:{url:"${data.link}"}}}},header:{properties:{title:"Line chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.CKZ.Line,scales:{x:{type:e.D9N.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget2",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:a.wi.providerId}}},header:{properties:{title:"Area chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.CKZ.StackedArea}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget2-interval",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:a.wi.providerId}}},header:{properties:{title:"Area chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.CKZ.StackedArea,scales:{x:{type:e.D9N.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget3",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:a.wi.providerId}}},header:{properties:{title:"Stacked percentage area",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.CKZ.StackedPercentageArea}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget3-interval",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:a.wi.providerId}}},header:{properties:{title:"Stacked percentage area",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.CKZ.StackedPercentageArea,scales:{x:{type:e.D9N.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget4",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:a.wi.providerId}}},header:{properties:{title:"Bar chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.CKZ.StackedBar,scales:{}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget4-interval",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:a.wi.providerId}}},header:{properties:{title:"Bar chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.CKZ.StackedBar,scales:{x:{type:e.D9N.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget5",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:a.oC.providerId}}},header:{properties:{title:"Status chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.CKZ.StatusBar}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget5-interval",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:a.Yj.providerId}}},header:{properties:{title:"Status chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.CKZ.StatusBar,scales:{x:{type:e.D9N.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}}];var L=s(18177),z=s(84710);const k=[{path:"",component:(()=>{class o{constructor(t,r,d){this.submitHandler=t,this.providerRegistry=r,this.widgetTypesService=d,this.gridsterConfig={},this.editMode=!1,this.providerRegistry.setProviders({[m.i.providerId]:{provide:e.Fk3,useClass:m.i,deps:[]},[m.L2.providerId]:{provide:e.Fk3,useClass:m.L2,deps:[]},[u.Q.providerId]:{provide:e.Fk3,useClass:u.Q,deps:[]},[u.s.providerId]:{provide:e.Fk3,useClass:u.s,deps:[]},[v.g.providerId]:{provide:e.Fk3,useClass:v.g,deps:[n.mQy]},[g.W.providerId]:{provide:e.Fk3,useClass:g.W,deps:[n.mQy]},[f.t.providerId]:{provide:e.Fk3,useClass:f.t,deps:[n.mQy]},[h.n.providerId]:{provide:e.Fk3,useClass:h.n,deps:[n.oDG]},[a.wi.providerId]:{provide:e.Fk3,useClass:a.wi,deps:[]},[a.u2.providerId]:{provide:e.Fk3,useClass:a.u2,deps:[]},[a.oC.providerId]:{provide:e.Fk3,useClass:a.oC,deps:[]},[a.Yj.providerId]:{provide:e.Fk3,useClass:a.Yj,deps:[]}})}ngOnInit(){const t=x.map(d=>this.widgetTypesService.mergeWithWidgetType(d)),r=D()(t,d=>d.id);this.dashboard={positions:T,widgets:r}}}return o.\u0275fac=function(t){return new(t||o)(i.Y36(b),i.Y36(e.CNH),i.Y36(e.xTe))},o.\u0275cmp=i.Xpm({type:o,selectors:[["acme-dashboard"]],viewQuery:function(t,r){if(1&t&&i.Gf(e.MXM,7),2&t){let d;i.iGM(d=i.CRH())&&(r.dashboardComponent=d.first)}},features:[i._Bn([b])],decls:5,vars:5,consts:function(){let c;return c=$localize`:␟5cab2718f1d3c09ccb1fca4886710430f59bf7c0␟81810662047948365: Edit mode `,[[1,"w-100",2,"height","800px"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3",3,"value","valueChange"],c]},template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"nui-dashboard",1),i.NdJ("dashboardChange",function(l){return r.dashboard=l})("gridsterConfigChange",function(l){return r.gridsterConfig=l}),i.qZA()(),i.TgZ(2,"div",2)(3,"nui-switch",3),i.NdJ("valueChange",function(l){return r.editMode=l}),i.SDv(4,4),i.qZA()()),2&t&&(i.xp6(1),i.Q6J("nuiWidgetEditor",r.submitHandler)("dashboard",r.dashboard)("gridsterConfig",r.gridsterConfig)("editMode",r.editMode),i.xp6(2),i.Q6J("value",r.editMode))},dependencies:[L.M,z.t,n.qUD],encapsulation:2}),o})(),data:{srlc:{hideIndicator:!0}}}];let E=(()=>{class o{constructor(t,r){this.widgetTypesService=t,this.componentRegistry=r,this.setupDataSourceProviders(),this.setupCustomProportionalWidgetDSConfig()}setupCustomProportionalWidgetDSConfig(){var t;const r=this.widgetTypesService.getWidgetType("proportional",1);null===(t=r.widget.structure[e.XMI].providers)||void 0===t||delete t.refresher,this.widgetTypesService.setNode(r,"configurator",e.ACc.DataSourceConfigComponentType,S.b.lateLoadKey),this.componentRegistry.registerByLateLoadKey(S.b)}setupDataSourceProviders(){this.setDataSourceProviders("table",[v.g.providerId,g.W.providerId,f.t.providerId,h.n.providerId]),this.setDataSourceProviders("kpi",[m.i.providerId,m.L2.providerId]),this.setDataSourceProviders("proportional",[u.Q.providerId,u.s.providerId]),this.setDataSourceProviders("timeseries",[a.wi.providerId,a.u2.providerId,a.oC.providerId,a.Yj.providerId])}setDataSourceProviders(t,r){const d=this.widgetTypesService.getWidgetType(t,1);this.widgetTypesService.setNode(d,"configurator",e.ACc.DataSourceProviders,r)}}return o.\u0275fac=function(t){return new(t||o)(i.LFG(e.xTe),i.LFG(e.hiK))},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({providers:[e.CNH],imports:[w.ez,e.Pi,n.Gsl,n.Az_,n.C6o,n.sF0,n.ZuS,n.qAs,n.cJ5,n.Ts3,P.Bz.forChild(k)]}),o})()}}]);