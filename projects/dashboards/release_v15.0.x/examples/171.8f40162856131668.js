"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[171],{27790:(B,I,s)=>{s.d(I,{b:()=>i});var l=s(94650),T=s(90433),P=s(4707),M=s(77579),C=s(95698),f=s(16084),h=s(72536),E=s(36895),g=s(19837),S=s(57878),m=s(16193),v=s(15838);function d(o,a){if(1&o&&(l.TgZ(0,"nui-select-v2-option",14),l._uU(1),l.qZA()),2&o){const e=a.$implicit;l.Q6J("value",e),l.xp6(1),l.hij(" ",e," ")}}let i=(()=>{class o{constructor(e,t,n,r,u,c,_){this.changeDetector=e,this.formBuilder=t,this.configuratorHeading=n,this.providerRegistryService=r,this.eventBus=u,this.injector=c,this.logger=_,this.dataSourceProviders=[],this.formReady=new l.vpe,this.dsOutput=new P.t(1),this.dataFieldIds=new M.x,this.destroy$=new M.x}ngOnInit(){this.form=this.formBuilder.group({providerId:[this.providerId||"",[T.kI.required]],properties:this.formBuilder.group({isEuropeOnly:!1})}),this.formReady.emit(this.form)}ngOnChanges(e){var t,n,r;e.providerId&&!e.providerId.isFirstChange()&&e.providerId.previousValue!==this.providerId&&(null===(t=this.form.get("providerId"))||void 0===t||t.setValue(this.providerId),this.invokeDataSource(this.providerId)),e.properties&&!e.properties.isFirstChange()&&(null===(n=e.properties.previousValue)||void 0===n?void 0:n.isEuropeOnly)!==this.properties.isEuropeOnly&&(null===(r=this.form.get("properties.isEuropeOnly"))||void 0===r||r.setValue(this.properties.isEuropeOnly))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onDataSourceChange(e){this.eventBus.next(f.ay7,{}),this.invokeDataSource(e)}invokeDataSource(e){if(!e)return;const t=this.providerRegistryService.getProvider(e);t?(this.dataSource=this.providerRegistryService.getProviderInstance(t,this.injector),this.eventBus.next(f.ggk,{payload:this.dataSource}),this.dataSource.outputsSubject.pipe((0,C.q)(1)).subscribe(n=>{this.eventBus.next(f.PFv,{payload:n}),this.dsOutput.next(n);const r=n?.result||n;r&&this.dataFieldIds.next(Object.keys(r))}),setTimeout(()=>{this.dataSource.applyFilters()})):this.logger.warn("No provider found for id:",e)}}return o.lateLoadKey="AcmeProportionalDSConfigComponent",o.\u0275fac=function(e){return new(e||o)(l.Y36(l.sBO),l.Y36(T.qu),l.Y36(f.p3D),l.Y36(f.CNH),l.Y36(f.nYw),l.Y36(l.zs3),l.Y36(h.mQy))},o.\u0275cmp=l.Xpm({type:o,selectors:[["acme-proportional-ds-config"]],inputs:{dataSourceProviders:"dataSourceProviders",properties:"properties",providerId:"providerId"},outputs:{formReady:"formReady"},features:[l.TTD],decls:19,vars:19,consts:function(){let a,e,t,n;return a=$localize`:␟7f3bce5049b2c517378a6624460b84d2da9ce332␟7245698475792706694:Select Data Source`,e=$localize`:␟18c18c5d61f92ef5c3caa37df00fc514fef3d90c␟4806513497858020797:Data Sources`,t=$localize`:␟8eb0e5b7a8ec1199d38c9e92ca26bd4b3aae7f2c␟8999046125839025839: This field is required `,n=$localize`:␟3318195914856889c5a2fbab445b0a53999bebd3␟9193916618150782014: Show Europe Only `,[[3,"formGroup","state"],["headerTitle","Data Source",3,"headerIcon","subtitle"],[1,"datasource-configuration__accordion-content"],[1,"mb-4"],["caption",a,3,"control"],["placeholder",e,"formControlName","providerId",3,"popupViewportMargin","valueSelected"],[3,"value",4,"ngFor","ngForOf"],["for","required"],t,["formGroupName","properties"],[3,"control"],["formControlName","isEuropeOnly",1,"nui-checkbox--justified"],[1,"datasource-configuration__checkbox-label"],n,[3,"value"]]},template:function(e,t){if(1&e&&(l.TgZ(0,"nui-widget-editor-accordion",0),l.ALo(1,"async"),l.ALo(2,"nuiWidgetEditorAccordionFormState"),l._UZ(3,"nui-widget-editor-accordion-header",1),l.ALo(4,"async"),l.ALo(5,"nuiFormHeaderIconPipe"),l.TgZ(6,"div",2)(7,"div",3)(8,"nui-form-field",4)(9,"nui-select-v2",5),l.NdJ("valueSelected",function(r){return t.onDataSourceChange(r)}),l.ALo(10,"async"),l.YNc(11,d,2,2,"nui-select-v2-option",6),l.qZA(),l.TgZ(12,"nui-validation-message",7),l.SDv(13,8),l.qZA()()(),l.TgZ(14,"div",9)(15,"nui-form-field",10)(16,"nui-checkbox",11)(17,"div",12),l.SDv(18,13),l.qZA()()()()()()),2&e){let n;l.Q6J("formGroup",t.form)("state",l.lcZ(1,8,l.lcZ(2,10,t.form))),l.xp6(3),l.Q6J("headerIcon",l.lcZ(4,12,l.xi3(5,14,t.form,"database")))("subtitle",null==(n=t.form.get("providerId"))?null:n.value),l.xp6(5),l.Q6J("control",t.form.get("providerId")),l.xp6(1),l.Q6J("popupViewportMargin",l.lcZ(10,17,t.configuratorHeading.height$)),l.xp6(2),l.Q6J("ngForOf",t.dataSourceProviders),l.xp6(4),l.Q6J("control",t.form.get("properties.isEuropeOnly"))}},dependencies:[E.sg,T.JJ,T.JL,T.sg,T.u,T.x0,g.J,S.z,h.bK4,h.hgI,h.j_n,h.rLF,h.CfE,E.Ov,m.F,v.d],styles:[".datasource-configuration__accordion-content[_ngcontent-%COMP%]{padding:15px 15px 15px 46px}.datasource-configuration__checkbox-label[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),o})()},47794:(B,I,s)=>{s.d(I,{Q:()=>m,s:()=>v});var l=s(77579),T=s(61135),P=s(28746),M=s(72536),f=(s(16084),s(44265)),h=s(94650),E=s(80529),g=function(d,i,o,a){return new(o||(o=Promise))(function(t,n){function r(_){try{c(a.next(_))}catch(p){n(p)}}function u(_){try{c(a.throw(_))}catch(p){n(p)}}function c(_){_.done?t(_.value):function e(t){return t instanceof o?t:new o(function(n){n(t)})}(_.value).then(r,u)}c((a=a.apply(d,i||[])).next())})};const S=["London","Paris","Brno","Kyiv","Lisbon"];let m=(()=>{class d extends M.LvN{constructor(o){super(),this.http=o,this.busy=new l.x,this.properties={isEuropeOnly:!1}}getFilteredData(){return g(this,void 0,void 0,function*(){if(this.busy.next(!0),d.mockError)return new Promise(o=>{this.http.get("http://www.mocky.io/v2/5ec6bfd93200007800d75100?mocky-delay=1000ms").pipe((0,P.x)(()=>{this.busy.next(!1)})).subscribe({error:a=>{o({result:null,error:{type:a.status}})}})});{const o=this.properties.isEuropeOnly?[S]:[];return new Promise(a=>{setTimeout(()=>{a({result:(0,f.tg)(...o)}),this.busy.next(!1)},1e3)})}})}ngOnDestroy(){this.outputsSubject.complete()}updateConfiguration(o){this.properties=o}}return d.providerId="AcmeProportionalDataSource",d.mockError=!1,d.\u0275fac=function(o){return new(o||d)(h.LFG(E.eN))},d.\u0275prov=h.Yz7({token:d,factory:d.\u0275fac}),d})(),v=(()=>{class d extends M.LvN{constructor(){super(...arguments),this.busy=new T.X(!1),this.properties={isEuropeOnly:!1}}getFilteredData(){return g(this,void 0,void 0,function*(){this.busy.next(!1);const o=this.properties.isEuropeOnly?[S]:[];return new Promise(a=>{setTimeout(()=>{a({result:(0,f.eD)(...o)}),this.busy.next(!1)},1e3)})})}ngOnDestroy(){this.outputsSubject.complete()}updateConfiguration(o){this.properties=o}}return d.providerId="AcmeProportionalDataSource2",d.\u0275fac=function(){let i;return function(a){return(i||(i=h.n5z(d)))(a||d)}}(),d.\u0275prov=h.Yz7({token:d,factory:d.\u0275fac}),d})()},68052:(B,I,s)=>{s.d(I,{g:()=>m});var l=s(64509),T=s.n(l),P=s(9120),M=s.n(P),C=s(61135),f=s(72536),h=s(78498),E=s(94650),g=s(80529),S=function(v,d,i,o){return new(i||(i=Promise))(function(e,t){function n(c){try{u(o.next(c))}catch(_){t(_)}}function r(c){try{u(o.throw(c))}catch(_){t(_)}}function u(c){c.done?e(c.value):function a(e){return e instanceof i?e:new i(function(t){t(e)})}(c.value).then(n,r)}u((o=o.apply(v,d||[])).next())})};let m=(()=>{class v extends f.LvN{constructor(i,o){super(),this.logger=i,this.http=o,this.page=1,this.busy=new C.X(!1),this.seed="sw",this.cache=Array.from({length:0}),this.dataFields=[{id:"no",label:$localize`No`,dataType:"number"},{id:"nameTitle",label:$localize`Title`,dataType:"string"},{id:"nameFirst",label:$localize`First`,dataType:"string"},{id:"nameLast",label:$localize`Last`,dataType:"string"},{id:"gender",label:$localize`Gender`,dataType:"string",sortable:!1},{id:"country",label:$localize`Country`,dataType:"string",sortable:!1},{id:"city",label:$localize`City`,dataType:"string",sortable:!1},{id:"postcode",label:$localize`Postcode`,dataType:"number",sortable:!1},{id:"email",label:$localize`E-Mail`,dataType:"string",sortable:!1},{id:"cell",label:$localize`Cell`,dataType:"string"}]}getFilteredData(i){var o,a,e,t,n,r;return S(this,void 0,void 0,function*(){if(null!==(o=i.sorter)&&void 0!==o&&o.value&&!T()(this.lastSortValue,i.sorter.value)&&0===(null===(a=i.virtualScroll)||void 0===a?void 0:a.value.start)&&this.lastVirtualScroll)return this.lastSortValue=null===(e=i.sorter)||void 0===e?void 0:e.value,this.lastVirtualScroll=null===(t=i.virtualScroll)||void 0===t?void 0:t.value,{result:{repeat:{itemsSource:this.sortData(this.cache,i)},paginator:{total:200},dataFields:this.dataFields}};this.busy.next(!0);const u=i.virtualScroll&&i.virtualScroll.value,c=u?null===(n=i.virtualScroll)||void 0===n?void 0:n.value.start:0,_=u?null===(r=i.virtualScroll)||void 0===r?void 0:r.value.end:0;return 0===c&&(this.cache=[]),new Promise(p=>{v.mockError?(this.busy.next(!1),p({result:null,error:{type:"unknownError"}})):setTimeout(()=>{this.getData(c,_).then(D=>{var y,R;D&&(this.cache=this.cache.concat(D.users),this.dataSubject.next(this.cache),p({result:{repeat:{itemsSource:this.sortData(this.cache,i)},paginator:{total:200},dataFields:this.dataFields}}),this.lastSortValue=null===(y=i.sorter)||void 0===y?void 0:y.value,this.lastVirtualScroll=null===(R=i.virtualScroll)||void 0===R?void 0:R.value,this.busy.next(!1))})},300)})})}getData(i=0,o=20){return S(this,void 0,void 0,function*(){let a=null;try{return a=yield(yield fetch(`${h.TZ}${h.fL}/?page=${o/(o-i)||0}&results=${o-i}&seed=${this.seed}`)).json(),{users:a?.results.map((e,t)=>({no:this.cache.length+t+1,nameTitle:e.name.title,nameFirst:e.name.first,nameLast:e.name.last,gender:e.gender,country:e.location.country,city:e.location.city,postcode:e.location.postcode,email:e.email,cell:e.cell})),total:a?.results.length,start:i}}catch{this.logger.error(h.rV)}})}sortData(i,o){var a,e,t,n;return M()(i,null===(e=null===(a=o.sorter)||void 0===a?void 0:a.value)||void 0===e?void 0:e.sortBy,null===(n=null===(t=o.sorter)||void 0===t?void 0:t.value)||void 0===n?void 0:n.direction)}}return v.providerId="AcmeTableDataSource",v.mockError=!1,v.\u0275fac=function(i){return new(i||v)(E.LFG(f.mQy),E.LFG(g.eN))},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})()},51454:(B,I,s)=>{s.d(I,{W:()=>S});var l=s(64509),T=s.n(l),P=s(9120),M=s.n(P),C=s(61135),f=s(72536),h=s(78498),E=s(94650),g=function(m,v,d,i){return new(d||(d=Promise))(function(a,e){function t(u){try{r(i.next(u))}catch(c){e(c)}}function n(u){try{r(i.throw(u))}catch(c){e(c)}}function r(u){u.done?a(u.value):function o(a){return a instanceof d?a:new d(function(e){e(a)})}(u.value).then(t,n)}r((i=i.apply(m,v||[])).next())})};let S=(()=>{class m extends f.LvN{constructor(d){super(),this.logger=d,this.seed="sw2",this.cache=Array.from({length:0}),this.page=1,this.busy=new C.X(!1),this.dataFields=[{id:"no",label:$localize`No`,dataType:"number"},{id:"nameFirst",label:$localize`First`,dataType:"string"},{id:"nameLast",label:$localize`Last`,dataType:"string"},{id:"country",label:$localize`Country`,dataType:"string"},{id:"city",label:$localize`City`,dataType:"string"}]}getFilteredData(d){var i,o,a,e,t,n;return g(this,void 0,void 0,function*(){if(null!==(i=d.sorter)&&void 0!==i&&i.value&&!T()(this.lastSortValue,d.sorter.value)&&0===(null===(o=d.virtualScroll)||void 0===o?void 0:o.value.start)&&this.lastVirtualScroll)return this.lastSortValue=null===(a=d.sorter)||void 0===a?void 0:a.value,this.lastVirtualScroll=null===(e=d.virtualScroll)||void 0===e?void 0:e.value,{repeat:{itemsSource:this.sortData(this.cache,d)},paginator:{total:200},dataFields:this.dataFields};this.busy.next(!0);const r=d.virtualScroll&&d.virtualScroll.value,u=r?null===(t=d.virtualScroll)||void 0===t?void 0:t.value.start:0,c=r?null===(n=d.virtualScroll)||void 0===n?void 0:n.value.end:0;return 0===u&&(this.cache=[]),new Promise(_=>{setTimeout(()=>{this.getData(u,c).then(p=>{var D,y;p?.result?(this.cache=this.cache.concat(p.result.users),this.dataSubject.next(this.cache),_({repeat:{itemsSource:this.sortData(this.cache,d)},paginator:{total:200},dataFields:this.dataFields}),this.lastSortValue=null===(D=d.sorter)||void 0===D?void 0:D.value,this.lastVirtualScroll=null===(y=d.virtualScroll)||void 0===y?void 0:y.value,this.busy.next(!1),this.outputsSubject.next(p)):this.outputsSubject.next(p)})},300)})})}getData(d=0,i=20){return g(this,void 0,void 0,function*(){let o=null;try{return o=yield(yield fetch(`${h.xb}${h.TZ}${h.fL}/?page=${i/(i-d)||0}&results=${i-d}&seed=${this.seed}`)).json(),{result:{users:o?.results.map((a,e)=>({no:this.cache.length+e+1,nameFirst:a.name.first,nameLast:a.name.last,country:a.location.country,city:a.location.city})),total:o?.results.length,start:d}}}catch{return this.busy.next(!1),this.logger.error(h.rV),{result:null,error:{type:h.rV,message:h.rV}}}})}sortData(d,i){var o,a,e,t;return M()(d,null===(a=null===(o=i.sorter)||void 0===o?void 0:o.value)||void 0===a?void 0:a.sortBy,null===(t=null===(e=i.sorter)||void 0===e?void 0:e.value)||void 0===t?void 0:t.direction)}}return m.providerId="AcmeTableDataSource2",m.\u0275fac=function(d){return new(d||m)(E.LFG(f.mQy))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})()},37990:(B,I,s)=>{s.d(I,{t:()=>m});var l=s(64509),T=s.n(l),P=s(9120),M=s.n(P),C=s(61135),f=s(72536),h=s(16084),E=s(78498),g=s(94650),S=function(v,d,i,o){return new(i||(i=Promise))(function(e,t){function n(c){try{u(o.next(c))}catch(_){t(_)}}function r(c){try{u(o.throw(c))}catch(_){t(_)}}function u(c){c.done?e(c.value):function a(e){return e instanceof i?e:new i(function(t){t(e)})}(c.value).then(n,r)}u((o=o.apply(v,d||[])).next())})};let m=(()=>{class v extends f.LvN{constructor(i){super(),this.logger=i,this.cache=Array.from({length:0}),this.totalItems=325,this.page=1,this.busy=new C.X(!1),this.features=new f.AM5({[h.niB.DisableTableColumnGeneration]:{enabled:!0}}),this.dataFields=[{id:"id",label:"No",dataType:"number"},{id:"name",label:"Name",dataType:"string"},{id:"tagline",label:"Tagline",dataType:"string"},{id:"first_brewed",label:"First Brewed",dataType:"string"},{id:"description",label:"Description",dataType:"string"},{id:"brewers_tips",label:"Brewer's Tips",dataType:"string"}]}getFilteredData(i){var o,a,e,t,n,r,u,c,_,p,D,y,R,b;return S(this,void 0,void 0,function*(){const x=null!==(e=null===(a=null===(o=i.virtualScroll)||void 0===o?void 0:o.value)||void 0===a?void 0:a.start)&&void 0!==e?e:0,W=null!==(r=null===(n=null===(t=i.virtualScroll)||void 0===t?void 0:t.value)||void 0===n?void 0:n.end)&&void 0!==r?r:0,U=W-x;if(0===x&&(this.cache=[]),null!==(u=i.sorter)&&void 0!==u&&u.value&&!T()(this.lastSortValue,i.sorter.value)&&0===(null===(c=i.virtualScroll)||void 0===c?void 0:c.value.start)&&this.lastVirtualScroll){const $=Math.ceil(U?this.totalItems/U:1),F=Math.max(U<80?U:80,1);let N,O=null;if("desc"===(null===(p=null===(_=i.sorter)||void 0===_?void 0:_.value)||void 0===p?void 0:p.direction)){this.cache=[];for(let L=0;L<this.page;++L)O=yield(yield fetch(`${E.Wg}/?page=${$-L||1}&per_page=${F}`)).json(),O&&O.length<F&&this.page++,N={brewInfo:O?.map(A=>({id:A.id,name:A.name,tagline:A.tagline,first_brewed:A.first_brewed,description:A.description,brewers_tips:A.brewers_tips})),total:O?.length},this.cache=$-L!=0?this.cache.concat(N.brewInfo):this.cache}if("asc"===(null===(y=null===(D=i.sorter)||void 0===D?void 0:D.value)||void 0===y?void 0:y.direction)){this.cache=[];for(let L=0;L<this.page;L++)O=yield(yield fetch(`${E.Wg}/?page=${L+1}&per_page=${F}`)).json(),N={brewInfo:O?.map(A=>({id:A.id,name:A.name,tagline:A.tagline,first_brewed:A.first_brewed,description:A.description,brewers_tips:A.brewers_tips})),total:O?.length},this.cache=this.cache.concat(N.brewInfo)}return this.lastSortValue=null===(R=i.sorter)||void 0===R?void 0:R.value,this.lastVirtualScroll=null===(b=i.virtualScroll)||void 0===b?void 0:b.value,{result:{repeat:{itemsSource:this.sortData(this.cache,i)},paginator:{total:this.totalItems},dataFields:this.dataFields}}}return this.busy.next(!0),new Promise($=>{setTimeout(()=>{this.getData(x,W,i).then(F=>{var O,N;F&&(this.cache=this.cache.concat(F.brewInfo),this.dataSubject.next(this.cache),$({result:{repeat:{itemsSource:this.sortData(this.cache,i)},paginator:{total:this.totalItems},dataFields:this.dataFields}}),this.lastSortValue=null===(O=i.sorter)||void 0===O?void 0:O.value,this.lastVirtualScroll=null===(N=i.virtualScroll)||void 0===N?void 0:N.value,this.busy.next(!1))})},500)})})}getData(i=0,o=20,a){var e,t,n,r;return S(this,void 0,void 0,function*(){const u=o-i,c=Math.ceil(u?this.totalItems/u:1);let _=null;const p=Math.max(u<80?u:80,1);return"asc"===(null===(t=null===(e=a.sorter)||void 0===e?void 0:e.value)||void 0===t?void 0:t.direction)&&(_=yield(yield fetch(`${E.Wg}/?page=${this.page}&per_page=${p}`)).json()),"desc"===(null===(r=null===(n=a.sorter)||void 0===n?void 0:n.value)||void 0===r?void 0:r.direction)&&(_=yield(yield fetch(`${E.Wg}/?page=${c-this.page}&per_page=${p}`)).json()),a.sorter||(_=yield(yield fetch(`${E.Wg}/?page=${this.page}&per_page=${p}`)).json()),{brewInfo:_?.map((D,y)=>({id:D.id,name:D.name,tagline:D.tagline,first_brewed:D.first_brewed,description:D.description,brewers_tips:D.brewers_tips})),total:_?.length}})}sortData(i,o){var a,e,t,n;return M()(i,null===(e=null===(a=o.sorter)||void 0===a?void 0:a.value)||void 0===e?void 0:e.sortBy,null===(n=null===(t=o.sorter)||void 0===t?void 0:t.value)||void 0===n?void 0:n.direction)}}return v.providerId="AcmeTableDataSourceNoColumnGeneration",v.\u0275fac=function(i){return new(i||v)(g.LFG(f.mQy))},v.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac}),v})()},22767:(B,I,s)=>{s.d(I,{Yj:()=>i,oC:()=>d,u2:()=>v,wi:()=>m});var l=s(15439),T=s.n(l),P=s(61135),M=s(28746),C=s(72536),f=s(16084),h=s(44265),E=s(94650),g=s(80529),S=function(t,n,r,u){return new(r||(r=Promise))(function(_,p){function D(b){try{R(u.next(b))}catch(x){p(x)}}function y(b){try{R(u.throw(b))}catch(x){p(x)}}function R(b){b.done?_(b.value):function c(_){return _ instanceof r?_:new r(function(p){p(_)})}(b.value).then(D,y)}R((u=u.apply(t,n||[])).next())})};let m=(()=>{class t extends C.LvN{constructor(r){super(),this.http=r,this.busy=new P.X(!1)}getFilteredData(r){return S(this,void 0,void 0,function*(){return this.busy.next(!0),new Promise(t.mockError?u=>{this.http.get("http://www.mocky.io/v2/5ec6bfd93200007800d75100?mocky-delay=1000ms").pipe((0,M.x)(()=>{this.busy.next(!1)})).subscribe({error:c=>{u({result:null,error:{type:c.status}})}})}:u=>{setTimeout(()=>{this.busy.next(!1),u({result:{series:o(r,(0,h.v4)())}})},1e3)})})}}return t.providerId="AcmeTimeseriesDataSource",t.mockError=!1,t.\u0275fac=function(r){return new(r||t)(E.LFG(g.eN))},t.\u0275prov=E.Yz7({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends C.LvN{constructor(){super(),this.busy=new P.X(!1)}getFilteredData(r){return S(this,void 0,void 0,function*(){this.busy.next(!0);const u={series:o(r,(0,h.nR)())};return this.busy.next(!1),u})}}return t.providerId="AcmeTimeseriesDataSource2",t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=E.Yz7({token:t,factory:t.\u0275fac}),t})(),d=(()=>{class t extends C.LvN{constructor(){super(),this.busy=new P.X(!1)}getFilteredData(r){return S(this,void 0,void 0,function*(){this.busy.next(!0);const u={series:e(r,(0,h.Vl)())};return this.busy.next(!1),u})}}return t.providerId="AcmeTimeseriesStatusDataSource",t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=E.Yz7({token:t,factory:t.\u0275fac}),t})(),i=(()=>{class t extends C.LvN{constructor(){super(),this.busy=new P.X(!1)}getFilteredData(r){return S(this,void 0,void 0,function*(){this.busy.next(!0);const u={series:o(r,(0,h.h_)())};return this.busy.next(!1),u})}}return t.providerId="AcmeTimeseriesStatusIntervalDataSource",t})();function o(t,n){const r=t.timeframe;let u=n;return r&&(u=u.map(c=>({id:c.id,name:c.name,description:c.description,link:c.link,secondaryLink:c.secondaryLink,data:c.data.filter(_=>function a(t,n,r){const u=T()(t);return u.isBetween(n,r)||u.isSame(n)||u.isSame(r)}(_.x,r.value.startDatetime,r.value.endDatetime))}))),u}function e(t,n){let r=o(t,n);return t.timeframe&&(r=(0,f.GE5)(t.timeframe.value,r,n)),r}}}]);