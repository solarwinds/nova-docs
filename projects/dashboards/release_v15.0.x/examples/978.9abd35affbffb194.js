"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[978],{9978:(F,g,d)=>{d.r(g),d.d(g,{OverviewModule:()=>k});var C=d(75883),l=d(72536),e=d(5357),y=d(91580),p=d(98462),n=d(48791),c=d(10325),u=d(40844),w=d(12498),S=d.n(w),h=d(77579),i=d(94650);let m=(()=>{class s{constructor(t){this.toastService=t,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=(r,o)=>{const a=new h.x;return setTimeout(()=>{if(this.allowSubmit)a.next(r);else{const b=$localize`Submit failed.`;this.toastService.error({title:b}),a.error(b)}},1e3),a.asObservable()},this.tryRemove=r=>{const o=new h.x;return setTimeout(()=>{if(this.allowRemoval)o.next(r);else{const a=$localize`Widget removal failed.`;this.toastService.error({title:a}),o.error(a)}},200),o.asObservable()},this.toastService.setConfig({timeOut:2e3})}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(l.klp))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})();var f=d(77459);const I={widget1:{cols:6,rows:6,y:0,x:0},widget2:{cols:6,rows:6,y:0,x:6},widget3:{cols:7,rows:6,y:6,x:0},widget4:{cols:5,rows:6,y:6,x:7}},D=[{id:"widget1",type:"kpi",pizzagna:{[e.xW5.Configuration]:{header:{properties:{title:"KPI Widget!",subtitle:"A bunch of number boxes"}},tiles:{properties:{nodes:["kpi1","kpi2"]}},kpi1:{id:"kpi1",componentType:e.ufE.lateLoadKey,providers:{[e.Muk.DataSource]:{providerId:p.Of.providerId},[e.Muk.Adapter]:{providerId:e.u1$,properties:{componentId:"kpi1",propertyPath:"widgetData",thresholds:{showThresholds:!0,warningThresholdValue:5,criticalThresholdValue:8}}}},properties:{elementClass:"flex-grow-1",widgetData:{id:"totalStorage",value:0,label:"Total storage"}}},kpi2:{id:"kpi2",componentType:e.ufE.lateLoadKey,providers:{[e.Muk.DataSource]:{providerId:p.v8.providerId},[e.Muk.Adapter]:{providerId:e.u1$,properties:{componentId:"kpi2",propertyPath:"widgetData",thresholds:{warningThresholdValue:120,criticalThresholdValue:150}}}},properties:{elementClass:"flex-grow-1",widgetData:{id:"downloadSpeed",value:0,label:"Download speed"}}}}}},{id:"widget2",type:"proportional",pizzagna:{[e.xW5.Configuration]:{header:{properties:{title:"Proportional Widget!",subtitle:"Proportional widget with legend formatters"}},chart:{providers:{[e.Muk.DataSource]:{providerId:n.DU.providerId}},properties:{configuration:{chartOptions:{type:e.EMX.PieChart,legendPlacement:e.woB.Right,legendFormatter:{componentType:e.s9y.lateLoadKey}}}}}}}},{id:"widget3",type:"timeseries",pizzagna:{[e.xW5.Configuration]:{[e.XMI]:{providers:{[e.Muk.DataSource]:{providerId:u.GS.providerId}}},header:{properties:{title:"Timeseries Widget!",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.Muk.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"}]}}},properties:{configuration:{legendPlacement:e.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)"}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,f.ad)().subtract(7,"day").format(),endDatetime:(0,f.ad)().format(),selectedPresetId:null}}}}}},{id:"widget4",type:"table",pizzagna:{[e.xW5.Configuration]:{header:{properties:{title:"Table Widget!",subtitle:"Basic table widget"}},table:{providers:{[e.Muk.DataSource]:{providerId:c.P.providerId}},properties:{configuration:{columns:[{id:"column1",label:"No",isActive:!0,formatter:{componentType:e.aDR.lateLoadKey,properties:{dataFieldIds:{value:"position"}}}},{id:"column2",label:"Name",isActive:!0,formatter:{componentType:e.aDR.lateLoadKey,properties:{dataFieldIds:{value:"name"}}}},{id:"column3",label:"Location",isActive:!0,formatter:{componentType:e.s9y.lateLoadKey,properties:{dataFieldIds:{value:"firstUrlLabel",link:"firstUrl"}}}}],sorterConfiguration:{descendantSorting:!0,sortBy:"column1"},hasVirtualScroll:!0}}}}}}];var T=d(5457),A=d(18177),M=d(84710);const P=[{path:"",component:(()=>{class s{constructor(t,r,o,a){this.providerRegistry=t,this.submitHandler=r,this.themeSwitcherService=o,this.widgetTypesService=a,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.dsError=!1,this.providerRegistry.setProviders({[p.Of.providerId]:{provide:e.Fk3,useClass:p.Of,deps:[]},[p.v8.providerId]:{provide:e.Fk3,useClass:p.v8,deps:[]},[n.U8.providerId]:{provide:e.Fk3,useClass:n.U8,deps:[]},[n.DU.providerId]:{provide:e.Fk3,useClass:n.DU,deps:[]},[n.An.providerId]:{provide:e.Fk3,useClass:n.An,deps:[]},[c.P.providerId]:{provide:e.Fk3,useClass:c.P,deps:[l.oDG,e.nYw]},[c.B.providerId]:{provide:e.Fk3,useClass:c.B,deps:[l.oDG,e.nYw]},[u.GS.providerId]:{provide:e.Fk3,useClass:u.GS,deps:[]},[u.mx.providerId]:{provide:e.Fk3,useClass:u.mx,deps:[]}})}ngOnInit(){const t=D.map(o=>Object.assign(Object.assign({},o),{pizzagna:Object.assign(Object.assign({},this.widgetTypesService.getWidgetType(o.type,o.version).widget),o.pizzagna)})),r=S()(t,o=>o.id);this.dashboard={positions:I,widgets:r}}onDsErrorChange(t){p.Of.mockError=t,u.GS.mockError=t,c.P.mockError=t,n.DU.mockError=t}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(e.CNH),i.Y36(m),i.Y36(l.ERq),i.Y36(e.xTe))},s.\u0275cmp=i.Xpm({type:s,selectors:[["acme-dashboard"]],features:[i._Bn([m])],decls:3,vars:6,consts:[[3,"editMode","dsError","editModeChange","dsErrorChange"],[1,"dashboard"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"]],template:function(t,r){1&t&&(i.TgZ(0,"dashboard-test-harness",0),i.NdJ("editModeChange",function(a){return r.editMode=a})("dsErrorChange",function(a){return r.onDsErrorChange(a)}),i.TgZ(1,"div",1)(2,"nui-dashboard",2),i.NdJ("dashboardChange",function(a){return r.dashboard=a})("gridsterConfigChange",function(a){return r.gridsterConfig=a}),i.qZA()()()),2&t&&(i.Q6J("editMode",r.editMode)("dsError",r.dsError),i.xp6(2),i.Q6J("nuiWidgetEditor",r.submitHandler)("dashboard",r.dashboard)("gridsterConfig",r.gridsterConfig)("editMode",r.editMode))},dependencies:[T.W,A.M,M.t],styles:[".dashboard[_ngcontent-%COMP%]{height:725px;width:1000px}"]}),s})(),data:{srlc:{hideIndicator:!0}}}];let k=(()=>{class s{constructor(t){var r;this.widgetTypesService=t,null===(r=this.widgetTypesService.getWidgetType("proportional",1).widget.structure[e.XMI].providers)||void 0===r||delete r.refresher,this.setDataSourceProviders("table",[c.P.providerId,c.B.providerId]),this.setDataSourceProviders("kpi",[p.Of.providerId,p.v8.providerId]),this.setDataSourceProviders("proportional",[n.U8.providerId,n.DU.providerId,n.An.providerId]),this.setDataSourceProviders("timeseries",[u.GS.providerId,u.mx.providerId])}setDataSourceProviders(t,r){const o=this.widgetTypesService.getWidgetType(t,1);this.widgetTypesService.setNode(o,"configurator",e.ACc.DataSourceProviders,r)}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(e.xTe))},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({providers:[e.CNH],imports:[y.o,e.Pi,l.Gsl,l.Az_,l.vvu,l.cJ5,l.Ts3,C.Bz.forChild(P)]}),s})()}}]);