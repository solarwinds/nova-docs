"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[717],{64717:(Pe,J,s)=>{s.r(J),s.d(J,{Prototype1Module:()=>Ce});var M=s(36895),y=s(80529),ie=s(75883),c=s(72536),o=s(41456),B=s(93877),_=s(4758),C=s(40837),oe=s(64509),re=s.n(oe),ne=s(9120),ae=s.n(ne),se=s(61135),w=s(7484),t=s(94650),Q=function(r,l,e,i){return new(e||(e=Promise))(function(n,d){function g(u){try{h(i.next(u))}catch(p){d(p)}}function T(u){try{h(i.throw(u))}catch(p){d(p)}}function h(u){u.done?n(u.value):function a(n){return n instanceof e?n:new e(function(d){d(n)})}(u.value).then(g,T)}h((i=i.apply(r,l||[])).next())})};let L=(()=>{class r extends c.LvN{constructor(e){super(),this.logger=e,this.cache=Array.from({length:0}),this.totalItems=325,this.page=1,this.busy=new se.X(!1),this.dataFields=[]}getFilteredData(e){var i,a,n,d,g,T,h,u,p,v,f,A,z,G;return Q(this,void 0,void 0,function*(){const Z=null!==(n=null===(a=null===(i=e.virtualScroll)||void 0===i?void 0:i.value)||void 0===a?void 0:a.start)&&void 0!==n?n:0,te=null!==(T=null===(g=null===(d=e.virtualScroll)||void 0===d?void 0:d.value)||void 0===g?void 0:g.end)&&void 0!==T?T:0,D=te-Z;if(0===Z&&(this.cache=[]),null!==(h=e.sorter)&&void 0!==h&&h.value&&!re()(this.lastSortValue,e.sorter.value)&&0===(null===(u=e.virtualScroll)||void 0===u?void 0:u.value.start)&&this.lastVirtualScroll){const $=Math.ceil(D?this.totalItems/D:1),b=Math.max(D<80?D:80,1);let O,m=null;if("desc"===(null===(v=null===(p=e.sorter)||void 0===p?void 0:p.value)||void 0===v?void 0:v.direction)){this.cache=[];for(let E=0;E<this.page;++E)m=yield(yield fetch(`${w.Wg}/?page=${$-E||1}&per_page=${b}`)).json(),m&&m.length<b&&this.page++,O={brewInfo:m?.map(S=>({id:S.id,name:S.name,tagline:S.tagline,first_brewed:S.first_brewed,description:S.description,brewers_tips:S.brewers_tips})),total:m?.length},this.cache=$-E!=0?this.cache.concat(O.brewInfo):this.cache}if("asc"===(null===(A=null===(f=e.sorter)||void 0===f?void 0:f.value)||void 0===A?void 0:A.direction)){this.cache=[];for(let E=0;E<this.page;E++)m=yield(yield fetch(`${w.Wg}/?page=${E+1}&per_page=${b}`)).json(),O={brewInfo:m?.map(S=>({id:S.id,name:S.name,tagline:S.tagline,first_brewed:S.first_brewed,description:S.description,brewers_tips:S.brewers_tips})),total:m?.length},this.cache=this.cache.concat(O.brewInfo)}return this.lastSortValue=null===(z=e.sorter)||void 0===z?void 0:z.value,this.lastVirtualScroll=null===(G=e.virtualScroll)||void 0===G?void 0:G.value,{result:{repeat:{itemsSource:this.sortData(this.cache,e)},paginator:{total:this.totalItems},dataFields:this.dataFields}}}return this.busy.next(!0),new Promise($=>{setTimeout(()=>{this.getData(Z,te,e).then(b=>{var m,O;b&&(this.cache=this.cache.concat(b.brewInfo),this.dataSubject.next(this.cache),$({result:{repeat:{itemsSource:this.sortData(this.cache,e)},paginator:{total:this.totalItems},dataFields:this.dataFields}}),this.lastSortValue=null===(m=e.sorter)||void 0===m?void 0:m.value,this.lastVirtualScroll=null===(O=e.virtualScroll)||void 0===O?void 0:O.value,this.busy.next(!1))})},500)})})}getData(e=0,i=20,a){var n,d,g,T;return Q(this,void 0,void 0,function*(){const h=i-e,u=Math.ceil(h?this.totalItems/h:1);let p=null;const v=Math.max(h<80?h:80,1);return"asc"===(null===(d=null===(n=a.sorter)||void 0===n?void 0:n.value)||void 0===d?void 0:d.direction)&&(p=yield(yield fetch(`${w.Wg}/?page=${this.page}&per_page=${v}`)).json()),"desc"===(null===(T=null===(g=a.sorter)||void 0===g?void 0:g.value)||void 0===T?void 0:T.direction)&&(p=yield(yield fetch(`${w.Wg}/?page=${u-this.page}&per_page=${v}`)).json()),a.sorter||(p=yield(yield fetch(`${w.Wg}/?page=${this.page}&per_page=${v}`)).json()),{brewInfo:p?.map((f,A)=>({id:f.id,name:f.name,tagline:f.tagline,first_brewed:f.first_brewed,description:f.description,brewers_tips:f.brewers_tips})),total:p?.length}})}sortData(e,i){var a,n,d,g;return ae()(e,null===(n=null===(a=i.sorter)||void 0===a?void 0:a.value)||void 0===n?void 0:n.sortBy,null===(g=null===(d=i.sorter)||void 0===d?void 0:d.value)||void 0===g?void 0:g.direction)}}return r.providerId="AcmeTableDataSourceNoDataFields",r.\u0275fac=function(e){return new(e||r)(t.LFG(c.mQy))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();var R=s(5596),Y=s(33618),F=s(85631),W=s(6376),X=s(55350),P=s(55206),de=s(12498),le=s.n(de),k=s(77579),H=s(95698),K=s(82722),ce=s(90733),j=s.n(ce),ue=s(34793),U=s.n(ue),pe=s(15439),V=s.n(pe);let I=(()=>{class r extends c.LvN{getFilteredData(e){return function(r,l,e,i){return new(e||(e=Promise))(function(n,d){function g(u){try{h(i.next(u))}catch(p){d(p)}}function T(u){try{h(i.throw(u))}catch(p){d(p)}}function h(u){u.done?n(u.value):function a(n){return n instanceof e?n:new e(function(d){d(n)})}(u.value).then(g,T)}h((i=i.apply(r,l||[])).next())})}(this,void 0,void 0,function*(){return Promise.resolve({})})}}return r.\u0275fac=function(){let l;return function(i){return(l||(l=t.n5z(r)))(i||r)}}(),r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),x=(()=>{class r{constructor(e){this.globalFilters=e}getLink(e){if(!this.globalFilters)return e;const i=this.globalFilters.getFilters();return e+"/search?"+Object.keys(i).map(n=>encodeURIComponent(n)+"="+encodeURIComponent(i[n].data.value)).join("&")}}return r.providerId="HeaderLinkProviderService",r.\u0275fac=function(e){return new(e||r)(t.LFG(I,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();const me={widget1:{cols:5,rows:6,y:0,x:0},widget2:{cols:7,rows:6,y:0,x:5},widget3:{cols:6,rows:6,y:6,x:0},widget4:{cols:6,rows:6,y:6,x:6}},N=[{id:"widget1",type:"kpi",pizzagna:{[o.xW5.Configuration]:{header:{properties:{title:"KPI Widget!",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{interaction:{providerId:o.DJm,properties:{url:"${data.link}"}}},properties:{nodes:["kpi1","kpi2","kpi3"]}},kpi1:{id:"kpi1",providers:{[o.Muk.DataSource]:{providerId:_.i.providerId},[o.Muk.Adapter]:{providerId:o.u1$,properties:{componentId:"kpi1",propertyPath:"widgetData"}},[o.Muk.KpiColorPrioritizer]:{providerId:o.tSO,properties:{rules:[{comparisonType:">",value:2,color:"var(--nui-color-chart-four)"},{comparisonType:"==",value:1.5,color:"var(--nui-color-chart-seven)"},{comparisonType:"<",value:1,color:"var(--nui-color-chart-one)"}]}}},properties:{configuration:{formatters:{[o.Klf.Value]:{formatter:{componentType:o.PEA.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}},widgetData:{id:"totalStorage",value:0,label:"Total storage",units:"Bytes",icon:"state_ok",link:"http://www.google.com"}}},kpi2:{id:"kpi2",providers:{[o.Muk.DataSource]:{providerId:_.L2.providerId,properties:{numberFormat:"1.1-1"}}},properties:{configuration:{formatters:{[o.Klf.Value]:{formatter:{componentType:o.Cg1.lateLoadKey,properties:{dataFieldIds:{value:"icon"}}}}}},widgetData:{id:"downloadSpeed",value:0,label:"Download SUPER DUPER VERY LONG STRING Speed",icon:"state_ok",units:"MB/S"}}},kpi3:{id:"kpi3",providers:{[o.Muk.DataSource]:{providerId:_.sR.providerId}},properties:{configuration:{formatters:{[o.Klf.Value]:{formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}},widgetData:{id:"uploadSpeed",value:0,label:"Upload Speed",units:"MB/S"}}}}}},{id:"widget2",type:"proportional",pizzagna:{[o.xW5.Configuration]:{[o.XMI]:{providers:{[o.Muk.InteractionHandler]:{providerId:o.DJm,properties:{url:"${data.link}"}}}},header:{properties:{title:"Proportional Widget!",subtitle:"Proportional widget with legend formatters"}},chart:{providers:{[o.Muk.DataSource]:{providerId:C.s.providerId},[o.Muk.Adapter]:{properties:{[o.Muk.DataSource]:{properties:{isEuropeOnly:!1}}}}},properties:{configuration:{interactive:!0,chartDonutContentLabel:"Some label",chartDonutContentIcon:"printer",chartOptions:{type:o.EMX.VerticalBarChart,legendPlacement:o.woB.Right},chartColors:["gray","orange","black"]}}}}}},{id:"widget3",type:"timeseries",pizzagna:{[o.xW5.Configuration]:{[o.XMI]:{providers:{[o.Muk.DataSource]:{providerId:P.wi.providerId},[o.Muk.InteractionHandler]:{providerId:o.DJm}}},header:{providers:{dynamicLinkProvider:{providerId:x.providerId}},properties:{title:"Timeseries Widget!",subtitle:"Basic timeseries widget",url:"https://www.google.com"}},chart:{providers:{[o.Muk.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:o.woB.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",chartColors:["var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"]}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:V()().subtract(10,"days").format(),maxDate:V()().format()}}}}},{id:"widget4",type:"table",pizzagna:{[o.xW5.Configuration]:{[o.XMI]:{providers:{[o.Muk.InteractionHandler]:{providerId:o.DJm}}},header:{properties:{title:"Table Widget!",subtitle:"Basic table widget",collapsible:!0}},table:{providers:{[o.Muk.DataSource]:{providerId:R.g.providerId}},properties:{configuration:{interactive:!0,columns:[{id:"column1",label:"No",isActive:!0,formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"no"}}}},{id:"column2",label:"Title",isActive:!0,formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"nameTitle"}}}},{id:"column3",label:"First Name",isActive:!0,formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"nameFirst"}}}},{id:"column4",label:"Last Name",isActive:!0,formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"nameLast"}}}},{id:"column5",label:"E-Mail",isActive:!0,formatter:{componentType:o.aDR.lateLoadKey,properties:{dataFieldIds:{value:"email"}}}}],sorterConfiguration:{descendantSorting:!0,sortBy:"column4"},hasVirtualScroll:!0,searchConfiguration:{enabled:!0}}}}}}}];function he(r,l){if(1&r&&(t.TgZ(0,"div",3)(1,"div",4),t._uU(2),t.qZA()()),2&r){const e=l.item;t.xp6(2),t.hij(" ",e.title," ")}}let q=(()=>{class r{constructor(e){this.widgetTypesService=e,this.widgetSelected=new t.vpe,this.widgetItems=[]}ngOnInit(){const e=new M.rS;this.widgetItems=N.map(i=>({title:e.transform(i.type),widget:this.widgetTypesService.mergeWithWidgetType(i)})),N.forEach(i=>{this.addUnconfiguredWidgetWithConfigLayer(i)})}addUnconfiguredWidget(e){const i=(new M.rS).transform(e);this.widgetItems.push({title:`Unconfigured ${i}`,widget:{id:`unconfigured${i}`,type:e,metadata:{needsConfiguration:!0},pizzagna:j()(this.widgetTypesService.getWidgetType(e).widget)}}),U()(this.widgetItems[this.widgetItems.length-1].widget.pizzagna,`${o.xW5.Structure}.header.properties.title`,`Unconfigured ${i}`)}addUnconfiguredWidgetWithConfigLayer(e){const i=(new M.rS).transform(e.type);this.widgetItems.push({title:`Unconfigured ${i} With Config Layer`,widget:Object.assign(Object.assign({},j()(this.widgetTypesService.mergeWithWidgetType(e))),{id:`unconfiguredWithConfigLayer${i}`,metadata:{needsConfiguration:!0}})}),U()(this.widgetItems[this.widgetItems.length-1].widget.pizzagna,`${o.xW5.Configuration}.header.properties.title`,`Unconfigured ${i} With Config Layer`)}onSelect(e){this.widgetSelected.emit(e[0].widget),this.widgetSelection=e}}return r.lateLoadKey="AcmeCloneSelectionComponent",r.\u0275fac=function(e){return new(e||r)(t.Y36(o.xTe))},r.\u0275cmp=t.Xpm({type:r,selectors:[["acme-clone-selection"]],outputs:{widgetSelected:"widgetSelected"},decls:4,vars:3,consts:[[1,"nui-widget-cloner"],["selectionMode","singleWithRequiredSelection",3,"itemsSource","selection","repeatItemTemplateRef","selectionChange"],["widgetClonerItem",""],[1,"nui-widget-cloner__item","d-flex","pt-2","pb-2","align-items-center"],[1,"text-info","ml-3"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"nui-repeat",1),t.NdJ("selectionChange",function(n){return i.onSelect(n)}),t.qZA()(),t.YNc(2,he,3,1,"ng-template",null,2,t.W1O)),2&e){const a=t.MAs(3);t.xp6(1),t.Q6J("itemsSource",i.widgetItems)("selection",i.widgetSelection)("repeatItemTemplateRef",a)}},dependencies:[c.$N6],styles:[".nui-widget-cloner__item[_ngcontent-%COMP%]{height:60px}"]}),r})();function ve(r,l){if(1&r&&(t.TgZ(0,"div",3)(1,"div",4),t._uU(2),t.qZA()()),2&r){const e=l.item;t.xp6(2),t.hij(" ",e.title," ")}}let _e=(()=>{class r extends q{constructor(e){super(e)}ngOnInit(){const e=new M.rS;this.widgetItems=N.map(i=>({title:e.transform(i.type),widget:this.widgetTypesService.mergeWithWidgetType(i)}))}}return r.lateLoadKey="AcmeCloneSelectionComponent",r.\u0275fac=function(e){return new(e||r)(t.Y36(o.xTe))},r.\u0275cmp=t.Xpm({type:r,selectors:[["acme-clone-selection"]],features:[t.qOj],decls:4,vars:3,consts:[[1,"nui-widget-cloner"],["selectionMode","singleWithRequiredSelection",3,"itemsSource","selection","repeatItemTemplateRef","selectionChange"],["widgetClonerItem",""],[1,"nui-widget-cloner__item","d-flex","pt-2","pb-2","align-items-center"],[1,"text-info","ml-3"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"nui-repeat",1),t.NdJ("selectionChange",function(n){return i.onSelect(n)}),t.qZA()(),t.YNc(2,ve,3,1,"ng-template",null,2,t.W1O)),2&e){const a=t.MAs(3);t.xp6(1),t.Q6J("itemsSource",i.widgetItems)("selection",i.widgetSelection)("repeatItemTemplateRef",a)}},dependencies:[c.$N6],styles:[".nui-widget-cloner__item[_ngcontent-%COMP%]{height:60px}"]}),r})(),ee=(()=>{class r{constructor(e){this.toastService=e,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=(i,a)=>{const n=new k.x;return setTimeout(()=>{if(this.allowSubmit)n.next(i);else{const d=$localize`Submit failed.`;this.toastService.error({title:d}),n.error(d)}},1e3),n.asObservable()},this.tryRemove=i=>{const a=new k.x;return setTimeout(()=>{if(this.allowRemoval)a.next(i);else{const n=$localize`Widget removal failed.`;this.toastService.error({title:n}),a.error(n)}},200),a.asObservable()},this.toastService.setConfig({timeOut:2e3})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(c.klp))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();var Te=s(18177),Se=s(84710);const fe=[{path:"",component:(()=>{class r{constructor(e,i,a,n,d,g){this.providerRegistry=e,this.submitHandler=i,this.widgetTypesService=a,this.widgetClonerService=n,this.refreshSettings=d,this.globalFilters=g,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.systemRefreshInterval=60,this.searchQuery="solarwinds",this.destroy$=new k.x,this.globalFilters.registerComponent({q:{componentInstance:{getFilters:()=>({data:{type:"string",value:this.searchQuery}})}}}),this.providerRegistry.setProviders({[_.i.providerId]:{provide:o.Fk3,useClass:_.i,deps:[y.eN]},[_.L2.providerId]:{provide:o.Fk3,useClass:_.L2,deps:[y.eN]},[_.sR.providerId]:{provide:o.Fk3,useClass:_.sR,deps:[]},[C.Q.providerId]:{provide:o.Fk3,useClass:C.Q,deps:[y.eN]},[C.s.providerId]:{provide:o.Fk3,useClass:C.s,deps:[]},[R.g.providerId]:{provide:o.Fk3,useClass:R.g,deps:[c.mQy,y.eN]},[Y.W.providerId]:{provide:o.Fk3,useClass:Y.W,deps:[c.mQy]},[F.t.providerId]:{provide:o.Fk3,useClass:F.t,deps:[c.mQy]},[L.providerId]:{provide:o.Fk3,useClass:L,deps:[c.mQy]},[X.n.providerId]:{provide:o.Fk3,useClass:X.n,deps:[c.oDG]},[P.wi.providerId]:{provide:o.Fk3,useClass:P.wi,deps:[y.eN]},[P.u2.providerId]:{provide:o.Fk3,useClass:P.u2,deps:[]},[W.a.providerId]:{provide:o.Fk3,useClass:W.a,deps:[c.mQy,y.eN]},[x.providerId]:{provide:o.B5u,useClass:x,deps:[[new t.FiY,I]]}})}ngOnInit(){var e,i;null===(i=null===(e=this.widgetTypesService.getWidgetType("table").configurator)||void 0===e?void 0:e[o.xW5.Structure].presentation.properties)||void 0===i||i.nodes.push("refresher"),this.refreshSettings.refreshRateSeconds=this.systemRefreshInterval;const a=N.map(d=>this.widgetTypesService.mergeWithWidgetType(d)),n=le()(a,d=>d.id);this.dashboard={positions:me,widgets:n}}onDsErrorSwitch(e){C.Q.mockError=e,_.i.mockError=e,_.L2.mockError=e,R.g.mockError=e,P.wi.mockError=e}onShowButtonSwitch(e,i){for(const a of Object.keys(this.dashboard.widgets))this.dashboard=(0,c.zdu)(this.dashboard,`widgets.${a}.pizzagna.configuration.header.properties.${i}`,e)}ngAfterViewInit(){this.dashboardComponent.eventBus.subscribeUntil(o.MOJ,this.destroy$,e=>{this.widgetClonerService.open({widget:this.dashboard.widgets[e.widgetId],dashboardComponent:this.dashboardComponent,trySubmit:this.submitHandler.trySubmit,widgetSelectionComponentType:_e}).pipe((0,H.q)(1),(0,K.R)(this.destroy$)).subscribe()})}onCloneWidget(){this.widgetClonerService.open({dashboardComponent:this.dashboardComponent,trySubmit:this.submitHandler.trySubmit,widgetSelectionComponentType:q}).pipe((0,H.q)(1),(0,K.R)(this.destroy$)).subscribe()}onEditWithCloner(){this.dashboardComponent.eventBus.next(o.MOJ,{widgetId:N[0].id})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSystemRefreshIntervalClick(){this.refreshSettings.refreshRateSeconds=this.systemRefreshInterval}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(o.CNH),t.Y36(ee),t.Y36(o.xTe),t.Y36(o.$Ie),t.Y36(o.g4s),t.Y36(I))},r.\u0275cmp=t.Xpm({type:r,selectors:[["acme-dashboard"]],viewQuery:function(e,i){if(1&e&&t.Gf(o.MXM,7),2&e){let a;t.iGM(a=t.CRH())&&(i.dashboardComponent=a.first)}},features:[t._Bn([ee,I])],decls:28,vars:11,consts:function(){let l,e,i,a,n,d,g,T,h,u,p;return l=$localize`:␟489801ff09de9b4a6ca8b6e05a475fa1ca00d98e␟5813529530812520031: Create Widget Clone
`,e=$localize`:␟d8e9c9957a5d6ebe7749aab0e18dcb5d944b2ef9␟7916291516675251750: Simulate edit with cloner
`,i=$localize`:␟5cab2718f1d3c09ccb1fca4886710430f59bf7c0␟81810662047948365: Edit mode `,a=$localize`:␟db70aaa4da7a9f7c0fa3a218907f9fa354a19038␟5855643886473775120: Allow Submit `,n=$localize`:␟d289dfdc6c4e23b49a96db083f95f1087ed1400a␟3687117978364204872: Allow Removal `,d=$localize`:␟3299af3b186d7701f4c0626e41eba58af8382723␟4106211393112768148: Show Edit Button `,g=$localize`:␟30251ad3dcd7facd3a222d48fb2ba02f8503c52c␟8096484277280346189: Show Remove Button `,T=$localize`:␟c355f0feb3f72b3594e6e975456cd0a2dac1d929␟870224976565315483: Data Source Error `,h=$localize`:␟90504d9af68fb3aa81accb4bc3005526deb04093␟5488473345097746222:System refresh interval (seconds)`,u=$localize`:␟559db359e3dcc0820499a4e58208fb22273e0d55␟5928813357836950616: Update system refresh interval `,p=$localize`:␟b3cbfe131ba0c10de2f194b783e0ca697cdeaef9␟4452935965886173182:Search query for Timeseries widget`,[["type","button","nui-button","",1,"mb-3","ml-4",3,"click"],l,e,[1,"w-100",2,"height","725px"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3",3,"value","valueChange"],i,a,n,d,g,[1,"ml-3",3,"valueChange"],T,[1,"d-flex","flex-row"],[2,"width","300px"],["caption",h],[3,"value","valueChange"],["type","button","nui-button","",1,"ml-4",3,"click"],u,[1,"mt-4"],["caption",p],[3,"value","textChange"]]},template:function(e,i){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.onCloneWidget()}),t.SDv(1,1),t.qZA(),t.TgZ(2,"button",0),t.NdJ("click",function(){return i.onEditWithCloner()}),t.SDv(3,2),t.qZA(),t.TgZ(4,"div",3)(5,"nui-dashboard",4),t.NdJ("dashboardChange",function(n){return i.dashboard=n})("gridsterConfigChange",function(n){return i.gridsterConfig=n}),t.qZA()(),t.TgZ(6,"div",5)(7,"nui-switch",6),t.NdJ("valueChange",function(n){return i.editMode=n}),t.SDv(8,7),t.qZA(),t.TgZ(9,"nui-switch",6),t.NdJ("valueChange",function(n){return i.submitHandler.allowSubmit=n}),t.SDv(10,8),t.qZA(),t.TgZ(11,"nui-switch",6),t.NdJ("valueChange",function(n){return i.submitHandler.allowRemoval=n}),t.SDv(12,9),t.qZA(),t.TgZ(13,"nui-switch",6),t.NdJ("valueChange",function(n){return i.onShowButtonSwitch(n,"editable")}),t.SDv(14,10),t.qZA(),t.TgZ(15,"nui-switch",6),t.NdJ("valueChange",function(n){return i.onShowButtonSwitch(n,"removable")}),t.SDv(16,11),t.qZA(),t.TgZ(17,"nui-switch",12),t.NdJ("valueChange",function(n){return i.onDsErrorSwitch(n)}),t.SDv(18,13),t.qZA()(),t.TgZ(19,"div",14)(20,"div",15)(21,"nui-form-field",16)(22,"nui-textbox-number",17),t.NdJ("valueChange",function(n){return i.systemRefreshInterval=n}),t.qZA()()(),t.TgZ(23,"button",18),t.NdJ("click",function(){return i.onSystemRefreshIntervalClick()}),t.SDv(24,19),t.qZA()(),t.TgZ(25,"div",20)(26,"nui-form-field",21)(27,"nui-textbox",22),t.NdJ("textChange",function(n){return i.searchQuery=n}),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("nuiWidgetEditor",i.submitHandler)("dashboard",i.dashboard)("gridsterConfig",i.gridsterConfig)("editMode",i.editMode),t.xp6(2),t.Q6J("value",i.editMode),t.xp6(2),t.Q6J("value",i.submitHandler.allowSubmit),t.xp6(2),t.Q6J("value",i.submitHandler.allowRemoval),t.xp6(2),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!0),t.xp6(7),t.Q6J("value",i.systemRefreshInterval),t.xp6(5),t.Q6J("value",i.searchQuery))},dependencies:[Te.M,Se.t,c.r0F,c.qUD,c.hgI,c.XHW,c.I5I],styles:[".nui-theme-switcher-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:10px;background-color:var(--nui-color-bg-light,#fff)}"]}),r})(),data:{srlc:{hideIndicator:!0},showThemeSwitcher:!0}}];let Ce=(()=>{class r{constructor(e,i){this.widgetTypesService=e,this.componentRegistry=i,this.setupDataSourceProviders(),this.setupCustomProportionalWidgetDSConfig()}setupCustomProportionalWidgetDSConfig(){var e;const i=this.widgetTypesService.getWidgetType("proportional",1);null===(e=i.widget.structure[o.XMI].providers)||void 0===e||delete e.refresher,this.widgetTypesService.setNode(i,"configurator",o.ACc.DataSourceConfigComponentType,B.b.lateLoadKey),this.componentRegistry.registerByLateLoadKey(B.b)}setupDataSourceProviders(){this.setDataSourceProviders("table",[R.g.providerId,Y.W.providerId,F.t.providerId,X.n.providerId,W.a.providerId,L.providerId]);const e=this.widgetTypesService.getWidgetType("kpi",1);this.widgetTypesService.setNode(e,"configurator",o.ACc.DataSourceConfigComponentType,o.cY_.lateLoadKey),this.setDataSourceProviders("kpi",[{providerId:_.i.providerId,label:"Acme KPI Data Source 1"},{providerId:_.L2.providerId,label:"Acme KPI Data Source 2",properties:{numberFormat:"1.1-1"}},{providerId:_.sR.providerId,label:"Acme KPI Data Source 3"}]),this.setDataSourceProviders("proportional",[C.Q.providerId,C.s.providerId]),this.setDataSourceProviders("timeseries",[P.wi.providerId,P.u2.providerId])}setDataSourceProviders(e,i){const a=this.widgetTypesService.getWidgetType(e,1);this.widgetTypesService.setNode(a,"configurator",o.ACc.DataSourceProviders,i)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(o.xTe),t.LFG(o.hiK))},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[o.CNH],imports:[M.ez,y.JF,o.Pi,c.Gsl,c.Az_,c.vvu,c.cJ5,c.Ts3,c.sF0,c.ZuS,ie.Bz.forChild(fe),c.C6o,c.YMY]}),r})()}}]);