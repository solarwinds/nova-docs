"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[987],{5987:(W,u,i)=>{i.r(u),i.d(u,{OverviewModule:()=>R});var C=i(49432),p=i(85907),e=i(8599),b=i(6011),c=i(30321),n=i(21710),h=i(26260),g=i(61523),y=i(97861),I=i.n(y),v=i(52667),o=i(99019);let m=(()=>{class d{constructor(s){this.toastService=s,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=(r,t)=>{const a=new v.B;return setTimeout(()=>{if(this.allowSubmit)a.next(r);else{const l=$localize`Submit failed.`;this.toastService.error({title:l}),a.error(l)}},1e3),a.asObservable()},this.tryRemove=r=>{const t=new v.B;return setTimeout(()=>{if(this.allowRemoval)t.next(r);else{const a=$localize`Widget removal failed.`;this.toastService.error({title:a}),t.error(a)}},200),t.asObservable()},this.toastService.setConfig({timeOut:2e3})}static{this.\u0275fac=function(r){return new(r||d)(o.KVO(p.fwc))}}static{this.\u0275prov=o.jDH({token:d,factory:d.\u0275fac})}}return d})();var f=i(34176);const S={widget1:{cols:6,rows:6,y:0,x:0},widget2:{cols:6,rows:6,y:0,x:6},widget3:{cols:7,rows:6,y:6,x:0},widget4:{cols:5,rows:6,y:6,x:7}},w=[{id:"widget1",type:"kpi",pizzagna:{[e.K8R.Configuration]:{header:{properties:{title:"KPI Widget!",subtitle:"A bunch of number boxes"}},tiles:{properties:{nodes:["kpi1","kpi2"]}},kpi1:{id:"kpi1",componentType:e.kPo.lateLoadKey,providers:{[e.ShF.DataSource]:{providerId:c.Ml.providerId},[e.ShF.Adapter]:{providerId:e.YcW,properties:{componentId:"kpi1",propertyPath:"widgetData",thresholds:{showThresholds:!0,warningThresholdValue:5,criticalThresholdValue:8}}}},properties:{elementClass:"flex-grow-1",widgetData:{id:"totalStorage",value:0,label:"Total storage"}}},kpi2:{id:"kpi2",componentType:e.kPo.lateLoadKey,providers:{[e.ShF.DataSource]:{providerId:c.se.providerId},[e.ShF.Adapter]:{providerId:e.YcW,properties:{componentId:"kpi2",propertyPath:"widgetData",thresholds:{warningThresholdValue:120,criticalThresholdValue:150}}}},properties:{elementClass:"flex-grow-1",widgetData:{id:"downloadSpeed",value:0,label:"Download speed"}}}}}},{id:"widget2",type:"proportional",pizzagna:{[e.K8R.Configuration]:{header:{properties:{title:"Proportional Widget!",subtitle:"Proportional widget with legend formatters"}},chart:{providers:{[e.ShF.DataSource]:{providerId:n.n.providerId}},properties:{configuration:{chartOptions:{type:e.nEW.PieChart,legendPlacement:e.z4j.Right,legendFormatter:{componentType:e.awW.lateLoadKey}}}}}}}},{id:"widget3",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:g.gL.providerId}}},header:{properties:{title:"Timeseries Widget!",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-1",label:"Average CPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"},{id:"series-3",label:"Average CPU Load",selectedSeriesId:"series-3"}]}}},properties:{configuration:{legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)"}}},timeframeSelection:{properties:{timeframe:{startDatetime:(0,f.gu)().subtract(7,"day").format(),endDatetime:(0,f.gu)().format(),selectedPresetId:null}}}}}},{id:"widget4",type:"table",pizzagna:{[e.K8R.Configuration]:{header:{properties:{title:"Table Widget!",subtitle:"Basic table widget"}},table:{providers:{[e.ShF.DataSource]:{providerId:h.c.providerId}},properties:{configuration:{columns:[{id:"column1",label:"No",isActive:!0,formatter:{componentType:e.cpx.lateLoadKey,properties:{dataFieldIds:{value:"position"}}}},{id:"column2",label:"Name",isActive:!0,formatter:{componentType:e.cpx.lateLoadKey,properties:{dataFieldIds:{value:"name"}}}},{id:"column3",label:"Location",isActive:!0,formatter:{componentType:e.awW.lateLoadKey,properties:{dataFieldIds:{value:"firstUrlLabel",link:"firstUrl"}}}}],sorterConfiguration:{descendantSorting:!0,sortBy:"column1"},hasVirtualScroll:!0}}}}}}];var D=i(38723),T=i(17955),M=i(67432);const P=[{path:"",component:(()=>{class d{constructor(s,r,t,a){this.providerRegistry=s,this.submitHandler=r,this.themeSwitcherService=t,this.widgetTypesService=a,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.dsError=!1,this.providerRegistry.setProviders({[c.Ml.providerId]:{provide:e.R9t,useClass:c.Ml,deps:[]},[c.se.providerId]:{provide:e.R9t,useClass:c.se,deps:[]},[n.rM.providerId]:{provide:e.R9t,useClass:n.rM,deps:[]},[n.n.providerId]:{provide:e.R9t,useClass:n.n,deps:[]},[n.uO.providerId]:{provide:e.R9t,useClass:n.uO,deps:[]},[h.c.providerId]:{provide:e.R9t,useClass:h.c,deps:[p.ScJ,e.dAx]},[h.W.providerId]:{provide:e.R9t,useClass:h.W,deps:[p.ScJ,e.dAx]},[g.gL.providerId]:{provide:e.R9t,useClass:g.gL,deps:[]},[g.Me.providerId]:{provide:e.R9t,useClass:g.Me,deps:[]}})}ngOnInit(){const s=w.map(t=>({...t,pizzagna:{...this.widgetTypesService.getWidgetType(t.type,t.version).widget,...t.pizzagna}})),r=I()(s,t=>t.id);this.dashboard={positions:S,widgets:r}}onDsErrorChange(s){c.Ml.mockError=s,g.gL.mockError=s,h.c.mockError=s,n.n.mockError=s}static{this.\u0275fac=function(r){return new(r||d)(o.rXU(e.g_3),o.rXU(m),o.rXU(p.X7D),o.rXU(e.Dz_))}}static{this.\u0275cmp=o.VBU({type:d,selectors:[["acme-dashboard"]],features:[o.Jv_([m])],decls:3,vars:6,consts:[[3,"editMode","dsError","editModeChange","dsErrorChange"],[1,"dashboard"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"]],template:function(r,t){1&r&&(o.j41(0,"dashboard-test-harness",0),o.bIt("editModeChange",function(l){return t.editMode=l})("dsErrorChange",function(l){return t.onDsErrorChange(l)}),o.j41(1,"div",1)(2,"nui-dashboard",2),o.bIt("dashboardChange",function(l){return t.dashboard=l})("gridsterConfigChange",function(l){return t.gridsterConfig=l}),o.k0s()()()),2&r&&(o.Y8G("editMode",t.editMode)("dsError",t.dsError),o.R7$(2),o.Y8G("nuiWidgetEditor",t.submitHandler)("dashboard",t.dashboard)("gridsterConfig",t.gridsterConfig)("editMode",t.editMode))},dependencies:[D.g,T.S,M.Z],styles:[".dashboard[_ngcontent-%COMP%]{height:725px;width:1000px}"]})}}return d})(),data:{srlc:{hideIndicator:!0}}}];let R=(()=>{class d{constructor(s){this.widgetTypesService=s;const r=this.widgetTypesService.getWidgetType("proportional",1);delete r.widget.structure[e.ocI].providers?.refresher,this.setDataSourceProviders("table",[h.c.providerId,h.W.providerId]),this.setDataSourceProviders("kpi",[c.Ml.providerId,c.se.providerId]),this.setDataSourceProviders("proportional",[n.rM.providerId,n.n.providerId,n.uO.providerId]),this.setDataSourceProviders("timeseries",[g.gL.providerId,g.Me.providerId])}setDataSourceProviders(s,r){const t=this.widgetTypesService.getWidgetType(s,1);this.widgetTypesService.setNode(t,"configurator",e.Eov.DataSourceProviders,r)}static{this.\u0275fac=function(r){return new(r||d)(o.KVO(e.Dz_))}}static{this.\u0275mod=o.$C({type:d})}static{this.\u0275inj=o.G2t({providers:[e.g_3],imports:[b.W,e.Ua7,p.cec,p.dfW,p.a4p,p.dDW,p.s6u,C.iI.forChild(P)]})}}return d})()}}]);