"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[31],{52031:(le,Y,d)=>{d.r(Y),d.d(Y,{Prototype1Module:()=>de});var P=d(54739),_=d(48900),U=d(49432),l=d(85907),i=d(8599),L=d(74067),g=d(38435),v=d(30720),b=d(80216),K=d(86759),B=d.n(K),x=d(72270),V=d.n(x),Q=d(60142),C=d(23412),e=d(99019);let R=(()=>{class n extends l.n_V{static{this.providerId="AcmeTableDataSourceNoDataFields"}constructor(o){super(),this.logger=o,this.cache=Array.from({length:0}),this.totalItems=325,this.page=1,this.busy=new Q.t(!1),this.dataFields=[]}getFilteredData(o){var t=this;return(0,b.A)(function*(){const r=o.virtualScroll?.value?.start??0,a=o.virtualScroll?.value?.end??0,s=a-r;if(0===r&&(t.cache=[]),o.sorter?.value&&!B()(t.lastSortValue,o.sorter.value)&&0===o.virtualScroll?.value.start&&t.lastVirtualScroll){const T=Math.ceil(s?t.totalItems/s:1),p=Math.max(s<80?s:80,1);let h,u=null;if("desc"===o.sorter?.value?.direction){t.cache=[];for(let m=0;m<t.page;++m)u=yield(yield fetch(`${C.wt}/?page=${T-m||1}&per_page=${p}`)).json(),u&&u.length<p&&t.page++,h={brewInfo:u?.map(c=>({id:c.id,name:c.name,tagline:c.tagline,first_brewed:c.first_brewed,description:c.description,brewers_tips:c.brewers_tips})),total:u?.length},t.cache=T-m!=0?t.cache.concat(h.brewInfo):t.cache}if("asc"===o.sorter?.value?.direction){t.cache=[];for(let m=0;m<t.page;m++)u=yield(yield fetch(`${C.wt}/?page=${m+1}&per_page=${p}`)).json(),h={brewInfo:u?.map(c=>({id:c.id,name:c.name,tagline:c.tagline,first_brewed:c.first_brewed,description:c.description,brewers_tips:c.brewers_tips})),total:u?.length},t.cache=t.cache.concat(h.brewInfo)}return t.lastSortValue=o.sorter?.value,t.lastVirtualScroll=o.virtualScroll?.value,{result:{repeat:{itemsSource:t.sortData(t.cache,o)},paginator:{total:t.totalItems},dataFields:t.dataFields}}}return t.busy.next(!0),new Promise(T=>{setTimeout(()=>{t.getData(r,a,o).then(p=>{p&&(t.cache=t.cache.concat(p.brewInfo),t.dataSubject.next(t.cache),T({result:{repeat:{itemsSource:t.sortData(t.cache,o)},paginator:{total:t.totalItems},dataFields:t.dataFields}}),t.lastSortValue=o.sorter?.value,t.lastVirtualScroll=o.virtualScroll?.value,t.busy.next(!1))})},500)})})()}getData(o=0,t=20,r){var a=this;return(0,b.A)(function*(){const s=t-o,T=Math.ceil(s?a.totalItems/s:1);let p=null;const u=Math.max(s<80?s:80,1);return"asc"===r.sorter?.value?.direction&&(p=yield(yield fetch(`${C.wt}/?page=${a.page}&per_page=${u}`)).json()),"desc"===r.sorter?.value?.direction&&(p=yield(yield fetch(`${C.wt}/?page=${T-a.page}&per_page=${u}`)).json()),r.sorter||(p=yield(yield fetch(`${C.wt}/?page=${a.page}&per_page=${u}`)).json()),{brewInfo:p?.map((h,m)=>({id:h.id,name:h.name,tagline:h.tagline,first_brewed:h.first_brewed,description:h.description,brewers_tips:h.brewers_tips})),total:p?.length}})()}sortData(o,t){return V()(o,t.sorter?.value?.sortBy,t.sorter?.value?.direction)}static{this.\u0275fac=function(t){return new(t||n)(e.KVO(l.gPJ))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}}return n})();var O=d(54384),I=d(29242),w=d(85005),M=d(15536),N=d(25335),f=d(96878),H=d(97861),J=d.n(H),$=d(52667),F=d(31451),X=d(76211),Z=d(70716),W=d.n(Z),q=d(6447),j=d.n(q),ee=d(28508),G=d.n(ee);let y=(()=>{class n extends l.n_V{getFilteredData(o){return(0,b.A)(function*(){return Promise.resolve({})})()}static{this.\u0275fac=function(){let o;return function(r){return(o||(o=e.xGo(n)))(r||n)}}()}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}}return n})(),A=(()=>{class n{static{this.providerId="HeaderLinkProviderService"}constructor(o){this.globalFilters=o}getLink(o){if(!this.globalFilters)return o;const t=this.globalFilters.getFilters();return o+"/search?"+Object.keys(t).map(a=>encodeURIComponent(a)+"="+encodeURIComponent(t[a].data.value)).join("&")}static{this.\u0275fac=function(t){return new(t||n)(e.KVO(y,8))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}}return n})();const te={widget1:{cols:5,rows:6,y:0,x:0},widget2:{cols:7,rows:6,y:0,x:5},widget3:{cols:6,rows:6,y:6,x:0},widget4:{cols:6,rows:6,y:6,x:6}},E=[{id:"widget1",type:"kpi",pizzagna:{[i.K8R.Configuration]:{header:{properties:{title:"KPI Widget!",subtitle:"A bunch of number boxes",collapsible:!0}},tiles:{providers:{interaction:{providerId:i.j70,properties:{url:"${data.link}"}}},properties:{nodes:["kpi1","kpi2","kpi3"]}},kpi1:{id:"kpi1",providers:{[i.ShF.DataSource]:{providerId:g.oG.providerId},[i.ShF.Adapter]:{providerId:i.YcW,properties:{componentId:"kpi1",propertyPath:"widgetData"}},[i.ShF.KpiColorPrioritizer]:{providerId:i.cFb,properties:{rules:[{comparisonType:">",value:2,color:"var(--nui-color-chart-four)"},{comparisonType:"==",value:1.5,color:"var(--nui-color-chart-seven)"},{comparisonType:"<",value:1,color:"var(--nui-color-chart-one)"}]}}},properties:{configuration:{formatters:{[i.oyb.Value]:{formatter:{componentType:i.ftx.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}},widgetData:{id:"totalStorage",value:0,label:"Total storage",units:"Bytes",icon:"state_ok",link:"http://www.google.com"}}},kpi2:{id:"kpi2",providers:{[i.ShF.DataSource]:{providerId:g.Kw.providerId,properties:{numberFormat:"1.1-1"}}},properties:{configuration:{formatters:{[i.oyb.Value]:{formatter:{componentType:i.Tt2.lateLoadKey,properties:{dataFieldIds:{value:"icon"}}}}}},widgetData:{id:"downloadSpeed",value:0,label:"Download SUPER DUPER VERY LONG STRING Speed",icon:"state_ok",units:"MB/S"}}},kpi3:{id:"kpi3",providers:{[i.ShF.DataSource]:{providerId:g.DU.providerId}},properties:{configuration:{formatters:{[i.oyb.Value]:{formatter:{componentType:i.cpx.lateLoadKey,properties:{dataFieldIds:{value:"value"}}}}}},widgetData:{id:"uploadSpeed",value:0,label:"Upload Speed",units:"MB/S"}}}}}},{id:"widget2",type:"proportional",pizzagna:{[i.K8R.Configuration]:{[i.ocI]:{providers:{[i.ShF.InteractionHandler]:{providerId:i.j70,properties:{url:"${data.link}"}}}},header:{properties:{title:"Proportional Widget!",subtitle:"Proportional widget with legend formatters"}},chart:{providers:{[i.ShF.DataSource]:{providerId:v.j.providerId},[i.ShF.Adapter]:{properties:{[i.ShF.DataSource]:{properties:{isEuropeOnly:!1}}}}},properties:{configuration:{interactive:!0,chartDonutContentLabel:"Some label",chartDonutContentIcon:"printer",chartOptions:{type:i.nEW.VerticalBarChart,legendPlacement:i.z4j.Right},chartColors:["gray","orange","black"]}}}}}},{id:"widget3",type:"timeseries",pizzagna:{[i.K8R.Configuration]:{[i.ocI]:{providers:{[i.ShF.DataSource]:{providerId:f.eF.providerId},[i.ShF.InteractionHandler]:{providerId:i.j70}}},header:{providers:{dynamicLinkProvider:{providerId:A.providerId}},properties:{title:"Timeseries Widget!",subtitle:"Basic timeseries widget",url:"https://www.google.com"}},chart:{providers:{[i.ShF.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:i.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",chartColors:["var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"]}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},minDate:G()().subtract(10,"days").format(),maxDate:G()().format()}}}}},{id:"widget4",type:"table",pizzagna:{[i.K8R.Configuration]:{[i.ocI]:{providers:{[i.ShF.InteractionHandler]:{providerId:i.j70}}},header:{properties:{title:"Table Widget!",subtitle:"Basic table widget",collapsible:!0}},table:{providers:{[i.ShF.DataSource]:{providerId:O.M.providerId}},properties:{configuration:{interactive:!0,columns:[{id:"column1",label:"No",isActive:!0,formatter:{componentType:i.cpx.lateLoadKey,properties:{dataFieldIds:{value:"no"}}}},{id:"column2",label:"Title",isActive:!0,formatter:{componentType:i.cpx.lateLoadKey,properties:{dataFieldIds:{value:"nameTitle"}}}},{id:"column3",label:"First Name",isActive:!0,formatter:{componentType:i.cpx.lateLoadKey,properties:{dataFieldIds:{value:"nameFirst"}}}},{id:"column4",label:"Last Name",isActive:!0,formatter:{componentType:i.cpx.lateLoadKey,properties:{dataFieldIds:{value:"nameLast"}}}},{id:"column5",label:"E-Mail",isActive:!0,formatter:{componentType:i.cpx.lateLoadKey,properties:{dataFieldIds:{value:"email"}}}}],sorterConfiguration:{descendantSorting:!0,sortBy:"column4"},hasVirtualScroll:!0,searchConfiguration:{enabled:!0}}}}}}}];function oe(n,D){if(1&n&&(e.j41(0,"div",3)(1,"div",4),e.EFF(2),e.k0s()()),2&n){const o=D.item;e.R7$(2),e.SpI(" ",o.title," ")}}let k=(()=>{class n{static{this.lateLoadKey="AcmeCloneSelectionComponent"}constructor(o){this.widgetTypesService=o,this.widgetSelected=new e.bkB,this.widgetItems=[]}ngOnInit(){const o=new P.PV;this.widgetItems=E.map(t=>({title:o.transform(t.type),widget:this.widgetTypesService.mergeWithWidgetType(t)})),E.forEach(t=>{this.addUnconfiguredWidgetWithConfigLayer(t)})}addUnconfiguredWidget(o){const t=(new P.PV).transform(o);this.widgetItems.push({title:`Unconfigured ${t}`,widget:{id:`unconfigured${t}`,type:o,metadata:{needsConfiguration:!0},pizzagna:W()(this.widgetTypesService.getWidgetType(o).widget)}}),j()(this.widgetItems[this.widgetItems.length-1].widget.pizzagna,`${i.K8R.Structure}.header.properties.title`,`Unconfigured ${t}`)}addUnconfiguredWidgetWithConfigLayer(o){const t=(new P.PV).transform(o.type);this.widgetItems.push({title:`Unconfigured ${t} With Config Layer`,widget:{...W()(this.widgetTypesService.mergeWithWidgetType(o)),id:`unconfiguredWithConfigLayer${t}`,metadata:{needsConfiguration:!0}}}),j()(this.widgetItems[this.widgetItems.length-1].widget.pizzagna,`${i.K8R.Configuration}.header.properties.title`,`Unconfigured ${t} With Config Layer`)}onSelect(o){this.widgetSelected.emit(o[0].widget),this.widgetSelection=o}static{this.\u0275fac=function(t){return new(t||n)(e.rXU(i.Dz_))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["acme-clone-selection"]],outputs:{widgetSelected:"widgetSelected"},decls:4,vars:3,consts:[[1,"nui-widget-cloner"],["selectionMode","singleWithRequiredSelection",3,"itemsSource","selection","repeatItemTemplateRef","selectionChange"],["widgetClonerItem",""],[1,"nui-widget-cloner__item","d-flex","pt-2","pb-2","align-items-center"],[1,"text-info","ml-3"]],template:function(t,r){if(1&t&&(e.j41(0,"div",0)(1,"nui-repeat",1),e.bIt("selectionChange",function(s){return r.onSelect(s)}),e.k0s()(),e.DNE(2,oe,3,1,"ng-template",null,2,e.C5r)),2&t){const a=e.sdS(3);e.R7$(1),e.Y8G("itemsSource",r.widgetItems)("selection",r.widgetSelection)("repeatItemTemplateRef",a)}},dependencies:[l.BWW],styles:[".nui-widget-cloner__item[_ngcontent-%COMP%]{height:60px}"]})}}return n})();function ie(n,D){if(1&n&&(e.j41(0,"div",3)(1,"div",4),e.EFF(2),e.k0s()()),2&n){const o=D.item;e.R7$(2),e.SpI(" ",o.title," ")}}let re=(()=>{class n extends k{static{this.lateLoadKey="AcmeCloneSelectionComponent"}constructor(o){super(o)}ngOnInit(){const o=new P.PV;this.widgetItems=E.map(t=>({title:o.transform(t.type),widget:this.widgetTypesService.mergeWithWidgetType(t)}))}static{this.\u0275fac=function(t){return new(t||n)(e.rXU(i.Dz_))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["acme-clone-selection"]],features:[e.Vt3],decls:4,vars:3,consts:[[1,"nui-widget-cloner"],["selectionMode","singleWithRequiredSelection",3,"itemsSource","selection","repeatItemTemplateRef","selectionChange"],["widgetClonerItem",""],[1,"nui-widget-cloner__item","d-flex","pt-2","pb-2","align-items-center"],[1,"text-info","ml-3"]],template:function(t,r){if(1&t&&(e.j41(0,"div",0)(1,"nui-repeat",1),e.bIt("selectionChange",function(s){return r.onSelect(s)}),e.k0s()(),e.DNE(2,ie,3,1,"ng-template",null,2,e.C5r)),2&t){const a=e.sdS(3);e.R7$(1),e.Y8G("itemsSource",r.widgetItems)("selection",r.widgetSelection)("repeatItemTemplateRef",a)}},dependencies:[l.BWW],styles:[".nui-widget-cloner__item[_ngcontent-%COMP%]{height:60px}"]})}}return n})(),z=(()=>{class n{constructor(o){this.toastService=o,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=(t,r)=>{const a=new $.B;return setTimeout(()=>{if(this.allowSubmit)a.next(t);else{const s=$localize`Submit failed.`;this.toastService.error({title:s}),a.error(s)}},1e3),a.asObservable()},this.tryRemove=t=>{const r=new $.B;return setTimeout(()=>{if(this.allowRemoval)r.next(t);else{const a=$localize`Widget removal failed.`;this.toastService.error({title:a}),r.error(a)}},200),r.asObservable()},this.toastService.setConfig({timeOut:2e3})}static{this.\u0275fac=function(t){return new(t||n)(e.KVO(l.fwc))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}}return n})();var ne=d(17955),ae=d(67432);const se=[{path:"",component:(()=>{class n{constructor(o,t,r,a,s,T){this.providerRegistry=o,this.submitHandler=t,this.widgetTypesService=r,this.widgetClonerService=a,this.refreshSettings=s,this.globalFilters=T,this.dashboard={positions:{},widgets:{}},this.gridsterConfig={minCols:12,maxCols:12,minRows:12},this.editMode=!1,this.systemRefreshInterval=60,this.searchQuery="solarwinds",this.destroy$=new $.B,this.globalFilters.registerComponent({q:{componentInstance:{getFilters:()=>({data:{type:"string",value:this.searchQuery}})}}}),this.providerRegistry.setProviders({[g.oG.providerId]:{provide:i.R9t,useClass:g.oG,deps:[_.Qq]},[g.Kw.providerId]:{provide:i.R9t,useClass:g.Kw,deps:[_.Qq]},[g.DU.providerId]:{provide:i.R9t,useClass:g.DU,deps:[]},[v.R.providerId]:{provide:i.R9t,useClass:v.R,deps:[_.Qq]},[v.j.providerId]:{provide:i.R9t,useClass:v.j,deps:[]},[O.M.providerId]:{provide:i.R9t,useClass:O.M,deps:[l.gPJ,_.Qq]},[I.A.providerId]:{provide:i.R9t,useClass:I.A,deps:[l.gPJ]},[w.D.providerId]:{provide:i.R9t,useClass:w.D,deps:[l.gPJ]},[R.providerId]:{provide:i.R9t,useClass:R,deps:[l.gPJ]},[N.U.providerId]:{provide:i.R9t,useClass:N.U,deps:[l.ScJ]},[f.eF.providerId]:{provide:i.R9t,useClass:f.eF,deps:[_.Qq]},[f.Q9.providerId]:{provide:i.R9t,useClass:f.Q9,deps:[]},[M.F.providerId]:{provide:i.R9t,useClass:M.F,deps:[l.gPJ,_.Qq]},[A.providerId]:{provide:i.Vj1,useClass:A,deps:[[new e.Xx1,y]]}})}ngOnInit(){this.widgetTypesService.getWidgetType("table").configurator?.[i.K8R.Structure].presentation.properties?.nodes.push("refresher"),this.refreshSettings.refreshRateSeconds=this.systemRefreshInterval;const o=E.map(r=>this.widgetTypesService.mergeWithWidgetType(r)),t=J()(o,r=>r.id);this.dashboard={positions:te,widgets:t}}onDsErrorSwitch(o){v.R.mockError=o,g.oG.mockError=o,g.Kw.mockError=o,O.M.mockError=o,f.eF.mockError=o}onShowButtonSwitch(o,t){for(const r of Object.keys(this.dashboard.widgets))this.dashboard=(0,l.lwv)(this.dashboard,`widgets.${r}.pizzagna.configuration.header.properties.${t}`,o)}ngAfterViewInit(){this.dashboardComponent.eventBus.subscribeUntil(i.mZ_,this.destroy$,o=>{this.widgetClonerService.open({widget:this.dashboard.widgets[o.widgetId],dashboardComponent:this.dashboardComponent,trySubmit:this.submitHandler.trySubmit,widgetSelectionComponentType:re}).pipe((0,F.s)(1),(0,X.Q)(this.destroy$)).subscribe()})}onCloneWidget(){this.widgetClonerService.open({dashboardComponent:this.dashboardComponent,trySubmit:this.submitHandler.trySubmit,widgetSelectionComponentType:k}).pipe((0,F.s)(1),(0,X.Q)(this.destroy$)).subscribe()}onEditWithCloner(){this.dashboardComponent.eventBus.next(i.mZ_,{widgetId:E[0].id})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSystemRefreshIntervalClick(){this.refreshSettings.refreshRateSeconds=this.systemRefreshInterval}static{this.\u0275fac=function(t){return new(t||n)(e.rXU(i.g_3),e.rXU(z),e.rXU(i.Dz_),e.rXU(i.jaz),e.rXU(i.D7Y),e.rXU(y))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["acme-dashboard"]],viewQuery:function(t,r){if(1&t&&e.GBs(i.S5f,7),2&t){let a;e.mGM(a=e.lsd())&&(r.dashboardComponent=a.first)}},features:[e.Jv_([z,y])],decls:28,vars:11,consts:function(){let o,t,r,a,s,T,p,u,h,m,c;return o=$localize`:␟489801ff09de9b4a6ca8b6e05a475fa1ca00d98e␟5813529530812520031: Create Widget Clone
`,t=$localize`:␟d8e9c9957a5d6ebe7749aab0e18dcb5d944b2ef9␟7916291516675251750: Simulate edit with cloner
`,r=$localize`:␟5cab2718f1d3c09ccb1fca4886710430f59bf7c0␟81810662047948365: Edit mode `,a=$localize`:␟db70aaa4da7a9f7c0fa3a218907f9fa354a19038␟5855643886473775120: Allow Submit `,s=$localize`:␟d289dfdc6c4e23b49a96db083f95f1087ed1400a␟3687117978364204872: Allow Removal `,T=$localize`:␟3299af3b186d7701f4c0626e41eba58af8382723␟4106211393112768148: Show Edit Button `,p=$localize`:␟30251ad3dcd7facd3a222d48fb2ba02f8503c52c␟8096484277280346189: Show Remove Button `,u=$localize`:␟c355f0feb3f72b3594e6e975456cd0a2dac1d929␟870224976565315483: Data Source Error `,h=$localize`:␟90504d9af68fb3aa81accb4bc3005526deb04093␟5488473345097746222:System refresh interval (seconds)`,m=$localize`:␟559db359e3dcc0820499a4e58208fb22273e0d55␟5928813357836950616: Update system refresh interval `,c=$localize`:␟b3cbfe131ba0c10de2f194b783e0ca697cdeaef9␟4452935965886173182:Search query for Timeseries widget`,[["type","button","nui-button","",1,"mb-3","ml-4",3,"click"],o,t,[1,"w-100",2,"height","725px"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3",3,"value","valueChange"],r,a,s,T,p,[1,"ml-3",3,"valueChange"],u,[1,"d-flex","flex-row"],[2,"width","300px"],["caption",h],[3,"value","valueChange"],["type","button","nui-button","",1,"ml-4",3,"click"],m,[1,"mt-4"],["caption",c],[3,"value","textChange"]]},template:function(t,r){1&t&&(e.j41(0,"button",0),e.bIt("click",function(){return r.onCloneWidget()}),e.pXf(1,1),e.k0s(),e.j41(2,"button",0),e.bIt("click",function(){return r.onEditWithCloner()}),e.pXf(3,2),e.k0s(),e.j41(4,"div",3)(5,"nui-dashboard",4),e.bIt("dashboardChange",function(s){return r.dashboard=s})("gridsterConfigChange",function(s){return r.gridsterConfig=s}),e.k0s()(),e.j41(6,"div",5)(7,"nui-switch",6),e.bIt("valueChange",function(s){return r.editMode=s}),e.pXf(8,7),e.k0s(),e.j41(9,"nui-switch",6),e.bIt("valueChange",function(s){return r.submitHandler.allowSubmit=s}),e.pXf(10,8),e.k0s(),e.j41(11,"nui-switch",6),e.bIt("valueChange",function(s){return r.submitHandler.allowRemoval=s}),e.pXf(12,9),e.k0s(),e.j41(13,"nui-switch",6),e.bIt("valueChange",function(s){return r.onShowButtonSwitch(s,"editable")}),e.pXf(14,10),e.k0s(),e.j41(15,"nui-switch",6),e.bIt("valueChange",function(s){return r.onShowButtonSwitch(s,"removable")}),e.pXf(16,11),e.k0s(),e.j41(17,"nui-switch",12),e.bIt("valueChange",function(s){return r.onDsErrorSwitch(s)}),e.pXf(18,13),e.k0s()(),e.j41(19,"div",14)(20,"div",15)(21,"nui-form-field",16)(22,"nui-textbox-number",17),e.bIt("valueChange",function(s){return r.systemRefreshInterval=s}),e.k0s()()(),e.j41(23,"button",18),e.bIt("click",function(){return r.onSystemRefreshIntervalClick()}),e.pXf(24,19),e.k0s()(),e.j41(25,"div",20)(26,"nui-form-field",21)(27,"nui-textbox",22),e.bIt("textChange",function(s){return r.searchQuery=s}),e.k0s()()()),2&t&&(e.R7$(5),e.Y8G("nuiWidgetEditor",r.submitHandler)("dashboard",r.dashboard)("gridsterConfig",r.gridsterConfig)("editMode",r.editMode),e.R7$(2),e.Y8G("value",r.editMode),e.R7$(2),e.Y8G("value",r.submitHandler.allowSubmit),e.R7$(2),e.Y8G("value",r.submitHandler.allowRemoval),e.R7$(2),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!0),e.R7$(7),e.Y8G("value",r.systemRefreshInterval),e.R7$(5),e.Y8G("value",r.searchQuery))},dependencies:[ne.S,ae.Z,l.Qpp,l.clF,l.KSf,l.e1Y,l.VkH],styles:[".nui-theme-switcher-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:10px;background-color:var(--nui-color-bg-light,#fff)}"]})}}return n})(),data:{srlc:{hideIndicator:!0},showThemeSwitcher:!0}}];let de=(()=>{class n{constructor(o,t){this.widgetTypesService=o,this.componentRegistry=t,this.setupDataSourceProviders(),this.setupCustomProportionalWidgetDSConfig()}setupCustomProportionalWidgetDSConfig(){const o=this.widgetTypesService.getWidgetType("proportional",1);delete o.widget.structure[i.ocI].providers?.refresher,this.widgetTypesService.setNode(o,"configurator",i.Eov.DataSourceConfigComponentType,L.Q.lateLoadKey),this.componentRegistry.registerByLateLoadKey(L.Q)}setupDataSourceProviders(){this.setDataSourceProviders("table",[O.M.providerId,I.A.providerId,w.D.providerId,N.U.providerId,M.F.providerId,R.providerId]);const o=this.widgetTypesService.getWidgetType("kpi",1);this.widgetTypesService.setNode(o,"configurator",i.Eov.DataSourceConfigComponentType,i.vLY.lateLoadKey),this.setDataSourceProviders("kpi",[{providerId:g.oG.providerId,label:"Acme KPI Data Source 1"},{providerId:g.Kw.providerId,label:"Acme KPI Data Source 2",properties:{numberFormat:"1.1-1"}},{providerId:g.DU.providerId,label:"Acme KPI Data Source 3"}]),this.setDataSourceProviders("proportional",[v.R.providerId,v.j.providerId]),this.setDataSourceProviders("timeseries",[f.eF.providerId,f.Q9.providerId])}setDataSourceProviders(o,t){const r=this.widgetTypesService.getWidgetType(o,1);this.widgetTypesService.setNode(r,"configurator",i.Eov.DataSourceProviders,t)}static{this.\u0275fac=function(t){return new(t||n)(e.KVO(i.Dz_),e.KVO(i.oWA))}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({providers:[i.g_3],imports:[P.MD,_.q1,i.Ua7,l.cec,l.dfW,l.a4p,l.dDW,l.s6u,l.IRr,l.U76,U.iI.forChild(se),l.tXB,l.vrM]})}}return n})()}}]);