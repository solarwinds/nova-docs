"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[135],{90135:(F,f,s)=>{s.r(f),s.d(f,{TimeseriesWidgetPrototypeModule:()=>U});var y=s(54739),P=s(49432),d=s(85907),e=s(8599),I=s(74067),v=s(38435),m=s(30720),g=s(54384),u=s(29242),h=s(85005),S=s(25335),a=s(96878),D=s(97861),R=s.n(D),C=s(52667),r=s(99019);let b=(()=>{class l{constructor(o){this.toastService=o,this.allowSubmit=!0,this.allowRemoval=!0,this.trySubmit=(t,i)=>{const n=new C.B;return setTimeout(()=>{if(this.allowSubmit)t.id||(t.id=(0,d.uRe)("acme")),n.next(t);else{const c=$localize`Submit failed.`;this.toastService.error({title:c}),n.error(c)}},1e3),n.asObservable()},this.tryRemove=t=>{const i=new C.B;return setTimeout(()=>{if(this.allowRemoval)i.next(t);else{const n=$localize`Widget removal failed.`;this.toastService.error({title:n}),i.error(n)}},200),i.asObservable()},this.toastService.setConfig({timeOut:2e3})}static{this.\u0275fac=function(t){return new(t||l)(r.KVO(d.fwc))}}static{this.\u0275prov=r.jDH({token:l,factory:l.\u0275fac})}}return l})();var A=s(28508),p=s.n(A);const w={widget1:{cols:6,rows:6,y:0,x:0},"widget1-interval":{cols:6,rows:6,y:0,x:6},widget2:{cols:6,rows:6,y:6,x:0},"widget2-interval":{cols:6,rows:6,y:6,x:6},widget3:{cols:6,rows:6,y:12,x:0},"widget3-interval":{cols:6,rows:6,y:12,x:6},widget4:{cols:6,rows:6,y:18,x:0},"widget4-interval":{cols:6,rows:6,y:18,x:6},widget5:{cols:6,rows:6,y:24,x:0},"widget5-interval":{cols:6,rows:6,y:24,x:6}},E=[{id:"widget1",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:a.eF.providerId},[e.ShF.InteractionHandler]:{providerId:e.j70,properties:{url:"${data.link}"}}}},header:{properties:{title:"Line chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{interaction:"series",legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.MVE.Line}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget1-interval",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:a.eF.providerId},[e.ShF.InteractionHandler]:{providerId:e.j70,properties:{url:"${data.link}"}}}},header:{properties:{title:"Line chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.MVE.Line,scales:{x:{type:e.jvU.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget2",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:a.eF.providerId}}},header:{properties:{title:"Area chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.MVE.StackedArea}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget2-interval",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:a.eF.providerId}}},header:{properties:{title:"Area chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.MVE.StackedArea,scales:{x:{type:e.jvU.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget3",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:a.eF.providerId}}},header:{properties:{title:"Stacked percentage area",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.MVE.StackedPercentageArea}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget3-interval",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:a.eF.providerId}}},header:{properties:{title:"Stacked percentage area",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.MVE.StackedPercentageArea,scales:{x:{type:e.jvU.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget4",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:a.eF.providerId}}},header:{properties:{title:"Bar chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.MVE.StackedBar,scales:{}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget4-interval",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:a.eF.providerId}}},header:{properties:{title:"Bar chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.MVE.StackedBar,scales:{x:{type:e.jvU.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget5",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:a.E5.providerId}}},header:{properties:{title:"Status chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.MVE.StatusBar}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}},{id:"widget5-interval",type:"timeseries",pizzagna:{[e.K8R.Configuration]:{[e.ocI]:{providers:{[e.ShF.DataSource]:{providerId:a.l0.providerId}}},header:{properties:{title:"Status chart",subtitle:"Basic timeseries widget"}},chart:{providers:{[e.ShF.Adapter]:{properties:{series:[{id:"series-1",label:"Average GPU Load",selectedSeriesId:"series-1"},{id:"series-2",label:"Average CPU Load",selectedSeriesId:"series-2"}]}}},properties:{configuration:{legendPlacement:e.z4j.Right,enableZoom:!0,leftAxisLabel:"Utilization (%)",preset:e.MVE.StatusBar,scales:{x:{type:e.jvU.TimeInterval,properties:{interval:86400}}}}}},timeframeSelection:{properties:{timeframe:{selectedPresetId:"last7Days"},maxDate:p()().format()}}}}}];var T=s(17955),z=s(67432);const M=[{path:"",component:(()=>{class l{constructor(o,t,i){this.submitHandler=o,this.providerRegistry=t,this.widgetTypesService=i,this.gridsterConfig={},this.editMode=!1,this.providerRegistry.setProviders({[v.oG.providerId]:{provide:e.R9t,useClass:v.oG,deps:[]},[v.Kw.providerId]:{provide:e.R9t,useClass:v.Kw,deps:[]},[m.R.providerId]:{provide:e.R9t,useClass:m.R,deps:[]},[m.j.providerId]:{provide:e.R9t,useClass:m.j,deps:[]},[g.M.providerId]:{provide:e.R9t,useClass:g.M,deps:[d.gPJ]},[u.A.providerId]:{provide:e.R9t,useClass:u.A,deps:[d.gPJ]},[h.D.providerId]:{provide:e.R9t,useClass:h.D,deps:[d.gPJ]},[S.U.providerId]:{provide:e.R9t,useClass:S.U,deps:[d.ScJ]},[a.eF.providerId]:{provide:e.R9t,useClass:a.eF,deps:[]},[a.Q9.providerId]:{provide:e.R9t,useClass:a.Q9,deps:[]},[a.E5.providerId]:{provide:e.R9t,useClass:a.E5,deps:[]},[a.l0.providerId]:{provide:e.R9t,useClass:a.l0,deps:[]}})}ngOnInit(){const o=E.map(i=>this.widgetTypesService.mergeWithWidgetType(i)),t=R()(o,i=>i.id);this.dashboard={positions:w,widgets:t}}static{this.\u0275fac=function(t){return new(t||l)(r.rXU(b),r.rXU(e.g_3),r.rXU(e.Dz_))}}static{this.\u0275cmp=r.VBU({type:l,selectors:[["acme-dashboard"]],viewQuery:function(t,i){if(1&t&&r.GBs(e.S5f,7),2&t){let n;r.mGM(n=r.lsd())&&(i.dashboardComponent=n.first)}},features:[r.Jv_([b])],decls:5,vars:5,consts:function(){let o;return o=$localize`:␟5cab2718f1d3c09ccb1fca4886710430f59bf7c0␟81810662047948365: Edit mode `,[[1,"w-100",2,"height","800px"],[3,"nuiWidgetEditor","dashboard","gridsterConfig","editMode","dashboardChange","gridsterConfigChange"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3",3,"value","valueChange"],o]},template:function(t,i){1&t&&(r.j41(0,"div",0)(1,"nui-dashboard",1),r.bIt("dashboardChange",function(c){return i.dashboard=c})("gridsterConfigChange",function(c){return i.gridsterConfig=c}),r.k0s()(),r.j41(2,"div",2)(3,"nui-switch",3),r.bIt("valueChange",function(c){return i.editMode=c}),r.pXf(4,4),r.k0s()()),2&t&&(r.R7$(1),r.Y8G("nuiWidgetEditor",i.submitHandler)("dashboard",i.dashboard)("gridsterConfig",i.gridsterConfig)("editMode",i.editMode),r.R7$(2),r.Y8G("value",i.editMode))},dependencies:[T.S,z.Z,d.clF],encapsulation:2})}}return l})(),data:{srlc:{hideIndicator:!0}}}];let U=(()=>{class l{constructor(o,t){this.widgetTypesService=o,this.componentRegistry=t,this.setupDataSourceProviders(),this.setupCustomProportionalWidgetDSConfig()}setupCustomProportionalWidgetDSConfig(){const o=this.widgetTypesService.getWidgetType("proportional",1);delete o.widget.structure[e.ocI].providers?.refresher,this.widgetTypesService.setNode(o,"configurator",e.Eov.DataSourceConfigComponentType,I.Q.lateLoadKey),this.componentRegistry.registerByLateLoadKey(I.Q)}setupDataSourceProviders(){this.setDataSourceProviders("table",[g.M.providerId,u.A.providerId,h.D.providerId,S.U.providerId]),this.setDataSourceProviders("kpi",[v.oG.providerId,v.Kw.providerId]),this.setDataSourceProviders("proportional",[m.R.providerId,m.j.providerId]),this.setDataSourceProviders("timeseries",[a.eF.providerId,a.Q9.providerId,a.E5.providerId,a.l0.providerId])}setDataSourceProviders(o,t){const i=this.widgetTypesService.getWidgetType(o,1);this.widgetTypesService.setNode(i,"configurator",e.Eov.DataSourceProviders,t)}static{this.\u0275fac=function(t){return new(t||l)(r.KVO(e.Dz_),r.KVO(e.oWA))}}static{this.\u0275mod=r.$C({type:l})}static{this.\u0275inj=r.G2t({providers:[e.g_3],imports:[y.MD,e.Ua7,d.cec,d.dfW,d.tXB,d.IRr,d.U76,d.rMj,d.dDW,d.s6u,P.iI.forChild(M)]})}}return l})()}}]);