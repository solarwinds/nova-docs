"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[537],{40537:(ke,gt,g)=>{g.r(gt),g.d(gt,{default:()=>xe});var it=g(80216),ae=g(49432),d=g(85608),D=g(56977),V=g(16873),J=g(78834),Y=g(16434),Z=g(88773),k=g(45535),U=g(6540),I=g(7065),oe=g(79953),bt=g(9024),se=g(98245),ce=g(49481),Ct=function(){function n(){this.assumeImmutableResults=!1,this.getFragmentDoc=(0,V.LV)(Y.ct,{max:Z.v["cache.fragmentQueryDocuments"]||1e3,cache:oe.l})}return n.prototype.lookupFragment=function(t){return null},n.prototype.batch=function(t){var i,e=this;return this.performTransaction(function(){return i=t.update(e)},"string"==typeof t.optimistic?t.optimistic:!1===t.optimistic?null:void 0),i},n.prototype.recordOptimisticTransaction=function(t,e){this.performTransaction(t,e)},n.prototype.transformDocument=function(t){return t},n.prototype.transformForLink=function(t){return t},n.prototype.identify=function(t){},n.prototype.gc=function(){return[]},n.prototype.modify=function(t){return!1},n.prototype.readQuery=function(t,e){return void 0===e&&(e=!!t.optimistic),this.read((0,d.Cl)((0,d.Cl)({},t),{rootId:t.id||"ROOT_QUERY",optimistic:e}))},n.prototype.watchFragment=function(t){var e=this,r=t.fragment,i=t.fragmentName,a=t.from,o=t.optimistic,s=void 0===o||o,f=(0,d.Tt)(t,["fragment","fragmentName","from","optimistic"]),c=this.getFragmentDoc(r,i),u=typeof a>"u"||"string"==typeof a?a:this.identify(a),l=!!t[Symbol.for("apollo.dataMasking")];if(!1!==globalThis.__DEV__){var h=i||(0,k.E4)(r).name.value;u||!1!==globalThis.__DEV__&&D.V1.warn(1,h)}var y,p=(0,d.Cl)((0,d.Cl)({},f),{returnPartialData:!0,id:u,query:c,optimistic:s});return new U.c(function(b){return e.watch((0,d.Cl)((0,d.Cl)({},p),{immediate:!0,callback:function(C){var E=l?(0,ce.z)(C.result,r,e,i):C.result;if(!y||!(0,se.a)(c,{data:y?.result},{data:E})){var S={data:E,complete:!!C.complete};C.missing&&(S.missing=(0,I.IM)(C.missing.map(function(m){return m.missing}))),y=(0,d.Cl)((0,d.Cl)({},C),{result:E}),b.next(S)}}}))})},n.prototype.readFragment=function(t,e){return void 0===e&&(e=!!t.optimistic),this.read((0,d.Cl)((0,d.Cl)({},t),{query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:e}))},n.prototype.writeQuery=function(t){var e=t.id,r=t.data,i=(0,d.Tt)(t,["id","data"]);return this.write(Object.assign(i,{dataId:e||"ROOT_QUERY",result:r}))},n.prototype.writeFragment=function(t){var e=t.id,r=t.data,i=t.fragment,a=t.fragmentName,o=(0,d.Tt)(t,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(i,a),dataId:e,result:r}))},n.prototype.updateQuery=function(t,e){return this.batch({update:function(r){var i=r.readQuery(t),a=e(i);return null==a?i:(r.writeQuery((0,d.Cl)((0,d.Cl)({},t),{data:a})),a)}})},n.prototype.updateFragment=function(t,e){return this.batch({update:function(r){var i=r.readFragment(t),a=e(i);return null==a?i:(r.writeFragment((0,d.Cl)((0,d.Cl)({},t),{data:a})),a)}})},n}();!1!==globalThis.__DEV__&&(Ct.prototype.getMemoryInternals=bt.tQ);var St=function(n){function t(e,r,i,a){var o,s=n.call(this,e)||this;if(s.message=e,s.path=r,s.query=i,s.variables=a,Array.isArray(s.path)){s.missing=s.message;for(var f=s.path.length-1;f>=0;--f)s.missing=((o={})[s.path[f]]=s.missing,o)}else s.missing=s.path;return s.__proto__=t.prototype,s}return(0,d.C6)(t,n),t}(Error),fe=g(93436),nt=g(9867),W=g(12564),ue=g(59188),v=g(57013),Tt=g(96485),K=g(35610),Ot=g(20858),at=g(34637),ot=g(53998),j=g(82023),$=g(95022),O=g(83681),R=Object.prototype.hasOwnProperty;function Q(n){return null==n}function Et(n,t){var e=n.__typename,r=n.id,i=n._id;if("string"==typeof e&&(t&&(t.keyObject=Q(r)?Q(i)?void 0:{_id:i}:{id:r}),Q(r)&&!Q(i)&&(r=i),!Q(r)))return"".concat(e,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var Mt={dataIdFromObject:Et,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Rt(n){var t=n.canonizeResults;return void 0===t?Mt.canonizeResults:t}var Ft=/^[_a-z][_0-9a-z]*/i;function B(n){var t=n.match(Ft);return t?t[0]:n}function st(n,t,e){return!!(0,j.U)(t)&&((0,O.c)(t)?t.every(function(r){return st(n,r,e)}):n.selections.every(function(r){if((0,v.dt)(r)&&(0,at.MS)(r,e)){var i=(0,v.ue)(r);return R.call(t,i)&&(!r.selectionSet||st(r.selectionSet,t[i],e))}return!0}))}function P(n){return(0,j.U)(n)&&!(0,v.A_)(n)&&!(0,O.c)(n)}function wt(n,t){var e=(0,Y.JG)((0,k.zK)(n));return{fragmentMap:e,lookupFragment:function(r){var i=e[r];return!i&&t&&(i=t.lookup(r)),i||null}}}var n,t,X=Object.create(null),ct=function(){return X},Dt=Object.create(null),H=function(){function n(t,e){var r=this;this.policies=t,this.group=e,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,a){return(0,ot.G)((0,v.A_)(i)?r.get(i.__ref,a):i&&i[a])},this.canRead=function(i){return(0,v.A_)(i)?r.has(i.__ref):"object"==typeof i},this.toReference=function(i,a){if("string"==typeof i)return(0,v.WU)(i);if((0,v.A_)(i))return i;var o=r.policies.identify(i)[0];if(o){var s=(0,v.WU)(o);return a&&r.merge(o,i),s}}}return n.prototype.toObject=function(){return(0,d.Cl)({},this.data)},n.prototype.has=function(t){return void 0!==this.lookup(t,!0)},n.prototype.get=function(t,e){if(this.group.depend(t,e),R.call(this.data,t)){var r=this.data[t];if(r&&R.call(r,e))return r[e]}return"__typename"===e&&R.call(this.policies.rootTypenamesById,t)?this.policies.rootTypenamesById[t]:this instanceof x?this.parent.get(t,e):void 0},n.prototype.lookup=function(t,e){return e&&this.group.depend(t,"__exists"),R.call(this.data,t)?this.data[t]:this instanceof x?this.parent.lookup(t,e):this.policies.rootTypenamesById[t]?Object.create(null):void 0},n.prototype.merge=function(t,e){var i,r=this;(0,v.A_)(t)&&(t=t.__ref),(0,v.A_)(e)&&(e=e.__ref);var a="string"==typeof t?this.lookup(i=t):t,o="string"==typeof e?this.lookup(i=e):e;if(o){(0,D.V1)("string"==typeof i,2);var s=new I.ZI(ye).merge(a,o);if(this.data[i]=s,s!==a&&(delete this.refs[i],this.group.caching)){var f=Object.create(null);a||(f.__exists=1),Object.keys(o).forEach(function(c){if(!a||a[c]!==s[c]){f[c]=1;var u=B(c);u!==c&&!r.policies.hasKeyArgs(s.__typename,u)&&(f[u]=1),void 0===s[c]&&!(r instanceof x)&&delete s[c]}}),f.__typename&&!(a&&a.__typename)&&this.policies.rootTypenamesById[i]===s.__typename&&delete f.__typename,Object.keys(f).forEach(function(c){return r.group.dirty(i,c)})}}},n.prototype.modify=function(t,e){var r=this,i=this.lookup(t);if(i){var a=Object.create(null),o=!1,s=!0,f={DELETE:X,INVALIDATE:Dt,isReference:v.A_,toReference:this.toReference,canRead:this.canRead,readField:function(c,u){return r.policies.readField("string"==typeof c?{fieldName:c,from:u||(0,v.WU)(t)}:c,{store:r})}};if(Object.keys(i).forEach(function(c){var u=B(c),l=i[c];if(void 0!==l){var h="function"==typeof e?e:e[c]||e[u];if(h){var p=h===ct?X:h((0,ot.G)(l),(0,d.Cl)((0,d.Cl)({},f),{fieldName:u,storeFieldName:c,storage:r.getStorage(t,c)}));if(p===Dt)r.group.dirty(t,c);else if(p===X&&(p=void 0),p!==l&&(a[c]=p,o=!0,l=p,!1!==globalThis.__DEV__)){var y=function(M){if(void 0===r.lookup(M.__ref))return!1!==globalThis.__DEV__&&D.V1.warn(3,M),!0};if((0,v.A_)(p))y(p);else if(Array.isArray(p))for(var b=!1,C=void 0,E=0,S=p;E<S.length;E++){var m=S[E];if((0,v.A_)(m)){if(b=!0,y(m))break}else"object"==typeof m&&m&&r.policies.identify(m)[0]&&(C=m);if(b&&void 0!==C){!1!==globalThis.__DEV__&&D.V1.warn(4,C);break}}}}void 0!==l&&(s=!1)}}),o)return this.merge(t,a),s&&(this instanceof x?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},n.prototype.delete=function(t,e,r){var i,a=this.lookup(t);if(a){var o=this.getFieldValue(a,"__typename"),s=e&&r?this.policies.getStoreFieldName({typename:o,fieldName:e,args:r}):e;return this.modify(t,s?((i={})[s]=ct,i):ct)}return!1},n.prototype.evict=function(t,e){var r=!1;return t.id&&(R.call(this.data,t.id)&&(r=this.delete(t.id,t.fieldName,t.args)),this instanceof x&&this!==e&&(r=this.parent.evict(t,e)||r),(t.fieldName||r)&&this.group.dirty(t.id,t.fieldName||"__exists")),r},n.prototype.clear=function(){this.replace(null)},n.prototype.extract=function(){var t=this,e=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){R.call(t.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(e.__META={extraRootIds:r.sort()}),e},n.prototype.replace=function(t){var e=this;if(Object.keys(this.data).forEach(function(a){t&&R.call(t,a)||e.delete(a)}),t){var r=t.__META,i=(0,d.Tt)(t,["__META"]);Object.keys(i).forEach(function(a){e.merge(a,i[a])}),r&&r.extraRootIds.forEach(this.retain,this)}},n.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},n.prototype.release=function(t){if(this.rootIds[t]>0){var e=--this.rootIds[t];return e||delete this.rootIds[t],e}return 0},n.prototype.getRootIdSet=function(t){return void 0===t&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof x?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},n.prototype.gc=function(){var t=this,e=this.getRootIdSet(),r=this.toObject();e.forEach(function(o){R.call(r,o)&&(Object.keys(t.findChildRefIds(o)).forEach(e.add,e),delete r[o])});var i=Object.keys(r);if(i.length){for(var a=this;a instanceof x;)a=a.parent;i.forEach(function(o){return a.delete(o)})}return i},n.prototype.findChildRefIds=function(t){if(!R.call(this.refs,t)){var e=this.refs[t]=Object.create(null),r=this.data[t];if(!r)return e;var i=new Set([r]);i.forEach(function(a){(0,v.A_)(a)&&(e[a.__ref]=!0),(0,j.U)(a)&&Object.keys(a).forEach(function(o){var s=a[o];(0,j.U)(s)&&i.add(s)})})}return this.refs[t]},n.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},n}(),jt=function(){function n(t,e){void 0===e&&(e=null),this.caching=t,this.parent=e,this.d=null,this.resetCaching()}return n.prototype.resetCaching=function(){this.d=this.caching?(0,V.yN)():null,this.keyMaker=new $.b(K.et)},n.prototype.depend=function(t,e){if(this.d){this.d(ft(t,e));var r=B(e);r!==e&&this.d(ft(t,r)),this.parent&&this.parent.depend(t,e)}},n.prototype.dirty=function(t,e){this.d&&this.d.dirty(ft(t,e),"__exists"===e?"forget":"setDirty")},n}();function ft(n,t){return t+"#"+n}function At(n,t){N(n)&&n.group.depend(t,"__exists")}t=function(e){function r(i){var o=i.resultCaching,f=i.seed,c=e.call(this,i.policies,new jt(void 0===o||o))||this;return c.stump=new de(c),c.storageTrie=new $.b(K.et),f&&c.replace(f),c}return(0,d.C6)(r,e),r.prototype.addLayer=function(i,a){return this.stump.addLayer(i,a)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(n=H||(H={})),n.Root=t;var x=function(n){function t(e,r,i,a){var o=n.call(this,r.policies,a)||this;return o.id=e,o.parent=r,o.replay=i,o.group=a,i(o),o}return(0,d.C6)(t,n),t.prototype.addLayer=function(e,r){return new t(e,this,r,this.group)},t.prototype.removeLayer=function(e){var r=this,i=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(a){var o=r.data[a],s=i.lookup(a);s?o?o!==s&&Object.keys(o).forEach(function(f){(0,J.L)(o[f],s[f])||r.group.dirty(a,f)}):(r.group.dirty(a,"__exists"),Object.keys(s).forEach(function(f){r.group.dirty(a,f)})):r.delete(a)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,d.Cl)((0,d.Cl)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(e){var r=this.parent.findChildRefIds(e);return R.call(this.data,e)?(0,d.Cl)((0,d.Cl)({},r),n.prototype.findChildRefIds.call(this,e)):r},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(H),de=function(n){function t(e){return n.call(this,"EntityStore.Stump",e,function(){},new jt(e.group.caching,e.group))||this}return(0,d.C6)(t,n),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(e,r){return this.parent.merge(e,r)},t}(x);function ye(n,t,e){var r=n[e],i=t[e];return(0,J.L)(r,i)?r:i}function N(n){return!!(n instanceof H&&n.group.caching)}var Bt=function(){function n(){this.known=new(K.En?WeakSet:Set),this.pool=new $.b(K.et),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return n.prototype.isKnown=function(t){return(0,j.U)(t)&&this.known.has(t)},n.prototype.pass=function(t){if((0,j.U)(t)){var e=function ve(n){return(0,j.U)(n)?(0,O.c)(n)?n.slice(0):(0,d.Cl)({__proto__:Object.getPrototypeOf(n)},n):n}(t);return this.passes.set(e,t),e}return t},n.prototype.admit=function(t){var e=this;if((0,j.U)(t)){var r=this.passes.get(t);if(r)return r;switch(Object.getPrototypeOf(t)){case Array.prototype:if(this.known.has(t))return t;var a=t.map(this.admit,this);return(o=this.pool.lookupArray(a)).array||(this.known.add(o.array=a),!1!==globalThis.__DEV__&&Object.freeze(a)),o.array;case null:case Object.prototype:if(this.known.has(t))return t;var s=Object.getPrototypeOf(t),f=[s],c=this.sortedKeys(t);f.push(c.json);var o,u=f.length;if(c.sorted.forEach(function(p){f.push(e.admit(t[p]))}),!(o=this.pool.lookupArray(f)).object){var l=o.object=Object.create(s);this.known.add(l),c.sorted.forEach(function(p,y){l[p]=f[u+y]}),!1!==globalThis.__DEV__&&Object.freeze(l)}return o.object}}return t},n.prototype.sortedKeys=function(t){var e=Object.keys(t),r=this.pool.lookupArray(e);if(!r.keys){e.sort();var i=JSON.stringify(e);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:e,json:i})}return r.keys},n}();function xt(n){return[n.selectionSet,n.objectOrReference,n.context,n.context.canonizeResults]}var me=function(){function n(t){var e=this;this.knownResults=new(K.et?WeakMap:Map),this.config=(0,Ot.o)(t,{addTypename:!1!==t.addTypename,canonizeResults:Rt(t)}),this.canon=t.canon||new Bt,this.executeSelectionSet=(0,V.LV)(function(r){var i,a=r.context.canonizeResults,o=xt(r);o[3]=!a;var s=(i=e.executeSelectionSet).peek.apply(i,o);return s?a?(0,d.Cl)((0,d.Cl)({},s),{result:e.canon.admit(s.result)}):s:(At(r.context.store,r.enclosingRef.__ref),e.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize||Z.v["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:xt,makeCacheKey:function(r,i,a,o){if(N(a.store))return a.store.makeCacheKey(r,(0,v.A_)(i)?i.__ref:i,a.varString,o)}}),this.executeSubSelectedArray=(0,V.LV)(function(r){return At(r.context.store,r.enclosingRef.__ref),e.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize||Z.v["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(r){var i=r.field,a=r.array,o=r.context;if(N(o.store))return o.store.makeCacheKey(i,a,o.varString)}})}return n.prototype.resetCanon=function(){this.canon=new Bt},n.prototype.diffQueryAgainstStore=function(t){var e=t.store,r=t.query,i=t.rootId,a=void 0===i?"ROOT_QUERY":i,o=t.variables,s=t.returnPartialData,f=void 0===s||s,c=t.canonizeResults,u=void 0===c?this.config.canonizeResults:c,l=this.config.cache.policies;o=(0,d.Cl)((0,d.Cl)({},(0,k.wY)((0,k.AT)(r))),o);var y,h=(0,v.WU)(a),p=this.executeSelectionSet({selectionSet:(0,k.Vn)(r).selectionSet,objectOrReference:h,enclosingRef:h,context:(0,d.Cl)({store:e,query:r,policies:l,variables:o,varString:(0,W.M)(o),canonizeResults:u},wt(r,this.config.fragments))});if(p.missing&&(y=[new St(ge(p.missing),p.missing,r,o)],!f))throw y[0];return{result:p.result,complete:!y,missing:y}},n.prototype.isFresh=function(t,e,r,i){if(N(i.store)&&this.knownResults.get(t)===r){var a=this.executeSelectionSet.peek(r,e,i,this.canon.isKnown(t));if(a&&t===a.result)return!0}return!1},n.prototype.execSelectionSetImpl=function(t){var e=this,r=t.selectionSet,i=t.objectOrReference,a=t.enclosingRef,o=t.context;if((0,v.A_)(i)&&!o.policies.rootTypenamesById[i.__ref]&&!o.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var h,s=o.variables,f=o.policies,u=o.store.getFieldValue(i,"__typename"),l=[],p=new I.ZI;function y(m,T){var M;return m.missing&&(h=p.merge(h,((M={})[T]=m.missing,M))),m.result}this.config.addTypename&&"string"==typeof u&&!f.rootIdsByTypename[u]&&l.push({__typename:u});var b=new Set(r.selections);b.forEach(function(m){var T,M;if((0,at.MS)(m,s))if((0,v.dt)(m)){var F=f.readField({fieldName:m.name.value,field:m,variables:o.variables,from:i},o),w=(0,v.ue)(m);void 0===F?nt.XY.added(m)||(h=p.merge(h,((T={})[w]="Can't find field '".concat(m.name.value,"' on ").concat((0,v.A_)(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),T))):(0,O.c)(F)?F.length>0&&(F=y(e.executeSubSelectedArray({field:m,array:F,enclosingRef:a,context:o}),w)):m.selectionSet?null!=F&&(F=y(e.executeSelectionSet({selectionSet:m.selectionSet,objectOrReference:F,enclosingRef:(0,v.A_)(F)?F:a,context:o}),w)):o.canonizeResults&&(F=e.canon.pass(F)),void 0!==F&&l.push(((M={})[w]=F,M))}else{var A=(0,Y.HQ)(m,o.lookupFragment);if(!A&&m.kind===Tt.b.FRAGMENT_SPREAD)throw(0,D.vA)(10,m.name.value);A&&f.fragmentMatches(A,u)&&A.selectionSet.selections.forEach(b.add,b)}});var E={result:(0,I.IM)(l),missing:h},S=o.canonizeResults?this.canon.admit(E):(0,ot.G)(E);return S.result&&this.knownResults.set(S.result,r),S},n.prototype.execSubSelectedArrayImpl=function(t){var s,e=this,r=t.field,i=t.array,a=t.enclosingRef,o=t.context,f=new I.ZI;function c(u,l){var h;return u.missing&&(s=f.merge(s,((h={})[l]=u.missing,h))),u.result}return r.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map(function(u,l){return null===u?null:(0,O.c)(u)?c(e.executeSubSelectedArray({field:r,array:u,enclosingRef:a,context:o}),l):r.selectionSet?c(e.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:u,enclosingRef:(0,v.A_)(u)?u:a,context:o}),l):(!1!==globalThis.__DEV__&&function be(n,t,e){if(!t.selectionSet){var r=new Set([e]);r.forEach(function(i){(0,j.U)(i)&&((0,D.V1)(!(0,v.A_)(i),11,function he(n,t){return(0,v.A_)(t)?n.get(t.__ref,"__typename"):t&&t.__typename}(n,i),t.name.value),Object.values(i).forEach(r.add,r))})}}(o.store,r,u),u)}),{result:o.canonizeResults?this.canon.admit(i):i,missing:s}},n}();function ge(n){try{JSON.stringify(n,function(t,e){if("string"==typeof e)throw e;return e})}catch(t){return t}}var Ce=g(21736),Se=g(7089),G=g(55663),kt=Object.create(null);function ut(n){var t=JSON.stringify(n);return kt[t]||(kt[t]=Object.create(null))}function It(n){var t=ut(n);return t.keyFieldsFn||(t.keyFieldsFn=function(e,r){var i=function(o,s){return r.readField(s,o)},a=r.keyObject=lt(n,function(o){var s=L(r.storeObject,o,i);return void 0===s&&e!==r.storeObject&&R.call(e,o[0])&&(s=L(e,o,Lt)),(0,D.V1)(void 0!==s,5,o.join("."),e),s});return"".concat(r.typename,":").concat(JSON.stringify(a))})}function zt(n){var t=ut(n);return t.keyArgsFn||(t.keyArgsFn=function(e,r){var i=r.field,a=r.variables,o=r.fieldName,s=lt(n,function(c){var u=c[0],l=u.charAt(0);if("@"!==l)if("$"!==l){if(e)return L(e,c)}else{var b=u.slice(1);if(a&&R.call(a,b)){var C=c.slice(0);return C[0]=b,L(a,C)}}else if(i&&(0,O.E)(i.directives)){var h=u.slice(1),p=i.directives.find(function(E){return E.name.value===h}),y=p&&(0,v.MB)(p,a);return y&&L(y,c.slice(1))}}),f=JSON.stringify(s);return(e||"{}"!==f)&&(o+=":"+f),o})}function lt(n,t){var e=new I.ZI;return Pt(n).reduce(function(r,i){var a,o=t(i);if(void 0!==o){for(var s=i.length-1;s>=0;--s)(a={})[i[s]]=o,o=a;r=e.merge(r,o)}return r},Object.create(null))}function Pt(n){var t=ut(n);if(!t.paths){var e=t.paths=[],r=[];n.forEach(function(i,a){(0,O.c)(i)?(Pt(i).forEach(function(o){return e.push(r.concat(o))}),r.length=0):(r.push(i),(0,O.c)(n[a+1])||(e.push(r.slice(0)),r.length=0))})}return t.paths}function Lt(n,t){return n[t]}function L(n,t,e){return e=e||Lt,Vt(t.reduce(function r(i,a){return(0,O.c)(i)?i.map(function(o){return r(o,a)}):i&&e(i,a)},n))}function Vt(n){return(0,j.U)(n)?(0,O.c)(n)?n.map(Vt):lt(Object.keys(n).sort(),function(t){return L(n,t)}):n}var Te=g(77416);function ht(n){return void 0!==n.args?n.args:n.field?(0,v.MB)(n.field,n.variables):null}var Oe=function(){},Ut=function(n,t){return t.fieldName},Wt=function(n,t,e){return(0,e.mergeObjects)(n,t)},Kt=function(n,t){return t},Ee=function(){function n(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,d.Cl)({dataIdFromObject:Et},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return n.prototype.identify=function(t,e){var r,i=this,a=e&&(e.typename||(null===(r=e.storeObject)||void 0===r?void 0:r.__typename))||t.__typename;if(a===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];var f,o=e&&e.storeObject||t,s=(0,d.Cl)((0,d.Cl)({},e),{typename:a,storeObject:o,readField:e&&e.readField||function(){var l=pt(arguments,o);return i.readField(l,{store:i.cache.data,variables:l.variables})}}),c=a&&this.getTypePolicy(a),u=c&&c.keyFn||this.config.dataIdFromObject;return Te.yV.withValue(!0,function(){for(;u;){var l=u((0,d.Cl)((0,d.Cl)({},t),o),s);if(!(0,O.c)(l)){f=l;break}u=It(l)}}),f=f?String(f):void 0,s.keyObject?[f,s.keyObject]:[f]},n.prototype.addTypePolicies=function(t){var e=this;Object.keys(t).forEach(function(r){var i=t[r],a=i.queryType,o=i.mutationType,s=i.subscriptionType,f=(0,d.Tt)(i,["queryType","mutationType","subscriptionType"]);a&&e.setRootTypename("Query",r),o&&e.setRootTypename("Mutation",r),s&&e.setRootTypename("Subscription",r),R.call(e.toBeAdded,r)?e.toBeAdded[r].push(f):e.toBeAdded[r]=[f]})},n.prototype.updateTypePolicy=function(t,e){var r=this,i=this.getTypePolicy(t),a=e.keyFields,o=e.fields;function s(f,c){f.merge="function"==typeof c?c:!0===c?Wt:!1===c?Kt:f.merge}s(i,e.merge),i.keyFn=!1===a?Oe:(0,O.c)(a)?It(a):"function"==typeof a?a:i.keyFn,o&&Object.keys(o).forEach(function(f){var c=r.getFieldPolicy(t,f,!0),u=o[f];if("function"==typeof u)c.read=u;else{var l=u.keyArgs,h=u.read,p=u.merge;c.keyFn=!1===l?Ut:(0,O.c)(l)?zt(l):"function"==typeof l?l:c.keyFn,"function"==typeof h&&(c.read=h),s(c,p)}c.read&&c.merge&&(c.keyFn=c.keyFn||Ut)})},n.prototype.setRootTypename=function(t,e){void 0===e&&(e=t);var r="ROOT_"+t.toUpperCase(),i=this.rootTypenamesById[r];e!==i&&((0,D.V1)(!i||i===t,6,t),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[e]=r,this.rootTypenamesById[r]=e)},n.prototype.addPossibleTypes=function(t){var e=this;this.usingPossibleTypes=!0,Object.keys(t).forEach(function(r){e.getSupertypeSet(r,!0),t[r].forEach(function(i){e.getSupertypeSet(i,!0).add(r);var a=i.match(Ft);(!a||a[0]!==i)&&e.fuzzySubtypes.set(i,new RegExp(i))})})},n.prototype.getTypePolicy=function(t){var e=this;if(!R.call(this.typePolicies,t)){var r=this.typePolicies[t]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(t);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(t,!0),this.fuzzySubtypes.forEach(function(o,s){if(o.test(t)){var f=e.supertypeMap.get(s);f&&f.forEach(function(c){return i.add(c)})}})),i&&i.size&&i.forEach(function(o){var s=e.getTypePolicy(o),f=s.fields,c=(0,d.Tt)(s,["fields"]);Object.assign(r,c),Object.assign(r.fields,f)})}var a=this.toBeAdded[t];return a&&a.length&&a.splice(0).forEach(function(o){e.updateTypePolicy(t,o)}),this.typePolicies[t]},n.prototype.getFieldPolicy=function(t,e,r){if(t){var i=this.getTypePolicy(t).fields;return i[e]||r&&(i[e]=Object.create(null))}},n.prototype.getSupertypeSet=function(t,e){var r=this.supertypeMap.get(t);return!r&&e&&this.supertypeMap.set(t,r=new Set),r},n.prototype.fragmentMatches=function(t,e,r,i){var a=this;if(!t.typeCondition)return!0;if(!e)return!1;var o=t.typeCondition.name.value;if(e===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var s=this.getSupertypeSet(e,!0),f=[s],c=function(y){var b=a.getSupertypeSet(y,!1);b&&b.size&&f.indexOf(b)<0&&f.push(b)},u=!(!r||!this.fuzzySubtypes.size),l=!1,h=0;h<f.length;++h){var p=f[h];if(p.has(o))return s.has(o)||(l&&!1!==globalThis.__DEV__&&D.V1.warn(7,e,o),s.add(o)),!0;p.forEach(c),u&&h===f.length-1&&st(t.selectionSet,r,i)&&(u=!1,l=!0,this.fuzzySubtypes.forEach(function(y,b){var C=e.match(y);C&&C[0]===e&&c(b)}))}return!1},n.prototype.hasKeyArgs=function(t,e){var r=this.getFieldPolicy(t,e,!1);return!(!r||!r.keyFn)},n.prototype.getStoreFieldName=function(t){var a,e=t.typename,r=t.fieldName,i=this.getFieldPolicy(e,r,!1),o=i&&i.keyFn;if(o&&e)for(var s={typename:e,fieldName:r,field:t.field||null,variables:t.variables},f=ht(t);o;){var c=o(f,s);if(!(0,O.c)(c)){a=c||r;break}o=zt(c)}return void 0===a&&(a=t.field?(0,v.Ii)(t.field,t.variables):(0,v.o5)(r,ht(t))),!1===a?r:r===B(a)?a:r+":"+a},n.prototype.readField=function(t,e){var r=t.from;if(r&&(t.field||t.fieldName)){if(void 0===t.typename){var a=e.store.getFieldValue(r,"__typename");a&&(t.typename=a)}var o=this.getStoreFieldName(t),s=B(o),f=e.store.getFieldValue(r,o),c=this.getFieldPolicy(t.typename,s,!1),u=c&&c.read;if(u){var l=Qt(this,r,t,e,e.store.getStorage((0,v.A_)(r)?r.__ref:r,o));return G.bl.withValue(this.cache,u,[f,l])}return f}},n.prototype.getReadFunction=function(t,e){var r=this.getFieldPolicy(t,e,!1);return r&&r.read},n.prototype.getMergeFunction=function(t,e,r){var i=this.getFieldPolicy(t,e,!1),a=i&&i.merge;return!a&&r&&(a=(i=this.getTypePolicy(r))&&i.merge),a},n.prototype.runMergeFunction=function(t,e,r,i,a){var o=r.field,s=r.typename,f=r.merge;return f===Wt?Ht(i.store)(t,e):f===Kt?e:(i.overwrite&&(t=void 0),f(t,e,Qt(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:i.variables},i,a||Object.create(null))))},n}();function Qt(n,t,e,r,i){var a=n.getStoreFieldName(e),o=B(a),s=e.variables||r.variables,f=r.store,c=f.toReference,u=f.canRead;return{args:ht(e),field:e.field||null,fieldName:o,storeFieldName:a,variables:s,isReference:v.A_,toReference:c,storage:i,cache:n.cache,canRead:u,readField:function(){return n.readField(pt(arguments,t,s),r)},mergeObjects:Ht(r.store)}}function pt(n,t,e){var o,r=n[0];return"string"==typeof r?o={fieldName:r,from:n.length>1?n[1]:t}:(o=(0,d.Cl)({},r),R.call(o,"from")||(o.from=t)),!1!==globalThis.__DEV__&&void 0===o.from&&!1!==globalThis.__DEV__&&D.V1.warn(8,(0,Se.p)(Array.from(n))),void 0===o.variables&&(o.variables=e),o}function Ht(n){return function(e,r){if((0,O.c)(e)||(0,O.c)(r))throw(0,D.vA)(9);if((0,j.U)(e)&&(0,j.U)(r)){var i=n.getFieldValue(e,"__typename"),a=n.getFieldValue(r,"__typename");if(i&&a&&i!==a)return r;if((0,v.A_)(e)&&P(r))return n.merge(e.__ref,r),e;if(P(e)&&(0,v.A_)(r))return n.merge(e,r.__ref),r;if(P(e)&&P(r))return(0,d.Cl)((0,d.Cl)({},e),r)}return r}}function dt(n,t,e){var r="".concat(t).concat(e),i=n.flavors.get(r);return i||n.flavors.set(r,i=n.clientOnly===t&&n.deferred===e?n:(0,d.Cl)((0,d.Cl)({},n),{clientOnly:t,deferred:e})),i}var Me=function(){function n(t,e,r){this.cache=t,this.reader=e,this.fragments=r}return n.prototype.writeToStore=function(t,e){var r=this,i=e.query,a=e.result,o=e.dataId,s=e.variables,f=e.overwrite,c=(0,k.Vu)(i),u=function pe(){return new I.ZI}();s=(0,d.Cl)((0,d.Cl)({},(0,k.wY)(c)),s);var l=(0,d.Cl)((0,d.Cl)({store:t,written:Object.create(null),merge:function(p,y){return u.merge(p,y)},variables:s,varString:(0,W.M)(s)},wt(i,this.fragments)),{overwrite:!!f,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),h=this.processSelectionSet({result:a||Object.create(null),dataId:o,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:l});if(!(0,v.A_)(h))throw(0,D.vA)(12,a);return l.incomingById.forEach(function(p,y){var b=p.storeObject,C=p.mergeTree,E=p.fieldNodeSet,S=(0,v.WU)(y);if(C&&C.map.size){var m=r.applyMerges(C,S,b,l);if((0,v.A_)(m))return;b=m}if(!1!==globalThis.__DEV__&&!l.overwrite){var T=Object.create(null);E.forEach(function(w){w.selectionSet&&(T[w.name.value]=!0)}),Object.keys(b).forEach(function(w){(function(w){return!0===T[B(w)]})(w)&&!function(w){var A=C&&C.map.get(w);return!!(A&&A.info&&A.info.merge)}(w)&&function Re(n,t,e,r){var i=function(l){var h=r.getFieldValue(l,e);return"object"==typeof h&&h},a=i(n);if(a){var o=i(t);if(o&&!(0,v.A_)(a)&&!(0,J.L)(a,o)&&!Object.keys(a).every(function(l){return void 0!==r.getFieldValue(o,l)})){var s=r.getFieldValue(n,"__typename")||r.getFieldValue(t,"__typename"),f=B(e),c="".concat(s,".").concat(f);if(!Yt.has(c)){Yt.add(c);var u=[];!(0,O.c)(a)&&!(0,O.c)(o)&&[a,o].forEach(function(l){var h=r.getFieldValue(l,"__typename");"string"==typeof h&&!u.includes(h)&&u.push(h)}),!1!==globalThis.__DEV__&&D.V1.warn(15,f,s,u.length?"either ensure all objects of type "+u.join(" and ")+" have an ID or a custom merge function, or ":"",c,(0,d.Cl)({},a),(0,d.Cl)({},o))}}}}(S,b,w,l.store)})}t.merge(y,b)}),t.retain(h.__ref),h},n.prototype.processSelectionSet=function(t){var e=this,r=t.dataId,i=t.result,a=t.selectionSet,o=t.context,s=t.mergeTree,f=this.cache.policies,c=Object.create(null),u=r&&f.rootTypenamesById[r]||(0,v.D$)(i,a,o.fragmentMap)||r&&o.store.get(r,"__typename");"string"==typeof u&&(c.__typename=u);var l=function(){var m=pt(arguments,c,o.variables);if((0,v.A_)(m.from)){var T=o.incomingById.get(m.from.__ref);if(T){var M=f.readField((0,d.Cl)((0,d.Cl)({},m),{from:T.storeObject}),o);if(void 0!==M)return M}}return f.readField(m,o)},h=new Set;this.flattenFields(a,i,o,u).forEach(function(m,T){var M,F=(0,v.ue)(T),w=i[F];if(h.add(T),void 0!==w){var A=f.getStoreFieldName({typename:u,fieldName:T.name.value,field:T,variables:m.variables}),re=Gt(s,A),rt=e.processFieldValue(w,T,T.selectionSet?dt(m,!1,!1):m,re),ie=void 0;T.selectionSet&&((0,v.A_)(rt)||P(rt))&&(ie=l("__typename",rt));var ne=f.getMergeFunction(u,T.name.value,ie);ne?re.info={field:T,typename:u,merge:ne}:Jt(s,A),c=m.merge(c,((M={})[A]=rt,M))}else!1!==globalThis.__DEV__&&!m.clientOnly&&!m.deferred&&!nt.XY.added(T)&&!f.getReadFunction(u,T.name.value)&&!1!==globalThis.__DEV__&&D.V1.error(13,(0,v.ue)(T),i)});try{var p=f.identify(i,{typename:u,selectionSet:a,fragmentMap:o.fragmentMap,storeObject:c,readField:l}),b=p[1];r=r||p[0],b&&(c=o.merge(c,b))}catch(m){if(!r)throw m}if("string"==typeof r){var C=(0,v.WU)(r),E=o.written[r]||(o.written[r]=[]);if(E.indexOf(a)>=0||(E.push(a),this.reader&&this.reader.isFresh(i,C,a,o)))return C;var S=o.incomingById.get(r);return S?(S.storeObject=o.merge(S.storeObject,c),S.mergeTree=yt(S.mergeTree,s),h.forEach(function(m){return S.fieldNodeSet.add(m)})):o.incomingById.set(r,{storeObject:c,mergeTree:q(s)?void 0:s,fieldNodeSet:h}),C}return c},n.prototype.processFieldValue=function(t,e,r,i){var a=this;return e.selectionSet&&null!==t?(0,O.c)(t)?t.map(function(o,s){var f=a.processFieldValue(o,e,r,Gt(i,s));return Jt(i,s),f}):this.processSelectionSet({result:t,selectionSet:e.selectionSet,context:r,mergeTree:i}):!1!==globalThis.__DEV__?(0,Ce.m)(t):t},n.prototype.flattenFields=function(t,e,r,i){void 0===i&&(i=(0,v.D$)(e,t,r.fragmentMap));var a=new Map,o=this.cache.policies,s=new $.b(!1);return function f(c,u){var l=s.lookup(c,u.clientOnly,u.deferred);l.visited||(l.visited=!0,c.selections.forEach(function(h){if((0,at.MS)(h,r.variables)){var p=u.clientOnly,y=u.deferred;if(!(p&&y)&&(0,O.E)(h.directives)&&h.directives.forEach(function(E){var S=E.name.value;if("client"===S&&(p=!0),"defer"===S){var m=(0,v.MB)(E,r.variables);(!m||!1!==m.if)&&(y=!0)}}),(0,v.dt)(h)){var b=a.get(h);b&&(p=p&&b.clientOnly,y=y&&b.deferred),a.set(h,dt(r,p,y))}else{var C=(0,Y.HQ)(h,r.lookupFragment);if(!C&&h.kind===Tt.b.FRAGMENT_SPREAD)throw(0,D.vA)(14,h.name.value);C&&o.fragmentMatches(C,i,e,r.variables)&&f(C.selectionSet,dt(r,p,y))}}}))}(t,r),a},n.prototype.applyMerges=function(t,e,r,i,a){var o,s=this;if(t.map.size&&!(0,v.A_)(r)){var f=(0,O.c)(r)||!(0,v.A_)(e)&&!P(e)?void 0:e,c=r;f&&!a&&(a=[(0,v.A_)(f)?f.__ref:f]);var u,l=function(h,p){return(0,O.c)(h)?"number"==typeof p?h[p]:void 0:i.store.getFieldValue(h,String(p))};t.map.forEach(function(h,p){var y=l(f,p),b=l(c,p);if(void 0!==b){a&&a.push(p);var C=s.applyMerges(h,y,b,i,a);C!==b&&(u=u||new Map).set(p,C),a&&(0,D.V1)(a.pop()===p)}}),u&&(r=(0,O.c)(c)?c.slice(0):(0,d.Cl)({},c),u.forEach(function(h,p){r[p]=h}))}return t.info?this.cache.policies.runMergeFunction(e,r,t.info,i,a&&(o=i.store).getStorage.apply(o,a)):r},n}(),Nt=[];function Gt(n,t){var e=n.map;return e.has(t)||e.set(t,Nt.pop()||{map:new Map}),e.get(t)}function yt(n,t){if(n===t||!t||q(t))return n;if(!n||q(n))return t;var e=n.info&&t.info?(0,d.Cl)((0,d.Cl)({},n.info),t.info):n.info||t.info,r=n.map.size&&t.map.size,a={info:e,map:r?new Map:n.map.size?n.map:t.map};if(r){var o=new Set(t.map.keys());n.map.forEach(function(s,f){a.map.set(f,yt(s,t.map.get(f))),o.delete(f)}),o.forEach(function(s){a.map.set(s,yt(t.map.get(s),n.map.get(s)))})}return a}function q(n){return!n||!(n.info||n.map.size)}function Jt(n,t){var e=n.map,r=e.get(t);r&&q(r)&&(Nt.push(r),e.delete(t))}var Yt=new Set,Zt=function(n){function t(e){void 0===e&&(e={});var r=n.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new fe.c(nt.XY),r.assumeImmutableResults=!0,r.makeVar=G.UT,r.txCount=0,r.config=function le(n){return(0,Ot.o)(Mt,n)}(e),r.addTypename=!!r.config.addTypename,r.policies=new Ee({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return(0,d.C6)(t,n),t.prototype.init=function(){var e=this.data=new H.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var r=this,i=this.storeReader,a=this.config.fragments;this.storeWriter=new Me(this,this.storeReader=new me({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Rt(this.config),canon:e?void 0:i&&i.canon,fragments:a}),a),this.maybeBroadcastWatch=(0,V.LV)(function(o,s){return r.broadcastWatch(o,s)},{max:this.config.resultCacheMaxSize||Z.v["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(o){var s=o.optimistic?r.optimisticData:r.data;if(N(s))return s.makeCacheKey(o.query,o.callback,(0,W.M)({optimistic:o.optimistic,id:o.id,variables:o.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var r=e.returnPartialData,i=void 0!==r&&r;try{return this.storeReader.diffQueryAgainstStore((0,d.Cl)((0,d.Cl)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(a){if(a instanceof St)return null;throw a}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{! --this.txCount&&!1!==e.broadcast&&this.broadcastWatches()}},t.prototype.modify=function(e){if(R.call(e,"id")&&!e.id)return!1;var r=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(e.id||"ROOT_QUERY",e.fields)}finally{! --this.txCount&&!1!==e.broadcast&&this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore((0,d.Cl)((0,d.Cl)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var r=this;return this.watches.size||(0,G.MS)(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){r.watches.delete(e)&&!r.watches.size&&(0,G.WR)(r),r.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){var r;W.M.reset(),ue.y.reset(),this.addTypenameTransform.resetCache(),null===(r=this.config.fragments)||void 0===r||r.resetCaches();var i=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),i},t.prototype.retain=function(e,r){return(r?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,r){return(r?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if((0,v.A_)(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(r){!1!==globalThis.__DEV__&&D.V1.warn(r)}},t.prototype.evict=function(e){if(!e.id){if(R.call(e,"id"))return!1;e=(0,d.Cl)((0,d.Cl)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{! --this.txCount&&!1!==e.broadcast&&this.broadcastWatches()}},t.prototype.reset=function(e){var r=this;return this.init(),W.M.reset(),e&&e.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),(0,G.WR)(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var r=this.optimisticData.removeLayer(e);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},t.prototype.batch=function(e){var c,r=this,i=e.update,a=e.optimistic,o=void 0===a||a,s=e.removeOptimistic,f=e.onWatchUpdated,u=function(h){var y=r.data,b=r.optimisticData;++r.txCount,h&&(r.data=r.optimisticData=h);try{return c=i(r)}finally{--r.txCount,r.data=y,r.optimisticData=b}},l=new Set;return f&&!this.txCount&&this.broadcastWatches((0,d.Cl)((0,d.Cl)({},e),{onWatchUpdated:function(h){return l.add(h),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,u):!1===o?u(this.data):u(),"string"==typeof s&&(this.optimisticData=this.optimisticData.removeLayer(s)),f&&l.size?(this.broadcastWatches((0,d.Cl)((0,d.Cl)({},e),{onWatchUpdated:function(h,p){var y=f.call(this,h,p);return!1!==y&&l.delete(h),y}})),l.size&&l.forEach(function(h){return r.maybeBroadcastWatch.dirty(h)})):this.broadcastWatches(e),c},t.prototype.performTransaction=function(e,r){return this.batch({update:e,optimistic:r||null!==r})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.fragmentMatches=function(e,r){return this.policies.fragmentMatches(e,r)},t.prototype.lookupFragment=function(e){var r;return(null===(r=this.config.fragments)||void 0===r?void 0:r.lookup(e))||null},t.prototype.broadcastWatches=function(e){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,e)})},t.prototype.addFragmentsToDocument=function(e){var r=this.config.fragments;return r?r.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,r){var i=e.lastDiff,a=this.diff(e);r&&(e.optimistic&&"string"==typeof r.optimistic&&(a.fromOptimisticTransaction=!0),r.onWatchUpdated&&!1===r.onWatchUpdated.call(this,e,a,i))||(!i||!(0,J.L)(i.result,a.result))&&e.callback(e.lastDiff=a,i)},t}(Ct);!1!==globalThis.__DEV__&&(Zt.prototype.getMemoryInternals=bt.cM);var $t=g(85720),Xt=g(34848),_=g(99019),vt=g(97938),tt=g(46335),mt=g(48900),Fe=function(){function n(t){var e=t.batchDebounce,r=t.batchInterval,i=t.batchMax,a=t.batchHandler,o=t.batchKey;this.batchesByKey=new Map,this.scheduledBatchTimerByKey=new Map,this.batchDebounce=e,this.batchInterval=r,this.batchMax=i||0,this.batchHandler=a,this.batchKey=o||function(){return""}}return n.prototype.enqueueRequest=function(t){var e=this,r=(0,d.Cl)((0,d.Cl)({},t),{next:[],error:[],complete:[],subscribers:new Set}),i=this.batchKey(t.operation);return r.observable||(r.observable=new U.c(function(a){var o=e.batchesByKey.get(i);o||e.batchesByKey.set(i,o=new Set);var s=0===o.size,f=0===r.subscribers.size;return r.subscribers.add(a),f&&o.add(r),a.next&&r.next.push(a.next.bind(a)),a.error&&r.error.push(a.error.bind(a)),a.complete&&r.complete.push(a.complete.bind(a)),(s||e.batchDebounce)&&e.scheduleQueueConsumption(i),o.size===e.batchMax&&e.consumeQueue(i),function(){var c;r.subscribers.delete(a)&&r.subscribers.size<1&&o.delete(r)&&o.size<1&&(e.consumeQueue(i),null===(c=o.subscription)||void 0===c||c.unsubscribe())}})),r.observable},n.prototype.consumeQueue=function(t){void 0===t&&(t="");var e=this.batchesByKey.get(t);if(this.batchesByKey.delete(t),e&&e.size){var r=[],i=[],a=[],o=[],s=[],f=[];e.forEach(function(l){r.push(l.operation),i.push(l.forward),a.push(l.observable),o.push(l.next),s.push(l.error),f.push(l.complete)});var c=this.batchHandler(r,i)||U.c.of(),u=function(l){s.forEach(function(h){h&&h.forEach(function(p){return p(l)})})};return e.subscription=c.subscribe({next:function(l){if(Array.isArray(l)||(l=[l]),o.length!==l.length){var h=new Error("server returned results with length ".concat(l.length,", expected length of ").concat(o.length));return h.result=l,u(h)}l.forEach(function(p,y){o[y]&&o[y].forEach(function(b){return b(p)})})},error:u,complete:function(){f.forEach(function(l){l&&l.forEach(function(h){return h()})})}}),a}},n.prototype.scheduleQueueConsumption=function(t){var e=this;clearTimeout(this.scheduledBatchTimerByKey.get(t)),this.scheduledBatchTimerByKey.set(t,setTimeout(function(){e.consumeQueue(t),e.scheduledBatchTimerByKey.delete(t)},this.batchInterval))},n}();!function(n){function t(e){var r=n.call(this)||this,i=e||{},o=i.batchInterval,f=i.batchMax,u=i.batchHandler,h=i.batchKey;return r.batcher=new Fe({batchDebounce:i.batchDebounce,batchInterval:void 0===o?10:o,batchMax:void 0===f?0:f,batchHandler:void 0===u?function(){return null}:u,batchKey:void 0===h?function(){return""}:h}),e.batchHandler.length<=1&&(r.request=function(y){return r.batcher.enqueueRequest({operation:y})}),r}(0,d.C6)(t,n),t.prototype.request=function(e,r){return this.batcher.enqueueRequest({operation:e,forward:r})}}(vt.C);class De extends vt.C{httpClient;options;requester;print=Xt.y;constructor(t,e){super(),this.httpClient=t,this.options=e,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=r=>new U.c(i=>{const a=r.getContext(),o=(S,m)=>function z(...n){const t=n.find(e=>typeof e<"u");return typeof t>"u"?n[n.length-1]:t}(a[S],this.options[S],m);let s=o("method","POST");const f=o("includeQuery",!0),c=o("includeExtensions",!1),u=o("uri","graphql"),l=o("withCredentials"),h=o("useMultipart"),p=!0===this.options.useGETForQueries,y=r.query.definitions.some(S=>"OperationDefinition"===S.kind&&"query"===S.operation);p&&y&&(s="GET");const b={method:s,url:"function"==typeof u?u(r):u,body:{operationName:r.operationName,variables:r.variables},options:{withCredentials:l,useMultipart:h,headers:this.options.headers}};c&&(b.body.extensions=r.extensions),f&&(b.body.query=this.print(r.query));const C=function te(n){let t=n.headers&&n.headers instanceof mt.Lr?n.headers:new mt.Lr(n.headers);if(n.clientAwareness){const{name:e,version:r}=n.clientAwareness;e&&!t.has("apollographql-client-name")&&(t=t.set("apollographql-client-name",e)),r&&!t.has("apollographql-client-version")&&(t=t.set("apollographql-client-version",r))}return t}(a);b.options.headers=((n,t)=>n&&t?t.keys().reduce((r,i)=>r.set(i,t.getAll(i)),n):t||n)(b.options.headers,C);const E=((n,t,e)=>{const r=-1!==["POST","PUT","PATCH"].indexOf(n.method.toUpperCase()),a=n.body.length;let s,o=n.options&&n.options.useMultipart;if(o){if(a)return new tt.c(c=>c.error(new Error("File upload is not available when combined with Batching")));if(!r)return new tt.c(c=>c.error(new Error("File upload is not available when GET is used")));if(!e)return new tt.c(c=>c.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));s=e(n.body),o=!!s.files.size}let f={};if(a){if(!r)return new tt.c(c=>c.error(new Error("Batching is not available for GET requests")));f={body:n.body}}else f=r?{body:o?s.clone:n.body}:{params:Object.keys(n.body).reduce((l,h)=>{const p=n.body[h];return l[h]=-1!==["variables","extensions"].indexOf(h.toLowerCase())?JSON.stringify(p):p,l},{})};if(o&&r){const c=new FormData;c.append("operations",JSON.stringify(f.body));const u={},l=s.files;let h=0;l.forEach(p=>{u[++h]=p}),c.append("map",JSON.stringify(u)),h=0,l.forEach((p,y)=>{c.append(++h+"",y,y.name)}),f.body=c}return t.request(n.method,n.url,{observe:"response",responseType:"json",reportProgress:!1,...f,...n.options})})(b,this.httpClient,this.options.extractFiles).subscribe({next:S=>{r.setContext({response:S}),i.next(S.body)},error:S=>i.error(S),complete:()=>i.complete()});return()=>{E.closed||E.unsubscribe()}})}request(t){return this.requester(t)}}let je=(()=>{class n{httpClient;constructor(e){this.httpClient=e}create(e){return new De(this.httpClient,e)}static \u0275fac=function(r){return new(r||n)(_.KVO(mt.Qq))};static \u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ee=g(85907);const Be=[{path:"overview",loadChildren:function(){var n=(0,it.A)(function*(){return g.e(115).then(g.bind(g,72115))});return function(){return n.apply(this,arguments)}}()},{path:"tutorials",loadChildren:function(){var n=(0,it.A)(function*(){return Promise.resolve().then(g.bind(g,27742))});return function(){return n.apply(this,arguments)}}()},{path:"widget-types",loadChildren:function(){var n=(0,it.A)(function*(){return Promise.resolve().then(g.bind(g,55700))});return function(){return n.apply(this,arguments)}}()}];let xe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=_.$C({type:n})}static{this.\u0275inj=_.G2t({providers:[{provide:$t.$Y,useFactory:e=>({cache:new Zt,link:e.create({uri:"https://countries-274616.ew.r.appspot.com/"})}),deps:[je]}],imports:[ee.a4p,ee.GDi,$t._9,ae.iI.forChild(Be)]})}}return n})()}}]);