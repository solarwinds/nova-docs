"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[6027],{76027:(oe,M,a)=>{a.r(M),a.d(M,{default:()=>ne});var S=a(61259),h=a(49432),o=a(61796),e=a(99019),R=a(98378),g=a(49232),p=a(26725),v=a(3683);let D=(()=>{class r{constructor(){this.presets={99:{name:"99-th percentile"},95:{name:"95-th percentile"},80:{name:"80-th percentile"}},this.presetKeysOrder=["95","99","80"],this.selectedPresetKey="95",this.selectedValue=+(this.selectedPresetKey||"")}handlePresetSelection(t){this.selectedPresetKey=t,t&&(this.selectedValue=+this.selectedPresetKey)}handleCustomSelection(t){this.selectedPresetKey=-1!==Object.keys(this.presets).indexOf(t.toString())?t.toString():void 0,this.selectedValue=t}getTextboxValue(){return+(this.selectedPresetKey||"")||this.selectedValue}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-quick-picker-basic"]],decls:4,vars:7,consts:function(){let t;return t=$localize`:␟01454926e96a89d8121942c3a93886cd93487572␟7512936423899299183:Custom percentiles`,[["pickerTitle",t,3,"presets","selectedPreset","presetKeysOrder","presetSelected"],[3,"maxValue","value","valueChange"],[1,"nui-text-secondary"]]},template:function(s,i){1&s&&(e.j41(0,"nui-quick-picker",0),e.bIt("presetSelected",function(l){return i.handlePresetSelection(l)}),e.j41(1,"nui-textbox-number",1),e.bIt("valueChange",function(l){return i.handleCustomSelection(l)}),e.k0s()(),e.j41(2,"span",2),e.EFF(3),e.k0s()),2&s&&(e.Y8G("presets",i.presets)("selectedPreset",i.selectedPresetKey)("presetKeysOrder",i.presetKeysOrder),e.R7$(1),e.Y8G("maxValue",100)("value",i.getTextboxValue()),e.R7$(2),e.Lme("Selected Quick Pick is ",i.selectedPresetKey||"null",", Selected Value is ",i.selectedValue,""))},dependencies:[p.x,v.V],encapsulation:2})}}return r})();var m=a(52667),P=a(51596),d=a(30822),u=a(23882),E=a(54739),T=a(7840),f=a(89214);function O(r,_){if(1&r){const t=e.RV6();e.j41(0,"nui-dialog-footer")(1,"button",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.cancelPopover())}),e.pXf(2,7),e.k0s(),e.j41(3,"button",8),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.confirmPopover())}),e.pXf(4,9),e.k0s()()}}function N(r,_){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"nui-quick-picker",3),e.bIt("presetSelected",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.handlePresetSelection(i))}),e.j41(2,"nui-time-frame-picker",4),e.bIt("changed",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.updateTf(i))}),e.k0s()()(),e.DNE(3,O,5,0,"nui-dialog-footer",5)}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.R7$(1),e.Y8G("startModel",t.acceptedTimeframe),e.R7$(1),e.Y8G("ngIf",t.showFooter)}}let j=(()=>{class r{constructor(t){this.timeframeService=t,this.selectedPresetKey="lastHour",this.showFooter=!1,this.closePopoverSubject=new m.B,this.openPopoverSubject=new m.B,this.presets=t.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}updateTf(t){this.tf=t,(()=>this.timeframeService.areTimeFrameDatesValid(t))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(t){this.selectedPresetKey=t,this.tf=this.timeframeService.getTimeframeByPresetId(t),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(o.Ule))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-time-frame-picker-basic-example"]],decls:6,vars:7,consts:function(){let t,s,i;return t=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,s=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `,i=$localize`:␟3c8adc665cde2a280fd027f86fca78239d8a890c␟3416889908563565605: Use `,[["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",t,3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],s,["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],i]},template:function(s,i){if(1&s&&(e.j41(0,"nui-popover",0)(1,"span",1),e.EFF(2),e.nI1(3,"timeFrame"),e.k0s()(),e.DNE(4,N,4,4,"ng-template",null,2,e.C5r)),2&s){const n=e.sdS(5);e.Y8G("template",n)("hasPadding",!1)("closePopover",i.closePopoverSubject)("modal",!0),e.R7$(2),e.JRh(e.bMT(3,5,i.acceptedTimeframe))}},dependencies:[P.Q,p.x,d.M,u.r,E.bT,T.Z,f.c],encapsulation:2})}}return r})();function y(r,_){if(1&r){const t=e.RV6();e.j41(0,"nui-dialog-footer")(1,"button",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.cancelPopover())}),e.pXf(2,7),e.k0s(),e.j41(3,"button",8),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.confirmPopover())}),e.pXf(4,9),e.k0s()()}}function A(r,_){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"nui-quick-picker",3),e.bIt("presetSelected",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.handlePresetSelection(i))}),e.j41(2,"nui-time-frame-picker",4),e.bIt("changed",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.updateTf(i))}),e.k0s()()(),e.DNE(3,y,5,0,"nui-dialog-footer",5)}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.R7$(1),e.Y8G("startModel",t.acceptedTimeframe),e.R7$(1),e.Y8G("ngIf",t.showFooter)}}let b=(()=>{class r{constructor(t){this.timeframeService=t,this.presets={last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize`Last 749 days`,startDatetimePattern:{days:-749},endDatetimePattern:{}}},this.selectedPresetKey="last42Hours",this.showFooter=!1,this.closePopoverSubject=new m.B,this.openPopoverSubject=new m.B,this.timeframeService.currentPresets=this.presets,this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}updateTf(t){this.tf=t,(()=>this.timeframeService.areTimeFrameDatesValid(t))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(t){this.selectedPresetKey=t,this.tf=this.timeframeService.getTimeframeByPresetId(t),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(o.Ule))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-time-frame-picker-custom"]],features:[e.Jv_([o.Ule])],decls:6,vars:7,consts:function(){let t,s,i;return t=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,s=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `,i=$localize`:␟3c8adc665cde2a280fd027f86fca78239d8a890c␟3416889908563565605: Use `,[["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",t,3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],s,["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],i]},template:function(s,i){if(1&s&&(e.j41(0,"nui-popover",0)(1,"span",1),e.EFF(2),e.nI1(3,"timeFrame"),e.k0s()(),e.DNE(4,A,4,4,"ng-template",null,2,e.C5r)),2&s){const n=e.sdS(5);e.Y8G("template",n)("hasPadding",!1)("closePopover",i.closePopoverSubject)("modal",!0),e.R7$(2),e.JRh(e.bMT(3,5,i.acceptedTimeframe))}},dependencies:[P.Q,p.x,d.M,u.r,E.bT,T.Z,f.c],encapsulation:2})}}return r})();var x=a(40336),C=a.n(x),K=a(64755),F=a.n(K),$=a(28508),c=a.n($),k=a(7834);function X(r,_){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"nui-quick-picker",3),e.bIt("presetSelected",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.handlePresetSelection(i))}),e.j41(2,"nui-date-picker",4),e.bIt("valueChange",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.dateChanged(i))}),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("presets",t.presets)("selectedPreset",t.selectedPresetKey),e.R7$(1),e.Y8G("inline",!0)("value",t.selectedDate)("preserveInsignificant",!1)}}let G=(()=>{class r{constructor(){this.selectedPresetKey="ihorsBirthday",this.showFooter=!0,this.closePopoverSubject=new m.B,this.presets=this.getDefaultPresets(),this.selectedDate=this.getDateFromPreset(this.selectedPresetKey)}handlePresetSelection(t){this.selectedDate=this.getDateFromPreset(t),this.selectedPresetKey=t,this.confirmPopover()}dateChanged(t){this.selectedDate.isSame(t,"day")||(this.selectedDate=t,this.selectedPresetKey=this.getPresetFromDate(t),this.confirmPopover())}confirmPopover(){this.closePopoverSubject.next()}getDefaultPresets(){return{today:{name:"Today",pattern:()=>c()()},yesterday:{name:"Yesterday",pattern:()=>c()().subtract(1,"days")},ihorsBirthday:{name:"Ihor's Birthday",pattern:()=>c()("1989-04-09")},random:{name:"Random date (to show that we can)",pattern:()=>c()(+new Date-Math.floor(1e11*Math.random()))}}}getDateFromPreset(t){const s=this.getDefaultPresets()[t];return s?s.pattern():c()()}getPresetFromDate(t){const s=C()(Object.keys(this.presets),i=>t.isSame(this.getDateFromPreset(i),"day"));if(F()(s))throw new Error("DatePreset was not found");return s}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-time-frame-picker-date"]],decls:9,vars:6,consts:function(){let t,s;return t=$localize`:␟3097578df437c16281ba2d26960e4ec68092bd55␟6223578779816929641:Custom Date`,s=$localize`:␟0bcfbf63721dae8aa56ca8e134c4e572c95d54db␟4115009543277682440:Baselines`,[["trigger","click",3,"template","hasPadding","closePopover","unlimited","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverDayPicker",""],["pickerTitle",t,"presetsTitle",s,3,"presets","selectedPreset","presetSelected"],[3,"inline","value","preserveInsignificant","valueChange"]]},template:function(s,i){if(1&s&&(e.j41(0,"nui-popover",0)(1,"span",1),e.EFF(2,"Select day"),e.k0s()(),e.j41(3,"p"),e.EFF(4," Selected date: "),e.j41(5,"em"),e.EFF(6),e.k0s()(),e.DNE(7,X,3,5,"ng-template",null,2,e.C5r)),2&s){const n=e.sdS(8);e.Y8G("template",n)("hasPadding",!1)("closePopover",i.closePopoverSubject)("unlimited",!0)("modal",!0),e.R7$(6),e.JRh(null==i.selectedDate?null:i.selectedDate.format("MMMM Do, YYYY"))}},dependencies:[p.x,u.r,k.I],encapsulation:2})}}return r})(),B=(()=>{class r{constructor(){this.tf={startDatetime:c()("04/09/2018","L"),endDatetime:c()("04/10/2018","L"),selectedPresetId:null},this.minDate=c()("04/07/2018","L"),this.maxDate=c()()}updateTf(t){this.tf=t}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-time-frame-picker-inline"]],decls:4,vars:6,consts:[[3,"startModel","maxDate","minDate","changed"],[1,"nui-text-secondary"]],template:function(s,i){1&s&&(e.j41(0,"nui-time-frame-picker",0),e.bIt("changed",function(l){return i.updateTf(l)}),e.k0s(),e.j41(1,"span",1),e.EFF(2),e.nI1(3,"timeFrame"),e.k0s()),2&s&&(e.Y8G("startModel",i.tf)("maxDate",i.maxDate)("minDate",i.minDate),e.R7$(2),e.SpI("Selected timeframe is ",e.bMT(3,4,i.tf),""))},dependencies:[d.M,f.c],encapsulation:2})}}return r})();const L=["scoper"];function V(r,_){if(1&r){const t=e.RV6();e.j41(0,"nui-dialog-footer")(1,"button",9),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2).index,n=e.XpG();return e.Njj(n.cancelPopover(i))}),e.pXf(2,10),e.k0s(),e.j41(3,"button",11),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2).index,n=e.XpG();return e.Njj(n.confirmPopover(i))}),e.pXf(4,12),e.k0s()()}}function U(r,_){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"nui-quick-picker",6),e.bIt("presetSelected",function(i){e.eBV(t);const n=e.XpG().index,l=e.XpG();return e.Njj(l.handlePresetSelection(i,n))}),e.j41(2,"nui-time-frame-picker",7),e.bIt("changed",function(i){e.eBV(t);const n=e.XpG().index,l=e.XpG();return e.Njj(l.updateTf(i,n))}),e.k0s()()(),e.DNE(3,V,5,0,"nui-dialog-footer",8)}if(2&r){const t=e.XpG().$implicit,s=e.XpG();e.R7$(1),e.Y8G("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.R7$(1),e.Y8G("startModel",t.acceptedTimeframe),e.R7$(1),e.Y8G("ngIf",s.showFooter)}}function w(r,_){if(1&r&&(e.j41(0,"div",1)(1,"nui-time-frame-service-scoper",null,2)(3,"nui-popover",3)(4,"span",4),e.EFF(5),e.nI1(6,"timeFrame"),e.k0s()(),e.DNE(7,U,4,4,"ng-template",null,5,e.C5r),e.k0s()()),2&r){const t=_.$implicit,s=e.sdS(8),i=e.XpG();e.R7$(3),e.Y8G("template",s)("hasPadding",!1)("closePopover",i.closePopoverSubject)("modal",!0),e.R7$(2),e.JRh(e.bMT(6,5,t.acceptedTimeframe))}}const Y=["*"];let I=(()=>{class r{constructor(t){this.cdRef=t,this.pickers=[{id:"1",presets:{last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize`Last 749 days`,startDatetimePattern:{days:-749},endDatetimePattern:{}}},selectedPresetKey:"last749Days"},{id:"2",presets:{last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}}},selectedPresetKey:"last42Hours"},{id:"3",presets:{lastYear:{name:$localize`Last year`,startDatetimePattern:{year:-1},endDatetimePattern:{}},last10Years:{name:$localize`Last 10 years`,startDatetimePattern:{year:-10},endDatetimePattern:{}}},selectedPresetKey:"lastYear"}],this.presets={last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize`Last 749 days`,startDatetimePattern:{days:-749},endDatetimePattern:{}}},this.showFooter=!1,this.closePopoverSubject=new m.B,this.openPopoverSubject=new m.B}updateTf(t,s){const i=this.pickers[s];i.tf=t,i.timeframeService?.areTimeFrameDatesValid(t)&&!i.timeframeService?.isEqual(i.tf,i.acceptedTimeframe)&&(this.showFooter=!0),i.selectedPresetKey=i.tf.selectedPresetId}ngAfterViewInit(){this.tfScopers.forEach((t,s)=>{const i=this.pickers[s],n=t.timeframeService;i.timeframeService=n,n.currentPresets=i.presets,i.acceptedTimeframe=n.getTimeframeByPresetId(i.selectedPresetKey),i.tf=i.acceptedTimeframe}),this.cdRef.detectChanges()}confirmPopover(t){const s=this.pickers[t];this.showFooter=!1,this.closePopoverSubject.next(),s.acceptedTimeframe=s.tf}cancelPopover(t){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(t,s){const i=this.pickers[s];i.selectedPresetKey=t,i.tf=i.timeframeService?.getTimeframeByPresetId(t),i.acceptedTimeframe=i.tf,this.closePopoverSubject.next()}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-time-frame-picker-multiple-custom-pickers"]],viewQuery:function(s,i){if(1&s&&e.GBs(L,5),2&s){let n;e.mGM(n=e.lsd())&&(i.tfScopers=n)}},decls:1,vars:1,consts:function(){let t,s,i;return t=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,s=$localize`:␟6a3777f913cf3f288664f0632b9f24794fdcc24e␟6991067716289442185: Cancel `,i=$localize`:␟ed00b437e9ad627b97f49a51d7efc46c7f8001e5␟3260792159339867964: Use `,[["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],["scoper",""],["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",t,3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],s,["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],i]},template:function(s,i){1&s&&e.DNE(0,w,9,7,"div",0),2&s&&e.Y8G("ngForOf",i.pickers)},dependencies:function(){return[P.Q,p.x,d.M,u.r,E.Sq,E.bT,T.Z,z,f.c]},encapsulation:2})}}return r})(),z=(()=>{class r{constructor(t){this.timeframeService=t}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(o.Ule))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-time-frame-service-scoper"]],features:[e.Jv_([o.Ule])],ngContentSelectors:Y,decls:1,vars:0,template:function(s,i){1&s&&(e.NAR(),e.SdG(0))},encapsulation:2})}}return r})(),Q=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-time-frame-picker-docs"]],decls:116,vars:2,consts:[["href","../interfaces/ITimeframe.html","target","_blank"],["filenamePrefix","time-frame-picker-inline","exampleTitle","Basic Usage"],["filenamePrefix","quick-picker-basic","exampleTitle","Quick Picker"],["filenamePrefix","time-frame-picker-basic","exampleTitle","Timeframe Picker in a Popover"],["type","info",3,"allowDismiss"],["filenamePrefix","time-frame-picker-date","exampleTitle","Date-Based Picker in Popover"],["filenamePrefix","time-frame-picker-custom","exampleTitle","Date-Based Picker in Popover"],["filenamePrefix","time-frame-picker-multiple-custom-pickers","exampleTitle","Multiple pickers with custom presets"]],template:function(s,i){1&s&&(e.j41(0,"h2"),e.EFF(1,"Required Modules"),e.k0s(),e.j41(2,"ul")(3,"li")(4,"code"),e.EFF(5,"NuiTimeFramePickerModule"),e.k0s()()(),e.j41(6,"h2"),e.EFF(7,"Basic Usage"),e.k0s(),e.j41(8,"p"),e.EFF(9," The "),e.j41(10,"code"),e.EFF(11,"<nui-time-frame-picker>"),e.k0s(),e.EFF(12," component allows the user to select a time range. Its model is an "),e.j41(13,"code")(14,"a",0),e.EFF(15,"ITimeframe"),e.k0s()(),e.EFF(16," which can be set using the "),e.j41(17,"code"),e.EFF(18,"startModel"),e.k0s(),e.EFF(19," input. All changes can be detected using the "),e.j41(20,"code"),e.EFF(21,"changed"),e.k0s(),e.EFF(22," output. Additionally, max and min dates can be defined by setting the "),e.j41(23,"code"),e.EFF(24,"maxDate"),e.k0s(),e.EFF(25," and "),e.j41(26,"code"),e.EFF(27,"minDate"),e.k0s(),e.EFF(28," inputs with moment instances.\n"),e.k0s(),e.j41(29,"p"),e.EFF(30," If the user selects a start time that's later than the currently selected end time, the selected end time will adjust accordingly to preserve the current timeframe duration.\n"),e.k0s(),e.j41(31,"p"),e.EFF(32," If the user attempts to select an end time that's the same as or earlier than the currently selected start time, no changes occur on either the view or the model.\n"),e.k0s(),e.j41(33,"nui-example-wrapper",1),e.nrm(34,"nui-time-frame-picker-inline"),e.k0s(),e.j41(35,"h2"),e.EFF(36,"Quick Picker Component"),e.k0s(),e.j41(37,"p"),e.EFF(38," The "),e.j41(39,"code"),e.EFF(40,"<nui-quick-picker>"),e.k0s(),e.EFF(41," component is a helper component in the TimeFramePicker module.\n"),e.k0s(),e.j41(42,"p"),e.EFF(43,' In most cases, the default title "Quick Picks" on the left pane should be sufficient; however, if needed, the title can be customized using the '),e.j41(44,"code"),e.EFF(45,"presetsTitle"),e.k0s(),e.EFF(46," input.\n"),e.k0s(),e.j41(47,"p"),e.EFF(48," If a custom ordering of presets is needed, an array of keys can be passed to the "),e.j41(49,"code"),e.EFF(50,"presetKeysOrder"),e.k0s(),e.EFF(51," input.\n"),e.k0s(),e.j41(52,"nui-example-wrapper",2),e.nrm(53,"nui-quick-picker-basic"),e.k0s(),e.j41(54,"h2"),e.EFF(55,"Timeframe Picker in a Popover"),e.k0s(),e.j41(56,"p"),e.EFF(57," To implement the common use-case of a timeframe picker in a popover, combine the "),e.j41(58,"code"),e.EFF(59,"<nui-time-frame-picker>"),e.k0s(),e.EFF(60,", "),e.j41(61,"code"),e.EFF(62,"nui-quick-picker"),e.k0s(),e.EFF(63," and "),e.j41(64,"code"),e.EFF(65,"nui-popover"),e.k0s(),e.EFF(66," elements as shown below.\n"),e.k0s(),e.j41(67,"p"),e.EFF(68," To achieve a modal effect, you can set the popover's "),e.j41(69,"code"),e.EFF(70,"[modal]"),e.k0s(),e.EFF(71," input to "),e.j41(72,"code"),e.EFF(73,"true"),e.k0s(),e.EFF(74,".\n"),e.k0s(),e.j41(75,"nui-example-wrapper",3),e.nrm(76,"nui-time-frame-picker-basic-example"),e.k0s(),e.j41(77,"h2"),e.EFF(78,"Date-Based Picker in Popover"),e.k0s(),e.j41(79,"nui-message",4),e.EFF(80," Please note that in order to adjust popover to the width of inner components you may need to pass "),e.j41(81,"code"),e.EFF(82,'[unlimited]="true"'),e.k0s(),e.EFF(83," to it.\n"),e.k0s(),e.j41(84,"p"),e.EFF(85," You are free to use different types of components inside a Quick Picker. The following example shows how to put a DatePicker inside.\n"),e.k0s(),e.j41(86,"nui-example-wrapper",5),e.nrm(87,"nui-time-frame-picker-date"),e.k0s(),e.j41(88,"h2"),e.EFF(89,"Custom presets with Timeframe Picker"),e.k0s(),e.j41(90,"p"),e.EFF(91," Presets can be changed using "),e.j41(92,"code"),e.EFF(93,"timeframeService.currentPresets"),e.k0s(),e.EFF(94," field.\n"),e.k0s(),e.j41(95,"nui-message",4),e.EFF(96," Please note that TimeFrameService is provided in scope of NuiTimeFramePickerModule once, and since one TimeFrameService instance can keep only one set of presets, in order to have different presets in 2 different components of an application, please provide different TimeFrameService instances in scope of those components (as in the example below, which includes "),e.j41(97,"code"),e.EFF(98,"providers: [TimeframeService]"),e.k0s(),e.EFF(99," in a component decorator).\n"),e.k0s(),e.j41(100,"nui-example-wrapper",6),e.nrm(101,"nui-time-frame-picker-custom"),e.k0s(),e.j41(102,"h2"),e.EFF(103,"Multiple pickers with custom presets"),e.k0s(),e.j41(104,"p"),e.EFF(105," If you want to have multiple instances of "),e.j41(106,"code"),e.EFF(107,"TimeFrameService"),e.k0s(),e.EFF(108," for your time frame pickers, you should provide one in the components providers.\n"),e.k0s(),e.j41(109,"p"),e.EFF(110," The example below shows how to create a component that will be responsible for creating "),e.j41(111,"code"),e.EFF(112,"TimeFrameService"),e.k0s(),e.EFF(113," per component.\n"),e.k0s(),e.j41(114,"nui-example-wrapper",7),e.nrm(115,"nui-time-frame-picker-multiple-custom-pickers"),e.k0s()),2&s&&(e.R7$(79),e.Y8G("allowDismiss",!1),e.R7$(16),e.Y8G("allowDismiss",!1))},dependencies:[R.V,g.t,D,j,b,G,B,I],encapsulation:2})}}return r})();function q(r,_){if(1&r){const t=e.RV6();e.j41(0,"nui-dialog-footer")(1,"button",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.cancelPopover())}),e.pXf(2,7),e.k0s(),e.j41(3,"button",8),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.confirmPopover())}),e.pXf(4,9),e.k0s()()}}function J(r,_){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"nui-quick-picker",3),e.bIt("presetSelected",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.handlePresetSelection(i))}),e.j41(2,"nui-time-frame-picker",4),e.bIt("changed",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.updateTf(i))}),e.k0s()()(),e.DNE(3,q,5,0,"nui-dialog-footer",5)}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.R7$(1),e.Y8G("startModel",t.acceptedTimeframe)("maxDate",t.maxDate)("minDate",t.minDate),e.R7$(1),e.Y8G("ngIf",t.showFooter)}}let H=(()=>{class r{constructor(t){this.timeframeService=t,this.selectedPresetKey="lastHour",this.minDate=c()("04/07/2018","L"),this.maxDate=c()(),this.showFooter=!1,this.closePopoverSubject=new m.B,this.openPopoverSubject=new m.B,this.presets=t.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}updateTf(t){this.tf=t,(()=>this.timeframeService.areTimeFrameDatesValid(t))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(t){this.selectedPresetKey=t,this.tf=this.timeframeService.getTimeframeByPresetId(t),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(o.Ule))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-time-frame-picker-test"]],decls:9,vars:10,consts:function(){let t,s,i;return t=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,s=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `,i=$localize`:␟3c8adc665cde2a280fd027f86fca78239d8a890c␟3416889908563565605: Use `,[["id","nui-demo-basic-time-frame-picker","trigger","click",3,"template","hasPadding","closePopover"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",t,3,"presets","selectedPreset","presetSelected"],[3,"startModel","maxDate","minDate","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action","id","nui-demo-basic-time-frame-picker-cancel",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],s,["nui-button","","type","button","displayStyle","primary","id","nui-demo-basic-time-frame-picker-use",1,"nui-time-frame-picker__use",3,"click"],i]},template:function(s,i){if(1&s&&(e.j41(0,"nui-popover",0)(1,"span",1),e.EFF(2),e.nI1(3,"timeFrame"),e.k0s()(),e.j41(4,"div"),e.EFF(5),e.nI1(6,"timeFrame"),e.k0s(),e.DNE(7,J,4,6,"ng-template",null,2,e.C5r)),2&s){const n=e.sdS(8);e.Y8G("template",n)("hasPadding",!1)("closePopover",i.closePopoverSubject),e.R7$(2),e.JRh(e.bMT(3,5,i.acceptedTimeframe)),e.R7$(3),e.JRh(e.i5U(6,7,i.acceptedTimeframe,"LL LTS"))}},dependencies:[P.Q,p.x,d.M,u.r,E.bT,T.Z,f.c],encapsulation:2})}}return r})();function Z(r,_){if(1&r){const t=e.RV6();e.j41(0,"nui-dialog-footer")(1,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.cancelPopover())}),e.EFF(2," Cancel "),e.k0s(),e.j41(3,"button",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.confirmPopover())}),e.EFF(4," Use "),e.k0s()()}}function W(r,_){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"nui-quick-picker",10),e.bIt("presetSelected",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.handlePresetSelection(i))}),e.j41(2,"nui-time-frame-picker",11),e.bIt("changed",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.updateTf(i))}),e.k0s()()(),e.DNE(3,Z,5,0,"nui-dialog-footer",12)}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.R7$(1),e.Y8G("startModel",t.acceptedTimeframe),e.R7$(1),e.Y8G("ngIf",t.showFooter)}}function ee(r,_){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"nui-quick-picker",15),e.bIt("presetSelected",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.handlePresetSelectionDatePicker(i))}),e.j41(2,"nui-date-picker",16),e.bIt("valueChange",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.dateChanged(i))}),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("presets",t.presetsDatePicker)("selectedPreset",t.selectedPresetKeyDatePicker),e.R7$(1),e.Y8G("inline",!0)("value",t.selectedDate)("preserveInsignificant",!1)}}function te(r,_){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"nui-quick-picker",10),e.bIt("presetSelected",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.handlePresetSelection(i))}),e.j41(2,"nui-time-frame-picker",11),e.bIt("changed",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.updateTf(i))}),e.k0s(),e.j41(3,"nui-date-picker",16),e.bIt("valueChange",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.dateChanged(i))}),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.R7$(1),e.Y8G("startModel",t.acceptedTimeframe),e.R7$(1),e.Y8G("inline",!0)("value",t.selectedDate)("preserveInsignificant",!1)}}let ie=(()=>{class r{constructor(t){this.timeframeService=t,this.selectedPresetKey="lastHour",this.selectedPresetKeyDatePicker="dimasBirthday",this.showFooter=!1,this.closePopoverSubject=new m.B,this.openPopoverSubject=new m.B,this.presets=t.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey,"02/17/1986"),this.tf=this.acceptedTimeframe,this.presetsDatePicker=this.getDefaultPresets(),this.selectedDate=this.getDateFromPreset(this.selectedPresetKeyDatePicker)}updateTf(t){this.tf=t,(()=>this.timeframeService.areTimeFrameDatesValid(t))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(t){this.selectedPresetKeyDatePicker=t,this.tf=this.timeframeService.getTimeframeByPresetId(t,"02/17/1986"),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}confirmPopoverDatePicker(){this.closePopoverSubject.next()}handlePresetSelectionDatePicker(t){this.selectedDate=this.getDateFromPreset(t),this.selectedPresetKeyDatePicker=t,this.confirmPopoverDatePicker()}dateChanged(t){this.selectedDate.isSame(t,"day")||(this.selectedDate=t,this.selectedPresetKeyDatePicker=this.getPresetFromDate(t),this.confirmPopoverDatePicker())}getDefaultPresets(){return{today:{name:"Today",pattern:()=>c()()},yesterday:{name:"Yesterday",pattern:()=>c()().subtract(1,"days")},dimasBirthday:{name:"Dima's Birthday",pattern:()=>c()("1986-02-17")},random:{name:"Random date (to show that we can)",pattern:()=>c()(+new Date-Math.floor(1e11*Math.random()))}}}getDateFromPreset(t){const s=this.getDefaultPresets()[t];return s?s.pattern():c()()}getPresetFromDate(t){const s=C()(Object.keys(this.presets),i=>t.isSame(this.getDateFromPreset(i),"day"));if(F()(s))throw new Error("DatePreset was not found");return s}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(o.Ule))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-time-frame-picker-visual-test"]],decls:32,vars:21,consts:[[1,"container"],[1,"row"],[1,"col"],["trigger","click","id","nui-demo-visual-default-popover",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["trigger","click","id","nui-demo-visual-datepicker-popover",3,"template","hasPadding","closePopover","unlimited","modal"],["popoverDayPicker",""],["trigger","click","id","nui-demo-visual-complex-popover",3,"template","hasPadding","closePopover","modal","unlimited"],["popoverTimeFramePickerUnlimited",""],["pickerTitle","Custom Range",3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],["pickerTitle","Custom Date","presetsTitle","Baselines",3,"presets","selectedPreset","presetSelected"],[3,"inline","value","preserveInsignificant","valueChange"]],template:function(s,i){if(1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),e.EFF(4,"TimeFrame Picker in Popover"),e.k0s(),e.j41(5,"nui-popover",3)(6,"span",4),e.EFF(7),e.nI1(8,"timeFrame"),e.k0s()(),e.DNE(9,W,4,4,"ng-template",null,5,e.C5r),e.k0s(),e.j41(11,"div",2)(12,"h4"),e.EFF(13,"TimeFrame Picker with other components"),e.k0s(),e.j41(14,"nui-popover",6)(15,"span",4),e.EFF(16,"Select day"),e.k0s()(),e.j41(17,"p"),e.EFF(18," Selected date: "),e.j41(19,"em"),e.EFF(20),e.k0s()(),e.DNE(21,ee,3,5,"ng-template",null,7,e.C5r),e.k0s(),e.j41(23,"div",2)(24,"h4"),e.EFF(25," TimeFrame Picker + Date picker with unlimited width in Popover "),e.k0s(),e.j41(26,"nui-popover",8)(27,"span",4),e.EFF(28),e.nI1(29,"timeFrame"),e.k0s()(),e.DNE(30,te,4,6,"ng-template",null,9,e.C5r),e.k0s()()()),2&s){const n=e.sdS(10),l=e.sdS(22),ae=e.sdS(31);e.R7$(5),e.Y8G("template",n)("hasPadding",!1)("closePopover",i.closePopoverSubject)("modal",!0),e.R7$(2),e.JRh(e.bMT(8,17,i.acceptedTimeframe)),e.R7$(7),e.Y8G("template",l)("hasPadding",!1)("closePopover",i.closePopoverSubject)("unlimited",!0)("modal",!0),e.R7$(6),e.JRh(null==i.selectedDate?null:i.selectedDate.format("MMMM Do, YYYY")),e.R7$(6),e.Y8G("template",ae)("hasPadding",!1)("closePopover",i.closePopoverSubject)("modal",!0)("unlimited",!0),e.R7$(2),e.JRh(e.bMT(29,19,i.acceptedTimeframe))}},dependencies:[P.Q,p.x,d.M,u.r,E.bT,T.Z,k.I,f.c],encapsulation:2})}}return r})();var se=a(69196);const re=[{path:"",component:Q,data:{srlc:{stage:o.lcf.ga},showThemeSwitcher:!0}},{path:"time-frame-picker-test",component:H,data:{srlc:{hideIndicator:!0}}},{path:"time-frame-picker-visual-test",component:ie,data:{srlc:{hideIndicator:!0}}},{path:"multiple-custom-pickers",component:I,data:{srlc:{hideIndicator:!0}}}];let ne=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[{provide:o.uzs,useValue:(0,se.R)("time-frame-picker")}],imports:[o.dfW,o.n$U,o._eo,o.GDi,S.YN,o.W0p,o.a4p,o.vrM,h.iI.forChild(re),o.ZdM,o.v1o,h.iI]})}}return r})()}}]);