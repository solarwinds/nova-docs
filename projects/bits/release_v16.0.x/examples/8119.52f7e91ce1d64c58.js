"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[8119],{28119:(b,g,l)=>{l.r(g),l.d(g,{default:()=>A});var E=l(48529),_=l(49432),p=l(61796),e=l(99019);let v=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[p.WrP]})}}return r})();var f=l(49232),s=function(r){return r.active="active",r.error="error",r.default="default",r}(s||{});const D=["*"];let m=(()=>{class r{constructor(){this.counterToHackDragLeave=0,this.state=s.default,this.enter=new e.bkB,this.leave=new e.bkB}get hasActiveClass(){return this.state===s.active}get hasErrorClass(){return this.state===s.error}dragOverHandler(t){t.preventDefault()}dropHandler(t){t.preventDefault(),this.counterToHackDragLeave=0}dragEnterHandler(t){t.preventDefault(),this.counterToHackDragLeave++,t.currentTarget.contains(t.currentTarget)&&this.enter.emit(t)}dragLeaveHandler(t){t.preventDefault(),this.counterToHackDragLeave--,0===this.counterToHackDragLeave&&this.leave.emit(t)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-file-drop-example"]],hostAttrs:[1,"d-inline-flex","align-items-center","justify-content-center"],hostVars:4,hostBindings:function(n,i){1&n&&e.bIt("dragover",function(a){return i.dragOverHandler(a)},!1,e.tSv)("drop",function(a){return i.dropHandler(a)})("dragenter",function(a){return i.dragEnterHandler(a)})("dragleave",function(a){return i.dragLeaveHandler(a)}),2&n&&e.AVh("nui-file-drop--active",i.hasActiveClass)("nui-file-drop--error",i.hasErrorClass)},inputs:{state:"state"},outputs:{enter:"enter",leave:"leave"},ngContentSelectors:D,decls:1,vars:0,template:function(n,i){1&n&&(e.NAR(),e.SdG(0))},styles:["[_nghost-%COMP%]{display:flex;padding:10px;width:100%;min-height:50px;border-style:dashed;border-width:1px;border-color:var(--nui-color-line-default,#d9d9d9)}.nui-file-drop--active[_nghost-%COMP%], .nui-file-drop--error[_nghost-%COMP%]{border-width:4px;border-style:solid}.nui-file-drop--active[_nghost-%COMP%]{border-color:var(--nui-color-selected-contrast,#00c4d2);background-color:var(--nui-color-busy-default,rgba(0, 196, 210, .2))}.nui-file-drop--error[_nghost-%COMP%]{border-color:var(--nui-color-line-critical,#dd2c00);background-color:var(--nui-color-busy-destructive,rgba(221, 44, 0, .2))}"]})}}return r})();var C=l(51596),u=l(54739);function O(r,d){1&r&&(e.qex(0),e.j41(1,"nui-validation-message",5),e.EFF(2," Please upload GIF only!"),e.k0s(),e.bVm()),2&r&&(e.R7$(1),e.Y8G("show",!0))}function h(r,d){1&r&&(e.qex(0),e.nrm(1,"nui-icon",6),e.j41(2,"span",3),e.EFF(3," Drop only "),e.j41(4,"b"),e.EFF(5,"GIF images"),e.k0s(),e.EFF(6," to upload, or "),e.j41(7,"label",7),e.EFF(8,"browse"),e.k0s()(),e.bVm())}function S(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",8)(1,"div",9)(2,"span",10),e.EFF(3),e.k0s(),e.j41(4,"nui-progress",11),e.bIt("cancel",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onCancel())}),e.k0s()(),e.j41(5,"div",12)(6,"button",13),e.bIt("click",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.rmFile(o))}),e.k0s()()()}if(2&r){const t=d.$implicit;e.R7$(3),e.JRh(t.name),e.R7$(1),e.Y8G("show",!0)("stacked",!0)("percent",42)("showNumber",!0)}}let x=(()=>{class r{constructor(){this.gifError=!1,this.imageType="image/gif",this.fileDropState=s.default,this.files=[]}dropHandler(t){if(!t.dataTransfer)throw new Error("dataTransfer is not defined");this.files.push(...this.extractFilesFromDropEventData(t.dataTransfer).filter(n=>this.validateDataType(n.type))),this.invalidateFiles()}onFileRead(t){const n=t.target.files;if(!n)throw new Error("fileList is not defined");this.files.push(...Array.from(n))}dragEnterHandler(t){t.dataTransfer&&t.dataTransfer.items&&(this.gifError=!this.validateDataType(t.dataTransfer.items[0].type)),this.fileDropState=this.gifError?s.error:s.active}invalidateFiles(){this.fileDropState=s.default,this.gifError=!1}rmFile(t){this.files=this.files.filter(n=>n!==t)}validateDataType(t){return t.includes(this.imageType)}extractFilesFromDropEventData(t){const n=[];if(t.items){for(let i=0;i<t.items.length;i++)if("file"===t.items[i].kind){const o=t.items[i].getAsFile();o&&n.push(o)}}else for(let i=0;i<t.files.length;i++)n.push(t.files[i]);return n}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-dragdrop-files-example"]],decls:7,vars:5,consts:[[3,"state","drop","enter","leave"],[4,"ngIf"],["type","file","id","uniqueOne","multiple","",1,"hidden",3,"accept","change"],[1,"nui-text-small-secondary"],["class","nui-demo-file-area d-flex",4,"ngFor","ngForOf"],[3,"show"],["icon","upload","iconColor","gray",1,"pr-2"],["for","uniqueOne",1,"nui-text-link-small","nui-demo-drop-area__browse"],[1,"nui-demo-file-area","d-flex"],[1,"py-2","px-3","flex-grow-1","flex-row"],[1,"nui-text-label"],[3,"show","stacked","percent","showNumber","cancel"],[1,"nui-demo-file-area__right","flex-grow-0"],["nui-button","","type","button","displayStyle","action","icon","close",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"nui-file-drop-example",0),e.bIt("drop",function(a){return i.dropHandler(a)})("enter",function(a){return i.dragEnterHandler(a)})("leave",function(){return i.invalidateFiles()}),e.DNE(1,O,3,1,"ng-container",1),e.DNE(2,h,9,0,"ng-container",1),e.j41(3,"input",2),e.bIt("change",function(a){return i.onFileRead(a)}),e.k0s()(),e.j41(4,"span",3),e.EFF(5,"File types: GIF"),e.k0s(),e.DNE(6,S,7,5,"div",4)),2&n&&(e.Y8G("state",i.fileDropState),e.R7$(1),e.Y8G("ngIf",i.gifError),e.R7$(1),e.Y8G("ngIf",!i.gifError),e.R7$(1),e.Y8G("accept",i.imageType),e.R7$(3),e.Y8G("ngForOf",i.files))},dependencies:[C.Q,u.Sq,u.bT,m],styles:[".nui-demo-drop-area__browse[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:0}.nui-demo-file-area[_ngcontent-%COMP%]{width:100%;min-height:30px;border-color:var(--nui-border-fade,rgba(217, 217, 217, .7));border-width:1px;border-bottom-width:0;border-style:solid}.nui-demo-file-area[_ngcontent-%COMP%]:last-child{border-bottom-width:1px}"]})}}return r})(),R=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["nui-dragdrop-example"]],decls:23,vars:0,consts:[["filenamePrefix","dragdrop-files","exampleTitle","Drag and Drop Files"],["filenamePrefix","file-drop","exampleTitle","File Drop Component"]],template:function(n,i){1&n&&(e.j41(0,"h2"),e.EFF(1,"Basic Usage"),e.k0s(),e.j41(2,"p"),e.EFF(3," Usage is described in example below. FileDrop component is used internally to handle dragLeave/dragEnter and encapsulate styling\n"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Example includes:"),e.k0s(),e.j41(6,"ol")(7,"li"),e.EFF(8,' Browse file using file system dialog with access to input properties like "multiple" and "accept". '),e.k0s(),e.j41(9,"li"),e.EFF(10," Effect while hovering file with wrong data type (for simplicity, example code checks only first item in array) - this is implemented as an input in FileDrop component. "),e.k0s(),e.j41(11,"li"),e.EFF(12,"List of files with layout that is taken from UX specs"),e.k0s()(),e.j41(13,"nui-example-wrapper",0),e.nrm(14,"nui-dragdrop-files-example"),e.k0s(),e.j41(15,"h2"),e.EFF(16,"File Drop Component"),e.k0s(),e.j41(17,"p"),e.EFF(18," Please see FileDrop component source code in this example (note that demo is not interactive since this is purely presentational component)\n"),e.k0s(),e.j41(19,"nui-example-wrapper",1)(20,"nui-file-drop-example")(21,"span"),e.EFF(22,"Any content"),e.k0s()()())},dependencies:[f.t,m,x],encapsulation:2})}}return r})();l(68527),l(98363);var T=l(69196);const M=[{path:"",component:R,data:{srlc:{stage:p.lcf.alpha}}}];let A=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[{provide:p.uzs,useValue:(0,T.R)("dragdrop")}],imports:[E.ad,p.dfW,p.a4p,p.WrP,v,_.iI.forChild(M),_.iI]})}}return r})()}}]);