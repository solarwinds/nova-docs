(self.webpackChunk_nova_ui_bits=self.webpackChunk_nova_ui_bits||[]).push([[5641],{98414:function(e,n,r){var t={"./dragdrop-basic/dragdrop-basic.example.component.html":35153,"./dragdrop-basic/dragdrop-basic.example.component.less":76389,"./dragdrop-basic/dragdrop-basic.example.component.ts":68301,"./dragdrop-cdk/dragdrop-cdk.example.component.html":12083,"./dragdrop-cdk/dragdrop-cdk.example.component.less":30484,"./dragdrop-cdk/dragdrop-cdk.example.component.ts":10194,"./dragdrop-docs/dragdrop-docs.example.component.html":91888,"./dragdrop-docs/dragdrop-docs.example.component.ts":2488,"./dragdrop-files/dragdrop-files.example.component.html":14242,"./dragdrop-files/dragdrop-files.example.component.less":4595,"./dragdrop-files/dragdrop-files.example.component.ts":77593,"./dragdrop.module.ts":9334,"./file-drop/file-drop.component.html":16972,"./file-drop/file-drop.component.less":62229,"./file-drop/file-drop.component.ts":99886,"./file-drop/file-drop.module.ts":61559,"./file-drop/public-api.ts":54899,"./index.ts":96061,"components/demo/dragdrop/dragdrop-basic/dragdrop-basic.example.component.html":35153,"components/demo/dragdrop/dragdrop-basic/dragdrop-basic.example.component.less":76389,"components/demo/dragdrop/dragdrop-basic/dragdrop-basic.example.component.ts":68301,"components/demo/dragdrop/dragdrop-cdk/dragdrop-cdk.example.component.html":12083,"components/demo/dragdrop/dragdrop-cdk/dragdrop-cdk.example.component.less":30484,"components/demo/dragdrop/dragdrop-cdk/dragdrop-cdk.example.component.ts":10194,"components/demo/dragdrop/dragdrop-docs/dragdrop-docs.example.component.html":91888,"components/demo/dragdrop/dragdrop-docs/dragdrop-docs.example.component.ts":2488,"components/demo/dragdrop/dragdrop-files/dragdrop-files.example.component.html":14242,"components/demo/dragdrop/dragdrop-files/dragdrop-files.example.component.less":4595,"components/demo/dragdrop/dragdrop-files/dragdrop-files.example.component.ts":77593,"components/demo/dragdrop/dragdrop.module.ts":9334,"components/demo/dragdrop/file-drop/file-drop.component.html":16972,"components/demo/dragdrop/file-drop/file-drop.component.less":62229,"components/demo/dragdrop/file-drop/file-drop.component.ts":99886,"components/demo/dragdrop/file-drop/file-drop.module.ts":61559,"components/demo/dragdrop/file-drop/public-api.ts":54899,"components/demo/dragdrop/index.ts":96061};function o(e){var n=a(e);return r(n)}function a(e){if(!r.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}o.keys=function(){return Object.keys(t)},o.resolve=a,e.exports=o,o.id=98414},25641:function(e,n,r){"use strict";r.r(n),r.d(n,{DragDropDemoModule:function(){return D}});var t=r(83461),o=r(99763),a=r(14347),i=r(33018);let l=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[],imports:[[a.lam]]}),e})();var d=r(70132),s=(()=>{return(e=s||(s={})).active="active",e.error="error",e.default="default",s;var e})();const p=["*"];let c=(()=>{class e{constructor(){this.counterToHackDragLeave=0,this.state=s.default,this.enter=new i.vpe,this.leave=new i.vpe}get hasActiveClass(){return this.state===s.active}get hasErrorClass(){return this.state===s.error}dragOverHandler(e){e.preventDefault()}dropHandler(e){e.preventDefault(),this.counterToHackDragLeave=0}dragEnterHandler(e){e.preventDefault(),this.counterToHackDragLeave++,e.currentTarget.contains(e.currentTarget)&&this.enter.emit(e)}dragLeaveHandler(e){e.preventDefault(),this.counterToHackDragLeave--,0===this.counterToHackDragLeave&&this.leave.emit(e)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["nui-file-drop-example"]],hostAttrs:[1,"d-inline-flex","align-items-center","justify-content-center"],hostVars:4,hostBindings:function(e,n){1&e&&i.NdJ("dragover",function(e){return n.dragOverHandler(e)},!1,i.Jf7)("drop",function(e){return n.dropHandler(e)})("dragenter",function(e){return n.dragEnterHandler(e)})("dragleave",function(e){return n.dragLeaveHandler(e)}),2&e&&i.ekj("nui-file-drop--active",n.hasActiveClass)("nui-file-drop--error",n.hasErrorClass)},inputs:{state:"state"},outputs:{enter:"enter",leave:"leave"},ngContentSelectors:p,decls:1,vars:0,template:function(e,n){1&e&&(i.F$t(),i.Hsn(0))},styles:["[_nghost-%COMP%]{display:flex;padding:10px;width:100%;min-height:50px;border-style:dashed;border-width:1px;border-color:#d9d9d9;border-color:var(--nui-color-line-default,#d9d9d9)}.nui-file-drop--active[_nghost-%COMP%], .nui-file-drop--error[_nghost-%COMP%]{border-width:4px;border-style:solid}.nui-file-drop--active[_nghost-%COMP%]{border-color:#00c4d2;border-color:var(--nui-color-selected-contrast,#00c4d2);background-color:rgba(0,196,210,.2);background-color:var(--nui-color-busy-default,rgba(0, 196, 210, .2))}.nui-file-drop--error[_nghost-%COMP%]{border-color:#dd2c00;border-color:var(--nui-color-line-critical,#dd2c00);background-color:rgba(221,44,0,.2);background-color:var(--nui-color-busy-destructive,rgba(221, 44, 0, .2))}"]}),e})();var u=r(38583),m=r(74293);function g(e,n){1&e&&(i.ynx(0),i.TgZ(1,"nui-validation-message",5),i._uU(2," Please upload GIF only!"),i.qZA(),i.BQk()),2&e&&(i.xp6(1),i.Q6J("show",!0))}function f(e,n){1&e&&(i.ynx(0),i._UZ(1,"nui-icon",6),i.TgZ(2,"span",3),i._uU(3," Drop only "),i.TgZ(4,"b"),i._uU(5,"GIF images"),i.qZA(),i._uU(6," to upload, or "),i.TgZ(7,"label",7),i._uU(8,"browse"),i.qZA(),i.qZA(),i.BQk())}function v(e,n){if(1&e){const e=i.EpF();i.TgZ(0,"div",8),i.TgZ(1,"div",9),i.TgZ(2,"span",10),i._uU(3),i.qZA(),i.TgZ(4,"nui-progress",11),i.NdJ("cancel",function(){return i.CHM(e),i.oxw().onCancel()}),i.qZA(),i.qZA(),i.TgZ(5,"div",12),i.TgZ(6,"button",13),i.NdJ("click",function(){const n=i.CHM(e).$implicit;return i.oxw().rmFile(n)}),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=n.$implicit;i.xp6(3),i.Oqu(e.name),i.xp6(1),i.Q6J("show",!0)("stacked",!0)("percent",42)("showNumber",!0)}}let h=(()=>{class e{constructor(){this.gifError=!1,this.imageType="image/gif",this.fileDropState=s.default,this.files=[]}dropHandler(e){if(!e.dataTransfer)throw new Error("dataTransfer is not defined");this.files.push(...this.extractFilesFromDropEventData(e.dataTransfer).filter(e=>this.validateDataType(e.type))),this.invalidateFiles()}onFileRead(e){const n=e.target.files;if(!n)throw new Error("fileList is not defined");this.files.push(...Array.from(n))}dragEnterHandler(e){e.dataTransfer&&e.dataTransfer.items&&(this.gifError=!this.validateDataType(e.dataTransfer.items[0].type)),this.fileDropState=this.gifError?s.error:s.active}invalidateFiles(){this.fileDropState=s.default,this.gifError=!1}rmFile(e){this.files=this.files.filter(n=>n!==e)}validateDataType(e){return e.includes(this.imageType)}extractFilesFromDropEventData(e){const n=[];if(e.items){for(let r=0;r<e.items.length;r++)if("file"===e.items[r].kind){const t=e.items[r].getAsFile();t&&n.push(t)}}else for(let r=0;r<e.files.length;r++)n.push(e.files[r]);return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["nui-dragdrop-files-example"]],decls:7,vars:5,consts:[[3,"state","drop","enter","leave"],[4,"ngIf"],["type","file","id","uniqueOne","multiple","",1,"hidden",3,"accept","change"],[1,"nui-text-small-secondary"],["class","nui-demo-file-area d-flex",4,"ngFor","ngForOf"],[3,"show"],["icon","upload","iconColor","gray",1,"pr-2"],["for","uniqueOne",1,"nui-text-link-small","nui-demo-drop-area__browse"],[1,"nui-demo-file-area","d-flex"],[1,"py-2","px-3","flex-grow-1","flex-row"],[1,"nui-text-label"],[3,"show","stacked","percent","showNumber","cancel"],[1,"nui-demo-file-area__right","flex-grow-0"],["nui-button","","type","button","displayStyle","action","icon","close",3,"click"]],template:function(e,n){1&e&&(i.TgZ(0,"nui-file-drop-example",0),i.NdJ("drop",function(e){return n.dropHandler(e)})("enter",function(e){return n.dragEnterHandler(e)})("leave",function(){return n.invalidateFiles()}),i.YNc(1,g,3,1,"ng-container",1),i.YNc(2,f,9,0,"ng-container",1),i.TgZ(3,"input",2),i.NdJ("change",function(e){return n.onFileRead(e)}),i.qZA(),i.qZA(),i.TgZ(4,"span",3),i._uU(5,"File types: GIF"),i.qZA(),i.YNc(6,v,7,5,"div",4)),2&e&&(i.Q6J("state",n.fileDropState),i.xp6(1),i.Q6J("ngIf",n.gifError),i.xp6(1),i.Q6J("ngIf",!n.gifError),i.xp6(1),i.Q6J("accept",n.imageType),i.xp6(3),i.Q6J("ngForOf",n.files))},directives:[c,u.O5,u.sg,m.r],styles:[".nui-demo-drop-area__browse[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:0}.nui-demo-file-area[_ngcontent-%COMP%]{width:100%;min-height:30px;border-color:rgba(217,217,217,.7);border-color:var(--nui-border-fade,rgba(217, 217, 217, .7));border-width:1px;border-bottom-width:0;border-style:solid}.nui-demo-file-area[_ngcontent-%COMP%]:last-child{border-bottom-width:1px}"]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["nui-dragdrop-example"]],decls:23,vars:0,consts:[["filenamePrefix","dragdrop-files","exampleTitle","Drag and Drop Files"],["filenamePrefix","file-drop","exampleTitle","File Drop Component"]],template:function(e,n){1&e&&(i.TgZ(0,"h2"),i._uU(1,"Basic Usage"),i.qZA(),i.TgZ(2,"p"),i._uU(3," Usage is described in example below. FileDrop component is used internally to handle dragLeave/dragEnter and encapsulate styling\n"),i.qZA(),i.TgZ(4,"p"),i._uU(5,"Example includes:"),i.qZA(),i.TgZ(6,"ol"),i.TgZ(7,"li"),i._uU(8,' Browse file using file system dialog with access to input properties like "multiple" and "accept". '),i.qZA(),i.TgZ(9,"li"),i._uU(10," Effect while hovering file with wrong data type (for simplicity, example code checks only first item in array) - this is implemented as an input in FileDrop component. "),i.qZA(),i.TgZ(11,"li"),i._uU(12,"List of files with layout that is taken from UX specs"),i.qZA(),i.qZA(),i.TgZ(13,"nui-example-wrapper",0),i._UZ(14,"nui-dragdrop-files-example"),i.qZA(),i.TgZ(15,"h2"),i._uU(16,"File Drop Component"),i.qZA(),i.TgZ(17,"p"),i._uU(18," Please see FileDrop component source code in this example (note that demo is not interactive since this is purely presentational component)\n"),i.qZA(),i.TgZ(19,"nui-example-wrapper",1),i.TgZ(20,"nui-file-drop-example"),i.TgZ(21,"span"),i._uU(22,"Any content"),i.qZA(),i.qZA(),i.qZA())},directives:[d.h,h,c],encapsulation:2}),e})();r(14614),r(17540);const x=[{path:"",component:b,data:{srlc:{stage:a.We9.alpha}}}];let D=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[{provide:a.V3$,useFactory:()=>r(98414)}],imports:[[t._t,a.Az_,a.vvu,a.lam,l,o.Bz.forChild(x)],o.Bz]}),e})()},35153:function(e,n,r){"use strict";r.r(n),n.default='<div class="row">\n    <div class="col-6">\n        <div\n            class="drag-drop-item"\n            id="nui-demo-src-object"\n            nuiDraggable\n            [payload]="draggableObj"\n            adornerDragClass="demo-drag-class"\n            (dragStart)="onDragStart($event)"\n            (dragEnd)="onDragEnd($event)"\n            i18n\n        >\n            drag me (object)\n        </div>\n        <pre>{{ draggableObj | json }}</pre>\n    </div>\n    <div class="col-6">\n        <div\n            class="drag-drop-item"\n            id="nui-demo-dest-object"\n            nuiDroppable\n            dropIndicatorClass="demo-drop-indicator-class"\n            dragOverClass="demo-drag-over-class"\n            invalidDragOverClass="demo-invalid-drag-over-class"\n            [dropValidator]="isObjectValidator"\n            (dropSuccess)="onDropObject($event)"\n            (dragOver)="onDragOver($event)"\n            (dragEnter)="onDragEnter($event)"\n            (dragLeave)="onDragLeave($event)"\n            i18n\n        >\n            drop here - object\n        </div>\n        <pre>{{ destObject | json }}</pre>\n    </div>\n</div>\n<div class="row">\n    <div class="col-6">\n        <div\n            class="drag-drop-item"\n            nuiDraggable\n            [payload]="draggableString"\n            adornerDragClass="demo-drag-class"\n            (dragStart)="onDragStart($event)"\n            (dragEnd)="onDragEnd($event)"\n            i18n\n        >\n            drag me (string)\n        </div>\n        <pre>{{ draggableString }}</pre>\n    </div>\n\n    <div class="col-6">\n        <div\n            class="drag-drop-item"\n            nuiDroppable\n            [dropValidator]="isStringValidator"\n            dropIndicatorClass="demo-drop-indicator-class"\n            dragOverClass="demo-drag-over-class"\n            invalidDragOverClass="demo-invalid-drag-over-class"\n            (dropSuccess)="onDropString($event)"\n            (dragOver)="onDragOver($event)"\n            (dragEnter)="onDragEnter($event)"\n            (dragLeave)="onDragLeave($event)"\n            i18n\n        >\n            drop here - string\n        </div>\n        <pre>{{ destString }}</pre>\n    </div>\n</div>\n<div class="row">\n    <div class="col-12">\n        <div\n            class="drag-drop-item"\n            nuiDraggable\n            [payload]="draggableExcel"\n            (dragStart)="onDragStart($event)"\n            (dragEnd)="onDragEnd($event)"\n            i18n\n        >\n            drag me to Excel (htmlTable)\n        </div>\n        <pre>{{ draggableExcel }}</pre>\n    </div>\n</div>\n<div class="row">\n    <div class="col-12">\n        <div\n            class="drag-drop-item"\n            nuiDroppable\n            dropIndicatorClass="demo-drop-indicator-class"\n            dragOverClass="demo-drag-over-class"\n            invalidDragOverClass="demo-invalid-drag-over-class"\n            (dragOver)="onDragOver($event)"\n            (dragEnter)="onDragEnter($event)"\n            (dragLeave)="onDragLeave($event)"\n            (dropSuccess)="onDropAnything($event)"\n            i18n\n        >\n            drop anything\n        </div>\n        <pre>{{ destAnything | json }}</pre>\n    </div>\n</div>\n'},68301:function(e,n,r){"use strict";r.r(n),n.default='import { Component, Inject } from "@angular/core";\nimport {\n    IDropEvent,\n    IDropValidator,\n    IToastService,\n    ToastService,\n} from "@nova-ui/bits";\n\nclass IsStringValidator implements IDropValidator {\n    isValidDropTarget(payload: any, isExternal: boolean): boolean {\n        if (isExternal) {\n            return false;\n        }\n        return typeof payload === "string";\n    }\n}\n\nclass IsObjectValidator implements IDropValidator {\n    isValidDropTarget(payload: any): boolean {\n        return typeof payload === "object";\n    }\n}\n\n@Component({\n    selector: "nui-dragdrop-validator-example",\n    templateUrl: "./dragdrop-basic.example.component.html",\n})\nexport class DragdropBasicExampleComponent {\n    public draggableString = "this is a string";\n    public draggableObj = {\n        imma: "little",\n        teapot: "short and stout",\n    };\n    public destObject: {};\n    public destString: string;\n    public destAnything: any;\n    public draggableExcel =\n        "<table>" +\n        "<tr>" +\n        "<th>thing1</th>" +\n        "<th>thing2</th>" +\n        "</tr>" +\n        "<tr>" +\n        "<td>jeff</td>" +\n        "<td>4</td>" +\n        "</tr>" +\n        "<tr>" +\n        "<td>john</td>" +\n        "<td>8</td>" +\n        "</tr>" +\n        "</table>";\n    public isStringValidator = new IsStringValidator();\n    public isObjectValidator = new IsObjectValidator();\n\n    constructor(@Inject(ToastService) private toastService: IToastService) {}\n\n    public onDropObject(dropEvent: IDropEvent) {\n        this.toastService.info({ message: $localize`Drop object!` });\n        this.destObject = dropEvent.payload;\n    }\n\n    public onDropString(dropEvent: IDropEvent) {\n        this.toastService.info({ message: $localize`Drop string!` });\n        this.destString = JSON.stringify(dropEvent.payload);\n    }\n\n    public onDropAnything(dropEvent: IDropEvent) {\n        this.toastService.info({ message: $localize`Drop anything!` });\n        this.destAnything = dropEvent.payload;\n    }\n\n    public onDragStart(event: DragEvent) {\n        this.toastService.info({ message: $localize`Drag start` });\n    }\n\n    public onDragEnd(event: DragEvent) {\n        this.toastService.info({ message: $localize`Drag end` });\n    }\n\n    public onDragOver(event: DragEvent) {\n        this.toastService.info({\n            message: $localize`Drag over`,\n            options: { preventDuplicates: true },\n        });\n    }\n\n    public onDragEnter(event: DragEvent) {\n        this.toastService.info({ message: $localize`Drag enter` });\n    }\n\n    public onDragLeave(event: DragEvent) {\n        this.toastService.info({ message: $localize`Drag leave` });\n    }\n}\n'},12083:function(e,n,r){"use strict";r.r(n),n.default='<div class="nui-demo-draggable" cdkDrag>Drag me around</div>\n'},10194:function(e,n,r){"use strict";r.r(n),n.default='import { Component } from "@angular/core";\n\n@Component({\n    selector: "nui-dragdrop-cdk-example",\n    templateUrl: "./dragdrop-cdk.example.component.html",\n    styleUrls: ["./dragdrop-cdk.example.component.less"],\n})\nexport class DragdropCdkExampleComponent {}\n'},91888:function(e,n,r){"use strict";r.r(n),n.default='\x3c!--<nui-example-wrapper filenamePrefix="dragdrop-basic" exampleTitle="Drag and Drop">--\x3e\n\x3c!--<nui-dragdrop-validator-example></nui-dragdrop-validator-example>--\x3e\n\x3c!--</nui-example-wrapper>--\x3e\n\x3c!--<nui-example-wrapper filenamePrefix="dragdrop-cdk" exampleTitle="Drag and Drop CDK">--\x3e\n\x3c!--<nui-dragdrop-cdk-example></nui-dragdrop-cdk-example>--\x3e\n\x3c!--</nui-example-wrapper>--\x3e\n\n<h2>Basic Usage</h2>\n\n<p>\n    Usage is described in example below. FileDrop component is used internally\n    to handle dragLeave/dragEnter and encapsulate styling\n</p>\n<p>Example includes:</p>\n<ol>\n    <li>\n        Browse file using file system dialog with access to input properties\n        like "multiple" and "accept".\n    </li>\n    <li>\n        Effect while hovering file with wrong data type (for simplicity, example\n        code checks only first item in array) - this is implemented as an input\n        in FileDrop component.\n    </li>\n    <li>List of files with layout that is taken from UX specs</li>\n</ol>\n\n<nui-example-wrapper\n    filenamePrefix="dragdrop-files"\n    exampleTitle="Drag and Drop Files"\n>\n    <nui-dragdrop-files-example></nui-dragdrop-files-example>\n</nui-example-wrapper>\n\n<h2>File Drop Component</h2>\n<p>\n    Please see FileDrop component source code in this example (note that demo is\n    not interactive since this is purely presentational component)\n</p>\n\n<nui-example-wrapper\n    filenamePrefix="file-drop"\n    exampleTitle="File Drop Component"\n>\n    <nui-file-drop-example><span>Any content</span></nui-file-drop-example>\n</nui-example-wrapper>\n'},2488:function(e,n,r){"use strict";r.r(n),n.default='import { Component } from "@angular/core";\n\n@Component({\n    selector: "nui-dragdrop-example",\n    templateUrl: "./dragdrop-docs.example.component.html",\n})\nexport class DragdropExampleComponent {}\n'},14242:function(e,n,r){"use strict";r.r(n),n.default='<nui-file-drop-example\n    (drop)="dropHandler($event)"\n    (enter)="dragEnterHandler($event)"\n    (leave)="invalidateFiles()"\n    [state]="fileDropState"\n>\n    <ng-container *ngIf="gifError">\n        <nui-validation-message [show]="true">\n            Please upload GIF only!</nui-validation-message\n        >\n    </ng-container>\n    <ng-container *ngIf="!gifError">\n        <nui-icon icon="upload" class="pr-2" iconColor="gray"></nui-icon>\n        <span class="nui-text-small-secondary">\n            Drop only <b>GIF images</b> to upload, or\n            <label\n                for="uniqueOne"\n                class="nui-text-link-small nui-demo-drop-area__browse"\n                >browse</label\n            >\n        </span>\n    </ng-container>\n\n    \x3c!--this is hidden file input to handle browse button--\x3e\n    <input\n        type="file"\n        id="uniqueOne"\n        [accept]="imageType"\n        multiple\n        (change)="onFileRead($event)"\n        class="hidden"\n    />\n</nui-file-drop-example>\n\n<span class="nui-text-small-secondary">File types: GIF</span>\n\n<div class="nui-demo-file-area d-flex" *ngFor="let file of files">\n    <div class="py-2 px-3 flex-grow-1 flex-row">\n        <span class="nui-text-label">{{ file.name }}</span>\n        <nui-progress\n            [show]="true"\n            [stacked]="true"\n            [percent]="42"\n            [showNumber]="true"\n            (cancel)="onCancel()"\n        >\n        </nui-progress>\n    </div>\n    <div class="nui-demo-file-area__right flex-grow-0">\n        <button\n            nui-button\n            type="button"\n            displayStyle="action"\n            icon="close"\n            (click)="rmFile(file)"\n        ></button>\n    </div>\n</div>\n'},77593:function(e,n,r){"use strict";r.r(n),n.default='import { Component } from "@angular/core";\n\nimport { FileDropState } from "../file-drop/public-api";\n\n@Component({\n    selector: "nui-dragdrop-files-example",\n    templateUrl: "./dragdrop-files.example.component.html",\n    styleUrls: ["./dragdrop-files.example.component.less"],\n})\nexport class DragdropFilesExampleComponent {\n    public gifError = false;\n    public imageType = "image/gif";\n\n    public fileDropState = FileDropState.default;\n\n    public files: File[] = [];\n\n    dropHandler(ev: DragEvent) {\n        if (!ev.dataTransfer) {\n            throw new Error("dataTransfer is not defined");\n        }\n        this.files.push(\n            ...this.extractFilesFromDropEventData(ev.dataTransfer).filter(\n                (file: File) => this.validateDataType(file.type)\n            )\n        );\n\n        this.invalidateFiles();\n    }\n\n    onFileRead(ev: Event) {\n        const files: FileList | null = (ev.target as HTMLInputElement).files;\n        if (!files) {\n            throw new Error("fileList is not defined");\n        }\n        // no validation here since we have native one in browser input\n        this.files.push(...Array.from(files));\n    }\n\n    dragEnterHandler(ev: DragEvent) {\n        // This naively checks only first file\n\n        if (ev.dataTransfer && ev.dataTransfer.items) {\n            this.gifError = !this.validateDataType(\n                ev.dataTransfer.items[0].type\n            );\n        }\n\n        this.fileDropState = this.gifError\n            ? FileDropState.error\n            : FileDropState.active;\n    }\n\n    invalidateFiles() {\n        // Change it if you want to have some error highlight even after dragLeave\n        this.fileDropState = FileDropState.default;\n        this.gifError = false;\n    }\n\n    rmFile(fileInput: File) {\n        this.files = this.files.filter((file) => file !== fileInput);\n    }\n\n    private validateDataType(dataType: string) {\n        return dataType.includes(this.imageType);\n    }\n\n    // TODO: this can be extracted to a service\n    private extractFilesFromDropEventData(data: DataTransfer): File[] {\n        const files: File[] = [];\n        if (data.items) {\n            // Use DataTransferItemList interface to access the file(s)\n            for (let i = 0; i < data.items.length; i++) {\n                // If dropped items aren\'t files, reject them\n                if (data.items[i].kind === "file") {\n                    const file: File | null = data.items[i].getAsFile();\n                    if (file) {\n                        files.push(file);\n                    }\n                }\n            }\n        } else {\n            // Use DataTransfer interface to access the file(s) for Safari\n            for (let i = 0; i < data.files.length; i++) {\n                files.push(data.files[i]);\n            }\n        }\n        return files;\n    }\n}\n'},9334:function(e,n,r){"use strict";r.r(n),n.default='import { DragDropModule } from "@angular/cdk/drag-drop";\nimport { NgModule } from "@angular/core";\nimport { RouterModule } from "@angular/router";\nimport {\n    DEMO_PATH_TOKEN,\n    NuiButtonModule,\n    NuiCommonModule,\n    NuiDocsModule,\n    SrlcStage,\n} from "@nova-ui/bits";\n\nimport { NuiFileDropExampleModule } from "./file-drop/file-drop.module";\nimport {\n    DragdropBasicExampleComponent,\n    DragdropCdkExampleComponent,\n    DragdropExampleComponent,\n    DragdropFilesExampleComponent,\n} from "./index";\n\nconst routes = [\n    {\n        path: "",\n        component: DragdropExampleComponent,\n        data: {\n            srlc: {\n                stage: SrlcStage.alpha,\n            },\n        },\n    },\n];\n\n@NgModule({\n    imports: [\n        DragDropModule,\n        NuiButtonModule,\n        NuiDocsModule,\n        NuiCommonModule,\n        NuiFileDropExampleModule,\n        RouterModule.forChild(routes),\n    ],\n    declarations: [\n        DragdropExampleComponent,\n        DragdropBasicExampleComponent,\n        DragdropCdkExampleComponent,\n        DragdropFilesExampleComponent,\n    ],\n    providers: [\n        {\n            provide: DEMO_PATH_TOKEN,\n            useFactory: () =>\n                (<any>require).context(\n                    `!!raw-loader!./`,\n                    true,\n                    /.*\\.(ts|html|less)$/\n                ),\n        },\n    ],\n    exports: [RouterModule],\n})\nexport class DragDropDemoModule {}\n'},16972:function(e,n,r){"use strict";r.r(n),n.default="<ng-content></ng-content>\n"},99886:function(e,n,r){"use strict";r.r(n),n.default='import {\n    Component,\n    EventEmitter,\n    HostBinding,\n    HostListener,\n    Input,\n    Output,\n} from "@angular/core";\n\nimport { FileDropState } from "./public-api";\n\n/**\n * <example-url>./../examples/index.html#/file-upload</example-url>\n */\n\n/** @ignore */\n@Component({\n    selector: "nui-file-drop-example",\n    templateUrl: "./file-drop.component.html",\n    styleUrls: ["./file-drop.component.less"],\n    host: {\n        class: "d-inline-flex align-items-center justify-content-center",\n    },\n})\nexport class FileDropExampleComponent {\n    // TODO: consider renaming this class to DropAreaComponent since it is not file-specific at all\n\n    private counterToHackDragLeave = 0;\n\n    @Input() public state: FileDropState = FileDropState.default;\n\n    @Output() public enter = new EventEmitter<DragEvent>();\n    @Output() public leave = new EventEmitter<DragEvent>();\n    // Drop is handled as regular JS event in parent component.\n    // enter and leave can\'t be since dragenter and dragleave for parent component are different\n\n    @HostBinding("class.nui-file-drop--active") get hasActiveClass() {\n        return this.state === FileDropState.active;\n    }\n    @HostBinding("class.nui-file-drop--error") get hasErrorClass() {\n        return this.state === FileDropState.error;\n    }\n\n    // this solves problem with opening the file since browser fires dragover by default\n    @HostListener("window:dragover", ["$event"])\n    dragOverHandler(ev: DragEvent) {\n        // Prevent default behavior (Prevent file from being opened)\n        ev.preventDefault();\n    }\n\n    @HostListener("drop", ["$event"])\n    dropHandler(ev: DragEvent) {\n        // Prevent default behavior (Prevent file from being opened)\n        ev.preventDefault();\n        this.counterToHackDragLeave = 0; // important not to break mouseleave hack\n    }\n\n    @HostListener("dragenter", ["$event"])\n    dragEnterHandler(ev: DragEvent) {\n        // Prevent default behavior (Prevent file from being opened)\n        ev.preventDefault();\n        this.counterToHackDragLeave++;\n        if ((ev.currentTarget as Node).contains(ev.currentTarget as Node)) {\n            this.enter.emit(ev);\n        }\n    }\n\n    @HostListener("dragleave", ["$event"])\n    dragLeaveHandler(ev: DragEvent) {\n        // Prevent default behavior (Prevent file from being opened)\n        ev.preventDefault();\n\n        this.counterToHackDragLeave--;\n        if (this.counterToHackDragLeave === 0) {\n            this.leave.emit(ev);\n        }\n    }\n}\n'},61559:function(e,n,r){"use strict";r.r(n),n.default='import { NgModule } from "@angular/core";\n\nimport { NuiCommonModule } from "@nova-ui/bits";\n\nimport { FileDropExampleComponent } from "./file-drop.component";\n\n/**\n * @ignore\n */\n@NgModule({\n    imports: [NuiCommonModule],\n    declarations: [FileDropExampleComponent],\n    exports: [FileDropExampleComponent],\n    providers: [],\n})\nexport class NuiFileDropExampleModule {}\n'},54899:function(e,n,r){"use strict";r.r(n),n.default='export enum FileDropState {\n    active = "active",\n    error = "error",\n    default = "default",\n}\n'},96061:function(e,n,r){"use strict";r.r(n),n.default='export * from "./dragdrop-docs/dragdrop-docs.example.component";\nexport * from "./dragdrop-basic/dragdrop-basic.example.component";\nexport * from "./dragdrop-cdk/dragdrop-cdk.example.component";\nexport * from "./dragdrop-files/dragdrop-files.example.component";\n'},76389:function(e){"use strict";e.exports='export default ".drag-drop-item {\\n    border: 1px solid grey;\\n    text-align: center;\\n}\\n.demo-drag-over-class {\\n    border-color: #30b230;\\n    background-color: #e7f4df;\\n}\\n.demo-invalid-drag-over-class {\\n    border-color: #d50000;\\n    background-color: #ffe4e0;\\n}\\n.demo-drop-indicator-class {\\n    border-color: #3caadd;\\n    background-color: #a0cede;\\n}\\n";'},30484:function(e){"use strict";e.exports='export default "// This can be moved to bits!\\n@import (reference) \\"nui-framework-variables\\";\\n@import (reference) \\"mixins\\";\\n";'},4595:function(e){"use strict";e.exports='export default "@import (reference) \\"nui-framework-variables\\";\\n@import (reference) \\"mixins\\";\\n\\n.nui-demo {\\n    &-drop-area {\\n        &__browse {\\n            cursor: pointer; // this would not be needed if nui-text-link had pointer - sadpanda\\n            margin-bottom: 0; // this is needed sadpanda2\\n        }\\n    }\\n\\n    &-file-area {\\n        width: 100%;\\n        min-height: 30px; // icon size\\n        .setCssVariable(border-color, nui-border-fade);\\n        border-width: @nui-line-default;\\n        border-bottom-width: 0;\\n        border-style: solid;\\n    }\\n    &-file-area:last-child {\\n        border-bottom-width: @nui-line-default; // this helps to merge borders of divs to look nice\\n    }\\n}\\n";'},62229:function(e){"use strict";e.exports='export default "@import (reference) \\"nui-framework-variables\\";\\n@import (reference) \\"mixins\\";\\n\\n@drop-zone-min-height: 50px;\\n\\n:host {\\n    display: flex;\\n    padding: @nui-space-sm;\\n    width: 100%;\\n    min-height: @drop-zone-min-height;\\n    border-style: dashed; // TODO: no border-style-dashed in NUI\\n    border-width: @nui-line-default;\\n    .setCssVariable(border-color, nui-color-line-default);\\n    &.nui-file-drop {\\n        &--active,\\n        &--error {\\n            border-width: @nui-line-fat;\\n            border-style: solid;\\n        }\\n        &--active {\\n            .setCssVariable(border-color, nui-color-selected-contrast);\\n            .setCssVariable(background-color, nui-color-busy-default);\\n        }\\n        &--error {\\n            .setCssVariable(border-color, nui-color-line-critical);\\n            .setCssVariable(background-color, nui-color-busy-destructive);\\n        }\\n    }\\n}\\n";'}}]);