import{$ as D,P as G,fa as j}from"./chunk-57V7DCE5.js";import{a as z}from"./chunk-O7UYP4LT.js";import{a as q}from"./chunk-QZPWCUUC.js";import{a as $}from"./chunk-LCQAANLJ.js";import{b as B}from"./chunk-FLHK4Y4B.js";import{g as A}from"./chunk-LF6XSF3V.js";import{b as M}from"./chunk-HB6OB2ZQ.js";import{b as W}from"./chunk-HHOXNW4F.js";import{a as Q}from"./chunk-F5HBEV23.js";import{a as Y}from"./chunk-ILHVKHTP.js";import{a as P}from"./chunk-7FMIATJZ.js";import{d as H}from"./chunk-LWI5ZV6Y.js";import{d as V}from"./chunk-OP3E7ERD.js";import{k as R,l as U}from"./chunk-EHNCPSLF.js";import{Ac as N,Eb as m,Gc as O,Qb as n,Tc as b,Wb as o,Xb as l,Yb as f,ac as T,mc as S,nb as i,nc as u,tb as w,uc as _,vc as v,wc as y,xa as g,xc as E,ya as h,yc as p,zb as F,zc as d}from"./chunk-MC3BMXIX.js";import{a as I,g as k}from"./chunk-VBFW7A5V.js";var L=k(H()),Z=k(Y());var J=["filteringSearch"],K=["filteringSorter"],X=["filteringRepeat"],ee=["filteringPaginator"];function te(r,c){if(r&1&&(o(0,"div"),p(1),l(),o(2,"div"),p(3),l()),r&2){let e=c.item;i(),N("",e.color,"\xA0"),i(2),d(e.status)}}function ie(r,c){r&1&&(o(0,"div",22),f(1,"nui-image",23),o(2,"p",24),p(3,"No data to show"),l()()),r&2&&(i(),n("isWatermark",!0))}function re(r,c){if(r&1&&(o(0,"span",28),p(1),l()),r&2){let e=u().$implicit,a=u();i(),d(a.showStatus(e))}}function ae(r,c){if(r&1&&(o(0,"nui-checkbox",25)(1,"div",26),f(2,"nui-icon",27),o(3,"span",28),p(4),l(),m(5,re,2,1,"span",29),l()()),r&2){let e=c.$implicit,a=u();n("value",e)("checked",a.isColorTypeChecked(e)),i(2),n("icon",a.statusIcons[e].iconName),i(2),d(e),i(),n("ngIf",a.isGreaterThanZero(a.showStatus(e)))}}function ne(r,c){if(r&1&&(o(0,"span",28),p(1),l()),r&2){let e=u().$implicit,a=u();i(),d(a.showColor(e))}}function oe(r,c){if(r&1&&(o(0,"nui-checkbox",25)(1,"div",26),f(2,"nui-icon",27),o(3,"span",28),p(4),l(),m(5,ne,2,1,"span",29),l()()),r&2){let e=c.$implicit,a=u();n("value",e)("checked",a.isColorCriteriaChecked(e)),i(2),n("icon",a.colorIcons[e].iconName),i(2),d(e),i(),n("ngIf",a.isGreaterThanZero(a.showColor(e)))}}function le(r,c){if(r&1&&(o(0,"div"),f(1,"nui-repeat",30,5),l()),r&2){let e=u(),a=E(1);i(),n("itemsSource",e.filteringState==null||e.filteringState.repeat==null?null:e.filteringState.repeat.itemsSource)("repeatItemTemplateRef",a)}}var se=[{color:"regular-blue",status:"Critical"},{color:"regular-green",status:"Warning"},{color:"regular-yellow",status:"Up"},{color:"regular-cyan ",status:"Critical"},{color:"regular-magenta",status:"Warning"},{color:"regular-black",status:"Up"},{color:"regular-orange",status:"Up"},{color:"regular-rose",status:"Up"},{color:"regular-violet",status:"Up"},{color:"regular-azure",status:"Critical"},{color:"dark-blue",status:"Warning"},{color:"dark-green",status:"Up"},{color:"dark-yellow",status:"Critical"},{color:"dark-cyan ",status:"Warning"},{color:"dark-magenta",status:"Up"},{color:"dark-black",status:"Critical"},{color:"dark-orange",status:"Warning"},{color:"dark-rose",status:"Up"},{color:"dark-violet",status:"Critical"},{color:"dark-azure",status:"Warning"},{color:"light-blue",status:"Up"},{color:"light-green",status:"Critical"},{color:"light-yellow",status:"Warning"},{color:"light-cyan",status:"Up"},{color:"light-magenta",status:"Critical"},{color:"light-black",status:"Warning"},{color:"light-orange",status:"Up"},{color:"light-rose",status:"Critical"},{color:"light-violet",status:"Warning"},{color:"light-azure",status:"Up"}],Ie=(()=>{class r{constructor(e){this.dataSourceService=e,this.panelOptions={panelMode:"collapsible",heading:"Filters"},this.colorExpanderOptions={expanded:!0,header:"Colors"},this.statusExpanderOptions={expanded:!0,header:"Statuses"},this.statusIcons={Critical:{iconName:"status_critical"},Warning:{iconName:"status_warning"},Up:{iconName:"status_up"}},this.colorIcons={azure:{iconName:"record"},black:{iconName:"status_up"},blue:{iconName:"signal-0"},cyan:{iconName:"signal-0"},green:{iconName:"signal-1"},orange:{iconName:"signal-2"},rose:{iconName:"signal-0"},violet:{iconName:"signal-0"},yellow:{iconName:"signal-0"},brown:{iconName:"signal-0"}},this.allStatuses=["Warning","Critical","Up"],this.allColors=["azure","black","blue","cyan","green","orange","rose","violet","yellow","brown"],this.selectedColorTypes=["Up"],this.selectedCriteriaColors=["azure"],this.sorterItems=[{title:$localize`Color`,value:"color"}],this.initialSortDirection=A.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={repeat:{itemsSource:[]},color:[],status:[],paginator:{total:void 0}},this.page=1,this.searchTerm="",this.chosenColors=[],this.chosenStatuses=[],this.registerComponents=()=>({color:{componentInstance:{getFilters:()=>({type:"string[]",value:this.chosenColors,metadata:{allCategories:this.allColors}})}},status:{componentInstance:{getFilters:()=>({type:"string[]",value:this.chosenStatuses,metadata:{allCategories:this.allStatuses}})}},search:{componentInstance:this.filteringSearch},sorter:{componentInstance:this.filteringSorter},paginator:{componentInstance:this.filteringPaginator}}),this.dataSourceService.setData(se)}ngAfterViewInit(){this.chosenColors=[...this.selectedCriteriaColors],this.chosenStatuses=[...this.selectedColorTypes],this.dataSourceService.registerComponent(I({},this.registerComponents())),this.dataSourceService.applyFilters(),this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.filteringState=e,e&&e.paginator&&e.paginator.reset&&this.filteringPaginator.goToPage(1)})}ngOnDestroy(){this.outputsSubscription&&this.outputsSubscription.unsubscribe()}applyFilters(){this.dataSourceService.applyFilters()}onSorterAction(e){this.sortBy=e.newValue.sortBy,this.dataSourceService.applyFilters()}onSelectedCriteriaChange(e){this.chosenColors=e,this.dataSourceService.applyFilters()}onSelectedColorTypesChange(e){this.chosenStatuses=e,this.dataSourceService.applyFilters()}isColorCriteriaChecked(e){return this.selectedCriteriaColors.indexOf(e)>-1}isColorTypeChecked(e){return this.selectedColorTypes.indexOf(e)>-1}hasItems(){return!(0,Z.default)((0,L.default)(this,"filteringState.repeat.itemsSource"))}showStatus(e){return this.filteringState.status?this.filteringState.status[e]:this.filteringState.status}showColor(e){return this.filteringState.color?this.filteringState.color[e]:this.filteringState.color}isGreaterThanZero(e){return e>0}static{this.\u0275fac=function(a){return new(a||r)(w(D))}}static{this.\u0275cmp=F({type:r,selectors:[["nui-deprecated-client-side-filtering-data-source-example"]],viewQuery:function(a,t){if(a&1&&(_(J,5),_(K,5),_(X,5),_(ee,5)),a&2){let s;v(s=y())&&(t.filteringSearch=s.first),v(s=y())&&(t.filteringSorter=s.first),v(s=y())&&(t.filteringRepeat=s.first),v(s=y())&&(t.filteringPaginator=s.first)}},standalone:!1,features:[O([{provide:D,useClass:j}])],decls:27,vars:20,consts:[["listRepeatItemTemplate",""],["emptyListTemplate",""],["filteringSorter",""],["filteringSearch",""],["filteringPaginator",""],["filteringRepeat",""],["id","collapsible-panel",3,"panelMode"],["nuiPanelEmbeddedHeading",""],["nuiPanelEmbeddedBody",""],["icon","orion-sitemaster",1,"mb-5",3,"open","header"],["id","nui-demo-checkbox-group-basic","name","cType",3,"valuesChange","values"],[3,"value","checked",4,"ngFor","ngForOf"],["id","nui-demo-checkbox-group-basic","name","criteriaColor",3,"valuesChange","values"],[1,"push-down"],[1,"d-flex","flex-row"],[1,"mb-3",3,"hidden"],[3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"ml-auto"],[3,"search","value"],[4,"ngIf","ngIfElse"],[1,"mt-3",3,"hidden"],[3,"pagerAction","page","total"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"value","checked"],[1,"d-flex","align-items-center"],[1,"mr-2",3,"icon"],[1,"mr-2"],["class","mr-2",4,"ngIf"],["paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(a,t){if(a&1){let s=T();m(0,te,4,2,"ng-template",null,0,b)(2,ie,4,1,"ng-template",null,1,b),o(4,"div")(5,"nui-panel",6)(6,"div",7),p(7),l(),o(8,"div",8)(9,"nui-expander",9)(10,"nui-checkbox-group",10),S("valuesChange",function(C){return g(s),h(t.onSelectedColorTypesChange(C))}),m(11,ae,6,5,"nui-checkbox",11),l()(),o(12,"nui-expander",9)(13,"nui-checkbox-group",12),S("valuesChange",function(C){return g(s),h(t.onSelectedCriteriaChange(C))}),m(14,oe,6,5,"nui-checkbox",11),l()()(),o(15,"div",13)(16,"div",14)(17,"div",15)(18,"nui-sorter",16,2),S("sorterAction",function(C){return g(s),h(t.onSorterAction(C))}),l()(),o(20,"div",17)(21,"nui-search",18,3),S("search",function(){return g(s),h(t.applyFilters())}),l()()(),m(23,le,3,2,"div",19),o(24,"div",20)(25,"nui-paginator",21,4),S("pagerAction",function(){return g(s),h(t.applyFilters())}),l()()()()()}if(a&2){let s=E(3);i(5),n("panelMode",t.panelOptions.panelMode),i(2),d(t.panelOptions.heading),i(2),n("open",t.statusExpanderOptions.expanded)("header",t.statusExpanderOptions.header),i(),n("values",t.selectedColorTypes),i(),n("ngForOf",t.allStatuses),i(),n("open",t.colorExpanderOptions.expanded)("header",t.colorExpanderOptions.header),i(),n("values",t.selectedCriteriaColors),i(),n("ngForOf",t.allColors),i(3),n("hidden",!t.hasItems()),i(),n("itemsSource",t.sorterItems)("selectedItem",t.sortBy)("sortDirection",t.initialSortDirection),i(3),n("value",t.searchTerm),i(2),n("ngIf",t.hasItems())("ngIfElse",s),i(),n("hidden",!t.hasItems()),i(),n("page",t.page)("total",t.filteringState==null||t.filteringState.paginator==null?null:t.filteringState.paginator.total)}},dependencies:[R,U,B,Q,V,M,q,z,G,P,W,$],styles:[".push-down[_ngcontent-%COMP%]{min-height:550px}"]})}}return r})();export{Ie as a};
