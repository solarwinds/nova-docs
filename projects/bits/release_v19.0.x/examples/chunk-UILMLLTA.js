import{a as B}from"./chunk-T32HBJMR.js";import{c as P}from"./chunk-DCCIYGKJ.js";import{b as W}from"./chunk-XRSLDQYN.js";import{a as k}from"./chunk-PRPDBMMC.js";import{l as z}from"./chunk-IOE73CTL.js";import{d as $}from"./chunk-OP3E7ERD.js";import{l as N,p as A,q as D}from"./chunk-EHNCPSLF.js";import{$b as b,Ac as w,Eb as a,F as y,Jc as L,Qb as o,Tc as v,Wb as f,Xb as p,Yb as O,Zb as _,_b as u,g as E,hc as h,nb as i,nc as c,oc as S,pc as g,tc as x,vc as C,wc as F,xc as R,yc as d,zb as M,zc as T}from"./chunk-MC3BMXIX.js";import{g as I}from"./chunk-VBFW7A5V.js";var q=I(W()),j=I(z());var Q=e=>{let l=e.markAsTouched,t=e.markAsUntouched,n=new E;function r(...s){n.next(!0),l.bind(e)(...s)}function m(...s){n.next(!1),t.bind(e)(...s)}return e.markAsTouched=r,e.markAsUntouched=m,n};var G=["*",[["nui-validation-message"]]],U=["*","nui-validation-message"],X=e=>({width:e});function V(e,l){e&1&&(f(0,"span",9),h(1,2),p())}function H(e,l){if(e&1&&a(0,V,2,0,"span",8),e&2){let t=c();o("ngIf",t.showOptionalText)}}function J(e,l){e&1&&(f(0,"span",9),h(1,3),p())}function K(e,l){if(e&1&&(f(0,"div",14)(1,"nui-popover",15),O(2,"nui-icon",16),p()()),e&2){c(2);let t=R(10);i(),o("template",t)("unlimited",!0),i(),o("icon","severity_info")}}function Y(e,l){if(e&1&&(f(0,"div",10)(1,"div",11)(2,"label",12),d(3),p(),a(4,J,2,0,"span",8),p(),a(5,K,3,3,"div",13),p()),e&2){let t=c();i(3),T(t.caption),i(),o("ngIf",t.controlIsOptional),i(),o("ngIf",t.info||t.infoTemplate)}}function Z(e,l){if(e&1&&(_(0),d(1),u()),e&2){let t=c(2);i(),T(t.hint)}}function ee(e,l){if(e&1&&b(0,20),e&2){let t=c(2);o("ngTemplateOutlet",t.hintTemplate)}}function te(e,l){if(e&1&&(f(0,"span",17),a(1,Z,2,1,"ng-container",18)(2,ee,1,1,"ng-container",19),p()),e&2){let t=c();i(),o("ngIf",t.hint&&!t.hintTemplate),i(),o("ngIf",t.hintTemplate&&!t.hint)}}function ne(e,l){if(e&1&&(_(0),d(1),u()),e&2){let t=c(2);i(),w(" ",t.info," ")}}function ie(e,l){if(e&1&&a(0,ne,2,1,"ng-container",21),e&2){let t=c();o("ngIf",t.info)("ngIfElse",t.infoTemplate)}}var _e=(()=>{class e{constructor(){this.showOptionalText=!0,this.controlIsOptional=!1}ngAfterContentChecked(){this.controlIsOptional=this.showOptionalText&&!this.hasRequiredField(this.control)}ngAfterContentInit(){this.control&&y(this.control.valueChanges,this.control.statusChanges,Q(this.control)).subscribe(()=>{this.validationMessages.forEach(t=>{(0,j.default)(this.control.errors)?t.show=!1:t.show=!!this.control.errors[t.for]}),this.nuiFormControl&&(this.nuiFormControl.isInErrorState=this.control.invalid)}),this.nuiFormControl&&setTimeout(()=>{this.nuiFormControl.ariaLabel=this.caption})}getWidth(){return this.customBoxWidth||"100%"}hasRequiredField(t){if(!t)return!1;if(t.validator){let n=t.validator({});if(n&&n.required)return!0}return t.controls&&(0,q.default)(t.controls,n=>{if(n&&this.hasRequiredField(n))return!0}),!1}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=M({type:e,selectors:[["nui-form-field"]],contentQueries:function(n,r,m){if(n&1&&(x(m,k,5),x(m,B,4)),n&2){let s;C(s=F())&&(r.nuiFormControl=s.first),C(s=F())&&(r.validationMessages=s)}},inputs:{control:"control",caption:"caption",info:"info",infoTemplate:"infoTemplate",hint:"hint",hintTemplate:"hintTemplate",customBoxWidth:"customBoxWidth",showOptionalText:"showOptionalText"},standalone:!1,ngContentSelectors:U,decls:11,vars:5,consts:()=>{let t;t=$localize`:␟2e73b2661c3d6ae412b570bce223fb58b42246e1␟5878305334612867800:(optional)`;let n;return n=$localize`:␟2e73b2661c3d6ae412b570bce223fb58b42246e1␟5878305334612867800:(optional)`,[["showOptional",""],["infoTemplatePlain",""],t,n,[1,"nui-form-field",3,"ngStyle"],["class","nui-form-field__control-label-container",4,"ngIf"],[1,"nui-form-field__help"],["class","nui-help-hint",4,"ngIf"],["class","nui-form-field__state-text",4,"ngIf"],[1,"nui-form-field__state-text"],[1,"nui-form-field__control-label-container"],[1,"nui-form-field__control-label-container-description"],[1,"nui-form-field__control-label"],["class","nui-form-field__control-label-container-info",4,"ngIf"],[1,"nui-form-field__control-label-container-info"],[1,"d-inline-flex",3,"template","unlimited"],[3,"icon"],[1,"nui-help-hint"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"]]},template:function(n,r){n&1&&(S(G),a(0,H,1,1,"ng-template",null,0,v),f(2,"div",4),a(3,Y,6,3,"div",5),g(4),f(5,"div",6)(6,"div"),g(7,1),p(),a(8,te,3,2,"span",7),p()(),a(9,ie,1,2,"ng-template",null,1,v)),n&2&&(i(2),o("ngStyle",L(3,X,r.getWidth())),i(),o("ngIf",r.caption),i(5),o("ngIf",r.hint||r.hintTemplate))},dependencies:[N,D,A,$,P],styles:[`.nui .nui-form-field__control-label-container{clear:left;display:flex;justify-content:space-between}.nui .nui-form-field__control-label-container-description{display:flex;padding-right:5px;overflow:hidden}.nui .nui-form-field__control-label-container-info{display:flex;align-items:center;cursor:pointer}.nui .nui-form-field__help{display:block;clear:both;padding:0;line-height:18px;font-size:11px}.nui .nui-form-field__help--error{clear:both;padding:0;color:var(--nui-color-text-critical,#dd2c00);margin:0 0 7px;line-height:18px;font-size:11px;font-weight:600}.nui .nui-form-field__help--centered{text-align:center}.nui .nui-form-field__state-text{color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));cursor:default}.nui .nui-form-field__control-label{overflow:hidden;text-overflow:ellipsis;padding-right:5px}
`],encapsulation:2})}}return e})();export{_e as a};
