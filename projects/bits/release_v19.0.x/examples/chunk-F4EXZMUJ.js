import{ca as A,fa as _}from"./chunk-57V7DCE5.js";import{a as W}from"./chunk-ZO7WBSGK.js";import{a as d}from"./chunk-O7UYP4LT.js";import{a as v}from"./chunk-QZPWCUUC.js";import{b as f}from"./chunk-FLHK4Y4B.js";import{a as Q}from"./chunk-S55LKKD2.js";import{a as L}from"./chunk-UINJOPJ7.js";import{Eb as b,Gc as k,Qb as p,Tc as V,Wb as n,Xb as l,Yc as F,ac as I,mc as u,nb as o,tb as m,uc as h,vc as g,wc as S,xa as s,xc as E,ya as c,yc as R,zb as w,zc as T}from"./chunk-MC3BMXIX.js";import{a as D,g as j}from"./chunk-VBFW7A5V.js";var O=j(L());function M(r,P){if(r&1&&(n(0,"div"),R(1),l()),r&2){let t=P.item;o(),T(t.color)}}var K=(()=>{class r{constructor(t,a,e){this.dataSourceService=t,this.changeDetection=a,this.listService=e,this.searchTerm="",this.page=1,this.state={},t.setData(q())}ngAfterViewInit(){this.dataSourceService.registerComponent({search:{componentInstance:this.search},paginator:{componentInstance:this.paginator},repeat:{componentInstance:this.repeat}}),this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(t=>{this.state=D(D({},this.state),t),this.state=this.listService.updateSelectionState(this.state),t&&t.paginator&&t.paginator.reset&&(this.paginator.page=1);let a=t.paginator&&!(0,O.default)(t.paginator.total)&&t.paginator.total>0;t&&a&&t.repeat?.itemsSource.length===0&&this.paginator.goToPage(this.paginator.page>1?this.paginator.page-1:1),this.changeDetection.detectChanges()}),this.dataSourceService.applyFilters()}ngOnDestroy(){this.outputsSubscription.unsubscribe()}applyFilters(){this.dataSourceService.applyFilters()}onSelectorOutput(t){this.state=this.listService.applySelector(t,this.state)}onRepeatOutput(t){this.state=this.listService.selectItems(t,Q.multi,this.state)}static{this.\u0275fac=function(a){return new(a||r)(m(_),m(F),m(A))}}static{this.\u0275cmp=w({type:r,selectors:[["nui-deprecated-client-side-with-selection-example"]],viewQuery:function(a,e){if(a&1&&(h(f,5),h(v,5),h(d,5)),a&2){let i;g(i=S())&&(e.paginator=i.first),g(i=S())&&(e.search=i.first),g(i=S())&&(e.repeat=i.first)}},standalone:!1,features:[k([_])],decls:9,vars:9,consts:[["repeatItemTemplate",""],[1,"client-side-example"],[1,"d-flex"],[1,"flex-row"],[3,"selectionChange","checkboxStatus","items"],[1,"searchBar",3,"search","value"],["selectionMode","multi",1,"repeater",3,"selectionChange","itemsSource","repeatItemTemplateRef","selection"],["activeClass","active","disabledClass","disabled","showPrevNext","true",1,"paginator",3,"pagerAction","page","pageSize","total"]],template:function(a,e){if(a&1){let i=I();b(0,M,2,1,"ng-template",null,0,V),n(2,"div",1)(3,"div",2)(4,"div",3)(5,"nui-selector",4),u("selectionChange",function(C){return s(i),c(e.onSelectorOutput(C))}),l(),n(6,"nui-search",5),u("search",function(){return s(i),c(e.applyFilters())}),l(),n(7,"nui-repeat",6),u("selectionChange",function(C){return s(i),c(e.onRepeatOutput(C))}),l(),n(8,"nui-paginator",7),u("pagerAction",function(){return s(i),c(e.applyFilters())}),l()()()()}if(a&2){let i=E(1);o(5),p("checkboxStatus",e.state.selector==null?null:e.state.selector.selectorState.checkboxStatus)("items",e.state.selector==null?null:e.state.selector.selectorState.selectorItems),o(),p("value",e.searchTerm),o(),p("itemsSource",e.state.repeat==null?null:e.state.repeat.itemsSource)("repeatItemTemplateRef",i)("selection",e.state.repeat==null?null:e.state.repeat.selectedItems),o(),p("page",e.page)("pageSize",10)("total",e.state.paginator==null?null:e.state.paginator.total)}},dependencies:[f,v,d,W],encapsulation:2,changeDetection:0})}}return r})();function q(){return[{color:"regular-blue"},{color:"regular-green"},{color:"regular-yellow"},{color:"regular-cyan "},{color:"regular-magenta"},{color:"regular-black"},{color:"dark-blue"},{color:"dark-green"},{color:"dark-yellow"},{color:"dark-cyan "},{color:"dark-magenta"},{color:"dark-black"},{color:"light-blue"},{color:"light-green"},{color:"light-yellow"},{color:"light-cyan "},{color:"light-magenta"},{color:"light-black"}]}export{K as a};
