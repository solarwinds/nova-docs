import{a as v}from"./chunk-EP75EVMT.js";import{a as A,b as D,c as b}from"./chunk-O3JQU3EK.js";import{a as N}from"./chunk-DZ2EIOUK.js";import{c as k}from"./chunk-DCCIYGKJ.js";import{a as w}from"./chunk-CUY44B7R.js";import{a as O}from"./chunk-YILH52ZF.js";import{l as x}from"./chunk-EHNCPSLF.js";import{Eb as T,Oc as P,Pc as g,Qb as p,Qc as h,Tc as F,Wb as n,Xb as a,ac as f,g as E,hc as d,mc as l,nb as _,nc as m,tb as S,xa as s,xc as R,ya as c,yc as M,zb as I,zc as u}from"./chunk-MC3BMXIX.js";import{g as K}from"./chunk-VBFW7A5V.js";var C=K(w());function L(r,y){if(r&1){let e=f();n(0,"nui-dialog-footer")(1,"button",8),l("click",function(){s(e);let t=m(2);return c(t.cancelPopover())}),d(2,1),a(),n(3,"button",9),l("click",function(){s(e);let t=m(2);return c(t.confirmPopover())}),d(4,2),a()()}}function $(r,y){if(r&1){let e=f();n(0,"div")(1,"nui-quick-picker",5),l("presetSelected",function(t){s(e);let o=m();return c(o.handlePresetSelection(t))}),n(2,"nui-time-frame-picker",6),l("changed",function(t){s(e);let o=m();return c(o.updateTf(t))}),a()()(),T(3,L,5,0,"nui-dialog-footer",7)}if(r&2){let e=m();_(),p("presets",e.presets)("selectedPreset",e.acceptedTimeframe.selectedPresetId),_(),p("startModel",e.acceptedTimeframe)("maxDate",e.maxDate)("minDate",e.minDate),_(),p("ngIf",e.showFooter)}}var Y=(()=>{class r{constructor(e){this.timeframeService=e,this.selectedPresetKey="lastHour",this.minDate=(0,C.default)("04/07/2018","L"),this.maxDate=(0,C.default)(),this.showFooter=!1,this.closePopoverSubject=new E,this.openPopoverSubject=new E,this.presets=e.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}updateTf(e){this.tf=e;let i=()=>this.timeframeService.areTimeFrameDatesValid(e),t=()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe);i()&&!t()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(e){this.selectedPresetKey=e,this.tf=this.timeframeService.getTimeframeByPresetId(e),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}static{this.\u0275fac=function(i){return new(i||r)(S(A))}}static{this.\u0275cmp=I({type:r,selectors:[["nui-time-frame-picker-test"]],standalone:!1,decls:9,vars:10,consts:()=>{let e;e=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`;let i;i=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `;let t;return t=$localize`:␟3c8adc665cde2a280fd027f86fca78239d8a890c␟3416889908563565605: Use `,[["popoverTimeFramePicker",""],i,t,["id","nui-demo-basic-time-frame-picker","trigger","click",3,"template","hasPadding","closePopover"],[1,"nui-text-link",2,"cursor","pointer"],["pickerTitle",e,3,"presetSelected","presets","selectedPreset"],[3,"changed","startModel","maxDate","minDate"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action","id","nui-demo-basic-time-frame-picker-cancel",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],["nui-button","","type","button","displayStyle","primary","id","nui-demo-basic-time-frame-picker-use",1,"nui-time-frame-picker__use",3,"click"]]},template:function(i,t){if(i&1&&(n(0,"nui-popover",3)(1,"span",4),M(2),P(3,"timeFrame"),a()(),n(4,"div"),M(5),P(6,"timeFrame"),a(),T(7,$,4,6,"ng-template",null,0,F)),i&2){let o=R(8);p("template",o)("hasPadding",!1)("closePopover",t.closePopoverSubject),_(2),u(g(3,5,t.acceptedTimeframe)),_(3),u(h(6,7,t.acceptedTimeframe,"LL LTS"))}},dependencies:[O,N,D,k,x,v,b],encapsulation:2})}}return r})();export{Y as a};
