import{a as se,b as le}from"./chunk-RZV7FOY4.js";import{a as Te}from"./chunk-XCWQAQNN.js";import{a as Je}from"./chunk-OJIWOMMY.js";import{c as Qe}from"./chunk-XKPLUEFZ.js";import{a as $}from"./chunk-CUY44B7R.js";import{a as Ke}from"./chunk-MNLBQFGT.js";import{a as Pe}from"./chunk-PRPDBMMC.js";import{a as De,d as Ce}from"./chunk-I5QGFHJG.js";import{d as Me,j as Xe,l as Ze,p as X}from"./chunk-IOE73CTL.js";import{a as Le}from"./chunk-LPZ5CZ7G.js";import{b as Ue}from"./chunk-WYJSVGAE.js";import{d as Ge}from"./chunk-LO2VWMBZ.js";import{a as A}from"./chunk-YILH52ZF.js";import{d as we}from"./chunk-OP3E7ERD.js";import{a as oe}from"./chunk-ZR5STDHI.js";import{j as N,k as Y,l as D,q as ve}from"./chunk-EHNCPSLF.js";import{$b as re,Eb as h,Gc as ye,Ha as M,Jc as V,Kc as H,L as pe,Lc as ke,Pb as I,Qb as l,Sb as ae,Tc as ge,Wb as s,Xb as d,Yb as R,Yc as xe,Zb as ue,_b as me,ac as y,ba as K,g as B,ha as U,hc as he,mc as f,nb as o,nc as c,oc as fe,pc as _e,qc as be,tb as T,uc as W,vc as z,wa as G,wc as j,xa as u,xc as L,ya as m,yc as g,zb as v,zc as x}from"./chunk-MC3BMXIX.js";import{f as de,g as b}from"./chunk-VBFW7A5V.js";var Se=de((zt,Ve)=>{var et=Qe(),tt=Le(),it=Xe(),nt=Je(),Ie=Object.prototype,at=Ie.hasOwnProperty,rt=et(function(i,r){i=Object(i);var e=-1,t=r.length,n=t>2?r[2]:void 0;for(n&&it(r[0],r[1],n)&&(t=1);++e<t;)for(var a=r[e],p=nt(a),O=-1,ie=p.length;++O<ie;){var P=p[O],F=i[P];(F===void 0||tt(F,Ie[P])&&!at.call(i,P))&&(i[P]=a[P])}return i});Ve.exports=rt});var Oe=de((jt,Ee)=>{var ot=Ue(),st=0;function lt(i){var r=++st;return ot(i)+r}Ee.exports=lt});var We=b(Se()),ze=b(Ke()),je=b(oe()),ce=b(Ze()),Q=b($());var Fe=b(Ge()),k=b(oe()),Re=b(Oe()),S=b($());var ct=["*"];function dt(i,r){if(i&1&&(s(0,"div",1),_e(1),d()),i&2){let e=c();I("role",e.role)}}var C=(()=>{class i{constructor(){this.selectionDone=new M,this.update=new M,this.stepDay={},this.stepMonth={},this.stepYear={},this.calendarMoved=new B,this._todayDate=(0,S.default)(),this.modes=["day","month","year"]}get role(){return this.inline?"application":"dialog"}get value(){return this._value}set value(e){!this.preserveInsignificant&&e&&e.set({hour:0,minute:0,second:0,millisecond:0}),this._value=e}ngOnInit(){this.uniqueId=(0,Re.default)("date-picker--"),this.initDate?(this.value=(0,S.default)(this.initDate),this.selectionDone.emit(this.value),this.update.emit(this.value)):(0,k.default)(this.value)&&(this.value=this._todayDate.clone())}ngAfterContentInit(){this.refreshView(),this.isTodayButtonDisabled=this.isDisabled(this._todayDate)}ngOnChanges(e){this.shouldRefreshViewOnChanges(e)&&this.refreshView()}shouldRefreshViewOnChanges(e){let t;switch(this.datepickerMode){case"day":t=!(0,k.default)(e.value)&&!(0,k.default)(this.selectedDate)&&!e.value.currentValue.isSame(e.value.previousValue);break;case"month":t=!(0,k.default)(this.value)&&!(0,k.default)(this.selectedDate)&&this.value.month()!==this.selectedDate.month();break;case"year":t=!(0,k.default)(this.value)&&!(0,k.default)(this.selectedDate)&&this.value.year()!==this.selectedDate.year();break;default:t=!1}return t&&(0,Fe.default)(e,n=>{t=!n.firstChange&&S.default.isMoment(n.currentValue)&&!n.currentValue.isSame(n.previousValue)}),t}setCompareHandler(e,t){t==="day"&&(this.compareHandlerDay=e),t==="month"&&(this.compareHandlerMonth=e),t==="year"&&(this.compareHandlerYear=e)}compare(e,t){if(!((0,k.default)(e)||(0,k.default)(t))){if(this.datepickerMode==="day"&&this.compareHandlerDay)return this.compareHandlerDay(e,t);if(this.datepickerMode==="month"&&this.compareHandlerMonth)return this.compareHandlerMonth(e,t);if(this.datepickerMode==="year"&&this.compareHandlerYear)return this.compareHandlerYear(e,t)}}setRefreshViewHandler(e,t){t==="day"&&(this.refreshViewHandlerDay=e),t==="month"&&(this.refreshViewHandlerMonth=e),t==="year"&&(this.refreshViewHandlerYear=e)}refreshView(){this.datepickerMode==="day"&&this.refreshViewHandlerDay&&this.refreshViewHandlerDay(),this.datepickerMode==="month"&&this.refreshViewHandlerMonth&&this.refreshViewHandlerMonth(),this.datepickerMode==="year"&&this.refreshViewHandlerYear&&this.refreshViewHandlerYear()}createDateObject(e,t){return{date:e.clone().toISOString(this.handleTimezone),label:this.formatDate(e,t),selected:this.compare(e,this.selectedDate)===0,disabled:this.isDisabled(e),current:this.compare(e,this.value)===0,today:this.compare(e,this._todayDate)===0}}split(e,t){let n=[];for(;e.length>0;)n.push(e.splice(0,t));return n}select(e,t){this.value=this.handleTimezone?S.default.parseZone(e):(0,S.default)(e),this.datepickerMode===this.minMode?this.selectionDone.emit(this.value):(this.datepickerMode=this.modes[this.modes.indexOf(this.datepickerMode)-1],t.stopPropagation()),this.update.emit(this.value),this.refreshView()}move(e,t){let n;if(this.datepickerMode==="day"&&(n=this.stepDay),this.datepickerMode==="month"&&(n=this.stepMonth),this.datepickerMode==="year"&&(n=this.stepYear),n){let a=this.value||(0,S.default)(),p=a.year()+e*(n.years||0),O=a.month()+e*(n.months||0);this.value=a.clone().set({year:p,month:O,date:1}),this.refreshView(),this.calendarMoved.next(this.value)}t.stopPropagation()}toggleMode(e,t){let n=t||1;this.datepickerMode===this.maxMode&&n===1||this.datepickerMode===this.minMode&&n===-1||(this.datepickerMode=this.modes[this.modes.indexOf(this.datepickerMode)+n],this.refreshView(),e.stopPropagation())}isDisabled(e){let t=!1;if(this.disabledDates&&this.disabledDates.forEach(p=>{this.compareDateDisabled(p,e)===0&&(t=!0)}),t)return t;let n=this.compare(e,this.minDate),a=this.compare(e,this.maxDate);return this.minDate&&(n||0)<0||this.maxDate&&(a||0)>0}formatDate(e,t){return(0,S.default)(e).clone().format(t)}compareDateDisabled(e,t){if(!((0,k.default)(e)||(0,k.default)(t))){if(e.mode==="day"&&this.compareHandlerDay)return this.compareHandlerDay(e.date,t);if(e.mode==="month"&&this.compareHandlerMonth)return this.compareHandlerMonth(e.date,t);if(e.mode==="year"&&this.compareHandlerYear)return this.compareHandlerYear(e.date,t)}}ngOnDestroy(){this.calendarMoved.complete()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=v({type:i,selectors:[["nui-date-picker-inner"]],inputs:{locale:"locale",datepickerMode:"datepickerMode",startingDay:"startingDay",yearRange:"yearRange",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",maxMode:"maxMode",showWeeks:"showWeeks",dateFormat:"dateFormat",formatDay:"formatDay",formatMonth:"formatMonth",formatYear:"formatYear",formatDayHeader:"formatDayHeader",formatDayTitle:"formatDayTitle",formatMonthTitle:"formatMonthTitle",onlyCurrentMonth:"onlyCurrentMonth",preserveInsignificant:"preserveInsignificant",disabledDates:"disabledDates",initDate:"initDate",inline:"inline",selectedDate:"selectedDate",handleTimezone:"handleTimezone",value:"value"},outputs:{selectionDone:"selectionDone",update:"update"},standalone:!1,features:[G],ngContentSelectors:ct,decls:1,vars:1,consts:[["class","nui-datepicker-inner",4,"ngIf"],[1,"nui-datepicker-inner"]],template:function(t,n){t&1&&(fe(),h(0,dt,2,1,"div",0)),t&2&&l("ngIf",n.datepickerMode)},dependencies:[D],encapsulation:2})}}return i})();var He=b(oe()),Ne=b($()),q=class{static integer(r=!1){return t=>{let n=r?/^(0|[1-9]\d*)$/:/^\-?(0|[1-9]\d*)$/,a={value:t.value,invalidInteger:"Invalid integer value"};return n.test(t.value)?null:a}}static dateFormat(r){return!(0,He.default)(r)&&Ne.default.isMoment(r)&&r.isValid()?null:{invalidFormat:"The provided format is invalid"}}};var Ae=b($());var pt=i=>({disabled:i}),ut=(i,r)=>({selected:i,disabled:r}),mt=i=>({"text-info":i});function ht(i,r){if(i&1){let e=y();s(0,"td",7)(1,"button",8),f("click",function(n){let a=u(e).$implicit,p=c(3);return m(p.datePicker.select(a.date,n))}),s(2,"span",9),g(3),d()()()}if(i&2){let e=r.$implicit;o(),l("ngClass",H(4,ut,e.selected,e.disabled))("disabled",e.disabled),o(),l("ngClass",V(7,mt,e.current)),o(),x(e.label)}}function ft(i,r){if(i&1&&(s(0,"tr"),h(1,ht,4,9,"td",6),d()),i&2){let e=r.$implicit;o(),l("ngForOf",e)}}function _t(i,r){if(i&1){let e=y();s(0,"table",1)(1,"thead")(2,"tr")(3,"th")(4,"button",2),f("click",function(n){u(e);let a=c();return m(a.datePicker.move(-1,n))}),d()(),s(5,"th")(6,"button",3),f("click",function(n){u(e);let a=c();return m(a.datePicker.toggleMode(n))}),s(7,"span"),g(8),d()()(),s(9,"th")(10,"button",4),f("click",function(n){u(e);let a=c();return m(a.datePicker.move(1,n))}),d()()()(),s(11,"tbody"),h(12,ft,2,1,"tr",5),d()()}if(i&2){let e=c();o(5),I("colspan",3),o(),l("id",e.datePicker.uniqueId+"-title")("disabled",e.datePicker.datepickerMode===e.datePicker.maxMode)("ngClass",V(6,pt,e.datePicker.datepickerMode===e.datePicker.maxMode)),o(2),x(e.title),o(4),l("ngForOf",e.rows)}}var $e=(()=>{class i{constructor(e){this.datePicker=e,this.rows=[],this.datePicker=e}ngOnInit(){this.datePicker.stepYear={years:this.datePicker.yearRange},this.datePicker.setRefreshViewHandler(()=>{let e=this.datePicker,t=new Array(e.yearRange),n=e.value&&e.value.isValid()?e.value.clone():(0,Ae.default)();n=n.set("date",1);let a=this.getStartingYear(n.year());for(let p=0;p<e.yearRange;p++)n=n.set({year:a+p}),t[p]=e.createDateObject(n,e.formatYear),t[p].uid=e.uniqueId+"-"+p;this.title=[t[0].label,t[e.yearRange-1].label].join(" - "),this.rows=e.split(t,5)},"year"),this.datePicker.setCompareHandler((e,t)=>e.year()-t.year(),"year")}getStartingYear(e){return(e-1)/this.datePicker.yearRange*this.datePicker.yearRange+1}static{this.\u0275fac=function(t){return new(t||i)(T(C))}}static{this.\u0275cmp=v({type:i,selectors:[["nui-year-picker"]],standalone:!1,decls:1,vars:1,consts:[["role","grid",4,"ngIf"],["role","grid"],["nui-button","","type","button","icon","caret-left","displayStyle","action","tabindex","-1",3,"click"],["nui-button","","type","button","displayStyle","action","tabindex","-1",1,"change-mode-button",3,"click","id","disabled","ngClass"],["nui-button","","type","button","icon","caret-right","displayStyle","action","tabindex","-1",3,"click"],[4,"ngFor","ngForOf"],["class","text-center year",4,"ngFor","ngForOf"],[1,"text-center","year"],["nui-button","","type","button","displayStyle","action","tabindex","-1",3,"click","ngClass","disabled"],[3,"ngClass"]],template:function(t,n){t&1&&h(0,_t,13,8,"table",0),t&2&&l("ngIf",n.datePicker.datepickerMode==="year")},dependencies:[N,Y,D,A],encapsulation:2})}}return i})();var te=b($());var yt=i=>({disabled:i}),kt=(i,r)=>({selected:i,disabled:r}),gt=i=>({"text-info":i});function xt(i,r){if(i&1){let e=y();s(0,"td",7)(1,"button",8),f("click",function(n){let a=u(e).$implicit,p=c(3);return m(p.datePicker.select(a.date,n))}),s(2,"span",9),g(3),d()()()}if(i&2){let e=r.$implicit;be("id",e.uid),o(),l("ngClass",H(5,kt,e.selected,e.disabled))("disabled",e.disabled),o(),l("ngClass",V(8,gt,e.current)),o(),x(e.label)}}function vt(i,r){if(i&1&&(s(0,"tr"),h(1,xt,4,10,"td",6),d()),i&2){let e=r.$implicit;o(),l("ngForOf",e)}}function Dt(i,r){if(i&1){let e=y();s(0,"table",1)(1,"thead")(2,"tr")(3,"th")(4,"button",2),f("click",function(n){u(e);let a=c();return m(a.datePicker.move(-1,n))}),d()(),s(5,"th")(6,"button",3),f("click",function(n){u(e);let a=c();return m(a.datePicker.toggleMode(n))}),s(7,"span"),g(8),d()()(),s(9,"th")(10,"button",4),f("click",function(n){u(e);let a=c();return m(a.datePicker.move(1,n))}),d()()()(),s(11,"tbody"),h(12,vt,2,1,"tr",5),d()()}if(i&2){let e=c();o(6),l("id",e.datePicker.uniqueId+"-title")("disabled",e.datePicker.datepickerMode===e.maxMode)("ngClass",V(5,yt,e.datePicker.datepickerMode===e.maxMode)),o(2),x(e.title),o(4),l("ngForOf",e.rows)}}var qe=(()=>{class i{constructor(e){this.datePicker=e,this.rows=[],this.datePicker=e}ngOnInit(){this.datePicker.stepMonth={years:1},this.datePicker.setRefreshViewHandler(()=>{let e=this.datePicker,t=new Array(12),n=e.value&&e.value.isValid()?e.value.clone():(0,te.default)();n=n.set("date",1);for(let a=0;a<12;a++)n=n.clone().set("month",a),t[a]=e.createDateObject(n,e.formatMonth),t[a].uid=e.uniqueId+"-"+a;this.title=e.formatDate(n,e.formatMonthTitle),this.rows=e.split(t,3)},"month"),this.datePicker.setCompareHandler((e,t)=>{let n=(0,te.default)({year:e.year(),month:e.month()}),a=(0,te.default)({year:t.year(),month:t.month()});return n.valueOf()-a.valueOf()},"month")}static{this.\u0275fac=function(t){return new(t||i)(T(C))}}static{this.\u0275cmp=v({type:i,selectors:[["nui-month-picker"]],standalone:!1,decls:1,vars:1,consts:[["role","grid",4,"ngIf"],["role","grid"],["nui-button","","type","button","displayStyle","action","icon","caret-left","tabindex","-1",3,"click"],["nui-button","","type","button","displayStyle","action","tabindex","-1",1,"change-mode-button",3,"click","id","disabled","ngClass"],["nui-button","","type","button","displayStyle","action","icon","caret-right","tabindex","-1",3,"click"],[4,"ngFor","ngForOf"],["class","text-center month",3,"id",4,"ngFor","ngForOf"],[1,"text-center","month",3,"id"],["nui-button","","type","button","displayStyle","action","tabindex","-1",3,"click","ngClass","disabled"],[3,"ngClass"]],template:function(t,n){t&1&&h(0,Dt,13,7,"table",0),t&2&&l("ngIf",n.datePicker.datepickerMode==="month")},dependencies:[N,Y,D,A],encapsulation:2})}}return i})();var E=b($());var wt=i=>({disabled:i}),Pt=(i,r)=>({selected:i,disabled:r}),Mt=(i,r,e)=>({"text-muted":i,"text-info":r,today:e});function Tt(i,r){i&1&&R(0,"th")}function It(i,r){if(i&1&&(s(0,"th",10)(1,"div",11)(2,"span",12),g(3),d()()()),i&2){let e=r.$implicit;o(3),x(e.abbr)}}function Vt(i,r){if(i&1&&(s(0,"td",15)(1,"em"),g(2),d()()),i&2){let e=c(2).index,t=c(2);o(2),x(t.weekNumbers[e])}}function St(i,r){if(i&1){let e=y();s(0,"button",18),f("click",function(n){u(e);let a=c().$implicit,p=c(4);return m(p.datePicker.select(a.date,n))}),s(1,"span",19),g(2),d()()}if(i&2){let e=c().$implicit;l("ngClass",H(4,Pt,e.selected,e.disabled))("disabled",e.disabled),o(),l("ngClass",ke(7,Mt,e.secondary,e.current,e.today)),o(),x(e.label)}}function Et(i,r){if(i&1&&(s(0,"td",16),h(1,St,3,11,"button",17),d()),i&2){let e=r.$implicit;l("id",e.uid),o(),l("ngIf",e.isCellVisible)}}function Ot(i,r){if(i&1&&(s(0,"tr"),h(1,Vt,3,1,"td",13)(2,Et,2,2,"td",14),d()),i&2){let e=c().$implicit,t=c(2);o(),l("ngIf",t.datePicker.showWeeks),o(),l("ngForOf",e.days)}}function Ft(i,r){if(i&1&&h(0,Ot,3,2,"tr",6),i&2){let e=r.$implicit;l("ngIf",e.isRowVisible)}}function Rt(i,r){if(i&1){let e=y();s(0,"table",2)(1,"thead")(2,"tr")(3,"th")(4,"button",3),f("click",function(n){u(e);let a=c();return m(a.datePicker.move(-1,n))}),d()(),s(5,"th")(6,"button",4),f("click",function(n){u(e);let a=c();return m(a.datePicker.toggleMode(n))}),s(7,"span"),g(8),d()()(),s(9,"th")(10,"button",5),f("click",function(n){u(e);let a=c();return m(a.datePicker.move(1,n))}),d()()(),s(11,"tr"),h(12,Tt,1,0,"th",6)(13,It,4,1,"th",7),d()(),s(14,"tbody"),h(15,Ft,1,1,"ng-template",8),s(16,"tr")(17,"td")(18,"button",9),f("click",function(n){u(e);let a=c();return m(a.datePicker.select(a.todayDate,n))}),he(19,0),d()()()()()}if(i&2){let e=c();I("aria-labelledby",e.datePicker.uniqueId+"-title"),o(5),I("colspan",5+(e.datePicker.showWeeks?1:0)),o(),l("id",e.datePicker.uniqueId+"-title")("disabled",e.datePicker.datepickerMode===e.datePicker.maxMode)("ngClass",V(11,wt,e.datePicker.datepickerMode===e.datePicker.maxMode)),o(2),x(e.title),o(4),l("ngIf",e.datePicker.showWeeks),o(),l("ngForOf",e.labels),o(2),l("ngForOf",e.rows),o(2),I("colspan",7+(e.datePicker.showWeeks?1:0)),o(),l("disabled",e.datePicker.isTodayButtonDisabled)}}var Be=(()=>{class i{constructor(e){this.datePicker=e,this.labels=[],this.rows=[],this.weekNumbers=[],this.todayDate=(0,E.default)().toString(),this.datePicker=e}ngOnInit(){this.datePicker.stepDay={months:1},this.datePicker.setRefreshViewHandler(()=>{let e=this.datePicker,t=e.value&&e.value.isValid()?e.value.clone():(0,E.default)(),n=t.month(),a=t.clone().set("date",1).day(),p=e.startingDay-a,O=p>0?7-p:-p,ie=O>0?t.clone().set("date",-O+1):t.clone().set("date",1),P=this.getDates(ie,42),F=[];for(let _=0;_<42;_++){let ne=this.datePicker.handleTimezone?E.default.parseZone:E.default,w=e.createDateObject(ne(P[_].date),e.formatDay);w.secondary=P[_].month!==n,w.uid=e.uniqueId+"-"+_,w.isCellVisible=!(e.onlyCurrentMonth&&w.secondary),F[_]=w}this.labels=[];for(let _=0;_<7;_++)this.labels[_]={abbr:e.formatDate(F[_].date,e.formatDayHeader),full:e.formatDate(F[_].date,"EEEE")};if(this.title=e.formatDate(t,e.formatDayTitle),this.rows=e.split(F,7).map(_=>({days:_,isRowVisible:!(e.onlyCurrentMonth&&_[0].secondary&&_[6].secondary)})),e.showWeeks){let _=(11-e.startingDay)%7,ne=this.rows.length;this.weekNumbers=[];for(let w=0;w<ne;w++)this.weekNumbers.push((0,E.default)(this.rows[w].days[_].date).isoWeek())}},"day"),this.datePicker.setCompareHandler((e,t)=>{let n=(0,E.default)({year:e.year(),month:e.month(),date:e.date()}),a=(0,E.default)({year:t.year(),month:t.month(),date:t.date()});return n.valueOf()-a.valueOf()},"day")}getDates(e,t){let n=new Array(t),a=e.clone(),p=0;for(;p<t;)n[p++]={date:a.toISOString(this.datePicker.handleTimezone),day:a.day(),month:a.month()},a=a.clone().date(a.date()+1);return n}static{this.\u0275fac=function(t){return new(t||i)(T(C))}}static{this.\u0275cmp=v({type:i,selectors:[["nui-day-picker"]],standalone:!1,decls:1,vars:1,consts:()=>{let e;return e=$localize`:␟cca0dd32d2dc152d912523b3d1d6aef5d9ca4b74␟2117635896937974788: Today `,[e,["role","grid","aria-activedescendant","activeDateId",4,"ngIf"],["role","grid","aria-activedescendant","activeDateId"],["nui-button","","type","button","displayStyle","action","icon","caret-left","tabindex","-1",3,"click"],["nui-button","","type","button","displayStyle","action","tabindex","-1",1,"change-mode-button",3,"click","id","disabled","ngClass"],["nui-button","","type","button","displayStyle","action","icon","caret-right","tabindex","-1",3,"click"],[4,"ngIf"],["class","text-center",4,"ngFor","ngForOf"],["ngFor","",3,"ngForOf"],["nui-button","","type","button","displayStyle","action",1,"today-button",3,"click","disabled"],[1,"text-center"],[1,"day-label"],["aria-label","label.full"],["class","h6 text-center",4,"ngIf"],["class","text-center day",3,"id",4,"ngFor","ngForOf"],[1,"h6","text-center"],[1,"text-center","day",3,"id"],["nui-button","","type","button","displayStyle","action","tabindex","-1",3,"ngClass","disabled","click",4,"ngIf"],["nui-button","","type","button","displayStyle","action","tabindex","-1",3,"click","ngClass","disabled"],[3,"ngClass"]]},template:function(t,n){t&1&&h(0,Rt,20,13,"table",1),t&2&&l("ngIf",n.datePicker.datepickerMode==="day")},dependencies:[N,Y,D,A],encapsulation:2})}}return i})();var Nt=["date"],Yt=["popupArea"];function At(i,r){i&1&&re(0)}function $t(i,r){if(i&1){let e=y();ue(0),s(1,"div",7,2),f("click",function(){u(e);let n=L(7),a=c();return m(!a.isDisabled&&n.toggle())}),s(3,"nui-textbox",8,3),f("textChange",function(n){u(e);let a=c();return m(a.onInputActiveDateChanged(n))})("blurred",function(){u(e);let n=c();return m(n.updateTouchedState())}),d(),R(5,"nui-icon",9),d(),s(6,"nui-overlay",10,4),h(8,At,1,0,"ng-container",11),d(),me()}if(i&2){let e=L(2),t=c(),n=L(6);o(),ae("disabled",t.isDisabled),o(2),l("disabled",t.isDisabled)("isInErrorState",t.isInErrorState)("ariaLabel",t.ariaLabel),o(2),l("iconColor",t.getIconColor()),o(),l("toggleReference",e)("overlayConfig",t.overlayConfig)("customContainer",t.customContainer),o(2),l("ngTemplateOutlet",n)}}function qt(i,r){i&1&&re(0)}function Bt(i,r){if(i&1&&(s(0,"div"),h(1,qt,1,0,"ng-container",11),d()),i&2){c();let e=L(6);o(),l("ngTemplateOutlet",e)}}function Wt(i,r){if(i&1){let e=y();s(0,"nui-date-picker-inner",12),f("update",function(n){u(e);let a=c();return m(a.onUpdate(n))})("selectionDone",function(n){u(e);let a=c();return m(a.onSelectionDone(n))}),R(1,"nui-day-picker",13)(2,"nui-month-picker",13)(3,"nui-year-picker",13),d()}if(i&2){let e=c();l("preserveInsignificant",e.preserveInsignificant)("selectedDate",e.selectedDate)("inline",e.inline)("locale",e.locale)("datepickerMode",e.datepickerMode)("initDate",e.initDate)("minDate",e.minDate)("maxDate",e.maxDate)("minMode",e.minMode)("maxMode",e.maxMode)("showWeeks",e.showWeeks)("dateFormat",e.dateFormat)("formatDay",e.formatDay)("formatMonth",e.formatMonth)("formatYear",e.formatYear)("formatDayHeader",e.formatDayHeader)("formatDayTitle",e.formatDayTitle)("formatMonthTitle",e.formatMonthTitle)("startingDay",e.startingDay)("yearRange",e.yearRange)("disabledDates",e.disabledDates)("onlyCurrentMonth",e.onlyCurrentMonth)("handleTimezone",e.handleTimezone)("value",e.value)}}var Ii=(()=>{class i{get value(){return this._value}set value(e){!this.preserveInsignificant&&e&&e.set({hour:0,minute:0,second:0,millisecond:0}),!(!e||e&&e.isSame(this._value))&&(this.setDate(e),this.updateTextboxValue())}constructor(e){this.cd=e,this.ariaLabel="Date Picker",this.datepickerMode="day",this.showWeeks=!1,this.preserveInsignificant=!1,this.selectionDone=new M,this.valueChange=new M,this.calendarNavigated=new M,this.inputBlurred=new M,this.onDestroy$=new B,this.overlayConfig={panelClass:[Me]},this._todayDate=(0,Q.default)(),this.inputChanged=new B}ngOnInit(){(0,We.default)(this,se),this.selectedDate=this._value,this.initDate=this.value&&this.value.clone(),this.setDateFormat(),this.inputChanged.pipe(pe(500)).subscribe(e=>{let t=(0,Q.default)(e,le,!0);this.onTouched();let n=!this.formControl&&(0,ce.default)(q.dateFormat(t)),a=this.formControl&&this.formControl.valid&&(0,ce.default)(q.dateFormat(t)),p=(n||a)&&!this.isDateDisabled(t);this.setDate(t),this.setErrorState(!p),this.value.isValid()&&!(0,ze.default)(this.value.format(this.momentDateFormat),e)&&this.updateTextboxValue()}),this.onAppendToBodyChange(this.appendToBody)}ngOnChanges(e){e.appendToBody&&this.onAppendToBodyChange(e.appendToBody.currentValue)}ngAfterViewInit(){this.calendarChanged=this._datePicker.calendarMoved.subscribe(e=>this.calendarNavigated.emit(e)),this.updateTextboxValue(),this.cd.detectChanges(),this.overlay&&(this.overlay.clickOutside.pipe(K(this.onDestroy$)).subscribe(e=>this.overlay.hide()),this.overlay.show$.pipe(K(this.onDestroy$)).subscribe(e=>this._datePicker.refreshView()),this.overlay.hide$.pipe(K(this.onDestroy$)).subscribe(e=>{this.value?.isValid()||(this._datePicker.value=void 0,this._datePicker.datepickerMode="day")}))}updateTouchedState(){setTimeout(()=>this.inputBlurred.emit(),100),this.onTouched()}onUpdate(e){this.value=e,this.selectionDone.emit(e),this.setErrorState(!1)}setDate(e){this._value=e,this.selectedDate=e,this.valueChange.emit(e),this.onChange(e)}onInputActiveDateChanged(e){this.inputChanged.next(e)}getIconColor(){return this.isDisabled?"gray":"primary-blue"}onChange(e){}onTouched(){}validate(e){return this.formControl=e,q.dateFormat(e.value)}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}setErrorState(e){this.isInErrorState=e}onSelectionDone(e){this.value=e,this.overlay?.hide()}updateTextboxValue(e=this._value){!this.textbox||!e||this.textbox.writeValue((0,Q.default)(e).format(this.momentDateFormat))}isDateDisabled(e){return this._datePicker.isDisabled(e)}setDateFormat(){let e=!(0,je.default)(this.dateFormat)&&(0,Q.default)(this._todayDate.format(this.dateFormat),le,!0).isValid();this.momentDateFormat=e?this.dateFormat:se.dateFormat}ngOnDestroy(){this.calendarChanged&&this.calendarChanged.unsubscribe(),this.overlay?.showing&&this.overlay.hide(),this.onDestroy$.next(),this.onDestroy$.complete()}onAppendToBodyChange(e){this.customContainer=e?void 0:this.popupArea}static{this.\u0275fac=function(t){return new(t||i)(T(xe))}}static{this.\u0275cmp=v({type:i,selectors:[["nui-date-picker"]],viewQuery:function(t,n){if(t&1&&(W(C,5),W(Nt,5),W(Yt,7),W(X,5)),t&2){let a;z(a=j())&&(n._datePicker=a.first),z(a=j())&&(n.textbox=a.first),z(a=j())&&(n.popupArea=a.first),z(a=j())&&(n.overlay=a.first)}},hostVars:2,hostBindings:function(t,n){t&2&&ae("nui-datepicker--inline",n.inline)},inputs:{inline:"inline",isRequired:"isRequired",isDisabled:"isDisabled",isInErrorState:"isInErrorState",ariaLabel:"ariaLabel",locale:"locale",datepickerMode:"datepickerMode",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",maxMode:"maxMode",showWeeks:"showWeeks",dateFormat:"dateFormat",formatDay:"formatDay",formatMonth:"formatMonth",formatYear:"formatYear",formatDayHeader:"formatDayHeader",formatDayTitle:"formatDayTitle",formatMonthTitle:"formatMonthTitle",startingDay:"startingDay",yearRange:"yearRange",onlyCurrentMonth:"onlyCurrentMonth",preserveInsignificant:"preserveInsignificant",disabledDates:"disabledDates",handleTimezone:"handleTimezone",appendToBody:"appendToBody",value:"value"},outputs:{selectionDone:"selectionDone",valueChange:"valueChange",calendarNavigated:"calendarNavigated",inputBlurred:"inputBlurred"},standalone:!1,features:[ye([{provide:De,useExisting:U(()=>i),multi:!0},{provide:Ce,useExisting:U(()=>i),multi:!0},{provide:Pe,useExisting:U(()=>i),multi:!0}]),G],decls:7,vars:2,consts:[["popupArea",""],["datePickerInner",""],["toggleRef",""],["date",""],["overlay",""],[1,"nui-datepicker"],[4,"ngIf"],[1,"nui-datepicker__container",3,"click"],["autocomplete","off",3,"textChange","blurred","disabled","isInErrorState","ariaLabel"],["icon","calendar","aria-hidden","true",1,"nui-datepicker__icon",3,"iconColor"],[3,"toggleReference","overlayConfig","customContainer"],[4,"ngTemplateOutlet"],[3,"update","selectionDone","preserveInsignificant","selectedDate","inline","locale","datepickerMode","initDate","minDate","maxDate","minMode","maxMode","showWeeks","dateFormat","formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","startingDay","yearRange","disabledDates","onlyCurrentMonth","handleTimezone","value"],["tabindex","0"]],template:function(t,n){t&1&&(s(0,"div",5),h(1,$t,9,10,"ng-container",6)(2,Bt,2,1,"div",6),R(3,"div",null,0),d(),h(5,Wt,4,24,"ng-template",null,1,ge)),t&2&&(o(),l("ngIf",!n.inline),o(),l("ngIf",n.inline))},dependencies:[D,ve,Te,we,X,$e,qe,C,Be],styles:[`.nui .nui-datepicker__textbox.ng-invalid-date{border-color:var(--nui-color-line-critical,#dd2c00)}.nui .nui-datepicker{display:inline-block}.nui .nui-datepicker--inline{display:inline-flex}.nui .nui-datepicker .nui-textbox .has-feedback{width:135px}.nui .nui-datepicker .nui-textbox .has-feedback .nui-textbox__input{line-height:14px}.nui .nui-datepicker__textbox{color:var(--nui-color-active-hover,#006d99)}.nui .nui-datepicker__textbox:disabled{pointer-events:none}.nui .nui-datepicker__textbox:not(:focus){cursor:pointer}.nui .nui-datepicker__container{position:relative}.nui .nui-datepicker__container.disabled .nui-icon{cursor:not-allowed;pointer-events:auto}.nui .nui-datepicker.has-error .nui-datepicker__messages div[ng-message]{clear:both;font-size:11px;font-weight:600;line-height:18px;margin:0 0 7px}.nui .nui-datepicker__icon{cursor:pointer;pointer-events:auto;position:absolute;right:7px;top:7px;z-index:501}.nui .nui-datepicker__icon.disabled{pointer-events:none}.nui .nui-datepicker-inner{min-height:290px;min-width:230px;padding:8px 10px}.nui .nui-datepicker-inner table{outline:none;background-color:transparent}.nui .nui-datepicker-inner table button.btn.btn-action{font-size:13px;outline:none}.nui .nui-datepicker-inner table button.btn.btn-action span{display:block}.nui .nui-datepicker-inner table button.btn.btn-action span.text-info{color:#0079aa;width:100%;color:var(--nui-color-text-link,#0079aa)}.nui .nui-datepicker-inner table button.btn.btn-action span.text-muted{color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}.nui .nui-datepicker-inner table button.btn.btn-action span.today{border-bottom:2px solid;border-bottom-color:var(--nui-color-line-active,#0079aa);font-weight:700}.nui .nui-datepicker-inner table button.btn.btn-action span.today:not(.text-info).text-muted{border-bottom-color:#b3b3b3}.nui .nui-datepicker-inner table button.btn.btn-action:disabled{color:var(--nui-color-text-disabled,rgba(17, 17, 17, .3))}.nui .nui-datepicker-inner table button.btn.btn-action:disabled span.text-muted{color:var(--nui-color-text-disabled,rgba(17, 17, 17, .3))}.nui .nui-datepicker-inner table button.btn.btn-action.selected{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background-color:var(--nui-color-selected-contrast,#00c4d2);color:#fff}.nui .nui-datepicker-inner table button.btn.btn-action.selected:hover{background-color:var(--nui-color-selected-contrast-hover,#00b0bd);border-color:transparent}.nui .nui-datepicker-inner table button.btn.btn-action.selected span{color:#fff}.nui .nui-datepicker-inner table button.btn.btn-action.selected span.today,.nui .nui-datepicker-inner table button.btn.btn-action.selected span.today.text-muted{border-bottom-color:#fff}.nui .nui-datepicker-inner table button span{font-weight:400}.nui .nui-datepicker-inner table th button.btn.btn-action{height:30px;width:100%}.nui .nui-datepicker-inner table th button.btn.btn-action.is-empty{width:30px}.nui .nui-datepicker-inner table th>button.title{width:100%}.nui .nui-datepicker-inner table th>button.title:disabled{opacity:1;color:var(--nui-color-off,#4d4d4d)}.nui .nui-datepicker-inner table th:last-of-type{text-align:right}.nui .nui-datepicker-inner table td.day>.btn.btn-action{height:30px;min-width:30px;padding:0 7px}.nui .nui-datepicker-inner table td.day>.btn.btn-action .nui-button__content{width:100%}.nui .nui-datepicker-inner table td.month>.btn.btn-action{height:52.5px;min-width:70px;padding:0}.nui .nui-datepicker-inner table td.year>.btn.btn-action{height:52.5px;min-width:42px;padding:0}.nui .nui-datepicker-inner table td>button:disabled span.today:not(.text-info){border-bottom-color:#b3b3b3}.nui .nui-datepicker-inner table .today-button{height:30px;max-width:none;width:100%}.nui .nui-datepicker-inner table .today-button:focus{background-color:transparent}.nui .nui-datepicker-inner table .day-label{color:var(--nui-color-text-default,#111);align-items:center;display:flex;height:30px;justify-content:center;min-width:30px}
`],encapsulation:2})}}return i})();export{Se as a,Ii as b};
