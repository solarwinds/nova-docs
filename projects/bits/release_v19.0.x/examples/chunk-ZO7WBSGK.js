import{e as w,f as j,n as K,o as ee,p as te,q as ye,r as De,s as ie,t as ne,u as re,v as oe,w as se,y as ke,z as b}from"./chunk-LF6XSF3V.js";import{b as He}from"./chunk-PQ3EDQC5.js";import{a as Ve}from"./chunk-UINJOPJ7.js";import{d as we}from"./chunk-GT67VGXH.js";import{a as ve}from"./chunk-JGO3K5JF.js";import{d as Ce}from"./chunk-XRSLDQYN.js";import{b as Me}from"./chunk-SPX2OUAB.js";import{a as $}from"./chunk-7FMIATJZ.js";import{d as _e,p as N}from"./chunk-IOE73CTL.js";import{a as Se}from"./chunk-YILH52ZF.js";import{d as ge}from"./chunk-OP3E7ERD.js";import{a as Fe}from"./chunk-ZR5STDHI.js";import{j as fe,l as T}from"./chunk-EHNCPSLF.js";import{$b as Y,Bb as p,C as ae,Db as c,Eb as D,G as P,Gc as S,Ha as W,Ia as de,Jc as G,L as ce,La as y,Pb as R,Qb as s,Sb as k,Tb as me,Wb as f,X as ue,Xb as g,Yb as z,Yc as B,Zc as J,ac as _,ba as C,g as M,mc as l,nb as m,nc as a,oc as pe,pb as H,pc as be,sb as he,tb as o,uc as A,vc as O,wa as v,wc as F,xa as d,xc as Z,ya as h,zb as x}from"./chunk-MC3BMXIX.js";import{g as X}from"./chunk-VBFW7A5V.js";var Be=["checkbox"],je=["popupArea"];function Le(n,E){if(n&1){let e=_();f(0,"button",11),l("click",function(){d(e),a();let i=Z(10);return h(i.toggle())}),g()}n&2&&s("displayStyle","default")("icon","caret-down")}var Re=(()=>{class n{constructor(){this.ariaLabel="Selector",this.selectionChange=new W,this.checkboxChecked=!1,this.indeterminate=!1,this.onDestroy$=new M,this.overlayConfig={panelClass:[_e]},this.selectionHasChanged=!1}ngOnChanges(e){if(e.checkboxStatus){let t=e.checkboxStatus.currentValue;this.indeterminate=t===j.Indeterminate,this.checkboxChecked=t===j.Checked}e.appendToBody&&(this.customContainer=e.appendToBody.currentValue?void 0:this.popupArea)}ngAfterViewInit(){this.checkbox.valueChange.pipe(ce(10)).subscribe(this.onCheckboxValueChange.bind(this)),this.overlay.clickOutside.pipe(C(this.onDestroy$)).subscribe(t=>this.overlay.hide()),this.checkbox.checkboxLabel.nativeElement.setAttribute("tabindex","-1")}ngOnDestroy(){this.checkbox.valueChange.unsubscribe(),this.onDestroy$.next(),this.onDestroy$.complete()}getFilters(){let e={type:"selector",value:{selectorState:{checkboxStatus:this.checkboxStatus,selectorItems:this.items},status:this.status,selectionHasChanged:this.selectionHasChanged}};return this.selectionHasChanged=!1,e}handleSelectorClick(e){if(e.currentTarget!==e.target)return;this.indeterminate=!1,this.checkboxChecked=!this.checkboxChecked;let t=this.checkboxChecked?w.All:w.None;this.status=t,this.selectionChange.emit(t)}onCheckboxValueChange(e){this.indeterminate=!1,this.checkboxChecked=!this.checkboxChecked,this.status=this.checkboxChecked?w.All:w.None,this.selectionHasChanged=!0,e.target.checked?this.selectionChange.emit(w.All):this.selectionChange.emit(w.UnselectAll)}handleItemClick(e){let t=e.value||e.title;this.checkboxChecked=t===w.All||t===w.AllPages,this.status=t,this.selectionHasChanged=!0,this.selectionChange.emit(t)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["nui-selector"]],viewQuery:function(t,i){if(t&1&&(A(Be,5),A(je,7),A(N,5)),t&2){let r;O(r=F())&&(i.checkbox=r.first),O(r=F())&&(i.popupArea=r.first),O(r=F())&&(i.overlay=r.first)}},hostAttrs:["tabindex","-1",1,"nui-selector"],hostVars:1,hostBindings:function(t,i){t&2&&R("aria-label",i.ariaLabel)},inputs:{checkboxStatus:"checkboxStatus",items:"items",appendToBody:"appendToBody",ariaLabel:"ariaLabel"},outputs:{selectionChange:"selectionChange"},standalone:!1,features:[v],decls:12,vars:9,consts:[["toggleButton",""],["checkbox",""],["popupArea",""],["overlay",""],[1,"btn-group"],["nui-button","","type","button","role","checkbox",1,"nui-selector__checkbox-button",3,"click","displayStyle"],[1,"nui-selector__checkbox-container"],[3,"checked","indeterminate"],["nui-button","","type","button","class","nui-selector__toggle","ariaLabel","Open Selector Menu",3,"displayStyle","icon","click",4,"ngIf"],[3,"toggleReference","overlayConfig","customContainer"],[3,"menuItemClicked","itemsSource"],["nui-button","","type","button","ariaLabel","Open Selector Menu",1,"nui-selector__toggle",3,"click","displayStyle","icon"]],template:function(t,i){if(t&1){let r=_();f(0,"div",4,0)(2,"button",5),l("click",function(V){return d(r),h(i.handleSelectorClick(V))}),f(3,"div",6),z(4,"nui-checkbox",7,1),g()(),D(6,Le,1,2,"button",8),g(),z(7,"div",null,2),f(9,"nui-overlay",9,3)(11,"nui-menu-popup",10),l("menuItemClicked",function(V){return d(r),h(i.handleItemClick(V))}),g()()}if(t&2){let r=Z(1);m(2),s("displayStyle","default"),R("aria-checked",i.checkboxChecked),m(2),s("checked",i.checkboxChecked)("indeterminate",i.indeterminate),m(2),s("ngIf",i.items==null?null:i.items.length),m(3),s("toggleReference",r)("overlayConfig",i.overlayConfig)("customContainer",i.customContainer),m(2),s("itemsSource",i.items)}},dependencies:[T,$,we,Se,N],styles:[`.nui .nui-selector{max-height:30px;min-width:67px}.nui .nui-selector__checkbox-button{border:1px solid #d9d9d9;border:1px solid var(--nui-color-line-default, #d9d9d9);border-top-left-radius:3px;border-bottom-left-radius:3px}.nui .nui-selector__checkbox-button.btn{min-width:35px;width:35px;padding:0;border-width:0}.nui .nui-selector__checkbox-button.btn:focus{outline:none}.nui .nui-selector .nui-button__content{width:100%}.nui .nui-selector .nui-checkbox__label{width:100%;border-radius:3px 0 0 3px;border:1px solid;border-color:var(--nui-color-line-default,#d9d9d9)}.nui .nui-selector .nui-checkbox__label .nui-checkbox__mark{margin:-1px 0}.nui .nui-selector .nui-checkbox__label:hover{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05))}.nui .nui-selector__toggle{margin-right:0;border:1px solid #0079aa;border:1px solid var(--nui-color-line-active, #0079aa);border-bottom-left-radius:0;border-top-left-radius:0;padding:0 19px;height:auto}.nui .nui-selector__toggle.btn:focus{outline:none}.nui .nui-selector__toggle.nui-button.icon-left .nui-icon{float:none}
`],encapsulation:2})}}return n})();var bt=(()=>{class n extends K{constructor(e){super(e),this.template=e}static{this.\u0275fac=function(t){return new(t||n)(o(H))}}static{this.\u0275dir=p({type:n,selectors:[["","nuiCellDef",""]],standalone:!1,features:[S([{provide:K,useExisting:n}]),c]})}}return n})();var U=(()=>{class n extends te{get name(){return super.name}set name(e){super.name=e}constructor(e){super(),this.tableStateHandlerService=e}ngOnInit(){this.columnWidth&&this.tableStateHandlerService.setColumnWidth(this.name,this.columnWidth),this.type==="icon"&&this.tableStateHandlerService.setAlignment(this.name,"align-center")}ngOnChanges(e){e.columnWidth&&!e.columnWidth.firstChange&&this.tableStateHandlerService.setColumnWidth(this.name,e.columnWidth.currentValue)}static{this.\u0275fac=function(t){return new(t||n)(o(b))}}static{this.\u0275dir=p({type:n,selectors:[["","nuiColumnDef",""]],inputs:{name:[0,"nuiColumnDef","name"],type:"type",columnWidth:"columnWidth"},standalone:!1,features:[S([{provide:te,useExisting:n}]),c,v]})}}return n})();var Ht=(()=>{class n extends De{get tooltip(){return this.tooltipText}mouseDown(){let e=window.getSelection();e&&e.removeAllRanges()}constructor(e,t,i,r){super(e,t),this.columnDef=e,this.elementRef=t,this.tableStateHandlerService=i,this.cd=r}ngOnInit(){let e=this.alignment?`align-${this.alignment}`:this.tableStateHandlerService.getAlignment(this.columnDef.name);this.elementRef.nativeElement.classList.add(e),this.currentCellIndex=this.tableStateHandlerService.tableColumns.indexOf(this.columnDef.name),this.tableStateHandlerService.reorderable&&(this.subscribeToDraggedOverCell=this.tableStateHandlerService.draggedOverCell.subscribe(t=>{this.rightEdgeActive=this.leftEdgeActive=!1,t?.cellIndex===this.currentCellIndex&&(this.rightEdgeActive=t?.dropAlignment==="right",this.leftEdgeActive=t?.dropAlignment==="left",this.cd.detectChanges())})),this.tableStateHandlerService.resizable&&(this.resizeSubscription=this.tableStateHandlerService.shouldHighlightEdge.pipe(P(t=>t.columnIndex===this.currentCellIndex)).subscribe(()=>{this.rightEdgeActive=!this.rightEdgeActive}))}ngOnChanges(e){if(e.alignment&&!e.alignment.firstChange){let t=`align-${e.alignment.currentValue}`,i=`align-${e.alignment.previousValue}`;this.elementRef.nativeElement.classList.remove(i),this.elementRef.nativeElement.classList.add(t)}}ngOnDestroy(){this.subscribeToDraggedOverCell&&this.subscribeToDraggedOverCell.unsubscribe(),this.resizeSubscription&&this.resizeSubscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)(o(U),o(y),o(b),o(B))}}static{this.\u0275dir=p({type:n,selectors:[["nui-cell"],["td","nui-cell",""]],hostAttrs:["role","gridcell",1,"nui-table__table-cell"],hostVars:5,hostBindings:function(t,i){t&1&&l("mousedown",function(){return i.mouseDown()}),t&2&&(R("title",i.tooltip),k("nui-table__table-cell--left-edge-action",i.leftEdgeActive)("nui-table__table-cell--right-edge-action",i.rightEdgeActive))},inputs:{tooltipText:"tooltipText",alignment:"alignment"},standalone:!1,features:[c,v]})}}return n})();var Tt=(()=>{class n extends ee{constructor(e){super(e),this.template=e}static{this.\u0275fac=function(t){return new(t||n)(o(H))}}static{this.\u0275dir=p({type:n,selectors:[["","nuiHeaderCellDef",""]],standalone:!1,features:[S([{provide:ee,useExisting:n}]),c]})}}return n})();var q=X(Fe()),Ee=X(Ve());var L=function(n){return n.start="start",n.end="end",n}(L||{}),Ie=(()=>{class n{constructor(e){this.tableStateHandlerService=e,this.hostClasses="nui-table__resizer",this.resizerMovement=new W,this.mouseMoveHandler=t=>{this.resizerMovement.emit(t.movementX)},this.removeResizeListeners=()=>{document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.removeResizeListeners),this.resizerMovement.emit(null),setTimeout(()=>{this.tableStateHandlerService.emitResizeEvent(this.columnIndex,L.end)})}}onMouseDown(e){this.tableStateHandlerService.emitResizeEvent(this.columnIndex,L.start),e.preventDefault(),document.addEventListener("mouseup",this.removeResizeListeners),document.addEventListener("mousemove",this.mouseMoveHandler)}static{this.\u0275fac=function(t){return new(t||n)(o(b))}}static{this.\u0275dir=p({type:n,selectors:[["","nuiTableResizer",""]],hostVars:2,hostBindings:function(t,i){t&1&&l("mousedown",function(u){return i.onMouseDown(u)}),t&2&&me(i.hostClasses)},inputs:{columnIndex:"columnIndex"},outputs:{resizerMovement:"resizerMovement"},standalone:!1})}}return n})();var $e=["*"];function Ne(n,E){if(n&1&&z(0,"nui-icon",2),n&2){let e=a();s("icon",e.sortingState.sortingIcon)}}function Qe(n,E){if(n&1){let e=_();f(0,"span",3),l("click",function(i){return d(e),h(i.stopPropagation())})("resizerMovement",function(i){d(e);let r=a();return h(r.onColumnWidthChange(i))}),g()}if(n&2){let e=a();s("columnIndex",e.currentCellIndex)}}var Kt=(()=>{class n extends ye{get isIconCell(){return this.columnDef.type==="icon"}get fixedWidth(){return this.isIconCell}get shouldBeDarkOnSorting(){return this.sortingState.isColumnSorted}get shouldBeDarkOnReorder(){return this.leftEdgeActive||this.rightEdgeActive}get isSortable(){return this.tableStateHandlerService.sortable&&!this.isColumnSortingDisabled}get isColumnSorted(){return this.sortingState.isColumnSorted}get isReorderable(){return this.tableStateHandlerService.reorderable}get tooltip(){return this.tooltipText}mouseMovedOver(){this.isColumnResizable()&&!this.resizeInProgress&&(this.rightEdgeActive=this.isCursorInCell=!0)}mouseMovedOut(){this.isCursorInCell=!1,this.isColumnResizable()&&this.resizeEventPhase!=="start"&&(this.rightEdgeActive=!1)}clicked(){if(this.tableStateHandlerService.sortable&&!this.isColumnSortingDisabled&&this.resizeEventPhase!==L.start){let e=this.tableStateHandlerService.tableColumns.indexOf(this.columnDef.name);this.tableStateHandlerService.sortColumn(e)}}dragStarted(e){if(this.isReorderable){let t=e.target,i=this.tableStateHandlerService.getTargetElementCellIndex(e);if(this.tableStateHandlerService.dragCellIndex=i,e.stopPropagation(),!e.dataTransfer)throw new Error("dataTransfer is null");e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",i.toString());let r=window.getSelection();!(0,q.default)(r?.type)&&r?.type==="Range"&&(r.removeAllRanges(),e.dataTransfer.setDragImage(t,t.clientWidth/2,t.clientHeight/2))}}dropped(e){let t=this.tableStateHandlerService.dragCellIndex,i=e.dataTransfer?.getData("text");e.stopPropagation(),e.preventDefault(),this.tableStateHandlerService.draggedOverCell.next(void 0),!(0,q.default)(t)&&!(0,q.default)(i)&&t.toString()===i&&this.tableStateHandlerService.reorderColumnsOnDrop()}dragEnd(e){e.stopPropagation(),this.tableStateHandlerService.draggedOverCell.next(void 0)}constructor(e,t,i,r,u,V){super(e,t),this.columnDef=e,this.elementRef=t,this.tableStateHandlerService=i,this.utilService=r,this.zone=u,this.renderer=V,this.isColumnSortingDisabled=!1,this.subscriptions=[],this.resizable=!1,this.tableStateHandlerService.columnType={columnName:this.columnDef.name,columnType:this.columnDef.type||"default"}}ngOnInit(){let e=this.alignment?`align-${this.alignment}`:this.tableStateHandlerService.getAlignment(this.columnDef.name);if(this.resizable=this.tableStateHandlerService.resizable,this.elementRef.nativeElement.classList.add(e),this.currentCellIndex=this.tableStateHandlerService.tableColumns.indexOf(this.columnDef.name),this.sortingState=this.tableStateHandlerService.getSortingState(this.currentCellIndex),this.resizable){let t=this.tableStateHandlerService.getColumnWidth(this.columnDef.name);this.elementRef.nativeElement.style.width=t+"px",this.subscriptions.push(this.tableStateHandlerService.shouldHighlightEdge.pipe(P(i=>(this.resizeInProgress=i.columnIndex!==this.currentCellIndex&&i.eventPhase==="start",i.columnIndex===this.currentCellIndex)),ue("eventPhase")).subscribe(i=>{this.resizeEventPhase=i,this.rightEdgeActive=this.isCursorInCell}))}this.subscriptions.push(this.tableStateHandlerService.columnWidthSubject.subscribe(()=>{let t=this.tableStateHandlerService.getColumnWidth(this.columnDef.name);t>45&&this.renderer.setStyle(this.elementRef.nativeElement,"width",t+"px")})),this.isSortable&&this.subscriptions.push(this.tableStateHandlerService.sortingState.subscribe(()=>{this.sortingState=this.tableStateHandlerService.getSortingState(this.currentCellIndex)})),this.isReorderable&&this.subscriptions.push(this.tableStateHandlerService.draggedOverCell.subscribe(t=>{this.rightEdgeActive=this.leftEdgeActive=!1,t?.cellIndex===this.currentCellIndex&&(this.rightEdgeActive=t?.dropAlignment==="right",this.leftEdgeActive=t?.dropAlignment==="left")}))}ngOnChanges(e){if(e.alignment&&!e.alignment.firstChange){let t=`align-${e.alignment.currentValue}`,i=`align-${e.alignment.previousValue}`;this.elementRef.nativeElement.classList.remove(i),this.elementRef.nativeElement.classList.add(t)}}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.subscriptions.push(ae(this.elementRef.nativeElement,"dragover").subscribe(e=>{e.stopPropagation(),e.preventDefault(),this.tableStateHandlerService.setDraggedOverCell(e)}))})}isColumnResizable(){let e=(0,Ee.default)(this.columnDef.type);return this.tableStateHandlerService.resizable&&e}onColumnWidthChange(e){let i=this.tableStateHandlerService.getColumnWidth(this.columnDef.name)+e;(i>45||e>0)&&this.tableStateHandlerService.setColumnWidth(this.columnDef.name,i)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||n)(o(U),o(y),o(b),o(Ce),o(de),o(he))}}static{this.\u0275cmp=x({type:n,selectors:[["nui-header-cell"],["th","nui-header-cell",""]],hostAttrs:["role","columnheader",1,"nui-table__table-header-cell"],hostVars:20,hostBindings:function(t,i){t&1&&l("mouseover",function(){return i.mouseMovedOver()})("mouseleave",function(){return i.mouseMovedOut()})("click",function(){return i.clicked()})("dragstart",function(u){return i.dragStarted(u)})("drop",function(u){return i.dropped(u)})("dragend",function(u){return i.dragEnd(u)}),t&2&&(R("draggable",i.isReorderable)("title",i.tooltip),k("nui-table__icon-cell",i.isIconCell)("nui-fixed-width",i.fixedWidth)("nui-table__table-header-cell--sortable--dark",i.shouldBeDarkOnSorting)("nui-table__table-header-cell--reorderable--dark",i.shouldBeDarkOnReorder)("nui-table__table-header-cell--sortable",i.isSortable)("nui-table__table-header-cell--sortable--text-black",i.isColumnSorted)("nui-table__table-header-cell--reorderable",i.isReorderable)("nui-table__table-cell--left-edge-action",i.leftEdgeActive)("nui-table__table-cell--right-edge-action",i.rightEdgeActive))},inputs:{alignment:"alignment",tooltipText:"tooltipText",isColumnSortingDisabled:"isColumnSortingDisabled"},standalone:!1,features:[c,v],ngContentSelectors:$e,decls:3,vars:2,consts:[["class","nui-table__sorting-icon","iconColor","gray",3,"icon",4,"ngIf"],["nuiTableResizer","",3,"columnIndex","click","resizerMovement",4,"ngIf"],["iconColor","gray",1,"nui-table__sorting-icon",3,"icon"],["nuiTableResizer","",3,"click","resizerMovement","columnIndex"]],template:function(t,i){t&1&&(pe(),be(0),D(1,Ne,1,1,"nui-icon",0)(2,Qe,1,1,"span",1)),t&2&&(m(),s("ngIf",i.sortingState.isColumnSorted),m(),s("ngIf",i.isColumnResizable()))},dependencies:[T,ge,Ie],encapsulation:2})}}return n})();var le=X(Me());var Ae=["button","input[type='button']","a[href]"];var Oe=n=>({"no-options":n});function Ue(n,E){if(n&1){let e=_();f(0,"th",2)(1,"nui-selector",3),l("selectionChange",function(i){d(e);let r=a();return h(r.onSelectorChange(i))}),g()()}if(n&2){let e=a();s("ngClass",G(7,Oe,!e.hasOptions)),m(),k("invisible",e.selectionMode!=="multi"),s("ngClass",G(9,Oe,!e.hasOptions))("appendToBody",!0)("checkboxStatus",e.selectorState.checkboxStatus)("items",e.selectorState.selectorItems)}}var qe=["rowSelectionElement"];function Xe(n,E){if(n&1){let e=_();f(0,"nui-radio",5,0),l("valueChange",function(){d(e);let i=a(2);return h(i.rowSelected())})("click",function(i){d(e);let r=a(2);return h(r.stopPropagation(i))}),g()}if(n&2){let e=a(2);s("checked",e.isRowSelected())}}function Ye(n,E){if(n&1){let e=_();f(0,"nui-checkbox",5,0),l("valueChange",function(){d(e);let i=a(2);return h(i.rowSelected())})("click",function(i){d(e);let r=a(2);return h(r.stopPropagation(i))}),g()}if(n&2){let e=a(2);s("checked",e.isRowSelected())}}function Ze(n,E){if(n&1&&(f(0,"td",3),D(1,Xe,2,1,"nui-radio",4)(2,Ye,2,1,"nui-checkbox",4),g()),n&2){let e=a();m(),s("ngIf",e.selectionMode==="radio"),m(),s("ngIf",e.selectionMode==="multi")}}var Ri=(()=>{class n extends ie{set nuiHeaderRowDef(e){this.columns=e??[]}set nuiHeaderRowDefSticky(e){this.sticky=e}constructor(e,t,i){super(e,t),this.tableStateHandlerService=i}ngOnInit(){this.tableStateHandlerService.tableColumns=Array.from(this.columns),this.tableStateHandlerService.reorderable&&(this.tableColumnsSubscription=this.tableStateHandlerService.columnsState.subscribe(e=>{this.columns=e}))}ngOnChanges(e){super.ngOnChanges(e),e.nuiHeaderRowDef&&(this.tableStateHandlerService.tableColumns=e.nuiHeaderRowDef.currentValue)}ngOnDestroy(){this.tableColumnsSubscription&&this.tableColumnsSubscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)(o(H),o(J),o(b))}}static{this.\u0275dir=p({type:n,selectors:[["","nuiHeaderRowDef",""]],hostAttrs:["role","row"],inputs:{nuiHeaderRowDef:"nuiHeaderRowDef",nuiHeaderRowDefSticky:"nuiHeaderRowDefSticky"},standalone:!1,features:[S([{provide:ie,useExisting:n}]),c,v]})}}return n})(),Ti=(()=>{class n extends ne{set nuiRowDefColumns(e){this.columns=e??[]}set nuiRowDefWhen(e){this.when=e}constructor(e,t,i){super(e,t),this.tableStateHandlerService=i}ngOnInit(){this.tableStateHandlerService.tableColumns=Array.from(this.columns),this.tableStateHandlerService.reorderable&&(this.tableColumnsSubscription=this.tableStateHandlerService.columnsState.subscribe(e=>{this.columns=e}))}ngOnDestroy(){this.tableColumnsSubscription&&this.tableColumnsSubscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)(o(H),o(J),o(b))}}static{this.\u0275dir=p({type:n,selectors:[["","nuiRowDef",""]],inputs:{nuiRowDefColumns:"nuiRowDefColumns",nuiRowDefWhen:"nuiRowDefWhen"},standalone:!1,features:[S([{provide:ne,useExisting:n}]),c]})}}return n})();var Ii=(()=>{class n extends oe{get isDensityDefault(){return this.density.toLowerCase()==="default"}get isDensityCompact(){return this.density.toLowerCase()==="compact"}get isDensityTiny(){return this.density.toLowerCase()==="tiny"}get hasOptions(){return this.selectorState.selectorItems.length>0}constructor(e,t){super(),this.tableStateHandlerService=e,this.changeDetectorRef=t,this.density="default",this.selectorState={checkboxStatus:j.Unchecked,selectorItems:[]},this.onDestroy$=new M,this.selectable=this.tableStateHandlerService.selectable,this.selectionMode=this.tableStateHandlerService.selectionMode}ngOnInit(){this.tableStateHandlerService.selectionEnabled&&(this.selectorState=this.tableStateHandlerService.getSelectorState(),this.updateSelectorState()),this.dataSourceChangeSubscription=this.tableStateHandlerService.dataSourceChanged.pipe(C(this.onDestroy$)).subscribe(()=>{this.updateSelectorState()}),this.selectionChangeSubscription=this.tableStateHandlerService.selectionChanged.pipe(C(this.onDestroy$)).subscribe(()=>{this.updateSelectorState()}),this.tableStateHandlerService.selectableChanged.pipe(C(this.onDestroy$)).subscribe(e=>{this.selectable=e,this.changeDetectorRef.markForCheck()}),this.tableStateHandlerService.selectionModeChanged.pipe(C(this.onDestroy$)).subscribe(e=>{this.selectionMode=e,this.changeDetectorRef.markForCheck()})}ngAfterViewInit(){this.tableStateHandlerService.selectionEnabled&&this.tableStateHandlerService.applyStickyStyles()}onSelectorChange(e){this.tableStateHandlerService.selection=this.tableStateHandlerService.applySelector(e),this.updateSelectorState(),this.tableStateHandlerService.selectionChanged.next(this.tableStateHandlerService.selection)}updateSelectorState(){this.selectorState=this.tableStateHandlerService.getSelectorState(),this.changeDetectorRef.detectChanges()}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(t){return new(t||n)(o(b),o(B))}}static{this.\u0275cmp=x({type:n,selectors:[["nui-header-row"],["tr","nui-header-row",""]],hostAttrs:["role","row",1,"nui-table__table-header-row"],hostVars:6,hostBindings:function(t,i){t&2&&k("nui-table__table-header-row_height_default",i.isDensityDefault)("nui-table__table-header-row_height_compact",i.isDensityCompact)("nui-table__table-header-row_height_tiny",i.isDensityTiny)},inputs:{density:"density"},exportAs:["nuiHeaderRow"],standalone:!1,features:[S([{provide:oe,useExisting:n}]),c],decls:2,vars:1,consts:[["nuiClickInterceptor","","class","nui-table__table-header-cell nui-table__table-header-cell--selectable",3,"ngClass",4,"ngIf"],["cdkCellOutlet",""],["nuiClickInterceptor","",1,"nui-table__table-header-cell","nui-table__table-header-cell--selectable",3,"ngClass"],[1,"nui-table__table-header-cell__selector",3,"selectionChange","ngClass","appendToBody","checkboxStatus","items"]],template:function(t,i){t&1&&(D(0,Ue,2,11,"th",0),Y(1,1)),t&2&&s("ngIf",i.selectable||i.selectionMode==="multi"||i.selectionMode==="radio")},dependencies:[fe,T,ve,Re,re],encapsulation:2,changeDetection:0})}}return n})(),Ei=(()=>{class n extends se{get isSelected(){return this.isRowSelected()}get isDensityDefault(){return this.density.toLowerCase()==="default"}get isDensityCompact(){return this.density.toLowerCase()==="compact"}get isDensityTiny(){return this.density.toLowerCase()==="tiny"}constructor(e,t,i){super(),this.elementRef=e,this.tableStateHandlerService=t,this.changeDetectorRef=i,this.density="default",this.clickableRow=!1,this.clickableRowConfig={clickableSelectors:["nui-row","tr[nui-row]"],ignoredSelectors:Ae},this.onDestroy$=new M,this.selectable=this.tableStateHandlerService.selectable,this.selectionMode=this.tableStateHandlerService.selectionMode}ngOnInit(){let e=`nui-table__table-row_height_${this.density.toLowerCase()}`;this.elementRef.nativeElement.classList.add(e),this.selectionChangeSubscription=this.tableStateHandlerService.selectionChanged.pipe(C(this.onDestroy$)).subscribe(()=>{this.changeDetectorRef.detectChanges()}),this.tableStateHandlerService.selectableChanged.pipe(C(this.onDestroy$)).subscribe(t=>{this.selectable=t,this.changeDetectorRef.markForCheck()}),this.tableStateHandlerService.selectionModeChanged.pipe(C(this.onDestroy$)).subscribe(t=>{this.selectionMode=t,this.changeDetectorRef.markForCheck()})}rowClickHandler(e){if(!this.tableStateHandlerService.selectionEnabled||!this.clickableRow||!this.clickableRowConfig.clickableSelectors.length)return;let t=e.closest(this.clickableRowConfig.clickableSelectors.join(","));if(!t||this.clickableRowConfig.ignoredSelectors.length&&e.closest(this.clickableRowConfig.ignoredSelectors.join(",")))return;if(this.selectionMode===ke.Single){this.rowSelected();return}t.querySelector(".nui-table__table-cell__checkbox")===this.rowSelectionElement?.nativeElement&&this.rowSelected()}rowSelected(){this.tableStateHandlerService.handleRowSelect(this.rowObject)}stopPropagation(e){e.stopPropagation()}isRowSelected(){let e=this.tableStateHandlerService.trackBy(0,this.rowObject),t=this.tableStateHandlerService.selection.include,i=this.tableStateHandlerService.selection.exclude;return this.tableStateHandlerService.selection.isAllPages?this.tableStateHandlerService.selection.exclude.length>0?!(0,le.default)(i,e):!0:t.length>0?(0,le.default)(t,e):!1}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(t){return new(t||n)(o(y),o(b),o(B))}}static{this.\u0275cmp=x({type:n,selectors:[["nui-row"],["tr","nui-row",""]],viewQuery:function(t,i){if(t&1&&A(qe,5,y),t&2){let r;O(r=F())&&(i.rowSelectionElement=r.first)}},hostAttrs:["role","row",1,"nui-table__table-row"],hostVars:10,hostBindings:function(t,i){t&1&&l("click",function(u){return i.rowClickHandler(u.target)}),t&2&&k("nui-table__table-row--clickable",i.clickableRow)("nui-table__table-row--selected",i.isSelected)("nui-table__table-row_height_default",i.isDensityDefault)("nui-table__table-row_height_compact",i.isDensityCompact)("nui-table__table-row_height_tiny",i.isDensityTiny)},inputs:{density:"density",rowObject:"rowObject",clickableRow:"clickableRow",clickableRowConfig:"clickableRowConfig"},exportAs:["nuiRow"],standalone:!1,features:[S([{provide:se,useExisting:n}]),c],decls:2,vars:1,consts:[["rowSelectionElement",""],["class","nui-table__table-cell nui-table__table-cell--selectable",4,"ngIf"],["cdkCellOutlet",""],[1,"nui-table__table-cell","nui-table__table-cell--selectable"],["class","nui-table__table-cell__checkbox d-inline-block",3,"checked","valueChange","click",4,"ngIf"],[1,"nui-table__table-cell__checkbox","d-inline-block",3,"valueChange","click","checked"]],template:function(t,i){t&1&&(D(0,Ze,3,2,"td",1),Y(1,2)),t&2&&s("ngIf",i.selectable||i.selectionMode&&(i.selectionMode==="multi"||i.selectionMode==="radio"))},dependencies:[T,He,$,re],encapsulation:2,changeDetection:0})}}return n})();export{Re as a,bt as b,U as c,Ht as d,Tt as e,Kt as f,Ri as g,Ti as h,Ii as i,Ei as j};
