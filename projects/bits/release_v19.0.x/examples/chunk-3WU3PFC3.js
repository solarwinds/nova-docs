import{p as ee}from"./chunk-OIGCZEVG.js";import{d as j,e as H,f as J,h as K,i as U}from"./chunk-RG3R3QSZ.js";import{a as ie}from"./chunk-XCWQAQNN.js";import{a as oe}from"./chunk-UILMLLTA.js";import{a as Q}from"./chunk-T32HBJMR.js";import{c as _e}from"./chunk-EPE6IVSF.js";import{e as M,g as w,h as X,l as Y,p as h,q as G,r as k,v as q}from"./chunk-I5QGFHJG.js";import{a as ne}from"./chunk-VKEWGOOU.js";import{a as te}from"./chunk-PJ6STBNV.js";import{a as B}from"./chunk-YILH52ZF.js";import{l as b,q as $}from"./chunk-EHNCPSLF.js";import{$b as N,Eb as s,Ic as p,N as F,P as z,Qb as _,Tc as T,Wb as l,Xb as r,Yb as I,ac as O,hc as u,mc as C,nb as m,nc as c,q as y,tb as g,uc as P,vc as Z,wc as v,xa as f,xc as A,ya as E,yc as D,zb as L}from"./chunk-MC3BMXIX.js";var ae=["wizard"],le=()=>["personDetails"],re=()=>["personDetails","name"],me=()=>["contactDetails"],S=()=>["contactDetails","email"];function se(e,a){e&1&&(l(0,"nui-validation-message",23),u(1,4),r())}function ce(e,a){e&1&&N(0)}function pe(e,a){e&1&&N(0)}function de(e,a){if(e&1&&s(0,ce,1,0,"ng-container",24)(1,pe,1,0,"ng-container",24),e&2){c();let i=A(16),t=A(20);_("ngTemplateOutlet",i),m(),_("ngTemplateOutlet",t)}}function Ae(e,a){if(e&1){let i=O();l(0,"span",25),C("click",function(){f(i),c();let n=A(2),o=c();return E(o.onNextClick(n.selected))}),D(1,"Contact Details"),r()}}function ue(e,a){e&1&&(l(0,"nui-validation-message",23),u(1,5),r())}function fe(e,a){e&1&&(l(0,"nui-validation-message",26),u(1,6),r())}function Ee(e,a){e&1&&N(0)}function Ne(e,a){e&1&&N(0)}function Oe(e,a){if(e&1){let i=O();s(0,Ee,1,0,"ng-container",24)(1,Ne,1,0,"ng-container",24),l(2,"button",27),C("click",function(){f(i);let n=c(2);return E(n.finishWizard())}),u(3,7),r()}if(e&2){c();let i=A(16),t=A(18);_("ngTemplateOutlet",i),m(),_("ngTemplateOutlet",t)}}function Ce(e,a){if(e&1){let i=O();l(0,"button",28),C("click",function(){f(i);let n=c(2);return E(n.resetWizard())}),u(1,8),r()}}function Me(e,a){e&1&&(l(0,"button",29),D(1," Back "),r())}function Ie(e,a){if(e&1){let i=O();l(0,"button",30),C("click",function(){f(i),c();let n=A(2),o=c();return E(o.onNextClick(n.selected))}),D(1," Next "),r()}}function De(e,a){if(e&1&&(l(0,"form",12)(1,"nui-wizard-horizontal",null,0)(3,"nui-wizard-step-v2",13)(4,"nui-form-field",14),I(5,"nui-textbox",15),s(6,se,2,0,"nui-validation-message",16),r(),s(7,de,2,2,"ng-template",17),r(),l(8,"nui-wizard-step-v2",18),s(9,Ae,2,0,"ng-template",19),l(10,"nui-form-field",20),I(11,"nui-textbox",21),s(12,ue,2,0,"nui-validation-message",16)(13,fe,2,0,"nui-validation-message",22),r(),s(14,Oe,4,2,"ng-template",17),r(),s(15,Ce,2,0,"ng-template",null,1,T)(17,Me,2,0,"ng-template",null,2,T)(19,Ie,2,0,"ng-template",null,3,T),r()()),e&2){let i,t,n,o=c();_("formGroup",o.form),m(3),_("stepControl",o.form.get(p(8,le))),m(),_("control",o.form.get(p(9,re))),m(2),_("ngIf",(i=o.form.get(p(10,re)))==null||i.errors==null?null:i.errors.required),m(2),_("stepControl",o.form.get(p(11,me))),m(2),_("control",o.form.get(p(12,S))),m(2),_("ngIf",(t=o.form.get(p(13,S)))==null||t.errors==null?null:t.errors.required),m(),_("ngIf",(n=o.form.get(p(14,S)))==null||n.errors==null?null:n.errors.email)}}var Te=e=>y(null).pipe(z(4e3)),Be=(()=>{class e{constructor(i,t){this.formBuilder=i,this.toastService=t,this.form=this.formBuilder.group({personDetails:this.formBuilder.group({name:["",[M.required,M.minLength(3)],[Te]]}),contactDetails:this.formBuilder.group({email:["",[M.required,M.email]],phone:[""]})})}onNextClick(i){let{stepControl:t}=i;if(t.status!=="PENDING"){t.markAllAsTouched();return}this.busy=!0,t.statusChanges.pipe(F(1)).subscribe(n=>{n==="VALID"&&(this.wizard.next(),this.busy=!1)})}finishWizard(){this.toastService.success({title:$localize`Success`,message:$localize`Wizard was completed successfully`,options:{timeOut:2e3}})}resetWizard(){this.wizard.reset()}static{this.\u0275fac=function(t){return new(t||e)(g(q),g(_e))}}static{this.\u0275cmp=L({type:e,selectors:[["nui-wizard-async-form-validation-example"]],viewQuery:function(t,n){if(t&1&&P(ae,5),t&2){let o;Z(o=v())&&(n.wizard=o.first)}},standalone:!1,decls:3,vars:2,consts:()=>{let i;i=$localize`:␟7e71f76dbff7069dc125de76ad0d86ea6ffa286e␟6880797919794408969:Async Validation is firing...`;let t;t=$localize`:␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`;let n;n=$localize`:␟244aae9346da82b0922506c2d2581373a15641cc␟4768749765465246664:Email`;let o;o=$localize`:␟f0cfc81a3cf98503602b26d160e924777f03cbaf␟3208836223768257750: This is required `;let R;R=$localize`:␟f0cfc81a3cf98503602b26d160e924777f03cbaf␟3208836223768257750: This is required `;let V;V=$localize`:␟8a35a7091a6881fe2b61c13ce6c4c3fd6cbd797d␟4650401672807616233: Invalid email `;let W;W=$localize`:␟255b836d1904086189b0d2daa5b2f36d33cd1d1f␟2273133766183660530: Finish `;let x;return x=$localize`:␟6a3777f913cf3f288664f0632b9f24794fdcc24e␟6991067716289442185: Cancel `,[["wizard",""],["wizardCancel",""],["wizardPrevious",""],["wizardNext",""],o,R,V,W,x,["nui-busy","",3,"busy"],[3,"formGroup",4,"ngIf"],["size","large","message",i],[3,"formGroup"],["label","Person Details","formGroupName","personDetails",3,"stepControl"],["caption",t,1,"p-5",3,"control"],["formControlName","name"],["for","required",4,"ngIf"],["nuiWizardStepFooter",""],["formGroupName","contactDetails",3,"stepControl"],["nuiWizardStepLabel",""],["caption",n,1,"p-5",3,"control"],["type","email","formControlName","email"],["for","email",4,"ngIf"],["for","required"],[4,"ngTemplateOutlet"],[3,"click"],["for","email"],["type","button","displayStyle","primary","nui-button","",3,"click"],["type","button","displayStyle","action","nui-button","",3,"click"],["type","button","nuiWizardPrevious","","nui-button","","icon","caret-left"],["nuiWizardNext","","type","button","nui-button","","displayStyle","primary","icon","caret-right","iconRight","true",3,"click"]]},template:function(t,n){t&1&&(l(0,"div",9),s(1,De,21,15,"form",10),I(2,"nui-spinner",11),r()),t&2&&(_("busy",n.busy),m(),_("ngIf",n.form))},dependencies:[B,b,$,ie,Q,oe,Y,w,X,h,k,G,ee,U,K,j,H,J,te,ne],encapsulation:2})}}return e})();export{Be as a};
