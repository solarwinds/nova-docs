import{a as x,b as C}from"./chunk-7NOYBZTH.js";import{a as oe}from"./chunk-FJPA536W.js";import{a as ae}from"./chunk-ZJITRFP2.js";import{a as se}from"./chunk-T336PPIV.js";import{a as re}from"./chunk-SHK7HRYS.js";import{a as ne}from"./chunk-CJFOCIHU.js";import{a as de}from"./chunk-ILHVKHTP.js";import{a as y}from"./chunk-KNI7S7QC.js";import{a as ie}from"./chunk-YILH52ZF.js";import{c as te}from"./chunk-WLK22LTS.js";import{j as Y,k as J,l as ee}from"./chunk-EHNCPSLF.js";import{Ac as L,Eb as d,F as N,Gc as X,Ha as z,Ia as H,Jc as Z,L as j,La as K,N as Q,Qb as a,Sb as P,Wb as c,Xb as u,Yb as q,Yc as U,Zb as T,_b as v,ac as O,ba as F,g as k,hc as A,ia as V,mc as I,nb as l,nc as _,oc as f,pc as m,tb as g,tc as S,uc as R,vc as h,wc as b,xa as E,ya as w,yc as M,zb as p,zc as W}from"./chunk-MC3BMXIX.js";import{g as pe}from"./chunk-VBFW7A5V.js";var fe=["*"],D=(()=>{class i{constructor(){this.type=x.primary,this.displayStyle=C.action,this.actionDone=new z}get isDestructive(){return this.displayStyle===C.destructive}ngAfterContentInit(){this.menuHidden=this.type===x.secondary}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=p({type:i,selectors:[["nui-toolbar-item"]],hostAttrs:[1,"nui-toolbar-item"],inputs:{type:"type",icon:"icon",title:"title",displayStyle:"displayStyle"},outputs:{actionDone:"actionDone"},standalone:!1,ngContentSelectors:fe,decls:1,vars:0,template:function(t,o){t&1&&(f(),m(0))},encapsulation:2})}}return i})();var he=["*"],le=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=p({type:i,selectors:[["nui-toolbar-group"]],contentQueries:function(t,o,n){if(t&1&&S(n,D,4),t&2){let r;h(r=b())&&(o.items=r)}},inputs:{title:"title"},standalone:!1,ngContentSelectors:he,decls:1,vars:0,template:function(t,o){t&1&&(f(),m(0))},encapsulation:2})}}return i})();var be=["*"],ce=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=p({type:i,selectors:[["nui-toolbar-message"]],standalone:!1,ngContentSelectors:be,decls:1,vars:0,template:function(t,o){t&1&&(f(),m(0))},encapsulation:2})}}return i})();var G=pe(de());var $=(()=>{class i{constructor(){this.toolbarItems=[]}setToolbarItems(e,t){this.toolbarItems=e,this.menu=t}onKeyDown(e){let{code:t}=e;(t===y.ARROW_LEFT||t===y.ARROW_RIGHT)&&(e.preventDefault(),this.navigateByArrow(t)),t===y.TAB&&this.closeMenuIfOpened()}navigateByArrow(e){let t=document.activeElement,o=this.toolbarItems.indexOf(t),n=this.toolbarItems[0],r=this.toolbarItems[this.toolbarItems.length-1];e===y.ARROW_LEFT&&(t===n?this.focusLast():this.focusLeft(o)),e===y.ARROW_RIGHT&&o!==-1&&(t===r?this.focusFirst():this.focusRight(o))}focusFirst(){this.toolbarItems[0].focus(),this.closeMenuIfOpened()}focusLast(){this.toolbarItems[this.toolbarItems.length-1].focus()}focusRight(e){this.toolbarItems[e+1]?.focus()}focusLeft(e){this.toolbarItems[e-1]?.focus(),this.closeMenuIfOpened()}closeMenuIfOpened(){this.menu&&this.menu?.popup?.isOpen&&(this.menu.popup.isOpen=!1)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac})}}return i})();var ye=["toolbarContainer"],Ce=["menuComponent"],Te=["toolbarButtons"],ve=[[["nui-toolbar-message"]],"*",[["",8,"nui-toolbar-embedded"]]],Ie=["nui-toolbar-message","*",".nui-toolbar-embedded"],Se=i=>({"nui-toolbar-primary-item":i});function xe(i,s){if(i&1){let e=O();c(0,"button",12,1),I("click",function(o){let n=E(e).$implicit,r=_(2);return w(r.onClickToolbarBtn(o,n))}),c(2,"span"),M(3),u()()}if(i&2){let e=s.$implicit,t=s.index,o=_().index;a("tabindex",!o&&!t?0:-1)("displayStyle",e.displayStyle==="main"?"primary":e.displayStyle)("ngClass",Z(5,Se,e.displayStyle==="main"))("icon",e.icon),l(3),W(e.title)}}function Ee(i,s){i&1&&q(0,"nui-divider",13)}function we(i,s){if(i&1&&d(0,xe,4,7,"ng-template",7)(1,Ee,1,0,"nui-divider",11),i&2){let e=s.$implicit,t=s.last,o=_();a("ngForOf",e.items),l(),a("ngIf",!t||o.showMenu)}}function Oe(i,s){if(i&1){let e=O();c(0,"nui-menu-action",16),I("click",function(){let o=E(e).$implicit;return w(o.actionDone.emit())}),M(1),u()}if(i&2){let e=s.$implicit;a("type",e.isDestructive?"destructive":"default")("icon",e.icon),l(),L("",e.title," ")}}function Re(i,s){if(i&1&&(c(0,"nui-menu-group",15),d(1,Oe,2,3,"ng-template",7),u()),i&2){let e=s.$implicit;a("header",e.title),l(),a("ngForOf",e.items)}}function Me(i,s){if(i&1&&(c(0,"nui-menu",14,2),d(2,Re,2,2,"ng-template",7),u()),i&2){let e=_();a("appendToBody",e.appendToBody)("title",e.menuTitle),l(2),a("ngForOf",e.menuGroups)}}function Be(i,s){i&1&&(T(0),A(1,3),v())}function De(i,s){i&1&&(T(0),A(1,4),v())}function $e(i,s){if(i&1&&(c(0,"nui-toolbar-message"),d(1,Be,2,0,"ng-container",9)(2,De,2,0,"ng-container",9),u()),i&2){let e=_();l(),a("ngIf",e.selectionEnabled),l(),a("ngIf",!e.selectionEnabled)}}function Ae(i,s){if(i&1&&(T(0),c(1,"div",17),M(2),u(),v()),i&2){let e=_();l(2),L(" ",e.handleSelectionState()," ")}}var lt=(()=>{class i{constructor(e,t,o,n,r){this.element=e,this.changeDetector=t,this.logger=o,this.ngZone=n,this.keyboardService=r,this.boxShadow=!0,this.noEmptyMessage=!1,this.appendToBody=!1,this.commandGroups=[],this.menuGroups=[],this.showMenu=!0,this.allItemsHidden=!1,this.commandsTitle=$localize`Commands`,this.moreTitle=$localize`More`,this.toolbarItems=[],this.destroy$=new k}onKeyDown(e){this.keyboardService.onKeyDown(e)}ngAfterViewInit(){this.splitToolbarItems(),this.childrenSubscription=N(this.groups.changes,this.items.changes).pipe(j(20)).subscribe(()=>{setTimeout(()=>{this.splitToolbarItems()},0)}),this.ngZone.onStable.asObservable().pipe(Q(1)).subscribe(()=>{this.moveToolbarItems()}),this.destructiveItems=[],this.groups.forEach(e=>{let t=e.items.filter(o=>o.displayStyle===C.destructive);t.length&&(this.destructiveItems.push(t),(this.destructiveItems.length===1&&this.destructiveIsLastItem||this.destructiveItems.length>1)&&this.logger.error("Only one tool-bar-item with type destructive may be defined, and it must be the last item in last group"))}),this.subscribeToToolbarStepsChanges()}ngOnDestroy(){this.childrenSubscription.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}onClickToolbarBtn(e,t){e.stopPropagation(),e.target.focus(),t.actionDone.emit()}moveToolbarItems(){this.makeAllItemsVisible();let e=Math.floor(this.toolbarContainer.nativeElement.getBoundingClientRect().right);for(this.lastChildBorder=Math.floor(this.toolbarContainer.nativeElement.lastElementChild.getBoundingClientRect().right);e<this.lastChildBorder&&this.commandGroups.length>0;)this.commandGroups.forEach((t,o,n)=>{o===n.length-1&&t.items.forEach((r,me,ue)=>{me===ue.length-1&&(r.menuHidden=!0)})}),this.splitToolbarItems(),this.lastChildBorder=Math.floor(this.toolbarContainer.nativeElement.lastElementChild.getBoundingClientRect().right)}splitToolbarItems(){this.commandGroups=[],this.menuGroups=[],this.groups.forEach(e=>{let t=e.items.filter(n=>!n.menuHidden),o=e.items.filter(n=>!!n.menuHidden);t.length&&this.commandGroups.push({items:t}),o.length&&this.menuGroups.push({items:o,title:e.title})}),this.showMenu=this.menuGroups.length>0,this.allItemsHidden=this.commandGroups.length===0,this.changeDetector.detectChanges()}makeAllItemsVisible(){this.groups.forEach(e=>{e.items.forEach(t=>{t.type===x.primary&&(t.menuHidden=!1)})}),this.splitToolbarItems()}handleSelectionState(){if(this.selectionEnabled&&!(0,G.default)(this.selectedItems)){let e=$localize`${this.selectedItems.current} of ${this.selectedItems.total} selected`,t=$localize`All ${this.selectedItems.total} selected`;return this.selectedItems.current===this.selectedItems.total?t:e}return(0,G.default)(this.selectedItems)?"":this.selectedItems.current===this.selectedItems.total?$localize`All ${this.selectedItems.total} selected`:$localize`${this.selectedItems.current} of ${this.selectedItems.total} selected`}get menuTitle(){return this.allItemsHidden?this.commandsTitle:this.moreTitle}get destructiveIsLastItem(){return this.groups.last.items.last.displayStyle!==C.destructive}subscribeToToolbarStepsChanges(){this.toolbarButtons.changes.pipe(F(this.destroy$)).subscribe(e=>{if(this.toolbarItems=e.toArray().slice().map(t=>t.el.nativeElement).filter(t=>!!t),this.menu){let t=e.length?"-1":"0";this.menu.menuToggle.nativeElement.setAttribute("tabindex",t),this.toolbarItems.push(this.menu.menuToggle.nativeElement)}this.keyboardService.setToolbarItems(this.toolbarItems,this.menu)})}static{this.\u0275fac=function(t){return new(t||i)(g(K),g(U),g(te),g(H),g($))}}static{this.\u0275cmp=p({type:i,selectors:[["nui-toolbar"]],contentQueries:function(t,o,n){if(t&1&&(S(n,le,4),S(n,D,5)),t&2){let r;h(r=b())&&(o.groups=r),h(r=b())&&(o.items=r)}},viewQuery:function(t,o){if(t&1&&(R(ye,5),R(Ce,5),R(Te,5)),t&2){let n;h(n=b())&&(o.toolbarContainer=n.first),h(n=b())&&(o.menu=n.first),h(n=b())&&(o.toolbarButtons=n)}},hostAttrs:["role","toolbar",1,"nui-toolbar","nui-strip-layout","nui-flex-container"],hostVars:4,hostBindings:function(t,o){t&1&&I("keydown",function(r){return o.onKeyDown(r)}),t&2&&P("nui-toolbar--active",o.selectionEnabled)("nui-toolbar--shadowed",o.boxShadow)},inputs:{selectionEnabled:"selectionEnabled",selectedItems:"selectedItems",boxShadow:"boxShadow",noEmptyMessage:"noEmptyMessage",appendToBody:"appendToBody"},standalone:!1,features:[X([$])],ngContentSelectors:Ie,decls:12,vars:4,consts:()=>{let e;e=$localize`:␟6fc2de83a057e4e4e75a262d88d9b6849f07f9a1␟7509429181096097887:No actions available for this selection`;let t;return t=$localize`:␟61c69580e0de535a93a1053316c9cb9e8833e1ba␟6003663429247880609:No actions available`,[["toolbarContainer",""],["toolbarButtons",""],["menuComponent",""],e,t,["nuiResizeObserver","",1,"nui-toolbar-content",3,"containerResize"],[1,"nui-toolbar-content__dynamic"],["ngFor","",3,"ngForOf"],["displayStyle","action",3,"appendToBody","title",4,"ngIf"],[4,"ngIf"],[1,"nui-toolbar-content__embedded"],["isVertical","true","size","extra-small",4,"ngIf"],["nui-button","","type","button",3,"click","tabindex","displayStyle","ngClass","icon"],["isVertical","true","size","extra-small"],["displayStyle","action",3,"appendToBody","title"],[3,"header"],[3,"click","type","icon"],[1,"nui-toolbar-content__select"]]},template:function(t,o){if(t&1){let n=O();f(ve),c(0,"div",5,0),I("containerResize",function(){return E(n),w(o.moveToolbarItems())}),c(2,"div",6),d(3,we,2,2,"ng-template",7)(4,Me,3,3,"nui-menu",8),T(5),d(6,$e,3,2,"nui-toolbar-message",9),m(7),v(),u(),c(8,"div",10),d(9,Ae,3,1,"ng-container",9),m(10,1),m(11,2),u()()}t&2&&(l(3),a("ngForOf",o.commandGroups),l(),a("ngIf",o.showMenu),l(2),a("ngIf",o.allItemsHidden&&!o.showMenu&&!o.noEmptyMessage),l(3),a("ngIf",o.selectionEnabled))},dependencies:[Y,J,ee,oe,se,ae,re,ne,ie,ce],styles:[`.nui .nui-toolbar{position:relative;transition:background-color ease .2s;padding:0 15px}.nui .nui-toolbar--shadowed{box-shadow:inset 0 -1px 0 0 var(--nui-color-line-default, #d9d9d9)}.nui .nui-toolbar--active{background-color:var(--nui-color-selected,rgba(0, 196, 210, .1))}.nui .nui-toolbar-content{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;transition:visibility .25s;padding:5px 0}.nui .nui-toolbar-content__embedded{display:flex}.nui .nui-toolbar-content__embedded>div{white-space:nowrap}.nui .nui-toolbar-content__dynamic{display:flex;flex-direction:row;flex-shrink:0}.nui .nui-toolbar-content__dynamic .nui-button.btn-destructive{border-color:transparent}.nui .nui-toolbar-content__dynamic .nui-button.btn-destructive:hover,.nui .nui-toolbar-content__dynamic .nui-button.btn-destructive:active,.nui .nui-toolbar-content__dynamic .nui-button.btn-destructive:focus{border-color:transparent;background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05))}.nui .nui-toolbar-content__dynamic nui-divider{flex-shrink:0}.nui .nui-toolbar-content__select{display:flex;align-items:center;flex-shrink:0;font-size:11px;font-weight:600;padding-left:10px}.nui .nui-toolbar-group-primary{display:flex}.nui .nui-toolbar-primary-item{margin-right:5px}.nui .nui-toolbar-embedded{margin-left:15px;display:flex;flex-wrap:nowrap}.nui .nui-toolbar-divider{display:table-cell;padding:0 5px}.nui .nui-toolbar-divider-line{width:1px;background:var(--nui-color-line-default,#d9d9d9);height:30px}.nui .nui-toolbar nui-toolbar-message{padding:5px 10px;margin-bottom:2px}
`],encapsulation:2})}}return i})();export{D as a,le as b,ce as c,lt as d};
