import{a as w}from"./chunk-SWNEKWN5.js";import{b as L}from"./chunk-JCVUXDPD.js";import{a as P}from"./chunk-CUY44B7R.js";import{a as B}from"./chunk-PRPDBMMC.js";import{a as I}from"./chunk-I5QGFHJG.js";import{Gc as v,Ha as k,Pb as D,Qb as p,Wb as c,Xb as _,Yc as S,ac as T,ha as l,mc as g,nb as h,sb as f,tb as u,uc as y,vc as b,wc as E,xa as d,ya as o,zb as C}from"./chunk-MC3BMXIX.js";import{g as M}from"./chunk-VBFW7A5V.js";var t=M(P());var R=["nuiDatetimePicker"],X=(()=>{class r{get ariaLabel(){return this._ariaLabel}set ariaLabel(e){e!==this._ariaLabel&&(this._ariaLabel=e,this.cd.markForCheck())}get model(){return this._model}set model(e){(0,t.default)(e).isValid()&&(this._model=e),this.updateChildrenModels()}constructor(e,n){this.renderer=e,this.cd=n,this.modelChanged=new k,this.isInErrorStateDate=!1,this.isInErrorStateTime=!1,this._ariaLabel="",this.onTouched=()=>{},this.onChange=i=>{}}ngOnInit(){!this.initEmpty&&!this.model&&(this.model=(0,t.default)(),this.onChange(this.model),this.cd.markForCheck())}ngAfterViewInit(){this.displayMode==="inline"&&(this.renderer.addClass(this.codeElement.nativeElement,"nui-datetime-picker--inline"),this.renderer.addClass(this.codeElement.nativeElement.querySelector(".nui-timepicker"),"nui-dropdown--inline"))}writeValue(e){this.model=e,this.updateChildrenModels()}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.isDisabled=e,this.cd.markForCheck()}onTimeChanged(e){this.updateTime(e),this.modelChanged.emit((0,t.default)(this.model)),this.onChange(this.model),this.onTouched()}onDateChanged(e){t.default.isMoment(this.date)&&this.date.isSame(e)||(this.updateDate(e),this.modelChanged.emit((0,t.default)(this.model)),this.onChange(this.model),this.onTouched())}onInputBlurred(){this.onTouched(),this.model||(this.isInErrorStateDate=!this.date||this.date&&!(0,t.default)(this.date).isValid(),this.isInErrorStateTime=!this.time||this.time&&!(0,t.default)(this.time).isValid())}updateChildrenModels(){this.model?(this.date=this.model.clone(),this.time=this.model.clone()):!this.model&&this.initEmpty&&(this.date=null,this.time=null)}updateDate(e){if(!t.default.isMoment(e)||!(0,t.default)(e).isValid()){this._model=null,this.date=null;return}this._model=this._model||this.time&&this.time.clone(),this._model&&this._model.set({year:e.year(),month:e.month(),date:e.date()}),this.date=e.clone()}updateTime(e){if(!t.default.isMoment(e)){this._model=null,this.time=null;return}this._model=this._model||this.date&&this.date.clone(),this._model&&this._model.set({hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.millisecond()}),this.time=e.clone()}static{this.\u0275fac=function(n){return new(n||r)(u(f),u(S))}}static{this.\u0275cmp=C({type:r,selectors:[["nui-date-time-picker"]],viewQuery:function(n,i){if(n&1&&y(R,7),n&2){let a;b(a=E())&&(i.codeElement=a.first)}},inputs:{maxDate:"maxDate",minDate:"minDate",displayMode:"displayMode",isDisabled:"isDisabled",initEmpty:"initEmpty",handleTimezone:"handleTimezone",appendToBody:"appendToBody",ariaLabel:"ariaLabel",model:"model"},outputs:{modelChanged:"modelChanged"},standalone:!1,features:[v([{provide:I,useExisting:l(()=>r),multi:!0},{provide:B,useExisting:l(()=>r),multi:!0}])],decls:6,vars:15,consts:[["nuiDatetimePicker",""],[1,"nui-datetime-picker"],[1,"nui-datetime-picker__group"],[1,"nui-datepicker--justified",3,"valueChange","inputBlurred","value","maxDate","minDate","isDisabled","isInErrorState","handleTimezone","appendToBody","ariaLabel"],[1,"nui-datetime-picker__group","nui-datetime-picker__group--last"],[1,"nui-dropdown--justified",3,"timeChanged","inputBlurred","initEmpty","model","isDisabled","isInErrorState","appendToBody","ariaLabel"]],template:function(n,i){if(n&1){let a=T();c(0,"div",1,0)(2,"div",2)(3,"nui-date-picker",3),g("valueChange",function(m){return d(a),o(i.onDateChanged(m))})("inputBlurred",function(){return d(a),o(i.onInputBlurred())}),_()(),c(4,"div",4)(5,"nui-time-picker",5),g("timeChanged",function(m){return d(a),o(i.onTimeChanged(m))})("inputBlurred",function(){return d(a),o(i.onInputBlurred())}),_()()()}n&2&&(D("aria-label",i.ariaLabel),h(3),p("value",i.date)("maxDate",i.maxDate)("minDate",i.minDate)("isDisabled",i.isDisabled)("isInErrorState",i.isInErrorStateDate)("handleTimezone",i.handleTimezone)("appendToBody",i.appendToBody)("ariaLabel",i.ariaLabel+" date"),h(2),p("initEmpty",i.initEmpty)("model",i.time)("isDisabled",i.isDisabled)("isInErrorState",i.isInErrorStateTime)("appendToBody",i.appendToBody)("ariaLabel",i.ariaLabel+" time"))},dependencies:[L,w],styles:[`.nui .nui-datetime-picker{display:flex;flex-direction:column}.nui .nui-datetime-picker .nui-timepicker,.nui .nui-datetime-picker .nui-timepicker__input-group,.nui .nui-datetime-picker .nui-datepicker{width:100%}.nui .nui-datetime-picker__group{width:135px;margin-bottom:10px}.nui .nui-datetime-picker__group--last{margin-bottom:0}.nui .nui-datetime-picker--inline{width:auto;flex-direction:row;max-width:none}.nui .nui-datetime-picker--inline .nui-datetime-picker__label{display:inline-block;line-height:30px}.nui .nui-datetime-picker--inline .nui-datetime-picker__group,.nui .nui-datetime-picker--inline .nui-datetime-picker__label{margin-bottom:0}.nui .nui-datetime-picker--inline .nui-datetime-picker__group:not(:last-child),.nui .nui-datetime-picker--inline .nui-datetime-picker__label:not(:last-child){margin-right:10px}
`],encapsulation:2,changeDetection:0})}}return r})();export{X as a};
