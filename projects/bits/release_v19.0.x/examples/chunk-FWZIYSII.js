import{a as ue}from"./chunk-D6LF2FCT.js";import{b as re,c as Te,d as me,e as de,f as se,g as ce,h as Se,i as Ee,j as pe}from"./chunk-ZO7WBSGK.js";import{d as Z,m as oe,n as _e}from"./chunk-OIGCZEVG.js";import{A as le,k as Y}from"./chunk-LF6XSF3V.js";import{a as ie}from"./chunk-G73CMH3A.js";import{a as ae}from"./chunk-PJ6STBNV.js";import{r as ee,u as te,v as ne}from"./chunk-BEIUR5OZ.js";import{a as Q}from"./chunk-YILH52ZF.js";import{l as q,q as J,r as K}from"./chunk-EHNCPSLF.js";import{$b as B,Ac as E,Bc as k,Dc as F,Eb as m,Ec as G,Fc as W,Oc as x,Pc as z,Qb as _,Qc as H,Rb as U,Tc as N,Wb as l,Xb as o,Yb as O,Yc as j,Zb as s,_b as c,ac as R,h as y,hc as d,jc as $,kc as X,mc as w,nb as i,nc as p,tb as f,xa as h,xc as C,ya as g,yc as T,zb as V,zc as A}from"./chunk-MC3BMXIX.js";function Le(e,n){e&1&&(l(0,"th",37),d(1,5),o())}function Ce(e,n){if(e&1&&(l(0,"td",38),T(1),o()),e&2){let t=n.$implicit;i(),A(t.no)}}function Ae(e,n){e&1&&(l(0,"th",37),d(1,6),o())}function fe(e,n){if(e&1&&(l(0,"td",38),T(1),o()),e&2){let t=n.$implicit;i(),E(" ",t.nameTitle," ")}}function Oe(e,n){e&1&&(l(0,"th",37),d(1,7),o())}function Ne(e,n){if(e&1&&(l(0,"td",38),T(1),o()),e&2){let t=n.$implicit;i(),E(" ",t.nameFirst," ")}}function Me(e,n){e&1&&(l(0,"th",37),d(1,8),o())}function he(e,n){if(e&1&&(l(0,"td",38),T(1),o()),e&2){let t=n.$implicit;i(),E(" ",t.nameLast," ")}}function ge(e,n){e&1&&(l(0,"th",37),d(1,9),o())}function Be(e,n){if(e&1&&(l(0,"td",38),T(1),o()),e&2){let t=n.$implicit;i(),A(t.gender)}}function Re(e,n){e&1&&(l(0,"th",37),d(1,10),o())}function xe(e,n){if(e&1&&(l(0,"td",38),T(1),o()),e&2){let t=n.$implicit;i(),E(" ",t.country," ")}}function De(e,n){e&1&&(l(0,"th",37),d(1,11),o())}function Ie(e,n){if(e&1&&(l(0,"td",38),T(1),o()),e&2){let t=n.$implicit;i(),A(t.city)}}function Pe(e,n){e&1&&(l(0,"th",37),d(1,12),o())}function be(e,n){if(e&1&&(l(0,"td",38),T(1),o()),e&2){let t=n.$implicit;i(),E(" ",t.postcode," ")}}function ve(e,n){e&1&&(l(0,"th",37),d(1,13),o())}function ye(e,n){if(e&1&&(l(0,"td",38),T(1),o()),e&2){let t=n.$implicit;i(),A(t.email)}}function Ve(e,n){e&1&&(l(0,"th",37),d(1,14),o())}function Ue(e,n){if(e&1&&(l(0,"td",39),T(1),o()),e&2){let t=n.$implicit;i(),E(" ",t.cell," ")}}function $e(e,n){e&1&&O(0,"tr",40)}function Xe(e,n){e&1&&O(0,"tr",41)}function we(e,n){e&1&&B(0)}function ke(e,n){if(e&1&&(l(0,"div"),m(1,we,1,0,"ng-container",42),o()),e&2){p();let t=C(49);i(),_("ngTemplateOutlet",t)}}function Fe(e,n){e&1&&B(0)}function Ge(e,n){if(e&1&&(l(0,"div"),m(1,Fe,1,0,"ng-container",42),o()),e&2){p();let t=C(49);i(),_("ngTemplateOutlet",t)}}function We(e,n){if(e&1&&(l(0,"div",46),O(1,"nui-spinner",47),l(2,"span"),T(3),o()()),e&2){let t=p(2);i(),_("show",t.isBusy),i(2),E("Loading next ",t.itemsToLoad," items...")}}function ze(e,n){e&1&&(l(0,"span"),T(1,". "),o())}function He(e,n){if(e&1){let t=R();l(0,"div",53)(1,"button",54),w("click",function(){h(t);let r=p(3);return g(r.loadMore())}),l(2,"div",49),T(3),o()()()}if(e&2){let t=p(3);i(3),k(" Load ",t.totalItems-t.loadedItems<t.itemsToLoad?"last":"next"," ",t.totalItems-t.loadedItems<t.itemsToLoad?t.totalItems-t.loadedItems:t.itemsToLoad," items ")}}function je(e,n){e&1&&(l(0,"strong"),T(1,". All items loaded."),o())}function qe(e,n){if(e&1&&(l(0,"div",48),T(1," Showing "),l(2,"span",49),T(3),o(),T(4," of "),l(5,"span",50),T(6),o(),m(7,ze,2,0,"span",51)(8,He,4,2,"div",52),o(),m(9,je,2,0,"ng-template",null,3,N)),e&2){let t=C(10),a=p(2);i(3),E(" ",a.users.value.length," "),i(3),E(" ",a.totalItems," "),i(),_("ngIf",a.users.value.length!==a.totalItems)("ngIfElse",t),i(),_("ngIf",a.isChunkLoaded()&&!a.isAllLoaded())}}function Je(e,n){if(e&1&&(l(0,"footer",43)(1,"div",44),m(2,We,4,2,"div",45)(3,qe,11,5,"ng-template",null,2,N),o()()),e&2){let t=C(4),a=p();i(2),_("ngIf",a.isBusy)("ngIfElse",t)}}var ut=(()=>{class e{get loadedItems(){return this._loadedItems}get isBusy(){return this._isBusy}constructor(t,a,r){this.selectorService=t,this.cd=a,this.searchService=r,this._loadedItems=0,this._isBusy=!1,this.users=new y([]),this.displayedColumns=["no","nameTitle","nameFirst","nameLast","gender","country","city","postcode","email","cell"],this.gridHeight=400,this.makeSticky=!0,this.step=100,this.itemsToLoad=500,this.totalItems=0,this.dataSource=new ue(r),this.dataSource.step.next(this.step),this.dataSource.itemsToLoad.next(this.itemsToLoad)}ngOnInit(){this.dataSource.outputsSubject.subscribe(t=>{if(t){if(this.users.next(t.repeat.itemsSource),this._loadedItems=t.itemsToLoad,this.totalItems=t.totalItems,this.dataSource.step.next(this.step),this.users.value.length<this.loadedItems){let a=this.users.value.length-this.itemsToLoad*Math.round(this.users.value.length/this.itemsToLoad);this.step>Math.abs(a)&&this.dataSource.step.next(this.itemsToLoad%this.step),this.dataSource.applyFilters()}this.cd.detectChanges()}}),this.dataSource.applyFilters(),this.dataSource.busy.subscribe(t=>{this._isBusy=t})}ngOnDestroy(){this.dataSource.busy.unsubscribe(),this.dataSource.outputsSubject.unsubscribe(),this.users.complete()}loadAll(){let t=this.totalItems-this.users.value.length;this.step>t&&this.dataSource.step.next(t),this.dataSource.applyFilters()}loadMore(){let t=Math.min(this.totalItems-this.loadedItems,this.itemsToLoad);t<this.itemsToLoad&&this.dataSource.step.next(t),this.dataSource.itemsToLoad.next(this.loadedItems+t),this.dataSource.applyFilters()}isAllLoaded(){return this.users.value.length===this.totalItems&&this.users.value.length!==0}isChunkLoaded(){return this.users.value.length===this.loadedItems&&this.users.value.length!==0}static{this.\u0275fac=function(a){return new(a||e)(f(Y),f(j),f(Z))}}static{this.\u0275cmp=V({type:e,selectors:[["nui-table-virtual-scroll-steps-and-button-example"]],standalone:!1,decls:50,vars:31,consts:()=>{let t;t=$localize`:␟41bcb4122db33778f2e154a20c3caf8a3fca313d␟7916552330134974894: ${"\uFFFD0\uFFFD"}:INTERPOLATION: `;let a;a=$localize`:␟8675a724bb3952337aef7625c81b11e39a82d31b␟4511235385998512563:No.`;let r;r=$localize`:␟fdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e␟5701618810648052610:Title`;let u;u=$localize`:␟c83b838d845690bcb897f775f53b5316535306dc␟6028371114637047813:First Name`;let M;M=$localize`:␟166b2cc65003221ff5f3ec05d5baca41e6821396␟4407559560004943843:Last Name`;let L;L=$localize`:␟003d4f5e4909ccf01b6a204c688fd6dab15c20bd␟3948439187870398089:Gender`;let D;D=$localize`:␟a43f25a9ac40e8e2441ff0be7a36b8e5d15534df␟516176798986294299:Country`;let I;I=$localize`:␟5c7012b5a926b32d9e45fefdcc8a1a3cb6f023d0␟2314075913167237221:City`;let P;P=$localize`:␟47b3774a0cd5cde96c16a2c6f913b48ae9ce796c␟1940878621012578963:Postcode`;let b;b=$localize`:␟244aae9346da82b0922506c2d2581373a15641cc␟4768749765465246664:Email`;let v;return v=$localize`:␟6f1d7ee33c065fdbd6aaeb2bc3f396b62041eb25␟7535645862736277850:Cell`,[["viewport",""],["footer",""],["defaultText",""],["endOfData",""],t,a,r,u,M,L,D,I,P,b,v,[1,"mb-3"],[1,"row"],[1,"col-3"],[3,"valueChange","value"],[1,"h-100",3,"itemSize","tableStickyHeader"],["nui-table","",3,"dataSource","resizable","reorderable"],["nuiColumnDef","no",3,"columnWidth"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","nameTitle",3,"columnWidth"],["nuiColumnDef","nameFirst",3,"columnWidth"],["nuiColumnDef","nameLast",3,"columnWidth"],["nuiColumnDef","gender",3,"columnWidth"],["nuiColumnDef","country",3,"columnWidth"],["nuiColumnDef","city",3,"columnWidth"],["nuiColumnDef","postcode",3,"columnWidth"],["nuiColumnDef","email",3,"columnWidth"],["nuiColumnDef","cell",3,"columnWidth"],["nui-cell","","style","overflow: visible",4,"nuiCellDef"],["nui-header-row","",4,"nuiHeaderRowDef"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[4,"ngIf"],["nui-header-cell",""],["nui-cell",""],["nui-cell","",2,"overflow","visible"],["nui-header-row",""],["nui-row","","density","tiny"],[4,"ngTemplateOutlet"],[1,"nui-demo-scrolling-footer","mt-1"],[1,"h-100","w-100"],["class","d-flex justify-content-center align-items-center",4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-center","align-items-center"],["size","small",1,"mr-2","d-inline-flex",3,"show"],[1,"h-100","d-flex","justify-content-center","align-items-center"],[1,"px-2"],[1,"pl-2"],[4,"ngIf","ngIfElse"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],["btn","","nui-button","","type","button","size","compact","displayStyle","action",3,"click"]]},template:function(a,r){if(a&1){let u=R();l(0,"div",15)(1,"div",16)(2,"div",17),T(3,"Sticky footer:"),o()(),l(4,"div",16)(5,"div",17)(6,"nui-switch",18),W("valueChange",function(L){return h(u),G(r.makeSticky,L)||(r.makeSticky=L),g(L)}),d(7,4),o()()()(),l(8,"div")(9,"cdk-virtual-scroll-viewport",19,0)(11,"table",20),x(12,"async"),x(13,"sliceRange"),s(14,21),m(15,Le,2,0,"th",22)(16,Ce,2,1,"td",23),c(),s(17,24),m(18,Ae,2,0,"th",22)(19,fe,2,1,"td",23),c(),s(20,25),m(21,Oe,2,0,"th",22)(22,Ne,2,1,"td",23),c(),s(23,26),m(24,Me,2,0,"th",22)(25,he,2,1,"td",23),c(),s(26,27),m(27,ge,2,0,"th",22)(28,Be,2,1,"td",23),c(),s(29,28),m(30,Re,2,0,"th",22)(31,xe,2,1,"td",23),c(),s(32,29),m(33,De,2,0,"th",22)(34,Ie,2,1,"td",23),c(),s(35,30),m(36,Pe,2,0,"th",22)(37,be,2,1,"td",23),c(),s(38,31),m(39,ve,2,0,"th",22)(40,ye,2,1,"td",23),c(),s(41,32),m(42,Ve,2,0,"th",22)(43,Ue,2,1,"td",33),c(),m(44,$e,1,0,"tr",34)(45,Xe,1,0,"ng-template",35),o(),m(46,ke,2,1,"div",36),o()(),m(47,Ge,2,1,"div",36)(48,Je,5,2,"ng-template",null,1,N)}if(a&2){let u=C(10);i(6),F("value",r.makeSticky),i(),$(r.makeSticky?"Sticky":"Not Sticky"),X(7),i(),U("height",r.gridHeight,"px")("max-width",1300,"px"),i(),_("itemSize",24)("tableStickyHeader",r.makeSticky),i(2),_("dataSource",H(13,28,z(12,26,r.users),u.getRenderedRange()))("resizable",!1)("reorderable",!0),i(3),_("columnWidth",50),i(3),_("columnWidth",100),i(3),_("columnWidth",100),i(3),_("columnWidth",100),i(3),_("columnWidth",100),i(3),_("columnWidth",150),i(3),_("columnWidth",100),i(3),_("columnWidth",100),i(3),_("columnWidth",200),i(3),_("columnWidth",150),i(3),_("nuiHeaderRowDef",r.displayedColumns),i(),_("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.users),i(),_("ngIf",!r.makeSticky),i(),_("ngIf",r.makeSticky)}},dependencies:[Q,le,ce,re,Se,Ee,pe,de,se,me,Te,oe,q,J,ie,ee,ne,te,ae,_e,K],styles:[".nui-demo-scrolling-footer[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-transparent,transparent);height:24px;border:1px solid;border-color:var(--nui-color-line-default,#d9d9d9);max-width:1285px;line-height:14px;font-size:11px;font-weight:400;color:#1119;color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}"],changeDetection:0})}}return e})();export{ut as a};
