import{c as g}from"./chunk-WLK22LTS.js";import{Cb as m,ia as u,la as d,na as f,tb as h}from"./chunk-MC3BMXIX.js";var M=new d("unit-conversion.constant"),a=function(s){return s[s.Standard=1e3]="Standard",s[s.Bytes=1024]="Bytes",s}(a||{}),l={generic:["","K","M","B","T","Qa","Qi","Sx","Sp"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],bytesPerSecond:["Bps","kBps","MBps","GBps","TBps","PBps","EBps","ZBps","YBps"],bitsPerSecond:["bps","kbps","Mbps","Gbps","Tbps","Pbps","Ebps","Zbps","Ybps"],hertz:["Hz","kHz","MHz","GHz","THz","PHz","EHz","ZHz","YHz"],milliseconds:["ms","s","m","h","d"],percent:["%"]},y={generic:a.Standard,bytes:a.Bytes,bytesPerSecond:a.Standard,bitsPerSecond:a.Standard,hertz:a.Standard,milliseconds:[1,1e3,6e4,36e5,864e5],percent:a.Standard};var S=(()=>{class s{constructor(t){this.logger=t}convertLinear(t,e){let i,r;if(t===0)return{value:0,order:0};if(r=Math.floor(Math.log(Math.abs(t))/Math.log(e)),i=t/Math.pow(e,Math.floor(r)),Math.abs(t)>0&&Math.abs(t)<1)return{value:t,order:0};let n=Math.ceil(i);return n%e===0&&(i=n/e,r+=1),{value:i,order:r}}convertNonLinear(t,e){let r=e.sort((o,c)=>o>c?-1:o<c?1:0).findIndex(o=>t/o>=1),n=e[r];return Math.abs(t)>0&&Math.abs(t)<1?{value:t,order:0}:{value:t/n,order:r===-1?0:e.length-r-1}}convert(t,e=a.Standard,i=1){let r=Array.isArray(e)?this.convertNonLinear(t,e):this.convertLinear(t,e),n;return t!==0?n=parseFloat(r.value.toFixed(i)).toString():(r.order=0,n=t.toString()),{value:n,order:r.order,scientificNotation:t?.toExponential(i),scale:i}}getFullDisplay(t,e,i=!1,r="---"){let n=this.isValidNumber(t.value),o=e!=="generic"&&n?" ":"",c=n?this.getUnitDisplay(t,e):"",B=e!=="generic",p;return!c&&n&&t.order?(c=this.getUnitDisplayBaseValue(e),p=this.getScientificDisplay(t,i,r)):p=this.getValueDisplay(t,i,r,B),`${p}${o}${c}`}getValueDisplay(t,e=!1,i="---",r=!0){if(!this.isValidNumber(t.value))return i;let n=r?parseFloat(t.value).toLocaleString(void 0,{maximumFractionDigits:t.scale}):t.value;return`${e&&parseInt(t.value,10)>0?"+":""}${n}`}getUnitDisplay(t,e){return l[e][t.order]}getUnitDisplayBaseValue(t){return l[t][0]}getScientificDisplay(t,e=!1,i="---"){return this.isValidNumber(t.value)?`${e&&parseInt(t.value,10)>0?"+":""}${t.scientificNotation}`:i}isValidNumber(t){return!isNaN(parseFloat(t))&&isFinite(parseInt(t,10))}static{this.\u0275fac=function(e){return new(e||s)(f(g))}}static{this.\u0275prov=u({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var H=(()=>{class s{constructor(t){this.unitConversionService=t}transform(t,e=0,i=!1,r="bytes"){let n=y[r],o=this.unitConversionService.convert(t,n,e);return this.unitConversionService.getFullDisplay(o,r,i)}static{this.\u0275fac=function(e){return new(e||s)(h(S,16))}}static{this.\u0275pipe=m({name:"unitConversion",type:s,pure:!0,standalone:!1})}}return s})();export{M as a,a as b,l as c,S as d,H as e};
