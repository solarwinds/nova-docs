import{a as rp,b as op,c as ap,d as lp,e as sp,f as cp,g as pp}from"./chunk-HK5JFI63.js";import{a as up}from"./chunk-NTORS7Z6.js";import{h as np}from"./chunk-G7JQECHN.js";import"./chunk-R6YWDEVB.js";import{$ as P,B as Di,C as Li,D as rt,E as _t,F as Ze,J as Pt,K as kt,L as Mi,N as Nt,O as Jc,P as ht,Q as Gt,R as _i,U as Yc,_ as Zc,a as wn,aa as sh,b as it,c as Mt,ca as ep,da as ch,e as $c,ea as gi,f as Hc,fa as pi,ga as ui,ha as qe,ia as ot,l as Ft,m as Ot,p as Qc,u as At,v as qt,w as zt}from"./chunk-57V7DCE5.js";import"./chunk-Y763PS4G.js";import"./chunk-DSPDE6DX.js";import{a as Kc,b as gt,c as vt,d as Ct,e as St,f as yt,g as Et,h as Tt,i as It,j as xt}from"./chunk-ZO7WBSGK.js";import"./chunk-OV76HDX6.js";import"./chunk-LDAG6BB3.js";import{a as we}from"./chunk-O7UYP4LT.js";import"./chunk-GDNJ5QDM.js";import{a as fe}from"./chunk-QZPWCUUC.js";import{a as ft}from"./chunk-LCQAANLJ.js";import{b as de}from"./chunk-FLHK4Y4B.js";import"./chunk-V5OQG4B6.js";import"./chunk-GNGQ4UGE.js";import"./chunk-CMYLIXH3.js";import"./chunk-WVEUHUF3.js";import"./chunk-LO6SVNF7.js";import{f as li,j as dr,m as on,n as an,r as Ie}from"./chunk-OIGCZEVG.js";import"./chunk-RG3R3QSZ.js";import"./chunk-7NOYBZTH.js";import{A as Ce,a as nh,b as oh,g as Ge,i as Fi,k as Oi,y as Uc}from"./chunk-LF6XSF3V.js";import"./chunk-BYXBJQAS.js";import{a as hi}from"./chunk-S55LKKD2.js";import"./chunk-PLSQQK2R.js";import"./chunk-EKOCVBO6.js";import"./chunk-ICMKVBIX.js";import"./chunk-FJPA536W.js";import"./chunk-HOPRZHSS.js";import"./chunk-QYPXA3C5.js";import"./chunk-BYXBJQAS.js";import"./chunk-TI6FRSJ2.js";import"./chunk-K2S7QKBR.js";import"./chunk-I2DLAFVW.js";import{d as qc,h as zc}from"./chunk-JVXVEKNN.js";import"./chunk-N2NTSC57.js";import{a as Xc,b as We}from"./chunk-HB6OB2ZQ.js";import"./chunk-Z6D7KPKO.js";import"./chunk-OX7W4O7J.js";import"./chunk-XZAYV7JU.js";import{a as Ri}from"./chunk-EP75EVMT.js";import"./chunk-O3JQU3EK.js";import"./chunk-DZ2EIOUK.js";import"./chunk-T2WNPALM.js";import"./chunk-SWNEKWN5.js";import"./chunk-JCVUXDPD.js";import"./chunk-RZV7FOY4.js";import"./chunk-ZUNYGX6S.js";import"./chunk-PQ3EDQC5.js";import"./chunk-5L3XI3NE.js";import{a as Wc}from"./chunk-G2XFCBHP.js";import"./chunk-XCWQAQNN.js";import"./chunk-UILMLLTA.js";import"./chunk-T32HBJMR.js";import{a as nt,c as ae}from"./chunk-DCCIYGKJ.js";import"./chunk-DCXIHTZO.js";import"./chunk-5UJT5URM.js";import"./chunk-KLZ43LXN.js";import"./chunk-Y3BRQJAY.js";import"./chunk-M5H3GK2S.js";import"./chunk-JDWR5CD2.js";import"./chunk-FGSKP7NM.js";import{a as Qt}from"./chunk-PI6J26DY.js";import"./chunk-3FKGY4D3.js";import"./chunk-NQOM3YDU.js";import{a as rn}from"./chunk-VN4VRP5H.js";import{b as dt}from"./chunk-HHOXNW4F.js";import"./chunk-IEST473U.js";import"./chunk-FTOYCRVQ.js";import{a as Fn}from"./chunk-LE7PH44S.js";import{a as Dn,b as Rn,c as fr,d as bo}from"./chunk-BCBJTPRO.js";import{a as On}from"./chunk-F5HBEV23.js";import"./chunk-EPE6IVSF.js";import"./chunk-CV3P3IAS.js";import"./chunk-I4VLXBBX.js";import"./chunk-KZKLDVU7.js";import"./chunk-RK3CRQSE.js";import"./chunk-AYW46EOL.js";import"./chunk-3QGDSSEJ.js";import"./chunk-UINJOPJ7.js";import"./chunk-DP6M2T73.js";import"./chunk-7H65YOLN.js";import"./chunk-BGMOZI4C.js";import"./chunk-OJIWOMMY.js";import{c as Bc}from"./chunk-XKPLUEFZ.js";import"./chunk-5FNSMBN6.js";import"./chunk-GMZXN5PP.js";import"./chunk-UEBPDOVP.js";import"./chunk-ZJITRFP2.js";import"./chunk-GT67VGXH.js";import"./chunk-CUY44B7R.js";import"./chunk-6N3Z6T3R.js";import"./chunk-YFYS4LRF.js";import"./chunk-K5W2D2VD.js";import"./chunk-T336PPIV.js";import"./chunk-SHK7HRYS.js";import"./chunk-7MWWHGGK.js";import"./chunk-SZDFDNWA.js";import"./chunk-JGO3K5JF.js";import"./chunk-G73CMH3A.js";import{a as Ht}from"./chunk-CJFOCIHU.js";import"./chunk-XRSLDQYN.js";import"./chunk-OWPQZKOC.js";import"./chunk-SPX2OUAB.js";import"./chunk-MNLBQFGT.js";import{a as ii}from"./chunk-ILHVKHTP.js";import"./chunk-4Y2Z5PQB.js";import"./chunk-PNBX6GDC.js";import"./chunk-QIJS5XMC.js";import{a as Te}from"./chunk-7FMIATJZ.js";import"./chunk-PRPDBMMC.js";import"./chunk-I5QGFHJG.js";import{a as sn}from"./chunk-VKEWGOOU.js";import{a as Vt}from"./chunk-M6W54X33.js";import{a as ln}from"./chunk-PJ6STBNV.js";import"./chunk-ILTVGVXX.js";import"./chunk-3SNBLT4R.js";import"./chunk-K7GVMYZP.js";import"./chunk-KRSTV6MY.js";import"./chunk-ZEY3WGPI.js";import{i as ah,j as lh}from"./chunk-IOE73CTL.js";import"./chunk-ZXL2SUGA.js";import"./chunk-ON6V2N23.js";import"./chunk-BW7FXYCB.js";import{n as jc,r as tn,u as Ut,v as nn,x as bn}from"./chunk-BEIUR5OZ.js";import{d as Yr}from"./chunk-LWI5ZV6Y.js";import"./chunk-LPZ5CZ7G.js";import"./chunk-WYJSVGAE.js";import"./chunk-OCSZ4QQK.js";import"./chunk-X27S3NKY.js";import"./chunk-KNI7S7QC.js";import{c as qn}from"./chunk-LO2VWMBZ.js";import"./chunk-332X35CD.js";import"./chunk-7YQPYNLH.js";import{a as rh}from"./chunk-5J7BNPXL.js";import{a as _n}from"./chunk-YILH52ZF.js";import"./chunk-55WDIF66.js";import{c as Qe}from"./chunk-WLK22LTS.js";import{d as mr}from"./chunk-OP3E7ERD.js";import{d as pl,e as Ye,f as Ue,g as Nc,h as Gc}from"./chunk-XAWZKRM7.js";import"./chunk-TN2MTUUA.js";import"./chunk-ZR5STDHI.js";import"./chunk-KDM57OQH.js";import{a as ih}from"./chunk-Y7C4AM3Q.js";import{A as ne,k as Y,l as k,m as Mc,n as Vc,o as Ac,q as Je,r as en,t as Pc,u as kc,v as ut,w as ur,x as $t,z as mt}from"./chunk-EHNCPSLF.js";import{$ as Dc,$b as ve,Ab as ie,Ac as N,B as fi,Dc as ze,Eb as _,Ec as Xe,Fc as Ke,G as Yi,Gc as pe,Ha as xe,I as He,Ia as Rc,Ic as ct,Jc as Ee,Kc as Jr,L as bi,Oc as H,P as ke,Pc as Le,Qb as m,Qc as Ve,Rb as ci,Rc as pt,Sb as Lc,Tc as R,Wb as a,Xb as l,Yb as E,Yc as ue,Zb as U,_b as Q,aa as Zi,ac as G,b as bc,ba as ee,d as In,da as Z,g as le,h as Ji,hc as j,ia as re,ja as te,jc as at,kc as lt,l as Fc,la as xn,mc as x,na as se,nb as u,nc as g,o as Oc,oc as Ne,p as xo,pc as Me,q as Se,qc as wo,tb as I,tc as st,u as $e,uc as A,v as _e,vc as b,wc as F,xa as S,xc as O,ya as y,yc as s,zb as D,zc as w}from"./chunk-MC3BMXIX.js";import{g as tp}from"./chunk-XNJF7QII.js";import{h as ip}from"./chunk-66DJCF6B.js";import{a as Re,b as Io,d as xc,f as wc,g as J,i as T}from"./chunk-VBFW7A5V.js";var Ti=wc((S3,Rm)=>{var jg=nh(),$g=Wc(),Hg=Bc(),Dm=oh(),Ug=Hg(function(t,n){return Dm(t)?jg(t,$g(n,1,Dm,!0)):[]});Rm.exports=Ug});var md=wc((CA,ud)=>{var s1=Wc(),c1=ch(),p1=Bc(),pd=lh(),u1=p1(function(t,n){if(t==null)return[];var e=n.length;return e>1&&pd(t,n[0],n[1])?n=[]:e>2&&pd(n[0],n[1],n[2])&&(n=[n[0]]),c1(t,s1(n,1),[])});ud.exports=u1});var ul=function(t,n){return ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},ul(t,n)};function Xt(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");ul(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var M=function(){return M=Object.assign||function(n){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},M.apply(this,arguments)};function cn(t,n){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(e[i[r]]=t[i[r]]);return e}function Ui(t,n,e,i){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function p(h){try{d(i.next(h))}catch(v){c(v)}}function f(h){try{d(i.throw(h))}catch(v){c(v)}}function d(h){h.done?o(h.value):r(h.value).then(p,f)}d((i=i.apply(t,n||[])).next())})}function Qi(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=p(0),c.throw=p(1),c.return=p(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(d){return function(h){return f([d,h])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(e=0)),e;)try{if(i=1,r&&(o=d[0]&2?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(t,e)}catch(h){d=[6,h],r=0}finally{i=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ln(t,n,e){if(e||arguments.length===2)for(var i=0,r=n.length,o;i<r;i++)(o||!(i in n))&&(o||(o=Array.prototype.slice.call(n,0,i)),o[i]=n[i]);return t.concat(o||Array.prototype.slice.call(n))}var ml="Invariant Violation",mp=Object.setPrototypeOf,ph=mp===void 0?function(t,n){return t.__proto__=n,t}:mp,be=function(t){Xt(n,t);function n(e){e===void 0&&(e=ml);var i=t.call(this,typeof e=="number"?ml+": "+e+" (see https://github.com/apollographql/invariant-packages)":e)||this;return i.framesToPop=1,i.name=ml,ph(i,n.prototype),i}return n}(Error);function K(t,n){if(!t)throw new be(n)}var Oo=["debug","log","warn","error","silent"],dl=Oo.indexOf("log");function Fo(t){return function(){if(Oo.indexOf(t)>=dl){var n=console[t]||console.log;return n.apply(console,arguments)}}}(function(t){t.debug=Fo("debug"),t.log=Fo("log"),t.warn=Fo("warn"),t.error=Fo("error")})(K||(K={}));function dp(t){var n=Oo[dl];return dl=Math.max(0,Oo.indexOf(t)),n}function ni(t){try{return t()}catch{}}var Do=ni(function(){return globalThis})||ni(function(){return window})||ni(function(){return self})||ni(function(){return global})||ni(function(){return ni.constructor("return this")()});var fp="__",hp=[fp,fp].join("DEV");function uh(){try{return!!__DEV__}catch{return Object.defineProperty(Do,hp,{value:ni(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),Do[hp]}}var zn=uh();function Mn(t){try{return t()}catch{}}var fl=Mn(function(){return globalThis})||Mn(function(){return window})||Mn(function(){return self})||Mn(function(){return global})||Mn(function(){return Mn.constructor("return this")()}),hl=!1;function mh(){fl&&!Mn(function(){return"production"})&&!Mn(function(){return process})&&(Object.defineProperty(fl,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),hl=!0)}mh();function _l(){hl&&(delete fl.process,hl=!1)}function hr(t,n){if(!!!t)throw new Error(n)}function _p(t){return typeof t=="object"&&t!==null}function gp(t,n){if(!!!t)throw new Error(n??"Unexpected invariant triggered.")}var dh=/\r\n|[\n\r]/g;function _r(t,n){let e=0,i=1;for(let r of t.body.matchAll(dh)){if(typeof r.index=="number"||gp(!1),r.index>=n)break;e=r.index+r[0].length,i+=1}return{line:i,column:n+1-e}}function gl(t){return Ro(t.source,_r(t.source,t.start))}function Ro(t,n){let e=t.locationOffset.column-1,i="".padStart(e)+t.body,r=n.line-1,o=t.locationOffset.line-1,c=n.line+o,p=n.line===1?e:0,f=n.column+p,d=`${t.name}:${c}:${f}
`,h=i.split(/\r\n|[\n\r]/g),v=h[r];if(v.length>120){let C=Math.floor(f/80),L=f%80,B=[];for(let W=0;W<v.length;W+=80)B.push(v.slice(W,W+80));return d+vp([[`${c} |`,B[0]],...B.slice(1,C+1).map(W=>["|",W]),["|","^".padStart(L)],["|",B[C+1]]])}return d+vp([[`${c-1} |`,h[r-1]],[`${c} |`,v],["|","^".padStart(f)],[`${c+1} |`,h[r+1]]])}function vp(t){let n=t.filter(([i,r])=>r!==void 0),e=Math.max(...n.map(([i])=>i.length));return n.map(([i,r])=>i.padStart(e)+(r?" "+r:"")).join(`
`)}function fh(t){let n=t[0];return n==null||"kind"in n||"length"in n?{nodes:n,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:n}var Lo=class t extends Error{constructor(n,...e){var i,r,o;let{nodes:c,source:p,positions:f,path:d,originalError:h,extensions:v}=fh(e);super(n),this.name="GraphQLError",this.path=d??void 0,this.originalError=h??void 0,this.nodes=Cp(Array.isArray(c)?c:c?[c]:void 0);let C=Cp((i=this.nodes)===null||i===void 0?void 0:i.map(B=>B.loc).filter(B=>B!=null));this.source=p??(C==null||(r=C[0])===null||r===void 0?void 0:r.source),this.positions=f??C?.map(B=>B.start),this.locations=f&&p?f.map(B=>_r(p,B)):C?.map(B=>_r(B.source,B.start));let L=_p(h?.extensions)?h?.extensions:void 0;this.extensions=(o=v??L)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),h!=null&&h.stack?Object.defineProperty(this,"stack",{value:h.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let n=this.message;if(this.nodes)for(let e of this.nodes)e.loc&&(n+=`

`+gl(e.loc));else if(this.source&&this.locations)for(let e of this.locations)n+=`

`+Ro(this.source,e);return n}toJSON(){let n={message:this.message};return this.locations!=null&&(n.locations=this.locations),this.path!=null&&(n.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(n.extensions=this.extensions),n}};function Cp(t){return t===void 0||t.length===0?void 0:t}function Kt(t,n,e){return new Lo(`Syntax Error: ${e}`,{source:t,positions:[n]})}var Zr=class{constructor(n,e,i){this.start=n.start,this.end=e.end,this.startToken=n,this.endToken=e,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},gr=class{constructor(n,e,i,r,o,c){this.kind=n,this.start=e,this.end=i,this.line=r,this.column=o,this.value=c,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},vl={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},hh=new Set(Object.keys(vl));function Cl(t){let n=t?.kind;return typeof n=="string"&&hh.has(n)}var Xn=function(t){return t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription",t}(Xn||{});var Mo=function(t){return t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",t}(Mo||{});var he=function(t){return t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",t}(he||{});function Vo(t){return t===9||t===32}function vr(t){return t>=48&&t<=57}function Sp(t){return t>=97&&t<=122||t>=65&&t<=90}function Sl(t){return Sp(t)||t===95}function yp(t){return Sp(t)||vr(t)||t===95}function Ep(t){var n;let e=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let c=0;c<t.length;++c){var o;let p=t[c],f=_h(p);f!==p.length&&(i=(o=i)!==null&&o!==void 0?o:c,r=c,c!==0&&f<e&&(e=f))}return t.map((c,p)=>p===0?c:c.slice(e)).slice((n=i)!==null&&n!==void 0?n:0,r+1)}function _h(t){let n=0;for(;n<t.length&&Vo(t.charCodeAt(n));)++n;return n}function Tp(t,n){let e=t.replace(/"""/g,'\\"""'),i=e.split(/\r\n|[\n\r]/g),r=i.length===1,o=i.length>1&&i.slice(1).every(L=>L.length===0||Vo(L.charCodeAt(0))),c=e.endsWith('\\"""'),p=t.endsWith('"')&&!c,f=t.endsWith("\\"),d=p||f,h=!(n!=null&&n.minimize)&&(!r||t.length>70||d||o||c),v="",C=r&&Vo(t.charCodeAt(0));return(h&&!C||o)&&(v+=`
`),v+=e,(h||d)&&(v+=`
`),'"""'+v+'"""'}var $=function(t){return t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment",t}($||{});var to=class{constructor(n){let e=new gr($.SOF,0,0,0,0);this.source=n,this.lastToken=e,this.token=e,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let n=this.token;if(n.kind!==$.EOF)do if(n.next)n=n.next;else{let e=gh(this,n.end);n.next=e,e.prev=n,n=e}while(n.kind===$.COMMENT);return n}};function xp(t){return t===$.BANG||t===$.DOLLAR||t===$.AMP||t===$.PAREN_L||t===$.PAREN_R||t===$.SPREAD||t===$.COLON||t===$.EQUALS||t===$.AT||t===$.BRACKET_L||t===$.BRACKET_R||t===$.BRACE_L||t===$.PIPE||t===$.BRACE_R}function Cr(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function Ao(t,n){return wp(t.charCodeAt(n))&&bp(t.charCodeAt(n+1))}function wp(t){return t>=55296&&t<=56319}function bp(t){return t>=56320&&t<=57343}function Kn(t,n){let e=t.source.body.codePointAt(n);if(e===void 0)return $.EOF;if(e>=32&&e<=126){let i=String.fromCodePoint(e);return i==='"'?`'"'`:`"${i}"`}return"U+"+e.toString(16).toUpperCase().padStart(4,"0")}function Jt(t,n,e,i,r){let o=t.line,c=1+e-t.lineStart;return new gr(n,e,i,o,c,r)}function gh(t,n){let e=t.source.body,i=e.length,r=n;for(;r<i;){let o=e.charCodeAt(r);switch(o){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++t.line,t.lineStart=r;continue;case 13:e.charCodeAt(r+1)===10?r+=2:++r,++t.line,t.lineStart=r;continue;case 35:return vh(t,r);case 33:return Jt(t,$.BANG,r,r+1);case 36:return Jt(t,$.DOLLAR,r,r+1);case 38:return Jt(t,$.AMP,r,r+1);case 40:return Jt(t,$.PAREN_L,r,r+1);case 41:return Jt(t,$.PAREN_R,r,r+1);case 46:if(e.charCodeAt(r+1)===46&&e.charCodeAt(r+2)===46)return Jt(t,$.SPREAD,r,r+3);break;case 58:return Jt(t,$.COLON,r,r+1);case 61:return Jt(t,$.EQUALS,r,r+1);case 64:return Jt(t,$.AT,r,r+1);case 91:return Jt(t,$.BRACKET_L,r,r+1);case 93:return Jt(t,$.BRACKET_R,r,r+1);case 123:return Jt(t,$.BRACE_L,r,r+1);case 124:return Jt(t,$.PIPE,r,r+1);case 125:return Jt(t,$.BRACE_R,r,r+1);case 34:return e.charCodeAt(r+1)===34&&e.charCodeAt(r+2)===34?Ih(t,r):Sh(t,r)}if(vr(o)||o===45)return Ch(t,r,o);if(Sl(o))return xh(t,r);throw Kt(t.source,r,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Cr(o)||Ao(e,r)?`Unexpected character: ${Kn(t,r)}.`:`Invalid character: ${Kn(t,r)}.`)}return Jt(t,$.EOF,i,i)}function vh(t,n){let e=t.source.body,i=e.length,r=n+1;for(;r<i;){let o=e.charCodeAt(r);if(o===10||o===13)break;if(Cr(o))++r;else if(Ao(e,r))r+=2;else break}return Jt(t,$.COMMENT,n,r,e.slice(n+1,r))}function Ch(t,n,e){let i=t.source.body,r=n,o=e,c=!1;if(o===45&&(o=i.charCodeAt(++r)),o===48){if(o=i.charCodeAt(++r),vr(o))throw Kt(t.source,r,`Invalid number, unexpected digit after 0: ${Kn(t,r)}.`)}else r=yl(t,r,o),o=i.charCodeAt(r);if(o===46&&(c=!0,o=i.charCodeAt(++r),r=yl(t,r,o),o=i.charCodeAt(r)),(o===69||o===101)&&(c=!0,o=i.charCodeAt(++r),(o===43||o===45)&&(o=i.charCodeAt(++r)),r=yl(t,r,o),o=i.charCodeAt(r)),o===46||Sl(o))throw Kt(t.source,r,`Invalid number, expected digit but got: ${Kn(t,r)}.`);return Jt(t,c?$.FLOAT:$.INT,n,r,i.slice(n,r))}function yl(t,n,e){if(!vr(e))throw Kt(t.source,n,`Invalid number, expected digit but got: ${Kn(t,n)}.`);let i=t.source.body,r=n+1;for(;vr(i.charCodeAt(r));)++r;return r}function Sh(t,n){let e=t.source.body,i=e.length,r=n+1,o=r,c="";for(;r<i;){let p=e.charCodeAt(r);if(p===34)return c+=e.slice(o,r),Jt(t,$.STRING,n,r+1,c);if(p===92){c+=e.slice(o,r);let f=e.charCodeAt(r+1)===117?e.charCodeAt(r+2)===123?yh(t,r):Eh(t,r):Th(t,r);c+=f.value,r+=f.size,o=r;continue}if(p===10||p===13)break;if(Cr(p))++r;else if(Ao(e,r))r+=2;else throw Kt(t.source,r,`Invalid character within String: ${Kn(t,r)}.`)}throw Kt(t.source,r,"Unterminated string.")}function yh(t,n){let e=t.source.body,i=0,r=3;for(;r<12;){let o=e.charCodeAt(n+r++);if(o===125){if(r<5||!Cr(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|eo(o),i<0)break}throw Kt(t.source,n,`Invalid Unicode escape sequence: "${e.slice(n,n+r)}".`)}function Eh(t,n){let e=t.source.body,i=Ip(e,n+2);if(Cr(i))return{value:String.fromCodePoint(i),size:6};if(wp(i)&&e.charCodeAt(n+6)===92&&e.charCodeAt(n+7)===117){let r=Ip(e,n+8);if(bp(r))return{value:String.fromCodePoint(i,r),size:12}}throw Kt(t.source,n,`Invalid Unicode escape sequence: "${e.slice(n,n+6)}".`)}function Ip(t,n){return eo(t.charCodeAt(n))<<12|eo(t.charCodeAt(n+1))<<8|eo(t.charCodeAt(n+2))<<4|eo(t.charCodeAt(n+3))}function eo(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function Th(t,n){let e=t.source.body;switch(e.charCodeAt(n+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Kt(t.source,n,`Invalid character escape sequence: "${e.slice(n,n+2)}".`)}function Ih(t,n){let e=t.source.body,i=e.length,r=t.lineStart,o=n+3,c=o,p="",f=[];for(;o<i;){let d=e.charCodeAt(o);if(d===34&&e.charCodeAt(o+1)===34&&e.charCodeAt(o+2)===34){p+=e.slice(c,o),f.push(p);let h=Jt(t,$.BLOCK_STRING,n,o+3,Ep(f).join(`
`));return t.line+=f.length-1,t.lineStart=r,h}if(d===92&&e.charCodeAt(o+1)===34&&e.charCodeAt(o+2)===34&&e.charCodeAt(o+3)===34){p+=e.slice(c,o),c=o+1,o+=4;continue}if(d===10||d===13){p+=e.slice(c,o),f.push(p),d===13&&e.charCodeAt(o+1)===10?o+=2:++o,p="",c=o,r=o;continue}if(Cr(d))++o;else if(Ao(e,o))o+=2;else throw Kt(t.source,o,`Invalid character within String: ${Kn(t,o)}.`)}throw Kt(t.source,o,"Unterminated string.")}function xh(t,n){let e=t.source.body,i=e.length,r=n+1;for(;r<i;){let o=e.charCodeAt(r);if(yp(o))++r;else break}return Jt(t,$.NAME,n,r,e.slice(n,r))}function Sr(t){return Po(t,[])}function Po(t,n){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return wh(t,n);default:return String(t)}}function wh(t,n){if(t===null)return"null";if(n.includes(t))return"[Circular]";let e=[...n,t];if(bh(t)){let i=t.toJSON();if(i!==t)return typeof i=="string"?i:Po(i,e)}else if(Array.isArray(t))return Oh(t,e);return Fh(t,e)}function bh(t){return typeof t.toJSON=="function"}function Fh(t,n){let e=Object.entries(t);return e.length===0?"{}":n.length>2?"["+Dh(t)+"]":"{ "+e.map(([r,o])=>r+": "+Po(o,n)).join(", ")+" }"}function Oh(t,n){if(t.length===0)return"[]";if(n.length>2)return"[Array]";let e=Math.min(10,t.length),i=t.length-e,r=[];for(let o=0;o<e;++o)r.push(Po(t[o],n));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function Dh(t){let n=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(n==="Object"&&typeof t.constructor=="function"){let e=t.constructor.name;if(typeof e=="string"&&e!=="")return e}return n}var Fp=globalThis.process&&globalThis.process.env.NODE_ENV==="production"?function(n,e){return n instanceof e}:function(n,e){if(n instanceof e)return!0;if(typeof n=="object"&&n!==null){var i;let r=e.prototype[Symbol.toStringTag],o=Symbol.toStringTag in n?n[Symbol.toStringTag]:(i=n.constructor)===null||i===void 0?void 0:i.name;if(r===o){let c=Sr(n);throw new Error(`Cannot use ${r} "${c}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};var gn=class{constructor(n,e="GraphQL request",i={line:1,column:1}){typeof n=="string"||hr(!1,`Body must be a string. Received: ${Sr(n)}.`),this.body=n,this.name=e,this.locationOffset=i,this.locationOffset.line>0||hr(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||hr(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function Op(t){return Fp(t,gn)}function No(t,n){return new El(t,n).parseDocument()}var El=class{constructor(n,e={}){let i=Op(n)?n:new gn(n);this._lexer=new to(i),this._options=e,this._tokenCounter=0}parseName(){let n=this.expectToken($.NAME);return this.node(n,{kind:he.NAME,value:n.value})}parseDocument(){return this.node(this._lexer.token,{kind:he.DOCUMENT,definitions:this.many($.SOF,this.parseDefinition,$.EOF)})}parseDefinition(){if(this.peek($.BRACE_L))return this.parseOperationDefinition();let n=this.peekDescription(),e=n?this._lexer.lookahead():this._lexer.token;if(e.kind===$.NAME){switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(n)throw Kt(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(e.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(e)}parseOperationDefinition(){let n=this._lexer.token;if(this.peek($.BRACE_L))return this.node(n,{kind:he.OPERATION_DEFINITION,operation:Xn.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let e=this.parseOperationType(),i;return this.peek($.NAME)&&(i=this.parseName()),this.node(n,{kind:he.OPERATION_DEFINITION,operation:e,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let n=this.expectToken($.NAME);switch(n.value){case"query":return Xn.QUERY;case"mutation":return Xn.MUTATION;case"subscription":return Xn.SUBSCRIPTION}throw this.unexpected(n)}parseVariableDefinitions(){return this.optionalMany($.PAREN_L,this.parseVariableDefinition,$.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:he.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken($.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken($.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let n=this._lexer.token;return this.expectToken($.DOLLAR),this.node(n,{kind:he.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:he.SELECTION_SET,selections:this.many($.BRACE_L,this.parseSelection,$.BRACE_R)})}parseSelection(){return this.peek($.SPREAD)?this.parseFragment():this.parseField()}parseField(){let n=this._lexer.token,e=this.parseName(),i,r;return this.expectOptionalToken($.COLON)?(i=e,r=this.parseName()):r=e,this.node(n,{kind:he.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek($.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(n){let e=n?this.parseConstArgument:this.parseArgument;return this.optionalMany($.PAREN_L,e,$.PAREN_R)}parseArgument(n=!1){let e=this._lexer.token,i=this.parseName();return this.expectToken($.COLON),this.node(e,{kind:he.ARGUMENT,name:i,value:this.parseValueLiteral(n)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let n=this._lexer.token;this.expectToken($.SPREAD);let e=this.expectOptionalKeyword("on");return!e&&this.peek($.NAME)?this.node(n,{kind:he.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(n,{kind:he.INLINE_FRAGMENT,typeCondition:e?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let n=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(n,{kind:he.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(n,{kind:he.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(n){let e=this._lexer.token;switch(e.kind){case $.BRACKET_L:return this.parseList(n);case $.BRACE_L:return this.parseObject(n);case $.INT:return this.advanceLexer(),this.node(e,{kind:he.INT,value:e.value});case $.FLOAT:return this.advanceLexer(),this.node(e,{kind:he.FLOAT,value:e.value});case $.STRING:case $.BLOCK_STRING:return this.parseStringLiteral();case $.NAME:switch(this.advanceLexer(),e.value){case"true":return this.node(e,{kind:he.BOOLEAN,value:!0});case"false":return this.node(e,{kind:he.BOOLEAN,value:!1});case"null":return this.node(e,{kind:he.NULL});default:return this.node(e,{kind:he.ENUM,value:e.value})}case $.DOLLAR:if(n)if(this.expectToken($.DOLLAR),this._lexer.token.kind===$.NAME){let i=this._lexer.token.value;throw Kt(this._lexer.source,e.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(e);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let n=this._lexer.token;return this.advanceLexer(),this.node(n,{kind:he.STRING,value:n.value,block:n.kind===$.BLOCK_STRING})}parseList(n){let e=()=>this.parseValueLiteral(n);return this.node(this._lexer.token,{kind:he.LIST,values:this.any($.BRACKET_L,e,$.BRACKET_R)})}parseObject(n){let e=()=>this.parseObjectField(n);return this.node(this._lexer.token,{kind:he.OBJECT,fields:this.any($.BRACE_L,e,$.BRACE_R)})}parseObjectField(n){let e=this._lexer.token,i=this.parseName();return this.expectToken($.COLON),this.node(e,{kind:he.OBJECT_FIELD,name:i,value:this.parseValueLiteral(n)})}parseDirectives(n){let e=[];for(;this.peek($.AT);)e.push(this.parseDirective(n));return e}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(n){let e=this._lexer.token;return this.expectToken($.AT),this.node(e,{kind:he.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n)})}parseTypeReference(){let n=this._lexer.token,e;if(this.expectOptionalToken($.BRACKET_L)){let i=this.parseTypeReference();this.expectToken($.BRACKET_R),e=this.node(n,{kind:he.LIST_TYPE,type:i})}else e=this.parseNamedType();return this.expectOptionalToken($.BANG)?this.node(n,{kind:he.NON_NULL_TYPE,type:e}):e}parseNamedType(){return this.node(this._lexer.token,{kind:he.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek($.STRING)||this.peek($.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("schema");let i=this.parseConstDirectives(),r=this.many($.BRACE_L,this.parseOperationTypeDefinition,$.BRACE_R);return this.node(n,{kind:he.SCHEMA_DEFINITION,description:e,directives:i,operationTypes:r})}parseOperationTypeDefinition(){let n=this._lexer.token,e=this.parseOperationType();this.expectToken($.COLON);let i=this.parseNamedType();return this.node(n,{kind:he.OPERATION_TYPE_DEFINITION,operation:e,type:i})}parseScalarTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("scalar");let i=this.parseName(),r=this.parseConstDirectives();return this.node(n,{kind:he.SCALAR_TYPE_DEFINITION,description:e,name:i,directives:r})}parseObjectTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("type");let i=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),c=this.parseFieldsDefinition();return this.node(n,{kind:he.OBJECT_TYPE_DEFINITION,description:e,name:i,interfaces:r,directives:o,fields:c})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany($.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany($.BRACE_L,this.parseFieldDefinition,$.BRACE_R)}parseFieldDefinition(){let n=this._lexer.token,e=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken($.COLON);let o=this.parseTypeReference(),c=this.parseConstDirectives();return this.node(n,{kind:he.FIELD_DEFINITION,description:e,name:i,arguments:r,type:o,directives:c})}parseArgumentDefs(){return this.optionalMany($.PAREN_L,this.parseInputValueDef,$.PAREN_R)}parseInputValueDef(){let n=this._lexer.token,e=this.parseDescription(),i=this.parseName();this.expectToken($.COLON);let r=this.parseTypeReference(),o;this.expectOptionalToken($.EQUALS)&&(o=this.parseConstValueLiteral());let c=this.parseConstDirectives();return this.node(n,{kind:he.INPUT_VALUE_DEFINITION,description:e,name:i,type:r,defaultValue:o,directives:c})}parseInterfaceTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("interface");let i=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),c=this.parseFieldsDefinition();return this.node(n,{kind:he.INTERFACE_TYPE_DEFINITION,description:e,name:i,interfaces:r,directives:o,fields:c})}parseUnionTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("union");let i=this.parseName(),r=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(n,{kind:he.UNION_TYPE_DEFINITION,description:e,name:i,directives:r,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken($.EQUALS)?this.delimitedMany($.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("enum");let i=this.parseName(),r=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(n,{kind:he.ENUM_TYPE_DEFINITION,description:e,name:i,directives:r,values:o})}parseEnumValuesDefinition(){return this.optionalMany($.BRACE_L,this.parseEnumValueDefinition,$.BRACE_R)}parseEnumValueDefinition(){let n=this._lexer.token,e=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(n,{kind:he.ENUM_VALUE_DEFINITION,description:e,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Kt(this._lexer.source,this._lexer.token.start,`${ko(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("input");let i=this.parseName(),r=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(n,{kind:he.INPUT_OBJECT_TYPE_DEFINITION,description:e,name:i,directives:r,fields:o})}parseInputFieldsDefinition(){return this.optionalMany($.BRACE_L,this.parseInputValueDef,$.BRACE_R)}parseTypeSystemExtension(){let n=this._lexer.lookahead();if(n.kind===$.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)}parseSchemaExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let e=this.parseConstDirectives(),i=this.optionalMany($.BRACE_L,this.parseOperationTypeDefinition,$.BRACE_R);if(e.length===0&&i.length===0)throw this.unexpected();return this.node(n,{kind:he.SCHEMA_EXTENSION,directives:e,operationTypes:i})}parseScalarTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let e=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(n,{kind:he.SCALAR_TYPE_EXTENSION,name:e,directives:i})}parseObjectTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let e=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&o.length===0)throw this.unexpected();return this.node(n,{kind:he.OBJECT_TYPE_EXTENSION,name:e,interfaces:i,directives:r,fields:o})}parseInterfaceTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let e=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&o.length===0)throw this.unexpected();return this.node(n,{kind:he.INTERFACE_TYPE_EXTENSION,name:e,interfaces:i,directives:r,fields:o})}parseUnionTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let e=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:he.UNION_TYPE_EXTENSION,name:e,directives:i,types:r})}parseEnumTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let e=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:he.ENUM_TYPE_EXTENSION,name:e,directives:i,values:r})}parseInputObjectTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let e=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:he.INPUT_OBJECT_TYPE_EXTENSION,name:e,directives:i,fields:r})}parseDirectiveDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("directive"),this.expectToken($.AT);let i=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let c=this.parseDirectiveLocations();return this.node(n,{kind:he.DIRECTIVE_DEFINITION,description:e,name:i,arguments:r,repeatable:o,locations:c})}parseDirectiveLocations(){return this.delimitedMany($.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let n=this._lexer.token,e=this.parseName();if(Object.prototype.hasOwnProperty.call(Mo,e.value))return e;throw this.unexpected(n)}node(n,e){return this._options.noLocation!==!0&&(e.loc=new Zr(n,this._lexer.lastToken,this._lexer.source)),e}peek(n){return this._lexer.token.kind===n}expectToken(n){let e=this._lexer.token;if(e.kind===n)return this.advanceLexer(),e;throw Kt(this._lexer.source,e.start,`Expected ${Dp(n)}, found ${ko(e)}.`)}expectOptionalToken(n){return this._lexer.token.kind===n?(this.advanceLexer(),!0):!1}expectKeyword(n){let e=this._lexer.token;if(e.kind===$.NAME&&e.value===n)this.advanceLexer();else throw Kt(this._lexer.source,e.start,`Expected "${n}", found ${ko(e)}.`)}expectOptionalKeyword(n){let e=this._lexer.token;return e.kind===$.NAME&&e.value===n?(this.advanceLexer(),!0):!1}unexpected(n){let e=n??this._lexer.token;return Kt(this._lexer.source,e.start,`Unexpected ${ko(e)}.`)}any(n,e,i){this.expectToken(n);let r=[];for(;!this.expectOptionalToken(i);)r.push(e.call(this));return r}optionalMany(n,e,i){if(this.expectOptionalToken(n)){let r=[];do r.push(e.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(n,e,i){this.expectToken(n);let r=[];do r.push(e.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(n,e){this.expectOptionalToken(n);let i=[];do i.push(e.call(this));while(this.expectOptionalToken(n));return i}advanceLexer(){let{maxTokens:n}=this._options,e=this._lexer.advance();if(n!==void 0&&e.kind!==$.EOF&&(++this._tokenCounter,this._tokenCounter>n))throw Kt(this._lexer.source,e.start,`Document contains more that ${n} tokens. Parsing aborted.`)}};function ko(t){let n=t.value;return Dp(t.kind)+(n!=null?` "${n}"`:"")}function Dp(t){return xp(t)?`"${t}"`:t}function Rp(t){return`"${t.replace(Rh,Lh)}"`}var Rh=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Lh(t){return Mh[t.charCodeAt(0)]}var Mh=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var Jn=Object.freeze({});function ri(t,n,e=vl){let i=new Map;for(let z of Object.values(he))i.set(z,Tl(n,z));let r,o=Array.isArray(t),c=[t],p=-1,f=[],d=t,h,v,C=[],L=[];do{p++;let z=p===c.length,ge=z&&f.length!==0;if(z){if(h=L.length===0?void 0:C[C.length-1],d=v,v=L.pop(),ge)if(o){d=d.slice();let me=0;for(let[Fe,Oe]of f){let ye=Fe-me;Oe===null?(d.splice(ye,1),me++):d[ye]=Oe}}else{d=Object.defineProperties({},Object.getOwnPropertyDescriptors(d));for(let[me,Fe]of f)d[me]=Fe}p=r.index,c=r.keys,f=r.edits,o=r.inArray,r=r.prev}else if(v){if(h=o?p:c[p],d=v[h],d==null)continue;C.push(h)}let X;if(!Array.isArray(d)){var B,W;Cl(d)||hr(!1,`Invalid AST Node: ${Sr(d)}.`);let me=z?(B=i.get(d.kind))===null||B===void 0?void 0:B.leave:(W=i.get(d.kind))===null||W===void 0?void 0:W.enter;if(X=me?.call(n,d,h,v,C,L),X===Jn)break;if(X===!1){if(!z){C.pop();continue}}else if(X!==void 0&&(f.push([h,X]),!z))if(Cl(X))d=X;else{C.pop();continue}}if(X===void 0&&ge&&f.push([h,d]),z)C.pop();else{var q;r={inArray:o,index:p,keys:c,edits:f,prev:r},o=Array.isArray(d),c=o?d:(q=e[d.kind])!==null&&q!==void 0?q:[],p=-1,f=[],v&&L.push(v),v=d}}while(r!==void 0);return f.length!==0?f[f.length-1][1]:t}function Tl(t,n){let e=t[n];return typeof e=="object"?e:typeof e=="function"?{enter:e,leave:void 0}:{enter:t.enter,leave:t.leave}}function yr(t){return ri(t,Ah)}var Vh=80,Ah={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>ce(t.definitions,`

`)},OperationDefinition:{leave(t){let n=Be("(",ce(t.variableDefinitions,", "),")"),e=ce([t.operation,ce([t.name,n]),ce(t.directives," ")]," ");return(e==="query"?"":e+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:n,defaultValue:e,directives:i})=>t+": "+n+Be(" = ",e)+Be(" ",ce(i," "))},SelectionSet:{leave:({selections:t})=>qi(t)},Field:{leave({alias:t,name:n,arguments:e,directives:i,selectionSet:r}){let o=Be("",t,": ")+n,c=o+Be("(",ce(e,", "),")");return c.length>Vh&&(c=o+Be(`(
`,Go(ce(e,`
`)),`
)`)),ce([c,ce(i," "),r]," ")}},Argument:{leave:({name:t,value:n})=>t+": "+n},FragmentSpread:{leave:({name:t,directives:n})=>"..."+t+Be(" ",ce(n," "))},InlineFragment:{leave:({typeCondition:t,directives:n,selectionSet:e})=>ce(["...",Be("on ",t),ce(n," "),e]," ")},FragmentDefinition:{leave:({name:t,typeCondition:n,variableDefinitions:e,directives:i,selectionSet:r})=>`fragment ${t}${Be("(",ce(e,", "),")")} on ${n} ${Be("",ce(i," ")," ")}`+r},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:n})=>n?Tp(t):Rp(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+ce(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+ce(t,", ")+"}"},ObjectField:{leave:({name:t,value:n})=>t+": "+n},Directive:{leave:({name:t,arguments:n})=>"@"+t+Be("(",ce(n,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:n,operationTypes:e})=>Be("",t,`
`)+ce(["schema",ce(n," "),qi(e)]," ")},OperationTypeDefinition:{leave:({operation:t,type:n})=>t+": "+n},ScalarTypeDefinition:{leave:({description:t,name:n,directives:e})=>Be("",t,`
`)+ce(["scalar",n,ce(e," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:n,interfaces:e,directives:i,fields:r})=>Be("",t,`
`)+ce(["type",n,Be("implements ",ce(e," & ")),ce(i," "),qi(r)]," ")},FieldDefinition:{leave:({description:t,name:n,arguments:e,type:i,directives:r})=>Be("",t,`
`)+n+(Lp(e)?Be(`(
`,Go(ce(e,`
`)),`
)`):Be("(",ce(e,", "),")"))+": "+i+Be(" ",ce(r," "))},InputValueDefinition:{leave:({description:t,name:n,type:e,defaultValue:i,directives:r})=>Be("",t,`
`)+ce([n+": "+e,Be("= ",i),ce(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:n,interfaces:e,directives:i,fields:r})=>Be("",t,`
`)+ce(["interface",n,Be("implements ",ce(e," & ")),ce(i," "),qi(r)]," ")},UnionTypeDefinition:{leave:({description:t,name:n,directives:e,types:i})=>Be("",t,`
`)+ce(["union",n,ce(e," "),Be("= ",ce(i," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:n,directives:e,values:i})=>Be("",t,`
`)+ce(["enum",n,ce(e," "),qi(i)]," ")},EnumValueDefinition:{leave:({description:t,name:n,directives:e})=>Be("",t,`
`)+ce([n,ce(e," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:n,directives:e,fields:i})=>Be("",t,`
`)+ce(["input",n,ce(e," "),qi(i)]," ")},DirectiveDefinition:{leave:({description:t,name:n,arguments:e,repeatable:i,locations:r})=>Be("",t,`
`)+"directive @"+n+(Lp(e)?Be(`(
`,Go(ce(e,`
`)),`
)`):Be("(",ce(e,", "),")"))+(i?" repeatable":"")+" on "+ce(r," | ")},SchemaExtension:{leave:({directives:t,operationTypes:n})=>ce(["extend schema",ce(t," "),qi(n)]," ")},ScalarTypeExtension:{leave:({name:t,directives:n})=>ce(["extend scalar",t,ce(n," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:n,directives:e,fields:i})=>ce(["extend type",t,Be("implements ",ce(n," & ")),ce(e," "),qi(i)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:n,directives:e,fields:i})=>ce(["extend interface",t,Be("implements ",ce(n," & ")),ce(e," "),qi(i)]," ")},UnionTypeExtension:{leave:({name:t,directives:n,types:e})=>ce(["extend union",t,ce(n," "),Be("= ",ce(e," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:n,values:e})=>ce(["extend enum",t,ce(n," "),qi(e)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:n,fields:e})=>ce(["extend input",t,ce(n," "),qi(e)]," ")}};function ce(t,n=""){var e;return(e=t?.filter(i=>i).join(n))!==null&&e!==void 0?e:""}function qi(t){return Be(`{
`,Go(ce(t,`
`)),`
}`)}function Be(t,n,e=""){return n!=null&&n!==""?t+n+e:""}function Go(t){return Be("  ",t.replace(/\n/g,`
  `))}function Lp(t){var n;return(n=t?.some(e=>e.includes(`
`)))!==null&&n!==void 0?n:!1}function Mp(){return typeof gn=="function"?_l():_l()}function Bh(){__DEV__?K(typeof zn=="boolean",zn):K(typeof zn=="boolean",38)}Mp();Bh();function vn(t,n){var e=t.directives;return!e||!e.length?!0:Vp(e).every(function(i){var r=i.directive,o=i.ifArgument,c=!1;return o.value.kind==="Variable"?(c=n&&n[o.value.name.value],__DEV__?K(c!==void 0,"Invalid variable referenced in @".concat(r.name.value," directive.")):K(c!==void 0,39)):c=o.value.value,r.name.value==="skip"?!c:c})}function Er(t,n,e){var i=new Set(t),r=i.size;return ri(n,{Directive:function(o){if(i.delete(o.name.value)&&(!e||!i.size))return Jn}}),e?!i.size:i.size<r}function Il(t){return t&&Er(["client","export"],t,!0)}function jh(t){var n=t.name.value;return n==="skip"||n==="include"}function Vp(t){var n=[];return t&&t.length&&t.forEach(function(e){if(jh(e)){var i=e.arguments,r=e.name.value;__DEV__?K(i&&i.length===1,"Incorrect number of arguments for the @".concat(r," directive.")):K(i&&i.length===1,40);var o=i[0];__DEV__?K(o.name&&o.name.value==="if","Invalid argument for the @".concat(r," directive.")):K(o.name&&o.name.value==="if",41);var c=o.value;__DEV__?K(c&&(c.kind==="Variable"||c.kind==="BooleanValue"),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):K(c&&(c.kind==="Variable"||c.kind==="BooleanValue"),42),n.push({directive:e,ifArgument:o})}}),n}function xl(t,n){var e=n,i=[];t.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw __DEV__?new be("Found a ".concat(o.operation," operation").concat(o.name?" named '".concat(o.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new be(43);o.kind==="FragmentDefinition"&&i.push(o)}),typeof e>"u"&&(__DEV__?K(i.length===1,"Found ".concat(i.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):K(i.length===1,44),e=i[0].name.value);var r=M(M({},t),{definitions:Ln([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:e}}]}}],t.definitions,!0)});return r}function Yn(t){t===void 0&&(t=[]);var n={};return t.forEach(function(e){n[e.name.value]=e}),n}function Zn(t,n){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var e=t.name.value;if(typeof n=="function")return n(e);var i=n&&n[e];return __DEV__?K(i,"No fragment named ".concat(e)):K(i,45),i||null}default:return null}}function et(t){return t!==null&&typeof t=="object"}function zi(t){return{__ref:String(t)}}function Pe(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function wl(t){return et(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function $h(t){return t.kind==="StringValue"}function Hh(t){return t.kind==="BooleanValue"}function Uh(t){return t.kind==="IntValue"}function Qh(t){return t.kind==="FloatValue"}function qh(t){return t.kind==="Variable"}function zh(t){return t.kind==="ObjectValue"}function Xh(t){return t.kind==="ListValue"}function Kh(t){return t.kind==="EnumValue"}function Jh(t){return t.kind==="NullValue"}function Vn(t,n,e,i){if(Uh(e)||Qh(e))t[n.value]=Number(e.value);else if(Hh(e)||$h(e))t[n.value]=e.value;else if(zh(e)){var r={};e.fields.map(function(c){return Vn(r,c.name,c.value,i)}),t[n.value]=r}else if(qh(e)){var o=(i||{})[e.name.value];t[n.value]=o}else if(Xh(e))t[n.value]=e.values.map(function(c){var p={};return Vn(p,n,c,i),p[n.value]});else if(Kh(e))t[n.value]=e.value;else if(Jh(e))t[n.value]=null;else throw __DEV__?new be('The inline argument "'.concat(n.value,'" of kind "').concat(e.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new be(54)}function bl(t,n){var e=null;t.directives&&(e={},t.directives.forEach(function(r){e[r.name.value]={},r.arguments&&r.arguments.forEach(function(o){var c=o.name,p=o.value;return Vn(e[r.name.value],c,p,n)})}));var i=null;return t.arguments&&t.arguments.length&&(i={},t.arguments.forEach(function(r){var o=r.name,c=r.value;return Vn(i,o,c,n)})),no(t.name.value,i,e)}var Yh=["connection","include","skip","client","rest","export"],no=Object.assign(function(t,n,e){if(n&&e&&e.connection&&e.connection.key)if(e.connection.filter&&e.connection.filter.length>0){var i=e.connection.filter?e.connection.filter:[];i.sort();var r={};return i.forEach(function(p){r[p]=n[p]}),"".concat(e.connection.key,"(").concat(io(r),")")}else return e.connection.key;var o=t;if(n){var c=io(n);o+="(".concat(c,")")}return e&&Object.keys(e).forEach(function(p){Yh.indexOf(p)===-1&&(e[p]&&Object.keys(e[p]).length?o+="@".concat(p,"(").concat(io(e[p]),")"):o+="@".concat(p))}),o},{setStringify:function(t){var n=io;return io=t,n}}),io=function(n){return JSON.stringify(n,Zh)};function Zh(t,n){return et(n)&&!Array.isArray(n)&&(n=Object.keys(n).sort().reduce(function(e,i){return e[i]=n[i],e},{})),n}function Cn(t,n){if(t.arguments&&t.arguments.length){var e={};return t.arguments.forEach(function(i){var r=i.name,o=i.value;return Vn(e,r,o,n)}),e}return null}function Vi(t){return t.alias?t.alias.value:t.name.value}function ro(t,n,e){if(typeof t.__typename=="string")return t.__typename;for(var i=0,r=n.selections;i<r.length;i++){var o=r[i];if(mi(o)){if(o.name.value==="__typename")return t[Vi(o)]}else{var c=ro(t,Zn(o,e).selectionSet,e);if(typeof c=="string")return c}}}function mi(t){return t.kind==="Field"}function oo(t){return t.kind==="InlineFragment"}function Tr(t){__DEV__?K(t&&t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):K(t&&t.kind==="Document",46);var n=t.definitions.filter(function(e){return e.kind!=="FragmentDefinition"}).map(function(e){if(e.kind!=="OperationDefinition")throw __DEV__?new be('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new be(47);return e});return __DEV__?K(n.length<=1,"Ambiguous GraphQL document: contains ".concat(n.length," operations")):K(n.length<=1,48),t}function pn(t){return Tr(t),t.definitions.filter(function(n){return n.kind==="OperationDefinition"})[0]}function Ir(t){return t.definitions.filter(function(n){return n.kind==="OperationDefinition"&&n.name}).map(function(n){return n.name.value})[0]||null}function er(t){return t.definitions.filter(function(n){return n.kind==="FragmentDefinition"})}function ao(t){var n=pn(t);return __DEV__?K(n&&n.operation==="query","Must contain a query definition."):K(n&&n.operation==="query",49),n}function Fl(t){__DEV__?K(t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):K(t.kind==="Document",50),__DEV__?K(t.definitions.length<=1,"Fragment must have exactly one definition."):K(t.definitions.length<=1,51);var n=t.definitions[0];return __DEV__?K(n.kind==="FragmentDefinition","Must be a fragment definition."):K(n.kind==="FragmentDefinition",52),n}function tr(t){Tr(t);for(var n,e=0,i=t.definitions;e<i.length;e++){var r=i[e];if(r.kind==="OperationDefinition"){var o=r.operation;if(o==="query"||o==="mutation"||o==="subscription")return r}r.kind==="FragmentDefinition"&&!n&&(n=r)}if(n)return n;throw __DEV__?new be("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new be(53)}function ir(t){var n=Object.create(null),e=t&&t.variableDefinitions;return e&&e.length&&e.forEach(function(i){i.defaultValue&&Vn(n,i.variable.name,i.defaultValue)}),n}function Ol(t,n,e){var i=0;return t.forEach(function(r,o){n.call(this,r,o,t)&&(t[i++]=r)},e),t.length=i,t}var Ap={kind:"Field",name:{kind:"Name",value:"__typename"}};function kp(t,n){return!t||t.selectionSet.selections.every(function(e){return e.kind==="FragmentSpread"&&kp(n[e.name.value],n)})}function Dl(t){return kp(pn(t)||Fl(t),Yn(er(t)))?null:t}function Pp(t){return function(e){return t.some(function(i){return i.name&&i.name===e.name.value||i.test&&i.test(e)})}}function Rl(t,n){var e=Object.create(null),i=[],r=Object.create(null),o=[],c=Dl(ri(n,{Variable:{enter:function(p,f,d){d.kind!=="VariableDefinition"&&(e[p.name.value]=!0)}},Field:{enter:function(p){if(t&&p.directives){var f=t.some(function(d){return d.remove});if(f&&p.directives&&p.directives.some(Pp(t)))return p.arguments&&p.arguments.forEach(function(d){d.value.kind==="Variable"&&i.push({name:d.value.name.value})}),p.selectionSet&&Wp(p.selectionSet).forEach(function(d){o.push({name:d.name.value})}),null}}},FragmentSpread:{enter:function(p){r[p.name.value]=!0}},Directive:{enter:function(p){if(Pp(t)(p))return null}}}));return c&&Ol(i,function(p){return!!p.name&&!e[p.name]}).length&&(c=Np(i,c)),c&&Ol(o,function(p){return!!p.name&&!r[p.name]}).length&&(c=Gp(o,c)),c}var nr=Object.assign(function(t){return ri(t,{SelectionSet:{enter:function(n,e,i){if(!(i&&i.kind==="OperationDefinition")){var r=n.selections;if(r){var o=r.some(function(p){return mi(p)&&(p.name.value==="__typename"||p.name.value.lastIndexOf("__",0)===0)});if(!o){var c=i;if(!(mi(c)&&c.directives&&c.directives.some(function(p){return p.name.value==="export"})))return M(M({},n),{selections:Ln(Ln([],r,!0),[Ap],!1)})}}}}}})},{added:function(t){return t===Ap}}),e_={test:function(t){var n=t.name.value==="connection";return n&&(!t.arguments||!t.arguments.some(function(e){return e.name.value==="key"}))&&__DEV__&&K.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),n}};function Ll(t){return Rl([e_],Tr(t))}function t_(t){return function(e){return t.some(function(i){return e.value&&e.value.kind==="Variable"&&e.value.name&&(i.name===e.value.name.value||i.test&&i.test(e))})}}function Np(t,n){var e=t_(t);return Dl(ri(n,{OperationDefinition:{enter:function(i){return M(M({},i),{variableDefinitions:i.variableDefinitions?i.variableDefinitions.filter(function(r){return!t.some(function(o){return o.name===r.variable.name.value})}):[]})}},Field:{enter:function(i){var r=t.some(function(c){return c.remove});if(r){var o=0;if(i.arguments&&i.arguments.forEach(function(c){e(c)&&(o+=1)}),o===1)return null}}},Argument:{enter:function(i){if(e(i))return null}}}))}function Gp(t,n){function e(i){if(t.some(function(r){return r.name===i.name.value}))return null}return Dl(ri(n,{FragmentSpread:{enter:e},FragmentDefinition:{enter:e}}))}function Wp(t){var n=[];return t.selections.forEach(function(e){(mi(e)||oo(e))&&e.selectionSet?Wp(e.selectionSet).forEach(function(i){return n.push(i)}):e.kind==="FragmentSpread"&&n.push(e)}),n}function Ml(t){var n=tr(t),e=n.operation;if(e==="query")return t;var i=ri(t,{OperationDefinition:{enter:function(r){return M(M({},r),{operation:"query"})}}});return i}function Vl(t){Tr(t);var n=Rl([{test:function(e){return e.name.value==="client"},remove:!0}],t);return n&&(n=ri(n,{FragmentDefinition:{enter:function(e){if(e.selectionSet){var i=e.selectionSet.selections.every(function(r){return mi(r)&&r.name.value==="__typename"});if(i)return null}}}})),n}var i_=Object.prototype.hasOwnProperty;function Al(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return lo(t)}function lo(t){var n=t[0]||{},e=t.length;if(e>1)for(var i=new vi,r=1;r<e;++r)n=i.merge(n,t[r]);return n}var n_=function(t,n,e){return this.merge(t[e],n[e])},vi=function(){function t(n){n===void 0&&(n=n_),this.reconciler=n,this.isObject=et,this.pastCopies=new Set}return t.prototype.merge=function(n,e){for(var i=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return et(e)&&et(n)?(Object.keys(e).forEach(function(c){if(i_.call(n,c)){var p=n[c];if(e[c]!==p){var f=i.reconciler.apply(i,Ln([n,e,c],r,!1));f!==p&&(n=i.shallowCopyForMerge(n),n[c]=f)}}else n=i.shallowCopyForMerge(n),n[c]=e[c]}),n):e},t.prototype.shallowCopyForMerge=function(n){return et(n)&&(this.pastCopies.has(n)||(Array.isArray(n)?n=n.slice(0):n=M({__proto__:Object.getPrototypeOf(n)},n),this.pastCopies.add(n))),n},t}();function r_(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=o_(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o_(t,n){if(t){if(typeof t=="string")return Bp(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Bp(t,n)}}function Bp(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function jp(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Gl(t,n,e){return n&&jp(t.prototype,n),e&&jp(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var Wl=function(){return typeof Symbol=="function"},Bl=function(t){return Wl()&&!!Symbol[t]},jl=function(t){return Bl(t)?Symbol[t]:"@@"+t};Wl()&&!Bl("observable")&&(Symbol.observable=Symbol("observable"));var a_=jl("iterator"),kl=jl("observable"),$p=jl("species");function Bo(t,n){var e=t[n];if(e!=null){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}}function so(t){var n=t.constructor;return n!==void 0&&(n=n[$p],n===null&&(n=void 0)),n!==void 0?n:Ae}function l_(t){return t instanceof Ae}function xr(t){xr.log?xr.log(t):setTimeout(function(){throw t})}function Wo(t){Promise.resolve().then(function(){try{t()}catch(n){xr(n)}})}function Hp(t){var n=t._cleanup;if(n!==void 0&&(t._cleanup=void 0,!!n))try{if(typeof n=="function")n();else{var e=Bo(n,"unsubscribe");e&&e.call(n)}}catch(i){xr(i)}}function Nl(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function s_(t){var n=t._queue;if(n){t._queue=void 0,t._state="ready";for(var e=0;e<n.length&&(Up(t,n[e].type,n[e].value),t._state!=="closed");++e);}}function Up(t,n,e){t._state="running";var i=t._observer;try{var r=Bo(i,n);switch(n){case"next":r&&r.call(i,e);break;case"error":if(Nl(t),r)r.call(i,e);else throw e;break;case"complete":Nl(t),r&&r.call(i);break}}catch(o){xr(o)}t._state==="closed"?Hp(t):t._state==="running"&&(t._state="ready")}function Pl(t,n,e){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:n,value:e});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:n,value:e}],Wo(function(){return s_(t)});return}Up(t,n,e)}}var c_=function(){function t(e,i){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var r=new p_(this);try{this._cleanup=i.call(void 0,r)}catch(o){r.error(o)}this._state==="initializing"&&(this._state="ready")}var n=t.prototype;return n.unsubscribe=function(){this._state!=="closed"&&(Nl(this),Hp(this))},Gl(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),p_=function(){function t(e){this._subscription=e}var n=t.prototype;return n.next=function(i){Pl(this._subscription,"next",i)},n.error=function(i){Pl(this._subscription,"error",i)},n.complete=function(){Pl(this._subscription,"complete")},Gl(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Ae=function(){function t(e){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof e!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=e}var n=t.prototype;return n.subscribe=function(i){return(typeof i!="object"||i===null)&&(i={next:i,error:arguments[1],complete:arguments[2]}),new c_(i,this._subscriber)},n.forEach=function(i){var r=this;return new Promise(function(o,c){if(typeof i!="function"){c(new TypeError(i+" is not a function"));return}function p(){f.unsubscribe(),o()}var f=r.subscribe({next:function(d){try{i(d,p)}catch(h){c(h),f.unsubscribe()}},error:c,complete:o})})},n.map=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var o=so(this);return new o(function(c){return r.subscribe({next:function(p){try{p=i(p)}catch(f){return c.error(f)}c.next(p)},error:function(p){c.error(p)},complete:function(){c.complete()}})})},n.filter=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var o=so(this);return new o(function(c){return r.subscribe({next:function(p){try{if(!i(p))return}catch(f){return c.error(f)}c.next(p)},error:function(p){c.error(p)},complete:function(){c.complete()}})})},n.reduce=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var o=so(this),c=arguments.length>1,p=!1,f=arguments[1],d=f;return new o(function(h){return r.subscribe({next:function(v){var C=!p;if(p=!0,!C||c)try{d=i(d,v)}catch(L){return h.error(L)}else d=v},error:function(v){h.error(v)},complete:function(){if(!p&&!c)return h.error(new TypeError("Cannot reduce an empty sequence"));h.next(d),h.complete()}})})},n.concat=function(){for(var i=this,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];var p=so(this);return new p(function(f){var d,h=0;function v(C){d=C.subscribe({next:function(L){f.next(L)},error:function(L){f.error(L)},complete:function(){h===o.length?(d=void 0,f.complete()):v(p.from(o[h++]))}})}return v(i),function(){d&&(d.unsubscribe(),d=void 0)}})},n.flatMap=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var o=so(this);return new o(function(c){var p=[],f=r.subscribe({next:function(h){if(i)try{h=i(h)}catch(C){return c.error(C)}var v=o.from(h).subscribe({next:function(C){c.next(C)},error:function(C){c.error(C)},complete:function(){var C=p.indexOf(v);C>=0&&p.splice(C,1),d()}});p.push(v)},error:function(h){c.error(h)},complete:function(){d()}});function d(){f.closed&&p.length===0&&c.complete()}return function(){p.forEach(function(h){return h.unsubscribe()}),f.unsubscribe()}})},n[kl]=function(){return this},t.from=function(i){var r=typeof this=="function"?this:t;if(i==null)throw new TypeError(i+" is not an object");var o=Bo(i,kl);if(o){var c=o.call(i);if(Object(c)!==c)throw new TypeError(c+" is not an object");return l_(c)&&c.constructor===r?c:new r(function(p){return c.subscribe(p)})}if(Bl("iterator")&&(o=Bo(i,a_),o))return new r(function(p){Wo(function(){if(!p.closed){for(var f=r_(o.call(i)),d;!(d=f()).done;){var h=d.value;if(p.next(h),p.closed)return}p.complete()}})});if(Array.isArray(i))return new r(function(p){Wo(function(){if(!p.closed){for(var f=0;f<i.length;++f)if(p.next(i[f]),p.closed)return;p.complete()}})});throw new TypeError(i+" is not observable")},t.of=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var c=typeof this=="function"?this:t;return new c(function(p){Wo(function(){if(!p.closed){for(var f=0;f<r.length;++f)if(p.next(r[f]),p.closed)return;p.complete()}})})},Gl(t,null,[{key:$p,get:function(){return this}}]),t}();Wl()&&Object.defineProperty(Ae,Symbol("extensions"),{value:{symbol:kl,hostReportError:xr},configurable:!0});function $l(t){var n,e=t.Symbol;if(typeof e=="function")if(e.observable)n=e.observable;else{typeof e.for=="function"?n=e.for("https://github.com/benlesh/symbol-observable"):n=e("https://github.com/benlesh/symbol-observable");try{e.observable=n}catch{}}else n="@@observable";return n}var wr;typeof self<"u"?wr=self:typeof window<"u"?wr=window:typeof global<"u"?wr=global:typeof module<"u"?wr=module:wr=Function("return this")();var m2=$l(wr);var Qp=Ae.prototype,qp="@@observable";Qp[qp]||(Qp[qp]=function(){return this});var u_=Object.prototype.toString;function jo(t){return Hl(t)}function Hl(t,n){switch(u_.call(t)){case"[object Array]":{if(n=n||new Map,n.has(t))return n.get(t);var e=t.slice(0);return n.set(t,e),e.forEach(function(r,o){e[o]=Hl(r,n)}),e}case"[object Object]":{if(n=n||new Map,n.has(t))return n.get(t);var i=Object.create(Object.getPrototypeOf(t));return n.set(t,i),Object.keys(t).forEach(function(r){i[r]=Hl(t[r],n)}),i}default:return t}}function m_(t){var n=new Set([t]);return n.forEach(function(e){et(e)&&d_(e)===e&&Object.getOwnPropertyNames(e).forEach(function(i){et(e[i])&&n.add(e[i])})}),t}function d_(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(n){if(n instanceof TypeError)return null;throw n}return t}function co(t){return __DEV__&&m_(t),t}function rr(t,n,e){var i=[];t.forEach(function(r){return r[n]&&i.push(r)}),i.forEach(function(r){return r[n](e)})}function $o(t,n,e){return new Ae(function(i){var r=i.next,o=i.error,c=i.complete,p=0,f=!1,d={then:function(L){return new Promise(function(B){return B(L())})}};function h(L,B){return L?function(W){++p;var q=function(){return L(W)};d=d.then(q,q).then(function(z){--p,r&&r.call(i,z),f&&v.complete()},function(z){throw--p,z}).catch(function(z){o&&o.call(i,z)})}:function(W){return B&&B.call(i,W)}}var v={next:h(n,r),error:h(e,o),complete:function(){f=!0,p||c&&c.call(i)}},C=t.subscribe(v);return function(){return C.unsubscribe()}})}var Ai=typeof WeakMap=="function"&&ni(function(){return navigator.product})!=="ReactNative",zp=typeof WeakSet=="function",Ul=typeof Symbol=="function"&&typeof Symbol.for=="function",An=Ul&&Symbol.asyncIterator,x2=typeof ni(function(){return window.document.createElement})=="function",w2=ni(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1;function Ho(t){function n(e){Object.defineProperty(t,e,{value:Ae})}return Ul&&Symbol.species&&n(Symbol.species),n("@@species"),t}function Xp(t){return t&&typeof t.then=="function"}var br=function(t){Xt(n,t);function n(e){var i=t.call(this,function(r){return i.addObserver(r),function(){return i.removeObserver(r)}})||this;return i.observers=new Set,i.promise=new Promise(function(r,o){i.resolve=r,i.reject=o}),i.handlers={next:function(r){i.sub!==null&&(i.latest=["next",r],i.notify("next",r),rr(i.observers,"next",r))},error:function(r){var o=i.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),i.sub=null,i.latest=["error",r],i.reject(r),i.notify("error",r),rr(i.observers,"error",r))},complete:function(){var r=i.sub;if(r!==null){var o=i.sources.shift();o?Xp(o)?o.then(function(c){return i.sub=c.subscribe(i.handlers)}):i.sub=o.subscribe(i.handlers):(r&&setTimeout(function(){return r.unsubscribe()}),i.sub=null,i.latest&&i.latest[0]==="next"?i.resolve(i.latest[1]):i.resolve(),i.notify("complete"),rr(i.observers,"complete"))}}},i.nextResultListeners=new Set,i.cancel=function(r){i.reject(r),i.sources=[],i.handlers.complete()},i.promise.catch(function(r){}),typeof e=="function"&&(e=[new Ae(e)]),Xp(e)?e.then(function(r){return i.start(r)},i.handlers.error):i.start(e),i}return n.prototype.start=function(e){this.sub===void 0&&(this.sources=Array.from(e),this.handlers.complete())},n.prototype.deliverLastMessage=function(e){if(this.latest){var i=this.latest[0],r=e[i];r&&r.call(e,this.latest[1]),this.sub===null&&i==="next"&&e.complete&&e.complete()}},n.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},n.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},n.prototype.notify=function(e,i){var r=this.nextResultListeners;r.size&&(this.nextResultListeners=new Set,r.forEach(function(o){return o(e,i)}))},n.prototype.beforeNext=function(e){var i=!1;this.nextResultListeners.add(function(r,o){i||(i=!0,e(r,o))})},n}(Ae);Ho(br);function Yt(t){return Array.isArray(t)&&t.length>0}function Pn(t){return"incremental"in t}function f_(t){return"hasNext"in t&&"data"in t}function Kp(t){return Pn(t)||f_(t)}function Uo(t,n){var e=t,i=new vi;return Pn(n)&&Yt(n.incremental)&&n.incremental.forEach(function(r){for(var o=r.data,c=r.path,p=c.length-1;p>=0;--p){var f=c[p],d=!isNaN(+f),h=d?[]:{};h[f]=o,o=h}e=i.merge(e,o)}),e}function Fr(t){var n=Qo(t);return Yt(n)}function Qo(t){var n=Yt(t.errors)?t.errors.slice(0):[];return Pn(t)&&Yt(t.incremental)&&t.incremental.forEach(function(e){e.errors&&n.push.apply(n,e.errors)}),n}function kn(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=Object.create(null);return t.forEach(function(i){i&&Object.keys(i).forEach(function(r){var o=i[r];o!==void 0&&(e[r]=o)})}),e}var Jp=new Map;function po(t){var n=Jp.get(t)||1;return Jp.set(t,n+1),"".concat(t,":").concat(n,":").concat(Math.random().toString(36).slice(2))}function Yp(t){var n=po("stringifyForDisplay");return JSON.stringify(t,function(e,i){return i===void 0?n:i}).split(JSON.stringify(n)).join("<undefined>")}function uo(t,n){return kn(t,n,n.variables&&{variables:M(M({},t&&t.variables),n.variables)})}function qo(t){return new Ae(function(n){n.error(t)})}var mo=function(t,n,e){var i=new Error(e);throw i.name="ServerError",i.response=t,i.statusCode=t.status,i.result=n,i};function Ql(t){for(var n=["query","operationName","variables","extensions","context"],e=0,i=Object.keys(t);e<i.length;e++){var r=i[e];if(n.indexOf(r)<0)throw __DEV__?new be("illegal argument: ".concat(r)):new be(26)}return t}function ql(t,n){var e=M({},t),i=function(o){typeof o=="function"?e=M(M({},e),o(e)):e=M(M({},e),o)},r=function(){return M({},e)};return Object.defineProperty(n,"setContext",{enumerable:!1,value:i}),Object.defineProperty(n,"getContext",{enumerable:!1,value:r}),n}function zl(t){var n={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return n.operationName||(n.operationName=typeof n.query!="string"?Ir(n.query)||void 0:""),n}function Zp(t,n){return n?n(t):Ae.of()}function fo(t){return typeof t=="function"?new Pi(t):t}function zo(t){return t.request.length<=1}var h_=function(t){Xt(n,t);function n(e,i){var r=t.call(this,e)||this;return r.link=i,r}return n}(Error),Pi=function(){function t(n){n&&(this.request=n)}return t.empty=function(){return new t(function(){return Ae.of()})},t.from=function(n){return n.length===0?t.empty():n.map(fo).reduce(function(e,i){return e.concat(i)})},t.split=function(n,e,i){var r=fo(e),o=fo(i||new t(Zp));return zo(r)&&zo(o)?new t(function(c){return n(c)?r.request(c)||Ae.of():o.request(c)||Ae.of()}):new t(function(c,p){return n(c)?r.request(c,p)||Ae.of():o.request(c,p)||Ae.of()})},t.execute=function(n,e){return n.request(ql(e.context,zl(Ql(e))))||Ae.of()},t.concat=function(n,e){var i=fo(n);if(zo(i))return __DEV__&&K.warn(new h_("You are calling concat on a terminating link, which will have no effect",i)),i;var r=fo(e);return zo(r)?new t(function(o){return i.request(o,function(c){return r.request(c)||Ae.of()})||Ae.of()}):new t(function(o,c){return i.request(o,function(p){return r.request(p,c)||Ae.of()})||Ae.of()})},t.prototype.split=function(n,e,i){return this.concat(t.split(n,e,i||new t(Zp)))},t.prototype.concat=function(n){return t.concat(this,n)},t.prototype.request=function(n,e){throw __DEV__?new be("request is not implemented"):new be(21)},t.prototype.onError=function(n,e){if(e&&e.error)return e.error(n),!1;throw n},t.prototype.setOnError=function(n){return this.onError=n,this},t}();var Or=Pi.execute;var eu="3.7.3";function tu(t){return!!t.body}function iu(t){return!!t.getReader}function nu(t){return!!(An&&t[Symbol.asyncIterator])}function ru(t){return!!t.stream}function ou(t){return!!t.arrayBuffer}function au(t){return!!t.pipe}function Xl(t){var n,e=t[Symbol.asyncIterator]();return n={next:function(){return e.next()}},n[Symbol.asyncIterator]=function(){return this},n}function Kl(t){var n=null,e=null,i=!1,r=[],o=[];function c(v){if(!e){if(o.length){var C=o.shift();if(Array.isArray(C)&&C[0])return C[0]({value:v,done:!1})}r.push(v)}}function p(v){e=v;var C=o.slice();C.forEach(function(L){L[1](v)}),!n||n()}function f(){i=!0;var v=o.slice();v.forEach(function(C){C[0]({value:void 0,done:!0})}),!n||n()}n=function(){n=null,t.removeListener("data",c),t.removeListener("error",p),t.removeListener("end",f),t.removeListener("finish",f),t.removeListener("close",f)},t.on("data",c),t.on("error",p),t.on("end",f),t.on("finish",f),t.on("close",f);function d(){return new Promise(function(v,C){if(e)return C(e);if(r.length)return v({value:r.shift(),done:!1});if(i)return v({value:void 0,done:!0});o.push([v,C])})}var h={next:function(){return d()}};return An&&(h[Symbol.asyncIterator]=function(){return this}),h}function Jl(t){var n=!1,e={next:function(){return n?Promise.resolve({value:void 0,done:!0}):(n=!0,new Promise(function(i,r){t.then(function(o){i({value:o,done:!1})}).catch(r)}))}};return An&&(e[Symbol.asyncIterator]=function(){return this}),e}function Xo(t){var n={next:function(){return t.read()}};return An&&(n[Symbol.asyncIterator]=function(){return this}),n}function lu(t){var n=t;if(tu(t)&&(n=t.body),nu(n))return Xl(n);if(iu(n))return Xo(n.getReader());if(ru(n))return Xo(n.stream().getReader());if(ou(n))return Jl(n.arrayBuffer());if(au(n))return Kl(n);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var su=Object.prototype.hasOwnProperty;function cu(t,n){var e,i,r;return Ui(this,void 0,void 0,function(){var o,c,p,f,d,h,v,C,L,B,W,q,z,ge,X,me,Fe,Oe,ye,De;return Qi(this,function(Bt){switch(Bt.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");o=new TextDecoder("utf-8"),c=(e=t.headers)===null||e===void 0?void 0:e.get("content-type"),p="boundary=",f=c?.includes(p)?c?.substring(c?.indexOf(p)+p.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",d="--".concat(f),h="",v=lu(t),C=!0,Bt.label=1;case 1:return C?[4,v.next()]:[3,3];case 2:for(L=Bt.sent(),B=L.value,W=L.done,q=typeof B=="string"?B:o.decode(B),C=!W,h+=q,z=h.indexOf(d);z>-1;){if(ge=void 0,De=[h.slice(0,z),h.slice(z+d.length)],ge=De[0],h=De[1],ge.trim()){if(X=ge.indexOf(`\r
\r
`),me=__(ge.slice(0,X)),Fe=me["content-type"],Fe&&Fe.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");Oe=ge.slice(X);try{ye=pu(t,Oe.replace(`\r
`,"")),(Object.keys(ye).length>1||"data"in ye||"incremental"in ye||"errors"in ye)&&((i=n.next)===null||i===void 0||i.call(n,ye))}catch(jt){Ko(jt,n)}}z=h.indexOf(d)}return[3,1];case 3:return(r=n.complete)===null||r===void 0||r.call(n),[2]}})})}function __(t){var n={};return t.split(`
`).forEach(function(e){var i=e.indexOf(":");if(i>-1){var r=e.slice(0,i).trim().toLowerCase(),o=e.slice(i+1).trim();n[r]=o}}),n}function pu(t,n){if(t.status>=300){var e=function(){try{return JSON.parse(n)}catch{return n}};mo(t,e(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(n)}catch(r){var i=r;throw i.name="ServerParseError",i.response=t,i.statusCode=t.status,i.bodyText=n,i}}function Ko(t,n){var e,i;t.name!=="AbortError"&&(t.result&&t.result.errors&&t.result.data&&((e=n.next)===null||e===void 0||e.call(n,t.result)),(i=n.error)===null||i===void 0||i.call(n,t))}function uu(t,n,e){g_(n)(t).then(function(i){var r,o;(r=e.next)===null||r===void 0||r.call(e,i),(o=e.complete)===null||o===void 0||o.call(e)}).catch(function(i){return Ko(i,e)})}function g_(t){return function(n){return n.text().then(function(e){return pu(n,e)}).then(function(e){return n.status>=300&&mo(n,e,"Response not successful: Received status code ".concat(n.status)),!Array.isArray(e)&&!su.call(e,"data")&&!su.call(e,"errors")&&mo(n,e,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(i){return i.operationName}):t.operationName,"'.")),e})}}var ho=function(t,n){var e;try{e=JSON.stringify(t)}catch(r){var i=__DEV__?new be("Network request failed. ".concat(n," is not serializable: ").concat(r.message)):new be(23);throw i.parseError=r,i}return e};var v_={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},C_={accept:"*/*","content-type":"application/json"},S_={method:"POST"},mu={http:v_,headers:C_,options:S_},du=function(t,n){return n(t)};function fu(t,n){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];var r={},o={};e.forEach(function(v){r=M(M(M({},r),v.options),{headers:M(M({},r.headers),v.headers)}),v.credentials&&(r.credentials=v.credentials),o=M(M({},o),v.http)}),r.headers=y_(r.headers,o.preserveHeaderCase);var c=t.operationName,p=t.extensions,f=t.variables,d=t.query,h={operationName:c,variables:f};return o.includeExtensions&&(h.extensions=p),o.includeQuery&&(h.query=n(d,yr)),{options:r,body:h}}function y_(t,n){if(!n){var e=Object.create(null);return Object.keys(Object(t)).forEach(function(o){e[o.toLowerCase()]=t[o]}),e}var i=Object.create(null);Object.keys(Object(t)).forEach(function(o){i[o.toLowerCase()]={originalName:o,value:t[o]}});var r=Object.create(null);return Object.keys(i).forEach(function(o){r[i[o].originalName]=i[o].value}),r}var hu=function(t){if(!t&&typeof fetch>"u")throw __DEV__?new be(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new be(22)};var _u=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var t=new AbortController,n=t.signal;return{controller:t,signal:n}};var gu=function(t,n){var e=t.getContext(),i=e.uri;return i||(typeof n=="function"?n(t):n||"/graphql")};function vu(t,n){var e=[],i=function(v,C){e.push("".concat(v,"=").concat(encodeURIComponent(C)))};if("query"in n&&i("query",n.query),n.operationName&&i("operationName",n.operationName),n.variables){var r=void 0;try{r=ho(n.variables,"Variables map")}catch(v){return{parseError:v}}i("variables",r)}if(n.extensions){var o=void 0;try{o=ho(n.extensions,"Extensions map")}catch(v){return{parseError:v}}i("extensions",o)}var c="",p=t,f=t.indexOf("#");f!==-1&&(c=t.substr(f),p=t.substr(0,f));var d=p.indexOf("?")===-1?"?":"&",h=p+d+e.join("&")+c;return{newURI:h}}var Cu=ni(function(){return fetch}),Su=function(t){t===void 0&&(t={});var n=t.uri,e=n===void 0?"/graphql":n,i=t.fetch,r=t.print,o=r===void 0?du:r,c=t.includeExtensions,p=t.preserveHeaderCase,f=t.useGETForQueries,d=t.includeUnusedVariables,h=d===void 0?!1:d,v=cn(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&hu(i||Cu);var C={http:{includeExtensions:c,preserveHeaderCase:p},options:v.fetchOptions,credentials:v.credentials,headers:v.headers};return new Pi(function(L){var B=gu(L,e),W=L.getContext(),q={};if(W.clientAwareness){var z=W.clientAwareness,ge=z.name,X=z.version;ge&&(q["apollographql-client-name"]=ge),X&&(q["apollographql-client-version"]=X)}var me=M(M({},q),W.headers),Fe={http:W.http,options:W.fetchOptions,credentials:W.credentials,headers:me},Oe=fu(L,o,mu,C,Fe),ye=Oe.options,De=Oe.body;if(De.variables&&!h){var Bt=new Set(Object.keys(De.variables));ri(L.query,{Variable:function(wi,Tc,hn){hn&&hn.kind!=="VariableDefinition"&&Bt.delete(wi.name.value)}}),Bt.size&&(De.variables=M({},De.variables),Bt.forEach(function(wi){delete De.variables[wi]}))}var jt;if(!ye.signal){var Qn=_u(),cr=Qn.controller,di=Qn.signal;jt=cr,jt&&(ye.signal=di)}var pr=function(wi){return wi.kind==="OperationDefinition"&&wi.operation==="mutation"};if(f&&!L.query.definitions.some(pr)&&(ye.method="GET"),Er(["defer"],L.query)&&(ye.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),ye.method==="GET"){var yc=vu(B,De),th=yc.newURI,Ec=yc.parseError;if(Ec)return qo(Ec);B=th}else try{ye.body=ho(De,"Payload")}catch(wi){return qo(wi)}return new Ae(function(wi){var Tc=i||ni(function(){return fetch})||Cu;return Tc(B,ye).then(function(hn){var cl;L.setContext({response:hn});var Ic=(cl=hn.headers)===null||cl===void 0?void 0:cl.get("content-type");return Ic!==null&&/^multipart\/mixed/i.test(Ic)?cu(hn,wi):uu(hn,L,wi)}).catch(function(hn){return Ko(hn,wi)}),function(){jt&&jt.abort()}})})};var Yl=function(t){Xt(n,t);function n(e){e===void 0&&(e={});var i=t.call(this,Su(e).request)||this;return i.options=e,i}return n}(Pi);var{toString:yu,hasOwnProperty:E_}=Object.prototype,Eu=Function.prototype.toString,Zl=new Map;function bt(t,n){try{return es(t,n)}finally{Zl.clear()}}function es(t,n){if(t===n)return!0;let e=yu.call(t),i=yu.call(n);if(e!==i)return!1;switch(e){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":{if(Iu(t,n))return!0;let r=Tu(t),o=Tu(n),c=r.length;if(c!==o.length)return!1;for(let p=0;p<c;++p)if(!E_.call(n,r[p]))return!1;for(let p=0;p<c;++p){let f=r[p];if(!es(t[f],n[f]))return!1}return!0}case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!==t)return n!==n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==`${n}`;case"[object Map]":case"[object Set]":{if(t.size!==n.size)return!1;if(Iu(t,n))return!0;let r=t.entries(),o=e==="[object Map]";for(;;){let c=r.next();if(c.done)break;let[p,f]=c.value;if(!n.has(p)||o&&!es(f,n.get(p)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),n=new Uint8Array(n);case"[object DataView]":{let r=t.byteLength;if(r===n.byteLength)for(;r--&&t[r]===n[r];);return r===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{let r=Eu.call(t);return r!==Eu.call(n)?!1:!x_(r,I_)}}return!1}function Tu(t){return Object.keys(t).filter(T_,t)}function T_(t){return this[t]!==void 0}var I_="{ [native code] }";function x_(t,n){let e=t.length-n.length;return e>=0&&t.indexOf(n,e)===e}function Iu(t,n){let e=Zl.get(t);if(e){if(e.has(n))return!0}else Zl.set(t,e=new Set);return e.add(n),!1}var w_=function(){return Object.create(null)},xu=Array.prototype,b_=xu.forEach,F_=xu.slice,un=function(){function t(n,e){n===void 0&&(n=!0),e===void 0&&(e=w_),this.weakness=n,this.makeData=e}return t.prototype.lookup=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return this.lookupArray(n)},t.prototype.lookupArray=function(n){var e=this;return b_.call(n,function(i){return e=e.getChildTrie(i)}),e.data||(e.data=this.makeData(F_.call(n)))},t.prototype.getChildTrie=function(n){var e=this.weakness&&O_(n)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=e.get(n);return i||e.set(n,i=new t(this.weakness,this.makeData)),i},t}();function O_(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var oi=null,wu={},D_=1,R_=()=>class{constructor(){this.id=["slot",D_++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let n=oi;n;n=n.parent)if(this.id in n.slots){let e=n.slots[this.id];if(e===wu)break;return n!==oi&&(oi.slots[this.id]=e),!0}return oi&&(oi.slots[this.id]=wu),!1}getValue(){if(this.hasValue())return oi.slots[this.id]}withValue(n,e,i,r){let o={__proto__:null,[this.id]:n},c=oi;oi={parent:c,slots:o};try{return e.apply(r,i)}finally{oi=c}}static bind(n){let e=oi;return function(){let i=oi;try{return oi=e,n.apply(this,arguments)}finally{oi=i}}}static noContext(n,e,i){if(oi){let r=oi;try{return oi=null,n.apply(i,e)}finally{oi=r}}else return n.apply(i,e)}};function bu(t){try{return t()}catch{}}var ts="@wry/context:Slot",L_=bu(()=>globalThis)||bu(()=>global)||Object.create(null),Fu=L_,Dr=Fu[ts]||Array[ts]||function(t){try{Object.defineProperty(Fu,ts,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(R_());var{bind:M_,noContext:V_}=Dr;function A_(){}var P_=function(){function t(n,e){n===void 0&&(n=1/0),e===void 0&&(e=A_),this.max=n,this.dispose=e,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(n){return this.map.has(n)},t.prototype.get=function(n){var e=this.getNode(n);return e&&e.value},t.prototype.getNode=function(n){var e=this.map.get(n);if(e&&e!==this.newest){var i=e.older,r=e.newer;r&&(r.older=i),i&&(i.newer=r),e.older=this.newest,e.older.newer=e,e.newer=null,this.newest=e,e===this.oldest&&(this.oldest=r)}return e},t.prototype.set=function(n,e){var i=this.getNode(n);return i?i.value=e:(i={key:n,value:e,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(n,i),i.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(n){var e=this.map.get(n);return e?(e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.map.delete(n),this.dispose(e.value,n),!0):!1},t}(),Yo=new Dr,is,k_=Object.prototype.hasOwnProperty,rs=(is=Array.from,is===void 0?function(t){var n=[];return t.forEach(function(e){return n.push(e)}),n}:is);function Jo(t){var n=t.unsubscribe;typeof n=="function"&&(t.unsubscribe=void 0,n())}var _o=[],N_=100;function Rr(t,n){if(!t)throw new Error(n||"assertion failure")}function G_(t,n){var e=t.length;return e>0&&e===n.length&&t[e-1]===n[e-1]}function Du(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function W_(t){return t.slice(0)}var B_=function(){function t(n){this.fn=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(this.value.length===1&&!Nn(this))return Ou(this),this.value[0]},t.prototype.recompute=function(n){return Rr(!this.recomputing,"already recomputing"),Ou(this),Nn(this)?j_(this,n):Du(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Ru(this),Jo(this))},t.prototype.dispose=function(){var n=this;this.setDirty(),Pu(this),os(this,function(e,i){e.setDirty(),ku(e,n)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(n){n.add(this),this.deps||(this.deps=_o.pop()||new Set),this.deps.add(n)},t.prototype.forgetDeps=function(){var n=this;this.deps&&(rs(this.deps).forEach(function(e){return e.delete(n)}),this.deps.clear(),_o.push(this.deps),this.deps=null)},t.count=0,t}();function Ou(t){var n=Yo.getValue();if(n)return t.parents.add(n),n.childValues.has(t)||n.childValues.set(t,[]),Nn(t)?Mu(n,t):Vu(n,t),n}function j_(t,n){return Pu(t),Yo.withValue(t,$_,[t,n]),U_(t,n)&&H_(t),Du(t.value)}function $_(t,n){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,n)}catch(e){t.value[1]=e}t.recomputing=!1}function Nn(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function H_(t){t.dirty=!1,!Nn(t)&&Lu(t)}function Ru(t){os(t,Mu)}function Lu(t){os(t,Vu)}function os(t,n){var e=t.parents.size;if(e)for(var i=rs(t.parents),r=0;r<e;++r)n(i[r],t)}function Mu(t,n){Rr(t.childValues.has(n)),Rr(Nn(n));var e=!Nn(t);if(!t.dirtyChildren)t.dirtyChildren=_o.pop()||new Set;else if(t.dirtyChildren.has(n))return;t.dirtyChildren.add(n),e&&Ru(t)}function Vu(t,n){Rr(t.childValues.has(n)),Rr(!Nn(n));var e=t.childValues.get(n);e.length===0?t.childValues.set(n,W_(n.value)):G_(e,n.value)||t.setDirty(),Au(t,n),!Nn(t)&&Lu(t)}function Au(t,n){var e=t.dirtyChildren;e&&(e.delete(n),e.size===0&&(_o.length<N_&&_o.push(e),t.dirtyChildren=null))}function Pu(t){t.childValues.size>0&&t.childValues.forEach(function(n,e){ku(t,e)}),t.forgetDeps(),Rr(t.dirtyChildren===null)}function ku(t,n){n.parents.delete(t),t.childValues.delete(n),Au(t,n)}function U_(t,n){if(typeof t.subscribe=="function")try{Jo(t),t.unsubscribe=t.subscribe.apply(null,n)}catch{return t.setDirty(),!1}return!0}var Q_={setDirty:!0,dispose:!0,forget:!0};function Zo(t){var n=new Map,e=t&&t.subscribe;function i(r){var o=Yo.getValue();if(o){var c=n.get(r);c||n.set(r,c=new Set),o.dependOn(c),typeof e=="function"&&(Jo(c),c.unsubscribe=e(r))}}return i.dirty=function(o,c){var p=n.get(o);if(p){var f=c&&k_.call(Q_,c)?c:"setDirty";rs(p).forEach(function(d){return d[f]()}),n.delete(o),Jo(p)}},i}function Nu(){var t=new un(typeof WeakMap=="function");return function(){return t.lookupArray(arguments)}}var aR=Nu(),ns=new Set;function or(t,n){n===void 0&&(n=Object.create(null));var e=new P_(n.max||Math.pow(2,16),function(d){return d.dispose()}),i=n.keyArgs,r=n.makeCacheKey||Nu(),o=function(){var d=r.apply(null,i?i.apply(null,arguments):arguments);if(d===void 0)return t.apply(null,arguments);var h=e.get(d);h||(e.set(d,h=new B_(t)),h.subscribe=n.subscribe,h.forget=function(){return e.delete(d)});var v=h.recompute(Array.prototype.slice.call(arguments));return e.set(d,h),ns.add(e),Yo.hasValue()||(ns.forEach(function(C){return C.clean()}),ns.clear()),v};Object.defineProperty(o,"size",{get:function(){return e.map.size},configurable:!1,enumerable:!1});function c(d){var h=e.get(d);h&&h.setDirty()}o.dirtyKey=c,o.dirty=function(){c(r.apply(null,arguments))};function p(d){var h=e.get(d);if(h)return h.peek()}o.peekKey=p,o.peek=function(){return p(r.apply(null,arguments))};function f(d){return e.delete(d)}return o.forgetKey=f,o.forget=function(){return f(r.apply(null,arguments))},o.makeCacheKey=r,o.getKey=i?function(){return r.apply(null,i.apply(null,arguments))}:r,Object.freeze(o)}var as=function(){function t(){this.getFragmentDoc=or(xl)}return t.prototype.batch=function(n){var e=this,i=typeof n.optimistic=="string"?n.optimistic:n.optimistic===!1?null:void 0,r;return this.performTransaction(function(){return r=n.update(e)},i),r},t.prototype.recordOptimisticTransaction=function(n,e){this.performTransaction(n,e)},t.prototype.transformDocument=function(n){return n},t.prototype.transformForLink=function(n){return n},t.prototype.identify=function(n){},t.prototype.gc=function(){return[]},t.prototype.modify=function(n){return!1},t.prototype.readQuery=function(n,e){return e===void 0&&(e=!!n.optimistic),this.read(M(M({},n),{rootId:n.id||"ROOT_QUERY",optimistic:e}))},t.prototype.readFragment=function(n,e){return e===void 0&&(e=!!n.optimistic),this.read(M(M({},n),{query:this.getFragmentDoc(n.fragment,n.fragmentName),rootId:n.id,optimistic:e}))},t.prototype.writeQuery=function(n){var e=n.id,i=n.data,r=cn(n,["id","data"]);return this.write(Object.assign(r,{dataId:e||"ROOT_QUERY",result:i}))},t.prototype.writeFragment=function(n){var e=n.id,i=n.data,r=n.fragment,o=n.fragmentName,c=cn(n,["id","data","fragment","fragmentName"]);return this.write(Object.assign(c,{query:this.getFragmentDoc(r,o),dataId:e,result:i}))},t.prototype.updateQuery=function(n,e){return this.batch({update:function(i){var r=i.readQuery(n),o=e(r);return o==null?r:(i.writeQuery(M(M({},n),{data:o})),o)}})},t.prototype.updateFragment=function(n,e){return this.batch({update:function(i){var r=i.readFragment(n),o=e(r);return o==null?r:(i.writeFragment(M(M({},n),{data:o})),o)}})},t}();var go=function(t){Xt(n,t);function n(e,i,r,o){var c,p=t.call(this,e)||this;if(p.message=e,p.path=i,p.query=r,p.variables=o,Array.isArray(p.path)){p.missing=p.message;for(var f=p.path.length-1;f>=0;--f)p.missing=(c={},c[p.path[f]]=p.missing,c)}else p.missing=p.path;return p.__proto__=n.prototype,p}return n}(Error);var Wt=Object.prototype.hasOwnProperty;function vo(t){return t==null}var wt=Array.isArray;function ta(t,n){var e=t.__typename,i=t.id,r=t._id;if(typeof e=="string"&&(n&&(n.keyObject=vo(i)?vo(r)?void 0:{_id:r}:{id:i}),vo(i)&&!vo(r)&&(i=r),!vo(i)))return"".concat(e,":").concat(typeof i=="number"||typeof i=="string"?i:JSON.stringify(i))}var Gu={dataIdFromObject:ta,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Wu(t){return kn(Gu,t)}function ia(t){var n=t.canonizeResults;return n===void 0?Gu.canonizeResults:n}function Bu(t,n){return Pe(n)?t.get(n.__ref,"__typename"):n&&n.__typename}var ls=/^[_a-z][_0-9a-z]*/i;function Xi(t){var n=t.match(ls);return n?n[0]:t}function ea(t,n,e){return et(n)?wt(n)?n.every(function(i){return ea(t,i,e)}):t.selections.every(function(i){if(mi(i)&&vn(i,e)){var r=Vi(i);return Wt.call(n,r)&&(!i.selectionSet||ea(i.selectionSet,n[r],e))}return!0}):!1}function Gn(t){return et(t)&&!Pe(t)&&!wt(t)}function ju(){return new vi}function na(t,n){var e=Yn(er(t));return{fragmentMap:e,lookupFragment:function(i){var r=e[i];return!r&&n&&(r=n.lookup(i)),r||null}}}var ra=Object.create(null),ss=function(){return ra},$u=Object.create(null),Lr=function(){function t(n,e){var i=this;this.policies=n,this.group=e,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(r,o){return co(Pe(r)?i.get(r.__ref,o):r&&r[o])},this.canRead=function(r){return Pe(r)?i.has(r.__ref):typeof r=="object"},this.toReference=function(r,o){if(typeof r=="string")return zi(r);if(Pe(r))return r;var c=i.policies.identify(r)[0];if(c){var p=zi(c);return o&&i.merge(c,r),p}}}return t.prototype.toObject=function(){return M({},this.data)},t.prototype.has=function(n){return this.lookup(n,!0)!==void 0},t.prototype.get=function(n,e){if(this.group.depend(n,e),Wt.call(this.data,n)){var i=this.data[n];if(i&&Wt.call(i,e))return i[e]}if(e==="__typename"&&Wt.call(this.policies.rootTypenamesById,n))return this.policies.rootTypenamesById[n];if(this instanceof Wn)return this.parent.get(n,e)},t.prototype.lookup=function(n,e){if(e&&this.group.depend(n,"__exists"),Wt.call(this.data,n))return this.data[n];if(this instanceof Wn)return this.parent.lookup(n,e);if(this.policies.rootTypenamesById[n])return Object.create(null)},t.prototype.merge=function(n,e){var i=this,r;Pe(n)&&(n=n.__ref),Pe(e)&&(e=e.__ref);var o=typeof n=="string"?this.lookup(r=n):n,c=typeof e=="string"?this.lookup(r=e):e;if(c){__DEV__?K(typeof r=="string","store.merge expects a string ID"):K(typeof r=="string",1);var p=new vi(z_).merge(o,c);if(this.data[r]=p,p!==o&&(delete this.refs[r],this.group.caching)){var f=Object.create(null);o||(f.__exists=1),Object.keys(c).forEach(function(d){if(!o||o[d]!==p[d]){f[d]=1;var h=Xi(d);h!==d&&!i.policies.hasKeyArgs(p.__typename,h)&&(f[h]=1),p[d]===void 0&&!(i instanceof Wn)&&delete p[d]}}),f.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[r]===p.__typename&&delete f.__typename,Object.keys(f).forEach(function(d){return i.group.dirty(r,d)})}}},t.prototype.modify=function(n,e){var i=this,r=this.lookup(n);if(r){var o=Object.create(null),c=!1,p=!0,f={DELETE:ra,INVALIDATE:$u,isReference:Pe,toReference:this.toReference,canRead:this.canRead,readField:function(d,h){return i.policies.readField(typeof d=="string"?{fieldName:d,from:h||zi(n)}:d,{store:i})}};if(Object.keys(r).forEach(function(d){var h=Xi(d),v=r[d];if(v!==void 0){var C=typeof e=="function"?e:e[d]||e[h];if(C){var L=C===ss?ra:C(co(v),M(M({},f),{fieldName:h,storeFieldName:d,storage:i.getStorage(n,d)}));L===$u?i.group.dirty(n,d):(L===ra&&(L=void 0),L!==v&&(o[d]=L,c=!0,v=L))}v!==void 0&&(p=!1)}}),c)return this.merge(n,o),p&&(this instanceof Wn?this.data[n]=void 0:delete this.data[n],this.group.dirty(n,"__exists")),!0}return!1},t.prototype.delete=function(n,e,i){var r,o=this.lookup(n);if(o){var c=this.getFieldValue(o,"__typename"),p=e&&i?this.policies.getStoreFieldName({typename:c,fieldName:e,args:i}):e;return this.modify(n,p?(r={},r[p]=ss,r):ss)}return!1},t.prototype.evict=function(n,e){var i=!1;return n.id&&(Wt.call(this.data,n.id)&&(i=this.delete(n.id,n.fieldName,n.args)),this instanceof Wn&&this!==e&&(i=this.parent.evict(n,e)||i),(n.fieldName||i)&&this.group.dirty(n.id,n.fieldName||"__exists")),i},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var n=this,e=this.toObject(),i=[];return this.getRootIdSet().forEach(function(r){Wt.call(n.policies.rootTypenamesById,r)||i.push(r)}),i.length&&(e.__META={extraRootIds:i.sort()}),e},t.prototype.replace=function(n){var e=this;if(Object.keys(this.data).forEach(function(o){n&&Wt.call(n,o)||e.delete(o)}),n){var i=n.__META,r=cn(n,["__META"]);Object.keys(r).forEach(function(o){e.merge(o,r[o])}),i&&i.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(n){return this.rootIds[n]=(this.rootIds[n]||0)+1},t.prototype.release=function(n){if(this.rootIds[n]>0){var e=--this.rootIds[n];return e||delete this.rootIds[n],e}return 0},t.prototype.getRootIdSet=function(n){return n===void 0&&(n=new Set),Object.keys(this.rootIds).forEach(n.add,n),this instanceof Wn?this.parent.getRootIdSet(n):Object.keys(this.policies.rootTypenamesById).forEach(n.add,n),n},t.prototype.gc=function(){var n=this,e=this.getRootIdSet(),i=this.toObject();e.forEach(function(c){Wt.call(i,c)&&(Object.keys(n.findChildRefIds(c)).forEach(e.add,e),delete i[c])});var r=Object.keys(i);if(r.length){for(var o=this;o instanceof Wn;)o=o.parent;r.forEach(function(c){return o.delete(c)})}return r},t.prototype.findChildRefIds=function(n){if(!Wt.call(this.refs,n)){var e=this.refs[n]=Object.create(null),i=this.data[n];if(!i)return e;var r=new Set([i]);r.forEach(function(o){Pe(o)&&(e[o.__ref]=!0),et(o)&&Object.keys(o).forEach(function(c){var p=o[c];et(p)&&r.add(p)})})}return this.refs[n]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}();var Hu=function(){function t(n,e){e===void 0&&(e=null),this.caching=n,this.parent=e,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?Zo():null,this.keyMaker=new un(Ai)},t.prototype.depend=function(n,e){if(this.d){this.d(cs(n,e));var i=Xi(e);i!==e&&this.d(cs(n,i)),this.parent&&this.parent.depend(n,e)}},t.prototype.dirty=function(n,e){this.d&&this.d.dirty(cs(n,e),e==="__exists"?"forget":"setDirty")},t}();function cs(t,n){return n+"#"+t}function ps(t,n){ar(t)&&t.group.depend(n,"__exists")}(function(t){var n=function(e){Xt(i,e);function i(r){var o=r.policies,c=r.resultCaching,p=c===void 0?!0:c,f=r.seed,d=e.call(this,o,new Hu(p))||this;return d.stump=new q_(d),d.storageTrie=new un(Ai),f&&d.replace(f),d}return i.prototype.addLayer=function(r,o){return this.stump.addLayer(r,o)},i.prototype.removeLayer=function(){return this},i.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},i}(t);t.Root=n})(Lr||(Lr={}));var Wn=function(t){Xt(n,t);function n(e,i,r,o){var c=t.call(this,i.policies,o)||this;return c.id=e,c.parent=i,c.replay=r,c.group=o,r(c),c}return n.prototype.addLayer=function(e,i){return new n(e,this,i,this.group)},n.prototype.removeLayer=function(e){var i=this,r=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var c=i.data[o],p=r.lookup(o);p?c?c!==p&&Object.keys(c).forEach(function(f){bt(c[f],p[f])||i.group.dirty(o,f)}):(i.group.dirty(o,"__exists"),Object.keys(p).forEach(function(f){i.group.dirty(o,f)})):i.delete(o)}),r):r===this.parent?this:r.addLayer(this.id,this.replay)},n.prototype.toObject=function(){return M(M({},this.parent.toObject()),this.data)},n.prototype.findChildRefIds=function(e){var i=this.parent.findChildRefIds(e);return Wt.call(this.data,e)?M(M({},i),t.prototype.findChildRefIds.call(this,e)):i},n.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},n}(Lr),q_=function(t){Xt(n,t);function n(e){return t.call(this,"EntityStore.Stump",e,function(){},new Hu(e.group.caching,e.group))||this}return n.prototype.removeLayer=function(){return this},n.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},n}(Wn);function z_(t,n,e){var i=t[e],r=n[e];return bt(i,r)?i:r}function ar(t){return!!(t instanceof Lr&&t.group.caching)}function X_(t){return et(t)?wt(t)?t.slice(0):M({__proto__:Object.getPrototypeOf(t)},t):t}var oa=function(){function t(){this.known=new(zp?WeakSet:Set),this.pool=new un(Ai),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(n){return et(n)&&this.known.has(n)},t.prototype.pass=function(n){if(et(n)){var e=X_(n);return this.passes.set(e,n),e}return n},t.prototype.admit=function(n){var e=this;if(et(n)){var i=this.passes.get(n);if(i)return i;var r=Object.getPrototypeOf(n);switch(r){case Array.prototype:{if(this.known.has(n))return n;var o=n.map(this.admit,this),c=this.pool.lookupArray(o);return c.array||(this.known.add(c.array=o),__DEV__&&Object.freeze(o)),c.array}case null:case Object.prototype:{if(this.known.has(n))return n;var p=Object.getPrototypeOf(n),f=[p],d=this.sortedKeys(n);f.push(d.json);var h=f.length;d.sorted.forEach(function(L){f.push(e.admit(n[L]))});var c=this.pool.lookupArray(f);if(!c.object){var v=c.object=Object.create(p);this.known.add(v),d.sorted.forEach(function(L,B){v[L]=f[h+B]}),__DEV__&&Object.freeze(v)}return c.object}}}return n},t.prototype.sortedKeys=function(n){var e=Object.keys(n),i=this.pool.lookupArray(e);if(!i.keys){e.sort();var r=JSON.stringify(e);(i.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,i.keys={sorted:e,json:r})}return i.keys},t}();var Ci=Object.assign(function(t){if(et(t)){us===void 0&&Uu();var n=us.admit(t),e=ms.get(n);return e===void 0&&ms.set(n,e=JSON.stringify(n)),e}return JSON.stringify(t)},{reset:Uu}),us,ms;function Uu(){us=new oa,ms=new(Ai?WeakMap:Map)}function Qu(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var qu=function(){function t(n){var e=this;this.knownResults=new(Ai?WeakMap:Map),this.config=kn(n,{addTypename:n.addTypename!==!1,canonizeResults:ia(n)}),this.canon=n.canon||new oa,this.executeSelectionSet=or(function(i){var r,o=i.context.canonizeResults,c=Qu(i);c[3]=!o;var p=(r=e.executeSelectionSet).peek.apply(r,c);return p?o?M(M({},p),{result:e.canon.admit(p.result)}):p:(ps(i.context.store,i.enclosingRef.__ref),e.execSelectionSetImpl(i))},{max:this.config.resultCacheMaxSize,keyArgs:Qu,makeCacheKey:function(i,r,o,c){if(ar(o.store))return o.store.makeCacheKey(i,Pe(r)?r.__ref:r,o.varString,c)}}),this.executeSubSelectedArray=or(function(i){return ps(i.context.store,i.enclosingRef.__ref),e.execSubSelectedArrayImpl(i)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(i){var r=i.field,o=i.array,c=i.context;if(ar(c.store))return c.store.makeCacheKey(r,o,c.varString)}})}return t.prototype.resetCanon=function(){this.canon=new oa},t.prototype.diffQueryAgainstStore=function(n){var e=n.store,i=n.query,r=n.rootId,o=r===void 0?"ROOT_QUERY":r,c=n.variables,p=n.returnPartialData,f=p===void 0?!0:p,d=n.canonizeResults,h=d===void 0?this.config.canonizeResults:d,v=this.config.cache.policies;c=M(M({},ir(ao(i))),c);var C=zi(o),L=this.executeSelectionSet({selectionSet:tr(i).selectionSet,objectOrReference:C,enclosingRef:C,context:M({store:e,query:i,policies:v,variables:c,varString:Ci(c),canonizeResults:h},na(i,this.config.fragments))}),B;if(L.missing&&(B=[new go(K_(L.missing),L.missing,i,c)],!f))throw B[0];return{result:L.result,complete:!B,missing:B}},t.prototype.isFresh=function(n,e,i,r){if(ar(r.store)&&this.knownResults.get(n)===i){var o=this.executeSelectionSet.peek(i,e,r,this.canon.isKnown(n));if(o&&n===o.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(n){var e=this,i=n.selectionSet,r=n.objectOrReference,o=n.enclosingRef,c=n.context;if(Pe(r)&&!c.policies.rootTypenamesById[r.__ref]&&!c.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var p=c.variables,f=c.policies,d=c.store,h=d.getFieldValue(r,"__typename"),v=[],C,L=new vi;this.config.addTypename&&typeof h=="string"&&!f.rootIdsByTypename[h]&&v.push({__typename:h});function B(X,me){var Fe;return X.missing&&(C=L.merge(C,(Fe={},Fe[me]=X.missing,Fe))),X.result}var W=new Set(i.selections);W.forEach(function(X){var me,Fe;if(vn(X,p))if(mi(X)){var Oe=f.readField({fieldName:X.name.value,field:X,variables:c.variables,from:r},c),ye=Vi(X);Oe===void 0?nr.added(X)||(C=L.merge(C,(me={},me[ye]="Can't find field '".concat(X.name.value,"' on ").concat(Pe(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),me))):wt(Oe)?Oe=B(e.executeSubSelectedArray({field:X,array:Oe,enclosingRef:o,context:c}),ye):X.selectionSet?Oe!=null&&(Oe=B(e.executeSelectionSet({selectionSet:X.selectionSet,objectOrReference:Oe,enclosingRef:Pe(Oe)?Oe:o,context:c}),ye)):c.canonizeResults&&(Oe=e.canon.pass(Oe)),Oe!==void 0&&v.push((Fe={},Fe[ye]=Oe,Fe))}else{var De=Zn(X,c.lookupFragment);if(!De&&X.kind===he.FRAGMENT_SPREAD)throw __DEV__?new be("No fragment named ".concat(X.name.value)):new be(5);De&&f.fragmentMatches(De,h)&&De.selectionSet.selections.forEach(W.add,W)}});var q=lo(v),z={result:q,missing:C},ge=c.canonizeResults?this.canon.admit(z):co(z);return ge.result&&this.knownResults.set(ge.result,i),ge},t.prototype.execSubSelectedArrayImpl=function(n){var e=this,i=n.field,r=n.array,o=n.enclosingRef,c=n.context,p,f=new vi;function d(h,v){var C;return h.missing&&(p=f.merge(p,(C={},C[v]=h.missing,C))),h.result}return i.selectionSet&&(r=r.filter(c.store.canRead)),r=r.map(function(h,v){return h===null?null:wt(h)?d(e.executeSubSelectedArray({field:i,array:h,enclosingRef:o,context:c}),v):i.selectionSet?d(e.executeSelectionSet({selectionSet:i.selectionSet,objectOrReference:h,enclosingRef:Pe(h)?h:o,context:c}),v):(__DEV__&&J_(c.store,i,h),h)}),{result:c.canonizeResults?this.canon.admit(r):r,missing:p}},t}();function K_(t){try{JSON.stringify(t,function(n,e){if(typeof e=="string")throw e;return e})}catch(n){return n}}function J_(t,n,e){if(!n.selectionSet){var i=new Set([e]);i.forEach(function(r){et(r)&&(__DEV__?K(!Pe(r),"Missing selection set for object of type ".concat(Bu(t,r)," returned for query field ").concat(n.name.value)):K(!Pe(r),6),Object.values(r).forEach(i.add,i))})}}var Mr=new Dr,zu=new WeakMap;function Co(t){var n=zu.get(t);return n||zu.set(t,n={vars:new Set,dep:Zo()}),n}function ds(t){Co(t).vars.forEach(function(n){return n.forgetCache(t)})}function Xu(t){Co(t).vars.forEach(function(n){return n.attachCache(t)})}function aa(t){var n=new Set,e=new Set,i=function(o){if(arguments.length>0){if(t!==o){t=o,n.forEach(function(f){Co(f).dep.dirty(i),Y_(f)});var c=Array.from(e);e.clear(),c.forEach(function(f){return f(t)})}}else{var p=Mr.getValue();p&&(r(p),Co(p).dep(i))}return t};i.onNextChange=function(o){return e.add(o),function(){e.delete(o)}};var r=i.attachCache=function(o){return n.add(o),Co(o).vars.add(i),i};return i.forgetCache=function(o){return n.delete(o)},i}function Y_(t){t.broadcastWatches&&t.broadcastWatches()}var Ku=Object.create(null);function fs(t){var n=JSON.stringify(t);return Ku[n]||(Ku[n]=Object.create(null))}function hs(t){var n=fs(t);return n.keyFieldsFn||(n.keyFieldsFn=function(e,i){var r=function(c,p){return i.readField(p,c)},o=i.keyObject=gs(t,function(c){var p=Vr(i.storeObject,c,r);return p===void 0&&e!==i.storeObject&&Wt.call(e,c[0])&&(p=Vr(e,c,Yu)),__DEV__?K(p!==void 0,"Missing field '".concat(c.join("."),"' while extracting keyFields from ").concat(JSON.stringify(e))):K(p!==void 0,2),p});return"".concat(i.typename,":").concat(JSON.stringify(o))})}function _s(t){var n=fs(t);return n.keyArgsFn||(n.keyArgsFn=function(e,i){var r=i.field,o=i.variables,c=i.fieldName,p=gs(t,function(d){var h=d[0],v=h.charAt(0);if(v==="@"){if(r&&Yt(r.directives)){var C=h.slice(1),L=r.directives.find(function(z){return z.name.value===C}),B=L&&Cn(L,o);return B&&Vr(B,d.slice(1))}return}if(v==="$"){var W=h.slice(1);if(o&&Wt.call(o,W)){var q=d.slice(0);return q[0]=W,Vr(o,q)}return}if(e)return Vr(e,d)}),f=JSON.stringify(p);return(e||f!=="{}")&&(c+=":"+f),c})}function gs(t,n){var e=new vi;return Ju(t).reduce(function(i,r){var o,c=n(r);if(c!==void 0){for(var p=r.length-1;p>=0;--p)c=(o={},o[r[p]]=c,o);i=e.merge(i,c)}return i},Object.create(null))}function Ju(t){var n=fs(t);if(!n.paths){var e=n.paths=[],i=[];t.forEach(function(r,o){wt(r)?(Ju(r).forEach(function(c){return e.push(i.concat(c))}),i.length=0):(i.push(r),wt(t[o+1])||(e.push(i.slice(0)),i.length=0))})}return n.paths}function Yu(t,n){return t[n]}function Vr(t,n,e){return e=e||Yu,Zu(n.reduce(function i(r,o){return wt(r)?r.map(function(c){return i(c,o)}):r&&e(r,o)},t))}function Zu(t){return et(t)?wt(t)?t.map(Zu):gs(Object.keys(t).sort(),function(n){return Vr(t,n)}):t}no.setStringify(Ci);function vs(t){return t.args!==void 0?t.args:t.field?Cn(t.field,t.variables):null}var Z_=function(){},em=function(t,n){return n.fieldName},tm=function(t,n,e){var i=e.mergeObjects;return i(t,n)},im=function(t,n){return n},rm=function(){function t(n){this.config=n,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=M({dataIdFromObject:ta},n),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),n.possibleTypes&&this.addPossibleTypes(n.possibleTypes),n.typePolicies&&this.addTypePolicies(n.typePolicies)}return t.prototype.identify=function(n,e){var i,r=this,o=e&&(e.typename||((i=e.storeObject)===null||i===void 0?void 0:i.__typename))||n.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var c=e&&e.storeObject||n,p=M(M({},e),{typename:o,storeObject:c,readField:e&&e.readField||function(){var C=la(arguments,c);return r.readField(C,{store:r.cache.data,variables:C.variables})}}),f,d=o&&this.getTypePolicy(o),h=d&&d.keyFn||this.config.dataIdFromObject;h;){var v=h(n,p);if(wt(v))h=hs(v);else{f=v;break}}return f=f?String(f):void 0,p.keyObject?[f,p.keyObject]:[f]},t.prototype.addTypePolicies=function(n){var e=this;Object.keys(n).forEach(function(i){var r=n[i],o=r.queryType,c=r.mutationType,p=r.subscriptionType,f=cn(r,["queryType","mutationType","subscriptionType"]);o&&e.setRootTypename("Query",i),c&&e.setRootTypename("Mutation",i),p&&e.setRootTypename("Subscription",i),Wt.call(e.toBeAdded,i)?e.toBeAdded[i].push(f):e.toBeAdded[i]=[f]})},t.prototype.updateTypePolicy=function(n,e){var i=this,r=this.getTypePolicy(n),o=e.keyFields,c=e.fields;function p(f,d){f.merge=typeof d=="function"?d:d===!0?tm:d===!1?im:f.merge}p(r,e.merge),r.keyFn=o===!1?Z_:wt(o)?hs(o):typeof o=="function"?o:r.keyFn,c&&Object.keys(c).forEach(function(f){var d=i.getFieldPolicy(n,f,!0),h=c[f];if(typeof h=="function")d.read=h;else{var v=h.keyArgs,C=h.read,L=h.merge;d.keyFn=v===!1?em:wt(v)?_s(v):typeof v=="function"?v:d.keyFn,typeof C=="function"&&(d.read=C),p(d,L)}d.read&&d.merge&&(d.keyFn=d.keyFn||em)})},t.prototype.setRootTypename=function(n,e){e===void 0&&(e=n);var i="ROOT_"+n.toUpperCase(),r=this.rootTypenamesById[i];e!==r&&(__DEV__?K(!r||r===n,"Cannot change root ".concat(n," __typename more than once")):K(!r||r===n,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[e]=i,this.rootTypenamesById[i]=e)},t.prototype.addPossibleTypes=function(n){var e=this;this.usingPossibleTypes=!0,Object.keys(n).forEach(function(i){e.getSupertypeSet(i,!0),n[i].forEach(function(r){e.getSupertypeSet(r,!0).add(i);var o=r.match(ls);(!o||o[0]!==r)&&e.fuzzySubtypes.set(r,new RegExp(r))})})},t.prototype.getTypePolicy=function(n){var e=this;if(!Wt.call(this.typePolicies,n)){var i=this.typePolicies[n]=Object.create(null);i.fields=Object.create(null);var r=this.supertypeMap.get(n);r&&r.size&&r.forEach(function(c){var p=e.getTypePolicy(c),f=p.fields,d=cn(p,["fields"]);Object.assign(i,d),Object.assign(i.fields,f)})}var o=this.toBeAdded[n];return o&&o.length&&o.splice(0).forEach(function(c){e.updateTypePolicy(n,c)}),this.typePolicies[n]},t.prototype.getFieldPolicy=function(n,e,i){if(n){var r=this.getTypePolicy(n).fields;return r[e]||i&&(r[e]=Object.create(null))}},t.prototype.getSupertypeSet=function(n,e){var i=this.supertypeMap.get(n);return!i&&e&&this.supertypeMap.set(n,i=new Set),i},t.prototype.fragmentMatches=function(n,e,i,r){var o=this;if(!n.typeCondition)return!0;if(!e)return!1;var c=n.typeCondition.name.value;if(e===c)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(c))for(var p=this.getSupertypeSet(e,!0),f=[p],d=function(B){var W=o.getSupertypeSet(B,!1);W&&W.size&&f.indexOf(W)<0&&f.push(W)},h=!!(i&&this.fuzzySubtypes.size),v=!1,C=0;C<f.length;++C){var L=f[C];if(L.has(c))return p.has(c)||(v&&__DEV__&&K.warn("Inferring subtype ".concat(e," of supertype ").concat(c)),p.add(c)),!0;L.forEach(d),h&&C===f.length-1&&ea(n.selectionSet,i,r)&&(h=!1,v=!0,this.fuzzySubtypes.forEach(function(B,W){var q=e.match(B);q&&q[0]===e&&d(W)}))}return!1},t.prototype.hasKeyArgs=function(n,e){var i=this.getFieldPolicy(n,e,!1);return!!(i&&i.keyFn)},t.prototype.getStoreFieldName=function(n){var e=n.typename,i=n.fieldName,r=this.getFieldPolicy(e,i,!1),o,c=r&&r.keyFn;if(c&&e)for(var p={typename:e,fieldName:i,field:n.field||null,variables:n.variables},f=vs(n);c;){var d=c(f,p);if(wt(d))c=_s(d);else{o=d||i;break}}return o===void 0&&(o=n.field?bl(n.field,n.variables):no(i,vs(n))),o===!1?i:i===Xi(o)?o:i+":"+o},t.prototype.readField=function(n,e){var i=n.from;if(i){var r=n.field||n.fieldName;if(r){if(n.typename===void 0){var o=e.store.getFieldValue(i,"__typename");o&&(n.typename=o)}var c=this.getStoreFieldName(n),p=Xi(c),f=e.store.getFieldValue(i,c),d=this.getFieldPolicy(n.typename,p,!1),h=d&&d.read;if(h){var v=nm(this,i,n,e,e.store.getStorage(Pe(i)?i.__ref:i,c));return Mr.withValue(this.cache,h,[f,v])}return f}}},t.prototype.getReadFunction=function(n,e){var i=this.getFieldPolicy(n,e,!1);return i&&i.read},t.prototype.getMergeFunction=function(n,e,i){var r=this.getFieldPolicy(n,e,!1),o=r&&r.merge;return!o&&i&&(r=this.getTypePolicy(i),o=r&&r.merge),o},t.prototype.runMergeFunction=function(n,e,i,r,o){var c=i.field,p=i.typename,f=i.merge;return f===tm?om(r.store)(n,e):f===im?e:(r.overwrite&&(n=void 0),f(n,e,nm(this,void 0,{typename:p,fieldName:c.name.value,field:c,variables:r.variables},r,o||Object.create(null))))},t}();function nm(t,n,e,i,r){var o=t.getStoreFieldName(e),c=Xi(o),p=e.variables||i.variables,f=i.store,d=f.toReference,h=f.canRead;return{args:vs(e),field:e.field||null,fieldName:c,storeFieldName:o,variables:p,isReference:Pe,toReference:d,storage:r,cache:t.cache,canRead:h,readField:function(){return t.readField(la(arguments,n,p),i)},mergeObjects:om(i.store)}}function la(t,n,e){var i=t[0],r=t[1],o=t.length,c;return typeof i=="string"?c={fieldName:i,from:o>1?r:n}:(c=M({},i),Wt.call(c,"from")||(c.from=n)),__DEV__&&c.from===void 0&&__DEV__&&K.warn("Undefined 'from' passed to readField with arguments ".concat(Yp(Array.from(t)))),c.variables===void 0&&(c.variables=e),c}function om(t){return function(e,i){if(wt(e)||wt(i))throw __DEV__?new be("Cannot automatically merge arrays"):new be(4);if(et(e)&&et(i)){var r=t.getFieldValue(e,"__typename"),o=t.getFieldValue(i,"__typename"),c=r&&o&&r!==o;if(c)return i;if(Pe(e)&&Gn(i))return t.merge(e.__ref,i),e;if(Gn(e)&&Pe(i))return t.merge(e,i.__ref),i;if(Gn(e)&&Gn(i))return M(M({},e),i)}return i}}function Cs(t,n,e){var i="".concat(n).concat(e),r=t.flavors.get(i);return r||t.flavors.set(i,r=t.clientOnly===n&&t.deferred===e?t:M(M({},t),{clientOnly:n,deferred:e})),r}var cm=function(){function t(n,e,i){this.cache=n,this.reader=e,this.fragments=i}return t.prototype.writeToStore=function(n,e){var i=this,r=e.query,o=e.result,c=e.dataId,p=e.variables,f=e.overwrite,d=pn(r),h=ju();p=M(M({},ir(d)),p);var v=M(M({store:n,written:Object.create(null),merge:function(L,B){return h.merge(L,B)},variables:p,varString:Ci(p)},na(r,this.fragments)),{overwrite:!!f,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),C=this.processSelectionSet({result:o||Object.create(null),dataId:c,selectionSet:d.selectionSet,mergeTree:{map:new Map},context:v});if(!Pe(C))throw __DEV__?new be("Could not identify object ".concat(JSON.stringify(o))):new be(7);return v.incomingById.forEach(function(L,B){var W=L.storeObject,q=L.mergeTree,z=L.fieldNodeSet,ge=zi(B);if(q&&q.map.size){var X=i.applyMerges(q,ge,W,v);if(Pe(X))return;W=X}if(__DEV__&&!v.overwrite){var me=Object.create(null);z.forEach(function(ye){ye.selectionSet&&(me[ye.name.value]=!0)});var Fe=function(ye){return me[Xi(ye)]===!0},Oe=function(ye){var De=q&&q.map.get(ye);return!!(De&&De.info&&De.info.merge)};Object.keys(W).forEach(function(ye){Fe(ye)&&!Oe(ye)&&eg(ge,W,ye,v.store)})}n.merge(B,W)}),n.retain(C.__ref),C},t.prototype.processSelectionSet=function(n){var e=this,i=n.dataId,r=n.result,o=n.selectionSet,c=n.context,p=n.mergeTree,f=this.cache.policies,d=Object.create(null),h=i&&f.rootTypenamesById[i]||ro(r,o,c.fragmentMap)||i&&c.store.get(i,"__typename");typeof h=="string"&&(d.__typename=h);var v=function(){var X=la(arguments,d,c.variables);if(Pe(X.from)){var me=c.incomingById.get(X.from.__ref);if(me){var Fe=f.readField(M(M({},X),{from:me.storeObject}),c);if(Fe!==void 0)return Fe}}return f.readField(X,c)},C=new Set;this.flattenFields(o,r,c,h).forEach(function(X,me){var Fe,Oe=Vi(me),ye=r[Oe];if(C.add(me),ye!==void 0){var De=f.getStoreFieldName({typename:h,fieldName:me.name.value,field:me,variables:X.variables}),Bt=am(p,De),jt=e.processFieldValue(ye,me,me.selectionSet?Cs(X,!1,!1):X,Bt),Qn=void 0;me.selectionSet&&(Pe(jt)||Gn(jt))&&(Qn=v("__typename",jt));var cr=f.getMergeFunction(h,me.name.value,Qn);cr?Bt.info={field:me,typename:h,merge:cr}:lm(p,De),d=X.merge(d,(Fe={},Fe[De]=jt,Fe))}else __DEV__&&!X.clientOnly&&!X.deferred&&!nr.added(me)&&!f.getReadFunction(h,me.name.value)&&__DEV__&&K.error("Missing field '".concat(Vi(me),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))});try{var L=f.identify(r,{typename:h,selectionSet:o,fragmentMap:c.fragmentMap,storeObject:d,readField:v}),B=L[0],W=L[1];i=i||B,W&&(d=c.merge(d,W))}catch(X){if(!i)throw X}if(typeof i=="string"){var q=zi(i),z=c.written[i]||(c.written[i]=[]);if(z.indexOf(o)>=0||(z.push(o),this.reader&&this.reader.isFresh(r,q,o,c)))return q;var ge=c.incomingById.get(i);return ge?(ge.storeObject=c.merge(ge.storeObject,d),ge.mergeTree=Ss(ge.mergeTree,p),C.forEach(function(X){return ge.fieldNodeSet.add(X)})):c.incomingById.set(i,{storeObject:d,mergeTree:sa(p)?void 0:p,fieldNodeSet:C}),q}return d},t.prototype.processFieldValue=function(n,e,i,r){var o=this;return!e.selectionSet||n===null?__DEV__?jo(n):n:wt(n)?n.map(function(c,p){var f=o.processFieldValue(c,e,i,am(r,p));return lm(r,p),f}):this.processSelectionSet({result:n,selectionSet:e.selectionSet,context:i,mergeTree:r})},t.prototype.flattenFields=function(n,e,i,r){r===void 0&&(r=ro(e,n,i.fragmentMap));var o=new Map,c=this.cache.policies,p=new un(!1);return function f(d,h){var v=p.lookup(d,h.clientOnly,h.deferred);v.visited||(v.visited=!0,d.selections.forEach(function(C){if(vn(C,i.variables)){var L=h.clientOnly,B=h.deferred;if(!(L&&B)&&Yt(C.directives)&&C.directives.forEach(function(z){var ge=z.name.value;if(ge==="client"&&(L=!0),ge==="defer"){var X=Cn(z,i.variables);(!X||X.if!==!1)&&(B=!0)}}),mi(C)){var W=o.get(C);W&&(L=L&&W.clientOnly,B=B&&W.deferred),o.set(C,Cs(i,L,B))}else{var q=Zn(C,i.lookupFragment);if(!q&&C.kind===he.FRAGMENT_SPREAD)throw __DEV__?new be("No fragment named ".concat(C.name.value)):new be(8);q&&c.fragmentMatches(q,r,e,i.variables)&&f(q.selectionSet,Cs(i,L,B))}}}))}(n,i),o},t.prototype.applyMerges=function(n,e,i,r,o){var c,p=this;if(n.map.size&&!Pe(i)){var f=!wt(i)&&(Pe(e)||Gn(e))?e:void 0,d=i;f&&!o&&(o=[Pe(f)?f.__ref:f]);var h,v=function(C,L){return wt(C)?typeof L=="number"?C[L]:void 0:r.store.getFieldValue(C,String(L))};n.map.forEach(function(C,L){var B=v(f,L),W=v(d,L);if(W!==void 0){o&&o.push(L);var q=p.applyMerges(C,B,W,r,o);q!==W&&(h=h||new Map,h.set(L,q)),o&&K(o.pop()===L)}}),h&&(i=wt(d)?d.slice(0):M({},d),h.forEach(function(C,L){i[L]=C}))}return n.info?this.cache.policies.runMergeFunction(e,i,n.info,r,o&&(c=r.store).getStorage.apply(c,o)):i},t}();var pm=[];function am(t,n){var e=t.map;return e.has(n)||e.set(n,pm.pop()||{map:new Map}),e.get(n)}function Ss(t,n){if(t===n||!n||sa(n))return t;if(!t||sa(t))return n;var e=t.info&&n.info?M(M({},t.info),n.info):t.info||n.info,i=t.map.size&&n.map.size,r=i?new Map:t.map.size?t.map:n.map,o={info:e,map:r};if(i){var c=new Set(n.map.keys());t.map.forEach(function(p,f){o.map.set(f,Ss(p,n.map.get(f))),c.delete(f)}),c.forEach(function(p){o.map.set(p,Ss(n.map.get(p),t.map.get(p)))})}return o}function sa(t){return!t||!(t.info||t.map.size)}function lm(t,n){var e=t.map,i=e.get(n);i&&sa(i)&&(pm.push(i),e.delete(n))}var sm=new Set;function eg(t,n,e,i){var r=function(v){var C=i.getFieldValue(v,e);return typeof C=="object"&&C},o=r(t);if(o){var c=r(n);if(c&&!Pe(o)&&!bt(o,c)&&!Object.keys(o).every(function(v){return i.getFieldValue(c,v)!==void 0})){var p=i.getFieldValue(t,"__typename")||i.getFieldValue(n,"__typename"),f=Xi(e),d="".concat(p,".").concat(f);if(!sm.has(d)){sm.add(d);var h=[];!wt(o)&&!wt(c)&&[o,c].forEach(function(v){var C=i.getFieldValue(v,"__typename");typeof C=="string"&&!h.includes(C)&&h.push(C)}),__DEV__&&K.warn("Cache data may be lost when replacing the ".concat(f," field of a ").concat(p,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(h.length?"either ensure all objects of type "+h.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(d,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(o).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(c).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var ca=function(t){Xt(n,t);function n(e){e===void 0&&(e={});var i=t.call(this)||this;return i.watches=new Set,i.typenameDocumentCache=new Map,i.makeVar=aa,i.txCount=0,i.config=Wu(e),i.addTypename=!!i.config.addTypename,i.policies=new rm({cache:i,dataIdFromObject:i.config.dataIdFromObject,possibleTypes:i.config.possibleTypes,typePolicies:i.config.typePolicies}),i.init(),i}return n.prototype.init=function(){var e=this.data=new Lr.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},n.prototype.resetResultCache=function(e){var i=this,r=this.storeReader,o=this.config.fragments;this.storeWriter=new cm(this,this.storeReader=new qu({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:ia(this.config),canon:e?void 0:r&&r.canon,fragments:o}),o),this.maybeBroadcastWatch=or(function(c,p){return i.broadcastWatch(c,p)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(c){var p=c.optimistic?i.optimisticData:i.data;if(ar(p)){var f=c.optimistic,d=c.id,h=c.variables;return p.makeCacheKey(c.query,c.callback,Ci({optimistic:f,id:d,variables:h}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(c){return c.resetCaching()})},n.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},n.prototype.extract=function(e){return e===void 0&&(e=!1),(e?this.optimisticData:this.data).extract()},n.prototype.read=function(e){var i=e.returnPartialData,r=i===void 0?!1:i;try{return this.storeReader.diffQueryAgainstStore(M(M({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:r})).result||null}catch(o){if(o instanceof go)return null;throw o}},n.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{!--this.txCount&&e.broadcast!==!1&&this.broadcastWatches()}},n.prototype.modify=function(e){if(Wt.call(e,"id")&&!e.id)return!1;var i=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,i.modify(e.id||"ROOT_QUERY",e.fields)}finally{!--this.txCount&&e.broadcast!==!1&&this.broadcastWatches()}},n.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(M(M({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},n.prototype.watch=function(e){var i=this;return this.watches.size||Xu(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){i.watches.delete(e)&&!i.watches.size&&ds(i),i.maybeBroadcastWatch.forget(e)}},n.prototype.gc=function(e){Ci.reset();var i=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),i},n.prototype.retain=function(e,i){return(i?this.optimisticData:this.data).retain(e)},n.prototype.release=function(e,i){return(i?this.optimisticData:this.data).release(e)},n.prototype.identify=function(e){if(Pe(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(i){__DEV__&&K.warn(i)}},n.prototype.evict=function(e){if(!e.id){if(Wt.call(e,"id"))return!1;e=M(M({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{!--this.txCount&&e.broadcast!==!1&&this.broadcastWatches()}},n.prototype.reset=function(e){var i=this;return this.init(),Ci.reset(),e&&e.discardWatches?(this.watches.forEach(function(r){return i.maybeBroadcastWatch.forget(r)}),this.watches.clear(),ds(this)):this.broadcastWatches(),Promise.resolve()},n.prototype.removeOptimistic=function(e){var i=this.optimisticData.removeLayer(e);i!==this.optimisticData&&(this.optimisticData=i,this.broadcastWatches())},n.prototype.batch=function(e){var i=this,r=e.update,o=e.optimistic,c=o===void 0?!0:o,p=e.removeOptimistic,f=e.onWatchUpdated,d,h=function(C){var L=i,B=L.data,W=L.optimisticData;++i.txCount,C&&(i.data=i.optimisticData=C);try{return d=r(i)}finally{--i.txCount,i.data=B,i.optimisticData=W}},v=new Set;return f&&!this.txCount&&this.broadcastWatches(M(M({},e),{onWatchUpdated:function(C){return v.add(C),!1}})),typeof c=="string"?this.optimisticData=this.optimisticData.addLayer(c,h):c===!1?h(this.data):h(),typeof p=="string"&&(this.optimisticData=this.optimisticData.removeLayer(p)),f&&v.size?(this.broadcastWatches(M(M({},e),{onWatchUpdated:function(C,L){var B=f.call(this,C,L);return B!==!1&&v.delete(C),B}})),v.size&&v.forEach(function(C){return i.maybeBroadcastWatch.dirty(C)})):this.broadcastWatches(e),d},n.prototype.performTransaction=function(e,i){return this.batch({update:e,optimistic:i||i!==null})},n.prototype.transformDocument=function(e){if(this.addTypename){var i=this.typenameDocumentCache.get(e);return i||(i=nr(e),this.typenameDocumentCache.set(e,i),this.typenameDocumentCache.set(i,i)),i}return e},n.prototype.transformForLink=function(e){var i=this.config.fragments;return i?i.transform(e):e},n.prototype.broadcastWatches=function(e){var i=this;this.txCount||this.watches.forEach(function(r){return i.maybeBroadcastWatch(r,e)})},n.prototype.broadcastWatch=function(e,i){var r=e.lastDiff,o=this.diff(e);i&&(e.optimistic&&typeof i.optimistic=="string"&&(o.fromOptimisticTransaction=!0),i.onWatchUpdated&&i.onWatchUpdated.call(this,e,o,r)===!1)||(!r||!bt(r.result,o.result))&&e.callback(e.lastDiff=o,r)},n}(as);function um(t){return t.hasOwnProperty("graphQLErrors")}var tg=function(t){var n="";if(Yt(t.graphQLErrors)||Yt(t.clientErrors)){var e=(t.graphQLErrors||[]).concat(t.clientErrors||[]);e.forEach(function(i){var r=i?i.message:"Error message not found.";n+="".concat(r,`
`)})}return t.networkError&&(n+="".concat(t.networkError.message,`
`)),n=n.replace(/\n$/,""),n},lr=function(t){Xt(n,t);function n(e){var i=e.graphQLErrors,r=e.clientErrors,o=e.networkError,c=e.errorMessage,p=e.extraInfo,f=t.call(this,c)||this;return f.name="ApolloError",f.graphQLErrors=i||[],f.clientErrors=r||[],f.networkError=o||null,f.message=c||tg(f),f.extraInfo=p,f.__proto__=n.prototype,f}return n}(Error);var tt=function(t){return t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error",t}(tt||{});function Bn(t){return t?t<7:!1}var ig=Object.assign,ng=Object.hasOwnProperty,pa=function(t){Xt(n,t);function n(e){var i=e.queryManager,r=e.queryInfo,o=e.options,c=t.call(this,function(q){try{var z=q._subscription._observer;z&&!z.error&&(z.error=rg)}catch{}var ge=!c.observers.size;c.observers.add(q);var X=c.last;return X&&X.error?q.error&&q.error(X.error):X&&X.result&&q.next&&q.next(X.result),ge&&c.reobserve().catch(function(){}),function(){c.observers.delete(q)&&!c.observers.size&&c.tearDownQuery()}})||this;c.observers=new Set,c.subscriptions=new Set,c.queryInfo=r,c.queryManager=i,c.isTornDown=!1;var p=i.defaultOptions.watchQuery,f=p===void 0?{}:p,d=f.fetchPolicy,h=d===void 0?"cache-first":d,v=o.fetchPolicy,C=v===void 0?h:v,L=o.initialFetchPolicy,B=L===void 0?C==="standby"?h:C:L;c.options=M(M({},o),{initialFetchPolicy:B,fetchPolicy:C}),c.queryId=r.queryId||i.generateQueryId();var W=pn(c.query);return c.queryName=W&&W.name&&W.name.value,c}return Object.defineProperty(n.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),n.prototype.result=function(){var e=this;return new Promise(function(i,r){var o={next:function(p){i(p),e.observers.delete(o),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout(function(){c.unsubscribe()},0)},error:r},c=e.subscribe(o)})},n.prototype.getCurrentResult=function(e){e===void 0&&(e=!0);var i=this.getLastResult(!0),r=this.queryInfo.networkStatus||i&&i.networkStatus||tt.ready,o=M(M({},i),{loading:Bn(r),networkStatus:r}),c=this.options.fetchPolicy,p=c===void 0?"cache-first":c;if(!(p==="network-only"||p==="no-cache"||p==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var f=this.queryInfo.getDiff();(f.complete||this.options.returnPartialData)&&(o.data=f.result),bt(o.data,{})&&(o.data=void 0),f.complete?(delete o.partial,f.complete&&o.networkStatus===tt.loading&&(p==="cache-first"||p==="cache-only")&&(o.networkStatus=tt.ready,o.loading=!1)):o.partial=!0,__DEV__&&!f.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&Es(f.missing)}return e&&this.updateLastResult(o),o},n.prototype.isDifferentFromLastResult=function(e,i){return!this.last||!bt(this.last.result,e)||i&&!bt(this.last.variables,i)},n.prototype.getLast=function(e,i){var r=this.last;if(r&&r[e]&&(!i||bt(r.variables,this.variables)))return r[e]},n.prototype.getLastResult=function(e){return this.getLast("result",e)},n.prototype.getLastError=function(e){return this.getLast("error",e)},n.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},n.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},n.prototype.refetch=function(e){var i,r={pollInterval:0},o=this.options.fetchPolicy;if(o==="cache-and-network"?r.fetchPolicy=o:o==="no-cache"?r.fetchPolicy="no-cache":r.fetchPolicy="network-only",__DEV__&&e&&ng.call(e,"variables")){var c=ao(this.query),p=c.variableDefinitions;(!p||!p.some(function(f){return f.variable.name.value==="variables"}))&&__DEV__&&K.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat(((i=c.name)===null||i===void 0?void 0:i.value)||JSON.stringify(c),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return e&&!bt(this.options.variables,e)&&(r.variables=this.options.variables=M(M({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(r,tt.refetch)},n.prototype.fetchMore=function(e){var i=this,r=M(M({},e.query?e:M(M(M(M({},this.options),{query:this.query}),e),{variables:M(M({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),o=this.queryManager.generateQueryId(),c=this.queryInfo,p=c.networkStatus;c.networkStatus=tt.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var f=new Set;return this.queryManager.fetchQuery(o,r,tt.fetchMore).then(function(d){return i.queryManager.removeQuery(o),c.networkStatus===tt.fetchMore&&(c.networkStatus=p),i.queryManager.cache.batch({update:function(h){var v=e.updateQuery;v?h.updateQuery({query:i.query,variables:i.variables,returnPartialData:!0,optimistic:!1},function(C){return v(C,{fetchMoreResult:d.data,variables:r.variables})}):h.writeQuery({query:r.query,variables:r.variables,data:d.data})},onWatchUpdated:function(h){f.add(h.query)}}),d}).finally(function(){f.has(i.query)||ys(i)})},n.prototype.subscribeToMore=function(e){var i=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(o){var c=e.updateQuery;c&&i.updateQuery(function(p,f){var d=f.variables;return c(p,{subscriptionData:o,variables:d})})},error:function(o){if(e.onError){e.onError(o);return}__DEV__&&K.error("Unhandled GraphQL subscription error",o)}});return this.subscriptions.add(r),function(){i.subscriptions.delete(r)&&r.unsubscribe()}},n.prototype.setOptions=function(e){return this.reobserve(e)},n.prototype.setVariables=function(e){return bt(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},tt.setVariables):Promise.resolve())},n.prototype.updateQuery=function(e){var i=this.queryManager,r=i.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,o=e(r,{variables:this.variables});o&&(i.cache.writeQuery({query:this.options.query,data:o,variables:this.variables}),i.broadcastQueries())},n.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},n.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},n.prototype.applyNextFetchPolicy=function(e,i){if(i.nextFetchPolicy){var r=i.fetchPolicy,o=r===void 0?"cache-first":r,c=i.initialFetchPolicy,p=c===void 0?o:c;o==="standby"||(typeof i.nextFetchPolicy=="function"?i.fetchPolicy=i.nextFetchPolicy(o,{reason:e,options:i,observable:this,initialFetchPolicy:p}):e==="variables-changed"?i.fetchPolicy=p:i.fetchPolicy=i.nextFetchPolicy)}return i.fetchPolicy},n.prototype.fetch=function(e,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,i)},n.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var i=this,r=i.pollingInfo,o=i.options.pollInterval;if(!o){r&&(clearTimeout(r.timeout),delete this.pollingInfo);return}if(!(r&&r.interval===o)){__DEV__?K(o,"Attempted to start a polling query without a polling interval."):K(o,12);var c=r||(this.pollingInfo={});c.interval=o;var p=function(){e.pollingInfo&&(Bn(e.queryInfo.networkStatus)?f():e.reobserve({fetchPolicy:e.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},tt.poll).then(f,f))},f=function(){var d=e.pollingInfo;d&&(clearTimeout(d.timeout),d.timeout=setTimeout(p,d.interval))};f()}}},n.prototype.updateLastResult=function(e,i){return i===void 0&&(i=this.variables),this.last=M(M({},this.last),{result:this.queryManager.assumeImmutableResults?e:jo(e),variables:i}),Yt(e.errors)||delete this.last.error,this.last},n.prototype.reobserve=function(e,i){var r=this;this.isTornDown=!1;var o=i===tt.refetch||i===tt.fetchMore||i===tt.poll,c=this.options.variables,p=this.options.fetchPolicy,f=kn(this.options,e||{}),d=o?f:ig(this.options,f);o||(this.updatePolling(),e&&e.variables&&!bt(e.variables,c)&&d.fetchPolicy!=="standby"&&d.fetchPolicy===p&&(this.applyNextFetchPolicy("variables-changed",d),i===void 0&&(i=tt.setVariables)));var h=d.variables&&M({},d.variables),v=this.fetch(d,i),C={next:function(L){r.reportResult(L,h)},error:function(L){r.reportError(L,h)}};return o||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=v,this.observer=C),v.addObserver(C),v.promise},n.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},n.prototype.reportResult=function(e,i){var r=this.getLastError();(r||this.isDifferentFromLastResult(e,i))&&((r||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,i),rr(this.observers,"next",e))},n.prototype.reportError=function(e,i){var r=M(M({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:tt.error,loading:!1});this.updateLastResult(r,i),rr(this.observers,"error",this.last.error=e)},n.prototype.hasObservers=function(){return this.observers.size>0},n.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},n}(Ae);Ho(pa);function ys(t){var n=t.options,e=n.fetchPolicy,i=n.nextFetchPolicy;return e==="cache-and-network"||e==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=i,typeof i=="function"?i.apply(this,arguments):e}}):t.reobserve()}function rg(t){__DEV__&&K.error("Unhandled error",t.message,t.stack)}function Es(t){__DEV__&&t&&__DEV__&&K.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}var ua=function(){function t(n){var e=n.cache,i=n.client,r=n.resolvers,o=n.fragmentMatcher;this.cache=e,i&&(this.client=i),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(n){var e=this;this.resolvers=this.resolvers||{},Array.isArray(n)?n.forEach(function(i){e.resolvers=Al(e.resolvers,i)}):this.resolvers=Al(this.resolvers,n)},t.prototype.setResolvers=function(n){this.resolvers={},this.addResolvers(n)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(n){var e=n.document,i=n.remoteResult,r=n.context,o=n.variables,c=n.onlyRunForcedResolvers,p=c===void 0?!1:c;return Ui(this,void 0,void 0,function(){return Qi(this,function(f){return e?[2,this.resolveDocument(e,i.data,r,o,this.fragmentMatcher,p).then(function(d){return M(M({},i),{data:d.result})})]:[2,i]})})},t.prototype.setFragmentMatcher=function(n){this.fragmentMatcher=n},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(n){return Er(["client"],n)&&this.resolvers?n:null},t.prototype.serverQuery=function(n){return Vl(n)},t.prototype.prepareContext=function(n){var e=this.cache;return M(M({},n),{cache:e,getCacheKey:function(i){return e.identify(i)}})},t.prototype.addExportedVariables=function(n,e,i){return e===void 0&&(e={}),i===void 0&&(i={}),Ui(this,void 0,void 0,function(){return Qi(this,function(r){return n?[2,this.resolveDocument(n,this.buildRootValueFromCache(n,e)||{},this.prepareContext(i),e).then(function(o){return M(M({},e),o.exportedVariables)})]:[2,M({},e)]})})},t.prototype.shouldForceResolvers=function(n){var e=!1;return ri(n,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(e=i.arguments.some(function(r){return r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0}),e))return Jn}}}),e},t.prototype.buildRootValueFromCache=function(n,e){return this.cache.diff({query:Ml(n),variables:e,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(n,e,i,r,o,c){return i===void 0&&(i={}),r===void 0&&(r={}),o===void 0&&(o=function(){return!0}),c===void 0&&(c=!1),Ui(this,void 0,void 0,function(){var p,f,d,h,v,C,L,B,W;return Qi(this,function(q){return p=tr(n),f=er(n),d=Yn(f),h=p.operation,v=h?h.charAt(0).toUpperCase()+h.slice(1):"Query",C=this,L=C.cache,B=C.client,W={fragmentMap:d,context:M(M({},i),{cache:L,client:B}),variables:r,fragmentMatcher:o,defaultOperationType:v,exportedVariables:{},onlyRunForcedResolvers:c},[2,this.resolveSelectionSet(p.selectionSet,e,W).then(function(z){return{result:z,exportedVariables:W.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(n,e,i){return Ui(this,void 0,void 0,function(){var r,o,c,p,f,d=this;return Qi(this,function(h){return r=i.fragmentMap,o=i.context,c=i.variables,p=[e],f=function(v){return Ui(d,void 0,void 0,function(){var C,L;return Qi(this,function(B){return vn(v,c)?mi(v)?[2,this.resolveField(v,e,i).then(function(W){var q;typeof W<"u"&&p.push((q={},q[Vi(v)]=W,q))})]:(oo(v)?C=v:(C=r[v.name.value],__DEV__?K(C,"No fragment named ".concat(v.name.value)):K(C,11)),C&&C.typeCondition&&(L=C.typeCondition.name.value,i.fragmentMatcher(e,L,o))?[2,this.resolveSelectionSet(C.selectionSet,e,i).then(function(W){p.push(W)})]:[2]):[2]})})},[2,Promise.all(n.selections.map(f)).then(function(){return lo(p)})]})})},t.prototype.resolveField=function(n,e,i){return Ui(this,void 0,void 0,function(){var r,o,c,p,f,d,h,v,C,L=this;return Qi(this,function(B){return r=i.variables,o=n.name.value,c=Vi(n),p=o!==c,f=e[c]||e[o],d=Promise.resolve(f),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(n))&&(h=e.__typename||i.defaultOperationType,v=this.resolvers&&this.resolvers[h],v&&(C=v[p?o:c],C&&(d=Promise.resolve(Mr.withValue(this.cache,C,[e,Cn(n,r),i.context,{field:n,fragmentMap:i.fragmentMap}]))))),[2,d.then(function(W){if(W===void 0&&(W=f),n.directives&&n.directives.forEach(function(q){q.name.value==="export"&&q.arguments&&q.arguments.forEach(function(z){z.name.value==="as"&&z.value.kind==="StringValue"&&(i.exportedVariables[z.value.value]=W)})}),!n.selectionSet||W==null)return W;if(Array.isArray(W))return L.resolveSubSelectedArray(n,W,i);if(n.selectionSet)return L.resolveSelectionSet(n.selectionSet,W,i)})]})})},t.prototype.resolveSubSelectedArray=function(n,e,i){var r=this;return Promise.all(e.map(function(o){if(o===null)return null;if(Array.isArray(o))return r.resolveSubSelectedArray(n,o,i);if(n.selectionSet)return r.resolveSelectionSet(n.selectionSet,o,i)}))},t}();var Ar=new(Ai?WeakMap:Map);function Ts(t,n){var e=t[n];typeof e=="function"&&(t[n]=function(){return Ar.set(t,(Ar.get(t)+1)%1e15),e.apply(this,arguments)})}function mm(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var ma=function(){function t(n,e){e===void 0&&(e=n.generateQueryId()),this.queryId=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var i=this.cache=n.cache;Ar.has(i)||(Ar.set(i,0),Ts(i,"evict"),Ts(i,"modify"),Ts(i,"reset"))}return t.prototype.init=function(n){var e=n.networkStatus||tt.loading;return this.variables&&this.networkStatus!==tt.loading&&!bt(this.variables,n.variables)&&(e=tt.setVariables),bt(n.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:n.document,variables:n.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:e}),n.observableQuery&&this.setObservableQuery(n.observableQuery),n.lastRequestId&&(this.lastRequestId=n.lastRequestId),this},t.prototype.reset=function(){mm(this),this.dirty=!1},t.prototype.getDiff=function(n){n===void 0&&(n=this.variables);var e=this.getDiffOptions(n);if(this.lastDiff&&bt(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=n);var i=this.observableQuery;if(i&&i.options.fetchPolicy==="no-cache")return{complete:!1};var r=this.cache.diff(e);return this.updateLastDiff(r,e),r},t.prototype.updateLastDiff=function(n,e){this.lastDiff=n?{diff:n,options:e||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(n){var e;return n===void 0&&(n=this.variables),{query:this.document,variables:n,returnPartialData:!0,optimistic:!0,canonizeResults:(e=this.observableQuery)===null||e===void 0?void 0:e.options.canonizeResults}},t.prototype.setDiff=function(n){var e=this,i=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(n),!this.dirty&&!bt(i&&i.result,n&&n.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return e.notify()},0)))},t.prototype.setObservableQuery=function(n){var e=this;n!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=n,n?(n.queryInfo=this,this.listeners.add(this.oqListener=function(){var i=e.getDiff();i.fromOptimisticTransaction?n.observe():ys(n)})):delete this.oqListener)},t.prototype.notify=function(){var n=this;mm(this),this.shouldNotify()&&this.listeners.forEach(function(e){return e(n)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Bn(this.networkStatus)&&this.observableQuery){var n=this.observableQuery.options.fetchPolicy;if(n!=="cache-only"&&n!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(e){return e.unsubscribe()});var n=this.observableQuery;n&&n.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(n){var e=this;n===void 0&&(n=this.variables);var i=this.observableQuery;if(!(i&&i.options.fetchPolicy==="no-cache")){var r=M(M({},this.getDiffOptions(n)),{watcher:this,callback:function(o){return e.setDiff(o)}});(!this.lastWatch||!bt(r,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(n,e){var i=this.lastWrite;return!(i&&i.dmCount===Ar.get(this.cache)&&bt(e,i.variables)&&bt(n.data,i.result.data))},t.prototype.markResult=function(n,e,i,r){var o=this,c=new vi,p=Yt(n.errors)?n.errors.slice(0):[];if(this.reset(),"incremental"in n&&Yt(n.incremental)){var f=Uo(this.getDiff().result,n);n.data=f}else if("hasNext"in n&&n.hasNext){var d=this.getDiff();n.data=c.merge(d.result,n.data)}this.graphQLErrors=p,i.fetchPolicy==="no-cache"?this.updateLastDiff({result:n.data,complete:!0},this.getDiffOptions(i.variables)):r!==0&&(da(n,i.errorPolicy)?this.cache.performTransaction(function(h){if(o.shouldWrite(n,i.variables))h.writeQuery({query:e,data:n.data,variables:i.variables,overwrite:r===1}),o.lastWrite={result:n,variables:i.variables,dmCount:Ar.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){n.data=o.lastDiff.diff.result;return}var v=o.getDiffOptions(i.variables),C=h.diff(v);o.stopped||o.updateWatch(i.variables),o.updateLastDiff(C,v),C.complete&&(n.data=C.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=tt.ready},t.prototype.markError=function(n){return this.networkStatus=tt.error,this.lastWrite=void 0,this.reset(),n.graphQLErrors&&(this.graphQLErrors=n.graphQLErrors),n.networkError&&(this.networkError=n.networkError),n},t}();function da(t,n){n===void 0&&(n="none");var e=n==="ignore"||n==="all",i=!Fr(t);return!i&&e&&t.data&&(i=!0),i}var og=Object.prototype.hasOwnProperty,dm=function(){function t(n){var e=n.cache,i=n.link,r=n.defaultOptions,o=n.queryDeduplication,c=o===void 0?!1:o,p=n.onBroadcast,f=n.ssrMode,d=f===void 0?!1:f,h=n.clientAwareness,v=h===void 0?{}:h,C=n.localState,L=n.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Ai?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=e,this.link=i,this.defaultOptions=r||Object.create(null),this.queryDeduplication=c,this.clientAwareness=v,this.localState=C||new ua({cache:e}),this.ssrMode=d,this.assumeImmutableResults=!!L,(this.onBroadcast=p)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var n=this;this.queries.forEach(function(e,i){n.stopQueryNoBroadcast(i)}),this.cancelPendingFetches(__DEV__?new be("QueryManager stopped while query was in flight"):new be(13))},t.prototype.cancelPendingFetches=function(n){this.fetchCancelFns.forEach(function(e){return e(n)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(n){var e,i,r=n.mutation,o=n.variables,c=n.optimisticResponse,p=n.updateQueries,f=n.refetchQueries,d=f===void 0?[]:f,h=n.awaitRefetchQueries,v=h===void 0?!1:h,C=n.update,L=n.onQueryUpdated,B=n.fetchPolicy,W=B===void 0?((e=this.defaultOptions.mutate)===null||e===void 0?void 0:e.fetchPolicy)||"network-only":B,q=n.errorPolicy,z=q===void 0?((i=this.defaultOptions.mutate)===null||i===void 0?void 0:i.errorPolicy)||"none":q,ge=n.keepRootFields,X=n.context;return Ui(this,void 0,void 0,function(){var me,Fe,Oe,ye,De,Bt;return Qi(this,function(jt){switch(jt.label){case 0:return __DEV__?K(r,"mutation option is required. You must specify your GraphQL document in the mutation option."):K(r,14),__DEV__?K(W==="network-only"||W==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):K(W==="network-only"||W==="no-cache",15),me=this.generateMutationId(),Fe=this.transform(r),Oe=Fe.document,ye=Fe.hasClientExports,r=this.cache.transformForLink(Oe),o=this.getVariables(r,o),ye?[4,this.localState.addExportedVariables(r,o,X)]:[3,2];case 1:o=jt.sent(),jt.label=2;case 2:return De=this.mutationStore&&(this.mutationStore[me]={mutation:r,variables:o,loading:!0,error:null}),c&&this.markMutationOptimistic(c,{mutationId:me,document:r,variables:o,fetchPolicy:W,errorPolicy:z,context:X,updateQueries:p,update:C,keepRootFields:ge}),this.broadcastQueries(),Bt=this,[2,new Promise(function(Qn,cr){return $o(Bt.getObservableFromLink(r,M(M({},X),{optimisticResponse:c}),o,!1),function(di){if(Fr(di)&&z==="none")throw new lr({graphQLErrors:Qo(di)});De&&(De.loading=!1,De.error=null);var pr=M({},di);return typeof d=="function"&&(d=d(pr)),z==="ignore"&&Fr(pr)&&delete pr.errors,Bt.markMutationResult({mutationId:me,result:pr,document:r,variables:o,fetchPolicy:W,errorPolicy:z,context:X,update:C,updateQueries:p,awaitRefetchQueries:v,refetchQueries:d,removeOptimistic:c?me:void 0,onQueryUpdated:L,keepRootFields:ge})}).subscribe({next:function(di){Bt.broadcastQueries(),(!("hasNext"in di)||di.hasNext===!1)&&Qn(di)},error:function(di){De&&(De.loading=!1,De.error=di),c&&Bt.cache.removeOptimistic(me),Bt.broadcastQueries(),cr(di instanceof lr?di:new lr({networkError:di}))}})})]}})})},t.prototype.markMutationResult=function(n,e){var i=this;e===void 0&&(e=this.cache);var r=n.result,o=[],c=n.fetchPolicy==="no-cache";if(!c&&da(r,n.errorPolicy)){if(Pn(r)||o.push({result:r.data,dataId:"ROOT_MUTATION",query:n.document,variables:n.variables}),Pn(r)&&Yt(r.incremental)){var p=e.diff({id:"ROOT_MUTATION",query:this.transform(n.document).asQuery,variables:n.variables,optimistic:!1,returnPartialData:!0}),f=Uo(p.result,r);typeof f<"u"&&(r.data=f,o.push({result:f,dataId:"ROOT_MUTATION",query:n.document,variables:n.variables}))}var d=n.updateQueries;d&&this.queries.forEach(function(v,C){var L=v.observableQuery,B=L&&L.queryName;if(!(!B||!og.call(d,B))){var W=d[B],q=i.queries.get(C),z=q.document,ge=q.variables,X=e.diff({query:z,variables:ge,returnPartialData:!0,optimistic:!1}),me=X.result,Fe=X.complete;if(Fe&&me){var Oe=W(me,{mutationResult:r,queryName:z&&Ir(z)||void 0,queryVariables:ge});Oe&&o.push({result:Oe,dataId:"ROOT_QUERY",query:z,variables:ge})}}})}if(o.length>0||n.refetchQueries||n.update||n.onQueryUpdated||n.removeOptimistic){var h=[];if(this.refetchQueries({updateCache:function(v){c||o.forEach(function(W){return v.write(W)});var C=n.update,L=!Kp(r)||Pn(r)&&!r.hasNext;if(C){if(!c){var B=v.diff({id:"ROOT_MUTATION",query:i.transform(n.document).asQuery,variables:n.variables,optimistic:!1,returnPartialData:!0});B.complete&&(r=M(M({},r),{data:B.result}),"incremental"in r&&delete r.incremental,"hasNext"in r&&delete r.hasNext)}L&&C(v,r,{context:n.context,variables:n.variables})}!c&&!n.keepRootFields&&L&&v.modify({id:"ROOT_MUTATION",fields:function(W,q){var z=q.fieldName,ge=q.DELETE;return z==="__typename"?W:ge}})},include:n.refetchQueries,optimistic:!1,removeOptimistic:n.removeOptimistic,onQueryUpdated:n.onQueryUpdated||null}).forEach(function(v){return h.push(v)}),n.awaitRefetchQueries||n.onQueryUpdated)return Promise.all(h).then(function(){return r})}return Promise.resolve(r)},t.prototype.markMutationOptimistic=function(n,e){var i=this,r=typeof n=="function"?n(e.variables):n;return this.cache.recordOptimisticTransaction(function(o){try{i.markMutationResult(M(M({},e),{result:{data:r}}),o)}catch(c){__DEV__&&K.error(c)}},e.mutationId)},t.prototype.fetchQuery=function(n,e,i){return this.fetchQueryObservable(n,e,i).promise},t.prototype.getQueryStore=function(){var n=Object.create(null);return this.queries.forEach(function(e,i){n[i]={variables:e.variables,networkStatus:e.networkStatus,networkError:e.networkError,graphQLErrors:e.graphQLErrors}}),n},t.prototype.resetErrors=function(n){var e=this.queries.get(n);e&&(e.networkError=void 0,e.graphQLErrors=[])},t.prototype.transform=function(n){var e=this.transformCache;if(!e.has(n)){var i=this.cache.transformDocument(n),r=Ll(i),o=this.localState.clientQuery(i),c=r&&this.localState.serverQuery(r),p={document:i,hasClientExports:Il(i),hasForcedResolvers:this.localState.shouldForceResolvers(i),clientQuery:o,serverQuery:c,defaultVars:ir(pn(i)),asQuery:M(M({},i),{definitions:i.definitions.map(function(d){return d.kind==="OperationDefinition"&&d.operation!=="query"?M(M({},d),{operation:"query"}):d})})},f=function(d){d&&!e.has(d)&&e.set(d,p)};f(n),f(i),f(o),f(c)}return e.get(n)},t.prototype.getVariables=function(n,e){return M(M({},this.transform(n).defaultVars),e)},t.prototype.watchQuery=function(n){n=M(M({},n),{variables:this.getVariables(n.query,n.variables)}),typeof n.notifyOnNetworkStatusChange>"u"&&(n.notifyOnNetworkStatusChange=!1);var e=new ma(this),i=new pa({queryManager:this,queryInfo:e,options:n});return this.queries.set(i.queryId,e),e.init({document:i.query,observableQuery:i,variables:i.variables}),i},t.prototype.query=function(n,e){var i=this;return e===void 0&&(e=this.generateQueryId()),__DEV__?K(n.query,"query option is required. You must specify your GraphQL document in the query option."):K(n.query,16),__DEV__?K(n.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):K(n.query.kind==="Document",17),__DEV__?K(!n.returnPartialData,"returnPartialData option only supported on watchQuery."):K(!n.returnPartialData,18),__DEV__?K(!n.pollInterval,"pollInterval option only supported on watchQuery."):K(!n.pollInterval,19),this.fetchQuery(e,n).finally(function(){return i.stopQuery(e)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(n){this.stopQueryInStoreNoBroadcast(n),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(n){var e=this.queries.get(n);e&&e.stop()},t.prototype.clearStore=function(n){return n===void 0&&(n={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new be("Store reset while query was in flight (not completed in link chain)"):new be(20)),this.queries.forEach(function(e){e.observableQuery?e.networkStatus=tt.loading:e.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(n)},t.prototype.getObservableQueries=function(n){var e=this;n===void 0&&(n="active");var i=new Map,r=new Map,o=new Set;return Array.isArray(n)&&n.forEach(function(c){typeof c=="string"?r.set(c,!1):wl(c)?r.set(e.transform(c).document,!1):et(c)&&c.query&&o.add(c)}),this.queries.forEach(function(c,p){var f=c.observableQuery,d=c.document;if(f){if(n==="all"){i.set(p,f);return}var h=f.queryName,v=f.options.fetchPolicy;if(v==="standby"||n==="active"&&!f.hasObservers())return;(n==="active"||h&&r.has(h)||d&&r.has(d))&&(i.set(p,f),h&&r.set(h,!0),d&&r.set(d,!0))}}),o.size&&o.forEach(function(c){var p=po("legacyOneTimeQuery"),f=e.getQuery(p).init({document:c.query,variables:c.variables}),d=new pa({queryManager:e,queryInfo:f,options:M(M({},c),{fetchPolicy:"network-only"})});K(d.queryId===p),f.setObservableQuery(d),i.set(p,d)}),__DEV__&&r.size&&r.forEach(function(c,p){c||__DEV__&&K.warn("Unknown query ".concat(typeof p=="string"?"named ":"").concat(JSON.stringify(p,null,2)," requested in refetchQueries options.include array"))}),i},t.prototype.reFetchObservableQueries=function(n){var e=this;n===void 0&&(n=!1);var i=[];return this.getObservableQueries(n?"all":"active").forEach(function(r,o){var c=r.options.fetchPolicy;r.resetLastResults(),(n||c!=="standby"&&c!=="cache-only")&&i.push(r.refetch()),e.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(i)},t.prototype.setObservableQuery=function(n){this.getQuery(n.queryId).setObservableQuery(n)},t.prototype.startGraphQLSubscription=function(n){var e=this,i=n.query,r=n.fetchPolicy,o=n.errorPolicy,c=n.variables,p=n.context,f=p===void 0?{}:p;i=this.transform(i).document,c=this.getVariables(i,c);var d=function(v){return e.getObservableFromLink(i,f,v).map(function(C){if(r!=="no-cache"&&(da(C,o)&&e.cache.write({query:i,result:C.data,dataId:"ROOT_SUBSCRIPTION",variables:v}),e.broadcastQueries()),Fr(C))throw new lr({graphQLErrors:C.errors});return C})};if(this.transform(i).hasClientExports){var h=this.localState.addExportedVariables(i,c,f).then(d);return new Ae(function(v){var C=null;return h.then(function(L){return C=L.subscribe(v)},v.error),function(){return C&&C.unsubscribe()}})}return d(c)},t.prototype.stopQuery=function(n){this.stopQueryNoBroadcast(n),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(n){this.stopQueryInStoreNoBroadcast(n),this.removeQuery(n)},t.prototype.removeQuery=function(n){this.fetchCancelFns.delete(n),this.queries.has(n)&&(this.getQuery(n).stop(),this.queries.delete(n))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(n){return n.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(n,e,i,r){var o=this,c;r===void 0&&(r=(c=e?.queryDeduplication)!==null&&c!==void 0?c:this.queryDeduplication);var p,f=this.transform(n).serverQuery;if(f){var d=this,h=d.inFlightLinkObservables,v=d.link,C={query:f,variables:i,operationName:Ir(f)||void 0,context:this.prepareContext(M(M({},e),{forceFetch:!r}))};if(e=C.context,r){var L=h.get(f)||new Map;h.set(f,L);var B=Ci(i);if(p=L.get(B),!p){var W=new br([Or(v,C)]);L.set(B,p=W),W.beforeNext(function(){L.delete(B)&&L.size<1&&h.delete(f)})}}else p=new br([Or(v,C)])}else p=new br([Ae.of({data:{}})]),e=this.prepareContext(e);var q=this.transform(n).clientQuery;return q&&(p=$o(p,function(z){return o.localState.runResolvers({document:q,remoteResult:z,context:e,variables:i})})),p},t.prototype.getResultsFromLink=function(n,e,i){var r=n.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(this.transform(n.document).document);return $o(this.getObservableFromLink(o,i.context,i.variables),function(c){var p=Qo(c),f=p.length>0;if(r>=n.lastRequestId){if(f&&i.errorPolicy==="none")throw n.markError(new lr({graphQLErrors:p}));n.markResult(c,o,i,e),n.markReady()}var d={data:c.data,loading:!1,networkStatus:tt.ready};return f&&i.errorPolicy!=="ignore"&&(d.errors=p,d.networkStatus=tt.error),d},function(c){var p=um(c)?c:new lr({networkError:c});throw r>=n.lastRequestId&&n.markError(p),p})},t.prototype.fetchQueryObservable=function(n,e,i){var r=this;i===void 0&&(i=tt.loading);var o=this.transform(e.query).document,c=this.getVariables(o,e.variables),p=this.getQuery(n),f=this.defaultOptions.watchQuery,d=e.fetchPolicy,h=d===void 0?f&&f.fetchPolicy||"cache-first":d,v=e.errorPolicy,C=v===void 0?f&&f.errorPolicy||"none":v,L=e.returnPartialData,B=L===void 0?!1:L,W=e.notifyOnNetworkStatusChange,q=W===void 0?!1:W,z=e.context,ge=z===void 0?{}:z,X=Object.assign({},e,{query:o,variables:c,fetchPolicy:h,errorPolicy:C,returnPartialData:B,notifyOnNetworkStatusChange:q,context:ge}),me=function(ye){X.variables=ye;var De=r.fetchQueryByPolicy(p,X,i);return X.fetchPolicy!=="standby"&&De.length>0&&p.observableQuery&&p.observableQuery.applyNextFetchPolicy("after-fetch",e),De},Fe=function(){return r.fetchCancelFns.delete(n)};this.fetchCancelFns.set(n,function(ye){Fe(),setTimeout(function(){return Oe.cancel(ye)})});var Oe=new br(this.transform(X.query).hasClientExports?this.localState.addExportedVariables(X.query,X.variables,X.context).then(me):me(X.variables));return Oe.promise.then(Fe,Fe),Oe},t.prototype.refetchQueries=function(n){var e=this,i=n.updateCache,r=n.include,o=n.optimistic,c=o===void 0?!1:o,p=n.removeOptimistic,f=p===void 0?c?po("refetchQueries"):void 0:p,d=n.onQueryUpdated,h=new Map;r&&this.getObservableQueries(r).forEach(function(C,L){h.set(L,{oq:C,lastDiff:e.getQuery(L).getDiff()})});var v=new Map;return i&&this.cache.batch({update:i,optimistic:c&&f||!1,removeOptimistic:f,onWatchUpdated:function(C,L,B){var W=C.watcher instanceof ma&&C.watcher.observableQuery;if(W){if(d){h.delete(W.queryId);var q=d(W,L,B);return q===!0&&(q=W.refetch()),q!==!1&&v.set(W,q),q}d!==null&&h.set(W.queryId,{oq:W,lastDiff:B,diff:L})}}}),h.size&&h.forEach(function(C,L){var B=C.oq,W=C.lastDiff,q=C.diff,z;if(d){if(!q){var ge=B.queryInfo;ge.reset(),q=ge.getDiff()}z=d(B,q,W)}(!d||z===!0)&&(z=B.refetch()),z!==!1&&v.set(B,z),L.indexOf("legacyOneTimeQuery")>=0&&e.stopQueryNoBroadcast(L)}),f&&this.cache.removeOptimistic(f),v},t.prototype.fetchQueryByPolicy=function(n,e,i){var r=this,o=e.query,c=e.variables,p=e.fetchPolicy,f=e.refetchWritePolicy,d=e.errorPolicy,h=e.returnPartialData,v=e.context,C=e.notifyOnNetworkStatusChange,L=n.networkStatus;n.init({document:this.transform(o).document,variables:c,networkStatus:i});var B=function(){return n.getDiff(c)},W=function(me,Fe){Fe===void 0&&(Fe=n.networkStatus||tt.loading);var Oe=me.result;__DEV__&&!h&&!bt(Oe,{})&&Es(me.missing);var ye=function(De){return Ae.of(M({data:De,loading:Bn(Fe),networkStatus:Fe},me.complete?null:{partial:!0}))};return Oe&&r.transform(o).hasForcedResolvers?r.localState.runResolvers({document:o,remoteResult:{data:Oe},context:v,variables:c,onlyRunForcedResolvers:!0}).then(function(De){return ye(De.data||void 0)}):ye(Oe)},q=p==="no-cache"?0:i===tt.refetch&&f!=="merge"?1:2,z=function(){return r.getResultsFromLink(n,q,{variables:c,context:v,fetchPolicy:p,errorPolicy:d})},ge=C&&typeof L=="number"&&L!==i&&Bn(i);switch(p){default:case"cache-first":{var X=B();return X.complete?[W(X,n.markReady())]:h||ge?[W(X),z()]:[z()]}case"cache-and-network":{var X=B();return X.complete||h||ge?[W(X),z()]:[z()]}case"cache-only":return[W(B(),n.markReady())];case"network-only":return ge?[W(B()),z()]:[z()];case"no-cache":return ge?[W(n.getDiff()),z()]:[z()];case"standby":return[]}},t.prototype.getQuery=function(n){return n&&!this.queries.has(n)&&this.queries.set(n,new ma(this,n)),this.queries.get(n)},t.prototype.prepareContext=function(n){n===void 0&&(n={});var e=this.localState.prepareContext(n);return M(M({},e),{clientAwareness:this.clientAwareness})},t}();var fm=!1;var fa=function(){function t(n){var e=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=n.uri,r=n.credentials,o=n.headers,c=n.cache,p=n.ssrMode,f=p===void 0?!1:p,d=n.ssrForceFetchDelay,h=d===void 0?0:d,v=n.connectToDevTools,C=v===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:v,L=n.queryDeduplication,B=L===void 0?!0:L,W=n.defaultOptions,q=n.assumeImmutableResults,z=q===void 0?!1:q,ge=n.resolvers,X=n.typeDefs,me=n.fragmentMatcher,Fe=n.name,Oe=n.version,ye=n.link;if(ye||(ye=i?new Yl({uri:i,credentials:r,headers:o}):Pi.empty()),!c)throw __DEV__?new be(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new be(9);if(this.link=ye,this.cache=c,this.disableNetworkFetches=f||h>0,this.queryDeduplication=B,this.defaultOptions=W||Object.create(null),this.typeDefs=X,h&&setTimeout(function(){return e.disableNetworkFetches=!1},h),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),C&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!fm&&C&&__DEV__&&(fm=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var De=window.navigator,Bt=De&&De.userAgent,jt=void 0;typeof Bt=="string"&&(Bt.indexOf("Chrome/")>-1?jt="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":Bt.indexOf("Firefox/")>-1&&(jt="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),jt&&__DEV__&&K.log("Download the Apollo DevTools for a better development experience: "+jt)}this.version=eu,this.localState=new ua({cache:c,client:this,resolvers:ge,fragmentMatcher:me}),this.queryManager=new dm({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:B,ssrMode:f,clientAwareness:{name:Fe,version:Oe},localState:this.localState,assumeImmutableResults:z,onBroadcast:C?function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.getQueryStore(),mutations:e.queryManager.mutationStore||{}},dataWithOptimisticResults:e.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(n){return this.defaultOptions.watchQuery&&(n=uo(this.defaultOptions.watchQuery,n)),this.disableNetworkFetches&&(n.fetchPolicy==="network-only"||n.fetchPolicy==="cache-and-network")&&(n=M(M({},n),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(n)},t.prototype.query=function(n){return this.defaultOptions.query&&(n=uo(this.defaultOptions.query,n)),__DEV__?K(n.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):K(n.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&n.fetchPolicy==="network-only"&&(n=M(M({},n),{fetchPolicy:"cache-first"})),this.queryManager.query(n)},t.prototype.mutate=function(n){return this.defaultOptions.mutate&&(n=uo(this.defaultOptions.mutate,n)),this.queryManager.mutate(n)},t.prototype.subscribe=function(n){return this.queryManager.startGraphQLSubscription(n)},t.prototype.readQuery=function(n,e){return e===void 0&&(e=!1),this.cache.readQuery(n,e)},t.prototype.readFragment=function(n,e){return e===void 0&&(e=!1),this.cache.readFragment(n,e)},t.prototype.writeQuery=function(n){this.cache.writeQuery(n),this.queryManager.broadcastQueries()},t.prototype.writeFragment=function(n){this.cache.writeFragment(n),this.queryManager.broadcastQueries()},t.prototype.__actionHookForDevTools=function(n){this.devToolsHookCb=n},t.prototype.__requestRaw=function(n){return Or(this.link,n)},t.prototype.resetStore=function(){var n=this;return Promise.resolve().then(function(){return n.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(n.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return n.reFetchObservableQueries()})},t.prototype.clearStore=function(){var n=this;return Promise.resolve().then(function(){return n.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(n.clearStoreCallbacks.map(function(e){return e()}))})},t.prototype.onResetStore=function(n){var e=this;return this.resetStoreCallbacks.push(n),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter(function(i){return i!==n})}},t.prototype.onClearStore=function(n){var e=this;return this.clearStoreCallbacks.push(n),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter(function(i){return i!==n})}},t.prototype.reFetchObservableQueries=function(n){return this.queryManager.reFetchObservableQueries(n)},t.prototype.refetchQueries=function(n){var e=this.queryManager.refetchQueries(n),i=[],r=[];e.forEach(function(c,p){i.push(p),r.push(c)});var o=Promise.all(r);return o.queries=i,o.results=r,o.catch(function(c){__DEV__&&K.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(c))}),o},t.prototype.getObservableQueries=function(n){return n===void 0&&(n="active"),this.queryManager.getObservableQueries(n)},t.prototype.extract=function(n){return this.cache.extract(n)},t.prototype.restore=function(n){return this.cache.restore(n)},t.prototype.addResolvers=function(n){this.localState.addResolvers(n)},t.prototype.setResolvers=function(n){this.localState.setResolvers(n)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(n){this.localState.setFragmentMatcher(n)},t.prototype.setLink=function(n){this.link=this.queryManager.link=n},t}();var ha=new Map,Is=new Map,hm=!0,_a=!1;function _m(t){return t.replace(/[\s,]+/g," ").trim()}function ag(t){return _m(t.source.body.substring(t.start,t.end))}function lg(t){var n=new Set,e=[];return t.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var r=i.name.value,o=ag(i.loc),c=Is.get(r);c&&!c.has(o)?hm&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):c||Is.set(r,c=new Set),c.add(o),n.has(o)||(n.add(o),e.push(i))}else e.push(i)}),M(M({},t),{definitions:e})}function sg(t){var n=new Set(t.definitions);n.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(r){var o=i[r];o&&typeof o=="object"&&n.add(o)})});var e=t.loc;return e&&(delete e.startToken,delete e.endToken),t}function cg(t){var n=_m(t);if(!ha.has(n)){var e=No(t,{experimentalFragmentVariables:_a,allowLegacyFragmentVariables:_a});if(!e||e.kind!=="Document")throw new Error("Not a valid GraphQL document.");ha.set(n,sg(lg(e)))}return ha.get(n)}function jn(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];typeof t=="string"&&(t=[t]);var i=t[0];return n.forEach(function(r,o){r&&r.kind==="Document"?i+=r.loc.source.body:i+=r,i+=t[o+1]}),cg(i)}function gm(){ha.clear(),Is.clear()}function vm(){hm=!1}function Cm(){_a=!0}function Sm(){_a=!1}var So={gql:jn,resetCaches:gm,disableFragmentWarnings:vm,enableExperimentalFragmentVariables:Cm,disableExperimentalFragmentVariables:Sm};(function(t){t.gql=So.gql,t.resetCaches=So.resetCaches,t.disableFragmentWarnings=So.disableFragmentWarnings,t.enableExperimentalFragmentVariables=So.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=So.disableExperimentalFragmentVariables})(jn||(jn={}));jn.default=jn;dp(zn?"log":"silent");function ym(t){return new In(n=>(t().then(e=>{n.closed||(n.next(e),n.complete())},e=>{n.closed||n.error(e)}),()=>n.unsubscribe()))}function pg(t,n){return n?t.pipe(Dc({loading:!0}),_e(e=>Io(Re({},e),{loading:!!e.loading}))):t.pipe(_e(e=>Io(Re({},e),{loading:!1})))}var ws=class{zone;constructor(n){this.zone=n}now=Date.now?Date.now:()=>+new Date;schedule(n,e=0,i){return this.zone.run(()=>Fc.schedule(n,e,i))}};function bs(t){return t[bc]=()=>t,t}function Fs(t,n){return t.pipe(Oc(new ws(n)))}function ug(t){return function(e){return new In(function(r){let o=t.getCurrentResult(),{loading:c,errors:p,error:f,partial:d,data:h}=o,{partialRefetch:v,fetchPolicy:C}=t.options,L=p||f;return v&&d&&(!h||Object.keys(h).length===0)&&C!=="cache-only"&&!c&&!L&&r.next(Io(Re({},o),{loading:!0,networkStatus:tt.loading})),e.subscribe(r)})}}var Os=class{obsQuery;valueChanges;queryId;constructor(n,e,i){this.obsQuery=n;let r=Fs(xo(bs(this.obsQuery)),e);this.valueChanges=i.useInitialLoading?r.pipe(ug(this.obsQuery)):r,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(n){return this.obsQuery.refetch(n)}fetchMore(n){return this.obsQuery.fetchMore(n)}subscribeToMore(n){return this.obsQuery.subscribeToMore(n)}updateQuery(n){return this.obsQuery.updateQuery(n)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(n){return this.obsQuery.startPolling(n)}setOptions(n){return this.obsQuery.setOptions(n)}setVariables(n){return this.obsQuery.setVariables(n)}},mg=new xn("APOLLO_FLAGS"),Ds=new xn("APOLLO_OPTIONS"),dg=new xn("APOLLO_NAMED_OPTIONS"),ga=class{ngZone;flags;_client;useInitialLoading;useMutationLoading;constructor(n,e,i){this.ngZone=n,this.flags=e,this._client=i,this.useInitialLoading=e?.useInitialLoading??!1,this.useMutationLoading=e?.useMutationLoading??!1}watchQuery(n){return new Os(this.ensureClient().watchQuery(Re({},n)),this.ngZone,Re({useInitialLoading:this.useInitialLoading},n))}query(n){return ym(()=>this.ensureClient().query(Re({},n)))}mutate(n){return pg(ym(()=>this.ensureClient().mutate(Re({},n))),n.useMutationLoading??this.useMutationLoading)}watchFragment(n,e){let i=xo(bs(this.ensureClient().watchFragment(Re({},n))));return e&&e.useZone!==!0?i:Fs(i,this.ngZone)}subscribe(n,e){let i=xo(bs(this.ensureClient().subscribe(Re({},n))));return e&&e.useZone!==!0?i:Fs(i,this.ngZone)}get client(){return this.ensureClient()}set client(n){if(this._client)throw new Error("Client has been already defined");this._client=n}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(this._client)return!0;throw new Error("Client has not been defined yet")}},Em=(()=>{class t extends ga{map=new Map;constructor(e,i,r,o){if(super(e,o),i&&this.createDefault(i),r&&typeof r=="object"){for(let c in r)if(r.hasOwnProperty(c)){let p=r[c];this.create(p,c)}}}create(e,i){xs(i)?this.createNamed(i,e):this.createDefault(e)}default(){return this}use(e){return xs(e)?this.map.get(e):this.default()}createDefault(e){if(this._client)throw new Error("Apollo has been already created.");this.client=this.ngZone.runOutsideAngular(()=>new fa(e))}createNamed(e,i){if(this.map.has(e))throw new Error(`Client ${e} has been already created`);this.map.set(e,new ga(this.ngZone,this.flags,this.ngZone.runOutsideAngular(()=>new fa(i))))}removeClient(e){xs(e)?this.map.delete(e):this._client=void 0}static \u0275fac=function(i){return new(i||t)(se(Rc),se(Ds,8),se(dg,8),se(mg,8))};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})();function xs(t){return!!t&&t!=="default"}var fg=jn,Tm=fg;var _g=(t,n,e)=>{let i=["POST","PUT","PATCH"].indexOf(t.method.toUpperCase())!==-1,r=d=>["variables","extensions"].indexOf(d.toLowerCase())!==-1,o=t.body.length,c=t.options&&t.options.useMultipart,p;if(c){if(o)return new In(d=>d.error(new Error("File upload is not available when combined with Batching")));if(!i)return new In(d=>d.error(new Error("File upload is not available when GET is used")));if(!e)return new In(d=>d.error(new Error(`To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink's options`)));p=e(t.body),c=!!p.files.size}let f={};if(o){if(!i)return new In(d=>d.error(new Error("Batching is not available for GET requests")));f={body:t.body}}else{let d=c?p.clone:t.body;i?f={body:d}:f={params:Object.keys(t.body).reduce((v,C)=>{let L=t.body[C];return v[C]=r(C)?JSON.stringify(L):L,v},{})}}if(c&&i){let d=new FormData;d.append("operations",JSON.stringify(f.body));let h={},v=p.files,C=0;v.forEach(L=>{h[++C]=L}),d.append("map",JSON.stringify(h)),C=0,v.forEach((L,B)=>{d.append(++C+"",B,B.name)}),f.body=d}return n.request(t.method,t.url,Re(Re({observe:"response",responseType:"json",reportProgress:!1},f),t.options))},gg=(t,n)=>t&&n?n.keys().reduce((i,r)=>i.set(r,n.getAll(r)),t):n||t;function vg(...t){return t.find(n=>typeof n<"u")}function Cg(t){let n=t.headers&&t.headers instanceof pl?t.headers:new pl(t.headers);if(t.clientAwareness){let{name:e,version:i}=t.clientAwareness;e&&!n.has("apollographql-client-name")&&(n=n.set("apollographql-client-name",e)),i&&!n.has("apollographql-client-version")&&(n=n.set("apollographql-client-version",i))}return n}var Sg={batchInterval:10,batchMax:10,uri:"graphql",method:"POST",withCredentials:!1,includeQuery:!0,includeExtensions:!1,useMultipart:!1};function Pr(t,n,e){return vg(t[e],n[e],Sg[e])}var Rs=class extends Pi{httpClient;options;requester;print=yr;constructor(n,e){super(),this.httpClient=n,this.options=e,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=i=>new Ae(r=>{let o=i.getContext(),c=Pr(o,this.options,"method"),p=Pr(o,this.options,"includeQuery"),f=Pr(o,this.options,"includeExtensions"),d=Pr(o,this.options,"uri"),h=Pr(o,this.options,"withCredentials"),v=Pr(o,this.options,"useMultipart"),C=this.options.useGETForQueries===!0,L=i.query.definitions.some(z=>z.kind==="OperationDefinition"&&z.operation==="query");C&&L&&(c="GET");let B={method:c,url:typeof d=="function"?d(i):d,body:{operationName:i.operationName,variables:i.variables},options:{withCredentials:h,useMultipart:v,headers:this.options.headers}};f&&(B.body.extensions=i.extensions),p&&(B.body.query=this.print(i.query));let W=Cg(o);B.options.headers=gg(B.options.headers,W);let q=_g(B,this.httpClient,this.options.extractFiles).subscribe({next:z=>{i.setContext({response:z}),r.next(z.body)},error:z=>r.error(z),complete:()=>r.complete()});return()=>{q.closed||q.unsubscribe()}})}request(n){return this.requester(n)}},Im=(()=>{class t{httpClient;constructor(e){this.httpClient=e}create(e){return new Rs(this.httpClient,e)}static \u0275fac=function(i){return new(i||t)(se(Ue))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bm=J(Yr()),Fm=J(ii());var Ls=J(ii());var xm=J(gi());var yg=t=>({expander:t}),Eg=t=>({checkbox:t});function Tg(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function Ig(t,n){t&1&&ve(0)}function xg(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function wg(t,n){t&1&&ve(0)}function bg(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,xg,5,2,"ng-template",null,1,R)(3,wg,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,Eg,e))}}function Fg(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function Og(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,Tg,2,1,"ng-template",null,0,R)(5,Ig,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,bg,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,Fg,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,yg,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var va=(()=>{class t{constructor(e){this.dialogService=e,this.filterChanged=new xe,this.showAllButtonClicked=new xe}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,xm.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(e){return e.map(i=>i.value)}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-basic-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,Og,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Rg=["*"];function Lg(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function Mg(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var wm=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Ls.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Ls.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-basic-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,va,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:Rg,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,Lg,4,5,"div",3),l(),_(3,Mg,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,ut],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background-color:var(--nui-color-bg-accordion_header,rgba(17, 17, 17, .06));height:30px;padding-left:10px;color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));line-height:14px;font-size:11px}"]})}}return t})();function Ag(t,n){t&1&&(a(0,"div",5),E(1,"nui-image",6),a(2,"p",7),s(3,"No data to show"),l()()),t&2&&(u(),m("isWatermark",!0))}function Pg(t,n){if(t&1&&(a(0,"div"),s(1),l(),a(2,"div"),s(3),l()),t&2){let e=n.item;u(),w(e.color),u(2),w(e.status)}}function kg(t,n){if(t&1){let e=G();a(0,"app-basic-filter-group",8),x("filterChanged",function(r){S(e);let o=g();return y(o.changeFilters(r))}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function Ng(t,n){if(t&1&&(a(0,"div"),E(1,"nui-repeat",9),l()),t&2){let e=g(),i=O(3);u(),m("itemsSource",e.filteringState.repeat.itemsSource)("repeatItemTemplateRef",i)}}var Gg=[{color:"regular-azure",status:"Critical"},{color:"regular-black",status:"Warning"},{color:"regular-blue",status:"Up"},{color:"regular-yellow",status:"Critical"},{color:"regular-yellow",status:"Warning"},{color:"regular-black",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Critical"}],Om=(()=>{class t{constructor(e){this.dataSourceService=e,this.filterGroupItems=[{id:"color",title:"Color",expanded:!0,allFilterOptions:[{value:"azure",displayValue:"Azure FilterGroup Basic Example",count:3},{value:"black",displayValue:"Black",count:2},{value:"blue",displayValue:"Blue FilterGroup Basic Example",count:3},{value:"yellow",displayValue:"Yellow",count:2}],selectedFilterValues:[]},{id:"status",title:"Status",allFilterOptions:[{value:"warning",displayValue:"Warning",count:2},{value:"critical",displayValue:"Critical",count:2},{value:"up",displayValue:"Up",count:5}],selectedFilterValues:[]},{id:"vendor",title:"Vendors",allFilterOptions:[],selectedFilterValues:[]}],this.filteringState={repeat:{itemsSource:[]},color:[],status:[]},this.dataSourceService.setData(Gg)}ngAfterViewInit(){this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.filteringState=e,this.recalculateCounts(e)}),this.dataSourceService.applyFilters()}changeFilters(e){this.dataSourceService.applyFilters()}hasItems(){return!(0,Fm.default)((0,bm.default)(this,"filteringState.repeat.itemsSource"))}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]})})}ngOnDestroy(){this.outputsSubscription&&this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-basic-filter-group-composite-example"]],standalone:!1,features:[pe([{provide:P,useClass:pi}])],decls:10,vars:3,consts:[["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterChanged","filterGroupItem"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(i,r){if(i&1&&(_(0,Ag,4,1,"ng-template",null,0,R)(2,Pg,4,2,"ng-template",null,1,R),a(4,"nui-panel")(5,"div",2)(6,"app-basic-filter-groups-wrapper"),_(7,kg,1,1,"app-basic-filter-group",3),l()(),a(8,"div"),_(9,Ng,2,2,"div",4),l()()),i&2){let o=O(1);u(7),m("ngForOf",r.filterGroupItems),u(2),m("ngIf",r.hasItems())("ngIfElse",o)}},dependencies:[Y,k,we,ft,wm,va,On],encapsulation:2})}}return t})();var Lm=J(Ti()),Mm=J(Li());var Vm=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,Lm.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,Mm.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Am=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne]})}}return t})();var Pm=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[Vm],imports:[ne,it,wn,_t,Am,Ze,it]})}}return t})();var jm=J(Yr()),$m=J(ii());var km=J(gi());var Qg=t=>({expander:t}),qg=t=>({checkbox:t});function zg(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function Xg(t,n){t&1&&ve(0)}function Kg(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function Jg(t,n){t&1&&ve(0)}function Yg(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,Kg,5,2,"ng-template",null,1,R)(3,Jg,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,qg,e))}}function Zg(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function ev(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,zg,2,1,"ng-template",null,0,R)(5,Xg,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,Yg,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,Zg,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,Qg,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var kr=(()=>{class t{constructor(e){this.dialogService=e,this.filterChanged=new xe,this.showAllButtonClicked=new xe}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,km.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(e){return e.map(i=>i.value)}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-custom-data-source-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,ev,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,We,Te,dt,mt],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Nm=J(Yr()),Vs=J(ii());var iv=[{color:"regular-azure",status:"Critical"},{color:"regular-black",status:"Warning"},{color:"regular-blue",status:"Up"},{color:"regular-yellow",status:"Critical"},{color:"regular-yellow",status:"Warning"},{color:"regular-black",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Critical"}],nv=[{id:"color",title:"Color",expanded:!0,allFilterOptions:[{value:"azure",displayValue:"Azure",count:3},{value:"black",displayValue:"Black",count:2},{value:"blue",displayValue:"Blue",count:3},{value:"yellow",displayValue:"Yellow",count:2}],selectedFilterValues:[]},{id:"status",title:"Status",allFilterOptions:[{value:"warning",displayValue:"Warning",count:2},{value:"critical",displayValue:"Critical",count:2},{value:"up",displayValue:"Up",count:5}],selectedFilterValues:[]},{id:"vendor",title:"Vendors",allFilterOptions:[],selectedFilterValues:[]}],yo=(()=>{class t{constructor(){this.receiveFilteredDataSubject=new le,this.getFilteredDataSubject=new le}getData(e){return T(this,null,function*(){return this.getFilteredDataSubject.next(e),new Promise(i=>{this.receiveFilteredDataSubject.subscribe(r=>{i(r)})})})}receiveFilteredData(e){this.receiveFilteredDataSubject.next(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})(),Gm=(()=>{class t{constructor(e,i){this.dataSourceService=e,this.httpService=i,this.filterGroupItems=nv,this.filteringState={repeat:{itemsSource:[]},color:[],status:[]},this.filterGroupSubscriptions=[],this.dataSourceService.setData(iv),this.filterGroupSubscriptions.push(this.dataSourceService.outputsSubject.subscribe(r=>{this.filteringState=r,this.recalculateCounts(r)})),this.filterGroupSubscriptions.push(this.httpService.getFilteredDataSubject.pipe(ke(500)).subscribe(r=>T(this,null,function*(){this.filteringState=yield this.dataSourceService.getFilteredData(r),this.recalculateCounts(this.filteringState),this.sendFilteredData()})))}sendFilteredData(){this.httpService.receiveFilteredData({filterGroupItems:this.filterGroupItems,filteringState:this.filteringState})}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];(0,Vs.default)(o)||(r.count=o[r.value])})})}hasItems(){return!(0,Vs.default)((0,Nm.default)(this,"filteringState.repeat.itemsSource"))}ngOnDestroy(){this.filterGroupSubscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(yo))}}static{this.\u0275cmp=D({type:t,selectors:[["nui-fake-filtering-datasource-backend-component"]],viewQuery:function(i,r){if(i&1&&A(we,5),i&2){let o;b(o=F())&&(r.filteringRepeat=o.first)}},standalone:!1,features:[pe([{provide:P,useClass:pi}])],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return t})();var Wm=(()=>{class t extends P{constructor(e){super(),this.httpService=e}getFilteredData(e){return T(this,null,function*(){return yield this.httpService.getData(e)})}static{this.\u0275fac=function(i){return new(i||t)(se(yo))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var As=J(ii());var ov=["*"];function av(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function lv(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var Bm=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,As.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,As.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-custom-data-source-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,kr,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:ov,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,av,4,5,"div",3),l(),_(3,lv,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,ae,ut],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function cv(t,n){t&1&&(a(0,"div",5),E(1,"nui-image",6),a(2,"p",7),s(3,"No data to show"),l()()),t&2&&(u(),m("isWatermark",!0))}function pv(t,n){if(t&1&&(a(0,"div"),s(1),l(),a(2,"div"),s(3),l()),t&2){let e=n.item;u(),w(e.color),u(2),w(e.status)}}function uv(t,n){if(t&1){let e=G();a(0,"app-custom-data-source-filter-group",8),x("filterChanged",function(r){S(e);let o=g();return y(o.changeFilters(r))}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function mv(t,n){if(t&1&&(a(0,"div"),E(1,"nui-repeat",9),l()),t&2){let e=g(),i=O(3);u(),m("itemsSource",e.filteringState.repeat.itemsSource)("repeatItemTemplateRef",i)}}var Hm=(()=>{class t{constructor(e){this.filterGroupCustomDataSourceService=e,this.filterGroupItems=[],this.filteringState={repeat:{itemsSource:[]},color:[],status:[]},this.filterGroupSubscriptions=[]}ngAfterViewInit(){this.filterGroupSubscriptions.push(this.filterGroupCustomDataSourceService.outputsSubject.subscribe(e=>{this.filterGroupItems=e.filterGroupItems,this.filteringState=e.filteringState})),this.filterGroupSubscriptions.push(this.filterGroups.changes.subscribe(()=>{this.filterGroupCustomDataSourceService.registerComponent(this.getFilterComponents())})),this.filterGroupCustomDataSourceService.applyFilters()}changeFilters(e){this.filterGroupCustomDataSourceService.applyFilters()}hasItems(){return!(0,$m.default)((0,jm.default)(this,"filteringState.repeat.itemsSource"))}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}ngOnDestroy(){this.filterGroupSubscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-custom-data-source-filter-group-composite-example"]],viewQuery:function(i,r){if(i&1&&A(kr,5),i&2){let o;b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([{provide:P,useClass:Wm}])],decls:10,vars:3,consts:[["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterChanged","filterGroupItem"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(i,r){if(i&1&&(_(0,cv,4,1,"ng-template",null,0,R)(2,pv,4,2,"ng-template",null,1,R),a(4,"nui-panel")(5,"div",2)(6,"app-custom-data-source-filter-groups-wrapper"),_(7,uv,1,1,"app-custom-data-source-filter-group",3),l()(),a(8,"div"),_(9,mv,2,2,"div",4),l()()),i&2){let o=O(1);u(7),m("ngForOf",r.filterGroupItems),u(2),m("ngIf",r.hasItems())("ngIfElse",o)}},dependencies:[Y,k,we,ft,Bm,kr,On],encapsulation:2})}}return t})();var Um=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne,Ze,it,Ie]})}}return t})();var Xm=J(Yr()),Km=J(ii());var Ps=J(ii());var Qm=J(gi());var fv=t=>({expander:t}),hv=t=>({checkbox:t});function _v(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function gv(t,n){t&1&&ve(0)}function vv(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function Cv(t,n){t&1&&ve(0)}function Sv(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,vv,5,2,"ng-template",null,1,R)(3,Cv,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,hv,e))}}function yv(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function Ev(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,_v,2,1,"ng-template",null,0,R)(5,gv,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,Sv,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,yv,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,fv,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Sa=(()=>{class t{constructor(e){this.dialogService=e,this.filterChanged=new xe,this.showAllButtonClicked=new xe}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,Qm.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(e){return e.map(i=>i.value)}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-custom-template-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,Ev,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,We,Te,dt,mt],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Iv=["*"];function xv(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function wv(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var qm=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Ps.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Ps.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-custom-template-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,Sa,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:Iv,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,xv,4,5,"div",3),l(),_(3,wv,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,ae,ut],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function Fv(t,n){if(t&1&&(a(0,"div",7),E(1,"nui-icon",8),a(2,"span",9),s(3),l()()),t&2){let e=n.checkbox;u(),m("icon",e.icon),u(2),w(e.displayValue)}}function Ov(t,n){if(t&1&&(a(0,"span",9),s(1),l()),t&2){let e=g().expander;u(),w(e.count)}}function Dv(t,n){if(t&1&&(a(0,"div",7)(1,"span",9)(2,"b"),s(3),l()(),_(4,Ov,2,1,"span",10),l()),t&2){let e=n.expander;u(3),w(e.title),u(),m("ngIf",!e.expanded)}}function Rv(t,n){t&1&&(a(0,"div",11),E(1,"nui-image",12),a(2,"p",13),s(3,"No data to show"),l()()),t&2&&(u(),m("isWatermark",!0))}function Lv(t,n){if(t&1&&(a(0,"div"),s(1),l(),a(2,"div"),s(3),l()),t&2){let e=n.item;u(),w(e.color),u(2),w(e.status)}}function Mv(t,n){if(t&1){let e=G();a(0,"app-custom-template-filter-group",14),x("filterChanged",function(r){S(e);let o=g();return y(o.changeFilters(r))}),l()}if(t&2){let e=n.$implicit;g();let i=O(1),r=O(3);m("filterGroupItem",e)("checkboxTemplateRef",i)("expanderTemplateRef",r)}}function Vv(t,n){if(t&1&&(a(0,"div"),E(1,"nui-repeat",15),l()),t&2){let e=g(),i=O(7);u(),m("itemsSource",e.filteringState.repeat.itemsSource)("repeatItemTemplateRef",i)}}var Av=[{color:"regular-azure",status:"Critical"},{color:"regular-black",status:"Warning"},{color:"regular-blue",status:"Up"},{color:"regular-yellow",status:"Critical"},{color:"regular-yellow",status:"Warning"},{color:"regular-black",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Critical"}],Jm=(()=>{class t{constructor(e){this.dataSourceService=e,this.filterGroupItems=[{id:"color",title:"Color",count:4,allFilterOptions:[{icon:"copy",value:"azure",displayValue:"Azure"},{icon:"clock",value:"black",displayValue:"Black"},{icon:"status_up",value:"blue",displayValue:"Blue"},{icon:"signal-0",value:"yellow",displayValue:"Yellow"}],selectedFilterValues:["azure"]},{id:"status",title:"Status",count:3,allFilterOptions:[{icon:"status_warning",value:"warning",displayValue:"Warning"},{icon:"status_critical",value:"critical",displayValue:"Critical"},{icon:"status_up",value:"up",displayValue:"Up"}],selectedFilterValues:["critical"]}],this.filteringState={repeat:{itemsSource:[]},color:[],status:[]},this.dataSourceService.setData(Av)}ngAfterViewInit(){this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.filteringState=e,this.recalculateCounts(e)}),this.dataSourceService.applyFilters()}changeFilters(e){this.dataSourceService.applyFilters()}hasItems(){return!(0,Km.default)((0,Xm.default)(this,"filteringState.repeat.itemsSource"))}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]})})}ngOnDestroy(){this.outputsSubscription&&this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-custom-template-filter-group-composite-example"]],standalone:!1,features:[pe([{provide:P,useClass:pi}])],decls:14,vars:3,consts:[["customCheckboxTemplate",""],["customExpanderTemplate",""],["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","checkboxTemplateRef","expanderTemplateRef","filterChanged",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","align-items-center"],[1,"mr-2",3,"icon"],[1,"mr-2"],["class","mr-2",4,"ngIf"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterChanged","filterGroupItem","checkboxTemplateRef","expanderTemplateRef"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(i,r){if(i&1&&(_(0,Fv,4,2,"ng-template",null,0,R)(2,Dv,5,2,"ng-template",null,1,R)(4,Rv,4,1,"ng-template",null,2,R)(6,Lv,4,2,"ng-template",null,3,R),a(8,"nui-panel")(9,"div",4)(10,"app-custom-template-filter-groups-wrapper"),_(11,Mv,1,3,"app-custom-template-filter-group",5),l()(),a(12,"div"),_(13,Vv,2,2,"div",6),l()()),i&2){let o=O(5);u(11),m("ngForOf",r.filterGroupItems),u(2),m("ngIf",r.hasItems())("ngIfElse",o)}},dependencies:[Y,k,we,ft,mr,qm,Sa,On],encapsulation:2})}}return t})();var Ym=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne,Ze,it,Ie]})}}return t})();var od=J(Yr()),ad=J(ii());function kv(t,n){if(t&1&&(a(0,"div"),s(1),l()),t&2){let e=n.item;u(),w(e.displayValue)}}var Zm=(()=>{class t{constructor(e){this.dataSource=e,this.selectedValues=[],this.selectionChanged=new xe,this.selectionMode=hi.multi,this.selectedOptions=[]}ngOnInit(){this.dataSource.setData(this.itemPickerOptions),this.selectedOptions=this.getSelectedOptions()}onSelection(e){this.selectedOptions=e,this.selectionChanged.emit(e)}getSelectedOptions(){return this.itemPickerOptions.filter(e=>this.selectedValues.indexOf(e.value)!==-1)}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-item-picker-composite"]],inputs:{itemPickerOptions:"itemPickerOptions",selectedValues:"selectedValues"},outputs:{selectionChanged:"selectionChanged"},standalone:!1,features:[pe([{provide:P,useClass:pi}])],decls:6,vars:4,consts:[["listRepeatDefaultItemTemplate",""],[1,"app-item-picker-composite"],[1,"d-flex","flex-row"],[1,"app-list-repeat",3,"selectionChange","selectionMode","repeatItemTemplateRef","selection","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",1),_(1,kv,2,1,"ng-template",null,0,R),a(3,"div")(4,"div",2)(5,"nui-repeat",3),x("selectionChange",function(p){return S(o),y(r.onSelection(p))}),l()()()()}if(i&2){let o=O(2);u(5),m("selectionMode",r.selectionMode)("repeatItemTemplateRef",o)("selection",r.selectedOptions)("itemsSource",r.itemPickerOptions)}},dependencies:[we],styles:["[_nghost-%COMP%]   .app-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}"],changeDetection:0})}}return t})();var ed=(()=>{class t{constructor(e,i){this.activeDialog=e,this.selectorService=i,this.itemPickerOptions=[],this.selectedValues=[],this.dialogClosed=new xe}acceptDialogFilters(){this.dialogClosed.emit(this.selectedValues),this.closeDialog()}closeDialog(){this.activeDialog.close()}onSelectionChanged(e){this.selectedValues=e.map(i=>i.value)}static{this.\u0275fac=function(i){return new(i||t)(I(Fi),I(Oi))}}static{this.\u0275cmp=D({type:t,selectors:[["nui-filter-group-composite-dialog"]],inputs:{title:"title",itemPickerOptions:"itemPickerOptions",selectedValues:"selectedValues"},outputs:{dialogClosed:"dialogClosed"},standalone:!1,decls:9,vars:3,consts:()=>{let e;e=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `;let i;return i=$localize`:␟bb1b2fab23cc121dc5106c9c6625199075531616␟3962319811711940221: Save `,[e,i,[1,"nui-filter-group-composite-dialog"],[3,"closed","title"],[1,"nui-filter-group-composite-dialog__body"],[3,"selectionChanged","itemPickerOptions","selectedValues"],["nui-button","","type","button",3,"click"],["nui-button","","type","button","displayStyle","primary",3,"click"]]},template:function(i,r){i&1&&(a(0,"div",2)(1,"nui-dialog-header",3),x("closed",function(){return r.closeDialog()}),l(),a(2,"div",4)(3,"app-item-picker-composite",5),x("selectionChanged",function(c){return r.onSelectionChanged(c)}),l()(),a(4,"nui-dialog-footer")(5,"button",6),x("click",function(){return r.closeDialog()}),j(6,0),l(),a(7,"button",7),x("click",function(){return r.acceptDialogFilters()}),j(8,1),l()()()),i&2&&(u(),m("title",r.title),u(2),m("itemPickerOptions",r.itemPickerOptions)("selectedValues",r.selectedValues))},dependencies:[Di,Ri,_n,Zm],styles:[".nui-filter-group-composite-dialog__body[_ngcontent-%COMP%]{margin:10px 0}"]})}}return t})();var td=J(Ti()),id=J(Li());var ya=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,td.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,id.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var ks=J(ii());var nd=J(gi());var Wv=t=>({expander:t}),Bv=t=>({checkbox:t});function jv(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function $v(t,n){t&1&&ve(0)}function Hv(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function Uv(t,n){t&1&&ve(0)}function Qv(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,Hv,5,2,"ng-template",null,1,R)(3,Uv,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,Bv,e))}}function qv(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function zv(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,jv,2,1,"ng-template",null,0,R)(5,$v,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,Qv,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,qv,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,Wv,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Ea=(()=>{class t{constructor(e){this.dialogService=e,this.filterChanged=new xe,this.showAllButtonClicked=new xe}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,nd.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(e){return e.map(i=>i.value)}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-dialog-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,zv,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,We,Te,dt,mt],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Kv=["*"];function Jv(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function Yv(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var rd=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,ks.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,ks.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-dialog-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,Ea,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:Kv,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,Jv,4,5,"div",3),l(),_(3,Yv,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,ae,ut],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function e1(t,n){t&1&&(a(0,"div",5),E(1,"nui-image",6),a(2,"p",7),s(3,"No data to show"),l()()),t&2&&(u(),m("isWatermark",!0))}function t1(t,n){if(t&1&&(a(0,"div"),s(1),l(),a(2,"div"),s(3),l()),t&2){let e=n.item;u(),w(e.color),u(2),w(e.status)}}function i1(t,n){if(t&1){let e=G();a(0,"app-dialog-filter-group",8),x("filterChanged",function(r){S(e);let o=g();return y(o.changeFilters(r))})("showAllButtonClicked",function(){let r=S(e).$implicit,o=g();return y(o.handleFilterDialog(r))}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function n1(t,n){if(t&1&&(a(0,"div"),E(1,"nui-repeat",9),l()),t&2){let e=g(),i=O(3);u(),m("itemsSource",e.filteringState.repeat.itemsSource)("repeatItemTemplateRef",i)}}var r1=[{color:"yellow",name:"banana"},{color:"orange",name:"orange"},{color:"violet",name:"plum"},{color:"blue",name:"blueberry"},{color:"brown",name:"potato"},{color:"red",name:"apple"},{color:"green",name:"pear"},{color:"black",name:"blackcurrant"},{color:"white",name:"coconut"},{color:"magenta",name:"mulberry"},{color:"apricot",name:"peach"},{color:"olive",name:"olive"},{color:"carmine",name:"grapefruit"},{color:"coral",name:"pomegranate"},{color:"corn",name:"corn"}],ld=(()=>{class t{constructor(e,i,r){this.dataSourceService=e,this.dialogService=i,this.filterGroupService=r,this.filterGroupItems=[{id:"color",title:"Color",expanded:!0,allFilterOptions:[{value:"yellow",displayValue:"Yellow",count:1},{value:"orange",displayValue:"Orange",count:1},{value:"violet",displayValue:"Violet",count:1},{value:"blue",displayValue:"Blue",count:1},{value:"brown",displayValue:"Brown",count:1},{value:"red",displayValue:"Red",count:1},{value:"green",displayValue:"Green",count:1},{value:"black",displayValue:"Black",count:1},{value:"white",displayValue:"White",count:1},{value:"magenta",displayValue:"Magenta",count:1},{value:"apricot",displayValue:"Apricot",count:1},{value:"olive",displayValue:"Olive",count:1},{value:"carmine",displayValue:"Carmine",count:1},{value:"coral",displayValue:"Coral",count:1},{value:"corn",displayValue:"Corn",count:1}],selectedFilterValues:[],itemsToDisplay:10},{id:"name",title:"Fruits and Vegetables",expanded:!1,allFilterOptions:[{value:"banana",displayValue:"Banana",count:1},{value:"orange",displayValue:"Orange",count:1},{value:"plum",displayValue:"Plum",count:1},{value:"blueberry",displayValue:"Blueberry",count:1},{value:"potato",displayValue:"Potato",count:1},{value:"apple",displayValue:"Apple",count:1},{value:"pear",displayValue:"Pear",count:1},{value:"blackcurrant",displayValue:"Blackcurrant",count:1},{value:"coconut",displayValue:"Coconut",count:1},{value:"mulberry",displayValue:"Mulberry",count:1},{value:"peach",displayValue:"Peach",count:1},{value:"olive",displayValue:"Olive",count:1},{value:"grapefruit",displayValue:"Grapefruit",count:1},{value:"pomegranate",displayValue:"Pomegranate",count:1},{value:"corn",displayValue:"Corn",count:1}],selectedFilterValues:[],itemsToDisplay:10}],this.filteringState={repeat:{itemsSource:[]},color:[],name:[]},this.dataSourceService.setData(r1)}ngAfterViewInit(){this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.filteringState=e,this.recalculateCounts(e)}),this.dataSourceService.applyFilters()}changeFilters(e){this.dataSourceService.applyFilters()}hasItems(){return!(0,ad.default)((0,od.default)(this,"filteringState.repeat.itemsSource"))}handleFilterDialog(e){let i=this.dialogService.open(ed);i.componentInstance.title="Filter dialog",i.componentInstance.itemPickerOptions=e.allFilterOptions,i.componentInstance.selectedValues=e.selectedFilterValues,this.dialogSubscription=i.componentInstance.dialogClosed.subscribe(r=>{e.selectedFilterValues=r,e=this.filterGroupService.appendHiddenFilters(e),this.dataSourceService.applyFilters()})}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]})})}ngOnDestroy(){this.outputsSubscription&&this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(rt),I(ya))}}static{this.\u0275cmp=D({type:t,selectors:[["app-dialog-filter-group-composite-example"]],standalone:!1,features:[pe([{provide:P,useClass:pi}])],decls:10,vars:3,consts:[["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged","showAllButtonClicked",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterChanged","showAllButtonClicked","filterGroupItem"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(i,r){if(i&1&&(_(0,e1,4,1,"ng-template",null,0,R)(2,t1,4,2,"ng-template",null,1,R),a(4,"nui-panel")(5,"div",2)(6,"app-dialog-filter-groups-wrapper"),_(7,i1,1,1,"app-dialog-filter-group",3),l()(),a(8,"div"),_(9,n1,2,2,"div",4),l()()),i&2){let o=O(1);u(7),m("ngForOf",r.filterGroupItems),u(2),m("ngIf",r.hasItems())("ngIfElse",o)}},dependencies:[Y,k,we,ft,rd,Ea,On],encapsulation:2})}}return t})();var sd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne,Ft]})}}return t})();var cd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[ya],imports:[ne,_t,Ot,wn,sd,Ie,Ze,it]})}}return t})();var a1=["*",[["","appendedText",""]]],l1=["*","[appendedText]"],$n=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nui-schematic-docs-command"]],standalone:!1,ngContentSelectors:l1,decls:5,vars:1,consts:[["type","info",3,"allowDismiss"]],template:function(i,r){i&1&&(Ne(a1),a(0,"nui-message",0),s(1," This code has been generated using the following command: "),a(2,"code"),Me(3),l(),Me(4,1),l()),i&2&&m("allowDismiss",!1)},dependencies:[Fn],encapsulation:2})}}return t})();var vd=J(ah());var dd=J(ih()),fd=J(md());var hd=t=>({item:t});function m1(t,n){if(t&1&&(a(0,"div")(1,"nui-expander",4)(2,"nui-recursive-object-view",5),ve(3,6),l()()()),t&2){let e=g().$implicit,i=g();u(),m("header",e),u(),m("object",i.object[e])("objectTemplate",i.objectTemplate)("notObjectTemplate",i.notObjectTemplate),u(),m("ngTemplateOutlet",i.objectTemplate)("ngTemplateOutletContext",Ee(6,hd,i.object[e]))}}function d1(t,n){if(t&1&&ve(0,6),t&2){let e=g().$implicit,i=g();m("ngTemplateOutlet",i.notObjectTemplate)("ngTemplateOutletContext",Ee(2,hd,e))}}function f1(t,n){if(t&1&&(a(0,"div",2),_(1,m1,4,8,"div",3)(2,d1,1,4,"ng-template",null,0,R),l()),t&2){let e=n.$implicit,i=O(3),r=g();u(),m("ngIf",r.checkInstance(e))("ngIfElse",i)}}var _d=(()=>{class t{ngOnInit(){this.orderOfKeys=(0,fd.default)(Object.keys(this.object),e=>e.length)}checkInstance(e){return(0,dd.default)(this.object[e])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nui-recursive-object-view"]],inputs:{object:"object",objectTemplate:"objectTemplate",notObjectTemplate:"notObjectTemplate"},standalone:!1,decls:1,vars:1,consts:[["notObject",""],["class","ml-5",4,"ngFor","ngForOf"],[1,"ml-5"],[4,"ngIf","ngIfElse"],["icon","group",3,"header"],[3,"object","objectTemplate","notObjectTemplate"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&_(0,f1,4,2,"div",1),i&2&&m("ngForOf",r.orderOfKeys)},dependencies:[Y,k,Je,We,t],encapsulation:2})}}return t})();var _1=["*"];function g1(t,n){if(t&1&&(a(0,"div")(1,"nui-expander",13)(2,"nui-recursive-object-view",14),s(3),l()()()),t&2){let e=n.$implicit;g();let i=O(21),r=O(23);u(),m("header",e.key),u(),m("object",e.value)("objectTemplate",i)("notObjectTemplate",r),u(),N(" ",e.key," ")}}function v1(t,n){if(t&1&&E(0,"nui-example-code",15),t&2){let e=g();m("code",e.getSource(e.selectedFile))}}function C1(t,n){if(t&1&&(E(0,"nui-icon",16),s(1)),t&2){let e=n.item;u(),N(" ",e.key,`
`)}}function S1(t,n){if(t&1){let e=G();a(0,"button",17),x("click",function(){let r=S(e).item,o=g();return y(o.selectFile(r))}),s(1),l()}if(t&2){let e=n.item;u(),N(" ",e," ")}}var Hn=(()=>{class t{get selectedFile(){return this._selectedFile}set selectedFile(e){this._selectedFile=e,this.shouldCodeRender=!1,setTimeout(()=>{this.shouldCodeRender=!0},100)}constructor(e){this.context=e,this.fileExtensionsRegex=/.*\.(ts|html|less)$/,this.rawData={}}ngOnInit(){this.componentSources=this.getSourcesByFilenamePrefix(this.exampleFolderName)}getSource(e){return this.rawData[e]??""}selectFile(e){this.selectedFile=e,this.selectedFileOpen=!0}isSelectedFileOpen(){return this.selectedFileOpen}onSelectedFileOpenChange(e){this.selectedFileOpen=e}getSourcesByFilenamePrefix(e){return this.context.files.map(r=>r.path).filter(r=>{let o=r.indexOf(e),c=o!==-1?r[o+e.length]:void 0;return o!==-1&&(c==="."||c==="/")}).reduce((r,o)=>{let c=this.getFileData(o),p=o.substr(o.indexOf(e)).split("/"),f=[];this.rawData[p[p.length-1]]=c;for(let d=p.length;d>0;d--){let h=p.shift();f.push(h)}return(0,vd.default)(r,f,c)},{})}getFileData(e){return T(this,null,function*(){let i="";return this.fileExtensionsRegex.exec(e)&&(i=yield this.context.files.find(c=>c.path.includes(e))?.content(),e.split(".").pop()==="less"&&(i=i.replace(/@import \(reference\) "([\w-]+\/){0,}([\w-]+)(\.less)?"/g,'@import (reference) "@nova-ui/bits/sdk/less/$1$2"'))),i})}static{this.\u0275fac=function(i){return new(i||t)(I(bo,12))}}static{this.\u0275cmp=D({type:t,selectors:[["nui-schematic-docs-example"]],inputs:{exampleFolderName:"exampleFolderName"},standalone:!1,ngContentSelectors:_1,decls:24,vars:7,consts:[["objectTemplate",""],["notObjectTemplate",""],[1,"d-flex"],[1,"p-0","col-4","schematic-docs-example__files"],[1,"mt-4"],[4,"ngFor","ngForOf"],[1,"col-8"],[3,"openChange","disabled","open"],["nuiExpanderHeader",""],[1,"m-0"],[1,"schematic-docs-example__selected-file"],[1,"nui-source-inspector-code"],[3,"code",4,"ngIf"],["icon","group",3,"header"],[3,"object","objectTemplate","notObjectTemplate"],[3,"code"],["icon","xml-file"],["nui-button","","type","button","displayStyle","action","icon","xml-file",1,"mw-100",3,"click"]],template:function(i,r){if(i&1){let o=G();Ne(),a(0,"div",2)(1,"div",3)(2,"h2",4),s(3,"Source files"),l(),_(4,g1,4,5,"div",5),H(5,"keyvalue"),l(),a(6,"div",6)(7,"h2",4),s(8,"Source code"),l(),a(9,"nui-expander",7),x("openChange",function(p){return S(o),y(r.onSelectedFileOpenChange(p))}),a(10,"div",8)(11,"h5",9),s(12," Selected file: "),a(13,"span",10),s(14),l()()(),a(15,"div",11),_(16,v1,1,1,"nui-example-code",12),l()()()(),a(17,"h2",4),s(18,"Example"),l(),Me(19),_(20,C1,2,1,"ng-template",null,0,R)(22,S1,2,1,"ng-template",null,1,R)}i&2&&(u(4),m("ngForOf",Le(5,5,r.componentSources)),u(5),m("disabled",!r.selectedFile)("open",r.isSelectedFileOpen()),u(5),w(r.selectedFile?r.selectedFile:"None"),u(2),m("ngIf",r.shouldCodeRender))},dependencies:[Y,k,We,mr,fr,_n,_d,$t],styles:[`.schematic-docs-example__files{overflow-x:auto}.schematic-docs-example__selected-file{font-weight:700}.nui-source-inspector-code{max-height:600px;overflow-y:auto}.nui-source-inspector-code .nui-example-code{min-width:fit-content}
`],encapsulation:2})}}return t})();var y1=xc({"../../../../schematics/src/filter-group/schema.json":()=>import("./chunk-AWST6WST.js"),"../../../../schematics/src/filtered-view/schema.json":()=>import("./chunk-YKJQG2HE.js"),"../../../../schematics/src/layout/schema.json":()=>import("./chunk-NAMNR5VE.js"),"../../../../schematics/src/list/schema.json":()=>import("./chunk-YKLWWH3L.js"),"../../../../schematics/src/ng-add/schema.json":()=>import("./chunk-4K6UMZSI.js"),"../../../../schematics/src/ng-update/schema.json":()=>import("./chunk-LP4P75PA.js"),"../../../../schematics/src/table/schema.json":()=>import("./chunk-TQ5GJD2Q.js")});function E1(t,n){if(t&1&&(U(0),a(1,"div",7)(2,"i",8),s(3),l(),a(4,"span"),s(5),l()(),Q()),t&2){let e=g().$implicit,i=g(2).$implicit;u(3),N("",e,": "),u(2),w(i.value[e])}}function T1(t,n){if(t&1&&(a(0,"div"),_(1,E1,6,2,"ng-container",6),l()),t&2){let e=n.$implicit,i=g(2).$implicit;u(),m("ngIf",i.value[e]!==void 0)}}function I1(t,n){if(t&1&&_(0,T1,2,1,"div",5),t&2){let e=g(2);m("ngForOf",e.fieldsToDisplay)}}function x1(t,n){if(t&1&&(a(0,"div",2)(1,"nui-popover",3)(2,"span",4),s(3),l()(),_(4,I1,1,1,"ng-template",null,0,R),l()),t&2){let e=n.$implicit,i=O(5);u(),m("template",i),u(2),w(e.key)}}var Cd=(()=>{class t{constructor(){this.schemaViewData={},this.fieldsToDisplay=["description","type","enum","alias","default"]}ngOnInit(){return T(this,null,function*(){let e=yield y1(`../../../../schematics/src/${this.schematicFolderName}/schema.json`);this.fillViewData(e.properties)})}fillViewData(e){Object.keys(e).forEach(i=>{let{description:r,type:o,enum:c,default:p,alias:f}=e[i];this.schemaViewData[i]={description:r,type:o,enum:c&&c.join(", "),default:p,alias:f}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nui-schematic-json"]],inputs:{schematicFolderName:"schematicFolderName"},standalone:!1,decls:7,vars:3,consts:[["popoverWithBasicUsage",""],["class","d-inline-block p-2",4,"ngFor","ngForOf"],[1,"d-inline-block","p-2"],["placement","top",3,"template"],[1,"nui-text-default--hoverable"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"nui-text-default"],[2,"font-weight","bold"]],template:function(i,r){i&1&&(a(0,"div")(1,"code"),s(2,"Schema.json "),a(3,"b"),s(4,"options:"),l()()(),_(5,x1,6,2,"div",1),H(6,"keyvalue")),i&2&&(u(5),m("ngForOf",Le(6,1,r.schemaViewData)))},dependencies:[Y,k,ae,$t],encapsulation:2})}}return t})();var b1=[[["","schematicSummary",""]],[["","schematicExamples",""]]],F1=["[schematicSummary]","[schematicExamples]"],Un=(()=>{class t{constructor(){this.angularJsonStylePreprocOptions=`
"stylePreprocessorOptions": {
    "includePaths": [
        "node_modules"
    ]
}`}ngOnInit(){this.schematicHeading=this.schematicFolderName.replace(/-/g," ")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nui-schematic-docs-page"]],inputs:{schematicFolderName:"schematicFolderName"},standalone:!1,ngContentSelectors:F1,decls:26,vars:9,consts:[[1,"nui-schematic-docs-page"],[1,"mt-4"],[3,"code"],[3,"schematicFolderName"],[1,"nui-schematic-docs-examples"]],template:function(i,r){i&1&&(Ne(b1),a(0,"div",0)(1,"h1"),s(2),H(3,"titlecase"),l(),Me(4),a(5,"h2",1),s(6,"API"),l(),a(7,"div")(8,"p"),s(9),H(10,"titlecase"),a(11,"code"),s(12),l()(),a(13,"p"),s(14," The schematic generates styles with a reference to files that are stored in "),a(15,"code"),s(16,"node_modules/@nova-ui/bits/sdk/less"),l(),s(17,". You can provide this path in your project's "),a(18,"code"),s(19,"angular.json"),l(),s(20," to make these references work: "),l(),a(21,"p"),E(22,"nui-example-code",2),l(),E(23,"nui-schematic-json",3),l(),a(24,"div",4),Me(25,1),l()()),i&2&&(u(2),N("",Le(3,5,r.schematicHeading)," Schematic"),u(7),N(" Use the following command to generate a ",Le(10,7,r.schematicHeading),": "),u(3),N("ng g @nova-ui/bits:",r.schematicFolderName," --name=%name_of_component% --p=%prefix_for_component_selector%"),u(10),m("code",r.angularJsonStylePreprocOptions),u(),m("schematicFolderName",r.schematicFolderName))},dependencies:[fr,Cd,Pc],styles:[`.nui-schematic-docs-examples{margin-top:10px}
`],encapsulation:2})}}return t})();var Sd=(()=>{class t{constructor(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nui-filter-group-composite-basic"]],standalone:!1,decls:210,vars:0,consts:[["schematicFolderName","filter-group"],["schematicExamples",""],["heading","Basic usage"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["target","_blank","href","../interfaces/IFilterGroupItem.html"],["target","_blank","href","../../../../../../nova-bits/develop/sdk/api-docs-ng2/injectables/ClientSideDataSource.html"],["target","_blank","href","../interfaces/IFilterGroupOption.html"],["exampleFolderName","basic-filter-group"],["heading","Custom template"],["appendedText",""],["exampleFolderName","custom-template-filter-group"],["heading","Custom data source"],["exampleFolderName","custom-data-source-filter-group"],["heading","Collapse / Dialog"],["target","_blank","href","../additional-documentation/schematics/list.html"],["exampleFolderName","dialog-filter-group"]],template:function(i,r){i&1&&(a(0,"nui-schematic-docs-page",0)(1,"nui-tab-group",1)(2,"nui-tab",2)(3,"h2"),s(4,"Basic Usage"),l(),a(5,"p"),s(6," Filter group depends heavily on the "),a(7,"a",3)(8,"code"),s(9,"ClientSideDataSource"),l()(),s(10," service, so first and foremost please check out the documentation for "),a(11,"a",3)(12,"code"),s(13,"ClientSideDataSource"),l()(),s(14,". "),l(),a(15,"p"),s(16," This example contains all the files generated by the CLI command. The schematic will output a feature module, a filter group composite and helper components: "),a(17,"code"),s(18,"filter-groups-wrapper"),l(),s(19,", "),a(20,"code"),s(21,"filter-group-dialog"),l(),s(22," and "),a(23,"code"),s(24,"item-picker"),l(),s(25,". Except for the wrapper, usage of these components may not be required by your implementation. "),l(),a(26,"p"),s(27," Once you have scaffolded your filter group, follow these steps to add it to your application: "),l(),a(28,"ol")(29,"li"),s(30," In your template, place your composite(s) inside the wrapper component. The wrapper will register your composites with "),a(31,"a",3)(32,"code"),s(33,"ClientSideDataSource"),l()(),s(34," as well as hide and display a popover over filter groups with no existing values. "),l(),a(35,"li"),s(36," Pass an "),a(37,"a",4)(38,"code"),s(39,"IFilterGroupItem"),l()(),s(40," object to each "),a(41,"code"),s(42,"[filterGroupItem]"),l(),s(43," input. "),l(),a(44,"li"),s(45," To receive new filtering state ("),a(46,"code"),s(47,"IFilteringOutputs"),l(),s(48,"), bind to the "),a(49,"code"),s(50,"(filterChanged)"),l(),s(51," output and invoke the "),a(52,"code"),s(53,"applyFilters"),l(),s(54," method of "),a(55,"a",5)(56,"code"),s(57,"ClientSideDataSource"),l(),s(58,". "),l()()(),a(59,"p")(60,"b"),s(61,"Note:"),l(),s(62," If you provide a value for the count property in "),a(63,"a",6)(64,"code"),s(65,"IFilterGroupOption"),l()(),s(66,", counts will be added to the checkbox template. To recalculate counts, you must implement a "),a(67,"code"),s(68,"recalculateCounts"),l(),s(69," method and call it upon receiving filteringState "),a(70,"code"),s(71,"IFilteringOutputs"),l(),s(72,". "),l(),a(73,"nui-schematic-docs-command"),s(74,"ng g @nova-ui/bits:filter-group --name=basic-filter-group --p=app"),l(),a(75,"nui-schematic-docs-example",7),E(76,"app-basic-filter-group-composite-example"),l()(),a(77,"nui-tab",8)(78,"h2"),s(79,"Custom Component Templates"),l(),a(80,"p"),s(81," To use a custom "),a(82,"strong"),s(83,"checkbox"),l(),s(84," or "),a(85,"strong"),s(86,"expander "),l(),a(87,"code"),s(88,"ng-template"),l(),s(89,", use the "),a(90,"code"),s(91,"[checkboxTemplateRef]"),l(),s(92," or "),a(93,"code"),s(94,"[expanderTemplateRef]"),l(),s(95," input of the filter group. "),l(),a(96,"p"),s(97," To pre-select filters, define "),a(98,"code"),s(99,"selectedFilterValues"),l(),s(100," for your "),a(101,"a",4)(102,"code"),s(103,"IFilterGroupItem"),l()(),s(104," objects. "),l(),a(105,"nui-schematic-docs-command"),s(106,"ng g @nova-ui/bits:filter-group --name=custom-template-filter-group --p=app "),a(107,"span",9),s(108,"with some manual adjustments that can be seen below"),l()(),a(109,"nui-schematic-docs-example",10),E(110,"app-custom-template-filter-group-composite-example"),l()(),a(111,"nui-tab",11)(112,"h2"),s(113,"Custom Data Source"),l(),a(114,"p"),s(115,"To use Filter Group with a custom data source:"),l(),a(116,"ol")(117,"li"),s(118," Create a custom data source service that extends "),a(119,"code"),s(120,"DataSourceService"),l(),s(121," and implements a method called "),a(122,"code"),s(123,"getFilteredData"),l(),s(124,". This method will communicate with an HTTP service to fetch filtered data and emit it back to the filter group. "),l(),a(125,"li"),s(126," Get a reference to your filter groups via "),a(127,"code"),s(128,"ViewChildren"),l(),s(129," and subscribe to their changes. In the callback, register components in your custom data service using the "),a(130,"code"),s(131,"registerComponent"),l(),s(132," method of"),a(133,"code"),s(134,"DataSourceService"),l(),s(135,". "),l(),a(136,"li"),s(137," On filter change, have the custom data source service emit filters ("),a(138,"code"),s(139,"IFilters"),l(),s(140,") to the http service and receive a filtered data object ("),a(141,"code"),s(142,"ICustomDSFilteredData"),l(),s(143,") in return. The filtered data object consists of filterGroupItems ("),a(144,"code"),s(145,"IFilterGroupItem[]"),l(),s(146,") and filteringState ("),a(147,"code"),s(148,"IFilteringOutputs"),l(),s(149,"). "),l()(),a(150,"p"),s(151," As implementations of the custom data source service may vary, other data may be passed from the filter group to the custom data source in order for the custom data source to apply filters and return filtered data. "),l(),a(152,"nui-schematic-docs-command"),s(153,"ng g @nova-ui/bits:filter-group --name=custom-data-source-filter-group --p=app "),a(154,"span",9),s(155,"with some manual adjustments that can be seen below"),l()(),a(156,"nui-schematic-docs-example",12),E(157,"app-custom-data-source-filter-group-composite-example")(158,"nui-fake-filtering-datasource-backend-component"),l()(),a(159,"nui-tab",13)(160,"h2"),s(161,"Handle Multiple Filter Group Options"),l(),a(162,"p"),s(163," Only 10 filter group options are displayed by default. You can change this number by setting the "),a(164,"code"),s(165,"itemsToDisplay"),l(),s(166," property of an "),a(167,"a",4)(168,"code"),s(169,"IFilterGroupItem"),l()(),s(170,". "),l(),a(171,"p"),s(172," The remaining options will be replaced with a "),a(173,"strong"),s(174,"Show all"),l(),s(175," button bound to the "),a(176,"code"),s(177,"(showAllButtonClicked)"),l(),s(178," output. To display the hidden options, you can use the "),a(179,"code"),s(180,"FilterGroupCompositeDialogComponent"),l(),s(181," generated by the schematic: "),l(),a(182,"ol")(183,"li"),s(184," Implement an item picker and place it in the dialog template. The example below uses a simple selectable list - to add more functionality, such as sorting and pagination, refer to the "),a(185,"a",14),s(186,"list schematic docs"),l(),s(187,". "),l(),a(188,"li"),s(189," Add your dialog component to your module's "),a(190,"code"),s(191,"entryComponents"),l(),s(192,". "),l(),a(193,"li"),s(194," Implement a handler for the "),a(195,"code"),s(196,"showAllButtonClicked"),l(),s(197," output. Use it to open the dialog, feed it the required parameters and update selection on "),a(198,"code"),s(199,"dialogClosed"),l(),s(200," event (refer to the "),a(201,"code"),s(202,"handleFilterDialog"),l(),s(203," method in the example). "),l()(),a(204,"nui-schematic-docs-command"),s(205,"ng g @nova-ui/bits:filter-group --name=dialog-filter-group --p=app "),a(206,"span",9),s(207,"with some manual adjustments that can be seen below"),l()(),a(208,"nui-schematic-docs-example",15),E(209,"app-dialog-filter-group-composite-example"),l()()()())},dependencies:[Rn,Dn,Gm,Om,Hm,Jm,ld,$n,Hn,Un],encapsulation:2})}}return t})();var $s=J(rn());var yd=J(gi());var O1=t=>({expander:t}),D1=t=>({checkbox:t});function R1(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function L1(t,n){t&1&&ve(0)}function M1(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function V1(t,n){t&1&&ve(0)}function A1(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,M1,5,2,"ng-template",null,1,R)(3,V1,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,D1,e))}}function P1(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function k1(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,R1,2,1,"ng-template",null,0,R)(5,L1,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,A1,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,P1,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,O1,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Nr=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new xe,this.showAllButtonClicked=new xe,this.onDestroy$=new le}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,yd.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-group-with-pagination"]],viewQuery:function(i,r){if(i&1&&A(Te,5),i&2){let o;b(o=F())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,k1,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Bs=J(qn());var Ed="http://nova-pg.swdev.local/api/v1/servers",Td=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return e.search?.value&&(r=r.set("searchField","name"),r=r.set("searchContent",e.search?.value??"")),e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}static getMultiFiltersNames(e){let i=[];return(0,Bs.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,Bs.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(Ed,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let v=this.http.get(`${Ed}/count`,{params:c});c=c.set("filters",p),o.push(v)});let f=(d,h)=>{let v=Object.keys(h)[0];return d[v]=Object.values(h)[0],d};return fi(o).pipe(ke(300),_e(([d,h,v])=>({items:d.items?.map(C=>({name:C.name,location:C.location,status:C.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:v.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var wa=function(t){return t.active="Active",t.down="Down",t}(wa||{});var js=J(ii());var G1=["*"];function W1(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function B1(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var Id=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,js.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,js.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,Nr,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:G1,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,W1,4,5,"div",3),l(),_(3,B1,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,Ht,ae,ut],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var H1=()=>[10,20,30,40];function U1(t,n){t&1&&(U(0),a(1,"span"),j(2,1),l(),Q())}function Q1(t,n){if(t&1&&(a(0,"div",13),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.value," ")}}function q1(t,n){if(t&1&&(a(0,"div",10)(1,"div",11),_(2,Q1,2,1,"div",12),H(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",Le(3,1,e))}}var xd=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.listItems$=new Ji([]),this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ge.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.isBusy=!1,this.totalItems=0,this.page=1,this.pageSize=20,this.itemConfig={trackBy:(r,o)=>o?.name},this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(Z(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),ee(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(Z(e=>{this.listItems$.next(e.repeat?.itemsSource||[]),this.filteringState=e,this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-list-with-pagination-list"]],viewQuery:function(i,r){if(i&1&&(A(we,5),A(de,5),A(fe,5),A(ht,5)),i&2){let o;b(o=F())&&(r.repeat=o.first),b(o=F())&&(r.paginator=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.sorter=o.first)}},standalone:!1,decls:13,vars:16,consts:()=>{let e;e=$localize`:␟94516fa213706c67ce5a5b5765681d7fb032033a␟3894950702316166331:Loading...`;let i;return i=$localize`:␟e4e28b371f8453e22779db590cb0fe67f2a080e8␟7839102902838664367:No results`,[["listRepeatItemTemplate",""],i,["nui-busy","",3,"busy"],["size","large","message",e],[1,"d-flex","flex-row"],[1,"app-filtered-view-list-with-pagination-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-filtered-view-list-with-pagination-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-filtered-view-list-with-pagination-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-filtered-view-list-with-pagination-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",2),E(1,"nui-spinner",3),a(2,"div",4)(3,"nui-sorter",5),x("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(4,"nui-search",6),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(5,"div",4),_(6,U1,3,0,"ng-container",7),H(7,"async"),E(8,"nui-repeat",8),l(),a(9,"div",4)(10,"nui-paginator",9),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(11,q1,4,3,"ng-template",null,0,R)}if(i&2){let o=O(12);m("busy",r.isBusy),u(3),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",!r.isBusy&&Le(7,13,r.listItems$).length===0),u(2),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(15,H1))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[Y,k,de,we,fe,ht,ln,sn,en,$t],styles:["[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var X1=["child"];function K1(t,n){if(t&1){let e=G();a(0,"app-filter-group-with-pagination",9),x("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function J1(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=O(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),N("+",e.overflowCounter,"")}}function Y1(t,n){if(t&1){let e=G();a(0,"nui-chips-overflow",13),x("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var Oa=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:wa.down,displayValue:"Down"},{value:wa.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[nt.bottomLeft,nt.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,$s.default)(e.group.items||[],e.item):(0,$s.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-list-with-pagination"]],viewQuery:function(i,r){if(i&1&&(A(ae,5),A(X1,5),A(Nr,5)),i&2){let o;b(o=F())&&(r.popover=o.first),b(o=F())&&(r.child=o.first),b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([{provide:P,useClass:Td}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,K1,1,1,"app-filter-group-with-pagination",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),x("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,J1,5,3,"div",8),l(),_(9,Y1,1,2,"ng-template",null,0,R),l(),E(11,"app-filtered-view-list-with-pagination-list",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[Y,k,ft,Id,Nr,Qt,qt,ae,xd],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var wd=J(Ti()),bd=J(Li());var Fd=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,wd.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,bd.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Od=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne]})}}return t})();var Dd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[Fd],imports:[ne,it,_t,Mt,Ze,Ie,Od]})}}return t})();var Rd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne,Pt,kt,Ft,Nt,Gt,Ot,At,Dd,zt,Ie]})}}return t})();var qs=J(rn());var Ld=J(gi());var tC=t=>({expander:t}),iC=t=>({checkbox:t});function nC(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function rC(t,n){t&1&&ve(0)}function oC(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function aC(t,n){t&1&&ve(0)}function lC(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,oC,5,2,"ng-template",null,1,R)(3,aC,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,iC,e))}}function sC(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function cC(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,nC,2,1,"ng-template",null,0,R)(5,rC,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,lC,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,sC,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,tC,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Wr=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new xe,this.showAllButtonClicked=new xe,this.onDestroy$=new le}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,Ld.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-group-with-vs"]],viewQuery:function(i,r){if(i&1&&A(Te,5),i&2){let o;b(o=F())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,cC,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Hs=J(qn());var Md="http://nova-pg.swdev.local/api/v1/servers",Vd=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(400)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return e.search?.value&&(r=r.set("searchField","name"),r=r.set("searchContent",e.search?.value??"")),e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}static getMultiFiltersNames(e){let i=[];return(0,Hs.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,Hs.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(Md,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let v=this.http.get(`${Md}/count`,{params:c});c=c.set("filters",p),o.push(v)});let f=(d,h)=>{let v=Object.keys(h)[0];return d[v]=Object.values(h)[0],d};return fi(o).pipe(ke(300),_e(([d,h,v])=>({items:d.items?.map(C=>({name:C.name,location:C.location,status:C.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:v.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Da=function(t){return t.active="Active",t.down="Down",t}(Da||{});var Qs=J(ii());var uC=["*"];function mC(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function dC(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var Ad=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Qs.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Qs.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,Wr,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:uC,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,mC,4,5,"div",3),l(),_(3,dC,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,Ht,ae,ut],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function hC(t,n){t&1&&(U(0),a(1,"span"),j(2,3),l(),Q())}function _C(t,n){t&1&&(U(0),j(1,4),Q())}function gC(t,n){t&1&&(a(0,"strong"),s(1,". All items loaded."),l())}function vC(t,n){if(t&1&&(a(0,"div",20),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.value," ")}}function CC(t,n){if(t&1&&(a(0,"div",17)(1,"div",18),_(2,vC,2,1,"div",19),H(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",Le(3,1,e))}}var Pd=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.changeDetection=i,this.viewportManager=r,this.listItems$=new Ji([]),this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ge.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.isBusy=!1,this.totalItems=0,this.itemConfig={trackBy:(o,c)=>c?.name},this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.viewportManager},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.viewportManager.setViewport(this.repeat.viewportRef).observeNextPage$({pageSize:400}).pipe(Yi(()=>{let e=this.listItems$.getValue();return!e.length||e.length<this.totalItems}),Z(()=>T(this,null,function*(){return this.applyFilters(!1)})),Zi(()=>this.dataSource.outputsSubject.pipe(Z(e=>{let i=e.repeat?.itemsSource||[];this.listItems$.next(this.listItems$.getValue().concat(i)),this.totalItems=e.paginator?.total||0,this.changeDetection.detectChanges()}))),ee(this.destroy$)).subscribe(),this.search.focusChange.pipe(Z(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),ee(this.destroy$)).subscribe()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.listItems$.next([]),this.changeDetection.detectChanges()),yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue),I(ot))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-list-with-virtual-scroll-list"]],viewQuery:function(i,r){if(i&1&&(A(we,5),A(fe,5),A(ht,5)),i&2){let o;b(o=F())&&(r.repeat=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.sorter=o.first)}},standalone:!1,decls:23,vars:23,consts:()=>{let e;e=$localize`:␟94516fa213706c67ce5a5b5765681d7fb032033a␟3894950702316166331:Loading...`;let i;i=$localize`:␟3a07f8fba6196a46238f9dc434e4aef50ebfa2ce␟9149438115644025735: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1:. `;let r;r=$localize`:␟e4e28b371f8453e22779db590cb0fe67f2a080e8␟7839102902838664367:No results`;let o;return o=$localize`:␟b12cc7551005a9787976bb8d2a161113feed479a␟9056616360897919297:, scroll down for more.`,[["endOfData",""],["listRepeatItemTemplate",""],i,r,o,["nui-busy","",3,"busy"],["size","large","message",e],[1,"d-flex","flex-row"],[1,"app-filtered-view-list-with-virtual-scroll-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-filtered-view-list-with-virtual-scroll-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-filtered-view-list-with-virtual-scroll-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource","virtualScroll","itemSize"],[1,"app-filtered-view-list-with-virtual-scroll-list-scrolling-footer"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],[4,"ngIf","ngIfElse"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",5),E(1,"nui-spinner",6),a(2,"div",7)(3,"nui-sorter",8),x("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(4,"nui-search",9),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(5,"div",7),_(6,hC,3,0,"ng-container",10),H(7,"async"),E(8,"nui-repeat",11),H(9,"async"),l(),a(10,"footer",12)(11,"div",13)(12,"div",14)(13,"div",15),j(14,2),H(15,"async"),l(),a(16,"div",15),_(17,_C,2,0,"ng-container",16),H(18,"async"),_(19,gC,2,0,"ng-template",null,0,R),l()()()()(),_(21,CC,4,3,"ng-template",null,1,R)}if(i&2){let o=O(20),c=O(22);m("busy",r.isBusy),u(3),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",!r.isBusy&&Le(7,15,r.listItems$).length===0),u(2),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",c)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",Le(9,17,r.listItems$))("virtualScroll",!0)("itemSize",30),u(7),at(Le(15,19,r.listItems$).length)(r.totalItems),lt(14),u(2),m("ngIf",Le(18,21,r.listItems$).length!==r.totalItems)("ngIfElse",o)}},dependencies:[Y,k,we,fe,ht,ln,sn,en,$t],styles:["[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%;height:300px}[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}"],changeDetection:0})}}return t})();var yC=["child"];function EC(t,n){if(t&1){let e=G();a(0,"app-filter-group-with-vs",9),x("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function TC(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=O(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),N("+",e.overflowCounter,"")}}function IC(t,n){if(t&1){let e=G();a(0,"nui-chips-overflow",13),x("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var Ra=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Da.down,displayValue:"Down"},{value:Da.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[nt.bottomLeft,nt.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,qs.default)(e.group.items||[],e.item):(0,qs.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-list-with-virtual-scroll"]],viewQuery:function(i,r){if(i&1&&(A(ae,5),A(yC,5),A(Wr,5)),i&2){let o;b(o=F())&&(r.popover=o.first),b(o=F())&&(r.child=o.first),b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([ot,{provide:P,useClass:Vd}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,EC,1,1,"app-filter-group-with-vs",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),x("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,TC,5,3,"div",8),l(),_(9,IC,1,2,"ng-template",null,0,R),l(),E(11,"app-filtered-view-list-with-virtual-scroll-list",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[Y,k,ft,Ad,Wr,Qt,qt,ae,Pd],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var kd=J(Ti()),Nd=J(Li());var Gd=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,kd.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,Nd.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Wd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne]})}}return t})();var Bd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[Gd],imports:[ne,it,_t,Mt,Ze,Ie,Wd]})}}return t})();var jd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne,Pt,kt,Ft,Nt,Gt,Ot,At,Bd,zt,Ie]})}}return t})();var Xs=J(rn());var $d=J(gi());var bC=t=>({expander:t}),FC=t=>({checkbox:t});function OC(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function DC(t,n){t&1&&ve(0)}function RC(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function LC(t,n){t&1&&ve(0)}function MC(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,RC,5,2,"ng-template",null,1,R)(3,LC,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,FC,e))}}function VC(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function AC(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,OC,2,1,"ng-template",null,0,R)(5,DC,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,MC,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,VC,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,bC,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Br=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new xe,this.showAllButtonClicked=new xe,this.onDestroy$=new le}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,$d.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-group-with-table"]],viewQuery:function(i,r){if(i&1&&A(Te,5),i&2){let o;b(o=F())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,AC,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Rt=function(t){return t.active="Active",t.down="Down",t}(Rt||{});var Hd=20,La=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:Rt.active},{name:"Man-LT-ASD123",location:"Brno",status:Rt.down},{name:"Man-LT-DSA331",location:"Austin",status:Rt.active},{name:"Man-LT-JKS212",location:"Kyiv",status:Rt.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:Rt.down},{name:"Man-LT-433AAD",location:"Austin",status:Rt.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:Rt.active},{name:"Man-LT-GHJ882",location:"Brno",status:Rt.down},{name:"Man-LT-LLK001",location:"Austin",status:Rt.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:Rt.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:Rt.down},{name:"Man-LT-LKJF12",location:"Austin",status:Rt.down},{name:"Man-LT-882JJS",location:"Kyiv",status:Rt.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:Rt.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:Rt.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:Rt.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:Rt.active},{name:"Man-LT-RRF231",location:"Austin",status:Rt.down}];var zs=J(ii());var kC=["*"];function NC(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function GC(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var Ud=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,zs.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,zs.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,Br,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:kC,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,NC,4,5,"div",3),l(),_(3,GC,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,Ht,ae,ut],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var BC=()=>[10,20,50,100];function jC(t,n){t&1&&(a(0,"th",13),j(1,0),l())}function $C(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function HC(t,n){t&1&&(a(0,"th",13),j(1,1),l())}function UC(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),w(e.location)}}function QC(t,n){t&1&&(a(0,"th",13),j(1,2),l())}function qC(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function zC(t,n){t&1&&E(0,"tr",15)}function XC(t,n){t&1&&E(0,"tr",16)}var Qd=(()=>{class t{constructor(e){this.dataSource=e,this.items=[],this.totalItems=0,this.displayedColumns=["name","location","status"],this.page=1,this.pageSize=Hd,this.destroy$=new le,this.dataSource.setData(La)}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(Z(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-with-table-table"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(de,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.paginator=o.first)}},standalone:!1,decls:14,vars:9,consts:()=>{let e;e=$localize`:␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`;let i;i=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`;let r;return r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`,[e,i,r,[1,"app-filtered-view-with-table-table__container"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""]]},template:function(i,r){i&1&&(a(0,"div",3)(1,"table",4),U(2,5),_(3,jC,2,0,"th",6)(4,$C,2,1,"td",7),Q(),U(5,8),_(6,HC,2,0,"th",6)(7,UC,2,1,"td",7),Q(),U(8,9),_(9,QC,2,0,"th",6)(10,qC,2,1,"td",7),Q(),_(11,zC,1,0,"tr",10)(12,XC,1,0,"tr",11),l()(),a(13,"nui-paginator",12),Ke("pageChange",function(c){return Xe(r.page,c)||(r.page=c),c}),x("pagerAction",function(c){return r.changePagination(c)}),l()),i&2&&(u(),m("dataSource",r.items),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(8,BC))("total",r.totalItems))},dependencies:[de,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-with-table-table__container{overflow:auto}
`],encapsulation:2})}}return t})();var JC=["child"];function YC(t,n){if(t&1){let e=G();a(0,"app-filter-group-with-table",9),x("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function ZC(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=O(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),N("+",e.overflowCounter,"")}}function eS(t,n){if(t&1){let e=G();a(0,"nui-chips-overflow",13),x("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var Ma=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Rt.down,displayValue:"Down"},{value:Rt.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[nt.bottomLeft,nt.topLeft],this.dataSource.setData(La)}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,Xs.default)(e.group.items||[],e.item):(0,Xs.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-with-table"]],viewQuery:function(i,r){if(i&1&&(A(ae,5),A(JC,5),A(Br,5)),i&2){let o;b(o=F())&&(r.popover=o.first),b(o=F())&&(r.child=o.first),b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([{provide:P,useClass:pi}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,YC,1,1,"app-filter-group-with-table",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),x("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,ZC,5,3,"div",8),l(),_(9,eS,1,2,"ng-template",null,0,R),l(),E(11,"app-filtered-view-with-table-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[Y,k,ft,Ud,Br,Qt,qt,ae,Qd],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var Ys=J(rn());var qd=J(gi());var iS=t=>({expander:t}),nS=t=>({checkbox:t});function rS(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function oS(t,n){t&1&&ve(0)}function aS(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function lS(t,n){t&1&&ve(0)}function sS(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,aS,5,2,"ng-template",null,1,R)(3,lS,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,nS,e))}}function cS(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function pS(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,rS,2,1,"ng-template",null,0,R)(5,oS,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,sS,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,cS,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,iS,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var jr=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new xe,this.showAllButtonClicked=new xe,this.onDestroy$=new le}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,qd.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-group-with-tp"]],viewQuery:function(i,r){if(i&1&&A(Te,5),i&2){let o;b(o=F())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,pS,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Ks=J(qn());var zd="http://nova-pg.swdev.local/api/v1/servers",Xd=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return r}static getMultiFiltersNames(e){let i=[];return(0,Ks.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,Ks.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(zd,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let v=this.http.get(`${zd}/count`,{params:c});c=c.set("filters",p),o.push(v)});let f=(d,h)=>{let v=Object.keys(h)[0];return d[v]=Object.values(h)[0],d};return fi(o).pipe(ke(300),_e(([d,h,v])=>({items:d.items?.map(C=>({name:C.name,location:C.location,status:C.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:v.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Va=function(t){return t.active="Active",t.down="Down",t}(Va||{});var Js=J(ii());var mS=["*"];function dS(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function fS(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var Kd=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Js.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Js.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,jr,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:mS,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,dS,4,5,"div",3),l(),_(3,fS,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,Ht,ae,ut],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var gS=()=>[10,20,50,100];function vS(t,n){t&1&&(a(0,"th",17),j(1,1),l())}function CS(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function SS(t,n){t&1&&(a(0,"th",17),j(1,2),l())}function yS(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),w(e.location)}}function ES(t,n){t&1&&(a(0,"th",17),j(1,3),l())}function TS(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function IS(t,n){t&1&&E(0,"tr",19)}function xS(t,n){t&1&&E(0,"tr",20)}function wS(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",21),a(2,"div",22),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function bS(t,n){if(t&1&&(a(0,"div",22)(1,"div",23)(2,"div",24),j(3,4),l()()()),t&2){let e=g();u(3),at(e.items.length)(e.totalItems),lt(3)}}var Jd=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.page=1,this.pageSize=20,this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(Z(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-table-with-pagination-table"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(de,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.paginator=o.first)}},standalone:!1,decls:18,vars:11,consts:()=>{let e;e=$localize`:␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`;let i;i=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;return o=$localize`:␟3a4a744d56678df1eb8b66e80cf3ceaf68441930␟2066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"app-filtered-view-table-with-pagination-table__container"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-filtered-view-table-with-pagination-table-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",5)(1,"table",6),U(2,7),_(3,vS,2,0,"th",8)(4,CS,2,1,"td",9),Q(),U(5,10),_(6,SS,2,0,"th",8)(7,yS,2,1,"td",9),Q(),U(8,11),_(9,ES,2,0,"th",8)(10,TS,2,1,"td",9),Q(),_(11,IS,1,0,"tr",12)(12,xS,1,0,"tr",13),l(),a(13,"footer",14),_(14,wS,4,3,"div",15)(15,bS,4,2,"ng-template",null,0,R),l()(),a(17,"nui-paginator",16),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=O(16);u(),m("dataSource",r.items),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(10,gS))("total",r.totalItems)}},dependencies:[k,de,Vt,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-table-with-pagination-table__container{overflow:auto}.app-filtered-view-table-with-pagination-table-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var OS=["child"];function DS(t,n){if(t&1){let e=G();a(0,"app-filter-group-with-tp",9),x("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function RS(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=O(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),N("+",e.overflowCounter,"")}}function LS(t,n){if(t&1){let e=G();a(0,"nui-chips-overflow",13),x("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var Aa=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Va.down,displayValue:"Down"},{value:Va.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[nt.bottomLeft,nt.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,Ys.default)(e.group.items||[],e.item):(0,Ys.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-table-with-pagination"]],viewQuery:function(i,r){if(i&1&&(A(ae,5),A(OS,5),A(jr,5)),i&2){let o;b(o=F())&&(r.popover=o.first),b(o=F())&&(r.child=o.first),b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([{provide:P,useClass:Xd}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,DS,1,1,"app-filter-group-with-tp",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),x("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,RS,5,3,"div",8),l(),_(9,LS,1,2,"ng-template",null,0,R),l(),E(11,"app-filtered-view-table-with-pagination-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[Y,k,ft,Kd,jr,Qt,qt,ae,Jd],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var ic=J(rn());var Yd=J(gi());var VS=t=>({expander:t}),AS=t=>({checkbox:t});function PS(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function kS(t,n){t&1&&ve(0)}function NS(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function GS(t,n){t&1&&ve(0)}function WS(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,NS,5,2,"ng-template",null,1,R)(3,GS,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,AS,e))}}function BS(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function jS(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,PS,2,1,"ng-template",null,0,R)(5,kS,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,WS,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,BS,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,VS,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var $r=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new xe,this.showAllButtonClicked=new xe,this.onDestroy$=new le}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,Yd.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-group-with-tvs"]],viewQuery:function(i,r){if(i&1&&A(Te,5),i&2){let o;b(o=F())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,jS,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Zs=J(qn());var Zd="http://nova-pg.swdev.local/api/v1/servers",ef=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(400)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return r}static getMultiFiltersNames(e){let i=[];return(0,Zs.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,Zs.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(Zd,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let v=this.http.get(`${Zd}/count`,{params:c});c=c.set("filters",p),o.push(v)});let f=(d,h)=>{let v=Object.keys(h)[0];return d[v]=Object.values(h)[0],d};return fi(o).pipe(ke(300),_e(([d,h,v])=>({items:d.items?.map(C=>({name:C.name,location:C.location,status:C.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:v.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Pa=function(t){return t.active="Active",t.down="Down",t}(Pa||{});var tc=J(ii());var HS=["*"];function US(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function QS(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var tf=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,tc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,tc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,$r,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:HS,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,US,4,5,"div",3),l(),_(3,QS,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,Ht,ae,ut],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function zS(t,n){t&1&&(a(0,"th",21),j(1,3),l()),t&2&&ci("width",30,"%")}function XS(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function KS(t,n){t&1&&(a(0,"th",21),j(1,4),l()),t&2&&ci("width",30,"%")}function JS(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.location," ")}}function YS(t,n){t&1&&(a(0,"th",21),j(1,5),l())}function ZS(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function ey(t,n){t&1&&E(0,"tr",23)}function ty(t,n){t&1&&E(0,"tr",24)}function iy(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",25),a(2,"div",26),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function ny(t,n){t&1&&(U(0),j(1,7),Q())}function ry(t,n){t&1&&(a(0,"strong"),s(1,". All items loaded."),l())}function oy(t,n){if(t&1&&(a(0,"div",26)(1,"div",27)(2,"div",28),j(3,6),l(),a(4,"div",28),_(5,ny,2,0,"ng-container",20)(6,ry,2,0,"ng-template",null,2,R),l()()()),t&2){let e=O(7),i=g();u(3),at(i.items.length)(i.totalItems),lt(3),u(2),m("ngIf",i.items.length!==i.totalItems)("ngIfElse",e)}}var nf=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.viewportManager=i,this.changeDetection=r,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.pageSize=400,this.rowHeight=40,this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.viewportManager}}),this.viewportManager.setViewport(this.viewport).observeNextPage$({pageSize:this.pageSize}).pipe(Yi(()=>!this.items.length||this.items.length<this.totalItems),Z(()=>T(this,null,function*(){return this.applyFilters(!1)})),Zi(()=>this.dataSource.outputsSubject.pipe(Z(e=>{let i=e.repeat?.itemsSource||[];this.items=this.items.concat(i),this.totalItems=e.paginator?.total||0,this.changeDetection.detectChanges()}))),ee(this.destroy$)).subscribe()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.items=[]),yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ot),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-table-with-virtual-scroll-table"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(Ut,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.viewport=o.first)}},standalone:!1,decls:20,vars:11,consts:()=>{let e;e=$localize`:␟1544348a6496c3dcf8e4905654cbb5f5fee191e6␟1552568671699956057: Name `;let i;i=$localize`:␟e01692d26b709ceb10a22f9279fe604d79a26aaa␟212627037199736435: Location `;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;o=$localize`:␟3a4a744d56678df1eb8b66e80cf3ceaf68441930␟2066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `;let c;return c=$localize`:␟b12cc7551005a9787976bb8d2a161113feed479a␟9056616360897919297:, scroll down for more.`,[["viewportRef",""],["defaultText",""],["endOfData",""],e,i,r,o,c,[1,"app-filtered-view-table-with-virtual-scroll-table__container"],["tableStickyHeader","",1,"app-filtered-view-table-with-virtual-scroll-table-scrolling-container",3,"itemSize"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-filtered-view-table-with-virtual-scroll-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1&&(a(0,"div",8)(1,"cdk-virtual-scroll-viewport",9,0)(3,"table",10),H(4,"sliceRange"),U(5,11),_(6,zS,2,2,"th",12)(7,XS,2,1,"td",13),Q(),U(8,14),_(9,KS,2,2,"th",12)(10,JS,2,1,"td",13),Q(),U(11,15),_(12,YS,2,0,"th",16)(13,ZS,2,1,"td",13),Q(),_(14,ey,1,0,"tr",17)(15,ty,1,0,"ng-template",18),l()(),a(16,"footer",19),_(17,iy,4,3,"div",20)(18,oy,8,4,"ng-template",null,1,R),l()()),i&2){let o=O(2),c=O(19);u(),m("itemSize",r.rowHeight),u(2),m("dataSource",Ve(4,8,r.items,o.getRenderedRange())),u(11),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.items),u(2),m("ngIf",r.isBusy)("ngIfElse",c)}},dependencies:[tn,nn,Ut,k,Vt,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt,on,an],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-table-with-virtual-scroll-table__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-filtered-view-table-with-virtual-scroll-table-scrolling-container{height:300px}.app-filtered-view-table-with-virtual-scroll-table-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}
`],encapsulation:2})}}return t})();var ly=["child"];function sy(t,n){if(t&1){let e=G();a(0,"app-filter-group-with-tvs",9),x("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function cy(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=O(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),N("+",e.overflowCounter,"")}}function py(t,n){if(t&1){let e=G();a(0,"nui-chips-overflow",13),x("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var Wa=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Pa.down,displayValue:"Down"},{value:Pa.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[nt.bottomLeft,nt.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,ic.default)(e.group.items||[],e.item):(0,ic.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-table-with-virtual-scroll"]],viewQuery:function(i,r){if(i&1&&(A(ae,5),A(ly,5),A($r,5)),i&2){let o;b(o=F())&&(r.popover=o.first),b(o=F())&&(r.child=o.first),b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([ot,{provide:P,useClass:ef}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,sy,1,1,"app-filter-group-with-tvs",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),x("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,cy,5,3,"div",8),l(),_(9,py,1,2,"ng-template",null,0,R),l(),E(11,"app-filtered-view-table-with-virtual-scroll-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[Y,k,ft,tf,$r,Qt,qt,ae,nf],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var rc=J(rn());var rf=J(gi());var my=t=>({expander:t}),dy=t=>({checkbox:t});function fy(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function hy(t,n){t&1&&ve(0)}function _y(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function gy(t,n){t&1&&ve(0)}function vy(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,_y,5,2,"ng-template",null,1,R)(3,gy,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,dy,e))}}function Cy(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function Sy(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,fy,2,1,"ng-template",null,0,R)(5,hy,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,vy,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,Cy,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,my,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Hr=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new xe,this.showAllButtonClicked=new xe,this.onDestroy$=new le}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,rf.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-group-with-list"]],viewQuery:function(i,r){if(i&1&&A(Te,5),i&2){let o;b(o=F())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,Sy,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Lt=function(t){return t.active="Active",t.down="Down",t}(Lt||{});var of=20,Ba=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:Lt.active},{name:"Man-LT-ASD123",location:"Brno",status:Lt.down},{name:"Man-LT-DSA331",location:"Austin",status:Lt.active},{name:"Man-LT-JKS212",location:"Kyiv",status:Lt.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:Lt.down},{name:"Man-LT-433AAD",location:"Austin",status:Lt.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:Lt.active},{name:"Man-LT-GHJ882",location:"Brno",status:Lt.down},{name:"Man-LT-LLK001",location:"Austin",status:Lt.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:Lt.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:Lt.down},{name:"Man-LT-LKJF12",location:"Austin",status:Lt.down},{name:"Man-LT-882JJS",location:"Kyiv",status:Lt.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:Lt.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:Lt.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:Lt.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:Lt.active},{name:"Man-LT-RRF231",location:"Austin",status:Lt.down}];var nc=J(ii());var Ey=["*"];function Ty(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function Iy(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var af=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,nc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,nc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,Hr,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:Ey,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,Ty,4,5,"div",3),l(),_(3,Iy,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,Ht,ae,ut],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var wy=()=>[10,20,30,40];function by(t,n){t&1&&(U(0),a(1,"span"),j(2,1),l(),Q())}function Fy(t,n){if(t&1&&(a(0,"div",11),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.value," ")}}function Oy(t,n){if(t&1&&(a(0,"div",8)(1,"div",9),_(2,Fy,2,1,"div",10),H(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",Le(3,1,e))}}var lf=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ge.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.totalItems=0,this.page=1,this.pageSize=of,this.itemConfig={trackBy:(r,o)=>o?.name},this.destroy$=new le,this.dataSource.setData(Ba)}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(Z(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),ee(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(Z(e=>{this.filteringState=e,this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-with-list-list"]],viewQuery:function(i,r){if(i&1&&(A(we,5),A(de,5),A(fe,5),A(ht,5)),i&2){let o;b(o=F())&&(r.repeat=o.first),b(o=F())&&(r.paginator=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.sorter=o.first)}},standalone:!1,decls:11,vars:13,consts:()=>{let e;return e=$localize`:␟e4e28b371f8453e22779db590cb0fe67f2a080e8␟7839102902838664367:No results`,[["listRepeatItemTemplate",""],e,[1,"d-flex","flex-row"],[1,"app-filtered-view-with-list-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-filtered-view-with-list-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-filtered-view-with-list-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-filtered-view-with-list-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=G();a(0,"div")(1,"div",2)(2,"nui-sorter",3),x("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(3,"nui-search",4),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(4,"div",2),_(5,by,3,0,"ng-container",5),E(6,"nui-repeat",6),l(),a(7,"div",2)(8,"nui-paginator",7),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(9,Oy,4,3,"ng-template",null,0,R)}if(i&2){let o=O(10);u(2),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",(r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource.length)===0),u(),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(12,wy))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[Y,k,de,we,fe,ht,$t],styles:["[_nghost-%COMP%]   .app-filtered-view-with-list-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-filtered-view-with-list-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var Ry=["child"];function Ly(t,n){if(t&1){let e=G();a(0,"app-filter-group-with-list",9),x("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function My(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=O(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),N("+",e.overflowCounter,"")}}function Vy(t,n){if(t&1){let e=G();a(0,"nui-chips-overflow",13),x("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var ja=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Lt.down,displayValue:"Down"},{value:Lt.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[nt.bottomLeft,nt.topLeft],this.dataSource.setData(Ba)}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,rc.default)(e.group.items||[],e.item):(0,rc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-with-list"]],viewQuery:function(i,r){if(i&1&&(A(ae,5),A(Ry,5),A(Hr,5)),i&2){let o;b(o=F())&&(r.popover=o.first),b(o=F())&&(r.child=o.first),b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([{provide:P,useClass:pi}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,Ly,1,1,"app-filter-group-with-list",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),x("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,My,5,3,"div",8),l(),_(9,Vy,1,2,"ng-template",null,0,R),l(),E(11,"app-filtered-view-with-list-list",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[Y,k,ft,af,Hr,Qt,qt,ae,lf],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var ac=J(rn());var sf=J(gi());var Py=t=>({expander:t}),ky=t=>({checkbox:t});function Ny(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function Gy(t,n){t&1&&ve(0)}function Wy(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function By(t,n){t&1&&ve(0)}function jy(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,Wy,5,2,"ng-template",null,1,R)(3,By,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,ky,e))}}function $y(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function Hy(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,Ny,2,1,"ng-template",null,0,R)(5,Gy,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,jy,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,$y,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,Py,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Ur=(()=>{class t{constructor(e){this.dialogService=e,this.filterChanged=new xe,this.showAllButtonClicked=new xe,this.onDestroy$=new le}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,sf.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-group-with-tree"]],viewQuery:function(i,r){if(i&1&&A(Te,5),i&2){let o;b(o=F())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,Hy,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var pf=J(rh()),uf=J(sh());var cf=["name","code","__typename"],mf=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.apollo=i}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>{let r=i.Subregion;return{tree:{itemsSource:this.buildTree(r)}}})))})}getBackendData(e){return this.apollo.query({query:this.generateQuery(e)}).pipe(ke(300),_e(r=>r.data),He(r=>(this.logger.error(r),Se({}))))}generateQuery(e){let i="",r="",o="";e.language?.value.forEach(p=>i+=`{officialLanguages_some: {name: "${p}"}},`),e.currency?.value.forEach(p=>r+=`{currencies_some: {code: "${p}"}},`),e.subregion?.value.forEach(p=>o+=`{name: "${p}"},`);let c=`query {
          Subregion(filter: {AND: [{region: {name: "Americas"}}], ${o?"OR: ["+o+"]":""}}) {
            name,
            countries${i||r?"(filter: {AND: ["+i+r+"]})":""} {
              name,
              population,
              officialLanguages {
                name
              },
              currencies {
                code
              }
            }
          }
        }`;return Tm`
            ${c}
        `}buildTree(e){let i=[];for(let r in e)if(e.hasOwnProperty(r)&&r!=="__typename"){let o=e[r],c={};(0,pf.default)(o)?(c.name=`${r}`,c.children=this.buildTree(o)):(0,uf.default)(o)?(c.name=o.name||o.code||`${r}`,Object.keys(o).filter(f=>!cf.includes(f)).length&&(c.children=this.buildTree(o))):cf.includes(r)||(c.name=`${r}`,c.children=[{name:o}]),Object.keys(c).length&&i.push(c)}return i}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Em))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var oc=J(ii());var Qy=["*"];function qy(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function zy(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var df=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,oc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,oc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,Ur,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:Qy,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,qy,4,5,"div",3),l(),_(3,zy,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,Ht,ae,ut],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function Ky(t,n){if(t&1&&(a(0,"cdk-nested-tree-node",4),E(1,"button",5),s(2),l()),t&2){let e=n.$implicit;u(2),N(" ",e.name," ")}}function Jy(t,n){if(t&1&&(a(0,"cdk-nested-tree-node",6)(1,"div",7),E(2,"nui-icon",8),a(3,"span",9),s(4),l()(),a(5,"div",10),ve(6,11),l()()),t&2){let e=n.$implicit,i=g(2);u(2),wo("icon",i.treeControl.isExpanded(e)?"triangle-down":"triangle-right"),u(2),w(e.name),u(),Lc("nui-tree__body--collapsed",!i.treeControl.isExpanded(e)),m("@expandedState",i.treeControl.isExpanded(e)?"expanded":"collapsed")}}function Yy(t,n){if(t&1&&(U(0),a(1,"cdk-tree",1),_(2,Ky,3,1,"cdk-nested-tree-node",2)(3,Jy,7,5,"cdk-nested-tree-node",3),l(),Q()),t&2){let e=g();u(),m("dataSource",e.dataSourceTree)("treeControl",e.treeControl),u(2),m("cdkTreeNodeDefWhen",e.hasChild)}}var ff=(()=>{class t{constructor(e,i){this.dataSource=e,this.cdRef=i,this.treeControl=new rp(r=>r.children),this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.items=[],this.filteringState={},this.destroy$=new le,this.hasChild=(r,o)=>!!o.children?.length}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.outputsSubject.pipe(Z(e=>{this.dataSourceTree=new jc(e.tree.itemsSource),this.cdRef.detectChanges()}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-tree"]],standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],[3,"dataSource","treeControl"],["class","nui-tree__leaf",4,"cdkTreeNodeDef"],["class","nui-tree",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[1,"nui-tree__leaf"],["nui-button","","displayStyle","action","type","button","disabled",""],[1,"nui-tree"],["cdkTreeNodeToggle","",1,"nui-tree__header"],[1,"nui-tree__header-icon",3,"icon"],[1,"nui-tree__header-title"],[1,"nui-tree__body"],["cdkTreeNodeOutlet",""]],template:function(i,r){i&1&&_(0,Yy,4,3,"ng-container",0),i&2&&m("ngIf",r.dataSourceTree)},dependencies:[k,mr,_n,sp,ap,cp,lp,op],styles:["[_nghost-%COMP%]   .app-filtered-view-with-list-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-filtered-view-with-list-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}.nui-tree--expanded[_ngcontent-%COMP%]{padding-bottom:5px}.nui-tree__icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:flex;flex-shrink:0;height:30px;justify-content:center;width:30px;margin-left:-7px}.nui-tree__header[_ngcontent-%COMP%]{align-items:center;border-radius:3px;cursor:pointer;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.nui-tree__header[_ngcontent-%COMP%]:hover{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05))}.nui-tree__header-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;-ms-text-overflow:ellipsis;-o-text-overflow:ellipsis;text-overflow:ellipsis;line-height:18px;font-size:13px;font-weight:600;color:#111;color:var(--nui-color-text-default,#111)}.nui-tree__header-icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:flex;flex-shrink:0;height:30px;justify-content:center;width:30px}.nui-tree__header-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex-grow:2;justify-content:flex-start;padding-left:5px;min-width:0;padding-right:5px}.nui-tree__header-content-icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;flex-shrink:0;height:30px;justify-content:center;width:30px}.nui-tree__header-content--with-icon[_ngcontent-%COMP%]{padding-left:0}.nui-tree__header-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:2;min-width:0;width:100%}.nui-tree__header.nui-expander__header--empty.nui-expander__header[_ngcontent-%COMP%]{display:inline-flex}.nui-tree__header.nui-expander__header--empty[_ngcontent-%COMP%]   .nui-expander__header-content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.nui-tree__custom-header[_ngcontent-%COMP%]{width:100%}.nui-tree__custom-header--empty[_ngcontent-%COMP%]{display:flex;width:auto}.nui-tree__body[_ngcontent-%COMP%]{border:none;border-left:dotted 2px #d9d9d9;border-left:dotted 2px var(--nui-color-line-default, #d9d9d9);color:#111;color:var(--nui-color-text-default, #111);margin-left:14px;padding-left:14px}.nui-tree__body.hide-left-border[_ngcontent-%COMP%]{border-left:0}.nui-tree__body.ng-animating[_ngcontent-%COMP%], .nui-tree__body--collapsed[_ngcontent-%COMP%]{overflow:hidden}.nui-tree__leaf[_ngcontent-%COMP%]{display:flex;align-items:center}.nui-tree__invisible[_ngcontent-%COMP%]{display:none}"],data:{animation:[Xc]},changeDetection:0})}}return t})();var eE=["child"];function tE(t,n){if(t&1){let e=G();a(0,"app-filter-group-with-tree",9),x("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function iE(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=O(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),N("+",e.overflowCounter,"")}}function nE(t,n){if(t&1){let e=G();a(0,"nui-chips-overflow",13),x("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var $a=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"subregion",title:"Subregion",allFilterOptions:[{value:"Caribbean",displayValue:"Caribbean"},{value:"South America",displayValue:"South America"},{value:"Central America",displayValue:"Central America"},{value:"Northern America",displayValue:"Northern America"}],selectedFilterValues:[]},{id:"language",title:"Language",allFilterOptions:[{value:"English",displayValue:"English"},{value:"Dutch",displayValue:"Dutch"},{value:"French",displayValue:"French"},{value:"Spanish",displayValue:"Spanish"}],selectedFilterValues:[]},{id:"currency",title:"Currency",allFilterOptions:[{value:"USD",displayValue:"USD"},{value:"EUR",displayValue:"EUR"},{value:"CAD",displayValue:"CAD"},{value:"MXN",displayValue:"MXN"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[nt.bottomLeft,nt.topLeft]}ngAfterViewInit(){this.dataSource.applyFilters()}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,ac.default)(e.group.items||[],e.item):(0,ac.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-with-tree"]],viewQuery:function(i,r){if(i&1&&(A(ae,5),A(eE,5),A(Ur,5)),i&2){let o;b(o=F())&&(r.popover=o.first),b(o=F())&&(r.child=o.first),b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([{provide:P,useClass:mf}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,tE,1,1,"app-filter-group-with-tree",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),x("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,iE,5,3,"div",8),l(),_(9,nE,1,2,"ng-template",null,0,R),l(),E(11,"app-filtered-view-tree",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[Y,k,ft,df,Ur,Qt,qt,ae,ff],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var cc=J(rn());var hf=J(gi());var oE=t=>({expander:t}),aE=t=>({checkbox:t});function lE(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function sE(t,n){t&1&&ve(0)}function cE(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function pE(t,n){t&1&&ve(0)}function uE(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,cE,5,2,"ng-template",null,1,R)(3,pE,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,aE,e))}}function mE(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function dE(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,lE,2,1,"ng-template",null,0,R)(5,sE,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,uE,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,mE,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,oE,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Qr=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new xe,this.showAllButtonClicked=new xe,this.onDestroy$=new le}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,hf.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-group-with-selection"]],viewQuery:function(i,r){if(i&1&&A(Te,5),i&2){let o;b(o=F())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,dE,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var lc=J(qn());var _f="http://nova-pg.swdev.local/api/v1/servers",gf=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return e.search?.value&&(r=r.set("searchField","name"),r=r.set("searchContent",e.search?.value??"")),e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}static getMultiFiltersNames(e){let i=[];return(0,lc.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,lc.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(_f,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let v=this.http.get(`${_f}/count`,{params:c});c=c.set("filters",p),o.push(v)});let f=(d,h)=>{let v=Object.keys(h)[0];return d[v]=Object.values(h)[0],d};return fi(o).pipe(ke(300),_e(([d,h,v])=>({items:d.items?.map(C=>({name:C.name,location:C.location,status:C.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:v.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Ha=function(t){return t.active="Active",t.down="Down",t}(Ha||{});var sc=J(ii());var hE=["*"];function _E(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function gE(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var vf=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,sc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,sc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,Qr,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:hE,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,_E,4,5,"div",3),l(),_(3,gE,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,Ht,ae,ut],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var SE=()=>[10,20,50,100];function yE(t,n){t&1&&(a(0,"th",21),j(1,1),l())}function EE(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function TE(t,n){t&1&&(a(0,"th",21),j(1,2),l())}function IE(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),w(e.location)}}function xE(t,n){t&1&&(a(0,"th",21),j(1,3),l())}function wE(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function bE(t,n){t&1&&E(0,"tr",23)}function FE(t,n){if(t&1&&E(0,"tr",24),t&2){let e=n.$implicit;m("rowObject",e)}}function OE(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",25),a(2,"div",26),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function DE(t,n){if(t&1&&(a(0,"div",26)(1,"div",27)(2,"div",28),j(3,4),l()()()),t&2){let e=g();u(3),at(e.items.length)(e.totalItems),lt(3)}}var Cf=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ge.ascending},this.columnsToApplySearch=["name"],this.page=1,this.pageSize=20,this.selectedItems=[],this.selection={isAllPages:!1,include:["ABERN-SVR-ATQU9404"],exclude:[]},this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({search:{componentInstance:this.search},paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(Z(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),ee(this.destroy$)).subscribe(),this.search.inputChange.pipe(bi(500),Z(()=>T(this,null,function*(){return this.onSearch()})),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}onSelectionChanged(e){this.changeDetection.detectChanges()}trackBy(e,i){return i.name}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-table-with-selection-table"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(fe,5),A(de,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.paginator=o.first)}},standalone:!1,decls:26,vars:20,consts:()=>{let e;e=$localize`:␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`;let i;i=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;return o=$localize`:␟3a4a744d56678df1eb8b66e80cf3ceaf68441930␟2066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"flex-row-container"],[1,"flex-independent-row-item"],[1,"app-filtered-view-table-with-selection-table__container"],[1,"app-filtered-view-table-with-selection-table-searchable__search"],[3,"search","cancel","value"],["nui-table","",3,"sortOrderChanged","selectionChange","dataSource","sortable","sortedColumn","selection","selectable","trackBy"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",3,"rowObject",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-filtered-view-table-with-selection-table-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row","",3,"rowObject"],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=G();a(0,"h2"),s(1,"Selection result"),l(),a(2,"div",5)(3,"span",6),s(4),H(5,"json"),l()(),a(6,"div",7)(7,"div",8)(8,"nui-search",9),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(9,"table",10),x("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),Ke("selectionChange",function(p){return S(o),Xe(r.selection,p)||(r.selection=p),y(p)}),x("selectionChange",function(p){return S(o),y(r.onSelectionChanged(p))}),U(10,11),_(11,yE,2,0,"th",12)(12,EE,2,1,"td",13),Q(),U(13,14),_(14,TE,2,0,"th",12)(15,IE,2,1,"td",13),Q(),U(16,15),_(17,xE,2,0,"th",12)(18,wE,2,1,"td",13),Q(),_(19,bE,1,0,"tr",16)(20,FE,1,1,"tr",17),l(),a(21,"footer",18),_(22,OE,4,3,"div",19)(23,DE,4,2,"ng-template",null,0,R),l()(),a(25,"nui-paginator",20),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=O(24);u(4),w(Le(5,17,r.selection)),u(4),m("value",r.searchTerm),u(),m("dataSource",r.items)("sortable",!0)("sortedColumn",r.sortedColumn),ze("selection",r.selection),m("selectable",!0)("trackBy",r.trackBy),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(19,SE))("total",r.totalItems)}},dependencies:[k,de,Vt,fe,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt,ur],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-table-with-selection-table__container{overflow:auto}.app-filtered-view-table-with-selection-table-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-filtered-view-table-with-selection-table-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var LE=["child"];function ME(t,n){if(t&1){let e=G();a(0,"app-filter-group-with-selection",9),x("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function VE(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=O(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),N("+",e.overflowCounter,"")}}function AE(t,n){if(t&1){let e=G();a(0,"nui-chips-overflow",13),x("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var Ua=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Ha.down,displayValue:"Down"},{value:Ha.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[nt.bottomLeft,nt.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,cc.default)(e.group.items||[],e.item):(0,cc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-table-with-selection"]],viewQuery:function(i,r){if(i&1&&(A(ae,5),A(LE,5),A(Qr,5)),i&2){let o;b(o=F())&&(r.popover=o.first),b(o=F())&&(r.child=o.first),b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([{provide:P,useClass:gf}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,ME,1,1,"app-filter-group-with-selection",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),x("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,VE,5,3,"div",8),l(),_(9,AE,1,2,"ng-template",null,0,R),l(),E(11,"app-filtered-view-table-with-selection-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[Y,k,ft,vf,Qr,Qt,qt,ae,Cf],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var mc=J(rn());var Sf=J(gi());var kE=t=>({expander:t}),NE=t=>({checkbox:t});function GE(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function WE(t,n){t&1&&ve(0)}function BE(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function jE(t,n){t&1&&ve(0)}function $E(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,BE,5,2,"ng-template",null,1,R)(3,jE,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,NE,e))}}function HE(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function UE(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,GE,2,1,"ng-template",null,0,R)(5,WE,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,$E,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,HE,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,kE,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var qr=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new xe,this.showAllButtonClicked=new xe,this.onDestroy$=new le}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,Sf.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-group-with-cvs"]],viewQuery:function(i,r){if(i&1&&A(Te,5),i&2){let o;b(o=F())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,UE,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var pc=J(qn());var Eo=400,Qa=new xn("CUSTOM_SCROLL_ITEMS_PER_PAGE");var yf="http://nova-pg.swdev.local/api/v1/servers",Ef=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(Eo)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return r}static getMultiFiltersNames(e){let i=[];return(0,pc.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,pc.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(yf,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let v=this.http.get(`${yf}/count`,{params:c});c=c.set("filters",p),o.push(v)});let f=(d,h)=>{let v=Object.keys(h)[0];return d[v]=Object.values(h)[0],d};return fi(o).pipe(ke(300),_e(([d,h,v])=>({items:d.items?.map(C=>({name:C.name,location:C.location,status:C.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:v.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var qa=function(t){return t.active="Active",t.down="Down",t}(qa||{});var uc=J(ii());var qE=["*"];function zE(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function XE(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var Tf=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,uc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,uc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,qr,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:qE,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,zE,4,5,"div",3),l(),_(3,XE,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,Ht,ae,ut],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var za=(()=>{class t{constructor(e){this.itemsPerPage=e,this.reset()}getFilters(){return{type:"virtualScroll",value:this.virtualScrollRange}}reset(){this.virtualScrollRange={start:0,end:this.itemsPerPage}}prepareNextPage(e){e<this.itemsPerPage||(this.virtualScrollRange.start+=this.itemsPerPage,this.virtualScrollRange.end=this.virtualScrollRange.start+this.itemsPerPage)}static{this.\u0275fac=function(i){return new(i||t)(se(Qa))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();function YE(t,n){t&1&&(a(0,"th",20),j(1,2),l()),t&2&&ci("width",30,"%")}function ZE(t,n){if(t&1&&(a(0,"td",21),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function eT(t,n){t&1&&(a(0,"th",20),j(1,3),l()),t&2&&ci("width",30,"%")}function tT(t,n){if(t&1&&(a(0,"td",21),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.location," ")}}function iT(t,n){t&1&&(a(0,"th",20),j(1,4),l())}function nT(t,n){if(t&1&&(a(0,"td",21),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function rT(t,n){t&1&&E(0,"tr",22)}function oT(t,n){t&1&&E(0,"tr",23)}function aT(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",24),a(2,"div",25),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function lT(t,n){if(t&1){let e=G();a(0,"div",25)(1,"div",26)(2,"div",27),j(3,5),l(),a(4,"div",28)(5,"button",29),x("click",function(){S(e);let r=g();return y(r.applyFilters(!1))}),j(6,6),l()()()()}if(t&2){let e=g();u(3),at(e.items.length),lt(3),u(3),at(e.pageSize),lt(6)}}var If=(()=>{class t{constructor(e,i,r,o){this.dataSource=e,this.viewportManager=i,this.customVirtualScrollStrategyService=r,this.changeDetection=o,this.items=[],this.isBusy=!1,this.displayedColumns=["name","location","status"],this.pageSize=Eo,this.rowHeight=40,this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.customVirtualScrollStrategyService}}),this.viewportManager.setViewport(this.viewport),this.dataSource.outputsSubject.pipe(Z(e=>{let i=e.repeat?.itemsSource||[],r=i.length,o=r<this.pageSize?this.previouslyLoadedCount-r:r;i=i.slice(0,o),this.previouslyLoadedCount=i.length,this.items=this.items.concat(i),this.customVirtualScrollStrategyService.prepareNextPage(r)}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.items=[],this.customVirtualScrollStrategyService.reset()),yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ot),I(za),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-table-with-custom-virtual-scroll-table"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(Ut,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.viewport=o.first)}},standalone:!1,features:[pe([ot,za,{provide:Qa,useValue:Eo}])],decls:20,vars:11,consts:()=>{let e;e=$localize`:␟1544348a6496c3dcf8e4905654cbb5f5fee191e6␟1552568671699956057: Name `;let i;i=$localize`:␟e01692d26b709ceb10a22f9279fe604d79a26aaa␟212627037199736435: Location `;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;o=$localize`:␟fd2c761c79d0b41a63c7f1ca71a99a1439f81790␟4607040487655280131: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: item(s). `;let c;return c=$localize`:␟82b9a2e2e3f636942c16552ddad1266bc1eeee47␟3980091347819066373: Load another ${"\uFFFD0\uFFFD"}:INTERPOLATION: items `,[["viewportRef",""],["defaultText",""],e,i,r,o,c,[1,"app-filtered-view-table-with-custom-virtual-scroll-table__container"],["tableStickyHeader","",1,"app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-container",3,"itemSize"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],[1,"d-flex","justify-content-center"],["btn","","nui-button","","type","button","size","default","displayStyle","action",3,"click"]]},template:function(i,r){if(i&1&&(a(0,"div",7)(1,"cdk-virtual-scroll-viewport",8,0)(3,"table",9),H(4,"sliceRange"),U(5,10),_(6,YE,2,2,"th",11)(7,ZE,2,1,"td",12),Q(),U(8,13),_(9,eT,2,2,"th",11)(10,tT,2,1,"td",12),Q(),U(11,14),_(12,iT,2,0,"th",15)(13,nT,2,1,"td",12),Q(),_(14,rT,1,0,"tr",16)(15,oT,1,0,"ng-template",17),l()(),a(16,"footer",18),_(17,aT,4,3,"div",19)(18,lT,7,2,"ng-template",null,1,R),l()()),i&2){let o=O(2),c=O(19);u(),m("itemSize",r.rowHeight),u(2),m("dataSource",Ve(4,8,r.items,o.getRenderedRange())),u(11),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.items),u(2),m("ngIf",r.isBusy)("ngIfElse",c)}},dependencies:[tn,nn,Ut,k,Vt,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt,on,an],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-table-with-custom-virtual-scroll-table__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-container{height:300px}.app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}
`],encapsulation:2})}}return t})();var cT=["child"];function pT(t,n){if(t&1){let e=G();a(0,"app-filter-group-with-cvs",9),x("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function uT(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=O(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),N("+",e.overflowCounter,"")}}function mT(t,n){if(t&1){let e=G();a(0,"nui-chips-overflow",13),x("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var Xa=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:qa.down,displayValue:"Down"},{value:qa.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[nt.bottomLeft,nt.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,mc.default)(e.group.items||[],e.item):(0,mc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-table-with-custom-virtual-scroll"]],viewQuery:function(i,r){if(i&1&&(A(ae,5),A(cT,5),A(qr,5)),i&2){let o;b(o=F())&&(r.popover=o.first),b(o=F())&&(r.child=o.first),b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([ot,{provide:P,useClass:Ef}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,pT,1,1,"app-filter-group-with-cvs",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),x("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,uT,5,3,"div",8),l(),_(9,mT,1,2,"ng-template",null,0,R),l(),E(11,"app-filtered-view-table-with-custom-virtual-scroll-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[Y,k,ft,Tf,qr,Qt,qt,ae,If],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var _c=J(rn());var xf=J(gi());var fT=t=>({expander:t}),hT=t=>({checkbox:t});function _T(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),w(e.filterGroupItem.title)}}function gT(t,n){t&1&&ve(0)}function vT(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),w(e.displayValue),u(2),w(e.count)}}function CT(t,n){t&1&&ve(0)}function ST(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,vT,5,2,"ng-template",null,1,R)(3,CT,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=O(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Ee(4,hT,e))}}function yT(t,n){if(t&1){let e=G();a(0,"a",15),x("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),N(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function ET(t,n){if(t&1){let e=G();a(0,"div",3)(1,"nui-expander",4),x("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,_T,2,1,"ng-template",null,0,R)(5,gT,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),x("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,ST,4,6,"nui-checkbox",8),H(8,"slice"),l(),_(9,yT,2,1,"a",9),l()()}if(t&2){let e=O(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Ee(10,fT,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",pt(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var zr=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new xe,this.showAllButtonClicked=new xe,this.onDestroy$=new le}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,xf.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(I(rt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-group-with-tvss"]],viewQuery:function(i,r){if(i&1&&A(Te,5),i&2){let o;b(o=F())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},standalone:!1,decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,ET,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[Y,k,Je,Te,dt,We,mt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var dc=J(qn());var wf="http://nova-pg.swdev.local/api/v1/servers",bf=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(400)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return r}static getMultiFiltersNames(e){let i=[];return(0,dc.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,dc.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(wf,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let v=this.http.get(`${wf}/count`,{params:c});c=c.set("filters",p),o.push(v)});let f=(d,h)=>{let v=Object.keys(h)[0];return d[v]=Object.values(h)[0],d};return fi(o).pipe(ke(300),_e(([d,h,v])=>({items:d.items?.map(C=>({name:C.name,location:C.location,status:C.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:v.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Ka=function(t){return t.active="Active",t.down="Down",t}(Ka||{});var hc=J(ii());var IT=["*"];function xT(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),H(3,"i18nPlural"),l()()),t&2){let e=g(),i=O(4);u(),m("template",i),u(),N(" ",Ve(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function wT(t,n){if(t&1&&(a(0,"span",6),j(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),w(e.emptyFilterGroupsTitles())}}var Ff=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,hc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,hc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&st(o,zr,4),i&2){let c;b(c=F())&&(r.filterGroups=c)}},standalone:!1,ngContentSelectors:IT,decls:5,vars:1,consts:()=>{let e;return e=$localize`:␟c4e4d01ee17f88a7eac2c5247e75ff6c49709a25␟3951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(Ne(),a(0,"div",2),Me(1),_(2,xT,4,5,"div",3),l(),_(3,wT,5,1,"ng-template",null,0,R)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[k,Ht,ae,ut],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function FT(t,n){t&1&&(a(0,"th",23),j(1,3),l()),t&2&&ci("width",30,"%")}function OT(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function DT(t,n){t&1&&(a(0,"th",23),j(1,4),l()),t&2&&ci("width",30,"%")}function RT(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.location," ")}}function LT(t,n){t&1&&(a(0,"th",23),j(1,5),l())}function MT(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function VT(t,n){t&1&&E(0,"tr",25)}function AT(t,n){if(t&1&&E(0,"tr",26),t&2){let e=n.$implicit;m("rowObject",e)}}function PT(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",27),a(2,"div",28),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function kT(t,n){t&1&&(U(0),j(1,7),Q())}function NT(t,n){t&1&&(a(0,"strong"),s(1,". All items loaded."),l())}function GT(t,n){if(t&1&&(a(0,"div",28)(1,"div",29)(2,"div",30),j(3,6),l(),a(4,"div",30),_(5,kT,2,0,"ng-container",22)(6,NT,2,0,"ng-template",null,2,R),l()()()),t&2){let e=O(7),i=g();u(3),at(i.items.length)(i.totalItems),lt(3),u(2),m("ngIf",i.items.length!==i.totalItems)("ngIfElse",e)}}var Of=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.viewportManager=i,this.changeDetection=r,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.pageSize=400,this.selectedItems=[],this.selection={isAllPages:!1,include:["ABERN-SVR-ATQU9404"],exclude:[]},this.rowHeight=40,this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.viewportManager}}),this.viewportManager.setViewport(this.viewport).observeNextPage$({pageSize:this.pageSize}).pipe(Yi(()=>!this.items.length||this.items.length<this.totalItems),Z(()=>T(this,null,function*(){return this.applyFilters(!1)})),Zi(()=>this.dataSource.outputsSubject.pipe(Z(e=>{let i=e.repeat?.itemsSource||[];this.items=this.items.concat(i),this.totalItems=e.paginator?.total||0,this.changeDetection.detectChanges()}))),ee(this.destroy$)).subscribe()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSelectionChanged(e){this.changeDetection.detectChanges()}trackBy(e,i){return i.name}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.items=[]),yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ot),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-table-with-virtual-scroll-selection-table"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(Ut,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.viewport=o.first)}},standalone:!1,decls:26,vars:17,consts:()=>{let e;e=$localize`:␟1544348a6496c3dcf8e4905654cbb5f5fee191e6␟1552568671699956057: Name `;let i;i=$localize`:␟e01692d26b709ceb10a22f9279fe604d79a26aaa␟212627037199736435: Location `;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;o=$localize`:␟3a4a744d56678df1eb8b66e80cf3ceaf68441930␟2066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `;let c;return c=$localize`:␟b12cc7551005a9787976bb8d2a161113feed479a␟9056616360897919297:, scroll down for more.`,[["viewportRef",""],["defaultText",""],["endOfData",""],e,i,r,o,c,[1,"flex-row-container"],[1,"flex-independent-row-item"],[1,"app-filtered-view-table-with-virtual-scroll-selection-table__container"],["tableStickyHeader","",1,"app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-container",3,"itemSize"],["nui-table","",3,"selectionChange","dataSource","selection","selectable","trackBy"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row","",3,"rowObject"],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=G();a(0,"h2"),s(1,"Selection result"),l(),a(2,"div",8)(3,"span",9),s(4),H(5,"json"),l()(),a(6,"div",10)(7,"cdk-virtual-scroll-viewport",11,0)(9,"table",12),H(10,"sliceRange"),Ke("selectionChange",function(p){return S(o),Xe(r.selection,p)||(r.selection=p),y(p)}),x("selectionChange",function(p){return S(o),y(r.onSelectionChanged(p))}),U(11,13),_(12,FT,2,2,"th",14)(13,OT,2,1,"td",15),Q(),U(14,16),_(15,DT,2,2,"th",14)(16,RT,2,1,"td",15),Q(),U(17,17),_(18,LT,2,0,"th",18)(19,MT,2,1,"td",15),Q(),_(20,VT,1,0,"tr",19)(21,AT,1,1,"ng-template",20),l()(),a(22,"footer",21),_(23,PT,4,3,"div",22)(24,GT,8,4,"ng-template",null,1,R),l()()}if(i&2){let o=O(8),c=O(25);u(4),w(Le(5,12,r.selection)),u(3),m("itemSize",r.rowHeight),u(2),m("dataSource",Ve(10,14,r.items,o.getRenderedRange())),ze("selection",r.selection),m("selectable",!0)("trackBy",r.trackBy),u(11),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.items),u(2),m("ngIf",r.isBusy)("ngIfElse",c)}},dependencies:[tn,nn,Ut,k,Vt,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt,on,ur,an],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-table-with-virtual-scroll-selection-table__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-container{height:300px}.app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}
`],encapsulation:2})}}return t})();var BT=["child"];function jT(t,n){if(t&1){let e=G();a(0,"app-filter-group-with-tvss",9),x("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function $T(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=O(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),N("+",e.overflowCounter,"")}}function HT(t,n){if(t&1){let e=G();a(0,"nui-chips-overflow",13),x("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var Ja=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Ka.down,displayValue:"Down"},{value:Ka.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[nt.bottomLeft,nt.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,_c.default)(e.group.items||[],e.item):(0,_c.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-filtered-view-table-with-virtual-scroll-selection"]],viewQuery:function(i,r){if(i&1&&(A(ae,5),A(BT,5),A(zr,5)),i&2){let o;b(o=F())&&(r.popover=o.first),b(o=F())&&(r.child=o.first),b(o=F())&&(r.filterGroups=o)}},standalone:!1,features:[pe([ot,{provide:P,useClass:bf}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=G();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,jT,1,1,"app-filter-group-with-tvss",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),x("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,$T,5,3,"div",8),l(),_(9,HT,1,2,"ng-template",null,0,R),l(),E(11,"app-filtered-view-table-with-virtual-scroll-selection-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[Y,k,ft,Ff,zr,Qt,qt,ae,Of],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var QT=["*"],Df=(t,n)=>[t,n],Rf=(t,n)=>({tpl:t,types:n}),Lf=t=>({type:t});function qT(t,n){t&1&&ve(0)}function zT(t,n){t&1&&(U(0),a(1,"p"),s(2," To give users the ability to select rows, do the following: "),l(),a(3,"ol")(4,"li"),s(5," Set the "),a(6,"code"),s(7,"selectable"),l(),s(8," input to "),a(9,"code"),s(10,"true"),l(),s(11,". "),l(),a(12,"li"),s(13," Bind a trackBy handler to the "),a(14,"code")(15,"a",10),s(16,"trackBy"),l()(),s(17," property inherited from "),a(18,"code")(19,"a",11),s(20,"CdkTable"),l()(),s(21,". The trackBy handler should return a value that uniquely identifies each item in the table. "),E(22,"br"),a(23,"strong"),s(24,"Note:"),l(),s(25," When "),a(26,"code"),s(27,"trackBy"),l(),s(28," is used, the "),a(29,"code")(30,"a",12),s(31,"ISelection"),l()(),s(32," will consist of the "),a(33,"code"),s(34,"trackBy"),l(),s(35," property values only and will not contain entire representations of the selected objects. As a result, it may be beneficial to keep a separate index that maps the selected item IDs to the corresponding objects. "),l(),a(36,"li"),s(37," Pass the row object to "),a(38,"code"),s(39,"nui-row"),l(),s(40," using the "),a(41,"code"),s(42,"rowObject"),l(),s(43," input. "),l(),a(44,"li"),s(45," Bind to the selection event using the "),a(46,"code"),s(47,"(selectionChange)"),l(),s(48," output. The event's payload is an "),a(49,"code")(50,"a",12),s(51,"ISelection"),l()(),s(52," object which should be converted to selected items by calling the "),a(53,"code"),s(54,"getSelectedItems"),l(),s(55," function on the "),a(56,"code")(57,"a",13),s(58,"SelectorService"),l()(),s(59,". "),l()(),a(60,"p")(61,"b"),s(62,"Note 1:"),l(),s(63,"To preselect rows in a table or to programmatically change the selection you can use the "),a(64,"code"),s(65,"selection"),l(),s(66," input which is of type "),a(67,"code")(68,"a",12),s(69,"ISelection"),l()(),s(70,". "),l(),a(71,"p")(72,"b"),s(73,"Note 2:"),l(),s(74," If you need to use "),a(75,"code"),s(76,"nui-paginator"),l(),s(77," with row selection, you need to pass the total number of items on all pages into the "),a(78,"code"),s(79,"totalItems"),l(),s(80," input. "),l(),a(81,"nui-message",14)(82,"p")(83,"strong"),s(84,"Important:"),l(),s(85," When working with data that's coming across the wire, it's necessary to bind a "),a(86,"code"),s(87,"trackBy"),l(),s(88," handler as mentioned above. This will allow selection tracking to be based on the identifier returned by the "),a(89,"code"),s(90,"trackBy"),l(),s(91," handler. If a "),a(92,"code"),s(93,"trackBy"),l(),s(94," is not provided, comparisons to determine whether items are selected will be based on object reference which of course won't work with items coming from a backend. "),l(),s(95,' Take a look at the source on the "Selection" tab example to see how. '),l(),Q()),t&2&&(u(81),m("allowDismiss",!1))}function XT(t,n){t&1&&(a(0,"li")(1,"nui-expander",15)(2,"p"),s(3," Enables single-selection with deselection not allowed. "),l()()()),t&2&&(u(),m("open",!1))}function KT(t,n){t&1&&(a(0,"li")(1,"nui-expander",16)(2,"p"),s(3," Enables single-selection with no radio buttons and deselection allowed. "),l()()()),t&2&&(u(),m("open",!1))}function JT(t,n){t&1&&(a(0,"li")(1,"nui-expander",17)(2,"p"),s(3," Enables single-selection with no radio buttons and deselection not allowed. "),l()()()),t&2&&(u(),m("open",!1))}function YT(t,n){t&1&&(a(0,"li")(1,"nui-expander",18)(2,"p"),s(3," Enables single-selection with deselection allowed. "),l()()()),t&2&&(u(),m("open",!1))}function ZT(t,n){if(t&1&&(a(0,"ul")(1,"li")(2,"nui-expander",7)(3,"p"),s(4,"Table rows are not selectable."),l()()(),a(5,"li")(6,"nui-expander",8)(7,"p"),s(8),l(),_(9,zT,96,1,"ng-container",9),l()(),_(10,XT,4,1,"li",9)(11,KT,4,1,"li",9)(12,JT,4,1,"li",9)(13,YT,4,1,"li",9),l()),t&2){let e=n.type,i=g(2);u(2),m("open",!1),u(4),m("open",!1),u(2),N(" This option enables the possibility to select one or more rows in the ",i.forComponent?i.forComponent:"component",". "),u(),m("ngIf",e===i.componentType.table),u(),m("ngIf",e===i.componentType.list),u(),m("ngIf",e===i.componentType.list),u(),m("ngIf",e===i.componentType.list),u(),m("ngIf",e===i.componentType.list)}}function eI(t,n){if(t&1&&(U(0),a(1,"p"),s(2," This string option allows you to select whether to enable selection and, if so, what type. Default is "),a(3,"code"),s(4,"none"),l(),s(5),l(),_(6,qT,1,0,"ng-container",6)(7,ZT,14,8,"ng-template",null,1,R),Q()),t&2){let e=O(8),i=g(),r=O(11);u(5),N(". The values currently supported for this option are listed",i.forComponent?"":" below for each type of component",": "),u(),m("ngTemplateOutlet",r)("ngTemplateOutletContext",Jr(6,Rf,e,Jr(3,Df,i.componentType.list,i.componentType.table)))}}function tI(t,n){t&1&&ve(0)}function iI(t,n){if(t&1&&(U(0),a(1,"p"),s(2," The "),a(3,"code"),s(4,"nui-repeat"),l(),s(5," used inside this schematic allows you to manage the virtual viewport by exposing its "),a(6,"code"),s(7),l(),s(8," property which is an instance of "),a(9,"code")(10,"a",25),s(11,"CdkVirtualScrollViewport"),l()(),s(12,". The example below uses Nova's "),a(13,"code")(14,"a",26),s(15,"VirtualViewportManager"),l()(),s(16," to handle the viewport management duties via the "),a(17,"code"),s(18),l(),s(19," property. "),l(),Q()),t&2){let e=g(3);u(7),w(e.getRepeatPropKey("viewportRef")),u(11),w(e.getRepeatPropKey("viewportRef"))}}function nI(t,n){t&1&&(U(0),s(1," The "),a(2,"code"),s(3,"nui-table"),l(),s(4," used inside this schematic API is using "),a(5,"a",27),s(6,"nui table virtual scroll directive"),l(),s(7,". It makes it possible to load items in chunks. The amount of items loaded per fetch can be configured by setting the "),a(8,"code"),s(9,"range"),l(),s(10," variable. "),a(11,"nui-message",14),s(12," The following examples use custom Nova "),a(13,"a",27),s(14,"TableVirtualScrollLinearDirective"),l(),s(15," to perform scrolling based on scrolling indexes within the virtual scroll viewport. Customers are free to create their own directive and\\or scrolling strategy if they want custom behavior. "),l(),a(16,"nui-message",14),s(17," There are some known "),a(18,"strong"),s(19,"technical limitations"),l(),s(20,":"),E(21,"br"),a(22,"ol")(23,"li"),s(24," Data for the table should be provided in a DataSource service "),l(),a(25,"li"),s(26," Each datasource should have a page counter, to enable items prefetching (in case the viewport size is larger that the chosen items per page selected) "),l(),a(27,"li")(28,"a",28),s(29,"Angular doesn't subport virtual scrolling over a list of items whose size is not known and needs to be measured"),l()(),a(30,"li"),s(31," When CDK Viewport is used in context of non-visible dom elements (eg: Tabs, Accordion) virtual scroll will not work properly. The solution is not do initiate the viewport until it is visible using *ngIf, *ngSwitch. "),l()()(),Q()),t&2&&(u(11),m("allowDismiss",!1),u(5),m("allowDismiss",!1))}function rI(t,n){if(t&1&&(U(0),a(1,"p"),s(2," To make the scrolling working with "),a(3,"code"),s(4,"nui-table"),l(),s(5," start with declaring the following variables:"),E(6,"br")(7,"br"),l(),E(8,"nui-example-code",29)(9,"br"),a(10,"p"),s(11," Import "),a(12,"a",30),s(13,"VirtualViewportManager"),l(),s(14," (provides a mechanism for sequencing the rendered range stream emitted from the CDK Viewport into distinct page ranges):"),E(15,"br"),l(),E(16,"nui-example-code",29)(17,"br"),a(18,"p"),s(19," Provide VirtualViewportManager on a component level providers:"),E(20,"br"),l(),E(21,"nui-example-code",29)(22,"br"),a(23,"p"),s(24," Inject VirtualViewportManager type in the constructor:"),E(25,"br"),l(),E(26,"nui-example-code",29)(27,"br"),a(28,"p"),s(29," Use the Angular ViewChild decorator to get a reference to the scrolling viewport (CdkVirtualScrollViewport):"),E(30,"br"),l(),E(31,"nui-example-code",29)(32,"br"),a(33,"p"),s(34," Register the virtual scroll filter on dataSource: "),l(),E(35,"nui-example-code",29)(36,"br"),a(37,"p"),s(38," Optionally, subscribe to the "),a(39,"code"),s(40,"busy"),l(),s(41," state changes: "),l(),E(42,"nui-example-code",29)(43,"br"),a(44,"p"),s(45," Start setting up the "),a(46,"code"),s(47,"ngAfterViewInit()"),l(),s(48," lifecycle hook:"),E(49,"br"),l(),E(50,"nui-example-code",29)(51,"br"),s(52," Setting up the viewportManager listener and dataSource handler in the "),a(53,"code"),s(54,"ngAfterViewInit"),l(),s(55,": "),a(56,"ol")(57,"li"),s(58," Use the "),a(59,"strong"),s(60,"setViewport"),l(),s(61," method to initialize "),a(62,"code"),s(63,"VirtualViewportManager"),l(),s(64,". "),l(),a(65,"li"),s(66," Chain the "),a(67,"strong"),s(68,"observeNextPage$"),l(),s(69," method with the required parameters ("),a(70,"a",31),s(71,"IVirtualPageConfig)"),l(),s(72,". "),l(),a(73,"li")(74,"b")(75,"i"),s(76,"Optional"),l()(),s(77," You may like to ignore "),a(78,"code"),s(79,"VirtualViewportManager"),l(),s(80," emissions when the "),a(81,"code"),s(82,"totalItems"),l(),s(83," number is reached. To do this, you can use the RxJS "),a(84,"code"),s(85,"filter"),l(),s(86," operator as in example."),E(87,"br"),a(88,"b"),s(89,"Note:"),l(),a(90,"code"),s(91,"VirtualViewportManager"),l(),s(92," has its own mechanism of stopping when the length of the last received page is less than the page size requested. "),E(93,"br"),s(94," In the example, we use the "),a(95,"code"),s(96,"filter"),l(),s(97," operator to avoid making the additional requests when the dataset's last page has enough data. "),l(),a(98,"li"),s(99," Finally, call "),a(100,"code"),s(101,"datasource.applyFilters()"),l(),s(102," to trigger fetching of the data. "),l(),a(103,"li"),s(104," To avoid having two listeners (the next page observer and the data source's outputsSubject), we can combine them together into one stream "),E(105,"br"),s(106," with the RxJS "),a(107,"code"),s(108,"switchMap"),l(),s(109," operator. In the example, we map to an inner subscription which contains all new data related operations: "),E(110,"br"),a(111,"code"),s(112,"totalItems"),l(),s(113," update, assigning new data, and triggering the change detector. "),E(114,"br"),a(115,"b"),s(116,"Alternative"),l(),s(117,": You can subscribe to the "),a(118,"code"),s(119,"this.dataSource.outputsSubject"),l(),s(120,"code> in the ngOnInit method using the same RxJS pipe operators. "),l()(),E(121,"nui-example-code",29)(122,"br"),Q()),t&2){let e=g(3);u(8),m("code",e.tableScrollingSetup.vars),u(8),m("code",e.tableScrollingSetup.viewportManagerImport),u(5),m("code",e.tableScrollingSetup.provideViewport),u(5),m("code",e.tableScrollingSetup.injectViewport),u(5),m("code",e.tableScrollingSetup.viewChildren),u(4),m("code",e.tableScrollingSetup.registerScroll),u(7),m("code",e.tableScrollingSetup.oninitSubscribeBusy),u(8),m("code",e.tableScrollingSetup.ngAfterViewInitStart),u(71),m("code",e.tableScrollingSetup.ngAfterViewInitViewport)}}function oI(t,n){if(t&1&&_(0,iI,20,2,"ng-container",9)(1,nI,32,2,"ng-container",9)(2,rI,123,9,"ng-container",9),t&2){let e=n.type,i=g(2);m("ngIf",e===i.componentType.list),u(),m("ngIf",e===i.componentType.table),u(),m("ngIf",e===i.componentType.table)}}function aI(t,n){t&1&&(a(0,"li")(1,"strong"),s(2,"For "),a(3,"code"),s(4,"list"),l(),s(5,"'s only"),l(),s(6,": set the "),a(7,"code"),s(8,"itemSize"),l(),s(9," component input to a valid value. It's mandatory to have this input set as there is a technical limitation on the Angular side. If the input is omitted, you'll see this error message in the console output: "),a(10,"mark"),s(11,` "ERROR: To use virtual scroll feature please set correct value to the 'itemSize' input!" `),l()())}function lI(t,n){if(t&1&&(U(0),a(1,"p"),s(2," This string option allows you to select the paging mode of the data presentation. Default is "),a(3,"code"),s(4,"virtualScroll"),l(),s(5,". The values currently supported for this option are: "),l(),a(6,"ul")(7,"li")(8,"nui-expander",19)(9,"p"),s(10," This setting allows us to use "),a(11,"a",20),s(12,"CDK Virtual Scroll"),l(),s(13," by setting "),a(14,"code"),s(15,"pagingMode"),l(),s(16," to "),a(17,"code"),s(18,"virtualScroll"),l(),s(19,". "),l(),_(20,tI,1,0,"ng-container",6)(21,oI,3,3,"ng-template",null,2,R),a(23,"p"),s(24," Although the generated code of the schematic already takes care of basic setup steps, please make sure while customizing this feature for your own use case to do the following on the component: "),l(),a(25,"ol"),_(26,aI,12,0,"li",9),a(27,"li"),s(28," Set the "),a(29,"code"),s(30,"height"),l(),s(31," of the component element (either through a css/less file or inline in the ng-container). This sets the viewport for the virtual scroll. If this action is omitted, the viewport will have a height of "),a(32,"code"),s(33,"0px"),l(),s(34," and no content will be visible on the page. "),l()(),a(35,"nui-message",14)(36,"ol")(37,"li"),s(38," If the user filters the results in some way, say with a search box, make sure to reset progress on the VirtualViewportManager before applying the filters. "),l(),a(39,"li"),s(40," Due to a "),a(41,"a",21),s(42,"known CDK issue"),l(),s(43,", make sure that the "),a(44,"code"),s(45,"nui-repeat"),l(),s(46," component hosting the virtual scroll is visible in order for the virtual scroll functionality to work properly. "),l()()()()(),a(47,"li")(48,"nui-expander",22),s(49," Data is displayed using standard pagination with a "),a(50,"code"),s(51,"nui-paginator"),l(),s(52," component. "),a(53,"p"),s(54,"To enable pagination, do the following:"),l(),a(55,"ol")(56,"li"),s(57," Provide a service that performs filtering (pagination is considered to be a form of filtering in Nova). There is a default service, "),a(58,"a",23)(59,"code"),s(60,"ClientSideDataSource"),l()(),s(61,", which provides default methods for working with filters. In case you need something special (such as filtering on a back-end or more complex sorting capability), you may extend this service and override its methods. "),l(),a(62,"li"),s(63," In your component's constructor, provide an initial dataset via the "),a(64,"code"),s(65,"setData"),l(),s(66," method of "),a(67,"a",23)(68,"code"),s(69,"ClientSideDataSource"),l()(),s(70,". "),l(),a(71,"li"),s(72," Get the paginator component via "),a(73,"code"),s(74,"@ViewChild"),l(),s(75,". "),l(),a(76,"li"),s(77," In your component's "),a(78,"code"),s(79,"ngAfterViewInit"),l(),s(80,", pass the paginator to the "),a(81,"code"),s(82,"componentTree"),l(),s(83," property of "),a(84,"code"),s(85,"ClientSideDataSource"),l(),s(86,". Then, invoke the "),a(87,"code"),s(88,"applyFilters"),l(),s(89," method of "),a(90,"a",23)(91,"code"),s(92,"ClientSideDataSource"),l()(),s(93,". And, lastly, subscribe to "),a(94,"code"),s(95,"outputsSubject"),l(),s(96," on "),a(97,"a",23)(98,"code"),s(99,"ClientSideDataSource"),l()(),s(100," which will return an "),a(101,"a",24)(102,"code"),s(103,"INovaFilteringOutputs"),l()(),s(104," object after each change in pagination. "),l(),a(105,"li"),s(106," In the "),a(107,"code"),s(108,"outputsSubject"),l(),s(109," subscription handler, overwrite your "),a(110,"code"),s(111,"dataSource"),l(),s(112," with the "),a(113,"code"),s(114,"itemsSource"),l(),s(115," you receive and pass the number of pages to the paginator's "),a(116,"code"),s(117,"total"),l(),s(118," input. "),l(),a(119,"li"),s(120," Bind to the paginator's "),a(121,"code"),s(122,"pagerAction"),l(),s(123," output, and invoke the "),a(124,"code"),s(125,"applyFilters"),l(),s(126," method of "),a(127,"a",23)(128,"code"),s(129,"ClientSideDataSource"),l()(),s(130," in the output handler. "),l(),a(131,"li"),s(132," Unsubscribe from the "),a(133,"code"),s(134,"outputsSubject"),l(),s(135," in your component's "),a(136,"code"),s(137,"ngOnDestroy"),l(),s(138," method. "),l()()()(),a(139,"li")(140,"nui-expander",7),s(141," All data is displayed at once. "),l()()(),Q()),t&2){let e=O(22),i=g(),r=O(11);u(8),m("open",!1),u(12),m("ngTemplateOutlet",r)("ngTemplateOutletContext",Jr(10,Rf,e,Jr(7,Df,i.componentType.list,i.componentType.table))),u(6),m("ngIf",i.for(i.componentType.list)),u(9),m("allowDismiss",!1),u(13),m("open",!1),u(92),m("open",!1)}}function sI(t,n){if(t&1&&(U(0),a(1,"p"),s(2),a(3,"code"),s(4,"serverSide"),l(),s(5,". The values currently supported for this option are: "),l(),a(6,"nui-expander",32),s(7," The generated data source will retrieve data remotely from a server side API, usually achieved by extending the "),a(8,"a",33)(9,"code"),s(10,"DataSourceService"),l()(),s(11," class. "),a(12,"nui-message",34),s(13," When this option is chosen, the schematic automatically generates a loading indicator ("),a(14,"code"),s(15,"nui-busy"),l(),s(16,") which is displayed as an overlay on the list during data retrieval. "),l()(),a(17,"nui-expander",35)(18,"p"),s(19," No data source will be generated, allowing you to create one from scratch. "),l()(),a(20,"nui-expander",36),s(21," Generated data source will retrieve data locally from a client side source, usually via the "),a(22,"a",23)(23,"code"),s(24,"ClientSideDataSource"),l()(),s(25," class. "),l(),a(26,"nui-expander",7),s(27," No data source will be generated and no data source related features such as sorting or search will be added to the generated code. "),l(),a(28,"div")(29,"p"),s(30," For additional information on how the data source setup is done please consult the paragraphs below: "),l(),a(31,"nui-expander",37)(32,"p"),s(33," Both local and remote setup are feasible for custom data sources, while the remote setup is feasible for the "),a(34,"code"),s(35,"serverSide"),l(),s(36," option. "),l(),a(37,"nui-expander",38)(38,"div")(39,"p"),s(40," To make component work with remote backend, it's advised to use the Nova "),a(41,"code"),s(42,"DataSourceService"),l(),s(43," which can be imported from "),a(44,"code"),s(45,'"@nova-ui/bits"'),l(),s(46,". "),l(),a(47,"p"),s(48," Create the "),a(49,"code"),s(50,"@Injectable"),l(),s(51," class that extends the data source service mentioned above. "),l(),E(52,"nui-example-code",29)(53,"br"),a(54,"p"),s(55," Define the following fields to work with the data source."),E(56,"br"),a(57,"mark")(58,"sup")(59,"strong"),s(60,"Hint!"),l()(),s(61," The list below is a required minimum. Feel free to define other fields required to work with your API. "),l()(),E(62,"br"),a(63,"code")(64,"b"),s(65,"url"),l()(),s(66," - This is where you store your API url. "),E(67,"br"),a(68,"code")(69,"b"),s(70,"cache"),l()(),s(71," - This is where you store the cached list data. Because we fetch the data in chunks, every time a user fetches a new chunk of data it is appended to that array immediately, and then the updated array is sent to the list."),E(72,"br"),a(73,"code")(74,"sup"),s(75,"(Optional)"),l(),a(76,"b"),s(77,"busy"),l()(),s(78," - This sets the busy state. The state is considered busy only when the data is being fetched, and it's used to display loading indicator components on the view while the data is being fetched. This is optional. "),a(79,"mark"),s(80,"Consult with your UX team about using busy state and busy components in your list "),l(),s(81," . "),E(82,"nui-example-code",29)(83,"br"),a(84,"p"),s(85," Create a method that will fetch the data and perhaps convert the response to an expected format. It should have two parameters, "),a(86,"code"),s(87,"start"),l(),s(88," and "),a(89,"code"),s(90,"end"),l(),s(91,", which are the current values of the scrolling indices within the scrolling viewport. The calculation "),a(92,"code"),s(93,"end - start"),l(),s(94," will give you the number of items to fetch. If your API supports returning data by page, the "),a(95,"code"),s(96,"page"),l(),s(97," variable will be useful in that case, but if not, use the "),a(98,"code"),s(99,"end"),l(),s(100," index as the starting point for the next chunk of data."),E(101,"br"),s(102," Next, prepare the URI to be fetched. It can, and probably will, vary by API implementation. Your goal here is to return the requested number of items. "),l(),E(103,"nui-example-code",29)(104,"br"),a(105,"p"),s(106," Afterwards, when you get the data back as a response, convert the returned dataset into the structure expected by the component. The received data will be concatenated with "),a(107,"code"),s(108,"this.cache"),l(),s(109,", so the dataset must be in the format expected by the list's "),a(110,"code"),s(111,"dataSource"),l(),s(112," input in order to render the items correctly. "),l(),E(113,"nui-example-code",29)(114,"br"),a(115,"p"),s(116," The next step will be to implement the "),a(117,"code"),s(118,"getFilteredData"),l(),s(119," method of the "),a(120,"code"),s(121,"DataSourceService"),l(),s(122,". This method is called whenever the "),a(123,"code"),s(124,"applyFilters"),l(),s(125," method of current data source is called in the code, so this is where data operations will be triggered. Optionally, notify the "),a(126,"code"),s(127,"busy"),l(),s(128,' observable to toggle the busy state to "on". Then, retrieve the '),a(129,"code"),s(130,"virtualScroll"),l(),s(131," from the available filters passed into the method as an argument. The "),a(132,"code"),s(133,"virtualScroll"),l(),s(134," filter is registered with the data source farther down in the code listing of the list implementation."),E(135,"br")(136,"br"),s(137," From the "),a(138,"code"),s(139,"virtualScroll"),l(),s(140," filter you can retrieve the "),a(141,"code"),s(142,"start"),l(),s(143," and "),a(144,"code"),s(145,"end"),l(),s(146," indices for the scrolling viewport. Use them to fetch to correct amount of data. Then, update the cache with the items you just got from the server, and return the data in the format that would contain AT LEAST the total number of items the API is able to return and the list's cached data. "),l(),E(147,"nui-example-code",29)(148,"br"),a(149,"p"),s(150," All data source preparation steps are finished at this point. "),l()()(),a(151,"nui-expander",39)(152,"p"),s(153," To make the component work with a local API it's advised to extend "),a(154,"a",23)(155,"code"),s(156,"ClientSideDataSource"),l()(),s(157," which can be imported from "),a(158,"code"),s(159,'"@nova-ui/bits"'),l(),s(160,". "),l()()()(),Q()),t&2){let e=g();u(2),N(" This string option allows you to select the way data is retrieved for displaying in the ",e.forComponent?e.forComponent:"component",". Default is "),u(4),m("open",!1),u(6),m("allowDismiss",!1),u(5),m("open",!1),u(3),m("open",!1),u(6),m("open",!1),u(5),m("open",!1),u(6),m("open",!1),u(15),m("code",e.dataSourceSetup.extendDS),u(30),m("code",e.dataSourceSetup.defineFields),u(21),m("code",e.fetch),u(10),m("code",e.dataSourceSetup.getData),u(34),m("code",e.dataSourceSetup.getFilteredData),u(4),m("open",!1)}}function cI(t,n){t&1&&(U(0),a(1,"p"),s(2," This boolean option allows you to enable/disable search functionality. Default is "),a(3,"code"),s(4,"true"),l(),s(5,". "),l(),a(6,"p"),s(7," To subscribe to the search events, use search's "),a(8,"code"),s(9,"onSearch"),l(),s(10," or "),a(11,"code"),s(12,"inputChange"),l(),s(13," (and, if needed, "),a(14,"code"),s(15,"onSearchCancel"),l(),s(16,") hooks to invoke the "),a(17,"code"),s(18,"applyFilters"),l(),s(19," method of the "),a(20,"a",33)(21,"code"),s(22,"DataSourceService"),l()(),s(23," class in order to perform the actual search. "),l(),a(24,"nui-message",14)(25,"ol")(26,"li"),s(27," For remote data sources, which usually extend or use directly "),a(28,"a",40)(29,"code"),s(30,"ServerSideDataSource"),l()(),s(31,", if you want searches to be performed as the user types, it's advised to add a debounce to the filtering to avoid stressing out the backend API by using "),a(32,"code"),s(33,"pipe(debounceTime(Integer_Value))"),l(),s(34," between search subscriptions. "),l(),a(35,"li"),s(36," For local data sources, which usually extend or use directly "),a(37,"a",23)(38,"code"),s(39,"ClientSideDataSource"),l()(),s(40,", you can use the "),a(41,"code"),s(42,"setSearchProperties"),l(),s(43," method of "),a(44,"a",23)(45,"code"),s(46,"ClientSideDataSource"),l()(),s(47," to specify which columns the search should apply to; if not set, the search will be performed on all columns. "),l()()(),Q()),t&2&&(u(24),m("allowDismiss",!1))}function pI(t,n){t&1&&(U(0),a(1,"p"),s(2,"To use sorting in a table you need to:"),l(),a(3,"ol")(4,"li"),s(5," Set "),a(6,"code"),s(7,'[sortable]="true"'),l(),s(8," on "),a(9,"code"),s(10,"nui-table"),l(),s(11,". "),l(),a(12,"li"),s(13,"Get table component via "),a(14,"code"),s(15,"@ViewChild"),l(),s(16,"."),l(),a(17,"li"),s(18," Set up the filtering component tree. To get table filtering components use "),a(19,"code"),s(20,"getFilterComponents()"),l(),s(21," function of table component. This will give filtering mechanism an ability to receive data for sorting at the moment you'll call "),a(22,"code"),s(23,"applyFilters"),l(),s(24," method of "),a(25,"a",23)(26,"code"),s(27,"ClientSideDataSource"),l()(),s(28,". "),l(),a(29,"li"),s(30," Set "),a(31,"code"),s(32,'[isColumnSortingDisabled]="true"'),l(),s(33," on the table-header-cell to prevent table from sorting by this property. "),l(),a(34,"li"),s(35," Subscribe to "),a(36,"code"),s(37,"outputsSubject"),l(),s(38," on "),a(39,"a",23)(40,"code"),s(41,"ClientSideDataSource"),l()(),s(42," which will return you "),a(43,"a",24)(44,"code"),s(45,"INovaFilteringOutputs"),l()(),s(46," object after each change of sorting. "),l(),a(47,"li"),s(48," In the "),a(49,"code"),s(50,"outputsSubject"),l(),s(51," subscription handler, overwrite your "),a(52,"code"),s(53,"dataSource"),l(),s(54," with the "),a(55,"code"),s(56,"itemsSource"),l(),s(57," you receive. "),l(),a(58,"li"),s(59," On "),a(60,"code"),s(61,"(sortOrderChanged)"),l(),s(62," event call "),a(63,"code"),s(64,"applyFilters"),l(),s(65," method of "),a(66,"a",23)(67,"code"),s(68,"ClientSideDataSource"),l()(),s(69,". "),a(70,"code"),s(71,"(sortOrderChanged)"),l(),s(72," event will emit you "),a(73,"a",41)(74,"code"),s(75,"ISortedItem"),l()(),s(76," object. "),l(),a(77,"li"),s(78," Unsubscribe from the "),a(79,"code"),s(80,"outputsSubject"),l(),s(81," in your component's "),a(82,"code"),s(83,"ngOnDestroy"),l(),s(84," method. "),l()(),a(85,"nui-message",34)(86,"ul")(87,"li"),s(88," If you need to apply a more complicated sorting algorithm, you can extend "),a(89,"code"),s(90,"ClientSideDataSource"),l(),s(91," and override its sorting methods. "),l(),a(92,"li"),s(93," If you need to sort some column by default (or programmatically), you can do that by passing "),a(94,"a",41)(95,"code"),s(96,"ISortedItem"),l()(),s(97," to "),a(98,"code"),s(99,"[sortingColumn]"),l(),s(100," input of the table. "),l()()(),Q()),t&2&&(u(85),m("allowDismiss",!1))}function uI(t,n){if(t&1&&(U(0),a(1,"p"),s(2," This boolean option allows you to enable/disable sorting functionality. Default is "),a(3,"code"),s(4,"true"),l(),s(5,". "),l(),_(6,pI,101,1,"ng-container",9),Q()),t&2){let e=g();u(6),m("ngIf",e.for(e.componentType.table))}}function mI(t,n){t&1&&(U(0),a(1,"p"),s(2," This boolean option allows you to enable/disable chips functionality. Default is "),a(3,"code"),s(4,"true"),l(),s(5,". "),l(),Q())}function dI(t,n){t&1&&(U(0),Me(1),Q())}function fI(t,n){t&1&&ve(0)}function hI(t,n){if(t&1&&(U(0),_(1,fI,1,0,"ng-container",6),Q()),t&2){let e=g().tpl,i=g();u(),m("ngTemplateOutlet",e)("ngTemplateOutletContext",Ee(2,Lf,i.forComponent))}}function _I(t,n){t&1&&ve(0)}function gI(t,n){if(t&1&&(a(0,"li")(1,"nui-expander",43),_(2,_I,1,0,"ng-container",6),l()()),t&2){let e=n.$implicit,i=g(2).tpl;u(),wo("header",e),m("open",!1),u(),m("ngTemplateOutlet",i)("ngTemplateOutletContext",Ee(4,Lf,e))}}function vI(t,n){if(t&1&&(U(0),a(1,"ul"),_(2,gI,3,6,"li",42),l(),Q()),t&2){let e=g().types;u(2),m("ngForOf",e)}}function CI(t,n){if(t&1&&(U(0,3),_(1,hI,2,4,"ng-container",5)(2,vI,3,1,"ng-container",4),Q()),t&2){let e=g();m("ngSwitch",e.forComponent?e.forComponent:"shared"),u(2),m("ngSwitchCase","shared")}}var Tn=function(t){return t.list="list",t.table="table",t}(Tn||{}),Xr=(()=>{class t{constructor(e){this.forComponent=e,this.componentType=Tn,this.fetch='fetchURI = "${this.url}/?page=${end / (end - start)}&results=${end - start}"',this.dataSourceSetup={extendDS:`@Injectable()
export class RandomuserTableDataSource extends DataSourceService<ITableModel> {
    constructor(private searchService: SearchService) {
        super();
    }
}`,defineFields:`private readonly url = "https://yourserver.com/api";
private cache = Array.from<ITableModel>({ length: 0 });
public busy = new BehaviorSubject(false);`,getData:`public async getData(start: number = 0, end: number= 20): Promise<INovaFilteringOutputs> {
    let response: IRandomuserResponse = null;
    try {
        response = await
                    (await fetch("this.fetchURI"))
                        .json();
                            return {
                                users: response.results.map((result: IRandomuserResults, i: number) => ({
                                    no: this.cache.length + i + 1,
                                    nameTitle: result.name.title,
                                    nameFirst: result.name.first,
                                    nameLast: result.name.last,
                                    gender: result.gender,
                                    country: result.location.country,
                                    city: result.location.city,
                                    postcode: result.location.postcode,
                                    email: result.email,
                                    cell: result.cell,
                                })),
                                total: response.results.length,
                                start: start,
                            } as UsersQueryResponse;
    } catch (e) {
        console.error("Error responding from server. Please visit https://https://randomuser.me/ to see if it's available");
    }
}`,getFilteredData:`public async getFilteredData(filters: INovaFilters): Promise<INovaFilteringOutputs> {
    this.busy.next(true);
    const virtualScrollFilter = filters.virtualScroll && filters.virtualScroll.value;
    const start = virtualScrollFilter ? filters.virtualScroll.value.start : 0;
    const end = virtualScrollFilter ? filters.virtualScroll.value.end : 0;

    this.getData(start, end).then((response: UsersQueryResponse) => {
        if (!response) { return; }

        this.cache = this.cache.concat(response.users);
        this.dataSubject.next(this.cache);
        this.busy.next(false);
    });

    return {
        repeat: {
            itemsSource: this.cache,
        },
        totalItems: 200,
    }
}`},this.tableScrollingSetup={vars:`
// will store the table data received from the server
public totalItems: number = 0;
public isBusy: boolean = false;

// number of items to be fetched for each request
public pageSize: number = 40;

private onDestroy$: Subject<void> = new Subject<void>();

// stores the cached table data dynamically changed after every request from the server
// this value is set to the dataSource input of the nui-table.
public items: IServer[] = [];

// define the array of columns for the table
// the table data from the datasource to the users var must come in the very same format.
public displayedColumns = ["name", "location", "status"];

// datasource that you inject, or instantiate in constructor
private dataSource: TableWithVirtualScrollDataSource;
`,viewportManagerImport:'import { VirtualViewportManager } from "@nova-ui/bits";',viewChildren:`
@ViewChild(CdkVirtualScrollViewport, { static: false }) viewport: CdkVirtualScrollViewport;
`,provideViewport:`
@Component({
    //
    providers: [VirtualViewportManager]
})
`,injectViewport:`
constructor(private viewportManager: VirtualViewportManager) {}
`,oninitSubscribeBusy:`
public ngOnInit(): void {
    this.dataSource.busy.subscribe(busy => {
        this._isBusy = busy;
    });
}`,registerScroll:`private registerVirtualScroll() {
    this.dataSource.registerComponent({
        virtualScroll: { componentInstance: this.viewportManager },
    });
 }`,ngAfterViewInitStart:`ngAfterViewInit(): void {
    this.registerVirtualScroll();
}`,ngAfterViewInitViewport:`this.viewportManager
    // Note: Initializing viewportManager with the repeat's CDK Viewport Ref
    .setViewport(this.viewport)
    // Note: Initializing the stream with the desired page size, based on which
    // VirtualViewportManager will perform the observations and will emit
    // distinct ranges with step equal to provided pageSize
    .observeNextPage$({pageSize: this.range}).pipe(
    // Note: In case we know the total number of items we can stop the stream when dataset end is reached
    // Otherwise we can let VirtualViewportManager to stop when last received page range will not match requested range
    filter(range => this.totalItems ? this.totalItems >= range.end : true),
    tap(() => this.dataSource.applyFilters()),
    // Note: Using the same stream to subscribe to the outputsSubject and update the items list
    switchMap(() => this.dataSource.outputsSubject.pipe(
        tap((outputs: IFilteringOutputs) => {
            this._totalItems = outputs.totalItems;
            this.users = outputs.repeat.itemsSource || [];
            this.cd.detectChanges();
        })
    )),
    takeUntil(this.onDestroy$)
).subscribe();
        `}}getRepeatPropKey(e){return e}for(e){return this.forComponent===e||!this.forComponent}static{this.\u0275fac=function(i){return new(i||t)(I(Tn,8))}}static{this.\u0275cmp=D({type:t,selectors:[["nui-schematic-cli-option"]],inputs:{name:"name"},standalone:!1,ngContentSelectors:QT,decls:12,vars:8,consts:[["helpRenderer",""],["selectionModeTpl",""],["pagingModeVSTpl",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","none",3,"open"],["header","multi",3,"open"],[4,"ngIf"],["href","https://material.angular.io/cdk/table/overview#connecting-the-table-to-a-data-source","rel","noopener noreferrer","target","_blank"],["href","https://material.angular.io/cdk/table/overview","rel","noopener noreferrer","target","_blank"],["href","../interfaces/ISelection.html","target","_blank"],["href","../injectables/SelectorService.html","target","_blank"],["type","warning",3,"allowDismiss"],["header","radio",3,"open"],["header","single",3,"open"],["header","singleWithRequiredSelection",3,"open"],["header","radioWithNonRequiredSelection",3,"open"],["header","virtualScroll",3,"open"],["href","https://material.angular.io/cdk/scrolling/overview"],["href","https://github.com/angular/components/issues/13981","rel","noopener noreferrer","target","_blank"],["header","pagination",3,"open"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["target","_blank","href","../interfaces/INovaFilteringOutputs.html"],["href","https://material.angular.io/cdk/scrolling/api#CdkVirtualScrollViewport"],["href","/injectables/VirtualViewportManager.html"],["href","../directives/TableVirtualScrollLinearDirective.html#info"],["href","https://github.com/angular/components/issues/10113"],["language","typescript",3,"code"],["href","../injectables/VirtualViewportManager.html","target","_blank"],["href","../interfaces/IVirtualPageConfig.html"],["header","serverSide",3,"open"],["target","_blank","href","../injectables/DataSourceService.html"],["type","info",3,"allowDismiss"],["header","custom",3,"open"],["header","clientSide",3,"open"],["header","DataSource Setup",3,"open"],["header","Remote DataSource Setup",3,"open"],["header","Local DataSource Setup",3,"open"],["target","_blank","href","../injectables/ServerSideDataSource.html"],["target","_blank","href","../interfaces/ISortedItem.html"],[4,"ngFor","ngForOf"],[3,"open","header"]],template:function(i,r){i&1&&(Ne(),a(0,"h5"),s(1),l(),a(2,"div",3),_(3,eI,9,9,"ng-container",4)(4,lI,142,13,"ng-container",4)(5,sI,161,14,"ng-container",4)(6,cI,48,1,"ng-container",4)(7,uI,7,1,"ng-container",4)(8,mI,6,0,"ng-container",4)(9,dI,2,0,"ng-container",5),l(),_(10,CI,3,2,"ng-template",null,0,R)),i&2&&(u(),w(r.name),u(),m("ngSwitch",r.name),u(),m("ngSwitchCase","selectionMode"),u(),m("ngSwitchCase","pagingMode"),u(),m("ngSwitchCase","dataSource"),u(),m("ngSwitchCase","enableSearch"),u(),m("ngSwitchCase","enableSort"),u(),m("ngSwitchCase","chips"))},dependencies:[Y,k,Je,Mc,Vc,Ac,We,Fn,fr],encapsulation:2})}}return t})();function SI(t,n){t&1&&E(0,"app-filtered-view-table-with-virtual-scroll")}function yI(t,n){t&1&&E(0,"app-filtered-view-table-with-virtual-scroll-selection")}function EI(t,n){t&1&&E(0,"app-filtered-view-table-with-custom-virtual-scroll")}function TI(t,n){t&1&&E(0,"app-filtered-view-with-tree")}var Mf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["schematics-docs-example"]],standalone:!1,decls:115,vars:4,consts:[["vs",""],["vss",""],["cvs",""],["tree",""],["schematicFolderName","filtered-view"],["schematicSummary",""],["name","presentationType"],["name","selectionMode"],["name","pagingMode"],["name","dataSource"],["name","enableSearch"],["name","enableSort"],["name","chips"],["schematicExamples",""],["heading","List"],["exampleFolderName","filtered-view-with-list"],["heading","List with Pagination"],["exampleFolderName","filtered-view-list-with-pagination"],["heading","List with Virtual Scroll"],["exampleFolderName","filtered-view-list-with-virtual-scroll"],["heading","Table"],["exampleFolderName","filtered-view-with-table"],["heading","Table with Pagination"],["exampleFolderName","filtered-view-table-with-pagination"],["heading","Table with Selection"],["exampleFolderName","filtered-view-table-with-selection"],["heading","Table with Virtual Scroll"],["exampleFolderName","filtered-view-table-with-virtual-scroll"],[4,"ngIf"],["heading","Table with Virtual Scroll and Selection"],["exampleFolderName","filtered-view-table-with-virtual-scroll-selection"],["heading","Table with Custom Virtual Scroll"],["exampleFolderName","filtered-view-table-with-custom-virtual-scroll"],["heading","Tree"],["exampleFolderName","filtered-view-with-tree"]],template:function(i,r){if(i&1&&(a(0,"nui-schematic-docs-page",4)(1,"div",5)(2,"p"),s(3," The Filtered View schematic provides the ability to create a generic filtered view that can cover many use cases for filtering a set of data. Its main responsibility is to integrate a filter group panel with a list or table view that displays the filtered data. "),l(),a(4,"h2"),s(5,"Notable Command Line Options"),l(),a(6,"nui-schematic-cli-option",6)(7,"p"),s(8," This string option allows you to select how the filtered data will be presented to the user. The values currently supported for this option are "),a(9,"code"),s(10,"table"),l(),s(11," and "),a(12,"code"),s(13,"list"),l(),s(14,". The default value is "),a(15,"code"),s(16,"list"),l(),s(17,". "),l()(),E(18,"nui-schematic-cli-option",7)(19,"nui-schematic-cli-option",8)(20,"nui-schematic-cli-option",9)(21,"nui-schematic-cli-option",10)(22,"nui-schematic-cli-option",11)(23,"nui-schematic-cli-option",12),l(),a(24,"nui-tab-group",13)(25,"nui-tab",14)(26,"h2"),s(27,"Filtered View with List"),l(),a(28,"p"),s(29," This example shows the output of the CLI command without any modifications. "),l(),a(30,"nui-schematic-docs-command"),s(31,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-with-list --presentationType=list"),l(),a(32,"nui-schematic-docs-example",15),E(33,"app-filtered-view-with-list"),l()(),a(34,"nui-tab",16)(35,"h2"),s(36,"List with Pagination"),l(),a(37,"nui-schematic-docs-command"),s(38,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-list-with-pagination --presentationType=list --dataSource=serverSide "),a(39,"strong"),s(40,"--pagingMode=pagination"),l()(),a(41,"nui-schematic-docs-example",17),E(42,"app-filtered-view-list-with-pagination"),l()(),a(43,"nui-tab",18)(44,"h2"),s(45,"List with Virtual Scroll"),l(),a(46,"nui-schematic-docs-command"),s(47,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-virtual-scroll --presentationType=list --dataSource=serverSide "),a(48,"strong"),s(49,"--pagingMode=virtualScroll"),l()(),a(50,"nui-schematic-docs-example",19),E(51,"app-filtered-view-list-with-virtual-scroll"),l()(),a(52,"nui-tab",20)(53,"h2"),s(54,"Filtered View with Table"),l(),a(55,"p"),s(56,"This example shows the output of the CLI command shown below."),l(),a(57,"nui-schematic-docs-command"),s(58,"ng g @nova-ui/bits:filtered-view --name=filtered-view-with-table --p=app "),a(59,"strong"),s(60,"--presentationType=table"),l()(),a(61,"nui-schematic-docs-example",21),E(62,"app-filtered-view-with-table"),l()(),a(63,"nui-tab",22)(64,"h2"),s(65,"Table with Pagination"),l(),a(66,"nui-schematic-docs-command"),s(67,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-pagination --presentationType=table --dataSource=serverSide "),a(68,"strong"),s(69,"--pagingMode=pagination"),l()(),a(70,"nui-schematic-docs-example",23),E(71,"app-filtered-view-table-with-pagination"),l()(),a(72,"nui-tab",24)(73,"h2"),s(74,"Table with Selection"),l(),a(75,"nui-schematic-docs-command"),s(76,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-selection --presentationType=table --dataSource=serverSide --pagingMode=pagination "),l(),a(77,"nui-schematic-docs-example",25),E(78,"app-filtered-view-table-with-selection"),l()(),a(79,"nui-tab",26,0)(81,"h2"),s(82,"Table with Virtual Scroll"),l(),a(83,"nui-schematic-docs-command"),s(84,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-virtual-scroll --presentationType=table --dataSource=serverSide "),a(85,"strong"),s(86,"--pagingMode=virtualScroll"),l()(),a(87,"nui-schematic-docs-example",27),_(88,SI,1,0,"app-filtered-view-table-with-virtual-scroll",28),l()(),a(89,"nui-tab",29,1)(91,"h2"),s(92,"Table with Virtual Scroll and Selection"),l(),a(93,"nui-schematic-docs-command"),s(94,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-virtual-scroll --presentationType=table --dataSource=serverSide "),a(95,"strong"),s(96,"--pagingMode=virtualScroll"),l()(),a(97,"nui-schematic-docs-example",30),_(98,yI,1,0,"app-filtered-view-table-with-virtual-scroll-selection",28),l()(),a(99,"nui-tab",31,2)(101,"h2"),s(102,"Table with Custom Virtual Scroll"),l(),a(103,"nui-schematic-docs-command"),s(104,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-virtual-scroll --presentationType=table --dataSource=serverSide "),a(105,"strong"),s(106,"--pagingMode=virtualScroll --virtualScrollStrategy=custom"),l()(),a(107,"nui-schematic-docs-example",32),_(108,EI,1,0,"app-filtered-view-table-with-custom-virtual-scroll",28),l()(),a(109,"nui-tab",33,3)(111,"h2"),s(112,"Tree"),l(),a(113,"nui-schematic-docs-example",34),_(114,TI,1,0,"app-filtered-view-with-tree",28),l()()()()),i&2){let o=O(80),c=O(90),p=O(100),f=O(110);u(88),m("ngIf",o.active),u(10),m("ngIf",c.active),u(10),m("ngIf",p.active),u(6),m("ngIf",f.active)}},dependencies:[k,Rn,Dn,Ma,Aa,Wa,Ra,Oa,ja,$a,Ua,Xa,Ja,$n,Hn,Un,Xr],encapsulation:2})}}return t})();var Vf=J(Ti()),Af=J(Li());var Pf=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,Vf.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,Af.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var kf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne]})}}return t})();var Nf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[Pf],imports:[ne,it,_t,Mt,Ze,Ie,kf]})}}return t})();var Gf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[bn,ne,Pt,kt,Mi,Ft,Nt,Gt,li,Ot,_i,At,Nf,zt,Ie]})}}return t})();var Wf=J(Ti()),Bf=J(Li());var jf=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,Wf.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,Bf.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var $f=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne]})}}return t})();var Hf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[jf],imports:[ne,it,_t,Mt,Ze,Ie,$f]})}}return t})();var Uf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne,Pt,kt,Mi,Ft,Nt,Gt,li,Ot,_i,At,Hf,zt,Ie]})}}return t})();var Qf=J(Ti()),qf=J(Li());var zf=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,Qf.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,qf.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Xf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne]})}}return t})();var Kf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[zf],imports:[ne,it,_t,Mt,Ze,Ie,Xf]})}}return t})();var Jf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne,Pt,kt,Mi,Ft,Nt,Gt,li,Ot,_i,At,Kf,zt,Ie]})}}return t})();var Yf=J(Ti()),Zf=J(Li());var e0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,Yf.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,Zf.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var t0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne]})}}return t})();var i0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[e0],imports:[ne,it,_t,Mt,Ze,Ie,t0]})}}return t})();var n0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[bn,ne,Pt,kt,Mi,Ft,Nt,Gt,li,Ot,_i,At,i0,zt,Ie]})}}return t})();var r0=J(Ti()),o0=J(Li());var a0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,r0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,o0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var l0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne]})}}return t})();var s0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[a0],imports:[ne,it,_t,Mt,Ze,Ie,l0]})}}return t})();var c0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[bn,ne,Pt,kt,Mi,Ft,Nt,Gt,li,Ot,_i,At,s0,zt,Ie]})}}return t})();var p0=J(Ti()),u0=J(Li());var m0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,p0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,u0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var d0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne]})}}return t})();var f0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[m0],imports:[ne,it,_t,Mt,Ze,Ie,d0]})}}return t})();var h0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne,Pt,kt,Ft,Nt,Gt,Ot,At,f0,zt,Ie]})}}return t})();var _0=J(Ti()),g0=J(Li());var v0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,_0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,g0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var C0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne]})}}return t})();var S0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[v0],imports:[ne,it,_t,Mt,Ze,Ie,C0]})}}return t})();var vc=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne,Pt,kt,Ft,Nt,Gt,li,Ot,_i,At,S0,zt,Ie]})}}return t})();var y0=J(Ti()),E0=J(Li());var T0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,y0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,E0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Re({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var I0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[T0],imports:[ne,it,_t,Mt,Ze,Ie]})}}return t})();var x0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({imports:[ne,Pt,kt,Ft,Nt,Gt,Ot,At,li,wn,Ze,I0,zt,Ie,pp]})}}return t})();var Zt=function(t){return t.active="Active",t.down="Down",t}(Zt||{});var w0=20,b0=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:Zt.active},{name:"Man-LT-ASD123",location:"Brno",status:Zt.down},{name:"Man-LT-DSA331",location:"Austin",status:Zt.active},{name:"Man-LT-JKS212",location:"Kyiv",status:Zt.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:Zt.down},{name:"Man-LT-433AAD",location:"Austin",status:Zt.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:Zt.active},{name:"Man-LT-GHJ882",location:"Brno",status:Zt.down},{name:"Man-LT-LLK001",location:"Austin",status:Zt.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:Zt.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:Zt.down},{name:"Man-LT-LKJF12",location:"Austin",status:Zt.down},{name:"Man-LT-882JJS",location:"Kyiv",status:Zt.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:Zt.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:Zt.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:Zt.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:Zt.active},{name:"Man-LT-RRF231",location:"Austin",status:Zt.down}];var RI=()=>[10,20,30,40];function LI(t,n){t&1&&(U(0),a(1,"span"),j(2,1),l(),Q())}function MI(t,n){if(t&1&&(a(0,"div",11),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.value," ")}}function VI(t,n){if(t&1&&(a(0,"div",8)(1,"div",9),_(2,MI,2,1,"div",10),H(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",Le(3,1,e))}}var F0=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ge.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.totalItems=0,this.page=1,this.pageSize=w0,this.itemConfig={trackBy:(r,o)=>o?.name},this.destroy$=new le,this.dataSource.setData(b0)}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(Z(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),ee(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(Z(e=>{this.filteringState=e,this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-basic-list"]],viewQuery:function(i,r){if(i&1&&(A(we,5),A(de,5),A(fe,5),A(ht,5)),i&2){let o;b(o=F())&&(r.repeat=o.first),b(o=F())&&(r.paginator=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.sorter=o.first)}},standalone:!1,features:[pe([{provide:P,useClass:ui}])],decls:11,vars:13,consts:()=>{let e;return e=$localize`:␟e4e28b371f8453e22779db590cb0fe67f2a080e8␟7839102902838664367:No results`,[["listRepeatItemTemplate",""],e,[1,"d-flex","flex-row"],[1,"app-basic-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-basic-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-basic-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-basic-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=G();a(0,"div")(1,"div",2)(2,"nui-sorter",3),x("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(3,"nui-search",4),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(4,"div",2),_(5,LI,3,0,"ng-container",5),E(6,"nui-repeat",6),l(),a(7,"div",2)(8,"nui-paginator",7),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(9,VI,4,3,"ng-template",null,0,R)}if(i&2){let o=O(10);u(2),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",(r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource.length)===0),u(),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(12,RI))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[Y,k,de,we,fe,ht,$t],styles:["[_nghost-%COMP%]   .app-basic-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-basic-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-basic-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-basic-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-basic-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var PI="http://nova-pg.swdev.local/api/v1/servers",O0=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value??{start:0,end:0};return new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"")}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(PI,{params:i}).pipe(ke(300),_e(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var NI=()=>[10,20,30,40];function GI(t,n){t&1&&(U(0),a(1,"span"),j(2,1),l(),Q())}function WI(t,n){if(t&1&&(a(0,"div",12),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.value," ")}}function BI(t,n){if(t&1&&(a(0,"div",9)(1,"div",10),_(2,WI,2,1,"div",11),H(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",Le(3,1,e))}}var D0=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.listItems$=new Ji([]),this.filteringState={},this.isBusy=!1,this.totalItems=0,this.page=1,this.pageSize=20,this.itemConfig={trackBy:(r,o)=>o?.name},this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(Z(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),ee(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(Z(e=>{this.listItems$.next(e.repeat?.itemsSource||[]),this.filteringState=e,this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-search-list"]],viewQuery:function(i,r){if(i&1&&(A(we,5),A(de,5),A(fe,5)),i&2){let o;b(o=F())&&(r.repeat=o.first),b(o=F())&&(r.paginator=o.first),b(o=F())&&(r.search=o.first)}},standalone:!1,features:[pe([{provide:P,useClass:O0}])],decls:12,vars:13,consts:()=>{let e;e=$localize`:␟94516fa213706c67ce5a5b5765681d7fb032033a␟3894950702316166331:Loading...`;let i;return i=$localize`:␟e4e28b371f8453e22779db590cb0fe67f2a080e8␟7839102902838664367:No results`,[["listRepeatItemTemplate",""],i,["nui-busy","",3,"busy"],["size","large","message",e],[1,"d-flex","flex-row"],[1,"d-flex","justify-content-end","app-search-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-search-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-search-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",2),E(1,"nui-spinner",3),a(2,"div",4)(3,"nui-search",5),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(4,"div",4),_(5,GI,3,0,"ng-container",6),H(6,"async"),E(7,"nui-repeat",7),l(),a(8,"div",4)(9,"nui-paginator",8),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(10,BI,4,3,"ng-template",null,0,R)}if(i&2){let o=O(11);m("busy",r.isBusy),u(5),m("ngIf",!r.isBusy&&Le(6,10,r.listItems$).length===0),u(2),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(12,NI))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[Y,k,de,we,fe,ln,sn,en,$t],styles:["[_nghost-%COMP%]   .app-search-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-search-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-search-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-search-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var ei=function(t){return t.active="Active",t.down="Down",t}(ei||{});var R0=20,L0=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:ei.active},{name:"Man-LT-ASD123",location:"Brno",status:ei.down},{name:"Man-LT-DSA331",location:"Austin",status:ei.active},{name:"Man-LT-JKS212",location:"Kyiv",status:ei.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:ei.down},{name:"Man-LT-433AAD",location:"Austin",status:ei.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:ei.active},{name:"Man-LT-GHJ882",location:"Brno",status:ei.down},{name:"Man-LT-LLK001",location:"Austin",status:ei.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:ei.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:ei.down},{name:"Man-LT-LKJF12",location:"Austin",status:ei.down},{name:"Man-LT-882JJS",location:"Kyiv",status:ei.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:ei.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:ei.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:ei.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:ei.active},{name:"Man-LT-RRF231",location:"Austin",status:ei.down}];var $I=()=>[10,20,30,40];function HI(t,n){t&1&&(U(0),a(1,"span"),j(2,1),l(),Q())}function UI(t,n){if(t&1&&(a(0,"div",12),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.value," ")}}function QI(t,n){if(t&1&&(a(0,"div",9)(1,"div",10),_(2,UI,2,1,"div",11),H(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",Le(3,1,e))}}var Ya=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.changeDetection=i,this.listService=r,this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ge.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.totalItems=0,this.page=1,this.pageSize=R0,this.itemConfig={trackBy:(o,c)=>c?.name},this.destroy$=new le,this.dataSource.setData(L0)}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(Z(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),ee(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(Z(e=>{this.filteringState=Re(Re({},this.filteringState),e),this.filteringState=this.listService.updateSelectionState(this.filteringState),this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}onSelectorOutput(e){this.filteringState=this.listService.applySelector(e,this.filteringState)}onRepeatOutput(e){this.filteringState=this.listService.selectItems(e,hi.multi,this.filteringState)}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue),I(ep))}}static{this.\u0275cmp=D({type:t,selectors:[["app-selection-list"]],viewQuery:function(i,r){if(i&1&&(A(we,5),A(de,5),A(fe,5),A(ht,5)),i&2){let o;b(o=F())&&(r.repeat=o.first),b(o=F())&&(r.paginator=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.sorter=o.first)}},standalone:!1,features:[pe([{provide:P,useClass:ui}])],decls:12,vars:15,consts:()=>{let e;return e=$localize`:␟e4e28b371f8453e22779db590cb0fe67f2a080e8␟7839102902838664367:No results`,[["listRepeatItemTemplate",""],e,[1,"d-flex","flex-row"],[1,"app-selection-list-selector",3,"selectionChange","checkboxStatus","items"],[1,"app-selection-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-selection-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","multi",1,"app-selection-list-repeat",3,"selectionChange","itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-selection-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=G();a(0,"div")(1,"div",2)(2,"nui-selector",3),x("selectionChange",function(p){return S(o),y(r.onSelectorOutput(p))}),l(),a(3,"nui-sorter",4),x("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(4,"nui-search",5),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(5,"div",2),_(6,HI,3,0,"ng-container",6),a(7,"nui-repeat",7),x("selectionChange",function(p){return S(o),y(r.onRepeatOutput(p))}),l()(),a(8,"div",2)(9,"nui-paginator",8),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(10,QI,4,3,"ng-template",null,0,R)}if(i&2){let o=O(11);u(2),m("checkboxStatus",r.filteringState.selector==null||r.filteringState.selector.selectorState==null?null:r.filteringState.selector.selectorState.checkboxStatus)("items",r.filteringState.selector==null||r.filteringState.selector.selectorState==null?null:r.filteringState.selector.selectorState.selectorItems),u(),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",(r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource.length)===0),u(),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(14,$I))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[Y,k,de,we,fe,ht,Kc,$t],styles:["[_nghost-%COMP%]   .app-selection-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-selection-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-selection-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-selection-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-selection-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var zI="http://nova-pg.swdev.local/api/v1/servers",M0=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value??{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(400)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(zI,{params:i}).pipe(ke(300),_e(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();function XI(t,n){t&1&&(U(0),a(1,"span"),j(2,3),l(),Q())}function KI(t,n){t&1&&(U(0),j(1,4),Q())}function JI(t,n){t&1&&(a(0,"strong"),s(1,". All items loaded."),l())}function YI(t,n){if(t&1&&(a(0,"div",20),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.value," ")}}function ZI(t,n){if(t&1&&(a(0,"div",17)(1,"div",18),_(2,YI,2,1,"div",19),H(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",Le(3,1,e))}}var Za=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.changeDetection=i,this.viewportManager=r,this.listItems$=new Ji([]),this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ge.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.isBusy=!1,this.totalItems=0,this.itemConfig={trackBy:(o,c)=>c?.name},this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.viewportManager},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.viewportManager.setViewport(this.repeat.viewportRef).observeNextPage$({pageSize:400}).pipe(Yi(()=>{let e=this.listItems$.getValue();return!e.length||e.length<this.totalItems}),Z(()=>T(this,null,function*(){return this.applyFilters(!1)})),Zi(()=>this.dataSource.outputsSubject.pipe(Z(e=>{let i=e.repeat?.itemsSource||[];this.listItems$.next(this.listItems$.getValue().concat(i)),this.totalItems=e.paginator?.total||0,this.changeDetection.detectChanges()}))),ee(this.destroy$)).subscribe(),this.search.focusChange.pipe(Z(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),ee(this.destroy$)).subscribe()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.listItems$.next([]),this.changeDetection.detectChanges()),yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue),I(ot))}}static{this.\u0275cmp=D({type:t,selectors:[["app-virtual-scroll-list"]],viewQuery:function(i,r){if(i&1&&(A(we,5),A(fe,5),A(ht,5)),i&2){let o;b(o=F())&&(r.repeat=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.sorter=o.first)}},standalone:!1,features:[pe([ot,{provide:P,useClass:M0}])],decls:23,vars:23,consts:()=>{let e;e=$localize`:␟94516fa213706c67ce5a5b5765681d7fb032033a␟3894950702316166331:Loading...`;let i;i=$localize`:␟d2c0aad64213341f539bc04280dae8d41bbde030␟8514434566969009602: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `;let r;r=$localize`:␟e4e28b371f8453e22779db590cb0fe67f2a080e8␟7839102902838664367:No results`;let o;return o=$localize`:␟b12cc7551005a9787976bb8d2a161113feed479a␟9056616360897919297:, scroll down for more.`,[["endOfData",""],["listRepeatItemTemplate",""],i,r,o,["nui-busy","",3,"busy"],["size","large","message",e],[1,"d-flex","flex-row"],[1,"app-virtual-scroll-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-virtual-scroll-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-virtual-scroll-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource","virtualScroll","itemSize"],[1,"app-virtual-scroll-list-scrolling-footer"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],[4,"ngIf","ngIfElse"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",5),E(1,"nui-spinner",6),a(2,"div",7)(3,"nui-sorter",8),x("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(4,"nui-search",9),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(5,"div",7),_(6,XI,3,0,"ng-container",10),H(7,"async"),E(8,"nui-repeat",11),H(9,"async"),l(),a(10,"footer",12)(11,"div",13)(12,"div",14)(13,"div",15),j(14,2),H(15,"async"),l(),a(16,"div",15),_(17,KI,2,0,"ng-container",16),H(18,"async"),_(19,JI,2,0,"ng-template",null,0,R),l()()()()(),_(21,ZI,4,3,"ng-template",null,1,R)}if(i&2){let o=O(20),c=O(22);m("busy",r.isBusy),u(3),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",!r.isBusy&&Le(7,15,r.listItems$).length===0),u(2),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",c)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",Le(9,17,r.listItems$))("virtualScroll",!0)("itemSize",30),u(7),at(Le(15,19,r.listItems$).length)(r.totalItems),lt(14),u(2),m("ngIf",Le(18,21,r.listItems$).length!==r.totalItems)("ngIfElse",o)}},dependencies:[Y,k,we,fe,ht,ln,sn,en,$t],styles:["[_nghost-%COMP%]   .app-virtual-scroll-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%;height:300px}[_nghost-%COMP%]   .app-virtual-scroll-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-virtual-scroll-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-virtual-scroll-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}"],changeDetection:0})}}return t})();var tx="http://nova-pg.swdev.local/api/v1/servers",V0=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value??{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(tx,{params:i}).pipe(ke(300),_e(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var nx=()=>[10,20,30,40];function rx(t,n){t&1&&(U(0),a(1,"span"),j(2,1),l(),Q())}function ox(t,n){if(t&1&&(a(0,"div",13),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.value," ")}}function ax(t,n){if(t&1&&(a(0,"div",10)(1,"div",11),_(2,ox,2,1,"div",12),H(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",Le(3,1,e))}}var A0=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.listItems$=new Ji([]),this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ge.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.isBusy=!1,this.totalItems=0,this.page=1,this.pageSize=20,this.itemConfig={trackBy:(r,o)=>o?.name},this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(Z(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),ee(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(Z(e=>{this.listItems$.next(e.repeat?.itemsSource||[]),this.filteringState=e,this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-paginated-list"]],viewQuery:function(i,r){if(i&1&&(A(we,5),A(de,5),A(fe,5),A(ht,5)),i&2){let o;b(o=F())&&(r.repeat=o.first),b(o=F())&&(r.paginator=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.sorter=o.first)}},standalone:!1,features:[pe([{provide:P,useClass:V0}])],decls:13,vars:16,consts:()=>{let e;e=$localize`:␟94516fa213706c67ce5a5b5765681d7fb032033a␟3894950702316166331:Loading...`;let i;return i=$localize`:␟e4e28b371f8453e22779db590cb0fe67f2a080e8␟7839102902838664367:No results`,[["listRepeatItemTemplate",""],i,["nui-busy","",3,"busy"],["size","large","message",e],[1,"d-flex","flex-row"],[1,"app-paginated-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-paginated-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-paginated-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-paginated-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",2),E(1,"nui-spinner",3),a(2,"div",4)(3,"nui-sorter",5),x("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(4,"nui-search",6),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(5,"div",4),_(6,rx,3,0,"ng-container",7),H(7,"async"),E(8,"nui-repeat",8),l(),a(9,"div",4)(10,"nui-paginator",9),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(11,ax,4,3,"ng-template",null,0,R)}if(i&2){let o=O(12);m("busy",r.isBusy),u(3),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",!r.isBusy&&Le(7,13,r.listItems$).length===0),u(2),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(15,nx))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[Y,k,de,we,fe,ht,ln,sn,en,$t],styles:["[_nghost-%COMP%]   .app-paginated-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-paginated-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-paginated-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-paginated-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-paginated-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var P0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nui-list-schematics-docs-example"]],standalone:!1,features:[pe([{provide:Tn,useValue:Tn.list}])],decls:120,vars:1,consts:[["schematicFolderName","list"],["schematicSummary",""],["name","selectionMode"],["name","pagingMode"],["name","dataSource"],["name","enableSearch"],["name","enableSort"],["schematicExamples",""],["heading","Basic"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["exampleFolderName","basic-list"],["heading","Selection"],["target","_blank","href","../injectables/ListService.html"],["exampleFolderName","selection-list"],["heading","Search"],["exampleFolderName","search-list"],["heading","Pagination"],["exampleFolderName","paginated-list"],["heading","Virtual Scroll"],["type","warning",3,"allowDismiss"],["exampleFolderName","virtual-scroll-list"]],template:function(i,r){i&1&&(a(0,"nui-schematic-docs-page",0)(1,"div",1)(2,"p"),s(3," The List schematic provides the ability to create a generic list that can cover a majority of use cases for a list. Its main responsibility is to integrate the functionality of the "),a(4,"code"),s(5,"nui-repeat"),l(),s(6," component with other components commonly used with a list such as "),a(7,"code"),s(8,"nui-selector"),l(),s(9,", "),a(10,"code"),s(11,"nui-search"),l(),s(12,", "),a(13,"code"),s(14,"nui-paginator"),l(),s(15,", and "),a(16,"code"),s(17,"nui-sorter"),l(),s(18,". "),l(),a(19,"h2"),s(20,"Notable Command Line Options"),l(),E(21,"nui-schematic-cli-option",2)(22,"nui-schematic-cli-option",3)(23,"nui-schematic-cli-option",4)(24,"nui-schematic-cli-option",5)(25,"nui-schematic-cli-option",6),l(),a(26,"nui-tab-group",7)(27,"nui-tab",8)(28,"h2"),s(29,"Basic Usage"),l(),a(30,"p"),s(31," This example illustrates the output of the CLI command without any modifications. Consumers are able to build upon the generated boilerplate to provide additional functionality depending on their use case. Data manipulations (filtering/pagination/sorting/search) are handled by the "),a(32,"a",9)(33,"code"),s(34,"ClientSideDataSource"),l()(),s(35," service, which can be extended with custom filtering behavior. "),l(),a(36,"nui-schematic-docs-command"),s(37,"ng g @nova-ui/bits:list --name=basic-list --p=app"),l(),a(38,"nui-schematic-docs-example",10),E(39,"app-basic-list"),l()(),a(40,"nui-tab",11)(41,"h2"),s(42,"List with Selection"),l(),a(43,"p"),s(44," Selection is facilitated by the "),a(45,"a",12)(46,"code"),s(47,"ListService"),l()(),s(48," and can be enabled by running the CLI command with the "),a(49,"code"),s(50,"selectionMode"),l(),s(51," option set to one of the selection-enabling values listed under "),a(52,"strong"),s(53,"Notable Command Line Options"),l(),s(54," section above. The initial selection can be set using the "),a(55,"code"),s(56,"selection"),l(),s(57," input of the "),a(58,"code"),s(59,"nui-repeat"),l(),s(60,". Selection changes can be intercepted using the "),a(61,"code"),s(62,"selectionChange"),l(),s(63," output of the "),a(64,"code"),s(65,"nui-repeat"),l(),s(66,". "),l(),a(67,"nui-schematic-docs-command"),s(68,"ng g @nova-ui/bits:list --name=selection-list --p=app "),a(69,"strong"),s(70,"--selectionMode=multi"),l()(),a(71,"nui-schematic-docs-example",13),E(72,"app-selection-list"),l()(),a(73,"nui-tab",14)(74,"h2"),s(75,"Search Properties"),l(),a(76,"p"),s(77," To specify fields for search, pass a properties array to the "),a(78,"code"),s(79,"setSearchProperties"),l(),s(80," method exposed by the "),a(81,"a",9)(82,"code"),s(83,"ClientSideDataSource"),l()(),s(84," service. If no properties are specified, the search will be performed on all fields. "),l(),a(85,"nui-schematic-docs-command"),s(86," ng g @nova-ui/bits:list --name=search-list --p=app --selectionMode=none --dataSource=serverSide --pagingMode=pagination --enable-sort=false "),a(87,"strong"),s(88,"--enable-search=true"),l()(),a(89,"nui-schematic-docs-example",15),E(90,"app-search-list"),l()(),a(91,"nui-tab",16)(92,"h2"),s(93,"Pagination"),l(),a(94,"p"),s(95," This example shows how to add pagination to "),a(96,"code"),s(97,"nui-repeat"),l(),s(98," with a remote data source. "),l(),a(99,"nui-schematic-docs-command"),s(100,"ng g @nova-ui/bits:list --name=paginated-list --p=app --pagingMode=pagination --dataSource=serverSide"),l(),a(101,"nui-schematic-docs-example",17),E(102,"app-paginated-list"),l()(),a(103,"nui-tab",18)(104,"h2"),s(105,"Virtual Scroll"),l(),a(106,"p"),s(107," This example shows how to add virtual scroll to "),a(108,"code"),s(109,"nui-repeat"),l(),s(110," with a remote data source. "),l(),a(111,"nui-message",19),s(112," Since the example makes use of search and sorting filters, it's important to note that the viewport manager's paging progress must be reset each time the data is refreshed with new filtered results. The reset invocation can be seen in the "),a(113,"code"),s(114,"virtual-scroll-list.component.ts:doSearch"),l(),s(115," method. "),l(),a(116,"nui-schematic-docs-command"),s(117,"ng g @nova-ui/bits:list --name=scrollable-list --p=app --pagingMode=virtualScroll --dataSource=serverSide"),l(),a(118,"nui-schematic-docs-example",20),E(119,"app-virtual-scroll-list"),l()()()()),i&2&&(u(111),m("allowDismiss",!1))},dependencies:[Fn,Rn,Dn,F0,D0,Ya,$n,Hn,Un,Xr,Za,A0],encapsulation:2})}}return t})();function sx(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Enum: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),w(i.addJsonScheme[e].enum)}}function cx(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Alias: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),w(i.addJsonScheme[e].alias)}}function px(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Default: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),w(i.addJsonScheme[e].default)}}function ux(t,n){if(t&1&&(a(0,"div")(1,"nui-expander",1)(2,"div")(3,"i"),s(4,"Description: "),l(),a(5,"span"),s(6),l()(),a(7,"div")(8,"i"),s(9,"Type: "),l(),a(10,"span"),s(11),l()(),_(12,sx,5,1,"div",2)(13,cx,5,1,"div",2)(14,px,5,1,"div",2),l()()),t&2){let e=n.$implicit,i=g();u(),m("header",e),u(5),w(i.addJsonScheme[e].description),u(5),w(i.addJsonScheme[e].type),u(),m("ngIf",i.addJsonScheme[e].enum),u(),m("ngIf",i.addJsonScheme[e].alias),u(),m("ngIf",i.addJsonScheme[e].default)}}function mx(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Enum: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),w(i.layoutJsonScheme[e].enum)}}function dx(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Alias: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),w(i.layoutJsonScheme[e].alias)}}function fx(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Default: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),w(i.layoutJsonScheme[e].default)}}function hx(t,n){if(t&1&&(a(0,"div")(1,"nui-expander",1)(2,"div")(3,"i"),s(4,"Description: "),l(),a(5,"span"),s(6),l()(),a(7,"div")(8,"i"),s(9,"Type: "),l(),a(10,"span"),s(11),l()(),_(12,mx,5,1,"div",2)(13,dx,5,1,"div",2)(14,fx,5,1,"div",2),l()()),t&2){let e=n.$implicit,i=g();u(),m("header",e),u(5),w(i.layoutJsonScheme[e].description),u(5),w(i.layoutJsonScheme[e].type),u(),m("ngIf",i.layoutJsonScheme[e].enum),u(),m("ngIf",i.layoutJsonScheme[e].alias),u(),m("ngIf",i.layoutJsonScheme[e].default)}}function _x(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Enum: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),w(i.tableJsonScheme[e].enum)}}function gx(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Alias: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),w(i.tableJsonScheme[e].alias)}}function vx(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Default: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),w(i.tableJsonScheme[e].default)}}function Cx(t,n){if(t&1&&(a(0,"div")(1,"nui-expander",1)(2,"div")(3,"i"),s(4,"Description: "),l(),a(5,"span"),s(6),l()(),a(7,"div")(8,"i"),s(9,"Type: "),l(),a(10,"span"),s(11),l()(),_(12,_x,5,1,"div",2)(13,gx,5,1,"div",2)(14,vx,5,1,"div",2),l()()),t&2){let e=n.$implicit,i=g();u(),m("header",e),u(5),w(i.tableJsonScheme[e].description),u(5),w(i.tableJsonScheme[e].type),u(),m("ngIf",i.tableJsonScheme[e].enum),u(),m("ngIf",i.tableJsonScheme[e].alias),u(),m("ngIf",i.tableJsonScheme[e].default)}}var k0=(()=>{class t{constructor(){this.layoutJsonScheme={},this.tableJsonScheme={},this.addJsonScheme={},this.objectKeys=Object.keys,this.schemaObjectFiller(tp.properties,"layout"),this.schemaObjectFiller(np.properties,"table"),this.schemaObjectFiller(ip.properties,"add")}schemaObjectFiller(e,i){let r=this[`${i}JsonScheme`];for(let o of this.objectKeys(e))r[o]={description:e[o].description,type:e[o].type},e[o].enum&&(r[o].enum=e[o].enum),e[o].default&&(r[o].default=e[o].default),e[o].alias&&(r[o].alias=e[o].alias)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["schematics-docs"]],standalone:!1,decls:42,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"header"],[4,"ngIf"]],template:function(i,r){i&1&&(a(0,"h1"),s(1,"bits schematics"),l(),a(2,"div"),s(3," All schematics work in similar way. To use them, you can call it by first doing "),a(4,"code"),s(5,"ng add @nova-ui/bits"),l(),s(6," then "),a(7,"code"),s(8,"ng g @nova-ui/bits:SCHEMATICNAME"),l(),s(9," and add option, available for each schematic. "),a(10,"b"),s(11,"Note:"),l(),s(12,` for most of the schematics, name can be set without specifying option, just type it as the first argument in command line.
`),l(),a(13,"div")(14,"h2"),s(15,"Ng-add schematic guide"),l(),a(16,"p"),s(17," Bootstraps nova-composites for consumption in your project. Adds it package.json and does "),a(18,"code"),s(19,"npm install"),l(),s(20,". "),l(),_(21,ux,15,6,"div",0),l(),a(22,"div")(23,"h2"),s(24,"Layout schematic guide"),l(),a(25,"p"),s(26," Use "),a(27,"code"),s(28,"ng g @nova-ui/bits:layout"),l(),s(29," to generate basic layout example that can be used in you project out of the box. "),l(),a(30,"p"),s(31," Use the following options in the command line to modify schematic's execution: "),l(),_(32,hx,15,6,"div",0),l(),a(33,"div")(34,"h2"),s(35,"Table schematic guide"),l(),a(36,"p"),s(37," In your command line, type "),a(38,"code"),s(39,"ng g @nova-ui/bits:table"),l(),s(40,"to generate table. "),l(),_(41,Cx,15,6,"div",0),l()),i&2&&(u(21),m("ngForOf",r.objectKeys(r.addJsonScheme)),u(11),m("ngForOf",r.objectKeys(r.layoutJsonScheme)),u(9),m("ngForOf",r.objectKeys(r.tableJsonScheme)))},dependencies:[Y,k,We],encapsulation:2})}}return t})();var el=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["ng-component"]],standalone:!1,decls:1,vars:0,template:function(i,r){i&1&&E(0,"router-outlet")},dependencies:[qc],encapsulation:2})}}return t})();var ti=function(t){return t.active="Active",t.down="Down",t}(ti||{});var N0=10,G0=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:ti.active},{name:"Man-LT-ASD123",location:"Brno",status:ti.down},{name:"Man-LT-DSA331",location:"Austin",status:ti.active},{name:"Man-LT-JKS212",location:"Kyiv",status:ti.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:ti.down},{name:"Man-LT-433AAD",location:"Austin",status:ti.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:ti.active},{name:"Man-LT-GHJ882",location:"Brno",status:ti.down},{name:"Man-LT-LLK001",location:"Austin",status:ti.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:ti.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:ti.down},{name:"Man-LT-LKJF12",location:"Austin",status:ti.down},{name:"Man-LT-882JJS",location:"Kyiv",status:ti.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:ti.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:ti.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:ti.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:ti.active},{name:"Man-LT-RRF231",location:"Austin",status:ti.down}];var Sx=()=>[10,20,50,100];function yx(t,n){t&1&&(a(0,"th",13),j(1,0),l())}function Ex(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function Tx(t,n){t&1&&(a(0,"th",13),j(1,1),l())}function Ix(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),w(e.location)}}function xx(t,n){t&1&&(a(0,"th",13),j(1,2),l())}function wx(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function bx(t,n){t&1&&E(0,"tr",15)}function Fx(t,n){t&1&&E(0,"tr",16)}var tl=(()=>{class t{constructor(e){this.dataSource=e,this.items=[],this.totalItems=0,this.displayedColumns=["name","location","status"],this.page=1,this.pageSize=N0,this.destroy$=new le,this.dataSource.setData(G0)}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(Z(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P))}}static{this.\u0275cmp=D({type:t,selectors:[["app-basic-table"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(de,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.paginator=o.first)}},standalone:!1,features:[pe([{provide:P,useClass:ui}])],decls:14,vars:9,consts:()=>{let e;e=$localize`:␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`;let i;i=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`;let r;return r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`,[e,i,r,[1,"app-basic-table__container"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""]]},template:function(i,r){i&1&&(a(0,"div",3)(1,"table",4),U(2,5),_(3,yx,2,0,"th",6)(4,Ex,2,1,"td",7),Q(),U(5,8),_(6,Tx,2,0,"th",6)(7,Ix,2,1,"td",7),Q(),U(8,9),_(9,xx,2,0,"th",6)(10,wx,2,1,"td",7),Q(),_(11,bx,1,0,"tr",10)(12,Fx,1,0,"tr",11),l()(),a(13,"nui-paginator",12),Ke("pageChange",function(c){return Xe(r.page,c)||(r.page=c),c}),x("pagerAction",function(c){return r.changePagination(c)}),l()),i&2&&(u(),m("dataSource",r.items),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(8,Sx))("total",r.totalItems))},dependencies:[de,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt],styles:[`.icon-margin{margin-right:5px}.app-basic-table__container{overflow:auto}
`],encapsulation:2})}}return t})();var Ox="http://nova-pg.swdev.local/api/v1/servers",B0=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(400)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(Ox,{params:i}).pipe(ke(300),_e(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();function Dx(t,n){t&1&&(a(0,"th",23),j(1,3),l()),t&2&&ci("width",30,"%")}function Rx(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function Lx(t,n){t&1&&(a(0,"th",23),j(1,4),l()),t&2&&ci("width",30,"%")}function Mx(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.location," ")}}function Vx(t,n){t&1&&(a(0,"th",23),j(1,5),l())}function Ax(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function Px(t,n){t&1&&E(0,"tr",25)}function kx(t,n){t&1&&E(0,"tr",26)}function Nx(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",27),a(2,"div",28),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function Gx(t,n){t&1&&(U(0),j(1,7),Q())}function Wx(t,n){t&1&&(a(0,"strong"),s(1,". All items loaded."),l())}function Bx(t,n){if(t&1&&(a(0,"div",28)(1,"div",29)(2,"div",30),j(3,6),l(),a(4,"div",30),_(5,Gx,2,0,"ng-container",22)(6,Wx,2,0,"ng-template",null,2,R),l()()()),t&2){let e=O(7),i=g();u(3),at(i.items.length)(i.totalItems),lt(3),u(2),m("ngIf",i.items.length!==i.totalItems)("ngIfElse",e)}}var Kr=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.viewportManager=i,this.changeDetection=r,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ge.ascending},this.columnsToApplySearch=["name"],this.pageSize=400,this.rowHeight=40,this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({search:{componentInstance:this.search},virtualScroll:{componentInstance:this.viewportManager}}),this.viewportManager.setViewport(this.viewport).observeNextPage$({pageSize:this.pageSize}).pipe(Yi(()=>!this.items.length||this.items.length<this.totalItems),Z(()=>T(this,null,function*(){return this.applyFilters(!1)})),Zi(()=>this.dataSource.outputsSubject.pipe(Z(e=>{let i=e.repeat?.itemsSource||[];this.items=this.items.concat(i),this.totalItems=e.paginator?.total||0,this.changeDetection.detectChanges()}))),ee(this.destroy$)).subscribe(),this.search.inputChange.pipe(bi(500),ee(this.destroy$)).subscribe(()=>T(this,null,function*(){return this.onSearch()}))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.items=[]),yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ot),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-table-with-virtual-scroll"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(fe,5),A(Ut,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.viewport=o.first)}},standalone:!1,features:[pe([ot,{provide:P,useClass:B0}])],decls:22,vars:14,consts:()=>{let e;e=$localize`:␟1544348a6496c3dcf8e4905654cbb5f5fee191e6␟1552568671699956057: Name `;let i;i=$localize`:␟e01692d26b709ceb10a22f9279fe604d79a26aaa␟212627037199736435: Location `;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;o=$localize`:␟3a4a744d56678df1eb8b66e80cf3ceaf68441930␟2066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `;let c;return c=$localize`:␟b12cc7551005a9787976bb8d2a161113feed479a␟9056616360897919297:, scroll down for more.`,[["viewportRef",""],["defaultText",""],["endOfData",""],e,i,r,o,c,[1,"app-table-with-virtual-scroll__container"],[1,"app-table-with-virtual-scroll-searchable__search"],[3,"search","cancel","value"],["tableStickyHeader","",1,"app-table-with-virtual-scroll-scrolling-container",3,"itemSize"],["nui-table","",3,"sortOrderChanged","dataSource","sortable","sortedColumn"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-table-with-virtual-scroll-scrolling-footer"],[4,"ngIf","ngIfElse"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",8)(1,"div",9)(2,"nui-search",10),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(3,"cdk-virtual-scroll-viewport",11,0)(5,"table",12),H(6,"sliceRange"),x("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),U(7,13),_(8,Dx,2,2,"th",14)(9,Rx,2,1,"td",15),Q(),U(10,16),_(11,Lx,2,2,"th",14)(12,Mx,2,1,"td",15),Q(),U(13,17),_(14,Vx,2,0,"th",18)(15,Ax,2,1,"td",15),Q(),_(16,Px,1,0,"tr",19)(17,kx,1,0,"ng-template",20),l()(),a(18,"footer",21),_(19,Nx,4,3,"div",22)(20,Bx,8,4,"ng-template",null,1,R),l()()}if(i&2){let o=O(4),c=O(21);u(2),m("value",r.searchTerm),u(),m("itemSize",r.rowHeight),u(2),m("dataSource",Ve(6,11,r.items,o.getRenderedRange()))("sortable",!0)("sortedColumn",r.sortedColumn),u(11),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.items),u(2),m("ngIf",r.isBusy)("ngIfElse",c)}},dependencies:[k,fe,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt,on,tn,nn,Ut,Vt,an],styles:[`.icon-margin{margin-right:5px}.app-table-with-virtual-scroll__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-table-with-virtual-scroll-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-virtual-scroll-scrolling-container{height:300px}.app-table-with-virtual-scroll-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}
`],encapsulation:2})}}return t})();var jx="http://nova-pg.swdev.local/api/v1/servers",$0=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(jx,{params:i}).pipe(ke(300),_e(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Hx=()=>[10,20,50,100];function Ux(t,n){t&1&&(a(0,"th",19),j(1,1),l())}function Qx(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function qx(t,n){t&1&&(a(0,"th",19),j(1,2),l())}function zx(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),w(e.location)}}function Xx(t,n){t&1&&(a(0,"th",19),j(1,3),l())}function Kx(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function Jx(t,n){t&1&&E(0,"tr",21)}function Yx(t,n){t&1&&E(0,"tr",22)}function Zx(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",23),a(2,"div",24),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function ew(t,n){if(t&1&&(a(0,"div",24)(1,"div",25)(2,"div",26),j(3,4),l()()()),t&2){let e=g();u(3),at(e.items.length)(e.totalItems),lt(3)}}var il=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ge.ascending},this.columnsToApplySearch=["name"],this.page=1,this.pageSize=10,this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({search:{componentInstance:this.search},paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(Z(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),ee(this.destroy$)).subscribe(),this.search.inputChange.pipe(bi(500),Z(()=>T(this,null,function*(){return this.onSearch()})),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-table-with-pagination"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(fe,5),A(de,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.paginator=o.first)}},standalone:!1,features:[pe([{provide:P,useClass:$0}])],decls:20,vars:14,consts:()=>{let e;e=$localize`:␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`;let i;i=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;return o=$localize`:␟3a4a744d56678df1eb8b66e80cf3ceaf68441930␟2066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"app-table-with-pagination__container"],[1,"app-table-with-pagination-searchable__search"],[3,"search","cancel","value"],["nui-table","",3,"sortOrderChanged","dataSource","sortable","sortedColumn"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-pagination-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",5)(1,"div",6)(2,"nui-search",7),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(3,"table",8),x("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),U(4,9),_(5,Ux,2,0,"th",10)(6,Qx,2,1,"td",11),Q(),U(7,12),_(8,qx,2,0,"th",10)(9,zx,2,1,"td",11),Q(),U(10,13),_(11,Xx,2,0,"th",10)(12,Kx,2,1,"td",11),Q(),_(13,Jx,1,0,"tr",14)(14,Yx,1,0,"tr",15),l(),a(15,"footer",16),_(16,Zx,4,3,"div",17)(17,ew,4,2,"ng-template",null,0,R),l()(),a(19,"nui-paginator",18),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=O(18);u(2),m("value",r.searchTerm),u(),m("dataSource",r.items)("sortable",!0)("sortedColumn",r.sortedColumn),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(13,Hx))("total",r.totalItems)}},dependencies:[k,de,fe,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt,Vt],styles:[`.icon-margin{margin-right:5px}.app-table-with-pagination__container{overflow:auto}.app-table-with-pagination-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-pagination-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var tw="http://nova-pg.swdev.local/api/v1/servers",U0=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(tw,{params:i}).pipe(ke(300),_e(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var nw=()=>[10,20,50,100];function rw(t,n){t&1&&(a(0,"th",17),j(1,1),l())}function ow(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function aw(t,n){t&1&&(a(0,"th",17),j(1,2),l())}function lw(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),w(e.location)}}function sw(t,n){t&1&&(a(0,"th",17),j(1,3),l())}function cw(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function pw(t,n){t&1&&E(0,"tr",19)}function uw(t,n){t&1&&E(0,"tr",20)}function mw(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",21),a(2,"div",22),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function dw(t,n){if(t&1&&(a(0,"div",22)(1,"div",23)(2,"div",24),j(3,4),l()()()),t&2){let e=g();u(3),at(e.items.length)(e.totalItems),lt(3)}}var nl=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ge.ascending},this.page=1,this.pageSize=10,this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(Z(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-table-with-sort"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(de,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.paginator=o.first)}},standalone:!1,features:[pe([{provide:P,useClass:U0}])],decls:18,vars:13,consts:()=>{let e;e=$localize`:␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`;let i;i=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;return o=$localize`:␟3a4a744d56678df1eb8b66e80cf3ceaf68441930␟2066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"app-table-with-sort__container"],["nui-table","",3,"sortOrderChanged","dataSource","sortable","sortedColumn"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-sort-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",5)(1,"table",6),x("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),U(2,7),_(3,rw,2,0,"th",8)(4,ow,2,1,"td",9),Q(),U(5,10),_(6,aw,2,0,"th",8)(7,lw,2,1,"td",9),Q(),U(8,11),_(9,sw,2,0,"th",8)(10,cw,2,1,"td",9),Q(),_(11,pw,1,0,"tr",12)(12,uw,1,0,"tr",13),l(),a(13,"footer",14),_(14,mw,4,3,"div",15)(15,dw,4,2,"ng-template",null,0,R),l()(),a(17,"nui-paginator",16),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=O(16);u(),m("dataSource",r.items)("sortable",!0)("sortedColumn",r.sortedColumn),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(12,nw))("total",r.totalItems)}},dependencies:[k,de,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt,Vt],styles:[`.icon-margin{margin-right:5px}.app-table-with-sort__container{overflow:auto}.app-table-with-sort-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var fw="http://nova-pg.swdev.local/api/v1/servers",q0=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0};return new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"")}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(fw,{params:i}).pipe(ke(300),_e(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var _w=()=>[10,20,50,100];function gw(t,n){t&1&&(a(0,"th",19),j(1,1),l())}function vw(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function Cw(t,n){t&1&&(a(0,"th",19),j(1,2),l())}function Sw(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),w(e.location)}}function yw(t,n){t&1&&(a(0,"th",19),j(1,3),l())}function Ew(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function Tw(t,n){t&1&&E(0,"tr",21)}function Iw(t,n){t&1&&E(0,"tr",22)}function xw(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",23),a(2,"div",24),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function ww(t,n){if(t&1&&(a(0,"div",24)(1,"div",25)(2,"div",26),j(3,4),l()()()),t&2){let e=g();u(3),at(e.items.length)(e.totalItems),lt(3)}}var rl=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.columnsToApplySearch=["name"],this.page=1,this.pageSize=10,this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({search:{componentInstance:this.search},paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(Z(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),ee(this.destroy$)).subscribe(),this.search.inputChange.pipe(bi(500),Z(()=>T(this,null,function*(){return this.onSearch()})),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-table-with-search"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(fe,5),A(de,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.paginator=o.first)}},standalone:!1,features:[pe([{provide:P,useClass:q0}])],decls:20,vars:12,consts:()=>{let e;e=$localize`:␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`;let i;i=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;return o=$localize`:␟3a4a744d56678df1eb8b66e80cf3ceaf68441930␟2066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"app-table-with-search__container"],[1,"app-table-with-search-searchable__search"],[3,"search","cancel","value"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-search-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",5)(1,"div",6)(2,"nui-search",7),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(3,"table",8),U(4,9),_(5,gw,2,0,"th",10)(6,vw,2,1,"td",11),Q(),U(7,12),_(8,Cw,2,0,"th",10)(9,Sw,2,1,"td",11),Q(),U(10,13),_(11,yw,2,0,"th",10)(12,Ew,2,1,"td",11),Q(),_(13,Tw,1,0,"tr",14)(14,Iw,1,0,"tr",15),l(),a(15,"footer",16),_(16,xw,4,3,"div",17)(17,ww,4,2,"ng-template",null,0,R),l()(),a(19,"nui-paginator",18),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=O(18);u(2),m("value",r.searchTerm),u(),m("dataSource",r.items),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(11,_w))("total",r.totalItems)}},dependencies:[k,de,fe,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt,Vt],styles:[`.icon-margin{margin-right:5px}.app-table-with-search__container{overflow:auto}.app-table-with-search-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-search-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var bw="http://nova-pg.swdev.local/api/v1/servers",X0=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(bw,{params:i}).pipe(ke(300),_e(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var Ow=()=>[10,20,50,100];function Dw(t,n){t&1&&(a(0,"th",21),j(1,1),l())}function Rw(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function Lw(t,n){t&1&&(a(0,"th",21),j(1,2),l())}function Mw(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),w(e.location)}}function Vw(t,n){t&1&&(a(0,"th",21),j(1,3),l())}function Aw(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function Pw(t,n){t&1&&E(0,"tr",23)}function kw(t,n){if(t&1&&E(0,"tr",24),t&2){let e=n.$implicit;m("rowObject",e)}}function Nw(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",25),a(2,"div",26),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function Gw(t,n){if(t&1&&(a(0,"div",26)(1,"div",27)(2,"div",28),j(3,4),l()()()),t&2){let e=g();u(3),at(e.items.length)(e.totalItems),lt(3)}}var ol=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ge.ascending},this.columnsToApplySearch=["name"],this.page=1,this.pageSize=10,this.selectedItems=[],this.selection={isAllPages:!1,include:["ABERN-SVR-ATQU9404"],exclude:[]},this.selectionConfig={enabled:!0,selectionMode:Uc.Multi},this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({search:{componentInstance:this.search},paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(Z(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),ee(this.destroy$)).subscribe(),this.search.inputChange.pipe(bi(500),Z(()=>T(this,null,function*(){return this.onSearch()})),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}onSelectionChanged(e){this.changeDetection.detectChanges()}trackBy(e,i){return i.name}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-table-with-selection"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(fe,5),A(de,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.paginator=o.first)}},standalone:!1,features:[pe([{provide:P,useClass:X0}])],decls:26,vars:20,consts:()=>{let e;e=$localize`:␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`;let i;i=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;return o=$localize`:␟3a4a744d56678df1eb8b66e80cf3ceaf68441930␟2066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"flex-row-container"],[1,"flex-independent-row-item"],[1,"app-table-with-selection__container"],[1,"app-table-with-selection-searchable__search"],[3,"search","cancel","value"],["nui-table","",3,"sortOrderChanged","selectionChange","dataSource","sortable","sortedColumn","selection","selectionConfig","trackBy"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",3,"rowObject",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-selection-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row","",3,"rowObject"],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=G();a(0,"h2"),s(1,"Selection result"),l(),a(2,"div",5)(3,"span",6),s(4),H(5,"json"),l()(),a(6,"div",7)(7,"div",8)(8,"nui-search",9),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(9,"table",10),x("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),Ke("selectionChange",function(p){return S(o),Xe(r.selection,p)||(r.selection=p),y(p)}),x("selectionChange",function(p){return S(o),y(r.onSelectionChanged(p))}),U(10,11),_(11,Dw,2,0,"th",12)(12,Rw,2,1,"td",13),Q(),U(13,14),_(14,Lw,2,0,"th",12)(15,Mw,2,1,"td",13),Q(),U(16,15),_(17,Vw,2,0,"th",12)(18,Aw,2,1,"td",13),Q(),_(19,Pw,1,0,"tr",16)(20,kw,1,1,"tr",17),l(),a(21,"footer",18),_(22,Nw,4,3,"div",19)(23,Gw,4,2,"ng-template",null,0,R),l()(),a(25,"nui-paginator",20),Ke("pageChange",function(p){return S(o),Xe(r.page,p)||(r.page=p),y(p)}),x("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=O(24);u(4),w(Le(5,17,r.selection)),u(4),m("value",r.searchTerm),u(),m("dataSource",r.items)("sortable",!0)("sortedColumn",r.sortedColumn),ze("selection",r.selection),m("selectionConfig",r.selectionConfig)("trackBy",r.trackBy),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),ze("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",ct(19,Ow))("total",r.totalItems)}},dependencies:[k,de,fe,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt,Vt,ur],styles:[`.icon-margin{margin-right:5px}.app-table-with-selection__container{overflow:auto}.app-table-with-selection-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-selection-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var To=400,al=new xn("CUSTOM_SCROLL_ITEMS_PER_PAGE");var Ww="http://nova-pg.swdev.local/api/v1/servers",J0=(()=>{class t extends qe{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ye().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(To)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Se(e).pipe(_e(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(Ww,{params:i}).pipe(ke(300),_e(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Se({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(se(Qe),se(Ue))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();var ll=(()=>{class t{constructor(e){this.itemsPerPage=e,this.reset()}getFilters(){return{type:"virtualScroll",value:this.virtualScrollRange}}reset(){this.virtualScrollRange={start:0,end:this.itemsPerPage}}prepareNextPage(e){e<this.itemsPerPage||(this.virtualScrollRange.start+=this.itemsPerPage,this.virtualScrollRange.end=this.virtualScrollRange.start+this.itemsPerPage)}static{this.\u0275fac=function(i){return new(i||t)(se(al))}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac})}}return t})();function jw(t,n){t&1&&(a(0,"th",22),j(1,2),l()),t&2&&ci("width",30,"%")}function $w(t,n){if(t&1&&(a(0,"td",23),s(1),l()),t&2){let e=n.$implicit;u(),w(e.name)}}function Hw(t,n){t&1&&(a(0,"th",22),j(1,3),l()),t&2&&ci("width",30,"%")}function Uw(t,n){if(t&1&&(a(0,"td",23),s(1),l()),t&2){let e=n.$implicit;u(),N(" ",e.location," ")}}function Qw(t,n){t&1&&(a(0,"th",22),j(1,4),l())}function qw(t,n){if(t&1&&(a(0,"td",23),s(1),l()),t&2){let e=n.$implicit;u(),w(e.status)}}function zw(t,n){t&1&&E(0,"tr",24)}function Xw(t,n){t&1&&E(0,"tr",25)}function Kw(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",26),a(2,"div",27),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),N(" Loading next ",e.pageSize," items... ")}}function Jw(t,n){if(t&1){let e=G();a(0,"div",27)(1,"div",28)(2,"div",29),j(3,5),l(),a(4,"div",30)(5,"button",31),x("click",function(){S(e);let r=g();return y(r.applyFilters(!1))}),j(6,6),l()()()()}if(t&2){let e=g();u(3),at(e.items.length),lt(3),u(3),at(e.pageSize),lt(6)}}var sl=(()=>{class t{constructor(e,i,r,o){this.dataSource=e,this.viewportManager=i,this.customVirtualScrollStrategyService=r,this.changeDetection=o,this.items=[],this.isBusy=!1,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ge.ascending},this.columnsToApplySearch=["name"],this.pageSize=To,this.rowHeight=40,this.destroy$=new le}ngOnInit(){this.dataSource.busy.pipe(Z(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),ee(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({search:{componentInstance:this.search},virtualScroll:{componentInstance:this.customVirtualScrollStrategyService}}),this.viewportManager.setViewport(this.viewport),this.dataSource.outputsSubject.pipe(Z(e=>{let i=e.repeat?.itemsSource||[],r=i.length,o=r<this.pageSize?this.previouslyLoadedCount-r:r;i=i.slice(0,o),this.previouslyLoadedCount=i.length,this.items=this.items.concat(i),this.customVirtualScrollStrategyService.prepareNextPage(r)}),ee(this.destroy$)).subscribe(),this.search.inputChange.pipe(bi(500),Z(()=>T(this,null,function*(){return this.onSearch()})),ee(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.items=[],this.customVirtualScrollStrategyService.reset()),yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(I(P),I(ot),I(ll),I(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-table-with-custom-virtual-scroll"]],viewQuery:function(i,r){if(i&1&&(A(Ce,5),A(fe,5),A(Ut,5)),i&2){let o;b(o=F())&&(r.table=o.first),b(o=F())&&(r.search=o.first),b(o=F())&&(r.viewport=o.first)}},standalone:!1,features:[pe([ot,ll,{provide:al,useValue:To},{provide:P,useClass:J0}])],decls:22,vars:14,consts:()=>{let e;e=$localize`:␟1544348a6496c3dcf8e4905654cbb5f5fee191e6␟1552568671699956057: Name `;let i;i=$localize`:␟e01692d26b709ceb10a22f9279fe604d79a26aaa␟212627037199736435: Location `;let r;r=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`;let o;o=$localize`:␟fd2c761c79d0b41a63c7f1ca71a99a1439f81790␟4607040487655280131: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: item(s). `;let c;return c=$localize`:␟82b9a2e2e3f636942c16552ddad1266bc1eeee47␟3980091347819066373: Load another ${"\uFFFD0\uFFFD"}:INTERPOLATION: items `,[["viewportRef",""],["defaultText",""],e,i,r,o,c,[1,"app-table-with-custom-virtual-scroll__container"],[1,"app-table-with-custom-virtual-scroll-searchable__search"],[3,"search","cancel","value"],["tableStickyHeader","",1,"app-table-with-custom-virtual-scroll-scrolling-container",3,"itemSize"],["nui-table","",3,"sortOrderChanged","dataSource","sortable","sortedColumn"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-table-with-custom-virtual-scroll-scrolling-footer"],[4,"ngIf","ngIfElse"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],[1,"d-flex","justify-content-center"],["btn","","nui-button","","type","button","size","default","displayStyle","action",3,"click"]]},template:function(i,r){if(i&1){let o=G();a(0,"div",7)(1,"div",8)(2,"nui-search",9),x("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(3,"cdk-virtual-scroll-viewport",10,0)(5,"table",11),H(6,"sliceRange"),x("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),U(7,12),_(8,jw,2,2,"th",13)(9,$w,2,1,"td",14),Q(),U(10,15),_(11,Hw,2,2,"th",13)(12,Uw,2,1,"td",14),Q(),U(13,16),_(14,Qw,2,0,"th",17)(15,qw,2,1,"td",14),Q(),_(16,zw,1,0,"tr",18)(17,Xw,1,0,"ng-template",19),l()(),a(18,"footer",20),_(19,Kw,4,3,"div",21)(20,Jw,7,2,"ng-template",null,1,R),l()()}if(i&2){let o=O(4),c=O(21);u(2),m("value",r.searchTerm),u(),m("itemSize",r.rowHeight),u(2),m("dataSource",Ve(6,11,r.items,o.getRenderedRange()))("sortable",!0)("sortedColumn",r.sortedColumn),u(11),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.items),u(2),m("ngIf",r.isBusy)("ngIfElse",c)}},dependencies:[k,fe,Ce,Et,gt,Tt,It,xt,St,yt,Ct,vt,on,_n,tn,nn,Ut,Vt,an],styles:[`.icon-margin{margin-right:5px}.app-table-with-custom-virtual-scroll__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-table-with-custom-virtual-scroll-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-custom-virtual-scroll-scrolling-container{height:300px}.app-table-with-custom-virtual-scroll-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}
`],encapsulation:2})}}return t})();function Yw(t,n){t&1&&E(0,"app-table-with-virtual-scroll")}function Zw(t,n){t&1&&E(0,"app-table-with-custom-virtual-scroll")}var Z0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nui-table-schematics-docs-example"]],standalone:!1,features:[pe([{provide:Tn,useValue:Tn.table}])],decls:99,vars:3,consts:[["vs",""],["cvs",""],["schematicFolderName","table"],["schematicSummary",""],["name","selectionMode"],["name","pagingMode"],["name","dataSource"],["name","enableSearch"],["name","enableSort"],["schematicExamples",""],["heading","Basic"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["exampleFolderName","basic-table"],["heading","Sort"],["exampleFolderName","table-with-sort"],["heading","Search"],["exampleFolderName","table-with-search"],["heading","Pagination"],["exampleFolderName","table/table-with-pagination"],["heading","Selection"],["exampleFolderName","table/table-with-selection"],["heading","Virtual Scroll"],["type","warning",3,"allowDismiss"],["exampleFolderName","table/table-with-virtual-scroll"],[4,"ngIf"],["heading","Custom Virtual Scroll"],["exampleFolderName","table/table-with-custom-virtual-scroll"]],template:function(i,r){if(i&1&&(a(0,"nui-schematic-docs-page",2)(1,"div",3)(2,"p"),s(3," The Table schematic provides the ability to create a generic table that can cover a majority of use cases. Its main responsibility is to integrate the functionality of the "),a(4,"code"),s(5,"nui-table"),l(),s(6," component with other components commonly used with a table such as "),a(7,"code"),s(8,"nui-search"),l(),s(9," and "),a(10,"code"),s(11,"nui-paginator"),l(),s(12,". "),l(),a(13,"h2"),s(14,"Notable Command Line Options"),l(),E(15,"nui-schematic-cli-option",4)(16,"nui-schematic-cli-option",5)(17,"nui-schematic-cli-option",6)(18,"nui-schematic-cli-option",7)(19,"nui-schematic-cli-option",8),l(),a(20,"nui-tab-group",9)(21,"nui-tab",10)(22,"h2"),s(23,"Basic Usage"),l(),a(24,"p"),s(25," This example illustrates the output of the CLI command without any modifications. Consumers are able to build upon the generated boilerplate to provide additional functionality depending on their use case. Data manipulations (filtering/pagination/sorting/search) are handled by the "),a(26,"a",11)(27,"code"),s(28,"ClientSideDataSource"),l()(),s(29," service, which can be extended with custom filtering behavior. "),l(),a(30,"nui-schematic-docs-command"),s(31,"ng g @nova-ui/bits:table --p=app --name=basic-table --enable-search=false --enable-sort=false"),l(),a(32,"nui-schematic-docs-example",12),E(33,"app-basic-table"),l()(),a(34,"nui-tab",13)(35,"h2"),s(36,"Table Sorting"),l(),a(37,"nui-schematic-docs-command"),s(38,"ng g @nova-ui/bits:table --p=app --name=table-with-sort --enable-sort --enable-search=false"),l(),a(39,"nui-schematic-docs-example",14),E(40,"app-table-with-sort"),l()(),a(41,"nui-tab",15)(42,"h2"),s(43,"Table with Search"),l(),a(44,"nui-schematic-docs-command"),s(45,"ng g @nova-ui/bits:table --p=app --name=table-with-search --enable-search --enable-sort=false"),l(),a(46,"nui-schematic-docs-example",16),E(47,"app-table-with-search"),l()(),a(48,"nui-tab",17)(49,"h2"),s(50,"Pagination"),l(),a(51,"p"),s(52," This example shows how to add pagination to "),a(53,"code"),s(54,"nui-table"),l(),s(55," with a remote data source. "),l(),a(56,"nui-schematic-docs-command"),s(57,"ng g @nova-ui/bits:table --name=table-with-pagination --p=app --pagingMode=pagination --dataSource=serverSide"),l(),a(58,"nui-schematic-docs-example",18),E(59,"app-table-with-pagination"),l()(),a(60,"nui-tab",19)(61,"h2"),s(62,"Selection"),l(),a(63,"p"),s(64," This example shows how to add selection to "),a(65,"code"),s(66,"nui-table"),l(),s(67," with a remote data source. "),l(),a(68,"nui-schematic-docs-command"),s(69,"ng g @nova-ui/bits:table --name=table-with-pagination --p=app --pagingMode=pagination --dataSource=serverSide "),a(70,"strong"),s(71,"--selectionMode=multi"),l()(),a(72,"nui-schematic-docs-example",20),E(73,"app-table-with-selection"),l()(),a(74,"nui-tab",21,0)(76,"h2"),s(77,"Virtual Scroll"),l(),a(78,"p"),s(79," This example shows how to add virtual scroll to "),a(80,"code"),s(81,"nui-repeat"),l(),s(82," with a remote data source. "),l(),a(83,"nui-message",22),s(84," Since the example makes use of search and sorting filters, it's important to note that the viewport manager's paging progress must be reset each time the data is refreshed with new filtered results whenever the filters are changed. "),l(),a(85,"nui-schematic-docs-command"),s(86,"ng g @nova-ui/bits:table --name=table-with-virtual-scroll --p=app --pagingMode=virtualScroll --dataSource=serverSide"),l(),a(87,"nui-schematic-docs-example",23),_(88,Yw,1,0,"app-table-with-virtual-scroll",24),l()(),a(89,"nui-tab",25,1)(91,"h2"),s(92,"Virtual Scroll with Custom Strategy"),l(),a(93,"nui-schematic-docs-command"),s(94," ng g @nova-ui/bits:table --name=table-with-virtual-scroll --p=app --pagingMode=virtualScroll --dataSource=serverSide "),a(95,"strong"),s(96,"--virtualScrollStrategy=custom"),l()(),a(97,"nui-schematic-docs-example",26),_(98,Zw,1,0,"app-table-with-custom-virtual-scroll",24),l()()()()),i&2){let o=O(75),c=O(90);u(83),m("allowDismiss",!1),u(5),m("ngIf",o.active),u(10),m("ngIf",c.active)}},dependencies:[k,Fn,Rn,Dn,$n,Hn,Un,Xr,Kr,il,tl,nl,rl,ol,sl],encapsulation:2})}}return t})();var eh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["table-schematics-visual-test"]],standalone:!1,decls:29,vars:0,consts:[[1,"container"],[1,"row"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Basic"),l()(),E(4,"app-basic-table"),a(5,"div",1)(6,"h2"),s(7,"Pagination"),l()(),E(8,"app-table-with-pagination"),a(9,"div",1)(10,"h2"),s(11,"Search"),l()(),E(12,"app-table-with-search"),a(13,"div",1)(14,"h2"),s(15,"Selection"),l()(),E(16,"app-table-with-selection"),a(17,"div",1)(18,"h2"),s(19,"Sorting"),l()(),E(20,"app-table-with-sort"),a(21,"div",1)(22,"h2"),s(23,"Virtual Scroll"),l()(),E(24,"app-table-with-virtual-scroll"),a(25,"div",1)(26,"h2"),s(27,"Custom Virtual Scroll"),l()(),E(28,"app-table-with-custom-virtual-scroll"),l())},dependencies:[Kr,il,tl,nl,rl,ol,sl],encapsulation:2})}}return t})();var eb="https://countries-274616.ew.r.appspot.com/",Ki=function(t){return t.Main="",t.List="list",t.ListPagination="list-pagination",t.ListVirtualScroll="list-virtual-scroll",t.Table="table",t.TablePagination="table-pagination",t.TablePaginationSelection="table-pagination-selection",t.TableVirtualScroll="table-virtual-scroll",t.TableVirtualScrollSelection="table-virtual-scroll-selection",t.TableVirtualScrollCustom="table-virtual-scroll-custom",t}(Ki||{}),tb=[{path:Ki.Main,component:Mf},{path:Ki.List,component:ja},{path:Ki.ListPagination,component:Oa},{path:Ki.ListVirtualScroll,component:Ra},{path:Ki.Table,component:Ma},{path:Ki.TablePagination,component:Aa},{path:Ki.TablePaginationSelection,component:Ua},{path:Ki.TableVirtualScroll,component:Wa},{path:Ki.TableVirtualScrollSelection,component:Ja},{path:Ki.TableVirtualScrollCustom,component:Xa}],ib=[{path:"",component:k0,data:{srlc:{hideIndicator:!0}}},{path:"filtered-view",component:el,data:{srlc:{stage:dr.ga},showThemeSwitcher:!0},children:tb},{path:"filter-group",component:Sd,data:{srlc:{stage:dr.ga},showThemeSwitcher:!0}},{path:"list",component:P0,data:{srlc:{stage:dr.ga},showThemeSwitcher:!0}},{path:"list-outlet",component:el,children:[{path:"selection",component:Ya},{path:"vscroll",component:Za}]},{path:"table",component:Z0,data:{srlc:{stage:dr.ga},showThemeSwitcher:!0}},{path:"table-outlet",component:el,children:[{path:"virtual-scroll",component:Kr,data:{srlc:{hideIndicator:!0}}},{path:"visual-test",component:eh,data:{srlc:{hideIndicator:!0}}}]},{path:"tree",component:$a,data:{srlc:{stage:dr.ga},showThemeSwitcher:!0}}],tQ=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ie({type:t})}static{this.\u0275inj=te({providers:[kc,yo,{provide:bo,useValue:up("schematics")},{provide:Ds,useFactory:e=>({cache:new ca,link:e.create({uri:eb})}),deps:[Im]},Nc(Gc())],imports:[ne,Ze,$c,Pt,Ft,Nt,Gt,Jc,Yc,it,Qc,Ot,kt,_i,_t,At,li,zc.forChild(ib),vc,Pm,Um,Ym,cd,Zc,wn,Hc,Ie,bn,Mi,Uf,n0,jd,Rd,h0,vc,x0,Mt,Jf,Gf,c0]})}}return t})();export{tQ as default};
