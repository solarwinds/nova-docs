import{a as A,b as B,c as R,d as _,e as W,f as q}from"./chunk-HK5JFI63.js";import{a as $}from"./chunk-HB6OB2ZQ.js";import{a as V}from"./chunk-PJ6STBNV.js";import{n as Q}from"./chunk-BEIUR5OZ.js";import{a as F}from"./chunk-YILH52ZF.js";import{d as j}from"./chunk-OP3E7ERD.js";import{l as z}from"./chunk-EHNCPSLF.js";import{$b as v,Ac as L,Bc as I,Eb as u,Gc as S,P as g,Qb as d,Sb as k,Wb as a,Xb as l,Yb as s,Zc as D,ac as T,ia as x,mc as b,nb as o,nc as p,q as h,qc as M,tb as f,uc as O,vc as P,wc as N,xa as C,xc as E,ya as y,yc as m,zb as w}from"./chunk-MC3BMXIX.js";function J(t,c){if(t&1&&(a(0,"cdk-nested-tree-node",4),s(1,"button",5),m(2),l()),t&2){let e=c.$implicit;o(2),L(" ",e.name," ")}}function K(t,c){if(t&1&&s(0,"nui-spinner",13),t&2){let e=p().$implicit;d("show",e.isLoading)("delay",0)}}function U(t,c){if(t&1){let e=T();a(0,"cdk-nested-tree-node",6,0)(2,"div",7),b("click",function(){let i=C(e).$implicit,r=E(1),H=p();return y(H.loadMore(i,r))}),s(3,"nui-icon",8),a(4,"span",9),m(5),l()(),a(6,"div",10),u(7,K,1,2,"nui-spinner",11),v(8,12),l()()}if(t&2){let e=c.$implicit,n=p();o(3),M("icon",n.treeControl.isExpanded(e)?"triangle-down":"triangle-right"),o(2),I("",e.name," (",e.length,")"),o(),k("nui-tree__body--collapsed",!n.treeControl.isExpanded(e)),d("@expandedState",n.treeControl.isExpanded(e)?"expanded":"collapsed"),o(),d("ngIf",e.isLoading)}}var X=[{name:"Fruit",children:[],length:3,isLoading:!1}],G=(()=>{class t{get(){return h([{name:"Banana"},{name:"Fruit",children:[],length:3,isLoading:!1},{name:"Fruit loops"}]).pipe(g(3e3))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),ce=(()=>{class t{constructor(e,n){this.http=e,this.differ=n,this.treeControl=new A(i=>i.children),this.dataSource=new Q(X),this.hasChild=(i,r)=>!!r.length}loadMore(e,n){let i=this.differ.find(e.children).create();e.children?.length===e.length||e.isLoading||(e.isLoading=!0,this.http.get().subscribe(r=>{e.isLoading=!1,e.children=r,this.cdkTree.renderNodeChanges(e.children,i,n.nodeOutlet.first.viewContainer,e)}))}static{this.\u0275fac=function(n){return new(n||t)(f(G),f(D))}}static{this.\u0275cmp=w({type:t,selectors:[["nui-tree-lazy-example"]],viewQuery:function(n,i){if(n&1&&O(_,5),n&2){let r;P(r=N())&&(i.cdkTree=r.first)}},standalone:!1,features:[S([G])],decls:3,vars:3,consts:[["nestedNode","cdkNestedTreeNode"],[3,"dataSource","treeControl"],["class","nui-tree__leaf",4,"cdkTreeNodeDef"],["class","nui-tree",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[1,"nui-tree__leaf"],["nui-button","","displayStyle","action","type","button","disabled",""],[1,"nui-tree"],["cdkTreeNodeToggle","",1,"nui-tree__header",3,"click"],[1,"nui-tree__header-icon",3,"icon"],[1,"nui-tree__header-title"],[1,"nui-tree__body"],[3,"show","delay",4,"ngIf"],["cdkTreeNodeOutlet",""],[3,"show","delay"]],template:function(n,i){n&1&&(a(0,"cdk-tree",1),u(1,J,3,1,"cdk-nested-tree-node",2)(2,U,9,7,"cdk-nested-tree-node",3),l()),n&2&&(d("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),d("cdkTreeNodeDefWhen",i.hasChild))},dependencies:[W,R,q,_,B,z,j,F,V],styles:[".nui-tree--expanded[_ngcontent-%COMP%]{padding-bottom:5px}.nui-tree__icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:flex;flex-shrink:0;height:30px;justify-content:center;width:30px;margin-left:-7px}.nui-tree__header[_ngcontent-%COMP%]{align-items:center;border-radius:3px;cursor:pointer;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.nui-tree__header[_ngcontent-%COMP%]:hover{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05))}.nui-tree__header-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;-ms-text-overflow:ellipsis;-o-text-overflow:ellipsis;text-overflow:ellipsis;line-height:18px;font-size:13px;font-weight:600;color:#111;color:var(--nui-color-text-default,#111)}.nui-tree__header-icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:flex;flex-shrink:0;height:30px;justify-content:center;width:30px}.nui-tree__header-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex-grow:2;justify-content:flex-start;padding-left:5px;min-width:0;padding-right:5px}.nui-tree__header-content-icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;flex-shrink:0;height:30px;justify-content:center;width:30px}.nui-tree__header-content--with-icon[_ngcontent-%COMP%]{padding-left:0}.nui-tree__header-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:2;min-width:0;width:100%}.nui-tree__header.nui-expander__header--empty.nui-expander__header[_ngcontent-%COMP%]{display:inline-flex}.nui-tree__header.nui-expander__header--empty[_ngcontent-%COMP%]   .nui-expander__header-content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.nui-tree__custom-header[_ngcontent-%COMP%]{width:100%}.nui-tree__custom-header--empty[_ngcontent-%COMP%]{display:flex;width:auto}.nui-tree__body[_ngcontent-%COMP%]{border:none;border-left:dotted 2px #d9d9d9;border-left:dotted 2px var(--nui-color-line-default, #d9d9d9);color:#111;color:var(--nui-color-text-default, #111);margin-left:14px;padding-left:14px}.nui-tree__body.hide-left-border[_ngcontent-%COMP%]{border-left:0}.nui-tree__body.ng-animating[_ngcontent-%COMP%], .nui-tree__body--collapsed[_ngcontent-%COMP%]{overflow:hidden}.nui-tree__leaf[_ngcontent-%COMP%]{display:flex;align-items:center}.nui-tree__invisible[_ngcontent-%COMP%]{display:none}"],data:{animation:[$]}})}}return t})();export{ce as a};
