import{a as tt}from"./chunk-CV3P3IAS.js";import{a as pt}from"./chunk-I4VLXBBX.js";import{a as mt}from"./chunk-DP6M2T73.js";import{n as it}from"./chunk-IOE73CTL.js";import{a as ht}from"./chunk-5J7BNPXL.js";import{a as X}from"./chunk-YILH52ZF.js";import{d as W}from"./chunk-OP3E7ERD.js";import{j as Q}from"./chunk-XAWZKRM7.js";import{c as ut}from"./chunk-TN2MTUUA.js";import{a as lt}from"./chunk-ZR5STDHI.js";import{l as K}from"./chunk-EHNCPSLF.js";import{Da as V,Eb as C,Ia as M,N as F,Ob as q,Pb as T,Qb as h,Rb as j,Sb as H,Tb as D,Wb as f,Xb as d,Yb as x,ac as G,g as p,hb as Z,ia as m,ib as Y,mc as R,na as r,nb as c,nc as g,qb as $,qc as J,tb as _,xa as z,ya as L,yc as A,zb as U,zc as B}from"./chunk-MC3BMXIX.js";import{g as y}from"./chunk-VBFW7A5V.js";var S=y(pt()),at=y(mt()),rt=y(ht()),E=y(ut());var et=y(lt());var ot=(()=>{class e{constructor(t,i,o){this.componentFactoryResolver=t,this.overlayService=i,this.appRef=o,this.containers={}}static getComponentRootNode(t){return t.hostView.rootNodes[0]}getContainerElement(t="toast-top-right"){return(0,et.default)(this.containers[t])&&this.createContainer(t),this.containerElement=this.containers[t]}attachToast(t,i,o){let s=this.componentFactoryResolver.resolveComponentFactory(t).create(i);return this.appRef.attachView(s.hostView),o?this.containerElement.insertBefore(e.getComponentRootNode(s),this.containerElement.firstChild):this.containerElement.appendChild(e.getComponentRootNode(s)),s}detachToast(t){t.destroy()}createContainer(t){let i=document.createElement("div");i.classList.add("nui-toast__container"),i.classList.add(t),this.overlayService.getOverlayContainer(document.body,20).appendChild(i),this.containers[t]=i}static{this.\u0275fac=function(i){return new(i||e)(r($),r(it),r(q))}}static{this.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var u=class{constructor(a,t,i,o,n,s){this.toastId=a,this.config=t,this.body=i,this.title=o,this.toastType=n,this.toastRef=s,this.onClickSubject=new p}triggerClick(){this.onClickSubject.next()}onClick(){return this.onClickSubject.asObservable()}};var w=class{constructor(a,t){this.toastPackage=a,this.parentInjector=t}get(a,t){return a===u&&this.toastPackage?this.toastPackage:this.parentInjector.get(a,t)}};var I=class{constructor(a){this.toastContainerService=a,this.afterClosedSubject=new p,this.activateSubject=new p,this.manualCloseSubject=new p}manualClose(){this.manualCloseSubject.next(),this.manualCloseSubject.complete()}manualClosed(){return this.manualCloseSubject.asObservable()}close(){this.toastContainerService.detachToast(this.componentInstance),this.afterClosedSubject.next(),this.afterClosedSubject.complete()}afterClosed(){return this.afterClosedSubject.asObservable()}isInactive(){return this.activateSubject.isStopped}activate(){this.activateSubject.next(),this.activateSubject.complete()}afterActivate(){return this.activateSubject.asObservable()}};var nt=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=m({token:e,factory:e.\u0275fac})}}return e})();function bt(e,a){if(e&1&&(f(0,"span",8),A(1),d()),e&2){let t=g();T("aria-label",t.title),c(),B(t.title)}}function yt(e,a){if(e&1&&x(0,"span",9),e&2){let t=g();h("innerHTML",t.body,Y)}}function _t(e,a){if(e&1&&(f(0,"span",10),A(1),d()),e&2){let t=g();T("aria-label",t.body),c(),B(t.body)}}function Ct(e,a){if(e&1){let t=G();f(0,"button",11),R("click",function(){z(t);let o=g();return L(o.remove())}),d()}}function Tt(e,a){if(e&1&&x(0,"div",12),e&2){let t=g();j("width",t.width,"%")}}var l=function(e){return e.Inactive="inactive",e.Active="active",e.Removed="removed",e}(l||{}),st=(()=>{class e{get role(){return this.toastPackage.toastType==="success"||this.toastPackage.toastType==="info"?"status":"alert"}constructor(t,i,o){this.toastService=t,this.toastPackage=i,this.ngZone=o,this.width=-1,this.toastClasses="",this.fadeOut=!0,this.display="none",this.state=l.Inactive,this.subscriptions=[],this.animationFadeOutLength=300,this.toastTypeToSeverityIcon={error:"severity_critical",warning:"severity_warning",info:"severity_info",success:"severity_ok"},this.title=i.title,this.body=i.body,this.options=i.config,this.toastClasses=`nui-toast--${i.toastType} ${i.config.toastClass} nui-toast--animation`,this.toastIcon=this.toastTypeToSeverityIcon[i.toastType],this.closeButton=this.toastPackage.config.closeButton;let n=this.toastPackage.toastRef.afterActivate().subscribe(()=>{this.display="block",setTimeout(()=>this.activateToast())}),s=this.toastPackage.toastRef.manualClosed().subscribe(()=>{this.remove()});this.subscriptions.push(n,s)}activateToast(){this.state=l.Active,this.fadeOut=!1,this.options.timeOut&&(this.ngZone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.ngZone.run(()=>{this.remove()})},this.options.timeOut)}),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=this.repeatProgressBarChange()))}remove(){this.state!==l.Removed&&(clearTimeout(this.timeout),this.state=l.Removed,this.fadeOut=!0,this.timeout=setTimeout(()=>this.toastService.remove(this.toastPackage.toastId),this.animationFadeOutLength))}clickToast(){this.state!==l.Removed&&(this.toastPackage.triggerClick(),this.options.clickToDismiss&&this.remove())}stickAround(){this.state!==l.Removed&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){clearInterval(this.intervalId),!(this.options.extendedTimeOut===0||this.state===l.Removed)&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=100,this.options.progressBar&&(this.intervalId=this.repeatProgressBarChange()))}repeatProgressBarChange(){let t;return this.ngZone.runOutsideAngular(()=>{t=setInterval(()=>{this.ngZone.run(()=>{this.updateProgress()})},(this.options.timeOut||0)/100)}),t}updateProgress(){if(this.width===0||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width=i/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),clearInterval(this.intervalId),clearTimeout(this.timeout)}static{this.\u0275fac=function(i){return new(i||e)(_(nt),_(u),_(M))}}static{this.\u0275cmp=U({type:e,selectors:[["nui-toast-component"]],hostVars:7,hostBindings:function(i,o){i&1&&R("click",function(){return o.clickToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),i&2&&(T("role",o.role),D(o.toastClasses),j("display",o.display),H("nui-toast--fade-out",o.fadeOut))},standalone:!1,decls:8,vars:8,consts:[[1,"nui-toast__content","d-flex","flex-nowrap","flex-row","justify-content-between","align-items-start"],["iconSize","large",1,"nui-toast__status-icon",3,"icon"],[1,"nui-toast__content-message","flex-grow-1"],["class","nui-toast__content-title",4,"ngIf"],["class","nui-toast__content-body",3,"innerHTML",4,"ngIf"],["class","nui-toast__content-body",4,"ngIf"],["nui-button","","type","button","class","nui-toast__dismiss-button","displayStyle","action","size","default","icon","close",3,"click",4,"ngIf"],["class","nui-toast__progress",3,"width",4,"ngIf"],[1,"nui-toast__content-title"],[1,"nui-toast__content-body",3,"innerHTML"],[1,"nui-toast__content-body"],["nui-button","","type","button","displayStyle","action","size","default","icon","close",1,"nui-toast__dismiss-button",3,"click"],[1,"nui-toast__progress"]],template:function(i,o){i&1&&(f(0,"div",0),x(1,"nui-icon",1),f(2,"div",2),C(3,bt,2,2,"span",3)(4,yt,1,1,"span",4)(5,_t,2,2,"span",5),d(),C(6,Ct,1,0,"button",6),d(),C(7,Tt,1,2,"div",7)),i&2&&(H("nui-toast__content--without-close-button",!o.closeButton),c(),J("icon",o.toastIcon),c(2),h("ngIf",o.title),c(),h("ngIf",o.body&&o.options.enableHtml),c(),h("ngIf",o.body&&!o.options.enableHtml),c(),h("ngIf",o.options.closeButton),c(),h("ngIf",o.options.progressBar))},dependencies:[K,W,X],styles:[`.nui .nui-toast{box-shadow:0 0 5px 0 var(--nui-shadow-color, rgba(17, 17, 17, .3));margin-bottom:5px;max-width:450px;min-width:350px;overflow:hidden;pointer-events:auto;position:relative}.nui .nui-toast:before{content:" ";height:100%;left:0;position:absolute;top:0;width:100%;z-index:-1;opacity:.8;filter:alpha(opacity=80);background-color:var(--nui-color-bg-light,#fff);-webkit-transition:all .2s linear;-o-transition:all .2s linear;transition:all .2s linear}.nui .nui-toast:hover:before{opacity:1;filter:alpha(opacity=100)}.nui .nui-toast:last-child{margin-bottom:0}.nui .nui-toast--info .nui-toast__content{background-color:var(--nui-color-semantic-info-bg,#e8f4f7);border-color:var(--nui-color-line-info,#1c8eb1)}.nui .nui-toast--info .nui-toast__progress{background-color:var(--nui-color-line-info,#1c8eb1)}.nui .nui-toast--error .nui-toast__content{background-color:var(--nui-color-semantic-critical-bg,#fceae6);border-color:var(--nui-color-line-critical,#dd2c00)}.nui .nui-toast--error .nui-toast__progress{background-color:var(--nui-color-line-critical,#dd2c00)}.nui .nui-toast--warning .nui-toast__content{background-color:var(--nui-color-semantic-warning-bg,#fff9e6);border-color:var(--nui-color-line-warning,#fec405)}.nui .nui-toast--warning .nui-toast__progress{background-color:var(--nui-color-semantic-warning,#fec405)}.nui .nui-toast--success .nui-toast__content{background-color:var(--nui-color-semantic-ok-bg,#e6f6ee);border-color:var(--nui-color-line-ok,#00a753)}.nui .nui-toast--success .nui-toast__progress{background-color:var(--nui-color-semantic-ok,#00a753)}.nui .nui-toast--animation{-webkit-transition:all .3s linear;-o-transition:all .3s linear;transition:all .3s linear}.nui .nui-toast--fade-out{opacity:0;filter:alpha(opacity=0)}.nui .nui-toast--fade-out:before{opacity:0;filter:alpha(opacity=0)}.nui .nui-toast__container{pointer-events:none;position:fixed;z-index:1070}.nui .nui-toast__content{border-radius:0;border:1px solid;position:relative;opacity:.8;filter:alpha(opacity=80);color:var(--nui-color-text-default,#111)}.nui .nui-toast__content:hover{opacity:1;filter:alpha(opacity=100)}.nui .nui-toast__content-message{line-height:16px;margin:10px 0}.nui .nui-toast__content-title{font-weight:600}.nui .nui-toast__content-title+.nui-toast__content-body:before{content:" "}.nui .nui-toast__content--without-close-button .nui-toast__content-message{margin-right:10px}.nui .nui-toast__status-icon{margin:10px}.nui .nui-toast__dismiss-button{margin:3px}.nui .nui-toast__progress{bottom:0;height:3px;left:0;margin-top:5px;position:absolute}.nui .nui-toast--top-left{left:5px;top:45px}.nui .nui-toast--top-right{right:5px;top:45px}.nui .nui-toast--bottom-left{bottom:5px;left:5px}.nui .nui-toast--bottom-right{bottom:5px;right:5px}.nui .nui-toast--top-center{right:0;top:45px;width:100%}.nui .nui-toast--top-center .nui-toast{margin-left:auto;margin-right:auto}.nui .nui-toast--bottom-center{bottom:5px;right:0;width:100%}.nui .nui-toast--bottom-center .nui-toast{margin-left:auto;margin-right:auto}.nui .nui-toast--top-full-width{right:0;top:0;width:100%}.nui .nui-toast--top-full-width .nui-toast{max-width:100%;width:100%}.nui .nui-toast--bottom-full-width{bottom:0;right:0;width:100%}.nui .nui-toast--bottom-full-width .nui-toast{max-width:100%;width:100%}.nui .nui-toast .nui-toast--centered .nui-toast{margin-left:auto;margin-right:auto}.nui .nui-toast .nui-toast--full-width .nui-toast{max-width:100%;width:100%}
`],encapsulation:2})}}return e})();var k=function(e){return e[e.on=0]="on",e[e.off=1]="off",e}(k||{});var ei=(()=>{class e{constructor(t,i,o,n){this.notificationService=t,this.toastContainerService=i,this._injector=o,this.sanitizer=n,this.index=0,this.currentlyActive=0,this.toasts=[],this.defaultToastConfig={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,positionClass:"nui-toast--top-right",progressAnimation:"decreasing",timeOut:5e3,progressBar:!0,toastClass:"nui-toast",extendedTimeOut:2e3,closeButton:!0,clickToDismiss:!1,enableHtml:!0,stickyError:!1},this.notifyHighlights=(s,v)=>{s&&this.notificationService.post("Highlight",{highlightState:k.on,status:v,items:s,itemIdentificator:this.itemIdentificator})},this.toastConfig=(0,S.default)({},this.defaultToastConfig)}setConfig(t,i){(0,S.default)(this.toastConfig,t),this.itemIdentificator=i}success(t){let i=this.buildNotification("success",t.message,t.title,this.applyConfig(t.options));return this.notifyHighlights(t.itemsToHighlight,"success"),this.toastRemoveHighlight(i,t.itemsToHighlight),i}warning(t){let i=this.buildNotification("warning",t.message,t.title,this.applyConfig(t.options));return this.notifyHighlights(t.itemsToHighlight,"warning"),this.toastRemoveHighlight(i,t.itemsToHighlight),i}error(t){let i=(0,at.default)(t.options);t.options&&t.options.stickyError&&i&&(i.timeOut=0,i.extendedTimeOut=0,i.progressBar=!1,i.closeButton=!1);let o=this.buildNotification("error",t.message,t.title,this.applyConfig(i));return this.notifyHighlights(t.itemsToHighlight,"error"),this.toastRemoveHighlight(o,t.itemsToHighlight),o}info(t){let i=this.buildNotification("info",t.message,t.title,this.applyConfig(t.options));return this.notifyHighlights(t.itemsToHighlight,"info"),this.toastRemoveHighlight(i,t.itemsToHighlight),i}clear(t){for(let i of this.toasts)if(t!==void 0){if(i.toastId===t){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(t){let i=this.findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<=+this.toastConfig.maxOpened&&this.toasts[this.currentlyActive]){let o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}toastRemoveHighlight(t,i){t&&t?.onHidden?.pipe(F(1)).subscribe(()=>{(0,rt.default)(i)&&i.length>0&&this.notificationService.post("Highlight",{highlightState:k.off,items:i})})}applyConfig(t={}){let i=(0,S.default)({},this.toastConfig,t);return i.timeOut=(0,E.default)(i.timeOut),i.extendedTimeOut=(0,E.default)(i.extendedTimeOut),i}buildNotification(t,i,o,n){if(i&&n.preventDuplicates&&this.isDuplicate(i))return null;this.toastContainerService.getContainerElement(n.positionClass);let s=!1,v=i;this.toastConfig.maxOpened&&this.currentlyActive>=this.toastConfig.maxOpened&&(s=!0,this.toastConfig.autoDismiss&&this.clear(this.toasts[this.toasts.length-1].toastId)),this.index=this.index+1,i&&n.enableHtml&&(v=this.sanitizer.sanitize(Z.HTML,i));let b=new I(this.toastContainerService),N=new u(this.index,n,v,o,t,b),ct=new w(N,this._injector);b.componentInstance=this.toastContainerService.attachToast(st,ct,!!n.newestOnTop);let O={toastId:this.index,body:v,toastRef:b,onShown:b.afterActivate(),onHidden:b.afterClosed(),onClick:N.onClick()};return s||setTimeout(()=>{O.toastRef.activate(),this.currentlyActive=this.currentlyActive+1}),this.toasts.push(O),O}isDuplicate(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].body===t)return!0;return!1}findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}static{this.\u0275fac=function(i){return new(i||e)(r(tt),r(ot),r(V),r(Q))}}static{this.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{ot as a,nt as b,ei as c};
