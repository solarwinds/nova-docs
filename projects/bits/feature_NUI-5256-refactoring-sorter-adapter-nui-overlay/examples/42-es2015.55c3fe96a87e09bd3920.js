(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"/t6y":function(e,t,n){"use strict";n.r(t),t.default='export * from "./time-frame-picker-docs/time-frame-picker-docs.example.component";\nexport * from "./time-frame-picker-basic/time-frame-picker-basic.example.component";\nexport * from "./time-frame-picker-custom/time-frame-picker-custom.example.component";\nexport * from "./quick-picker-basic/quick-picker-basic.example.component";\nexport * from "./time-frame-picker-inline/time-frame-picker-inline.example.component";\nexport * from "./time-frame-picker-date/time-frame-picker-date.example.component";\nexport * from "./time-frame-picker-test/time-frame-picker-test.example.component";\nexport * from "./time-frame-picker-visual-test/time-frame-picker-visual-test.component";\nexport * from "./time-frame-picker-multiple-custom-pickers/time-frame-picker-multiple-custom-pickers.example.component";\n'},"3nrA":function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { ITimeframe, ITimeFramePresetDictionary, TimeframeService } from "@nova-ui/bits";\nimport { Subject } from "rxjs";\n\n@Component({\n    selector: "nui-time-frame-picker-basic-example",\n    templateUrl: "./time-frame-picker-basic.example.component.html",\n})\n\nexport class TimeFramePickerBasicExampleComponent {\n    public presets: ITimeFramePresetDictionary;\n    public selectedPresetKey?: string = "lastHour";\n    public acceptedTimeframe: ITimeframe;\n    public tf: ITimeframe;\n\n    public showFooter: boolean = false;\n\n    constructor(public timeframeService: TimeframeService) {\n        this.presets = timeframeService.getDefaultPresets();\n        this.acceptedTimeframe = this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey);\n        this.tf = this.acceptedTimeframe;\n    }\n\n    public closePopoverSubject = new Subject();\n    public openPopoverSubject = new Subject();\n\n    public updateTf(value: ITimeframe) {\n        this.tf = value;\n\n        const timeFrameDatesValid = () => this.timeframeService.areTimeFrameDatesValid(value);\n        const timeFrameDatesEqual = () => this.timeframeService.isEqual(this.tf, this.acceptedTimeframe);\n        if (timeFrameDatesValid() && !timeFrameDatesEqual()) { this.showFooter = true; }\n\n        this.selectedPresetKey = this.tf.selectedPresetId;\n    }\n\n    public confirmPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n        this.acceptedTimeframe = this.tf;\n    }\n    public cancelPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelection(presetKey: string) {\n        this.selectedPresetKey = presetKey;\n        this.tf = this.timeframeService.getTimeframeByPresetId(presetKey);\n        this.acceptedTimeframe = this.tf;\n        this.closePopoverSubject.next();\n    }\n}\n'},"4QCL":function(e,t,n){"use strict";n.r(t),t.default='<nui-popover trigger=\'click\'\n             [template]="popoverTimeFramePicker"\n             [hasPadding]="false"\n             [closePopover]="closePopoverSubject"\n             [modal]="true">\n    <span class="nui-text-link" style="cursor: pointer;">{{ acceptedTimeframe | timeFrame }}</span>\n</nui-popover>\n\n<ng-template #popoverTimeFramePicker>\n    <div>\n        <nui-quick-picker [presets]="presets"\n                          [selectedPreset]="acceptedTimeframe.selectedPresetId"\n                          (presetSelected)="handlePresetSelection($event)"\n                          pickerTitle="Custom Range"\n                          i18n-pickerTitle>\n            <nui-time-frame-picker [startModel]="acceptedTimeframe"\n                                          (changed)="updateTf($event)">\n            </nui-time-frame-picker>\n        </nui-quick-picker>\n    </div>\n    <nui-dialog-footer *ngIf="showFooter">\n        <button nui-button\n                type="button"\n                displayStyle="action"\n                class="pr-3 nui-time-frame-picker__cancel"\n                (click)="cancelPopover()"\n                i18n>\n            Cancel\n        </button>\n        <button nui-button\n                type="button"\n                displayStyle="primary"\n                class="nui-time-frame-picker__use"\n                (click)="confirmPopover()"\n                i18n>\n            Use\n        </button>\n    </nui-dialog-footer>\n</ng-template>\n'},"5/Sd":function(e,t,n){var i={"./index.ts":"/t6y","./quick-picker-basic/quick-picker-basic.example.component.html":"ey9Y","./quick-picker-basic/quick-picker-basic.example.component.ts":"TNbh","./time-frame-picker-basic/time-frame-picker-basic.example.component.html":"4QCL","./time-frame-picker-basic/time-frame-picker-basic.example.component.ts":"3nrA","./time-frame-picker-custom/time-frame-picker-custom.example.component.html":"OAyX","./time-frame-picker-custom/time-frame-picker-custom.example.component.ts":"rvpb","./time-frame-picker-date/time-frame-picker-date.example.component.html":"as+W","./time-frame-picker-date/time-frame-picker-date.example.component.ts":"YIVX","./time-frame-picker-docs/time-frame-picker-docs.example.component.html":"8C/+","./time-frame-picker-docs/time-frame-picker-docs.example.component.ts":"WyuH","./time-frame-picker-inline/time-frame-picker-inline.example.component.html":"dXpY","./time-frame-picker-inline/time-frame-picker-inline.example.component.ts":"I/lz","./time-frame-picker-multiple-custom-pickers/time-frame-picker-multiple-custom-pickers.example.component.html":"ESxD","./time-frame-picker-multiple-custom-pickers/time-frame-picker-multiple-custom-pickers.example.component.ts":"jlVH","./time-frame-picker-test/time-frame-picker-test.example.component.html":"IRxw","./time-frame-picker-test/time-frame-picker-test.example.component.ts":"Ktlp","./time-frame-picker-visual-test/time-frame-picker-visual-test.component.html":"cw5P","./time-frame-picker-visual-test/time-frame-picker-visual-test.component.ts":"Gis4","./time-frame-picker.module.ts":"EIs/"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=c,e.exports=r,r.id="5/Sd"},"8C/+":function(e,t,n){"use strict";n.r(t),t.default='<h2>Required Modules</h2>\n<ul>\n    <li>\n        <code>NuiTimeFramePickerModule</code>\n    </li>\n</ul>\n\n<h2>Basic Usage</h2>\n\n<p>\n    The <code>&lt;nui-time-frame-picker&gt;</code> component allows the user to select a time range. Its model is\n    an <code><a href="../interfaces/ITimeframe.html" target="_blank">ITimeframe</a></code> which can be set using the\n    <code>startModel</code> input. All changes can be detected using the <code>changed</code> output. Additionally,\n    max and min dates can be defined by setting the <code>maxDate</code> and <code>minDate</code> inputs with moment\n    instances.\n</p>\n<p>\n    If the user selects a start time that\'s later than the currently selected end time, the selected end time will\n    adjust accordingly to preserve the current timeframe duration.\n</p>\n<p>\n    If the user attempts to select an end time that\'s the same as or earlier than the currently selected start time,\n    no changes occur on either the view or the model.\n</p>\n\n<nui-example-wrapper filenamePrefix="time-frame-picker-inline" exampleTitle="Basic Usage">\n    <nui-time-frame-picker-inline></nui-time-frame-picker-inline>\n</nui-example-wrapper>\n\n<h2>Quick Picker Component</h2>\n\n<p>\n    The <code>&lt;nui-quick-picker&gt;</code> component is a helper component in the TimeFramePicker module.\n</p>\n<p>\n    In most cases, the default title "Quick Picks" on the left pane should be sufficient; however, if needed, the\n\ttitle can be customized using the <code>presetsTitle</code> input.\n</p>\n<p>\n    If a custom ordering of presets is needed, an array of keys can be passed to the <code>presetKeysOrder</code> input.\n</p>\n<nui-example-wrapper filenamePrefix="quick-picker-basic" exampleTitle="Quick Picker">\n    <nui-quick-picker-basic></nui-quick-picker-basic>\n</nui-example-wrapper>\n\n<h2>Timeframe Picker in a Popover</h2>\n\n<p>\n    To implement the common use-case of a timeframe picker in a popover, combine the <code>&lt;nui-time-frame-picker&gt;</code>,\n\t<code>nui-quick-picker</code> and <code>nui-popover</code> elements as shown below.\n</p>\n<p>\n    To achieve a modal effect, you can set the popover\'s <code>[modal]</code> input to <code>true</code>.\n</p>\n<nui-example-wrapper filenamePrefix="time-frame-picker-basic" exampleTitle="Timeframe Picker in a Popover">\n    <nui-time-frame-picker-basic-example></nui-time-frame-picker-basic-example>\n</nui-example-wrapper>\n\n<h2>Date-Based Picker in Popover</h2>\n\n<nui-message type="info"  [allowDismiss]="false">\n    Please note that in order to adjust popover to the width of inner components you may need to pass <code>[unlimited]="true"</code> to it.\n</nui-message>\n<p>\n    You are free to use different types of components inside a Quick Picker. The following example shows how to put a DatePicker inside.\n</p>\n\n<nui-example-wrapper filenamePrefix="time-frame-picker-date" exampleTitle="Date-Based Picker in Popover">\n    <nui-time-frame-picker-date></nui-time-frame-picker-date>\n</nui-example-wrapper>\n\n<h2>Custom presets with Timeframe Picker</h2>\n\n<p>\n    Presets can be changed using <code>timeframeService.currentPresets</code> field.\n</p>\n<nui-message type="info" [allowDismiss]="false">\n    Please note that TimeFrameService is provided in scope of NuiTimeFramePickerModule once, and\n    since one TimeFrameService instance can keep only one set of presets, in order to have different presets in 2 different\n    components of an application, please provide different TimeFrameService instances in scope of those components\n    (as in the example below, which includes <code>providers: [TimeframeService]</code> in a component decorator).\n</nui-message>\n\n<nui-example-wrapper filenamePrefix="time-frame-picker-custom" exampleTitle="Date-Based Picker in Popover">\n    <nui-time-frame-picker-custom></nui-time-frame-picker-custom>\n</nui-example-wrapper>\n\n<h2>Multiple pickers with custom presets</h2>\n<p>\n    If you want to have multiple instances of <code>TimeFrameService</code> for your time frame pickers, you should provide one in the components providers.\n</p>\n<p>\n    The example below shows how to create a component that will be responsible for creating <code>TimeFrameService</code> per component.\n</p>\n<nui-example-wrapper filenamePrefix="time-frame-picker-multiple-custom-pickers" exampleTitle="Multiple pickers with custom presets">\n    <nui-time-frame-picker-multiple-custom-pickers></nui-time-frame-picker-multiple-custom-pickers>\n</nui-example-wrapper>\n'},"EIs/":function(e,t,n){"use strict";n.r(t),t.default='import { NgModule } from "@angular/core";\nimport { FormsModule } from "@angular/forms";\nimport { RouterModule } from "@angular/router";\nimport {\n    DEMO_PATH_TOKEN,\n    NuiButtonModule,\n    NuiDatePickerModule,\n    NuiDialogModule,\n    NuiDividerModule,\n    NuiDocsModule,\n    NuiMessageModule,\n    NuiPopoverModule,\n    NuiTextboxModule,\n    NuiTimeFramePickerModule,\n    SrlcStage,\n} from "@nova-ui/bits";\n\nimport {\n    QuickPickerBasicExampleComponent,\n    TimeFramePickerBasicExampleComponent,\n    TimeFramePickerCustomExampleComponent,\n    TimeFramePickerDateExampleComponent,\n    TimeFramePickerDocsExampleComponent,\n    TimeFramePickerInlineExampleComponent,\n    TimeFramePickerMultipleCustomPickersExampleComponent,\n    TimeFramePickerTestExampleComponent,\n    TimeFramePickerVisualTestComponent,\n    TimeframeServiceScoperExampleComponent,\n} from "./index";\n\nconst routes = [\n    {\n        path: "",\n        component: TimeFramePickerDocsExampleComponent,\n        data: {\n            "srlc": {\n                "stage": SrlcStage.ga,\n            },\n            showThemeSwitcher: true,\n        },\n    },\n    {\n        path: "time-frame-picker-test",\n        component: TimeFramePickerTestExampleComponent,\n        data: {\n            "srlc": {\n                "hideIndicator": true,\n            },\n        },\n    },\n    {\n        path: "time-frame-picker-visual-test",\n        component: TimeFramePickerVisualTestComponent,\n        data: {\n            "srlc": {\n                "hideIndicator": true,\n            },\n        },\n    },\n    {\n        path: "multiple-custom-pickers",\n        component: TimeFramePickerMultipleCustomPickersExampleComponent,\n        data: {\n            "srlc": {\n                "hideIndicator": true,\n            },\n        },\n    },\n];\n\n@NgModule({\n    imports: [\n        NuiButtonModule,\n        NuiTimeFramePickerModule,\n        NuiDividerModule,\n        NuiMessageModule,\n        FormsModule,\n        NuiPopoverModule,\n        NuiDocsModule,\n        NuiTextboxModule,\n        RouterModule.forChild(routes),\n        NuiDialogModule,\n        NuiDatePickerModule,\n    ],\n    declarations: [\n        QuickPickerBasicExampleComponent,\n        TimeFramePickerBasicExampleComponent,\n        TimeFramePickerCustomExampleComponent,\n        TimeFramePickerDateExampleComponent,\n        TimeFramePickerInlineExampleComponent,\n        TimeFramePickerTestExampleComponent,\n        TimeFramePickerDocsExampleComponent,\n        TimeFramePickerVisualTestComponent,\n        TimeFramePickerMultipleCustomPickersExampleComponent,\n        TimeframeServiceScoperExampleComponent,\n    ],\n    providers: [\n        {\n            provide: DEMO_PATH_TOKEN,\n            useFactory: () => (<any>require).context(`!!raw-loader!./`, true, /.*\\.(ts|html|less)$/),\n        },\n    ],\n    exports: [\n        RouterModule,\n    ],\n})\nexport class TimeFramePickerModule {\n}\n'},ESxD:function(e,t,n){"use strict";n.r(t),t.default='\n<div class="d-flex" *ngFor="let picker of pickers; let index = index">\n    <nui-time-frame-service-scoper #scoper>\n        <nui-popover trigger=\'click\'\n            [template]="popoverTimeFramePicker"\n            [hasPadding]="false"\n            [closePopover]="closePopoverSubject"\n            [modal]="true"\n            ><span class="nui-text-link" style="cursor: pointer;">{{ picker.acceptedTimeframe | timeFrame }}</span>\n        </nui-popover>\n\n        <ng-template #popoverTimeFramePicker>\n            <div>\n                <nui-quick-picker [presets]="picker.presets"\n                    [selectedPreset]="picker.acceptedTimeframe.selectedPresetId"\n                    (presetSelected)="handlePresetSelection($event, index)"\n                    pickerTitle="Custom Range"\n                    i18n-pickerTitle>\n                    <nui-time-frame-picker [startModel]="picker.acceptedTimeframe"\n                        (changed)="updateTf($event, index)"\n                    ></nui-time-frame-picker>\n                </nui-quick-picker>\n            </div>\n            <nui-dialog-footer *ngIf="showFooter">\n                <button nui-button type="button" displayStyle="action" class="pr-3 nui-time-frame-picker__cancel"\n                        (click)="cancelPopover(index)" i18n>\n                    Cancel\n                </button>\n                <button nui-button type="button" displayStyle="primary" class="nui-time-frame-picker__use"\n                        (click)="confirmPopover(index)" i18n>\n                    Use\n                </button>\n            </nui-dialog-footer>\n        </ng-template>\n    </nui-time-frame-service-scoper>\n</div>\n'},Gis4:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport {\n    IQuickPickPresetDictionary, ITimeframe, ITimeFramePresetDictionary, TimeframeService\n} from "@nova-ui/bits";\nimport _find from "lodash/find";\nimport _isUndefined from "lodash/isUndefined";\nimport moment, { Moment } from "moment/moment";\nimport { Subject } from "rxjs";\n\n@Component({\n    selector: "nui-time-frame-picker-visual-test",\n    templateUrl: "./time-frame-picker-visual-test.component.html",\n})\n\nexport class TimeFramePickerVisualTestComponent {\n    public presets: ITimeFramePresetDictionary;\n    public presetsDatePicker: IQuickPickPresetDictionary;\n    public selectedPresetKey?: string = "lastHour";\n    public selectedPresetKeyDatePicker = "dimasBirthday";\n    public acceptedTimeframe: ITimeframe;\n    public tf: ITimeframe;\n    public selectedDate: Moment;\n\n    public showFooter: boolean = false;\n\n    constructor(public timeframeService: TimeframeService) {\n        this.presets = timeframeService.getDefaultPresets();\n        this.acceptedTimeframe = this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey, "02/17/1986");\n        this.tf = this.acceptedTimeframe;\n        this.presetsDatePicker = this.getDefaultPresets();\n        this.selectedDate = this.getDateFromPreset(this.selectedPresetKeyDatePicker);\n    }\n\n    public closePopoverSubject = new Subject();\n    public openPopoverSubject = new Subject();\n\n    public updateTf(value: ITimeframe) {\n        this.tf = value;\n        const timeFrameDatesValid = () => this.timeframeService.areTimeFrameDatesValid(value);\n        const timeFrameDatesEqual = () => this.timeframeService.isEqual(this.tf, this.acceptedTimeframe);\n        if (timeFrameDatesValid() && !timeFrameDatesEqual()) { this.showFooter = true; }\n        this.selectedPresetKey = this.tf.selectedPresetId;\n    }\n\n    public confirmPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n        this.acceptedTimeframe = this.tf;\n    }\n    public cancelPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelection(presetKey: string) {\n        this.selectedPresetKeyDatePicker = presetKey;\n        this.tf = this.timeframeService.getTimeframeByPresetId(presetKey, "02/17/1986");\n        this.acceptedTimeframe = this.tf;\n        this.closePopoverSubject.next();\n    }\n\n    public confirmPopoverDatePicker() {\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelectionDatePicker(presetKey: string) {\n        this.selectedDate = this.getDateFromPreset(presetKey);\n        this.selectedPresetKeyDatePicker = presetKey;\n        this.confirmPopoverDatePicker();\n    }\n\n    public dateChanged(value: Moment) {\n        if (!this.selectedDate.isSame(value, "day")) {\n            this.selectedDate = value;\n            this.selectedPresetKeyDatePicker = this.getPresetFromDate(value); // will return undefined if not found, exactly what\'s needed\n            this.confirmPopoverDatePicker();\n        }\n    }\n\n    private getDefaultPresets(): {[key: string]: any} {\n        return {\n            today: {name: "Today", pattern: () => moment()},\n            yesterday: { name: "Yesterday", pattern: () => moment().subtract(1, "days")},\n            dimasBirthday: {name: "Dima\'s Birthday", pattern: () => moment("1986-02-17")},\n            random: {\n                name: "Random date (to show that we can)",\n                pattern: () => moment(+(new Date()) - Math.floor(Math.random() * 100000000000)),\n            },\n        };\n    }\n\n    private getDateFromPreset(presetKey: string): Moment {\n        const preset = this.getDefaultPresets()[presetKey];\n        return preset ? preset.pattern() : moment();\n    }\n\n    private getPresetFromDate(date: Moment): string {\n        const preset: string | undefined = _find(Object.keys(this.presets), (key) => date.isSame(this.getDateFromPreset(key), "day"));\n        if (_isUndefined(preset)) {\n            throw new Error("DatePreset was not found");\n        }\n        return preset;\n    }\n}\n'},"I/lz":function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { ITimeframe } from "@nova-ui/bits";\nimport moment from "moment/moment";\n\n@Component({\n    selector: "nui-time-frame-picker-inline",\n    templateUrl: "./time-frame-picker-inline.example.component.html",\n})\n\nexport class TimeFramePickerInlineExampleComponent {\n    public tf: ITimeframe = {\n        startDatetime: moment("04/09/2018", "L"),\n        endDatetime: moment("04/10/2018", "L"),\n        // @ts-ignore\n        selectedPresetId: null,\n    };\n\n    public minDate = moment("04/07/2018", "L"); // "L" is "MM/DD/YYY" in moment.js\n    public maxDate = moment();\n\n    public updateTf(value: any) {\n        this.tf = value;\n    }\n}\n'},IRxw:function(e,t,n){"use strict";n.r(t),t.default='<nui-popover id="nui-demo-basic-time-frame-picker"\n             trigger=\'click\'\n             [template]="popoverTimeFramePicker"\n             [hasPadding]="false"\n             [closePopover]="closePopoverSubject">\n    <span class="nui-text-link" style="cursor: pointer;">{{ acceptedTimeframe | timeFrame }}</span>\n</nui-popover>\n\n<div>{{ acceptedTimeframe | timeFrame:"LL LTS" }}</div>\n\n<ng-template #popoverTimeFramePicker>\n    <div>\n        <nui-quick-picker [presets]="presets"\n                          [selectedPreset]="acceptedTimeframe.selectedPresetId"\n                          (presetSelected)="handlePresetSelection($event)"\n                          pickerTitle="Custom Range"\n                          i18n-pickerTitle>\n            <nui-time-frame-picker [startModel]="acceptedTimeframe"\n                                   (changed)="updateTf($event)"\n                                   [maxDate]="maxDate"\n                                   [minDate]="minDate">\n            </nui-time-frame-picker>\n        </nui-quick-picker>\n    </div>\n    <nui-dialog-footer *ngIf="showFooter">\n        <button nui-button\n                type="button"\n                displayStyle="action"\n                class="pr-3 nui-time-frame-picker__cancel"\n                (click)="cancelPopover()"\n                id="nui-demo-basic-time-frame-picker-cancel"\n                i18n>\n            Cancel\n        </button>\n        <button nui-button\n                type="button"\n                displayStyle="primary"\n                class="nui-time-frame-picker__use"\n                (click)="confirmPopover()"\n                id="nui-demo-basic-time-frame-picker-use"\n                i18n>\n            Use\n        </button>\n    </nui-dialog-footer>\n</ng-template>\n'},Ktlp:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { ITimeframe, ITimeFramePresetDictionary, TimeframeService } from "@nova-ui/bits";\nimport moment from "moment/moment";\nimport { Subject } from "rxjs";\n\n@Component({\n    selector: "nui-time-frame-picker-test",\n    templateUrl: "./time-frame-picker-test.example.component.html",\n})\n\nexport class TimeFramePickerTestExampleComponent {\n    public presets: ITimeFramePresetDictionary;\n    public selectedPresetKey?: string = "lastHour";\n    public acceptedTimeframe: ITimeframe;\n    public tf: ITimeframe;\n\n    public minDate = moment("04/07/2018", "L"); // "L" is "MM/DD/YYY" in moment.js\n    public maxDate = moment();\n\n    public showFooter: boolean = false;\n\n    constructor(public timeframeService: TimeframeService) {\n        this.presets = timeframeService.getDefaultPresets();\n        this.acceptedTimeframe = this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey);\n        this.tf = this.acceptedTimeframe;\n    }\n\n    public closePopoverSubject = new Subject();\n    public openPopoverSubject = new Subject();\n\n    public updateTf(value: ITimeframe) {\n        this.tf = value;\n        const timeFrameDatesValid = () => this.timeframeService.areTimeFrameDatesValid(value);\n        const timeFrameDatesEqual = () => this.timeframeService.isEqual(this.tf, this.acceptedTimeframe);\n        if (timeFrameDatesValid() && !timeFrameDatesEqual()) { this.showFooter = true; }\n\n        this.selectedPresetKey = this.tf.selectedPresetId;\n    }\n\n    public confirmPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n        this.acceptedTimeframe = this.tf;\n    }\n    public cancelPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelection(presetKey: string) {\n        this.selectedPresetKey = presetKey;\n        this.tf = this.timeframeService.getTimeframeByPresetId(presetKey);\n        this.acceptedTimeframe = this.tf;\n        this.closePopoverSubject.next();\n    }\n}\n'},OAyX:function(e,t,n){"use strict";n.r(t),t.default='<nui-popover trigger=\'click\'\n             [template]="popoverTimeFramePicker"\n             [hasPadding]="false"\n             [closePopover]="closePopoverSubject"\n             [modal]="true">\n    <span class="nui-text-link" style="cursor: pointer;">{{ acceptedTimeframe | timeFrame }}</span>\n</nui-popover>\n\n<ng-template #popoverTimeFramePicker>\n    <div>\n        <nui-quick-picker [presets]="presets"\n                          [selectedPreset]="acceptedTimeframe.selectedPresetId"\n                          (presetSelected)="handlePresetSelection($event)"\n                          pickerTitle="Custom Range"\n                          i18n-pickerTitle>\n            <nui-time-frame-picker [startModel]="acceptedTimeframe"\n                                          (changed)="updateTf($event)">\n            </nui-time-frame-picker>\n        </nui-quick-picker>\n    </div>\n    <nui-dialog-footer *ngIf="showFooter">\n        <button nui-button\n                type="button"\n                displayStyle="action"\n                class="pr-3 nui-time-frame-picker__cancel"\n                (click)="cancelPopover()"\n                i18n>\n            Cancel\n        </button>\n        <button nui-button\n                type="button"\n                displayStyle="primary"\n                class="nui-time-frame-picker__use"\n                (click)="confirmPopover()"\n                i18n>\n            Use\n        </button>\n    </nui-dialog-footer>\n</ng-template>\n'},TNbh:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { IQuickPickPresetDictionary } from "@nova-ui/bits";\n\n@Component({\n    selector: "nui-quick-picker-basic",\n    templateUrl: "./quick-picker-basic.example.component.html",\n})\n\nexport class QuickPickerBasicExampleComponent {\n    public presets: IQuickPickPresetDictionary = {\n        "99": {\n            name: "99-th percentile",\n        },\n        "95": {\n            name: "95-th percentile",\n        },\n        "80": {\n            name: "80-th percentile",\n        },\n    };\n    public presetKeysOrder = ["95", "99", "80"];\n    public selectedPresetKey?: string = "95";\n    public selectedValue: number = +(this.selectedPresetKey || "");\n    public handlePresetSelection(presetKey: string) {\n        this.selectedPresetKey = presetKey;\n        if (presetKey) {\n            this.selectedValue = +this.selectedPresetKey;\n        }\n    }\n    public handleCustomSelection(num: number) {\n        if (Object.keys(this.presets).indexOf(num.toString()) !== -1) {\n            this.selectedPresetKey = num.toString();\n        } else {\n            this.selectedPresetKey = undefined;\n        }\n        this.selectedValue = num;\n    }\n\n    public getTextboxValue() {\n        return +(this.selectedPresetKey || "") || this.selectedValue;\n    }\n}\n'},WyuH:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\n\n@Component({\n    selector: "nui-time-frame-picker-docs",\n    templateUrl: "./time-frame-picker-docs.example.component.html",\n})\n\nexport class TimeFramePickerDocsExampleComponent {}\n\n'},YIVX:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { IQuickPickPresetDictionary } from "@nova-ui/bits";\nimport _find from "lodash/find";\nimport _isUndefined from "lodash/isUndefined";\nimport moment, { Moment } from "moment/moment";\nimport { Subject } from "rxjs";\n\n@Component({\n    selector: "nui-time-frame-picker-date",\n    templateUrl: "./time-frame-picker-date.example.component.html",\n})\n\nexport class TimeFramePickerDateExampleComponent {\n    public presets: IQuickPickPresetDictionary;\n    public selectedPresetKey = "ihorsBirthday";\n    public selectedDate: Moment;\n\n    public showFooter: boolean = true;\n\n    constructor() {\n        this.presets = this.getDefaultPresets();\n        this.selectedDate = this.getDateFromPreset(this.selectedPresetKey);\n    }\n\n    public closePopoverSubject = new Subject();\n\n    public handlePresetSelection(presetKey: string) {\n        this.selectedDate = this.getDateFromPreset(presetKey);\n        this.selectedPresetKey = presetKey;\n        this.confirmPopover();\n    }\n\n    public dateChanged(value: Moment) {\n        if (!this.selectedDate.isSame(value, "day")) {\n            this.selectedDate = value;\n            this.selectedPresetKey = this.getPresetFromDate(value); // will return undefined if not found, exactly what\'s needed\n            this.confirmPopover();\n        }\n    }\n\n    public confirmPopover() {\n        this.closePopoverSubject.next();\n    }\n\n    // These private methods are specific and will be in any case abstracted to a service by end users:\n\n    private getDefaultPresets(): {[key: string]: any} {\n        return {\n            today: {name: "Today", pattern: () => moment()},\n            yesterday: { name: "Yesterday", pattern: () => moment().subtract(1, "days")},\n            ihorsBirthday: {name: "Ihor\'s Birthday", pattern: () => moment("1989-04-09")},\n            random: {\n                name: "Random date (to show that we can)",\n                pattern: () => moment(+(new Date()) - Math.floor(Math.random() * 100000000000)),\n            },\n        };\n    }\n\n    private getDateFromPreset(presetKey: string): Moment {\n        const preset = this.getDefaultPresets()[presetKey];\n        return preset ? preset.pattern() : moment();\n    }\n\n    private getPresetFromDate(date: Moment): string {\n        const preset: string | undefined = _find(Object.keys(this.presets), (key) => date.isSame(this.getDateFromPreset(key), "day"));\n        if (_isUndefined(preset)) {\n            throw new Error("DatePreset was not found");\n        }\n        return preset;\n    }\n}\n'},"as+W":function(e,t,n){"use strict";n.r(t),t.default='<nui-popover trigger=\'click\'\n             [template]="popoverDayPicker"\n             [hasPadding]="false"\n             [closePopover]="closePopoverSubject"\n             [unlimited]="true"\n             [modal]="true">\n    <span class="nui-text-link" style="cursor: pointer;">Select day</span>\n</nui-popover>\n\n<p>\n    Selected date:\n    <em>{{selectedDate?.format("MMMM Do, YYYY")}}</em>\n</p>\n\n<ng-template #popoverDayPicker>\n    <div>\n        <nui-quick-picker [presets]="presets"\n                          [selectedPreset]="selectedPresetKey"\n                          (presetSelected)="handlePresetSelection($event)"\n                          pickerTitle="Custom Date"\n                          i18n-pickerTitle\n                          presetsTitle="Baselines"\n                          i18n-presetsTitle>\n            <nui-date-picker [inline]="true"\n                             [value]="selectedDate"\n                             [preserveInsignificant]="false"\n                             (valueChange)="dateChanged($event)">\n            </nui-date-picker>\n        </nui-quick-picker>\n    </div>\n</ng-template>\n'},cw5P:function(e,t,n){"use strict";n.r(t),t.default='<div class="container">\n    <div class="row">\n        <div class="col">\n            <h4>TimeFrame Picker in Popover</h4>\n            <nui-popover trigger=\'click\'\n                         [template]="popoverTimeFramePicker"\n                         [hasPadding]="false"\n                         [closePopover]="closePopoverSubject"\n                         [modal]="true"\n                         id="nui-demo-visual-default-popover">\n                        <span class="nui-text-link" style="cursor: pointer;">{{ acceptedTimeframe | timeFrame }}</span>\n            </nui-popover>\n\n            <ng-template #popoverTimeFramePicker>\n                <div>\n                    <nui-quick-picker [presets]="presets"\n                                      [selectedPreset]="acceptedTimeframe.selectedPresetId"\n                                      (presetSelected)="handlePresetSelection($event)"\n                                      pickerTitle="Custom Range">\n                        <nui-time-frame-picker [startModel]="acceptedTimeframe"\n                                               (changed)="updateTf($event)">\n                        </nui-time-frame-picker>\n                    </nui-quick-picker>\n                </div>\n                <nui-dialog-footer *ngIf="showFooter">\n                    <button nui-button\n                            type="button"\n                            displayStyle="action"\n                            class="pr-3 nui-time-frame-picker__cancel"\n                            (click)="cancelPopover()">\n                        Cancel\n                    </button>\n                    <button nui-button\n                            type="button"\n                            displayStyle="primary"\n                            class="nui-time-frame-picker__use"\n                            (click)="confirmPopover()">\n                        Use\n                    </button>\n                </nui-dialog-footer>\n            </ng-template>\n        </div>\n        <div class="col">\n            <h4>TimeFrame Picker with other components</h4>\n            <nui-popover trigger=\'click\'\n                         [template]="popoverDayPicker"\n                         [hasPadding]="false"\n                         [closePopover]="closePopoverSubject"\n                         [unlimited]="true"\n                         [modal]="true"\n                         id="nui-demo-visual-datepicker-popover">\n                         <span class="nui-text-link" style="cursor: pointer;">Select day</span>\n            </nui-popover>\n\n            <p>\n            Selected date:\n            <em>{{selectedDate?.format("MMMM Do, YYYY")}}</em>\n            </p>\n\n            <ng-template #popoverDayPicker>\n            <div>\n                <nui-quick-picker [presets]="presetsDatePicker"\n                                  [selectedPreset]="selectedPresetKeyDatePicker"\n                                  (presetSelected)="handlePresetSelectionDatePicker($event)"\n                                  pickerTitle="Custom Date"\n                                  presetsTitle="Baselines">\n                    <nui-date-picker [inline]="true"\n                                     [value]="selectedDate"\n                                     [preserveInsignificant]="false"\n                                     (valueChange)="dateChanged($event)">\n                    </nui-date-picker>\n                </nui-quick-picker>\n            </div>\n            </ng-template>\n        </div>\n        <div class="col">\n            <h4>TimeFrame Picker + Date picker with unlimited width in Popover</h4>\n            <nui-popover trigger=\'click\'\n                            [template]="popoverTimeFramePickerUnlimited"\n                            [hasPadding]="false"\n                            [closePopover]="closePopoverSubject"\n                            [modal]="true"\n                            [unlimited]="true"\n                            id="nui-demo-visual-complex-popover">\n                        <span class="nui-text-link" style="cursor: pointer;">{{ acceptedTimeframe | timeFrame }}</span>\n            </nui-popover>\n\n            <ng-template #popoverTimeFramePickerUnlimited>\n                <div>\n                    <nui-quick-picker [presets]="presets"\n                                      [selectedPreset]="acceptedTimeframe.selectedPresetId"\n                                      (presetSelected)="handlePresetSelection($event)"\n                                      pickerTitle="Custom Range">\n                        <nui-time-frame-picker [startModel]="acceptedTimeframe"\n                                                    (changed)="updateTf($event)">\n                        </nui-time-frame-picker>\n                        <nui-date-picker [inline]="true"\n                                         [value]="selectedDate"\n                                         [preserveInsignificant]="false"\n                                         (valueChange)="dateChanged($event)">\n                        </nui-date-picker>\n                    </nui-quick-picker>\n                </div>\n            </ng-template>\n        </div>\n    </div>\n</div>\n'},dXpY:function(e,t,n){"use strict";n.r(t),t.default='<nui-time-frame-picker [startModel]="tf"\n                       (changed)="updateTf($event)"\n                       [maxDate]="maxDate"\n                       [minDate]="minDate">\n</nui-time-frame-picker>\n\n<span class="nui-text-secondary">Selected timeframe is {{ tf | timeFrame }}</span>\n'},ey9Y:function(e,t,n){"use strict";n.r(t),t.default='<nui-quick-picker [presets]="presets"\n                  [selectedPreset]="selectedPresetKey"\n                  (presetSelected)="handlePresetSelection($event)"\n                  pickerTitle="Custom percentiles"\n                  [presetKeysOrder]="presetKeysOrder"\n                  i18n-pickerTitle>\n    <nui-textbox-number [maxValue]="100"\n                        (valueChange)="handleCustomSelection($event)"\n                        [value]="getTextboxValue()">\n    </nui-textbox-number>\n</nui-quick-picker>\n\n<span class="nui-text-secondary">Selected Quick Pick is {{selectedPresetKey||"null"}}, Selected Value is {{selectedValue}}</span>\n'},jlVH:function(e,t,n){"use strict";n.r(t),t.default='import { AfterViewInit, ChangeDetectorRef, Component, QueryList, ViewChildren } from "@angular/core";\nimport { ITimeframe, ITimeFramePresetDictionary, TimeframeService } from "@nova-ui/bits";\nimport { Subject } from "rxjs";\n\ninterface IPicker {\n    id: string;\n    presets: ITimeFramePresetDictionary;\n    timeframeService?: TimeframeService;\n    tf?: ITimeframe;\n    acceptedTimeframe?: ITimeframe;\n    selectedPresetKey: string;\n}\n\n@Component({\n    selector: "nui-time-frame-picker-multiple-custom-pickers",\n    templateUrl: "./time-frame-picker-multiple-custom-pickers.example.component.html",\n})\nexport class TimeFramePickerMultipleCustomPickersExampleComponent implements AfterViewInit {\n    @ViewChildren("scoper")\n    private tfScopers: QueryList<TimeframeServiceScoperExampleComponent>;\n\n    public pickers: IPicker[] = [\n        {\n            id: "1",\n            presets: {\n                "last42Hours": {\n                    name: $localize `Last 42 hours`,\n                    startDatetimePattern: {hours: -42},\n                    endDatetimePattern: {},\n                },\n                "last749Days": {\n                    name: $localize `Last 749 days`,\n                    startDatetimePattern: {days: -749},\n                    endDatetimePattern: {},\n                },\n            },\n            selectedPresetKey: "last749Days",\n        },\n        {\n            id: "2",\n            presets: {\n                "last42Hours": {\n                    name: $localize `Last 42 hours`,\n                    startDatetimePattern: {hours: -42},\n                    endDatetimePattern: {},\n                },\n            },\n            selectedPresetKey: "last42Hours",\n        },\n        {\n            id: "3",\n            presets: {\n                "lastYear": {\n                    name: $localize `Last year`,\n                    startDatetimePattern: {year: -1},\n                    endDatetimePattern: {},\n                },\n                "last10Years": {\n                    name: $localize `Last 10 years`,\n                    startDatetimePattern: {year: -10},\n                    endDatetimePattern: {},\n                },\n            },\n            selectedPresetKey: "lastYear",\n        },\n    ];\n\n\n    public presets: ITimeFramePresetDictionary = {\n        "last42Hours": {\n            name: $localize `Last 42 hours`,\n            startDatetimePattern: {hours: -42},\n            endDatetimePattern: {},\n        },\n        "last749Days": {\n            name: $localize `Last 749 days`,\n            startDatetimePattern: {days: -749},\n            endDatetimePattern: {},\n        },\n    };\n\n    public showFooter: boolean = false;\n\n    public closePopoverSubject = new Subject();\n    public openPopoverSubject = new Subject();\n\n\n    constructor(private cdRef: ChangeDetectorRef) {\n    }\n\n    public updateTf(value: ITimeframe, index: number) {\n        const picker = this.pickers[index];\n        picker.tf = value;\n\n        const timeFrameDatesValid = () => picker.timeframeService?.areTimeFrameDatesValid(value);\n        const timeFrameDatesEqual = () => picker.timeframeService?.isEqual(\n            <ITimeframe>picker.tf,\n            <ITimeframe>picker.acceptedTimeframe\n        );\n        if (timeFrameDatesValid() && !timeFrameDatesEqual()) { this.showFooter = true; }\n\n        picker.selectedPresetKey = <string>picker.tf.selectedPresetId;\n    }\n\n    public ngAfterViewInit() {\n        this.tfScopers.forEach((scoper, i) => {\n            const picker = this.pickers[i];\n            const timeframeService = scoper.timeframeService;\n\n            picker.timeframeService = timeframeService;\n            timeframeService.currentPresets = picker.presets;\n            picker.acceptedTimeframe = timeframeService.getTimeframeByPresetId(picker.selectedPresetKey);\n            picker.tf = picker.acceptedTimeframe;\n        });\n        this.cdRef.detectChanges();\n    }\n\n    public confirmPopover(index: number) {\n        const picker = this.pickers[index];\n\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n        picker.acceptedTimeframe = picker.tf;\n    }\n    public cancelPopover(index: number) {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelection(presetKey: string, index: number) {\n        const picker = this.pickers[index];\n\n        picker.selectedPresetKey = presetKey;\n        picker.tf = picker.timeframeService?.getTimeframeByPresetId(presetKey);\n        picker.acceptedTimeframe = picker.tf;\n        this.closePopoverSubject.next();\n    }\n}\n\n@Component({\n    selector: "nui-time-frame-service-scoper",\n    providers: [TimeframeService],\n    template: `<ng-content></ng-content>`,\n})\nexport class TimeframeServiceScoperExampleComponent {\n    constructor(public timeframeService: TimeframeService) { }\n}\n'},rvpb:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { ITimeframe, ITimeFramePresetDictionary, TimeframeService } from "@nova-ui/bits";\nimport { Subject } from "rxjs";\n\n@Component({\n    selector: "nui-time-frame-picker-custom",\n    templateUrl: "./time-frame-picker-custom.example.component.html",\n    providers: [TimeframeService],\n})\n\nexport class TimeFramePickerCustomExampleComponent {\n    public presets: ITimeFramePresetDictionary = {\n        "last42Hours": {\n            name: $localize `Last 42 hours`,\n            startDatetimePattern: {hours: -42},\n            endDatetimePattern: {},\n        },\n        "last749Days": {\n            name: $localize `Last 749 days`,\n            startDatetimePattern: {days: -749},\n            endDatetimePattern: {},\n        },\n    };\n    public selectedPresetKey?: string = "last42Hours";\n    public acceptedTimeframe: ITimeframe;\n    public tf: ITimeframe;\n\n    public showFooter: boolean = false;\n\n    constructor(public timeframeService: TimeframeService) {\n        this.timeframeService.currentPresets = this.presets;\n        this.acceptedTimeframe = this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey);\n        this.tf = this.acceptedTimeframe;\n    }\n\n    public closePopoverSubject = new Subject();\n    public openPopoverSubject = new Subject();\n\n    public updateTf(value: ITimeframe) {\n        this.tf = value;\n        const timeFrameDatesValid = () => this.timeframeService.areTimeFrameDatesValid(value);\n        const timeFrameDatesEqual = () => this.timeframeService.isEqual(this.tf, this.acceptedTimeframe);\n        if (timeFrameDatesValid() && !timeFrameDatesEqual()) { this.showFooter = true; }\n\n        this.selectedPresetKey = this.tf.selectedPresetId;\n    }\n\n    public confirmPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n        this.acceptedTimeframe = this.tf;\n    }\n    public cancelPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelection(presetKey: string) {\n        this.selectedPresetKey = presetKey;\n        this.tf = this.timeframeService.getTimeframeByPresetId(presetKey);\n        this.acceptedTimeframe = this.tf;\n        this.closePopoverSubject.next();\n    }\n}\n'},vvKb:function(e,t,n){"use strict";n.r(t),n.d(t,"TimeFramePickerModule",function(){return A});var i=n("3Pt+"),r=n("tyNb"),c=n("b5Xb"),a=n("fXoL"),s=n("CVg4"),o=n("wd/R"),m=n.n(o),p=n("chzP"),l=n("Y/g/");let u=(()=>{class e{constructor(){this.tf={startDatetime:m()("04/09/2018","L"),endDatetime:m()("04/10/2018","L"),selectedPresetId:null},this.minDate=m()("04/07/2018","L"),this.maxDate=m()()}updateTf(e){this.tf=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["nui-time-frame-picker-inline"]],decls:4,vars:6,consts:[[3,"startModel","maxDate","minDate","changed"],[1,"nui-text-secondary"]],template:function(e,t){1&e&&(a.Ub(0,"nui-time-frame-picker",0),a.ic("changed",function(e){return t.updateTf(e)}),a.Tb(),a.Ub(1,"span",1),a.Oc(2),a.nc(3,"timeFrame"),a.Tb()),2&e&&(a.tc("startModel",t.tf)("maxDate",t.maxDate)("minDate",t.minDate),a.Cb(2),a.Qc("Selected timeframe is ",a.oc(3,4,t.tf),""))},directives:[p.a],pipes:[l.a],encapsulation:2}),e})();var d=n("KiNg"),f=n("ShSb");let h=(()=>{class e{constructor(){this.presets={99:{name:"99-th percentile"},95:{name:"95-th percentile"},80:{name:"80-th percentile"}},this.presetKeysOrder=["95","99","80"],this.selectedPresetKey="95",this.selectedValue=+(this.selectedPresetKey||"")}handlePresetSelection(e){this.selectedPresetKey=e,e&&(this.selectedValue=+this.selectedPresetKey)}handleCustomSelection(e){this.selectedPresetKey=-1!==Object.keys(this.presets).indexOf(e.toString())?e.toString():void 0,this.selectedValue=e}getTextboxValue(){return+(this.selectedPresetKey||"")||this.selectedValue}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["nui-quick-picker-basic"]],decls:4,vars:7,consts:function(){let e;return e=$localize`:␟01454926e96a89d8121942c3a93886cd93487572␟7512936423899299183:Custom percentiles`,[["pickerTitle",e,3,"presets","selectedPreset","presetKeysOrder","presetSelected"],[3,"maxValue","value","valueChange"],[1,"nui-text-secondary"]]},template:function(e,t){1&e&&(a.Ub(0,"nui-quick-picker",0),a.ic("presetSelected",function(e){return t.handlePresetSelection(e)}),a.Ub(1,"nui-textbox-number",1),a.ic("valueChange",function(e){return t.handleCustomSelection(e)}),a.Tb(),a.Tb(),a.Ub(2,"span",2),a.Oc(3),a.Tb()),2&e&&(a.tc("presets",t.presets)("selectedPreset",t.selectedPresetKey)("presetKeysOrder",t.presetKeysOrder),a.Cb(1),a.tc("maxValue",100)("value",t.getTextboxValue()),a.Cb(2),a.Rc("Selected Quick Pick is ",t.selectedPresetKey||"null",", Selected Value is ",t.selectedValue,""))},directives:[d.a,f.a],encapsulation:2}),e})();var b=n("XNiG"),P=n("N1kL"),k=n("ofXK"),v=n("NHEo"),T=n("6urz");function y(e,t){if(1&e){const e=a.Vb();a.Ub(0,"nui-dialog-footer"),a.Ub(1,"button",6),a.ic("click",function(){return a.Gc(e),a.mc(2).cancelPopover()}),a.Yb(2,7),a.Tb(),a.Ub(3,"button",8),a.ic("click",function(){return a.Gc(e),a.mc(2).confirmPopover()}),a.Yb(4,9),a.Tb(),a.Tb()}}function g(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"nui-quick-picker",3),a.ic("presetSelected",function(t){return a.Gc(e),a.mc().handlePresetSelection(t)}),a.Ub(2,"nui-time-frame-picker",4),a.ic("changed",function(t){return a.Gc(e),a.mc().updateTf(t)}),a.Tb(),a.Tb(),a.Tb(),a.Mc(3,y,5,0,"nui-dialog-footer",5)}if(2&e){const e=a.mc();a.Cb(1),a.tc("presets",e.presets)("selectedPreset",e.acceptedTimeframe.selectedPresetId),a.Cb(1),a.tc("startModel",e.acceptedTimeframe),a.Cb(1),a.tc("ngIf",e.showFooter)}}let S=(()=>{class e{constructor(e){this.timeframeService=e,this.selectedPresetKey="lastHour",this.showFooter=!1,this.closePopoverSubject=new b.a,this.openPopoverSubject=new b.a,this.presets=e.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}updateTf(e){this.tf=e,(()=>this.timeframeService.areTimeFrameDatesValid(e))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(e){this.selectedPresetKey=e,this.tf=this.timeframeService.getTimeframeByPresetId(e),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(c.Ob))},e.\u0275cmp=a.Ib({type:e,selectors:[["nui-time-frame-picker-basic-example"]],decls:6,vars:7,consts:function(){let e,t,n;return e=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,t=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `,n=$localize`:␟3c8adc665cde2a280fd027f86fca78239d8a890c␟3416889908563565605: Use `,[["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",e,3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],t,["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],n]},template:function(e,t){if(1&e&&(a.Ub(0,"nui-popover",0),a.Ub(1,"span",1),a.Oc(2),a.nc(3,"timeFrame"),a.Tb(),a.Tb(),a.Mc(4,g,4,4,"ng-template",null,2,a.Nc)),2&e){const e=a.Dc(5);a.tc("template",e)("hasPadding",!1)("closePopover",t.closePopoverSubject)("modal",!0),a.Cb(2),a.Pc(a.oc(3,5,t.acceptedTimeframe))}},directives:[P.a,d.a,p.a,k.q,v.a,T.a],pipes:[l.a],encapsulation:2}),e})();var D=n("4pDv"),x=n("J2m7"),w=n.n(x),F=n("TP7S"),C=n.n(F),I=n("uIAT");function U(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"nui-quick-picker",3),a.ic("presetSelected",function(t){return a.Gc(e),a.mc().handlePresetSelection(t)}),a.Ub(2,"nui-date-picker",4),a.ic("valueChange",function(t){return a.Gc(e),a.mc().dateChanged(t)}),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.mc();a.Cb(1),a.tc("presets",e.presets)("selectedPreset",e.selectedPresetKey),a.Cb(1),a.tc("inline",!0)("value",e.selectedDate)("preserveInsignificant",!1)}}let K=(()=>{class e{constructor(){this.selectedPresetKey="ihorsBirthday",this.showFooter=!0,this.closePopoverSubject=new b.a,this.presets=this.getDefaultPresets(),this.selectedDate=this.getDateFromPreset(this.selectedPresetKey)}handlePresetSelection(e){this.selectedDate=this.getDateFromPreset(e),this.selectedPresetKey=e,this.confirmPopover()}dateChanged(e){this.selectedDate.isSame(e,"day")||(this.selectedDate=e,this.selectedPresetKey=this.getPresetFromDate(e),this.confirmPopover())}confirmPopover(){this.closePopoverSubject.next()}getDefaultPresets(){return{today:{name:"Today",pattern:()=>m()()},yesterday:{name:"Yesterday",pattern:()=>m()().subtract(1,"days")},ihorsBirthday:{name:"Ihor's Birthday",pattern:()=>m()("1989-04-09")},random:{name:"Random date (to show that we can)",pattern:()=>m()(+new Date-Math.floor(1e11*Math.random()))}}}getDateFromPreset(e){const t=this.getDefaultPresets()[e];return t?t.pattern():m()()}getPresetFromDate(e){const t=w()(Object.keys(this.presets),t=>e.isSame(this.getDateFromPreset(t),"day"));if(C()(t))throw new Error("DatePreset was not found");return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["nui-time-frame-picker-date"]],decls:9,vars:6,consts:function(){let e,t;return e=$localize`:␟3097578df437c16281ba2d26960e4ec68092bd55␟6223578779816929641:Custom Date`,t=$localize`:␟0bcfbf63721dae8aa56ca8e134c4e572c95d54db␟4115009543277682440:Baselines`,[["trigger","click",3,"template","hasPadding","closePopover","unlimited","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverDayPicker",""],["pickerTitle",e,"presetsTitle",t,3,"presets","selectedPreset","presetSelected"],[3,"inline","value","preserveInsignificant","valueChange"]]},template:function(e,t){if(1&e&&(a.Ub(0,"nui-popover",0),a.Ub(1,"span",1),a.Oc(2,"Select day"),a.Tb(),a.Tb(),a.Ub(3,"p"),a.Oc(4," Selected date: "),a.Ub(5,"em"),a.Oc(6),a.Tb(),a.Tb(),a.Mc(7,U,3,5,"ng-template",null,2,a.Nc)),2&e){const e=a.Dc(8);a.tc("template",e)("hasPadding",!1)("closePopover",t.closePopoverSubject)("unlimited",!0)("modal",!0),a.Cb(6),a.Pc(null==t.selectedDate?null:t.selectedDate.format("MMMM Do, YYYY"))}},directives:[P.a,d.a,I.a],encapsulation:2}),e})();function O(e,t){if(1&e){const e=a.Vb();a.Ub(0,"nui-dialog-footer"),a.Ub(1,"button",6),a.ic("click",function(){return a.Gc(e),a.mc(2).cancelPopover()}),a.Yb(2,7),a.Tb(),a.Ub(3,"button",8),a.ic("click",function(){return a.Gc(e),a.mc(2).confirmPopover()}),a.Yb(4,9),a.Tb(),a.Tb()}}function M(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"nui-quick-picker",3),a.ic("presetSelected",function(t){return a.Gc(e),a.mc().handlePresetSelection(t)}),a.Ub(2,"nui-time-frame-picker",4),a.ic("changed",function(t){return a.Gc(e),a.mc().updateTf(t)}),a.Tb(),a.Tb(),a.Tb(),a.Mc(3,O,5,0,"nui-dialog-footer",5)}if(2&e){const e=a.mc();a.Cb(1),a.tc("presets",e.presets)("selectedPreset",e.acceptedTimeframe.selectedPresetId),a.Cb(1),a.tc("startModel",e.acceptedTimeframe),a.Cb(1),a.tc("ngIf",e.showFooter)}}let j=(()=>{class e{constructor(e){this.timeframeService=e,this.presets={last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize`Last 749 days`,startDatetimePattern:{days:-749},endDatetimePattern:{}}},this.selectedPresetKey="last42Hours",this.showFooter=!1,this.closePopoverSubject=new b.a,this.openPopoverSubject=new b.a,this.timeframeService.currentPresets=this.presets,this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}updateTf(e){this.tf=e,(()=>this.timeframeService.areTimeFrameDatesValid(e))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(e){this.selectedPresetKey=e,this.tf=this.timeframeService.getTimeframeByPresetId(e),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(c.Ob))},e.\u0275cmp=a.Ib({type:e,selectors:[["nui-time-frame-picker-custom"]],features:[a.Bb([c.Ob])],decls:6,vars:7,consts:function(){let e,t,n;return e=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,t=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `,n=$localize`:␟3c8adc665cde2a280fd027f86fca78239d8a890c␟3416889908563565605: Use `,[["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",e,3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],t,["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],n]},template:function(e,t){if(1&e&&(a.Ub(0,"nui-popover",0),a.Ub(1,"span",1),a.Oc(2),a.nc(3,"timeFrame"),a.Tb(),a.Tb(),a.Mc(4,M,4,4,"ng-template",null,2,a.Nc)),2&e){const e=a.Dc(5);a.tc("template",e)("hasPadding",!1)("closePopover",t.closePopoverSubject)("modal",!0),a.Cb(2),a.Pc(a.oc(3,5,t.acceptedTimeframe))}},directives:[P.a,d.a,p.a,k.q,v.a,T.a],pipes:[l.a],encapsulation:2}),e})();const q=["scoper"];function E(e,t){if(1&e){const e=a.Vb();a.Ub(0,"nui-dialog-footer"),a.Ub(1,"button",9),a.ic("click",function(){a.Gc(e);const t=a.mc(2).index;return a.mc().cancelPopover(t)}),a.Yb(2,10),a.Tb(),a.Ub(3,"button",11),a.ic("click",function(){a.Gc(e);const t=a.mc(2).index;return a.mc().confirmPopover(t)}),a.Yb(4,12),a.Tb(),a.Tb()}}function V(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"nui-quick-picker",6),a.ic("presetSelected",function(t){a.Gc(e);const n=a.mc().index;return a.mc().handlePresetSelection(t,n)}),a.Ub(2,"nui-time-frame-picker",7),a.ic("changed",function(t){a.Gc(e);const n=a.mc().index;return a.mc().updateTf(t,n)}),a.Tb(),a.Tb(),a.Tb(),a.Mc(3,E,5,0,"nui-dialog-footer",8)}if(2&e){const e=a.mc().$implicit,t=a.mc();a.Cb(1),a.tc("presets",e.presets)("selectedPreset",e.acceptedTimeframe.selectedPresetId),a.Cb(1),a.tc("startModel",e.acceptedTimeframe),a.Cb(1),a.tc("ngIf",t.showFooter)}}function B(e,t){if(1&e&&(a.Ub(0,"div",1),a.Ub(1,"nui-time-frame-service-scoper",null,2),a.Ub(3,"nui-popover",3),a.Ub(4,"span",4),a.Oc(5),a.nc(6,"timeFrame"),a.Tb(),a.Tb(),a.Mc(7,V,4,4,"ng-template",null,5,a.Nc),a.Tb(),a.Tb()),2&e){const e=t.$implicit,n=a.Dc(8),i=a.mc();a.Cb(3),a.tc("template",n)("hasPadding",!1)("closePopover",i.closePopoverSubject)("modal",!0),a.Cb(2),a.Pc(a.oc(6,5,e.acceptedTimeframe))}}const $=["*"];let _=(()=>{class e{constructor(e){this.cdRef=e,this.pickers=[{id:"1",presets:{last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize`Last 749 days`,startDatetimePattern:{days:-749},endDatetimePattern:{}}},selectedPresetKey:"last749Days"},{id:"2",presets:{last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}}},selectedPresetKey:"last42Hours"},{id:"3",presets:{lastYear:{name:$localize`Last year`,startDatetimePattern:{year:-1},endDatetimePattern:{}},last10Years:{name:$localize`Last 10 years`,startDatetimePattern:{year:-10},endDatetimePattern:{}}},selectedPresetKey:"lastYear"}],this.presets={last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize`Last 749 days`,startDatetimePattern:{days:-749},endDatetimePattern:{}}},this.showFooter=!1,this.closePopoverSubject=new b.a,this.openPopoverSubject=new b.a}updateTf(e,t){const n=this.pickers[t];var i;n.tf=e,(null===(i=n.timeframeService)||void 0===i?void 0:i.areTimeFrameDatesValid(e))&&!(()=>{var e;return null===(e=n.timeframeService)||void 0===e?void 0:e.isEqual(n.tf,n.acceptedTimeframe)})()&&(this.showFooter=!0),n.selectedPresetKey=n.tf.selectedPresetId}ngAfterViewInit(){this.tfScopers.forEach((e,t)=>{const n=this.pickers[t],i=e.timeframeService;n.timeframeService=i,i.currentPresets=n.presets,n.acceptedTimeframe=i.getTimeframeByPresetId(n.selectedPresetKey),n.tf=n.acceptedTimeframe}),this.cdRef.detectChanges()}confirmPopover(e){const t=this.pickers[e];this.showFooter=!1,this.closePopoverSubject.next(),t.acceptedTimeframe=t.tf}cancelPopover(e){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(e,t){var n;const i=this.pickers[t];i.selectedPresetKey=e,i.tf=null===(n=i.timeframeService)||void 0===n?void 0:n.getTimeframeByPresetId(e),i.acceptedTimeframe=i.tf,this.closePopoverSubject.next()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.h))},e.\u0275cmp=a.Ib({type:e,selectors:[["nui-time-frame-picker-multiple-custom-pickers"]],viewQuery:function(e,t){if(1&e&&a.Tc(q,1),2&e){let e;a.Cc(e=a.jc())&&(t.tfScopers=e)}},decls:1,vars:1,consts:function(){let e,t,n;return e=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,t=$localize`:␟6a3777f913cf3f288664f0632b9f24794fdcc24e␟6991067716289442185: Cancel `,n=$localize`:␟ed00b437e9ad627b97f49a51d7efc46c7f8001e5␟3260792159339867964: Use `,[["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],["scoper",""],["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",e,3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],t,["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],n]},template:function(e,t){1&e&&a.Mc(0,B,9,7,"div",0),2&e&&a.tc("ngForOf",t.pickers)},directives:function(){return[k.p,Y,P.a,d.a,p.a,k.q,v.a,T.a]},pipes:function(){return[l.a]},encapsulation:2}),e})(),Y=(()=>{class e{constructor(e){this.timeframeService=e}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(c.Ob))},e.\u0275cmp=a.Ib({type:e,selectors:[["nui-time-frame-service-scoper"]],features:[a.Bb([c.Ob])],ngContentSelectors:$,decls:1,vars:0,template:function(e,t){1&e&&(a.sc(),a.rc(0))},encapsulation:2}),e})();function N(e,t){if(1&e){const e=a.Vb();a.Ub(0,"nui-dialog-footer"),a.Ub(1,"button",6),a.ic("click",function(){return a.Gc(e),a.mc(2).cancelPopover()}),a.Yb(2,7),a.Tb(),a.Ub(3,"button",8),a.ic("click",function(){return a.Gc(e),a.mc(2).confirmPopover()}),a.Yb(4,9),a.Tb(),a.Tb()}}function L(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"nui-quick-picker",3),a.ic("presetSelected",function(t){return a.Gc(e),a.mc().handlePresetSelection(t)}),a.Ub(2,"nui-time-frame-picker",4),a.ic("changed",function(t){return a.Gc(e),a.mc().updateTf(t)}),a.Tb(),a.Tb(),a.Tb(),a.Mc(3,N,5,0,"nui-dialog-footer",5)}if(2&e){const e=a.mc();a.Cb(1),a.tc("presets",e.presets)("selectedPreset",e.acceptedTimeframe.selectedPresetId),a.Cb(1),a.tc("startModel",e.acceptedTimeframe)("maxDate",e.maxDate)("minDate",e.minDate),a.Cb(1),a.tc("ngIf",e.showFooter)}}function z(e,t){if(1&e){const e=a.Vb();a.Ub(0,"nui-dialog-footer"),a.Ub(1,"button",13),a.ic("click",function(){return a.Gc(e),a.mc(2).cancelPopover()}),a.Oc(2," Cancel "),a.Tb(),a.Ub(3,"button",14),a.ic("click",function(){return a.Gc(e),a.mc(2).confirmPopover()}),a.Oc(4," Use "),a.Tb(),a.Tb()}}function G(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"nui-quick-picker",10),a.ic("presetSelected",function(t){return a.Gc(e),a.mc().handlePresetSelection(t)}),a.Ub(2,"nui-time-frame-picker",11),a.ic("changed",function(t){return a.Gc(e),a.mc().updateTf(t)}),a.Tb(),a.Tb(),a.Tb(),a.Mc(3,z,5,0,"nui-dialog-footer",12)}if(2&e){const e=a.mc();a.Cb(1),a.tc("presets",e.presets)("selectedPreset",e.acceptedTimeframe.selectedPresetId),a.Cb(1),a.tc("startModel",e.acceptedTimeframe),a.Cb(1),a.tc("ngIf",e.showFooter)}}function R(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"nui-quick-picker",15),a.ic("presetSelected",function(t){return a.Gc(e),a.mc().handlePresetSelectionDatePicker(t)}),a.Ub(2,"nui-date-picker",16),a.ic("valueChange",function(t){return a.Gc(e),a.mc().dateChanged(t)}),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.mc();a.Cb(1),a.tc("presets",e.presetsDatePicker)("selectedPreset",e.selectedPresetKeyDatePicker),a.Cb(1),a.tc("inline",!0)("value",e.selectedDate)("preserveInsignificant",!1)}}function H(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"nui-quick-picker",10),a.ic("presetSelected",function(t){return a.Gc(e),a.mc().handlePresetSelection(t)}),a.Ub(2,"nui-time-frame-picker",11),a.ic("changed",function(t){return a.Gc(e),a.mc().updateTf(t)}),a.Tb(),a.Ub(3,"nui-date-picker",16),a.ic("valueChange",function(t){return a.Gc(e),a.mc().dateChanged(t)}),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.mc();a.Cb(1),a.tc("presets",e.presets)("selectedPreset",e.acceptedTimeframe.selectedPresetId),a.Cb(1),a.tc("startModel",e.acceptedTimeframe),a.Cb(1),a.tc("inline",!0)("value",e.selectedDate)("preserveInsignificant",!1)}}const Q=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["nui-time-frame-picker-docs"]],decls:116,vars:2,consts:[["href","../interfaces/ITimeframe.html","target","_blank"],["filenamePrefix","time-frame-picker-inline","exampleTitle","Basic Usage"],["filenamePrefix","quick-picker-basic","exampleTitle","Quick Picker"],["filenamePrefix","time-frame-picker-basic","exampleTitle","Timeframe Picker in a Popover"],["type","info",3,"allowDismiss"],["filenamePrefix","time-frame-picker-date","exampleTitle","Date-Based Picker in Popover"],["filenamePrefix","time-frame-picker-custom","exampleTitle","Date-Based Picker in Popover"],["filenamePrefix","time-frame-picker-multiple-custom-pickers","exampleTitle","Multiple pickers with custom presets"]],template:function(e,t){1&e&&(a.Ub(0,"h2"),a.Oc(1,"Required Modules"),a.Tb(),a.Ub(2,"ul"),a.Ub(3,"li"),a.Ub(4,"code"),a.Oc(5,"NuiTimeFramePickerModule"),a.Tb(),a.Tb(),a.Tb(),a.Ub(6,"h2"),a.Oc(7,"Basic Usage"),a.Tb(),a.Ub(8,"p"),a.Oc(9," The "),a.Ub(10,"code"),a.Oc(11,"<nui-time-frame-picker>"),a.Tb(),a.Oc(12," component allows the user to select a time range. Its model is an "),a.Ub(13,"code"),a.Ub(14,"a",0),a.Oc(15,"ITimeframe"),a.Tb(),a.Tb(),a.Oc(16," which can be set using the "),a.Ub(17,"code"),a.Oc(18,"startModel"),a.Tb(),a.Oc(19," input. All changes can be detected using the "),a.Ub(20,"code"),a.Oc(21,"changed"),a.Tb(),a.Oc(22," output. Additionally, max and min dates can be defined by setting the "),a.Ub(23,"code"),a.Oc(24,"maxDate"),a.Tb(),a.Oc(25," and "),a.Ub(26,"code"),a.Oc(27,"minDate"),a.Tb(),a.Oc(28," inputs with moment instances.\n"),a.Tb(),a.Ub(29,"p"),a.Oc(30," If the user selects a start time that's later than the currently selected end time, the selected end time will adjust accordingly to preserve the current timeframe duration.\n"),a.Tb(),a.Ub(31,"p"),a.Oc(32," If the user attempts to select an end time that's the same as or earlier than the currently selected start time, no changes occur on either the view or the model.\n"),a.Tb(),a.Ub(33,"nui-example-wrapper",1),a.Pb(34,"nui-time-frame-picker-inline"),a.Tb(),a.Ub(35,"h2"),a.Oc(36,"Quick Picker Component"),a.Tb(),a.Ub(37,"p"),a.Oc(38," The "),a.Ub(39,"code"),a.Oc(40,"<nui-quick-picker>"),a.Tb(),a.Oc(41," component is a helper component in the TimeFramePicker module.\n"),a.Tb(),a.Ub(42,"p"),a.Oc(43,' In most cases, the default title "Quick Picks" on the left pane should be sufficient; however, if needed, the title can be customized using the '),a.Ub(44,"code"),a.Oc(45,"presetsTitle"),a.Tb(),a.Oc(46," input.\n"),a.Tb(),a.Ub(47,"p"),a.Oc(48," If a custom ordering of presets is needed, an array of keys can be passed to the "),a.Ub(49,"code"),a.Oc(50,"presetKeysOrder"),a.Tb(),a.Oc(51," input.\n"),a.Tb(),a.Ub(52,"nui-example-wrapper",2),a.Pb(53,"nui-quick-picker-basic"),a.Tb(),a.Ub(54,"h2"),a.Oc(55,"Timeframe Picker in a Popover"),a.Tb(),a.Ub(56,"p"),a.Oc(57," To implement the common use-case of a timeframe picker in a popover, combine the "),a.Ub(58,"code"),a.Oc(59,"<nui-time-frame-picker>"),a.Tb(),a.Oc(60,", "),a.Ub(61,"code"),a.Oc(62,"nui-quick-picker"),a.Tb(),a.Oc(63," and "),a.Ub(64,"code"),a.Oc(65,"nui-popover"),a.Tb(),a.Oc(66," elements as shown below.\n"),a.Tb(),a.Ub(67,"p"),a.Oc(68," To achieve a modal effect, you can set the popover's "),a.Ub(69,"code"),a.Oc(70,"[modal]"),a.Tb(),a.Oc(71," input to "),a.Ub(72,"code"),a.Oc(73,"true"),a.Tb(),a.Oc(74,".\n"),a.Tb(),a.Ub(75,"nui-example-wrapper",3),a.Pb(76,"nui-time-frame-picker-basic-example"),a.Tb(),a.Ub(77,"h2"),a.Oc(78,"Date-Based Picker in Popover"),a.Tb(),a.Ub(79,"nui-message",4),a.Oc(80," Please note that in order to adjust popover to the width of inner components you may need to pass "),a.Ub(81,"code"),a.Oc(82,'[unlimited]="true"'),a.Tb(),a.Oc(83," to it.\n"),a.Tb(),a.Ub(84,"p"),a.Oc(85," You are free to use different types of components inside a Quick Picker. The following example shows how to put a DatePicker inside.\n"),a.Tb(),a.Ub(86,"nui-example-wrapper",5),a.Pb(87,"nui-time-frame-picker-date"),a.Tb(),a.Ub(88,"h2"),a.Oc(89,"Custom presets with Timeframe Picker"),a.Tb(),a.Ub(90,"p"),a.Oc(91," Presets can be changed using "),a.Ub(92,"code"),a.Oc(93,"timeframeService.currentPresets"),a.Tb(),a.Oc(94," field.\n"),a.Tb(),a.Ub(95,"nui-message",4),a.Oc(96," Please note that TimeFrameService is provided in scope of NuiTimeFramePickerModule once, and since one TimeFrameService instance can keep only one set of presets, in order to have different presets in 2 different components of an application, please provide different TimeFrameService instances in scope of those components (as in the example below, which includes "),a.Ub(97,"code"),a.Oc(98,"providers: [TimeframeService]"),a.Tb(),a.Oc(99," in a component decorator).\n"),a.Tb(),a.Ub(100,"nui-example-wrapper",6),a.Pb(101,"nui-time-frame-picker-custom"),a.Tb(),a.Ub(102,"h2"),a.Oc(103,"Multiple pickers with custom presets"),a.Tb(),a.Ub(104,"p"),a.Oc(105," If you want to have multiple instances of "),a.Ub(106,"code"),a.Oc(107,"TimeFrameService"),a.Tb(),a.Oc(108," for your time frame pickers, you should provide one in the components providers.\n"),a.Tb(),a.Ub(109,"p"),a.Oc(110," The example below shows how to create a component that will be responsible for creating "),a.Ub(111,"code"),a.Oc(112,"TimeFrameService"),a.Tb(),a.Oc(113," per component.\n"),a.Tb(),a.Ub(114,"nui-example-wrapper",7),a.Pb(115,"nui-time-frame-picker-multiple-custom-pickers"),a.Tb()),2&e&&(a.Cb(79),a.tc("allowDismiss",!1),a.Cb(16),a.tc("allowDismiss",!1))},directives:[s.a,u,h,S,D.a,K,j,_],encapsulation:2}),e})(),data:{srlc:{stage:c.Jb.ga},showThemeSwitcher:!0}},{path:"time-frame-picker-test",component:(()=>{class e{constructor(e){this.timeframeService=e,this.selectedPresetKey="lastHour",this.minDate=m()("04/07/2018","L"),this.maxDate=m()(),this.showFooter=!1,this.closePopoverSubject=new b.a,this.openPopoverSubject=new b.a,this.presets=e.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}updateTf(e){this.tf=e,(()=>this.timeframeService.areTimeFrameDatesValid(e))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(e){this.selectedPresetKey=e,this.tf=this.timeframeService.getTimeframeByPresetId(e),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(c.Ob))},e.\u0275cmp=a.Ib({type:e,selectors:[["nui-time-frame-picker-test"]],decls:9,vars:10,consts:function(){let e,t,n;return e=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,t=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `,n=$localize`:␟3c8adc665cde2a280fd027f86fca78239d8a890c␟3416889908563565605: Use `,[["id","nui-demo-basic-time-frame-picker","trigger","click",3,"template","hasPadding","closePopover"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",e,3,"presets","selectedPreset","presetSelected"],[3,"startModel","maxDate","minDate","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action","id","nui-demo-basic-time-frame-picker-cancel",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],t,["nui-button","","type","button","displayStyle","primary","id","nui-demo-basic-time-frame-picker-use",1,"nui-time-frame-picker__use",3,"click"],n]},template:function(e,t){if(1&e&&(a.Ub(0,"nui-popover",0),a.Ub(1,"span",1),a.Oc(2),a.nc(3,"timeFrame"),a.Tb(),a.Tb(),a.Ub(4,"div"),a.Oc(5),a.nc(6,"timeFrame"),a.Tb(),a.Mc(7,L,4,6,"ng-template",null,2,a.Nc)),2&e){const e=a.Dc(8);a.tc("template",e)("hasPadding",!1)("closePopover",t.closePopoverSubject),a.Cb(2),a.Pc(a.oc(3,5,t.acceptedTimeframe)),a.Cb(3),a.Pc(a.pc(6,7,t.acceptedTimeframe,"LL LTS"))}},directives:[P.a,d.a,p.a,k.q,v.a,T.a],pipes:[l.a],encapsulation:2}),e})(),data:{srlc:{hideIndicator:!0}}},{path:"time-frame-picker-visual-test",component:(()=>{class e{constructor(e){this.timeframeService=e,this.selectedPresetKey="lastHour",this.selectedPresetKeyDatePicker="dimasBirthday",this.showFooter=!1,this.closePopoverSubject=new b.a,this.openPopoverSubject=new b.a,this.presets=e.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey,"02/17/1986"),this.tf=this.acceptedTimeframe,this.presetsDatePicker=this.getDefaultPresets(),this.selectedDate=this.getDateFromPreset(this.selectedPresetKeyDatePicker)}updateTf(e){this.tf=e,(()=>this.timeframeService.areTimeFrameDatesValid(e))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(e){this.selectedPresetKeyDatePicker=e,this.tf=this.timeframeService.getTimeframeByPresetId(e,"02/17/1986"),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}confirmPopoverDatePicker(){this.closePopoverSubject.next()}handlePresetSelectionDatePicker(e){this.selectedDate=this.getDateFromPreset(e),this.selectedPresetKeyDatePicker=e,this.confirmPopoverDatePicker()}dateChanged(e){this.selectedDate.isSame(e,"day")||(this.selectedDate=e,this.selectedPresetKeyDatePicker=this.getPresetFromDate(e),this.confirmPopoverDatePicker())}getDefaultPresets(){return{today:{name:"Today",pattern:()=>m()()},yesterday:{name:"Yesterday",pattern:()=>m()().subtract(1,"days")},dimasBirthday:{name:"Dima's Birthday",pattern:()=>m()("1986-02-17")},random:{name:"Random date (to show that we can)",pattern:()=>m()(+new Date-Math.floor(1e11*Math.random()))}}}getDateFromPreset(e){const t=this.getDefaultPresets()[e];return t?t.pattern():m()()}getPresetFromDate(e){const t=w()(Object.keys(this.presets),t=>e.isSame(this.getDateFromPreset(t),"day"));if(C()(t))throw new Error("DatePreset was not found");return t}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(c.Ob))},e.\u0275cmp=a.Ib({type:e,selectors:[["nui-time-frame-picker-visual-test"]],decls:32,vars:21,consts:[[1,"container"],[1,"row"],[1,"col"],["trigger","click","id","nui-demo-visual-default-popover",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["trigger","click","id","nui-demo-visual-datepicker-popover",3,"template","hasPadding","closePopover","unlimited","modal"],["popoverDayPicker",""],["trigger","click","id","nui-demo-visual-complex-popover",3,"template","hasPadding","closePopover","modal","unlimited"],["popoverTimeFramePickerUnlimited",""],["pickerTitle","Custom Range",3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],["pickerTitle","Custom Date","presetsTitle","Baselines",3,"presets","selectedPreset","presetSelected"],[3,"inline","value","preserveInsignificant","valueChange"]],template:function(e,t){if(1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"h4"),a.Oc(4,"TimeFrame Picker in Popover"),a.Tb(),a.Ub(5,"nui-popover",3),a.Ub(6,"span",4),a.Oc(7),a.nc(8,"timeFrame"),a.Tb(),a.Tb(),a.Mc(9,G,4,4,"ng-template",null,5,a.Nc),a.Tb(),a.Ub(11,"div",2),a.Ub(12,"h4"),a.Oc(13,"TimeFrame Picker with other components"),a.Tb(),a.Ub(14,"nui-popover",6),a.Ub(15,"span",4),a.Oc(16,"Select day"),a.Tb(),a.Tb(),a.Ub(17,"p"),a.Oc(18," Selected date: "),a.Ub(19,"em"),a.Oc(20),a.Tb(),a.Tb(),a.Mc(21,R,3,5,"ng-template",null,7,a.Nc),a.Tb(),a.Ub(23,"div",2),a.Ub(24,"h4"),a.Oc(25,"TimeFrame Picker + Date picker with unlimited width in Popover"),a.Tb(),a.Ub(26,"nui-popover",8),a.Ub(27,"span",4),a.Oc(28),a.nc(29,"timeFrame"),a.Tb(),a.Tb(),a.Mc(30,H,4,6,"ng-template",null,9,a.Nc),a.Tb(),a.Tb(),a.Tb()),2&e){const e=a.Dc(10),n=a.Dc(22),i=a.Dc(31);a.Cb(5),a.tc("template",e)("hasPadding",!1)("closePopover",t.closePopoverSubject)("modal",!0),a.Cb(2),a.Pc(a.oc(8,17,t.acceptedTimeframe)),a.Cb(7),a.tc("template",n)("hasPadding",!1)("closePopover",t.closePopoverSubject)("unlimited",!0)("modal",!0),a.Cb(6),a.Pc(null==t.selectedDate?null:t.selectedDate.format("MMMM Do, YYYY")),a.Cb(6),a.tc("template",i)("hasPadding",!1)("closePopover",t.closePopoverSubject)("modal",!0)("unlimited",!0),a.Cb(2),a.Pc(a.oc(29,19,t.acceptedTimeframe))}},directives:[P.a,d.a,p.a,k.q,v.a,T.a,I.a],pipes:[l.a],encapsulation:2}),e})(),data:{srlc:{hideIndicator:!0}}},{path:"multiple-custom-pickers",component:_,data:{srlc:{hideIndicator:!0}}}];let A=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[{provide:c.f,useFactory:()=>n("5/Sd")}],imports:[[c.v,c.ib,c.E,c.N,i.j,c.S,c.G,c.gb,r.f.forChild(Q),c.D,c.A],r.f]}),e})()}}]);