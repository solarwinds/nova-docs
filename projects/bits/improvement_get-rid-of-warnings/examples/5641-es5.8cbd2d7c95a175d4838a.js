!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function r(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function t(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(self.webpackChunk_nova_ui_bits=self.webpackChunk_nova_ui_bits||[]).push([[5641],{98414:function(e,n,r){var t={"./dragdrop-basic/dragdrop-basic.example.component.html":35153,"./dragdrop-basic/dragdrop-basic.example.component.less":76389,"./dragdrop-basic/dragdrop-basic.example.component.ts":68301,"./dragdrop-cdk/dragdrop-cdk.example.component.html":12083,"./dragdrop-cdk/dragdrop-cdk.example.component.less":30484,"./dragdrop-cdk/dragdrop-cdk.example.component.ts":10194,"./dragdrop-docs/dragdrop-docs.example.component.html":91888,"./dragdrop-docs/dragdrop-docs.example.component.ts":2488,"./dragdrop-files/dragdrop-files.example.component.html":14242,"./dragdrop-files/dragdrop-files.example.component.less":4595,"./dragdrop-files/dragdrop-files.example.component.ts":77593,"./dragdrop.module.ts":9334,"./file-drop/file-drop.component.html":16972,"./file-drop/file-drop.component.less":62229,"./file-drop/file-drop.component.ts":99886,"./file-drop/file-drop.module.ts":61559,"./file-drop/public-api.ts":54899,"./index.ts":96061,"components/demo/dragdrop/dragdrop-basic/dragdrop-basic.example.component.html":35153,"components/demo/dragdrop/dragdrop-basic/dragdrop-basic.example.component.less":76389,"components/demo/dragdrop/dragdrop-basic/dragdrop-basic.example.component.ts":68301,"components/demo/dragdrop/dragdrop-cdk/dragdrop-cdk.example.component.html":12083,"components/demo/dragdrop/dragdrop-cdk/dragdrop-cdk.example.component.less":30484,"components/demo/dragdrop/dragdrop-cdk/dragdrop-cdk.example.component.ts":10194,"components/demo/dragdrop/dragdrop-docs/dragdrop-docs.example.component.html":91888,"components/demo/dragdrop/dragdrop-docs/dragdrop-docs.example.component.ts":2488,"components/demo/dragdrop/dragdrop-files/dragdrop-files.example.component.html":14242,"components/demo/dragdrop/dragdrop-files/dragdrop-files.example.component.less":4595,"components/demo/dragdrop/dragdrop-files/dragdrop-files.example.component.ts":77593,"components/demo/dragdrop/dragdrop.module.ts":9334,"components/demo/dragdrop/file-drop/file-drop.component.html":16972,"components/demo/dragdrop/file-drop/file-drop.component.less":62229,"components/demo/dragdrop/file-drop/file-drop.component.ts":99886,"components/demo/dragdrop/file-drop/file-drop.module.ts":61559,"components/demo/dragdrop/file-drop/public-api.ts":54899,"components/demo/dragdrop/index.ts":96061};function o(e){var n=a(e);return r(n)}function a(e){if(!r.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}o.keys=function(){return Object.keys(t)},o.resolve=a,e.exports=o,o.id=98414},25641:function(n,r,a){"use strict";a.r(r),a.d(r,{DragDropDemoModule:function(){return T}});var i,l=a(83461),d=a(99763),s=a(26924),p=a(33018),c=((i=t(function e(){o(this,e)})).\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[],imports:[[s.lam]]}),i),u=a(70132),m=function(){return(e=m||(m={})).active="active",e.error="error",e.default="default",m;var e}(),g=["*"],f=function(){var e=function(){function e(){o(this,e),this.counterToHackDragLeave=0,this.state=m.default,this.enter=new p.vpe,this.leave=new p.vpe}return t(e,[{key:"hasActiveClass",get:function(){return this.state===m.active}},{key:"hasErrorClass",get:function(){return this.state===m.error}},{key:"dragOverHandler",value:function(e){e.preventDefault()}},{key:"dropHandler",value:function(e){e.preventDefault(),this.counterToHackDragLeave=0}},{key:"dragEnterHandler",value:function(e){e.preventDefault(),this.counterToHackDragLeave++,e.currentTarget.contains(e.currentTarget)&&this.enter.emit(e)}},{key:"dragLeaveHandler",value:function(e){e.preventDefault(),this.counterToHackDragLeave--,0===this.counterToHackDragLeave&&this.leave.emit(e)}}]),e}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nui-file-drop-example"]],hostAttrs:[1,"d-inline-flex","align-items-center","justify-content-center"],hostVars:4,hostBindings:function(e,n){1&e&&p.NdJ("dragover",function(e){return n.dragOverHandler(e)},!1,p.Jf7)("drop",function(e){return n.dropHandler(e)})("dragenter",function(e){return n.dragEnterHandler(e)})("dragleave",function(e){return n.dragLeaveHandler(e)}),2&e&&p.ekj("nui-file-drop--active",n.hasActiveClass)("nui-file-drop--error",n.hasErrorClass)},inputs:{state:"state"},outputs:{enter:"enter",leave:"leave"},ngContentSelectors:g,decls:1,vars:0,template:function(e,n){1&e&&(p.F$t(),p.Hsn(0))},styles:["[_nghost-%COMP%]{display:flex;padding:10px;width:100%;min-height:50px;border-style:dashed;border-width:1px;border-color:#d9d9d9;border-color:var(--nui-color-line-default,#d9d9d9)}.nui-file-drop--active[_nghost-%COMP%], .nui-file-drop--error[_nghost-%COMP%]{border-width:4px;border-style:solid}.nui-file-drop--active[_nghost-%COMP%]{border-color:#00c4d2;border-color:var(--nui-color-selected-contrast,#00c4d2);background-color:rgba(0,196,210,.2);background-color:var(--nui-color-busy-default,rgba(0, 196, 210, .2))}.nui-file-drop--error[_nghost-%COMP%]{border-color:#dd2c00;border-color:var(--nui-color-line-critical,#dd2c00);background-color:rgba(221,44,0,.2);background-color:var(--nui-color-busy-destructive,rgba(221, 44, 0, .2))}"]}),e}(),v=a(38583),h=a(95659);function b(e,n){1&e&&(p.ynx(0),p.TgZ(1,"nui-validation-message",5),p._uU(2," Please upload GIF only!"),p.qZA(),p.BQk()),2&e&&(p.xp6(1),p.Q6J("show",!0))}function x(e,n){1&e&&(p.ynx(0),p._UZ(1,"nui-icon",6),p.TgZ(2,"span",3),p._uU(3," Drop only "),p.TgZ(4,"b"),p._uU(5,"GIF images"),p.qZA(),p._uU(6," to upload, or "),p.TgZ(7,"label",7),p._uU(8,"browse"),p.qZA(),p.qZA(),p.BQk())}function D(e,n){if(1&e){var r=p.EpF();p.TgZ(0,"div",8),p.TgZ(1,"div",9),p.TgZ(2,"span",10),p._uU(3),p.qZA(),p.TgZ(4,"nui-progress",11),p.NdJ("cancel",function(){return p.CHM(r),p.oxw().onCancel()}),p.qZA(),p.qZA(),p.TgZ(5,"div",12),p.TgZ(6,"button",13),p.NdJ("click",function(){var e=p.CHM(r).$implicit;return p.oxw().rmFile(e)}),p.qZA(),p.qZA(),p.qZA()}if(2&e){var t=n.$implicit;p.xp6(3),p.Oqu(t.name),p.xp6(1),p.Q6J("show",!0)("stacked",!0)("percent",42)("showNumber",!0)}}var y=function(){var n=function(){function n(){o(this,n),this.gifError=!1,this.imageType="image/gif",this.fileDropState=m.default,this.files=[]}return t(n,[{key:"dropHandler",value:function(n){var r,t=this;if(!n.dataTransfer)throw new Error("dataTransfer is not defined");(r=this.files).push.apply(r,e(this.extractFilesFromDropEventData(n.dataTransfer).filter(function(e){return t.validateDataType(e.type)}))),this.invalidateFiles()}},{key:"onFileRead",value:function(n){var r,t=n.target.files;if(!t)throw new Error("fileList is not defined");(r=this.files).push.apply(r,e(Array.from(t)))}},{key:"dragEnterHandler",value:function(e){e.dataTransfer&&e.dataTransfer.items&&(this.gifError=!this.validateDataType(e.dataTransfer.items[0].type)),this.fileDropState=this.gifError?m.error:m.active}},{key:"invalidateFiles",value:function(){this.fileDropState=m.default,this.gifError=!1}},{key:"rmFile",value:function(e){this.files=this.files.filter(function(n){return n!==e})}},{key:"validateDataType",value:function(e){return e.includes(this.imageType)}},{key:"extractFilesFromDropEventData",value:function(e){var n=[];if(e.items){for(var r=0;r<e.items.length;r++)if("file"===e.items[r].kind){var t=e.items[r].getAsFile();t&&n.push(t)}}else for(var o=0;o<e.files.length;o++)n.push(e.files[o]);return n}}]),n}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["nui-dragdrop-files-example"]],decls:7,vars:5,consts:[[3,"state","drop","enter","leave"],[4,"ngIf"],["type","file","id","uniqueOne","multiple","",1,"hidden",3,"accept","change"],[1,"nui-text-small-secondary"],["class","nui-demo-file-area d-flex",4,"ngFor","ngForOf"],[3,"show"],["icon","upload","iconColor","gray",1,"pr-2"],["for","uniqueOne",1,"nui-text-link-small","nui-demo-drop-area__browse"],[1,"nui-demo-file-area","d-flex"],[1,"py-2","px-3","flex-grow-1","flex-row"],[1,"nui-text-label"],[3,"show","stacked","percent","showNumber","cancel"],[1,"nui-demo-file-area__right","flex-grow-0"],["nui-button","","type","button","displayStyle","action","icon","close",3,"click"]],template:function(e,n){1&e&&(p.TgZ(0,"nui-file-drop-example",0),p.NdJ("drop",function(e){return n.dropHandler(e)})("enter",function(e){return n.dragEnterHandler(e)})("leave",function(){return n.invalidateFiles()}),p.YNc(1,b,3,1,"ng-container",1),p.YNc(2,x,9,0,"ng-container",1),p.TgZ(3,"input",2),p.NdJ("change",function(e){return n.onFileRead(e)}),p.qZA(),p.qZA(),p.TgZ(4,"span",3),p._uU(5,"File types: GIF"),p.qZA(),p.YNc(6,D,7,5,"div",4)),2&e&&(p.Q6J("state",n.fileDropState),p.xp6(1),p.Q6J("ngIf",n.gifError),p.xp6(1),p.Q6J("ngIf",!n.gifError),p.xp6(1),p.Q6J("accept",n.imageType),p.xp6(3),p.Q6J("ngForOf",n.files))},directives:[f,v.O5,v.sg,h.r],styles:[".nui-demo-drop-area__browse[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:0}.nui-demo-file-area[_ngcontent-%COMP%]{width:100%;min-height:30px;border-color:rgba(217,217,217,.7);border-color:var(--nui-border-fade,rgba(217, 217, 217, .7));border-width:1px;border-bottom-width:0;border-style:solid}.nui-demo-file-area[_ngcontent-%COMP%]:last-child{border-bottom-width:1px}"]}),n}(),E=function(){var e=t(function e(){o(this,e)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nui-dragdrop-example"]],decls:23,vars:0,consts:[["filenamePrefix","dragdrop-files","exampleTitle","Drag and Drop Files"],["filenamePrefix","file-drop","exampleTitle","File Drop Component"]],template:function(e,n){1&e&&(p.TgZ(0,"h2"),p._uU(1,"Basic Usage"),p.qZA(),p.TgZ(2,"p"),p._uU(3,"Usage is described in example below. FileDrop component is used internally to handle dragLeave/dragEnter and encapsulate styling"),p.qZA(),p.TgZ(4,"p"),p._uU(5,"Example includes:"),p.qZA(),p.TgZ(6,"ol"),p.TgZ(7,"li"),p._uU(8,' Browse file using file system dialog with access to input properties like "multiple" and "accept". '),p.qZA(),p.TgZ(9,"li"),p._uU(10," Effect while hovering file with wrong data type (for simplicity, example code checks only first item in array) - this is implemented as an input in FileDrop component. "),p.qZA(),p.TgZ(11,"li"),p._uU(12," List of files with layout that is taken from UX specs "),p.qZA(),p.qZA(),p.TgZ(13,"nui-example-wrapper",0),p._UZ(14,"nui-dragdrop-files-example"),p.qZA(),p.TgZ(15,"h2"),p._uU(16,"File Drop Component"),p.qZA(),p.TgZ(17,"p"),p._uU(18,"Please see FileDrop component source code in this example (note that demo is not interactive since this is purely presentational component)"),p.qZA(),p.TgZ(19,"nui-example-wrapper",1),p.TgZ(20,"nui-file-drop-example"),p.TgZ(21,"span"),p._uU(22,"Any content"),p.qZA(),p.qZA(),p.qZA())},directives:[u.h,y,f],encapsulation:2}),e}();a(14614),a(17540);var w=[{path:"",component:E,data:{srlc:{stage:s.We9.alpha}}}],T=function(){var e=t(function e(){o(this,e)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({providers:[{provide:s.V3$,useFactory:function(){return a(98414)}}],imports:[[l._t,s.Az_,s.vvu,s.lam,c,d.Bz.forChild(w)],d.Bz]}),e}()},35153:function(e,n,r){"use strict";r.r(n),n.default='<div class="row">\n    <div class="col-6">\n        <div class="drag-drop-item"\n             id="nui-demo-src-object"\n             nuiDraggable\n             [payload]="draggableObj"\n             adornerDragClass="demo-drag-class"\n             (dragStart)="onDragStart($event)"\n             (dragEnd)="onDragEnd($event)"\n             i18n>drag me (object)</div>\n        <pre>{{draggableObj | json}}</pre>\n    </div>\n    <div class="col-6">\n        <div class="drag-drop-item"\n             id="nui-demo-dest-object"\n             nuiDroppable\n             dropIndicatorClass="demo-drop-indicator-class"\n             dragOverClass="demo-drag-over-class"\n             invalidDragOverClass="demo-invalid-drag-over-class"\n             [dropValidator]="isObjectValidator"\n             (dropSuccess)="onDropObject($event)"\n             (dragOver)="onDragOver($event)"\n             (dragEnter)="onDragEnter($event)"\n             (dragLeave)="onDragLeave($event)"\n             i18n>drop here - object</div>\n        <pre>{{destObject | json}}</pre>\n    </div>\n</div>\n<div class="row">\n    <div class="col-6">\n        <div class="drag-drop-item"\n             nuiDraggable\n             [payload]="draggableString"\n             adornerDragClass="demo-drag-class"\n             (dragStart)="onDragStart($event)"\n             (dragEnd)="onDragEnd($event)"\n             i18n>drag me (string)</div>\n        <pre>{{draggableString}}</pre>\n    </div>\n\n    <div class="col-6">\n        <div class="drag-drop-item"\n             nuiDroppable\n             [dropValidator]="isStringValidator"\n             dropIndicatorClass="demo-drop-indicator-class"\n             dragOverClass="demo-drag-over-class"\n             invalidDragOverClass="demo-invalid-drag-over-class"\n             (dropSuccess)="onDropString($event)"\n             (dragOver)="onDragOver($event)"\n             (dragEnter)="onDragEnter($event)"\n             (dragLeave)="onDragLeave($event)"\n             i18n>drop here - string</div>\n        <pre>{{destString}}</pre>\n    </div>\n</div>\n<div class="row">\n    <div class="col-12">\n        <div class="drag-drop-item"\n             nuiDraggable\n             [payload]="draggableExcel"\n             (dragStart)="onDragStart($event)"\n             (dragEnd)="onDragEnd($event)"\n             i18n>drag me to Excel (htmlTable)</div>\n        <pre>{{draggableExcel}}</pre>\n    </div>\n</div>\n<div class="row">\n    <div class="col-12">\n        <div class="drag-drop-item"\n             nuiDroppable\n             dropIndicatorClass="demo-drop-indicator-class"\n             dragOverClass="demo-drag-over-class"\n             invalidDragOverClass="demo-invalid-drag-over-class"\n             (dragOver)="onDragOver($event)"\n             (dragEnter)="onDragEnter($event)"\n             (dragLeave)="onDragLeave($event)"\n             (dropSuccess)="onDropAnything($event)"\n             i18n>drop anything</div>\n        <pre>{{destAnything | json}}</pre>\n    </div>\n</div>\n'},68301:function(e,n,r){"use strict";r.r(n),n.default='import { Component, Inject } from "@angular/core";\n\nimport { IDropEvent, IDropValidator, IToastService, ToastService } from "@nova-ui/bits";\n\nclass IsStringValidator implements IDropValidator {\n    isValidDropTarget(payload: any, isExternal: boolean): boolean {\n        if (isExternal) {\n            return false;\n        }\n        return typeof payload === "string";\n    }\n}\n\nclass IsObjectValidator implements IDropValidator {\n    isValidDropTarget(payload: any): boolean {\n        return typeof payload === "object";\n    }\n}\n\n@Component({\n    selector: "nui-dragdrop-validator-example",\n    templateUrl: "./dragdrop-basic.example.component.html",\n})\nexport class DragdropBasicExampleComponent {\n    public draggableString = "this is a string";\n    public draggableObj = {\n        imma: "little",\n        teapot: "short and stout",\n    };\n    public destObject: {};\n    public destString: string;\n    public destAnything: any;\n    public draggableExcel = "<table>" +\n        "<tr>" +\n        "<th>thing1</th>" +\n        "<th>thing2</th>" +\n        "</tr>" +\n        "<tr>" +\n        "<td>jeff</td>" +\n        "<td>4</td>" +\n        "</tr>" +\n        "<tr>" +\n        "<td>john</td>" +\n        "<td>8</td>" +\n        "</tr>" +\n        "</table>";\n    public isStringValidator = new IsStringValidator();\n    public isObjectValidator = new IsObjectValidator();\n\n    constructor(@Inject(ToastService) private toastService: IToastService) { }\n\n    public onDropObject(dropEvent: IDropEvent): void {\n        this.toastService.info({message: $localize `Drop object!`});\n        this.destObject = dropEvent.payload;\n    }\n\n    public onDropString(dropEvent: IDropEvent): void {\n        this.toastService.info({message: $localize `Drop string!`});\n        this.destString = JSON.stringify(dropEvent.payload);\n    }\n\n    public onDropAnything(dropEvent: IDropEvent): void {\n        this.toastService.info({message: $localize `Drop anything!`});\n        this.destAnything = dropEvent.payload;\n    }\n\n    public onDragStart(event: DragEvent): void {\n        this.toastService.info({message: $localize `Drag start`});\n    }\n\n    public onDragEnd(event: DragEvent): void {\n        this.toastService.info({message: $localize `Drag end`});\n    }\n\n    public onDragOver(event: DragEvent): void {\n        this.toastService.info({\n            message: $localize `Drag over`,\n            options: { preventDuplicates: true },\n        });\n    }\n\n    public onDragEnter(event: DragEvent): void {\n        this.toastService.info({message: $localize `Drag enter`});\n    }\n\n    public onDragLeave(event: DragEvent): void {\n        this.toastService.info({message: $localize `Drag leave`});\n    }\n}\n'},12083:function(e,n,r){"use strict";r.r(n),n.default='<div class="nui-demo-draggable" cdkDrag>\n    Drag me around\n</div>\n'},10194:function(e,n,r){"use strict";r.r(n),n.default='import { Component } from "@angular/core";\n\n@Component({\n    selector: "nui-dragdrop-cdk-example",\n    templateUrl: "./dragdrop-cdk.example.component.html",\n    styleUrls: ["./dragdrop-cdk.example.component.less"],\n})\nexport class DragdropCdkExampleComponent {\n}\n'},91888:function(e,n,r){"use strict";r.r(n),n.default='\x3c!--<nui-example-wrapper filenamePrefix="dragdrop-basic" exampleTitle="Drag and Drop">--\x3e\n    \x3c!--<nui-dragdrop-validator-example></nui-dragdrop-validator-example>--\x3e\n\x3c!--</nui-example-wrapper>--\x3e\n\x3c!--<nui-example-wrapper filenamePrefix="dragdrop-cdk" exampleTitle="Drag and Drop CDK">--\x3e\n    \x3c!--<nui-dragdrop-cdk-example></nui-dragdrop-cdk-example>--\x3e\n\x3c!--</nui-example-wrapper>--\x3e\n\n<h2>Basic Usage</h2>\n\n<p>Usage is described in example below. FileDrop component is used internally to handle dragLeave/dragEnter and encapsulate styling</p>\n<p>Example includes:</p>\n<ol>\n    <li>\n        Browse file using file system dialog with access to input properties like "multiple" and "accept".\n    </li>\n    <li>\n        Effect while hovering file with wrong data type (for simplicity, example code checks only first item in array) - this is implemented as an input in FileDrop component.\n    </li>\n    <li>\n        List of files with layout that is taken from UX specs\n    </li>\n</ol>\n\n<nui-example-wrapper filenamePrefix="dragdrop-files" exampleTitle="Drag and Drop Files">\n    <nui-dragdrop-files-example></nui-dragdrop-files-example>\n</nui-example-wrapper>\n\n<h2>File Drop Component</h2>\n<p>Please see FileDrop component source code in this example (note that demo is not interactive since this is purely presentational component)</p>\n\n<nui-example-wrapper filenamePrefix="file-drop" exampleTitle="File Drop Component">\n    <nui-file-drop-example><span>Any content</span></nui-file-drop-example>\n</nui-example-wrapper>\n'},2488:function(e,n,r){"use strict";r.r(n),n.default='import { Component } from "@angular/core";\n\n@Component({\n    selector: "nui-dragdrop-example",\n    templateUrl: "./dragdrop-docs.example.component.html",\n})\nexport class DragdropExampleComponent {\n\n}\n'},14242:function(e,n,r){"use strict";r.r(n),n.default='<nui-file-drop-example (drop)="dropHandler($event)"\n               (enter)="dragEnterHandler($event)"\n               (leave)="invalidateFiles()"\n               [state]="fileDropState">\n    <ng-container *ngIf="gifError">\n        <nui-validation-message [show]="true"> Please upload GIF only!</nui-validation-message>\n    </ng-container>\n    <ng-container *ngIf="!gifError">\n        <nui-icon icon="upload" class="pr-2" iconColor="gray"></nui-icon>\n        <span class="nui-text-small-secondary">\n            Drop only <b>GIF images</b> to upload, or <label for="uniqueOne" class="nui-text-link-small nui-demo-drop-area__browse">browse</label>\n        </span>\n    </ng-container>\n\n    \x3c!--this is hidden file input to handle browse button--\x3e\n    <input type="file"\n           id="uniqueOne"\n           [accept]="imageType"\n           multiple\n           (change)="onFileRead($event)"\n           class="hidden">\n</nui-file-drop-example>\n\n<span class="nui-text-small-secondary">File types: GIF</span>\n\n<div class="nui-demo-file-area d-flex" *ngFor="let file of files">\n    <div class=" py-2 px-3 flex-grow-1 flex-row">\n        <span class="nui-text-label">{{file.name}}</span>\n        <nui-progress [show]="true"\n                      [stacked]="true"\n                      [percent]="42"\n                      [showNumber]="true"\n                      (cancel)="onCancel()">\n        </nui-progress>\n    </div>\n    <div class="nui-demo-file-area__right flex-grow-0">\n        <button nui-button type="button" displayStyle="action" icon="close" (click)="rmFile(file)"></button>\n    </div>\n</div>\n'},77593:function(e,n,r){"use strict";r.r(n),n.default='import { Component } from "@angular/core";\n\nimport { FileDropState } from "../file-drop/public-api";\n\n@Component({\n    selector: "nui-dragdrop-files-example",\n    templateUrl: "./dragdrop-files.example.component.html",\n    styleUrls: ["./dragdrop-files.example.component.less"],\n})\nexport class DragdropFilesExampleComponent {\n\n    public gifError = false;\n    public imageType = "image/gif";\n\n    public fileDropState = FileDropState.default;\n\n    public files: File[] = [];\n\n    dropHandler(ev: DragEvent): void {\n\n        if (!ev.dataTransfer) {\n            throw new Error("dataTransfer is not defined");\n        }\n        this.files.push(\n            ...this.extractFilesFromDropEventData(ev.dataTransfer)\n                .filter((file: File) => this.validateDataType(file.type))\n        );\n\n        this.invalidateFiles();\n    }\n\n    onFileRead(ev: Event): void {\n        const files: FileList | null = (ev.target as HTMLInputElement).files;\n        if (!files) {\n            throw new Error("fileList is not defined");\n        }\n        // no validation here since we have native one in browser input\n        this.files.push(...Array.from(files));\n    }\n\n    dragEnterHandler(ev: DragEvent): void {\n        // This naively checks only first file\n\n        if (ev.dataTransfer && ev.dataTransfer.items) {\n            this.gifError = !this.validateDataType(ev.dataTransfer.items[0].type);\n        }\n\n        this.fileDropState = this.gifError ? FileDropState.error : FileDropState.active;\n    }\n\n    invalidateFiles(): void {\n        // Change it if you want to have some error highlight even after dragLeave\n        this.fileDropState = FileDropState.default;\n        this.gifError = false;\n    }\n\n    rmFile(fileInput: File): void {\n        this.files = this.files.filter(file => file !== fileInput);\n    }\n\n    private validateDataType(dataType: string) {\n        return dataType.includes(this.imageType);\n    }\n\n    // TODO: this can be extracted to a service\n    private extractFilesFromDropEventData(data: DataTransfer): File[] {\n        const files: File[] = [];\n        if (data.items) {\n            // Use DataTransferItemList interface to access the file(s)\n            for (let i = 0; i < data.items.length; i++) {\n                // If dropped items aren\'t files, reject them\n                if (data.items[i].kind === "file") {\n                    const file: File | null = data.items[i].getAsFile();\n                    if (file) {\n                        files.push(file);\n                    }\n                }\n            }\n        } else {\n            // Use DataTransfer interface to access the file(s) for Safari\n            for (let i = 0; i < data.files.length; i++) {\n                files.push(data.files[i]);\n            }\n        }\n        return files;\n    }\n\n}\n'},9334:function(e,n,r){"use strict";r.r(n),n.default='import { DragDropModule } from "@angular/cdk/drag-drop";\nimport { NgModule } from "@angular/core";\nimport { RouterModule } from "@angular/router";\n\nimport { DEMO_PATH_TOKEN, NuiButtonModule, NuiCommonModule, NuiDocsModule, SrlcStage } from "@nova-ui/bits";\n\nimport { NuiFileDropExampleModule } from "./file-drop/file-drop.module";\nimport {\n    DragdropBasicExampleComponent,\n    DragdropCdkExampleComponent,\n    DragdropExampleComponent,\n    DragdropFilesExampleComponent,\n} from "./index";\n\nconst routes = [{\n    path: "",\n    component: DragdropExampleComponent,\n    data: {\n        "srlc": {\n            "stage": SrlcStage.alpha,\n        },\n    },\n}];\n\n@NgModule({\n    imports: [\n        DragDropModule,\n        NuiButtonModule,\n        NuiDocsModule,\n        NuiCommonModule,\n        NuiFileDropExampleModule,\n        RouterModule.forChild(routes),\n    ],\n    declarations: [\n        DragdropExampleComponent,\n        DragdropBasicExampleComponent,\n        DragdropCdkExampleComponent,\n        DragdropFilesExampleComponent,\n    ],\n    providers: [\n        {\n            provide: DEMO_PATH_TOKEN,\n            useFactory: () => (<any>require).context(`!!raw-loader!./`, true, /.*\\.(ts|html|less)$/),\n        },\n    ],\n    exports: [\n        RouterModule,\n    ],\n})\nexport class DragDropDemoModule {\n}\n'},16972:function(e,n,r){"use strict";r.r(n),n.default="<ng-content></ng-content>\n"},99886:function(e,n,r){"use strict";r.r(n),n.default='import { Component, EventEmitter, HostBinding, HostListener, Input, Output } from "@angular/core";\n\nimport { FileDropState } from "./public-api";\n\n/**\n * <example-url>./../examples/index.html#/file-upload</example-url>\n */\n\n/** @ignore */\n@Component({\n    selector: "nui-file-drop-example",\n    templateUrl: "./file-drop.component.html",\n    styleUrls: ["./file-drop.component.less"],\n    host: {\n        "class": "d-inline-flex align-items-center justify-content-center",\n    },\n})\nexport class FileDropExampleComponent {\n    // TODO: consider renaming this class to DropAreaComponent since it is not file-specific at all\n\n    private counterToHackDragLeave = 0;\n\n    @Input() public state: FileDropState = FileDropState.default;\n\n    @Output() public enter = new EventEmitter<DragEvent>();\n    @Output() public leave = new EventEmitter<DragEvent>();\n    // Drop is handled as regular JS event in parent component.\n    // enter and leave can\'t be since dragenter and dragleave for parent component are different\n\n    @HostBinding("class.nui-file-drop--active")\n    get hasActiveClass(): boolean { return this.state === FileDropState.active; }\n\n    @HostBinding("class.nui-file-drop--error")\n    get hasErrorClass(): boolean { return this.state === FileDropState.error; }\n\n    // this solves problem with opening the file since browser fires dragover by default\n    @HostListener("window:dragover", ["$event"])\n    dragOverHandler(ev: DragEvent): void {\n        // Prevent default behavior (Prevent file from being opened)\n        ev.preventDefault();\n    }\n\n    @HostListener("drop", ["$event"])\n    dropHandler(ev: DragEvent): void {\n        // Prevent default behavior (Prevent file from being opened)\n        ev.preventDefault();\n        this.counterToHackDragLeave = 0; // important not to break mouseleave hack\n    }\n\n    @HostListener("dragenter", ["$event"])\n    dragEnterHandler(ev: DragEvent): void {\n        // Prevent default behavior (Prevent file from being opened)\n        ev.preventDefault();\n        this.counterToHackDragLeave++;\n        if ((ev.currentTarget as Node).contains(ev.currentTarget as Node)) {\n            this.enter.emit(ev);\n        }\n    }\n\n    @HostListener("dragleave", ["$event"])\n    dragLeaveHandler(ev: DragEvent): void {\n        // Prevent default behavior (Prevent file from being opened)\n        ev.preventDefault();\n\n        this.counterToHackDragLeave--;\n        if (this.counterToHackDragLeave === 0) {\n            this.leave.emit(ev);\n        }\n    }\n}\n'},61559:function(e,n,r){"use strict";r.r(n),n.default='import { NgModule } from "@angular/core";\n\nimport { NuiCommonModule } from "@nova-ui/bits";\n\nimport { FileDropExampleComponent } from "./file-drop.component";\n\n\n/**\n * @ignore\n */\n@NgModule({\n    imports: [\n        NuiCommonModule,\n    ],\n    declarations: [\n        FileDropExampleComponent,\n    ],\n    exports: [\n        FileDropExampleComponent,\n    ],\n    providers: [],\n})\nexport class NuiFileDropExampleModule {\n}\n'},54899:function(e,n,r){"use strict";r.r(n),n.default='export enum FileDropState {\n    active = "active",\n    error = "error",\n    default = "default",\n}\n'},96061:function(e,n,r){"use strict";r.r(n),n.default='export * from "./dragdrop-docs/dragdrop-docs.example.component";\nexport * from "./dragdrop-basic/dragdrop-basic.example.component";\nexport * from "./dragdrop-cdk/dragdrop-cdk.example.component";\nexport * from "./dragdrop-files/dragdrop-files.example.component";\n'},76389:function(e){"use strict";e.exports='export default ".drag-drop-item {\\n    border: 1px solid grey;\\n    text-align: center;\\n}\\n.demo-drag-over-class {\\n    border-color: #30B230;\\n    background-color: #e7f4df;\\n}\\n.demo-invalid-drag-over-class {\\n    border-color: #D50000;\\n    background-color: #FFE4E0;\\n}\\n.demo-drop-indicator-class {\\n    border-color: #3CAADD;\\n    background-color: #a0cede;\\n}";'},30484:function(e){"use strict";e.exports='export default "// This can be moved to bits!\\n@import (reference) \\"nui-framework-variables\\";\\n@import (reference) \\"mixins\\";\\n";'},4595:function(e){"use strict";e.exports='export default "@import (reference) \\"nui-framework-variables\\";\\n@import (reference) \\"mixins\\";\\n\\n.nui-demo {\\n    &-drop-area {\\n        &__browse {\\n            cursor: pointer; // this would not be needed if nui-text-link had pointer - sadpanda\\n            margin-bottom: 0; // this is needed sadpanda2\\n        }\\n    }\\n\\n    &-file-area {\\n        width: 100%;\\n        min-height: 30px; // icon size\\n        .setCssVariable(border-color, nui-border-fade);\\n        border-width: @nui-line-default;\\n        border-bottom-width: 0;\\n        border-style: solid;\\n    }\\n    &-file-area:last-child {\\n        border-bottom-width: @nui-line-default; // this helps to merge borders of divs to look nice\\n    }\\n\\n}\\n";'},62229:function(e){"use strict";e.exports='export default "@import (reference) \\"nui-framework-variables\\";\\n@import (reference) \\"mixins\\";\\n\\n@drop-zone-min-height: 50px;\\n\\n:host {\\n    display: flex;\\n    padding: @nui-space-sm;\\n    width: 100%;\\n    min-height: @drop-zone-min-height;\\n    border-style: dashed; // TODO: no border-style-dashed in NUI\\n    border-width: @nui-line-default;\\n    .setCssVariable(border-color, nui-color-line-default);\\n    &.nui-file-drop {\\n        &--active, &--error {\\n            border-width: @nui-line-fat;\\n            border-style: solid;\\n        }\\n        &--active {\\n            .setCssVariable(border-color, nui-color-selected-contrast);\\n            .setCssVariable(background-color, nui-color-busy-default);\\n        }\\n        &--error {\\n            .setCssVariable(border-color, nui-color-line-critical);\\n            .setCssVariable(background-color, nui-color-busy-destructive);\\n        }\\n    }\\n}\\n";'}}])}();