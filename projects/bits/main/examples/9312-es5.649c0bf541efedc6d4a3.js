!function(){var e,t,n,i,r,a,c,s,o,m,p,l,u,d,f,h,k,v,P,T,g,y,b,x;function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunk_nova_ui_bits=self.webpackChunk_nova_ui_bits||[]).push([[9312],{91053:function(e,t,n){var i={"./index.ts":26112,"./quick-picker-basic/quick-picker-basic.example.component.html":72771,"./quick-picker-basic/quick-picker-basic.example.component.ts":28042,"./time-frame-picker-basic/time-frame-picker-basic.example.component.html":16411,"./time-frame-picker-basic/time-frame-picker-basic.example.component.ts":1996,"./time-frame-picker-custom/time-frame-picker-custom.example.component.html":8275,"./time-frame-picker-custom/time-frame-picker-custom.example.component.ts":67313,"./time-frame-picker-date/time-frame-picker-date.example.component.html":84922,"./time-frame-picker-date/time-frame-picker-date.example.component.ts":93218,"./time-frame-picker-docs/time-frame-picker-docs.example.component.html":55491,"./time-frame-picker-docs/time-frame-picker-docs.example.component.ts":48828,"./time-frame-picker-inline/time-frame-picker-inline.example.component.html":4138,"./time-frame-picker-inline/time-frame-picker-inline.example.component.ts":54160,"./time-frame-picker-multiple-custom-pickers/time-frame-picker-multiple-custom-pickers.example.component.html":18297,"./time-frame-picker-multiple-custom-pickers/time-frame-picker-multiple-custom-pickers.example.component.ts":7613,"./time-frame-picker-test/time-frame-picker-test.example.component.html":92671,"./time-frame-picker-test/time-frame-picker-test.example.component.ts":49493,"./time-frame-picker-visual-test/time-frame-picker-visual-test.component.html":34495,"./time-frame-picker-visual-test/time-frame-picker-visual-test.component.ts":33804,"./time-frame-picker.module.ts":93906,"components/demo/time-frame-picker/index.ts":26112,"components/demo/time-frame-picker/quick-picker-basic/quick-picker-basic.example.component.html":72771,"components/demo/time-frame-picker/quick-picker-basic/quick-picker-basic.example.component.ts":28042,"components/demo/time-frame-picker/time-frame-picker-basic/time-frame-picker-basic.example.component.html":16411,"components/demo/time-frame-picker/time-frame-picker-basic/time-frame-picker-basic.example.component.ts":1996,"components/demo/time-frame-picker/time-frame-picker-custom/time-frame-picker-custom.example.component.html":8275,"components/demo/time-frame-picker/time-frame-picker-custom/time-frame-picker-custom.example.component.ts":67313,"components/demo/time-frame-picker/time-frame-picker-date/time-frame-picker-date.example.component.html":84922,"components/demo/time-frame-picker/time-frame-picker-date/time-frame-picker-date.example.component.ts":93218,"components/demo/time-frame-picker/time-frame-picker-docs/time-frame-picker-docs.example.component.html":55491,"components/demo/time-frame-picker/time-frame-picker-docs/time-frame-picker-docs.example.component.ts":48828,"components/demo/time-frame-picker/time-frame-picker-inline/time-frame-picker-inline.example.component.html":4138,"components/demo/time-frame-picker/time-frame-picker-inline/time-frame-picker-inline.example.component.ts":54160,"components/demo/time-frame-picker/time-frame-picker-multiple-custom-pickers/time-frame-picker-multiple-custom-pickers.example.component.html":18297,"components/demo/time-frame-picker/time-frame-picker-multiple-custom-pickers/time-frame-picker-multiple-custom-pickers.example.component.ts":7613,"components/demo/time-frame-picker/time-frame-picker-test/time-frame-picker-test.example.component.html":92671,"components/demo/time-frame-picker/time-frame-picker-test/time-frame-picker-test.example.component.ts":49493,"components/demo/time-frame-picker/time-frame-picker-visual-test/time-frame-picker-visual-test.component.html":34495,"components/demo/time-frame-picker/time-frame-picker-visual-test/time-frame-picker-visual-test.component.ts":33804,"components/demo/time-frame-picker/time-frame-picker.module.ts":93906};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=91053},9312:function(Z,F,q){"use strict";q.r(F),q.d(F,{TimeFramePickerModule:function(){return xe}});var C,A=q(3679),_=q(99763),I=q(14347),M=q(33018),U=q(70132),K=q(16738),j=q.n(K),E=q(6903),N=q(36544),Q=((C=function(){function e(){D(this,e),this.tf={startDatetime:j()("04/09/2018","L"),endDatetime:j()("04/10/2018","L"),selectedPresetId:null},this.minDate=j()("04/07/2018","L"),this.maxDate=j()()}return w(e,[{key:"updateTf",value:function(e){this.tf=e}}]),e}()).\u0275fac=function(e){return new(e||C)},C.\u0275cmp=M.Xpm({type:C,selectors:[["nui-time-frame-picker-inline"]],decls:4,vars:6,consts:[[3,"startModel","maxDate","minDate","changed"],[1,"nui-text-secondary"]],template:function(e,t){1&e&&(M.TgZ(0,"nui-time-frame-picker",0),M.NdJ("changed",function(e){return t.updateTf(e)}),M.qZA(),M.TgZ(1,"span",1),M._uU(2),M.ALo(3,"timeFrame"),M.qZA()),2&e&&(M.Q6J("startModel",t.tf)("maxDate",t.maxDate)("minDate",t.minDate),M.xp6(2),M.hij("Selected timeframe is ",M.lcZ(3,4,t.tf),""))},directives:[E.x],pipes:[N.a],encapsulation:2}),C),J=q(8375),Y=q(55165),B=function(){var t=function(){function e(){D(this,e),this.presets={99:{name:"99-th percentile"},95:{name:"95-th percentile"},80:{name:"80-th percentile"}},this.presetKeysOrder=["95","99","80"],this.selectedPresetKey="95",this.selectedValue=+(this.selectedPresetKey||"")}return w(e,[{key:"handlePresetSelection",value:function(e){this.selectedPresetKey=e,e&&(this.selectedValue=+this.selectedPresetKey)}},{key:"handleCustomSelection",value:function(e){this.selectedPresetKey=-1!==Object.keys(this.presets).indexOf(e.toString())?e.toString():void 0,this.selectedValue=e}},{key:"getTextboxValue",value:function(){return+(this.selectedPresetKey||"")||this.selectedValue}}]),e}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=M.Xpm({type:t,selectors:[["nui-quick-picker-basic"]],decls:4,vars:7,consts:function(){return[["pickerTitle",$localize(e||(e=S([":\u241f01454926e96a89d8121942c3a93886cd93487572\u241f7512936423899299183:Custom percentiles"]))),3,"presets","selectedPreset","presetKeysOrder","presetSelected"],[3,"maxValue","value","valueChange"],[1,"nui-text-secondary"]]},template:function(e,t){1&e&&(M.TgZ(0,"nui-quick-picker",0),M.NdJ("presetSelected",function(e){return t.handlePresetSelection(e)}),M.TgZ(1,"nui-textbox-number",1),M.NdJ("valueChange",function(e){return t.handleCustomSelection(e)}),M.qZA(),M.qZA(),M.TgZ(2,"span",2),M._uU(3),M.qZA()),2&e&&(M.Q6J("presets",t.presets)("selectedPreset",t.selectedPresetKey)("presetKeysOrder",t.presetKeysOrder),M.xp6(1),M.Q6J("maxValue",100)("value",t.getTextboxValue()),M.xp6(2),M.AsE("Selected Quick Pick is ",t.selectedPresetKey||"null",", Selected Value is ",t.selectedValue,""))},directives:[J.m,Y.I],encapsulation:2}),t}(),$=q(79765),O=q(92385),V=q(38583),H=q(61997),L=q(74293);function z(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"nui-dialog-footer"),M.TgZ(1,"button",6),M.NdJ("click",function(){return M.CHM(n),M.oxw(2).cancelPopover()}),M.SDv(2,7),M.qZA(),M.TgZ(3,"button",8),M.NdJ("click",function(){return M.CHM(n),M.oxw(2).confirmPopover()}),M.SDv(4,9),M.qZA(),M.qZA()}}function R(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"div"),M.TgZ(1,"nui-quick-picker",3),M.NdJ("presetSelected",function(e){return M.CHM(n),M.oxw().handlePresetSelection(e)}),M.TgZ(2,"nui-time-frame-picker",4),M.NdJ("changed",function(e){return M.CHM(n),M.oxw().updateTf(e)}),M.qZA(),M.qZA(),M.qZA(),M.YNc(3,z,5,0,"nui-dialog-footer",5)}if(2&e){var i=M.oxw();M.xp6(1),M.Q6J("presets",i.presets)("selectedPreset",i.acceptedTimeframe.selectedPresetId),M.xp6(1),M.Q6J("startModel",i.acceptedTimeframe),M.xp6(1),M.Q6J("ngIf",i.showFooter)}}var X=function(){var e=function(){function e(t){D(this,e),this.timeframeService=t,this.selectedPresetKey="lastHour",this.showFooter=!1,this.closePopoverSubject=new $.xQ,this.openPopoverSubject=new $.xQ,this.presets=t.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}return w(e,[{key:"updateTf",value:function(e){var t=this;this.tf=e,t.timeframeService.areTimeFrameDatesValid(e)&&!t.timeframeService.isEqual(t.tf,t.acceptedTimeframe)&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}},{key:"confirmPopover",value:function(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}},{key:"cancelPopover",value:function(){this.showFooter=!1,this.closePopoverSubject.next()}},{key:"handlePresetSelection",value:function(e){this.selectedPresetKey=e,this.tf=this.timeframeService.getTimeframeByPresetId(e),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.Y36(I.hYR))},e.\u0275cmp=M.Xpm({type:e,selectors:[["nui-time-frame-picker-basic-example"]],decls:6,vars:7,consts:function(){return[["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",$localize(t||(t=S([":\u241f8946b0053f321c7db24853d1b213b1ea9794c789\u241f2079707468789363335:Custom Range"]))),3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],$localize(n||(n=S([":\u241fbf844a41a29961b6dacc48a20eaf97bef0cf5013\u241f7452095619502551190: Cancel "]))),["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],$localize(i||(i=S([":\u241f3c8adc665cde2a280fd027f86fca78239d8a890c\u241f3416889908563565605: Use "])))]},template:function(e,t){if(1&e&&(M.TgZ(0,"nui-popover",0),M.TgZ(1,"span",1),M._uU(2),M.ALo(3,"timeFrame"),M.qZA(),M.qZA(),M.YNc(4,R,4,4,"ng-template",null,2,M.W1O)),2&e){var n=M.MAs(5);M.Q6J("template",n)("hasPadding",!1)("closePopover",t.closePopoverSubject)("modal",!0),M.xp6(2),M.Oqu(M.lcZ(3,5,t.acceptedTimeframe))}},directives:[O.U,J.m,E.x,V.O5,H.g,L.r],pipes:[N.a],encapsulation:2}),e}(),W=q(18906),G=q(98990),ee=q.n(G),te=q(29569),ne=q.n(te),ie=q(82071);function re(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"div"),M.TgZ(1,"nui-quick-picker",3),M.NdJ("presetSelected",function(e){return M.CHM(n),M.oxw().handlePresetSelection(e)}),M.TgZ(2,"nui-date-picker",4),M.NdJ("valueChange",function(e){return M.CHM(n),M.oxw().dateChanged(e)}),M.qZA(),M.qZA(),M.qZA()}if(2&e){var i=M.oxw();M.xp6(1),M.Q6J("presets",i.presets)("selectedPreset",i.selectedPresetKey),M.xp6(1),M.Q6J("inline",!0)("value",i.selectedDate)("preserveInsignificant",!1)}}var ae=function(){var e=function(){function e(){D(this,e),this.selectedPresetKey="ihorsBirthday",this.showFooter=!0,this.closePopoverSubject=new $.xQ,this.presets=this.getDefaultPresets(),this.selectedDate=this.getDateFromPreset(this.selectedPresetKey)}return w(e,[{key:"handlePresetSelection",value:function(e){this.selectedDate=this.getDateFromPreset(e),this.selectedPresetKey=e,this.confirmPopover()}},{key:"dateChanged",value:function(e){this.selectedDate.isSame(e,"day")||(this.selectedDate=e,this.selectedPresetKey=this.getPresetFromDate(e),this.confirmPopover())}},{key:"confirmPopover",value:function(){this.closePopoverSubject.next()}},{key:"getDefaultPresets",value:function(){return{today:{name:"Today",pattern:function(){return j()()}},yesterday:{name:"Yesterday",pattern:function(){return j()().subtract(1,"days")}},ihorsBirthday:{name:"Ihor's Birthday",pattern:function(){return j()("1989-04-09")}},random:{name:"Random date (to show that we can)",pattern:function(){return j()(+new Date-Math.floor(1e11*Math.random()))}}}}},{key:"getDateFromPreset",value:function(e){var t=this.getDefaultPresets()[e];return t?t.pattern():j()()}},{key:"getPresetFromDate",value:function(e){var t=this,n=ee()(Object.keys(this.presets),function(n){return e.isSame(t.getDateFromPreset(n),"day")});if(ne()(n))throw new Error("DatePreset was not found");return n}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=M.Xpm({type:e,selectors:[["nui-time-frame-picker-date"]],decls:9,vars:6,consts:function(){return[["trigger","click",3,"template","hasPadding","closePopover","unlimited","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverDayPicker",""],["pickerTitle",$localize(r||(r=S([":\u241f3097578df437c16281ba2d26960e4ec68092bd55\u241f6223578779816929641:Custom Date"]))),"presetsTitle",$localize(a||(a=S([":\u241f0bcfbf63721dae8aa56ca8e134c4e572c95d54db\u241f4115009543277682440:Baselines"]))),3,"presets","selectedPreset","presetSelected"],[3,"inline","value","preserveInsignificant","valueChange"]]},template:function(e,t){if(1&e&&(M.TgZ(0,"nui-popover",0),M.TgZ(1,"span",1),M._uU(2,"Select day"),M.qZA(),M.qZA(),M.TgZ(3,"p"),M._uU(4," Selected date: "),M.TgZ(5,"em"),M._uU(6),M.qZA(),M.qZA(),M.YNc(7,re,3,5,"ng-template",null,2,M.W1O)),2&e){var n=M.MAs(8);M.Q6J("template",n)("hasPadding",!1)("closePopover",t.closePopoverSubject)("unlimited",!0)("modal",!0),M.xp6(6),M.Oqu(null==t.selectedDate?null:t.selectedDate.format("MMMM Do, YYYY"))}},directives:[O.U,J.m,ie.L],encapsulation:2}),e}();function ce(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"nui-dialog-footer"),M.TgZ(1,"button",6),M.NdJ("click",function(){return M.CHM(n),M.oxw(2).cancelPopover()}),M.SDv(2,7),M.qZA(),M.TgZ(3,"button",8),M.NdJ("click",function(){return M.CHM(n),M.oxw(2).confirmPopover()}),M.SDv(4,9),M.qZA(),M.qZA()}}function se(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"div"),M.TgZ(1,"nui-quick-picker",3),M.NdJ("presetSelected",function(e){return M.CHM(n),M.oxw().handlePresetSelection(e)}),M.TgZ(2,"nui-time-frame-picker",4),M.NdJ("changed",function(e){return M.CHM(n),M.oxw().updateTf(e)}),M.qZA(),M.qZA(),M.qZA(),M.YNc(3,ce,5,0,"nui-dialog-footer",5)}if(2&e){var i=M.oxw();M.xp6(1),M.Q6J("presets",i.presets)("selectedPreset",i.acceptedTimeframe.selectedPresetId),M.xp6(1),M.Q6J("startModel",i.acceptedTimeframe),M.xp6(1),M.Q6J("ngIf",i.showFooter)}}var oe=function(){var e=function(){function e(t){D(this,e),this.timeframeService=t,this.presets={last42Hours:{name:$localize(c||(c=S(["Last 42 hours"]))),startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize(s||(s=S(["Last 749 days"]))),startDatetimePattern:{days:-749},endDatetimePattern:{}}},this.selectedPresetKey="last42Hours",this.showFooter=!1,this.closePopoverSubject=new $.xQ,this.openPopoverSubject=new $.xQ,this.timeframeService.currentPresets=this.presets,this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}return w(e,[{key:"updateTf",value:function(e){var t=this;this.tf=e,t.timeframeService.areTimeFrameDatesValid(e)&&!t.timeframeService.isEqual(t.tf,t.acceptedTimeframe)&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}},{key:"confirmPopover",value:function(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}},{key:"cancelPopover",value:function(){this.showFooter=!1,this.closePopoverSubject.next()}},{key:"handlePresetSelection",value:function(e){this.selectedPresetKey=e,this.tf=this.timeframeService.getTimeframeByPresetId(e),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.Y36(I.hYR))},e.\u0275cmp=M.Xpm({type:e,selectors:[["nui-time-frame-picker-custom"]],features:[M._Bn([I.hYR])],decls:6,vars:7,consts:function(){return[["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",$localize(o||(o=S([":\u241f8946b0053f321c7db24853d1b213b1ea9794c789\u241f2079707468789363335:Custom Range"]))),3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],$localize(m||(m=S([":\u241fbf844a41a29961b6dacc48a20eaf97bef0cf5013\u241f7452095619502551190: Cancel "]))),["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],$localize(p||(p=S([":\u241f3c8adc665cde2a280fd027f86fca78239d8a890c\u241f3416889908563565605: Use "])))]},template:function(e,t){if(1&e&&(M.TgZ(0,"nui-popover",0),M.TgZ(1,"span",1),M._uU(2),M.ALo(3,"timeFrame"),M.qZA(),M.qZA(),M.YNc(4,se,4,4,"ng-template",null,2,M.W1O)),2&e){var n=M.MAs(5);M.Q6J("template",n)("hasPadding",!1)("closePopover",t.closePopoverSubject)("modal",!0),M.xp6(2),M.Oqu(M.lcZ(3,5,t.acceptedTimeframe))}},directives:[O.U,J.m,E.x,V.O5,H.g,L.r],pipes:[N.a],encapsulation:2}),e}(),me=["scoper"];function pe(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"nui-dialog-footer"),M.TgZ(1,"button",9),M.NdJ("click",function(){M.CHM(n);var e=M.oxw(2).index;return M.oxw().cancelPopover(e)}),M.SDv(2,10),M.qZA(),M.TgZ(3,"button",11),M.NdJ("click",function(){M.CHM(n);var e=M.oxw(2).index;return M.oxw().confirmPopover(e)}),M.SDv(4,12),M.qZA(),M.qZA()}}function le(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"div"),M.TgZ(1,"nui-quick-picker",6),M.NdJ("presetSelected",function(e){M.CHM(n);var t=M.oxw().index;return M.oxw().handlePresetSelection(e,t)}),M.TgZ(2,"nui-time-frame-picker",7),M.NdJ("changed",function(e){M.CHM(n);var t=M.oxw().index;return M.oxw().updateTf(e,t)}),M.qZA(),M.qZA(),M.qZA(),M.YNc(3,pe,5,0,"nui-dialog-footer",8)}if(2&e){var i=M.oxw().$implicit,r=M.oxw();M.xp6(1),M.Q6J("presets",i.presets)("selectedPreset",i.acceptedTimeframe.selectedPresetId),M.xp6(1),M.Q6J("startModel",i.acceptedTimeframe),M.xp6(1),M.Q6J("ngIf",r.showFooter)}}function ue(e,t){if(1&e&&(M.TgZ(0,"div",1),M.TgZ(1,"nui-time-frame-service-scoper",null,2),M.TgZ(3,"nui-popover",3),M.TgZ(4,"span",4),M._uU(5),M.ALo(6,"timeFrame"),M.qZA(),M.qZA(),M.YNc(7,le,4,4,"ng-template",null,5,M.W1O),M.qZA(),M.qZA()),2&e){var n=t.$implicit,i=M.MAs(8),r=M.oxw();M.xp6(3),M.Q6J("template",i)("hasPadding",!1)("closePopover",r.closePopoverSubject)("modal",!0),M.xp6(2),M.Oqu(M.lcZ(6,5,n.acceptedTimeframe))}}var de=["*"],fe=function(){var e=function(){function e(t){D(this,e),this.cdRef=t,this.pickers=[{id:"1",presets:{last42Hours:{name:$localize(l||(l=S(["Last 42 hours"]))),startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize(u||(u=S(["Last 749 days"]))),startDatetimePattern:{days:-749},endDatetimePattern:{}}},selectedPresetKey:"last749Days"},{id:"2",presets:{last42Hours:{name:$localize(d||(d=S(["Last 42 hours"]))),startDatetimePattern:{hours:-42},endDatetimePattern:{}}},selectedPresetKey:"last42Hours"},{id:"3",presets:{lastYear:{name:$localize(f||(f=S(["Last year"]))),startDatetimePattern:{year:-1},endDatetimePattern:{}},last10Years:{name:$localize(h||(h=S(["Last 10 years"]))),startDatetimePattern:{year:-10},endDatetimePattern:{}}},selectedPresetKey:"lastYear"}],this.presets={last42Hours:{name:$localize(k||(k=S(["Last 42 hours"]))),startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize(v||(v=S(["Last 749 days"]))),startDatetimePattern:{days:-749},endDatetimePattern:{}}},this.showFooter=!1,this.closePopoverSubject=new $.xQ,this.openPopoverSubject=new $.xQ}return w(e,[{key:"updateTf",value:function(e,t){var n,i=this.pickers[t];i.tf=e,(null===(n=i.timeframeService)||void 0===n?void 0:n.areTimeFrameDatesValid(e))&&!function(){var e;return null===(e=i.timeframeService)||void 0===e?void 0:e.isEqual(i.tf,i.acceptedTimeframe)}()&&(this.showFooter=!0),i.selectedPresetKey=i.tf.selectedPresetId}},{key:"ngAfterViewInit",value:function(){var e=this;this.tfScopers.forEach(function(t,n){var i=e.pickers[n],r=t.timeframeService;i.timeframeService=r,r.currentPresets=i.presets,i.acceptedTimeframe=r.getTimeframeByPresetId(i.selectedPresetKey),i.tf=i.acceptedTimeframe}),this.cdRef.detectChanges()}},{key:"confirmPopover",value:function(e){var t=this.pickers[e];this.showFooter=!1,this.closePopoverSubject.next(),t.acceptedTimeframe=t.tf}},{key:"cancelPopover",value:function(e){this.showFooter=!1,this.closePopoverSubject.next()}},{key:"handlePresetSelection",value:function(e,t){var n,i=this.pickers[t];i.selectedPresetKey=e,i.tf=null===(n=i.timeframeService)||void 0===n?void 0:n.getTimeframeByPresetId(e),i.acceptedTimeframe=i.tf,this.closePopoverSubject.next()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.Y36(M.sBO))},e.\u0275cmp=M.Xpm({type:e,selectors:[["nui-time-frame-picker-multiple-custom-pickers"]],viewQuery:function(e,t){var n;(1&e&&M.Gf(me,5),2&e)&&(M.iGM(n=M.CRH())&&(t.tfScopers=n))},decls:1,vars:1,consts:function(){return[["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],["scoper",""],["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",$localize(P||(P=S([":\u241f8946b0053f321c7db24853d1b213b1ea9794c789\u241f2079707468789363335:Custom Range"]))),3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],$localize(T||(T=S([":\u241f6a3777f913cf3f288664f0632b9f24794fdcc24e\u241f6991067716289442185: Cancel "]))),["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],$localize(g||(g=S([":\u241fed00b437e9ad627b97f49a51d7efc46c7f8001e5\u241f3260792159339867964: Use "])))]},template:function(e,t){1&e&&M.YNc(0,ue,9,7,"div",0),2&e&&M.Q6J("ngForOf",t.pickers)},directives:function(){return[V.sg,he,O.U,J.m,E.x,V.O5,H.g,L.r]},pipes:function(){return[N.a]},encapsulation:2}),e}(),he=function(){var e=w(function e(t){D(this,e),this.timeframeService=t});return e.\u0275fac=function(t){return new(t||e)(M.Y36(I.hYR))},e.\u0275cmp=M.Xpm({type:e,selectors:[["nui-time-frame-service-scoper"]],features:[M._Bn([I.hYR])],ngContentSelectors:de,decls:1,vars:0,template:function(e,t){1&e&&(M.F$t(),M.Hsn(0))},encapsulation:2}),e}();function ke(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"nui-dialog-footer"),M.TgZ(1,"button",6),M.NdJ("click",function(){return M.CHM(n),M.oxw(2).cancelPopover()}),M.SDv(2,7),M.qZA(),M.TgZ(3,"button",8),M.NdJ("click",function(){return M.CHM(n),M.oxw(2).confirmPopover()}),M.SDv(4,9),M.qZA(),M.qZA()}}function ve(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"div"),M.TgZ(1,"nui-quick-picker",3),M.NdJ("presetSelected",function(e){return M.CHM(n),M.oxw().handlePresetSelection(e)}),M.TgZ(2,"nui-time-frame-picker",4),M.NdJ("changed",function(e){return M.CHM(n),M.oxw().updateTf(e)}),M.qZA(),M.qZA(),M.qZA(),M.YNc(3,ke,5,0,"nui-dialog-footer",5)}if(2&e){var i=M.oxw();M.xp6(1),M.Q6J("presets",i.presets)("selectedPreset",i.acceptedTimeframe.selectedPresetId),M.xp6(1),M.Q6J("startModel",i.acceptedTimeframe)("maxDate",i.maxDate)("minDate",i.minDate),M.xp6(1),M.Q6J("ngIf",i.showFooter)}}function Pe(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"nui-dialog-footer"),M.TgZ(1,"button",13),M.NdJ("click",function(){return M.CHM(n),M.oxw(2).cancelPopover()}),M._uU(2," Cancel "),M.qZA(),M.TgZ(3,"button",14),M.NdJ("click",function(){return M.CHM(n),M.oxw(2).confirmPopover()}),M._uU(4," Use "),M.qZA(),M.qZA()}}function Te(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"div"),M.TgZ(1,"nui-quick-picker",10),M.NdJ("presetSelected",function(e){return M.CHM(n),M.oxw().handlePresetSelection(e)}),M.TgZ(2,"nui-time-frame-picker",11),M.NdJ("changed",function(e){return M.CHM(n),M.oxw().updateTf(e)}),M.qZA(),M.qZA(),M.qZA(),M.YNc(3,Pe,5,0,"nui-dialog-footer",12)}if(2&e){var i=M.oxw();M.xp6(1),M.Q6J("presets",i.presets)("selectedPreset",i.acceptedTimeframe.selectedPresetId),M.xp6(1),M.Q6J("startModel",i.acceptedTimeframe),M.xp6(1),M.Q6J("ngIf",i.showFooter)}}function ge(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"div"),M.TgZ(1,"nui-quick-picker",15),M.NdJ("presetSelected",function(e){return M.CHM(n),M.oxw().handlePresetSelectionDatePicker(e)}),M.TgZ(2,"nui-date-picker",16),M.NdJ("valueChange",function(e){return M.CHM(n),M.oxw().dateChanged(e)}),M.qZA(),M.qZA(),M.qZA()}if(2&e){var i=M.oxw();M.xp6(1),M.Q6J("presets",i.presetsDatePicker)("selectedPreset",i.selectedPresetKeyDatePicker),M.xp6(1),M.Q6J("inline",!0)("value",i.selectedDate)("preserveInsignificant",!1)}}function ye(e,t){if(1&e){var n=M.EpF();M.TgZ(0,"div"),M.TgZ(1,"nui-quick-picker",10),M.NdJ("presetSelected",function(e){return M.CHM(n),M.oxw().handlePresetSelection(e)}),M.TgZ(2,"nui-time-frame-picker",11),M.NdJ("changed",function(e){return M.CHM(n),M.oxw().updateTf(e)}),M.qZA(),M.TgZ(3,"nui-date-picker",16),M.NdJ("valueChange",function(e){return M.CHM(n),M.oxw().dateChanged(e)}),M.qZA(),M.qZA(),M.qZA()}if(2&e){var i=M.oxw();M.xp6(1),M.Q6J("presets",i.presets)("selectedPreset",i.acceptedTimeframe.selectedPresetId),M.xp6(1),M.Q6J("startModel",i.acceptedTimeframe),M.xp6(1),M.Q6J("inline",!0)("value",i.selectedDate)("preserveInsignificant",!1)}}var be=[{path:"",component:function(){var e=w(function e(){D(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=M.Xpm({type:e,selectors:[["nui-time-frame-picker-docs"]],decls:116,vars:2,consts:[["href","../interfaces/ITimeframe.html","target","_blank"],["filenamePrefix","time-frame-picker-inline","exampleTitle","Basic Usage"],["filenamePrefix","quick-picker-basic","exampleTitle","Quick Picker"],["filenamePrefix","time-frame-picker-basic","exampleTitle","Timeframe Picker in a Popover"],["type","info",3,"allowDismiss"],["filenamePrefix","time-frame-picker-date","exampleTitle","Date-Based Picker in Popover"],["filenamePrefix","time-frame-picker-custom","exampleTitle","Date-Based Picker in Popover"],["filenamePrefix","time-frame-picker-multiple-custom-pickers","exampleTitle","Multiple pickers with custom presets"]],template:function(e,t){1&e&&(M.TgZ(0,"h2"),M._uU(1,"Required Modules"),M.qZA(),M.TgZ(2,"ul"),M.TgZ(3,"li"),M.TgZ(4,"code"),M._uU(5,"NuiTimeFramePickerModule"),M.qZA(),M.qZA(),M.qZA(),M.TgZ(6,"h2"),M._uU(7,"Basic Usage"),M.qZA(),M.TgZ(8,"p"),M._uU(9," The "),M.TgZ(10,"code"),M._uU(11,"<nui-time-frame-picker>"),M.qZA(),M._uU(12," component allows the user to select a time range. Its model is an "),M.TgZ(13,"code"),M.TgZ(14,"a",0),M._uU(15,"ITimeframe"),M.qZA(),M.qZA(),M._uU(16," which can be set using the "),M.TgZ(17,"code"),M._uU(18,"startModel"),M.qZA(),M._uU(19," input. All changes can be detected using the "),M.TgZ(20,"code"),M._uU(21,"changed"),M.qZA(),M._uU(22," output. Additionally, max and min dates can be defined by setting the "),M.TgZ(23,"code"),M._uU(24,"maxDate"),M.qZA(),M._uU(25," and "),M.TgZ(26,"code"),M._uU(27,"minDate"),M.qZA(),M._uU(28," inputs with moment instances.\n"),M.qZA(),M.TgZ(29,"p"),M._uU(30," If the user selects a start time that's later than the currently selected end time, the selected end time will adjust accordingly to preserve the current timeframe duration.\n"),M.qZA(),M.TgZ(31,"p"),M._uU(32," If the user attempts to select an end time that's the same as or earlier than the currently selected start time, no changes occur on either the view or the model.\n"),M.qZA(),M.TgZ(33,"nui-example-wrapper",1),M._UZ(34,"nui-time-frame-picker-inline"),M.qZA(),M.TgZ(35,"h2"),M._uU(36,"Quick Picker Component"),M.qZA(),M.TgZ(37,"p"),M._uU(38," The "),M.TgZ(39,"code"),M._uU(40,"<nui-quick-picker>"),M.qZA(),M._uU(41," component is a helper component in the TimeFramePicker module.\n"),M.qZA(),M.TgZ(42,"p"),M._uU(43,' In most cases, the default title "Quick Picks" on the left pane should be sufficient; however, if needed, the title can be customized using the '),M.TgZ(44,"code"),M._uU(45,"presetsTitle"),M.qZA(),M._uU(46," input.\n"),M.qZA(),M.TgZ(47,"p"),M._uU(48," If a custom ordering of presets is needed, an array of keys can be passed to the "),M.TgZ(49,"code"),M._uU(50,"presetKeysOrder"),M.qZA(),M._uU(51," input.\n"),M.qZA(),M.TgZ(52,"nui-example-wrapper",2),M._UZ(53,"nui-quick-picker-basic"),M.qZA(),M.TgZ(54,"h2"),M._uU(55,"Timeframe Picker in a Popover"),M.qZA(),M.TgZ(56,"p"),M._uU(57," To implement the common use-case of a timeframe picker in a popover, combine the "),M.TgZ(58,"code"),M._uU(59,"<nui-time-frame-picker>"),M.qZA(),M._uU(60,", "),M.TgZ(61,"code"),M._uU(62,"nui-quick-picker"),M.qZA(),M._uU(63," and "),M.TgZ(64,"code"),M._uU(65,"nui-popover"),M.qZA(),M._uU(66," elements as shown below.\n"),M.qZA(),M.TgZ(67,"p"),M._uU(68," To achieve a modal effect, you can set the popover's "),M.TgZ(69,"code"),M._uU(70,"[modal]"),M.qZA(),M._uU(71," input to "),M.TgZ(72,"code"),M._uU(73,"true"),M.qZA(),M._uU(74,".\n"),M.qZA(),M.TgZ(75,"nui-example-wrapper",3),M._UZ(76,"nui-time-frame-picker-basic-example"),M.qZA(),M.TgZ(77,"h2"),M._uU(78,"Date-Based Picker in Popover"),M.qZA(),M.TgZ(79,"nui-message",4),M._uU(80," Please note that in order to adjust popover to the width of inner components you may need to pass "),M.TgZ(81,"code"),M._uU(82,'[unlimited]="true"'),M.qZA(),M._uU(83," to it.\n"),M.qZA(),M.TgZ(84,"p"),M._uU(85," You are free to use different types of components inside a Quick Picker. The following example shows how to put a DatePicker inside.\n"),M.qZA(),M.TgZ(86,"nui-example-wrapper",5),M._UZ(87,"nui-time-frame-picker-date"),M.qZA(),M.TgZ(88,"h2"),M._uU(89,"Custom presets with Timeframe Picker"),M.qZA(),M.TgZ(90,"p"),M._uU(91," Presets can be changed using "),M.TgZ(92,"code"),M._uU(93,"timeframeService.currentPresets"),M.qZA(),M._uU(94," field.\n"),M.qZA(),M.TgZ(95,"nui-message",4),M._uU(96," Please note that TimeFrameService is provided in scope of NuiTimeFramePickerModule once, and since one TimeFrameService instance can keep only one set of presets, in order to have different presets in 2 different components of an application, please provide different TimeFrameService instances in scope of those components (as in the example below, which includes "),M.TgZ(97,"code"),M._uU(98,"providers: [TimeframeService]"),M.qZA(),M._uU(99," in a component decorator).\n"),M.qZA(),M.TgZ(100,"nui-example-wrapper",6),M._UZ(101,"nui-time-frame-picker-custom"),M.qZA(),M.TgZ(102,"h2"),M._uU(103,"Multiple pickers with custom presets"),M.qZA(),M.TgZ(104,"p"),M._uU(105," If you want to have multiple instances of "),M.TgZ(106,"code"),M._uU(107,"TimeFrameService"),M.qZA(),M._uU(108," for your time frame pickers, you should provide one in the components providers.\n"),M.qZA(),M.TgZ(109,"p"),M._uU(110," The example below shows how to create a component that will be responsible for creating "),M.TgZ(111,"code"),M._uU(112,"TimeFrameService"),M.qZA(),M._uU(113," per component.\n"),M.qZA(),M.TgZ(114,"nui-example-wrapper",7),M._UZ(115,"nui-time-frame-picker-multiple-custom-pickers"),M.qZA()),2&e&&(M.xp6(79),M.Q6J("allowDismiss",!1),M.xp6(16),M.Q6J("allowDismiss",!1))},directives:[U.h,Q,B,X,W.q,ae,oe,fe],encapsulation:2}),e}(),data:{srlc:{stage:I.We9.ga},showThemeSwitcher:!0}},{path:"time-frame-picker-test",component:function(){var e=function(){function e(t){D(this,e),this.timeframeService=t,this.selectedPresetKey="lastHour",this.minDate=j()("04/07/2018","L"),this.maxDate=j()(),this.showFooter=!1,this.closePopoverSubject=new $.xQ,this.openPopoverSubject=new $.xQ,this.presets=t.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}return w(e,[{key:"updateTf",value:function(e){var t=this;this.tf=e,t.timeframeService.areTimeFrameDatesValid(e)&&!t.timeframeService.isEqual(t.tf,t.acceptedTimeframe)&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}},{key:"confirmPopover",value:function(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}},{key:"cancelPopover",value:function(){this.showFooter=!1,this.closePopoverSubject.next()}},{key:"handlePresetSelection",value:function(e){this.selectedPresetKey=e,this.tf=this.timeframeService.getTimeframeByPresetId(e),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.Y36(I.hYR))},e.\u0275cmp=M.Xpm({type:e,selectors:[["nui-time-frame-picker-test"]],decls:9,vars:10,consts:function(){return[["id","nui-demo-basic-time-frame-picker","trigger","click",3,"template","hasPadding","closePopover"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",$localize(y||(y=S([":\u241f8946b0053f321c7db24853d1b213b1ea9794c789\u241f2079707468789363335:Custom Range"]))),3,"presets","selectedPreset","presetSelected"],[3,"startModel","maxDate","minDate","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action","id","nui-demo-basic-time-frame-picker-cancel",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],$localize(b||(b=S([":\u241fbf844a41a29961b6dacc48a20eaf97bef0cf5013\u241f7452095619502551190: Cancel "]))),["nui-button","","type","button","displayStyle","primary","id","nui-demo-basic-time-frame-picker-use",1,"nui-time-frame-picker__use",3,"click"],$localize(x||(x=S([":\u241f3c8adc665cde2a280fd027f86fca78239d8a890c\u241f3416889908563565605: Use "])))]},template:function(e,t){if(1&e&&(M.TgZ(0,"nui-popover",0),M.TgZ(1,"span",1),M._uU(2),M.ALo(3,"timeFrame"),M.qZA(),M.qZA(),M.TgZ(4,"div"),M._uU(5),M.ALo(6,"timeFrame"),M.qZA(),M.YNc(7,ve,4,6,"ng-template",null,2,M.W1O)),2&e){var n=M.MAs(8);M.Q6J("template",n)("hasPadding",!1)("closePopover",t.closePopoverSubject),M.xp6(2),M.Oqu(M.lcZ(3,5,t.acceptedTimeframe)),M.xp6(3),M.Oqu(M.xi3(6,7,t.acceptedTimeframe,"LL LTS"))}},directives:[O.U,J.m,E.x,V.O5,H.g,L.r],pipes:[N.a],encapsulation:2}),e}(),data:{srlc:{hideIndicator:!0}}},{path:"time-frame-picker-visual-test",component:function(){var e=function(){function e(t){D(this,e),this.timeframeService=t,this.selectedPresetKey="lastHour",this.selectedPresetKeyDatePicker="dimasBirthday",this.showFooter=!1,this.closePopoverSubject=new $.xQ,this.openPopoverSubject=new $.xQ,this.presets=t.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey,"02/17/1986"),this.tf=this.acceptedTimeframe,this.presetsDatePicker=this.getDefaultPresets(),this.selectedDate=this.getDateFromPreset(this.selectedPresetKeyDatePicker)}return w(e,[{key:"updateTf",value:function(e){var t=this;this.tf=e,t.timeframeService.areTimeFrameDatesValid(e)&&!t.timeframeService.isEqual(t.tf,t.acceptedTimeframe)&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}},{key:"confirmPopover",value:function(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}},{key:"cancelPopover",value:function(){this.showFooter=!1,this.closePopoverSubject.next()}},{key:"handlePresetSelection",value:function(e){this.selectedPresetKeyDatePicker=e,this.tf=this.timeframeService.getTimeframeByPresetId(e,"02/17/1986"),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}},{key:"confirmPopoverDatePicker",value:function(){this.closePopoverSubject.next()}},{key:"handlePresetSelectionDatePicker",value:function(e){this.selectedDate=this.getDateFromPreset(e),this.selectedPresetKeyDatePicker=e,this.confirmPopoverDatePicker()}},{key:"dateChanged",value:function(e){this.selectedDate.isSame(e,"day")||(this.selectedDate=e,this.selectedPresetKeyDatePicker=this.getPresetFromDate(e),this.confirmPopoverDatePicker())}},{key:"getDefaultPresets",value:function(){return{today:{name:"Today",pattern:function(){return j()()}},yesterday:{name:"Yesterday",pattern:function(){return j()().subtract(1,"days")}},dimasBirthday:{name:"Dima's Birthday",pattern:function(){return j()("1986-02-17")}},random:{name:"Random date (to show that we can)",pattern:function(){return j()(+new Date-Math.floor(1e11*Math.random()))}}}}},{key:"getDateFromPreset",value:function(e){var t=this.getDefaultPresets()[e];return t?t.pattern():j()()}},{key:"getPresetFromDate",value:function(e){var t=this,n=ee()(Object.keys(this.presets),function(n){return e.isSame(t.getDateFromPreset(n),"day")});if(ne()(n))throw new Error("DatePreset was not found");return n}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.Y36(I.hYR))},e.\u0275cmp=M.Xpm({type:e,selectors:[["nui-time-frame-picker-visual-test"]],decls:32,vars:21,consts:[[1,"container"],[1,"row"],[1,"col"],["trigger","click","id","nui-demo-visual-default-popover",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["trigger","click","id","nui-demo-visual-datepicker-popover",3,"template","hasPadding","closePopover","unlimited","modal"],["popoverDayPicker",""],["trigger","click","id","nui-demo-visual-complex-popover",3,"template","hasPadding","closePopover","modal","unlimited"],["popoverTimeFramePickerUnlimited",""],["pickerTitle","Custom Range",3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],["pickerTitle","Custom Date","presetsTitle","Baselines",3,"presets","selectedPreset","presetSelected"],[3,"inline","value","preserveInsignificant","valueChange"]],template:function(e,t){if(1&e&&(M.TgZ(0,"div",0),M.TgZ(1,"div",1),M.TgZ(2,"div",2),M.TgZ(3,"h4"),M._uU(4,"TimeFrame Picker in Popover"),M.qZA(),M.TgZ(5,"nui-popover",3),M.TgZ(6,"span",4),M._uU(7),M.ALo(8,"timeFrame"),M.qZA(),M.qZA(),M.YNc(9,Te,4,4,"ng-template",null,5,M.W1O),M.qZA(),M.TgZ(11,"div",2),M.TgZ(12,"h4"),M._uU(13,"TimeFrame Picker with other components"),M.qZA(),M.TgZ(14,"nui-popover",6),M.TgZ(15,"span",4),M._uU(16,"Select day"),M.qZA(),M.qZA(),M.TgZ(17,"p"),M._uU(18," Selected date: "),M.TgZ(19,"em"),M._uU(20),M.qZA(),M.qZA(),M.YNc(21,ge,3,5,"ng-template",null,7,M.W1O),M.qZA(),M.TgZ(23,"div",2),M.TgZ(24,"h4"),M._uU(25,"TimeFrame Picker + Date picker with unlimited width in Popover"),M.qZA(),M.TgZ(26,"nui-popover",8),M.TgZ(27,"span",4),M._uU(28),M.ALo(29,"timeFrame"),M.qZA(),M.qZA(),M.YNc(30,ye,4,6,"ng-template",null,9,M.W1O),M.qZA(),M.qZA(),M.qZA()),2&e){var n=M.MAs(10),i=M.MAs(22),r=M.MAs(31);M.xp6(5),M.Q6J("template",n)("hasPadding",!1)("closePopover",t.closePopoverSubject)("modal",!0),M.xp6(2),M.Oqu(M.lcZ(8,17,t.acceptedTimeframe)),M.xp6(7),M.Q6J("template",i)("hasPadding",!1)("closePopover",t.closePopoverSubject)("unlimited",!0)("modal",!0),M.xp6(6),M.Oqu(null==t.selectedDate?null:t.selectedDate.format("MMMM Do, YYYY")),M.xp6(6),M.Q6J("template",r)("hasPadding",!1)("closePopover",t.closePopoverSubject)("modal",!0)("unlimited",!0),M.xp6(2),M.Oqu(M.lcZ(29,19,t.acceptedTimeframe))}},directives:[O.U,J.m,E.x,V.O5,H.g,L.r,ie.L],pipes:[N.a],encapsulation:2}),e}(),data:{srlc:{hideIndicator:!0}}},{path:"multiple-custom-pickers",component:fe,data:{srlc:{hideIndicator:!0}}}],xe=function(){var e=w(function e(){D(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=M.oAB({type:e}),e.\u0275inj=M.cJS({providers:[{provide:I.V3$,useFactory:function(){return q(91053)}}],imports:[[I.Az_,I.JhO,I.a51,I.gkT,A.u5,I.S6I,I.vvu,I.YMY,_.Bz.forChild(be),I.F__,I.NAo],_.Bz]}),e}()},26112:function(e,t,n){"use strict";n.r(t),t.default='export * from "./time-frame-picker-docs/time-frame-picker-docs.example.component";\nexport * from "./time-frame-picker-basic/time-frame-picker-basic.example.component";\nexport * from "./time-frame-picker-custom/time-frame-picker-custom.example.component";\nexport * from "./quick-picker-basic/quick-picker-basic.example.component";\nexport * from "./time-frame-picker-inline/time-frame-picker-inline.example.component";\nexport * from "./time-frame-picker-date/time-frame-picker-date.example.component";\nexport * from "./time-frame-picker-test/time-frame-picker-test.example.component";\nexport * from "./time-frame-picker-visual-test/time-frame-picker-visual-test.component";\nexport * from "./time-frame-picker-multiple-custom-pickers/time-frame-picker-multiple-custom-pickers.example.component";\n'},72771:function(e,t,n){"use strict";n.r(t),t.default='<nui-quick-picker [presets]="presets"\n                  [selectedPreset]="selectedPresetKey"\n                  (presetSelected)="handlePresetSelection($event)"\n                  pickerTitle="Custom percentiles"\n                  [presetKeysOrder]="presetKeysOrder"\n                  i18n-pickerTitle>\n    <nui-textbox-number [maxValue]="100"\n                        (valueChange)="handleCustomSelection($event)"\n                        [value]="getTextboxValue()">\n    </nui-textbox-number>\n</nui-quick-picker>\n\n<span class="nui-text-secondary">Selected Quick Pick is {{selectedPresetKey||"null"}}, Selected Value is {{selectedValue}}</span>\n'},28042:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { IQuickPickPresetDictionary } from "@nova-ui/bits";\n\n@Component({\n    selector: "nui-quick-picker-basic",\n    templateUrl: "./quick-picker-basic.example.component.html",\n})\n\nexport class QuickPickerBasicExampleComponent {\n    public presets: IQuickPickPresetDictionary = {\n        "99": {\n            name: "99-th percentile",\n        },\n        "95": {\n            name: "95-th percentile",\n        },\n        "80": {\n            name: "80-th percentile",\n        },\n    };\n    public presetKeysOrder = ["95", "99", "80"];\n    public selectedPresetKey?: string = "95";\n    public selectedValue: number = +(this.selectedPresetKey || "");\n    public handlePresetSelection(presetKey: string) {\n        this.selectedPresetKey = presetKey;\n        if (presetKey) {\n            this.selectedValue = +this.selectedPresetKey;\n        }\n    }\n    public handleCustomSelection(num: number) {\n        if (Object.keys(this.presets).indexOf(num.toString()) !== -1) {\n            this.selectedPresetKey = num.toString();\n        } else {\n            this.selectedPresetKey = undefined;\n        }\n        this.selectedValue = num;\n    }\n\n    public getTextboxValue() {\n        return +(this.selectedPresetKey || "") || this.selectedValue;\n    }\n}\n'},16411:function(e,t,n){"use strict";n.r(t),t.default='<nui-popover trigger=\'click\'\n             [template]="popoverTimeFramePicker"\n             [hasPadding]="false"\n             [closePopover]="closePopoverSubject"\n             [modal]="true">\n    <span class="nui-text-link" style="cursor: pointer;">{{ acceptedTimeframe | timeFrame }}</span>\n</nui-popover>\n\n<ng-template #popoverTimeFramePicker>\n    <div>\n        <nui-quick-picker [presets]="presets"\n                          [selectedPreset]="acceptedTimeframe.selectedPresetId"\n                          (presetSelected)="handlePresetSelection($event)"\n                          pickerTitle="Custom Range"\n                          i18n-pickerTitle>\n            <nui-time-frame-picker [startModel]="acceptedTimeframe"\n                                          (changed)="updateTf($event)">\n            </nui-time-frame-picker>\n        </nui-quick-picker>\n    </div>\n    <nui-dialog-footer *ngIf="showFooter">\n        <button nui-button\n                type="button"\n                displayStyle="action"\n                class="pr-3 nui-time-frame-picker__cancel"\n                (click)="cancelPopover()"\n                i18n>\n            Cancel\n        </button>\n        <button nui-button\n                type="button"\n                displayStyle="primary"\n                class="nui-time-frame-picker__use"\n                (click)="confirmPopover()"\n                i18n>\n            Use\n        </button>\n    </nui-dialog-footer>\n</ng-template>\n'},1996:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { ITimeframe, ITimeFramePresetDictionary, TimeframeService } from "@nova-ui/bits";\nimport { Subject } from "rxjs";\n\n@Component({\n    selector: "nui-time-frame-picker-basic-example",\n    templateUrl: "./time-frame-picker-basic.example.component.html",\n})\n\nexport class TimeFramePickerBasicExampleComponent {\n    public presets: ITimeFramePresetDictionary;\n    public selectedPresetKey?: string = "lastHour";\n    public acceptedTimeframe: ITimeframe;\n    public tf: ITimeframe;\n\n    public showFooter: boolean = false;\n\n    constructor(public timeframeService: TimeframeService) {\n        this.presets = timeframeService.getDefaultPresets();\n        this.acceptedTimeframe = this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey);\n        this.tf = this.acceptedTimeframe;\n    }\n\n    public closePopoverSubject = new Subject();\n    public openPopoverSubject = new Subject();\n\n    public updateTf(value: ITimeframe) {\n        this.tf = value;\n\n        const timeFrameDatesValid = () => this.timeframeService.areTimeFrameDatesValid(value);\n        const timeFrameDatesEqual = () => this.timeframeService.isEqual(this.tf, this.acceptedTimeframe);\n        if (timeFrameDatesValid() && !timeFrameDatesEqual()) { this.showFooter = true; }\n\n        this.selectedPresetKey = this.tf.selectedPresetId;\n    }\n\n    public confirmPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n        this.acceptedTimeframe = this.tf;\n    }\n    public cancelPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelection(presetKey: string) {\n        this.selectedPresetKey = presetKey;\n        this.tf = this.timeframeService.getTimeframeByPresetId(presetKey);\n        this.acceptedTimeframe = this.tf;\n        this.closePopoverSubject.next();\n    }\n}\n'},8275:function(e,t,n){"use strict";n.r(t),t.default='<nui-popover trigger=\'click\'\n             [template]="popoverTimeFramePicker"\n             [hasPadding]="false"\n             [closePopover]="closePopoverSubject"\n             [modal]="true">\n    <span class="nui-text-link" style="cursor: pointer;">{{ acceptedTimeframe | timeFrame }}</span>\n</nui-popover>\n\n<ng-template #popoverTimeFramePicker>\n    <div>\n        <nui-quick-picker [presets]="presets"\n                          [selectedPreset]="acceptedTimeframe.selectedPresetId"\n                          (presetSelected)="handlePresetSelection($event)"\n                          pickerTitle="Custom Range"\n                          i18n-pickerTitle>\n            <nui-time-frame-picker [startModel]="acceptedTimeframe"\n                                          (changed)="updateTf($event)">\n            </nui-time-frame-picker>\n        </nui-quick-picker>\n    </div>\n    <nui-dialog-footer *ngIf="showFooter">\n        <button nui-button\n                type="button"\n                displayStyle="action"\n                class="pr-3 nui-time-frame-picker__cancel"\n                (click)="cancelPopover()"\n                i18n>\n            Cancel\n        </button>\n        <button nui-button\n                type="button"\n                displayStyle="primary"\n                class="nui-time-frame-picker__use"\n                (click)="confirmPopover()"\n                i18n>\n            Use\n        </button>\n    </nui-dialog-footer>\n</ng-template>\n'},67313:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { ITimeframe, ITimeFramePresetDictionary, TimeframeService } from "@nova-ui/bits";\nimport { Subject } from "rxjs";\n\n@Component({\n    selector: "nui-time-frame-picker-custom",\n    templateUrl: "./time-frame-picker-custom.example.component.html",\n    providers: [TimeframeService],\n})\n\nexport class TimeFramePickerCustomExampleComponent {\n    public presets: ITimeFramePresetDictionary = {\n        "last42Hours": {\n            name: $localize `Last 42 hours`,\n            startDatetimePattern: {hours: -42},\n            endDatetimePattern: {},\n        },\n        "last749Days": {\n            name: $localize `Last 749 days`,\n            startDatetimePattern: {days: -749},\n            endDatetimePattern: {},\n        },\n    };\n    public selectedPresetKey?: string = "last42Hours";\n    public acceptedTimeframe: ITimeframe;\n    public tf: ITimeframe;\n\n    public showFooter: boolean = false;\n\n    constructor(public timeframeService: TimeframeService) {\n        this.timeframeService.currentPresets = this.presets;\n        this.acceptedTimeframe = this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey);\n        this.tf = this.acceptedTimeframe;\n    }\n\n    public closePopoverSubject = new Subject();\n    public openPopoverSubject = new Subject();\n\n    public updateTf(value: ITimeframe) {\n        this.tf = value;\n        const timeFrameDatesValid = () => this.timeframeService.areTimeFrameDatesValid(value);\n        const timeFrameDatesEqual = () => this.timeframeService.isEqual(this.tf, this.acceptedTimeframe);\n        if (timeFrameDatesValid() && !timeFrameDatesEqual()) { this.showFooter = true; }\n\n        this.selectedPresetKey = this.tf.selectedPresetId;\n    }\n\n    public confirmPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n        this.acceptedTimeframe = this.tf;\n    }\n    public cancelPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelection(presetKey: string) {\n        this.selectedPresetKey = presetKey;\n        this.tf = this.timeframeService.getTimeframeByPresetId(presetKey);\n        this.acceptedTimeframe = this.tf;\n        this.closePopoverSubject.next();\n    }\n}\n'},84922:function(e,t,n){"use strict";n.r(t),t.default='<nui-popover trigger=\'click\'\n             [template]="popoverDayPicker"\n             [hasPadding]="false"\n             [closePopover]="closePopoverSubject"\n             [unlimited]="true"\n             [modal]="true">\n    <span class="nui-text-link" style="cursor: pointer;">Select day</span>\n</nui-popover>\n\n<p>\n    Selected date:\n    <em>{{selectedDate?.format("MMMM Do, YYYY")}}</em>\n</p>\n\n<ng-template #popoverDayPicker>\n    <div>\n        <nui-quick-picker [presets]="presets"\n                          [selectedPreset]="selectedPresetKey"\n                          (presetSelected)="handlePresetSelection($event)"\n                          pickerTitle="Custom Date"\n                          i18n-pickerTitle\n                          presetsTitle="Baselines"\n                          i18n-presetsTitle>\n            <nui-date-picker [inline]="true"\n                             [value]="selectedDate"\n                             [preserveInsignificant]="false"\n                             (valueChange)="dateChanged($event)">\n            </nui-date-picker>\n        </nui-quick-picker>\n    </div>\n</ng-template>\n'},93218:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { IQuickPickPresetDictionary } from "@nova-ui/bits";\nimport _find from "lodash/find";\nimport _isUndefined from "lodash/isUndefined";\nimport moment, { Moment } from "moment/moment";\nimport { Subject } from "rxjs";\n\n@Component({\n    selector: "nui-time-frame-picker-date",\n    templateUrl: "./time-frame-picker-date.example.component.html",\n})\n\nexport class TimeFramePickerDateExampleComponent {\n    public presets: IQuickPickPresetDictionary;\n    public selectedPresetKey = "ihorsBirthday";\n    public selectedDate: Moment;\n\n    public showFooter: boolean = true;\n\n    constructor() {\n        this.presets = this.getDefaultPresets();\n        this.selectedDate = this.getDateFromPreset(this.selectedPresetKey);\n    }\n\n    public closePopoverSubject = new Subject();\n\n    public handlePresetSelection(presetKey: string) {\n        this.selectedDate = this.getDateFromPreset(presetKey);\n        this.selectedPresetKey = presetKey;\n        this.confirmPopover();\n    }\n\n    public dateChanged(value: Moment) {\n        if (!this.selectedDate.isSame(value, "day")) {\n            this.selectedDate = value;\n            this.selectedPresetKey = this.getPresetFromDate(value); // will return undefined if not found, exactly what\'s needed\n            this.confirmPopover();\n        }\n    }\n\n    public confirmPopover() {\n        this.closePopoverSubject.next();\n    }\n\n    // These private methods are specific and will be in any case abstracted to a service by end users:\n\n    private getDefaultPresets(): {[key: string]: any} {\n        return {\n            today: {name: "Today", pattern: () => moment()},\n            yesterday: { name: "Yesterday", pattern: () => moment().subtract(1, "days")},\n            ihorsBirthday: {name: "Ihor\'s Birthday", pattern: () => moment("1989-04-09")},\n            random: {\n                name: "Random date (to show that we can)",\n                pattern: () => moment(+(new Date()) - Math.floor(Math.random() * 100000000000)),\n            },\n        };\n    }\n\n    private getDateFromPreset(presetKey: string): Moment {\n        const preset = this.getDefaultPresets()[presetKey];\n        return preset ? preset.pattern() : moment();\n    }\n\n    private getPresetFromDate(date: Moment): string {\n        const preset: string | undefined = _find(Object.keys(this.presets), (key) => date.isSame(this.getDateFromPreset(key), "day"));\n        if (_isUndefined(preset)) {\n            throw new Error("DatePreset was not found");\n        }\n        return preset;\n    }\n}\n'},55491:function(e,t,n){"use strict";n.r(t),t.default='<h2>Required Modules</h2>\n<ul>\n    <li>\n        <code>NuiTimeFramePickerModule</code>\n    </li>\n</ul>\n\n<h2>Basic Usage</h2>\n\n<p>\n    The <code>&lt;nui-time-frame-picker&gt;</code> component allows the user to select a time range. Its model is\n    an <code><a href="../interfaces/ITimeframe.html" target="_blank">ITimeframe</a></code> which can be set using the\n    <code>startModel</code> input. All changes can be detected using the <code>changed</code> output. Additionally,\n    max and min dates can be defined by setting the <code>maxDate</code> and <code>minDate</code> inputs with moment\n    instances.\n</p>\n<p>\n    If the user selects a start time that\'s later than the currently selected end time, the selected end time will\n    adjust accordingly to preserve the current timeframe duration.\n</p>\n<p>\n    If the user attempts to select an end time that\'s the same as or earlier than the currently selected start time,\n    no changes occur on either the view or the model.\n</p>\n\n<nui-example-wrapper filenamePrefix="time-frame-picker-inline" exampleTitle="Basic Usage">\n    <nui-time-frame-picker-inline></nui-time-frame-picker-inline>\n</nui-example-wrapper>\n\n<h2>Quick Picker Component</h2>\n\n<p>\n    The <code>&lt;nui-quick-picker&gt;</code> component is a helper component in the TimeFramePicker module.\n</p>\n<p>\n    In most cases, the default title "Quick Picks" on the left pane should be sufficient; however, if needed, the\n\ttitle can be customized using the <code>presetsTitle</code> input.\n</p>\n<p>\n    If a custom ordering of presets is needed, an array of keys can be passed to the <code>presetKeysOrder</code> input.\n</p>\n<nui-example-wrapper filenamePrefix="quick-picker-basic" exampleTitle="Quick Picker">\n    <nui-quick-picker-basic></nui-quick-picker-basic>\n</nui-example-wrapper>\n\n<h2>Timeframe Picker in a Popover</h2>\n\n<p>\n    To implement the common use-case of a timeframe picker in a popover, combine the <code>&lt;nui-time-frame-picker&gt;</code>,\n\t<code>nui-quick-picker</code> and <code>nui-popover</code> elements as shown below.\n</p>\n<p>\n    To achieve a modal effect, you can set the popover\'s <code>[modal]</code> input to <code>true</code>.\n</p>\n<nui-example-wrapper filenamePrefix="time-frame-picker-basic" exampleTitle="Timeframe Picker in a Popover">\n    <nui-time-frame-picker-basic-example></nui-time-frame-picker-basic-example>\n</nui-example-wrapper>\n\n<h2>Date-Based Picker in Popover</h2>\n\n<nui-message type="info"  [allowDismiss]="false">\n    Please note that in order to adjust popover to the width of inner components you may need to pass <code>[unlimited]="true"</code> to it.\n</nui-message>\n<p>\n    You are free to use different types of components inside a Quick Picker. The following example shows how to put a DatePicker inside.\n</p>\n\n<nui-example-wrapper filenamePrefix="time-frame-picker-date" exampleTitle="Date-Based Picker in Popover">\n    <nui-time-frame-picker-date></nui-time-frame-picker-date>\n</nui-example-wrapper>\n\n<h2>Custom presets with Timeframe Picker</h2>\n\n<p>\n    Presets can be changed using <code>timeframeService.currentPresets</code> field.\n</p>\n<nui-message type="info" [allowDismiss]="false">\n    Please note that TimeFrameService is provided in scope of NuiTimeFramePickerModule once, and\n    since one TimeFrameService instance can keep only one set of presets, in order to have different presets in 2 different\n    components of an application, please provide different TimeFrameService instances in scope of those components\n    (as in the example below, which includes <code>providers: [TimeframeService]</code> in a component decorator).\n</nui-message>\n\n<nui-example-wrapper filenamePrefix="time-frame-picker-custom" exampleTitle="Date-Based Picker in Popover">\n    <nui-time-frame-picker-custom></nui-time-frame-picker-custom>\n</nui-example-wrapper>\n\n<h2>Multiple pickers with custom presets</h2>\n<p>\n    If you want to have multiple instances of <code>TimeFrameService</code> for your time frame pickers, you should provide one in the components providers.\n</p>\n<p>\n    The example below shows how to create a component that will be responsible for creating <code>TimeFrameService</code> per component.\n</p>\n<nui-example-wrapper filenamePrefix="time-frame-picker-multiple-custom-pickers" exampleTitle="Multiple pickers with custom presets">\n    <nui-time-frame-picker-multiple-custom-pickers></nui-time-frame-picker-multiple-custom-pickers>\n</nui-example-wrapper>\n'},48828:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\n\n@Component({\n    selector: "nui-time-frame-picker-docs",\n    templateUrl: "./time-frame-picker-docs.example.component.html",\n})\n\nexport class TimeFramePickerDocsExampleComponent {}\n\n'},4138:function(e,t,n){"use strict";n.r(t),t.default='<nui-time-frame-picker [startModel]="tf"\n                       (changed)="updateTf($event)"\n                       [maxDate]="maxDate"\n                       [minDate]="minDate">\n</nui-time-frame-picker>\n\n<span class="nui-text-secondary">Selected timeframe is {{ tf | timeFrame }}</span>\n'},54160:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { ITimeframe } from "@nova-ui/bits";\nimport moment from "moment/moment";\n\n@Component({\n    selector: "nui-time-frame-picker-inline",\n    templateUrl: "./time-frame-picker-inline.example.component.html",\n})\n\nexport class TimeFramePickerInlineExampleComponent {\n    public tf: ITimeframe = {\n        startDatetime: moment("04/09/2018", "L"),\n        endDatetime: moment("04/10/2018", "L"),\n        // @ts-ignore\n        selectedPresetId: null,\n    };\n\n    public minDate = moment("04/07/2018", "L"); // "L" is "MM/DD/YYY" in moment.js\n    public maxDate = moment();\n\n    public updateTf(value: any) {\n        this.tf = value;\n    }\n}\n'},18297:function(e,t,n){"use strict";n.r(t),t.default='\n<div class="d-flex" *ngFor="let picker of pickers; let index = index">\n    <nui-time-frame-service-scoper #scoper>\n        <nui-popover trigger=\'click\'\n            [template]="popoverTimeFramePicker"\n            [hasPadding]="false"\n            [closePopover]="closePopoverSubject"\n            [modal]="true"\n            ><span class="nui-text-link" style="cursor: pointer;">{{ picker.acceptedTimeframe | timeFrame }}</span>\n        </nui-popover>\n\n        <ng-template #popoverTimeFramePicker>\n            <div>\n                <nui-quick-picker [presets]="picker.presets"\n                    [selectedPreset]="picker.acceptedTimeframe.selectedPresetId"\n                    (presetSelected)="handlePresetSelection($event, index)"\n                    pickerTitle="Custom Range"\n                    i18n-pickerTitle>\n                    <nui-time-frame-picker [startModel]="picker.acceptedTimeframe"\n                        (changed)="updateTf($event, index)"\n                    ></nui-time-frame-picker>\n                </nui-quick-picker>\n            </div>\n            <nui-dialog-footer *ngIf="showFooter">\n                <button nui-button type="button" displayStyle="action" class="pr-3 nui-time-frame-picker__cancel"\n                        (click)="cancelPopover(index)" i18n>\n                    Cancel\n                </button>\n                <button nui-button type="button" displayStyle="primary" class="nui-time-frame-picker__use"\n                        (click)="confirmPopover(index)" i18n>\n                    Use\n                </button>\n            </nui-dialog-footer>\n        </ng-template>\n    </nui-time-frame-service-scoper>\n</div>\n'},7613:function(e,t,n){"use strict";n.r(t),t.default='import { AfterViewInit, ChangeDetectorRef, Component, QueryList, ViewChildren } from "@angular/core";\nimport { ITimeframe, ITimeFramePresetDictionary, TimeframeService } from "@nova-ui/bits";\nimport { Subject } from "rxjs";\n\ninterface IPicker {\n    id: string;\n    presets: ITimeFramePresetDictionary;\n    timeframeService?: TimeframeService;\n    tf?: ITimeframe;\n    acceptedTimeframe?: ITimeframe;\n    selectedPresetKey: string;\n}\n\n@Component({\n    selector: "nui-time-frame-picker-multiple-custom-pickers",\n    templateUrl: "./time-frame-picker-multiple-custom-pickers.example.component.html",\n})\nexport class TimeFramePickerMultipleCustomPickersExampleComponent implements AfterViewInit {\n    @ViewChildren("scoper")\n    private tfScopers: QueryList<TimeframeServiceScoperExampleComponent>;\n\n    public pickers: IPicker[] = [\n        {\n            id: "1",\n            presets: {\n                "last42Hours": {\n                    name: $localize `Last 42 hours`,\n                    startDatetimePattern: {hours: -42},\n                    endDatetimePattern: {},\n                },\n                "last749Days": {\n                    name: $localize `Last 749 days`,\n                    startDatetimePattern: {days: -749},\n                    endDatetimePattern: {},\n                },\n            },\n            selectedPresetKey: "last749Days",\n        },\n        {\n            id: "2",\n            presets: {\n                "last42Hours": {\n                    name: $localize `Last 42 hours`,\n                    startDatetimePattern: {hours: -42},\n                    endDatetimePattern: {},\n                },\n            },\n            selectedPresetKey: "last42Hours",\n        },\n        {\n            id: "3",\n            presets: {\n                "lastYear": {\n                    name: $localize `Last year`,\n                    startDatetimePattern: {year: -1},\n                    endDatetimePattern: {},\n                },\n                "last10Years": {\n                    name: $localize `Last 10 years`,\n                    startDatetimePattern: {year: -10},\n                    endDatetimePattern: {},\n                },\n            },\n            selectedPresetKey: "lastYear",\n        },\n    ];\n\n\n    public presets: ITimeFramePresetDictionary = {\n        "last42Hours": {\n            name: $localize `Last 42 hours`,\n            startDatetimePattern: {hours: -42},\n            endDatetimePattern: {},\n        },\n        "last749Days": {\n            name: $localize `Last 749 days`,\n            startDatetimePattern: {days: -749},\n            endDatetimePattern: {},\n        },\n    };\n\n    public showFooter: boolean = false;\n\n    public closePopoverSubject = new Subject();\n    public openPopoverSubject = new Subject();\n\n\n    constructor(private cdRef: ChangeDetectorRef) {\n    }\n\n    public updateTf(value: ITimeframe, index: number) {\n        const picker = this.pickers[index];\n        picker.tf = value;\n\n        const timeFrameDatesValid = () => picker.timeframeService?.areTimeFrameDatesValid(value);\n        const timeFrameDatesEqual = () => picker.timeframeService?.isEqual(\n            <ITimeframe>picker.tf,\n            <ITimeframe>picker.acceptedTimeframe\n        );\n        if (timeFrameDatesValid() && !timeFrameDatesEqual()) { this.showFooter = true; }\n\n        picker.selectedPresetKey = <string>picker.tf.selectedPresetId;\n    }\n\n    public ngAfterViewInit() {\n        this.tfScopers.forEach((scoper, i) => {\n            const picker = this.pickers[i];\n            const timeframeService = scoper.timeframeService;\n\n            picker.timeframeService = timeframeService;\n            timeframeService.currentPresets = picker.presets;\n            picker.acceptedTimeframe = timeframeService.getTimeframeByPresetId(picker.selectedPresetKey);\n            picker.tf = picker.acceptedTimeframe;\n        });\n        this.cdRef.detectChanges();\n    }\n\n    public confirmPopover(index: number) {\n        const picker = this.pickers[index];\n\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n        picker.acceptedTimeframe = picker.tf;\n    }\n    public cancelPopover(index: number) {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelection(presetKey: string, index: number) {\n        const picker = this.pickers[index];\n\n        picker.selectedPresetKey = presetKey;\n        picker.tf = picker.timeframeService?.getTimeframeByPresetId(presetKey);\n        picker.acceptedTimeframe = picker.tf;\n        this.closePopoverSubject.next();\n    }\n}\n\n@Component({\n    selector: "nui-time-frame-service-scoper",\n    providers: [TimeframeService],\n    template: `<ng-content></ng-content>`,\n})\nexport class TimeframeServiceScoperExampleComponent {\n    constructor(public timeframeService: TimeframeService) { }\n}\n'},92671:function(e,t,n){"use strict";n.r(t),t.default='<nui-popover id="nui-demo-basic-time-frame-picker"\n             trigger=\'click\'\n             [template]="popoverTimeFramePicker"\n             [hasPadding]="false"\n             [closePopover]="closePopoverSubject">\n    <span class="nui-text-link" style="cursor: pointer;">{{ acceptedTimeframe | timeFrame }}</span>\n</nui-popover>\n\n<div>{{ acceptedTimeframe | timeFrame:"LL LTS" }}</div>\n\n<ng-template #popoverTimeFramePicker>\n    <div>\n        <nui-quick-picker [presets]="presets"\n                          [selectedPreset]="acceptedTimeframe.selectedPresetId"\n                          (presetSelected)="handlePresetSelection($event)"\n                          pickerTitle="Custom Range"\n                          i18n-pickerTitle>\n            <nui-time-frame-picker [startModel]="acceptedTimeframe"\n                                   (changed)="updateTf($event)"\n                                   [maxDate]="maxDate"\n                                   [minDate]="minDate">\n            </nui-time-frame-picker>\n        </nui-quick-picker>\n    </div>\n    <nui-dialog-footer *ngIf="showFooter">\n        <button nui-button\n                type="button"\n                displayStyle="action"\n                class="pr-3 nui-time-frame-picker__cancel"\n                (click)="cancelPopover()"\n                id="nui-demo-basic-time-frame-picker-cancel"\n                i18n>\n            Cancel\n        </button>\n        <button nui-button\n                type="button"\n                displayStyle="primary"\n                class="nui-time-frame-picker__use"\n                (click)="confirmPopover()"\n                id="nui-demo-basic-time-frame-picker-use"\n                i18n>\n            Use\n        </button>\n    </nui-dialog-footer>\n</ng-template>\n'},49493:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport { ITimeframe, ITimeFramePresetDictionary, TimeframeService } from "@nova-ui/bits";\nimport moment from "moment/moment";\nimport { Subject } from "rxjs";\n\n@Component({\n    selector: "nui-time-frame-picker-test",\n    templateUrl: "./time-frame-picker-test.example.component.html",\n})\n\nexport class TimeFramePickerTestExampleComponent {\n    public presets: ITimeFramePresetDictionary;\n    public selectedPresetKey?: string = "lastHour";\n    public acceptedTimeframe: ITimeframe;\n    public tf: ITimeframe;\n\n    public minDate = moment("04/07/2018", "L"); // "L" is "MM/DD/YYY" in moment.js\n    public maxDate = moment();\n\n    public showFooter: boolean = false;\n\n    constructor(public timeframeService: TimeframeService) {\n        this.presets = timeframeService.getDefaultPresets();\n        this.acceptedTimeframe = this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey);\n        this.tf = this.acceptedTimeframe;\n    }\n\n    public closePopoverSubject = new Subject();\n    public openPopoverSubject = new Subject();\n\n    public updateTf(value: ITimeframe) {\n        this.tf = value;\n        const timeFrameDatesValid = () => this.timeframeService.areTimeFrameDatesValid(value);\n        const timeFrameDatesEqual = () => this.timeframeService.isEqual(this.tf, this.acceptedTimeframe);\n        if (timeFrameDatesValid() && !timeFrameDatesEqual()) { this.showFooter = true; }\n\n        this.selectedPresetKey = this.tf.selectedPresetId;\n    }\n\n    public confirmPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n        this.acceptedTimeframe = this.tf;\n    }\n    public cancelPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelection(presetKey: string) {\n        this.selectedPresetKey = presetKey;\n        this.tf = this.timeframeService.getTimeframeByPresetId(presetKey);\n        this.acceptedTimeframe = this.tf;\n        this.closePopoverSubject.next();\n    }\n}\n'},34495:function(e,t,n){"use strict";n.r(t),t.default='<div class="container">\n    <div class="row">\n        <div class="col">\n            <h4>TimeFrame Picker in Popover</h4>\n            <nui-popover trigger=\'click\'\n                         [template]="popoverTimeFramePicker"\n                         [hasPadding]="false"\n                         [closePopover]="closePopoverSubject"\n                         [modal]="true"\n                         id="nui-demo-visual-default-popover">\n                        <span class="nui-text-link" style="cursor: pointer;">{{ acceptedTimeframe | timeFrame }}</span>\n            </nui-popover>\n\n            <ng-template #popoverTimeFramePicker>\n                <div>\n                    <nui-quick-picker [presets]="presets"\n                                      [selectedPreset]="acceptedTimeframe.selectedPresetId"\n                                      (presetSelected)="handlePresetSelection($event)"\n                                      pickerTitle="Custom Range">\n                        <nui-time-frame-picker [startModel]="acceptedTimeframe"\n                                               (changed)="updateTf($event)">\n                        </nui-time-frame-picker>\n                    </nui-quick-picker>\n                </div>\n                <nui-dialog-footer *ngIf="showFooter">\n                    <button nui-button\n                            type="button"\n                            displayStyle="action"\n                            class="pr-3 nui-time-frame-picker__cancel"\n                            (click)="cancelPopover()">\n                        Cancel\n                    </button>\n                    <button nui-button\n                            type="button"\n                            displayStyle="primary"\n                            class="nui-time-frame-picker__use"\n                            (click)="confirmPopover()">\n                        Use\n                    </button>\n                </nui-dialog-footer>\n            </ng-template>\n        </div>\n        <div class="col">\n            <h4>TimeFrame Picker with other components</h4>\n            <nui-popover trigger=\'click\'\n                         [template]="popoverDayPicker"\n                         [hasPadding]="false"\n                         [closePopover]="closePopoverSubject"\n                         [unlimited]="true"\n                         [modal]="true"\n                         id="nui-demo-visual-datepicker-popover">\n                         <span class="nui-text-link" style="cursor: pointer;">Select day</span>\n            </nui-popover>\n\n            <p>\n            Selected date:\n            <em>{{selectedDate?.format("MMMM Do, YYYY")}}</em>\n            </p>\n\n            <ng-template #popoverDayPicker>\n            <div>\n                <nui-quick-picker [presets]="presetsDatePicker"\n                                  [selectedPreset]="selectedPresetKeyDatePicker"\n                                  (presetSelected)="handlePresetSelectionDatePicker($event)"\n                                  pickerTitle="Custom Date"\n                                  presetsTitle="Baselines">\n                    <nui-date-picker [inline]="true"\n                                     [value]="selectedDate"\n                                     [preserveInsignificant]="false"\n                                     (valueChange)="dateChanged($event)">\n                    </nui-date-picker>\n                </nui-quick-picker>\n            </div>\n            </ng-template>\n        </div>\n        <div class="col">\n            <h4>TimeFrame Picker + Date picker with unlimited width in Popover</h4>\n            <nui-popover trigger=\'click\'\n                            [template]="popoverTimeFramePickerUnlimited"\n                            [hasPadding]="false"\n                            [closePopover]="closePopoverSubject"\n                            [modal]="true"\n                            [unlimited]="true"\n                            id="nui-demo-visual-complex-popover">\n                        <span class="nui-text-link" style="cursor: pointer;">{{ acceptedTimeframe | timeFrame }}</span>\n            </nui-popover>\n\n            <ng-template #popoverTimeFramePickerUnlimited>\n                <div>\n                    <nui-quick-picker [presets]="presets"\n                                      [selectedPreset]="acceptedTimeframe.selectedPresetId"\n                                      (presetSelected)="handlePresetSelection($event)"\n                                      pickerTitle="Custom Range">\n                        <nui-time-frame-picker [startModel]="acceptedTimeframe"\n                                                    (changed)="updateTf($event)">\n                        </nui-time-frame-picker>\n                        <nui-date-picker [inline]="true"\n                                         [value]="selectedDate"\n                                         [preserveInsignificant]="false"\n                                         (valueChange)="dateChanged($event)">\n                        </nui-date-picker>\n                    </nui-quick-picker>\n                </div>\n            </ng-template>\n        </div>\n    </div>\n</div>\n'},33804:function(e,t,n){"use strict";n.r(t),t.default='import { Component } from "@angular/core";\nimport {\n    IQuickPickPresetDictionary, ITimeframe, ITimeFramePresetDictionary, TimeframeService,\n} from "@nova-ui/bits";\nimport _find from "lodash/find";\nimport _isUndefined from "lodash/isUndefined";\nimport moment, { Moment } from "moment/moment";\nimport { Subject } from "rxjs";\n\n@Component({\n    selector: "nui-time-frame-picker-visual-test",\n    templateUrl: "./time-frame-picker-visual-test.component.html",\n})\n\nexport class TimeFramePickerVisualTestComponent {\n    public presets: ITimeFramePresetDictionary;\n    public presetsDatePicker: IQuickPickPresetDictionary;\n    public selectedPresetKey?: string = "lastHour";\n    public selectedPresetKeyDatePicker = "dimasBirthday";\n    public acceptedTimeframe: ITimeframe;\n    public tf: ITimeframe;\n    public selectedDate: Moment;\n\n    public showFooter: boolean = false;\n\n    constructor(public timeframeService: TimeframeService) {\n        this.presets = timeframeService.getDefaultPresets();\n        this.acceptedTimeframe = this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey, "02/17/1986");\n        this.tf = this.acceptedTimeframe;\n        this.presetsDatePicker = this.getDefaultPresets();\n        this.selectedDate = this.getDateFromPreset(this.selectedPresetKeyDatePicker);\n    }\n\n    public closePopoverSubject = new Subject();\n    public openPopoverSubject = new Subject();\n\n    public updateTf(value: ITimeframe) {\n        this.tf = value;\n        const timeFrameDatesValid = () => this.timeframeService.areTimeFrameDatesValid(value);\n        const timeFrameDatesEqual = () => this.timeframeService.isEqual(this.tf, this.acceptedTimeframe);\n        if (timeFrameDatesValid() && !timeFrameDatesEqual()) { this.showFooter = true; }\n        this.selectedPresetKey = this.tf.selectedPresetId;\n    }\n\n    public confirmPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n        this.acceptedTimeframe = this.tf;\n    }\n    public cancelPopover() {\n        this.showFooter = false;\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelection(presetKey: string) {\n        this.selectedPresetKeyDatePicker = presetKey;\n        this.tf = this.timeframeService.getTimeframeByPresetId(presetKey, "02/17/1986");\n        this.acceptedTimeframe = this.tf;\n        this.closePopoverSubject.next();\n    }\n\n    public confirmPopoverDatePicker() {\n        this.closePopoverSubject.next();\n    }\n\n    public handlePresetSelectionDatePicker(presetKey: string) {\n        this.selectedDate = this.getDateFromPreset(presetKey);\n        this.selectedPresetKeyDatePicker = presetKey;\n        this.confirmPopoverDatePicker();\n    }\n\n    public dateChanged(value: Moment) {\n        if (!this.selectedDate.isSame(value, "day")) {\n            this.selectedDate = value;\n            this.selectedPresetKeyDatePicker = this.getPresetFromDate(value); // will return undefined if not found, exactly what\'s needed\n            this.confirmPopoverDatePicker();\n        }\n    }\n\n    private getDefaultPresets(): {[key: string]: any} {\n        return {\n            today: {name: "Today", pattern: () => moment()},\n            yesterday: { name: "Yesterday", pattern: () => moment().subtract(1, "days")},\n            dimasBirthday: {name: "Dima\'s Birthday", pattern: () => moment("1986-02-17")},\n            random: {\n                name: "Random date (to show that we can)",\n                pattern: () => moment(+(new Date()) - Math.floor(Math.random() * 100000000000)),\n            },\n        };\n    }\n\n    private getDateFromPreset(presetKey: string): Moment {\n        const preset = this.getDefaultPresets()[presetKey];\n        return preset ? preset.pattern() : moment();\n    }\n\n    private getPresetFromDate(date: Moment): string {\n        const preset: string | undefined = _find(Object.keys(this.presets), (key) => date.isSame(this.getDateFromPreset(key), "day"));\n        if (_isUndefined(preset)) {\n            throw new Error("DatePreset was not found");\n        }\n        return preset;\n    }\n}\n'},93906:function(e,t,n){"use strict";n.r(t),t.default='import { NgModule } from "@angular/core";\nimport { FormsModule } from "@angular/forms";\nimport { RouterModule } from "@angular/router";\nimport {\n    DEMO_PATH_TOKEN,\n    NuiButtonModule,\n    NuiDatePickerModule,\n    NuiDialogModule,\n    NuiDividerModule,\n    NuiDocsModule,\n    NuiMessageModule,\n    NuiPopoverModule,\n    NuiTextboxModule,\n    NuiTimeFramePickerModule,\n    SrlcStage,\n} from "@nova-ui/bits";\n\nimport {\n    QuickPickerBasicExampleComponent,\n    TimeFramePickerBasicExampleComponent,\n    TimeFramePickerCustomExampleComponent,\n    TimeFramePickerDateExampleComponent,\n    TimeFramePickerDocsExampleComponent,\n    TimeFramePickerInlineExampleComponent,\n    TimeFramePickerMultipleCustomPickersExampleComponent,\n    TimeFramePickerTestExampleComponent,\n    TimeFramePickerVisualTestComponent,\n    TimeframeServiceScoperExampleComponent,\n} from "./index";\n\nconst routes = [\n    {\n        path: "",\n        component: TimeFramePickerDocsExampleComponent,\n        data: {\n            "srlc": {\n                "stage": SrlcStage.ga,\n            },\n            showThemeSwitcher: true,\n        },\n    },\n    {\n        path: "time-frame-picker-test",\n        component: TimeFramePickerTestExampleComponent,\n        data: {\n            "srlc": {\n                "hideIndicator": true,\n            },\n        },\n    },\n    {\n        path: "time-frame-picker-visual-test",\n        component: TimeFramePickerVisualTestComponent,\n        data: {\n            "srlc": {\n                "hideIndicator": true,\n            },\n        },\n    },\n    {\n        path: "multiple-custom-pickers",\n        component: TimeFramePickerMultipleCustomPickersExampleComponent,\n        data: {\n            "srlc": {\n                "hideIndicator": true,\n            },\n        },\n    },\n];\n\n@NgModule({\n    imports: [\n        NuiButtonModule,\n        NuiTimeFramePickerModule,\n        NuiDividerModule,\n        NuiMessageModule,\n        FormsModule,\n        NuiPopoverModule,\n        NuiDocsModule,\n        NuiTextboxModule,\n        RouterModule.forChild(routes),\n        NuiDialogModule,\n        NuiDatePickerModule,\n    ],\n    declarations: [\n        QuickPickerBasicExampleComponent,\n        TimeFramePickerBasicExampleComponent,\n        TimeFramePickerCustomExampleComponent,\n        TimeFramePickerDateExampleComponent,\n        TimeFramePickerInlineExampleComponent,\n        TimeFramePickerTestExampleComponent,\n        TimeFramePickerDocsExampleComponent,\n        TimeFramePickerVisualTestComponent,\n        TimeFramePickerMultipleCustomPickersExampleComponent,\n        TimeframeServiceScoperExampleComponent,\n    ],\n    providers: [\n        {\n            provide: DEMO_PATH_TOKEN,\n            useFactory: () => (<any>require).context(`!!raw-loader!./`, true, /.*\\.(ts|html|less)$/),\n        },\n    ],\n    exports: [\n        RouterModule,\n    ],\n})\nexport class TimeFramePickerModule {\n}\n'}}])}();