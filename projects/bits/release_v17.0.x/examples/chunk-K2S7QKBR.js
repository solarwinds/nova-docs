import{a as te}from"./chunk-UINJOPJ7.js";import{a as ne}from"./chunk-OWPQZKOC.js";import{a as U}from"./chunk-PRPDBMMC.js";import{a as B,c as I,d as F,g as W,k as P,m as L,s as q,t as z}from"./chunk-I5QGFHJG.js";import{b as ie}from"./chunk-WYJSVGAE.js";import{a as r}from"./chunk-KNI7S7QC.js";import{a as K}from"./chunk-YILH52ZF.js";import{a as Z,c as ee}from"./chunk-TN2MTUUA.js";import{c as X}from"./chunk-Y7C4AM3Q.js";import{p as A}from"./chunk-EHNCPSLF.js";import{Gc as S,Ha as v,Ic as D,Kc as O,Pb as _,Qb as b,Sb as E,Wb as m,Xb as h,Yb as k,ac as N,ha as x,mc as c,nb as d,uc as R,vc as T,wa as w,wc as M,xa as a,ya as u,zb as C}from"./chunk-MC3BMXIX.js";import{f as V,g}from"./chunk-VBFW7A5V.js";var H=V((he,G)=>{var oe=X(),re=ee(),ae=Z(),Q=ie(),ue=oe.isFinite,le=Math.min;function se(o){var p=Math[o];return function(e,i){if(e=ae(e),i=i==null?0:le(re(i),292),i&&ue(e)){var t=(Q(e)+"e").split("e"),n=p(t[0]+"e"+(+t[1]+i));return t=(Q(n)+"e").split("e"),+(t[0]+"e"+(+t[1]-i))}return p(e)}}G.exports=se});var $=V((ce,Y)=>{var de=H(),be=de("round");Y.exports=be});var j=g(ne()),f=g(te()),J=g($());var y={singleCharNumeric:/^[+-.,]|[0-9]|[Ee]/,multiCharNumeric:/^([-+]?\d*\.?\d+)(?:[eE]([-+]?\d+))?$/};var pe=["numberInput"],xe=(o,p)=>({maxWidth:o,minWidth:p}),me=()=>({standalone:!0}),Oe=(()=>{class o{constructor(){this.value=null,this.disabled=!1,this.placeholder="",this.readonly=!1,this.step=1,this.stepPrecision=10,this.isInErrorState=!1,this.ariaLabel="Textbox number input",this.blurred=new v,this.valueChange=new v,this.isRepeatable=!0}static createRangeValidator(e,i){return n=>!n.value&&n.value!==0?null:!(0,f.default)(i)&&n.value>i||!(0,f.default)(e)&&n.value<e?{range:{given:n.value,max:i,min:e}}:null}ngOnChanges(e){(e.minValue||e.maxValue)&&(this.validatorFn=o.createRangeValidator(this.minValue,this.maxValue))}onBlurEventEmit(){this.onTouched(),this.blurred.emit(this.value)}addNumber(e){((0,f.default)(this.value)||isNaN(this.value))&&(this.value=0);let i=this.clampToRange(Number(this.value)+e);this.onValueChange((0,J.default)(i,this.stepPrecision))}onValueChange(e){this.value=e,setTimeout(()=>{this.onChange(this.value),this.valueChange.emit(this.value),this.onTouched()})}onChange(e){}onTouched(){}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}compareMin(){return this.value<=this.minValue}compareMax(){return this.value>=this.maxValue}validate(e){return this.formControl=e,(this.validatorFn?this.validatorFn(e):null)||this.nativeValidator()}hasError(){return(this.formControl?.touched||this.formControl?.dirty)&&!this.formControl?.valid}nativeValidator(){return this.input.nativeElement.validity.valid?null:{format:"Invalid input"}}clampToRange(e){return(0,j.default)(e)?e>this.maxValue?this.maxValue:e<this.minValue?this.minValue:e:e}preventNonNumericalPaste(e){let i=e.clipboardData?.getData("text/plain");if(!i)throw new Error("Unable to parse clipboardData");this.preventDefaultEventBehavior(e,i,y.multiCharNumeric)}preventNonNumericalInput(e){let i=e.key;this.isMetaKey(e)||this.preventDefaultEventBehavior(e,i,y.singleCharNumeric)}preventDefaultEventBehavior(e,i,t){i?.match(t)||e.preventDefault()}isMetaKey(e){return e.ctrlKey||e.metaKey||e.code===r.BACKSPACE||e.code===r.DELETE||e.code===r.TAB||e.code===r.ARROW_DOWN||e.code===r.ARROW_LEFT||e.code===r.ARROW_RIGHT||e.code===r.ARROW_UP}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=C({type:o,selectors:[["nui-textbox-number"]],viewQuery:function(i,t){if(i&1&&R(pe,7),i&2){let n;T(n=M())&&(t.input=n.first)}},hostAttrs:["role","spinbutton"],hostVars:4,hostBindings:function(i,t){i&2&&_("aria-label",t.ariaLabel)("aria-valuemin",t.minValue||null)("aria-valuemax",t.maxValue||null)("aria-valuenow",t.value||0)},inputs:{value:"value",customBoxWidth:"customBoxWidth",disabled:"disabled",name:"name",placeholder:"placeholder",readonly:"readonly",step:"step",stepPrecision:"stepPrecision",isInErrorState:"isInErrorState",ariaLabel:"ariaLabel",minValue:"minValue",maxValue:"maxValue"},outputs:{blurred:"blurred",valueChange:"valueChange"},standalone:!1,features:[S([{provide:B,useExisting:x(()=>o),multi:!0},{provide:F,useExisting:x(()=>o),multi:!0},{provide:U,useExisting:x(()=>o),multi:!0}]),w],decls:10,vars:21,consts:[["numberInput",""],[1,"nui-textbox","nui-textbox-number"],[1,"has-feedback",3,"ngStyle"],["step","any","type","number","aria-label","Textbox number input",1,"form-control","input-control","nui-textbox__input",3,"ngModelChange","blur","keydown","paste","disabled","ngModel","ngModelOptions","min","max","placeholder","readonly"],[1,"nui-textbox-number__buttons"],[1,"nui-textbox-number__updown","nui-textbox-number__up-button"],["nui-button","","type","button","displayStyle","action","icon","caret-up","aria-label","Up",3,"click","isRepeat","disabled"],[1,"nui-textbox-number__updown","nui-textbox-number__updown-divider"],[1,"nui-textbox-number__updown","nui-textbox-number__down-button"],["nui-button","","type","button","displayStyle","action","icon","caret-down","aria-label","Down",3,"click","isRepeat","disabled"]],template:function(i,t){if(i&1){let n=N();m(0,"div",1)(1,"div",2)(2,"input",3,0),c("ngModelChange",function(s){return a(n),u(t.onValueChange(s))})("blur",function(){return a(n),u(t.onBlurEventEmit())})("keydown",function(s){return a(n),u(t.preventNonNumericalInput(s))})("paste",function(s){return a(n),u(t.preventNonNumericalPaste(s))}),h()(),m(4,"span",4)(5,"span",5)(6,"button",6),c("click",function(){return a(n),u(t.addNumber(+t.step))}),h()(),k(7,"span",7),m(8,"span",8)(9,"button",9),c("click",function(){return a(n),u(t.addNumber(-t.step))}),h()()()()}i&2&&(E("nui-textbox--disabled",t.disabled)("has-error",t.hasError()||t.isInErrorState),d(),b("ngStyle",O(17,xe,t.customBoxWidth,t.customBoxWidth)),d(),b("disabled",t.disabled)("ngModel",t.value)("ngModelOptions",D(20,me))("min",t.minValue)("max",t.maxValue)("placeholder",t.placeholder)("readonly",t.readonly),_("name",t.name),d(4),b("isRepeat",t.isRepeatable)("disabled",t.readonly||t.disabled||t.compareMax()),d(3),b("isRepeat",t.isRepeatable)("disabled",t.readonly||t.disabled||t.compareMin()))},dependencies:[A,K,I,L,W,z,q,P],styles:[`.nui .nui-textbox--disabled .has-feedback .input-control,.nui .nui-textbox--disabled .has-feedback .input-control:hover{color:var(--nui-color-text-disabled,rgba(17, 17, 17, .3))}.nui .nui-textbox--bold .nui-textbox__input{line-height:18px;font-size:13px;font-weight:600;color:#111;color:var(--nui-color-text-default,#111)}.nui .nui-textbox__input{min-height:30px}.nui .nui-textbox .has-feedback{position:relative}.nui .nui-textbox .has-feedback .input-control{padding:5px 10px;overflow-y:hidden}.nui .nui-textbox .has-feedback .input-control.nui-textbox__input--multiline{padding-top:5px}.nui .nui-textbox .has-feedback .input-control:focus{outline:none;z-index:500;box-shadow:0 0 0 2px #00c4d280}.nui .nui .nui-textbox--centered .has-feedback .input-control{padding:0;text-align:center}.nui .nui-textbox .input-control{resize:vertical}.nui .nui-textbox .input-control[hidden]{display:none!important}.nui .nui-textbox.has-error .help-block,.nui .nui-textbox.has-error .control-label,.nui .nui-textbox.has-error .radio,.nui .nui-textbox.has-error .checkbox,.nui .nui-textbox.has-error .radio-inline,.nui .nui-textbox.has-error .checkbox-inline,.nui .nui-textbox.has-error.nui-radio label,.nui .nui-textbox.has-error.checkbox label,.nui .nui-textbox.has-error.radio-inline label,.nui .nui-textbox.has-error.checkbox-inline label{color:var(--nui-color-text-default,#111)}.nui .nui-textbox.has-error .nui-validation>div{padding:5px 0;color:var(--nui-color-text-default,#111)}.nui .nui-textbox.has-error .input-group-addon{color:var(--nui-color-text-default,#111);border-color:var(--nui-color-line-critical,#dd2c00);background-color:var(--nui-color-bg-content,#fff)}.nui .nui-textbox.has-error .form-control-feedback{color:var(--nui-color-text-default,#111)}.nui .nui-textbox .form-control-feedback{top:12px;margin:0 7px 0 0;position:absolute;right:0;z-index:2;display:block;width:30px;height:30px;line-height:30px;text-align:center;pointer-events:none}.nui .nui-textbox .form-control-feedback.nui-textbox__busy{top:0;margin:0 1px 0 0}.nui .nui-textbox .form-control-feedback svg{position:relative;bottom:3px}.nui .textarea-scrollable .has-feedback .input-control{overflow-y:auto}
`,`.nui .nui-textbox input[type=number]::-webkit-inner-spin-button{display:none}.nui .nui-textbox input[type=number]{-moz-appearance:textfield}.nui .nui-textbox--disabled .nui-textbox-number__buttons,.nui .nui-textbox--disabled .nui-textbox-number__updown-divider{border-color:var(--nui-color-disabled-light,#e9e9e9)}.nui .nui-textbox-number{display:flex}.nui .nui-textbox-number__buttons{display:inline-flex;height:30px;border:solid 1px;border-color:var(--nui-color-line-default,#d9d9d9);border-top-right-radius:3px;border-bottom-right-radius:3px;border-left:none}.nui .nui-textbox-number__updown{display:block;line-height:1;height:30px;top:1px;text-align:center}.nui .nui-textbox-number__updown button.nui-button{padding-left:5px;padding-top:7px;width:30px;height:28px;min-height:28px}.nui .nui-textbox-number__updown button.nui-button:focus{outline:none}.nui .nui-textbox-number__updown-divider{z-index:1;height:28px;top:1px;right:30px;width:0;border-right:solid 1px;border-right-color:var(--nui-color-line-default,#d9d9d9)}.nui .nui-textbox-number__up-button{right:1px}.nui .nui-textbox-number__down-button{right:30px}.nui .nui-textbox-number .has-feedback{flex:1}.nui .nui-textbox-number .input-control{border-top-right-radius:0;border-bottom-right-radius:0}.nui .nui-textbox-number input[type=number]~nui-icon>.form-control-feedback{margin:0 65px 0 0}.nui .nui-textbox-number input[type=number]~nui-icon>.form-control-feedback.nui-textbox__busy{top:0;margin:0 59px 0 0}
`],encapsulation:2})}}return o})();export{Oe as a};
