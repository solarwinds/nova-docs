import{a as g}from"./chunk-MNLBQFGT.js";import{a as C}from"./chunk-ILHVKHTP.js";import{a as f}from"./chunk-QIJS5XMC.js";import{c as d}from"./chunk-WLK22LTS.js";import{a as l}from"./chunk-EHNCPSLF.js";import{Bb as p,Ha as n,mc as a,tb as c}from"./chunk-MC3BMXIX.js";import{g as s}from"./chunk-VBFW7A5V.js";var u=s(C()),m=s(g()),h=s(f());var j=(()=>{class o{onClick(t){return(0,m.default)(this.hasCopySupport,!0)?(t.preventDefault(),this.copyText()):(this.clipboardError.emit(),this.logger.error("document copy operation is not supported"))}constructor(t,e){this.logger=t,this.document=e,this.clipboardSuccess=new n,this.clipboardError=new n,this.hasCopySupport=!1,this.createNode=r=>{let i=this.document.createElement("textarea");return i.style.position="absolute",i.style.left="-10000px",i.textContent=r,i}}ngOnInit(){try{this.hasCopySupport=this.document.queryCommandSupported("copy")}catch(t){this.logger.error(t.message)}}copyText(){if((0,u.default)(this.textToCopy)||!(0,h.default)(this.textToCopy))return this.logger.warn("notext","nuiClipboard text is empty or not a string");let t=this.createNode(this.textToCopy);try{let e=this.document.getSelection();this.document.body.appendChild(t),t.select(),this.document.execCommand("copy"),e?.removeAllRanges(),this.clipboardSuccess.emit()}catch(e){this.logger.error(e.message),this.clipboardError.emit()}finally{this.document.body.removeChild(t)}}static{this.\u0275fac=function(e){return new(e||o)(c(d),c(l))}}static{this.\u0275dir=p({type:o,selectors:[["","nuiClipboard",""]],hostBindings:function(e,r){e&1&&a("click",function(y){return r.onClick(y)})},inputs:{textToCopy:[0,"nuiClipboard","textToCopy"]},outputs:{clipboardSuccess:"clipboardSuccess",clipboardError:"clipboardError"},standalone:!1})}}return o})();export{j as a};
