import{a as N,b as R}from"./chunk-E6DCK6QO.js";import{ba as p}from"./chunk-QFUYJXD4.js";import{b as U,c as W,d as Y,e as Z,f as ee,g as te,h as ie,i as ne,j as ae}from"./chunk-ROHHJFB2.js";import{a as J}from"./chunk-CAUUXJ5Z.js";import{a as V}from"./chunk-BDWHD4BJ.js";import{z as B}from"./chunk-6RVLRIW3.js";import{a as K}from"./chunk-LEZNP5ZZ.js";import{b as re,c as oe}from"./chunk-K3XZREN6.js";import{c as q}from"./chunk-WRNEF66S.js";import{a as se}from"./chunk-EWA4R42U.js";import{a as z}from"./chunk-QLRYULCZ.js";import{a as H}from"./chunk-QRWA7LTP.js";import{v as $}from"./chunk-N5FUFMYY.js";import{$b as E,Aa as C,Gb as _,Hc as L,Ib as d,Ic as G,Ja as m,Jc as x,Ka as c,Mc as k,Ob as r,Pb as o,Qb as u,Rb as I,Sa as X,Sb as A,Ub as S,ec as f,fc as F,g as P,mc as O,nc as g,ob as s,oc as v,pb as T,pc as w,qc as D,rc as j,sc as b,tc as Q,yc as y}from"./chunk-7UJBXEVU.js";import{g as le}from"./chunk-XR34LRGE.js";var h=le(se());var me=["timeFramePicker"],ce=["tableSearch"];function pe(t,l){t&1&&(r(0,"th",14),E(1,1),o())}function _e(t,l){if(t&1&&(r(0,"td",15),D(1),o()),t&2){let e=l.$implicit;s(),b(" ",e.position," ")}}function de(t,l){t&1&&(r(0,"th",14),E(1,2),o())}function ue(t,l){if(t&1&&(r(0,"td",15),D(1),o()),t&2){let e=l.$implicit;s(),j(e.issue)}}function fe(t,l){t&1&&(r(0,"th",14),E(1,3),o())}function Te(t,l){if(t&1&&(r(0,"td",15),D(1),L(2,"date"),o()),t&2){let e=l.$implicit;s(),b(" ",x(2,1,e.date,"EEEE, MMMM dd, yyyy")," ")}}function Ee(t,l){t&1&&u(0,"tr",16)}function De(t,l){t&1&&u(0,"tr",17)}var Ce=["listSearch"];function Se(t,l){if(t&1&&(r(0,"div"),D(1),L(2,"date"),o()),t&2){let e=l.item;s(),Q(" ",e.issue," - ",x(2,2,e.date,"EEEE, MMMM dd, yyyy")," ")}}function Fe(t,l){if(t&1){let e=S();r(0,"div",5)(1,"nui-time-frame-picker",6),f("changed",function(n){m(e);let a=F();return c(a.updateTf(n))}),o()(),r(2,"nui-dialog-footer")(3,"button",7),f("click",function(){m(e);let n=F();return c(n.cancelPopover())}),E(4,1),o(),r(5,"button",8),f("click",function(){m(e);let n=F();return c(n.confirmPopover())}),E(6,2),o()()}if(t&2){let e=F();s(),d("startModel",e.tf)("maxDate",e.maxDate)("minDate",e.minDate)}}var et=(()=>{class t{constructor(e){this.filterService=e}ngAfterViewInit(){this.filterService.registerFilter({timeFramePicker:{componentInstance:this.timeFramePicker}}),this.filterService.applyFilters()}applyFilters(){this.filterService.applyFilters()}static{this.\u0275fac=function(i){return new(i||t)(T(p))}}static{this.\u0275cmp=C({type:t,selectors:[["nui-data-filter-isolated-example"]],viewQuery:function(i,n){if(i&1&&O(me,5),i&2){let a;g(a=v())&&(n.timeFramePicker=a.first)}},features:[y([p])],decls:9,vars:0,consts:[["timeFramePicker",""],[2,"border","1px solid black"],[3,"timeFrameChanged"],["size","extra-small"],[1,"d-flex"],[1,"col","m-3","pt-3",2,"border","1px solid red"],[1,"col","m-3","pt-3",2,"border","1px solid green"]],template:function(i,n){if(i&1){let a=S();r(0,"div",1)(1,"nui-filtering-isolated-time-frame-picker",2,0),f("timeFrameChanged",function(){return m(a),c(n.applyFilters())}),o(),u(3,"nui-divider",3),r(4,"div",4)(5,"div",5),u(6,"nui-data-filter-isolated-table-example"),o(),r(7,"div",6),u(8,"nui-data-filter-isolated-list-example"),o()()()}},dependencies:()=>[z,Me,he,Ie],encapsulation:2})}}return t})(),he=(()=>{class t{constructor(e,i){this.dataFilter=e,this.dataSourceService=i,this.tableData=[],this.displayedColumns=["position","issue","date"]}ngAfterViewInit(){this.dataFilter.registerFilter({search:{componentInstance:this.search}}),this.applyFilters(),this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.tableData=e.repeat?.itemsSource})}applyFilters(){this.dataFilter.applyFilters()}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(T(p),T(R))}}static{this.\u0275cmp=C({type:t,selectors:[["nui-data-filter-isolated-table-example"]],viewQuery:function(i,n){if(i&1&&O(ce,5),i&2){let a;g(a=v())&&(n.search=a.first)}},features:[y([p,R])],decls:15,vars:3,consts:()=>{let e;e=$localize`:␟8675a724bb3952337aef7625c81b11e39a82d31b␟4511235385998512563:No.`;let i;i=$localize`:␟36fad7995cadfb3a6f0d43ef2db280146b3ca022␟5833626790712999947:Issue`;let n;return n=$localize`:␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,[["tableSearch",""],e,i,n,[1,"mb-2"],["id","nui-data-filter-isolated-table-search",1,"d-flex","justify-content-end","flex-grow-1",3,"inputChange","cancel"],["nui-table","","id","nui-data-filter-isolated-table",3,"dataSource"],["nuiColumnDef","position"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","issue"],["nuiColumnDef","date"],["nui-header-row","",4,"nuiHeaderRowDef"],["nui-row","","density","compact",4,"nuiRowDef","nuiRowDefColumns"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row","","density","compact"]]},template:function(i,n){if(i&1){let a=S();r(0,"div",4)(1,"nui-search",5,0),f("inputChange",function(){return m(a),c(n.applyFilters())})("cancel",function(){return m(a),c(n.applyFilters())}),o()(),r(3,"table",6),I(4,7),_(5,pe,2,0,"th",8)(6,_e,2,1,"td",9),A(),I(7,10),_(8,de,2,0,"th",8)(9,ue,2,1,"td",9),A(),I(10,11),_(11,fe,2,0,"th",8)(12,Te,3,4,"td",9),A(),_(13,Ee,1,0,"tr",12)(14,De,1,0,"tr",13),o()}i&2&&(s(3),d("dataSource",n.tableData),s(10),d("nuiHeaderRowDef",n.displayedColumns),s(),d("nuiRowDefColumns",n.displayedColumns))},dependencies:[V,B,te,U,ie,ne,ae,Z,ee,Y,W,$],encapsulation:2})}}return t})(),Me=(()=>{class t{constructor(e,i){this.filterService=e,this.dataSourceService=i,this.state={repeat:{itemsSource:[]}}}ngAfterViewInit(){this.filterService.registerFilter({search:{componentInstance:this.search}}),this.filterService.applyFilters(),this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.state=e})}applyFilters(){this.filterService.applyFilters()}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(T(p),T(N))}}static{this.\u0275cmp=C({type:t,selectors:[["nui-data-filter-isolated-list-example"]],viewQuery:function(i,n){if(i&1&&O(Ce,5),i&2){let a;g(a=v())&&(n.search=a.first)}},features:[y([p,N])],decls:7,vars:2,consts:[["listSearch",""],["filteringRepeat",""],["repeatItemTemplate",""],[1,"mb-2"],["id","nui-data-filter-isolated-list-search",1,"d-flex","justify-content-end","flex-grow-1",3,"inputChange","cancel"],["id","nui-data-filter-list-isolated-repeat",3,"itemsSource","repeatItemTemplateRef"]],template:function(i,n){if(i&1){let a=S();r(0,"div",3)(1,"nui-search",4,0),f("inputChange",function(){return m(a),c(n.applyFilters())})("cancel",function(){return m(a),c(n.applyFilters())}),o()(),u(3,"nui-repeat",5,1),_(5,Se,3,5,"ng-template",null,2,k)}if(i&2){let a=w(6);s(3),d("itemsSource",n.state.repeat==null?null:n.state.repeat.itemsSource)("repeatItemTemplateRef",a)}},dependencies:[J,V,$],encapsulation:2})}}return t})(),Ie=(()=>{class t{constructor(){this.timeFrameChanged=new X,this.tf={startDatetime:(0,h.default)("01/01/2019","L"),endDatetime:(0,h.default)("02/12/2019","L")},this.minDate=(0,h.default)("12/01/2018","L"),this.maxDate=(0,h.default)(),this.showFooter=!1,this.closePopoverSubject=new P,this.openPopoverSubject=new P}ngOnInit(){this.acceptedTimeframe=this.tf}updateTf(e){this.tf=e}confirmPopover(){this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf,this.timeFrameChanged.emit(this.acceptedTimeframe)}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}getFilters(){return{type:"range",value:{start:this.acceptedTimeframe.startDatetime.toDate(),end:this.acceptedTimeframe.endDatetime.toDate()}}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["nui-filtering-isolated-time-frame-picker"]],outputs:{timeFrameChanged:"timeFrameChanged"},decls:6,vars:7,consts:()=>{let e;e=$localize`:␟6a3777f913cf3f288664f0632b9f24794fdcc24e␟6991067716289442185: Cancel `;let i;return i=$localize`:␟606e2983eb9d921195fc1c6d3785d096258ee2b7␟4164592547297134995: Apply `,[["popoverTimeFramePicker",""],e,i,["trigger","click","id","nui-data-filter-isolated-time-frame-picker-popover",3,"template","hasPadding","closePopover","modal"],["nui-button","","type","button","displayStyle","action"],[1,"m-3"],[3,"changed","startModel","maxDate","minDate"],["nui-button","","id","nui-data-filter-isolated-time-frame-picker-cancel-btn","type","button","displayStyle","action",3,"click"],["nui-button","","id","nui-data-filter-isolated-time-frame-picker-apply-btn","type","button","displayStyle","primary",3,"click"]]},template:function(i,n){if(i&1&&(r(0,"nui-popover",3)(1,"button",4),D(2),L(3,"timeFrame"),o()(),_(4,Fe,7,3,"ng-template",null,0,k)),i&2){let a=w(5);d("template",a)("hasPadding",!1)("closePopover",n.closePopoverSubject)("modal",!0),s(2),b(" ",G(3,5,n.tf)," ")}},dependencies:[H,q,K,re,oe],encapsulation:2})}}return t})();export{et as a,he as b,Me as c,Ie as d};
