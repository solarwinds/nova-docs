import{fa as g}from"./chunk-QFUYJXD4.js";import{a as A}from"./chunk-CAUUXJ5Z.js";import{a as F}from"./chunk-BDWHD4BJ.js";import{b as V}from"./chunk-CMTYQMWG.js";import{Aa as D,Gb as _,Ib as c,Ja as o,Ka as l,Mc as E,Ob as s,Pb as p,Q as C,Qb as v,Ub as b,_c as P,ec as f,g as y,mc as u,nc as m,ob as n,oc as d,pb as h,pc as w,qc as T,rc as I,yc as R}from"./chunk-7UJBXEVU.js";var j=["filteringPaginator"],k=["filteringSearch"],x=["filteringSorter"];function q(a,Q){if(a&1&&(s(0,"div"),T(1),p()),a&2){let i=Q.item;n(),I(i.color)}}var L=[{color:"regular-blue"},{color:"regular-green"},{color:"regular-yellow"},{color:"regular-cyan"},{color:"regular-magenta"},{color:"regular-black"},{color:"dark-blue"},{color:"dark-green"},{color:"dark-yellow"},{color:"dark-cyan"},{color:"dark-magenta"},{color:"light-blue"},{color:"light-green"},{color:"light-yellow"},{color:"light-cyan"},{color:"light-magenta"}],W=(()=>{class a{constructor(i,r){this.dataSourceService=i,this.changeDetection=r,this.searchTerm="",this.page=1,this.sorter={columns:["color","red","green","blue"],sortedColumn:"color",direction:"asc"},this.state={repeat:{itemsSource:[]},paginator:{total:void 0}},this.delayActionSubject=new y,i.setData(L),this.filters=["regular","dark","light"],this.selectedFilters=[]}ngAfterViewInit(){this.dataSourceService.componentTree={search:{componentInstance:this.filteringSearch},paginator:{componentInstance:this.filteringPaginator}},this.dataSourceService.applyFilters(),this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(i=>{this.state=i,i.paginator?.reset&&(this.filteringPaginator.page=1),this.changeDetection.detectChanges()}),this.delayActionSubject.pipe(C(500)).subscribe(()=>{this.dataSourceService.applyFilters()})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}onSearch(){this.delayActionSubject.next()}changePagination(){this.dataSourceService.applyFilters()}static{this.\u0275fac=function(r){return new(r||a)(h(g),h(P))}}static{this.\u0275cmp=D({type:a,selectors:[["nui-deprecated-client-side-delayed-data-source-example"]],viewQuery:function(r,e){if(r&1&&(u(j,5),u(k,5),u(x,5)),r&2){let t;m(t=d())&&(e.filteringPaginator=t.first),m(t=d())&&(e.filteringSearch=t.first),m(t=d())&&(e.filteringSorter=t.first)}},features:[R([g])],decls:11,vars:5,consts:[["repeatItemTemplate",""],["filteringSearch",""],["filteringRepeat",""],["filteringPaginator",""],[1,"client-side-delayed-example"],[1,"d-flex"],[1,"flex-row"],[3,"inputChange","cancel","value"],[3,"itemsSource","repeatItemTemplateRef"],["activeClass","active","disabledClass","disabled","showPrevNext","true",3,"pagerAction","page","total"]],template:function(r,e){if(r&1){let t=b();_(0,q,2,1,"ng-template",null,0,E),s(2,"div",4)(3,"div",5)(4,"div",6)(5,"nui-search",7,1),f("inputChange",function(){return o(t),l(e.onSearch())})("cancel",function(){return o(t),l(e.onSearch())}),p(),v(7,"nui-repeat",8,2),s(9,"nui-paginator",9,3),f("pagerAction",function(){return o(t),l(e.changePagination())}),p()()()()}if(r&2){let t=w(1);n(5),c("value",e.searchTerm),n(2),c("itemsSource",e.state.repeat==null?null:e.state.repeat.itemsSource)("repeatItemTemplateRef",t),n(2),c("page",e.page)("total",e.state.paginator==null?null:e.state.paginator.total)}},dependencies:[V,F,A],encapsulation:2})}}return a})();export{W as a};
