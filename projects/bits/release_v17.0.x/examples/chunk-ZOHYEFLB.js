import{a as J}from"./chunk-XQ7UZZ5N.js";import{b as G,c as W,d as F,e as H,f as z,g as k,h as Q,i as j,j as q}from"./chunk-ZO7WBSGK.js";import{l as f}from"./chunk-OIGCZEVG.js";import{A as h,k as U}from"./chunk-LF6XSF3V.js";import{a as X}from"./chunk-M6W54X33.js";import{u as R}from"./chunk-BEIUR5OZ.js";import{l as w}from"./chunk-EHNCPSLF.js";import{Ac as d,Eb as m,Qb as o,Rb as M,Wb as l,Xb as _,Yb as S,Yc as $,Zb as E,_b as c,ba as v,g as O,hc as L,nb as n,nc as g,tb as N,uc as u,vc as I,wc as C,yc as T,zb as B,zc as p}from"./chunk-MC3BMXIX.js";function K(e,i){e&1&&(l(0,"th",29),L(1,0),_())}function Y(e,i){if(e&1&&(l(0,"td",30),T(1),_()),e&2){let t=i.$implicit;n(),p(t.no)}}function Z(e,i){e&1&&(l(0,"th",29),L(1,1),_())}function ee(e,i){if(e&1&&(l(0,"td",30),T(1),_()),e&2){let t=i.$implicit;n(),d(" ",t.nameTitle," ")}}function te(e,i){e&1&&(l(0,"th",29),L(1,2),_())}function ie(e,i){if(e&1&&(l(0,"td",30),T(1),_()),e&2){let t=i.$implicit;n(),d(" ",t.nameFirst," ")}}function ne(e,i){e&1&&(l(0,"th",29),L(1,3),_())}function le(e,i){if(e&1&&(l(0,"td",30),T(1),_()),e&2){let t=i.$implicit;n(),d(" ",t.nameLast," ")}}function _e(e,i){e&1&&(l(0,"th",29),L(1,4),_())}function ae(e,i){if(e&1&&(l(0,"td",30),T(1),_()),e&2){let t=i.$implicit;n(),p(t.gender)}}function oe(e,i){e&1&&(l(0,"th",29),L(1,5),_())}function re(e,i){if(e&1&&(l(0,"td",30),T(1),_()),e&2){let t=i.$implicit;n(),d(" ",t.country," ")}}function me(e,i){e&1&&(l(0,"th",29),L(1,6),_())}function se(e,i){if(e&1&&(l(0,"td",30),T(1),_()),e&2){let t=i.$implicit;n(),p(t.city)}}function Ee(e,i){e&1&&(l(0,"th",29),L(1,7),_())}function ce(e,i){if(e&1&&(l(0,"td",30),T(1),_()),e&2){let t=i.$implicit;n(),d(" ",t.postcode," ")}}function Le(e,i){e&1&&(l(0,"th",29),L(1,8),_())}function Te(e,i){if(e&1&&(l(0,"td",30),T(1),_()),e&2){let t=i.$implicit;n(),p(t.email)}}function Ae(e,i){e&1&&(l(0,"th",29),L(1,9),_())}function de(e,i){if(e&1&&(l(0,"td",31),T(1),_()),e&2){let t=i.$implicit;n(),d(" ",t.cell," ")}}function pe(e,i){e&1&&S(0,"tr",32)}function Me(e,i){e&1&&S(0,"tr",33)}function Se(e,i){if(e&1&&(l(0,"div"),S(1,"nui-progress",37),_()),e&2){let t=g(2);n(),o("show",t.isBusy)}}function ue(e,i){if(e&1&&(l(0,"footer",34)(1,"div",35),m(2,Se,2,1,"div",36),_()()),e&2){let t=g();M("max-width",1285,"px"),n(2),o("ngIf",t.isBusy)}}var Xe=(()=>{class e{get totalItems(){return this._totalItems}get isBusy(){return this._isBusy}constructor(t,a){this.selectorService=t,this.cd=a,this._totalItems=0,this.totalPages=0,this.lastPageFetched=0,this.prefetchedDsPageNumber=1,this.range=40,this._isBusy=!1,this.virtualScrollFilterValue={start:0,end:this.range},this.onDestroy$=new O,this.users=[],this.dataSourceObs=new O,this.displayedColumns=["no","nameTitle","nameFirst","nameLast","gender","country","city","postcode","email","cell"],this.gridHeight=400,this.makeSticky=!0,this.dataSource=new J}ngOnInit(){this.dataSource.outputsSubject.subscribe(t=>{t&&(this.users=t.repeat.itemsSource,this._totalItems=t.totalItems,this.totalPages=Math.floor(this._totalItems/this.range),this.users.length<Math.round(this.viewport.getViewportSize()/this.virtualDirective.rowHeight)&&(this.prefetchedDsPageNumber++,this.dataSource.page=this.prefetchedDsPageNumber,this.dataSource.applyFilters()),this.cd.detectChanges())}),this.dataSource.busy.subscribe(t=>{this._isBusy=t})}ngAfterViewInit(){this.registerVirtualScroll(),this.virtualDirective.setMaxItems(this.range),this.viewport.renderedRangeStream.pipe(v(this.onDestroy$)).subscribe(t=>{if(this.users.length===this._totalItems)return;let a=Math.floor(t.end/this.range);if(a>this.lastPageFetched&&a<=this.totalPages){let r=a*this.range,s=r+this.range;this.virtualScrollFilterValue={start:r,end:s},this.lastPageFetched=a,this.dataSource.page=this.prefetchedDsPageNumber+a,this.dataSource.applyFilters()}}),this.dataSource.applyFilters()}ngOnDestroy(){this.dataSource.busy.unsubscribe(),this.dataSource.outputsSubject.unsubscribe(),this.onDestroy$.next(),this.onDestroy$.complete()}registerVirtualScroll(){this.dataSource.registerComponent({virtualScroll:{componentInstance:{getFilters:()=>({type:"virtualScroll",value:this.virtualScrollFilterValue})}}})}static{this.\u0275fac=function(a){return new(a||e)(N(U),N($))}}static{this.\u0275cmp=B({type:e,selectors:[["nui-table-virtual-scroll-real-api-minimalist-example"]],viewQuery:function(a,r){if(a&1&&(u(h,5),u(f,5),u(R,5)),a&2){let s;I(s=C())&&(r.table=s.first),I(s=C())&&(r.virtualDirective=s.first),I(s=C())&&(r.viewport=s.first)}},standalone:!1,decls:36,vars:25,consts:()=>{let t;t=$localize`:␟8675a724bb3952337aef7625c81b11e39a82d31b␟4511235385998512563:No.`;let a;a=$localize`:␟fdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e␟5701618810648052610:Title`;let r;r=$localize`:␟c83b838d845690bcb897f775f53b5316535306dc␟6028371114637047813:First Name`;let s;s=$localize`:␟166b2cc65003221ff5f3ec05d5baca41e6821396␟4407559560004943843:Last Name`;let P;P=$localize`:␟003d4f5e4909ccf01b6a204c688fd6dab15c20bd␟3948439187870398089:Gender`;let b;b=$localize`:␟a43f25a9ac40e8e2441ff0be7a36b8e5d15534df␟516176798986294299:Country`;let D;D=$localize`:␟5c7012b5a926b32d9e45fefdcc8a1a3cb6f023d0␟2314075913167237221:City`;let y;y=$localize`:␟47b3774a0cd5cde96c16a2c6f913b48ae9ce796c␟1940878621012578963:Postcode`;let V;V=$localize`:␟244aae9346da82b0922506c2d2581373a15641cc␟4768749765465246664:Email`;let x;return x=$localize`:␟6f1d7ee33c065fdbd6aaeb2bc3f396b62041eb25␟7535645862736277850:Cell`,[t,a,r,s,P,b,D,y,V,x,[2,"border-color","lightgrey"],["tableVirtualScroll","",3,"rowHeight","offset"],["nui-table","",3,"dataSource","resizable","reorderable"],["nuiColumnDef","no",3,"columnWidth"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","nameTitle",3,"columnWidth"],["nuiColumnDef","nameFirst",3,"columnWidth"],["nuiColumnDef","nameLast",3,"columnWidth"],["nuiColumnDef","gender",3,"columnWidth"],["nuiColumnDef","country",3,"columnWidth"],["nuiColumnDef","city",3,"columnWidth"],["nuiColumnDef","postcode",3,"columnWidth"],["nuiColumnDef","email",3,"columnWidth"],["nuiColumnDef","cell",3,"columnWidth"],["nui-cell","","style","overflow: visible",4,"nuiCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","","density","tiny",4,"nuiRowDef","nuiRowDefColumns"],["style","color: #767676; height: 20px","class","d-flex justify-content-center align-items-center",3,"max-width",4,"ngIf"],["nui-header-cell",""],["nui-cell",""],["nui-cell","",2,"overflow","visible"],["nui-header-row",""],["nui-row","","density","tiny"],[1,"d-flex","justify-content-center","align-items-center",2,"color","#767676","height","20px"],[1,"h-100","w-100"],[4,"ngIf"],["compactMode","true",3,"show"]]},template:function(a,r){a&1&&(l(0,"div",10)(1,"cdk-virtual-scroll-viewport",11)(2,"table",12),E(3,13),m(4,K,2,0,"th",14)(5,Y,2,1,"td",15),c(),E(6,16),m(7,Z,2,0,"th",14)(8,ee,2,1,"td",15),c(),E(9,17),m(10,te,2,0,"th",14)(11,ie,2,1,"td",15),c(),E(12,18),m(13,ne,2,0,"th",14)(14,le,2,1,"td",15),c(),E(15,19),m(16,_e,2,0,"th",14)(17,ae,2,1,"td",15),c(),E(18,20),m(19,oe,2,0,"th",14)(20,re,2,1,"td",15),c(),E(21,21),m(22,me,2,0,"th",14)(23,se,2,1,"td",15),c(),E(24,22),m(25,Ee,2,0,"th",14)(26,ce,2,1,"td",15),c(),E(27,23),m(28,Le,2,0,"th",14)(29,Te,2,1,"td",15),c(),E(30,24),m(31,Ae,2,0,"th",14)(32,de,2,1,"td",25),c(),m(33,pe,1,0,"tr",26)(34,Me,1,0,"tr",27),_()()(),m(35,ue,3,3,"footer",28)),a&2&&(M("height",r.gridHeight,"px")("max-width",1300,"px"),n(),M("height",r.gridHeight,"px"),o("rowHeight",24)("offset",40),n(),o("dataSource",r.users)("resizable",!1)("reorderable",!0),n(),o("columnWidth",50),n(3),o("columnWidth",100),n(3),o("columnWidth",100),n(3),o("columnWidth",100),n(3),o("columnWidth",100),n(3),o("columnWidth",150),n(3),o("columnWidth",100),n(3),o("columnWidth",100),n(3),o("columnWidth",200),n(3),o("columnWidth",150),n(3),o("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),n(),o("nuiRowDefColumns",r.displayedColumns),n(),o("ngIf",r.users.length!==r.totalItems))},dependencies:[h,k,G,Q,j,q,H,z,F,W,f,w,R,X],styles:[".nui-demo-scrolling-footer[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-transparent,transparent);height:24px;border:1px solid;border-color:var(--nui-color-line-default,#d9d9d9);max-width:1285px;line-height:14px;font-size:11px;font-weight:400;color:#1119;color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}"],changeDetection:0})}}return e})();export{Xe as a};
