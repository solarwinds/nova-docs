import{a as A,b as I,c as V,d as F,e as j,f as $}from"./chunk-KHXTZZZO.js";import{a as D}from"./chunk-WJ3JZRMK.js";import{a as O}from"./chunk-32QN6MNL.js";import{q as E,u as N}from"./chunk-CHJVZ6O7.js";import{a as P}from"./chunk-QRWA7LTP.js";import{d as T}from"./chunk-7KV4WPOL.js";import{l as v}from"./chunk-N5FUFMYY.js";import{Aa as b,Gb as g,Ib as d,Ja as _,Ka as h,Kb as y,Ob as l,Pb as c,Qb as f,Tb as M,Ub as x,ec as C,fc as s,ic as S,ob as r,qc as p,rc as m,sc as w}from"./chunk-7UJBXEVU.js";function B(o,a){if(o&1){let e=x();l(0,"cdk-nested-tree-node",6),f(1,"button",7),l(2,"nui-checkbox",8),C("valueChange",function(){let n=_(e).$implicit,i=s();return h(i.leafItemSelectionToggle(n))}),p(3),c()()}if(o&2){let e=a.$implicit,t=s();r(2),d("checked",t.selectionModel.isSelected(e)),r(),m(e.name)}}function R(o,a){if(o&1){let e=x();l(0,"cdk-nested-tree-node",9)(1,"div",10),f(2,"nui-icon",11),l(3,"nui-checkbox",12),C("click",function(n){return _(e),h(n.stopPropagation())})("valueChange",function(){let n=_(e).$implicit,i=s();return h(i.branchItemSelectionToggle(n))}),p(4),c(),l(5,"span",13),p(6),c()(),l(7,"div",14),M(8,15),c()()}if(o&2){let e=a.$implicit,t=s();r(2),S("icon",t.treeControl.isExpanded(e)?"triangle-down":"triangle-right"),r(),d("checked",t.descendantsAllSelected(e))("indeterminate",t.descendantsPartiallySelected(e)),r(),m(e.item),r(2),m(e.name),r(),y("nui-tree__body--collapsed",!t.treeControl.isExpanded(e)),d("@expandedState",t.treeControl.isExpanded(e)?"expanded":"collapsed")}}function z(o,a){if(o&1&&(l(0,"li",16),p(1),c()),o&2){let e=a.$implicit;r(),w(" ",e.name," ")}}var k=[{name:"Vegetables",children:[{name:"Green",children:[{name:"Broccoli"},{name:"Brussels sprouts"}]},{name:"Orange",children:[{name:"Pumpkins"},{name:"Carrots"}]},{name:"Red"}]},{name:"Fruit",children:[{name:"Apple"},{name:"Banana"},{name:"Fruit loops"}]},{name:"Meat"}],X=(()=>{class o{constructor(){this.treeControl=new A(e=>e.children),this.dataSource=new E(k),this.selectionModel=new N(!0),this.hasChild=(e,t)=>!!t.children?.length}descendantsAllSelected(e){let t=this.treeControl.getDescendants(e);return t.length>0&&t.every(n=>this.selectionModel.isSelected(n))}descendantsPartiallySelected(e){return this.treeControl.getDescendants(e).some(i=>this.selectionModel.isSelected(i))&&!this.descendantsAllSelected(e)}branchItemSelectionToggle(e){this.selectionModel.toggle(e);let t=this.treeControl.getDescendants(e);this.selectionModel.isSelected(e)?this.selectionModel.select(...t):this.selectionModel.deselect(...t),t.forEach(n=>this.selectionModel.isSelected(n)),this.checkAllParentsSelection(e)}leafItemSelectionToggle(e){this.selectionModel.toggle(e),this.checkAllParentsSelection(e)}checkAllParentsSelection(e){let t=this.getParentNode(e);for(;t;)this.checkRootNodeSelection(t),t=this.getParentNode(t)}checkRootNodeSelection(e){let t=this.selectionModel.isSelected(e),n=this.treeControl.getDescendants(e),i=n.length>0&&n.every(u=>this.selectionModel.isSelected(u));t&&!i?this.selectionModel.deselect(e):!t&&i&&this.selectionModel.select(e)}getParentNode(e){let t;if(k.find(i=>i===e))return;let n=i=>{if(!(t||!i.children)){if(i.children.find(u=>u===e)){t=i;return}return i.children.find(n)}};if(k.forEach(n),!t)throw new Error("Parent wasn't found");return t}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=b({type:o,selectors:[["nui-tree-checkbox-example"]],hostAttrs:["id","nui-tree-checkbox-example"],decls:6,vars:4,consts:[[1,"d-flex","justify-content-between"],[2,"flex","50%",3,"dataSource","treeControl"],["class","nui-tree__leaf",4,"cdkTreeNodeDef"],["class","nui-tree",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[1,"list-group","list-group-striped",2,"flex","50%"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"nui-tree__leaf"],["nui-button","","displayStyle","action","type","button","disabled",""],[1,"leaf-control",3,"valueChange","checked"],[1,"nui-tree"],["cdkTreeNodeToggle","",1,"nui-tree__header"],[1,"nui-tree__header-icon",3,"icon"],[1,"branch-control",3,"click","valueChange","checked","indeterminate"],[1,"nui-tree__header-title"],[1,"nui-tree__body"],["cdkTreeNodeOutlet",""],[1,"list-group-item"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"cdk-tree",1),g(2,B,4,2,"cdk-nested-tree-node",2)(3,R,9,8,"cdk-nested-tree-node",3),c(),l(4,"ul",4),g(5,z,2,1,"li",5),c()()),t&2&&(r(),d("dataSource",n.dataSource)("treeControl",n.treeControl),r(2),d("cdkTreeNodeDefWhen",n.hasChild),r(2),d("ngForOf",n.selectionModel.selected))},dependencies:[j,V,$,F,I,v,T,P,O],styles:[".nui-tree--expanded[_ngcontent-%COMP%]{padding-bottom:5px}.nui-tree__icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:flex;flex-shrink:0;height:30px;justify-content:center;width:30px;margin-left:-7px}.nui-tree__header[_ngcontent-%COMP%]{align-items:center;border-radius:3px;cursor:pointer;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.nui-tree__header[_ngcontent-%COMP%]:hover{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05))}.nui-tree__header-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;-ms-text-overflow:ellipsis;-o-text-overflow:ellipsis;text-overflow:ellipsis;line-height:18px;font-size:13px;font-weight:600;color:#111;color:var(--nui-color-text-default,#111)}.nui-tree__header-icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:flex;flex-shrink:0;height:30px;justify-content:center;width:30px}.nui-tree__header-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex-grow:2;justify-content:flex-start;padding-left:5px;min-width:0;padding-right:5px}.nui-tree__header-content-icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;flex-shrink:0;height:30px;justify-content:center;width:30px}.nui-tree__header-content--with-icon[_ngcontent-%COMP%]{padding-left:0}.nui-tree__header-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:2;min-width:0;width:100%}.nui-tree__header.nui-expander__header--empty.nui-expander__header[_ngcontent-%COMP%]{display:inline-flex}.nui-tree__header.nui-expander__header--empty[_ngcontent-%COMP%]   .nui-expander__header-content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.nui-tree__custom-header[_ngcontent-%COMP%]{width:100%}.nui-tree__custom-header--empty[_ngcontent-%COMP%]{display:flex;width:auto}.nui-tree__body[_ngcontent-%COMP%]{border:none;border-left:dotted 2px #d9d9d9;border-left:dotted 2px var(--nui-color-line-default, #d9d9d9);color:#111;color:var(--nui-color-text-default, #111);margin-left:14px;padding-left:14px}.nui-tree__body.hide-left-border[_ngcontent-%COMP%]{border-left:0}.nui-tree__body.ng-animating[_ngcontent-%COMP%], .nui-tree__body--collapsed[_ngcontent-%COMP%]{overflow:hidden}.nui-tree__leaf[_ngcontent-%COMP%]{display:flex;align-items:center}.nui-tree__invisible[_ngcontent-%COMP%]{display:none}"],data:{animation:[D]}})}}return o})();export{X as a};
