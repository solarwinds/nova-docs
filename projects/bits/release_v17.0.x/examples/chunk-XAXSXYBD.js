import{a as F}from"./chunk-XIOFJX24.js";import{a as u}from"./chunk-A5U7KQB6.js";import{o as D}from"./chunk-P53HI2D5.js";import{m as w}from"./chunk-N5FUFMYY.js";import{Aa as g,Gb as _,Hb as T,Ia as d,Ib as o,Kb as S,Ob as I,Pb as c,Qb as x,Ra as C,fc as N,gc as B,hc as r,lc as m,nc as b,oa as v,ob as s,oc as f,pb as l,yc as E}from"./chunk-7UJBXEVU.js";import{g as P}from"./chunk-XR34LRGE.js";var j=P(D());var Q="[tabindex], button, a, input:not([type=hidden])",p=(()=>{class e{constructor(){this.tabFocusableElements=[]}disableTabNavigation(n){this.tabFocusableElements=[],n.nativeElement.querySelectorAll(Q).forEach(t=>{let i=t.getAttribute("tabindex");this.tabFocusableElements.push({nativeElement:t,tabIndex:(0,j.default)(i)?void 0:i}),t.setAttribute("tabindex","-1")})}restoreTabNavigation(){this.tabFocusableElements.forEach(n=>{n?.tabIndex?.length?n.nativeElement.setAttribute("tabindex",n.tabIndex):n.nativeElement.removeAttribute("tabindex")})}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac})}}return e})();var k=["nui-busy",""],z=["*",[["nui-progress"]],[["nui-spinner"]]],q=["*","nui-progress","nui-spinner"];function V(e,y){e&1&&r(0,1,["*ngIf","isProgressTemplate"])}function M(e,y){e&1&&r(0,2,["*ngIf","isSpinnerTemplate"])}function O(e,y){if(e&1&&x(0,"nui-spinner",5),e&2){let n=N();o("show",n.busy)}}var L=(()=>{class e{constructor(n,t){this.tabNavigationService=n,this.elRef=t,this.isDefaultTemplate=!1,this.isSpinnerTemplate=!1,this.isProgressTemplate=!1,this.disableTabNavigation=!0}ngAfterContentInit(){this.setBusyStateForContentComponents(),this.isSpinnerTemplate=!!this.spinnerComponent,this.isProgressTemplate=!!this.progressComponent,this.spinnerComponent&&this.progressComponent&&(this.isSpinnerTemplate=!1,this.isProgressTemplate=!1,this.isDefaultTemplate=!0),!this.spinnerComponent&&!this.progressComponent&&(this.isDefaultTemplate=!0)}ngOnChanges(n){this.disableTabNavigation&&n.busy?.currentValue!==void 0&&(this.busy?this.tabNavigationService.disableTabNavigation(this.elRef):this.tabNavigationService.restoreTabNavigation()),this.setBusyStateForContentComponents()}setBusyStateForContentComponents(){this.spinnerComponent&&(this.spinnerComponent.showSpinner=this.busy),this.progressComponent&&(this.progressComponent.show=this.busy)}static{this.\u0275fac=function(t){return new(t||e)(l(p),l(C))}}static{this.\u0275cmp=g({type:e,selectors:[["","nui-busy",""]],contentQueries:function(t,i,h){if(t&1&&(m(h,u,5),m(h,F,5)),t&2){let a;b(a=f())&&(i.spinnerComponent=a.first),b(a=f())&&(i.progressComponent=a.first)}},hostVars:1,hostBindings:function(t,i){t&2&&T("aria-busy",i.busy)},inputs:{busy:"busy",disableTabNavigation:"disableTabNavigation"},features:[E([p]),d],attrs:k,ngContentSelectors:q,decls:7,vars:7,consts:[[1,"nui-nova-busy"],[1,"nui-nova-busy__overlay--align"],[1,"nui-nova-busy__container"],[4,"ngIf"],[3,"show",4,"ngIf"],[3,"show"]],template:function(t,i){t&1&&(B(z),I(0,"div",0)(1,"div",1)(2,"div",2),_(3,V,1,0,"ng-content",3)(4,M,1,0,"ng-content",3)(5,O,1,1,"nui-spinner",4),c()(),r(6),c()),t&2&&(s(),S("nui-nova-busy__overlay--hidden",!i.busy)("nui-nova-busy__overlay",i.busy),s(2),o("ngIf",i.isProgressTemplate),s(),o("ngIf",i.isSpinnerTemplate),s(),o("ngIf",i.isDefaultTemplate))},dependencies:[w,u],styles:[`.nui .nui-nova-busy{position:relative;height:100%;min-height:inherit}.nui .nui-nova-busy__overlay{position:absolute;inset:0;background-color:var(--nui-color-overlay-busy,rgba(255, 255, 255, .9));text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;z-index:1030}.nui .nui-nova-busy__overlay .nui-nova-busy__container{position:absolute;top:50%;transform:translateY(-50%);width:100%;opacity:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.nui .nui-nova-busy__overlay--align{text-align:center}.nui .nui-nova-busy__overlay--hidden{visibility:hidden}.nui .nui-nova-busy__container{transition:.5s ease-in all;position:absolute;top:40%;transform:translateY(-50%);width:100%;opacity:0}.nui .nui-modal .nui-nova-busy__overlay{z-index:1060}
`],encapsulation:2})}}return e})();export{L as a};
