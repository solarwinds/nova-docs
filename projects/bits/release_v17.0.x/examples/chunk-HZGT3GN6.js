import{a as T}from"./chunk-MQOCNCKS.js";import{a as f}from"./chunk-5RX3NO23.js";import{a as b}from"./chunk-YILH52ZF.js";import{k as D,l as w}from"./chunk-EHNCPSLF.js";import{Eb as g,Qb as s,Wb as r,Xb as o,Yb as y,Zb as h,_b as x,ac as v,mc as d,nb as l,nc as E,xa as u,ya as _,yc as p,zb as F,zc as C}from"./chunk-MC3BMXIX.js";function S(n,c){n&1&&(h(0),r(1,"nui-validation-message",5),p(2," Please upload GIF only!"),o(),x()),n&2&&(l(),s("show",!0))}function I(n,c){n&1&&(h(0),y(1,"nui-icon",6),r(2,"span",3),p(3," Drop only "),r(4,"b"),p(5,"GIF images"),o(),p(6," to upload, or "),r(7,"label",7),p(8,"browse"),o()(),x())}function O(n,c){if(n&1){let e=v();r(0,"div",8)(1,"div",9)(2,"span",10),p(3),o(),r(4,"nui-progress",11),d("cancel",function(){u(e);let t=E();return _(t.onCancel())}),o()(),r(5,"div",12)(6,"button",13),d("click",function(){let t=u(e).$implicit,a=E();return _(a.rmFile(t))}),o()()()}if(n&2){let e=c.$implicit;l(3),C(e.name),l(),s("show",!0)("stacked",!0)("percent",42)("showNumber",!0)}}var P=(()=>{class n{constructor(){this.gifError=!1,this.imageType="image/gif",this.fileDropState=f.default,this.files=[]}dropHandler(e){if(!e.dataTransfer)throw new Error("dataTransfer is not defined");this.files.push(...this.extractFilesFromDropEventData(e.dataTransfer).filter(i=>this.validateDataType(i.type))),this.invalidateFiles()}onFileRead(e){let i=e.target.files;if(!i)throw new Error("fileList is not defined");this.files.push(...Array.from(i))}dragEnterHandler(e){e.dataTransfer&&e.dataTransfer.items&&(this.gifError=!this.validateDataType(e.dataTransfer.items[0].type)),this.fileDropState=this.gifError?f.error:f.active}invalidateFiles(){this.fileDropState=f.default,this.gifError=!1}rmFile(e){this.files=this.files.filter(i=>i!==e)}validateDataType(e){return e.includes(this.imageType)}extractFilesFromDropEventData(e){let i=[];if(e.items){for(let t=0;t<e.items.length;t++)if(e.items[t].kind==="file"){let a=e.items[t].getAsFile();a&&i.push(a)}}else for(let t=0;t<e.files.length;t++)i.push(e.files[t]);return i}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=F({type:n,selectors:[["nui-dragdrop-files-example"]],standalone:!1,decls:7,vars:5,consts:[[3,"drop","enter","leave","state"],[4,"ngIf"],["type","file","id","uniqueOne","multiple","",1,"hidden",3,"change","accept"],[1,"nui-text-small-secondary"],["class","nui-demo-file-area d-flex",4,"ngFor","ngForOf"],[3,"show"],["icon","upload","iconColor","gray",1,"pr-2"],["for","uniqueOne",1,"nui-text-link-small","nui-demo-drop-area__browse"],[1,"nui-demo-file-area","d-flex"],[1,"py-2","px-3","flex-grow-1","flex-row"],[1,"nui-text-label"],[3,"cancel","show","stacked","percent","showNumber"],[1,"nui-demo-file-area__right","flex-grow-0"],["nui-button","","type","button","displayStyle","action","icon","close",3,"click"]],template:function(i,t){i&1&&(r(0,"nui-file-drop-example",0),d("drop",function(m){return t.dropHandler(m)})("enter",function(m){return t.dragEnterHandler(m)})("leave",function(){return t.invalidateFiles()}),g(1,S,3,1,"ng-container",1)(2,I,9,0,"ng-container",1),r(3,"input",2),d("change",function(m){return t.onFileRead(m)}),o()(),r(4,"span",3),p(5,"File types: GIF"),o(),g(6,O,7,5,"div",4)),i&2&&(s("state",t.fileDropState),l(),s("ngIf",t.gifError),l(),s("ngIf",!t.gifError),l(),s("accept",t.imageType),l(3),s("ngForOf",t.files))},dependencies:[b,D,w,T],styles:[".nui-demo-drop-area__browse[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:0}.nui-demo-file-area[_ngcontent-%COMP%]{width:100%;min-height:30px;border-color:var(--nui-border-fade,rgba(217, 217, 217, .7));border-width:1px;border-bottom-width:0;border-style:solid}.nui-demo-file-area[_ngcontent-%COMP%]:last-child{border-bottom-width:1px}"]})}}return n})();export{P as a};
