import{a as ae,b as oe}from"./chunk-44MRUDZE.js";import{a as se}from"./chunk-XZBZIPTN.js";import{a as te}from"./chunk-XAXSXYBD.js";import{a as ee}from"./chunk-A5U7KQB6.js";import{a as Y}from"./chunk-QRWA7LTP.js";import{c as J}from"./chunk-ZQRZBPBD.js";import{d as K}from"./chunk-7KV4WPOL.js";import{k as E,l as H,m as X,q,r as U}from"./chunk-N5FUFMYY.js";import{$b as W,Aa as v,Cc as b,Gb as u,Gc as Z,Ia as N,Ib as a,Ja as _,Jb as V,Ka as f,Kb as O,Mc as P,Ob as o,Pb as l,Qb as m,Sa as d,Tb as B,Ub as S,_c as G,ec as w,fc as c,gc as $,h as M,hc as L,lc as j,mc as A,nc as k,ob as s,oc as T,pb as z,qc as g,rc as y,sc as Q,yb as I}from"./chunk-7UJBXEVU.js";import{g as R}from"./chunk-XR34LRGE.js";var de=n=>({"nui-wizard__step--active":n});function ce(n,p){n&1&&B(0)}var D=(()=>{class n{constructor(){this.hidden=!1,this.enter=new d,this.valid=new d,this.exit=new d,this.next=new d,this.busyConfig={busy:!1},this.visited=!1,this.active=!1,this.complete=!1,this.icon="step",this.iconColor="",this.inputsList=[],this.enterStep=e=>{this.enter.emit(e)},this.exitStep=e=>{this.exit.emit(e)},this.nextStep=e=>{this.next.emit(e)},this.applyEnteringStep=()=>{this.active=!0,this.icon="step-active",this.iconColor="black"},this.applyExitingStep=()=>{this.active=!1,this.visited=!0,this.icon="step-complete",this.iconColor=""}}ngOnInit(){this.nextText=this.nextText||$localize`Next`}ngOnChanges(e){this.inputsList.length===0&&(this.inputsList=Object.keys(e)),e.stepControl&&this.valid.emit(this.stepControl)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=v({type:n,selectors:[["nui-wizard-step"]],inputs:{stepTemplate:"stepTemplate",stepControl:"stepControl",title:"title",shortTitle:"shortTitle",description:"description",nextText:"nextText",hidden:"hidden",disabled:"disabled"},outputs:{enter:"enter",valid:"valid",exit:"exit",next:"next"},features:[N],decls:6,vars:9,consts:[["nui-busy","",1,"nui-wizard__step","animated",3,"ngClass","busy"],[1,"nui-wizard__step-title"],[4,"ngTemplateOutlet"],[3,"percent","allowCancel","message"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div")(2,"h2",1),g(3),l(),u(4,ce,1,0,"ng-container",2),l(),m(5,"nui-spinner",3),l()),t&2&&(a("ngClass",b(7,de,i.active))("busy",i.busyConfig.busy),s(3),y(i.title),s(),a("ngTemplateOutlet",i.stepTemplate),s(),a("percent",i.busyConfig.percent)("allowCancel",i.busyConfig.allowCancel)("message",i.busyConfig.message))},dependencies:[E,U,te,ee],encapsulation:2})}}return n})();var F=R(oe()),ne=R(ae()),h=R(se());var ue=["container"],he=["stepTitle"],_e=["*",[["","nui-button",""]]],fe=["*","[nui-button]"],me=(n,p,e,t,i,r)=>({"nui-wizard__header-step--first":n,"nui-wizard__header-step--last":p,"nui-wizard__header-step--visited":e,"nui-wizard__header-step--disabled":t,"nui-wizard__header-step--active":i,"nui-wizard__header-step--complete":r}),ie=n=>({"min-width.px":n});function Se(n,p){if(n&1&&(o(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"span",21)(5,"span",22,1),g(7),l(),o(8,"div",23)(9,"div",24),m(10,"div",25),l(),m(11,"nui-icon",26),o(12,"div",27),m(13,"div",25),l()()()()()()()),n&2){let e=c().$implicit,t=c(2);s(7),Q(" ",e.shortTitle||e.title,""),s(3),a("ngStyle",b(5,ie,t.stepLineWidth)),s(),a("icon",e.icon)("iconColor",e.iconColor),s(2),a("ngStyle",b(7,ie,t.stepLineWidth))}}function we(n,p){if(n&1){let e=S();o(0,"li",15),w("click",function(){let i=_(e).$implicit,r=c(2);return f(r.selectStep(i))}),u(1,Se,14,9,"div",16),l()}if(n&2){let e=p.$implicit,t=p.first,i=p.last,r=c(2);a("ngClass",Z(2,me,t,i,e.visited,e.disabled||!e.visited||(r.currentStep==null?null:r.currentStep.busyConfig.busy),e.active,e.complete)),s(),a("ngIf",!e.hidden)}}function ge(n,p){if(n&1&&(o(0,"ul",13),u(1,we,2,9,"li",14),l()),n&2){let e=c();s(),a("ngForOf",e.steps)}}function ye(n,p){}function be(n,p){if(n&1){let e=S();o(0,"button",28),w("click",function(){_(e);let i=c();return f(i.onBackClick())}),o(1,"span"),W(2,3),l()()}if(n&2){let e=c();a("isBusy",e.currentStep==null||e.currentStep.busyConfig==null?null:e.currentStep.busyConfig.busy)("icon","caret-left")}}function xe(n,p){if(n&1){let e=S();o(0,"button",29),w("click",function(){_(e);let i=c();return f(i.onNextClick())}),o(1,"span"),g(2),l()()}if(n&2){let e=c();a("isBusy",e.currentStep==null||e.currentStep.busyConfig==null?null:e.currentStep.busyConfig.busy)("displayStyle","primary")("icon","caret-right")("iconRight",!0),s(2),y(e.currentStep==null?null:e.currentStep.nextText)}}function Ce(n,p){if(n&1){let e=S();o(0,"button",30),w("click",function(){_(e);let i=c();return f(i.onFinishClick())}),o(1,"span"),g(2),l()()}if(n&2){let e=c();a("displayStyle","primary"),s(2),y(e.finishText)}}var qe=(()=>{class n{static{this.placeholderFinishText="Action"}constructor(e,t,i){this.changeDetector=e,this.viewContainerRef=t,this.logger=i,this.canFinish=!1,this.enableScroll=!1,this.finishText=n.placeholderFinishText,this.stretchStepLines=!1,this.selectionChange=new d,this.cancel=new d,this.finish=new d,this.next=new d,this.back=new d,this.stepLineWidth=65,this.navigationControl=new M({busyState:{busy:!1},allowStepChange:!0}),this.previousStepIndex=0,this.dynamicSubscriptions=new Map,this.dynamicRefs=new Map}ngOnInit(){this.finishText===n.placeholderFinishText&&this.logger.warn(`WizardComponent input "finishText" is using placeholder text
"${n.placeholderFinishText}". A value should be specified.`)}ngAfterContentInit(){let e=this.steps.filter(t=>t.active);this.arraySteps=this.steps.toArray(),e.length===0&&(this.currentStep=this.steps.first,this.selectStep(this.currentStep),this.changeDetector.detectChanges()),this.steps.toArray().forEach(t=>{t.valid.subscribe(i=>{(0,h.default)(i)||this.handleStepControl(t)})}),this.navigationControl.subscribe(t=>{this.currentStep&&(this.currentStep.busyConfig=t.busyState),t.allowStepChange&&!(0,h.default)(this.futureStep)&&this.currentStep!==this.futureStep&&(this.enterAnotherStep(),this.futureStep=void 0)})}ngAfterViewChecked(){this.stretchStepLines&&(this.stepLineWidth=Math.round(this.getLargestLabelWidth()/2),this.changeDetector.detectChanges())}ngOnDestroy(){this.steps.toArray().forEach(e=>e.valid.unsubscribe()),this.navigationControl.unsubscribe()}addStepDynamic(e,t){let i=this.dynamicStep.createComponent(D),r=i.instance;this.getInputsAndOutputs(e).forEach(C=>{r[C]=e[C]}),this.handleStepControl(i.instance);let re=r.valid?.subscribe(C=>{(0,h.default)(C)||(r.stepControl=e.stepControl,this.handleStepControl(i.instance))});return this.dynamicRefs.set(r,i),this.dynamicSubscriptions.set(r,re),this.arraySteps.splice(t,0,i.instance),this.steps.reset([]),this.steps.reset(this.arraySteps),i.instance}removeStep(e){let t=this.steps.toArray();if(e<1||e>t.length-1)return;let i=t[e];this.currentStep===i&&this.onBackClick(),this.onRemoveDynamic(i),this.arraySteps.splice(e,1),this.steps.reset([]),this.steps.reset(this.arraySteps),this.stepIndex=this.steps.toArray().findIndex(r=>r===this.currentStep)}disableStep(e){let t=this.arraySteps.indexOf(e),i=this.arraySteps[t];i.disabled=!0,this.changeDetector.detectChanges()}enableStep(e){let t=this.arraySteps.indexOf(e),i=this.arraySteps[t];i.disabled=!1,this.changeDetector.detectChanges()}hideStep(e){let t=this.arraySteps.indexOf(e),i=this.arraySteps[t];i.hidden=!0}showStep(e){let t=this.arraySteps.indexOf(e),i=this.arraySteps[t];i.hidden=!1}resetStep(e){let t=this.arraySteps.findIndex(r=>r===e),i=this.arraySteps.length;for(t;t<i;t++){let r=this.arraySteps[t];r.visited=!1,r.complete=!1,r.icon="step"}this.currentStep&&(this.currentStep.complete=!1)}goToStep(e){this.selectStep(this.arraySteps[e])}selectStep(e){e.disabled||(this.futureStep=e,this.currentStep?.exitStep({selectedIndex:this.arraySteps.indexOf(this.futureStep),selectedStep:this.futureStep,previouslySelectedStep:this.arraySteps[this.stepIndex],previouslySelectedIndex:this.stepIndex}),this.navigationControl.value.allowStepChange&&this.enterAnotherStep())}onBackClick(){if(!(0,h.default)(this.stepIndex)){let e=this.arraySteps[this.stepIndex-1];(e.hidden||e.disabled)&&(e=(0,F.default)(this.arraySteps.slice(0).reverse(),t=>!t.hidden,(0,ne.default)(this.arraySteps.slice(0).reverse(),this.arraySteps[this.stepIndex])+1)),this.selectStep(e),this.back.emit()}}onNextClick(){let e=this.arraySteps[this.stepIndex+1];this.handleStepControl(this.currentStep),this.currentStep?.nextStep({selectedIndex:this.stepIndex,selectedStep:this.currentStep,previouslySelectedStep:this.currentStep,previouslySelectedIndex:this.stepIndex}),(e.hidden||e.disabled&&!(0,h.default)(e.stepControl))&&(e=(0,F.default)(this.arraySteps,t=>!t.hidden,this.stepIndex+1)),this.currentStep&&(((0,h.default)(this.currentStep?.stepControl)||this.currentStep?.stepControl)&&(this.currentStep.complete=!0),e.disabled&&!e.visited&&(this.currentStep.complete=!1)),this.selectStep(e),this.next.emit()}onFinishClick(){this.finish.emit()}onCancelClick(){this.cancel.emit(this.steps.toArray().filter(e=>e.complete).length!==0)}enterAnotherStep(){this.currentStep?.applyExitingStep(),this.futureStep?.enterStep(),this.currentStep=this.futureStep,this.currentStep?.applyEnteringStep(),this.stepIndex=this.arraySteps.indexOf(this.currentStep),this.selectionEvent={selectedIndex:this.stepIndex,selectedStep:this.currentStep,previouslySelectedStep:this.arraySteps[this.previousStepIndex],previouslySelectedIndex:this.previousStepIndex},this.selectionChange.emit(this.selectionEvent),this.previousStepIndex=this.stepIndex}disableFollowingSteps(){this.arraySteps.slice(this.stepIndex+1).map(e=>{e.disabled=!0})}enableFollowingSteps(){this.arraySteps.slice(this.stepIndex+1).map(e=>{e.disabled=!1})}getInputsAndOutputs(e){let t=e.inputsList,i=Object.keys(e).filter(r=>e[r]instanceof d);return[...t,...i]}handleStepControl(e){(0,h.default)(e?.stepControl)||(e?.stepControl?this.enableFollowingSteps():this.disableFollowingSteps())}getLargestLabelWidth(){let e=this.stepTitles.map(t=>t.nativeElement.offsetWidth);return Math.round(Math.max(...e))}onRemoveDynamic(e){let t=this.dynamicSubscriptions.get(e),i=this.dynamicRefs.get(e);i&&i.destroy(),t&&t.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)(z(G),z(I),z(J))}}static{this.\u0275cmp=v({type:n,selectors:[["nui-wizard"]],contentQueries:function(t,i,r){if(t&1&&j(r,D,4),t&2){let x;k(x=T())&&(i.steps=x)}},viewQuery:function(t,i){if(t&1&&(A(ue,5,I),A(he,5)),t&2){let r;k(r=T())&&(i.dynamicStep=r.first),k(r=T())&&(i.stepTitles=r)}},inputs:{canFinish:"canFinish",enableScroll:"enableScroll",bodyContainerHeight:"bodyContainerHeight",finishText:"finishText",stretchStepLines:"stretchStepLines"},outputs:{selectionChange:"selectionChange",cancel:"cancel",finish:"finish",next:"next",back:"back"},ngContentSelectors:fe,decls:15,vars:10,consts:()=>{let e;e=$localize`:␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`;let t;return t=$localize`:␟cda31dbd724cf5f4fa7a4274d9120651490c8a8c␟8890553633144307762:Back`,[["container",""],["stepTitle",""],e,t,[1,"nui-wizard"],[1,"nui-wizard__header"],["class","nui-wizard__header-steps",4,"ngIf"],[1,"nui-wizard__container"],[1,"nui-wizard__footer"],["nui-button","","type","button",1,"nui-wizard__cancel-button",3,"click"],["nui-button","","type","button","class","nui-wizard__back-button",3,"isBusy","icon","click",4,"ngIf"],["nui-button","","type","button","class","nui-wizard__next-button",3,"isBusy","displayStyle","icon","iconRight","click",4,"ngIf"],["nui-button","","type","button","class","nui-wizard__finish-button",3,"displayStyle","click",4,"ngIf"],[1,"nui-wizard__header-steps"],["class","nui-wizard__header-step",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"nui-wizard__header-step",3,"click","ngClass"],["class","nui-wizard__header-step-container",4,"ngIf"],[1,"nui-wizard__header-step-container"],[1,"nui-wizard__header-step-row"],[1,"nui-wizard__header-step-col"],[1,"nui-wizard__header-step-content"],[1,"nui-wizard__header-step-link"],[1,"nui-wizard__header-step-title"],[1,"nui-wizard__header-step-link-container"],[1,"nui-wizard__header-step-col","nui-wizard__header-step-col-right"],[1,"nui-wizard__header-step-line",3,"ngStyle"],[3,"icon","iconColor"],[1,"nui-wizard__header-step-col","nui-wizard__header-step-col-left"],["nui-button","","type","button",1,"nui-wizard__back-button",3,"click","isBusy","icon"],["nui-button","","type","button",1,"nui-wizard__next-button",3,"click","isBusy","displayStyle","icon","iconRight"],["nui-button","","type","button",1,"nui-wizard__finish-button",3,"click","displayStyle"]]},template:function(t,i){if(t&1){let r=S();$(_e),o(0,"div",4)(1,"div",5),u(2,ge,2,1,"ul",6),l(),o(3,"div",7),L(4),u(5,ye,0,0,"ng-template",null,0,P),l(),o(7,"div",8)(8,"button",9),w("click",function(){return _(r),f(i.onCancelClick())}),o(9,"span"),W(10,2),l()(),L(11,1),u(12,be,3,2,"button",10)(13,xe,3,5,"button",11)(14,Ce,3,2,"button",12),l()()}t&2&&(s(),O("nui-wizard__header--lines-stretched",i.stretchStepLines),s(),a("ngIf",i.steps),s(),V("height",i.bodyContainerHeight),O("show-scroll",i.enableScroll),s(9),a("ngIf",!i.steps.first.active),s(),a("ngIf",!i.steps.last.active),s(),a("ngIf",i.canFinish||i.steps.last.active))},dependencies:[E,H,X,q,Y,K],styles:[`.nui .nui-dialog .nui-wizard{padding-top:0}.nui .nui-dialog .nui-wizard__header{border-top:none}.nui .nui-wizard{padding-top:15px}.nui .nui-wizard__container{margin:15px}.nui .nui-wizard__container.show-scroll{overflow:auto}.nui .nui-wizard__header{padding:10px 15px;background-color:var(--nui-color-bg-secondary,#fafafa);border:1px solid;border-left:none;border-right:none;border-color:var(--nui-color-line-default,#d9d9d9);overflow:hidden;text-align:center;display:flex;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.nui .nui-wizard__header-steps{margin-bottom:0;white-space:nowrap;display:inline-flex}.nui .nui-wizard__header-step{line-height:normal;display:inline-flex;cursor:pointer}.nui .nui-wizard__header-step--disabled{pointer-events:none;cursor:default}.nui .nui-wizard__header-step--visited .nui-wizard__header-step-link{color:var(--nui-color-text-link,#0079aa)}.nui .nui-wizard__header-step--visited .nui-wizard__header-step-link:hover{text-decoration:underline}.nui .nui-wizard__header-step--visited .nui-wizard__header-step-col-right>.nui-wizard__header-step-line{border-color:var(--nui-color-line-active,#0079aa)}.nui .nui-wizard__header-step--first .nui-wizard__header-step-col-right,.nui .nui-wizard__header-step--last .nui-wizard__header-step-col-left{border-color:transparent;opacity:0}.nui .nui-wizard__header-step--active{cursor:default}.nui .nui-wizard__header-step--active .nui-wizard__header-step-link{color:var(--nui-color-bg-dark,#111)}.nui .nui-wizard__header-step--active .nui-wizard__header-step-link:hover .nui-wizard__header-step-title{text-decoration:none}.nui .nui-wizard__header-step--active .nui-wizard__header-step-link .nui-wizard__header-step-col-right>.nui-wizard__header-step-line{border-color:var(--nui-color-line-active,#0079aa)}.nui .nui-wizard__header-step--complete .nui-wizard__header-step-link .nui-wizard__header-step-col-left>.nui-wizard__header-step-line{border-color:var(--nui-color-line-active,#0079aa)}.nui .nui-wizard__header-step--complete .nui-wizard__header-step-link .nui-wizard__header-step-col-right>.nui-wizard__header-step-line{border-color:var(--nui-color-line-active,#0079aa)}.nui .nui-wizard__header-step-container{display:inline-table;width:100%}.nui .nui-wizard__header-step-container-bottom{display:none}.nui .nui-wizard__header-step-container-bottom .nui-wizard__header-step-title{width:100%;max-width:100%;margin:0}.nui .nui-wizard__header-step-row{display:table-row}.nui .nui-wizard__header-step-col{display:table-cell;vertical-align:middle}.nui .nui-wizard__header-step-col .nui-wizard__header-step-line{border-color:var(--nui-color-line-default,#d9d9d9)}.nui .nui-wizard__header-step-col-right .nui-wizard__header-step-line{margin-right:-1px}.nui .nui-wizard__header-step-line{border-bottom:solid 2px;height:2px}.nui .nui-wizard__header-step-link{color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));transition:color .3s}.nui .nui-wizard__header-step-link-container{display:flex;align-content:baseline;justify-content:center;align-items:center}.nui .nui-wizard__header-step-title{white-space:nowrap;overflow:hidden;-ms-text-overflow:ellipsis;-o-text-overflow:ellipsis;text-overflow:ellipsis;vertical-align:middle;display:inline-block;max-width:140px;margin:0 0 5px;text-decoration:inherit}.nui .nui-wizard__header.nui-wizard__header--lines-stretched .nui-wizard__header-step-title{max-width:unset}.nui .nui-wizard__title{margin:0}.nui .nui-wizard__description{margin-top:5px}.nui .nui-wizard__steps{padding:15px}.nui .nui-wizard__step{margin-top:15px;display:none}.nui .nui-wizard__step--active{display:block}.nui .nui-wizard__step-title{margin:15px 0 10px}.nui .nui-wizard__footer{border-top:1px solid;border-top-color:var(--nui-color-line-default,#d9d9d9);padding:15px;display:flex;justify-content:flex-end}.nui .nui-wizard__footer>.nui-button{margin-left:15px}
`],encapsulation:2})}}return n})();export{D as a,qe as b};
