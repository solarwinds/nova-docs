import{a as F}from"./chunk-ND5EHOJZ.js";import{D as Oe,ga as P}from"./chunk-57V7DCE5.js";import{b as Ae,c as Le,d as De,e as Be,f as ye,g as $e,h as Re,i as Pe,j as xe}from"./chunk-ZO7WBSGK.js";import{a as he}from"./chunk-QZPWCUUC.js";import{b as Ne}from"./chunk-FLHK4Y4B.js";import{A as R,y as fe,z as G}from"./chunk-LF6XSF3V.js";import{a as Me}from"./chunk-K2S7QKBR.js";import{a as ge}from"./chunk-XCWQAQNN.js";import{b as Ce}from"./chunk-HHOXNW4F.js";import{a as Se}from"./chunk-LE7PH44S.js";import{c as be}from"./chunk-EPE6IVSF.js";import{a as pe}from"./chunk-CJFOCIHU.js";import{a as ue}from"./chunk-7FMIATJZ.js";import{e as I,w as Ee}from"./chunk-I5QGFHJG.js";import{a as de}from"./chunk-YILH52ZF.js";import{d as me}from"./chunk-OP3E7ERD.js";import{k as Te,l as ce}from"./chunk-EHNCPSLF.js";import{Ac as N,Eb as u,Gc as re,L as x,Ob as le,Qb as _,Tc as w,Wb as o,Xb as i,Yb as S,Yc as se,Zb as M,_b as O,ac as $,fc as _e,gc as ae,hc as E,mc as C,nb as s,nc as c,tb as b,uc as h,vb as ie,vc as A,wc as L,xa as m,xc as v,ya as d,yc as g,zb as oe}from"./chunk-MC3BMXIX.js";import{i as B}from"./chunk-VBFW7A5V.js";var ve=["filteringPaginator"],we=["filteringSearch"],Ie=["filteringTable"],Ge=["sortableTable"];function Fe(t,a){if(t&1){let e=$();o(0,"nui-dialog-header",53),C("closed",function(){let n=m(e).close;return d(n())}),i(),o(1,"form",54)(2,"div",55)(3,"div",56)(4,"nui-checkbox",57),g(5," Reorderable "),i(),o(6,"nui-checkbox",58),g(7," Resizable "),i(),o(8,"nui-checkbox",59),g(9," Sortable "),i(),o(10,"h5"),E(11,9),i(),S(12,"nui-select",60),o(13,"h5"),E(14,10),i(),S(15,"nui-select",61),o(16,"h5"),E(17,11),i(),S(18,"nui-textbox-number",62),i(),o(19,"nui-dialog-footer")(20,"button",63),C("click",function(){let n=m(e).close;return d(n("Cancel"))}),E(21,12),i()()()()}if(t&2){let e=c();s(),_("formGroup",e.optionsForm),s(11),_("itemsSource",e.alignmentsArray),s(3),_("itemsSource",e.densitiesArray)}}function ke(t,a){t&1&&(o(0,"nui-message",75)(1,"b"),E(2,18),i()()),t&2&&_("allowDismiss",!0)}function Xe(t,a){if(t&1&&(o(0,"nui-checkbox",76),g(1),i()),t&2){let e=a.$implicit,l=c(2);_("value",e)("checked",l.isChecked(e)),s(),N(" ",e," ")}}function Ve(t,a){if(t&1){let e=$();o(0,"nui-dialog-header",64),C("closed",function(){let n=m(e).close;return d(n())}),i(),o(1,"form",54)(2,"div",55)(3,"div",56),u(4,ke,3,1,"nui-message",65),o(5,"h5"),E(6,13),i(),o(7,"nui-checkbox-group",66),C("valuesChange",function(n){m(e);let r=c();return d(r.columnsChanged(n))}),u(8,Xe,2,3,"nui-checkbox",67),i(),S(9,"nui-divider"),o(10,"h5"),E(11,14),i(),o(12,"div",68)(13,"div",69)(14,"nui-textbox",70),C("textChange",function(n){m(e);let r=c();return d(r.updateNewColumnValue(n))}),i()(),o(15,"div",71)(16,"button",72),C("click",function(){m(e);let n=c();return d(n.addNewColumn())}),E(17,15),i()()()(),o(18,"nui-dialog-footer")(19,"button",73),C("click",function(){let n=m(e).close;return d(n("Cancel"))}),E(20,16),i(),o(21,"button",74),C("click",function(){let n=m(e).close;return c().updateColumns(),d(n("Action"))}),E(22,17),i()()()()}if(t&2){let e=c();s(),_("formGroup",e.myForm),s(3),_("ngIf",!e.myForm.controls.checkboxGroup.valid&&e.myForm.controls.checkboxGroup.touched),s(3),_("values",e.displayedColumnsCopy),s(),_("ngForOf",e.availableColumns),s(6),_("value",e.newColumn),s(7),_("disabled",e.myForm.controls.checkboxGroup.invalid)}}function ze(t,a){if(t&1&&(o(0,"th",77),E(1,19),i()),t&2){let e=c();_("alignment",e.alignment)}}function je(t,a){if(t&1&&(o(0,"td",78),g(1),i()),t&2){let e=a.$implicit,l=c();_("alignment",l.alignment),s(),N(" ",e.position," ")}}function He(t,a){if(t&1&&(o(0,"th",77),E(1,20),i()),t&2){let e=c();_("alignment",e.alignment)}}function Qe(t,a){if(t&1&&(o(0,"td",78),g(1),i()),t&2){let e=a.$implicit,l=c();_("alignment",l.alignment),s(),N(" ",e.name," ")}}function We(t,a){if(t&1&&(o(0,"th",79),E(1,21),i()),t&2){let e=c();_("isColumnSortingDisabled",e.isFeatureColumnDisabled)("alignment",e.alignment)}}function qe(t,a){if(t&1&&S(0,"nui-icon",81),t&2){let e=a.$implicit;_("icon",e)}}function Ue(t,a){if(t&1&&(o(0,"td",78),u(1,qe,1,1,"nui-icon",80),i()),t&2){let e=a.$implicit,l=c();_("alignment",l.alignment),s(),_("ngForOf",e.features)}}function Je(t,a){if(t&1&&(o(0,"th",77),E(1,22),i()),t&2){let e=c();_("alignment",e.alignment)}}function Ke(t,a){if(t&1&&(o(0,"td",78),g(1),i()),t&2){let e=a.$implicit,l=c();_("alignment",l.alignment),s(),N(" ",e.asset," ")}}function Ye(t,a){if(t&1&&(o(0,"th",77),E(1,23),i()),t&2){let e=c();_("alignment",e.alignment)}}function Ze(t,a){if(t&1&&(o(0,"td",78),g(1),i()),t&2){let e=a.$implicit,l=c();_("alignment",l.alignment),s(),N(" ",e.location," ")}}function et(t,a){t&1&&(o(0,"th",82),_e(1,24),S(2,"nui-icon",83),ae(),i())}function tt(t,a){if(t&1&&(o(0,"td",84),S(1,"nui-icon",85),i()),t&2){let e=a.$implicit;s(),_("icon",e.status)}}function nt(t,a){if(t&1&&(o(0,"th",77),E(1,25),i()),t&2){let e=c();_("alignment",e.alignment)}}function it(t,a){if(t&1&&(o(0,"td",78),g(1),i()),t&2){let e=a.$implicit,l=c();_("alignment",l.alignment),s(),N(" ",e.outages," ")}}function ot(t,a){if(t&1&&(o(0,"th",77),E(1,26),i()),t&2){let e=c();_("alignment",e.alignment)}}function lt(t,a){if(t&1&&(M(0),S(1,"nui-icon",85),g(2),O()),t&2){let e=a.$implicit;s(),_("icon",e.icon),s(),N(" ",e.num," ")}}function _t(t,a){if(t&1&&(o(0,"td",78),u(1,lt,3,2,"ng-container",86),i()),t&2){let e=a.$implicit,l=c();_("alignment",l.alignment),s(),_("ngForOf",e.checks)}}function at(t,a){t&1&&S(0,"tr",87)}function rt(t,a){if(t&1&&S(0,"tr",88),t&2){let e=a.$implicit,l=c();_("density",l.density)("rowObject",e)}}var Gt=(()=>{class t{constructor(e,l,n,r,p,f,y,D){this.toastService=e,this.dialogService=l,this.tableStateHandlerService=n,this.formBuilder=r,this.changeDetection=p,this.viewContainerRef=f,this.applicationRef=y,this.dataSourceService=D,this.dataSource=F,this.availableColumns=["position","name","features","asset","location","status","outages","checks"],this.displayedColumns=this.availableColumns.slice(),this.displayedColumnsCopy=this.displayedColumns.slice(),this.alignmentsArray=["right","left","center"],this.densitiesArray=["default","tiny","compact"],this.alignment="center",this.density="default",this.positionWidth=50,this.reorderable=!0,this.resizable=!0,this.sortable=!0,this.sortDirection="asc",this.sortedColumn="position",this.isFeatureColumnDisabled=!0,this.searchProperties=[],this.selectionConfig={enabled:!0,selectionMode:fe.Multi},D.setData(F),this.myForm=this.formBuilder.group({checkboxGroup:this.formBuilder.control(this.displayedColumnsCopy,[I.required,I.minLength(3)])}),this.optionsForm=this.formBuilder.group({alignment:this.formBuilder.control(this.alignment),density:this.formBuilder.control(this.density),positionWidth:this.formBuilder.control(this.positionWidth),reorderable:this.formBuilder.control(this.reorderable),resizable:this.formBuilder.control(this.resizable),sortable:this.formBuilder.control(this.sortable)})}ngOnInit(){this.optionsForm.valueChanges.pipe(x(500)).subscribe(e=>{this.alignment=e.alignment,this.positionWidth=e.positionWidth,this.density=e.density,this.sortable=e.sortable,this.resizable=e.resizable,this.reorderable=e.reorderable})}ngAfterViewInit(){return B(this,null,function*(){this.dataSourceService.componentTree={paginator:{componentInstance:this.filteringPaginator},search:{componentInstance:this.filteringSearch}},this.dataSourceService.registerComponent(this.testTable.getFilterComponents()),this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.dataSource=e.repeat?.itemsSource,this.paginationTotal=e.paginator?.total}),this.searchSubscription=this.filteringSearch.inputChange.pipe(x(500)).subscribe(()=>{this.dataSourceService.applyFilters()}),yield this.dataSourceService.applyFilters()})}sortData(){this.dataSourceService.applyFilters()}onSearch(e){return B(this,null,function*(){yield this.dataSourceService.applyFilters()})}onSearchCancel(){return B(this,null,function*(){yield this.dataSourceService.applyFilters()})}toastColumns(e){this.toastService.info({message:"Current order of columns is: "+e.toString().replace(/,/g,", ")})}changePagination(){return B(this,null,function*(){yield this.dataSourceService.applyFilters()})}columnsChanged(e){this.displayedColumnsCopy=e}isChecked(e){return this.displayedColumnsCopy.indexOf(e)>-1}open(e){this.dialogService.open(e,{size:"sm"})}updateNewColumnValue(e){this.newColumn=e}addNewColumn(){this.newColumn&&(this.availableColumns.push(this.newColumn),this.displayedColumnsCopy.push(this.newColumn),this.newColumn="")}updateColumns(){this.displayedColumns=this.displayedColumnsCopy.slice()}disableSorting(){this.isFeatureColumnDisabled=!this.isFeatureColumnDisabled}limitSearch(){this.searchProperties.length?this.searchProperties=[]:this.searchProperties=["outages"],this.dataSourceService.setSearchProperties(this.searchProperties)}ngOnDestroy(){this.outputsSubscription.unsubscribe(),this.searchSubscription.unsubscribe()}static{this.\u0275fac=function(l){return new(l||t)(b(be),b(Oe),b(G),b(Ee),b(se),b(ie),b(le),b(P))}}static{this.\u0275cmp=oe({type:t,selectors:[["nui-table-test"]],viewQuery:function(l,n){if(l&1&&(h(ve,5),h(we,5),h(Ie,5),h(Ge,5),h(R,5)),l&2){let r;A(r=L())&&(n.filteringPaginator=r.first),A(r=L())&&(n.filteringSearch=r.first),A(r=L())&&(n.filteringTable=r.first),A(r=L())&&(n.sortableTable=r.first),A(r=L())&&(n.testTable=r.first)}},standalone:!1,features:[re([P,G])],decls:53,vars:14,consts:()=>{let e;e=$localize`:␟d259a5cfe568df279f8f23c18e8582f331ad5e20␟5772127433285568792: Table parameters `;let l;l=$localize`:␟6fe5549e71336528a5de31c671558342b1efe833␟4985615836900499435: Edit columns `;let n;n=$localize`:␟d576216a4a50cff6756bddab3fa93b81cc8e2f93␟1411763968419044459: Toggle search by outages `;let r;r=$localize`:␟c16c862b939878ee9d773b25f56345920725357a␟5545902369252300780: Disable features column for sorting `;let p;p=$localize`:␟55d4cef22a65e0850dc95aa127f45e9df525f68f␟8363291180171434623:Table parameters`;let f;f=$localize`:␟c1dfdaa9b9cd04a5e8604df0eeea9faed49acdc8␟246781905578646665:Change cells content alignment`;let y;y=$localize`:␟2a4fe583915b73526b33437bba41a39aeddf6ee1␟96479540979750045:Change rows density`;let D;D=$localize`:␟fe817864c1dc1742c09b858f6530b55b77cd07b5␟8532151145041227661:Change columns width`;let k;k=$localize`:␟abd523106b7164d5e101df33944bbf99a509f285␟8716342697541286006: Close `;let X;X=$localize`:␟6f19e091c95a7783ed1a794a76800bfa2e580474␟2408126496114120045:Edit columns`;let V;V=$localize`:␟d024747bfabcb4f63763c5b931d6ac5840d26df0␟5721612456517589470:Enter new column title`;let z;z=$localize`:␟dd0306e460f34cf0d9c1f9da2c095b42c249a020␟1465722133080575331:Available columns`;let j;j=$localize`:␟ea9e79c35aacc08d2b0ad15367a2bf5224c80cd4␟1149997874969812833:Create new column`;let H;H=$localize`:␟724b4d401f296839b85e79ddf32128342ee1f064␟8056937770550940393: Add new column `;let Q;Q=$localize`:␟0a08acf9503528341c28241d8d764ebc843c92f7␟7413740698367559631: Cancel `;let W;W=$localize`:␟b90a1c28cde3d4985f92f9b3d7476d4a13af3b94␟7639014780203448203: Update columns `;let q;q=$localize`:␟aaf9b8331666795542f417fe39c78014513ca737␟3498101055154698277:Select minimum 3 checkboxes!`;let U;U=$localize`:␟7f370ac479e453325864654e1287f07e8617c06f␟4397490917916896798: No. `;let J;J=$localize`:␟3c6b0ab342e17a872b4a5b257c5b137c6c1faf46␟4852145378350990007: Name `;let K;K=$localize`:␟66942ee95a0caad977fecd6e0c3bb3270dcfbff4␟2958653503340536067: Features `;let Y;Y=$localize`:␟781ae07ad4f7f0779b544b2b5aff7375ef9bd876␟9097409815585369171: Asset Class `;let Z;Z=$localize`:␟17a56eecb2165cbed503021451896edd419c5d6e␟7881251970116013740: Location `;let ee;ee=$localize`:␟79868c1613d2d4a258888bf56100f576bf7908f8␟1339790904510203255:${"\uFFFD#2\uFFFD"}:START_TAG_NUI_ICON:${"\uFFFD/#2\uFFFD"}:CLOSE_TAG_NUI_ICON:`;let te;te=$localize`:␟e832d6ef644acfaf399d97992b2995ed09f8a10f␟1802962353626927489: Outages `;let ne;return ne=$localize`:␟ebb66b91a77927d1aa8702865d43bbc8c4848ae5␟737237798999496623: Checks `,[["parameters",""],["content",""],["filteringSearch",""],["testTable","","sortableTable","","filteringTable",""],["filteringPaginator",""],e,l,n,r,f,y,D,k,z,j,H,Q,W,q,U,J,K,Y,Z,ee,te,ne,[1,"nui-table__options"],[1,"demo-options-section"],["type","button","id","nui-demo-table-test-columns-table-parameters-btn","nui-button","","icon","edit",3,"click"],["type","button","id","nui-demo-table-test-columns-add-remove-edit-btn","nui-button","","icon","edit",3,"click"],["type","button","id","nui-demo-table-test-limit-search-btn","nui-button","",3,"click"],["nui-button","","type","button","id","nui-demo-table-test-disable-column-sorting-btn",3,"click"],[1,"nui-searchable-table__search"],["id","nui-demo-table-test-search",3,"search","cancel","value"],["id","nui-test-table",1,"nui-table__container"],["nui-table","",3,"sortOrderChanged","columnsOrderChange","dataSource","sortable","resizable","reorderable","selectionConfig","totalItems"],["nuiColumnDef","position",3,"columnWidth"],["nui-header-cell","",3,"alignment",4,"nuiHeaderCellDef"],["nui-cell","",3,"alignment",4,"nuiCellDef"],["nuiColumnDef","name"],["nuiColumnDef","features"],["nui-header-cell","",3,"isColumnSortingDisabled","alignment",4,"nuiHeaderCellDef"],["nuiColumnDef","asset"],["nuiColumnDef","location"],["nuiColumnDef","status","type","icon"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","outages"],["nuiColumnDef","checks"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",3,"density","rowObject",4,"nuiRowDef","nuiRowDefColumns"],["id","nui-demo-table-test-paginator","activeClass","active","disabledClass","disabled","showPrevNext","true",3,"pagerAction","page","pageSize","total"],["title",p,3,"closed"],[3,"formGroup"],[1,"form-group"],[1,"dialog-body"],["formControlName","reorderable"],["formControlName","resizable"],["formControlName","sortable"],["id","nui-demo-table-test-columns-alignment-select","placeholder","Select alignment","formControlName","alignment",3,"itemsSource"],["id","nui-demo-table-test-columns-density-select","placeholder","Select row density","formControlName","density",3,"itemsSource"],["placeholder","Set columns width","id","nui-demo-table-test-column-width","formControlName","positionWidth"],["nui-button","","id","nui-demo-table-test-columns-dialog-close-btn","type","button","displayStyle","primary",3,"click"],["title",X,3,"closed"],["type","critical",3,"allowDismiss",4,"ngIf"],["id","nui-demo-table-test-add-remove-checkboxes","formControlName","checkboxGroup","required","",3,"valuesChange","values"],["class","text-capitalize",3,"value","checked",4,"ngFor","ngForOf"],[1,"d-flex","flex-row"],[1,"col"],["id","nui-demo-table-test-add-remove-new-column-textbox","placeholder",V,3,"textChange","value"],[1,"col","col-auto"],["nui-button","","type","button","displayStyle","default","id","nui-demo-table-test-add-remove-new-column-btn",1,"ml-3",3,"click"],["nui-button","","type","button",3,"click"],["nui-button","","type","button","id","nui-demo-table-test-columns-add-remove-submit-btn","displayStyle","primary",3,"click","disabled"],["type","critical",3,"allowDismiss"],[1,"text-capitalize",3,"value","checked"],["nui-header-cell","",3,"alignment"],["nui-cell","",3,"alignment"],["nui-header-cell","",3,"isColumnSortingDisabled","alignment"],["class","icon-margin",3,"icon",4,"ngFor","ngForOf"],[1,"icon-margin",3,"icon"],["nui-header-cell",""],["icon","enable"],["nui-cell",""],[3,"icon"],[4,"ngFor","ngForOf"],["nui-header-row",""],["nui-row","",3,"density","rowObject"]]},template:function(l,n){if(l&1){let r=$();o(0,"div",27)(1,"section",28)(2,"button",29),C("click",function(){m(r);let f=v(5);return d(n.open(f))}),E(3,5),i(),u(4,Fe,22,3,"ng-template",null,0,w),i(),o(6,"section",28)(7,"button",30),C("click",function(){m(r);let f=v(16);return d(n.open(f))}),E(8,6),i(),S(9,"br"),o(10,"button",31),C("click",function(){return m(r),d(n.limitSearch())}),E(11,7),i(),S(12,"br"),o(13,"button",32),C("click",function(){return m(r),d(n.disableSorting())}),E(14,8),i(),u(15,Ve,23,6,"ng-template",null,1,w),i(),o(17,"div",33)(18,"nui-search",34,2),C("search",function(f){return m(r),d(n.onSearch(f))})("cancel",function(){return m(r),d(n.onSearchCancel())}),i()()(),o(20,"div",35)(21,"table",36,3),C("sortOrderChanged",function(){return m(r),d(n.sortData())})("columnsOrderChange",function(f){return m(r),d(n.toastColumns(f))}),M(25,37),u(26,ze,2,1,"th",38)(27,je,2,2,"td",39),O(),M(28,40),u(29,He,2,1,"th",38)(30,Qe,2,2,"td",39),O(),M(31,41),u(32,We,2,2,"th",42)(33,Ue,2,2,"td",39),O(),M(34,43),u(35,Je,2,1,"th",38)(36,Ke,2,2,"td",39),O(),M(37,44),u(38,Ye,2,1,"th",38)(39,Ze,2,2,"td",39),O(),M(40,45),u(41,et,3,0,"th",46)(42,tt,2,1,"td",47),O(),M(43,48),u(44,nt,2,1,"th",38)(45,it,2,2,"td",39),O(),M(46,49),u(47,ot,2,1,"th",38)(48,_t,2,2,"td",39),O(),u(49,at,1,0,"tr",50)(50,rt,1,2,"tr",51),i()(),o(51,"nui-paginator",52,4),C("pagerAction",function(){return m(r),d(n.changePagination())}),i()}l&2&&(s(18),_("value",n.searchTerm),s(3),_("dataSource",n.dataSource)("sortable",n.sortable)("resizable",n.resizable)("reorderable",n.reorderable)("selectionConfig",n.selectionConfig)("totalItems",n.paginationTotal),s(4),_("columnWidth",n.positionWidth),s(24),_("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),s(),_("nuiRowDefColumns",n.displayedColumns),s(),_("page",1)("pageSize",10)("total",n.paginationTotal))},dependencies:[de,R,$e,Ae,Re,Pe,xe,Be,ye,De,Le,Te,ce,Ne,he,pe,ue,Ce,ge,Me,Se,me],encapsulation:2})}}return t})();export{Gt as a};
