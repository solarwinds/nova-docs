import{a as I,b as M}from"./chunk-34W3AZGZ.js";import{b as R}from"./chunk-44MRUDZE.js";import{a as k}from"./chunk-XZBZIPTN.js";import{d as w}from"./chunk-HWA55D7L.js";import{a as N}from"./chunk-YZXN6BQO.js";import{b as L}from"./chunk-RBCDJAEW.js";import{a as V}from"./chunk-LT3SQWXE.js";import{a as H}from"./chunk-3DJIGCHJ.js";import{c as v}from"./chunk-ZQRZBPBD.js";import{i as _}from"./chunk-RQPIMWM4.js";import{Aa as s,Hb as h,Ia as o,Ib as c,Jb as u,Kb as p,Qb as d,Ra as g,_c as f,ib as l,pb as r}from"./chunk-7UJBXEVU.js";import{g as a}from"./chunk-XR34LRGE.js";var S=a(R()),y=a(M()),m=a(L()),C=a(V()),b=a(N()),D=a(H()),T=a(k());var K=(()=>{class n{constructor(i,e,t,z,j,A){this.logger=i,this.utilService=e,this.changeDetector=t,this.images=z,this.domSanitizer=j,this.el=A,this.width="auto",this.height="auto",this.getImage=E=>(0,S.default)(this.images,F=>(0,C.default)(F.name,E))}ngOnInit(){[this.height,this.width].forEach(e=>{!(0,T.default)(e)&&!this.isImageSizeValid(e)&&this.logger.error("Image size should be specified in 'px', '%', or 'auto")})}ngOnChanges(i){(i.image||i.description)&&(this.imageName=this.image.name||this.getImage(this.image)?.name||null,this.imageTemplate=this.getImageTemplate())}ngAfterViewInit(){if(this.autoFill)try{let i=this.el.nativeElement.querySelector("svg");i.setAttribute("width","100%"),i.setAttribute("height","100%")}catch{console.warn("Can't apply 'autoFill' to nui-image, because it is only applicable to SVG type of images");return}if(this.float&&!this.width&&this.utilService.browser?.isSafari()){let i=this.el.nativeElement.querySelector("svg");if(!i)return;this.width=i.width.baseVal.value+"px",this.changeDetector.detectChanges()}}getImageTemplate(){let i=this.image.code?this.image:this.getImage(this.image),e="";return(0,y.default)(i,"code")&&(0,D.default)(i.code)?(e=i.code,this.hasAlt=!1):(e=`<img src="${this.image}" alt="${this.description}">`,this.hasAlt=!0),this.domSanitizer.bypassSecurityTrustHtml(e)}isImageSizeValid(i){return(0,b.default)(parseFloat(i))&&((0,m.default)(i,"px")||(0,m.default)(i,"%")||(0,m.default)(i,"auto"))}static{this.\u0275fac=function(e){return new(e||n)(r(v),r(w),r(f),r(I),r(_),r(g))}}static{this.\u0275cmp=s({type:n,selectors:[["nui-image"]],hostAttrs:["role","img"],hostVars:1,hostBindings:function(e,t){e&2&&h("aria-label",t.hasAlt?null:t.description||t.imageName)},inputs:{image:"image",description:"description",float:"float",margin:"margin",isWatermark:"isWatermark",width:"width",height:"height",autoFill:"autoFill"},features:[o],decls:1,vars:17,consts:[[1,"nui-image","nui-image__hidden",3,"innerHTML"]],template:function(e,t){e&1&&d(0,"div",0),e&2&&(u("height",t.height)("width",t.width),p("nui-image__left",t.float==="left")("nui-image__right",t.float==="right")("nui-image__margin-centered",t.margin==="centered")("nui-image__margin-small",t.margin==="small")("nui-image__margin-large",t.margin==="large")("nui-image__watermarked",t.isWatermark),c("innerHTML",t.imageTemplate,l))},styles:[`.nui-image{width:70%;margin:5px 10px;float:none}.nui-image img,.nui-image svg{width:100%}.nui-image__left{float:left}.nui-image__right{float:right}.nui-image__margin-centered{margin:0 auto}.nui-image__margin-small{margin:10px}.nui-image__margin-large{margin:10px 15px}.nui-image__watermarked{opacity:.3}
`],encapsulation:2,changeDetection:0})}}return n})();export{K as a};
