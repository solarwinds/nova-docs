import{a as u,b as F}from"./chunk-ILTVGVXX.js";import{a as Z}from"./chunk-BUTEUGDE.js";import{c as A,d as f,g,i as x}from"./chunk-JQPNHLGH.js";import{a as O}from"./chunk-QRWA7LTP.js";import{c as L}from"./chunk-ZQRZBPBD.js";import{k as V,m as N,q as j}from"./chunk-N5FUFMYY.js";import{Aa as v,Cc as d,Gb as l,Hb as T,Ia as y,Ib as t,Ja as w,Ka as S,La as _,Mb as k,Ob as a,Pb as s,Qb as m,Sa as b,Ub as I,_c as B,ec as z,fc as o,ob as r,pb as c,qc as h,rc as D,sc as E,wb as C}from"./chunk-7UJBXEVU.js";var G=n=>({"nui-spinner--determinate":n}),H=n=>({"stroke-dasharray":n});function P(n,i){n&1&&(_(),a(0,"svg",7),m(1,"circle",8)(2,"circle",9),s())}function R(n,i){if(n&1&&(_(),a(0,"svg",10),m(1,"circle",11)(2,"circle",12),s()),n&2){let e=o(2);r(2),t("ngStyle",d(1,H,e.percent+", 100"))}}function q(n,i){if(n&1){let e=I();a(0,"button",13),z("click",function(){w(e);let $=o(2);return S($.cancelProgress())}),s()}if(n&2){let e=o(2);t("nuiTooltip",e.tooltipText)}}function J(n,i){if(n&1&&(a(0,"div",17)(1,"span",18),h(2),s()()),n&2){let e=o(3);r(2),D(e.message)}}function K(n,i){if(n&1&&(a(0,"span",19),h(1),s()),n&2){let e=o(3);r(),E(" ",e.helpText," ")}}function Q(n,i){if(n&1&&(a(0,"div",14),l(1,J,3,1,"div",15)(2,K,2,1,"span",16),s()),n&2){let e=o(2);r(),t("ngIf",e.message!==void 0),r(),t("ngIf",e.helpText!==void 0)}}function U(n,i){if(n&1&&(a(0,"span",1)(1,"div",2),l(2,P,3,0,"svg",3)(3,R,3,3,"svg",4)(4,q,1,1,"button",5),s(),l(5,Q,3,2,"div",6),s()),n&2){let e=o();k("nui-icon-busy-circular nui-spinner nui-spinner__container--",e.size,""),t("ngClass",d(9,G,e.isDeterminate))("@spinnerAppear",void 0),r(2),t("ngIf",!e.isDeterminate),r(),t("ngIf",e.isDeterminate),r(),t("ngIf",e.allowCancel),r(),t("ngIf",e.showText)}}var M=class n{static{this.defaultSize=u.Small}set size(i){let e=Object.values(u);if(e.includes(i)){this._size=i;return}this.logger.warn(`Allowed sizes for nui-spinner are ${e.join(", ")}. Default is ${n.defaultSize}.`),this._size=n.defaultSize}get size(){return this._size||n.defaultSize}get icon(){return F[this.size]}get showText(){return this.size!==u.Small}constructor(i,e,p){this.logger=i,this.changeDetector=e,this.ngZone=p,this.tooltipText=$localize`Cancel`,this.showSpinner=!1,this.isDeterminate=!1,this.show=!1,this.delay=250,this.ariaLabel="Spinner",this.cancel=new b}ngOnChanges(i){i?.percent&&(this.ariaValueNow=this.percent?String(this.percent):void 0),i.show&&(this.isDeterminate=this.percent!==void 0,this.cancelShowTimer(),this.delay&&this.show?this.ngZone.runOutsideAngular(()=>{this.showTimer=setTimeout(()=>{this.ngZone.run(()=>{this.showSpinner=this.show,this.changeDetector.detectChanges()})},this.delay)}):this.showSpinner=this.show)}cancelShowTimer(){this.showTimer&&clearTimeout(this.showTimer)}cancelProgress(){this.cancel.emit()}ngOnDestroy(){this.cancelShowTimer()}static{this.\u0275fac=function(e){return new(e||n)(c(L),c(B),c(C))}}static{this.\u0275cmp=v({type:n,selectors:[["nui-spinner"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100"],hostVars:2,hostBindings:function(e,p){e&2&&T("aria-label",p.ariaLabel)("aria-valuenow",p.ariaValueNow)},inputs:{percent:"percent",show:"show",delay:"delay",allowCancel:"allowCancel",message:"message",helpText:"helpText",ariaLabel:"ariaLabel",size:"size"},outputs:{cancel:"cancel"},features:[y],decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"nui-spinner__container"],["class","nui-spinner__circular","viewBox","25 25 50 50",4,"ngIf"],["class","nui-spinner__circular","viewBox","0 0 36 36",4,"ngIf"],["nui-button","","type","button","class","nui-spinner__cancel","icon","close","displayStyle","action",3,"nuiTooltip","click",4,"ngIf"],["class","nui-spinner__text-content",4,"ngIf"],["viewBox","25 25 50 50",1,"nui-spinner__circular"],["cx","50","cy","50","r","22","fill","none","stroke-width","5","stroke-miterlimit","10",1,"nui-spinner__path-under"],["cx","50","cy","50","r","22","fill","none","stroke-width","5","stroke-miterlimit","10",1,"nui-spinner__path"],["viewBox","0 0 36 36",1,"nui-spinner__circular"],["cx","18","cy","18","r","15.9155","fill","none","stroke-width","4","stroke-miterlimit","10",1,"nui-spinner__path-under"],["cx","18","cy","18","r","15.9155","fill","none","stroke-width","4","stroke-miterlimit","10",1,"nui-spinner__path",3,"ngStyle"],["nui-button","","type","button","icon","close","displayStyle","action",1,"nui-spinner__cancel",3,"click","nuiTooltip"],[1,"nui-spinner__text-content"],["class","nui-spinner__label",4,"ngIf"],["class","nui-spinner__hint nui-help-hint",4,"ngIf"],[1,"nui-spinner__label"],[1,"nui-text-label","nui-spinner__label-item"],[1,"nui-spinner__hint","nui-help-hint"]],template:function(e,p){e&1&&l(0,U,6,11,"span",0),e&2&&t("ngIf",p.showSpinner)},dependencies:[V,N,j,O,Z],styles:[`.nui-spinner{display:inline-flex;align-items:center;position:relative;margin:0 auto;box-sizing:border-box;vertical-align:middle}.nui-spinner__container{display:inline-flex;align-items:center;justify-content:center;position:relative;box-sizing:border-box}.nui-spinner__container--small .nui-spinner__container{width:20px;height:20px}.nui-spinner__container--small .nui-spinner__cancel.nui-button{border-radius:50%;min-height:10px;min-width:10px;padding:0}.nui-spinner__container--large .nui-spinner__container{width:50px;height:50px}.nui-spinner__container--large .nui-spinner__cancel.nui-button{border-radius:50%;min-height:10px;min-width:10px;padding:3px}.nui-spinner__label{margin-left:10px}.nui-spinner__hint{display:block;margin-left:10px}.nui-spinner__circular{position:absolute;width:100%;height:100%;animation:rotate 2s linear infinite;transform-origin:center center;inset:0;margin:auto}.nui-spinner__path-under{stroke:var(--nui-color-line-default,#d9d9d9)}.nui-spinner__path{stroke-dashoffset:0px;animation:dash 1.5s ease-in-out infinite;stroke-linecap:square;stroke:var(--nui-color-progress,#00c4d2)}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:67,200;stroke-dashoffset:-35px}to{stroke-dasharray:134,200;stroke-dashoffset:-134px}}.nui-spinner--determinate .nui-spinner__circular{animation:none}.nui-spinner--determinate .nui-spinner__path{transition:.5s linear;animation:none}
`],encapsulation:2,data:{animation:[A("spinnerAppear",[x(":enter",[f(".2s ease-in-out",g({opacity:1}))]),x(":leave",[f(".2s ease-in-out",g({opacity:0}))])])]}})}};export{M as a};
