import{$ as u}from"./chunk-Y4J4GIST.js";import{Na as h,h as n,oa as l}from"./chunk-7UJBXEVU.js";import{j as o}from"./chunk-XR34LRGE.js";var y=(()=>{class r extends u{constructor(){super(...arguments),this.url="https://randomuser.me/api",this.seed="sw",this.cache=Array.from({length:0}),this.page=1,this.busy=new n(!1)}getFilteredData(e){return o(this,null,function*(){this.busy.next(!0);let s=e.virtualScroll&&e.virtualScroll.value,a=s?e.virtualScroll?.value.start:0,t=s?e.virtualScroll?.value.end:0;return new Promise(i=>{setTimeout(()=>{this.getData(a,t).then(c=>{c&&(this.cache=this.cache.concat(c.users),this.dataSubject.next(this.cache),i({repeat:{itemsSource:this.cache},totalItems:200,start:c.start}),this.busy.next(!1))})},2e3)})})}getData(e=0,s=20){return o(this,null,function*(){let a;try{return a=yield(yield fetch(`${this.url}/?page=${this.page}&results=${s-e}&seed=${this.seed}`)).json(),{users:a?.results.map((t,i)=>({no:this.cache.length+i+1,nameTitle:t.name.title,nameFirst:t.name.first,nameLast:t.name.last,gender:t.gender,country:t.location.country,city:t.location.city,postcode:t.location.postcode,email:t.email,cell:t.cell})),total:a?.results.length,start:e}}catch{console.error("Error responding from server. Please visit https://https://randomuser.me/ to see if it's available")}})}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=h(r)))(a||r)}})()}static{this.\u0275prov=l({token:r,factory:r.\u0275fac})}}return r})();export{y as a};
