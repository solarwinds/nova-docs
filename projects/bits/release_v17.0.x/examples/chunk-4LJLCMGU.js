import{a as S}from"./chunk-DVAOCVMG.js";import{b as R}from"./chunk-D4P6DHOT.js";import{c as g}from"./chunk-WRNEF66S.js";import{b as v}from"./chunk-44MRUDZE.js";import{a as y}from"./chunk-XZBZIPTN.js";import{a as F}from"./chunk-EWA4R42U.js";import{Aa as u,Gb as f,Ib as _,Ja as E,Ka as d,Mc as h,Ob as n,Pb as l,Ub as C,ec as P,fc as c,g as M,ob as a,pc as T,qc as m,rc as D}from"./chunk-7UJBXEVU.js";import{g as p}from"./chunk-XR34LRGE.js";var I=p(v()),A=p(y()),o=p(F());function O(i,k){if(i&1){let e=C();n(0,"div")(1,"nui-quick-picker",3),P("presetSelected",function(r){E(e);let s=c();return d(s.handlePresetSelection(r))}),n(2,"nui-date-picker",4),P("valueChange",function(r){E(e);let s=c();return d(s.dateChanged(r))}),l()()()}if(i&2){let e=c();a(),_("presets",e.presets)("selectedPreset",e.selectedPresetKey),a(),_("inline",!0)("value",e.selectedDate)("preserveInsignificant",!1)}}var $=(()=>{class i{constructor(){this.selectedPresetKey="ihorsBirthday",this.showFooter=!0,this.closePopoverSubject=new M,this.presets=this.getDefaultPresets(),this.selectedDate=this.getDateFromPreset(this.selectedPresetKey)}handlePresetSelection(e){this.selectedDate=this.getDateFromPreset(e),this.selectedPresetKey=e,this.confirmPopover()}dateChanged(e){this.selectedDate.isSame(e,"day")||(this.selectedDate=e,this.selectedPresetKey=this.getPresetFromDate(e),this.confirmPopover())}confirmPopover(){this.closePopoverSubject.next()}getDefaultPresets(){return{today:{name:"Today",pattern:()=>(0,o.default)()},yesterday:{name:"Yesterday",pattern:()=>(0,o.default)().subtract(1,"days")},ihorsBirthday:{name:"Ihor's Birthday",pattern:()=>(0,o.default)("1989-04-09")},random:{name:"Random date (to show that we can)",pattern:()=>(0,o.default)(+new Date-Math.floor(Math.random()*1e11))}}}getDateFromPreset(e){let t=this.getDefaultPresets()[e];return t?t.pattern():(0,o.default)()}getPresetFromDate(e){let t=(0,I.default)(Object.keys(this.presets),r=>e.isSame(this.getDateFromPreset(r),"day"));if((0,A.default)(t))throw new Error("DatePreset was not found");return t}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=u({type:i,selectors:[["nui-time-frame-picker-date"]],decls:9,vars:6,consts:()=>{let e;e=$localize`:␟3097578df437c16281ba2d26960e4ec68092bd55␟6223578779816929641:Custom Date`;let t;return t=$localize`:␟0bcfbf63721dae8aa56ca8e134c4e572c95d54db␟4115009543277682440:Baselines`,[["popoverDayPicker",""],["trigger","click",3,"template","hasPadding","closePopover","unlimited","modal"],[1,"nui-text-link",2,"cursor","pointer"],["pickerTitle",e,"presetsTitle",t,3,"presetSelected","presets","selectedPreset"],[3,"valueChange","inline","value","preserveInsignificant"]]},template:function(t,r){if(t&1&&(n(0,"nui-popover",1)(1,"span",2),m(2,"Select day"),l()(),n(3,"p"),m(4," Selected date: "),n(5,"em"),m(6),l()(),f(7,O,3,5,"ng-template",null,0,h)),t&2){let s=T(8);_("template",s)("hasPadding",!1)("closePopover",r.closePopoverSubject)("unlimited",!0)("modal",!0),a(6),D(r.selectedDate==null?null:r.selectedDate.format("MMMM Do, YYYY"))}},dependencies:[S,g,R],encapsulation:2})}}return i})();export{$ as a};
