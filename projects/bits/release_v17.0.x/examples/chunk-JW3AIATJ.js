import{d as f}from"./chunk-KPMNOLLU.js";import{a as h}from"./chunk-CD7GTOCR.js";import{a as G,b as A}from"./chunk-REMBTTND.js";import{a as q,b as d}from"./chunk-AJ2UNGSN.js";import{a as W}from"./chunk-5VDV6BXS.js";import{i as F}from"./chunk-LVGKZ3JP.js";import{a as j}from"./chunk-QRWA7LTP.js";import{a as L}from"./chunk-55WDIF66.js";import{m as V}from"./chunk-N5FUFMYY.js";import{Aa as S,Gb as T,Hb as z,Ia as w,Ib as r,Ja as g,Ka as y,Kb as P,Ob as a,Pb as _,Qb as I,Ra as M,Sa as k,Ub as Q,ec as v,fc as O,g as C,gc as B,hc as E,lc as b,mc as c,nc as s,ob as p,oc as m,pb as l,qc as D,rc as R,vb as x,yc as K}from"./chunk-7UJBXEVU.js";import{g as U}from"./chunk-XR34LRGE.js";var N=U(W());var X=["menuToggle"],Y=["*"];function Z(o,H){if(o&1&&I(0,"nui-menu-popup",6),o&2){let i=O();r("itemsSource",i.itemsSource)("size",i.size)}}function $(o,H){o&1&&E(0,0,["*ngIf","!itemsSource"])}var Me=(()=>{class o{constructor(i,n,e){this.keyControlService=i,this.renderer=n,this.focusMonitor=e,this.iconSize="",this.iconColor="",this.icon="caret-down",this.blurred=new k,this.menuOpenStream=new C,this.menuKeyControlListeners=[]}ngOnChanges(i){i.size&&(this.iconSize=this.size===L.compact?"small":""),i.displayStyle&&(this.iconColor=this.displayStyle==="primary"?"white":"")}ngAfterViewInit(){this.setKeyboardManagerServiceData(),this.keyControlService.initKeyboardManager(),this.menuKeyControlListeners.push(this.renderer.listen(this.menuToggle.nativeElement,"keydown",i=>{this.popup.popupToggle.disabled||this.keyControlService.handleKeydown(i)})),this.focusMonitorSubscription=this.focusMonitor.monitor(this.menuToggle).subscribe(i=>{i==="keyboard"&&(this.popup.popupToggle.disabled||this.popup.toggleOpened(new FocusEvent("focusin")))})}isMenuCompact(){return this.size==="compact"}isTitlePresent(){return!(0,N.default)(this.title)}onBlur(i){this.blurred.emit(i)}onMenuOpen(){this.menuOpenStream.next()}isJustified(){return this.contextClass?.includes("nui-select--justified")}setKeyboardManagerServiceData(){this.keyControlService.menuGroups=this.menuGroups,this.keyControlService.menuItems=this.menuItems,this.keyControlService.popup=this.popup,this.keyControlService.menuToggle=this.menuToggle,this.keyControlService.keyControlItemsSource=!!this.itemsSource,this.keyControlService.menuPopup=this.menuPopup,this.keyControlService.menuOpenListener=this.menuOpenStream}ngOnDestroy(){this.menuKeyControlListeners.forEach(i=>i()),this.focusMonitorSubscription.unsubscribe(),this.focusMonitor.stopMonitoring(this.menuToggle)}static{this.\u0275fac=function(n){return new(n||o)(l(h),l(x),l(F))}}static{this.\u0275cmp=S({type:o,selectors:[["nui-menu"]],contentQueries:function(n,e,t){if(n&1&&(b(t,A,5),b(t,G,4)),n&2){let u;s(u=m())&&(e.menuItems=u),s(u=m())&&(e.menuGroups=u)}},viewQuery:function(n,e){if(n&1&&(c(d,5),c(f,5),c(X,5,M)),n&2){let t;s(t=m())&&(e.popup=t.first),s(t=m())&&(e.menuPopup=t.first),s(t=m())&&(e.menuToggle=t.first)}},hostAttrs:[1,"nui-menu"],hostVars:1,hostBindings:function(n,e){n&2&&z("aria-label",e.title||e.ariaLabel)},inputs:{widthOfPopup:"widthOfPopup",contextClass:"contextClass",appendToBody:"appendToBody",ariaLabel:"ariaLabel",title:"title",size:"size",displayStyle:"displayStyle",isDisabled:"isDisabled",icon:"icon",itemsSource:"itemsSource"},outputs:{blurred:"blurred"},features:[K([h]),w],ngContentSelectors:Y,decls:8,vars:14,consts:[["menuToggle",""],[3,"opened","appendToBody","width","contextClass"],["nui-button","","nuiPopupToggle","","aria-haspopup","true","type","button",1,"menu-button","no-shadow",3,"blur","disabled","displayStyle","size","icon","iconRight","isEmpty"],["popupAreaContent",""],[3,"itemsSource","size",4,"ngIf"],[4,"ngIf"],[3,"itemsSource","size"]],template:function(n,e){if(n&1){let t=Q();B(),a(0,"nui-popup",1),v("opened",function(){return g(t),y(e.onMenuOpen())}),a(1,"button",2,0),v("blur",function(J){return g(t),y(e.onBlur(J))}),a(3,"span"),D(4),_()(),a(5,"div",3),T(6,Z,1,2,"nui-menu-popup",4)(7,$,1,0,"ng-content",5),_()()}n&2&&(P("nui-menu--compact",e.isMenuCompact()),r("appendToBody",e.appendToBody)("width",e.widthOfPopup)("contextClass",e.contextClass+" nui-menu-popup-host"),p(),r("disabled",e.isDisabled)("displayStyle",e.displayStyle)("size",e.size)("icon",e.icon)("iconRight",e.isTitlePresent())("isEmpty",!e.isTitlePresent()),p(3),R(e.title),p(2),r("ngIf",e.itemsSource),p(),r("ngIf",!e.itemsSource))},dependencies:[V,j,q,d,f],styles:[`.nui-menu-item{display:list-item;list-style-type:none;white-space:nowrap;margin-bottom:1px;font-size:13px;background-color:var(--nui-color-bg-transparent,transparent)}.nui-menu-item:not(.nui-menu-item--header){min-height:30px}.nui-menu-item .nui-icon{margin-right:5px}.nui-menu-item:not(.nui-menu-item--header):hover{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05))}.nui-menu-item:not(.nui-menu-item--header):hover .nui-checkbox__label{background-color:var(--transparent,transparent)}.nui-menu-item.nui-menu-item--header{padding:5px 10px;text-transform:uppercase;cursor:default;font-size:11px;color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));line-height:14px}.nui-menu-item.nui-menu-item__default,.nui-menu-item .nui-checkbox__transclude,.nui-menu-item>.nui-menu-item__link,.nui-menu-item>.nui-menu-item__switch,.nui-menu-item>.nui-menu-item__option{overflow:hidden;text-overflow:ellipsis}.nui-menu-item>.nui-menu-item__link,.nui-menu-item>.nui-menu-item__switch,.nui-menu-item>.nui-menu-item__option,.nui-menu-item>.nui-menu-item__default{display:flex;align-items:center;padding:5px 10px;text-decoration:none}.nui-menu-item>.nui-menu-item__link:active,.nui-menu-item>.nui-menu-item__switch:active,.nui-menu-item>.nui-menu-item__option:active,.nui-menu-item>.nui-menu-item__default:active,.nui-menu-item>.nui-menu-item__link:focus,.nui-menu-item>.nui-menu-item__switch:focus,.nui-menu-item>.nui-menu-item__option:focus,.nui-menu-item>.nui-menu-item__default:focus{outline:none;z-index:500;box-shadow:inset 0 0 0 2px #00c4d280}.nui-menu-item.checked{background-color:var(--nui-color-selected,rgba(0, 196, 210, .1));font-weight:600}.nui-menu-item.checked:hover{background-color:var(--nui-color-selected-hover,rgba(0, 196, 210, .2));font-weight:600;cursor:pointer}.nui-menu-item .nui-menu-item__default{padding:5px 10px;cursor:pointer;color:var(--nui-color-text-default,#111)}.nui-menu-item .nui-menu-item__default:hover{color:var(--nui-color-text-default-hover,#000000)}.nui-menu-item--active{background-color:var(--nui-color-bg-light-hover,#f2f2f2);outline:none;z-index:500;box-shadow:inset 0 0 0 2px #00c4d280}.nui-menu-item--active.nui-menu-item--selected,.nui-menu-item--active.nui-menu-item.checked{background-color:var(--nui-color-selected-hover,rgba(0, 196, 210, .2))}.nui-menu-item.nui-menu-item--selected{background-color:var(--nui-color-selected,rgba(0, 196, 210, .1));font-weight:600}.nui-menu-item.nui-menu-item--selected:hover{background-color:var(--nui-color-selected-hover,rgba(0, 196, 210, .2))}.nui-menu .nui-menu--compact{line-height:1}.nui-menu .nui-button.menu-button:focus{outline:none;z-index:500;box-shadow:0 0 0 2px #00c4d280}
`],encapsulation:2})}}return o})();export{Me as a};
