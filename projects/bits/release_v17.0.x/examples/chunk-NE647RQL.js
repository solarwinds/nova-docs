import{$ as Ae,ia as h}from"./chunk-Y4J4GIST.js";import{b as ce,c as me,d as Ee,e as pe,f as se,g as de,h as Le,i as ue,j as Te}from"./chunk-ROHHJFB2.js";import{k as oe}from"./chunk-KIGPGWPN.js";import{z as _e}from"./chunk-6RVLRIW3.js";import{a as ae}from"./chunk-SHQNNEG6.js";import{a as re}from"./chunk-A5U7KQB6.js";import{A as M}from"./chunk-CHJVZ6O7.js";import{m as ne,r as le}from"./chunk-N5FUFMYY.js";import{$b as d,Aa as F,Gb as c,Ib as r,Ja as G,Jb as P,Ka as W,M as U,Mc as g,Na as z,Ob as l,Pb as a,Qb as O,Rb as L,Sb as u,Tb as y,Ub as H,_c as ie,bc as j,cc as Q,fa as X,fc as C,g as $,ga as I,h as w,ia as N,mc as q,nc as J,oa as k,ob as n,oc as K,pb as x,pc as f,qc as m,rc as S,sc as A,vc as Y,wc as Z,xc as ee,yc as te}from"./chunk-7UJBXEVU.js";import{j as R}from"./chunk-XR34LRGE.js";function Se(e,i){e&1&&(l(0,"th",37),d(1,4),a())}function Ce(e,i){if(e&1&&(l(0,"td",38),m(1),a()),e&2){let t=i.$implicit;n(),S(t.no)}}function fe(e,i){e&1&&(l(0,"th",37),d(1,5),a())}function Re(e,i){if(e&1&&(l(0,"td",38),m(1),a()),e&2){let t=i.$implicit;n(),A(" ",t.nameTitle," ")}}function Oe(e,i){e&1&&(l(0,"th",37),d(1,6),a())}function ge(e,i){if(e&1&&(l(0,"td",38),m(1),a()),e&2){let t=i.$implicit;n(),A(" ",t.nameFirst," ")}}function Me(e,i){e&1&&(l(0,"th",37),d(1,7),a())}function he(e,i){if(e&1&&(l(0,"td",38),m(1),a()),e&2){let t=i.$implicit;n(),A(" ",t.nameLast," ")}}function Ie(e,i){e&1&&(l(0,"th",37),d(1,8),a())}function Ne(e,i){if(e&1&&(l(0,"td",38),m(1),a()),e&2){let t=i.$implicit;n(),S(t.gender)}}function xe(e,i){e&1&&(l(0,"th",37),d(1,9),a())}function Pe(e,i){if(e&1&&(l(0,"td",38),m(1),a()),e&2){let t=i.$implicit;n(),A(" ",t.country," ")}}function ye(e,i){e&1&&(l(0,"th",37),d(1,10),a())}function be(e,i){if(e&1&&(l(0,"td",38),m(1),a()),e&2){let t=i.$implicit;n(),S(t.city)}}function ve(e,i){e&1&&(l(0,"th",37),d(1,11),a())}function De(e,i){if(e&1&&(l(0,"td",38),m(1),a()),e&2){let t=i.$implicit;n(),A(" ",t.postcode," ")}}function Ve(e,i){e&1&&(l(0,"th",37),d(1,12),a())}function Be(e,i){if(e&1&&(l(0,"td",38),m(1),a()),e&2){let t=i.$implicit;n(),S(t.email)}}function $e(e,i){e&1&&(l(0,"th",37),d(1,13),a())}function we(e,i){if(e&1&&(l(0,"td",39),m(1),a()),e&2){let t=i.$implicit;n(),A(" ",t.cell," ")}}function Ue(e,i){e&1&&O(0,"tr",40)}function Xe(e,i){e&1&&O(0,"tr",41)}function ke(e,i){e&1&&y(0)}function Fe(e,i){if(e&1&&(l(0,"div"),c(1,ke,1,0,"ng-container",42),a()),e&2){C();let t=f(46);n(),r("ngTemplateOutlet",t)}}function Ge(e,i){e&1&&y(0)}function We(e,i){if(e&1&&(l(0,"div"),c(1,Ge,1,0,"ng-container",42),a()),e&2){C();let t=f(46);n(),r("ngTemplateOutlet",t)}}function ze(e,i){if(e&1&&(l(0,"div",46),O(1,"nui-spinner",47),l(2,"span"),m(3),a()()),e&2){let t=C(2);n(),r("show",t.isBusy),n(2),A("Loading next ",t.range," items...")}}function He(e,i){e&1&&(l(0,"span"),m(1,", scroll down for more."),a())}function je(e,i){e&1&&(l(0,"strong"),m(1,". All items loaded."),a())}function Qe(e,i){if(e&1&&(l(0,"div",48),m(1," Showing "),l(2,"span",49),m(3),a(),m(4," of "),l(5,"span",50),m(6),a(),c(7,He,2,0,"span",51),a(),c(8,je,2,0,"ng-template",null,2,g)),e&2){let t=f(9),o=C(2);n(3),S(o.users.length),n(3),S(o.totalItems),n(),r("ngIf",o.users.length!==o.totalItems)("ngIfElse",t)}}function qe(e,i){if(e&1&&(l(0,"footer",43)(1,"div",44),c(2,ze,4,2,"div",45)(3,Qe,10,4,"ng-template",null,1,g),a()()),e&2){let t=f(4),o=C();n(2),r("ngIf",o.isBusy)("ngIfElse",t)}}var Lt=(()=>{class e{get totalItems(){return this._totalItems}get isBusy(){return this._isBusy}constructor(t,o){this.cd=t,this.viewportManager=o,this._totalItems=0,this._isBusy=!1,this.onDestroy$=new $,this.range=40,this.users=[],this.displayedColumns=["no","nameTitle","nameFirst","nameLast","gender","country","city","postcode","email","cell"],this.gridHeight=400,this.makeSticky=!0,this.dataSource=new Je}ngOnInit(){this.dataSource.busy.pipe(I(this.onDestroy$)).subscribe(t=>{this._isBusy=t})}ngAfterViewInit(){this.registerVirtualScroll(),this.viewportManager.setViewport(this.viewport).observeNextPage$({pageSize:this.range}).pipe(U(t=>this.totalItems?this.totalItems>=t.end:!0),N(()=>R(this,null,function*(){return this.dataSource.applyFilters()})),X(()=>this.dataSource.outputsSubject.pipe(N(t=>{this._totalItems=t.totalItems,this.users=t.repeat.itemsSource||[],this.cd.detectChanges()}))),I(this.onDestroy$)).subscribe()}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}registerVirtualScroll(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.viewportManager}})}static{this.\u0275fac=function(o){return new(o||e)(x(ie),x(h))}}static{this.\u0275cmp=F({type:e,selectors:[["nui-table-virtual-scroll-real-api-example"]],viewQuery:function(o,_){if(o&1&&q(M,5),o&2){let p;J(p=K())&&(_.viewport=p.first)}},features:[te([h])],decls:47,vars:28,consts:()=>{let t;t=$localize`:␟41bcb4122db33778f2e154a20c3caf8a3fca313d␟7916552330134974894: ${"\uFFFD0\uFFFD"}:INTERPOLATION: `;let o;o=$localize`:␟8675a724bb3952337aef7625c81b11e39a82d31b␟4511235385998512563:No.`;let _;_=$localize`:␟fdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e␟5701618810648052610:Title`;let p;p=$localize`:␟c83b838d845690bcb897f775f53b5316535306dc␟6028371114637047813:First Name`;let E;E=$localize`:␟166b2cc65003221ff5f3ec05d5baca41e6821396␟4407559560004943843:Last Name`;let s;s=$localize`:␟003d4f5e4909ccf01b6a204c688fd6dab15c20bd␟3948439187870398089:Gender`;let b;b=$localize`:␟a43f25a9ac40e8e2441ff0be7a36b8e5d15534df␟516176798986294299:Country`;let v;v=$localize`:␟5c7012b5a926b32d9e45fefdcc8a1a3cb6f023d0␟2314075913167237221:City`;let D;D=$localize`:␟47b3774a0cd5cde96c16a2c6f913b48ae9ce796c␟1940878621012578963:Postcode`;let V;V=$localize`:␟244aae9346da82b0922506c2d2581373a15641cc␟4768749765465246664:Email`;let B;return B=$localize`:␟6f1d7ee33c065fdbd6aaeb2bc3f396b62041eb25␟7535645862736277850:Cell`,[["footer",""],["defaultText",""],["endOfData",""],t,o,_,p,E,s,b,v,D,V,B,[1,"mb-3"],[1,"row"],[1,"col-3"],[3,"valueChange","value"],[2,"border-color","lightgrey"],["tableVirtualScroll","",3,"rowHeight","rowCount"],["nui-table","",3,"dataSource","resizable","reorderable"],["nuiColumnDef","no",3,"columnWidth"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","nameTitle",3,"columnWidth"],["nuiColumnDef","nameFirst",3,"columnWidth"],["nuiColumnDef","nameLast",3,"columnWidth"],["nuiColumnDef","gender",3,"columnWidth"],["nuiColumnDef","country",3,"columnWidth"],["nuiColumnDef","city",3,"columnWidth"],["nuiColumnDef","postcode",3,"columnWidth"],["nuiColumnDef","email",3,"columnWidth"],["nuiColumnDef","cell",3,"columnWidth"],["nui-cell","","style","overflow: visible",4,"nuiCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","","density","tiny",4,"nuiRowDef","nuiRowDefColumns"],[4,"ngIf"],["nui-header-cell",""],["nui-cell",""],["nui-cell","",2,"overflow","visible"],["nui-header-row",""],["nui-row","","density","tiny"],[4,"ngTemplateOutlet"],[1,"nui-demo-scrolling-footer"],[1,"h-100","w-100"],["class","d-flex justify-content-center align-items-center",4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-center","align-items-center"],["size","small",1,"mr-2","d-inline-flex",3,"show"],[1,"h-100","d-flex","justify-content-center","align-items-center"],[1,"px-2"],[1,"pl-2"],[4,"ngIf","ngIfElse"]]},template:function(o,_){if(o&1){let p=H();l(0,"div",14)(1,"div",15)(2,"div",16),m(3,"Sticky footer:"),a()(),l(4,"div",15)(5,"div",16)(6,"nui-switch",17),ee("valueChange",function(s){return G(p),Z(_.makeSticky,s)||(_.makeSticky=s),W(s)}),d(7,3),a()()()(),l(8,"div",18)(9,"cdk-virtual-scroll-viewport",19)(10,"table",20),L(11,21),c(12,Se,2,0,"th",22)(13,Ce,2,1,"td",23),u(),L(14,24),c(15,fe,2,0,"th",22)(16,Re,2,1,"td",23),u(),L(17,25),c(18,Oe,2,0,"th",22)(19,ge,2,1,"td",23),u(),L(20,26),c(21,Me,2,0,"th",22)(22,he,2,1,"td",23),u(),L(23,27),c(24,Ie,2,0,"th",22)(25,Ne,2,1,"td",23),u(),L(26,28),c(27,xe,2,0,"th",22)(28,Pe,2,1,"td",23),u(),L(29,29),c(30,ye,2,0,"th",22)(31,be,2,1,"td",23),u(),L(32,30),c(33,ve,2,0,"th",22)(34,De,2,1,"td",23),u(),L(35,31),c(36,Ve,2,0,"th",22)(37,Be,2,1,"td",23),u(),L(38,32),c(39,$e,2,0,"th",22)(40,we,2,1,"td",33),u(),c(41,Ue,1,0,"tr",34)(42,Xe,1,0,"tr",35),a(),c(43,Fe,2,1,"div",36),a()(),c(44,We,2,1,"div",36)(45,qe,5,2,"ng-template",null,0,g)}o&2&&(n(6),Y("value",_.makeSticky),n(),j(_.makeSticky?"Sticky":"Not Sticky"),Q(7),n(),P("height",_.gridHeight,"px")("max-width",1300,"px"),n(),P("height",_.gridHeight,"px"),r("rowHeight",24)("rowCount",_.users.length),n(),r("dataSource",_.users)("resizable",!1)("reorderable",!0),n(),r("columnWidth",50),n(3),r("columnWidth",100),n(3),r("columnWidth",100),n(3),r("columnWidth",100),n(3),r("columnWidth",100),n(3),r("columnWidth",150),n(3),r("columnWidth",100),n(3),r("columnWidth",100),n(3),r("columnWidth",200),n(3),r("columnWidth",150),n(3),r("nuiHeaderRowDef",_.displayedColumns)("nuiHeaderRowDefSticky",!0),n(),r("nuiRowDefColumns",_.displayedColumns),n(),r("ngIf",!_.makeSticky),n(),r("ngIf",_.makeSticky))},dependencies:[_e,de,ce,Le,ue,Te,pe,se,Ee,me,oe,ne,le,ae,M,re],styles:[".nui-demo-scrolling-footer[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-transparent,transparent);height:24px;border:1px solid;border-color:var(--nui-color-line-default,#d9d9d9);max-width:1285px;line-height:14px;font-size:11px;font-weight:400;color:#1119;color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}"],changeDetection:0})}}return e})(),Je=(()=>{class e extends Ae{constructor(){super(...arguments),this.url="https://randomuser.me/api",this.seed="sw",this.cache=Array.from({length:0}),this.busy=new w(!1)}getFilteredData(t){return R(this,null,function*(){this.busy.next(!0);let o=t.virtualScroll&&t.virtualScroll.value,_=o?t.virtualScroll?.value.start:0,p=o?t.virtualScroll?.value.end:0;return new Promise(E=>{setTimeout(()=>{this.getData(_,p).then(s=>{s&&(this.cache=this.cache.concat(s.users),this.dataSubject.next(this.cache),E({repeat:{itemsSource:this.cache},totalItems:200,start:s.start}),this.busy.next(!1))})},2e3)})})}getData(t=0,o=20){return R(this,null,function*(){let _,p=o-t;try{return _=yield(yield fetch(`${this.url}/?page=${o/p}&results=${p}&seed=${this.seed}`)).json(),{users:_?.results.map((E,s)=>({no:this.cache.length+s+1,nameTitle:E.name.title,nameFirst:E.name.first,nameLast:E.name.last,gender:E.gender,country:E.location.country,city:E.location.city,postcode:E.location.postcode,email:E.email,cell:E.cell})),total:_?.results.length,start:t}}catch{console.error("Error responding from server. Please visit https://https://randomuser.me/ to see if it's available")}})}static{this.\u0275fac=(()=>{let t;return function(_){return(t||(t=z(e)))(_||e)}})()}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();export{Lt as a,Je as b};
