import{fa as p}from"./chunk-QFUYJXD4.js";import{a as E}from"./chunk-CAUUXJ5Z.js";import{a as I}from"./chunk-BDWHD4BJ.js";import{b as F}from"./chunk-CMTYQMWG.js";import{Aa as v,Gb as y,Ib as l,Ja as u,Ka as m,Mc as P,Ob as c,Pb as s,Qb as C,Ub as _,_c as k,ec as d,mc as h,nc as f,ob as o,oc as S,pb as g,pc as D,qc as w,rc as b,yc as R}from"./chunk-7UJBXEVU.js";import{j as n}from"./chunk-XR34LRGE.js";var B=["filteringPaginator"],V=["filteringSearch"];function Q(r,T){if(r&1&&(c(0,"div"),w(1),s()),r&2){let e=T.item;o(),b(e.color)}}var j=[{color:"regular-blue"},{color:"regular-green"},{color:"regular-yellow"},{color:"regular-cyan "},{color:"regular-magenta"},{color:"regular-black"},{color:"dark-blue"},{color:"dark-green"},{color:"dark-yellow"},{color:"dark-cyan "},{color:"dark-magenta"},{color:"dark-black"},{color:"light-blue"},{color:"light-green"},{color:"light-yellow"},{color:"light-cyan "},{color:"light-magenta"},{color:"light-black"}],H=(()=>{class r{constructor(e,a){this.dataSourceService=e,this.changeDetection=a,this.searchTerm="",this.page=1,this.state={repeat:{itemsSource:[]},paginator:{total:void 0}},e.setData(j),this.filters=["regular","dark","light"],this.selectedFilters=[]}ngAfterViewInit(){return n(this,null,function*(){this.dataSourceService.registerComponent({search:{componentInstance:this.filteringSearch},paginator:{componentInstance:this.filteringPaginator}}),this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.state=e,e&&e.paginator&&e.paginator.reset&&(this.filteringPaginator.page=1),this.changeDetection.detectChanges()}),yield this.dataSourceService.applyFilters()})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}onSearch(e){return n(this,null,function*(){yield this.dataSourceService.applyFilters()})}changePagination(){return n(this,null,function*(){yield this.dataSourceService.applyFilters()})}applyFilters(){return n(this,null,function*(){yield this.dataSourceService.applyFilters()})}static{this.\u0275fac=function(a){return new(a||r)(g(p),g(k))}}static{this.\u0275cmp=v({type:r,selectors:[["nui-deprecated-client-side-basic-data-source-example"]],viewQuery:function(a,t){if(a&1&&(h(B,5),h(V,5)),a&2){let i;f(i=S())&&(t.filteringPaginator=i.first),f(i=S())&&(t.filteringSearch=i.first)}},features:[R([p])],decls:11,vars:5,consts:[["repeatItemTemplate",""],["filteringSearch",""],["filteringRepeat",""],["filteringPaginator",""],[1,"client-side-example"],[1,"d-flex"],[1,"flex-row"],[1,"searchBar",3,"search","value"],[1,"repeater",3,"itemsSource","repeatItemTemplateRef"],["activeClass","active","disabledClass","disabled","showPrevNext","true",1,"paginator",3,"pagerAction","page","total"]],template:function(a,t){if(a&1){let i=_();y(0,Q,2,1,"ng-template",null,0,P),c(2,"div",4)(3,"div",5)(4,"div",6)(5,"nui-search",7,1),d("search",function(A){return u(i),m(t.onSearch(A))}),s(),C(7,"nui-repeat",8,2),c(9,"nui-paginator",9,3),d("pagerAction",function(){return u(i),m(t.changePagination())}),s()()()()}if(a&2){let i=D(1);o(5),l("value",t.searchTerm),o(2),l("itemsSource",t.state.repeat==null?null:t.state.repeat.itemsSource)("repeatItemTemplateRef",i),o(2),l("page",t.page)("total",t.state.paginator==null?null:t.state.paginator.total)}},dependencies:[F,I,E],encapsulation:2})}}return r})();export{H as a};
