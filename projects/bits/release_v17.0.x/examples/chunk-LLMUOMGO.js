import{ca as j,ga as y}from"./chunk-Y4J4GIST.js";import{a as O}from"./chunk-ROHHJFB2.js";import{a as d}from"./chunk-CAUUXJ5Z.js";import{a as v}from"./chunk-BDWHD4BJ.js";import{b as f}from"./chunk-HDYRFVZG.js";import{a as F}from"./chunk-S55LKKD2.js";import{Aa as b,Gb as I,Ib as p,Ja as s,Ka as c,Mc as Q,Ob as n,Pb as l,Ub as E,_c as W,ec as u,mc as h,nc as g,ob as o,oc as S,pb as m,pc as R,qc as k,rc as T,yc as V}from"./chunk-7UJBXEVU.js";import{a as w,j as D}from"./chunk-XR34LRGE.js";function M(r,A){if(r&1&&(n(0,"div"),k(1),l()),r&2){let t=A.item;o(),T(t.color)}}var J=(()=>{class r{constructor(t,a,e){this.dataSourceService=t,this.changeDetection=a,this.listService=e,this.searchTerm="",this.page=1,this.state={},t.setData(P())}ngAfterViewInit(){return D(this,null,function*(){this.dataSourceService.registerComponent({search:{componentInstance:this.search},paginator:{componentInstance:this.paginator},repeat:{componentInstance:this.repeat}}),this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(t=>{this.state=w(w({},this.state),t),this.state=this.listService.updateSelectionState(this.state),this.changeDetection.detectChanges()}),yield this.applyFilters()})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}applyFilters(){return D(this,null,function*(){yield this.dataSourceService.applyFilters()})}onSelectorOutput(t){this.state=this.listService.applySelector(t,this.state)}onRepeatOutput(t){this.state=this.listService.selectItems(t,F.multi,this.state)}static{this.\u0275fac=function(a){return new(a||r)(m(y),m(W),m(j))}}static{this.\u0275cmp=b({type:r,selectors:[["nui-client-side-with-selection-example"]],viewQuery:function(a,e){if(a&1&&(h(f,5),h(v,5),h(d,5)),a&2){let i;g(i=S())&&(e.paginator=i.first),g(i=S())&&(e.search=i.first),g(i=S())&&(e.repeat=i.first)}},features:[V([y])],decls:9,vars:9,consts:[["repeatItemTemplate",""],[1,"client-side-example"],[1,"d-flex"],[1,"flex-row"],[3,"selectionChange","checkboxStatus","items"],[1,"searchBar",3,"search","value"],["selectionMode","multi",1,"repeater",3,"selectionChange","itemsSource","repeatItemTemplateRef","selection"],["activeClass","active","disabledClass","disabled","showPrevNext","true",1,"paginator",3,"pagerAction","page","pageSize","total"]],template:function(a,e){if(a&1){let i=E();I(0,M,2,1,"ng-template",null,0,Q),n(2,"div",1)(3,"div",2)(4,"div",3)(5,"nui-selector",4),u("selectionChange",function(_){return s(i),c(e.onSelectorOutput(_))}),l(),n(6,"nui-search",5),u("search",function(){return s(i),c(e.applyFilters())}),l(),n(7,"nui-repeat",6),u("selectionChange",function(_){return s(i),c(e.onRepeatOutput(_))}),l(),n(8,"nui-paginator",7),u("pagerAction",function(){return s(i),c(e.applyFilters())}),l()()()()}if(a&2){let i=R(1);o(5),p("checkboxStatus",e.state.selector==null?null:e.state.selector.selectorState.checkboxStatus)("items",e.state.selector==null?null:e.state.selector.selectorState.selectorItems),o(),p("value",e.searchTerm),o(),p("itemsSource",e.state.repeat==null?null:e.state.repeat.itemsSource)("repeatItemTemplateRef",i)("selection",e.state.repeat==null?null:e.state.repeat.selectedItems),o(),p("page",e.page)("pageSize",10)("total",e.state.paginator==null?null:e.state.paginator.total)}},dependencies:[f,v,d,O],encapsulation:2,changeDetection:0})}}return r})();function P(){return[{color:"regular-blue"},{color:"regular-green"},{color:"regular-yellow"},{color:"regular-cyan "},{color:"regular-magenta"},{color:"regular-black"},{color:"dark-blue"},{color:"dark-green"},{color:"dark-yellow"},{color:"dark-cyan "},{color:"dark-magenta"},{color:"dark-black"},{color:"light-blue"},{color:"light-green"},{color:"light-yellow"},{color:"light-cyan "},{color:"light-magenta"},{color:"light-black"}]}export{J as a};
