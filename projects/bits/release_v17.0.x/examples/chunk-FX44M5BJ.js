import{ga as g}from"./chunk-QFUYJXD4.js";import{a as V}from"./chunk-CAUUXJ5Z.js";import{a as j}from"./chunk-BDWHD4BJ.js";import{b as Q}from"./chunk-CMTYQMWG.js";import{Aa as v,Gb as D,Ib as c,Ja as o,Ka as l,Mc as A,Ob as s,Pb as p,Q as _,Qb as b,Ub as w,_c as P,ec as f,g as C,mc as u,nc as m,ob as n,oc as d,pb as S,pc as T,qc as I,rc as R,yc as E}from"./chunk-7UJBXEVU.js";import{j as h}from"./chunk-XR34LRGE.js";var x=["filteringPaginator"],F=["filteringSearch"],q=["filteringSorter"];function M(a,k){if(a&1&&(s(0,"div"),I(1),p()),a&2){let i=k.item;n(),R(i.color)}}var N=[{color:"regular-blue"},{color:"regular-green"},{color:"regular-yellow"},{color:"regular-cyan"},{color:"regular-magenta"},{color:"regular-black"},{color:"dark-blue"},{color:"dark-green"},{color:"dark-yellow"},{color:"dark-cyan"},{color:"dark-magenta"},{color:"light-blue"},{color:"light-green"},{color:"light-yellow"},{color:"light-cyan"},{color:"light-magenta"}],X=(()=>{class a{constructor(i,r){this.dataSourceService=i,this.changeDetection=r,this.searchTerm="",this.page=1,this.sorter={columns:["color","red","green","blue"],sortedColumn:"color",direction:"asc"},this.state={repeat:{itemsSource:[]},paginator:{total:void 0}},this.delayActionSubject=new C,i.setData(N),this.filters=["regular","dark","light"],this.selectedFilters=[]}ngAfterViewInit(){return h(this,null,function*(){this.dataSourceService.componentTree={search:{componentInstance:this.filteringSearch},paginator:{componentInstance:this.filteringPaginator}},this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(i=>{this.state=i,this.changeDetection.detectChanges()}),this.delayActionSubject.pipe(_(500)).subscribe(()=>{this.dataSourceService.applyFilters()}),this.dataSourceService.applyFilters()})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}onSearch(){this.delayActionSubject.next()}changePagination(){return h(this,null,function*(){yield this.dataSourceService.applyFilters()})}static{this.\u0275fac=function(r){return new(r||a)(S(g),S(P))}}static{this.\u0275cmp=v({type:a,selectors:[["nui-client-side-delayed-data-source-example"]],viewQuery:function(r,e){if(r&1&&(u(x,5),u(F,5),u(q,5)),r&2){let t;m(t=d())&&(e.filteringPaginator=t.first),m(t=d())&&(e.filteringSearch=t.first),m(t=d())&&(e.filteringSorter=t.first)}},features:[E([g])],decls:11,vars:5,consts:[["repeatItemTemplate",""],["filteringSearch",""],["filteringRepeat",""],["filteringPaginator",""],[1,"client-side-delayed-example"],[1,"d-flex"],[1,"flex-row"],[3,"inputChange","cancel","value"],[3,"itemsSource","repeatItemTemplateRef"],["activeClass","active","disabledClass","disabled","showPrevNext","true",3,"pagerAction","page","total"]],template:function(r,e){if(r&1){let t=w();D(0,M,2,1,"ng-template",null,0,A),s(2,"div",4)(3,"div",5)(4,"div",6)(5,"nui-search",7,1),f("inputChange",function(){return o(t),l(e.onSearch())})("cancel",function(){return o(t),l(e.onSearch())}),p(),b(7,"nui-repeat",8,2),s(9,"nui-paginator",9,3),f("pagerAction",function(){return o(t),l(e.changePagination())}),p()()()()}if(r&2){let t=T(1);n(5),c("value",e.searchTerm),n(2),c("itemsSource",e.state.repeat==null?null:e.state.repeat.itemsSource)("repeatItemTemplateRef",t),n(2),c("page",e.page)("total",e.state.paginator==null?null:e.state.paginator.total)}},dependencies:[Q,j,V],encapsulation:2})}}return a})();export{X as a};
