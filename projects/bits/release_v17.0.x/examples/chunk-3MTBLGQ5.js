import{a as C}from"./chunk-LT3SQWXE.js";import{a as f}from"./chunk-5VDV6BXS.js";import{a as b}from"./chunk-3DJIGCHJ.js";import{c as u}from"./chunk-ZQRZBPBD.js";import{d}from"./chunk-N5FUFMYY.js";import{Ca as a,Sa as n,ec as l,pb as c,za as p}from"./chunk-7UJBXEVU.js";import{g as s}from"./chunk-XR34LRGE.js";var m=s(f()),h=s(C()),g=s(b());var j=(()=>{class o{onClick(t){return(0,h.default)(this.hasCopySupport,!0)?(t.preventDefault(),this.copyText()):(this.clipboardError.emit(),this.logger.error("document copy operation is not supported"))}constructor(t,e){this.logger=t,this.document=e,this.clipboardSuccess=new n,this.clipboardError=new n,this.hasCopySupport=!1,this.createNode=r=>{let i=this.document.createElement("textarea");return i.style.position="absolute",i.style.left="-10000px",i.textContent=r,i}}ngOnInit(){try{this.hasCopySupport=this.document.queryCommandSupported("copy")}catch(t){this.logger.error(t.message)}}copyText(){if((0,m.default)(this.textToCopy)||!(0,g.default)(this.textToCopy))return this.logger.warn("notext","nuiClipboard text is empty or not a string");let t=this.createNode(this.textToCopy);try{let e=this.document.getSelection();this.document.body.appendChild(t),t.select(),this.document.execCommand("copy"),e?.removeAllRanges(),this.clipboardSuccess.emit()}catch(e){this.logger.error(e.message),this.clipboardError.emit()}finally{this.document.body.removeChild(t)}}static{this.\u0275fac=function(e){return new(e||o)(c(u),c(d))}}static{this.\u0275dir=a({type:o,selectors:[["","nuiClipboard",""]],hostBindings:function(e,r){e&1&&l("click",function(y){return r.onClick(y)})},inputs:{textToCopy:[p.None,"nuiClipboard","textToCopy"]},outputs:{clipboardSuccess:"clipboardSuccess",clipboardError:"clipboardError"}})}}return o})();export{j as a};
