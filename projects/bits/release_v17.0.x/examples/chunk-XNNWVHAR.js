import{a as Me}from"./chunk-ERQIER5V.js";import{a as le}from"./chunk-TP2BH5IZ.js";import{a as $e}from"./chunk-S4VKJ2XO.js";import{a as Le,b as He,c as re}from"./chunk-NDX2TKMV.js";import{b as Ge}from"./chunk-44MRUDZE.js";import{a as Be}from"./chunk-XZBZIPTN.js";import{a as me}from"./chunk-IGOS7ASS.js";import{a as ze}from"./chunk-DJDERPPU.js";import{a as D}from"./chunk-CD7GTOCR.js";import{a as T}from"./chunk-E5YI6NVG.js";import{a as E}from"./chunk-REMBTTND.js";import{a as se,b as k}from"./chunk-AJ2UNGSN.js";import{d as ue}from"./chunk-HWA55D7L.js";import{b as Qe}from"./chunk-RBCDJAEW.js";import{a as Ae}from"./chunk-5VDV6BXS.js";import{a as ae}from"./chunk-PRPDBMMC.js";import{a as ee}from"./chunk-YS6YGF5L.js";import{n as Ne}from"./chunk-P53HI2D5.js";import{i as ce}from"./chunk-LVGKZ3JP.js";import{h as Fe}from"./chunk-W53BDDEF.js";import{b as qe}from"./chunk-4L4J44FK.js";import{a as Re}from"./chunk-ZFV3QWQN.js";import{a as Pe}from"./chunk-BXWCCJQR.js";import{e as je}from"./chunk-J22KVR7U.js";import{a as te}from"./chunk-WWHLHLSG.js";import{a as ne}from"./chunk-QRWA7LTP.js";import{c as ie}from"./chunk-ZQRZBPBD.js";import{d as oe}from"./chunk-7KV4WPOL.js";import{a as Oe}from"./chunk-SPXQGSTF.js";import{l as X,m as Y,r as Z}from"./chunk-N5FUFMYY.js";import{Aa as A,Bb as G,Cc as J,Gb as h,Hc as B,Ia as Q,Ib as r,Ja as v,Jc as P,Ka as y,Kb as m,Ob as l,Pb as p,Qb as S,Ra as C,Rb as N,Sb as $,Tb as K,Ub as V,_c as W,ec as w,fc as s,g as H,ib as j,mc as x,na as M,nc as f,ob as u,oc as g,pb as d,vb as z,yc as U}from"./chunk-7UJBXEVU.js";import{f as I,g as c}from"./chunk-XR34LRGE.js";var be=I((yi,pe)=>{var Ke=Pe(),Ue=je();function Je(o,a){var e=-1,n=Ue(o)?Array(o.length):[];return Ke(o,function(i,t,b){n[++e]=a(i,t,b)}),n}pe.exports=Je});var _e=I((Ci,de)=>{var We=Re(),Xe=Fe(),Ye=be(),Ze=te();function ei(o,a){var e=Ze(o)?We:Ye;return e(o,Xe(a,3))}de.exports=ei});var xe=I((wi,he)=>{var ii=Me(),oi=_e();function ni(o,a){return ii(oi(o,a),1)}he.exports=ni});var ge=I((Ii,fe)=>{var ti=Le(),ri={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ui=ti(ri);fe.exports=ui});var Ce=I((Si,ye)=>{var ai=qe(),ci=ge(),ve=/&(?:amp|lt|gt|quot|#39);/g,si=RegExp(ve.source);function mi(o){return o=ai(o),o&&si.test(o)?o.replace(ve,ci):o}ye.exports=mi});var we=c(ze()),Ie=c(He()),Se=c($e()),Ve=c(Ge()),q=c(xe()),F=c(Qe()),ke=c(te()),O=c(Ae()),Ee=c(Oe()),Te=c(Be()),L=c(Ne()),R=c(Ce());var li=["comboboxToggle"],pi=["scrollContainer"],bi=o=>({context:o});function di(o,a){if(o&1&&(l(0,"div",12),S(1,"nui-icon",13),p()),o&2){let e=s();u(),r("icon",e.icon)("iconColor",e.getIconColor())}}function _i(o,a){if(o&1){let e=V();l(0,"button",14),w("click",function(i){v(e);let t=s();return y(t.clearValue(i))}),p()}o&2&&r("isEmpty",!0)}function hi(o,a){if(o&1&&(S(0,"span",20),B(1,"nuiHighlight")),o&2){let e=s(2).$implicit,n=s();r("innerHTML",P(1,1,n.getItemDisplay(e),n.isItemSelected(e)?"":n.inputValue),j)}}function xi(o,a){if(o&1){let e=V();l(0,"nui-menu-action",17),w("actionDone",function(){v(e);let i=s().$implicit,t=s();return y(t.select(i))}),h(1,hi,2,4,"span",18),K(2,19),p()}if(o&2){let e=s().$implicit,n=s();m("item-selected",n.isItemSelected(e)),u(),r("ngIf",!n.customTemplate),u(),r("ngTemplateOutlet",n.customTemplate)("ngTemplateOutletContext",J(5,bi,e))}}function fi(o,a){if(o&1){let e=V();l(0,"nui-menu-action",23),w("actionDone",function(){let i=v(e).$implicit,t=s(3);return y(t.select(i))}),S(1,"span",20),B(2,"nuiHighlight"),p()}if(o&2){let e=a.$implicit,n=s(3);m("item-selected",n.isItemSelected(e)),u(),r("innerHTML",P(2,3,n.getItemDisplay(e),n.isItemSelected(e)?"":n.inputValue),j)}}function gi(o,a){if(o&1&&(l(0,"nui-menu-group",21),h(1,fi,3,6,"nui-menu-action",22),p()),o&2){let e=s().$implicit;r("header",e.header),u(),r("ngForOf",e.items)}}function vi(o,a){if(o&1&&(N(0),h(1,xi,3,7,"nui-menu-action",15)(2,gi,2,2,"nui-menu-group",16),$()),o&2){let e=a.$implicit;u(),r("ngIf",!e.items),u(),r("ngIf",e.items)}}var co=(()=>{class o extends me{get isJustified(){return this.justified}get isInline(){return this.inline}constructor(e,n,i,t,b,_,De){super(e),this.elRef=n,this.renderer=i,this.changeDetector=t,this.keyControlService=b,this.focusMonitor=_,this.logger=De,this.openControl=new H,this.debouncedBlur=(0,we.default)(()=>{this.handleBlur()},300),this.comboboxEventListeners=[],this.comboboxEventListeners.push(this.renderer.listen(this.elRef.nativeElement,"focusout",()=>{this.debouncedBlur()})),this.logger.warn("<nui-combobox> is deprecated as of Nova v11. Please use <nui-combobox-v2> instead.")}ngOnInit(){super.ngOnInit()}ngOnChanges(e){super.ngOnChanges(e)}displayPlaceholder(){return!(0,Te.default)(this.placeholder)&&(0,O.default)(this.inputValue)}displayPlaceholderValue(){return this.displayPlaceholder()?this.placeholder:""}showIcon(){return!(0,Ee.default)(this.icon)}showRightBorder(){return!this.isRemoveValueDisplayed()&&!(0,O.default)(this.inputValue)}isRemoveValueDisplayed(){return this.isRemoveValueEnabled&&!(0,O.default)(this.inputValue)}ngAfterViewInit(){this.setKeyboardManagerServiceData(),this.keyControlService.initKeyboardManager(),this.comboboxEventListeners.push(this.renderer.listen(this.elRef.nativeElement,"keydown",e=>{this.keyControlService.handleKeydown(e)})),this.focusMonitorSubscription=this.focusMonitor.monitor(this.comboboxToggle.nativeElement,!0).subscribe(e=>{e==="keyboard"&&(this.popup.popupToggle.disabled||this.isOpened||this.openControl.next(new FocusEvent("focusin")))}),this.itemsChangeSubscription=this.menuItems.changes.subscribe(e=>{this.keyControlService.initKeyboardManager(),this.keyControlService.setActiveItem(0),this.changeDetector.detectChanges()}),this.changeDetector.detectChanges()}setKeyboardManagerServiceData(){this.keyControlService.menuGroups=this.menuGroups,this.keyControlService.menuItems=this.menuItems,this.keyControlService.popup=this.popup,this.keyControlService.menuToggle=this.comboboxToggle}openChange(e){this.keyControlService.setActiveItem(-1),this.isOpened=e}onInputChange(e){let n=this.selectedItem,i=this.displayValue?this.findObjectByValue(e):e;this.changeValue(i),this.changed.emit({newValue:i,oldValue:n})}handleBlur(){let e=this.displayValue?this.findObjectByValue((0,R.default)(this.inputValue)):(0,R.default)(this.inputValue),n=this.isGroupedData(this.itemsSource),i;if(n){let b=(0,q.default)(this.itemsSource,_=>_.items);i=this.displayValue?(0,L.default)(b,e):(0,F.default)(b,e)}else i=this.displayValue?(0,L.default)(this.itemsSource,e):(0,F.default)(this.itemsSource,e);let t=this.clearOnBlur&&!i?"":this.selectedItem;this.select(t)}select(e){super.select(e)}findObjectByValue(e){let n;this.isGroupedData(this.itemsSource)?n=(0,q.default)(this.itemsSource,t=>t.items):n=this.itemsSource;let i=(0,Ve.default)(n,[this.displayValue,e]);return i||e}isGroupedData(e){return(0,Se.default)(e,n=>(0,ke.default)(n.items))}getItemDisplay(e){return super.getItemDisplay(e)}escapeItem(e){return(0,Ie.default)(e)}unescapeItem(e){return(0,R.default)(e)}ngOnDestroy(){this.itemsChangeSubscription&&this.itemsChangeSubscription.unsubscribe(),this.comboboxEventListeners.length>0&&this.comboboxEventListeners.forEach(e=>e()),this.focusMonitorSubscription&&this.focusMonitorSubscription.unsubscribe()}getWidth(){return this.customTemplate?"auto":this.popupRef.nativeElement.getBoundingClientRect().width}getPopupContextClass(){return`${this.justified?"nui-combobox--justified ":""}nui-combobox-popup-host`}clearValue(e){this.isRemoveValueEnabled&&(this.changeValue(null),e.stopPropagation(),this.popup.closePopup())}static{this.\u0275fac=function(n){return new(n||o)(d(ue),d(C),d(z),d(W),d(D),d(ce),d(ie))}}static{this.\u0275cmp=A({type:o,selectors:[["nui-combobox"]],viewQuery:function(n,i){if(n&1&&(x(li,5,C),x(pi,5,C),x(k,5),x(k,7,C),x(T,5),x(E,5)),n&2){let t;f(t=g())&&(i.comboboxToggle=t.first),f(t=g())&&(i.scrollContainer=t.first),f(t=g())&&(i.popup=t.first),f(t=g())&&(i.popupRef=t.first),f(t=g())&&(i.menuItems=t),f(t=g())&&(i.menuGroups=t)}},hostAttrs:[1,"nui-combobox"],hostVars:4,hostBindings:function(n,i){n&2&&m("nui-combobox--justified",i.isJustified)("nui-combobox--inline",i.isInline)},inputs:{clearOnBlur:"clearOnBlur",appendToBody:"appendToBody"},features:[U([{provide:ee,multi:!0,useExisting:M(()=>o)},{provide:ae,useExisting:M(()=>o),multi:!0},D]),G,Q],decls:12,vars:31,consts:[["comboboxToggle",""],["scrollContainer",""],[1,"nui-combobox__layout-block"],[3,"opened","manualOpenControl","width","contextClass","appendToBody"],["class","nui-combobox__icon",4,"ngIf"],["nuiPopupToggle","",1,"nui-combobox__container",3,"disabled"],["type","text","autocomplete","off",1,"nui-combobox__input",3,"textChange","value","placeholder","disabled","isInErrorState","ariaLabel"],["tabindex","-1","nui-button","","class","nui-combobox__remove-value","icon","remove","title","remove","displayStyle","action","type","button",3,"isEmpty","click",4,"ngIf"],["tabindex","-1","nui-button","","icon","caret-down","title","toggle","displayStyle","action","type","button",1,"nui-combobox__toggle",3,"isEmpty","disabled"],["popupAreaContent",""],[1,"nui-menu","nui-combobox__menu"],[4,"ngFor","ngForOf"],[1,"nui-combobox__icon"],["aria-hidden","true",3,"icon","iconColor"],["tabindex","-1","nui-button","","icon","remove","title","remove","displayStyle","action","type","button",1,"nui-combobox__remove-value",3,"click","isEmpty"],["tabindex","-1",3,"item-selected","actionDone",4,"ngIf"],["tabindex","-1",3,"header",4,"ngIf"],["tabindex","-1",3,"actionDone"],["tabindex","-1",3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1",3,"innerHTML"],["tabindex","-1",3,"header"],[3,"item-selected","actionDone",4,"ngFor","ngForOf"],[3,"actionDone"]],template:function(n,i){if(n&1){let t=V();l(0,"div",2)(1,"nui-popup",3),w("opened",function(_){return v(t),y(i.openChange(_))}),h(2,di,2,2,"div",4),l(3,"div",5)(4,"nui-textbox",6,0),w("textChange",function(_){return v(t),y(i.onInputChange(_))}),p(),h(6,_i,1,1,"button",7),S(7,"button",8),p(),l(8,"div",9)(9,"div",10,1),h(11,vi,3,2,"ng-container",11),p()()()()}n&2&&(m("disabled",i.isDisabled),u(),m("custom-template",i.customTemplate),r("manualOpenControl",i.openControl)("width",i.getWidth())("contextClass",i.getPopupContextClass())("appendToBody",i.appendToBody),u(),r("ngIf",!!i.icon),u(),m("has-error",i.isInErrorState)("nui-combobox__editable-container--disabled",i.isDisabled),r("disabled",i.isDisabled),u(),m("nui-combobox__input-icon",i.showIcon())("nui-combobox__right-border",i.showRightBorder())("nui-combobox__input--with-remove-value",i.isRemoveValueDisplayed()),r("value",i.unescapeItem(i.inputValue))("placeholder",i.displayPlaceholderValue())("disabled",i.isDisabled)("isInErrorState",i.isInErrorState)("ariaLabel",i.ariaLabel),u(2),r("ngIf",i.isRemoveValueDisplayed()),u(),m("disabled",i.isDisabled),r("isEmpty",!0)("disabled",i.isDisabled),u(4),r("ngForOf",i.itemsSource))},dependencies:[X,Y,Z,se,k,oe,le,ne,T,E,re],styles:[`.nui-menu-item{display:list-item;list-style-type:none;white-space:nowrap;margin-bottom:1px;font-size:13px;background-color:var(--nui-color-bg-transparent,transparent)}.nui-menu-item:not(.nui-menu-item--header){min-height:30px}.nui-menu-item .nui-icon{margin-right:5px}.nui-menu-item:not(.nui-menu-item--header):hover{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05))}.nui-menu-item:not(.nui-menu-item--header):hover .nui-checkbox__label{background-color:var(--transparent,transparent)}.nui-menu-item.nui-menu-item--header{padding:5px 10px;text-transform:uppercase;cursor:default;font-size:11px;color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));line-height:14px}.nui-menu-item.nui-menu-item__default,.nui-menu-item .nui-checkbox__transclude,.nui-menu-item>.nui-menu-item__link,.nui-menu-item>.nui-menu-item__switch,.nui-menu-item>.nui-menu-item__option{overflow:hidden;text-overflow:ellipsis}.nui-menu-item>.nui-menu-item__link,.nui-menu-item>.nui-menu-item__switch,.nui-menu-item>.nui-menu-item__option,.nui-menu-item>.nui-menu-item__default{display:flex;align-items:center;padding:5px 10px;text-decoration:none}.nui-menu-item>.nui-menu-item__link:active,.nui-menu-item>.nui-menu-item__switch:active,.nui-menu-item>.nui-menu-item__option:active,.nui-menu-item>.nui-menu-item__default:active,.nui-menu-item>.nui-menu-item__link:focus,.nui-menu-item>.nui-menu-item__switch:focus,.nui-menu-item>.nui-menu-item__option:focus,.nui-menu-item>.nui-menu-item__default:focus{outline:none;z-index:500;box-shadow:inset 0 0 0 2px #00c4d280}.nui-menu-item.checked{background-color:var(--nui-color-selected,rgba(0, 196, 210, .1));font-weight:600}.nui-menu-item.checked:hover{background-color:var(--nui-color-selected-hover,rgba(0, 196, 210, .2));font-weight:600;cursor:pointer}.nui-menu-item .nui-menu-item__default{padding:5px 10px;cursor:pointer;color:var(--nui-color-text-default,#111)}.nui-menu-item .nui-menu-item__default:hover{color:var(--nui-color-text-default-hover,#000000)}.nui-menu-item--active{background-color:var(--nui-color-bg-light-hover,#f2f2f2);outline:none;z-index:500;box-shadow:inset 0 0 0 2px #00c4d280}.nui-menu-item--active.nui-menu-item--selected,.nui-menu-item--active.nui-menu-item.checked{background-color:var(--nui-color-selected-hover,rgba(0, 196, 210, .2))}.nui-menu-item.nui-menu-item--selected{background-color:var(--nui-color-selected,rgba(0, 196, 210, .1));font-weight:600}.nui-menu-item.nui-menu-item--selected:hover{background-color:var(--nui-color-selected-hover,rgba(0, 196, 210, .2))}.nui .nui-combobox .nui-combobox__container{outline:none;border-radius:3px;border:1px solid #d9d9d9;border:1px solid var(--nui-color-line-default, #d9d9d9)}.nui .nui-combobox .nui-combobox__container.nui-combobox__editable-container--disabled{background-color:var(--nui-color-disabled-secondary,#e8e8e8)}.nui .nui-combobox .nui-combobox__container:not(.nui-combobox__editable-container--disabled):not(.has-error):hover{border-color:var(--nui-color-line-default-hover,#b3b3b3)}.nui .nui-combobox .nui-combobox__container:not(.nui-combobox__editable-container--disabled):not(.has-error):focus-within{border-color:var(--nui-color-line-active,#0079aa)}.nui .nui-combobox .nui-combobox__container:not(.nui-combobox__editable-container--disabled):not(.has-error):focus{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05));outline:none;z-index:500;box-shadow:0 0 0 2px #00c4d280}.nui .nui-combobox .nui-combobox__container.has-error{border-color:var(--nui-color-line-critical,#dd2c00)}.nui .nui-combobox .nui-combobox__container.has-error:focus{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05));outline:none;z-index:500;box-shadow:0 0 0 2px #00c4d280}.nui .nui-combobox--inline .nui-combobox__layout-block{display:inline-flex}.nui .nui-combobox .btn{border-radius:0 3px 3px 0}.nui .nui-combobox .btn:hover,.nui .nui-combobox .btn:active{outline:none}.nui .nui-combobox .btn:focus{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05));outline:none;z-index:500;box-shadow:0 0 0 2px #00c4d280}.nui .nui-combobox .btn.disabled{color:var(--nui-color-disabled,#b3b3b3);pointer-events:auto;cursor:not-allowed}.nui .nui-combobox .btn.disabled:hover,.nui .nui-combobox .btn.disabled:active{color:var(--nui-color-disabled,#b3b3b3);background-color:var(--transparent,transparent);box-shadow:none}.nui .nui-combobox .btn.disabled .nui-icon path,.nui .nui-combobox .btn.disabled .nui-icon polygon{fill:var(--nui-color-icon-disabled,rgba(17, 17, 17, .3))}.nui .nui-combobox .nui-menu-item .nui-menu-item__action{color:var(--nui-color-text-default,#111)}.nui .nui-combobox .nui-menu-item.item-selected .nui-menu-item__action{background-color:var(--nui-color-selected,rgba(0, 196, 210, .1));color:var(--nui-color-text-default,#111);font-weight:600}.nui .nui-combobox .nui-menu-item.item-selected .nui-menu-item__action:hover{background-color:var(--nui-color-selected-hover,rgba(0, 196, 210, .2))}.nui .nui-combobox .nui-popup .nui-popup__area [popupAreaContent]{padding:0}.nui .nui-combobox .nui-popup .nui-popup__area{width:100%;min-width:160px;max-width:400px;height:100%;overflow-y:auto}.nui .nui-combobox .nui-combobox__menu{max-height:300px;overflow-y:auto;max-width:400px;overflow-y:initial}.nui .nui-combobox__input{float:left;width:200px;height:30px;border-radius:3px 0 0 3px;border:0;box-shadow:none}.nui .nui-combobox__input--with-remove-value{width:170px}.nui .nui-combobox__input:not(:disabled):hover,.nui .nui-combobox__input:not(:disabled):focus{border-color:var(--nui-color-line-default,#d9d9d9);position:relative}.nui .nui-combobox__input .nui-textbox__input{border:none;box-shadow:none}.nui .nui-combobox__input .nui-textbox__input::-moz-placeholder{color:var(--input-color-placeholder,rgba(17, 17, 17, .6));opacity:1;font-weight:400}.nui .nui-combobox__input .nui-textbox__input:-ms-input-placeholder{color:var(--input-color-placeholder,rgba(17, 17, 17, .6));font-weight:400}.nui .nui-combobox__input .nui-textbox__input::-webkit-input-placeholder{color:var(--input-color-placeholder,rgba(17, 17, 17, .6));font-weight:400}.nui .nui-combobox__input .nui-textbox__input.input-control{border-radius:3px 0 0 3px;padding-right:0;margin-bottom:0}.nui .nui-combobox__input .nui-textbox__input.input-control:active{border:#0079aa}.nui .nui-combobox__input .nui-textbox__input.input-control:focus{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05));outline:none;z-index:500;box-shadow:0 0 0 2px #00c4d280}.nui .nui-combobox__remove-value{border-right:1px solid var(--nui-color-line-default, #d9d9d9);border-left:none}.nui .nui-combobox__icon{align-items:center;display:flex;height:22px;left:7px;pointer-events:none;position:absolute;top:5px;z-index:501}.nui .nui-combobox__input-icon .nui-textbox .has-feedback .nui-textbox__input{padding-left:32px}.nui .nui-combobox__right-border{border-right:1px solid var(--nui-color-line-default, #d9d9d9)}.nui .nui-combobox.disabled>.nui-combobox__container{background-color:var(--nui-color-disabled-secondary,#e8e8e8)}.nui .nui-combobox.disabled>.nui-combobox__btn-group>.btn{color:var(--nui-color-off,#4d4d4d);background-color:var(--nui-color-line-default,#d9d9d9);border-color:var(--nui-color-line-default,#d9d9d9)}.nui .nui-combobox--justified .nui-popup,.nui .nui-combobox--justified .nui-popup .nui-popup-container{flex-grow:1}.nui .nui-combobox--justified .nui-popup .nui-popup__content{width:100%}.nui .nui-combobox--justified .nui-combobox__layout-block{display:flex}.nui .nui-combobox--justified .nui-combobox__container{display:flex;flex-grow:1}.nui .nui-combobox--justified .nui-combobox__input{width:auto;display:flex;flex-grow:1}.nui .nui-combobox--justified .nui-combobox__input .nui-textbox,.nui .nui-combobox--justified .nui-combobox__input .nui-textbox .has-feedback{display:flex;flex-grow:1}.nui .nui-combobox--justified .nui-popup .nui-popup__area,.nui .nui-combobox--justified .nui-popup .nui-popup__area .nui-combobox__menu{max-width:none}.nui .nui-combobox .custom-template .nui-combobox__menu,.nui .nui-combobox .custom-template .nui-popup__area{width:auto}@-moz-document url-prefix(){.nui .nui-combobox .nui-menu-item{padding-right:0}}
`],encapsulation:2})}}return o})();export{be as a,co as b};
