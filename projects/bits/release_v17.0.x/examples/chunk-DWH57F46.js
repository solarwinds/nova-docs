import{a as Rp,b as Lp,c as Mp,d as Vp,e as Ap,f as Pp,g as kp}from"./chunk-KHXTZZZO.js";import{a as Np}from"./chunk-RMVT2SQY.js";import{h as Dp}from"./chunk-G7JQECHN.js";import"./chunk-R6YWDEVB.js";import{$ as N,B as Gi,C as Bi,D as nt,E as vt,F as et,J as Nt,K as Gt,L as ji,N as Wt,O as Ip,P as _t,Q as Bt,R as Ei,U as xp,_ as wp,a as jn,aa as Hh,b as tt,c as At,ca as bp,da as Uh,e as _p,ea as Ti,f as gp,fa as fi,ga as hi,ha as ze,ia as rt,l as Ot,m as Dt,p as Cp,u as kt,v as qt,w as Xt}from"./chunk-Y4J4GIST.js";import"./chunk-ERE4ENTG.js";import"./chunk-63JT5P7V.js";import{a as Tp,b as Ct,c as St,d as yt,e as Et,f as Tt,g as It,h as xt,i as wt,j as bt}from"./chunk-ROHHJFB2.js";import"./chunk-7DFPWBV2.js";import"./chunk-6ANX4F7V.js";import{a as be}from"./chunk-CAUUXJ5Z.js";import"./chunk-G4I324OK.js";import{a as ve}from"./chunk-BDWHD4BJ.js";import{a as ht}from"./chunk-ZWYP6B5B.js";import{b as ge}from"./chunk-HDYRFVZG.js";import"./chunk-KWYW4PLB.js";import"./chunk-UCDGK3P5.js";import"./chunk-KPYTUHW5.js";import"./chunk-HJD4MQFJ.js";import"./chunk-HJHHKXNT.js";import{f as ci,j as xr,m as gn,n as vn,r as xe}from"./chunk-KIGPGWPN.js";import"./chunk-TKCDD3UR.js";import"./chunk-7NOYBZTH.js";import{a as Gh,b as Bh,g as Ne,i as ki,k as Ni,x as vp,z as ye}from"./chunk-6RVLRIW3.js";import"./chunk-BYXBJQAS.js";import{a as yi}from"./chunk-S55LKKD2.js";import"./chunk-2CPZR4GA.js";import"./chunk-EKOCVBO6.js";import"./chunk-UHPUQ7FF.js";import"./chunk-4NGLL7KA.js";import"./chunk-H3SFR7PI.js";import"./chunk-FXQE43VZ.js";import"./chunk-BYXBJQAS.js";import"./chunk-TI6FRSJ2.js";import"./chunk-HLSMTWLP.js";import"./chunk-QOJR7AUS.js";import{d as Sp,h as yp}from"./chunk-3JWQNBEA.js";import"./chunk-AKYKJT5U.js";import{a as Ep,b as Ge}from"./chunk-WJ3JZRMK.js";import"./chunk-TC54CSUG.js";import"./chunk-GDOOYE5G.js";import"./chunk-CQEXMCXR.js";import{a as Wi}from"./chunk-LEZNP5ZZ.js";import"./chunk-K3XZREN6.js";import"./chunk-DVAOCVMG.js";import"./chunk-LMHNKR5S.js";import"./chunk-GHKFEEYH.js";import"./chunk-D4P6DHOT.js";import"./chunk-RZV7FOY4.js";import"./chunk-IOHUEZCK.js";import"./chunk-4OFDGJ4D.js";import"./chunk-XNNWVHAR.js";import{a as dp}from"./chunk-ERQIER5V.js";import"./chunk-TP2BH5IZ.js";import"./chunk-I772HS3A.js";import"./chunk-PA4G7APT.js";import{a as it,c as pe}from"./chunk-WRNEF66S.js";import"./chunk-IFXQERSK.js";import"./chunk-S4VKJ2XO.js";import"./chunk-RN5LBUPR.js";import"./chunk-NDX2TKMV.js";import"./chunk-X5DNJTN3.js";import"./chunk-EMVJH4OC.js";import"./chunk-EGPV2BM7.js";import{a as zt}from"./chunk-7MRHA4J6.js";import"./chunk-AEFHANAR.js";import"./chunk-HQU2Q72B.js";import{a as _n}from"./chunk-XMJI4K6R.js";import{b as ft}from"./chunk-HOKHJISD.js";import"./chunk-OP4LF6JD.js";import"./chunk-DCAJHS4Z.js";import{a as Hn}from"./chunk-FEEMFRND.js";import{a as Qn,b as zn,c as wr,d as Ko}from"./chunk-7HICAA52.js";import{a as Un}from"./chunk-WVQR62UN.js";import"./chunk-WB3W4DUY.js";import"./chunk-6VXPQURT.js";import"./chunk-BKK3WM7A.js";import"./chunk-34W3AZGZ.js";import"./chunk-LH2YJVBS.js";import"./chunk-3MTBLGQ5.js";import"./chunk-44MRUDZE.js";import"./chunk-XZBZIPTN.js";import"./chunk-DM3GYLQK.js";import"./chunk-DWMPD6CE.js";import"./chunk-STZLNT5U.js";import"./chunk-XMO7MDU5.js";import{c as fp}from"./chunk-KYSRY4X7.js";import"./chunk-3XQYAUAC.js";import"./chunk-MNEGLXGF.js";import"./chunk-UEBPDOVP.js";import"./chunk-JW3AIATJ.js";import"./chunk-KPMNOLLU.js";import"./chunk-EWA4R42U.js";import"./chunk-IGOS7ASS.js";import"./chunk-DJDERPPU.js";import"./chunk-CD7GTOCR.js";import"./chunk-E5YI6NVG.js";import"./chunk-REMBTTND.js";import"./chunk-AJ2UNGSN.js";import"./chunk-SZDFDNWA.js";import"./chunk-Q5554OJX.js";import"./chunk-SHQNNEG6.js";import{a as Ut}from"./chunk-QLRYULCZ.js";import"./chunk-HWA55D7L.js";import"./chunk-YZXN6BQO.js";import"./chunk-RBCDJAEW.js";import"./chunk-LT3SQWXE.js";import{a as ti}from"./chunk-5VDV6BXS.js";import"./chunk-MTY6WCU5.js";import"./chunk-PALBVDUI.js";import"./chunk-3DJIGCHJ.js";import{a as Ie}from"./chunk-32QN6MNL.js";import"./chunk-PRPDBMMC.js";import"./chunk-YS6YGF5L.js";import{a as Sn}from"./chunk-XAXSXYBD.js";import{a as Pt}from"./chunk-XIOFJX24.js";import{a as Cn}from"./chunk-A5U7KQB6.js";import"./chunk-ILTVGVXX.js";import"./chunk-BUTEUGDE.js";import"./chunk-OH3MAJHV.js";import{l as jh,m as $h}from"./chunk-P53HI2D5.js";import"./chunk-JQPNHLGH.js";import"./chunk-LVGKZ3JP.js";import{A as Qt,B as hn,D as $n,q as hp,w as fn}from"./chunk-CHJVZ6O7.js";import{d as mo}from"./chunk-W53BDDEF.js";import"./chunk-NVYKTJXY.js";import"./chunk-4L4J44FK.js";import"./chunk-WA7WOSXK.js";import"./chunk-ZFV3QWQN.js";import"./chunk-KNI7S7QC.js";import{c as cr}from"./chunk-BXWCCJQR.js";import"./chunk-TYMJBZC2.js";import"./chunk-J22KVR7U.js";import{a as Wh}from"./chunk-WWHLHLSG.js";import{a as wn}from"./chunk-QRWA7LTP.js";import"./chunk-55WDIF66.js";import{c as Qe}from"./chunk-ZQRZBPBD.js";import{d as Ir}from"./chunk-7KV4WPOL.js";import{a as Wl,b as Ze,c as Ue,d as mp}from"./chunk-RQPIMWM4.js";import"./chunk-ITZTVHDY.js";import"./chunk-SPXQGSTF.js";import"./chunk-FSE63SP3.js";import{a as Nh}from"./chunk-NYJJF7B3.js";import{A as dt,B as le,l as te,m as W,n as lp,o as sp,p as cp,r as Ye,s as dn,u as pp,v as up,w as mt,x as Tr,y as Ht}from"./chunk-N5FUFMYY.js";import{$b as U,A as $e,Aa as M,B as Ce,Ba as ae,Bc as pt,Cc as Te,Dc as uo,Gb as _,H as Si,Hc as q,Ib as m,Ic as De,Ja as S,Jb as di,Jc as Ae,Ka as y,Kb as ap,Kc as ut,M as un,Mc as V,O as He,Ob as a,Pb as l,Q as Pi,Qb as E,Rb as X,Sa as we,Sb as K,Tb as Se,U as Pe,Ub as j,_c as _e,b as tp,bc as lt,cc as st,d as Wn,ea as rp,ec as b,fa as mn,fc as g,g as ue,ga as re,gc as ke,h as pn,hc as Ve,ia as ne,ic as Xo,l as ip,lc as ct,mc as k,nc as O,o as ri,oa as se,ob as u,oc as D,p as x,pa as oe,pb as w,pc as R,q as Ci,qc as s,r as Zi,ra as Bn,rc as F,s as en,sc as B,t as Vt,ta as de,u as np,v as Gl,vc as Xe,w as Ee,wb as op,wc as Ke,xc as Je,yc as he}from"./chunk-7UJBXEVU.js";import{g as Fp}from"./chunk-XNJF7QII.js";import{h as Op}from"./chunk-66DJCF6B.js";import{a as Le,b as qo,d as Zc,f as ep,g as Y,j as T}from"./chunk-XR34LRGE.js";var Li=ep((HA,md)=>{var Qv=Gh(),zv=dp(),qv=fp(),ud=Bh(),Xv=qv(function(t,n){return ud(t)?Qv(t,zv(n,1,ud,!0)):[]});md.exports=Xv});var zd=ep(($k,Qd)=>{var mC=dp(),dC=Uh(),fC=fp(),Ud=$h(),hC=fC(function(t,n){if(t==null)return[];var e=n.length;return e>1&&Ud(t,n[0],n[1])?n=[]:e>2&&Ud(n[0],n[1],n[2])&&(n=[n[0]]),dC(t,mC(n,1),[])});Qd.exports=hC});var Bl="Invariant Violation",Gp=Object.setPrototypeOf,Qh=Gp===void 0?function(t,n){return t.__proto__=n,t}:Gp,Zo=function(t){ri(n,t);function n(e){e===void 0&&(e=Bl);var i=t.call(this,typeof e=="number"?Bl+": "+e+" (see https://github.com/apollographql/invariant-packages)":e)||this;return i.framesToPop=1,i.name=Bl,Qh(i,n.prototype),i}return n}(Error);function qn(t,n){if(!t)throw new Zo(n)}var Yo=["debug","log","warn","error","silent"],jl=Yo.indexOf("log");function Jo(t){return function(){if(Yo.indexOf(t)>=jl){var n=console[t]||console.log;return n.apply(console,arguments)}}}(function(t){t.debug=Jo("debug"),t.log=Jo("log"),t.warn=Jo("warn"),t.error=Jo("error")})(qn||(qn={}));function Wp(t){var n=Yo[jl];return jl=Math.max(0,Yo.indexOf(t)),n}var fo="3.13.6";function pi(t){try{return t()}catch{}}var br=pi(function(){return globalThis})||pi(function(){return window})||pi(function(){return self})||pi(function(){return global})||pi(function(){return pi.constructor("return this")()});var Bp=new Map;function ho(t){var n=Bp.get(t)||1;return Bp.set(t,n+1),"".concat(t,":").concat(n,":").concat(Math.random().toString(36).slice(2))}function ea(t,n){n===void 0&&(n=0);var e=ho("stringifyForDisplay");return JSON.stringify(t,function(i,r){return r===void 0?e:r},n).split(JSON.stringify(e)).join("<undefined>")}function ta(t){return function(n){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(typeof n=="number"){var r=n;n=$l(r),n||(n=Hl(r,e),e=[])}t.apply(void 0,[n].concat(e))}}var ee=Object.assign(function(n,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];n||qn(n,$l(e,i)||Hl(e,i))},{debug:ta(qn.debug),log:ta(qn.log),warn:ta(qn.warn),error:ta(qn.error)});function gt(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return new Zo($l(t,n)||Hl(t,n))}var jp=Symbol.for("ApolloErrorMessageHandler_"+fo);function $p(t){if(typeof t=="string")return t;try{return ea(t,2).slice(0,1e3)}catch{return"<non-serializable>"}}function $l(t,n){if(n===void 0&&(n=[]),!!t)return br[jp]&&br[jp](t,n.map($p))}function Hl(t,n){if(n===void 0&&(n=[]),!!t)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:fo,message:t,args:n.map($p)})))}var zh=globalThis.__DEV__!==!1;function Fr(t,n){if(!!!t)throw new Error(n)}function Hp(t){return typeof t=="object"&&t!==null}function Up(t,n){if(!!!t)throw new Error(n??"Unexpected invariant triggered.")}var qh=/\r\n|[\n\r]/g;function Or(t,n){let e=0,i=1;for(let r of t.body.matchAll(qh)){if(typeof r.index=="number"||Up(!1),r.index>=n)break;e=r.index+r[0].length,i+=1}return{line:i,column:n+1-e}}function Ul(t){return ia(t.source,Or(t.source,t.start))}function ia(t,n){let e=t.locationOffset.column-1,i="".padStart(e)+t.body,r=n.line-1,o=t.locationOffset.line-1,c=n.line+o,p=n.line===1?e:0,f=n.column+p,d=`${t.name}:${c}:${f}
`,h=i.split(/\r\n|[\n\r]/g),C=h[r];if(C.length>120){let v=Math.floor(f/80),I=f%80,A=[];for(let G=0;G<C.length;G+=80)A.push(C.slice(G,G+80));return d+Qp([[`${c} |`,A[0]],...A.slice(1,v+1).map(G=>["|",G]),["|","^".padStart(I)],["|",A[v+1]]])}return d+Qp([[`${c-1} |`,h[r-1]],[`${c} |`,C],["|","^".padStart(f)],[`${c+1} |`,h[r+1]]])}function Qp(t){let n=t.filter(([i,r])=>r!==void 0),e=Math.max(...n.map(([i])=>i.length));return n.map(([i,r])=>i.padStart(e)+(r?" "+r:"")).join(`
`)}function Xh(t){let n=t[0];return n==null||"kind"in n||"length"in n?{nodes:n,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:n}var na=class t extends Error{constructor(n,...e){var i,r,o;let{nodes:c,source:p,positions:f,path:d,originalError:h,extensions:C}=Xh(e);super(n),this.name="GraphQLError",this.path=d??void 0,this.originalError=h??void 0,this.nodes=zp(Array.isArray(c)?c:c?[c]:void 0);let v=zp((i=this.nodes)===null||i===void 0?void 0:i.map(A=>A.loc).filter(A=>A!=null));this.source=p??(v==null||(r=v[0])===null||r===void 0?void 0:r.source),this.positions=f??v?.map(A=>A.start),this.locations=f&&p?f.map(A=>Or(p,A)):v?.map(A=>Or(A.source,A.start));let I=Hp(h?.extensions)?h?.extensions:void 0;this.extensions=(o=C??I)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),h!=null&&h.stack?Object.defineProperty(this,"stack",{value:h.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let n=this.message;if(this.nodes)for(let e of this.nodes)e.loc&&(n+=`

`+Ul(e.loc));else if(this.source&&this.locations)for(let e of this.locations)n+=`

`+ia(this.source,e);return n}toJSON(){let n={message:this.message};return this.locations!=null&&(n.locations=this.locations),this.path!=null&&(n.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(n.extensions=this.extensions),n}};function zp(t){return t===void 0||t.length===0?void 0:t}function Kt(t,n,e){return new na(`Syntax Error: ${e}`,{source:t,positions:[n]})}var _o=class{constructor(n,e,i){this.start=n.start,this.end=e.end,this.startToken=n,this.endToken=e,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},Dr=class{constructor(n,e,i,r,o,c){this.kind=n,this.start=e,this.end=i,this.line=r,this.column=o,this.value=c,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},Ql={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Kh=new Set(Object.keys(Ql));function zl(t){let n=t?.kind;return typeof n=="string"&&Kh.has(n)}var pr=function(t){return t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription",t}(pr||{});var ra=function(t){return t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",t}(ra||{});var ie=function(t){return t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",t}(ie||{});function oa(t){return t===9||t===32}function Rr(t){return t>=48&&t<=57}function qp(t){return t>=97&&t<=122||t>=65&&t<=90}function ql(t){return qp(t)||t===95}function Xp(t){return qp(t)||Rr(t)||t===95}function Kp(t){var n;let e=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let c=0;c<t.length;++c){var o;let p=t[c],f=Jh(p);f!==p.length&&(i=(o=i)!==null&&o!==void 0?o:c,r=c,c!==0&&f<e&&(e=f))}return t.map((c,p)=>p===0?c:c.slice(e)).slice((n=i)!==null&&n!==void 0?n:0,r+1)}function Jh(t){let n=0;for(;n<t.length&&oa(t.charCodeAt(n));)++n;return n}function Jp(t,n){let e=t.replace(/"""/g,'\\"""'),i=e.split(/\r\n|[\n\r]/g),r=i.length===1,o=i.length>1&&i.slice(1).every(I=>I.length===0||oa(I.charCodeAt(0))),c=e.endsWith('\\"""'),p=t.endsWith('"')&&!c,f=t.endsWith("\\"),d=p||f,h=!(n!=null&&n.minimize)&&(!r||t.length>70||d||o||c),C="",v=r&&oa(t.charCodeAt(0));return(h&&!v||o)&&(C+=`
`),C+=e,(h||d)&&(C+=`
`),'"""'+C+'"""'}var z=function(t){return t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment",t}(z||{});var vo=class{constructor(n){let e=new Dr(z.SOF,0,0,0,0);this.source=n,this.lastToken=e,this.token=e,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let n=this.token;if(n.kind!==z.EOF)do if(n.next)n=n.next;else{let e=Yh(this,n.end);n.next=e,e.prev=n,n=e}while(n.kind===z.COMMENT);return n}};function Zp(t){return t===z.BANG||t===z.DOLLAR||t===z.AMP||t===z.PAREN_L||t===z.PAREN_R||t===z.SPREAD||t===z.COLON||t===z.EQUALS||t===z.AT||t===z.BRACKET_L||t===z.BRACKET_R||t===z.BRACE_L||t===z.PIPE||t===z.BRACE_R}function Lr(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function aa(t,n){return eu(t.charCodeAt(n))&&tu(t.charCodeAt(n+1))}function eu(t){return t>=55296&&t<=56319}function tu(t){return t>=56320&&t<=57343}function ur(t,n){let e=t.source.body.codePointAt(n);if(e===void 0)return z.EOF;if(e>=32&&e<=126){let i=String.fromCodePoint(e);return i==='"'?`'"'`:`"${i}"`}return"U+"+e.toString(16).toUpperCase().padStart(4,"0")}function Jt(t,n,e,i,r){let o=t.line,c=1+e-t.lineStart;return new Dr(n,e,i,o,c,r)}function Yh(t,n){let e=t.source.body,i=e.length,r=n;for(;r<i;){let o=e.charCodeAt(r);switch(o){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++t.line,t.lineStart=r;continue;case 13:e.charCodeAt(r+1)===10?r+=2:++r,++t.line,t.lineStart=r;continue;case 35:return Zh(t,r);case 33:return Jt(t,z.BANG,r,r+1);case 36:return Jt(t,z.DOLLAR,r,r+1);case 38:return Jt(t,z.AMP,r,r+1);case 40:return Jt(t,z.PAREN_L,r,r+1);case 41:return Jt(t,z.PAREN_R,r,r+1);case 46:if(e.charCodeAt(r+1)===46&&e.charCodeAt(r+2)===46)return Jt(t,z.SPREAD,r,r+3);break;case 58:return Jt(t,z.COLON,r,r+1);case 61:return Jt(t,z.EQUALS,r,r+1);case 64:return Jt(t,z.AT,r,r+1);case 91:return Jt(t,z.BRACKET_L,r,r+1);case 93:return Jt(t,z.BRACKET_R,r,r+1);case 123:return Jt(t,z.BRACE_L,r,r+1);case 124:return Jt(t,z.PIPE,r,r+1);case 125:return Jt(t,z.BRACE_R,r,r+1);case 34:return e.charCodeAt(r+1)===34&&e.charCodeAt(r+2)===34?o_(t,r):t_(t,r)}if(Rr(o)||o===45)return e_(t,r,o);if(ql(o))return a_(t,r);throw Kt(t.source,r,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Lr(o)||aa(e,r)?`Unexpected character: ${ur(t,r)}.`:`Invalid character: ${ur(t,r)}.`)}return Jt(t,z.EOF,i,i)}function Zh(t,n){let e=t.source.body,i=e.length,r=n+1;for(;r<i;){let o=e.charCodeAt(r);if(o===10||o===13)break;if(Lr(o))++r;else if(aa(e,r))r+=2;else break}return Jt(t,z.COMMENT,n,r,e.slice(n+1,r))}function e_(t,n,e){let i=t.source.body,r=n,o=e,c=!1;if(o===45&&(o=i.charCodeAt(++r)),o===48){if(o=i.charCodeAt(++r),Rr(o))throw Kt(t.source,r,`Invalid number, unexpected digit after 0: ${ur(t,r)}.`)}else r=Xl(t,r,o),o=i.charCodeAt(r);if(o===46&&(c=!0,o=i.charCodeAt(++r),r=Xl(t,r,o),o=i.charCodeAt(r)),(o===69||o===101)&&(c=!0,o=i.charCodeAt(++r),(o===43||o===45)&&(o=i.charCodeAt(++r)),r=Xl(t,r,o),o=i.charCodeAt(r)),o===46||ql(o))throw Kt(t.source,r,`Invalid number, expected digit but got: ${ur(t,r)}.`);return Jt(t,c?z.FLOAT:z.INT,n,r,i.slice(n,r))}function Xl(t,n,e){if(!Rr(e))throw Kt(t.source,n,`Invalid number, expected digit but got: ${ur(t,n)}.`);let i=t.source.body,r=n+1;for(;Rr(i.charCodeAt(r));)++r;return r}function t_(t,n){let e=t.source.body,i=e.length,r=n+1,o=r,c="";for(;r<i;){let p=e.charCodeAt(r);if(p===34)return c+=e.slice(o,r),Jt(t,z.STRING,n,r+1,c);if(p===92){c+=e.slice(o,r);let f=e.charCodeAt(r+1)===117?e.charCodeAt(r+2)===123?i_(t,r):n_(t,r):r_(t,r);c+=f.value,r+=f.size,o=r;continue}if(p===10||p===13)break;if(Lr(p))++r;else if(aa(e,r))r+=2;else throw Kt(t.source,r,`Invalid character within String: ${ur(t,r)}.`)}throw Kt(t.source,r,"Unterminated string.")}function i_(t,n){let e=t.source.body,i=0,r=3;for(;r<12;){let o=e.charCodeAt(n+r++);if(o===125){if(r<5||!Lr(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|go(o),i<0)break}throw Kt(t.source,n,`Invalid Unicode escape sequence: "${e.slice(n,n+r)}".`)}function n_(t,n){let e=t.source.body,i=Yp(e,n+2);if(Lr(i))return{value:String.fromCodePoint(i),size:6};if(eu(i)&&e.charCodeAt(n+6)===92&&e.charCodeAt(n+7)===117){let r=Yp(e,n+8);if(tu(r))return{value:String.fromCodePoint(i,r),size:12}}throw Kt(t.source,n,`Invalid Unicode escape sequence: "${e.slice(n,n+6)}".`)}function Yp(t,n){return go(t.charCodeAt(n))<<12|go(t.charCodeAt(n+1))<<8|go(t.charCodeAt(n+2))<<4|go(t.charCodeAt(n+3))}function go(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function r_(t,n){let e=t.source.body;switch(e.charCodeAt(n+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Kt(t.source,n,`Invalid character escape sequence: "${e.slice(n,n+2)}".`)}function o_(t,n){let e=t.source.body,i=e.length,r=t.lineStart,o=n+3,c=o,p="",f=[];for(;o<i;){let d=e.charCodeAt(o);if(d===34&&e.charCodeAt(o+1)===34&&e.charCodeAt(o+2)===34){p+=e.slice(c,o),f.push(p);let h=Jt(t,z.BLOCK_STRING,n,o+3,Kp(f).join(`
`));return t.line+=f.length-1,t.lineStart=r,h}if(d===92&&e.charCodeAt(o+1)===34&&e.charCodeAt(o+2)===34&&e.charCodeAt(o+3)===34){p+=e.slice(c,o),c=o+1,o+=4;continue}if(d===10||d===13){p+=e.slice(c,o),f.push(p),d===13&&e.charCodeAt(o+1)===10?o+=2:++o,p="",c=o,r=o;continue}if(Lr(d))++o;else if(aa(e,o))o+=2;else throw Kt(t.source,o,`Invalid character within String: ${ur(t,o)}.`)}throw Kt(t.source,o,"Unterminated string.")}function a_(t,n){let e=t.source.body,i=e.length,r=n+1;for(;r<i;){let o=e.charCodeAt(r);if(Xp(o))++r;else break}return Jt(t,z.NAME,n,r,e.slice(n,r))}function Mr(t){return la(t,[])}function la(t,n){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return l_(t,n);default:return String(t)}}function l_(t,n){if(t===null)return"null";if(n.includes(t))return"[Circular]";let e=[...n,t];if(s_(t)){let i=t.toJSON();if(i!==t)return typeof i=="string"?i:la(i,e)}else if(Array.isArray(t))return p_(t,e);return c_(t,e)}function s_(t){return typeof t.toJSON=="function"}function c_(t,n){let e=Object.entries(t);return e.length===0?"{}":n.length>2?"["+u_(t)+"]":"{ "+e.map(([r,o])=>r+": "+la(o,n)).join(", ")+" }"}function p_(t,n){if(t.length===0)return"[]";if(n.length>2)return"[Array]";let e=Math.min(10,t.length),i=t.length-e,r=[];for(let o=0;o<e;++o)r.push(la(t[o],n));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function u_(t){let n=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(n==="Object"&&typeof t.constructor=="function"){let e=t.constructor.name;if(typeof e=="string"&&e!=="")return e}return n}var m_=globalThis.process&&!0,iu=m_?function(n,e){return n instanceof e}:function(n,e){if(n instanceof e)return!0;if(typeof n=="object"&&n!==null){var i;let r=e.prototype[Symbol.toStringTag],o=Symbol.toStringTag in n?n[Symbol.toStringTag]:(i=n.constructor)===null||i===void 0?void 0:i.name;if(r===o){let c=Mr(n);throw new Error(`Cannot use ${r} "${c}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};var Vr=class{constructor(n,e="GraphQL request",i={line:1,column:1}){typeof n=="string"||Fr(!1,`Body must be a string. Received: ${Mr(n)}.`),this.body=n,this.name=e,this.locationOffset=i,this.locationOffset.line>0||Fr(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Fr(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function nu(t){return iu(t,Vr)}function ca(t,n){let e=new Kl(t,n),i=e.parseDocument();return Object.defineProperty(i,"tokenCount",{enumerable:!1,value:e.tokenCount}),i}var Kl=class{constructor(n,e={}){let i=nu(n)?n:new Vr(n);this._lexer=new vo(i),this._options=e,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let n=this.expectToken(z.NAME);return this.node(n,{kind:ie.NAME,value:n.value})}parseDocument(){return this.node(this._lexer.token,{kind:ie.DOCUMENT,definitions:this.many(z.SOF,this.parseDefinition,z.EOF)})}parseDefinition(){if(this.peek(z.BRACE_L))return this.parseOperationDefinition();let n=this.peekDescription(),e=n?this._lexer.lookahead():this._lexer.token;if(e.kind===z.NAME){switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(n)throw Kt(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(e.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(e)}parseOperationDefinition(){let n=this._lexer.token;if(this.peek(z.BRACE_L))return this.node(n,{kind:ie.OPERATION_DEFINITION,operation:pr.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let e=this.parseOperationType(),i;return this.peek(z.NAME)&&(i=this.parseName()),this.node(n,{kind:ie.OPERATION_DEFINITION,operation:e,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let n=this.expectToken(z.NAME);switch(n.value){case"query":return pr.QUERY;case"mutation":return pr.MUTATION;case"subscription":return pr.SUBSCRIPTION}throw this.unexpected(n)}parseVariableDefinitions(){return this.optionalMany(z.PAREN_L,this.parseVariableDefinition,z.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ie.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(z.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(z.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let n=this._lexer.token;return this.expectToken(z.DOLLAR),this.node(n,{kind:ie.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ie.SELECTION_SET,selections:this.many(z.BRACE_L,this.parseSelection,z.BRACE_R)})}parseSelection(){return this.peek(z.SPREAD)?this.parseFragment():this.parseField()}parseField(){let n=this._lexer.token,e=this.parseName(),i,r;return this.expectOptionalToken(z.COLON)?(i=e,r=this.parseName()):r=e,this.node(n,{kind:ie.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(z.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(n){let e=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(z.PAREN_L,e,z.PAREN_R)}parseArgument(n=!1){let e=this._lexer.token,i=this.parseName();return this.expectToken(z.COLON),this.node(e,{kind:ie.ARGUMENT,name:i,value:this.parseValueLiteral(n)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let n=this._lexer.token;this.expectToken(z.SPREAD);let e=this.expectOptionalKeyword("on");return!e&&this.peek(z.NAME)?this.node(n,{kind:ie.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(n,{kind:ie.INLINE_FRAGMENT,typeCondition:e?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let n=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(n,{kind:ie.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(n,{kind:ie.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(n){let e=this._lexer.token;switch(e.kind){case z.BRACKET_L:return this.parseList(n);case z.BRACE_L:return this.parseObject(n);case z.INT:return this.advanceLexer(),this.node(e,{kind:ie.INT,value:e.value});case z.FLOAT:return this.advanceLexer(),this.node(e,{kind:ie.FLOAT,value:e.value});case z.STRING:case z.BLOCK_STRING:return this.parseStringLiteral();case z.NAME:switch(this.advanceLexer(),e.value){case"true":return this.node(e,{kind:ie.BOOLEAN,value:!0});case"false":return this.node(e,{kind:ie.BOOLEAN,value:!1});case"null":return this.node(e,{kind:ie.NULL});default:return this.node(e,{kind:ie.ENUM,value:e.value})}case z.DOLLAR:if(n)if(this.expectToken(z.DOLLAR),this._lexer.token.kind===z.NAME){let i=this._lexer.token.value;throw Kt(this._lexer.source,e.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(e);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let n=this._lexer.token;return this.advanceLexer(),this.node(n,{kind:ie.STRING,value:n.value,block:n.kind===z.BLOCK_STRING})}parseList(n){let e=()=>this.parseValueLiteral(n);return this.node(this._lexer.token,{kind:ie.LIST,values:this.any(z.BRACKET_L,e,z.BRACKET_R)})}parseObject(n){let e=()=>this.parseObjectField(n);return this.node(this._lexer.token,{kind:ie.OBJECT,fields:this.any(z.BRACE_L,e,z.BRACE_R)})}parseObjectField(n){let e=this._lexer.token,i=this.parseName();return this.expectToken(z.COLON),this.node(e,{kind:ie.OBJECT_FIELD,name:i,value:this.parseValueLiteral(n)})}parseDirectives(n){let e=[];for(;this.peek(z.AT);)e.push(this.parseDirective(n));return e}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(n){let e=this._lexer.token;return this.expectToken(z.AT),this.node(e,{kind:ie.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n)})}parseTypeReference(){let n=this._lexer.token,e;if(this.expectOptionalToken(z.BRACKET_L)){let i=this.parseTypeReference();this.expectToken(z.BRACKET_R),e=this.node(n,{kind:ie.LIST_TYPE,type:i})}else e=this.parseNamedType();return this.expectOptionalToken(z.BANG)?this.node(n,{kind:ie.NON_NULL_TYPE,type:e}):e}parseNamedType(){return this.node(this._lexer.token,{kind:ie.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(z.STRING)||this.peek(z.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("schema");let i=this.parseConstDirectives(),r=this.many(z.BRACE_L,this.parseOperationTypeDefinition,z.BRACE_R);return this.node(n,{kind:ie.SCHEMA_DEFINITION,description:e,directives:i,operationTypes:r})}parseOperationTypeDefinition(){let n=this._lexer.token,e=this.parseOperationType();this.expectToken(z.COLON);let i=this.parseNamedType();return this.node(n,{kind:ie.OPERATION_TYPE_DEFINITION,operation:e,type:i})}parseScalarTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("scalar");let i=this.parseName(),r=this.parseConstDirectives();return this.node(n,{kind:ie.SCALAR_TYPE_DEFINITION,description:e,name:i,directives:r})}parseObjectTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("type");let i=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),c=this.parseFieldsDefinition();return this.node(n,{kind:ie.OBJECT_TYPE_DEFINITION,description:e,name:i,interfaces:r,directives:o,fields:c})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(z.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(z.BRACE_L,this.parseFieldDefinition,z.BRACE_R)}parseFieldDefinition(){let n=this._lexer.token,e=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(z.COLON);let o=this.parseTypeReference(),c=this.parseConstDirectives();return this.node(n,{kind:ie.FIELD_DEFINITION,description:e,name:i,arguments:r,type:o,directives:c})}parseArgumentDefs(){return this.optionalMany(z.PAREN_L,this.parseInputValueDef,z.PAREN_R)}parseInputValueDef(){let n=this._lexer.token,e=this.parseDescription(),i=this.parseName();this.expectToken(z.COLON);let r=this.parseTypeReference(),o;this.expectOptionalToken(z.EQUALS)&&(o=this.parseConstValueLiteral());let c=this.parseConstDirectives();return this.node(n,{kind:ie.INPUT_VALUE_DEFINITION,description:e,name:i,type:r,defaultValue:o,directives:c})}parseInterfaceTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("interface");let i=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),c=this.parseFieldsDefinition();return this.node(n,{kind:ie.INTERFACE_TYPE_DEFINITION,description:e,name:i,interfaces:r,directives:o,fields:c})}parseUnionTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("union");let i=this.parseName(),r=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(n,{kind:ie.UNION_TYPE_DEFINITION,description:e,name:i,directives:r,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(z.EQUALS)?this.delimitedMany(z.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("enum");let i=this.parseName(),r=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(n,{kind:ie.ENUM_TYPE_DEFINITION,description:e,name:i,directives:r,values:o})}parseEnumValuesDefinition(){return this.optionalMany(z.BRACE_L,this.parseEnumValueDefinition,z.BRACE_R)}parseEnumValueDefinition(){let n=this._lexer.token,e=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(n,{kind:ie.ENUM_VALUE_DEFINITION,description:e,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Kt(this._lexer.source,this._lexer.token.start,`${sa(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("input");let i=this.parseName(),r=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(n,{kind:ie.INPUT_OBJECT_TYPE_DEFINITION,description:e,name:i,directives:r,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(z.BRACE_L,this.parseInputValueDef,z.BRACE_R)}parseTypeSystemExtension(){let n=this._lexer.lookahead();if(n.kind===z.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)}parseSchemaExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let e=this.parseConstDirectives(),i=this.optionalMany(z.BRACE_L,this.parseOperationTypeDefinition,z.BRACE_R);if(e.length===0&&i.length===0)throw this.unexpected();return this.node(n,{kind:ie.SCHEMA_EXTENSION,directives:e,operationTypes:i})}parseScalarTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let e=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(n,{kind:ie.SCALAR_TYPE_EXTENSION,name:e,directives:i})}parseObjectTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let e=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&o.length===0)throw this.unexpected();return this.node(n,{kind:ie.OBJECT_TYPE_EXTENSION,name:e,interfaces:i,directives:r,fields:o})}parseInterfaceTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let e=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&o.length===0)throw this.unexpected();return this.node(n,{kind:ie.INTERFACE_TYPE_EXTENSION,name:e,interfaces:i,directives:r,fields:o})}parseUnionTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let e=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:ie.UNION_TYPE_EXTENSION,name:e,directives:i,types:r})}parseEnumTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let e=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:ie.ENUM_TYPE_EXTENSION,name:e,directives:i,values:r})}parseInputObjectTypeExtension(){let n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let e=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:ie.INPUT_OBJECT_TYPE_EXTENSION,name:e,directives:i,fields:r})}parseDirectiveDefinition(){let n=this._lexer.token,e=this.parseDescription();this.expectKeyword("directive"),this.expectToken(z.AT);let i=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let c=this.parseDirectiveLocations();return this.node(n,{kind:ie.DIRECTIVE_DEFINITION,description:e,name:i,arguments:r,repeatable:o,locations:c})}parseDirectiveLocations(){return this.delimitedMany(z.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let n=this._lexer.token,e=this.parseName();if(Object.prototype.hasOwnProperty.call(ra,e.value))return e;throw this.unexpected(n)}node(n,e){return this._options.noLocation!==!0&&(e.loc=new _o(n,this._lexer.lastToken,this._lexer.source)),e}peek(n){return this._lexer.token.kind===n}expectToken(n){let e=this._lexer.token;if(e.kind===n)return this.advanceLexer(),e;throw Kt(this._lexer.source,e.start,`Expected ${ru(n)}, found ${sa(e)}.`)}expectOptionalToken(n){return this._lexer.token.kind===n?(this.advanceLexer(),!0):!1}expectKeyword(n){let e=this._lexer.token;if(e.kind===z.NAME&&e.value===n)this.advanceLexer();else throw Kt(this._lexer.source,e.start,`Expected "${n}", found ${sa(e)}.`)}expectOptionalKeyword(n){let e=this._lexer.token;return e.kind===z.NAME&&e.value===n?(this.advanceLexer(),!0):!1}unexpected(n){let e=n??this._lexer.token;return Kt(this._lexer.source,e.start,`Unexpected ${sa(e)}.`)}any(n,e,i){this.expectToken(n);let r=[];for(;!this.expectOptionalToken(i);)r.push(e.call(this));return r}optionalMany(n,e,i){if(this.expectOptionalToken(n)){let r=[];do r.push(e.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(n,e,i){this.expectToken(n);let r=[];do r.push(e.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(n,e){this.expectOptionalToken(n);let i=[];do i.push(e.call(this));while(this.expectOptionalToken(n));return i}advanceLexer(){let{maxTokens:n}=this._options,e=this._lexer.advance();if(e.kind!==z.EOF&&(++this._tokenCounter,n!==void 0&&this._tokenCounter>n))throw Kt(this._lexer.source,e.start,`Document contains more that ${n} tokens. Parsing aborted.`)}};function sa(t){let n=t.value;return ru(t.kind)+(n!=null?` "${n}"`:"")}function ru(t){return Zp(t)?`"${t}"`:t}function ou(t){return`"${t.replace(d_,f_)}"`}var d_=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function f_(t){return h_[t.charCodeAt(0)]}var h_=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var bn=Object.freeze({});function ii(t,n,e=Ql){let i=new Map;for(let L of Object.values(ie))i.set(L,Jl(n,L));let r,o=Array.isArray(t),c=[t],p=-1,f=[],d=t,h,C,v=[],I=[];do{p++;let L=p===c.length,H=L&&f.length!==0;if(L){if(h=I.length===0?void 0:v[v.length-1],d=C,C=I.pop(),H)if(o){d=d.slice();let J=0;for(let[Z,me]of f){let Fe=Z-J;me===null?(d.splice(Fe,1),J++):d[Fe]=me}}else{d=Object.defineProperties({},Object.getOwnPropertyDescriptors(d));for(let[J,Z]of f)d[J]=Z}p=r.index,c=r.keys,f=r.edits,o=r.inArray,r=r.prev}else if(C){if(h=o?p:c[p],d=C[h],d==null)continue;v.push(h)}let Q;if(!Array.isArray(d)){var A,G;zl(d)||Fr(!1,`Invalid AST Node: ${Mr(d)}.`);let J=L?(A=i.get(d.kind))===null||A===void 0?void 0:A.leave:(G=i.get(d.kind))===null||G===void 0?void 0:G.enter;if(Q=J?.call(n,d,h,C,v,I),Q===bn)break;if(Q===!1){if(!L){v.pop();continue}}else if(Q!==void 0&&(f.push([h,Q]),!L))if(zl(Q))d=Q;else{v.pop();continue}}if(Q===void 0&&H&&f.push([h,d]),L)v.pop();else{var $;r={inArray:o,index:p,keys:c,edits:f,prev:r},o=Array.isArray(d),c=o?d:($=e[d.kind])!==null&&$!==void 0?$:[],p=-1,f=[],C&&I.push(C),C=d}}while(r!==void 0);return f.length!==0?f[f.length-1][1]:t}function Jl(t,n){let e=t[n];return typeof e=="object"?e:typeof e=="function"?{enter:e,leave:void 0}:{enter:t.enter,leave:t.leave}}function Ar(t){return ii(t,g_)}var __=80,g_={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>fe(t.definitions,`

`)},OperationDefinition:{leave(t){let n=We("(",fe(t.variableDefinitions,", "),")"),e=fe([t.operation,fe([t.name,n]),fe(t.directives," ")]," ");return(e==="query"?"":e+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:n,defaultValue:e,directives:i})=>t+": "+n+We(" = ",e)+We(" ",fe(i," "))},SelectionSet:{leave:({selections:t})=>tn(t)},Field:{leave({alias:t,name:n,arguments:e,directives:i,selectionSet:r}){let o=We("",t,": ")+n,c=o+We("(",fe(e,", "),")");return c.length>__&&(c=o+We(`(
`,pa(fe(e,`
`)),`
)`)),fe([c,fe(i," "),r]," ")}},Argument:{leave:({name:t,value:n})=>t+": "+n},FragmentSpread:{leave:({name:t,directives:n})=>"..."+t+We(" ",fe(n," "))},InlineFragment:{leave:({typeCondition:t,directives:n,selectionSet:e})=>fe(["...",We("on ",t),fe(n," "),e]," ")},FragmentDefinition:{leave:({name:t,typeCondition:n,variableDefinitions:e,directives:i,selectionSet:r})=>`fragment ${t}${We("(",fe(e,", "),")")} on ${n} ${We("",fe(i," ")," ")}`+r},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:n})=>n?Jp(t):ou(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+fe(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+fe(t,", ")+"}"},ObjectField:{leave:({name:t,value:n})=>t+": "+n},Directive:{leave:({name:t,arguments:n})=>"@"+t+We("(",fe(n,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:n,operationTypes:e})=>We("",t,`
`)+fe(["schema",fe(n," "),tn(e)]," ")},OperationTypeDefinition:{leave:({operation:t,type:n})=>t+": "+n},ScalarTypeDefinition:{leave:({description:t,name:n,directives:e})=>We("",t,`
`)+fe(["scalar",n,fe(e," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:n,interfaces:e,directives:i,fields:r})=>We("",t,`
`)+fe(["type",n,We("implements ",fe(e," & ")),fe(i," "),tn(r)]," ")},FieldDefinition:{leave:({description:t,name:n,arguments:e,type:i,directives:r})=>We("",t,`
`)+n+(au(e)?We(`(
`,pa(fe(e,`
`)),`
)`):We("(",fe(e,", "),")"))+": "+i+We(" ",fe(r," "))},InputValueDefinition:{leave:({description:t,name:n,type:e,defaultValue:i,directives:r})=>We("",t,`
`)+fe([n+": "+e,We("= ",i),fe(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:n,interfaces:e,directives:i,fields:r})=>We("",t,`
`)+fe(["interface",n,We("implements ",fe(e," & ")),fe(i," "),tn(r)]," ")},UnionTypeDefinition:{leave:({description:t,name:n,directives:e,types:i})=>We("",t,`
`)+fe(["union",n,fe(e," "),We("= ",fe(i," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:n,directives:e,values:i})=>We("",t,`
`)+fe(["enum",n,fe(e," "),tn(i)]," ")},EnumValueDefinition:{leave:({description:t,name:n,directives:e})=>We("",t,`
`)+fe([n,fe(e," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:n,directives:e,fields:i})=>We("",t,`
`)+fe(["input",n,fe(e," "),tn(i)]," ")},DirectiveDefinition:{leave:({description:t,name:n,arguments:e,repeatable:i,locations:r})=>We("",t,`
`)+"directive @"+n+(au(e)?We(`(
`,pa(fe(e,`
`)),`
)`):We("(",fe(e,", "),")"))+(i?" repeatable":"")+" on "+fe(r," | ")},SchemaExtension:{leave:({directives:t,operationTypes:n})=>fe(["extend schema",fe(t," "),tn(n)]," ")},ScalarTypeExtension:{leave:({name:t,directives:n})=>fe(["extend scalar",t,fe(n," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:n,directives:e,fields:i})=>fe(["extend type",t,We("implements ",fe(n," & ")),fe(e," "),tn(i)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:n,directives:e,fields:i})=>fe(["extend interface",t,We("implements ",fe(n," & ")),fe(e," "),tn(i)]," ")},UnionTypeExtension:{leave:({name:t,directives:n,types:e})=>fe(["extend union",t,fe(n," "),We("= ",fe(e," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:n,values:e})=>fe(["extend enum",t,fe(n," "),tn(e)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:n,fields:e})=>fe(["extend input",t,fe(n," "),tn(e)]," ")}};function fe(t,n=""){var e;return(e=t?.filter(i=>i).join(n))!==null&&e!==void 0?e:""}function tn(t){return We(`{
`,pa(fe(t,`
`)),`
}`)}function We(t,n,e=""){return n!=null&&n!==""?t+n+e:""}function pa(t){return We("  ",t.replace(/\n/g,`
  `))}function au(t){var n;return(n=t?.some(e=>e.includes(`
`)))!==null&&n!==void 0?n:!1}function Co(t){return t.kind===ie.FIELD||t.kind===ie.FRAGMENT_SPREAD||t.kind===ie.INLINE_FRAGMENT}function nn(t,n){var e=t.directives;return!e||!e.length?!0:lu(e).every(function(i){var r=i.directive,o=i.ifArgument,c=!1;return o.value.kind==="Variable"?(c=n&&n[o.value.name.value],ee(c!==void 0,78,r.name.value)):c=o.value.value,r.name.value==="skip"?!c:c})}function Fn(t,n,e){var i=new Set(t),r=i.size;return ii(n,{Directive:function(o){if(i.delete(o.name.value)&&(!e||!i.size))return bn}}),e?!i.size:i.size<r}function Yl(t){return t&&Fn(["client","export"],t,!0)}function L_(t){var n=t.name.value;return n==="skip"||n==="include"}function lu(t){var n=[];return t&&t.length&&t.forEach(function(e){if(L_(e)){var i=e.arguments,r=e.name.value;ee(i&&i.length===1,79,r);var o=i[0];ee(o.name&&o.name.value==="if",80,r);var c=o.value;ee(c&&(c.kind==="Variable"||c.kind==="BooleanValue"),81,r),n.push({directive:e,ifArgument:o})}}),n}function Zl(t){var n,e,i=(n=t.directives)===null||n===void 0?void 0:n.find(function(o){var c=o.name;return c.value==="unmask"});if(!i)return"mask";var r=(e=i.arguments)===null||e===void 0?void 0:e.find(function(o){var c=o.name;return c.value==="mode"});return globalThis.__DEV__!==!1&&r&&(r.value.kind===ie.VARIABLE?globalThis.__DEV__!==!1&&ee.warn(82):r.value.kind!==ie.STRING?globalThis.__DEV__!==!1&&ee.warn(83):r.value.value!=="migrate"&&globalThis.__DEV__!==!1&&ee.warn(84,r.value.value)),r&&"value"in r.value&&r.value.value==="migrate"?"migrate":"unmask"}var M_=()=>Object.create(null),{forEach:V_,slice:su}=Array.prototype,{hasOwnProperty:A_}=Object.prototype,_i=class t{constructor(n=!0,e=M_){this.weakness=n,this.makeData=e}lookup(){return this.lookupArray(arguments)}lookupArray(n){let e=this;return V_.call(n,i=>e=e.getChildTrie(i)),A_.call(e,"data")?e.data:e.data=this.makeData(su.call(n))}peek(){return this.peekArray(arguments)}peekArray(n){let e=this;for(let i=0,r=n.length;e&&i<r;++i){let o=e.mapFor(n[i],!1);e=o&&o.get(n[i])}return e&&e.data}remove(){return this.removeArray(arguments)}removeArray(n){let e;if(n.length){let i=n[0],r=this.mapFor(i,!1),o=r&&r.get(i);o&&(e=o.removeArray(su.call(n,1)),!o.data&&!o.weak&&!(o.strong&&o.strong.size)&&r.delete(i))}else e=this.data,delete this.data;return e}getChildTrie(n){let e=this.mapFor(n,!0),i=e.get(n);return i||e.set(n,i=new t(this.weakness,this.makeData)),i}mapFor(n,e){return this.weakness&&P_(n)?this.weak||(e?this.weak=new WeakMap:void 0):this.strong||(e?this.strong=new Map:void 0)}};function P_(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var k_=pi(function(){return navigator.product})=="ReactNative",xi=typeof WeakMap=="function"&&!(k_&&!global.HermesInternal),Pr=typeof WeakSet=="function",es=typeof Symbol=="function"&&typeof Symbol.for=="function",Xn=es&&Symbol.asyncIterator,k2=typeof pi(function(){return window.document.createElement})=="function",N2=pi(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1;function qe(t){return t!==null&&typeof t=="object"}function ts(t,n){var e=n,i=[];t.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw gt(85,o.operation,o.name?" named '".concat(o.name.value,"'"):"");o.kind==="FragmentDefinition"&&i.push(o)}),typeof e>"u"&&(ee(i.length===1,86,i.length),e=i[0].name.value);var r=x(x({},t),{definitions:Vt([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:e}}]}}],t.definitions,!0)});return r}function wi(t){t===void 0&&(t=[]);var n={};return t.forEach(function(e){n[e.name.value]=e}),n}function On(t,n){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var e=t.name.value;if(typeof n=="function")return n(e);var i=n&&n[e];return ee(i,87,e),i||null}default:return null}}function is(t){var n=!0;return ii(t,{FragmentSpread:function(e){if(n=!!e.directives&&e.directives.some(function(i){return i.name.value==="unmask"}),!n)return bn}}),n}function N_(){}var Kn=class{constructor(n=1/0,e=N_){this.max=n,this.dispose=e,this.map=new Map,this.newest=null,this.oldest=null}has(n){return this.map.has(n)}get(n){let e=this.getNode(n);return e&&e.value}get size(){return this.map.size}getNode(n){let e=this.map.get(n);if(e&&e!==this.newest){let{older:i,newer:r}=e;r&&(r.older=i),i&&(i.newer=r),e.older=this.newest,e.older.newer=e,e.newer=null,this.newest=e,e===this.oldest&&(this.oldest=r)}return e}set(n,e){let i=this.getNode(n);return i?i.value=e:(i={key:n,value:e,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(n,i),i.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(n){let e=this.map.get(n);return e?(e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.map.delete(n),this.dispose(e.value,n),!0):!1}};function ns(){}var G_=ns,W_=typeof WeakRef<"u"?WeakRef:function(t){return{deref:()=>t}},B_=typeof WeakMap<"u"?WeakMap:Map,j_=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:ns,unregister:ns}},$_=10024,yn=class{constructor(n=1/0,e=G_){this.max=n,this.dispose=e,this.map=new B_,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{let i=this.unfinalizedNodes.values();for(let r=0;r<$_;r++){let o=i.next().value;if(!o)break;this.unfinalizedNodes.delete(o);let c=o.key;delete o.key,o.keyRef=new W_(c),this.registry.register(c,o,o)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new j_(this.deleteNode.bind(this))}has(n){return this.map.has(n)}get(n){let e=this.getNode(n);return e&&e.value}getNode(n){let e=this.map.get(n);if(e&&e!==this.newest){let{older:i,newer:r}=e;r&&(r.older=i),i&&(i.newer=r),e.older=this.newest,e.older.newer=e,e.newer=null,this.newest=e,e===this.oldest&&(this.oldest=r)}return e}set(n,e){let i=this.getNode(n);return i?i.value=e:(i={key:n,value:e,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.scheduleFinalization(i),this.map.set(n,i),this.size++,i.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(n){n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.size--;let e=n.key||n.keyRef&&n.keyRef.deref();this.dispose(n.value,e),n.keyRef?this.registry.unregister(n):this.unfinalizedNodes.delete(n),e&&this.map.delete(e)}delete(n){let e=this.map.get(n);return e?(this.deleteNode(e),!0):!1}scheduleFinalization(n){this.unfinalizedNodes.add(n),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}};var rs=new WeakSet;function cu(t){t.size<=(t.max||-1)||rs.has(t)||(rs.add(t),setTimeout(function(){t.clean(),rs.delete(t)},100))}var kr=function(t,n){var e=new yn(t,n);return e.set=function(i,r){var o=yn.prototype.set.call(this,i,r);return cu(this),o},e},ua=function(t,n){var e=new Kn(t,n);return e.set=function(i,r){var o=Kn.prototype.set.call(this,i,r);return cu(this),o},e};var H_=Symbol.for("apollo.cacheSize"),ni=x({},br[H_]);var mr={};function ma(t,n){mr[t]=n}var pu=globalThis.__DEV__!==!1?Q_:void 0,uu=globalThis.__DEV__!==!1?z_:void 0,mu=globalThis.__DEV__!==!1?du:void 0;function U_(){var t={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(t).map(function(n){var e=n[0],i=n[1];return[e,ni[e]||i]}))}function Q_(){var t,n,e,i,r;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:U_(),sizes:x({print:(t=mr.print)===null||t===void 0?void 0:t.call(mr),parser:(n=mr.parser)===null||n===void 0?void 0:n.call(mr),canonicalStringify:(e=mr.canonicalStringify)===null||e===void 0?void 0:e.call(mr),links:as(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:hu(this.queryManager.documentTransform)}},(r=(i=this.cache).getMemoryInternals)===null||r===void 0?void 0:r.call(i))}}function du(){return{cache:{fragmentQueryDocuments:Jn(this.getFragmentDoc)}}}function z_(){var t=this.config.fragments;return x(x({},du.apply(this)),{addTypenameDocumentTransform:hu(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:Jn(this.storeReader.executeSelectionSet),executeSubSelectedArray:Jn(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:Jn(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:Jn(t?.findFragmentSpreads),lookup:Jn(t?.lookup),transform:Jn(t?.transform)}})}function q_(t){return!!t&&"dirtyKey"in t}function Jn(t){return q_(t)?t.size:void 0}function fu(t){return t!=null}function hu(t){return os(t).map(function(n){return{cache:n}})}function os(t){return t?Vt(Vt([Jn(t?.performWork)],os(t?.left),!0),os(t?.right),!0).filter(fu):[]}function as(t){var n;return t?Vt(Vt([(n=t?.getMemoryInternals)===null||n===void 0?void 0:n.call(t)],as(t?.left),!0),as(t?.right),!0).filter(fu):[]}var gi=Object.assign(function(n){return JSON.stringify(n,X_)},{reset:function(){Nr=new ua(ni.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&ma("canonicalStringify",function(){return Nr.size});var Nr;gi.reset();function X_(t,n){if(n&&typeof n=="object"){var e=Object.getPrototypeOf(n);if(e===Object.prototype||e===null){var i=Object.keys(n);if(i.every(K_))return n;var r=JSON.stringify(i),o=Nr.get(r);if(!o){i.sort();var c=JSON.stringify(i);o=Nr.get(c)||i,Nr.set(r,o),Nr.set(c,o)}var p=Object.create(e);return o.forEach(function(f){p[f]=n[f]}),p}}return n}function K_(t,n,e){return n===0||e[n-1]<=t}function $i(t){return{__ref:String(t)}}function Me(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function ls(t){return qe(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function J_(t){return t.kind==="StringValue"}function Y_(t){return t.kind==="BooleanValue"}function Z_(t){return t.kind==="IntValue"}function eg(t){return t.kind==="FloatValue"}function tg(t){return t.kind==="Variable"}function ig(t){return t.kind==="ObjectValue"}function ng(t){return t.kind==="ListValue"}function rg(t){return t.kind==="EnumValue"}function og(t){return t.kind==="NullValue"}function Yn(t,n,e,i){if(Z_(e)||eg(e))t[n.value]=Number(e.value);else if(Y_(e)||J_(e))t[n.value]=e.value;else if(ig(e)){var r={};e.fields.map(function(c){return Yn(r,c.name,c.value,i)}),t[n.value]=r}else if(tg(e)){var o=(i||{})[e.name.value];t[n.value]=o}else if(ng(e))t[n.value]=e.values.map(function(c){var p={};return Yn(p,n,c,i),p[n.value]});else if(rg(e))t[n.value]=e.value;else if(og(e))t[n.value]=null;else throw gt(96,n.value,e.kind)}function ss(t,n){var e=null;t.directives&&(e={},t.directives.forEach(function(r){e[r.name.value]={},r.arguments&&r.arguments.forEach(function(o){var c=o.name,p=o.value;return Yn(e[r.name.value],c,p,n)})}));var i=null;return t.arguments&&t.arguments.length&&(i={},t.arguments.forEach(function(r){var o=r.name,c=r.value;return Yn(i,o,c,n)})),da(t.name.value,i,e)}var ag=["connection","include","skip","client","rest","export","nonreactive"],So=gi,da=Object.assign(function(t,n,e){if(n&&e&&e.connection&&e.connection.key)if(e.connection.filter&&e.connection.filter.length>0){var i=e.connection.filter?e.connection.filter:[];i.sort();var r={};return i.forEach(function(p){r[p]=n[p]}),"".concat(e.connection.key,"(").concat(So(r),")")}else return e.connection.key;var o=t;if(n){var c=So(n);o+="(".concat(c,")")}return e&&Object.keys(e).forEach(function(p){ag.indexOf(p)===-1&&(e[p]&&Object.keys(e[p]).length?o+="@".concat(p,"(").concat(So(e[p]),")"):o+="@".concat(p))}),o},{setStringify:function(t){var n=So;return So=t,n}});function Dn(t,n){if(t.arguments&&t.arguments.length){var e={};return t.arguments.forEach(function(i){var r=i.name,o=i.value;return Yn(e,r,o,n)}),e}return null}function ui(t){return t.alias?t.alias.value:t.name.value}function yo(t,n,e){for(var i,r=0,o=n.selections;r<o.length;r++){var c=o[r];if(vi(c)){if(c.name.value==="__typename")return t[ui(c)]}else i?i.push(c):i=[c]}if(typeof t.__typename=="string")return t.__typename;if(i)for(var p=0,f=i;p<f.length;p++){var c=f[p],d=yo(t,On(c,e).selectionSet,e);if(typeof d=="string")return d}}function vi(t){return t.kind==="Field"}function cs(t){return t.kind==="InlineFragment"}function Rn(t){ee(t&&t.kind==="Document",88);var n=t.definitions.filter(function(e){return e.kind!=="FragmentDefinition"}).map(function(e){if(e.kind!=="OperationDefinition")throw gt(89,e.kind);return e});return ee(n.length<=1,90,n.length),t}function bi(t){return Rn(t),t.definitions.filter(function(n){return n.kind==="OperationDefinition"})[0]}function Zn(t){return t.definitions.filter(function(n){return n.kind==="OperationDefinition"&&!!n.name}).map(function(n){return n.name.value})[0]||null}function Fi(t){return t.definitions.filter(function(n){return n.kind==="FragmentDefinition"})}function Eo(t){var n=bi(t);return ee(n&&n.operation==="query",91),n}function To(t){ee(t.kind==="Document",92),ee(t.definitions.length<=1,93);var n=t.definitions[0];return ee(n.kind==="FragmentDefinition",94),n}function rn(t){Rn(t);for(var n,e=0,i=t.definitions;e<i.length;e++){var r=i[e];if(r.kind==="OperationDefinition"){var o=r.operation;if(o==="query"||o==="mutation"||o==="subscription")return r}r.kind==="FragmentDefinition"&&!n&&(n=r)}if(n)return n;throw gt(95)}function dr(t){var n=Object.create(null),e=t&&t.variableDefinitions;return e&&e.length&&e.forEach(function(i){i.defaultValue&&Yn(n,i.variable.name,i.defaultValue)}),n}var ai=null,_u={},lg=1,sg=()=>class{constructor(){this.id=["slot",lg++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let n=ai;n;n=n.parent)if(this.id in n.slots){let e=n.slots[this.id];if(e===_u)break;return n!==ai&&(ai.slots[this.id]=e),!0}return ai&&(ai.slots[this.id]=_u),!1}getValue(){if(this.hasValue())return ai.slots[this.id]}withValue(n,e,i,r){let o={__proto__:null,[this.id]:n},c=ai;ai={parent:c,slots:o};try{return e.apply(r,i)}finally{ai=c}}static bind(n){let e=ai;return function(){let i=ai;try{return ai=e,n.apply(this,arguments)}finally{ai=i}}}static noContext(n,e,i){if(ai){let r=ai;try{return ai=null,n.apply(i,e)}finally{ai=r}}else return n.apply(i,e)}};function gu(t){try{return t()}catch{}}var ps="@wry/context:Slot",cg=gu(()=>globalThis)||gu(()=>global)||Object.create(null),vu=cg,on=vu[ps]||Array[ps]||function(t){try{Object.defineProperty(vu,ps,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(sg());var{bind:Cu,noContext:Su}=on;var fr=new on;var{hasOwnProperty:yu}=Object.prototype,Io=Array.from||function(t){let n=[];return t.forEach(e=>n.push(e)),n};function Gr(t){let{unsubscribe:n}=t;typeof n=="function"&&(t.unsubscribe=void 0,n())}var xo=[],mg=100;function Wr(t,n){if(!t)throw new Error(n||"assertion failure")}function Tu(t,n){let e=t.length;return e>0&&e===n.length&&t[e-1]===n[e-1]}function Iu(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function xu(t){return t.slice(0)}var wu=(()=>{class t{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}peek(){if(this.value.length===1&&!er(this))return Eu(this),this.value[0]}recompute(e){return Wr(!this.recomputing,"already recomputing"),Eu(this),er(this)?dg(this,e):Iu(this.value)}setDirty(){this.dirty||(this.dirty=!0,bu(this),Gr(this))}dispose(){this.setDirty(),Lu(this),us(this,(e,i)=>{e.setDirty(),Mu(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=xo.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(Io(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),xo.push(this.deps),this.deps=null)}}return t.count=0,t})();function Eu(t){let n=fr.getValue();if(n)return t.parents.add(n),n.childValues.has(t)||n.childValues.set(t,[]),er(t)?Ou(n,t):Du(n,t),n}function dg(t,n){return Lu(t),fr.withValue(t,fg,[t,n]),_g(t,n)&&hg(t),Iu(t.value)}function fg(t,n){t.recomputing=!0;let{normalizeResult:e}=t,i;e&&t.value.length===1&&(i=xu(t.value)),t.value.length=0;try{if(t.value[0]=t.fn.apply(null,n),e&&i&&!Tu(i,t.value))try{t.value[0]=e(t.value[0],i[0])}catch{}}catch(r){t.value[1]=r}t.recomputing=!1}function er(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function hg(t){t.dirty=!1,!er(t)&&Fu(t)}function bu(t){us(t,Ou)}function Fu(t){us(t,Du)}function us(t,n){let e=t.parents.size;if(e){let i=Io(t.parents);for(let r=0;r<e;++r)n(i[r],t)}}function Ou(t,n){Wr(t.childValues.has(n)),Wr(er(n));let e=!er(t);if(!t.dirtyChildren)t.dirtyChildren=xo.pop()||new Set;else if(t.dirtyChildren.has(n))return;t.dirtyChildren.add(n),e&&bu(t)}function Du(t,n){Wr(t.childValues.has(n)),Wr(!er(n));let e=t.childValues.get(n);e.length===0?t.childValues.set(n,xu(n.value)):Tu(e,n.value)||t.setDirty(),Ru(t,n),!er(t)&&Fu(t)}function Ru(t,n){let e=t.dirtyChildren;e&&(e.delete(n),e.size===0&&(xo.length<mg&&xo.push(e),t.dirtyChildren=null))}function Lu(t){t.childValues.size>0&&t.childValues.forEach((n,e)=>{Mu(t,e)}),t.forgetDeps(),Wr(t.dirtyChildren===null)}function Mu(t,n){n.parents.delete(t),t.childValues.delete(n),Ru(t,n)}function _g(t,n){if(typeof t.subscribe=="function")try{Gr(t),t.unsubscribe=t.subscribe.apply(null,n)}catch{return t.setDirty(),!1}return!0}var gg={setDirty:!0,dispose:!0,forget:!0};function wo(t){let n=new Map,e=t&&t.subscribe;function i(r){let o=fr.getValue();if(o){let c=n.get(r);c||n.set(r,c=new Set),o.dependOn(c),typeof e=="function"&&(Gr(c),c.unsubscribe=e(r))}}return i.dirty=function(o,c){let p=n.get(o);if(p){let f=c&&yu.call(gg,c)?c:"setDirty";Io(p).forEach(d=>d[f]()),n.delete(o),Gr(p)}},i}var Vu;function vg(...t){return(Vu||(Vu=new _i(typeof WeakMap=="function"))).lookupArray(t)}var ms=new Set;function Ln(t,{max:n=Math.pow(2,16),keyArgs:e,makeCacheKey:i=vg,normalizeResult:r,subscribe:o,cache:c=Kn}=Object.create(null)){let p=typeof c=="function"?new c(n,v=>v.dispose()):c,f=function(){let v=i.apply(null,e?e.apply(null,arguments):arguments);if(v===void 0)return t.apply(null,arguments);let I=p.get(v);I||(p.set(v,I=new wu(t)),I.normalizeResult=r,I.subscribe=o,I.forget=()=>p.delete(v));let A=I.recompute(Array.prototype.slice.call(arguments));return p.set(v,I),ms.add(p),fr.hasValue()||(ms.forEach(G=>G.clean()),ms.clear()),A};Object.defineProperty(f,"size",{get:()=>p.size,configurable:!1,enumerable:!1}),Object.freeze(f.options={max:n,keyArgs:e,makeCacheKey:i,normalizeResult:r,subscribe:o,cache:p});function d(v){let I=v&&p.get(v);I&&I.setDirty()}f.dirtyKey=d,f.dirty=function(){d(i.apply(null,arguments))};function h(v){let I=v&&p.get(v);if(I)return I.peek()}f.peekKey=h,f.peek=function(){return h(i.apply(null,arguments))};function C(v){return v?p.delete(v):!1}return f.forgetKey=C,f.forget=function(){return C(i.apply(null,arguments))},f.makeCacheKey=i,f.getKey=e?function(){return i.apply(null,e.apply(null,arguments))}:i,Object.freeze(f)}function Cg(t){return t}var Br=function(){function t(n,e){e===void 0&&(e=Object.create(null)),this.resultCache=Pr?new WeakSet:new Set,this.transform=n,e.getCacheKey&&(this.getCacheKey=e.getCacheKey),this.cached=e.cache!==!1,this.resetCache()}return t.prototype.getCacheKey=function(n){return[n]},t.identity=function(){return new t(Cg,{cache:!1})},t.split=function(n,e,i){return i===void 0&&(i=t.identity()),Object.assign(new t(function(r){var o=n(r)?e:i;return o.transformDocument(r)},{cache:!1}),{left:e,right:i})},t.prototype.resetCache=function(){var n=this;if(this.cached){var e=new _i(xi);this.performWork=Ln(t.prototype.performWork.bind(this),{makeCacheKey:function(i){var r=n.getCacheKey(i);if(r)return ee(Array.isArray(r),77),e.lookupArray(r)},max:ni["documentTransform.cache"],cache:yn})}},t.prototype.performWork=function(n){return Rn(n),this.transform(n)},t.prototype.transformDocument=function(n){if(this.resultCache.has(n))return n;var e=this.performWork(n);return this.resultCache.add(e),e},t.prototype.concat=function(n){var e=this;return Object.assign(new t(function(i){return n.transformDocument(e.transformDocument(i))},{cache:!1}),{left:this,right:n})},t}();var bo,an=Object.assign(function(t){var n=bo.get(t);return n||(n=Ar(t),bo.set(t,n)),n},{reset:function(){bo=new kr(ni.print||2e3)}});an.reset();globalThis.__DEV__!==!1&&ma("print",function(){return bo?bo.size:0});var at=Array.isArray;function li(t){return Array.isArray(t)&&t.length>0}var Au={kind:ie.FIELD,name:{kind:ie.NAME,value:"__typename"}};function ku(t,n){return!t||t.selectionSet.selections.every(function(e){return e.kind===ie.FRAGMENT_SPREAD&&ku(n[e.name.value],n)})}function Sg(t){return ku(bi(t)||To(t),wi(Fi(t)))?null:t}function yg(t){var n=new Map,e=new Map;return t.forEach(function(i){i&&(i.name?n.set(i.name,i):i.test&&e.set(i.test,i))}),function(i){var r=n.get(i.name.value);return!r&&e.size&&e.forEach(function(o,c){c(i)&&(r=o)}),r}}function Pu(t){var n=new Map;return function(i){i===void 0&&(i=t);var r=n.get(i);return r||n.set(i,r={variables:new Set,fragmentSpreads:new Set}),r}}function fa(t,n){Rn(n);for(var e=Pu(""),i=Pu(""),r=function(L){for(var H=0,Q=void 0;H<L.length&&(Q=L[H]);++H)if(!at(Q)){if(Q.kind===ie.OPERATION_DEFINITION)return e(Q.name&&Q.name.value);if(Q.kind===ie.FRAGMENT_DEFINITION)return i(Q.name.value)}return globalThis.__DEV__!==!1&&ee.error(97),null},o=0,c=n.definitions.length-1;c>=0;--c)n.definitions[c].kind===ie.OPERATION_DEFINITION&&++o;var p=yg(t),f=function(L){return li(L)&&L.map(p).some(function(H){return H&&H.remove})},d=new Map,h=!1,C={enter:function(L){if(f(L.directives))return h=!0,null}},v=ii(n,{Field:C,InlineFragment:C,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(L,H,Q,J,Z){var me=r(Z);me&&me.variables.add(L.name.value)}},FragmentSpread:{enter:function(L,H,Q,J,Z){if(f(L.directives))return h=!0,null;var me=r(Z);me&&me.fragmentSpreads.add(L.name.value)}},FragmentDefinition:{enter:function(L,H,Q,J){d.set(JSON.stringify(J),L)},leave:function(L,H,Q,J){var Z=d.get(JSON.stringify(J));if(L===Z)return L;if(o>0&&L.selectionSet.selections.every(function(me){return me.kind===ie.FIELD&&me.name.value==="__typename"}))return i(L.name.value).removed=!0,h=!0,null}},Directive:{leave:function(L){if(p(L))return h=!0,null}}});if(!h)return n;var I=function(L){return L.transitiveVars||(L.transitiveVars=new Set(L.variables),L.removed||L.fragmentSpreads.forEach(function(H){I(i(H)).transitiveVars.forEach(function(Q){L.transitiveVars.add(Q)})})),L},A=new Set;v.definitions.forEach(function(L){L.kind===ie.OPERATION_DEFINITION?I(e(L.name&&L.name.value)).fragmentSpreads.forEach(function(H){A.add(H)}):L.kind===ie.FRAGMENT_DEFINITION&&o===0&&!i(L.name.value).removed&&A.add(L.name.value)}),A.forEach(function(L){I(i(L)).fragmentSpreads.forEach(function(H){A.add(H)})});var G=function(L){return!!(!A.has(L)||i(L).removed)},$={enter:function(L){if(G(L.name.value))return null}};return Sg(ii(v,{FragmentSpread:$,FragmentDefinition:$,OperationDefinition:{leave:function(L){if(L.variableDefinitions){var H=I(e(L.name&&L.name.value)).transitiveVars;if(H.size<L.variableDefinitions.length)return x(x({},L),{variableDefinitions:L.variableDefinitions.filter(function(Q){return H.has(Q.variable.name.value)})})}}}}))}var hr=Object.assign(function(t){return ii(t,{SelectionSet:{enter:function(n,e,i){if(!(i&&i.kind===ie.OPERATION_DEFINITION)){var r=n.selections;if(r){var o=r.some(function(p){return vi(p)&&(p.name.value==="__typename"||p.name.value.lastIndexOf("__",0)===0)});if(!o){var c=i;if(!(vi(c)&&c.directives&&c.directives.some(function(p){return p.name.value==="export"})))return x(x({},n),{selections:Vt(Vt([],r,!0),[Au],!1)})}}}}}})},{added:function(t){return t===Au}});function ds(t){var n=rn(t),e=n.operation;if(e==="query")return t;var i=ii(t,{OperationDefinition:{enter:function(r){return x(x({},r),{operation:"query"})}}});return i}function Fo(t){Rn(t);var n=fa([{test:function(e){return e.name.value==="client"},remove:!0}],t);return n}function fs(t){return Rn(t),ii(t,{FragmentSpread:function(n){var e;if(!(!((e=n.directives)===null||e===void 0)&&e.some(function(i){return i.name.value==="unmask"})))return x(x({},n),{directives:Vt(Vt([],n.directives||[],!0),[{kind:ie.DIRECTIVE,name:{kind:ie.NAME,value:"nonreactive"}}],!1)})}})}var Eg=Object.prototype.hasOwnProperty;function hs(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return _r(t)}function _r(t){var n=t[0]||{},e=t.length;if(e>1)for(var i=new Ii,r=1;r<e;++r)n=i.merge(n,t[r]);return n}var Tg=function(t,n,e){return this.merge(t[e],n[e])},Ii=function(){function t(n){n===void 0&&(n=Tg),this.reconciler=n,this.isObject=qe,this.pastCopies=new Set}return t.prototype.merge=function(n,e){for(var i=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return qe(e)&&qe(n)?(Object.keys(e).forEach(function(c){if(Eg.call(n,c)){var p=n[c];if(e[c]!==p){var f=i.reconciler.apply(i,Vt([n,e,c],r,!1));f!==p&&(n=i.shallowCopyForMerge(n),n[c]=f)}}else n=i.shallowCopyForMerge(n),n[c]=e[c]}),n):e},t.prototype.shallowCopyForMerge=function(n){return qe(n)&&(this.pastCopies.has(n)||(Array.isArray(n)?n=n.slice(0):n=x({__proto__:Object.getPrototypeOf(n)},n),this.pastCopies.add(n))),n},t}();function Ig(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=xg(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xg(t,n){if(t){if(typeof t=="string")return Nu(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Nu(t,n)}}function Nu(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function Gu(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Cs(t,n,e){return n&&Gu(t.prototype,n),e&&Gu(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var Ss=function(){return typeof Symbol=="function"},ys=function(t){return Ss()&&!!Symbol[t]},Es=function(t){return ys(t)?Symbol[t]:"@@"+t};Ss()&&!ys("observable")&&(Symbol.observable=Symbol("observable"));var wg=Es("iterator"),gs=Es("observable"),Wu=Es("species");function _a(t,n){var e=t[n];if(e!=null){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}}function Oo(t){var n=t.constructor;return n!==void 0&&(n=n[Wu],n===null&&(n=void 0)),n!==void 0?n:Re}function bg(t){return t instanceof Re}function jr(t){jr.log?jr.log(t):setTimeout(function(){throw t})}function ha(t){Promise.resolve().then(function(){try{t()}catch(n){jr(n)}})}function Bu(t){var n=t._cleanup;if(n!==void 0&&(t._cleanup=void 0,!!n))try{if(typeof n=="function")n();else{var e=_a(n,"unsubscribe");e&&e.call(n)}}catch(i){jr(i)}}function vs(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function Fg(t){var n=t._queue;if(n){t._queue=void 0,t._state="ready";for(var e=0;e<n.length&&(ju(t,n[e].type,n[e].value),t._state!=="closed");++e);}}function ju(t,n,e){t._state="running";var i=t._observer;try{var r=_a(i,n);switch(n){case"next":r&&r.call(i,e);break;case"error":if(vs(t),r)r.call(i,e);else throw e;break;case"complete":vs(t),r&&r.call(i);break}}catch(o){jr(o)}t._state==="closed"?Bu(t):t._state==="running"&&(t._state="ready")}function _s(t,n,e){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:n,value:e});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:n,value:e}],ha(function(){return Fg(t)});return}ju(t,n,e)}}var Og=function(){function t(e,i){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var r=new Dg(this);try{this._cleanup=i.call(void 0,r)}catch(o){r.error(o)}this._state==="initializing"&&(this._state="ready")}var n=t.prototype;return n.unsubscribe=function(){this._state!=="closed"&&(vs(this),Bu(this))},Cs(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),Dg=function(){function t(e){this._subscription=e}var n=t.prototype;return n.next=function(i){_s(this._subscription,"next",i)},n.error=function(i){_s(this._subscription,"error",i)},n.complete=function(){_s(this._subscription,"complete")},Cs(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Re=function(){function t(e){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof e!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=e}var n=t.prototype;return n.subscribe=function(i){return(typeof i!="object"||i===null)&&(i={next:i,error:arguments[1],complete:arguments[2]}),new Og(i,this._subscriber)},n.forEach=function(i){var r=this;return new Promise(function(o,c){if(typeof i!="function"){c(new TypeError(i+" is not a function"));return}function p(){f.unsubscribe(),o()}var f=r.subscribe({next:function(d){try{i(d,p)}catch(h){c(h),f.unsubscribe()}},error:c,complete:o})})},n.map=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var o=Oo(this);return new o(function(c){return r.subscribe({next:function(p){try{p=i(p)}catch(f){return c.error(f)}c.next(p)},error:function(p){c.error(p)},complete:function(){c.complete()}})})},n.filter=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var o=Oo(this);return new o(function(c){return r.subscribe({next:function(p){try{if(!i(p))return}catch(f){return c.error(f)}c.next(p)},error:function(p){c.error(p)},complete:function(){c.complete()}})})},n.reduce=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var o=Oo(this),c=arguments.length>1,p=!1,f=arguments[1],d=f;return new o(function(h){return r.subscribe({next:function(C){var v=!p;if(p=!0,!v||c)try{d=i(d,C)}catch(I){return h.error(I)}else d=C},error:function(C){h.error(C)},complete:function(){if(!p&&!c)return h.error(new TypeError("Cannot reduce an empty sequence"));h.next(d),h.complete()}})})},n.concat=function(){for(var i=this,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];var p=Oo(this);return new p(function(f){var d,h=0;function C(v){d=v.subscribe({next:function(I){f.next(I)},error:function(I){f.error(I)},complete:function(){h===o.length?(d=void 0,f.complete()):C(p.from(o[h++]))}})}return C(i),function(){d&&(d.unsubscribe(),d=void 0)}})},n.flatMap=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var o=Oo(this);return new o(function(c){var p=[],f=r.subscribe({next:function(h){if(i)try{h=i(h)}catch(v){return c.error(v)}var C=o.from(h).subscribe({next:function(v){c.next(v)},error:function(v){c.error(v)},complete:function(){var v=p.indexOf(C);v>=0&&p.splice(v,1),d()}});p.push(C)},error:function(h){c.error(h)},complete:function(){d()}});function d(){f.closed&&p.length===0&&c.complete()}return function(){p.forEach(function(h){return h.unsubscribe()}),f.unsubscribe()}})},n[gs]=function(){return this},t.from=function(i){var r=typeof this=="function"?this:t;if(i==null)throw new TypeError(i+" is not an object");var o=_a(i,gs);if(o){var c=o.call(i);if(Object(c)!==c)throw new TypeError(c+" is not an object");return bg(c)&&c.constructor===r?c:new r(function(p){return c.subscribe(p)})}if(ys("iterator")&&(o=_a(i,wg),o))return new r(function(p){ha(function(){if(!p.closed){for(var f=Ig(o.call(i)),d;!(d=f()).done;){var h=d.value;if(p.next(h),p.closed)return}p.complete()}})});if(Array.isArray(i))return new r(function(p){ha(function(){if(!p.closed){for(var f=0;f<i.length;++f)if(p.next(i[f]),p.closed)return;p.complete()}})});throw new TypeError(i+" is not observable")},t.of=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var c=typeof this=="function"?this:t;return new c(function(p){ha(function(){if(!p.closed){for(var f=0;f<r.length;++f)if(p.next(r[f]),p.closed)return;p.complete()}})})},Cs(t,null,[{key:Wu,get:function(){return this}}]),t}();Ss()&&Object.defineProperty(Re,Symbol("extensions"),{value:{symbol:gs,hostReportError:jr},configurable:!0});function Ts(t){var n,e=t.Symbol;if(typeof e=="function")if(e.observable)n=e.observable;else{typeof e.for=="function"?n=e.for("https://github.com/benlesh/symbol-observable"):n=e("https://github.com/benlesh/symbol-observable");try{e.observable=n}catch{}}else n="@@observable";return n}var $r;typeof self<"u"?$r=self:typeof window<"u"?$r=window:typeof global<"u"?$r=global:typeof module<"u"?$r=module:$r=Function("return this")();var dD=Ts($r);var $u=Re.prototype,Hu="@@observable";$u[Hu]||($u[Hu]=function(){return this});function Is(t){return t.catch(function(){}),t}var Rg=Object.prototype.toString;function ga(t){return xs(t)}function xs(t,n){switch(Rg.call(t)){case"[object Array]":{if(n=n||new Map,n.has(t))return n.get(t);var e=t.slice(0);return n.set(t,e),e.forEach(function(r,o){e[o]=xs(r,n)}),e}case"[object Object]":{if(n=n||new Map,n.has(t))return n.get(t);var i=Object.create(Object.getPrototypeOf(t));return n.set(t,i),Object.keys(t).forEach(function(r){i[r]=xs(t[r],n)}),i}default:return t}}function Lg(t){var n=new Set([t]);return n.forEach(function(e){qe(e)&&Mg(e)===e&&Object.getOwnPropertyNames(e).forEach(function(i){qe(e[i])&&n.add(e[i])})}),t}function Mg(t){if(globalThis.__DEV__!==!1&&!Object.isFrozen(t))try{Object.freeze(t)}catch(n){if(n instanceof TypeError)return null;throw n}return t}function tr(t){return globalThis.__DEV__!==!1&&Lg(t),t}function gr(t,n,e){var i=[];t.forEach(function(r){return r[n]&&i.push(r)}),i.forEach(function(r){return r[n](e)})}function va(t,n,e){return new Re(function(i){var r={then:function(f){return new Promise(function(d){return d(f())})}};function o(f,d){return function(h){if(f){var C=function(){return i.closed?0:f(h)};r=r.then(C,C).then(function(v){return i.next(v)},function(v){return i.error(v)})}else i[d](h)}}var c={next:o(n,"next"),error:o(e,"error"),complete:function(){r.then(function(){return i.complete()})}},p=t.subscribe(c);return function(){return p.unsubscribe()}})}function Ca(t){function n(e){Object.defineProperty(t,e,{value:Re})}return es&&Symbol.species&&n(Symbol.species),n("@@species"),t}function Uu(t){return t&&typeof t.then=="function"}var vr=function(t){ri(n,t);function n(e){var i=t.call(this,function(r){return i.addObserver(r),function(){return i.removeObserver(r)}})||this;return i.observers=new Set,i.promise=new Promise(function(r,o){i.resolve=r,i.reject=o}),i.handlers={next:function(r){i.sub!==null&&(i.latest=["next",r],i.notify("next",r),gr(i.observers,"next",r))},error:function(r){var o=i.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),i.sub=null,i.latest=["error",r],i.reject(r),i.notify("error",r),gr(i.observers,"error",r))},complete:function(){var r=i,o=r.sub,c=r.sources,p=c===void 0?[]:c;if(o!==null){var f=p.shift();f?Uu(f)?f.then(function(d){return i.sub=d.subscribe(i.handlers)},i.handlers.error):i.sub=f.subscribe(i.handlers):(o&&setTimeout(function(){return o.unsubscribe()}),i.sub=null,i.latest&&i.latest[0]==="next"?i.resolve(i.latest[1]):i.resolve(),i.notify("complete"),gr(i.observers,"complete"))}}},i.nextResultListeners=new Set,i.cancel=function(r){i.reject(r),i.sources=[],i.handlers.error(r)},i.promise.catch(function(r){}),typeof e=="function"&&(e=[new Re(e)]),Uu(e)?e.then(function(r){return i.start(r)},i.handlers.error):i.start(e),i}return n.prototype.start=function(e){this.sub===void 0&&(this.sources=Array.from(e),this.handlers.complete())},n.prototype.deliverLastMessage=function(e){if(this.latest){var i=this.latest[0],r=e[i];r&&r.call(e,this.latest[1]),this.sub===null&&i==="next"&&e.complete&&e.complete()}},n.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},n.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},n.prototype.notify=function(e,i){var r=this.nextResultListeners;r.size&&(this.nextResultListeners=new Set,r.forEach(function(o){return o(e,i)}))},n.prototype.beforeNext=function(e){var i=!1;this.nextResultListeners.add(function(r,o){i||(i=!0,e(r,o))})},n}(Re);Ca(vr);function ir(t){return"incremental"in t}function Vg(t){return"hasNext"in t&&"data"in t}function Qu(t){return ir(t)||Vg(t)}function zu(t){return qe(t)&&"payload"in t}function Sa(t,n){var e=t,i=new Ii;return ir(n)&&li(n.incremental)&&n.incremental.forEach(function(r){for(var o=r.data,c=r.path,p=c.length-1;p>=0;--p){var f=c[p],d=!isNaN(+f),h=d?[]:{};h[f]=o,o=h}e=i.merge(e,o)}),e}function Hr(t){var n=ya(t);return li(n)}function ya(t){var n=li(t.errors)?t.errors.slice(0):[];return ir(t)&&li(t.incremental)&&t.incremental.forEach(function(e){e.errors&&n.push.apply(n,e.errors)}),n}function En(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=Object.create(null);return t.forEach(function(i){i&&Object.keys(i).forEach(function(r){var o=i[r];o!==void 0&&(e[r]=o)})}),e}function Do(t,n){return En(t,n,n.variables&&{variables:En(x(x({},t&&t.variables),n.variables))})}function Ro(t){return new Re(function(n){n.error(t)})}var Ea=function(t,n,e){var i=new Error(e);throw i.name="ServerError",i.response=t,i.statusCode=t.status,i.result=n,i};function ws(t){for(var n=["query","operationName","variables","extensions","context"],e=0,i=Object.keys(t);e<i.length;e++){var r=i[e];if(n.indexOf(r)<0)throw gt(46,r)}return t}function bs(t,n){var e=x({},t),i=function(o){typeof o=="function"?e=x(x({},e),o(e)):e=x(x({},e),o)},r=function(){return x({},e)};return Object.defineProperty(n,"setContext",{enumerable:!1,value:i}),Object.defineProperty(n,"getContext",{enumerable:!1,value:r}),n}function Fs(t){var n={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return n.operationName||(n.operationName=typeof n.query!="string"?Zn(n.query)||void 0:""),n}function Os(t,n){var e=x({},t),i=new Set(Object.keys(t));return ii(n,{Variable:function(r,o,c){c&&c.kind!=="VariableDefinition"&&i.delete(r.name.value)}}),i.forEach(function(r){delete e[r]}),e}function qu(t,n){return n?n(t):Re.of()}function Lo(t){return typeof t=="function"?new Hi(t):t}function Ta(t){return t.request.length<=1}var Hi=function(){function t(n){n&&(this.request=n)}return t.empty=function(){return new t(function(){return Re.of()})},t.from=function(n){return n.length===0?t.empty():n.map(Lo).reduce(function(e,i){return e.concat(i)})},t.split=function(n,e,i){var r=Lo(e),o=Lo(i||new t(qu)),c;return Ta(r)&&Ta(o)?c=new t(function(p){return n(p)?r.request(p)||Re.of():o.request(p)||Re.of()}):c=new t(function(p,f){return n(p)?r.request(p,f)||Re.of():o.request(p,f)||Re.of()}),Object.assign(c,{left:r,right:o})},t.execute=function(n,e){return n.request(bs(e.context,Fs(ws(e))))||Re.of()},t.concat=function(n,e){var i=Lo(n);if(Ta(i))return globalThis.__DEV__!==!1&&ee.warn(38,i),i;var r=Lo(e),o;return Ta(r)?o=new t(function(c){return i.request(c,function(p){return r.request(p)||Re.of()})||Re.of()}):o=new t(function(c,p){return i.request(c,function(f){return r.request(f,p)||Re.of()})||Re.of()}),Object.assign(o,{left:i,right:r})},t.prototype.split=function(n,e,i){return this.concat(t.split(n,e,i||new t(qu)))},t.prototype.concat=function(n){return t.concat(this,n)},t.prototype.request=function(n,e){throw gt(39)},t.prototype.onError=function(n,e){if(e&&e.error)return e.error(n),!1;throw n},t.prototype.setOnError=function(n){return this.onError=n,this},t}();var Ur=Hi.execute;function Ds(t){var n,e=t[Symbol.asyncIterator]();return n={next:function(){return e.next()}},n[Symbol.asyncIterator]=function(){return this},n}function Rs(t){var n=null,e=null,i=!1,r=[],o=[];function c(C){if(!e){if(o.length){var v=o.shift();if(Array.isArray(v)&&v[0])return v[0]({value:C,done:!1})}r.push(C)}}function p(C){e=C;var v=o.slice();v.forEach(function(I){I[1](C)}),!n||n()}function f(){i=!0;var C=o.slice();C.forEach(function(v){v[0]({value:void 0,done:!0})}),!n||n()}n=function(){n=null,t.removeListener("data",c),t.removeListener("error",p),t.removeListener("end",f),t.removeListener("finish",f),t.removeListener("close",f)},t.on("data",c),t.on("error",p),t.on("end",f),t.on("finish",f),t.on("close",f);function d(){return new Promise(function(C,v){if(e)return v(e);if(r.length)return C({value:r.shift(),done:!1});if(i)return C({value:void 0,done:!0});o.push([C,v])})}var h={next:function(){return d()}};return Xn&&(h[Symbol.asyncIterator]=function(){return this}),h}function Ls(t){var n=!1,e={next:function(){return n?Promise.resolve({value:void 0,done:!0}):(n=!0,new Promise(function(i,r){t.then(function(o){i({value:o,done:!1})}).catch(r)}))}};return Xn&&(e[Symbol.asyncIterator]=function(){return this}),e}function Ia(t){var n={next:function(){return t.read()}};return Xn&&(n[Symbol.asyncIterator]=function(){return this}),n}function Ag(t){return!!t.body}function Pg(t){return!!t.getReader}function kg(t){return!!(Xn&&t[Symbol.asyncIterator])}function Ng(t){return!!t.stream}function Gg(t){return!!t.arrayBuffer}function Wg(t){return!!t.pipe}function Xu(t){var n=t;if(Ag(t)&&(n=t.body),kg(n))return Ds(n);if(Pg(n))return Ia(n.getReader());if(Ng(n))return Ia(n.stream().getReader());if(Gg(n))return Ls(n.arrayBuffer());if(Wg(n))return Rs(n);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Mo=Symbol();function Ku(t){return t.extensions?Array.isArray(t.extensions[Mo]):!1}function xa(t){return t.hasOwnProperty("graphQLErrors")}var Bg=function(t){var n=Vt(Vt(Vt([],t.graphQLErrors,!0),t.clientErrors,!0),t.protocolErrors,!0);return t.networkError&&n.push(t.networkError),n.map(function(e){return qe(e)&&e.message||"Error message not found."}).join(`
`)},Mn=function(t){ri(n,t);function n(e){var i=e.graphQLErrors,r=e.protocolErrors,o=e.clientErrors,c=e.networkError,p=e.errorMessage,f=e.extraInfo,d=t.call(this,p)||this;return d.name="ApolloError",d.graphQLErrors=i||[],d.protocolErrors=r||[],d.clientErrors=o||[],d.networkError=c||null,d.message=p||Bg(d),d.extraInfo=f,d.cause=Vt(Vt(Vt([c],i||[],!0),r||[],!0),o||[],!0).find(function(h){return!!h})||null,d.__proto__=n.prototype,d}return n}(Error);var Ju=Object.prototype.hasOwnProperty;function Yu(t,n){return Zi(this,void 0,void 0,function(){var e,i,r,o,c,p,f,d,h,C,v,I,A,G,$,L,H,Q,J,Z,me,Fe,Oe,Ft;return en(this,function($t){switch($t.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");e=new TextDecoder("utf-8"),i=(Ft=t.headers)===null||Ft===void 0?void 0:Ft.get("content-type"),r="boundary=",o=i?.includes(r)?i?.substring(i?.indexOf(r)+r.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",c=`\r
--`.concat(o),p="",f=Xu(t),d=!0,$t.label=1;case 1:return d?[4,f.next()]:[3,3];case 2:for(h=$t.sent(),C=h.value,v=h.done,I=typeof C=="string"?C:e.decode(C),A=p.length-c.length+1,d=!v,p+=I,G=p.indexOf(c,A);G>-1;){if($=void 0,Fe=[p.slice(0,G),p.slice(G+c.length)],$=Fe[0],p=Fe[1],L=$.indexOf(`\r
\r
`),H=jg($.slice(0,L)),Q=H["content-type"],Q&&Q.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(J=$.slice(L),J){if(Z=Zu(t,J),Object.keys(Z).length>1||"data"in Z||"incremental"in Z||"errors"in Z||"payload"in Z)if(zu(Z)){if(me={},"payload"in Z){if(Object.keys(Z).length===1&&Z.payload===null)return[2];me=x({},Z.payload)}"errors"in Z&&(me=x(x({},me),{extensions:x(x({},"extensions"in me?me.extensions:null),(Oe={},Oe[Mo]=Z.errors,Oe))})),n(me)}else n(Z);else if(Object.keys(Z).length===1&&"hasNext"in Z&&!Z.hasNext)return[2]}G=p.indexOf(c)}return[3,1];case 3:return[2]}})})}function jg(t){var n={};return t.split(`
`).forEach(function(e){var i=e.indexOf(":");if(i>-1){var r=e.slice(0,i).trim().toLowerCase(),o=e.slice(i+1).trim();n[r]=o}}),n}function Zu(t,n){if(t.status>=300){var e=function(){try{return JSON.parse(n)}catch{return n}};Ea(t,e(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(n)}catch(r){var i=r;throw i.name="ServerParseError",i.response=t,i.statusCode=t.status,i.bodyText=n,i}}function em(t,n){t.result&&t.result.errors&&t.result.data&&n.next(t.result),n.error(t)}function tm(t){return function(n){return n.text().then(function(e){return Zu(n,e)}).then(function(e){return!Array.isArray(e)&&!Ju.call(e,"data")&&!Ju.call(e,"errors")&&Ea(n,e,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(i){return i.operationName}):t.operationName,"'.")),e})}}var Vo=function(t,n){var e;try{e=JSON.stringify(t)}catch(r){var i=gt(42,n,r.message);throw i.parseError=r,i}return e};var $g={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},Hg={accept:"*/*","content-type":"application/json"},Ug={method:"POST"},im={http:$g,headers:Hg,options:Ug},nm=function(t,n){return n(t)};function rm(t,n){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];var r={},o={};e.forEach(function(C){r=x(x(x({},r),C.options),{headers:x(x({},r.headers),C.headers)}),C.credentials&&(r.credentials=C.credentials),o=x(x({},o),C.http)}),r.headers&&(r.headers=Qg(r.headers,o.preserveHeaderCase));var c=t.operationName,p=t.extensions,f=t.variables,d=t.query,h={operationName:c,variables:f};return o.includeExtensions&&(h.extensions=p),o.includeQuery&&(h.query=n(d,an)),{options:r,body:h}}function Qg(t,n){if(!n){var e={};return Object.keys(Object(t)).forEach(function(o){e[o.toLowerCase()]=t[o]}),e}var i={};Object.keys(Object(t)).forEach(function(o){i[o.toLowerCase()]={originalName:o,value:t[o]}});var r={};return Object.keys(i).forEach(function(o){r[i[o].originalName]=i[o].value}),r}var om=function(t){if(!t&&typeof fetch>"u")throw gt(40)};var am=function(t,n){var e=t.getContext(),i=e.uri;return i||(typeof n=="function"?n(t):n||"/graphql")};function lm(t,n){var e=[],i=function(C,v){e.push("".concat(C,"=").concat(encodeURIComponent(v)))};if("query"in n&&i("query",n.query),n.operationName&&i("operationName",n.operationName),n.variables){var r=void 0;try{r=Vo(n.variables,"Variables map")}catch(C){return{parseError:C}}i("variables",r)}if(n.extensions){var o=void 0;try{o=Vo(n.extensions,"Extensions map")}catch(C){return{parseError:C}}i("extensions",o)}var c="",p=t,f=t.indexOf("#");f!==-1&&(c=t.substr(f),p=t.substr(0,f));var d=p.indexOf("?")===-1?"?":"&",h=p+d+e.join("&")+c;return{newURI:h}}var sm=pi(function(){return fetch}),cm=function(t){t===void 0&&(t={});var n=t.uri,e=n===void 0?"/graphql":n,i=t.fetch,r=t.print,o=r===void 0?nm:r,c=t.includeExtensions,p=t.preserveHeaderCase,f=t.useGETForQueries,d=t.includeUnusedVariables,h=d===void 0?!1:d,C=Ci(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&om(i||sm);var v={http:{includeExtensions:c,preserveHeaderCase:p},options:C.fetchOptions,credentials:C.credentials,headers:C.headers};return new Hi(function(I){var A=am(I,e),G=I.getContext(),$={};if(G.clientAwareness){var L=G.clientAwareness,H=L.name,Q=L.version;H&&($["apollographql-client-name"]=H),Q&&($["apollographql-client-version"]=Q)}var J=x(x({},$),G.headers),Z={http:G.http,options:G.fetchOptions,credentials:G.credentials,headers:J};if(Fn(["client"],I.query)){var me=Fo(I.query);if(!me)return Ro(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));I.query=me}var Fe=rm(I,o,im,v,Z),Oe=Fe.options,Ft=Fe.body;Ft.variables&&!h&&(Ft.variables=Os(Ft.variables,I.query));var $t;!Oe.signal&&typeof AbortController<"u"&&($t=new AbortController,Oe.signal=$t.signal);var cn=function(Ai){return Ai.kind==="OperationDefinition"&&Ai.operation==="mutation"},yr=function(Ai){return Ai.kind==="OperationDefinition"&&Ai.operation==="subscription"},oi=yr(rn(I.query)),Gn=Fn(["defer"],I.query);if(f&&!I.query.definitions.some(cn)&&(Oe.method="GET"),Gn||oi){Oe.headers=Oe.headers||{};var kl="multipart/mixed;";oi&&Gn&&globalThis.__DEV__!==!1&&ee.warn(41),oi?kl+="boundary=graphql;subscriptionSpec=1.0,application/json":Gn&&(kl+="deferSpec=20220824,application/json"),Oe.headers.accept=kl}if(Oe.method==="GET"){var Xc=lm(A,Ft),Ph=Xc.newURI,Kc=Xc.parseError;if(Kc)return Ro(Kc);A=Ph}else try{Oe.body=Vo(Ft,"Payload")}catch(Ai){return Ro(Ai)}return new Re(function(Ai){var kh=i||pi(function(){return fetch})||sm,Jc=Ai.next.bind(Ai);return kh(A,Oe).then(function(Er){var Nl;I.setContext({response:Er});var Yc=(Nl=Er.headers)===null||Nl===void 0?void 0:Nl.get("content-type");return Yc!==null&&/^multipart\/mixed/i.test(Yc)?Yu(Er,Jc):tm(I)(Er).then(Jc)}).then(function(){$t=void 0,Ai.complete()}).catch(function(Er){$t=void 0,em(Er,Ai)}),function(){$t&&$t.abort()}})})};var Ms=function(t){ri(n,t);function n(e){e===void 0&&(e={});var i=t.call(this,cm(e).request)||this;return i.options=e,i}return n}(Hi);var{toString:pm,hasOwnProperty:zg}=Object.prototype,um=Function.prototype.toString,Vs=new Map;function ot(t,n){try{return As(t,n)}finally{Vs.clear()}}var Ao=ot;function As(t,n){if(t===n)return!0;let e=pm.call(t),i=pm.call(n);if(e!==i)return!1;switch(e){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":{if(dm(t,n))return!0;let r=mm(t),o=mm(n),c=r.length;if(c!==o.length)return!1;for(let p=0;p<c;++p)if(!zg.call(n,r[p]))return!1;for(let p=0;p<c;++p){let f=r[p];if(!As(t[f],n[f]))return!1}return!0}case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!==t)return n!==n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==`${n}`;case"[object Map]":case"[object Set]":{if(t.size!==n.size)return!1;if(dm(t,n))return!0;let r=t.entries(),o=e==="[object Map]";for(;;){let c=r.next();if(c.done)break;let[p,f]=c.value;if(!n.has(p)||o&&!As(f,n.get(p)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),n=new Uint8Array(n);case"[object DataView]":{let r=t.byteLength;if(r===n.byteLength)for(;r--&&t[r]===n[r];);return r===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{let r=um.call(t);return r!==um.call(n)?!1:!Kg(r,Xg)}}return!1}function mm(t){return Object.keys(t).filter(qg,t)}function qg(t){return this[t]!==void 0}var Xg="{ [native code] }";function Kg(t,n){let e=t.length-n.length;return e>=0&&t.indexOf(n,e)===e}function dm(t,n){let e=Vs.get(t);if(e){if(e.has(n))return!0}else Vs.set(t,e=new Set);return e.add(n),!1}function ba(t,n,e,i){var r=n.data,o=Ci(n,["data"]),c=e.data,p=Ci(e,["data"]);return Ao(o,p)&&wa(rn(t).selectionSet,r,c,{fragmentMap:wi(Fi(t)),variables:i})}function wa(t,n,e,i){if(n===e)return!0;var r=new Set;return t.selections.every(function(o){if(r.has(o)||(r.add(o),!nn(o,i.variables))||fm(o))return!0;if(vi(o)){var c=ui(o),p=n&&n[c],f=e&&e[c],d=o.selectionSet;if(!d)return Ao(p,f);var h=Array.isArray(p),C=Array.isArray(f);if(h!==C)return!1;if(h&&C){var v=p.length;if(f.length!==v)return!1;for(var I=0;I<v;++I)if(!wa(d,p[I],f[I],i))return!1;return!0}return wa(d,p,f,i)}else{var A=On(o,i.fragmentMap);if(A)return fm(A)?!0:wa(A.selectionSet,n,e,i)}})}function fm(t){return!!t.directives&&t.directives.some(Jg)}function Jg(t){return t.name.value==="nonreactive"}var Fa=xi?WeakMap:Map,Oa=Pr?WeakSet:Set,Qr=new on,hm=!1;function Da(){hm||(hm=!0,globalThis.__DEV__!==!1&&ee.warn(52))}function Ra(t,n,e){return Qr.withValue(!0,function(){var i=Po(t,n,e,!1);return Object.isFrozen(t)&&tr(i),i})}function Yg(t,n){if(n.has(t))return n.get(t);var e=Array.isArray(t)?[]:Object.create(null);return n.set(t,e),e}function Po(t,n,e,i,r){var o,c=e.knownChanged,p=Yg(t,e.mutableTargets);if(Array.isArray(t)){for(var f=0,d=Array.from(t.entries());f<d.length;f++){var h=d[f],C=h[0],v=h[1];if(v===null){p[C]=null;continue}var I=Po(v,n,e,i,globalThis.__DEV__!==!1?"".concat(r||"","[").concat(C,"]"):void 0);c.has(I)&&c.add(p),p[C]=I}return c.has(p)?p:t}for(var A=0,G=n.selections;A<G.length;A++){var $=G[A],L=void 0;if(i&&c.add(p),$.kind===ie.FIELD){var H=ui($),Q=$.selectionSet;if(L=p[H]||t[H],L===void 0)continue;if(Q&&L!==null){var I=Po(t[H],Q,e,i,globalThis.__DEV__!==!1?"".concat(r||"",".").concat(H):void 0);c.has(I)&&(L=I)}globalThis.__DEV__===!1&&(p[H]=L),globalThis.__DEV__!==!1&&(i&&H!=="__typename"&&!(!((o=Object.getOwnPropertyDescriptor(p,H))===null||o===void 0)&&o.value)?Object.defineProperty(p,H,Zg(H,L,r||"",e.operationName,e.operationType)):(delete p[H],p[H]=L))}if($.kind===ie.INLINE_FRAGMENT&&(!$.typeCondition||e.cache.fragmentMatches($,t.__typename))&&(L=Po(t,$.selectionSet,e,i,r)),$.kind===ie.FRAGMENT_SPREAD){var J=$.name.value,Z=e.fragmentMap[J]||(e.fragmentMap[J]=e.cache.lookupFragment(J));ee(Z,47,J);var me=Zl($);me!=="mask"&&(L=Po(t,Z.selectionSet,e,me==="migrate",r))}c.has(L)&&c.add(p)}return"__typename"in t&&!("__typename"in p)&&(p.__typename=t.__typename),Object.keys(p).length!==Object.keys(t).length&&c.add(p),c.has(p)?p:t}function Zg(t,n,e,i,r){var o=function(){return Qr.getValue()||(globalThis.__DEV__!==!1&&ee.warn(48,i?"".concat(r," '").concat(i,"'"):"anonymous ".concat(r),"".concat(e,".").concat(t).replace(/^\./,"")),o=function(){return n}),n};return{get:function(){return o()},set:function(c){o=function(){return c}},enumerable:!0,configurable:!0}}function ko(t,n,e,i){if(!e.fragmentMatches)return globalThis.__DEV__!==!1&&Da(),t;var r=n.definitions.filter(function(c){return c.kind===ie.FRAGMENT_DEFINITION});typeof i>"u"&&(ee(r.length===1,49,r.length),i=r[0].name.value);var o=r.find(function(c){return c.name.value===i});return ee(!!o,50,i),t==null||Ao(t,{})?t:Ra(t,o.selectionSet,{operationType:"fragment",operationName:o.name.value,fragmentMap:wi(Fi(n)),cache:e,mutableTargets:new Fa,knownChanged:new Oa})}function Ps(t,n,e){var i;if(!e.fragmentMatches)return globalThis.__DEV__!==!1&&Da(),t;var r=bi(n);return ee(r,51),t==null?t:Ra(t,r.selectionSet,{operationType:r.operation,operationName:(i=r.name)===null||i===void 0?void 0:i.value,fragmentMap:wi(Fi(n)),cache:e,mutableTargets:new Fa,knownChanged:new Oa})}var La=function(){function t(){this.assumeImmutableResults=!1,this.getFragmentDoc=Ln(ts,{max:ni["cache.fragmentQueryDocuments"]||1e3,cache:yn})}return t.prototype.lookupFragment=function(n){return null},t.prototype.batch=function(n){var e=this,i=typeof n.optimistic=="string"?n.optimistic:n.optimistic===!1?null:void 0,r;return this.performTransaction(function(){return r=n.update(e)},i),r},t.prototype.recordOptimisticTransaction=function(n,e){this.performTransaction(n,e)},t.prototype.transformDocument=function(n){return n},t.prototype.transformForLink=function(n){return n},t.prototype.identify=function(n){},t.prototype.gc=function(){return[]},t.prototype.modify=function(n){return!1},t.prototype.readQuery=function(n,e){return e===void 0&&(e=!!n.optimistic),this.read(x(x({},n),{rootId:n.id||"ROOT_QUERY",optimistic:e}))},t.prototype.watchFragment=function(n){var e=this,i=n.fragment,r=n.fragmentName,o=n.from,c=n.optimistic,p=c===void 0?!0:c,f=Ci(n,["fragment","fragmentName","from","optimistic"]),d=this.getFragmentDoc(i,r),h=typeof o>"u"||typeof o=="string"?o:this.identify(o),C=!!n[Symbol.for("apollo.dataMasking")];if(globalThis.__DEV__!==!1){var v=r||To(i).name.value;h||globalThis.__DEV__!==!1&&ee.warn(1,v)}var I=x(x({},f),{returnPartialData:!0,id:h,query:d,optimistic:p}),A;return new Re(function(G){return e.watch(x(x({},I),{immediate:!0,callback:function($){var L=C?ko($.result,i,e,r):$.result;if(!(A&&ba(d,{data:A.result},{data:L},n.variables))){var H={data:L,complete:!!$.complete};$.missing&&(H.missing=_r($.missing.map(function(Q){return Q.missing}))),A=x(x({},$),{result:L}),G.next(H)}}}))})},t.prototype.readFragment=function(n,e){return e===void 0&&(e=!!n.optimistic),this.read(x(x({},n),{query:this.getFragmentDoc(n.fragment,n.fragmentName),rootId:n.id,optimistic:e}))},t.prototype.writeQuery=function(n){var e=n.id,i=n.data,r=Ci(n,["id","data"]);return this.write(Object.assign(r,{dataId:e||"ROOT_QUERY",result:i}))},t.prototype.writeFragment=function(n){var e=n.id,i=n.data,r=n.fragment,o=n.fragmentName,c=Ci(n,["id","data","fragment","fragmentName"]);return this.write(Object.assign(c,{query:this.getFragmentDoc(r,o),dataId:e,result:i}))},t.prototype.updateQuery=function(n,e){return this.batch({update:function(i){var r=i.readQuery(n),o=e(r);return o==null?r:(i.writeQuery(x(x({},n),{data:o})),o)}})},t.prototype.updateFragment=function(n,e){return this.batch({update:function(i){var r=i.readFragment(n),o=e(r);return o==null?r:(i.writeFragment(x(x({},n),{data:o})),o)}})},t}();globalThis.__DEV__!==!1&&(La.prototype.getMemoryInternals=mu);var No=function(t){ri(n,t);function n(e,i,r,o){var c,p=t.call(this,e)||this;if(p.message=e,p.path=i,p.query=r,p.variables=o,Array.isArray(p.path)){p.missing=p.message;for(var f=p.path.length-1;f>=0;--f)p.missing=(c={},c[p.path[f]]=p.missing,c)}else p.missing=p.path;return p.__proto__=n.prototype,p}return n}(Error);var jt=Object.prototype.hasOwnProperty;function Go(t){return t==null}function Va(t,n){var e=t.__typename,i=t.id,r=t._id;if(typeof e=="string"&&(n&&(n.keyObject=Go(i)?Go(r)?void 0:{_id:r}:{id:i}),Go(i)&&!Go(r)&&(i=r),!Go(i)))return"".concat(e,":").concat(typeof i=="number"||typeof i=="string"?i:JSON.stringify(i))}var _m={dataIdFromObject:Va,addTypename:!0,resultCaching:!0,canonizeResults:!1};function gm(t){return En(_m,t)}function Aa(t){var n=t.canonizeResults;return n===void 0?_m.canonizeResults:n}function vm(t,n){return Me(n)?t.get(n.__ref,"__typename"):n&&n.__typename}var ks=/^[_a-z][_0-9a-z]*/i;function ln(t){var n=t.match(ks);return n?n[0]:t}function Ma(t,n,e){return qe(n)?at(n)?n.every(function(i){return Ma(t,i,e)}):t.selections.every(function(i){if(vi(i)&&nn(i,e)){var r=ui(i);return jt.call(n,r)&&(!i.selectionSet||Ma(i.selectionSet,n[r],e))}return!0}):!1}function nr(t){return qe(t)&&!Me(t)&&!at(t)}function Cm(){return new Ii}function Pa(t,n){var e=wi(Fi(t));return{fragmentMap:e,lookupFragment:function(i){var r=e[i];return!r&&n&&(r=n.lookup(i)),r||null}}}var ka=Object.create(null),Ns=function(){return ka},Sm=Object.create(null),zr=function(){function t(n,e){var i=this;this.policies=n,this.group=e,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(r,o){return tr(Me(r)?i.get(r.__ref,o):r&&r[o])},this.canRead=function(r){return Me(r)?i.has(r.__ref):typeof r=="object"},this.toReference=function(r,o){if(typeof r=="string")return $i(r);if(Me(r))return r;var c=i.policies.identify(r)[0];if(c){var p=$i(c);return o&&i.merge(c,r),p}}}return t.prototype.toObject=function(){return x({},this.data)},t.prototype.has=function(n){return this.lookup(n,!0)!==void 0},t.prototype.get=function(n,e){if(this.group.depend(n,e),jt.call(this.data,n)){var i=this.data[n];if(i&&jt.call(i,e))return i[e]}if(e==="__typename"&&jt.call(this.policies.rootTypenamesById,n))return this.policies.rootTypenamesById[n];if(this instanceof rr)return this.parent.get(n,e)},t.prototype.lookup=function(n,e){if(e&&this.group.depend(n,"__exists"),jt.call(this.data,n))return this.data[n];if(this instanceof rr)return this.parent.lookup(n,e);if(this.policies.rootTypenamesById[n])return Object.create(null)},t.prototype.merge=function(n,e){var i=this,r;Me(n)&&(n=n.__ref),Me(e)&&(e=e.__ref);var o=typeof n=="string"?this.lookup(r=n):n,c=typeof e=="string"?this.lookup(r=e):e;if(c){ee(typeof r=="string",2);var p=new Ii(tv).merge(o,c);if(this.data[r]=p,p!==o&&(delete this.refs[r],this.group.caching)){var f=Object.create(null);o||(f.__exists=1),Object.keys(c).forEach(function(d){if(!o||o[d]!==p[d]){f[d]=1;var h=ln(d);h!==d&&!i.policies.hasKeyArgs(p.__typename,h)&&(f[h]=1),p[d]===void 0&&!(i instanceof rr)&&delete p[d]}}),f.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[r]===p.__typename&&delete f.__typename,Object.keys(f).forEach(function(d){return i.group.dirty(r,d)})}}},t.prototype.modify=function(n,e){var i=this,r=this.lookup(n);if(r){var o=Object.create(null),c=!1,p=!0,f={DELETE:ka,INVALIDATE:Sm,isReference:Me,toReference:this.toReference,canRead:this.canRead,readField:function(d,h){return i.policies.readField(typeof d=="string"?{fieldName:d,from:h||$i(n)}:d,{store:i})}};if(Object.keys(r).forEach(function(d){var h=ln(d),C=r[d];if(C!==void 0){var v=typeof e=="function"?e:e[d]||e[h];if(v){var I=v===Ns?ka:v(tr(C),x(x({},f),{fieldName:h,storeFieldName:d,storage:i.getStorage(n,d)}));if(I===Sm)i.group.dirty(n,d);else if(I===ka&&(I=void 0),I!==C&&(o[d]=I,c=!0,C=I,globalThis.__DEV__!==!1)){var A=function(Z){if(i.lookup(Z.__ref)===void 0)return globalThis.__DEV__!==!1&&ee.warn(3,Z),!0};if(Me(I))A(I);else if(Array.isArray(I))for(var G=!1,$=void 0,L=0,H=I;L<H.length;L++){var Q=H[L];if(Me(Q)){if(G=!0,A(Q))break}else if(typeof Q=="object"&&Q){var J=i.policies.identify(Q)[0];J&&($=Q)}if(G&&$!==void 0){globalThis.__DEV__!==!1&&ee.warn(4,$);break}}}}C!==void 0&&(p=!1)}}),c)return this.merge(n,o),p&&(this instanceof rr?this.data[n]=void 0:delete this.data[n],this.group.dirty(n,"__exists")),!0}return!1},t.prototype.delete=function(n,e,i){var r,o=this.lookup(n);if(o){var c=this.getFieldValue(o,"__typename"),p=e&&i?this.policies.getStoreFieldName({typename:c,fieldName:e,args:i}):e;return this.modify(n,p?(r={},r[p]=Ns,r):Ns)}return!1},t.prototype.evict=function(n,e){var i=!1;return n.id&&(jt.call(this.data,n.id)&&(i=this.delete(n.id,n.fieldName,n.args)),this instanceof rr&&this!==e&&(i=this.parent.evict(n,e)||i),(n.fieldName||i)&&this.group.dirty(n.id,n.fieldName||"__exists")),i},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var n=this,e=this.toObject(),i=[];return this.getRootIdSet().forEach(function(r){jt.call(n.policies.rootTypenamesById,r)||i.push(r)}),i.length&&(e.__META={extraRootIds:i.sort()}),e},t.prototype.replace=function(n){var e=this;if(Object.keys(this.data).forEach(function(o){n&&jt.call(n,o)||e.delete(o)}),n){var i=n.__META,r=Ci(n,["__META"]);Object.keys(r).forEach(function(o){e.merge(o,r[o])}),i&&i.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(n){return this.rootIds[n]=(this.rootIds[n]||0)+1},t.prototype.release=function(n){if(this.rootIds[n]>0){var e=--this.rootIds[n];return e||delete this.rootIds[n],e}return 0},t.prototype.getRootIdSet=function(n){return n===void 0&&(n=new Set),Object.keys(this.rootIds).forEach(n.add,n),this instanceof rr?this.parent.getRootIdSet(n):Object.keys(this.policies.rootTypenamesById).forEach(n.add,n),n},t.prototype.gc=function(){var n=this,e=this.getRootIdSet(),i=this.toObject();e.forEach(function(c){jt.call(i,c)&&(Object.keys(n.findChildRefIds(c)).forEach(e.add,e),delete i[c])});var r=Object.keys(i);if(r.length){for(var o=this;o instanceof rr;)o=o.parent;r.forEach(function(c){return o.delete(c)})}return r},t.prototype.findChildRefIds=function(n){if(!jt.call(this.refs,n)){var e=this.refs[n]=Object.create(null),i=this.data[n];if(!i)return e;var r=new Set([i]);r.forEach(function(o){Me(o)&&(e[o.__ref]=!0),qe(o)&&Object.keys(o).forEach(function(c){var p=o[c];qe(p)&&r.add(p)})})}return this.refs[n]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}();var ym=function(){function t(n,e){e===void 0&&(e=null),this.caching=n,this.parent=e,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?wo():null,this.keyMaker=new _i(xi)},t.prototype.depend=function(n,e){if(this.d){this.d(Gs(n,e));var i=ln(e);i!==e&&this.d(Gs(n,i)),this.parent&&this.parent.depend(n,e)}},t.prototype.dirty=function(n,e){this.d&&this.d.dirty(Gs(n,e),e==="__exists"?"forget":"setDirty")},t}();function Gs(t,n){return n+"#"+t}function Ws(t,n){Cr(t)&&t.group.depend(n,"__exists")}(function(t){var n=function(e){ri(i,e);function i(r){var o=r.policies,c=r.resultCaching,p=c===void 0?!0:c,f=r.seed,d=e.call(this,o,new ym(p))||this;return d.stump=new ev(d),d.storageTrie=new _i(xi),f&&d.replace(f),d}return i.prototype.addLayer=function(r,o){return this.stump.addLayer(r,o)},i.prototype.removeLayer=function(){return this},i.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},i}(t);t.Root=n})(zr||(zr={}));var rr=function(t){ri(n,t);function n(e,i,r,o){var c=t.call(this,i.policies,o)||this;return c.id=e,c.parent=i,c.replay=r,c.group=o,r(c),c}return n.prototype.addLayer=function(e,i){return new n(e,this,i,this.group)},n.prototype.removeLayer=function(e){var i=this,r=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var c=i.data[o],p=r.lookup(o);p?c?c!==p&&Object.keys(c).forEach(function(f){ot(c[f],p[f])||i.group.dirty(o,f)}):(i.group.dirty(o,"__exists"),Object.keys(p).forEach(function(f){i.group.dirty(o,f)})):i.delete(o)}),r):r===this.parent?this:r.addLayer(this.id,this.replay)},n.prototype.toObject=function(){return x(x({},this.parent.toObject()),this.data)},n.prototype.findChildRefIds=function(e){var i=this.parent.findChildRefIds(e);return jt.call(this.data,e)?x(x({},i),t.prototype.findChildRefIds.call(this,e)):i},n.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},n}(zr),ev=function(t){ri(n,t);function n(e){return t.call(this,"EntityStore.Stump",e,function(){},new ym(e.group.caching,e.group))||this}return n.prototype.removeLayer=function(){return this},n.prototype.merge=function(e,i){return this.parent.merge(e,i)},n}(rr);function tv(t,n,e){var i=t[e],r=n[e];return ot(i,r)?i:r}function Cr(t){return!!(t instanceof zr&&t.group.caching)}function iv(t){return qe(t)?at(t)?t.slice(0):x({__proto__:Object.getPrototypeOf(t)},t):t}var Bs=function(){function t(){this.known=new(Pr?WeakSet:Set),this.pool=new _i(xi),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(n){return qe(n)&&this.known.has(n)},t.prototype.pass=function(n){if(qe(n)){var e=iv(n);return this.passes.set(e,n),e}return n},t.prototype.admit=function(n){var e=this;if(qe(n)){var i=this.passes.get(n);if(i)return i;var r=Object.getPrototypeOf(n);switch(r){case Array.prototype:{if(this.known.has(n))return n;var o=n.map(this.admit,this),c=this.pool.lookupArray(o);return c.array||(this.known.add(c.array=o),globalThis.__DEV__!==!1&&Object.freeze(o)),c.array}case null:case Object.prototype:{if(this.known.has(n))return n;var p=Object.getPrototypeOf(n),f=[p],d=this.sortedKeys(n);f.push(d.json);var h=f.length;d.sorted.forEach(function(I){f.push(e.admit(n[I]))});var c=this.pool.lookupArray(f);if(!c.object){var C=c.object=Object.create(p);this.known.add(C),d.sorted.forEach(function(I,A){C[I]=f[h+A]}),globalThis.__DEV__!==!1&&Object.freeze(C)}return c.object}}}return n},t.prototype.sortedKeys=function(n){var e=Object.keys(n),i=this.pool.lookupArray(e);if(!i.keys){e.sort();var r=JSON.stringify(e);(i.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,i.keys={sorted:e,json:r})}return i.keys},t}();function Em(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var Tm=function(){function t(n){var e=this;this.knownResults=new(xi?WeakMap:Map),this.config=En(n,{addTypename:n.addTypename!==!1,canonizeResults:Aa(n)}),this.canon=n.canon||new Bs,this.executeSelectionSet=Ln(function(i){var r,o=i.context.canonizeResults,c=Em(i);c[3]=!o;var p=(r=e.executeSelectionSet).peek.apply(r,c);return p?o?x(x({},p),{result:e.canon.admit(p.result)}):p:(Ws(i.context.store,i.enclosingRef.__ref),e.execSelectionSetImpl(i))},{max:this.config.resultCacheMaxSize||ni["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:Em,makeCacheKey:function(i,r,o,c){if(Cr(o.store))return o.store.makeCacheKey(i,Me(r)?r.__ref:r,o.varString,c)}}),this.executeSubSelectedArray=Ln(function(i){return Ws(i.context.store,i.enclosingRef.__ref),e.execSubSelectedArrayImpl(i)},{max:this.config.resultCacheMaxSize||ni["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(i){var r=i.field,o=i.array,c=i.context;if(Cr(c.store))return c.store.makeCacheKey(r,o,c.varString)}})}return t.prototype.resetCanon=function(){this.canon=new Bs},t.prototype.diffQueryAgainstStore=function(n){var e=n.store,i=n.query,r=n.rootId,o=r===void 0?"ROOT_QUERY":r,c=n.variables,p=n.returnPartialData,f=p===void 0?!0:p,d=n.canonizeResults,h=d===void 0?this.config.canonizeResults:d,C=this.config.cache.policies;c=x(x({},dr(Eo(i))),c);var v=$i(o),I=this.executeSelectionSet({selectionSet:rn(i).selectionSet,objectOrReference:v,enclosingRef:v,context:x({store:e,query:i,policies:C,variables:c,varString:gi(c),canonizeResults:h},Pa(i,this.config.fragments))}),A;if(I.missing&&(A=[new No(nv(I.missing),I.missing,i,c)],!f))throw A[0];return{result:I.result,complete:!A,missing:A}},t.prototype.isFresh=function(n,e,i,r){if(Cr(r.store)&&this.knownResults.get(n)===i){var o=this.executeSelectionSet.peek(i,e,r,this.canon.isKnown(n));if(o&&n===o.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(n){var e=this,i=n.selectionSet,r=n.objectOrReference,o=n.enclosingRef,c=n.context;if(Me(r)&&!c.policies.rootTypenamesById[r.__ref]&&!c.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var p=c.variables,f=c.policies,d=c.store,h=d.getFieldValue(r,"__typename"),C=[],v,I=new Ii;this.config.addTypename&&typeof h=="string"&&!f.rootIdsByTypename[h]&&C.push({__typename:h});function A(Q,J){var Z;return Q.missing&&(v=I.merge(v,(Z={},Z[J]=Q.missing,Z))),Q.result}var G=new Set(i.selections);G.forEach(function(Q){var J,Z;if(nn(Q,p))if(vi(Q)){var me=f.readField({fieldName:Q.name.value,field:Q,variables:c.variables,from:r},c),Fe=ui(Q);me===void 0?hr.added(Q)||(v=I.merge(v,(J={},J[Fe]="Can't find field '".concat(Q.name.value,"' on ").concat(Me(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),J))):at(me)?me.length>0&&(me=A(e.executeSubSelectedArray({field:Q,array:me,enclosingRef:o,context:c}),Fe)):Q.selectionSet?me!=null&&(me=A(e.executeSelectionSet({selectionSet:Q.selectionSet,objectOrReference:me,enclosingRef:Me(me)?me:o,context:c}),Fe)):c.canonizeResults&&(me=e.canon.pass(me)),me!==void 0&&C.push((Z={},Z[Fe]=me,Z))}else{var Oe=On(Q,c.lookupFragment);if(!Oe&&Q.kind===ie.FRAGMENT_SPREAD)throw gt(10,Q.name.value);Oe&&f.fragmentMatches(Oe,h)&&Oe.selectionSet.selections.forEach(G.add,G)}});var $=_r(C),L={result:$,missing:v},H=c.canonizeResults?this.canon.admit(L):tr(L);return H.result&&this.knownResults.set(H.result,i),H},t.prototype.execSubSelectedArrayImpl=function(n){var e=this,i=n.field,r=n.array,o=n.enclosingRef,c=n.context,p,f=new Ii;function d(h,C){var v;return h.missing&&(p=f.merge(p,(v={},v[C]=h.missing,v))),h.result}return i.selectionSet&&(r=r.filter(c.store.canRead)),r=r.map(function(h,C){return h===null?null:at(h)?d(e.executeSubSelectedArray({field:i,array:h,enclosingRef:o,context:c}),C):i.selectionSet?d(e.executeSelectionSet({selectionSet:i.selectionSet,objectOrReference:h,enclosingRef:Me(h)?h:o,context:c}),C):(globalThis.__DEV__!==!1&&rv(c.store,i,h),h)}),{result:c.canonizeResults?this.canon.admit(r):r,missing:p}},t}();function nv(t){try{JSON.stringify(t,function(n,e){if(typeof e=="string")throw e;return e})}catch(n){return n}}function rv(t,n,e){if(!n.selectionSet){var i=new Set([e]);i.forEach(function(r){qe(r)&&(ee(!Me(r),11,vm(t,r),n.name.value),Object.values(r).forEach(i.add,i))})}}var qr=new on,Im=new WeakMap;function Wo(t){var n=Im.get(t);return n||Im.set(t,n={vars:new Set,dep:wo()}),n}function js(t){Wo(t).vars.forEach(function(n){return n.forgetCache(t)})}function xm(t){Wo(t).vars.forEach(function(n){return n.attachCache(t)})}function Na(t){var n=new Set,e=new Set,i=function(o){if(arguments.length>0){if(t!==o){t=o,n.forEach(function(f){Wo(f).dep.dirty(i),ov(f)});var c=Array.from(e);e.clear(),c.forEach(function(f){return f(t)})}}else{var p=qr.getValue();p&&(r(p),Wo(p).dep(i))}return t};i.onNextChange=function(o){return e.add(o),function(){e.delete(o)}};var r=i.attachCache=function(o){return n.add(o),Wo(o).vars.add(i),i};return i.forgetCache=function(o){return n.delete(o)},i}function ov(t){t.broadcastWatches&&t.broadcastWatches()}var wm=Object.create(null);function $s(t){var n=JSON.stringify(t);return wm[n]||(wm[n]=Object.create(null))}function Hs(t){var n=$s(t);return n.keyFieldsFn||(n.keyFieldsFn=function(e,i){var r=function(c,p){return i.readField(p,c)},o=i.keyObject=Qs(t,function(c){var p=Xr(i.storeObject,c,r);return p===void 0&&e!==i.storeObject&&jt.call(e,c[0])&&(p=Xr(e,c,Fm)),ee(p!==void 0,5,c.join("."),e),p});return"".concat(i.typename,":").concat(JSON.stringify(o))})}function Us(t){var n=$s(t);return n.keyArgsFn||(n.keyArgsFn=function(e,i){var r=i.field,o=i.variables,c=i.fieldName,p=Qs(t,function(d){var h=d[0],C=h.charAt(0);if(C==="@"){if(r&&li(r.directives)){var v=h.slice(1),I=r.directives.find(function(L){return L.name.value===v}),A=I&&Dn(I,o);return A&&Xr(A,d.slice(1))}return}if(C==="$"){var G=h.slice(1);if(o&&jt.call(o,G)){var $=d.slice(0);return $[0]=G,Xr(o,$)}return}if(e)return Xr(e,d)}),f=JSON.stringify(p);return(e||f!=="{}")&&(c+=":"+f),c})}function Qs(t,n){var e=new Ii;return bm(t).reduce(function(i,r){var o,c=n(r);if(c!==void 0){for(var p=r.length-1;p>=0;--p)c=(o={},o[r[p]]=c,o);i=e.merge(i,c)}return i},Object.create(null))}function bm(t){var n=$s(t);if(!n.paths){var e=n.paths=[],i=[];t.forEach(function(r,o){at(r)?(bm(r).forEach(function(c){return e.push(i.concat(c))}),i.length=0):(i.push(r),at(t[o+1])||(e.push(i.slice(0)),i.length=0))})}return n.paths}function Fm(t,n){return t[n]}function Xr(t,n,e){return e=e||Fm,Om(n.reduce(function i(r,o){return at(r)?r.map(function(c){return i(c,o)}):r&&e(r,o)},t))}function Om(t){return qe(t)?at(t)?t.map(Om):Qs(Object.keys(t).sort(),function(n){return Xr(t,n)}):t}function zs(t){return t.args!==void 0?t.args:t.field?Dn(t.field,t.variables):null}var av=function(){},Dm=function(t,n){return n.fieldName},Rm=function(t,n,e){var i=e.mergeObjects;return i(t,n)},Lm=function(t,n){return n},Vm=function(){function t(n){this.config=n,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=x({dataIdFromObject:Va},n),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),n.possibleTypes&&this.addPossibleTypes(n.possibleTypes),n.typePolicies&&this.addTypePolicies(n.typePolicies)}return t.prototype.identify=function(n,e){var i,r=this,o=e&&(e.typename||((i=e.storeObject)===null||i===void 0?void 0:i.__typename))||n.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];var c=e&&e.storeObject||n,p=x(x({},e),{typename:o,storeObject:c,readField:e&&e.readField||function(){var C=Ga(arguments,c);return r.readField(C,{store:r.cache.data,variables:C.variables})}}),f,d=o&&this.getTypePolicy(o),h=d&&d.keyFn||this.config.dataIdFromObject;return Qr.withValue(!0,function(){for(;h;){var C=h(x(x({},n),c),p);if(at(C))h=Hs(C);else{f=C;break}}}),f=f?String(f):void 0,p.keyObject?[f,p.keyObject]:[f]},t.prototype.addTypePolicies=function(n){var e=this;Object.keys(n).forEach(function(i){var r=n[i],o=r.queryType,c=r.mutationType,p=r.subscriptionType,f=Ci(r,["queryType","mutationType","subscriptionType"]);o&&e.setRootTypename("Query",i),c&&e.setRootTypename("Mutation",i),p&&e.setRootTypename("Subscription",i),jt.call(e.toBeAdded,i)?e.toBeAdded[i].push(f):e.toBeAdded[i]=[f]})},t.prototype.updateTypePolicy=function(n,e){var i=this,r=this.getTypePolicy(n),o=e.keyFields,c=e.fields;function p(f,d){f.merge=typeof d=="function"?d:d===!0?Rm:d===!1?Lm:f.merge}p(r,e.merge),r.keyFn=o===!1?av:at(o)?Hs(o):typeof o=="function"?o:r.keyFn,c&&Object.keys(c).forEach(function(f){var d=i.getFieldPolicy(n,f,!0),h=c[f];if(typeof h=="function")d.read=h;else{var C=h.keyArgs,v=h.read,I=h.merge;d.keyFn=C===!1?Dm:at(C)?Us(C):typeof C=="function"?C:d.keyFn,typeof v=="function"&&(d.read=v),p(d,I)}d.read&&d.merge&&(d.keyFn=d.keyFn||Dm)})},t.prototype.setRootTypename=function(n,e){e===void 0&&(e=n);var i="ROOT_"+n.toUpperCase(),r=this.rootTypenamesById[i];e!==r&&(ee(!r||r===n,6,n),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[e]=i,this.rootTypenamesById[i]=e)},t.prototype.addPossibleTypes=function(n){var e=this;this.usingPossibleTypes=!0,Object.keys(n).forEach(function(i){e.getSupertypeSet(i,!0),n[i].forEach(function(r){e.getSupertypeSet(r,!0).add(i);var o=r.match(ks);(!o||o[0]!==r)&&e.fuzzySubtypes.set(r,new RegExp(r))})})},t.prototype.getTypePolicy=function(n){var e=this;if(!jt.call(this.typePolicies,n)){var i=this.typePolicies[n]=Object.create(null);i.fields=Object.create(null);var r=this.supertypeMap.get(n);!r&&this.fuzzySubtypes.size&&(r=this.getSupertypeSet(n,!0),this.fuzzySubtypes.forEach(function(c,p){if(c.test(n)){var f=e.supertypeMap.get(p);f&&f.forEach(function(d){return r.add(d)})}})),r&&r.size&&r.forEach(function(c){var p=e.getTypePolicy(c),f=p.fields,d=Ci(p,["fields"]);Object.assign(i,d),Object.assign(i.fields,f)})}var o=this.toBeAdded[n];return o&&o.length&&o.splice(0).forEach(function(c){e.updateTypePolicy(n,c)}),this.typePolicies[n]},t.prototype.getFieldPolicy=function(n,e,i){if(n){var r=this.getTypePolicy(n).fields;return r[e]||i&&(r[e]=Object.create(null))}},t.prototype.getSupertypeSet=function(n,e){var i=this.supertypeMap.get(n);return!i&&e&&this.supertypeMap.set(n,i=new Set),i},t.prototype.fragmentMatches=function(n,e,i,r){var o=this;if(!n.typeCondition)return!0;if(!e)return!1;var c=n.typeCondition.name.value;if(e===c)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(c))for(var p=this.getSupertypeSet(e,!0),f=[p],d=function(A){var G=o.getSupertypeSet(A,!1);G&&G.size&&f.indexOf(G)<0&&f.push(G)},h=!!(i&&this.fuzzySubtypes.size),C=!1,v=0;v<f.length;++v){var I=f[v];if(I.has(c))return p.has(c)||(C&&globalThis.__DEV__!==!1&&ee.warn(7,e,c),p.add(c)),!0;I.forEach(d),h&&v===f.length-1&&Ma(n.selectionSet,i,r)&&(h=!1,C=!0,this.fuzzySubtypes.forEach(function(A,G){var $=e.match(A);$&&$[0]===e&&d(G)}))}return!1},t.prototype.hasKeyArgs=function(n,e){var i=this.getFieldPolicy(n,e,!1);return!!(i&&i.keyFn)},t.prototype.getStoreFieldName=function(n){var e=n.typename,i=n.fieldName,r=this.getFieldPolicy(e,i,!1),o,c=r&&r.keyFn;if(c&&e)for(var p={typename:e,fieldName:i,field:n.field||null,variables:n.variables},f=zs(n);c;){var d=c(f,p);if(at(d))c=Us(d);else{o=d||i;break}}return o===void 0&&(o=n.field?ss(n.field,n.variables):da(i,zs(n))),o===!1?i:i===ln(o)?o:i+":"+o},t.prototype.readField=function(n,e){var i=n.from;if(i){var r=n.field||n.fieldName;if(r){if(n.typename===void 0){var o=e.store.getFieldValue(i,"__typename");o&&(n.typename=o)}var c=this.getStoreFieldName(n),p=ln(c),f=e.store.getFieldValue(i,c),d=this.getFieldPolicy(n.typename,p,!1),h=d&&d.read;if(h){var C=Mm(this,i,n,e,e.store.getStorage(Me(i)?i.__ref:i,c));return qr.withValue(this.cache,h,[f,C])}return f}}},t.prototype.getReadFunction=function(n,e){var i=this.getFieldPolicy(n,e,!1);return i&&i.read},t.prototype.getMergeFunction=function(n,e,i){var r=this.getFieldPolicy(n,e,!1),o=r&&r.merge;return!o&&i&&(r=this.getTypePolicy(i),o=r&&r.merge),o},t.prototype.runMergeFunction=function(n,e,i,r,o){var c=i.field,p=i.typename,f=i.merge;return f===Rm?Am(r.store)(n,e):f===Lm?e:(r.overwrite&&(n=void 0),f(n,e,Mm(this,void 0,{typename:p,fieldName:c.name.value,field:c,variables:r.variables},r,o||Object.create(null))))},t}();function Mm(t,n,e,i,r){var o=t.getStoreFieldName(e),c=ln(o),p=e.variables||i.variables,f=i.store,d=f.toReference,h=f.canRead;return{args:zs(e),field:e.field||null,fieldName:c,storeFieldName:o,variables:p,isReference:Me,toReference:d,storage:r,cache:t.cache,canRead:h,readField:function(){return t.readField(Ga(arguments,n,p),i)},mergeObjects:Am(i.store)}}function Ga(t,n,e){var i=t[0],r=t[1],o=t.length,c;return typeof i=="string"?c={fieldName:i,from:o>1?r:n}:(c=x({},i),jt.call(c,"from")||(c.from=n)),globalThis.__DEV__!==!1&&c.from===void 0&&globalThis.__DEV__!==!1&&ee.warn(8,ea(Array.from(t))),c.variables===void 0&&(c.variables=e),c}function Am(t){return function(e,i){if(at(e)||at(i))throw gt(9);if(qe(e)&&qe(i)){var r=t.getFieldValue(e,"__typename"),o=t.getFieldValue(i,"__typename"),c=r&&o&&r!==o;if(c)return i;if(Me(e)&&nr(i))return t.merge(e.__ref,i),e;if(nr(e)&&Me(i))return t.merge(e,i.__ref),i;if(nr(e)&&nr(i))return x(x({},e),i)}return i}}function qs(t,n,e){var i="".concat(n).concat(e),r=t.flavors.get(i);return r||t.flavors.set(i,r=t.clientOnly===n&&t.deferred===e?t:x(x({},t),{clientOnly:n,deferred:e})),r}var Gm=function(){function t(n,e,i){this.cache=n,this.reader=e,this.fragments=i}return t.prototype.writeToStore=function(n,e){var i=this,r=e.query,o=e.result,c=e.dataId,p=e.variables,f=e.overwrite,d=bi(r),h=Cm();p=x(x({},dr(d)),p);var C=x(x({store:n,written:Object.create(null),merge:function(I,A){return h.merge(I,A)},variables:p,varString:gi(p)},Pa(r,this.fragments)),{overwrite:!!f,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),v=this.processSelectionSet({result:o||Object.create(null),dataId:c,selectionSet:d.selectionSet,mergeTree:{map:new Map},context:C});if(!Me(v))throw gt(12,o);return C.incomingById.forEach(function(I,A){var G=I.storeObject,$=I.mergeTree,L=I.fieldNodeSet,H=$i(A);if($&&$.map.size){var Q=i.applyMerges($,H,G,C);if(Me(Q))return;G=Q}if(globalThis.__DEV__!==!1&&!C.overwrite){var J=Object.create(null);L.forEach(function(Fe){Fe.selectionSet&&(J[Fe.name.value]=!0)});var Z=function(Fe){return J[ln(Fe)]===!0},me=function(Fe){var Oe=$&&$.map.get(Fe);return!!(Oe&&Oe.info&&Oe.info.merge)};Object.keys(G).forEach(function(Fe){Z(Fe)&&!me(Fe)&&lv(H,G,Fe,C.store)})}n.merge(A,G)}),n.retain(v.__ref),v},t.prototype.processSelectionSet=function(n){var e=this,i=n.dataId,r=n.result,o=n.selectionSet,c=n.context,p=n.mergeTree,f=this.cache.policies,d=Object.create(null),h=i&&f.rootTypenamesById[i]||yo(r,o,c.fragmentMap)||i&&c.store.get(i,"__typename");typeof h=="string"&&(d.__typename=h);var C=function(){var Q=Ga(arguments,d,c.variables);if(Me(Q.from)){var J=c.incomingById.get(Q.from.__ref);if(J){var Z=f.readField(x(x({},Q),{from:J.storeObject}),c);if(Z!==void 0)return Z}}return f.readField(Q,c)},v=new Set;this.flattenFields(o,r,c,h).forEach(function(Q,J){var Z,me=ui(J),Fe=r[me];if(v.add(J),Fe!==void 0){var Oe=f.getStoreFieldName({typename:h,fieldName:J.name.value,field:J,variables:Q.variables}),Ft=Pm(p,Oe),$t=e.processFieldValue(Fe,J,J.selectionSet?qs(Q,!1,!1):Q,Ft),cn=void 0;J.selectionSet&&(Me($t)||nr($t))&&(cn=C("__typename",$t));var yr=f.getMergeFunction(h,J.name.value,cn);yr?Ft.info={field:J,typename:h,merge:yr}:km(p,Oe),d=Q.merge(d,(Z={},Z[Oe]=$t,Z))}else globalThis.__DEV__!==!1&&!Q.clientOnly&&!Q.deferred&&!hr.added(J)&&!f.getReadFunction(h,J.name.value)&&globalThis.__DEV__!==!1&&ee.error(13,ui(J),r)});try{var I=f.identify(r,{typename:h,selectionSet:o,fragmentMap:c.fragmentMap,storeObject:d,readField:C}),A=I[0],G=I[1];i=i||A,G&&(d=c.merge(d,G))}catch(Q){if(!i)throw Q}if(typeof i=="string"){var $=$i(i),L=c.written[i]||(c.written[i]=[]);if(L.indexOf(o)>=0||(L.push(o),this.reader&&this.reader.isFresh(r,$,o,c)))return $;var H=c.incomingById.get(i);return H?(H.storeObject=c.merge(H.storeObject,d),H.mergeTree=Xs(H.mergeTree,p),v.forEach(function(Q){return H.fieldNodeSet.add(Q)})):c.incomingById.set(i,{storeObject:d,mergeTree:Wa(p)?void 0:p,fieldNodeSet:v}),$}return d},t.prototype.processFieldValue=function(n,e,i,r){var o=this;return!e.selectionSet||n===null?globalThis.__DEV__!==!1?ga(n):n:at(n)?n.map(function(c,p){var f=o.processFieldValue(c,e,i,Pm(r,p));return km(r,p),f}):this.processSelectionSet({result:n,selectionSet:e.selectionSet,context:i,mergeTree:r})},t.prototype.flattenFields=function(n,e,i,r){r===void 0&&(r=yo(e,n,i.fragmentMap));var o=new Map,c=this.cache.policies,p=new _i(!1);return function f(d,h){var C=p.lookup(d,h.clientOnly,h.deferred);C.visited||(C.visited=!0,d.selections.forEach(function(v){if(nn(v,i.variables)){var I=h.clientOnly,A=h.deferred;if(!(I&&A)&&li(v.directives)&&v.directives.forEach(function(L){var H=L.name.value;if(H==="client"&&(I=!0),H==="defer"){var Q=Dn(L,i.variables);(!Q||Q.if!==!1)&&(A=!0)}}),vi(v)){var G=o.get(v);G&&(I=I&&G.clientOnly,A=A&&G.deferred),o.set(v,qs(i,I,A))}else{var $=On(v,i.lookupFragment);if(!$&&v.kind===ie.FRAGMENT_SPREAD)throw gt(14,v.name.value);$&&c.fragmentMatches($,r,e,i.variables)&&f($.selectionSet,qs(i,I,A))}}}))}(n,i),o},t.prototype.applyMerges=function(n,e,i,r,o){var c,p=this;if(n.map.size&&!Me(i)){var f=!at(i)&&(Me(e)||nr(e))?e:void 0,d=i;f&&!o&&(o=[Me(f)?f.__ref:f]);var h,C=function(v,I){return at(v)?typeof I=="number"?v[I]:void 0:r.store.getFieldValue(v,String(I))};n.map.forEach(function(v,I){var A=C(f,I),G=C(d,I);if(G!==void 0){o&&o.push(I);var $=p.applyMerges(v,A,G,r,o);$!==G&&(h=h||new Map,h.set(I,$)),o&&ee(o.pop()===I)}}),h&&(i=at(d)?d.slice(0):x({},d),h.forEach(function(v,I){i[I]=v}))}return n.info?this.cache.policies.runMergeFunction(e,i,n.info,r,o&&(c=r.store).getStorage.apply(c,o)):i},t}();var Wm=[];function Pm(t,n){var e=t.map;return e.has(n)||e.set(n,Wm.pop()||{map:new Map}),e.get(n)}function Xs(t,n){if(t===n||!n||Wa(n))return t;if(!t||Wa(t))return n;var e=t.info&&n.info?x(x({},t.info),n.info):t.info||n.info,i=t.map.size&&n.map.size,r=i?new Map:t.map.size?t.map:n.map,o={info:e,map:r};if(i){var c=new Set(n.map.keys());t.map.forEach(function(p,f){o.map.set(f,Xs(p,n.map.get(f))),c.delete(f)}),c.forEach(function(p){o.map.set(p,Xs(n.map.get(p),t.map.get(p)))})}return o}function Wa(t){return!t||!(t.info||t.map.size)}function km(t,n){var e=t.map,i=e.get(n);i&&Wa(i)&&(Wm.push(i),e.delete(n))}var Nm=new Set;function lv(t,n,e,i){var r=function(C){var v=i.getFieldValue(C,e);return typeof v=="object"&&v},o=r(t);if(o){var c=r(n);if(c&&!Me(o)&&!ot(o,c)&&!Object.keys(o).every(function(C){return i.getFieldValue(c,C)!==void 0})){var p=i.getFieldValue(t,"__typename")||i.getFieldValue(n,"__typename"),f=ln(e),d="".concat(p,".").concat(f);if(!Nm.has(d)){Nm.add(d);var h=[];!at(o)&&!at(c)&&[o,c].forEach(function(C){var v=i.getFieldValue(C,"__typename");typeof v=="string"&&!h.includes(v)&&h.push(v)}),globalThis.__DEV__!==!1&&ee.warn(15,f,p,h.length?"either ensure all objects of type "+h.join(" and ")+" have an ID or a custom merge function, or ":"",d,x({},o),x({},c))}}}}var Bo=function(t){ri(n,t);function n(e){e===void 0&&(e={});var i=t.call(this)||this;return i.watches=new Set,i.addTypenameTransform=new Br(hr),i.assumeImmutableResults=!0,i.makeVar=Na,i.txCount=0,i.config=gm(e),i.addTypename=!!i.config.addTypename,i.policies=new Vm({cache:i,dataIdFromObject:i.config.dataIdFromObject,possibleTypes:i.config.possibleTypes,typePolicies:i.config.typePolicies}),i.init(),i}return n.prototype.init=function(){var e=this.data=new zr.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},n.prototype.resetResultCache=function(e){var i=this,r=this.storeReader,o=this.config.fragments;this.storeWriter=new Gm(this,this.storeReader=new Tm({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Aa(this.config),canon:e?void 0:r&&r.canon,fragments:o}),o),this.maybeBroadcastWatch=Ln(function(c,p){return i.broadcastWatch(c,p)},{max:this.config.resultCacheMaxSize||ni["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(c){var p=c.optimistic?i.optimisticData:i.data;if(Cr(p)){var f=c.optimistic,d=c.id,h=c.variables;return p.makeCacheKey(c.query,c.callback,gi({optimistic:f,id:d,variables:h}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(c){return c.resetCaching()})},n.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},n.prototype.extract=function(e){return e===void 0&&(e=!1),(e?this.optimisticData:this.data).extract()},n.prototype.read=function(e){var i=e.returnPartialData,r=i===void 0?!1:i;try{return this.storeReader.diffQueryAgainstStore(x(x({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:r})).result||null}catch(o){if(o instanceof No)return null;throw o}},n.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{!--this.txCount&&e.broadcast!==!1&&this.broadcastWatches()}},n.prototype.modify=function(e){if(jt.call(e,"id")&&!e.id)return!1;var i=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,i.modify(e.id||"ROOT_QUERY",e.fields)}finally{!--this.txCount&&e.broadcast!==!1&&this.broadcastWatches()}},n.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(x(x({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},n.prototype.watch=function(e){var i=this;return this.watches.size||xm(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){i.watches.delete(e)&&!i.watches.size&&js(i),i.maybeBroadcastWatch.forget(e)}},n.prototype.gc=function(e){var i;gi.reset(),an.reset(),this.addTypenameTransform.resetCache(),(i=this.config.fragments)===null||i===void 0||i.resetCaches();var r=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),r},n.prototype.retain=function(e,i){return(i?this.optimisticData:this.data).retain(e)},n.prototype.release=function(e,i){return(i?this.optimisticData:this.data).release(e)},n.prototype.identify=function(e){if(Me(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(i){globalThis.__DEV__!==!1&&ee.warn(i)}},n.prototype.evict=function(e){if(!e.id){if(jt.call(e,"id"))return!1;e=x(x({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{!--this.txCount&&e.broadcast!==!1&&this.broadcastWatches()}},n.prototype.reset=function(e){var i=this;return this.init(),gi.reset(),e&&e.discardWatches?(this.watches.forEach(function(r){return i.maybeBroadcastWatch.forget(r)}),this.watches.clear(),js(this)):this.broadcastWatches(),Promise.resolve()},n.prototype.removeOptimistic=function(e){var i=this.optimisticData.removeLayer(e);i!==this.optimisticData&&(this.optimisticData=i,this.broadcastWatches())},n.prototype.batch=function(e){var i=this,r=e.update,o=e.optimistic,c=o===void 0?!0:o,p=e.removeOptimistic,f=e.onWatchUpdated,d,h=function(v){var I=i,A=I.data,G=I.optimisticData;++i.txCount,v&&(i.data=i.optimisticData=v);try{return d=r(i)}finally{--i.txCount,i.data=A,i.optimisticData=G}},C=new Set;return f&&!this.txCount&&this.broadcastWatches(x(x({},e),{onWatchUpdated:function(v){return C.add(v),!1}})),typeof c=="string"?this.optimisticData=this.optimisticData.addLayer(c,h):c===!1?h(this.data):h(),typeof p=="string"&&(this.optimisticData=this.optimisticData.removeLayer(p)),f&&C.size?(this.broadcastWatches(x(x({},e),{onWatchUpdated:function(v,I){var A=f.call(this,v,I);return A!==!1&&C.delete(v),A}})),C.size&&C.forEach(function(v){return i.maybeBroadcastWatch.dirty(v)})):this.broadcastWatches(e),d},n.prototype.performTransaction=function(e,i){return this.batch({update:e,optimistic:i||i!==null})},n.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},n.prototype.fragmentMatches=function(e,i){return this.policies.fragmentMatches(e,i)},n.prototype.lookupFragment=function(e){var i;return((i=this.config.fragments)===null||i===void 0?void 0:i.lookup(e))||null},n.prototype.broadcastWatches=function(e){var i=this;this.txCount||this.watches.forEach(function(r){return i.maybeBroadcastWatch(r,e)})},n.prototype.addFragmentsToDocument=function(e){var i=this.config.fragments;return i?i.transform(e):e},n.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},n.prototype.broadcastWatch=function(e,i){var r=e.lastDiff,o=this.diff(e);i&&(e.optimistic&&typeof i.optimistic=="string"&&(o.fromOptimisticTransaction=!0),i.onWatchUpdated&&i.onWatchUpdated.call(this,e,o,r)===!1)||(!r||!ot(r.result,o.result))&&e.callback(e.lastDiff=o,r)},n}(La);globalThis.__DEV__!==!1&&(Bo.prototype.getMemoryInternals=uu);var Be=function(t){return t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error",t}(Be||{});function Vn(t){return t?t<7:!1}var Bm=Object.assign,sv=Object.hasOwnProperty,jo=function(t){ri(n,t);function n(e){var i=e.queryManager,r=e.queryInfo,o=e.options,c=this,p=n.inactiveOnCreation.getValue();c=t.call(this,function(L){p&&(i.queries.set(c.queryId,r),p=!1);try{var H=L._subscription._observer;H&&!H.error&&(H.error=cv)}catch{}var Q=!c.observers.size;c.observers.add(L);var J=c.last;return J&&J.error?L.error&&L.error(J.error):J&&J.result&&L.next&&L.next(c.maskResult(J.result)),Q&&c.reobserve().catch(function(){}),function(){c.observers.delete(L)&&!c.observers.size&&c.tearDownQuery()}})||this,c.observers=new Set,c.subscriptions=new Set,c.queryInfo=r,c.queryManager=i,c.waitForOwnResult=Ks(o.fetchPolicy),c.isTornDown=!1,c.subscribeToMore=c.subscribeToMore.bind(c),c.maskResult=c.maskResult.bind(c);var f=i.defaultOptions.watchQuery,d=f===void 0?{}:f,h=d.fetchPolicy,C=h===void 0?"cache-first":h,v=o.fetchPolicy,I=v===void 0?C:v,A=o.initialFetchPolicy,G=A===void 0?I==="standby"?C:I:A;c.options=x(x({},o),{initialFetchPolicy:G,fetchPolicy:I}),c.queryId=r.queryId||i.generateQueryId();var $=bi(c.query);return c.queryName=$&&$.name&&$.name.value,c}return Object.defineProperty(n.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),n.prototype.result=function(){var e=this;return new Promise(function(i,r){var o={next:function(p){i(p),e.observers.delete(o),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout(function(){c.unsubscribe()},0)},error:r},c=e.subscribe(o)})},n.prototype.resetDiff=function(){this.queryInfo.resetDiff()},n.prototype.getCurrentFullResult=function(e){e===void 0&&(e=!0);var i=this.getLastResult(!0),r=this.queryInfo.networkStatus||i&&i.networkStatus||Be.ready,o=x(x({},i),{loading:Vn(r),networkStatus:r}),c=this.options.fetchPolicy,p=c===void 0?"cache-first":c;if(!(Ks(p)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var f=this.queryInfo.getDiff();(f.complete||this.options.returnPartialData)&&(o.data=f.result),ot(o.data,{})&&(o.data=void 0),f.complete?(delete o.partial,f.complete&&o.networkStatus===Be.loading&&(p==="cache-first"||p==="cache-only")&&(o.networkStatus=Be.ready,o.loading=!1)):o.partial=!0,o.networkStatus===Be.ready&&(o.error||o.errors)&&(o.networkStatus=Be.error),globalThis.__DEV__!==!1&&!f.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&Ys(f.missing)}return e&&this.updateLastResult(o),o},n.prototype.getCurrentResult=function(e){return e===void 0&&(e=!0),this.maskResult(this.getCurrentFullResult(e))},n.prototype.isDifferentFromLastResult=function(e,i){if(!this.last)return!0;var r=this.queryManager.getDocumentInfo(this.query),o=this.queryManager.dataMasking,c=o?r.nonReactiveQuery:this.query,p=o||r.hasNonreactiveDirective?!ba(c,this.last.result,e,this.variables):!ot(this.last.result,e);return p||i&&!ot(this.last.variables,i)},n.prototype.getLast=function(e,i){var r=this.last;if(r&&r[e]&&(!i||ot(r.variables,this.variables)))return r[e]},n.prototype.getLastResult=function(e){return this.getLast("result",e)},n.prototype.getLastError=function(e){return this.getLast("error",e)},n.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},n.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},n.prototype.refetch=function(e){var i,r={pollInterval:0},o=this.options.fetchPolicy;if(o==="no-cache"?r.fetchPolicy="no-cache":r.fetchPolicy="network-only",globalThis.__DEV__!==!1&&e&&sv.call(e,"variables")){var c=Eo(this.query),p=c.variableDefinitions;(!p||!p.some(function(f){return f.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&ee.warn(21,e,((i=c.name)===null||i===void 0?void 0:i.value)||c)}return e&&!ot(this.options.variables,e)&&(r.variables=this.options.variables=x(x({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(r,Be.refetch)},n.prototype.fetchMore=function(e){var i=this,r=x(x({},e.query?e:x(x(x(x({},this.options),{query:this.options.query}),e),{variables:x(x({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});r.query=this.transformDocument(r.query);var o=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):r.query;var c=this.queryInfo,p=c.networkStatus;c.networkStatus=Be.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var f=new Set,d=e?.updateQuery,h=this.options.fetchPolicy!=="no-cache";return h||ee(d,22),this.queryManager.fetchQuery(o,r,Be.fetchMore).then(function(C){if(i.queryManager.removeQuery(o),c.networkStatus===Be.fetchMore&&(c.networkStatus=p),h)i.queryManager.cache.batch({update:function(A){var G=e.updateQuery;G?A.updateQuery({query:i.query,variables:i.variables,returnPartialData:!0,optimistic:!1},function($){return G($,{fetchMoreResult:C.data,variables:r.variables})}):A.writeQuery({query:r.query,variables:r.variables,data:C.data})},onWatchUpdated:function(A){f.add(A.query)}});else{var v=i.getLast("result"),I=d(v.data,{fetchMoreResult:C.data,variables:r.variables});i.reportResult(x(x({},v),{networkStatus:p,loading:Vn(p),data:I}),i.variables)}return i.maskResult(C)}).finally(function(){h&&!f.has(i.query)&&Js(i)})},n.prototype.subscribeToMore=function(e){var i=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(o){var c=e.updateQuery;c&&i.updateQuery(function(p,f){return c(p,x({subscriptionData:o},f))})},error:function(o){if(e.onError){e.onError(o);return}globalThis.__DEV__!==!1&&ee.error(23,o)}});return this.subscriptions.add(r),function(){i.subscriptions.delete(r)&&r.unsubscribe()}},n.prototype.setOptions=function(e){return this.reobserve(e)},n.prototype.silentSetOptions=function(e){var i=En(this.options,e||{});Bm(this.options,i)},n.prototype.setVariables=function(e){return ot(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},Be.setVariables):Promise.resolve())},n.prototype.updateQuery=function(e){var i=this.queryManager,r=i.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}),o=r.result,c=r.complete,p=e(o,{variables:this.variables,complete:!!c,previousData:o});p&&(i.cache.writeQuery({query:this.options.query,data:p,variables:this.variables}),i.broadcastQueries())},n.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},n.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},n.prototype.applyNextFetchPolicy=function(e,i){if(i.nextFetchPolicy){var r=i.fetchPolicy,o=r===void 0?"cache-first":r,c=i.initialFetchPolicy,p=c===void 0?o:c;o==="standby"||(typeof i.nextFetchPolicy=="function"?i.fetchPolicy=i.nextFetchPolicy(o,{reason:e,options:i,observable:this,initialFetchPolicy:p}):e==="variables-changed"?i.fetchPolicy=p:i.fetchPolicy=i.nextFetchPolicy)}return i.fetchPolicy},n.prototype.fetch=function(e,i,r){var o=this.queryManager.getOrCreateQuery(this.queryId);return o.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(o,e,i,r)},n.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var i=this,r=i.pollingInfo,o=i.options.pollInterval;if(!o||!this.hasObservers()){r&&(clearTimeout(r.timeout),delete this.pollingInfo);return}if(!(r&&r.interval===o)){ee(o,24);var c=r||(this.pollingInfo={});c.interval=o;var p=function(){var d,h;e.pollingInfo&&(!Vn(e.queryInfo.networkStatus)&&!(!((h=(d=e.options).skipPollAttempt)===null||h===void 0)&&h.call(d))?e.reobserve({fetchPolicy:e.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},Be.poll).then(f,f):f())},f=function(){var d=e.pollingInfo;d&&(clearTimeout(d.timeout),d.timeout=setTimeout(p,d.interval))};f()}}},n.prototype.updateLastResult=function(e,i){i===void 0&&(i=this.variables);var r=this.getLastError();return r&&this.last&&!ot(i,this.last.variables)&&(r=void 0),this.last=x({result:this.queryManager.assumeImmutableResults?e:ga(e),variables:i},r?{error:r}:null)},n.prototype.reobserveAsConcast=function(e,i){var r=this;this.isTornDown=!1;var o=i===Be.refetch||i===Be.fetchMore||i===Be.poll,c=this.options.variables,p=this.options.fetchPolicy,f=En(this.options,e||{}),d=o?f:Bm(this.options,f),h=this.transformDocument(d.query);this.lastQuery=h,o||(this.updatePolling(),e&&e.variables&&!ot(e.variables,c)&&d.fetchPolicy!=="standby"&&(d.fetchPolicy===p||typeof d.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",d),i===void 0&&(i=Be.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=Ks(d.fetchPolicy));var C=function(){r.concast===A&&(r.waitForOwnResult=!1)},v=d.variables&&x({},d.variables),I=this.fetch(d,i,h),A=I.concast,G=I.fromLink,$={next:function(L){ot(r.variables,v)&&(C(),r.reportResult(L,v))},error:function(L){ot(r.variables,v)&&(xa(L)||(L=new Mn({networkError:L})),C(),r.reportError(L,v))}};return!o&&(G||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=A,this.observer=$),A.addObserver($),A},n.prototype.reobserve=function(e,i){return Is(this.reobserveAsConcast(e,i).promise.then(this.maskResult))},n.prototype.resubscribeAfterError=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=this.last;this.resetLastResults();var o=this.subscribe.apply(this,e);return this.last=r,o},n.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},n.prototype.reportResult=function(e,i){var r=this.getLastError(),o=this.isDifferentFromLastResult(e,i);(r||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,i),(r||o)&&gr(this.observers,"next",this.maskResult(e))},n.prototype.reportError=function(e,i){var r=x(x({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Be.error,loading:!1});this.updateLastResult(r,i),gr(this.observers,"error",this.last.error=e)},n.prototype.hasObservers=function(){return this.observers.size>0},n.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},n.prototype.transformDocument=function(e){return this.queryManager.transform(e)},n.prototype.maskResult=function(e){return e&&"data"in e?x(x({},e),{data:this.queryManager.maskOperation({document:this.query,data:e.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):e},n.inactiveOnCreation=new on,n}(Re);Ca(jo);function Js(t){var n=t.options,e=n.fetchPolicy,i=n.nextFetchPolicy;return e==="cache-and-network"||e==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(r,o){return this.nextFetchPolicy=i,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(r,o):e}}):t.reobserve()}function cv(t){globalThis.__DEV__!==!1&&ee.error(25,t.message,t.stack)}function Ys(t){globalThis.__DEV__!==!1&&t&&globalThis.__DEV__!==!1&&ee.debug(26,t)}function Ks(t){return t==="network-only"||t==="no-cache"||t==="standby"}var Kr=new(xi?WeakMap:Map);function Zs(t,n){var e=t[n];typeof e=="function"&&(t[n]=function(){return Kr.set(t,(Kr.get(t)+1)%1e15),e.apply(this,arguments)})}function jm(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var Ba=function(){function t(n,e){e===void 0&&(e=n.generateQueryId()),this.queryId=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var i=this.cache=n.cache;Kr.has(i)||(Kr.set(i,0),Zs(i,"evict"),Zs(i,"modify"),Zs(i,"reset"))}return t.prototype.init=function(n){var e=n.networkStatus||Be.loading;return this.variables&&this.networkStatus!==Be.loading&&!ot(this.variables,n.variables)&&(e=Be.setVariables),ot(n.variables,this.variables)||(this.lastDiff=void 0,this.cancel()),Object.assign(this,{document:n.document,variables:n.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:e}),n.observableQuery&&this.setObservableQuery(n.observableQuery),n.lastRequestId&&(this.lastRequestId=n.lastRequestId),this},t.prototype.reset=function(){jm(this),this.dirty=!1},t.prototype.resetDiff=function(){this.lastDiff=void 0},t.prototype.getDiff=function(){var n=this.getDiffOptions();if(this.lastDiff&&ot(n,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var e=this.observableQuery;if(e&&e.options.fetchPolicy==="no-cache")return{complete:!1};var i=this.cache.diff(n);return this.updateLastDiff(i,n),i},t.prototype.updateLastDiff=function(n,e){this.lastDiff=n?{diff:n,options:e||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(n){var e;return n===void 0&&(n=this.variables),{query:this.document,variables:n,returnPartialData:!0,optimistic:!0,canonizeResults:(e=this.observableQuery)===null||e===void 0?void 0:e.options.canonizeResults}},t.prototype.setDiff=function(n){var e=this,i,r=this.lastDiff&&this.lastDiff.diff;n&&!n.complete&&(!((i=this.observableQuery)===null||i===void 0)&&i.getLastError())||(this.updateLastDiff(n),!this.dirty&&!ot(r&&r.result,n&&n.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return e.notify()},0))))},t.prototype.setObservableQuery=function(n){var e=this;n!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=n,n?(n.queryInfo=this,this.listeners.add(this.oqListener=function(){var i=e.getDiff();i.fromOptimisticTransaction?n.observe():Js(n)})):delete this.oqListener)},t.prototype.notify=function(){var n=this;jm(this),this.shouldNotify()&&this.listeners.forEach(function(e){return e(n)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Vn(this.networkStatus)&&this.observableQuery){var n=this.observableQuery.options.fetchPolicy;if(n!=="cache-only"&&n!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel();var n=this.observableQuery;n&&n.stopPolling()}},t.prototype.cancel=function(){var n;(n=this.cancelWatch)===null||n===void 0||n.call(this),this.cancelWatch=void 0},t.prototype.updateWatch=function(n){var e=this;n===void 0&&(n=this.variables);var i=this.observableQuery;if(!(i&&i.options.fetchPolicy==="no-cache")){var r=x(x({},this.getDiffOptions(n)),{watcher:this,callback:function(o){return e.setDiff(o)}});(!this.lastWatch||!ot(r,this.lastWatch))&&(this.cancel(),this.cancelWatch=this.cache.watch(this.lastWatch=r))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(n,e){var i=this.lastWrite;return!(i&&i.dmCount===Kr.get(this.cache)&&ot(e,i.variables)&&ot(n.data,i.result.data))},t.prototype.markResult=function(n,e,i,r){var o=this,c=new Ii,p=li(n.errors)?n.errors.slice(0):[];if(this.reset(),"incremental"in n&&li(n.incremental)){var f=Sa(this.getDiff().result,n);n.data=f}else if("hasNext"in n&&n.hasNext){var d=this.getDiff();n.data=c.merge(d.result,n.data)}this.graphQLErrors=p,i.fetchPolicy==="no-cache"?this.updateLastDiff({result:n.data,complete:!0},this.getDiffOptions(i.variables)):r!==0&&(ja(n,i.errorPolicy)?this.cache.performTransaction(function(h){if(o.shouldWrite(n,i.variables))h.writeQuery({query:e,data:n.data,variables:i.variables,overwrite:r===1}),o.lastWrite={result:n,variables:i.variables,dmCount:Kr.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){n.data=o.lastDiff.diff.result;return}var C=o.getDiffOptions(i.variables),v=h.diff(C);!o.stopped&&ot(o.variables,i.variables)&&o.updateWatch(i.variables),o.updateLastDiff(v,C),v.complete&&(n.data=v.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Be.ready},t.prototype.markError=function(n){return this.networkStatus=Be.error,this.lastWrite=void 0,this.reset(),n.graphQLErrors&&(this.graphQLErrors=n.graphQLErrors),n.networkError&&(this.networkError=n.networkError),n},t}();function ja(t,n){n===void 0&&(n="none");var e=n==="ignore"||n==="all",i=!Hr(t);return!i&&e&&t.data&&(i=!0),i}var pv=Object.prototype.hasOwnProperty,$m=Object.create(null),Hm=function(){function t(n){var e=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new kr(ni["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new _i(!1),this.noCacheWarningsByQueryId=new Set;var i=new Br(function(o){return e.cache.transformDocument(o)},{cache:!1});this.cache=n.cache,this.link=n.link,this.defaultOptions=n.defaultOptions,this.queryDeduplication=n.queryDeduplication,this.clientAwareness=n.clientAwareness,this.localState=n.localState,this.ssrMode=n.ssrMode,this.assumeImmutableResults=n.assumeImmutableResults,this.dataMasking=n.dataMasking;var r=n.documentTransform;this.documentTransform=r?i.concat(r).concat(i):i,this.defaultContext=n.defaultContext||Object.create(null),(this.onBroadcast=n.onBroadcast)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var n=this;this.queries.forEach(function(e,i){n.stopQueryNoBroadcast(i)}),this.cancelPendingFetches(gt(27))},t.prototype.cancelPendingFetches=function(n){this.fetchCancelFns.forEach(function(e){return e(n)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(n){return Zi(this,arguments,void 0,function(e){var i,r,o,c,p,f,d,h=e.mutation,C=e.variables,v=e.optimisticResponse,I=e.updateQueries,A=e.refetchQueries,G=A===void 0?[]:A,$=e.awaitRefetchQueries,L=$===void 0?!1:$,H=e.update,Q=e.onQueryUpdated,J=e.fetchPolicy,Z=J===void 0?((f=this.defaultOptions.mutate)===null||f===void 0?void 0:f.fetchPolicy)||"network-only":J,me=e.errorPolicy,Fe=me===void 0?((d=this.defaultOptions.mutate)===null||d===void 0?void 0:d.errorPolicy)||"none":me,Oe=e.keepRootFields,Ft=e.context;return en(this,function($t){switch($t.label){case 0:return ee(h,28),ee(Z==="network-only"||Z==="no-cache",29),i=this.generateMutationId(),h=this.cache.transformForLink(this.transform(h)),r=this.getDocumentInfo(h).hasClientExports,C=this.getVariables(h,C),r?[4,this.localState.addExportedVariables(h,C,Ft)]:[3,2];case 1:C=$t.sent(),$t.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[i]={mutation:h,variables:C,loading:!0,error:null}),c=v&&this.markMutationOptimistic(v,{mutationId:i,document:h,variables:C,fetchPolicy:Z,errorPolicy:Fe,context:Ft,updateQueries:I,update:H,keepRootFields:Oe}),this.broadcastQueries(),p=this,[2,new Promise(function(cn,yr){return va(p.getObservableFromLink(h,x(x({},Ft),{optimisticResponse:c?v:void 0}),C,{},!1),function(oi){if(Hr(oi)&&Fe==="none")throw new Mn({graphQLErrors:ya(oi)});o&&(o.loading=!1,o.error=null);var Gn=x({},oi);return typeof G=="function"&&(G=G(Gn)),Fe==="ignore"&&Hr(Gn)&&delete Gn.errors,p.markMutationResult({mutationId:i,result:Gn,document:h,variables:C,fetchPolicy:Z,errorPolicy:Fe,context:Ft,update:H,updateQueries:I,awaitRefetchQueries:L,refetchQueries:G,removeOptimistic:c?i:void 0,onQueryUpdated:Q,keepRootFields:Oe})}).subscribe({next:function(oi){p.broadcastQueries(),(!("hasNext"in oi)||oi.hasNext===!1)&&cn(x(x({},oi),{data:p.maskOperation({document:h,data:oi.data,fetchPolicy:Z,id:i})}))},error:function(oi){o&&(o.loading=!1,o.error=oi),c&&p.cache.removeOptimistic(i),p.broadcastQueries(),yr(oi instanceof Mn?oi:new Mn({networkError:oi}))}})})]}})})},t.prototype.markMutationResult=function(n,e){var i=this;e===void 0&&(e=this.cache);var r=n.result,o=[],c=n.fetchPolicy==="no-cache";if(!c&&ja(r,n.errorPolicy)){if(ir(r)||o.push({result:r.data,dataId:"ROOT_MUTATION",query:n.document,variables:n.variables}),ir(r)&&li(r.incremental)){var p=e.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(n.document).asQuery,variables:n.variables,optimistic:!1,returnPartialData:!0}),f=void 0;p.result&&(f=Sa(p.result,r)),typeof f<"u"&&(r.data=f,o.push({result:f,dataId:"ROOT_MUTATION",query:n.document,variables:n.variables}))}var d=n.updateQueries;d&&this.queries.forEach(function(C,v){var I=C.observableQuery,A=I&&I.queryName;if(!(!A||!pv.call(d,A))){var G=d[A],$=i.queries.get(v),L=$.document,H=$.variables,Q=e.diff({query:L,variables:H,returnPartialData:!0,optimistic:!1}),J=Q.result,Z=Q.complete;if(Z&&J){var me=G(J,{mutationResult:r,queryName:L&&Zn(L)||void 0,queryVariables:H});me&&o.push({result:me,dataId:"ROOT_QUERY",query:L,variables:H})}}})}if(o.length>0||(n.refetchQueries||"").length>0||n.update||n.onQueryUpdated||n.removeOptimistic){var h=[];if(this.refetchQueries({updateCache:function(C){c||o.forEach(function(G){return C.write(G)});var v=n.update,I=!Qu(r)||ir(r)&&!r.hasNext;if(v){if(!c){var A=C.diff({id:"ROOT_MUTATION",query:i.getDocumentInfo(n.document).asQuery,variables:n.variables,optimistic:!1,returnPartialData:!0});A.complete&&(r=x(x({},r),{data:A.result}),"incremental"in r&&delete r.incremental,"hasNext"in r&&delete r.hasNext)}I&&v(C,r,{context:n.context,variables:n.variables})}!c&&!n.keepRootFields&&I&&C.modify({id:"ROOT_MUTATION",fields:function(G,$){var L=$.fieldName,H=$.DELETE;return L==="__typename"?G:H}})},include:n.refetchQueries,optimistic:!1,removeOptimistic:n.removeOptimistic,onQueryUpdated:n.onQueryUpdated||null}).forEach(function(C){return h.push(C)}),n.awaitRefetchQueries||n.onQueryUpdated)return Promise.all(h).then(function(){return r})}return Promise.resolve(r)},t.prototype.markMutationOptimistic=function(n,e){var i=this,r=typeof n=="function"?n(e.variables,{IGNORE:$m}):n;return r===$m?!1:(this.cache.recordOptimisticTransaction(function(o){try{i.markMutationResult(x(x({},e),{result:{data:r}}),o)}catch(c){globalThis.__DEV__!==!1&&ee.error(c)}},e.mutationId),!0)},t.prototype.fetchQuery=function(n,e,i){return this.fetchConcastWithInfo(this.getOrCreateQuery(n),e,i).concast.promise},t.prototype.getQueryStore=function(){var n=Object.create(null);return this.queries.forEach(function(e,i){n[i]={variables:e.variables,networkStatus:e.networkStatus,networkError:e.networkError,graphQLErrors:e.graphQLErrors}}),n},t.prototype.resetErrors=function(n){var e=this.queries.get(n);e&&(e.networkError=void 0,e.graphQLErrors=[])},t.prototype.transform=function(n){return this.documentTransform.transformDocument(n)},t.prototype.getDocumentInfo=function(n){var e=this.transformCache;if(!e.has(n)){var i={hasClientExports:Yl(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),hasNonreactiveDirective:Fn(["nonreactive"],n),nonReactiveQuery:fs(n),clientQuery:this.localState.clientQuery(n),serverQuery:fa([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],n),defaultVars:dr(bi(n)),asQuery:x(x({},n),{definitions:n.definitions.map(function(r){return r.kind==="OperationDefinition"&&r.operation!=="query"?x(x({},r),{operation:"query"}):r})})};e.set(n,i)}return e.get(n)},t.prototype.getVariables=function(n,e){return x(x({},this.getDocumentInfo(n).defaultVars),e)},t.prototype.watchQuery=function(n){var e=this.transform(n.query);n=x(x({},n),{variables:this.getVariables(e,n.variables)}),typeof n.notifyOnNetworkStatusChange>"u"&&(n.notifyOnNetworkStatusChange=!1);var i=new Ba(this),r=new jo({queryManager:this,queryInfo:i,options:n});return r.lastQuery=e,jo.inactiveOnCreation.getValue()||this.queries.set(r.queryId,i),i.init({document:e,observableQuery:r,variables:r.variables}),r},t.prototype.query=function(n,e){var i=this;e===void 0&&(e=this.generateQueryId()),ee(n.query,30),ee(n.query.kind==="Document",31),ee(!n.returnPartialData,32),ee(!n.pollInterval,33);var r=this.transform(n.query);return this.fetchQuery(e,x(x({},n),{query:r})).then(function(o){return o&&x(x({},o),{data:i.maskOperation({document:r,data:o.data,fetchPolicy:n.fetchPolicy,id:e})})}).finally(function(){return i.stopQuery(e)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(n){this.stopQueryInStoreNoBroadcast(n),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(n){var e=this.queries.get(n);e&&e.stop()},t.prototype.clearStore=function(n){return n===void 0&&(n={discardWatches:!0}),this.cancelPendingFetches(gt(34)),this.queries.forEach(function(e){e.observableQuery?e.networkStatus=Be.loading:e.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(n)},t.prototype.getObservableQueries=function(n){var e=this;n===void 0&&(n="active");var i=new Map,r=new Map,o=new Map,c=new Set;return Array.isArray(n)&&n.forEach(function(p){if(typeof p=="string")r.set(p,p),o.set(p,!1);else if(ls(p)){var f=an(e.transform(p));r.set(f,Zn(p)),o.set(f,!1)}else qe(p)&&p.query&&c.add(p)}),this.queries.forEach(function(p,f){var d=p.observableQuery,h=p.document;if(d){if(n==="all"){i.set(f,d);return}var C=d.queryName,v=d.options.fetchPolicy;if(v==="standby"||n==="active"&&!d.hasObservers())return;(n==="active"||C&&o.has(C)||h&&o.has(an(h)))&&(i.set(f,d),C&&o.set(C,!0),h&&o.set(an(h),!0))}}),c.size&&c.forEach(function(p){var f=ho("legacyOneTimeQuery"),d=e.getOrCreateQuery(f).init({document:p.query,variables:p.variables}),h=new jo({queryManager:e,queryInfo:d,options:x(x({},p),{fetchPolicy:"network-only"})});ee(h.queryId===f),d.setObservableQuery(h),i.set(f,h)}),globalThis.__DEV__!==!1&&o.size&&o.forEach(function(p,f){if(!p){var d=r.get(f);d?globalThis.__DEV__!==!1&&ee.warn(35,d):globalThis.__DEV__!==!1&&ee.warn(36)}}),i},t.prototype.reFetchObservableQueries=function(n){var e=this;n===void 0&&(n=!1);var i=[];return this.getObservableQueries(n?"all":"active").forEach(function(r,o){var c=r.options.fetchPolicy;r.resetLastResults(),(n||c!=="standby"&&c!=="cache-only")&&i.push(r.refetch()),(e.queries.get(o)||r.queryInfo).setDiff(null)}),this.broadcastQueries(),Promise.all(i)},t.prototype.startGraphQLSubscription=function(n){var e=this,i=n.query,r=n.variables,o=n.fetchPolicy,c=n.errorPolicy,p=c===void 0?"none":c,f=n.context,d=f===void 0?{}:f,h=n.extensions,C=h===void 0?{}:h;i=this.transform(i),r=this.getVariables(i,r);var v=function(A){return e.getObservableFromLink(i,d,A,C).map(function(G){o!=="no-cache"&&(ja(G,p)&&e.cache.write({query:i,result:G.data,dataId:"ROOT_SUBSCRIPTION",variables:A}),e.broadcastQueries());var $=Hr(G),L=Ku(G);if($||L){var H={};if($&&(H.graphQLErrors=G.errors),L&&(H.protocolErrors=G.extensions[Mo]),p==="none"||L)throw new Mn(H)}return p==="ignore"&&delete G.errors,G})};if(this.getDocumentInfo(i).hasClientExports){var I=this.localState.addExportedVariables(i,r,d).then(v);return new Re(function(A){var G=null;return I.then(function($){return G=$.subscribe(A)},A.error),function(){return G&&G.unsubscribe()}})}return v(r)},t.prototype.stopQuery=function(n){this.stopQueryNoBroadcast(n),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(n){this.stopQueryInStoreNoBroadcast(n),this.removeQuery(n)},t.prototype.removeQuery=function(n){var e;this.fetchCancelFns.delete(n),this.queries.has(n)&&((e=this.queries.get(n))===null||e===void 0||e.stop(),this.queries.delete(n))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(n){return n.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(n,e,i,r,o){var c=this,p;o===void 0&&(o=(p=e?.queryDeduplication)!==null&&p!==void 0?p:this.queryDeduplication);var f,d=this.getDocumentInfo(n),h=d.serverQuery,C=d.clientQuery;if(h){var v=this,I=v.inFlightLinkObservables,A=v.link,G={query:h,variables:i,operationName:Zn(h)||void 0,context:this.prepareContext(x(x({},e),{forceFetch:!o})),extensions:r};if(e=G.context,o){var $=an(h),L=gi(i),H=I.lookup($,L);if(f=H.observable,!f){var Q=new vr([Ur(A,G)]);f=H.observable=Q,Q.beforeNext(function J(Z,me){Z==="next"&&"hasNext"in me&&me.hasNext?Q.beforeNext(J):I.remove($,L)})}}else f=new vr([Ur(A,G)])}else f=new vr([Re.of({data:{}})]),e=this.prepareContext(e);return C&&(f=va(f,function(J){return c.localState.runResolvers({document:C,remoteResult:J,context:e,variables:i})})),f},t.prototype.getResultsFromLink=function(n,e,i){var r=n.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(i.query);return va(this.getObservableFromLink(o,i.context,i.variables),function(c){var p=ya(c),f=p.length>0,d=i.errorPolicy;if(r>=n.lastRequestId){if(f&&d==="none")throw n.markError(new Mn({graphQLErrors:p}));n.markResult(c,o,i,e),n.markReady()}var h={data:c.data,loading:!1,networkStatus:Be.ready};return f&&d==="none"&&(h.data=void 0),f&&d!=="ignore"&&(h.errors=p,h.networkStatus=Be.error),h},function(c){var p=xa(c)?c:new Mn({networkError:c});throw r>=n.lastRequestId&&n.markError(p),p})},t.prototype.fetchConcastWithInfo=function(n,e,i,r){var o=this;i===void 0&&(i=Be.loading),r===void 0&&(r=e.query);var c=this.getVariables(r,e.variables),p=this.defaultOptions.watchQuery,f=e.fetchPolicy,d=f===void 0?p&&p.fetchPolicy||"cache-first":f,h=e.errorPolicy,C=h===void 0?p&&p.errorPolicy||"none":h,v=e.returnPartialData,I=v===void 0?!1:v,A=e.notifyOnNetworkStatusChange,G=A===void 0?!1:A,$=e.context,L=$===void 0?{}:$,H=Object.assign({},e,{query:r,variables:c,fetchPolicy:d,errorPolicy:C,returnPartialData:I,notifyOnNetworkStatusChange:G,context:L}),Q=function(Oe){H.variables=Oe;var Ft=o.fetchQueryByPolicy(n,H,i);return H.fetchPolicy!=="standby"&&Ft.sources.length>0&&n.observableQuery&&n.observableQuery.applyNextFetchPolicy("after-fetch",e),Ft},J=function(){return o.fetchCancelFns.delete(n.queryId)};this.fetchCancelFns.set(n.queryId,function(Oe){J(),setTimeout(function(){return Z.cancel(Oe)})});var Z,me;if(this.getDocumentInfo(H.query).hasClientExports)Z=new vr(this.localState.addExportedVariables(H.query,H.variables,H.context).then(Q).then(function(Oe){return Oe.sources})),me=!0;else{var Fe=Q(H.variables);me=Fe.fromLink,Z=new vr(Fe.sources)}return Z.promise.then(J,J),{concast:Z,fromLink:me}},t.prototype.refetchQueries=function(n){var e=this,i=n.updateCache,r=n.include,o=n.optimistic,c=o===void 0?!1:o,p=n.removeOptimistic,f=p===void 0?c?ho("refetchQueries"):void 0:p,d=n.onQueryUpdated,h=new Map;r&&this.getObservableQueries(r).forEach(function(v,I){h.set(I,{oq:v,lastDiff:(e.queries.get(I)||v.queryInfo).getDiff()})});var C=new Map;return i&&this.cache.batch({update:i,optimistic:c&&f||!1,removeOptimistic:f,onWatchUpdated:function(v,I,A){var G=v.watcher instanceof Ba&&v.watcher.observableQuery;if(G){if(d){h.delete(G.queryId);var $=d(G,I,A);return $===!0&&($=G.refetch()),$!==!1&&C.set(G,$),$}d!==null&&h.set(G.queryId,{oq:G,lastDiff:A,diff:I})}}}),h.size&&h.forEach(function(v,I){var A=v.oq,G=v.lastDiff,$=v.diff,L;if(d){if(!$){var H=A.queryInfo;H.reset(),$=H.getDiff()}L=d(A,$,G)}(!d||L===!0)&&(L=A.refetch()),L!==!1&&C.set(A,L),I.indexOf("legacyOneTimeQuery")>=0&&e.stopQueryNoBroadcast(I)}),f&&this.cache.removeOptimistic(f),C},t.prototype.maskOperation=function(n){var e,i,r,o=n.document,c=n.data;if(globalThis.__DEV__!==!1){var p=n.fetchPolicy,f=n.id,d=(e=bi(o))===null||e===void 0?void 0:e.operation,h=((i=d?.[0])!==null&&i!==void 0?i:"o")+f;this.dataMasking&&p==="no-cache"&&!is(o)&&!this.noCacheWarningsByQueryId.has(h)&&(this.noCacheWarningsByQueryId.add(h),globalThis.__DEV__!==!1&&ee.warn(37,(r=Zn(o))!==null&&r!==void 0?r:"Unnamed ".concat(d??"operation")))}return this.dataMasking?Ps(c,o,this.cache):c},t.prototype.maskFragment=function(n){var e=n.data,i=n.fragment,r=n.fragmentName;return this.dataMasking?ko(e,i,this.cache,r):e},t.prototype.fetchQueryByPolicy=function(n,e,i){var r=this,o=e.query,c=e.variables,p=e.fetchPolicy,f=e.refetchWritePolicy,d=e.errorPolicy,h=e.returnPartialData,C=e.context,v=e.notifyOnNetworkStatusChange,I=n.networkStatus;n.init({document:o,variables:c,networkStatus:i});var A=function(){return n.getDiff()},G=function(J,Z){Z===void 0&&(Z=n.networkStatus||Be.loading);var me=J.result;globalThis.__DEV__!==!1&&!h&&!ot(me,{})&&Ys(J.missing);var Fe=function(Oe){return Re.of(x({data:Oe,loading:Vn(Z),networkStatus:Z},J.complete?null:{partial:!0}))};return me&&r.getDocumentInfo(o).hasForcedResolvers?r.localState.runResolvers({document:o,remoteResult:{data:me},context:C,variables:c,onlyRunForcedResolvers:!0}).then(function(Oe){return Fe(Oe.data||void 0)}):d==="none"&&Z===Be.refetch&&Array.isArray(J.missing)?Fe(void 0):Fe(me)},$=p==="no-cache"?0:i===Be.refetch&&f!=="merge"?1:2,L=function(){return r.getResultsFromLink(n,$,{query:o,variables:c,context:C,fetchPolicy:p,errorPolicy:d})},H=v&&typeof I=="number"&&I!==i&&Vn(i);switch(p){default:case"cache-first":{var Q=A();return Q.complete?{fromLink:!1,sources:[G(Q,n.markReady())]}:h||H?{fromLink:!0,sources:[G(Q),L()]}:{fromLink:!0,sources:[L()]}}case"cache-and-network":{var Q=A();return Q.complete||h||H?{fromLink:!0,sources:[G(Q),L()]}:{fromLink:!0,sources:[L()]}}case"cache-only":return{fromLink:!1,sources:[G(A(),n.markReady())]};case"network-only":return H?{fromLink:!0,sources:[G(A()),L()]}:{fromLink:!0,sources:[L()]};case"no-cache":return H?{fromLink:!0,sources:[G(n.getDiff()),L()]}:{fromLink:!0,sources:[L()]};case"standby":return{fromLink:!1,sources:[]}}},t.prototype.getOrCreateQuery=function(n){return n&&!this.queries.has(n)&&this.queries.set(n,new Ba(this,n)),this.queries.get(n)},t.prototype.prepareContext=function(n){n===void 0&&(n={});var e=this.localState.prepareContext(n);return x(x(x({},this.defaultContext),e),{clientAwareness:this.clientAwareness})},t}();var Um=function(){function t(n){var e=n.cache,i=n.client,r=n.resolvers,o=n.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=e,i&&(this.client=i),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(n){var e=this;this.resolvers=this.resolvers||{},Array.isArray(n)?n.forEach(function(i){e.resolvers=hs(e.resolvers,i)}):this.resolvers=hs(this.resolvers,n)},t.prototype.setResolvers=function(n){this.resolvers={},this.addResolvers(n)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(n){return Zi(this,arguments,void 0,function(e){var i=e.document,r=e.remoteResult,o=e.context,c=e.variables,p=e.onlyRunForcedResolvers,f=p===void 0?!1:p;return en(this,function(d){return i?[2,this.resolveDocument(i,r.data,o,c,this.fragmentMatcher,f).then(function(h){return x(x({},r),{data:h.result})})]:[2,r]})})},t.prototype.setFragmentMatcher=function(n){this.fragmentMatcher=n},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(n){return Fn(["client"],n)&&this.resolvers?n:null},t.prototype.serverQuery=function(n){return Fo(n)},t.prototype.prepareContext=function(n){var e=this.cache;return x(x({},n),{cache:e,getCacheKey:function(i){return e.identify(i)}})},t.prototype.addExportedVariables=function(n){return Zi(this,arguments,void 0,function(e,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),en(this,function(o){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,i)||{},this.prepareContext(r),i).then(function(c){return x(x({},i),c.exportedVariables)})]:[2,x({},i)]})})},t.prototype.shouldForceResolvers=function(n){var e=!1;return ii(n,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(e=i.arguments.some(function(r){return r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0}),e))return bn}}}),e},t.prototype.buildRootValueFromCache=function(n,e){return this.cache.diff({query:ds(n),variables:e,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(n,e){return Zi(this,arguments,void 0,function(i,r,o,c,p,f){var d,h,C,v,I,A,G,$,L,H,Q;return o===void 0&&(o={}),c===void 0&&(c={}),p===void 0&&(p=function(){return!0}),f===void 0&&(f=!1),en(this,function(J){return d=rn(i),h=Fi(i),C=wi(h),v=this.collectSelectionsToResolve(d,C),I=d.operation,A=I?I.charAt(0).toUpperCase()+I.slice(1):"Query",G=this,$=G.cache,L=G.client,H={fragmentMap:C,context:x(x({},o),{cache:$,client:L}),variables:c,fragmentMatcher:p,defaultOperationType:A,exportedVariables:{},selectionsToResolve:v,onlyRunForcedResolvers:f},Q=!1,[2,this.resolveSelectionSet(d.selectionSet,Q,r,H).then(function(Z){return{result:Z,exportedVariables:H.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(n,e,i,r){return Zi(this,void 0,void 0,function(){var o,c,p,f,d,h=this;return en(this,function(C){return o=r.fragmentMap,c=r.context,p=r.variables,f=[i],d=function(v){return Zi(h,void 0,void 0,function(){var I,A;return en(this,function(G){return!e&&!r.selectionsToResolve.has(v)?[2]:nn(v,p)?vi(v)?[2,this.resolveField(v,e,i,r).then(function($){var L;typeof $<"u"&&f.push((L={},L[ui(v)]=$,L))})]:(cs(v)?I=v:(I=o[v.name.value],ee(I,19,v.name.value)),I&&I.typeCondition&&(A=I.typeCondition.name.value,r.fragmentMatcher(i,A,c))?[2,this.resolveSelectionSet(I.selectionSet,e,i,r).then(function($){f.push($)})]:[2]):[2]})})},[2,Promise.all(n.selections.map(d)).then(function(){return _r(f)})]})})},t.prototype.resolveField=function(n,e,i,r){return Zi(this,void 0,void 0,function(){var o,c,p,f,d,h,C,v,I,A=this;return en(this,function(G){return i?(o=r.variables,c=n.name.value,p=ui(n),f=c!==p,d=i[p]||i[c],h=Promise.resolve(d),(!r.onlyRunForcedResolvers||this.shouldForceResolvers(n))&&(C=i.__typename||r.defaultOperationType,v=this.resolvers&&this.resolvers[C],v&&(I=v[f?c:p],I&&(h=Promise.resolve(qr.withValue(this.cache,I,[i,Dn(n,o),r.context,{field:n,fragmentMap:r.fragmentMap}]))))),[2,h.then(function($){var L,H;if($===void 0&&($=d),n.directives&&n.directives.forEach(function(J){J.name.value==="export"&&J.arguments&&J.arguments.forEach(function(Z){Z.name.value==="as"&&Z.value.kind==="StringValue"&&(r.exportedVariables[Z.value.value]=$)})}),!n.selectionSet||$==null)return $;var Q=(H=(L=n.directives)===null||L===void 0?void 0:L.some(function(J){return J.name.value==="client"}))!==null&&H!==void 0?H:!1;if(Array.isArray($))return A.resolveSubSelectedArray(n,e||Q,$,r);if(n.selectionSet)return A.resolveSelectionSet(n.selectionSet,e||Q,$,r)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(n,e,i,r){var o=this;return Promise.all(i.map(function(c){if(c===null)return null;if(Array.isArray(c))return o.resolveSubSelectedArray(n,e,c,r);if(n.selectionSet)return o.resolveSelectionSet(n.selectionSet,e,c,r)}))},t.prototype.collectSelectionsToResolve=function(n,e){var i=function(c){return!Array.isArray(c)},r=this.selectionsToResolveCache;function o(c){if(!r.has(c)){var p=new Set;r.set(c,p),ii(c,{Directive:function(f,d,h,C,v){f.name.value==="client"&&v.forEach(function(I){i(I)&&Co(I)&&p.add(I)})},FragmentSpread:function(f,d,h,C,v){var I=e[f.name.value];ee(I,20,f.name.value);var A=o(I);A.size>0&&(v.forEach(function(G){i(G)&&Co(G)&&p.add(G)}),p.add(f),A.forEach(function(G){p.add(G)}))}})}return r.get(c)}return o(n)},t}();var Qm=!1;var $o=function(){function t(n){var e=this,i;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!n.cache)throw gt(16);var r=n.uri,o=n.credentials,c=n.headers,p=n.cache,f=n.documentTransform,d=n.ssrMode,h=d===void 0?!1:d,C=n.ssrForceFetchDelay,v=C===void 0?0:C,I=n.connectToDevTools,A=n.queryDeduplication,G=A===void 0?!0:A,$=n.defaultOptions,L=n.defaultContext,H=n.assumeImmutableResults,Q=H===void 0?p.assumeImmutableResults:H,J=n.resolvers,Z=n.typeDefs,me=n.fragmentMatcher,Fe=n.name,Oe=n.version,Ft=n.devtools,$t=n.dataMasking,cn=n.link;cn||(cn=r?new Ms({uri:r,credentials:o,headers:c}):Hi.empty()),this.link=cn,this.cache=p,this.disableNetworkFetches=h||v>0,this.queryDeduplication=G,this.defaultOptions=$||Object.create(null),this.typeDefs=Z,this.devtoolsConfig=x(x({},Ft),{enabled:(i=Ft?.enabled)!==null&&i!==void 0?i:I}),this.devtoolsConfig.enabled===void 0&&(this.devtoolsConfig.enabled=globalThis.__DEV__!==!1),v&&setTimeout(function(){return e.disableNetworkFetches=!1},v),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=fo,this.localState=new Um({cache:p,client:this,resolvers:J,fragmentMatcher:me}),this.queryManager=new Hm({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:L,documentTransform:f,queryDeduplication:G,ssrMode:h,dataMasking:!!$t,clientAwareness:{name:Fe,version:Oe},localState:this.localState,assumeImmutableResults:Q,onBroadcast:this.devtoolsConfig.enabled?function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.getQueryStore(),mutations:e.queryManager.mutationStore||{}},dataWithOptimisticResults:e.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return t.prototype.connectToDevTools=function(){if(!(typeof window>"u")){var n=window,e=Symbol.for("apollo.devtools");(n[e]=n[e]||[]).push(this),n.__APOLLO_CLIENT__=this,!Qm&&globalThis.__DEV__!==!1&&(Qm=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout(function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var i=window.navigator,r=i&&i.userAgent,o=void 0;typeof r=="string"&&(r.indexOf("Chrome/")>-1?o="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":r.indexOf("Firefox/")>-1&&(o="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),o&&globalThis.__DEV__!==!1&&ee.log("Download the Apollo DevTools for a better development experience: %s",o)}},1e4))}},Object.defineProperty(t.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(n){return this.defaultOptions.watchQuery&&(n=Do(this.defaultOptions.watchQuery,n)),this.disableNetworkFetches&&(n.fetchPolicy==="network-only"||n.fetchPolicy==="cache-and-network")&&(n=x(x({},n),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(n)},t.prototype.query=function(n){return this.defaultOptions.query&&(n=Do(this.defaultOptions.query,n)),ee(n.fetchPolicy!=="cache-and-network",17),this.disableNetworkFetches&&n.fetchPolicy==="network-only"&&(n=x(x({},n),{fetchPolicy:"cache-first"})),this.queryManager.query(n)},t.prototype.mutate=function(n){return this.defaultOptions.mutate&&(n=Do(this.defaultOptions.mutate,n)),this.queryManager.mutate(n)},t.prototype.subscribe=function(n){var e=this,i=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(n).map(function(r){return x(x({},r),{data:e.queryManager.maskOperation({document:n.query,data:r.data,fetchPolicy:n.fetchPolicy,id:i})})})},t.prototype.readQuery=function(n,e){return e===void 0&&(e=!1),this.cache.readQuery(n,e)},t.prototype.watchFragment=function(n){var e;return this.cache.watchFragment(x(x({},n),(e={},e[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,e)))},t.prototype.readFragment=function(n,e){return e===void 0&&(e=!1),this.cache.readFragment(n,e)},t.prototype.writeQuery=function(n){var e=this.cache.writeQuery(n);return n.broadcast!==!1&&this.queryManager.broadcastQueries(),e},t.prototype.writeFragment=function(n){var e=this.cache.writeFragment(n);return n.broadcast!==!1&&this.queryManager.broadcastQueries(),e},t.prototype.__actionHookForDevTools=function(n){this.devToolsHookCb=n},t.prototype.__requestRaw=function(n){return Ur(this.link,n)},t.prototype.resetStore=function(){var n=this;return Promise.resolve().then(function(){return n.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(n.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return n.reFetchObservableQueries()})},t.prototype.clearStore=function(){var n=this;return Promise.resolve().then(function(){return n.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(n.clearStoreCallbacks.map(function(e){return e()}))})},t.prototype.onResetStore=function(n){var e=this;return this.resetStoreCallbacks.push(n),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter(function(i){return i!==n})}},t.prototype.onClearStore=function(n){var e=this;return this.clearStoreCallbacks.push(n),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter(function(i){return i!==n})}},t.prototype.reFetchObservableQueries=function(n){return this.queryManager.reFetchObservableQueries(n)},t.prototype.refetchQueries=function(n){var e=this.queryManager.refetchQueries(n),i=[],r=[];e.forEach(function(c,p){i.push(p),r.push(c)});var o=Promise.all(r);return o.queries=i,o.results=r,o.catch(function(c){globalThis.__DEV__!==!1&&ee.debug(18,c)}),o},t.prototype.getObservableQueries=function(n){return n===void 0&&(n="active"),this.queryManager.getObservableQueries(n)},t.prototype.extract=function(n){return this.cache.extract(n)},t.prototype.restore=function(n){return this.cache.restore(n)},t.prototype.addResolvers=function(n){this.localState.addResolvers(n)},t.prototype.setResolvers=function(n){this.localState.setResolvers(n)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(n){this.localState.setFragmentMatcher(n)},t.prototype.setLink=function(n){this.link=this.queryManager.link=n},Object.defineProperty(t.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),t}();globalThis.__DEV__!==!1&&($o.prototype.getMemoryInternals=pu);var $a=new Map,ec=new Map,zm=!0,Ha=!1;function qm(t){return t.replace(/[\s,]+/g," ").trim()}function uv(t){return qm(t.source.body.substring(t.start,t.end))}function mv(t){var n=new Set,e=[];return t.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var r=i.name.value,o=uv(i.loc),c=ec.get(r);c&&!c.has(o)?zm&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):c||ec.set(r,c=new Set),c.add(o),n.has(o)||(n.add(o),e.push(i))}else e.push(i)}),x(x({},t),{definitions:e})}function dv(t){var n=new Set(t.definitions);n.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(r){var o=i[r];o&&typeof o=="object"&&n.add(o)})});var e=t.loc;return e&&(delete e.startToken,delete e.endToken),t}function fv(t){var n=qm(t);if(!$a.has(n)){var e=ca(t,{experimentalFragmentVariables:Ha,allowLegacyFragmentVariables:Ha});if(!e||e.kind!=="Document")throw new Error("Not a valid GraphQL document.");$a.set(n,dv(mv(e)))}return $a.get(n)}function or(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];typeof t=="string"&&(t=[t]);var i=t[0];return n.forEach(function(r,o){r&&r.kind==="Document"?i+=r.loc.source.body:i+=r,i+=t[o+1]}),fv(i)}function Xm(){$a.clear(),ec.clear()}function Km(){zm=!1}function Jm(){Ha=!0}function Ym(){Ha=!1}var Ho={gql:or,resetCaches:Xm,disableFragmentWarnings:Km,enableExperimentalFragmentVariables:Jm,disableExperimentalFragmentVariables:Ym};(function(t){t.gql=Ho.gql,t.resetCaches=Ho.resetCaches,t.disableFragmentWarnings=Ho.disableFragmentWarnings,t.enableExperimentalFragmentVariables=Ho.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=Ho.disableExperimentalFragmentVariables})(or||(or={}));or.default=or;Wp(globalThis.__DEV__!==!1?"log":"silent");function Zm(t){return new Wn(n=>(t().then(e=>{n.closed||(n.next(e),n.complete())},e=>{n.closed||n.error(e)}),()=>n.unsubscribe()))}function hv(t,n){return n?t.pipe(rp({loading:!0}),Ce(e=>qo(Le({},e),{loading:!!e.loading}))):t.pipe(Ce(e=>qo(Le({},e),{loading:!1})))}var ic=class{zone;constructor(n){this.zone=n}now=Date.now?Date.now:()=>+new Date;schedule(n,e=0,i){return this.zone.run(()=>ip.schedule(n,e,i))}};function td(t){return t[tp]=()=>t,t}function id(t,n){return t.pipe(np(new ic(n)))}function ed(t,n,e){return t&&typeof t[n]<"u"?t[n]:e}function _v(t){return function(e){return new Wn(function(r){let o=t.getCurrentResult(),{loading:c,errors:p,error:f,partial:d,data:h}=o,{partialRefetch:C,fetchPolicy:v}=t.options,I=p||f;return C&&d&&(!h||Object.keys(h).length===0)&&v!=="cache-only"&&!c&&!I&&r.next(qo(Le({},o),{loading:!0,networkStatus:Be.loading})),e.subscribe(r)})}}var nc=class{obsQuery;valueChanges;queryId;constructor(n,e,i){this.obsQuery=n;let r=id(Gl(td(this.obsQuery)),e);this.valueChanges=i.useInitialLoading?r.pipe(_v(this.obsQuery)):r,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(n){return this.obsQuery.refetch(n)}fetchMore(n){return this.obsQuery.fetchMore(n)}subscribeToMore(n){return this.obsQuery.subscribeToMore(n)}updateQuery(n){return this.obsQuery.updateQuery(n)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(n){return this.obsQuery.startPolling(n)}setOptions(n){return this.obsQuery.setOptions(n)}setVariables(n){return this.obsQuery.setVariables(n)}},gv=new Bn("APOLLO_FLAGS"),rc=new Bn("APOLLO_OPTIONS"),vv=new Bn("APOLLO_NAMED_OPTIONS"),Ua=class{ngZone;flags;_client;useInitialLoading;useMutationLoading;constructor(n,e,i){this.ngZone=n,this.flags=e,this._client=i,this.useInitialLoading=ed(e,"useInitialLoading",!1),this.useMutationLoading=ed(e,"useMutationLoading",!1)}watchQuery(n){return new nc(this.ensureClient().watchQuery(Le({},n)),this.ngZone,Le({useInitialLoading:this.useInitialLoading},n))}query(n){return Zm(()=>this.ensureClient().query(Le({},n)))}mutate(n){return hv(Zm(()=>this.ensureClient().mutate(Le({},n))),n.useMutationLoading??this.useMutationLoading)}subscribe(n,e){let i=Gl(td(this.ensureClient().subscribe(Le({},n))));return e&&e.useZone!==!0?i:id(i,this.ngZone)}getClient(){return this.client}setClient(n){this.client=n}get client(){return this._client}set client(n){if(this._client)throw new Error("Client has been already defined");this._client=n}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}},nd=(()=>{class t extends Ua{_ngZone;map=new Map;constructor(e,i,r,o){if(super(e,o),this._ngZone=e,i&&this.createDefault(i),r&&typeof r=="object"){for(let c in r)if(r.hasOwnProperty(c)){let p=r[c];this.create(p,c)}}}create(e,i){tc(i)?this.createDefault(e):this.createNamed(i,e)}default(){return this}use(e){return tc(e)?this.default():this.map.get(e)}createDefault(e){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new $o(e))}createNamed(e,i){if(this.map.has(e))throw new Error(`Client ${e} has been already created`);this.map.set(e,new Ua(this._ngZone,this.flags,new $o(i)))}removeClient(e){tc(e)?this._client=void 0:this.map.delete(e)}static \u0275fac=function(i){return new(i||t)(de(op),de(rc,8),de(vv,8),de(gv,8))};static \u0275prov=se({token:t,factory:t.\u0275fac})}return t})();function tc(t){return!t||t==="default"}function Cv(t,...n){return or(t,...n)}var rd=Cv;var yv=(t,n,e)=>{let i=["POST","PUT","PATCH"].indexOf(t.method.toUpperCase())!==-1,r=d=>["variables","extensions"].indexOf(d.toLowerCase())!==-1,o=t.body.length,c=t.options&&t.options.useMultipart,p;if(c){if(o)return new Wn(d=>d.error(new Error("File upload is not available when combined with Batching")));if(!i)return new Wn(d=>d.error(new Error("File upload is not available when GET is used")));if(!e)return new Wn(d=>d.error(new Error(`To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink's options`)));p=e(t.body),c=!!p.files.size}let f={};if(o){if(!i)return new Wn(d=>d.error(new Error("Batching is not available for GET requests")));f={body:t.body}}else{let d=c?p.clone:t.body;i?f={body:d}:f={params:Object.keys(t.body).reduce((C,v)=>{let I=t.body[v];return C[v]=r(v)?JSON.stringify(I):I,C},{})}}if(c&&i){let d=new FormData;d.append("operations",JSON.stringify(f.body));let h={},C=p.files,v=0;C.forEach(I=>{h[++v]=I}),d.append("map",JSON.stringify(h)),v=0,C.forEach((I,A)=>{d.append(++v+"",A,A.name)}),f.body=d}return n.request(t.method,t.url,Le(Le({observe:"response",responseType:"json",reportProgress:!1},f),t.options))},Ev=(t,n)=>t&&n?n.keys().reduce((i,r)=>i.set(r,n.getAll(r)),t):n||t;function Tv(...t){let n=t.find(e=>typeof e<"u");return typeof n>"u"?t[t.length-1]:n}function Iv(t){let n=t.headers&&t.headers instanceof Wl?t.headers:new Wl(t.headers);if(t.clientAwareness){let{name:e,version:i}=t.clientAwareness;e&&!n.has("apollographql-client-name")&&(n=n.set("apollographql-client-name",e)),i&&!n.has("apollographql-client-version")&&(n=n.set("apollographql-client-version",i))}return n}var oc=class extends Hi{httpClient;options;requester;print=Ar;constructor(n,e){super(),this.httpClient=n,this.options=e,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=i=>new Re(r=>{let o=i.getContext(),c=(H,Q)=>Tv(o[H],this.options[H],Q),p=c("method","POST"),f=c("includeQuery",!0),d=c("includeExtensions",!1),h=c("uri","graphql"),C=c("withCredentials"),v=c("useMultipart"),I=this.options.useGETForQueries===!0,A=i.query.definitions.some(H=>H.kind==="OperationDefinition"&&H.operation==="query");I&&A&&(p="GET");let G={method:p,url:typeof h=="function"?h(i):h,body:{operationName:i.operationName,variables:i.variables},options:{withCredentials:C,useMultipart:v,headers:this.options.headers}};d&&(G.body.extensions=i.extensions),f&&(G.body.query=this.print(i.query));let $=Iv(o);G.options.headers=Ev(G.options.headers,$);let L=yv(G,this.httpClient,this.options.extractFiles).subscribe({next:H=>{i.setContext({response:H}),r.next(H.body)},error:H=>r.error(H),complete:()=>r.complete()});return()=>{L.closed||L.unsubscribe()}})}request(n){return this.requester(n)}},od=(()=>{class t{httpClient;constructor(e){this.httpClient=e}create(e){return new oc(this.httpClient,e)}static \u0275fac=function(i){return new(i||t)(de(Ue))};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sd=Y(mo()),cd=Y(ti());var ac=Y(ti());var ad=Y(Ti());var xv=t=>({expander:t}),wv=t=>({checkbox:t});function bv(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function Fv(t,n){t&1&&Se(0)}function Ov(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function Dv(t,n){t&1&&Se(0)}function Rv(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,Ov,5,2,"ng-template",null,1,V)(3,Dv,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,wv,e))}}function Lv(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function Mv(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,bv,2,1,"ng-template",null,0,V)(5,Fv,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,Rv,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,Lv,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,xv,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Qa=(()=>{class t{constructor(e){this.dialogService=e,this.filterChanged=new we,this.showAllButtonClicked=new we}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,ad.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(e){return e.map(i=>i.value)}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-basic-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,Mv,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Av=["*"];function Pv(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function kv(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var ld=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,ac.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,ac.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-basic-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,Qa,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:Av,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,Pv,4,5,"div",3),l(),_(3,kv,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,mt],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background-color:var(--nui-color-bg-accordion_header,rgba(17, 17, 17, .06));height:30px;padding-left:10px;color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));line-height:14px;font-size:11px}"]})}}return t})();function Gv(t,n){t&1&&(a(0,"div",5),E(1,"nui-image",6),a(2,"p",7),s(3,"No data to show"),l()()),t&2&&(u(),m("isWatermark",!0))}function Wv(t,n){if(t&1&&(a(0,"div"),s(1),l(),a(2,"div"),s(3),l()),t&2){let e=n.item;u(),F(e.color),u(2),F(e.status)}}function Bv(t,n){if(t&1){let e=j();a(0,"app-basic-filter-group",8),b("filterChanged",function(r){S(e);let o=g();return y(o.changeFilters(r))}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function jv(t,n){if(t&1&&(a(0,"div"),E(1,"nui-repeat",9),l()),t&2){let e=g(),i=R(3);u(),m("itemsSource",e.filteringState.repeat.itemsSource)("repeatItemTemplateRef",i)}}var $v=[{color:"regular-azure",status:"Critical"},{color:"regular-black",status:"Warning"},{color:"regular-blue",status:"Up"},{color:"regular-yellow",status:"Critical"},{color:"regular-yellow",status:"Warning"},{color:"regular-black",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Critical"}],pd=(()=>{class t{constructor(e){this.dataSourceService=e,this.filterGroupItems=[{id:"color",title:"Color",expanded:!0,allFilterOptions:[{value:"azure",displayValue:"Azure FilterGroup Basic Example",count:3},{value:"black",displayValue:"Black",count:2},{value:"blue",displayValue:"Blue FilterGroup Basic Example",count:3},{value:"yellow",displayValue:"Yellow",count:2}],selectedFilterValues:[]},{id:"status",title:"Status",allFilterOptions:[{value:"warning",displayValue:"Warning",count:2},{value:"critical",displayValue:"Critical",count:2},{value:"up",displayValue:"Up",count:5}],selectedFilterValues:[]},{id:"vendor",title:"Vendors",allFilterOptions:[],selectedFilterValues:[]}],this.filteringState={repeat:{itemsSource:[]},color:[],status:[]},this.dataSourceService.setData($v)}ngAfterViewInit(){this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.filteringState=e,this.recalculateCounts(e)}),this.dataSourceService.applyFilters()}changeFilters(e){this.dataSourceService.applyFilters()}hasItems(){return!(0,cd.default)((0,sd.default)(this,"filteringState.repeat.itemsSource"))}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]})})}ngOnDestroy(){this.outputsSubscription&&this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-basic-filter-group-composite-example"]],features:[he([{provide:N,useClass:fi}])],decls:10,vars:3,consts:[["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterChanged","filterGroupItem"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(i,r){if(i&1&&(_(0,Gv,4,1,"ng-template",null,0,V)(2,Wv,4,2,"ng-template",null,1,V),a(4,"nui-panel")(5,"div",2)(6,"app-basic-filter-groups-wrapper"),_(7,Bv,1,1,"app-basic-filter-group",3),l()(),a(8,"div"),_(9,jv,2,2,"div",4),l()()),i&2){let o=R(1);u(7),m("ngForOf",r.filterGroupItems),u(2),m("ngIf",r.hasItems())("ngIfElse",o)}},dependencies:[te,W,be,ht,ld,Qa,Un],encapsulation:2})}}return t})();var dd=Y(Li()),fd=Y(Bi());var hd=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,dd.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,fd.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var _d=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le]})}}return t})();var gd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[hd],imports:[le,tt,jn,vt,_d,et,tt]})}}return t})();var Td=Y(mo()),Id=Y(ti());var vd=Y(Ti());var Kv=t=>({expander:t}),Jv=t=>({checkbox:t});function Yv(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function Zv(t,n){t&1&&Se(0)}function e1(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function t1(t,n){t&1&&Se(0)}function i1(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,e1,5,2,"ng-template",null,1,V)(3,t1,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,Jv,e))}}function n1(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function r1(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,Yv,2,1,"ng-template",null,0,V)(5,Zv,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,i1,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,n1,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,Kv,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Jr=(()=>{class t{constructor(e){this.dialogService=e,this.filterChanged=new we,this.showAllButtonClicked=new we}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,vd.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(e){return e.map(i=>i.value)}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-custom-data-source-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,r1,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ge,Ie,ft,dt],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Cd=Y(mo()),sc=Y(ti());var a1=[{color:"regular-azure",status:"Critical"},{color:"regular-black",status:"Warning"},{color:"regular-blue",status:"Up"},{color:"regular-yellow",status:"Critical"},{color:"regular-yellow",status:"Warning"},{color:"regular-black",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Critical"}],l1=[{id:"color",title:"Color",expanded:!0,allFilterOptions:[{value:"azure",displayValue:"Azure",count:3},{value:"black",displayValue:"Black",count:2},{value:"blue",displayValue:"Blue",count:3},{value:"yellow",displayValue:"Yellow",count:2}],selectedFilterValues:[]},{id:"status",title:"Status",allFilterOptions:[{value:"warning",displayValue:"Warning",count:2},{value:"critical",displayValue:"Critical",count:2},{value:"up",displayValue:"Up",count:5}],selectedFilterValues:[]},{id:"vendor",title:"Vendors",allFilterOptions:[],selectedFilterValues:[]}],Uo=(()=>{class t{constructor(){this.receiveFilteredDataSubject=new ue,this.getFilteredDataSubject=new ue}getData(e){return T(this,null,function*(){return this.getFilteredDataSubject.next(e),new Promise(i=>{this.receiveFilteredDataSubject.subscribe(r=>{i(r)})})})}receiveFilteredData(e){this.receiveFilteredDataSubject.next(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})(),Sd=(()=>{class t{constructor(e,i){this.dataSourceService=e,this.httpService=i,this.filterGroupItems=l1,this.filteringState={repeat:{itemsSource:[]},color:[],status:[]},this.filterGroupSubscriptions=[],this.dataSourceService.setData(a1),this.filterGroupSubscriptions.push(this.dataSourceService.outputsSubject.subscribe(r=>{this.filteringState=r,this.recalculateCounts(r)})),this.filterGroupSubscriptions.push(this.httpService.getFilteredDataSubject.pipe(Pe(500)).subscribe(r=>T(this,null,function*(){this.filteringState=yield this.dataSourceService.getFilteredData(r),this.recalculateCounts(this.filteringState),this.sendFilteredData()})))}sendFilteredData(){this.httpService.receiveFilteredData({filterGroupItems:this.filterGroupItems,filteringState:this.filteringState})}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];(0,sc.default)(o)||(r.count=o[r.value])})})}hasItems(){return!(0,sc.default)((0,Cd.default)(this,"filteringState.repeat.itemsSource"))}ngOnDestroy(){this.filterGroupSubscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(Uo))}}static{this.\u0275cmp=M({type:t,selectors:[["nui-fake-filtering-datasource-backend-component"]],viewQuery:function(i,r){if(i&1&&k(be,5),i&2){let o;O(o=D())&&(r.filteringRepeat=o.first)}},features:[he([{provide:N,useClass:fi}])],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return t})();var yd=(()=>{class t extends N{constructor(e){super(),this.httpService=e}getFilteredData(e){return T(this,null,function*(){return yield this.httpService.getData(e)})}static{this.\u0275fac=function(i){return new(i||t)(de(Uo))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var cc=Y(ti());var c1=["*"];function p1(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function u1(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var Ed=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,cc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,cc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-custom-data-source-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,Jr,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:c1,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,p1,4,5,"div",3),l(),_(3,u1,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,pe,mt],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function d1(t,n){t&1&&(a(0,"div",5),E(1,"nui-image",6),a(2,"p",7),s(3,"No data to show"),l()()),t&2&&(u(),m("isWatermark",!0))}function f1(t,n){if(t&1&&(a(0,"div"),s(1),l(),a(2,"div"),s(3),l()),t&2){let e=n.item;u(),F(e.color),u(2),F(e.status)}}function h1(t,n){if(t&1){let e=j();a(0,"app-custom-data-source-filter-group",8),b("filterChanged",function(r){S(e);let o=g();return y(o.changeFilters(r))}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function _1(t,n){if(t&1&&(a(0,"div"),E(1,"nui-repeat",9),l()),t&2){let e=g(),i=R(3);u(),m("itemsSource",e.filteringState.repeat.itemsSource)("repeatItemTemplateRef",i)}}var xd=(()=>{class t{constructor(e){this.filterGroupCustomDataSourceService=e,this.filterGroupItems=[],this.filteringState={repeat:{itemsSource:[]},color:[],status:[]},this.filterGroupSubscriptions=[]}ngAfterViewInit(){this.filterGroupSubscriptions.push(this.filterGroupCustomDataSourceService.outputsSubject.subscribe(e=>{this.filterGroupItems=e.filterGroupItems,this.filteringState=e.filteringState})),this.filterGroupSubscriptions.push(this.filterGroups.changes.subscribe(()=>{this.filterGroupCustomDataSourceService.registerComponent(this.getFilterComponents())})),this.filterGroupCustomDataSourceService.applyFilters()}changeFilters(e){this.filterGroupCustomDataSourceService.applyFilters()}hasItems(){return!(0,Id.default)((0,Td.default)(this,"filteringState.repeat.itemsSource"))}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}ngOnDestroy(){this.filterGroupSubscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-custom-data-source-filter-group-composite-example"]],viewQuery:function(i,r){if(i&1&&k(Jr,5),i&2){let o;O(o=D())&&(r.filterGroups=o)}},features:[he([{provide:N,useClass:yd}])],decls:10,vars:3,consts:[["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterChanged","filterGroupItem"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(i,r){if(i&1&&(_(0,d1,4,1,"ng-template",null,0,V)(2,f1,4,2,"ng-template",null,1,V),a(4,"nui-panel")(5,"div",2)(6,"app-custom-data-source-filter-groups-wrapper"),_(7,h1,1,1,"app-custom-data-source-filter-group",3),l()(),a(8,"div"),_(9,_1,2,2,"div",4),l()()),i&2){let o=R(1);u(7),m("ngForOf",r.filterGroupItems),u(2),m("ngIf",r.hasItems())("ngIfElse",o)}},dependencies:[te,W,be,ht,Ed,Jr,Un],encapsulation:2})}}return t})();var wd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le,et,tt,xe]})}}return t})();var Dd=Y(mo()),Rd=Y(ti());var pc=Y(ti());var bd=Y(Ti());var v1=t=>({expander:t}),C1=t=>({checkbox:t});function S1(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function y1(t,n){t&1&&Se(0)}function E1(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function T1(t,n){t&1&&Se(0)}function I1(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,E1,5,2,"ng-template",null,1,V)(3,T1,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,C1,e))}}function x1(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function w1(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,S1,2,1,"ng-template",null,0,V)(5,y1,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,I1,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,x1,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,v1,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var qa=(()=>{class t{constructor(e){this.dialogService=e,this.filterChanged=new we,this.showAllButtonClicked=new we}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,bd.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(e){return e.map(i=>i.value)}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-custom-template-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,w1,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ge,Ie,ft,dt],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var F1=["*"];function O1(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function D1(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var Fd=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,pc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,pc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-custom-template-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,qa,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:F1,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,O1,4,5,"div",3),l(),_(3,D1,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,pe,mt],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function L1(t,n){if(t&1&&(a(0,"div",7),E(1,"nui-icon",8),a(2,"span",9),s(3),l()()),t&2){let e=n.checkbox;u(),m("icon",e.icon),u(2),F(e.displayValue)}}function M1(t,n){if(t&1&&(a(0,"span",9),s(1),l()),t&2){let e=g().expander;u(),F(e.count)}}function V1(t,n){if(t&1&&(a(0,"div",7)(1,"span",9)(2,"b"),s(3),l()(),_(4,M1,2,1,"span",10),l()),t&2){let e=n.expander;u(3),F(e.title),u(),m("ngIf",!e.expanded)}}function A1(t,n){t&1&&(a(0,"div",11),E(1,"nui-image",12),a(2,"p",13),s(3,"No data to show"),l()()),t&2&&(u(),m("isWatermark",!0))}function P1(t,n){if(t&1&&(a(0,"div"),s(1),l(),a(2,"div"),s(3),l()),t&2){let e=n.item;u(),F(e.color),u(2),F(e.status)}}function k1(t,n){if(t&1){let e=j();a(0,"app-custom-template-filter-group",14),b("filterChanged",function(r){S(e);let o=g();return y(o.changeFilters(r))}),l()}if(t&2){let e=n.$implicit;g();let i=R(1),r=R(3);m("filterGroupItem",e)("checkboxTemplateRef",i)("expanderTemplateRef",r)}}function N1(t,n){if(t&1&&(a(0,"div"),E(1,"nui-repeat",15),l()),t&2){let e=g(),i=R(7);u(),m("itemsSource",e.filteringState.repeat.itemsSource)("repeatItemTemplateRef",i)}}var G1=[{color:"regular-azure",status:"Critical"},{color:"regular-black",status:"Warning"},{color:"regular-blue",status:"Up"},{color:"regular-yellow",status:"Critical"},{color:"regular-yellow",status:"Warning"},{color:"regular-black",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Critical"}],Ld=(()=>{class t{constructor(e){this.dataSourceService=e,this.filterGroupItems=[{id:"color",title:"Color",count:4,allFilterOptions:[{icon:"copy",value:"azure",displayValue:"Azure"},{icon:"clock",value:"black",displayValue:"Black"},{icon:"status_up",value:"blue",displayValue:"Blue"},{icon:"signal-0",value:"yellow",displayValue:"Yellow"}],selectedFilterValues:["azure"]},{id:"status",title:"Status",count:3,allFilterOptions:[{icon:"status_warning",value:"warning",displayValue:"Warning"},{icon:"status_critical",value:"critical",displayValue:"Critical"},{icon:"status_up",value:"up",displayValue:"Up"}],selectedFilterValues:["critical"]}],this.filteringState={repeat:{itemsSource:[]},color:[],status:[]},this.dataSourceService.setData(G1)}ngAfterViewInit(){this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.filteringState=e,this.recalculateCounts(e)}),this.dataSourceService.applyFilters()}changeFilters(e){this.dataSourceService.applyFilters()}hasItems(){return!(0,Rd.default)((0,Dd.default)(this,"filteringState.repeat.itemsSource"))}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]})})}ngOnDestroy(){this.outputsSubscription&&this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-custom-template-filter-group-composite-example"]],features:[he([{provide:N,useClass:fi}])],decls:14,vars:3,consts:[["customCheckboxTemplate",""],["customExpanderTemplate",""],["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","checkboxTemplateRef","expanderTemplateRef","filterChanged",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","align-items-center"],[1,"mr-2",3,"icon"],[1,"mr-2"],["class","mr-2",4,"ngIf"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterChanged","filterGroupItem","checkboxTemplateRef","expanderTemplateRef"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(i,r){if(i&1&&(_(0,L1,4,2,"ng-template",null,0,V)(2,V1,5,2,"ng-template",null,1,V)(4,A1,4,1,"ng-template",null,2,V)(6,P1,4,2,"ng-template",null,3,V),a(8,"nui-panel")(9,"div",4)(10,"app-custom-template-filter-groups-wrapper"),_(11,k1,1,3,"app-custom-template-filter-group",5),l()(),a(12,"div"),_(13,N1,2,2,"div",6),l()()),i&2){let o=R(5);u(11),m("ngForOf",r.filterGroupItems),u(2),m("ngIf",r.hasItems())("ngIfElse",o)}},dependencies:[te,W,be,ht,Ir,Fd,qa,Un],encapsulation:2})}}return t})();var Md=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le,et,tt,xe]})}}return t})();var Wd=Y(mo()),Bd=Y(ti());function B1(t,n){if(t&1&&(a(0,"div"),s(1),l()),t&2){let e=n.item;u(),F(e.displayValue)}}var Vd=(()=>{class t{constructor(e){this.dataSource=e,this.selectedValues=[],this.selectionChanged=new we,this.selectionMode=yi.multi,this.selectedOptions=[]}ngOnInit(){this.dataSource.setData(this.itemPickerOptions),this.selectedOptions=this.getSelectedOptions()}onSelection(e){this.selectedOptions=e,this.selectionChanged.emit(e)}getSelectedOptions(){return this.itemPickerOptions.filter(e=>this.selectedValues.indexOf(e.value)!==-1)}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-item-picker-composite"]],inputs:{itemPickerOptions:"itemPickerOptions",selectedValues:"selectedValues"},outputs:{selectionChanged:"selectionChanged"},features:[he([{provide:N,useClass:fi}])],decls:6,vars:4,consts:[["listRepeatDefaultItemTemplate",""],[1,"app-item-picker-composite"],[1,"d-flex","flex-row"],[1,"app-list-repeat",3,"selectionChange","selectionMode","repeatItemTemplateRef","selection","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",1),_(1,B1,2,1,"ng-template",null,0,V),a(3,"div")(4,"div",2)(5,"nui-repeat",3),b("selectionChange",function(p){return S(o),y(r.onSelection(p))}),l()()()()}if(i&2){let o=R(2);u(5),m("selectionMode",r.selectionMode)("repeatItemTemplateRef",o)("selection",r.selectedOptions)("itemsSource",r.itemPickerOptions)}},dependencies:[be],styles:["[_nghost-%COMP%]   .app-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}"],changeDetection:0})}}return t})();var Ad=(()=>{class t{constructor(e,i){this.activeDialog=e,this.selectorService=i,this.itemPickerOptions=[],this.selectedValues=[],this.dialogClosed=new we}acceptDialogFilters(){this.dialogClosed.emit(this.selectedValues),this.closeDialog()}closeDialog(){this.activeDialog.close()}onSelectionChanged(e){this.selectedValues=e.map(i=>i.value)}static{this.\u0275fac=function(i){return new(i||t)(w(ki),w(Ni))}}static{this.\u0275cmp=M({type:t,selectors:[["nui-filter-group-composite-dialog"]],inputs:{title:"title",itemPickerOptions:"itemPickerOptions",selectedValues:"selectedValues"},outputs:{dialogClosed:"dialogClosed"},decls:9,vars:3,consts:()=>{let e;e=$localize`:bf844a41a29961b6dacc48a20eaf97bef0cf50137452095619502551190: Cancel `;let i;return i=$localize`:bb1b2fab23cc121dc5106c9c66251990755316163962319811711940221: Save `,[e,i,[1,"nui-filter-group-composite-dialog"],[3,"closed","title"],[1,"nui-filter-group-composite-dialog__body"],[3,"selectionChanged","itemPickerOptions","selectedValues"],["nui-button","","type","button",3,"click"],["nui-button","","type","button","displayStyle","primary",3,"click"]]},template:function(i,r){i&1&&(a(0,"div",2)(1,"nui-dialog-header",3),b("closed",function(){return r.closeDialog()}),l(),a(2,"div",4)(3,"app-item-picker-composite",5),b("selectionChanged",function(c){return r.onSelectionChanged(c)}),l()(),a(4,"nui-dialog-footer")(5,"button",6),b("click",function(){return r.closeDialog()}),U(6,0),l(),a(7,"button",7),b("click",function(){return r.acceptDialogFilters()}),U(8,1),l()()()),i&2&&(u(),m("title",r.title),u(2),m("itemPickerOptions",r.itemPickerOptions)("selectedValues",r.selectedValues))},dependencies:[Gi,Wi,wn,Vd],styles:[".nui-filter-group-composite-dialog__body[_ngcontent-%COMP%]{margin:10px 0}"]})}}return t})();var Pd=Y(Li()),kd=Y(Bi());var Xa=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,Pd.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,kd.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var uc=Y(ti());var Nd=Y(Ti());var H1=t=>({expander:t}),U1=t=>({checkbox:t});function Q1(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function z1(t,n){t&1&&Se(0)}function q1(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function X1(t,n){t&1&&Se(0)}function K1(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,q1,5,2,"ng-template",null,1,V)(3,X1,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,U1,e))}}function J1(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function Y1(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,Q1,2,1,"ng-template",null,0,V)(5,z1,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,K1,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,J1,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,H1,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Ka=(()=>{class t{constructor(e){this.dialogService=e,this.filterChanged=new we,this.showAllButtonClicked=new we}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,Nd.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(e){return e.map(i=>i.value)}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-dialog-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,Y1,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ge,Ie,ft,dt],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var eC=["*"];function tC(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function iC(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var Gd=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,uc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,uc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-dialog-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,Ka,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:eC,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,tC,4,5,"div",3),l(),_(3,iC,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,pe,mt],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function rC(t,n){t&1&&(a(0,"div",5),E(1,"nui-image",6),a(2,"p",7),s(3,"No data to show"),l()()),t&2&&(u(),m("isWatermark",!0))}function oC(t,n){if(t&1&&(a(0,"div"),s(1),l(),a(2,"div"),s(3),l()),t&2){let e=n.item;u(),F(e.color),u(2),F(e.status)}}function aC(t,n){if(t&1){let e=j();a(0,"app-dialog-filter-group",8),b("filterChanged",function(r){S(e);let o=g();return y(o.changeFilters(r))})("showAllButtonClicked",function(){let r=S(e).$implicit,o=g();return y(o.handleFilterDialog(r))}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function lC(t,n){if(t&1&&(a(0,"div"),E(1,"nui-repeat",9),l()),t&2){let e=g(),i=R(3);u(),m("itemsSource",e.filteringState.repeat.itemsSource)("repeatItemTemplateRef",i)}}var sC=[{color:"yellow",name:"banana"},{color:"orange",name:"orange"},{color:"violet",name:"plum"},{color:"blue",name:"blueberry"},{color:"brown",name:"potato"},{color:"red",name:"apple"},{color:"green",name:"pear"},{color:"black",name:"blackcurrant"},{color:"white",name:"coconut"},{color:"magenta",name:"mulberry"},{color:"apricot",name:"peach"},{color:"olive",name:"olive"},{color:"carmine",name:"grapefruit"},{color:"coral",name:"pomegranate"},{color:"corn",name:"corn"}],jd=(()=>{class t{constructor(e,i,r){this.dataSourceService=e,this.dialogService=i,this.filterGroupService=r,this.filterGroupItems=[{id:"color",title:"Color",expanded:!0,allFilterOptions:[{value:"yellow",displayValue:"Yellow",count:1},{value:"orange",displayValue:"Orange",count:1},{value:"violet",displayValue:"Violet",count:1},{value:"blue",displayValue:"Blue",count:1},{value:"brown",displayValue:"Brown",count:1},{value:"red",displayValue:"Red",count:1},{value:"green",displayValue:"Green",count:1},{value:"black",displayValue:"Black",count:1},{value:"white",displayValue:"White",count:1},{value:"magenta",displayValue:"Magenta",count:1},{value:"apricot",displayValue:"Apricot",count:1},{value:"olive",displayValue:"Olive",count:1},{value:"carmine",displayValue:"Carmine",count:1},{value:"coral",displayValue:"Coral",count:1},{value:"corn",displayValue:"Corn",count:1}],selectedFilterValues:[],itemsToDisplay:10},{id:"name",title:"Fruits and Vegetables",expanded:!1,allFilterOptions:[{value:"banana",displayValue:"Banana",count:1},{value:"orange",displayValue:"Orange",count:1},{value:"plum",displayValue:"Plum",count:1},{value:"blueberry",displayValue:"Blueberry",count:1},{value:"potato",displayValue:"Potato",count:1},{value:"apple",displayValue:"Apple",count:1},{value:"pear",displayValue:"Pear",count:1},{value:"blackcurrant",displayValue:"Blackcurrant",count:1},{value:"coconut",displayValue:"Coconut",count:1},{value:"mulberry",displayValue:"Mulberry",count:1},{value:"peach",displayValue:"Peach",count:1},{value:"olive",displayValue:"Olive",count:1},{value:"grapefruit",displayValue:"Grapefruit",count:1},{value:"pomegranate",displayValue:"Pomegranate",count:1},{value:"corn",displayValue:"Corn",count:1}],selectedFilterValues:[],itemsToDisplay:10}],this.filteringState={repeat:{itemsSource:[]},color:[],name:[]},this.dataSourceService.setData(sC)}ngAfterViewInit(){this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(e=>{this.filteringState=e,this.recalculateCounts(e)}),this.dataSourceService.applyFilters()}changeFilters(e){this.dataSourceService.applyFilters()}hasItems(){return!(0,Bd.default)((0,Wd.default)(this,"filteringState.repeat.itemsSource"))}handleFilterDialog(e){let i=this.dialogService.open(Ad);i.componentInstance.title="Filter dialog",i.componentInstance.itemPickerOptions=e.allFilterOptions,i.componentInstance.selectedValues=e.selectedFilterValues,this.dialogSubscription=i.componentInstance.dialogClosed.subscribe(r=>{e.selectedFilterValues=r,e=this.filterGroupService.appendHiddenFilters(e),this.dataSourceService.applyFilters()})}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]})})}ngOnDestroy(){this.outputsSubscription&&this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(nt),w(Xa))}}static{this.\u0275cmp=M({type:t,selectors:[["app-dialog-filter-group-composite-example"]],features:[he([{provide:N,useClass:fi}])],decls:10,vars:3,consts:[["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged","showAllButtonClicked",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterChanged","showAllButtonClicked","filterGroupItem"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(i,r){if(i&1&&(_(0,rC,4,1,"ng-template",null,0,V)(2,oC,4,2,"ng-template",null,1,V),a(4,"nui-panel")(5,"div",2)(6,"app-dialog-filter-groups-wrapper"),_(7,aC,1,1,"app-dialog-filter-group",3),l()(),a(8,"div"),_(9,lC,2,2,"div",4),l()()),i&2){let o=R(1);u(7),m("ngForOf",r.filterGroupItems),u(2),m("ngIf",r.hasItems())("ngIfElse",o)}},dependencies:[te,W,be,ht,Gd,Ka,Un],encapsulation:2})}}return t})();var $d=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le,Ot]})}}return t})();var Hd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[Xa],imports:[le,vt,Dt,jn,$d,xe,et,tt]})}}return t})();var pC=["*",[["","appendedText",""]]],uC=["*","[appendedText]"],ar=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["nui-schematic-docs-command"]],ngContentSelectors:uC,decls:5,vars:1,consts:[["type","info",3,"allowDismiss"]],template:function(i,r){i&1&&(ke(pC),a(0,"nui-message",0),s(1," This code has been generated using the following command: "),a(2,"code"),Ve(3),l(),Ve(4,1),l()),i&2&&m("allowDismiss",!1)},dependencies:[Hn],encapsulation:2})}}return t})();var Zd=Y(jh());var qd=Y(Nh()),Xd=Y(zd());var Kd=t=>({item:t});function _C(t,n){if(t&1&&(a(0,"div")(1,"nui-expander",4)(2,"nui-recursive-object-view",5),Se(3,6),l()()()),t&2){let e=g().$implicit,i=g();u(),m("header",e),u(),m("object",i.object[e])("objectTemplate",i.objectTemplate)("notObjectTemplate",i.notObjectTemplate),u(),m("ngTemplateOutlet",i.objectTemplate)("ngTemplateOutletContext",Te(6,Kd,i.object[e]))}}function gC(t,n){if(t&1&&Se(0,6),t&2){let e=g().$implicit,i=g();m("ngTemplateOutlet",i.notObjectTemplate)("ngTemplateOutletContext",Te(2,Kd,e))}}function vC(t,n){if(t&1&&(a(0,"div",2),_(1,_C,4,8,"div",3)(2,gC,1,4,"ng-template",null,0,V),l()),t&2){let e=n.$implicit,i=R(3),r=g();u(),m("ngIf",r.checkInstance(e))("ngIfElse",i)}}var Jd=(()=>{class t{ngOnInit(){this.orderOfKeys=(0,Xd.default)(Object.keys(this.object),e=>e.length)}checkInstance(e){return(0,qd.default)(this.object[e])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["nui-recursive-object-view"]],inputs:{object:"object",objectTemplate:"objectTemplate",notObjectTemplate:"notObjectTemplate"},decls:1,vars:1,consts:[["notObject",""],["class","ml-5",4,"ngFor","ngForOf"],[1,"ml-5"],[4,"ngIf","ngIfElse"],["icon","group",3,"header"],[3,"object","objectTemplate","notObjectTemplate"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&_(0,vC,4,2,"div",1),i&2&&m("ngForOf",r.orderOfKeys)},dependencies:[te,W,Ye,Ge,t],encapsulation:2})}}return t})();var SC=["*"];function yC(t,n){if(t&1&&(a(0,"div")(1,"nui-expander",13)(2,"nui-recursive-object-view",14),s(3),l()()()),t&2){let e=n.$implicit;g();let i=R(21),r=R(23);u(),m("header",e.key),u(),m("object",e.value)("objectTemplate",i)("notObjectTemplate",r),u(),B(" ",e.key," ")}}function EC(t,n){if(t&1&&E(0,"nui-example-code",15),t&2){let e=g();m("code",e.getSource(e.selectedFile))}}function TC(t,n){if(t&1&&(E(0,"nui-icon",16),s(1)),t&2){let e=n.item;u(),B(" ",e.key,`
`)}}function IC(t,n){if(t&1){let e=j();a(0,"button",17),b("click",function(){let r=S(e).item,o=g();return y(o.selectFile(r))}),s(1),l()}if(t&2){let e=n.item;u(),B(" ",e," ")}}var lr=(()=>{class t{get selectedFile(){return this._selectedFile}set selectedFile(e){this._selectedFile=e,this.shouldCodeRender=!1,setTimeout(()=>{this.shouldCodeRender=!0},100)}constructor(e){this.context=e,this.fileExtensionsRegex=/.*\.(ts|html|less)$/,this.rawData={}}ngOnInit(){this.componentSources=this.getSourcesByFilenamePrefix(this.exampleFolderName)}getSource(e){return this.rawData[e]??""}selectFile(e){this.selectedFile=e,this.selectedFileOpen=!0}isSelectedFileOpen(){return this.selectedFileOpen}onSelectedFileOpenChange(e){this.selectedFileOpen=e}getSourcesByFilenamePrefix(e){return this.context.files.map(r=>r.path).filter(r=>{let o=r.indexOf(e),c=o!==-1?r[o+e.length]:void 0;return o!==-1&&(c==="."||c==="/")}).reduce((r,o)=>{let c=this.getFileData(o),p=o.substr(o.indexOf(e)).split("/"),f=[];this.rawData[p[p.length-1]]=c;for(let d=p.length;d>0;d--){let h=p.shift();f.push(h)}return(0,Zd.default)(r,f,c)},{})}getFileData(e){return T(this,null,function*(){let i="";return this.fileExtensionsRegex.exec(e)&&(i=yield this.context.files.find(c=>c.path.includes(e))?.content(),e.split(".").pop()==="less"&&(i=i.replace(/@import \(reference\) "([\w-]+\/){0,}([\w-]+)(\.less)?"/g,'@import (reference) "@nova-ui/bits/sdk/less/$1$2"'))),i})}static{this.\u0275fac=function(i){return new(i||t)(w(Ko,12))}}static{this.\u0275cmp=M({type:t,selectors:[["nui-schematic-docs-example"]],inputs:{exampleFolderName:"exampleFolderName"},ngContentSelectors:SC,decls:24,vars:7,consts:[["objectTemplate",""],["notObjectTemplate",""],[1,"d-flex"],[1,"p-0","col-4","schematic-docs-example__files"],[1,"mt-4"],[4,"ngFor","ngForOf"],[1,"col-8"],[3,"openChange","disabled","open"],["nuiExpanderHeader",""],[1,"m-0"],[1,"schematic-docs-example__selected-file"],[1,"nui-source-inspector-code"],[3,"code",4,"ngIf"],["icon","group",3,"header"],[3,"object","objectTemplate","notObjectTemplate"],[3,"code"],["icon","xml-file"],["nui-button","","type","button","displayStyle","action","icon","xml-file",1,"mw-100",3,"click"]],template:function(i,r){if(i&1){let o=j();ke(),a(0,"div",2)(1,"div",3)(2,"h2",4),s(3,"Source files"),l(),_(4,yC,4,5,"div",5),q(5,"keyvalue"),l(),a(6,"div",6)(7,"h2",4),s(8,"Source code"),l(),a(9,"nui-expander",7),b("openChange",function(p){return S(o),y(r.onSelectedFileOpenChange(p))}),a(10,"div",8)(11,"h5",9),s(12," Selected file: "),a(13,"span",10),s(14),l()()(),a(15,"div",11),_(16,EC,1,1,"nui-example-code",12),l()()()(),a(17,"h2",4),s(18,"Example"),l(),Ve(19),_(20,TC,2,1,"ng-template",null,0,V)(22,IC,2,1,"ng-template",null,1,V)}i&2&&(u(4),m("ngForOf",De(5,5,r.componentSources)),u(5),m("disabled",!r.selectedFile)("open",r.isSelectedFileOpen()),u(5),F(r.selectedFile?r.selectedFile:"None"),u(2),m("ngIf",r.shouldCodeRender))},dependencies:[te,W,Ge,Ir,wr,wn,Jd,Ht],styles:[`.schematic-docs-example__files{overflow-x:auto}.schematic-docs-example__selected-file{font-weight:700}.nui-source-inspector-code{max-height:600px;overflow-y:auto}.nui-source-inspector-code .nui-example-code{min-width:fit-content}
`],encapsulation:2})}}return t})();var xC=Zc({"../../../../schematics/src/filter-group/schema.json":()=>import("./chunk-6DN6FMKB.js"),"../../../../schematics/src/filtered-view/schema.json":()=>import("./chunk-NDXC7LXR.js"),"../../../../schematics/src/layout/schema.json":()=>import("./chunk-FL7TIXMJ.js"),"../../../../schematics/src/list/schema.json":()=>import("./chunk-IAUKY3EM.js"),"../../../../schematics/src/ng-add/schema.json":()=>import("./chunk-2XOCAC7Y.js"),"../../../../schematics/src/ng-update/schema.json":()=>import("./chunk-GCKOILMP.js"),"../../../../schematics/src/table/schema.json":()=>import("./chunk-WGUOMGDL.js")});function wC(t,n){if(t&1&&(X(0),a(1,"div",7)(2,"i",8),s(3),l(),a(4,"span"),s(5),l()(),K()),t&2){let e=g().$implicit,i=g(2).$implicit;u(3),B("",e,": "),u(2),F(i.value[e])}}function bC(t,n){if(t&1&&(a(0,"div"),_(1,wC,6,2,"ng-container",6),l()),t&2){let e=n.$implicit,i=g(2).$implicit;u(),m("ngIf",i.value[e]!==void 0)}}function FC(t,n){if(t&1&&_(0,bC,2,1,"div",5),t&2){let e=g(2);m("ngForOf",e.fieldsToDisplay)}}function OC(t,n){if(t&1&&(a(0,"div",2)(1,"nui-popover",3)(2,"span",4),s(3),l()(),_(4,FC,1,1,"ng-template",null,0,V),l()),t&2){let e=n.$implicit,i=R(5);u(),m("template",i),u(2),F(e.key)}}var ef=(()=>{class t{constructor(){this.schemaViewData={},this.fieldsToDisplay=["description","type","enum","alias","default"]}ngOnInit(){return T(this,null,function*(){let e=yield xC(`../../../../schematics/src/${this.schematicFolderName}/schema.json`);this.fillViewData(e.properties)})}fillViewData(e){Object.keys(e).forEach(i=>{let{description:r,type:o,enum:c,default:p,alias:f}=e[i];this.schemaViewData[i]={description:r,type:o,enum:c&&c.join(", "),default:p,alias:f}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["nui-schematic-json"]],inputs:{schematicFolderName:"schematicFolderName"},decls:7,vars:3,consts:[["popoverWithBasicUsage",""],["class","d-inline-block p-2",4,"ngFor","ngForOf"],[1,"d-inline-block","p-2"],["placement","top",3,"template"],[1,"nui-text-default--hoverable"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"nui-text-default"],[2,"font-weight","bold"]],template:function(i,r){i&1&&(a(0,"div")(1,"code"),s(2,"Schema.json "),a(3,"b"),s(4,"options:"),l()()(),_(5,OC,6,2,"div",1),q(6,"keyvalue")),i&2&&(u(5),m("ngForOf",De(6,1,r.schemaViewData)))},dependencies:[te,W,pe,Ht],encapsulation:2})}}return t})();var RC=[[["","schematicSummary",""]],[["","schematicExamples",""]]],LC=["[schematicSummary]","[schematicExamples]"],sr=(()=>{class t{constructor(){this.angularJsonStylePreprocOptions=`
"stylePreprocessorOptions": {
    "includePaths": [
        "node_modules"
    ]
}`}ngOnInit(){this.schematicHeading=this.schematicFolderName.replace(/-/g," ")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["nui-schematic-docs-page"]],inputs:{schematicFolderName:"schematicFolderName"},ngContentSelectors:LC,decls:26,vars:9,consts:[[1,"nui-schematic-docs-page"],[1,"mt-4"],[3,"code"],[3,"schematicFolderName"],[1,"nui-schematic-docs-examples"]],template:function(i,r){i&1&&(ke(RC),a(0,"div",0)(1,"h1"),s(2),q(3,"titlecase"),l(),Ve(4),a(5,"h2",1),s(6,"API"),l(),a(7,"div")(8,"p"),s(9),q(10,"titlecase"),a(11,"code"),s(12),l()(),a(13,"p"),s(14," The schematic generates styles with a reference to files that are stored in "),a(15,"code"),s(16,"node_modules/@nova-ui/bits/sdk/less"),l(),s(17,". You can provide this path in your project's "),a(18,"code"),s(19,"angular.json"),l(),s(20," to make these references work: "),l(),a(21,"p"),E(22,"nui-example-code",2),l(),E(23,"nui-schematic-json",3),l(),a(24,"div",4),Ve(25,1),l()()),i&2&&(u(2),B("",De(3,5,r.schematicHeading)," Schematic"),u(7),B(" Use the following command to generate a ",De(10,7,r.schematicHeading),": "),u(3),B("ng g @nova-ui/bits:",r.schematicFolderName," --name=%name_of_component% --p=%prefix_for_component_selector%"),u(10),m("code",r.angularJsonStylePreprocOptions),u(),m("schematicFolderName",r.schematicFolderName))},dependencies:[wr,ef,pp],styles:[`.nui-schematic-docs-examples{margin-top:10px}
`],encapsulation:2})}}return t})();var tf=(()=>{class t{constructor(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["nui-filter-group-composite-basic"]],decls:210,vars:0,consts:[["schematicFolderName","filter-group"],["schematicExamples",""],["heading","Basic usage"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["target","_blank","href","../interfaces/IFilterGroupItem.html"],["target","_blank","href","../../../../../../nova-bits/develop/sdk/api-docs-ng2/injectables/ClientSideDataSource.html"],["target","_blank","href","../interfaces/IFilterGroupOption.html"],["exampleFolderName","basic-filter-group"],["heading","Custom template"],["appendedText",""],["exampleFolderName","custom-template-filter-group"],["heading","Custom data source"],["exampleFolderName","custom-data-source-filter-group"],["heading","Collapse / Dialog"],["target","_blank","href","../additional-documentation/schematics/list.html"],["exampleFolderName","dialog-filter-group"]],template:function(i,r){i&1&&(a(0,"nui-schematic-docs-page",0)(1,"nui-tab-group",1)(2,"nui-tab",2)(3,"h2"),s(4,"Basic Usage"),l(),a(5,"p"),s(6," Filter group depends heavily on the "),a(7,"a",3)(8,"code"),s(9,"ClientSideDataSource"),l()(),s(10," service, so first and foremost please check out the documentation for "),a(11,"a",3)(12,"code"),s(13,"ClientSideDataSource"),l()(),s(14,". "),l(),a(15,"p"),s(16," This example contains all the files generated by the CLI command. The schematic will output a feature module, a filter group composite and helper components: "),a(17,"code"),s(18,"filter-groups-wrapper"),l(),s(19,", "),a(20,"code"),s(21,"filter-group-dialog"),l(),s(22," and "),a(23,"code"),s(24,"item-picker"),l(),s(25,". Except for the wrapper, usage of these components may not be required by your implementation. "),l(),a(26,"p"),s(27," Once you have scaffolded your filter group, follow these steps to add it to your application: "),l(),a(28,"ol")(29,"li"),s(30," In your template, place your composite(s) inside the wrapper component. The wrapper will register your composites with "),a(31,"a",3)(32,"code"),s(33,"ClientSideDataSource"),l()(),s(34," as well as hide and display a popover over filter groups with no existing values. "),l(),a(35,"li"),s(36," Pass an "),a(37,"a",4)(38,"code"),s(39,"IFilterGroupItem"),l()(),s(40," object to each "),a(41,"code"),s(42,"[filterGroupItem]"),l(),s(43," input. "),l(),a(44,"li"),s(45," To receive new filtering state ("),a(46,"code"),s(47,"IFilteringOutputs"),l(),s(48,"), bind to the "),a(49,"code"),s(50,"(filterChanged)"),l(),s(51," output and invoke the "),a(52,"code"),s(53,"applyFilters"),l(),s(54," method of "),a(55,"a",5)(56,"code"),s(57,"ClientSideDataSource"),l(),s(58,". "),l()()(),a(59,"p")(60,"b"),s(61,"Note:"),l(),s(62," If you provide a value for the count property in "),a(63,"a",6)(64,"code"),s(65,"IFilterGroupOption"),l()(),s(66,", counts will be added to the checkbox template. To recalculate counts, you must implement a "),a(67,"code"),s(68,"recalculateCounts"),l(),s(69," method and call it upon receiving filteringState "),a(70,"code"),s(71,"IFilteringOutputs"),l(),s(72,". "),l(),a(73,"nui-schematic-docs-command"),s(74,"ng g @nova-ui/bits:filter-group --name=basic-filter-group --p=app"),l(),a(75,"nui-schematic-docs-example",7),E(76,"app-basic-filter-group-composite-example"),l()(),a(77,"nui-tab",8)(78,"h2"),s(79,"Custom Component Templates"),l(),a(80,"p"),s(81," To use a custom "),a(82,"strong"),s(83,"checkbox"),l(),s(84," or "),a(85,"strong"),s(86,"expander "),l(),a(87,"code"),s(88,"ng-template"),l(),s(89,", use the "),a(90,"code"),s(91,"[checkboxTemplateRef]"),l(),s(92," or "),a(93,"code"),s(94,"[expanderTemplateRef]"),l(),s(95," input of the filter group. "),l(),a(96,"p"),s(97," To pre-select filters, define "),a(98,"code"),s(99,"selectedFilterValues"),l(),s(100," for your "),a(101,"a",4)(102,"code"),s(103,"IFilterGroupItem"),l()(),s(104," objects. "),l(),a(105,"nui-schematic-docs-command"),s(106,"ng g @nova-ui/bits:filter-group --name=custom-template-filter-group --p=app "),a(107,"span",9),s(108,"with some manual adjustments that can be seen below"),l()(),a(109,"nui-schematic-docs-example",10),E(110,"app-custom-template-filter-group-composite-example"),l()(),a(111,"nui-tab",11)(112,"h2"),s(113,"Custom Data Source"),l(),a(114,"p"),s(115,"To use Filter Group with a custom data source:"),l(),a(116,"ol")(117,"li"),s(118," Create a custom data source service that extends "),a(119,"code"),s(120,"DataSourceService"),l(),s(121," and implements a method called "),a(122,"code"),s(123,"getFilteredData"),l(),s(124,". This method will communicate with an HTTP service to fetch filtered data and emit it back to the filter group. "),l(),a(125,"li"),s(126," Get a reference to your filter groups via "),a(127,"code"),s(128,"ViewChildren"),l(),s(129," and subscribe to their changes. In the callback, register components in your custom data service using the "),a(130,"code"),s(131,"registerComponent"),l(),s(132," method of"),a(133,"code"),s(134,"DataSourceService"),l(),s(135,". "),l(),a(136,"li"),s(137," On filter change, have the custom data source service emit filters ("),a(138,"code"),s(139,"IFilters"),l(),s(140,") to the http service and receive a filtered data object ("),a(141,"code"),s(142,"ICustomDSFilteredData"),l(),s(143,") in return. The filtered data object consists of filterGroupItems ("),a(144,"code"),s(145,"IFilterGroupItem[]"),l(),s(146,") and filteringState ("),a(147,"code"),s(148,"IFilteringOutputs"),l(),s(149,"). "),l()(),a(150,"p"),s(151," As implementations of the custom data source service may vary, other data may be passed from the filter group to the custom data source in order for the custom data source to apply filters and return filtered data. "),l(),a(152,"nui-schematic-docs-command"),s(153,"ng g @nova-ui/bits:filter-group --name=custom-data-source-filter-group --p=app "),a(154,"span",9),s(155,"with some manual adjustments that can be seen below"),l()(),a(156,"nui-schematic-docs-example",12),E(157,"app-custom-data-source-filter-group-composite-example")(158,"nui-fake-filtering-datasource-backend-component"),l()(),a(159,"nui-tab",13)(160,"h2"),s(161,"Handle Multiple Filter Group Options"),l(),a(162,"p"),s(163," Only 10 filter group options are displayed by default. You can change this number by setting the "),a(164,"code"),s(165,"itemsToDisplay"),l(),s(166," property of an "),a(167,"a",4)(168,"code"),s(169,"IFilterGroupItem"),l()(),s(170,". "),l(),a(171,"p"),s(172," The remaining options will be replaced with a "),a(173,"strong"),s(174,"Show all"),l(),s(175," button bound to the "),a(176,"code"),s(177,"(showAllButtonClicked)"),l(),s(178," output. To display the hidden options, you can use the "),a(179,"code"),s(180,"FilterGroupCompositeDialogComponent"),l(),s(181," generated by the schematic: "),l(),a(182,"ol")(183,"li"),s(184," Implement an item picker and place it in the dialog template. The example below uses a simple selectable list - to add more functionality, such as sorting and pagination, refer to the "),a(185,"a",14),s(186,"list schematic docs"),l(),s(187,". "),l(),a(188,"li"),s(189," Add your dialog component to your module's "),a(190,"code"),s(191,"entryComponents"),l(),s(192,". "),l(),a(193,"li"),s(194," Implement a handler for the "),a(195,"code"),s(196,"showAllButtonClicked"),l(),s(197," output. Use it to open the dialog, feed it the required parameters and update selection on "),a(198,"code"),s(199,"dialogClosed"),l(),s(200," event (refer to the "),a(201,"code"),s(202,"handleFilterDialog"),l(),s(203," method in the example). "),l()(),a(204,"nui-schematic-docs-command"),s(205,"ng g @nova-ui/bits:filter-group --name=dialog-filter-group --p=app "),a(206,"span",9),s(207,"with some manual adjustments that can be seen below"),l()(),a(208,"nui-schematic-docs-example",15),E(209,"app-dialog-filter-group-composite-example"),l()()()())},dependencies:[zn,Qn,Sd,pd,xd,Ld,jd,ar,lr,sr],encapsulation:2})}}return t})();var gc=Y(_n());var nf=Y(Ti());var MC=t=>({expander:t}),VC=t=>({checkbox:t});function AC(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function PC(t,n){t&1&&Se(0)}function kC(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function NC(t,n){t&1&&Se(0)}function GC(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,kC,5,2,"ng-template",null,1,V)(3,NC,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,VC,e))}}function WC(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function BC(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,AC,2,1,"ng-template",null,0,V)(5,PC,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,GC,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,WC,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,MC,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var Yr=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new we,this.showAllButtonClicked=new we,this.onDestroy$=new ue}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,nf.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-group-with-pagination"]],viewQuery:function(i,r){if(i&1&&k(Ie,5),i&2){let o;O(o=D())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,BC,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var hc=Y(cr());var rf="http://nova-pg.swdev.local/api/v1/servers",of=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return e.search?.value&&(r=r.set("searchField","name"),r=r.set("searchContent",e.search?.value??"")),e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}static getMultiFiltersNames(e){let i=[];return(0,hc.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,hc.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(rf,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let C=this.http.get(`${rf}/count`,{params:c});c=c.set("filters",p),o.push(C)});let f=(d,h)=>{let C=Object.keys(h)[0];return d[C]=Object.values(h)[0],d};return Si(o).pipe(Pe(300),Ce(([d,h,C])=>({items:d.items?.map(v=>({name:v.name,location:v.location,status:v.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:C.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var el=function(t){return t.active="Active",t.down="Down",t}(el||{});var _c=Y(ti());var $C=["*"];function HC(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function UC(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var af=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,_c.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,_c.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,Yr,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:$C,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,HC,4,5,"div",3),l(),_(3,UC,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,Ut,pe,mt],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var qC=()=>[10,20,30,40];function XC(t,n){t&1&&(X(0),a(1,"span"),U(2,1),l(),K())}function KC(t,n){if(t&1&&(a(0,"div",13),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.value," ")}}function JC(t,n){if(t&1&&(a(0,"div",10)(1,"div",11),_(2,KC,2,1,"div",12),q(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",De(3,1,e))}}var lf=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.listItems$=new pn([]),this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ne.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.isBusy=!1,this.totalItems=0,this.page=1,this.pageSize=20,this.itemConfig={trackBy:(r,o)=>o?.name},this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(ne(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),re(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(ne(e=>{this.listItems$.next(e.repeat?.itemsSource||[]),this.filteringState=e,this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-list-with-pagination-list"]],viewQuery:function(i,r){if(i&1&&(k(be,5),k(ge,5),k(ve,5),k(_t,5)),i&2){let o;O(o=D())&&(r.repeat=o.first),O(o=D())&&(r.paginator=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.sorter=o.first)}},decls:13,vars:16,consts:()=>{let e;e=$localize`:94516fa213706c67ce5a5b5765681d7fb032033a3894950702316166331:Loading...`;let i;return i=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[["listRepeatItemTemplate",""],i,["nui-busy","",3,"busy"],["size","large","message",e],[1,"d-flex","flex-row"],[1,"app-filtered-view-list-with-pagination-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-filtered-view-list-with-pagination-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-filtered-view-list-with-pagination-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-filtered-view-list-with-pagination-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",2),E(1,"nui-spinner",3),a(2,"div",4)(3,"nui-sorter",5),b("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(4,"nui-search",6),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(5,"div",4),_(6,XC,3,0,"ng-container",7),q(7,"async"),E(8,"nui-repeat",8),l(),a(9,"div",4)(10,"nui-paginator",9),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(11,JC,4,3,"ng-template",null,0,V)}if(i&2){let o=R(12);m("busy",r.isBusy),u(3),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",!r.isBusy&&De(7,13,r.listItems$).length===0),u(2),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(15,qC))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[te,W,ge,be,ve,_t,Cn,Sn,dn,Ht],styles:["[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var ZC=["child"];function eS(t,n){if(t&1){let e=j();a(0,"app-filter-group-with-pagination",9),b("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function tS(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=R(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),B("+",e.overflowCounter,"")}}function iS(t,n){if(t&1){let e=j();a(0,"nui-chips-overflow",13),b("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var nl=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:el.down,displayValue:"Down"},{value:el.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[it.bottomLeft,it.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,gc.default)(e.group.items||[],e.item):(0,gc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-list-with-pagination"]],viewQuery:function(i,r){if(i&1&&(k(pe,5),k(ZC,5),k(Yr,5)),i&2){let o;O(o=D())&&(r.popover=o.first),O(o=D())&&(r.child=o.first),O(o=D())&&(r.filterGroups=o)}},features:[he([{provide:N,useClass:of}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,eS,1,1,"app-filter-group-with-pagination",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),b("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,tS,5,3,"div",8),l(),_(9,iS,1,2,"ng-template",null,0,V),l(),E(11,"app-filtered-view-list-with-pagination-list",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[te,W,ht,af,Yr,zt,qt,pe,lf],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var sf=Y(Li()),cf=Y(Bi());var pf=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,sf.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,cf.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var uf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le]})}}return t})();var mf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[pf],imports:[le,tt,vt,At,et,xe,uf]})}}return t})();var df=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le,Nt,Gt,Ot,Wt,Bt,Dt,kt,mf,Xt,xe]})}}return t})();var yc=Y(_n());var ff=Y(Ti());var oS=t=>({expander:t}),aS=t=>({checkbox:t});function lS(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function sS(t,n){t&1&&Se(0)}function cS(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function pS(t,n){t&1&&Se(0)}function uS(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,cS,5,2,"ng-template",null,1,V)(3,pS,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,aS,e))}}function mS(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function dS(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,lS,2,1,"ng-template",null,0,V)(5,sS,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,uS,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,mS,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,oS,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var eo=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new we,this.showAllButtonClicked=new we,this.onDestroy$=new ue}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,ff.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-group-with-vs"]],viewQuery:function(i,r){if(i&1&&k(Ie,5),i&2){let o;O(o=D())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,dS,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var vc=Y(cr());var hf="http://nova-pg.swdev.local/api/v1/servers",_f=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(400)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return e.search?.value&&(r=r.set("searchField","name"),r=r.set("searchContent",e.search?.value??"")),e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}static getMultiFiltersNames(e){let i=[];return(0,vc.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,vc.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(hf,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let C=this.http.get(`${hf}/count`,{params:c});c=c.set("filters",p),o.push(C)});let f=(d,h)=>{let C=Object.keys(h)[0];return d[C]=Object.values(h)[0],d};return Si(o).pipe(Pe(300),Ce(([d,h,C])=>({items:d.items?.map(v=>({name:v.name,location:v.location,status:v.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:C.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var rl=function(t){return t.active="Active",t.down="Down",t}(rl||{});var Sc=Y(ti());var hS=["*"];function _S(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function gS(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var gf=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Sc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Sc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,eo,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:hS,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,_S,4,5,"div",3),l(),_(3,gS,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,Ut,pe,mt],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function CS(t,n){t&1&&(X(0),a(1,"span"),U(2,3),l(),K())}function SS(t,n){t&1&&(X(0),U(1,4),K())}function yS(t,n){t&1&&(a(0,"strong"),s(1,". All items loaded."),l())}function ES(t,n){if(t&1&&(a(0,"div",20),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.value," ")}}function TS(t,n){if(t&1&&(a(0,"div",17)(1,"div",18),_(2,ES,2,1,"div",19),q(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",De(3,1,e))}}var vf=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.changeDetection=i,this.viewportManager=r,this.listItems$=new pn([]),this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ne.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.isBusy=!1,this.totalItems=0,this.itemConfig={trackBy:(o,c)=>c?.name},this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.viewportManager},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.viewportManager.setViewport(this.repeat.viewportRef).observeNextPage$({pageSize:400}).pipe(un(()=>{let e=this.listItems$.getValue();return!e.length||e.length<this.totalItems}),ne(()=>T(this,null,function*(){return this.applyFilters(!1)})),mn(()=>this.dataSource.outputsSubject.pipe(ne(e=>{let i=e.repeat?.itemsSource||[];this.listItems$.next(this.listItems$.getValue().concat(i)),this.totalItems=e.paginator?.total||0,this.changeDetection.detectChanges()}))),re(this.destroy$)).subscribe(),this.search.focusChange.pipe(ne(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),re(this.destroy$)).subscribe()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.listItems$.next([]),this.changeDetection.detectChanges()),yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e),w(rt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-list-with-virtual-scroll-list"]],viewQuery:function(i,r){if(i&1&&(k(be,5),k(ve,5),k(_t,5)),i&2){let o;O(o=D())&&(r.repeat=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.sorter=o.first)}},decls:23,vars:23,consts:()=>{let e;e=$localize`:94516fa213706c67ce5a5b5765681d7fb032033a3894950702316166331:Loading...`;let i;i=$localize`:3a07f8fba6196a46238f9dc434e4aef50ebfa2ce9149438115644025735: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1:. `;let r;r=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`;let o;return o=$localize`:b12cc7551005a9787976bb8d2a161113feed479a9056616360897919297:, scroll down for more.`,[["endOfData",""],["listRepeatItemTemplate",""],i,r,o,["nui-busy","",3,"busy"],["size","large","message",e],[1,"d-flex","flex-row"],[1,"app-filtered-view-list-with-virtual-scroll-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-filtered-view-list-with-virtual-scroll-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-filtered-view-list-with-virtual-scroll-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource","virtualScroll","itemSize"],[1,"app-filtered-view-list-with-virtual-scroll-list-scrolling-footer"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],[4,"ngIf","ngIfElse"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",5),E(1,"nui-spinner",6),a(2,"div",7)(3,"nui-sorter",8),b("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(4,"nui-search",9),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(5,"div",7),_(6,CS,3,0,"ng-container",10),q(7,"async"),E(8,"nui-repeat",11),q(9,"async"),l(),a(10,"footer",12)(11,"div",13)(12,"div",14)(13,"div",15),U(14,2),q(15,"async"),l(),a(16,"div",15),_(17,SS,2,0,"ng-container",16),q(18,"async"),_(19,yS,2,0,"ng-template",null,0,V),l()()()()(),_(21,TS,4,3,"ng-template",null,1,V)}if(i&2){let o=R(20),c=R(22);m("busy",r.isBusy),u(3),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",!r.isBusy&&De(7,15,r.listItems$).length===0),u(2),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",c)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",De(9,17,r.listItems$))("virtualScroll",!0)("itemSize",30),u(7),lt(De(15,19,r.listItems$).length)(r.totalItems),st(14),u(2),m("ngIf",De(18,21,r.listItems$).length!==r.totalItems)("ngIfElse",o)}},dependencies:[te,W,be,ve,_t,Cn,Sn,dn,Ht],styles:["[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%;height:300px}[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}"],changeDetection:0})}}return t})();var xS=["child"];function wS(t,n){if(t&1){let e=j();a(0,"app-filter-group-with-vs",9),b("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function bS(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=R(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),B("+",e.overflowCounter,"")}}function FS(t,n){if(t&1){let e=j();a(0,"nui-chips-overflow",13),b("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var ol=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:rl.down,displayValue:"Down"},{value:rl.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[it.bottomLeft,it.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,yc.default)(e.group.items||[],e.item):(0,yc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-list-with-virtual-scroll"]],viewQuery:function(i,r){if(i&1&&(k(pe,5),k(xS,5),k(eo,5)),i&2){let o;O(o=D())&&(r.popover=o.first),O(o=D())&&(r.child=o.first),O(o=D())&&(r.filterGroups=o)}},features:[he([rt,{provide:N,useClass:_f}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,wS,1,1,"app-filter-group-with-vs",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),b("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,bS,5,3,"div",8),l(),_(9,FS,1,2,"ng-template",null,0,V),l(),E(11,"app-filtered-view-list-with-virtual-scroll-list",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[te,W,ht,gf,eo,zt,qt,pe,vf],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var Cf=Y(Li()),Sf=Y(Bi());var yf=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,Cf.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,Sf.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var Ef=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le]})}}return t})();var Tf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[yf],imports:[le,tt,vt,At,et,xe,Ef]})}}return t})();var If=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le,Nt,Gt,Ot,Wt,Bt,Dt,kt,Tf,Xt,xe]})}}return t})();var Tc=Y(_n());var xf=Y(Ti());var RS=t=>({expander:t}),LS=t=>({checkbox:t});function MS(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function VS(t,n){t&1&&Se(0)}function AS(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function PS(t,n){t&1&&Se(0)}function kS(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,AS,5,2,"ng-template",null,1,V)(3,PS,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,LS,e))}}function NS(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function GS(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,MS,2,1,"ng-template",null,0,V)(5,VS,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,kS,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,NS,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,RS,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var to=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new we,this.showAllButtonClicked=new we,this.onDestroy$=new ue}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,xf.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-group-with-table"]],viewQuery:function(i,r){if(i&1&&k(Ie,5),i&2){let o;O(o=D())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,GS,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Lt=function(t){return t.active="Active",t.down="Down",t}(Lt||{});var wf=20,al=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:Lt.active},{name:"Man-LT-ASD123",location:"Brno",status:Lt.down},{name:"Man-LT-DSA331",location:"Austin",status:Lt.active},{name:"Man-LT-JKS212",location:"Kyiv",status:Lt.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:Lt.down},{name:"Man-LT-433AAD",location:"Austin",status:Lt.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:Lt.active},{name:"Man-LT-GHJ882",location:"Brno",status:Lt.down},{name:"Man-LT-LLK001",location:"Austin",status:Lt.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:Lt.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:Lt.down},{name:"Man-LT-LKJF12",location:"Austin",status:Lt.down},{name:"Man-LT-882JJS",location:"Kyiv",status:Lt.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:Lt.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:Lt.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:Lt.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:Lt.active},{name:"Man-LT-RRF231",location:"Austin",status:Lt.down}];var Ec=Y(ti());var BS=["*"];function jS(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function $S(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var bf=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Ec.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Ec.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,to,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:BS,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,jS,4,5,"div",3),l(),_(3,$S,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,Ut,pe,mt],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var US=()=>[10,20,50,100];function QS(t,n){t&1&&(a(0,"th",13),U(1,0),l())}function zS(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function qS(t,n){t&1&&(a(0,"th",13),U(1,1),l())}function XS(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),F(e.location)}}function KS(t,n){t&1&&(a(0,"th",13),U(1,2),l())}function JS(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function YS(t,n){t&1&&E(0,"tr",15)}function ZS(t,n){t&1&&E(0,"tr",16)}var Ff=(()=>{class t{constructor(e){this.dataSource=e,this.items=[],this.totalItems=0,this.displayedColumns=["name","location","status"],this.page=1,this.pageSize=wf,this.destroy$=new ue,this.dataSource.setData(al)}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(ne(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-with-table-table"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(ge,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.paginator=o.first)}},decls:14,vars:9,consts:()=>{let e;e=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`;let i;i=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`;let r;return r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,[e,i,r,[1,"app-filtered-view-with-table-table__container"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""]]},template:function(i,r){i&1&&(a(0,"div",3)(1,"table",4),X(2,5),_(3,QS,2,0,"th",6)(4,zS,2,1,"td",7),K(),X(5,8),_(6,qS,2,0,"th",6)(7,XS,2,1,"td",7),K(),X(8,9),_(9,KS,2,0,"th",6)(10,JS,2,1,"td",7),K(),_(11,YS,1,0,"tr",10)(12,ZS,1,0,"tr",11),l()(),a(13,"nui-paginator",12),Je("pageChange",function(c){return Ke(r.page,c)||(r.page=c),c}),b("pagerAction",function(c){return r.changePagination(c)}),l()),i&2&&(u(),m("dataSource",r.items),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(8,US))("total",r.totalItems))},dependencies:[ge,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-with-table-table__container{overflow:auto}
`],encapsulation:2})}}return t})();var ty=["child"];function iy(t,n){if(t&1){let e=j();a(0,"app-filter-group-with-table",9),b("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function ny(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=R(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),B("+",e.overflowCounter,"")}}function ry(t,n){if(t&1){let e=j();a(0,"nui-chips-overflow",13),b("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var ll=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Lt.down,displayValue:"Down"},{value:Lt.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[it.bottomLeft,it.topLeft],this.dataSource.setData(al)}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,Tc.default)(e.group.items||[],e.item):(0,Tc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-with-table"]],viewQuery:function(i,r){if(i&1&&(k(pe,5),k(ty,5),k(to,5)),i&2){let o;O(o=D())&&(r.popover=o.first),O(o=D())&&(r.child=o.first),O(o=D())&&(r.filterGroups=o)}},features:[he([{provide:N,useClass:fi}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,iy,1,1,"app-filter-group-with-table",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),b("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,ny,5,3,"div",8),l(),_(9,ry,1,2,"ng-template",null,0,V),l(),E(11,"app-filtered-view-with-table-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[te,W,ht,bf,to,zt,qt,pe,Ff],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var wc=Y(_n());var Of=Y(Ti());var ay=t=>({expander:t}),ly=t=>({checkbox:t});function sy(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function cy(t,n){t&1&&Se(0)}function py(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function uy(t,n){t&1&&Se(0)}function my(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,py,5,2,"ng-template",null,1,V)(3,uy,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,ly,e))}}function dy(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function fy(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,sy,2,1,"ng-template",null,0,V)(5,cy,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,my,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,dy,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,ay,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var io=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new we,this.showAllButtonClicked=new we,this.onDestroy$=new ue}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,Of.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-group-with-tp"]],viewQuery:function(i,r){if(i&1&&k(Ie,5),i&2){let o;O(o=D())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,fy,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Ic=Y(cr());var Df="http://nova-pg.swdev.local/api/v1/servers",Rf=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return r}static getMultiFiltersNames(e){let i=[];return(0,Ic.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,Ic.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(Df,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let C=this.http.get(`${Df}/count`,{params:c});c=c.set("filters",p),o.push(C)});let f=(d,h)=>{let C=Object.keys(h)[0];return d[C]=Object.values(h)[0],d};return Si(o).pipe(Pe(300),Ce(([d,h,C])=>({items:d.items?.map(v=>({name:v.name,location:v.location,status:v.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:C.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var sl=function(t){return t.active="Active",t.down="Down",t}(sl||{});var xc=Y(ti());var _y=["*"];function gy(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function vy(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var Lf=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,xc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,xc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,io,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:_y,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,gy,4,5,"div",3),l(),_(3,vy,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,Ut,pe,mt],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var yy=()=>[10,20,50,100];function Ey(t,n){t&1&&(a(0,"th",17),U(1,1),l())}function Ty(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function Iy(t,n){t&1&&(a(0,"th",17),U(1,2),l())}function xy(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),F(e.location)}}function wy(t,n){t&1&&(a(0,"th",17),U(1,3),l())}function by(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function Fy(t,n){t&1&&E(0,"tr",19)}function Oy(t,n){t&1&&E(0,"tr",20)}function Dy(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",21),a(2,"div",22),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function Ry(t,n){if(t&1&&(a(0,"div",22)(1,"div",23)(2,"div",24),U(3,4),l()()()),t&2){let e=g();u(3),lt(e.items.length)(e.totalItems),st(3)}}var Mf=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.page=1,this.pageSize=20,this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(ne(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-table-with-pagination-table"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(ge,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.paginator=o.first)}},decls:18,vars:11,consts:()=>{let e;e=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`;let i;i=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;return o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"app-filtered-view-table-with-pagination-table__container"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-filtered-view-table-with-pagination-table-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",5)(1,"table",6),X(2,7),_(3,Ey,2,0,"th",8)(4,Ty,2,1,"td",9),K(),X(5,10),_(6,Iy,2,0,"th",8)(7,xy,2,1,"td",9),K(),X(8,11),_(9,wy,2,0,"th",8)(10,by,2,1,"td",9),K(),_(11,Fy,1,0,"tr",12)(12,Oy,1,0,"tr",13),l(),a(13,"footer",14),_(14,Dy,4,3,"div",15)(15,Ry,4,2,"ng-template",null,0,V),l()(),a(17,"nui-paginator",16),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=R(16);u(),m("dataSource",r.items),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(10,yy))("total",r.totalItems)}},dependencies:[W,ge,Pt,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-table-with-pagination-table__container{overflow:auto}.app-filtered-view-table-with-pagination-table-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var My=["child"];function Vy(t,n){if(t&1){let e=j();a(0,"app-filter-group-with-tp",9),b("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function Ay(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=R(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),B("+",e.overflowCounter,"")}}function Py(t,n){if(t&1){let e=j();a(0,"nui-chips-overflow",13),b("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var cl=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:sl.down,displayValue:"Down"},{value:sl.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[it.bottomLeft,it.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,wc.default)(e.group.items||[],e.item):(0,wc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-table-with-pagination"]],viewQuery:function(i,r){if(i&1&&(k(pe,5),k(My,5),k(io,5)),i&2){let o;O(o=D())&&(r.popover=o.first),O(o=D())&&(r.child=o.first),O(o=D())&&(r.filterGroups=o)}},features:[he([{provide:N,useClass:Rf}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,Vy,1,1,"app-filter-group-with-tp",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),b("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,Ay,5,3,"div",8),l(),_(9,Py,1,2,"ng-template",null,0,V),l(),E(11,"app-filtered-view-table-with-pagination-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[te,W,ht,Lf,io,zt,qt,pe,Mf],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var Dc=Y(_n());var Vf=Y(Ti());var Ny=t=>({expander:t}),Gy=t=>({checkbox:t});function Wy(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function By(t,n){t&1&&Se(0)}function jy(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function $y(t,n){t&1&&Se(0)}function Hy(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,jy,5,2,"ng-template",null,1,V)(3,$y,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,Gy,e))}}function Uy(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function Qy(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,Wy,2,1,"ng-template",null,0,V)(5,By,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,Hy,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,Uy,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,Ny,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var no=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new we,this.showAllButtonClicked=new we,this.onDestroy$=new ue}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,Vf.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-group-with-tvs"]],viewQuery:function(i,r){if(i&1&&k(Ie,5),i&2){let o;O(o=D())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,Qy,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var bc=Y(cr());var Af="http://nova-pg.swdev.local/api/v1/servers",Pf=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(400)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return r}static getMultiFiltersNames(e){let i=[];return(0,bc.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,bc.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(Af,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let C=this.http.get(`${Af}/count`,{params:c});c=c.set("filters",p),o.push(C)});let f=(d,h)=>{let C=Object.keys(h)[0];return d[C]=Object.values(h)[0],d};return Si(o).pipe(Pe(300),Ce(([d,h,C])=>({items:d.items?.map(v=>({name:v.name,location:v.location,status:v.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:C.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var pl=function(t){return t.active="Active",t.down="Down",t}(pl||{});var Oc=Y(ti());var qy=["*"];function Xy(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function Ky(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var kf=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Oc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Oc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,no,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:qy,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,Xy,4,5,"div",3),l(),_(3,Ky,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,Ut,pe,mt],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function Yy(t,n){t&1&&(a(0,"th",21),U(1,3),l()),t&2&&di("width",30,"%")}function Zy(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function eE(t,n){t&1&&(a(0,"th",21),U(1,4),l()),t&2&&di("width",30,"%")}function tE(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.location," ")}}function iE(t,n){t&1&&(a(0,"th",21),U(1,5),l())}function nE(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function rE(t,n){t&1&&E(0,"tr",23)}function oE(t,n){t&1&&E(0,"tr",24)}function aE(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",25),a(2,"div",26),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function lE(t,n){t&1&&(X(0),U(1,7),K())}function sE(t,n){t&1&&(a(0,"strong"),s(1,". All items loaded."),l())}function cE(t,n){if(t&1&&(a(0,"div",26)(1,"div",27)(2,"div",28),U(3,6),l(),a(4,"div",28),_(5,lE,2,0,"ng-container",20)(6,sE,2,0,"ng-template",null,2,V),l()()()),t&2){let e=R(7),i=g();u(3),lt(i.items.length)(i.totalItems),st(3),u(2),m("ngIf",i.items.length!==i.totalItems)("ngIfElse",e)}}var Nf=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.viewportManager=i,this.changeDetection=r,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.pageSize=400,this.rowHeight=40,this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.viewportManager}}),this.viewportManager.setViewport(this.viewport).observeNextPage$({pageSize:this.pageSize}).pipe(un(()=>!this.items.length||this.items.length<this.totalItems),ne(()=>T(this,null,function*(){return this.applyFilters(!1)})),mn(()=>this.dataSource.outputsSubject.pipe(ne(e=>{let i=e.repeat?.itemsSource||[];this.items=this.items.concat(i),this.totalItems=e.paginator?.total||0,this.changeDetection.detectChanges()}))),re(this.destroy$)).subscribe()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.items=[]),yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(rt),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-table-with-virtual-scroll-table"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(Qt,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.viewport=o.first)}},decls:20,vars:11,consts:()=>{let e;e=$localize`:1544348a6496c3dcf8e4905654cbb5f5fee191e61552568671699956057: Name `;let i;i=$localize`:e01692d26b709ceb10a22f9279fe604d79a26aaa212627037199736435: Location `;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `;let c;return c=$localize`:b12cc7551005a9787976bb8d2a161113feed479a9056616360897919297:, scroll down for more.`,[["viewportRef",""],["defaultText",""],["endOfData",""],e,i,r,o,c,[1,"app-filtered-view-table-with-virtual-scroll-table__container"],["tableStickyHeader","",1,"app-filtered-view-table-with-virtual-scroll-table-scrolling-container",3,"itemSize"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-filtered-view-table-with-virtual-scroll-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1&&(a(0,"div",8)(1,"cdk-virtual-scroll-viewport",9,0)(3,"table",10),q(4,"sliceRange"),X(5,11),_(6,Yy,2,2,"th",12)(7,Zy,2,1,"td",13),K(),X(8,14),_(9,eE,2,2,"th",12)(10,tE,2,1,"td",13),K(),X(11,15),_(12,iE,2,0,"th",16)(13,nE,2,1,"td",13),K(),_(14,rE,1,0,"tr",17)(15,oE,1,0,"ng-template",18),l()(),a(16,"footer",19),_(17,aE,4,3,"div",20)(18,cE,8,4,"ng-template",null,1,V),l()()),i&2){let o=R(2),c=R(19);u(),m("itemSize",r.rowHeight),u(2),m("dataSource",Ae(4,8,r.items,o.getRenderedRange())),u(11),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.items),u(2),m("ngIf",r.isBusy)("ngIfElse",c)}},dependencies:[fn,hn,Qt,W,Pt,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St,gn,vn],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-table-with-virtual-scroll-table__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-filtered-view-table-with-virtual-scroll-table-scrolling-container{height:300px}.app-filtered-view-table-with-virtual-scroll-table-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}
`],encapsulation:2})}}return t})();var uE=["child"];function mE(t,n){if(t&1){let e=j();a(0,"app-filter-group-with-tvs",9),b("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function dE(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=R(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),B("+",e.overflowCounter,"")}}function fE(t,n){if(t&1){let e=j();a(0,"nui-chips-overflow",13),b("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var fl=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:pl.down,displayValue:"Down"},{value:pl.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[it.bottomLeft,it.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,Dc.default)(e.group.items||[],e.item):(0,Dc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-table-with-virtual-scroll"]],viewQuery:function(i,r){if(i&1&&(k(pe,5),k(uE,5),k(no,5)),i&2){let o;O(o=D())&&(r.popover=o.first),O(o=D())&&(r.child=o.first),O(o=D())&&(r.filterGroups=o)}},features:[he([rt,{provide:N,useClass:Pf}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,mE,1,1,"app-filter-group-with-tvs",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),b("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,dE,5,3,"div",8),l(),_(9,fE,1,2,"ng-template",null,0,V),l(),E(11,"app-filtered-view-table-with-virtual-scroll-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[te,W,ht,kf,no,zt,qt,pe,Nf],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var Lc=Y(_n());var Gf=Y(Ti());var _E=t=>({expander:t}),gE=t=>({checkbox:t});function vE(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function CE(t,n){t&1&&Se(0)}function SE(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function yE(t,n){t&1&&Se(0)}function EE(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,SE,5,2,"ng-template",null,1,V)(3,yE,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,gE,e))}}function TE(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function IE(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,vE,2,1,"ng-template",null,0,V)(5,CE,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,EE,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,TE,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,_E,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var ro=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new we,this.showAllButtonClicked=new we,this.onDestroy$=new ue}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,Gf.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-group-with-list"]],viewQuery:function(i,r){if(i&1&&k(Ie,5),i&2){let o;O(o=D())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,IE,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Mt=function(t){return t.active="Active",t.down="Down",t}(Mt||{});var Wf=20,hl=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:Mt.active},{name:"Man-LT-ASD123",location:"Brno",status:Mt.down},{name:"Man-LT-DSA331",location:"Austin",status:Mt.active},{name:"Man-LT-JKS212",location:"Kyiv",status:Mt.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:Mt.down},{name:"Man-LT-433AAD",location:"Austin",status:Mt.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:Mt.active},{name:"Man-LT-GHJ882",location:"Brno",status:Mt.down},{name:"Man-LT-LLK001",location:"Austin",status:Mt.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:Mt.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:Mt.down},{name:"Man-LT-LKJF12",location:"Austin",status:Mt.down},{name:"Man-LT-882JJS",location:"Kyiv",status:Mt.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:Mt.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:Mt.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:Mt.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:Mt.active},{name:"Man-LT-RRF231",location:"Austin",status:Mt.down}];var Rc=Y(ti());var wE=["*"];function bE(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function FE(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var Bf=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Rc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Rc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,ro,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:wE,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,bE,4,5,"div",3),l(),_(3,FE,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,Ut,pe,mt],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var DE=()=>[10,20,30,40];function RE(t,n){t&1&&(X(0),a(1,"span"),U(2,1),l(),K())}function LE(t,n){if(t&1&&(a(0,"div",11),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.value," ")}}function ME(t,n){if(t&1&&(a(0,"div",8)(1,"div",9),_(2,LE,2,1,"div",10),q(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",De(3,1,e))}}var jf=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ne.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.totalItems=0,this.page=1,this.pageSize=Wf,this.itemConfig={trackBy:(r,o)=>o?.name},this.destroy$=new ue,this.dataSource.setData(hl)}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(ne(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),re(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(ne(e=>{this.filteringState=e,this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-with-list-list"]],viewQuery:function(i,r){if(i&1&&(k(be,5),k(ge,5),k(ve,5),k(_t,5)),i&2){let o;O(o=D())&&(r.repeat=o.first),O(o=D())&&(r.paginator=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.sorter=o.first)}},decls:11,vars:13,consts:()=>{let e;return e=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[["listRepeatItemTemplate",""],e,[1,"d-flex","flex-row"],[1,"app-filtered-view-with-list-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-filtered-view-with-list-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-filtered-view-with-list-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-filtered-view-with-list-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=j();a(0,"div")(1,"div",2)(2,"nui-sorter",3),b("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(3,"nui-search",4),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(4,"div",2),_(5,RE,3,0,"ng-container",5),E(6,"nui-repeat",6),l(),a(7,"div",2)(8,"nui-paginator",7),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(9,ME,4,3,"ng-template",null,0,V)}if(i&2){let o=R(10);u(2),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",(r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource.length)===0),u(),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(12,DE))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[te,W,ge,be,ve,_t,Ht],styles:["[_nghost-%COMP%]   .app-filtered-view-with-list-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-filtered-view-with-list-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var AE=["child"];function PE(t,n){if(t&1){let e=j();a(0,"app-filter-group-with-list",9),b("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function kE(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=R(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),B("+",e.overflowCounter,"")}}function NE(t,n){if(t&1){let e=j();a(0,"nui-chips-overflow",13),b("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var _l=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Mt.down,displayValue:"Down"},{value:Mt.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[it.bottomLeft,it.topLeft],this.dataSource.setData(hl)}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,Lc.default)(e.group.items||[],e.item):(0,Lc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-with-list"]],viewQuery:function(i,r){if(i&1&&(k(pe,5),k(AE,5),k(ro,5)),i&2){let o;O(o=D())&&(r.popover=o.first),O(o=D())&&(r.child=o.first),O(o=D())&&(r.filterGroups=o)}},features:[he([{provide:N,useClass:fi}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,PE,1,1,"app-filter-group-with-list",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),b("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,kE,5,3,"div",8),l(),_(9,NE,1,2,"ng-template",null,0,V),l(),E(11,"app-filtered-view-with-list-list",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[te,W,ht,Bf,ro,zt,qt,pe,jf],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var Vc=Y(_n());var $f=Y(Ti());var WE=t=>({expander:t}),BE=t=>({checkbox:t});function jE(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function $E(t,n){t&1&&Se(0)}function HE(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function UE(t,n){t&1&&Se(0)}function QE(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,HE,5,2,"ng-template",null,1,V)(3,UE,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,BE,e))}}function zE(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function qE(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,jE,2,1,"ng-template",null,0,V)(5,$E,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,QE,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,zE,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,WE,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var oo=(()=>{class t{constructor(e){this.dialogService=e,this.filterChanged=new we,this.showAllButtonClicked=new we,this.onDestroy$=new ue}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,$f.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-group-with-tree"]],viewQuery:function(i,r){if(i&1&&k(Ie,5),i&2){let o;O(o=D())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,qE,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Uf=Y(Wh()),Qf=Y(Hh());var Hf=["name","code","__typename"],zf=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.apollo=i}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>{let r=i.Subregion;return{tree:{itemsSource:this.buildTree(r)}}})))})}getBackendData(e){return this.apollo.query({query:this.generateQuery(e)}).pipe(Pe(300),Ce(r=>r.data),He(r=>(this.logger.error(r),Ee({}))))}generateQuery(e){let i="",r="",o="";e.language?.value.forEach(p=>i+=`{officialLanguages_some: {name: "${p}"}},`),e.currency?.value.forEach(p=>r+=`{currencies_some: {code: "${p}"}},`),e.subregion?.value.forEach(p=>o+=`{name: "${p}"},`);let c=`query {
          Subregion(filter: {AND: [{region: {name: "Americas"}}], ${o?"OR: ["+o+"]":""}}) {
            name,
            countries${i||r?"(filter: {AND: ["+i+r+"]})":""} {
              name,
              population,
              officialLanguages {
                name
              },
              currencies {
                code
              }
            }
          }
        }`;return rd`
            ${c}
        `}buildTree(e){let i=[];for(let r in e)if(e.hasOwnProperty(r)&&r!=="__typename"){let o=e[r],c={};(0,Uf.default)(o)?(c.name=`${r}`,c.children=this.buildTree(o)):(0,Qf.default)(o)?(c.name=o.name||o.code||`${r}`,Object.keys(o).filter(f=>!Hf.includes(f)).length&&(c.children=this.buildTree(o))):Hf.includes(r)||(c.name=`${r}`,c.children=[{name:o}]),Object.keys(c).length&&i.push(c)}return i}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(nd))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var Mc=Y(ti());var KE=["*"];function JE(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function YE(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var qf=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Mc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Mc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,oo,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:KE,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,JE,4,5,"div",3),l(),_(3,YE,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,Ut,pe,mt],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function eT(t,n){if(t&1&&(a(0,"cdk-nested-tree-node",4),E(1,"button",5),s(2),l()),t&2){let e=n.$implicit;u(2),B(" ",e.name," ")}}function tT(t,n){if(t&1&&(a(0,"cdk-nested-tree-node",6)(1,"div",7),E(2,"nui-icon",8),a(3,"span",9),s(4),l()(),a(5,"div",10),Se(6,11),l()()),t&2){let e=n.$implicit,i=g(2);u(2),Xo("icon",i.treeControl.isExpanded(e)?"triangle-down":"triangle-right"),u(2),F(e.name),u(),ap("nui-tree__body--collapsed",!i.treeControl.isExpanded(e)),m("@expandedState",i.treeControl.isExpanded(e)?"expanded":"collapsed")}}function iT(t,n){if(t&1&&(X(0),a(1,"cdk-tree",1),_(2,eT,3,1,"cdk-nested-tree-node",2)(3,tT,7,5,"cdk-nested-tree-node",3),l(),K()),t&2){let e=g();u(),m("dataSource",e.dataSourceTree)("treeControl",e.treeControl),u(2),m("cdkTreeNodeDefWhen",e.hasChild)}}var Xf=(()=>{class t{constructor(e,i){this.dataSource=e,this.cdRef=i,this.treeControl=new Rp(r=>r.children),this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.items=[],this.filteringState={},this.destroy$=new ue,this.hasChild=(r,o)=>!!o.children?.length}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.outputsSubject.pipe(ne(e=>{this.dataSourceTree=new hp(e.tree.itemsSource),this.cdRef.detectChanges()}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-tree"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"dataSource","treeControl"],["class","nui-tree__leaf",4,"cdkTreeNodeDef"],["class","nui-tree",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[1,"nui-tree__leaf"],["nui-button","","displayStyle","action","type","button","disabled",""],[1,"nui-tree"],["cdkTreeNodeToggle","",1,"nui-tree__header"],[1,"nui-tree__header-icon",3,"icon"],[1,"nui-tree__header-title"],[1,"nui-tree__body"],["cdkTreeNodeOutlet",""]],template:function(i,r){i&1&&_(0,iT,4,3,"ng-container",0),i&2&&m("ngIf",r.dataSourceTree)},dependencies:[W,Ir,wn,Ap,Mp,Pp,Vp,Lp],styles:["[_nghost-%COMP%]   .app-filtered-view-with-list-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-filtered-view-with-list-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}.nui-tree--expanded[_ngcontent-%COMP%]{padding-bottom:5px}.nui-tree__icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:flex;flex-shrink:0;height:30px;justify-content:center;width:30px;margin-left:-7px}.nui-tree__header[_ngcontent-%COMP%]{align-items:center;border-radius:3px;cursor:pointer;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.nui-tree__header[_ngcontent-%COMP%]:hover{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05))}.nui-tree__header-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;-ms-text-overflow:ellipsis;-o-text-overflow:ellipsis;text-overflow:ellipsis;line-height:18px;font-size:13px;font-weight:600;color:#111;color:var(--nui-color-text-default,#111)}.nui-tree__header-icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:flex;flex-shrink:0;height:30px;justify-content:center;width:30px}.nui-tree__header-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex-grow:2;justify-content:flex-start;padding-left:5px;min-width:0;padding-right:5px}.nui-tree__header-content-icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;flex-shrink:0;height:30px;justify-content:center;width:30px}.nui-tree__header-content--with-icon[_ngcontent-%COMP%]{padding-left:0}.nui-tree__header-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:2;min-width:0;width:100%}.nui-tree__header.nui-expander__header--empty.nui-expander__header[_ngcontent-%COMP%]{display:inline-flex}.nui-tree__header.nui-expander__header--empty[_ngcontent-%COMP%]   .nui-expander__header-content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.nui-tree__custom-header[_ngcontent-%COMP%]{width:100%}.nui-tree__custom-header--empty[_ngcontent-%COMP%]{display:flex;width:auto}.nui-tree__body[_ngcontent-%COMP%]{border:none;border-left:dotted 2px #d9d9d9;border-left:dotted 2px var(--nui-color-line-default, #d9d9d9);color:#111;color:var(--nui-color-text-default, #111);margin-left:14px;padding-left:14px}.nui-tree__body.hide-left-border[_ngcontent-%COMP%]{border-left:0}.nui-tree__body.ng-animating[_ngcontent-%COMP%], .nui-tree__body--collapsed[_ngcontent-%COMP%]{overflow:hidden}.nui-tree__leaf[_ngcontent-%COMP%]{display:flex;align-items:center}.nui-tree__invisible[_ngcontent-%COMP%]{display:none}"],data:{animation:[Ep]},changeDetection:0})}}return t})();var rT=["child"];function oT(t,n){if(t&1){let e=j();a(0,"app-filter-group-with-tree",9),b("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function aT(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=R(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),B("+",e.overflowCounter,"")}}function lT(t,n){if(t&1){let e=j();a(0,"nui-chips-overflow",13),b("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var gl=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"subregion",title:"Subregion",allFilterOptions:[{value:"Caribbean",displayValue:"Caribbean"},{value:"South America",displayValue:"South America"},{value:"Central America",displayValue:"Central America"},{value:"Northern America",displayValue:"Northern America"}],selectedFilterValues:[]},{id:"language",title:"Language",allFilterOptions:[{value:"English",displayValue:"English"},{value:"Dutch",displayValue:"Dutch"},{value:"French",displayValue:"French"},{value:"Spanish",displayValue:"Spanish"}],selectedFilterValues:[]},{id:"currency",title:"Currency",allFilterOptions:[{value:"USD",displayValue:"USD"},{value:"EUR",displayValue:"EUR"},{value:"CAD",displayValue:"CAD"},{value:"MXN",displayValue:"MXN"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[it.bottomLeft,it.topLeft]}ngAfterViewInit(){this.dataSource.applyFilters()}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,Vc.default)(e.group.items||[],e.item):(0,Vc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-with-tree"]],viewQuery:function(i,r){if(i&1&&(k(pe,5),k(rT,5),k(oo,5)),i&2){let o;O(o=D())&&(r.popover=o.first),O(o=D())&&(r.child=o.first),O(o=D())&&(r.filterGroups=o)}},features:[he([{provide:N,useClass:zf}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,oT,1,1,"app-filter-group-with-tree",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),b("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,aT,5,3,"div",8),l(),_(9,lT,1,2,"ng-template",null,0,V),l(),E(11,"app-filtered-view-tree",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[te,W,ht,qf,oo,zt,qt,pe,Xf],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var kc=Y(_n());var Kf=Y(Ti());var cT=t=>({expander:t}),pT=t=>({checkbox:t});function uT(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function mT(t,n){t&1&&Se(0)}function dT(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function fT(t,n){t&1&&Se(0)}function hT(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,dT,5,2,"ng-template",null,1,V)(3,fT,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,pT,e))}}function _T(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function gT(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,uT,2,1,"ng-template",null,0,V)(5,mT,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,hT,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,_T,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,cT,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var ao=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new we,this.showAllButtonClicked=new we,this.onDestroy$=new ue}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,Kf.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-group-with-selection"]],viewQuery:function(i,r){if(i&1&&k(Ie,5),i&2){let o;O(o=D())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,gT,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Ac=Y(cr());var Jf="http://nova-pg.swdev.local/api/v1/servers",Yf=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return e.search?.value&&(r=r.set("searchField","name"),r=r.set("searchContent",e.search?.value??"")),e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}static getMultiFiltersNames(e){let i=[];return(0,Ac.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,Ac.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(Jf,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let C=this.http.get(`${Jf}/count`,{params:c});c=c.set("filters",p),o.push(C)});let f=(d,h)=>{let C=Object.keys(h)[0];return d[C]=Object.values(h)[0],d};return Si(o).pipe(Pe(300),Ce(([d,h,C])=>({items:d.items?.map(v=>({name:v.name,location:v.location,status:v.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:C.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var vl=function(t){return t.active="Active",t.down="Down",t}(vl||{});var Pc=Y(ti());var CT=["*"];function ST(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function yT(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var Zf=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Pc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Pc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,ao,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:CT,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,ST,4,5,"div",3),l(),_(3,yT,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,Ut,pe,mt],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var IT=()=>[10,20,50,100];function xT(t,n){t&1&&(a(0,"th",21),U(1,1),l())}function wT(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function bT(t,n){t&1&&(a(0,"th",21),U(1,2),l())}function FT(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),F(e.location)}}function OT(t,n){t&1&&(a(0,"th",21),U(1,3),l())}function DT(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function RT(t,n){t&1&&E(0,"tr",23)}function LT(t,n){if(t&1&&E(0,"tr",24),t&2){let e=n.$implicit;m("rowObject",e)}}function MT(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",25),a(2,"div",26),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function VT(t,n){if(t&1&&(a(0,"div",26)(1,"div",27)(2,"div",28),U(3,4),l()()()),t&2){let e=g();u(3),lt(e.items.length)(e.totalItems),st(3)}}var e0=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ne.ascending},this.columnsToApplySearch=["name"],this.page=1,this.pageSize=20,this.selectedItems=[],this.selection={isAllPages:!1,include:["ABERN-SVR-ATQU9404"],exclude:[]},this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({search:{componentInstance:this.search},paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(ne(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),re(this.destroy$)).subscribe(),this.search.inputChange.pipe(Pi(500),ne(()=>T(this,null,function*(){return this.onSearch()})),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}onSelectionChanged(e){this.changeDetection.detectChanges()}trackBy(e,i){return i.name}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-table-with-selection-table"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(ve,5),k(ge,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.paginator=o.first)}},decls:26,vars:20,consts:()=>{let e;e=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`;let i;i=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;return o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"flex-row-container"],[1,"flex-independent-row-item"],[1,"app-filtered-view-table-with-selection-table__container"],[1,"app-filtered-view-table-with-selection-table-searchable__search"],[3,"search","cancel","value"],["nui-table","",3,"sortOrderChanged","selectionChange","dataSource","sortable","sortedColumn","selection","selectable","trackBy"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",3,"rowObject",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-filtered-view-table-with-selection-table-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row","",3,"rowObject"],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=j();a(0,"h2"),s(1,"Selection result"),l(),a(2,"div",5)(3,"span",6),s(4),q(5,"json"),l()(),a(6,"div",7)(7,"div",8)(8,"nui-search",9),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(9,"table",10),b("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),Je("selectionChange",function(p){return S(o),Ke(r.selection,p)||(r.selection=p),y(p)}),b("selectionChange",function(p){return S(o),y(r.onSelectionChanged(p))}),X(10,11),_(11,xT,2,0,"th",12)(12,wT,2,1,"td",13),K(),X(13,14),_(14,bT,2,0,"th",12)(15,FT,2,1,"td",13),K(),X(16,15),_(17,OT,2,0,"th",12)(18,DT,2,1,"td",13),K(),_(19,RT,1,0,"tr",16)(20,LT,1,1,"tr",17),l(),a(21,"footer",18),_(22,MT,4,3,"div",19)(23,VT,4,2,"ng-template",null,0,V),l()(),a(25,"nui-paginator",20),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=R(24);u(4),F(De(5,17,r.selection)),u(4),m("value",r.searchTerm),u(),m("dataSource",r.items)("sortable",!0)("sortedColumn",r.sortedColumn),Xe("selection",r.selection),m("selectable",!0)("trackBy",r.trackBy),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(19,IT))("total",r.totalItems)}},dependencies:[W,ge,Pt,ve,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St,Tr],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-table-with-selection-table__container{overflow:auto}.app-filtered-view-table-with-selection-table-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-filtered-view-table-with-selection-table-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var PT=["child"];function kT(t,n){if(t&1){let e=j();a(0,"app-filter-group-with-selection",9),b("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function NT(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=R(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),B("+",e.overflowCounter,"")}}function GT(t,n){if(t&1){let e=j();a(0,"nui-chips-overflow",13),b("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var Cl=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:vl.down,displayValue:"Down"},{value:vl.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[it.bottomLeft,it.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,kc.default)(e.group.items||[],e.item):(0,kc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-table-with-selection"]],viewQuery:function(i,r){if(i&1&&(k(pe,5),k(PT,5),k(ao,5)),i&2){let o;O(o=D())&&(r.popover=o.first),O(o=D())&&(r.child=o.first),O(o=D())&&(r.filterGroups=o)}},features:[he([{provide:N,useClass:Yf}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,kT,1,1,"app-filter-group-with-selection",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),b("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,NT,5,3,"div",8),l(),_(9,GT,1,2,"ng-template",null,0,V),l(),E(11,"app-filtered-view-table-with-selection-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[te,W,ht,Zf,ao,zt,qt,pe,e0],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var Wc=Y(_n());var t0=Y(Ti());var BT=t=>({expander:t}),jT=t=>({checkbox:t});function $T(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function HT(t,n){t&1&&Se(0)}function UT(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function QT(t,n){t&1&&Se(0)}function zT(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,UT,5,2,"ng-template",null,1,V)(3,QT,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,jT,e))}}function qT(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function XT(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,$T,2,1,"ng-template",null,0,V)(5,HT,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,zT,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,qT,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,BT,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var lo=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new we,this.showAllButtonClicked=new we,this.onDestroy$=new ue}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,t0.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-group-with-cvs"]],viewQuery:function(i,r){if(i&1&&k(Ie,5),i&2){let o;O(o=D())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,XT,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Nc=Y(cr());var Qo=400,Sl=new Bn("CUSTOM_SCROLL_ITEMS_PER_PAGE");var i0="http://nova-pg.swdev.local/api/v1/servers",n0=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(Qo)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return r}static getMultiFiltersNames(e){let i=[];return(0,Nc.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,Nc.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(i0,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let C=this.http.get(`${i0}/count`,{params:c});c=c.set("filters",p),o.push(C)});let f=(d,h)=>{let C=Object.keys(h)[0];return d[C]=Object.values(h)[0],d};return Si(o).pipe(Pe(300),Ce(([d,h,C])=>({items:d.items?.map(v=>({name:v.name,location:v.location,status:v.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:C.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var yl=function(t){return t.active="Active",t.down="Down",t}(yl||{});var Gc=Y(ti());var JT=["*"];function YT(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function ZT(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var r0=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,Gc.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,Gc.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,lo,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:JT,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,YT,4,5,"div",3),l(),_(3,ZT,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,Ut,pe,mt],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();var El=(()=>{class t{constructor(e){this.itemsPerPage=e,this.reset()}getFilters(){return{type:"virtualScroll",value:this.virtualScrollRange}}reset(){this.virtualScrollRange={start:0,end:this.itemsPerPage}}prepareNextPage(e){e<this.itemsPerPage||(this.virtualScrollRange.start+=this.itemsPerPage,this.virtualScrollRange.end=this.virtualScrollRange.start+this.itemsPerPage)}static{this.\u0275fac=function(i){return new(i||t)(de(Sl))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();function iI(t,n){t&1&&(a(0,"th",20),U(1,2),l()),t&2&&di("width",30,"%")}function nI(t,n){if(t&1&&(a(0,"td",21),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function rI(t,n){t&1&&(a(0,"th",20),U(1,3),l()),t&2&&di("width",30,"%")}function oI(t,n){if(t&1&&(a(0,"td",21),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.location," ")}}function aI(t,n){t&1&&(a(0,"th",20),U(1,4),l())}function lI(t,n){if(t&1&&(a(0,"td",21),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function sI(t,n){t&1&&E(0,"tr",22)}function cI(t,n){t&1&&E(0,"tr",23)}function pI(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",24),a(2,"div",25),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function uI(t,n){if(t&1){let e=j();a(0,"div",25)(1,"div",26)(2,"div",27),U(3,5),l(),a(4,"div",28)(5,"button",29),b("click",function(){S(e);let r=g();return y(r.applyFilters(!1))}),U(6,6),l()()()()}if(t&2){let e=g();u(3),lt(e.items.length),st(3),u(3),lt(e.pageSize),st(6)}}var o0=(()=>{class t{constructor(e,i,r,o){this.dataSource=e,this.viewportManager=i,this.customVirtualScrollStrategyService=r,this.changeDetection=o,this.items=[],this.isBusy=!1,this.displayedColumns=["name","location","status"],this.pageSize=Qo,this.rowHeight=40,this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.customVirtualScrollStrategyService}}),this.viewportManager.setViewport(this.viewport),this.dataSource.outputsSubject.pipe(ne(e=>{let i=e.repeat?.itemsSource||[],r=i.length,o=r<this.pageSize?this.previouslyLoadedCount-r:r;i=i.slice(0,o),this.previouslyLoadedCount=i.length,this.items=this.items.concat(i),this.customVirtualScrollStrategyService.prepareNextPage(r)}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.items=[],this.customVirtualScrollStrategyService.reset()),yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(rt),w(El),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-table-with-custom-virtual-scroll-table"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(Qt,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.viewport=o.first)}},features:[he([rt,El,{provide:Sl,useValue:Qo}])],decls:20,vars:11,consts:()=>{let e;e=$localize`:1544348a6496c3dcf8e4905654cbb5f5fee191e61552568671699956057: Name `;let i;i=$localize`:e01692d26b709ceb10a22f9279fe604d79a26aaa212627037199736435: Location `;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;o=$localize`:fd2c761c79d0b41a63c7f1ca71a99a1439f817904607040487655280131: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: item(s). `;let c;return c=$localize`:82b9a2e2e3f636942c16552ddad1266bc1eeee473980091347819066373: Load another ${"\uFFFD0\uFFFD"}:INTERPOLATION: items `,[["viewportRef",""],["defaultText",""],e,i,r,o,c,[1,"app-filtered-view-table-with-custom-virtual-scroll-table__container"],["tableStickyHeader","",1,"app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-container",3,"itemSize"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],[1,"d-flex","justify-content-center"],["btn","","nui-button","","type","button","size","default","displayStyle","action",3,"click"]]},template:function(i,r){if(i&1&&(a(0,"div",7)(1,"cdk-virtual-scroll-viewport",8,0)(3,"table",9),q(4,"sliceRange"),X(5,10),_(6,iI,2,2,"th",11)(7,nI,2,1,"td",12),K(),X(8,13),_(9,rI,2,2,"th",11)(10,oI,2,1,"td",12),K(),X(11,14),_(12,aI,2,0,"th",15)(13,lI,2,1,"td",12),K(),_(14,sI,1,0,"tr",16)(15,cI,1,0,"ng-template",17),l()(),a(16,"footer",18),_(17,pI,4,3,"div",19)(18,uI,7,2,"ng-template",null,1,V),l()()),i&2){let o=R(2),c=R(19);u(),m("itemSize",r.rowHeight),u(2),m("dataSource",Ae(4,8,r.items,o.getRenderedRange())),u(11),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.items),u(2),m("ngIf",r.isBusy)("ngIfElse",c)}},dependencies:[fn,hn,Qt,W,Pt,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St,gn,vn],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-table-with-custom-virtual-scroll-table__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-container{height:300px}.app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}
`],encapsulation:2})}}return t})();var dI=["child"];function fI(t,n){if(t&1){let e=j();a(0,"app-filter-group-with-cvs",9),b("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function hI(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=R(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),B("+",e.overflowCounter,"")}}function _I(t,n){if(t&1){let e=j();a(0,"nui-chips-overflow",13),b("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var Tl=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:yl.down,displayValue:"Down"},{value:yl.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[it.bottomLeft,it.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,Wc.default)(e.group.items||[],e.item):(0,Wc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-table-with-custom-virtual-scroll"]],viewQuery:function(i,r){if(i&1&&(k(pe,5),k(dI,5),k(lo,5)),i&2){let o;O(o=D())&&(r.popover=o.first),O(o=D())&&(r.child=o.first),O(o=D())&&(r.filterGroups=o)}},features:[he([rt,{provide:N,useClass:n0}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,fI,1,1,"app-filter-group-with-cvs",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),b("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,hI,5,3,"div",8),l(),_(9,_I,1,2,"ng-template",null,0,V),l(),E(11,"app-filtered-view-table-with-custom-virtual-scroll-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[te,W,ht,r0,lo,zt,qt,pe,o0],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var Hc=Y(_n());var a0=Y(Ti());var vI=t=>({expander:t}),CI=t=>({checkbox:t});function SI(t,n){if(t&1&&(a(0,"span",10),s(1),l()),t&2){let e=g(2);u(),F(e.filterGroupItem.title)}}function yI(t,n){t&1&&Se(0)}function EI(t,n){if(t&1&&(a(0,"div",12)(1,"span",13),s(2),l(),a(3,"span",14),s(4),l()()),t&2){let e=g().$implicit;u(2),F(e.displayValue),u(2),F(e.count)}}function TI(t,n){t&1&&Se(0)}function II(t,n){if(t&1&&(a(0,"nui-checkbox",11),_(1,EI,5,2,"ng-template",null,1,V)(3,TI,1,0,"ng-container",6),l()),t&2){let e=n.$implicit,i=R(2),r=g(2);m("value",e.value)("checked",r.isChecked(e.value)),u(3),m("ngTemplateOutlet",r.checkboxTemplateRef||i)("ngTemplateOutletContext",Te(4,CI,e))}}function xI(t,n){if(t&1){let e=j();a(0,"a",15),b("click",function(){S(e);let r=g(2);return y(r.showFilterDialog())}),s(1),l()}if(t&2){let e=g(2);u(),B(" Show all (",e.filterGroupItem.allFilterOptions.length,") ")}}function wI(t,n){if(t&1){let e=j();a(0,"div",3)(1,"nui-expander",4),b("openChange",function(r){S(e);let o=g();return y(o.onOpenChanged(r))}),a(2,"div",5),_(3,SI,2,1,"ng-template",null,0,V)(5,yI,1,0,"ng-container",6),l(),a(6,"nui-checkbox-group",7),b("valuesChange",function(r){S(e);let o=g();return y(o.onValueChanged(r))}),_(7,II,4,6,"nui-checkbox",8),q(8,"slice"),l(),_(9,xI,2,1,"a",9),l()()}if(t&2){let e=R(4),i=g();u(),m("open",i.filterGroupItem==null?null:i.filterGroupItem.expanded),u(4),m("ngTemplateOutlet",i.expanderTemplateRef||e)("ngTemplateOutletContext",Te(10,vI,i.filterGroupItem)),u(),m("values",i.filterGroupItem.selectedFilterValues),u(),m("ngForOf",ut(8,6,i.filterGroupItem.allFilterOptions,0,i.getDisplayedFiltersCount())),u(2),m("ngIf",(i.filterGroupItem==null||i.filterGroupItem.allFilterOptions==null?null:i.filterGroupItem.allFilterOptions.length)>i.getDisplayedFiltersCount())}}var so=(()=>{class t{constructor(e){this.dialogService=e,this.detectFilterChanges=!0,this.filterChanged=new we,this.showAllButtonClicked=new we,this.onDestroy$=new ue}ngOnInit(){this.filterGroupItem.allFilterOptions=(0,a0.default)(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(e){return this.filterGroupItem.selectedFilterValues.indexOf(e)>-1}onValueChanged(e){this.filterGroupItem.selectedFilterValues=e,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(e){this.filterGroupItem.expanded=e}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:!!this.filterGroupItem.expanded}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(e){let i=this.filterItems.find(r=>r.value===e);i&&this.deselectFilterItem(i)}deselectAllFilterItems(){this.filterItems.filter(e=>e.checked).forEach(e=>this.deselectFilterItem(e))}deselectFilterItem(e){e.inputViewContainer.element.nativeElement.checked=!1,e.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(e){return e.map(i=>i.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(w(nt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-group-with-tvss"]],viewQuery:function(i,r){if(i&1&&k(Ie,5),i&2){let o;O(o=D())&&(r.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["defaultExpander",""],["defaultCheckboxes",""],["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"openChange","open"],["nuiExpanderHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valuesChange","values"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(i,r){i&1&&_(0,wI,10,12,"div",2),i&2&&m("ngIf",r.hasFilterOptions())},dependencies:[te,W,Ye,Ie,ft,Ge,dt],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})}}return t})();var Bc=Y(cr());var l0="http://nova-pg.swdev.local/api/v1/servers",s0=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(400)),o=this.extractMultiFilters(e);if(o.size){let c=Array.from(o.entries()).reduce((p,[f,d])=>(p[f]=d,p),{});r=r.set("filters",JSON.stringify(c))}return r}static getMultiFiltersNames(e){let i=[];return(0,Bc.default)(e,(r,o)=>{r?.type==="string[]"&&i.push(o)}),i}static extractMultiFilters(e){let i=new Map;return(0,Bc.default)(e,(r,o)=>{r?.type==="string[]"&&r?.value?.length>0&&i.set(o,r?.value)}),i}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count},status:i.status,location:i.location}))))})}getBackendData(e){let i=t.getRequestParams(e),o=[this.http.get(l0,{params:i})],c=i;["page","pageSize","sortField","sortOrder"].forEach(d=>{c=c.delete(d)});let p=c.get("filters")??"{}";t.getMultiFiltersNames(e).forEach(d=>{let h=Object.assign({},JSON.parse(p));h[d]&&(delete h[d],c=c.set("filters",JSON.stringify(h))),c=c.set("groupByField",d.toString());let C=this.http.get(`${l0}/count`,{params:c});c=c.set("filters",p),o.push(C)});let f=(d,h)=>{let C=Object.keys(h)[0];return d[C]=Object.values(h)[0],d};return Si(o).pipe(Pe(300),Ce(([d,h,C])=>({items:d.items?.map(v=>({name:v.name,location:v.location,status:v.status}))||[],count:d.count,status:h.items?.reduce(f,{}),location:C.items?.reduce(f,{})})),He(d=>(this.logger.error(d),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var Il=function(t){return t.active="Active",t.down="Down",t}(Il||{});var $c=Y(ti());var FI=["*"];function OI(t,n){if(t&1&&(a(0,"div",4)(1,"nui-popover",5),s(2),q(3,"i18nPlural"),l()()),t&2){let e=g(),i=R(4);u(),m("template",i),u(),B(" ",Ae(3,2,e.emptyFilterGroupsCount(),e.i18nHiddenFiltersMapping)," ")}}function DI(t,n){if(t&1&&(a(0,"span",6),U(1,1),l(),E(2,"nui-divider",7),a(3,"span",8),s(4),l()),t&2){let e=g();u(4),F(e.emptyFilterGroupsTitles())}}var c0=(()=>{class t{constructor(e){this.dataSourceService=e,this.i18nHiddenFiltersMapping={"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(e=>(0,$c.default)(e.filterGroupItem.allFilterOptions)).map(e=>e.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(e=>(0,$c.default)(e.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((e,i)=>(e[i.filterGroupItem.id]={componentInstance:i},e),{})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(i,r,o){if(i&1&&ct(o,so,4),i&2){let c;O(c=D())&&(r.filterGroups=c)}},ngContentSelectors:FI,decls:5,vars:1,consts:()=>{let e;return e=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[["hiddenFiltersPopover",""],e,[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(i,r){i&1&&(ke(),a(0,"div",2),Ve(1),_(2,OI,4,5,"div",3),l(),_(3,DI,5,1,"ng-template",null,0,V)),i&2&&(u(2),m("ngIf",r.emptyFilterGroupsExist()))},dependencies:[W,Ut,pe,mt],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})}}return t})();function LI(t,n){t&1&&(a(0,"th",23),U(1,3),l()),t&2&&di("width",30,"%")}function MI(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function VI(t,n){t&1&&(a(0,"th",23),U(1,4),l()),t&2&&di("width",30,"%")}function AI(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.location," ")}}function PI(t,n){t&1&&(a(0,"th",23),U(1,5),l())}function kI(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function NI(t,n){t&1&&E(0,"tr",25)}function GI(t,n){if(t&1&&E(0,"tr",26),t&2){let e=n.$implicit;m("rowObject",e)}}function WI(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",27),a(2,"div",28),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function BI(t,n){t&1&&(X(0),U(1,7),K())}function jI(t,n){t&1&&(a(0,"strong"),s(1,". All items loaded."),l())}function $I(t,n){if(t&1&&(a(0,"div",28)(1,"div",29)(2,"div",30),U(3,6),l(),a(4,"div",30),_(5,BI,2,0,"ng-container",22)(6,jI,2,0,"ng-template",null,2,V),l()()()),t&2){let e=R(7),i=g();u(3),lt(i.items.length)(i.totalItems),st(3),u(2),m("ngIf",i.items.length!==i.totalItems)("ngIfElse",e)}}var p0=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.viewportManager=i,this.changeDetection=r,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.pageSize=400,this.selectedItems=[],this.selection={isAllPages:!1,include:["ABERN-SVR-ATQU9404"],exclude:[]},this.rowHeight=40,this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.viewportManager}}),this.viewportManager.setViewport(this.viewport).observeNextPage$({pageSize:this.pageSize}).pipe(un(()=>!this.items.length||this.items.length<this.totalItems),ne(()=>T(this,null,function*(){return this.applyFilters(!1)})),mn(()=>this.dataSource.outputsSubject.pipe(ne(e=>{let i=e.repeat?.itemsSource||[];this.items=this.items.concat(i),this.totalItems=e.paginator?.total||0,this.changeDetection.detectChanges()}))),re(this.destroy$)).subscribe()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSelectionChanged(e){this.changeDetection.detectChanges()}trackBy(e,i){return i.name}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.items=[]),yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(rt),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-table-with-virtual-scroll-selection-table"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(Qt,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.viewport=o.first)}},decls:26,vars:17,consts:()=>{let e;e=$localize`:1544348a6496c3dcf8e4905654cbb5f5fee191e61552568671699956057: Name `;let i;i=$localize`:e01692d26b709ceb10a22f9279fe604d79a26aaa212627037199736435: Location `;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `;let c;return c=$localize`:b12cc7551005a9787976bb8d2a161113feed479a9056616360897919297:, scroll down for more.`,[["viewportRef",""],["defaultText",""],["endOfData",""],e,i,r,o,c,[1,"flex-row-container"],[1,"flex-independent-row-item"],[1,"app-filtered-view-table-with-virtual-scroll-selection-table__container"],["tableStickyHeader","",1,"app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-container",3,"itemSize"],["nui-table","",3,"selectionChange","dataSource","selection","selectable","trackBy"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row","",3,"rowObject"],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=j();a(0,"h2"),s(1,"Selection result"),l(),a(2,"div",8)(3,"span",9),s(4),q(5,"json"),l()(),a(6,"div",10)(7,"cdk-virtual-scroll-viewport",11,0)(9,"table",12),q(10,"sliceRange"),Je("selectionChange",function(p){return S(o),Ke(r.selection,p)||(r.selection=p),y(p)}),b("selectionChange",function(p){return S(o),y(r.onSelectionChanged(p))}),X(11,13),_(12,LI,2,2,"th",14)(13,MI,2,1,"td",15),K(),X(14,16),_(15,VI,2,2,"th",14)(16,AI,2,1,"td",15),K(),X(17,17),_(18,PI,2,0,"th",18)(19,kI,2,1,"td",15),K(),_(20,NI,1,0,"tr",19)(21,GI,1,1,"ng-template",20),l()(),a(22,"footer",21),_(23,WI,4,3,"div",22)(24,$I,8,4,"ng-template",null,1,V),l()()}if(i&2){let o=R(8),c=R(25);u(4),F(De(5,12,r.selection)),u(3),m("itemSize",r.rowHeight),u(2),m("dataSource",Ae(10,14,r.items,o.getRenderedRange())),Xe("selection",r.selection),m("selectable",!0)("trackBy",r.trackBy),u(11),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.items),u(2),m("ngIf",r.isBusy)("ngIfElse",c)}},dependencies:[fn,hn,Qt,W,Pt,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St,gn,Tr,vn],styles:[`.icon-margin{margin-right:5px}.app-filtered-view-table-with-virtual-scroll-selection-table__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-container{height:300px}.app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}
`],encapsulation:2})}}return t})();var UI=["child"];function QI(t,n){if(t&1){let e=j();a(0,"app-filter-group-with-tvss",9),b("filterChanged",function(){S(e);let r=g();return y(r.applyFilters())}),l()}if(t&2){let e=n.$implicit;m("filterGroupItem",e)}}function zI(t,n){if(t&1&&(a(0,"div",10,2)(2,"nui-popover",11)(3,"a",12),s(4),l()()()),t&2){let e=g(),i=R(10);u(2),m("popoverOverlayPosition",e.overflowPopoverPosition)("template",i),u(2),B("+",e.overflowCounter,"")}}function qI(t,n){if(t&1){let e=j();a(0,"nui-chips-overflow",13),b("chipRemoved",function(r){S(e);let o=g();return y(o.onClear(r))}),l()}if(t&2){let e=g();m("overflowSource",e.overflowSource)("itemsSource",e.chipsDataSource)}}var xl=(()=>{class t{constructor(e,i){this.dataSource=e,this.cd=i,this.filterGroupItems=[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Il.down,displayValue:"Down"},{value:Il.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}],this.chipsDataSource={groupedItems:[],flatItems:[]},this.overflowPopoverPosition=[it.bottomLeft,it.topLeft]}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(e=>{this.recalculateCounts(e),this.cd.detectChanges()})}applyFilters(){return T(this,null,function*(){yield this.child.applyFilters(),this.updateChips()})}onChipsOverflow(e){this.overflowSource=e;let i=(r,o)=>r+o.items.length;this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce(i,0)||0),this.popover?.updatePosition()}onClear(e){return T(this,null,function*(){e.group?(0,Hc.default)(e.group.items||[],e.item):(0,Hc.default)(this.chipsDataSource.flatItems||[],e.item),this.filterGroups.find(r=>e.group?.id===r.filterGroupItem.id)?.deselectFilterItemByValue(e.item.label)})}onClearAll(e){this.chipsDataSource.groupedItems=[],this.popover?.onClick(e),this.filterGroups.forEach(i=>i.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(e=>({id:e.id,label:e.title,items:e.selectedFilterValues.map(i=>({label:i}))})),this.cd.markForCheck()}recalculateCounts(e){this.filterGroupItems.forEach(i=>{i.allFilterOptions.forEach(r=>{let o=e[i.id];r.count=o[r.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-filtered-view-table-with-virtual-scroll-selection"]],viewQuery:function(i,r){if(i&1&&(k(pe,5),k(UI,5),k(so,5)),i&2){let o;O(o=D())&&(r.popover=o.first),O(o=D())&&(r.child=o.first),O(o=D())&&(r.filterGroups=o)}},features:[he([rt,{provide:N,useClass:s0}])],decls:13,vars:4,consts:[["popoverWithClickTrigger",""],["child",""],["overflowCounterLabel",""],[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"chipRemoved","removeAll","chipsOverflowed","itemsSource","overflow"],["class","nui-chips-overflowed",4,"ngIf"],[3,"filterChanged","filterGroupItem"],[1,"nui-chips-overflowed"],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"chipRemoved","overflowSource","itemsSource"]],template:function(i,r){if(i&1){let o=j();a(0,"div",3)(1,"nui-panel")(2,"div",4)(3,"app-filter-groups-wrapper"),_(4,QI,1,1,"app-filter-group-with-tvss",5),l()(),a(5,"div",6)(6,"div")(7,"nui-chips",7),b("chipRemoved",function(p){return S(o),y(r.onClear(p))})("removeAll",function(p){return S(o),y(r.onClearAll(p))})("chipsOverflowed",function(p){return S(o),y(r.onChipsOverflow(p))}),_(8,zI,5,3,"div",8),l(),_(9,qI,1,2,"ng-template",null,0,V),l(),E(11,"app-filtered-view-table-with-virtual-scroll-selection-table",null,1),l()()()}i&2&&(u(4),m("ngForOf",r.filterGroupItems),u(3),m("itemsSource",r.chipsDataSource)("overflow",!0),u(),m("ngIf",r.overflowCounter>0))},dependencies:[te,W,ht,c0,so,zt,qt,pe,p0],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})}}return t})();var KI=["*"],u0=(t,n)=>[t,n],m0=(t,n)=>({tpl:t,types:n}),d0=t=>({type:t});function JI(t,n){t&1&&Se(0)}function YI(t,n){t&1&&(X(0),a(1,"p"),s(2," To give users the ability to select rows, do the following: "),l(),a(3,"ol")(4,"li"),s(5," Set the "),a(6,"code"),s(7,"selectable"),l(),s(8," input to "),a(9,"code"),s(10,"true"),l(),s(11,". "),l(),a(12,"li"),s(13," Bind a trackBy handler to the "),a(14,"code")(15,"a",10),s(16,"trackBy"),l()(),s(17," property inherited from "),a(18,"code")(19,"a",11),s(20,"CdkTable"),l()(),s(21,". The trackBy handler should return a value that uniquely identifies each item in the table. "),E(22,"br"),a(23,"strong"),s(24,"Note:"),l(),s(25," When "),a(26,"code"),s(27,"trackBy"),l(),s(28," is used, the "),a(29,"code")(30,"a",12),s(31,"ISelection"),l()(),s(32," will consist of the "),a(33,"code"),s(34,"trackBy"),l(),s(35," property values only and will not contain entire representations of the selected objects. As a result, it may be beneficial to keep a separate index that maps the selected item IDs to the corresponding objects. "),l(),a(36,"li"),s(37," Pass the row object to "),a(38,"code"),s(39,"nui-row"),l(),s(40," using the "),a(41,"code"),s(42,"rowObject"),l(),s(43," input. "),l(),a(44,"li"),s(45," Bind to the selection event using the "),a(46,"code"),s(47,"(selectionChange)"),l(),s(48," output. The event's payload is an "),a(49,"code")(50,"a",12),s(51,"ISelection"),l()(),s(52," object which should be converted to selected items by calling the "),a(53,"code"),s(54,"getSelectedItems"),l(),s(55," function on the "),a(56,"code")(57,"a",13),s(58,"SelectorService"),l()(),s(59,". "),l()(),a(60,"p")(61,"b"),s(62,"Note 1:"),l(),s(63,"To preselect rows in a table or to programmatically change the selection you can use the "),a(64,"code"),s(65,"selection"),l(),s(66," input which is of type "),a(67,"code")(68,"a",12),s(69,"ISelection"),l()(),s(70,". "),l(),a(71,"p")(72,"b"),s(73,"Note 2:"),l(),s(74," If you need to use "),a(75,"code"),s(76,"nui-paginator"),l(),s(77," with row selection, you need to pass the total number of items on all pages into the "),a(78,"code"),s(79,"totalItems"),l(),s(80," input. "),l(),a(81,"nui-message",14)(82,"p")(83,"strong"),s(84,"Important:"),l(),s(85," When working with data that's coming across the wire, it's necessary to bind a "),a(86,"code"),s(87,"trackBy"),l(),s(88," handler as mentioned above. This will allow selection tracking to be based on the identifier returned by the "),a(89,"code"),s(90,"trackBy"),l(),s(91," handler. If a "),a(92,"code"),s(93,"trackBy"),l(),s(94," is not provided, comparisons to determine whether items are selected will be based on object reference which of course won't work with items coming from a backend. "),l(),s(95,' Take a look at the source on the "Selection" tab example to see how. '),l(),K()),t&2&&(u(81),m("allowDismiss",!1))}function ZI(t,n){t&1&&(a(0,"li")(1,"nui-expander",15)(2,"p"),s(3," Enables single-selection with deselection not allowed. "),l()()()),t&2&&(u(),m("open",!1))}function ex(t,n){t&1&&(a(0,"li")(1,"nui-expander",16)(2,"p"),s(3," Enables single-selection with no radio buttons and deselection allowed. "),l()()()),t&2&&(u(),m("open",!1))}function tx(t,n){t&1&&(a(0,"li")(1,"nui-expander",17)(2,"p"),s(3," Enables single-selection with no radio buttons and deselection not allowed. "),l()()()),t&2&&(u(),m("open",!1))}function ix(t,n){t&1&&(a(0,"li")(1,"nui-expander",18)(2,"p"),s(3," Enables single-selection with deselection allowed. "),l()()()),t&2&&(u(),m("open",!1))}function nx(t,n){if(t&1&&(a(0,"ul")(1,"li")(2,"nui-expander",7)(3,"p"),s(4,"Table rows are not selectable."),l()()(),a(5,"li")(6,"nui-expander",8)(7,"p"),s(8),l(),_(9,YI,96,1,"ng-container",9),l()(),_(10,ZI,4,1,"li",9)(11,ex,4,1,"li",9)(12,tx,4,1,"li",9)(13,ix,4,1,"li",9),l()),t&2){let e=n.type,i=g(2);u(2),m("open",!1),u(4),m("open",!1),u(2),B(" This option enables the possibility to select one or more rows in the ",i.forComponent?i.forComponent:"component",". "),u(),m("ngIf",e===i.componentType.table),u(),m("ngIf",e===i.componentType.list),u(),m("ngIf",e===i.componentType.list),u(),m("ngIf",e===i.componentType.list),u(),m("ngIf",e===i.componentType.list)}}function rx(t,n){if(t&1&&(X(0),a(1,"p"),s(2," This string option allows you to select whether to enable selection and, if so, what type. Default is "),a(3,"code"),s(4,"none"),l(),s(5),l(),_(6,JI,1,0,"ng-container",6)(7,nx,14,8,"ng-template",null,1,V),K()),t&2){let e=R(8),i=g(),r=R(11);u(5),B(". The values currently supported for this option are listed",i.forComponent?"":" below for each type of component",": "),u(),m("ngTemplateOutlet",r)("ngTemplateOutletContext",uo(6,m0,e,uo(3,u0,i.componentType.list,i.componentType.table)))}}function ox(t,n){t&1&&Se(0)}function ax(t,n){if(t&1&&(X(0),a(1,"p"),s(2," The "),a(3,"code"),s(4,"nui-repeat"),l(),s(5," used inside this schematic allows you to manage the virtual viewport by exposing its "),a(6,"code"),s(7),l(),s(8," property which is an instance of "),a(9,"code")(10,"a",25),s(11,"CdkVirtualScrollViewport"),l()(),s(12,". The example below uses Nova's "),a(13,"code")(14,"a",26),s(15,"VirtualViewportManager"),l()(),s(16," to handle the viewport management duties via the "),a(17,"code"),s(18),l(),s(19," property. "),l(),K()),t&2){let e=g(3);u(7),F(e.getRepeatPropKey("viewportRef")),u(11),F(e.getRepeatPropKey("viewportRef"))}}function lx(t,n){t&1&&(X(0),s(1," The "),a(2,"code"),s(3,"nui-table"),l(),s(4," used inside this schematic API is using "),a(5,"a",27),s(6,"nui table virtual scroll directive"),l(),s(7,". It makes it possible to load items in chunks. The amount of items loaded per fetch can be configured by setting the "),a(8,"code"),s(9,"range"),l(),s(10," variable. "),a(11,"nui-message",14),s(12," The following examples use custom Nova "),a(13,"a",27),s(14,"TableVirtualScrollLinearDirective"),l(),s(15," to perform scrolling based on scrolling indexes within the virtual scroll viewport. Customers are free to create their own directive and\\or scrolling strategy if they want custom behavior. "),l(),a(16,"nui-message",14),s(17," There are some known "),a(18,"strong"),s(19,"technical limitations"),l(),s(20,":"),E(21,"br"),a(22,"ol")(23,"li"),s(24," Data for the table should be provided in a DataSource service "),l(),a(25,"li"),s(26," Each datasource should have a page counter, to enable items prefetching (in case the viewport size is larger that the chosen items per page selected) "),l(),a(27,"li")(28,"a",28),s(29,"Angular doesn't subport virtual scrolling over a list of items whose size is not known and needs to be measured"),l()(),a(30,"li"),s(31," When CDK Viewport is used in context of non-visible dom elements (eg: Tabs, Accordion) virtual scroll will not work properly. The solution is not do initiate the viewport until it is visible using *ngIf, *ngSwitch. "),l()()(),K()),t&2&&(u(11),m("allowDismiss",!1),u(5),m("allowDismiss",!1))}function sx(t,n){if(t&1&&(X(0),a(1,"p"),s(2," To make the scrolling working with "),a(3,"code"),s(4,"nui-table"),l(),s(5," start with declaring the following variables:"),E(6,"br")(7,"br"),l(),E(8,"nui-example-code",29)(9,"br"),a(10,"p"),s(11," Import "),a(12,"a",30),s(13,"VirtualViewportManager"),l(),s(14," (provides a mechanism for sequencing the rendered range stream emitted from the CDK Viewport into distinct page ranges):"),E(15,"br"),l(),E(16,"nui-example-code",29)(17,"br"),a(18,"p"),s(19," Provide VirtualViewportManager on a component level providers:"),E(20,"br"),l(),E(21,"nui-example-code",29)(22,"br"),a(23,"p"),s(24," Inject VirtualViewportManager type in the constructor:"),E(25,"br"),l(),E(26,"nui-example-code",29)(27,"br"),a(28,"p"),s(29," Use the Angular ViewChild decorator to get a reference to the scrolling viewport (CdkVirtualScrollViewport):"),E(30,"br"),l(),E(31,"nui-example-code",29)(32,"br"),a(33,"p"),s(34," Register the virtual scroll filter on dataSource: "),l(),E(35,"nui-example-code",29)(36,"br"),a(37,"p"),s(38," Optionally, subscribe to the "),a(39,"code"),s(40,"busy"),l(),s(41," state changes: "),l(),E(42,"nui-example-code",29)(43,"br"),a(44,"p"),s(45," Start setting up the "),a(46,"code"),s(47,"ngAfterViewInit()"),l(),s(48," lifecycle hook:"),E(49,"br"),l(),E(50,"nui-example-code",29)(51,"br"),s(52," Setting up the viewportManager listener and dataSource handler in the "),a(53,"code"),s(54,"ngAfterViewInit"),l(),s(55,": "),a(56,"ol")(57,"li"),s(58," Use the "),a(59,"strong"),s(60,"setViewport"),l(),s(61," method to initialize "),a(62,"code"),s(63,"VirtualViewportManager"),l(),s(64,". "),l(),a(65,"li"),s(66," Chain the "),a(67,"strong"),s(68,"observeNextPage$"),l(),s(69," method with the required parameters ("),a(70,"a",31),s(71,"IVirtualPageConfig)"),l(),s(72,". "),l(),a(73,"li")(74,"b")(75,"i"),s(76,"Optional"),l()(),s(77," You may like to ignore "),a(78,"code"),s(79,"VirtualViewportManager"),l(),s(80," emissions when the "),a(81,"code"),s(82,"totalItems"),l(),s(83," number is reached. To do this, you can use the RxJS "),a(84,"code"),s(85,"filter"),l(),s(86," operator as in example."),E(87,"br"),a(88,"b"),s(89,"Note:"),l(),a(90,"code"),s(91,"VirtualViewportManager"),l(),s(92," has its own mechanism of stopping when the length of the last received page is less than the page size requested. "),E(93,"br"),s(94," In the example, we use the "),a(95,"code"),s(96,"filter"),l(),s(97," operator to avoid making the additional requests when the dataset's last page has enough data. "),l(),a(98,"li"),s(99," Finally, call "),a(100,"code"),s(101,"datasource.applyFilters()"),l(),s(102," to trigger fetching of the data. "),l(),a(103,"li"),s(104," To avoid having two listeners (the next page observer and the data source's outputsSubject), we can combine them together into one stream "),E(105,"br"),s(106," with the RxJS "),a(107,"code"),s(108,"switchMap"),l(),s(109," operator. In the example, we map to an inner subscription which contains all new data related operations: "),E(110,"br"),a(111,"code"),s(112,"totalItems"),l(),s(113," update, assigning new data, and triggering the change detector. "),E(114,"br"),a(115,"b"),s(116,"Alternative"),l(),s(117,": You can subscribe to the "),a(118,"code"),s(119,"this.dataSource.outputsSubject"),l(),s(120,"code> in the ngOnInit method using the same RxJS pipe operators. "),l()(),E(121,"nui-example-code",29)(122,"br"),K()),t&2){let e=g(3);u(8),m("code",e.tableScrollingSetup.vars),u(8),m("code",e.tableScrollingSetup.viewportManagerImport),u(5),m("code",e.tableScrollingSetup.provideViewport),u(5),m("code",e.tableScrollingSetup.injectViewport),u(5),m("code",e.tableScrollingSetup.viewChildren),u(4),m("code",e.tableScrollingSetup.registerScroll),u(7),m("code",e.tableScrollingSetup.oninitSubscribeBusy),u(8),m("code",e.tableScrollingSetup.ngAfterViewInitStart),u(71),m("code",e.tableScrollingSetup.ngAfterViewInitViewport)}}function cx(t,n){if(t&1&&_(0,ax,20,2,"ng-container",9)(1,lx,32,2,"ng-container",9)(2,sx,123,9,"ng-container",9),t&2){let e=n.type,i=g(2);m("ngIf",e===i.componentType.list),u(),m("ngIf",e===i.componentType.table),u(),m("ngIf",e===i.componentType.table)}}function px(t,n){t&1&&(a(0,"li")(1,"strong"),s(2,"For "),a(3,"code"),s(4,"list"),l(),s(5,"'s only"),l(),s(6,": set the "),a(7,"code"),s(8,"itemSize"),l(),s(9," component input to a valid value. It's mandatory to have this input set as there is a technical limitation on the Angular side. If the input is omitted, you'll see this error message in the console output: "),a(10,"mark"),s(11,` "ERROR: To use virtual scroll feature please set correct value to the 'itemSize' input!" `),l()())}function ux(t,n){if(t&1&&(X(0),a(1,"p"),s(2," This string option allows you to select the paging mode of the data presentation. Default is "),a(3,"code"),s(4,"virtualScroll"),l(),s(5,". The values currently supported for this option are: "),l(),a(6,"ul")(7,"li")(8,"nui-expander",19)(9,"p"),s(10," This setting allows us to use "),a(11,"a",20),s(12,"CDK Virtual Scroll"),l(),s(13," by setting "),a(14,"code"),s(15,"pagingMode"),l(),s(16," to "),a(17,"code"),s(18,"virtualScroll"),l(),s(19,". "),l(),_(20,ox,1,0,"ng-container",6)(21,cx,3,3,"ng-template",null,2,V),a(23,"p"),s(24," Although the generated code of the schematic already takes care of basic setup steps, please make sure while customizing this feature for your own use case to do the following on the component: "),l(),a(25,"ol"),_(26,px,12,0,"li",9),a(27,"li"),s(28," Set the "),a(29,"code"),s(30,"height"),l(),s(31," of the component element (either through a css/less file or inline in the ng-container). This sets the viewport for the virtual scroll. If this action is omitted, the viewport will have a height of "),a(32,"code"),s(33,"0px"),l(),s(34," and no content will be visible on the page. "),l()(),a(35,"nui-message",14)(36,"ol")(37,"li"),s(38," If the user filters the results in some way, say with a search box, make sure to reset progress on the VirtualViewportManager before applying the filters. "),l(),a(39,"li"),s(40," Due to a "),a(41,"a",21),s(42,"known CDK issue"),l(),s(43,", make sure that the "),a(44,"code"),s(45,"nui-repeat"),l(),s(46," component hosting the virtual scroll is visible in order for the virtual scroll functionality to work properly. "),l()()()()(),a(47,"li")(48,"nui-expander",22),s(49," Data is displayed using standard pagination with a "),a(50,"code"),s(51,"nui-paginator"),l(),s(52," component. "),a(53,"p"),s(54,"To enable pagination, do the following:"),l(),a(55,"ol")(56,"li"),s(57," Provide a service that performs filtering (pagination is considered to be a form of filtering in Nova). There is a default service, "),a(58,"a",23)(59,"code"),s(60,"ClientSideDataSource"),l()(),s(61,", which provides default methods for working with filters. In case you need something special (such as filtering on a back-end or more complex sorting capability), you may extend this service and override its methods. "),l(),a(62,"li"),s(63," In your component's constructor, provide an initial dataset via the "),a(64,"code"),s(65,"setData"),l(),s(66," method of "),a(67,"a",23)(68,"code"),s(69,"ClientSideDataSource"),l()(),s(70,". "),l(),a(71,"li"),s(72," Get the paginator component via "),a(73,"code"),s(74,"@ViewChild"),l(),s(75,". "),l(),a(76,"li"),s(77," In your component's "),a(78,"code"),s(79,"ngAfterViewInit"),l(),s(80,", pass the paginator to the "),a(81,"code"),s(82,"componentTree"),l(),s(83," property of "),a(84,"code"),s(85,"ClientSideDataSource"),l(),s(86,". Then, invoke the "),a(87,"code"),s(88,"applyFilters"),l(),s(89," method of "),a(90,"a",23)(91,"code"),s(92,"ClientSideDataSource"),l()(),s(93,". And, lastly, subscribe to "),a(94,"code"),s(95,"outputsSubject"),l(),s(96," on "),a(97,"a",23)(98,"code"),s(99,"ClientSideDataSource"),l()(),s(100," which will return an "),a(101,"a",24)(102,"code"),s(103,"INovaFilteringOutputs"),l()(),s(104," object after each change in pagination. "),l(),a(105,"li"),s(106," In the "),a(107,"code"),s(108,"outputsSubject"),l(),s(109," subscription handler, overwrite your "),a(110,"code"),s(111,"dataSource"),l(),s(112," with the "),a(113,"code"),s(114,"itemsSource"),l(),s(115," you receive and pass the number of pages to the paginator's "),a(116,"code"),s(117,"total"),l(),s(118," input. "),l(),a(119,"li"),s(120," Bind to the paginator's "),a(121,"code"),s(122,"pagerAction"),l(),s(123," output, and invoke the "),a(124,"code"),s(125,"applyFilters"),l(),s(126," method of "),a(127,"a",23)(128,"code"),s(129,"ClientSideDataSource"),l()(),s(130," in the output handler. "),l(),a(131,"li"),s(132," Unsubscribe from the "),a(133,"code"),s(134,"outputsSubject"),l(),s(135," in your component's "),a(136,"code"),s(137,"ngOnDestroy"),l(),s(138," method. "),l()()()(),a(139,"li")(140,"nui-expander",7),s(141," All data is displayed at once. "),l()()(),K()),t&2){let e=R(22),i=g(),r=R(11);u(8),m("open",!1),u(12),m("ngTemplateOutlet",r)("ngTemplateOutletContext",uo(10,m0,e,uo(7,u0,i.componentType.list,i.componentType.table))),u(6),m("ngIf",i.for(i.componentType.list)),u(9),m("allowDismiss",!1),u(13),m("open",!1),u(92),m("open",!1)}}function mx(t,n){if(t&1&&(X(0),a(1,"p"),s(2),a(3,"code"),s(4,"serverSide"),l(),s(5,". The values currently supported for this option are: "),l(),a(6,"nui-expander",32),s(7," The generated data source will retrieve data remotely from a server side API, usually achieved by extending the "),a(8,"a",33)(9,"code"),s(10,"DataSourceService"),l()(),s(11," class. "),a(12,"nui-message",34),s(13," When this option is chosen, the schematic automatically generates a loading indicator ("),a(14,"code"),s(15,"nui-busy"),l(),s(16,") which is displayed as an overlay on the list during data retrieval. "),l()(),a(17,"nui-expander",35)(18,"p"),s(19," No data source will be generated, allowing you to create one from scratch. "),l()(),a(20,"nui-expander",36),s(21," Generated data source will retrieve data locally from a client side source, usually via the "),a(22,"a",23)(23,"code"),s(24,"ClientSideDataSource"),l()(),s(25," class. "),l(),a(26,"nui-expander",7),s(27," No data source will be generated and no data source related features such as sorting or search will be added to the generated code. "),l(),a(28,"div")(29,"p"),s(30," For additional information on how the data source setup is done please consult the paragraphs below: "),l(),a(31,"nui-expander",37)(32,"p"),s(33," Both local and remote setup are feasible for custom data sources, while the remote setup is feasible for the "),a(34,"code"),s(35,"serverSide"),l(),s(36," option. "),l(),a(37,"nui-expander",38)(38,"div")(39,"p"),s(40," To make component work with remote backend, it's advised to use the Nova "),a(41,"code"),s(42,"DataSourceService"),l(),s(43," which can be imported from "),a(44,"code"),s(45,'"@nova-ui/bits"'),l(),s(46,". "),l(),a(47,"p"),s(48," Create the "),a(49,"code"),s(50,"@Injectable"),l(),s(51," class that extends the data source service mentioned above. "),l(),E(52,"nui-example-code",29)(53,"br"),a(54,"p"),s(55," Define the following fields to work with the data source."),E(56,"br"),a(57,"mark")(58,"sup")(59,"strong"),s(60,"Hint!"),l()(),s(61," The list below is a required minimum. Feel free to define other fields required to work with your API. "),l()(),E(62,"br"),a(63,"code")(64,"b"),s(65,"url"),l()(),s(66," - This is where you store your API url. "),E(67,"br"),a(68,"code")(69,"b"),s(70,"cache"),l()(),s(71," - This is where you store the cached list data. Because we fetch the data in chunks, every time a user fetches a new chunk of data it is appended to that array immediately, and then the updated array is sent to the list."),E(72,"br"),a(73,"code")(74,"sup"),s(75,"(Optional)"),l(),a(76,"b"),s(77,"busy"),l()(),s(78," - This sets the busy state. The state is considered busy only when the data is being fetched, and it's used to display loading indicator components on the view while the data is being fetched. This is optional. "),a(79,"mark"),s(80,"Consult with your UX team about using busy state and busy components in your list "),l(),s(81," . "),E(82,"nui-example-code",29)(83,"br"),a(84,"p"),s(85," Create a method that will fetch the data and perhaps convert the response to an expected format. It should have two parameters, "),a(86,"code"),s(87,"start"),l(),s(88," and "),a(89,"code"),s(90,"end"),l(),s(91,", which are the current values of the scrolling indices within the scrolling viewport. The calculation "),a(92,"code"),s(93,"end - start"),l(),s(94," will give you the number of items to fetch. If your API supports returning data by page, the "),a(95,"code"),s(96,"page"),l(),s(97," variable will be useful in that case, but if not, use the "),a(98,"code"),s(99,"end"),l(),s(100," index as the starting point for the next chunk of data."),E(101,"br"),s(102," Next, prepare the URI to be fetched. It can, and probably will, vary by API implementation. Your goal here is to return the requested number of items. "),l(),E(103,"nui-example-code",29)(104,"br"),a(105,"p"),s(106," Afterwards, when you get the data back as a response, convert the returned dataset into the structure expected by the component. The received data will be concatenated with "),a(107,"code"),s(108,"this.cache"),l(),s(109,", so the dataset must be in the format expected by the list's "),a(110,"code"),s(111,"dataSource"),l(),s(112," input in order to render the items correctly. "),l(),E(113,"nui-example-code",29)(114,"br"),a(115,"p"),s(116," The next step will be to implement the "),a(117,"code"),s(118,"getFilteredData"),l(),s(119," method of the "),a(120,"code"),s(121,"DataSourceService"),l(),s(122,". This method is called whenever the "),a(123,"code"),s(124,"applyFilters"),l(),s(125," method of current data source is called in the code, so this is where data operations will be triggered. Optionally, notify the "),a(126,"code"),s(127,"busy"),l(),s(128,' observable to toggle the busy state to "on". Then, retrieve the '),a(129,"code"),s(130,"virtualScroll"),l(),s(131," from the available filters passed into the method as an argument. The "),a(132,"code"),s(133,"virtualScroll"),l(),s(134," filter is registered with the data source farther down in the code listing of the list implementation."),E(135,"br")(136,"br"),s(137," From the "),a(138,"code"),s(139,"virtualScroll"),l(),s(140," filter you can retrieve the "),a(141,"code"),s(142,"start"),l(),s(143," and "),a(144,"code"),s(145,"end"),l(),s(146," indices for the scrolling viewport. Use them to fetch to correct amount of data. Then, update the cache with the items you just got from the server, and return the data in the format that would contain AT LEAST the total number of items the API is able to return and the list's cached data. "),l(),E(147,"nui-example-code",29)(148,"br"),a(149,"p"),s(150," All data source preparation steps are finished at this point. "),l()()(),a(151,"nui-expander",39)(152,"p"),s(153," To make the component work with a local API it's advised to extend "),a(154,"a",23)(155,"code"),s(156,"ClientSideDataSource"),l()(),s(157," which can be imported from "),a(158,"code"),s(159,'"@nova-ui/bits"'),l(),s(160,". "),l()()()(),K()),t&2){let e=g();u(2),B(" This string option allows you to select the way data is retrieved for displaying in the ",e.forComponent?e.forComponent:"component",". Default is "),u(4),m("open",!1),u(6),m("allowDismiss",!1),u(5),m("open",!1),u(3),m("open",!1),u(6),m("open",!1),u(5),m("open",!1),u(6),m("open",!1),u(15),m("code",e.dataSourceSetup.extendDS),u(30),m("code",e.dataSourceSetup.defineFields),u(21),m("code",e.fetch),u(10),m("code",e.dataSourceSetup.getData),u(34),m("code",e.dataSourceSetup.getFilteredData),u(4),m("open",!1)}}function dx(t,n){t&1&&(X(0),a(1,"p"),s(2," This boolean option allows you to enable/disable search functionality. Default is "),a(3,"code"),s(4,"true"),l(),s(5,". "),l(),a(6,"p"),s(7," To subscribe to the search events, use search's "),a(8,"code"),s(9,"onSearch"),l(),s(10," or "),a(11,"code"),s(12,"inputChange"),l(),s(13," (and, if needed, "),a(14,"code"),s(15,"onSearchCancel"),l(),s(16,") hooks to invoke the "),a(17,"code"),s(18,"applyFilters"),l(),s(19," method of the "),a(20,"a",33)(21,"code"),s(22,"DataSourceService"),l()(),s(23," class in order to perform the actual search. "),l(),a(24,"nui-message",14)(25,"ol")(26,"li"),s(27," For remote data sources, which usually extend or use directly "),a(28,"a",40)(29,"code"),s(30,"ServerSideDataSource"),l()(),s(31,", if you want searches to be performed as the user types, it's advised to add a debounce to the filtering to avoid stressing out the backend API by using "),a(32,"code"),s(33,"pipe(debounceTime(Integer_Value))"),l(),s(34," between search subscriptions. "),l(),a(35,"li"),s(36," For local data sources, which usually extend or use directly "),a(37,"a",23)(38,"code"),s(39,"ClientSideDataSource"),l()(),s(40,", you can use the "),a(41,"code"),s(42,"setSearchProperties"),l(),s(43," method of "),a(44,"a",23)(45,"code"),s(46,"ClientSideDataSource"),l()(),s(47," to specify which columns the search should apply to; if not set, the search will be performed on all columns. "),l()()(),K()),t&2&&(u(24),m("allowDismiss",!1))}function fx(t,n){t&1&&(X(0),a(1,"p"),s(2,"To use sorting in a table you need to:"),l(),a(3,"ol")(4,"li"),s(5," Set "),a(6,"code"),s(7,'[sortable]="true"'),l(),s(8," on "),a(9,"code"),s(10,"nui-table"),l(),s(11,". "),l(),a(12,"li"),s(13,"Get table component via "),a(14,"code"),s(15,"@ViewChild"),l(),s(16,"."),l(),a(17,"li"),s(18," Set up the filtering component tree. To get table filtering components use "),a(19,"code"),s(20,"getFilterComponents()"),l(),s(21," function of table component. This will give filtering mechanism an ability to receive data for sorting at the moment you'll call "),a(22,"code"),s(23,"applyFilters"),l(),s(24," method of "),a(25,"a",23)(26,"code"),s(27,"ClientSideDataSource"),l()(),s(28,". "),l(),a(29,"li"),s(30," Set "),a(31,"code"),s(32,'[isColumnSortingDisabled]="true"'),l(),s(33," on the table-header-cell to prevent table from sorting by this property. "),l(),a(34,"li"),s(35," Subscribe to "),a(36,"code"),s(37,"outputsSubject"),l(),s(38," on "),a(39,"a",23)(40,"code"),s(41,"ClientSideDataSource"),l()(),s(42," which will return you "),a(43,"a",24)(44,"code"),s(45,"INovaFilteringOutputs"),l()(),s(46," object after each change of sorting. "),l(),a(47,"li"),s(48," In the "),a(49,"code"),s(50,"outputsSubject"),l(),s(51," subscription handler, overwrite your "),a(52,"code"),s(53,"dataSource"),l(),s(54," with the "),a(55,"code"),s(56,"itemsSource"),l(),s(57," you receive. "),l(),a(58,"li"),s(59," On "),a(60,"code"),s(61,"(sortOrderChanged)"),l(),s(62," event call "),a(63,"code"),s(64,"applyFilters"),l(),s(65," method of "),a(66,"a",23)(67,"code"),s(68,"ClientSideDataSource"),l()(),s(69,". "),a(70,"code"),s(71,"(sortOrderChanged)"),l(),s(72," event will emit you "),a(73,"a",41)(74,"code"),s(75,"ISortedItem"),l()(),s(76," object. "),l(),a(77,"li"),s(78," Unsubscribe from the "),a(79,"code"),s(80,"outputsSubject"),l(),s(81," in your component's "),a(82,"code"),s(83,"ngOnDestroy"),l(),s(84," method. "),l()(),a(85,"nui-message",34)(86,"ul")(87,"li"),s(88," If you need to apply a more complicated sorting algorithm, you can extend "),a(89,"code"),s(90,"ClientSideDataSource"),l(),s(91," and override its sorting methods. "),l(),a(92,"li"),s(93," If you need to sort some column by default (or programmatically), you can do that by passing "),a(94,"a",41)(95,"code"),s(96,"ISortedItem"),l()(),s(97," to "),a(98,"code"),s(99,"[sortingColumn]"),l(),s(100," input of the table. "),l()()(),K()),t&2&&(u(85),m("allowDismiss",!1))}function hx(t,n){if(t&1&&(X(0),a(1,"p"),s(2," This boolean option allows you to enable/disable sorting functionality. Default is "),a(3,"code"),s(4,"true"),l(),s(5,". "),l(),_(6,fx,101,1,"ng-container",9),K()),t&2){let e=g();u(6),m("ngIf",e.for(e.componentType.table))}}function _x(t,n){t&1&&(X(0),a(1,"p"),s(2," This boolean option allows you to enable/disable chips functionality. Default is "),a(3,"code"),s(4,"true"),l(),s(5,". "),l(),K())}function gx(t,n){t&1&&(X(0),Ve(1),K())}function vx(t,n){t&1&&Se(0)}function Cx(t,n){if(t&1&&(X(0),_(1,vx,1,0,"ng-container",6),K()),t&2){let e=g().tpl,i=g();u(),m("ngTemplateOutlet",e)("ngTemplateOutletContext",Te(2,d0,i.forComponent))}}function Sx(t,n){t&1&&Se(0)}function yx(t,n){if(t&1&&(a(0,"li")(1,"nui-expander",43),_(2,Sx,1,0,"ng-container",6),l()()),t&2){let e=n.$implicit,i=g(2).tpl;u(),Xo("header",e),m("open",!1),u(),m("ngTemplateOutlet",i)("ngTemplateOutletContext",Te(4,d0,e))}}function Ex(t,n){if(t&1&&(X(0),a(1,"ul"),_(2,yx,3,6,"li",42),l(),K()),t&2){let e=g().types;u(2),m("ngForOf",e)}}function Tx(t,n){if(t&1&&(X(0,3),_(1,Cx,2,4,"ng-container",5)(2,Ex,3,1,"ng-container",4),K()),t&2){let e=g();m("ngSwitch",e.forComponent?e.forComponent:"shared"),u(2),m("ngSwitchCase","shared")}}var Nn=function(t){return t.list="list",t.table="table",t}(Nn||{}),co=(()=>{class t{constructor(e){this.forComponent=e,this.componentType=Nn,this.fetch='fetchURI = "${this.url}/?page=${end / (end - start)}&results=${end - start}"',this.dataSourceSetup={extendDS:`@Injectable()
export class RandomuserTableDataSource extends DataSourceService<ITableModel> {
    constructor(private searchService: SearchService) {
        super();
    }
}`,defineFields:`private readonly url = "https://yourserver.com/api";
private cache = Array.from<ITableModel>({ length: 0 });
public busy = new BehaviorSubject(false);`,getData:`public async getData(start: number = 0, end: number= 20): Promise<INovaFilteringOutputs> {
    let response: IRandomuserResponse = null;
    try {
        response = await
                    (await fetch("this.fetchURI"))
                        .json();
                            return {
                                users: response.results.map((result: IRandomuserResults, i: number) => ({
                                    no: this.cache.length + i + 1,
                                    nameTitle: result.name.title,
                                    nameFirst: result.name.first,
                                    nameLast: result.name.last,
                                    gender: result.gender,
                                    country: result.location.country,
                                    city: result.location.city,
                                    postcode: result.location.postcode,
                                    email: result.email,
                                    cell: result.cell,
                                })),
                                total: response.results.length,
                                start: start,
                            } as UsersQueryResponse;
    } catch (e) {
        console.error("Error responding from server. Please visit https://https://randomuser.me/ to see if it's available");
    }
}`,getFilteredData:`public async getFilteredData(filters: INovaFilters): Promise<INovaFilteringOutputs> {
    this.busy.next(true);
    const virtualScrollFilter = filters.virtualScroll && filters.virtualScroll.value;
    const start = virtualScrollFilter ? filters.virtualScroll.value.start : 0;
    const end = virtualScrollFilter ? filters.virtualScroll.value.end : 0;

    this.getData(start, end).then((response: UsersQueryResponse) => {
        if (!response) { return; }

        this.cache = this.cache.concat(response.users);
        this.dataSubject.next(this.cache);
        this.busy.next(false);
    });

    return {
        repeat: {
            itemsSource: this.cache,
        },
        totalItems: 200,
    }
}`},this.tableScrollingSetup={vars:`
// will store the table data received from the server
public totalItems: number = 0;
public isBusy: boolean = false;

// number of items to be fetched for each request
public pageSize: number = 40;

private onDestroy$: Subject<void> = new Subject<void>();

// stores the cached table data dynamically changed after every request from the server
// this value is set to the dataSource input of the nui-table.
public items: IServer[] = [];

// define the array of columns for the table
// the table data from the datasource to the users var must come in the very same format.
public displayedColumns = ["name", "location", "status"];

// datasource that you inject, or instantiate in constructor
private dataSource: TableWithVirtualScrollDataSource;
`,viewportManagerImport:'import { VirtualViewportManager } from "@nova-ui/bits";',viewChildren:`
@ViewChild(CdkVirtualScrollViewport, { static: false }) viewport: CdkVirtualScrollViewport;
`,provideViewport:`
@Component({
    //
    providers: [VirtualViewportManager]
})
`,injectViewport:`
constructor(private viewportManager: VirtualViewportManager) {}
`,oninitSubscribeBusy:`
public ngOnInit(): void {
    this.dataSource.busy.subscribe(busy => {
        this._isBusy = busy;
    });
}`,registerScroll:`private registerVirtualScroll() {
    this.dataSource.registerComponent({
        virtualScroll: { componentInstance: this.viewportManager },
    });
 }`,ngAfterViewInitStart:`ngAfterViewInit(): void {
    this.registerVirtualScroll();
}`,ngAfterViewInitViewport:`this.viewportManager
    // Note: Initializing viewportManager with the repeat's CDK Viewport Ref
    .setViewport(this.viewport)
    // Note: Initializing the stream with the desired page size, based on which
    // VirtualViewportManager will perform the observations and will emit
    // distinct ranges with step equal to provided pageSize
    .observeNextPage$({pageSize: this.range}).pipe(
    // Note: In case we know the total number of items we can stop the stream when dataset end is reached
    // Otherwise we can let VirtualViewportManager to stop when last received page range will not match requested range
    filter(range => this.totalItems ? this.totalItems >= range.end : true),
    tap(() => this.dataSource.applyFilters()),
    // Note: Using the same stream to subscribe to the outputsSubject and update the items list
    switchMap(() => this.dataSource.outputsSubject.pipe(
        tap((outputs: IFilteringOutputs) => {
            this._totalItems = outputs.totalItems;
            this.users = outputs.repeat.itemsSource || [];
            this.cd.detectChanges();
        })
    )),
    takeUntil(this.onDestroy$)
).subscribe();
        `}}getRepeatPropKey(e){return e}for(e){return this.forComponent===e||!this.forComponent}static{this.\u0275fac=function(i){return new(i||t)(w(Nn,8))}}static{this.\u0275cmp=M({type:t,selectors:[["nui-schematic-cli-option"]],inputs:{name:"name"},ngContentSelectors:KI,decls:12,vars:8,consts:[["helpRenderer",""],["selectionModeTpl",""],["pagingModeVSTpl",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","none",3,"open"],["header","multi",3,"open"],[4,"ngIf"],["href","https://material.angular.io/cdk/table/overview#connecting-the-table-to-a-data-source","rel","noopener noreferrer","target","_blank"],["href","https://material.angular.io/cdk/table/overview","rel","noopener noreferrer","target","_blank"],["href","../interfaces/ISelection.html","target","_blank"],["href","../injectables/SelectorService.html","target","_blank"],["type","warning",3,"allowDismiss"],["header","radio",3,"open"],["header","single",3,"open"],["header","singleWithRequiredSelection",3,"open"],["header","radioWithNonRequiredSelection",3,"open"],["header","virtualScroll",3,"open"],["href","https://material.angular.io/cdk/scrolling/overview"],["href","https://github.com/angular/components/issues/13981","rel","noopener noreferrer","target","_blank"],["header","pagination",3,"open"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["target","_blank","href","../interfaces/INovaFilteringOutputs.html"],["href","https://material.angular.io/cdk/scrolling/api#CdkVirtualScrollViewport"],["href","/injectables/VirtualViewportManager.html"],["href","../directives/TableVirtualScrollLinearDirective.html#info"],["href","https://github.com/angular/components/issues/10113"],["language","typescript",3,"code"],["href","../injectables/VirtualViewportManager.html","target","_blank"],["href","../interfaces/IVirtualPageConfig.html"],["header","serverSide",3,"open"],["target","_blank","href","../injectables/DataSourceService.html"],["type","info",3,"allowDismiss"],["header","custom",3,"open"],["header","clientSide",3,"open"],["header","DataSource Setup",3,"open"],["header","Remote DataSource Setup",3,"open"],["header","Local DataSource Setup",3,"open"],["target","_blank","href","../injectables/ServerSideDataSource.html"],["target","_blank","href","../interfaces/ISortedItem.html"],[4,"ngFor","ngForOf"],[3,"open","header"]],template:function(i,r){i&1&&(ke(),a(0,"h5"),s(1),l(),a(2,"div",3),_(3,rx,9,9,"ng-container",4)(4,ux,142,13,"ng-container",4)(5,mx,161,14,"ng-container",4)(6,dx,48,1,"ng-container",4)(7,hx,7,1,"ng-container",4)(8,_x,6,0,"ng-container",4)(9,gx,2,0,"ng-container",5),l(),_(10,Tx,3,2,"ng-template",null,0,V)),i&2&&(u(),F(r.name),u(),m("ngSwitch",r.name),u(),m("ngSwitchCase","selectionMode"),u(),m("ngSwitchCase","pagingMode"),u(),m("ngSwitchCase","dataSource"),u(),m("ngSwitchCase","enableSearch"),u(),m("ngSwitchCase","enableSort"),u(),m("ngSwitchCase","chips"))},dependencies:[te,W,Ye,lp,sp,cp,Ge,Hn,wr],encapsulation:2})}}return t})();function Ix(t,n){t&1&&E(0,"app-filtered-view-table-with-virtual-scroll")}function xx(t,n){t&1&&E(0,"app-filtered-view-table-with-virtual-scroll-selection")}function wx(t,n){t&1&&E(0,"app-filtered-view-table-with-custom-virtual-scroll")}function bx(t,n){t&1&&E(0,"app-filtered-view-with-tree")}var f0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["schematics-docs-example"]],decls:115,vars:4,consts:[["vs",""],["vss",""],["cvs",""],["tree",""],["schematicFolderName","filtered-view"],["schematicSummary",""],["name","presentationType"],["name","selectionMode"],["name","pagingMode"],["name","dataSource"],["name","enableSearch"],["name","enableSort"],["name","chips"],["schematicExamples",""],["heading","List"],["exampleFolderName","filtered-view-with-list"],["heading","List with Pagination"],["exampleFolderName","filtered-view-list-with-pagination"],["heading","List with Virtual Scroll"],["exampleFolderName","filtered-view-list-with-virtual-scroll"],["heading","Table"],["exampleFolderName","filtered-view-with-table"],["heading","Table with Pagination"],["exampleFolderName","filtered-view-table-with-pagination"],["heading","Table with Selection"],["exampleFolderName","filtered-view-table-with-selection"],["heading","Table with Virtual Scroll"],["exampleFolderName","filtered-view-table-with-virtual-scroll"],[4,"ngIf"],["heading","Table with Virtual Scroll and Selection"],["exampleFolderName","filtered-view-table-with-virtual-scroll-selection"],["heading","Table with Custom Virtual Scroll"],["exampleFolderName","filtered-view-table-with-custom-virtual-scroll"],["heading","Tree"],["exampleFolderName","filtered-view-with-tree"]],template:function(i,r){if(i&1&&(a(0,"nui-schematic-docs-page",4)(1,"div",5)(2,"p"),s(3," The Filtered View schematic provides the ability to create a generic filtered view that can cover many use cases for filtering a set of data. Its main responsibility is to integrate a filter group panel with a list or table view that displays the filtered data. "),l(),a(4,"h2"),s(5,"Notable Command Line Options"),l(),a(6,"nui-schematic-cli-option",6)(7,"p"),s(8," This string option allows you to select how the filtered data will be presented to the user. The values currently supported for this option are "),a(9,"code"),s(10,"table"),l(),s(11," and "),a(12,"code"),s(13,"list"),l(),s(14,". The default value is "),a(15,"code"),s(16,"list"),l(),s(17,". "),l()(),E(18,"nui-schematic-cli-option",7)(19,"nui-schematic-cli-option",8)(20,"nui-schematic-cli-option",9)(21,"nui-schematic-cli-option",10)(22,"nui-schematic-cli-option",11)(23,"nui-schematic-cli-option",12),l(),a(24,"nui-tab-group",13)(25,"nui-tab",14)(26,"h2"),s(27,"Filtered View with List"),l(),a(28,"p"),s(29," This example shows the output of the CLI command without any modifications. "),l(),a(30,"nui-schematic-docs-command"),s(31,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-with-list --presentationType=list"),l(),a(32,"nui-schematic-docs-example",15),E(33,"app-filtered-view-with-list"),l()(),a(34,"nui-tab",16)(35,"h2"),s(36,"List with Pagination"),l(),a(37,"nui-schematic-docs-command"),s(38,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-list-with-pagination --presentationType=list --dataSource=serverSide "),a(39,"strong"),s(40,"--pagingMode=pagination"),l()(),a(41,"nui-schematic-docs-example",17),E(42,"app-filtered-view-list-with-pagination"),l()(),a(43,"nui-tab",18)(44,"h2"),s(45,"List with Virtual Scroll"),l(),a(46,"nui-schematic-docs-command"),s(47,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-virtual-scroll --presentationType=list --dataSource=serverSide "),a(48,"strong"),s(49,"--pagingMode=virtualScroll"),l()(),a(50,"nui-schematic-docs-example",19),E(51,"app-filtered-view-list-with-virtual-scroll"),l()(),a(52,"nui-tab",20)(53,"h2"),s(54,"Filtered View with Table"),l(),a(55,"p"),s(56,"This example shows the output of the CLI command shown below."),l(),a(57,"nui-schematic-docs-command"),s(58,"ng g @nova-ui/bits:filtered-view --name=filtered-view-with-table --p=app "),a(59,"strong"),s(60,"--presentationType=table"),l()(),a(61,"nui-schematic-docs-example",21),E(62,"app-filtered-view-with-table"),l()(),a(63,"nui-tab",22)(64,"h2"),s(65,"Table with Pagination"),l(),a(66,"nui-schematic-docs-command"),s(67,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-pagination --presentationType=table --dataSource=serverSide "),a(68,"strong"),s(69,"--pagingMode=pagination"),l()(),a(70,"nui-schematic-docs-example",23),E(71,"app-filtered-view-table-with-pagination"),l()(),a(72,"nui-tab",24)(73,"h2"),s(74,"Table with Selection"),l(),a(75,"nui-schematic-docs-command"),s(76,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-selection --presentationType=table --dataSource=serverSide --pagingMode=pagination "),l(),a(77,"nui-schematic-docs-example",25),E(78,"app-filtered-view-table-with-selection"),l()(),a(79,"nui-tab",26,0)(81,"h2"),s(82,"Table with Virtual Scroll"),l(),a(83,"nui-schematic-docs-command"),s(84,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-virtual-scroll --presentationType=table --dataSource=serverSide "),a(85,"strong"),s(86,"--pagingMode=virtualScroll"),l()(),a(87,"nui-schematic-docs-example",27),_(88,Ix,1,0,"app-filtered-view-table-with-virtual-scroll",28),l()(),a(89,"nui-tab",29,1)(91,"h2"),s(92,"Table with Virtual Scroll and Selection"),l(),a(93,"nui-schematic-docs-command"),s(94,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-virtual-scroll --presentationType=table --dataSource=serverSide "),a(95,"strong"),s(96,"--pagingMode=virtualScroll"),l()(),a(97,"nui-schematic-docs-example",30),_(98,xx,1,0,"app-filtered-view-table-with-virtual-scroll-selection",28),l()(),a(99,"nui-tab",31,2)(101,"h2"),s(102,"Table with Custom Virtual Scroll"),l(),a(103,"nui-schematic-docs-command"),s(104,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-virtual-scroll --presentationType=table --dataSource=serverSide "),a(105,"strong"),s(106,"--pagingMode=virtualScroll --virtualScrollStrategy=custom"),l()(),a(107,"nui-schematic-docs-example",32),_(108,wx,1,0,"app-filtered-view-table-with-custom-virtual-scroll",28),l()(),a(109,"nui-tab",33,3)(111,"h2"),s(112,"Tree"),l(),a(113,"nui-schematic-docs-example",34),_(114,bx,1,0,"app-filtered-view-with-tree",28),l()()()()),i&2){let o=R(80),c=R(90),p=R(100),f=R(110);u(88),m("ngIf",o.active),u(10),m("ngIf",c.active),u(10),m("ngIf",p.active),u(6),m("ngIf",f.active)}},dependencies:[W,zn,Qn,ll,cl,fl,ol,nl,_l,gl,Cl,Tl,xl,ar,lr,sr,co],encapsulation:2})}}return t})();var h0=Y(Li()),_0=Y(Bi());var g0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,h0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,_0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var v0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le]})}}return t})();var C0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[g0],imports:[le,tt,vt,At,et,xe,v0]})}}return t})();var S0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[$n,le,Nt,Gt,ji,Ot,Wt,Bt,ci,Dt,Ei,kt,C0,Xt,xe]})}}return t})();var y0=Y(Li()),E0=Y(Bi());var T0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,y0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,E0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var I0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le]})}}return t})();var x0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[T0],imports:[le,tt,vt,At,et,xe,I0]})}}return t})();var w0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le,Nt,Gt,ji,Ot,Wt,Bt,ci,Dt,Ei,kt,x0,Xt,xe]})}}return t})();var b0=Y(Li()),F0=Y(Bi());var O0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,b0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,F0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var D0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le]})}}return t})();var R0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[O0],imports:[le,tt,vt,At,et,xe,D0]})}}return t})();var L0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le,Nt,Gt,ji,Ot,Wt,Bt,ci,Dt,Ei,kt,R0,Xt,xe]})}}return t})();var M0=Y(Li()),V0=Y(Bi());var A0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,M0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,V0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var P0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le]})}}return t})();var k0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[A0],imports:[le,tt,vt,At,et,xe,P0]})}}return t})();var N0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[$n,le,Nt,Gt,ji,Ot,Wt,Bt,ci,Dt,Ei,kt,k0,Xt,xe]})}}return t})();var G0=Y(Li()),W0=Y(Bi());var B0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,G0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,W0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var j0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le]})}}return t})();var $0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[B0],imports:[le,tt,vt,At,et,xe,j0]})}}return t})();var H0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[$n,le,Nt,Gt,ji,Ot,Wt,Bt,ci,Dt,Ei,kt,$0,Xt,xe]})}}return t})();var U0=Y(Li()),Q0=Y(Bi());var z0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,U0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,Q0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var q0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le]})}}return t})();var X0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[z0],imports:[le,tt,vt,At,et,xe,q0]})}}return t})();var K0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le,Nt,Gt,Ot,Wt,Bt,Dt,kt,X0,Xt,xe]})}}return t})();var J0=Y(Li()),Y0=Y(Bi());var Z0=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,J0.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,Y0.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var eh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le]})}}return t})();var th=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[Z0],imports:[le,tt,vt,At,et,xe,eh]})}}return t})();var Qc=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le,Nt,Gt,Ot,Wt,Bt,ci,Dt,Ei,kt,th,Xt,xe]})}}return t})();var ih=Y(Li()),nh=Y(Bi());var rh=(()=>{class t{appendHiddenFilters(e){let i=[],r=e.itemsToDisplay?e.itemsToDisplay:10,o=e.allFilterOptions.slice(0,r).map(f=>f.value),c=e.selectedFilterValues,p=(0,ih.default)(c,o);return p.length!==0&&(p.forEach(d=>{i.push(e.allFilterOptions.filter(h=>h.value===d))}),(0,nh.default)(i).forEach(d=>{e.allFilterOptions.splice(e.allFilterOptions.indexOf(d),1),e.allFilterOptions.splice(r,0,d),r+=1}),e.itemsToDisplay=r),Le({},e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var oh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[rh],imports:[le,tt,vt,At,et,xe]})}}return t})();var ah=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({imports:[le,Nt,Gt,Ot,Wt,Bt,Dt,kt,ci,jn,et,oh,Xt,xe,kp]})}}return t})();var Yt=function(t){return t.active="Active",t.down="Down",t}(Yt||{});var lh=20,sh=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:Yt.active},{name:"Man-LT-ASD123",location:"Brno",status:Yt.down},{name:"Man-LT-DSA331",location:"Austin",status:Yt.active},{name:"Man-LT-JKS212",location:"Kyiv",status:Yt.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:Yt.down},{name:"Man-LT-433AAD",location:"Austin",status:Yt.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:Yt.active},{name:"Man-LT-GHJ882",location:"Brno",status:Yt.down},{name:"Man-LT-LLK001",location:"Austin",status:Yt.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:Yt.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:Yt.down},{name:"Man-LT-LKJF12",location:"Austin",status:Yt.down},{name:"Man-LT-882JJS",location:"Kyiv",status:Yt.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:Yt.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:Yt.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:Yt.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:Yt.active},{name:"Man-LT-RRF231",location:"Austin",status:Yt.down}];var Ax=()=>[10,20,30,40];function Px(t,n){t&1&&(X(0),a(1,"span"),U(2,1),l(),K())}function kx(t,n){if(t&1&&(a(0,"div",11),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.value," ")}}function Nx(t,n){if(t&1&&(a(0,"div",8)(1,"div",9),_(2,kx,2,1,"div",10),q(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",De(3,1,e))}}var ch=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ne.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.totalItems=0,this.page=1,this.pageSize=lh,this.itemConfig={trackBy:(r,o)=>o?.name},this.destroy$=new ue,this.dataSource.setData(sh)}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(ne(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),re(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(ne(e=>{this.filteringState=e,this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-basic-list"]],viewQuery:function(i,r){if(i&1&&(k(be,5),k(ge,5),k(ve,5),k(_t,5)),i&2){let o;O(o=D())&&(r.repeat=o.first),O(o=D())&&(r.paginator=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.sorter=o.first)}},features:[he([{provide:N,useClass:hi}])],decls:11,vars:13,consts:()=>{let e;return e=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[["listRepeatItemTemplate",""],e,[1,"d-flex","flex-row"],[1,"app-basic-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-basic-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-basic-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-basic-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=j();a(0,"div")(1,"div",2)(2,"nui-sorter",3),b("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(3,"nui-search",4),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(4,"div",2),_(5,Px,3,0,"ng-container",5),E(6,"nui-repeat",6),l(),a(7,"div",2)(8,"nui-paginator",7),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(9,Nx,4,3,"ng-template",null,0,V)}if(i&2){let o=R(10);u(2),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",(r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource.length)===0),u(),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(12,Ax))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[te,W,ge,be,ve,_t,Ht],styles:["[_nghost-%COMP%]   .app-basic-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-basic-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-basic-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-basic-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-basic-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var Wx="http://nova-pg.swdev.local/api/v1/servers",ph=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value??{start:0,end:0};return new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"")}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(Wx,{params:i}).pipe(Pe(300),Ce(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var jx=()=>[10,20,30,40];function $x(t,n){t&1&&(X(0),a(1,"span"),U(2,1),l(),K())}function Hx(t,n){if(t&1&&(a(0,"div",12),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.value," ")}}function Ux(t,n){if(t&1&&(a(0,"div",9)(1,"div",10),_(2,Hx,2,1,"div",11),q(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",De(3,1,e))}}var uh=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.listItems$=new pn([]),this.filteringState={},this.isBusy=!1,this.totalItems=0,this.page=1,this.pageSize=20,this.itemConfig={trackBy:(r,o)=>o?.name},this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(ne(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),re(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(ne(e=>{this.listItems$.next(e.repeat?.itemsSource||[]),this.filteringState=e,this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-search-list"]],viewQuery:function(i,r){if(i&1&&(k(be,5),k(ge,5),k(ve,5)),i&2){let o;O(o=D())&&(r.repeat=o.first),O(o=D())&&(r.paginator=o.first),O(o=D())&&(r.search=o.first)}},features:[he([{provide:N,useClass:ph}])],decls:12,vars:13,consts:()=>{let e;e=$localize`:94516fa213706c67ce5a5b5765681d7fb032033a3894950702316166331:Loading...`;let i;return i=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[["listRepeatItemTemplate",""],i,["nui-busy","",3,"busy"],["size","large","message",e],[1,"d-flex","flex-row"],[1,"d-flex","justify-content-end","app-search-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-search-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-search-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",2),E(1,"nui-spinner",3),a(2,"div",4)(3,"nui-search",5),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(4,"div",4),_(5,$x,3,0,"ng-container",6),q(6,"async"),E(7,"nui-repeat",7),l(),a(8,"div",4)(9,"nui-paginator",8),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(10,Ux,4,3,"ng-template",null,0,V)}if(i&2){let o=R(11);m("busy",r.isBusy),u(5),m("ngIf",!r.isBusy&&De(6,10,r.listItems$).length===0),u(2),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(12,jx))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[te,W,ge,be,ve,Cn,Sn,dn,Ht],styles:["[_nghost-%COMP%]   .app-search-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-search-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-search-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-search-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var Zt=function(t){return t.active="Active",t.down="Down",t}(Zt||{});var mh=20,dh=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:Zt.active},{name:"Man-LT-ASD123",location:"Brno",status:Zt.down},{name:"Man-LT-DSA331",location:"Austin",status:Zt.active},{name:"Man-LT-JKS212",location:"Kyiv",status:Zt.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:Zt.down},{name:"Man-LT-433AAD",location:"Austin",status:Zt.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:Zt.active},{name:"Man-LT-GHJ882",location:"Brno",status:Zt.down},{name:"Man-LT-LLK001",location:"Austin",status:Zt.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:Zt.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:Zt.down},{name:"Man-LT-LKJF12",location:"Austin",status:Zt.down},{name:"Man-LT-882JJS",location:"Kyiv",status:Zt.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:Zt.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:Zt.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:Zt.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:Zt.active},{name:"Man-LT-RRF231",location:"Austin",status:Zt.down}];var zx=()=>[10,20,30,40];function qx(t,n){t&1&&(X(0),a(1,"span"),U(2,1),l(),K())}function Xx(t,n){if(t&1&&(a(0,"div",12),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.value," ")}}function Kx(t,n){if(t&1&&(a(0,"div",9)(1,"div",10),_(2,Xx,2,1,"div",11),q(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",De(3,1,e))}}var wl=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.changeDetection=i,this.listService=r,this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ne.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.totalItems=0,this.page=1,this.pageSize=mh,this.itemConfig={trackBy:(o,c)=>c?.name},this.destroy$=new ue,this.dataSource.setData(dh)}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(ne(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),re(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(ne(e=>{this.filteringState=Le(Le({},this.filteringState),e),this.filteringState=this.listService.updateSelectionState(this.filteringState),this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}onSelectorOutput(e){this.filteringState=this.listService.applySelector(e,this.filteringState)}onRepeatOutput(e){this.filteringState=this.listService.selectItems(e,yi.multi,this.filteringState)}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e),w(bp))}}static{this.\u0275cmp=M({type:t,selectors:[["app-selection-list"]],viewQuery:function(i,r){if(i&1&&(k(be,5),k(ge,5),k(ve,5),k(_t,5)),i&2){let o;O(o=D())&&(r.repeat=o.first),O(o=D())&&(r.paginator=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.sorter=o.first)}},features:[he([{provide:N,useClass:hi}])],decls:12,vars:15,consts:()=>{let e;return e=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[["listRepeatItemTemplate",""],e,[1,"d-flex","flex-row"],[1,"app-selection-list-selector",3,"selectionChange","checkboxStatus","items"],[1,"app-selection-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-selection-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","multi",1,"app-selection-list-repeat",3,"selectionChange","itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-selection-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=j();a(0,"div")(1,"div",2)(2,"nui-selector",3),b("selectionChange",function(p){return S(o),y(r.onSelectorOutput(p))}),l(),a(3,"nui-sorter",4),b("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(4,"nui-search",5),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(5,"div",2),_(6,qx,3,0,"ng-container",6),a(7,"nui-repeat",7),b("selectionChange",function(p){return S(o),y(r.onRepeatOutput(p))}),l()(),a(8,"div",2)(9,"nui-paginator",8),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(10,Kx,4,3,"ng-template",null,0,V)}if(i&2){let o=R(11);u(2),m("checkboxStatus",r.filteringState.selector==null||r.filteringState.selector.selectorState==null?null:r.filteringState.selector.selectorState.checkboxStatus)("items",r.filteringState.selector==null||r.filteringState.selector.selectorState==null?null:r.filteringState.selector.selectorState.selectorItems),u(),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",(r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource.length)===0),u(),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(14,zx))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[te,W,ge,be,ve,_t,Tp,Ht],styles:["[_nghost-%COMP%]   .app-selection-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-selection-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-selection-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-selection-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-selection-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var Yx="http://nova-pg.swdev.local/api/v1/servers",fh=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value??{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(400)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(Yx,{params:i}).pipe(Pe(300),Ce(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();function Zx(t,n){t&1&&(X(0),a(1,"span"),U(2,3),l(),K())}function ew(t,n){t&1&&(X(0),U(1,4),K())}function tw(t,n){t&1&&(a(0,"strong"),s(1,". All items loaded."),l())}function iw(t,n){if(t&1&&(a(0,"div",20),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.value," ")}}function nw(t,n){if(t&1&&(a(0,"div",17)(1,"div",18),_(2,iw,2,1,"div",19),q(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",De(3,1,e))}}var bl=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.changeDetection=i,this.viewportManager=r,this.listItems$=new pn([]),this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ne.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.isBusy=!1,this.totalItems=0,this.itemConfig={trackBy:(o,c)=>c?.name},this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({virtualScroll:{componentInstance:this.viewportManager},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.viewportManager.setViewport(this.repeat.viewportRef).observeNextPage$({pageSize:400}).pipe(un(()=>{let e=this.listItems$.getValue();return!e.length||e.length<this.totalItems}),ne(()=>T(this,null,function*(){return this.applyFilters(!1)})),mn(()=>this.dataSource.outputsSubject.pipe(ne(e=>{let i=e.repeat?.itemsSource||[];this.listItems$.next(this.listItems$.getValue().concat(i)),this.totalItems=e.paginator?.total||0,this.changeDetection.detectChanges()}))),re(this.destroy$)).subscribe(),this.search.focusChange.pipe(ne(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),re(this.destroy$)).subscribe()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.listItems$.next([]),this.changeDetection.detectChanges()),yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e),w(rt))}}static{this.\u0275cmp=M({type:t,selectors:[["app-virtual-scroll-list"]],viewQuery:function(i,r){if(i&1&&(k(be,5),k(ve,5),k(_t,5)),i&2){let o;O(o=D())&&(r.repeat=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.sorter=o.first)}},features:[he([rt,{provide:N,useClass:fh}])],decls:23,vars:23,consts:()=>{let e;e=$localize`:94516fa213706c67ce5a5b5765681d7fb032033a3894950702316166331:Loading...`;let i;i=$localize`:d2c0aad64213341f539bc04280dae8d41bbde0308514434566969009602: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `;let r;r=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`;let o;return o=$localize`:b12cc7551005a9787976bb8d2a161113feed479a9056616360897919297:, scroll down for more.`,[["endOfData",""],["listRepeatItemTemplate",""],i,r,o,["nui-busy","",3,"busy"],["size","large","message",e],[1,"d-flex","flex-row"],[1,"app-virtual-scroll-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-virtual-scroll-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-virtual-scroll-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource","virtualScroll","itemSize"],[1,"app-virtual-scroll-list-scrolling-footer"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],[4,"ngIf","ngIfElse"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",5),E(1,"nui-spinner",6),a(2,"div",7)(3,"nui-sorter",8),b("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(4,"nui-search",9),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(5,"div",7),_(6,Zx,3,0,"ng-container",10),q(7,"async"),E(8,"nui-repeat",11),q(9,"async"),l(),a(10,"footer",12)(11,"div",13)(12,"div",14)(13,"div",15),U(14,2),q(15,"async"),l(),a(16,"div",15),_(17,ew,2,0,"ng-container",16),q(18,"async"),_(19,tw,2,0,"ng-template",null,0,V),l()()()()(),_(21,nw,4,3,"ng-template",null,1,V)}if(i&2){let o=R(20),c=R(22);m("busy",r.isBusy),u(3),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",!r.isBusy&&De(7,15,r.listItems$).length===0),u(2),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",c)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",De(9,17,r.listItems$))("virtualScroll",!0)("itemSize",30),u(7),lt(De(15,19,r.listItems$).length)(r.totalItems),st(14),u(2),m("ngIf",De(18,21,r.listItems$).length!==r.totalItems)("ngIfElse",o)}},dependencies:[te,W,be,ve,_t,Cn,Sn,dn,Ht],styles:["[_nghost-%COMP%]   .app-virtual-scroll-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%;height:300px}[_nghost-%COMP%]   .app-virtual-scroll-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-virtual-scroll-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-virtual-scroll-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}"],changeDetection:0})}}return t})();var ow="http://nova-pg.swdev.local/api/v1/servers",hh=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value??{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(ow,{params:i}).pipe(Pe(300),Ce(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var lw=()=>[10,20,30,40];function sw(t,n){t&1&&(X(0),a(1,"span"),U(2,1),l(),K())}function cw(t,n){if(t&1&&(a(0,"div",13),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.value," ")}}function pw(t,n){if(t&1&&(a(0,"div",10)(1,"div",11),_(2,cw,2,1,"div",12),q(3,"keyvalue"),l()()),t&2){let e=n.item;u(2),m("ngForOf",De(3,1,e))}}var _h=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.listItems$=new pn([]),this.sorterItems=[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}],this.initialSortDirection=Ne.ascending,this.sortBy=this.sorterItems[0].value,this.filteringState={},this.isBusy=!1,this.totalItems=0,this.page=1,this.pageSize=20,this.itemConfig={trackBy:(r,o)=>o?.name},this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator},search:{componentInstance:this.search},sorter:{componentInstance:this.sorter},repeat:{componentInstance:this.repeat}}),this.search.focusChange.pipe(ne(e=>T(this,null,function*(){!e&&this.dataSource.filterChanged("search")&&(yield this.applyFilters())})),re(this.destroy$)).subscribe(),this.dataSource.outputsSubject.pipe(ne(e=>{this.listItems$.next(e.repeat?.itemsSource||[]),this.filteringState=e,this.totalItems=e.paginator?.total??0,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onCancelSearch(){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}onSorterAction(e){return T(this,null,function*(){this.sortBy=e.newValue.sortBy,yield this.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-paginated-list"]],viewQuery:function(i,r){if(i&1&&(k(be,5),k(ge,5),k(ve,5),k(_t,5)),i&2){let o;O(o=D())&&(r.repeat=o.first),O(o=D())&&(r.paginator=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.sorter=o.first)}},features:[he([{provide:N,useClass:hh}])],decls:13,vars:16,consts:()=>{let e;e=$localize`:94516fa213706c67ce5a5b5765681d7fb032033a3894950702316166331:Loading...`;let i;return i=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[["listRepeatItemTemplate",""],i,["nui-busy","",3,"busy"],["size","large","message",e],[1,"d-flex","flex-row"],[1,"app-paginated-list-sorter",3,"sorterAction","itemsSource","selectedItem","sortDirection"],[1,"d-flex","justify-content-end","app-paginated-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-paginated-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-paginated-list-paginator",3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",2),E(1,"nui-spinner",3),a(2,"div",4)(3,"nui-sorter",5),b("sorterAction",function(p){return S(o),y(r.onSorterAction(p))}),l(),a(4,"nui-search",6),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onCancelSearch())}),l()(),a(5,"div",4),_(6,sw,3,0,"ng-container",7),q(7,"async"),E(8,"nui-repeat",8),l(),a(9,"div",4)(10,"nui-paginator",9),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(){return S(o),y(r.applyFilters())}),l()()(),_(11,pw,4,3,"ng-template",null,0,V)}if(i&2){let o=R(12);m("busy",r.isBusy),u(3),m("itemsSource",r.sorterItems)("selectedItem",r.sortBy)("sortDirection",r.initialSortDirection),u(3),m("ngIf",!r.isBusy&&De(7,13,r.listItems$).length===0),u(2),m("itemConfig",r.itemConfig)("repeatItemTemplateRef",o)("selection",r.filteringState.repeat==null?null:r.filteringState.repeat.selectedItems)("itemsSource",r.filteringState.repeat==null?null:r.filteringState.repeat.itemsSource),u(2),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(15,lw))("total",r.filteringState.paginator==null?null:r.filteringState.paginator.total)}},dependencies:[te,W,ge,be,ve,_t,Cn,Sn,dn,Ht],styles:["[_nghost-%COMP%]   .app-paginated-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-paginated-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-paginated-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-paginated-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-paginated-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})}}return t})();var gh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["nui-list-schematics-docs-example"]],features:[he([{provide:Nn,useValue:Nn.list}])],decls:120,vars:1,consts:[["schematicFolderName","list"],["schematicSummary",""],["name","selectionMode"],["name","pagingMode"],["name","dataSource"],["name","enableSearch"],["name","enableSort"],["schematicExamples",""],["heading","Basic"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["exampleFolderName","basic-list"],["heading","Selection"],["target","_blank","href","../injectables/ListService.html"],["exampleFolderName","selection-list"],["heading","Search"],["exampleFolderName","search-list"],["heading","Pagination"],["exampleFolderName","paginated-list"],["heading","Virtual Scroll"],["type","warning",3,"allowDismiss"],["exampleFolderName","virtual-scroll-list"]],template:function(i,r){i&1&&(a(0,"nui-schematic-docs-page",0)(1,"div",1)(2,"p"),s(3," The List schematic provides the ability to create a generic list that can cover a majority of use cases for a list. Its main responsibility is to integrate the functionality of the "),a(4,"code"),s(5,"nui-repeat"),l(),s(6," component with other components commonly used with a list such as "),a(7,"code"),s(8,"nui-selector"),l(),s(9,", "),a(10,"code"),s(11,"nui-search"),l(),s(12,", "),a(13,"code"),s(14,"nui-paginator"),l(),s(15,", and "),a(16,"code"),s(17,"nui-sorter"),l(),s(18,". "),l(),a(19,"h2"),s(20,"Notable Command Line Options"),l(),E(21,"nui-schematic-cli-option",2)(22,"nui-schematic-cli-option",3)(23,"nui-schematic-cli-option",4)(24,"nui-schematic-cli-option",5)(25,"nui-schematic-cli-option",6),l(),a(26,"nui-tab-group",7)(27,"nui-tab",8)(28,"h2"),s(29,"Basic Usage"),l(),a(30,"p"),s(31," This example illustrates the output of the CLI command without any modifications. Consumers are able to build upon the generated boilerplate to provide additional functionality depending on their use case. Data manipulations (filtering/pagination/sorting/search) are handled by the "),a(32,"a",9)(33,"code"),s(34,"ClientSideDataSource"),l()(),s(35," service, which can be extended with custom filtering behavior. "),l(),a(36,"nui-schematic-docs-command"),s(37,"ng g @nova-ui/bits:list --name=basic-list --p=app"),l(),a(38,"nui-schematic-docs-example",10),E(39,"app-basic-list"),l()(),a(40,"nui-tab",11)(41,"h2"),s(42,"List with Selection"),l(),a(43,"p"),s(44," Selection is facilitated by the "),a(45,"a",12)(46,"code"),s(47,"ListService"),l()(),s(48," and can be enabled by running the CLI command with the "),a(49,"code"),s(50,"selectionMode"),l(),s(51," option set to one of the selection-enabling values listed under "),a(52,"strong"),s(53,"Notable Command Line Options"),l(),s(54," section above. The initial selection can be set using the "),a(55,"code"),s(56,"selection"),l(),s(57," input of the "),a(58,"code"),s(59,"nui-repeat"),l(),s(60,". Selection changes can be intercepted using the "),a(61,"code"),s(62,"selectionChange"),l(),s(63," output of the "),a(64,"code"),s(65,"nui-repeat"),l(),s(66,". "),l(),a(67,"nui-schematic-docs-command"),s(68,"ng g @nova-ui/bits:list --name=selection-list --p=app "),a(69,"strong"),s(70,"--selectionMode=multi"),l()(),a(71,"nui-schematic-docs-example",13),E(72,"app-selection-list"),l()(),a(73,"nui-tab",14)(74,"h2"),s(75,"Search Properties"),l(),a(76,"p"),s(77," To specify fields for search, pass a properties array to the "),a(78,"code"),s(79,"setSearchProperties"),l(),s(80," method exposed by the "),a(81,"a",9)(82,"code"),s(83,"ClientSideDataSource"),l()(),s(84," service. If no properties are specified, the search will be performed on all fields. "),l(),a(85,"nui-schematic-docs-command"),s(86," ng g @nova-ui/bits:list --name=search-list --p=app --selectionMode=none --dataSource=serverSide --pagingMode=pagination --enable-sort=false "),a(87,"strong"),s(88,"--enable-search=true"),l()(),a(89,"nui-schematic-docs-example",15),E(90,"app-search-list"),l()(),a(91,"nui-tab",16)(92,"h2"),s(93,"Pagination"),l(),a(94,"p"),s(95," This example shows how to add pagination to "),a(96,"code"),s(97,"nui-repeat"),l(),s(98," with a remote data source. "),l(),a(99,"nui-schematic-docs-command"),s(100,"ng g @nova-ui/bits:list --name=paginated-list --p=app --pagingMode=pagination --dataSource=serverSide"),l(),a(101,"nui-schematic-docs-example",17),E(102,"app-paginated-list"),l()(),a(103,"nui-tab",18)(104,"h2"),s(105,"Virtual Scroll"),l(),a(106,"p"),s(107," This example shows how to add virtual scroll to "),a(108,"code"),s(109,"nui-repeat"),l(),s(110," with a remote data source. "),l(),a(111,"nui-message",19),s(112," Since the example makes use of search and sorting filters, it's important to note that the viewport manager's paging progress must be reset each time the data is refreshed with new filtered results. The reset invocation can be seen in the "),a(113,"code"),s(114,"virtual-scroll-list.component.ts:doSearch"),l(),s(115," method. "),l(),a(116,"nui-schematic-docs-command"),s(117,"ng g @nova-ui/bits:list --name=scrollable-list --p=app --pagingMode=virtualScroll --dataSource=serverSide"),l(),a(118,"nui-schematic-docs-example",20),E(119,"app-virtual-scroll-list"),l()()()()),i&2&&(u(111),m("allowDismiss",!1))},dependencies:[Hn,zn,Qn,ch,uh,wl,ar,lr,sr,co,bl,_h],encapsulation:2})}}return t})();function mw(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Enum: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),F(i.addJsonScheme[e].enum)}}function dw(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Alias: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),F(i.addJsonScheme[e].alias)}}function fw(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Default: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),F(i.addJsonScheme[e].default)}}function hw(t,n){if(t&1&&(a(0,"div")(1,"nui-expander",1)(2,"div")(3,"i"),s(4,"Description: "),l(),a(5,"span"),s(6),l()(),a(7,"div")(8,"i"),s(9,"Type: "),l(),a(10,"span"),s(11),l()(),_(12,mw,5,1,"div",2)(13,dw,5,1,"div",2)(14,fw,5,1,"div",2),l()()),t&2){let e=n.$implicit,i=g();u(),m("header",e),u(5),F(i.addJsonScheme[e].description),u(5),F(i.addJsonScheme[e].type),u(),m("ngIf",i.addJsonScheme[e].enum),u(),m("ngIf",i.addJsonScheme[e].alias),u(),m("ngIf",i.addJsonScheme[e].default)}}function _w(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Enum: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),F(i.layoutJsonScheme[e].enum)}}function gw(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Alias: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),F(i.layoutJsonScheme[e].alias)}}function vw(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Default: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),F(i.layoutJsonScheme[e].default)}}function Cw(t,n){if(t&1&&(a(0,"div")(1,"nui-expander",1)(2,"div")(3,"i"),s(4,"Description: "),l(),a(5,"span"),s(6),l()(),a(7,"div")(8,"i"),s(9,"Type: "),l(),a(10,"span"),s(11),l()(),_(12,_w,5,1,"div",2)(13,gw,5,1,"div",2)(14,vw,5,1,"div",2),l()()),t&2){let e=n.$implicit,i=g();u(),m("header",e),u(5),F(i.layoutJsonScheme[e].description),u(5),F(i.layoutJsonScheme[e].type),u(),m("ngIf",i.layoutJsonScheme[e].enum),u(),m("ngIf",i.layoutJsonScheme[e].alias),u(),m("ngIf",i.layoutJsonScheme[e].default)}}function Sw(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Enum: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),F(i.tableJsonScheme[e].enum)}}function yw(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Alias: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),F(i.tableJsonScheme[e].alias)}}function Ew(t,n){if(t&1&&(a(0,"div")(1,"i"),s(2,"Default: "),l(),a(3,"span"),s(4),l()()),t&2){let e=g().$implicit,i=g();u(4),F(i.tableJsonScheme[e].default)}}function Tw(t,n){if(t&1&&(a(0,"div")(1,"nui-expander",1)(2,"div")(3,"i"),s(4,"Description: "),l(),a(5,"span"),s(6),l()(),a(7,"div")(8,"i"),s(9,"Type: "),l(),a(10,"span"),s(11),l()(),_(12,Sw,5,1,"div",2)(13,yw,5,1,"div",2)(14,Ew,5,1,"div",2),l()()),t&2){let e=n.$implicit,i=g();u(),m("header",e),u(5),F(i.tableJsonScheme[e].description),u(5),F(i.tableJsonScheme[e].type),u(),m("ngIf",i.tableJsonScheme[e].enum),u(),m("ngIf",i.tableJsonScheme[e].alias),u(),m("ngIf",i.tableJsonScheme[e].default)}}var vh=(()=>{class t{constructor(){this.layoutJsonScheme={},this.tableJsonScheme={},this.addJsonScheme={},this.objectKeys=Object.keys,this.schemaObjectFiller(Fp.properties,"layout"),this.schemaObjectFiller(Dp.properties,"table"),this.schemaObjectFiller(Op.properties,"add")}schemaObjectFiller(e,i){let r=this[`${i}JsonScheme`];for(let o of this.objectKeys(e))r[o]={description:e[o].description,type:e[o].type},e[o].enum&&(r[o].enum=e[o].enum),e[o].default&&(r[o].default=e[o].default),e[o].alias&&(r[o].alias=e[o].alias)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["schematics-docs"]],decls:42,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"header"],[4,"ngIf"]],template:function(i,r){i&1&&(a(0,"h1"),s(1,"bits schematics"),l(),a(2,"div"),s(3," All schematics work in similar way. To use them, you can call it by first doing "),a(4,"code"),s(5,"ng add @nova-ui/bits"),l(),s(6," then "),a(7,"code"),s(8,"ng g @nova-ui/bits:SCHEMATICNAME"),l(),s(9," and add option, available for each schematic. "),a(10,"b"),s(11,"Note:"),l(),s(12,` for most of the schematics, name can be set without specifying option, just type it as the first argument in command line.
`),l(),a(13,"div")(14,"h2"),s(15,"Ng-add schematic guide"),l(),a(16,"p"),s(17," Bootstraps nova-composites for consumption in your project. Adds it package.json and does "),a(18,"code"),s(19,"npm install"),l(),s(20,". "),l(),_(21,hw,15,6,"div",0),l(),a(22,"div")(23,"h2"),s(24,"Layout schematic guide"),l(),a(25,"p"),s(26," Use "),a(27,"code"),s(28,"ng g @nova-ui/bits:layout"),l(),s(29," to generate basic layout example that can be used in you project out of the box. "),l(),a(30,"p"),s(31," Use the following options in the command line to modify schematic's execution: "),l(),_(32,Cw,15,6,"div",0),l(),a(33,"div")(34,"h2"),s(35,"Table schematic guide"),l(),a(36,"p"),s(37," In your command line, type "),a(38,"code"),s(39,"ng g @nova-ui/bits:table"),l(),s(40,"to generate table. "),l(),_(41,Tw,15,6,"div",0),l()),i&2&&(u(21),m("ngForOf",r.objectKeys(r.addJsonScheme)),u(11),m("ngForOf",r.objectKeys(r.layoutJsonScheme)),u(9),m("ngForOf",r.objectKeys(r.tableJsonScheme)))},dependencies:[te,W,Ge],encapsulation:2})}}return t})();var Fl=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,r){i&1&&E(0,"router-outlet")},dependencies:[Sp],encapsulation:2})}}return t})();var ei=function(t){return t.active="Active",t.down="Down",t}(ei||{});var Ch=10,Sh=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:ei.active},{name:"Man-LT-ASD123",location:"Brno",status:ei.down},{name:"Man-LT-DSA331",location:"Austin",status:ei.active},{name:"Man-LT-JKS212",location:"Kyiv",status:ei.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:ei.down},{name:"Man-LT-433AAD",location:"Austin",status:ei.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:ei.active},{name:"Man-LT-GHJ882",location:"Brno",status:ei.down},{name:"Man-LT-LLK001",location:"Austin",status:ei.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:ei.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:ei.down},{name:"Man-LT-LKJF12",location:"Austin",status:ei.down},{name:"Man-LT-882JJS",location:"Kyiv",status:ei.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:ei.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:ei.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:ei.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:ei.active},{name:"Man-LT-RRF231",location:"Austin",status:ei.down}];var Iw=()=>[10,20,50,100];function xw(t,n){t&1&&(a(0,"th",13),U(1,0),l())}function ww(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function bw(t,n){t&1&&(a(0,"th",13),U(1,1),l())}function Fw(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),F(e.location)}}function Ow(t,n){t&1&&(a(0,"th",13),U(1,2),l())}function Dw(t,n){if(t&1&&(a(0,"td",14),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function Rw(t,n){t&1&&E(0,"tr",15)}function Lw(t,n){t&1&&E(0,"tr",16)}var Ol=(()=>{class t{constructor(e){this.dataSource=e,this.items=[],this.totalItems=0,this.displayedColumns=["name","location","status"],this.page=1,this.pageSize=Ch,this.destroy$=new ue,this.dataSource.setData(Sh)}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(ne(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N))}}static{this.\u0275cmp=M({type:t,selectors:[["app-basic-table"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(ge,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.paginator=o.first)}},features:[he([{provide:N,useClass:hi}])],decls:14,vars:9,consts:()=>{let e;e=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`;let i;i=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`;let r;return r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,[e,i,r,[1,"app-basic-table__container"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""]]},template:function(i,r){i&1&&(a(0,"div",3)(1,"table",4),X(2,5),_(3,xw,2,0,"th",6)(4,ww,2,1,"td",7),K(),X(5,8),_(6,bw,2,0,"th",6)(7,Fw,2,1,"td",7),K(),X(8,9),_(9,Ow,2,0,"th",6)(10,Dw,2,1,"td",7),K(),_(11,Rw,1,0,"tr",10)(12,Lw,1,0,"tr",11),l()(),a(13,"nui-paginator",12),Je("pageChange",function(c){return Ke(r.page,c)||(r.page=c),c}),b("pagerAction",function(c){return r.changePagination(c)}),l()),i&2&&(u(),m("dataSource",r.items),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(8,Iw))("total",r.totalItems))},dependencies:[ge,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St],styles:[`.icon-margin{margin-right:5px}.app-basic-table__container{overflow:auto}
`],encapsulation:2})}}return t})();var Mw="http://nova-pg.swdev.local/api/v1/servers",Eh=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(400)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(Mw,{params:i}).pipe(Pe(300),Ce(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();function Vw(t,n){t&1&&(a(0,"th",23),U(1,3),l()),t&2&&di("width",30,"%")}function Aw(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function Pw(t,n){t&1&&(a(0,"th",23),U(1,4),l()),t&2&&di("width",30,"%")}function kw(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.location," ")}}function Nw(t,n){t&1&&(a(0,"th",23),U(1,5),l())}function Gw(t,n){if(t&1&&(a(0,"td",24),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function Ww(t,n){t&1&&E(0,"tr",25)}function Bw(t,n){t&1&&E(0,"tr",26)}function jw(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",27),a(2,"div",28),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function $w(t,n){t&1&&(X(0),U(1,7),K())}function Hw(t,n){t&1&&(a(0,"strong"),s(1,". All items loaded."),l())}function Uw(t,n){if(t&1&&(a(0,"div",28)(1,"div",29)(2,"div",30),U(3,6),l(),a(4,"div",30),_(5,$w,2,0,"ng-container",22)(6,Hw,2,0,"ng-template",null,2,V),l()()()),t&2){let e=R(7),i=g();u(3),lt(i.items.length)(i.totalItems),st(3),u(2),m("ngIf",i.items.length!==i.totalItems)("ngIfElse",e)}}var po=(()=>{class t{constructor(e,i,r){this.dataSource=e,this.viewportManager=i,this.changeDetection=r,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ne.ascending},this.columnsToApplySearch=["name"],this.pageSize=400,this.rowHeight=40,this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({search:{componentInstance:this.search},virtualScroll:{componentInstance:this.viewportManager}}),this.viewportManager.setViewport(this.viewport).observeNextPage$({pageSize:this.pageSize}).pipe(un(()=>!this.items.length||this.items.length<this.totalItems),ne(()=>T(this,null,function*(){return this.applyFilters(!1)})),mn(()=>this.dataSource.outputsSubject.pipe(ne(e=>{let i=e.repeat?.itemsSource||[];this.items=this.items.concat(i),this.totalItems=e.paginator?.total||0,this.changeDetection.detectChanges()}))),re(this.destroy$)).subscribe(),this.search.inputChange.pipe(Pi(500),re(this.destroy$)).subscribe(()=>T(this,null,function*(){return this.onSearch()}))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.items=[]),yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(rt),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-table-with-virtual-scroll"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(ve,5),k(Qt,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.viewport=o.first)}},features:[he([rt,{provide:N,useClass:Eh}])],decls:22,vars:14,consts:()=>{let e;e=$localize`:1544348a6496c3dcf8e4905654cbb5f5fee191e61552568671699956057: Name `;let i;i=$localize`:e01692d26b709ceb10a22f9279fe604d79a26aaa212627037199736435: Location `;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `;let c;return c=$localize`:b12cc7551005a9787976bb8d2a161113feed479a9056616360897919297:, scroll down for more.`,[["viewportRef",""],["defaultText",""],["endOfData",""],e,i,r,o,c,[1,"app-table-with-virtual-scroll__container"],[1,"app-table-with-virtual-scroll-searchable__search"],[3,"search","cancel","value"],["tableStickyHeader","",1,"app-table-with-virtual-scroll-scrolling-container",3,"itemSize"],["nui-table","",3,"sortOrderChanged","dataSource","sortable","sortedColumn"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-table-with-virtual-scroll-scrolling-footer"],[4,"ngIf","ngIfElse"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",8)(1,"div",9)(2,"nui-search",10),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(3,"cdk-virtual-scroll-viewport",11,0)(5,"table",12),q(6,"sliceRange"),b("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),X(7,13),_(8,Vw,2,2,"th",14)(9,Aw,2,1,"td",15),K(),X(10,16),_(11,Pw,2,2,"th",14)(12,kw,2,1,"td",15),K(),X(13,17),_(14,Nw,2,0,"th",18)(15,Gw,2,1,"td",15),K(),_(16,Ww,1,0,"tr",19)(17,Bw,1,0,"ng-template",20),l()(),a(18,"footer",21),_(19,jw,4,3,"div",22)(20,Uw,8,4,"ng-template",null,1,V),l()()}if(i&2){let o=R(4),c=R(21);u(2),m("value",r.searchTerm),u(),m("itemSize",r.rowHeight),u(2),m("dataSource",Ae(6,11,r.items,o.getRenderedRange()))("sortable",!0)("sortedColumn",r.sortedColumn),u(11),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.items),u(2),m("ngIf",r.isBusy)("ngIfElse",c)}},dependencies:[W,ve,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St,gn,fn,hn,Qt,Pt,vn],styles:[`.icon-margin{margin-right:5px}.app-table-with-virtual-scroll__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-table-with-virtual-scroll-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-virtual-scroll-scrolling-container{height:300px}.app-table-with-virtual-scroll-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}
`],encapsulation:2})}}return t})();var Qw="http://nova-pg.swdev.local/api/v1/servers",Ih=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(Qw,{params:i}).pipe(Pe(300),Ce(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var qw=()=>[10,20,50,100];function Xw(t,n){t&1&&(a(0,"th",19),U(1,1),l())}function Kw(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function Jw(t,n){t&1&&(a(0,"th",19),U(1,2),l())}function Yw(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),F(e.location)}}function Zw(t,n){t&1&&(a(0,"th",19),U(1,3),l())}function eb(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function tb(t,n){t&1&&E(0,"tr",21)}function ib(t,n){t&1&&E(0,"tr",22)}function nb(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",23),a(2,"div",24),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function rb(t,n){if(t&1&&(a(0,"div",24)(1,"div",25)(2,"div",26),U(3,4),l()()()),t&2){let e=g();u(3),lt(e.items.length)(e.totalItems),st(3)}}var Dl=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ne.ascending},this.columnsToApplySearch=["name"],this.page=1,this.pageSize=10,this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({search:{componentInstance:this.search},paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(ne(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),re(this.destroy$)).subscribe(),this.search.inputChange.pipe(Pi(500),ne(()=>T(this,null,function*(){return this.onSearch()})),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-table-with-pagination"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(ve,5),k(ge,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.paginator=o.first)}},features:[he([{provide:N,useClass:Ih}])],decls:20,vars:14,consts:()=>{let e;e=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`;let i;i=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;return o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"app-table-with-pagination__container"],[1,"app-table-with-pagination-searchable__search"],[3,"search","cancel","value"],["nui-table","",3,"sortOrderChanged","dataSource","sortable","sortedColumn"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-pagination-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",5)(1,"div",6)(2,"nui-search",7),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(3,"table",8),b("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),X(4,9),_(5,Xw,2,0,"th",10)(6,Kw,2,1,"td",11),K(),X(7,12),_(8,Jw,2,0,"th",10)(9,Yw,2,1,"td",11),K(),X(10,13),_(11,Zw,2,0,"th",10)(12,eb,2,1,"td",11),K(),_(13,tb,1,0,"tr",14)(14,ib,1,0,"tr",15),l(),a(15,"footer",16),_(16,nb,4,3,"div",17)(17,rb,4,2,"ng-template",null,0,V),l()(),a(19,"nui-paginator",18),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=R(18);u(2),m("value",r.searchTerm),u(),m("dataSource",r.items)("sortable",!0)("sortedColumn",r.sortedColumn),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(13,qw))("total",r.totalItems)}},dependencies:[W,ge,ve,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St,Pt],styles:[`.icon-margin{margin-right:5px}.app-table-with-pagination__container{overflow:auto}.app-table-with-pagination-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-pagination-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var ob="http://nova-pg.swdev.local/api/v1/servers",wh=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(ob,{params:i}).pipe(Pe(300),Ce(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var lb=()=>[10,20,50,100];function sb(t,n){t&1&&(a(0,"th",17),U(1,1),l())}function cb(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function pb(t,n){t&1&&(a(0,"th",17),U(1,2),l())}function ub(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),F(e.location)}}function mb(t,n){t&1&&(a(0,"th",17),U(1,3),l())}function db(t,n){if(t&1&&(a(0,"td",18),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function fb(t,n){t&1&&E(0,"tr",19)}function hb(t,n){t&1&&E(0,"tr",20)}function _b(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",21),a(2,"div",22),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function gb(t,n){if(t&1&&(a(0,"div",22)(1,"div",23)(2,"div",24),U(3,4),l()()()),t&2){let e=g();u(3),lt(e.items.length)(e.totalItems),st(3)}}var Rl=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ne.ascending},this.page=1,this.pageSize=10,this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(ne(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-table-with-sort"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(ge,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.paginator=o.first)}},features:[he([{provide:N,useClass:wh}])],decls:18,vars:13,consts:()=>{let e;e=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`;let i;i=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;return o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"app-table-with-sort__container"],["nui-table","",3,"sortOrderChanged","dataSource","sortable","sortedColumn"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-sort-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",5)(1,"table",6),b("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),X(2,7),_(3,sb,2,0,"th",8)(4,cb,2,1,"td",9),K(),X(5,10),_(6,pb,2,0,"th",8)(7,ub,2,1,"td",9),K(),X(8,11),_(9,mb,2,0,"th",8)(10,db,2,1,"td",9),K(),_(11,fb,1,0,"tr",12)(12,hb,1,0,"tr",13),l(),a(13,"footer",14),_(14,_b,4,3,"div",15)(15,gb,4,2,"ng-template",null,0,V),l()(),a(17,"nui-paginator",16),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=R(16);u(),m("dataSource",r.items)("sortable",!0)("sortedColumn",r.sortedColumn),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(12,lb))("total",r.totalItems)}},dependencies:[W,ge,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St,Pt],styles:[`.icon-margin{margin-right:5px}.app-table-with-sort__container{overflow:auto}.app-table-with-sort-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var vb="http://nova-pg.swdev.local/api/v1/servers",Fh=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0};return new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"")}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(vb,{params:i}).pipe(Pe(300),Ce(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var Sb=()=>[10,20,50,100];function yb(t,n){t&1&&(a(0,"th",19),U(1,1),l())}function Eb(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function Tb(t,n){t&1&&(a(0,"th",19),U(1,2),l())}function Ib(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),F(e.location)}}function xb(t,n){t&1&&(a(0,"th",19),U(1,3),l())}function wb(t,n){if(t&1&&(a(0,"td",20),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function bb(t,n){t&1&&E(0,"tr",21)}function Fb(t,n){t&1&&E(0,"tr",22)}function Ob(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",23),a(2,"div",24),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function Db(t,n){if(t&1&&(a(0,"div",24)(1,"div",25)(2,"div",26),U(3,4),l()()()),t&2){let e=g();u(3),lt(e.items.length)(e.totalItems),st(3)}}var Ll=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.columnsToApplySearch=["name"],this.page=1,this.pageSize=10,this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent({search:{componentInstance:this.search},paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(ne(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),re(this.destroy$)).subscribe(),this.search.inputChange.pipe(Pi(500),ne(()=>T(this,null,function*(){return this.onSearch()})),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-table-with-search"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(ve,5),k(ge,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.paginator=o.first)}},features:[he([{provide:N,useClass:Fh}])],decls:20,vars:12,consts:()=>{let e;e=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`;let i;i=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;return o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"app-table-with-search__container"],[1,"app-table-with-search-searchable__search"],[3,"search","cancel","value"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-search-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",5)(1,"div",6)(2,"nui-search",7),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(3,"table",8),X(4,9),_(5,yb,2,0,"th",10)(6,Eb,2,1,"td",11),K(),X(7,12),_(8,Tb,2,0,"th",10)(9,Ib,2,1,"td",11),K(),X(10,13),_(11,xb,2,0,"th",10)(12,wb,2,1,"td",11),K(),_(13,bb,1,0,"tr",14)(14,Fb,1,0,"tr",15),l(),a(15,"footer",16),_(16,Ob,4,3,"div",17)(17,Db,4,2,"ng-template",null,0,V),l()(),a(19,"nui-paginator",18),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=R(18);u(2),m("value",r.searchTerm),u(),m("dataSource",r.items),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(11,Sb))("total",r.totalItems)}},dependencies:[W,ge,ve,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St,Pt],styles:[`.icon-margin{margin-right:5px}.app-table-with-search__container{overflow:auto}.app-table-with-search-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-search-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var Rb="http://nova-pg.swdev.local/api/v1/servers",Dh=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.paginator?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(i.end-i.start)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(Rb,{params:i}).pipe(Pe(300),Ce(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var Mb=()=>[10,20,50,100];function Vb(t,n){t&1&&(a(0,"th",21),U(1,1),l())}function Ab(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function Pb(t,n){t&1&&(a(0,"th",21),U(1,2),l())}function kb(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),F(e.location)}}function Nb(t,n){t&1&&(a(0,"th",21),U(1,3),l())}function Gb(t,n){if(t&1&&(a(0,"td",22),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function Wb(t,n){t&1&&E(0,"tr",23)}function Bb(t,n){if(t&1&&E(0,"tr",24),t&2){let e=n.$implicit;m("rowObject",e)}}function jb(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",25),a(2,"div",26),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function $b(t,n){if(t&1&&(a(0,"div",26)(1,"div",27)(2,"div",28),U(3,4),l()()()),t&2){let e=g();u(3),lt(e.items.length)(e.totalItems),st(3)}}var Ml=(()=>{class t{constructor(e,i){this.dataSource=e,this.changeDetection=i,this.items=[],this.isBusy=!1,this.totalItems=0,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ne.ascending},this.columnsToApplySearch=["name"],this.page=1,this.pageSize=10,this.selectedItems=[],this.selection={isAllPages:!1,include:["ABERN-SVR-ATQU9404"],exclude:[]},this.selectionConfig={enabled:!0,selectionMode:vp.Multi},this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({search:{componentInstance:this.search},paginator:{componentInstance:this.paginator}}),this.dataSource.outputsSubject.pipe(ne(e=>{this.items=e.repeat?.itemsSource||[],this.totalItems=e.paginator?.total??0}),re(this.destroy$)).subscribe(),this.search.inputChange.pipe(Pi(500),ne(()=>T(this,null,function*(){return this.onSearch()})),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}changePagination(e){return T(this,null,function*(){yield this.applyFilters()})}onSelectionChanged(e){this.changeDetection.detectChanges()}trackBy(e,i){return i.name}applyFilters(){return T(this,null,function*(){yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-table-with-selection"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(ve,5),k(ge,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.paginator=o.first)}},features:[he([{provide:N,useClass:Dh}])],decls:26,vars:20,consts:()=>{let e;e=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`;let i;i=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;return o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD1\uFFFD"}:INTERPOLATION_1: `,[["defaultText",""],e,i,r,o,[1,"flex-row-container"],[1,"flex-independent-row-item"],[1,"app-table-with-selection__container"],[1,"app-table-with-selection-searchable__search"],[3,"search","cancel","value"],["nui-table","",3,"sortOrderChanged","selectionChange","dataSource","sortable","sortedColumn","selection","selectionConfig","trackBy"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",3,"rowObject",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-selection-scrolling-footer"],[4,"ngIf","ngIfElse"],[3,"pageChange","pagerAction","page","pageSize","pageSizeSet","total"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row","",3,"rowObject"],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"]]},template:function(i,r){if(i&1){let o=j();a(0,"h2"),s(1,"Selection result"),l(),a(2,"div",5)(3,"span",6),s(4),q(5,"json"),l()(),a(6,"div",7)(7,"div",8)(8,"nui-search",9),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(9,"table",10),b("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),Je("selectionChange",function(p){return S(o),Ke(r.selection,p)||(r.selection=p),y(p)}),b("selectionChange",function(p){return S(o),y(r.onSelectionChanged(p))}),X(10,11),_(11,Vb,2,0,"th",12)(12,Ab,2,1,"td",13),K(),X(13,14),_(14,Pb,2,0,"th",12)(15,kb,2,1,"td",13),K(),X(16,15),_(17,Nb,2,0,"th",12)(18,Gb,2,1,"td",13),K(),_(19,Wb,1,0,"tr",16)(20,Bb,1,1,"tr",17),l(),a(21,"footer",18),_(22,jb,4,3,"div",19)(23,$b,4,2,"ng-template",null,0,V),l()(),a(25,"nui-paginator",20),Je("pageChange",function(p){return S(o),Ke(r.page,p)||(r.page=p),y(p)}),b("pagerAction",function(p){return S(o),y(r.changePagination(p))}),l()}if(i&2){let o=R(24);u(4),F(De(5,17,r.selection)),u(4),m("value",r.searchTerm),u(),m("dataSource",r.items)("sortable",!0)("sortedColumn",r.sortedColumn),Xe("selection",r.selection),m("selectionConfig",r.selectionConfig)("trackBy",r.trackBy),u(10),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns),u(2),m("ngIf",r.isBusy)("ngIfElse",o),u(3),Xe("page",r.page),m("pageSize",r.pageSize)("pageSizeSet",pt(19,Mb))("total",r.totalItems)}},dependencies:[W,ge,ve,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St,Pt,Tr],styles:[`.icon-margin{margin-right:5px}.app-table-with-selection__container{overflow:auto}.app-table-with-selection-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-selection-scrolling-footer{height:28px}
`],encapsulation:2})}}return t})();var zo=400,Vl=new Bn("CUSTOM_SCROLL_ITEMS_PER_PAGE");var Hb="http://nova-pg.swdev.local/api/v1/servers",Lh=(()=>{class t extends ze{constructor(e,i){super(),this.logger=e,this.http=i}static getRequestParams(e){let i=e.virtualScroll?.value||{start:0,end:0},r=new Ze().set("page",Math.ceil(i.start/(i.end-i.start)).toString()).set("pageSize",String(zo)).set("searchField","name").set("searchContent",e.search?.value??"");return e.sorter?.value?.sortBy&&(r=r.set("sortField",e.sorter.value.sortBy),r=r.set("sortOrder",e.sorter.value.direction.toUpperCase())),r}getFilteredData(e){return T(this,null,function*(){return $e(Ee(e).pipe(Ce(i=>({repeat:{itemsSource:i.items},paginator:{total:i.count}}))))})}getBackendData(e){let i=t.getRequestParams(e);return this.http.get(Hb,{params:i}).pipe(Pe(300),Ce(r=>({items:r.items?.map(o=>({name:o.name,location:o.location,status:o.status}))||[],count:r.count})),He(r=>(this.logger.error(r),Ee({items:[],count:0}))))}static{this.\u0275fac=function(i){return new(i||t)(de(Qe),de(Ue))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();var Al=(()=>{class t{constructor(e){this.itemsPerPage=e,this.reset()}getFilters(){return{type:"virtualScroll",value:this.virtualScrollRange}}reset(){this.virtualScrollRange={start:0,end:this.itemsPerPage}}prepareNextPage(e){e<this.itemsPerPage||(this.virtualScrollRange.start+=this.itemsPerPage,this.virtualScrollRange.end=this.virtualScrollRange.start+this.itemsPerPage)}static{this.\u0275fac=function(i){return new(i||t)(de(Vl))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac})}}return t})();function Qb(t,n){t&1&&(a(0,"th",22),U(1,2),l()),t&2&&di("width",30,"%")}function zb(t,n){if(t&1&&(a(0,"td",23),s(1),l()),t&2){let e=n.$implicit;u(),F(e.name)}}function qb(t,n){t&1&&(a(0,"th",22),U(1,3),l()),t&2&&di("width",30,"%")}function Xb(t,n){if(t&1&&(a(0,"td",23),s(1),l()),t&2){let e=n.$implicit;u(),B(" ",e.location," ")}}function Kb(t,n){t&1&&(a(0,"th",22),U(1,4),l())}function Jb(t,n){if(t&1&&(a(0,"td",23),s(1),l()),t&2){let e=n.$implicit;u(),F(e.status)}}function Yb(t,n){t&1&&E(0,"tr",24)}function Zb(t,n){t&1&&E(0,"tr",25)}function eF(t,n){if(t&1&&(a(0,"div"),E(1,"nui-progress",26),a(2,"div",27),s(3),l()()),t&2){let e=g();u(),m("show",!0)("compactMode",!0),u(2),B(" Loading next ",e.pageSize," items... ")}}function tF(t,n){if(t&1){let e=j();a(0,"div",27)(1,"div",28)(2,"div",29),U(3,5),l(),a(4,"div",30)(5,"button",31),b("click",function(){S(e);let r=g();return y(r.applyFilters(!1))}),U(6,6),l()()()()}if(t&2){let e=g();u(3),lt(e.items.length),st(3),u(3),lt(e.pageSize),st(6)}}var Pl=(()=>{class t{constructor(e,i,r,o){this.dataSource=e,this.viewportManager=i,this.customVirtualScrollStrategyService=r,this.changeDetection=o,this.items=[],this.isBusy=!1,this.displayedColumns=["name","location","status"],this.sortedColumn={sortBy:"name",direction:Ne.ascending},this.columnsToApplySearch=["name"],this.pageSize=zo,this.rowHeight=40,this.destroy$=new ue}ngOnInit(){this.dataSource.busy.pipe(ne(e=>{this.isBusy=e,this.changeDetection.detectChanges()}),re(this.destroy$)).subscribe()}ngAfterViewInit(){return T(this,null,function*(){this.dataSource.registerComponent(this.table.getFilterComponents()),this.dataSource.registerComponent({search:{componentInstance:this.search},virtualScroll:{componentInstance:this.customVirtualScrollStrategyService}}),this.viewportManager.setViewport(this.viewport),this.dataSource.outputsSubject.pipe(ne(e=>{let i=e.repeat?.itemsSource||[],r=i.length,o=r<this.pageSize?this.previouslyLoadedCount-r:r;i=i.slice(0,o),this.previouslyLoadedCount=i.length,this.items=this.items.concat(i),this.customVirtualScrollStrategyService.prepareNextPage(r)}),re(this.destroy$)).subscribe(),this.search.inputChange.pipe(Pi(500),ne(()=>T(this,null,function*(){return this.onSearch()})),re(this.destroy$)).subscribe(),yield this.applyFilters()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){return T(this,null,function*(){yield this.applyFilters()})}onSearchCancel(){return T(this,null,function*(){yield this.applyFilters()})}sortData(e){return T(this,null,function*(){this.sortedColumn=e,yield this.applyFilters()})}applyFilters(e=!0){return T(this,null,function*(){e&&this.viewportManager.reset({emitFirstPage:!1});let i=this.dataSource.getFilters();(this.dataSource.computeFiltersChange(i)||i.virtualScroll?.value.start===0)&&(this.items=[],this.customVirtualScrollStrategyService.reset()),yield this.dataSource.applyFilters()})}static{this.\u0275fac=function(i){return new(i||t)(w(N),w(rt),w(Al),w(_e))}}static{this.\u0275cmp=M({type:t,selectors:[["app-table-with-custom-virtual-scroll"]],viewQuery:function(i,r){if(i&1&&(k(ye,5),k(ve,5),k(Qt,5)),i&2){let o;O(o=D())&&(r.table=o.first),O(o=D())&&(r.search=o.first),O(o=D())&&(r.viewport=o.first)}},features:[he([rt,Al,{provide:Vl,useValue:zo},{provide:N,useClass:Lh}])],decls:22,vars:14,consts:()=>{let e;e=$localize`:1544348a6496c3dcf8e4905654cbb5f5fee191e61552568671699956057: Name `;let i;i=$localize`:e01692d26b709ceb10a22f9279fe604d79a26aaa212627037199736435: Location `;let r;r=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`;let o;o=$localize`:fd2c761c79d0b41a63c7f1ca71a99a1439f817904607040487655280131: Showing ${"\uFFFD0\uFFFD"}:INTERPOLATION: item(s). `;let c;return c=$localize`:82b9a2e2e3f636942c16552ddad1266bc1eeee473980091347819066373: Load another ${"\uFFFD0\uFFFD"}:INTERPOLATION: items `,[["viewportRef",""],["defaultText",""],e,i,r,o,c,[1,"app-table-with-custom-virtual-scroll__container"],[1,"app-table-with-custom-virtual-scroll-searchable__search"],[3,"search","cancel","value"],["tableStickyHeader","",1,"app-table-with-custom-virtual-scroll-scrolling-container",3,"itemSize"],["nui-table","",3,"sortOrderChanged","dataSource","sortable","sortedColumn"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-table-with-custom-virtual-scroll-scrolling-footer"],[4,"ngIf","ngIfElse"],["nui-header-cell",""],["nui-cell",""],["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],[1,"d-flex","justify-content-center"],["btn","","nui-button","","type","button","size","default","displayStyle","action",3,"click"]]},template:function(i,r){if(i&1){let o=j();a(0,"div",7)(1,"div",8)(2,"nui-search",9),b("search",function(){return S(o),y(r.onSearch())})("cancel",function(){return S(o),y(r.onSearchCancel())}),l()(),a(3,"cdk-virtual-scroll-viewport",10,0)(5,"table",11),q(6,"sliceRange"),b("sortOrderChanged",function(p){return S(o),y(r.sortData(p))}),X(7,12),_(8,Qb,2,2,"th",13)(9,zb,2,1,"td",14),K(),X(10,15),_(11,qb,2,2,"th",13)(12,Xb,2,1,"td",14),K(),X(13,16),_(14,Kb,2,0,"th",17)(15,Jb,2,1,"td",14),K(),_(16,Yb,1,0,"tr",18)(17,Zb,1,0,"ng-template",19),l()(),a(18,"footer",20),_(19,eF,4,3,"div",21)(20,tF,7,2,"ng-template",null,1,V),l()()}if(i&2){let o=R(4),c=R(21);u(2),m("value",r.searchTerm),u(),m("itemSize",r.rowHeight),u(2),m("dataSource",Ae(6,11,r.items,o.getRenderedRange()))("sortable",!0)("sortedColumn",r.sortedColumn),u(11),m("nuiHeaderRowDef",r.displayedColumns)("nuiHeaderRowDefSticky",!0),u(),m("nuiRowDefColumns",r.displayedColumns)("cdkVirtualForOf",r.items),u(2),m("ngIf",r.isBusy)("ngIfElse",c)}},dependencies:[W,ve,ye,It,Ct,xt,wt,bt,Et,Tt,yt,St,gn,wn,fn,hn,Qt,Pt,vn],styles:[`.icon-margin{margin-right:5px}.app-table-with-custom-virtual-scroll__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-table-with-custom-virtual-scroll-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-custom-virtual-scroll-scrolling-container{height:300px}.app-table-with-custom-virtual-scroll-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}
`],encapsulation:2})}}return t})();function iF(t,n){t&1&&E(0,"app-table-with-virtual-scroll")}function nF(t,n){t&1&&E(0,"app-table-with-custom-virtual-scroll")}var Vh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["nui-table-schematics-docs-example"]],features:[he([{provide:Nn,useValue:Nn.table}])],decls:99,vars:3,consts:[["vs",""],["cvs",""],["schematicFolderName","table"],["schematicSummary",""],["name","selectionMode"],["name","pagingMode"],["name","dataSource"],["name","enableSearch"],["name","enableSort"],["schematicExamples",""],["heading","Basic"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["exampleFolderName","basic-table"],["heading","Sort"],["exampleFolderName","table-with-sort"],["heading","Search"],["exampleFolderName","table-with-search"],["heading","Pagination"],["exampleFolderName","table/table-with-pagination"],["heading","Selection"],["exampleFolderName","table/table-with-selection"],["heading","Virtual Scroll"],["type","warning",3,"allowDismiss"],["exampleFolderName","table/table-with-virtual-scroll"],[4,"ngIf"],["heading","Custom Virtual Scroll"],["exampleFolderName","table/table-with-custom-virtual-scroll"]],template:function(i,r){if(i&1&&(a(0,"nui-schematic-docs-page",2)(1,"div",3)(2,"p"),s(3," The Table schematic provides the ability to create a generic table that can cover a majority of use cases. Its main responsibility is to integrate the functionality of the "),a(4,"code"),s(5,"nui-table"),l(),s(6," component with other components commonly used with a table such as "),a(7,"code"),s(8,"nui-search"),l(),s(9," and "),a(10,"code"),s(11,"nui-paginator"),l(),s(12,". "),l(),a(13,"h2"),s(14,"Notable Command Line Options"),l(),E(15,"nui-schematic-cli-option",4)(16,"nui-schematic-cli-option",5)(17,"nui-schematic-cli-option",6)(18,"nui-schematic-cli-option",7)(19,"nui-schematic-cli-option",8),l(),a(20,"nui-tab-group",9)(21,"nui-tab",10)(22,"h2"),s(23,"Basic Usage"),l(),a(24,"p"),s(25," This example illustrates the output of the CLI command without any modifications. Consumers are able to build upon the generated boilerplate to provide additional functionality depending on their use case. Data manipulations (filtering/pagination/sorting/search) are handled by the "),a(26,"a",11)(27,"code"),s(28,"ClientSideDataSource"),l()(),s(29," service, which can be extended with custom filtering behavior. "),l(),a(30,"nui-schematic-docs-command"),s(31,"ng g @nova-ui/bits:table --p=app --name=basic-table --enable-search=false --enable-sort=false"),l(),a(32,"nui-schematic-docs-example",12),E(33,"app-basic-table"),l()(),a(34,"nui-tab",13)(35,"h2"),s(36,"Table Sorting"),l(),a(37,"nui-schematic-docs-command"),s(38,"ng g @nova-ui/bits:table --p=app --name=table-with-sort --enable-sort --enable-search=false"),l(),a(39,"nui-schematic-docs-example",14),E(40,"app-table-with-sort"),l()(),a(41,"nui-tab",15)(42,"h2"),s(43,"Table with Search"),l(),a(44,"nui-schematic-docs-command"),s(45,"ng g @nova-ui/bits:table --p=app --name=table-with-search --enable-search --enable-sort=false"),l(),a(46,"nui-schematic-docs-example",16),E(47,"app-table-with-search"),l()(),a(48,"nui-tab",17)(49,"h2"),s(50,"Pagination"),l(),a(51,"p"),s(52," This example shows how to add pagination to "),a(53,"code"),s(54,"nui-table"),l(),s(55," with a remote data source. "),l(),a(56,"nui-schematic-docs-command"),s(57,"ng g @nova-ui/bits:table --name=table-with-pagination --p=app --pagingMode=pagination --dataSource=serverSide"),l(),a(58,"nui-schematic-docs-example",18),E(59,"app-table-with-pagination"),l()(),a(60,"nui-tab",19)(61,"h2"),s(62,"Selection"),l(),a(63,"p"),s(64," This example shows how to add selection to "),a(65,"code"),s(66,"nui-table"),l(),s(67," with a remote data source. "),l(),a(68,"nui-schematic-docs-command"),s(69,"ng g @nova-ui/bits:table --name=table-with-pagination --p=app --pagingMode=pagination --dataSource=serverSide "),a(70,"strong"),s(71,"--selectionMode=multi"),l()(),a(72,"nui-schematic-docs-example",20),E(73,"app-table-with-selection"),l()(),a(74,"nui-tab",21,0)(76,"h2"),s(77,"Virtual Scroll"),l(),a(78,"p"),s(79," This example shows how to add virtual scroll to "),a(80,"code"),s(81,"nui-repeat"),l(),s(82," with a remote data source. "),l(),a(83,"nui-message",22),s(84," Since the example makes use of search and sorting filters, it's important to note that the viewport manager's paging progress must be reset each time the data is refreshed with new filtered results whenever the filters are changed. "),l(),a(85,"nui-schematic-docs-command"),s(86,"ng g @nova-ui/bits:table --name=table-with-virtual-scroll --p=app --pagingMode=virtualScroll --dataSource=serverSide"),l(),a(87,"nui-schematic-docs-example",23),_(88,iF,1,0,"app-table-with-virtual-scroll",24),l()(),a(89,"nui-tab",25,1)(91,"h2"),s(92,"Virtual Scroll with Custom Strategy"),l(),a(93,"nui-schematic-docs-command"),s(94," ng g @nova-ui/bits:table --name=table-with-virtual-scroll --p=app --pagingMode=virtualScroll --dataSource=serverSide "),a(95,"strong"),s(96,"--virtualScrollStrategy=custom"),l()(),a(97,"nui-schematic-docs-example",26),_(98,nF,1,0,"app-table-with-custom-virtual-scroll",24),l()()()()),i&2){let o=R(75),c=R(90);u(83),m("allowDismiss",!1),u(5),m("ngIf",o.active),u(10),m("ngIf",c.active)}},dependencies:[W,Hn,zn,Qn,ar,lr,sr,co,po,Dl,Ol,Rl,Ll,Ml,Pl],encapsulation:2})}}return t})();var Ah=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["table-schematics-visual-test"]],decls:29,vars:0,consts:[[1,"container"],[1,"row"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Basic"),l()(),E(4,"app-basic-table"),a(5,"div",1)(6,"h2"),s(7,"Pagination"),l()(),E(8,"app-table-with-pagination"),a(9,"div",1)(10,"h2"),s(11,"Search"),l()(),E(12,"app-table-with-search"),a(13,"div",1)(14,"h2"),s(15,"Selection"),l()(),E(16,"app-table-with-selection"),a(17,"div",1)(18,"h2"),s(19,"Sorting"),l()(),E(20,"app-table-with-sort"),a(21,"div",1)(22,"h2"),s(23,"Virtual Scroll"),l()(),E(24,"app-table-with-virtual-scroll"),a(25,"div",1)(26,"h2"),s(27,"Custom Virtual Scroll"),l()(),E(28,"app-table-with-custom-virtual-scroll"),l())},dependencies:[po,Dl,Ol,Rl,Ll,Ml,Pl],encapsulation:2})}}return t})();var rF="https://countries-274616.ew.r.appspot.com/",sn=function(t){return t.Main="",t.List="list",t.ListPagination="list-pagination",t.ListVirtualScroll="list-virtual-scroll",t.Table="table",t.TablePagination="table-pagination",t.TablePaginationSelection="table-pagination-selection",t.TableVirtualScroll="table-virtual-scroll",t.TableVirtualScrollSelection="table-virtual-scroll-selection",t.TableVirtualScrollCustom="table-virtual-scroll-custom",t}(sn||{}),oF=[{path:sn.Main,component:f0},{path:sn.List,component:_l},{path:sn.ListPagination,component:nl},{path:sn.ListVirtualScroll,component:ol},{path:sn.Table,component:ll},{path:sn.TablePagination,component:cl},{path:sn.TablePaginationSelection,component:Cl},{path:sn.TableVirtualScroll,component:fl},{path:sn.TableVirtualScrollSelection,component:xl},{path:sn.TableVirtualScrollCustom,component:Tl}],aF=[{path:"",component:vh,data:{srlc:{hideIndicator:!0}}},{path:"filtered-view",component:Fl,data:{srlc:{stage:xr.ga},showThemeSwitcher:!0},children:oF},{path:"filter-group",component:tf,data:{srlc:{stage:xr.ga},showThemeSwitcher:!0}},{path:"list",component:gh,data:{srlc:{stage:xr.ga},showThemeSwitcher:!0}},{path:"list-outlet",component:Fl,children:[{path:"selection",component:wl},{path:"vscroll",component:bl}]},{path:"table",component:Vh,data:{srlc:{stage:xr.ga},showThemeSwitcher:!0}},{path:"table-outlet",component:Fl,children:[{path:"virtual-scroll",component:po,data:{srlc:{hideIndicator:!0}}},{path:"visual-test",component:Ah,data:{srlc:{hideIndicator:!0}}}]},{path:"tree",component:gl,data:{srlc:{stage:xr.ga},showThemeSwitcher:!0}}],xq=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=oe({providers:[up,Uo,{provide:Ko,useValue:Np("schematics")},{provide:rc,useFactory:e=>({cache:new Bo,link:e.create({uri:rF})}),deps:[od]}],imports:[le,et,_p,Nt,Ot,Wt,Bt,Ip,xp,tt,Cp,Dt,Gt,Ei,vt,kt,ci,yp.forChild(aF),Qc,gd,wd,Md,Hd,wp,jn,gp,mp,xe,$n,ji,w0,N0,If,df,K0,Qc,ah,At,L0,S0,H0]})}}return t})();export{xq as default};
