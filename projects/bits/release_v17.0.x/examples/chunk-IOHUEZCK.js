import{d as a}from"./chunk-N5FUFMYY.js";import{Ca as o,Ia as c,Ra as r,Sa as l,pb as n}from"./chunk-7UJBXEVU.js";var v=(()=>{class t{static{this.focusablesToCapture=["input","textarea"]}constructor(e,s){this.el=e,this.document=s,this.preventScroll=!1,this.focusChange=new l,this.onBlur=()=>{this.document.activeElement!==this.focusableElement&&this.nuiSetFocus&&(this.nuiSetFocus=!1,this.focusChange.emit(!1))},this.onFocus=()=>{this.document.activeElement===this.focusableElement&&(this.nuiSetFocus||(this.nuiSetFocus=!0,this.focusChange.emit(!0)))}}ngOnChanges(e){!this.focusableElement||!e.nuiSetFocus||(e.nuiSetFocus.currentValue?this.focusableElement.focus({preventScroll:this.preventScroll}):this.focusableElement.blur())}ngAfterViewInit(){this.focusableElement=this.getFirstFocusable(this.el.nativeElement),this.focusableElement.addEventListener("focus",this.onFocus),this.focusableElement.addEventListener("blur",this.onBlur),this.nuiSetFocus&&this.focusableElement.focus({preventScroll:this.preventScroll})}getFirstFocusable(e){let s=e.tagName.toLowerCase(),i;if(t.focusablesToCapture.indexOf(s)!==-1)i=e;else{let u=e.querySelectorAll(t.focusablesToCapture.join());i=u.length?u[0]:e}return i}static{this.\u0275fac=function(s){return new(s||t)(n(r),n(a))}}static{this.\u0275dir=o({type:t,selectors:[["","nuiSetFocus",""]],inputs:{nuiSetFocus:"nuiSetFocus",preventScroll:"preventScroll"},outputs:{focusChange:"focusChange"},features:[c]})}}return t})();export{v as a};
