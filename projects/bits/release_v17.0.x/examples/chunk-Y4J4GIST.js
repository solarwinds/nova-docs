import{a as nr}from"./chunk-HDYRFVZG.js";import{a as To,b as Fo,c as Ro}from"./chunk-HJHHKXNT.js";import{d as Ne,e as a,f as l,g as R,j as T,o as E,r as Te}from"./chunk-KIGPGWPN.js";import{c as Wi,d as Ui,g as F,h as ot,i as we,j as lo,k as it,w as wo}from"./chunk-6RVLRIW3.js";import{a as fe,b as _o,c as Do,e as he,h as pt}from"./chunk-3JWQNBEA.js";import{k as De}from"./chunk-GDOOYE5G.js";import{a as ct}from"./chunk-LEZNP5ZZ.js";import{a as lt}from"./chunk-K3XZREN6.js";import{a as Io}from"./chunk-D4P6DHOT.js";import{a as _e}from"./chunk-IOHUEZCK.js";import{a as er}from"./chunk-XNNWVHAR.js";import{a as Hi}from"./chunk-ERQIER5V.js";import{a as mt}from"./chunk-7MRHA4J6.js";import{a as Yi}from"./chunk-HOKHJISD.js";import{a as rt}from"./chunk-FEEMFRND.js";import{e as ko,f as jo}from"./chunk-7HICAA52.js";import{a as ut,b as Eo,c as Ke}from"./chunk-WB3W4DUY.js";import{a as No}from"./chunk-BKK3WM7A.js";import{b as Zi}from"./chunk-44MRUDZE.js";import{a as po}from"./chunk-XZBZIPTN.js";import{a as rr}from"./chunk-DM3GYLQK.js";import{a as tr,b as or,c as ir}from"./chunk-DWMPD6CE.js";import{a as Ji}from"./chunk-STZLNT5U.js";import{a as qi,b as $i,c as zi}from"./chunk-KYSRY4X7.js";import{d as at}from"./chunk-KPMNOLLU.js";import{a as st}from"./chunk-SHQNNEG6.js";import{a as Qi}from"./chunk-RBCDJAEW.js";import{a as tt}from"./chunk-LT3SQWXE.js";import{x as J,y as Se}from"./chunk-YS6YGF5L.js";import{c as Ue,e as xo,g as So,k as Mo,o as Xi,q as nt,s as Ie}from"./chunk-P53HI2D5.js";import{b as vo,e as Co,h as bo,j as yo}from"./chunk-LVGKZ3JP.js";import{D as We,o as fo,x as ho,y as go}from"./chunk-CHJVZ6O7.js";import{a as mo,c as co,d as uo,f as Ki,h as Gi}from"./chunk-W53BDDEF.js";import{a as et}from"./chunk-ZFV3QWQN.js";import{a as U}from"./chunk-KNI7S7QC.js";import{c as ze}from"./chunk-BXWCCJQR.js";import{a as Li}from"./chunk-TYMJBZC2.js";import{b as Vi}from"./chunk-J22KVR7U.js";import{a as ao}from"./chunk-WWHLHLSG.js";import{a as oe}from"./chunk-QRWA7LTP.js";import{c as $e}from"./chunk-ZQRZBPBD.js";import{d as Me}from"./chunk-7KV4WPOL.js";import{a as Je}from"./chunk-SPXQGSTF.js";import{a as Bi}from"./chunk-FSE63SP3.js";import{e as Oi,f as Ai}from"./chunk-NYJJF7B3.js";import{B as W,d as de,l as no,m as X,s as so}from"./chunk-N5FUFMYY.js";import{$b as Xt,Aa as N,B as ae,Ba as s,Gb as q,Hb as le,Hc as to,Ia as $t,Ib as y,Ic as oo,Ja as me,Ka as ce,L as Vt,Lb as Xe,M as H,Mb as Qt,Ob as h,Pa as ue,Pb as v,Qb as Z,Ra as Ae,Rb as Yt,S as Ht,Sa as L,Sb as Zt,Ub as He,Wc as io,_c as ro,ec as _,fa as Lt,fc as P,g as j,ga as pe,gc as Le,h as Y,ha as qt,hc as qe,ia as ve,ib as zt,jb as Wt,lb as Ze,mc as Ce,nc as be,oa as x,ob as b,oc as ye,pa as n,pb as w,pc as Jt,qc as O,rb as Ut,rc as z,sc as xe,ta as C,tb as Be,ub as Kt,vb as Ve,w as Bt,wb as Gt,yc as eo}from"./chunk-7UJBXEVU.js";import{a as S,b as V,f as D,g,h as At,j as k}from"./chunk-XR34LRGE.js";var Vo=D((qu,Bo)=>{var Fr=co(),Rr=Mo(),Er=mo();function kr(t,c,e){for(var o=-1,i=c.length,r={};++o<i;){var p=c[o],u=Fr(t,p);e(u,p)&&Rr(r,Er(p,t),u)}return r}Bo.exports=kr});var Lo=D(($u,Ho)=>{var jr=Vo(),Pr=Ki();function Or(t,c){return jr(t,c,function(e,o){return Pr(t,o)})}Ho.exports=Or});var $o=D((zu,qo)=>{var Ar=Hi();function Br(t){var c=t==null?0:t.length;return c?Ar(t,1):[]}qo.exports=Br});var xt=D((Wu,zo)=>{var Vr=$o(),Hr=qi(),Lr=$i();function qr(t){return Lr(Hr(t,void 0,Vr),t+"")}zo.exports=qr});var Uo=D((Uu,Wo)=>{var $r=Lo(),zr=xt(),Wr=zr(function(t,c){return t==null?{}:$r(t,c)});Wo.exports=Wr});var ri=D((zv,ii)=>{var Vn=Mo();function Hn(t,c,e,o){return o=typeof o=="function"?o:void 0,t==null?t:Vn(t,c,e,o)}ii.exports=Hn});var ci=D((u0,mi)=>{var $n=Oi(),zn=tr(),Wn=Ai(),Un="[object Object]",Kn=Function.prototype,Gn=Object.prototype,pi=Kn.toString,Qn=Gn.hasOwnProperty,Yn=pi.call(Object);function Zn(t){if(!Wn(t)||$n(t)!=Un)return!1;var c=zn(t);if(c===null)return!0;var e=Qn.call(c,"constructor")&&c.constructor;return typeof e=="function"&&e instanceof e&&pi.call(e)==Yn}mi.exports=Zn});var li=D((l0,ui)=>{var Xn=ci();function Jn(t){return Xn(t)?void 0:t}ui.exports=Jn});var fi=D((d0,di)=>{var es=et(),ts=ir(),os=Yi(),is=mo(),rs=Ji(),ns=li(),ss=xt(),as=or(),ps=1,ms=2,cs=4,us=ss(function(t,c){var e={};if(t==null)return e;var o=!1;c=es(c,function(r){return r=is(r,t),o||(o=r.length>1),r}),rs(t,as(t),e),o&&(e=ts(e,ps|ms|cs,ns));for(var i=c.length;i--;)os(e,c[i]);return e});di.exports=us});var vi=D((w0,gi)=>{function fs(t,c){var e=t.length;for(t.sort(c);e--;)t[e]=t[e].value;return t}gi.exports=fs});var yi=D((N0,bi)=>{var Ci=Bi();function hs(t,c){if(t!==c){var e=t!==void 0,o=t===null,i=t===t,r=Ci(t),p=c!==void 0,u=c===null,f=c===c,M=Ci(c);if(!u&&!M&&!r&&t>c||r&&p&&f&&!u&&!M||o&&p&&f||!e&&f||!i)return 1;if(!o&&!r&&!M&&t<c||M&&e&&i&&!o&&!r||u&&e&&i||!p&&i||!f)return-1}return 0}bi.exports=hs});var Si=D((_0,xi)=>{var gs=yi();function vs(t,c,e){for(var o=-1,i=t.criteria,r=c.criteria,p=i.length,u=e.length;++o<p;){var f=gs(i[o],r[o]);if(f){if(o>=u)return f;var M=e[o];return f*(M=="desc"?-1:1)}}return t.index-c.index}xi.exports=vs});var wi=D((D0,Mi)=>{var kt=et(),Cs=co(),bs=Gi(),ys=er(),xs=vi(),Ss=Vi(),Ms=Si(),ws=Li(),Ns=ao();function _s(t,c,e){c.length?c=kt(c,function(r){return Ns(r)?function(p){return Cs(p,r.length===1?r[0]:r)}:r}):c=[ws];var o=-1;c=kt(c,Ss(bs));var i=ys(t,function(r,p,u){var f=kt(c,function(M){return M(r)});return{criteria:f,index:++o,value:r}});return xs(i,function(r,p){return Ms(r,p,e)})}Mi.exports=_s});var jt=D((I0,_i)=>{var Ds=wi(),Ni=ao();function Is(t,c,e,o){return t==null?[]:(Ni(c)||(c=c==null?[]:[c]),e=o?void 0:e,Ni(e)||(e=e==null?[]:[e]),Ds(t,c,e))}_i.exports=Is});var Ii=D((T0,Di)=>{var Ts=et(),Fs=Wi(),Rs=zi(),Es=Ui(),ks=Rs(function(t){var c=Ts(t,Es);return c.length&&c[0]===t[0]?Fs(c):[]});Di.exports=ks});var d=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,l]})}}return t})();var K=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a]})}}return t})();var ie=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a]})}}return t})();var sr=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,De,De]})}}return t})();var dt=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,l,d]})}}return t})();var ft=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a]})}}return t})();var re=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[J,xo,Ue,d,l,E,W,R]})}}return t})();var dr=g(po());var Oo=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[W,Ue,re,a,R]})}}return t})();var G=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,Oo]})}}return t})();var Fe=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a]})}}return t})();var I=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,d,K,l,G,ie,Fe]})}}return t})();var Re=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a]})}}return t})();var ht=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,K,Re,We,De]})}}return t})();var Q=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,d,E]})}}return t})();var ne=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,Q,d,J,d,ht]})}}return t})();var Ee=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,Se,G,l,ne,d,I,Se]})}}return t})();var gt=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,l]})}}return t})();var hr=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a]})}}return t})();var vt=(()=>{class t{getBreadcrumbState(e,o="",i=[]){let r=e.snapshot.data.breadcrumb,p=`${o}${e.routeConfig?.path}/`,u=e.snapshot.data.url,f=[...i,{title:r,routerState:p,url:u}];return e.firstChild?this.getBreadcrumbState(e.firstChild,p,f):f}getNavigationSubscription(e){return e.events.pipe(H(o=>o instanceof fe))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vr(t,c){if(t&1){let e=He();Yt(0),h(1,"a",6),_("click",function(i){me(e);let r=P().$implicit,p=P(2);return ce(p.handleClick(i,r))}),O(2),v(),Z(3,"nui-icon",7),Zt()}if(t&2){let e=P().$implicit;b(),le("href",e==null?null:e.url,Wt),b(),z(e.title)}}function Cr(t,c){if(t&1&&(h(0,"span",8),O(1),v()),t&2){let e=P().$implicit;b(),z(e.title)}}function br(t,c){if(t&1&&(h(0,"span",3),q(1,vr,4,2,"ng-container",4)(2,Cr,2,1,"span",5),v()),t&2){let e=c.last;b(),y("ngIf",!e),b(),y("ngIf",e)}}function yr(t,c){if(t&1&&(h(0,"div",1),q(1,br,3,2,"span",2),v()),t&2){let e=P();le("aria-label",e.ariaLabel),b(),y("ngForOf",e.items)}}var xr=(()=>{class t{constructor(){this.ariaLabel="Breadcrumb",this.navigation=new L}handleClick(e,o){if(e.preventDefault(),e.ctrlKey){o?.url&&window.open(o?.url,"_blank");return}this.navigation.emit(o.routerState)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=N({type:t,selectors:[["nui-breadcrumb"]],hostVars:1,hostBindings:function(o,i){o&2&&le("aria-label",i.ariaLabel)},inputs:{items:"items",ariaLabel:"ariaLabel"},outputs:{navigation:"navigation"},decls:1,vars:1,consts:[["class","nui-breadcrumb",4,"ngIf"],[1,"nui-breadcrumb"],["class","nui-breadcrumb__wrapper",4,"ngFor","ngForOf"],[1,"nui-breadcrumb__wrapper"],[4,"ngIf"],["aria-current","page","class","nui-breadcrumb__crumb nui-breadcrumb__crumb-current-level",4,"ngIf"],[1,"nui-breadcrumb__crumb","nui-breadcrumb__crumb__link",3,"click"],["icon","caret-right","iconColor","disabled-gray","iconSize","small",1,"nui-breadcrumb__caret-icon"],["aria-current","page",1,"nui-breadcrumb__crumb","nui-breadcrumb__crumb-current-level"]],template:function(o,i){o&1&&q(0,yr,2,2,"div",0),o&2&&y("ngIf",(i.items==null?null:i.items.length)>1)},dependencies:[no,X,Me],styles:[`.nui .nui-breadcrumb{align-items:center;display:flex;flex-direction:row;font-size:11px;line-height:14px;overflow:hidden;padding:5px 0}.nui .nui-breadcrumb__crumb{white-space:nowrap}.nui .nui-breadcrumb__crumb__link{cursor:pointer}.nui .nui-breadcrumb__crumb-current-level{color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));cursor:default}.nui .nui-breadcrumb__caret-icon{padding:0 5px}.nui .nui-breadcrumb__wrapper{align-items:center;display:inline-flex}
`],encapsulation:2})}}return t})();var Sr=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({providers:[vt],imports:[a,l]})}}return t})();var Ct=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,Q]})}}return t})();var Mr=(()=>{class t{constructor(){this.chipRemoved=new L}onClear(e){e.group&&(e.group=this.itemsSource.groupedItems?.find(o=>o.items.find(i=>i===e.item))),this.chipRemoved.emit(e)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=N({type:t,selectors:[["nui-chips-overflow"]],hostAttrs:[1,"nui-chips-overflow"],inputs:{overflowSource:"overflowSource",itemsSource:"itemsSource"},outputs:{chipRemoved:"chipRemoved"},decls:1,vars:3,consts:[["orientation","vertical",3,"chipRemoved","itemsSource","allowRemoveAll","overflow"]],template:function(o,i){o&1&&(h(0,"nui-chips",0),_("chipRemoved",function(p){return i.onClear(p)}),v()),o&2&&y("itemsSource",i.overflowSource)("allowRemoveAll",!1)("overflow",!1)},dependencies:[mt],styles:[`.nui-chips-overflow .nui-chips{background-color:var(--nui-color-bg-content_popover,#fff)}
`],encapsulation:2})}}return t})();var wr=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,l,E]})}}return t})();var Nr=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a]})}}return t})();var ke=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,ne,l,d,R]})}}return t})();var je=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,ne,l,R,I]})}}return t})();var bt=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,ke,je]})}}return t})();var Dr=["*"];function Ir(t,c){if(t&1&&Z(0,"nui-icon",5),t&2){let e=P();y("icon",e.severityIcon)}}var yt=(()=>{class t{constructor(){this.closed=new L,this.severityClass="",this.severityIcon=""}ngOnInit(){this.severity&&(this.severityClass=`dialog-header-${this.severity}`,this.severityIcon=`severity_${this.severity}`)}innerClose(e){this.closed.emit(e)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=N({type:t,selectors:[["nui-dialog-header"]],inputs:{title:"title",severity:"severity"},outputs:{closed:"closed"},ngContentSelectors:Dr,decls:8,vars:5,consts:[[1,"severity-text"],[3,"icon",4,"ngIf"],[1,"dialog-title"],[1,"btn-group"],["nui-button","","nuiSetFocus","true","preventScroll","true","type","button","displayStyle","action","icon","close","ariaLabel","Close",3,"click"],[3,"icon"]],template:function(o,i){o&1&&(Le(),h(0,"div")(1,"div",0),q(2,Ir,1,1,"nui-icon",1),h(3,"h1",2),O(4),v()(),h(5,"div",3),qe(6),h(7,"button",4),_("click",function(p){return i.innerClose(p)}),v()()()),o&2&&(Qt("dialog-header ",i.severityClass,""),b(2),y("ngIf",i.severityIcon),b(2),z(i.title))},dependencies:[X,_e,Me,oe],encapsulation:2})}}return t})();var Qo=g(No()),Yo=g(Io()),Zo=g(Uo());var St=(()=>{class t{constructor(e,o){this.activeDialog=e,this.changeDetector=o,this.title=$localize`Confirmation`,this.confirmText=$localize`Yes`,this.dismissText=$localize`No`,this.setFocus="confirm",this.ariaLabel=""}updateInputs(){this.changeDetector.detectChanges()}close(e){this.activeDialog.close(e)}dismiss(){this.activeDialog.dismiss()}focusButton(e){return this.setFocus===e}getAriaLabel(){return(this.severity?`${this.severity} ${this.title}`:this.title)||this.ariaLabel}static{this.\u0275fac=function(o){return new(o||t)(w(we),w(ro))}}static{this.\u0275cmp=N({type:t,selectors:[["nui-confirmation-dialog-window"]],hostAttrs:["role","dialog"],hostVars:1,hostBindings:function(o,i){o&2&&le("aria-label",i.getAriaLabel())},inputs:{title:"title",message:"message",confirmText:"confirmText",dismissText:"dismissText",setFocus:"setFocus",severity:"severity",ariaLabel:"ariaLabel"},decls:9,vars:7,consts:[[3,"closed","title","severity"],[1,"dialog-body"],["nui-button","","type","button","preventScroll","true",3,"click","nuiSetFocus"],["nui-button","","type","button","preventScroll","true","displayStyle","primary",3,"click","nuiSetFocus"]],template:function(o,i){o&1&&(h(0,"nui-dialog-header",0),_("closed",function(){return i.dismiss()}),v(),h(1,"div",1)(2,"p"),O(3),v()(),h(4,"nui-dialog-footer")(5,"button",2),_("click",function(){return i.close(!1)}),O(6),v(),h(7,"button",3),_("click",function(){return i.close(!0)}),O(8),v()()),o&2&&(y("title",i.title)("severity",i.severity),b(3),z(i.message),b(2),y("nuiSetFocus",i.focusButton("dismiss")),b(),xe(" ",i.dismissText," "),b(),y("nuiSetFocus",i.focusButton("confirm")),b(),xe(" ",i.confirmText," "))},dependencies:[_e,oe,yt,ct],encapsulation:2})}}return t})();var Go=g(Je());var Mt=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=N({type:t,selectors:[["nui-dialog-backdrop"]],hostAttrs:[1,"dialog-backdrop","fade","in"],decls:0,vars:0,template:function(o,i){},encapsulation:2})}}return t})();var Kr=["*"],Gr="a, button, input, textarea, select, details, [tabindex]:not([tabindex='-1'])",wt=(()=>{class t{constructor(e,o,i,r,p,u){this.document=e,this.elRef=o,this.renderer=i,this.ngZone=r,this.scrollDispatcher=p,this.router=u,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new L}onShiftTab(e){(this.elRef.nativeElement===this.document.activeElement||!this.elRef.nativeElement.contains(this.document.activeElement))&&this.handleFocus(e)}onTab(e){this.elRef.nativeElement.contains(this.document.activeElement)||this.handleFocus(e)}backdropMouseDown(e){this.mouseDownOrigin=e.target}backdropMouseUp(e){if(this.backdrop===!0){if(this.mouseDownOrigin!==this.elRef.nativeElement)return;this.elRef.nativeElement===e.target&&this.dismiss("BACKDROP_CLICK")}}escKey(e){this.keyboard&&!e.defaultPrevented&&this.dismiss("ESC")}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this.elWithFocus=this.document.activeElement,this.renderer.addClass(this.document.body,"dialog-open"),this.scrollableElement=new go(this.elRef,this.scrollDispatcher,this.ngZone),this.scrollDispatcher.register(this.scrollableElement),this.router.events.pipe(H(e=>e instanceof fe),Ht(1)).subscribe(()=>this.dismiss("ROUTE_CHANGED"))}ngAfterViewInit(){this.elRef.nativeElement.contains(document.activeElement)||this.elRef.nativeElement.focus.apply(this.elRef.nativeElement,[])}ngOnDestroy(){let e=this.document.body,o=this.elWithFocus,i;o&&o.focus&&e.contains(o)?i=o:i=e,i.focus.apply(i,[]),this.elWithFocus=null,this.renderer.removeClass(e,"dialog-open"),this.scrollDispatcher.deregister(this.scrollableElement)}handleFocus(e){e.preventDefault(),this.elRef.nativeElement.querySelector(Gr).focus()}static{this.\u0275fac=function(o){return new(o||t)(w(de),w(Ae),w(Ve),w(Gt),w(ho),w(he))}}static{this.\u0275cmp=N({type:t,selectors:[["nui-dialog-window"]],hostAttrs:["role","dialog","aria-modal","true","tabindex","-1"],hostVars:2,hostBindings:function(o,i){o&1&&_("keyup.esc",function(p){return i.escKey(p)})("mousedown",function(p){return i.backdropMouseDown(p)})("mouseup",function(p){return i.backdropMouseUp(p)})("keydown.shift.tab",function(p){return i.onShiftTab(p)},!1,Ze)("keydown.tab",function(p){return i.onTab(p)},!1,Ze),o&2&&Xe("nui-dialog fade in show"+(i.windowClass?" "+i.windowClass:""))},inputs:{backdrop:"backdrop",keyboard:"keyboard",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismissEvent"},ngContentSelectors:Kr,decls:3,vars:2,consts:[["cdkTrapFocus",""],[1,"dialog-content"]],template:function(o,i){o&1&&(Le(),h(0,"div",0)(1,"div",1),qe(2),v()()),o&2&&Xe("modal-dialog"+(i.size?" dialog-"+i.size:""))},dependencies:[Co],styles:[`.nui .dialog-open{overflow:hidden}.nui .dialog-open .nui-dialog{overflow-x:hidden;overflow-y:auto}.nui .nui-dialog{display:none;overflow:hidden;position:fixed;inset:0;z-index:1050;pointer-events:auto;-webkit-overflow-scrolling:touch;outline:0}.nui .nui-dialog .modal-dialog{position:relative;width:auto;max-width:80%;margin:10px}.nui .nui-dialog .modal-dialog .dialog-content{position:relative;background-color:var(--nui-color-bg-content_popover,#fff);box-shadow:0 0 5px 0 var(--nui-shadow-color, rgba(17, 17, 17, .3));background-clip:padding-box;outline:0;min-width:400px;word-wrap:break-word}.nui .nui-dialog .modal-dialog .dialog-content .dialog-header{display:flex;align-items:center;justify-content:space-between;padding:15px;border-bottom:1px solid;border-bottom-color:var(--nui-color-line-default,#d9d9d9);min-height:39px;background:none}.nui .nui-dialog .modal-dialog .dialog-content .dialog-header .severity-text{display:inline-flex;align-items:center;overflow:hidden}.nui .nui-dialog .modal-dialog .dialog-content .dialog-header .severity-text .dialog-title{white-space:nowrap;overflow:hidden;-ms-text-overflow:ellipsis;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:inline-block;margin:0;padding:0;line-height:24px;text-transform:none}.nui .nui-dialog .modal-dialog .dialog-content .dialog-header .severity-text .nui-icon{margin-right:5px}.nui .nui-dialog .modal-dialog .dialog-content .dialog-header .btn-group{margin-left:15px}.nui .nui-dialog .modal-dialog .dialog-content .dialog-header.dialog-header-info{border-bottom:3px solid;border-bottom-color:var(--nui-color-line-info,#1c8eb1)}.nui .nui-dialog .modal-dialog .dialog-content .dialog-header.dialog-header-warning{border-bottom:3px solid;border-bottom-color:var(--nui-color-line-warning,#fec405)}.nui .nui-dialog .modal-dialog .dialog-content .dialog-header.dialog-header-critical{border-bottom:3px solid;border-bottom-color:var(--nui-color-line-critical,#dd2c00)}.nui .nui-dialog .modal-dialog .dialog-content .dialog-body{position:relative;padding:15px}.nui .nui-dialog .modal-dialog .dialog-content .dialog-body.compact-mode{padding:0}.nui .nui-dialog .modal-dialog .dialog-content .dialog-body.responsive-mode{overflow:auto;max-height:71vh}.nui .dialog-backdrop{position:fixed;inset:0;z-index:1040;background-color:var(--nui-color-overlay-modal,rgba(17, 17, 17, .5))}.nui .nui-overlay-container.cdk-overlay-container .dialog-backdrop,.nui .nui-overlay-container.cdk-overlay-container .nui-dialog{z-index:1000}@media (min-width: 768px){.nui .nui-dialog .modal-dialog{width:600px;margin:80px auto}.nui .nui-dialog .modal-dialog .dialog-content{box-shadow:0 0 5px 0 var(--nui-shadow-color, rgba(17, 17, 17, .3))}.nui-dialog .modal-dialog.dialog-sm{width:400px}}@media (min-width: 992px){.nui-dialog .modal-dialog.dialog-lg{width:900px}}
`],encapsulation:2})}}return t})();var se=class{constructor(c,e,o){this.nodes=c,this.viewRef=e,this.componentRef=o}};var Pe=(()=>{class t{constructor(e,o,i,r,p){this.applicationRef=e,this.injector=o,this.factoryResolver=i,this.overlayContainerService=r,this.document=p,this.windowAttributes=["backdrop","keyboard","size","windowClass"]}open(e,o,i,r){let p=r.container?this.document.querySelector(r.container):this.document.body;if(r.useOverlay&&(p=r.container?this.document.querySelector(r.container):this.overlayContainerService.getOverlayContainer()),!p)throw new Error(`The specified dialog container '${r.container||"body"}' was not found in the DOM.`);let u=new we,f=this.getContentRef(e,r.injector||o,i,u),M=r.backdrop!==!1?this.attachBackdrop(p):void 0,A=this.attachWindowComponent(p,f,wt),B=new ot(A,f,M,r.beforeDismiss);return u.close=$=>{B.close($)},u.dismiss=$=>{B.dismiss($)},this.applyWindowOptions(A.instance,r),B}attachBackdrop(e){let i=this.factoryResolver.resolveComponentFactory(Mt).create(this.injector);return this.applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}attachWindowComponent(e,o,i){let p=this.factoryResolver.resolveComponentFactory(i).create(this.injector,o.nodes);return this.applicationRef.attachView(p.hostView),e.appendChild(p.location.nativeElement),p}applyWindowOptions(e,o){this.windowAttributes.forEach(i=>{(0,Go.default)(o[i])||(e[i]=o[i])})}getContentRef(e,o,i,r){return i?i instanceof Ut?this.createFromTemplateRef(i,r):typeof i=="string"?this.createFromString(i):this.createFromComponent(e,o,i,r):new se([])}createFromTemplateRef(e,o){let i=e.createEmbeddedView(o);return this.applicationRef.attachView(i),new se([i.rootNodes],i)}createFromString(e){let o=this.document.createTextNode(`${e}`);return new se([[o]])}createFromComponent(e,o,i,r){let p=e.resolveComponentFactory(i),u=ue.create({providers:[{provide:we,useValue:r}],parent:o}),f=p.create(u);return this.applicationRef.attachView(f.hostView),new se([[f.location.nativeElement]],f.hostView,f)}static{this.\u0275fac=function(o){return new(o||t)(C(io),C(ue),C(Be),C(nt),C(de))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Nt=(()=>{class t{constructor(e,o,i){this.moduleCFR=e,this.injector=o,this.dialogStack=i,this.afterOpened$=new j}open(e,o={}){let i=this.dialogStack.open(this.moduleCFR,this.injector,e,o);return this.afterOpened$.next(i),i}confirm(e){let o=this.dialogStack.open(this.moduleCFR,this.injector,St,e),i=o.componentInstance,r=(0,Yo.default)(e,(0,Zo.default)(i,["title","confirmText","dismissText"]));return(0,Qo.default)(i,r),i.updateInputs(),this.afterOpened$.next(o),o}static{this.\u0275fac=function(o){return new(o||t)(C(Be),C(ue),C(Pe))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _t=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({providers:[Nt,Pe],imports:[yo,a,l,d]})}}return t})();var Yr=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,l]})}}return t})();var Dt=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,l,Te]})}}return t})();var Xr=g(Zi()),Jr=g(Je());var Oe=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({providers:[Ke,ut,{provide:Eo,useExisting:Ke}],imports:[a,l,d]})}}return t})();var en=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({providers:[Ro,{provide:To,useFactory:Fo}],imports:[W,J,Se,a,Dt,Oe,ie,l,I,G,re]})}}return t})();var tn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,G,d,We,re]})}}return t})();var on=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,d]})}}return t})();var rn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,d,E]})}}return t})();var nn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a]})}}return t})();var sn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,Q,J,d]})}}return t})();var It=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,K,I,d,R]})}}return t})();var ge=g(No()),ei=g(tt()),ti=g(Qi());var Tt=g(Xi());var Xo="sorter items available",Jo="Sorter menu closed";var Qe=(()=>{class t{constructor(e){this.liveAnnouncer=e}initKeyboardManager(){this.keyboardEventsManager=new vo(this.menuItems).withVerticalOrientation(),this.keyboardEventsManager.setActiveItem(-1)}handleKeydown(e){this.overlay.showing?this.handleOpenKeyDown(e):this.handleClosedKeyDown(e)}getActiveItemIndex(){return this.keyboardEventsManager.activeItemIndex}announceDropdown(){let e=this.overlay.showing?`${this.menuItems.length} ${Xo}`:Jo;this.liveAnnouncer.announce(e)}handleOpenKeyDown(e){this.keyboardEventsManager.activeItem?.setInactiveStyles(),(e.code===U.ARROW_DOWN||e.code===U.ARROW_UP)&&(this.keyboardEventsManager.onKeydown(e),this.announceCurrentItem()),!this.hasActiveItem()&&e.code===U.ENTER&&e.preventDefault(),this.hasActiveItem()&&e.code===U.ENTER&&(e.preventDefault(),this.keyboardEventsManager.activeItem?.menuItem.nativeElement.click(),this.keyboardEventsManager.setActiveItem(-1)),(e.code===U.TAB||e.code===U.ESCAPE)&&(this.overlay.hide(),this.announceDropdown(),this.keyboardEventsManager.setActiveItem(-1)),this.keyboardEventsManager.activeItem?.setActiveStyles()}handleClosedKeyDown(e){this.shouldPreventDefault(e)&&e.preventDefault()}hasActiveItem(){return(0,Tt.default)(this.keyboardEventsManager.activeItem)||(0,Tt.default)(this.keyboardEventsManager.activeItemIndex)?!1:this.keyboardEventsManager.activeItem&&this.keyboardEventsManager.activeItemIndex>=0}shouldPreventDefault(e){return e.code===U.ARROW_DOWN||e.code===U.ARROW_UP}announceCurrentItem(){this.liveAnnouncer.announce(`Sort by ${this.keyboardEventsManager?.activeItem?.menuItem.nativeElement.innerText}.`)}static{this.\u0275fac=function(o){return new(o||t)(C(bo))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})();var pn=["popupArea"],mn=["popup"],cn=["toggleRef"];function un(t,c){if(t&1&&(h(0,"label",11),O(1),v()),t&2){let e=P();b(),z(e.caption)}}var ln=(()=>{class t{constructor(e,o,i,r){this.logger=e,this.sorterKeyboardService=o,this.elRef=i,this.renderer=r,this.appendToBody=!1,this.sorterAction=new L,this.detectFilterChanges=!0,this.onDestroy$=new j,this.items=[{itemsSource:[]}],this.overlayConfig={panelClass:[So]},this.sortIcons={[F.ascending]:"arrow-up",[F.descending]:"arrow-down"},this.menuKeyControlListeners=[]}ngOnInit(){this.onAppendToBodyChange(this.appendToBody)}ngOnChanges(e){if(e.itemsSource&&!(0,ei.default)(e.itemsSource.previousValue,e.itemsSource.currentValue)&&(this.itemsSource?.length>0&&typeof this.itemsSource[0]=="string"&&this.logger.warn("The 'string[]' type for the sorter's itemsSource input is deprecated as of Nova v9.                                   Instead, use type 'IMenuItem[]' which is internationalizable with title and value properties for each item."),this.initSelectedItem(),this.initPopupItems()),e.selectedItem&&this.sortConfig?.sortBy!==e.selectedItem.currentValue&&!e.selectedItem.firstChange){let o=(0,ge.default)({},this.sortConfig,{sortBy:e.selectedItem.previousValue});this.selectedItem=e.selectedItem.currentValue,this.sortConfig=(0,ge.default)({},this.sortConfig,{sortBy:e.selectedItem.currentValue}),this.triggerSorterAction(o),this.setPopupSelection()}if(e.sortDirection&&!e.sortDirection.firstChange&&this.sortConfig?.direction!==e.sortDirection.currentValue){let o=this.sortConfig;this.sortDirection=e.sortDirection.currentValue,this.sortConfig=(0,ge.default)({},this.sortConfig,{direction:this.sortDirection}),this.triggerSorterAction(o)}e.appendToBody&&this.onAppendToBodyChange(e.appendToBody.currentValue)}ngAfterViewInit(){this.initSelectedItem(),this.initSortDirection(),this.sortConfig={sortBy:this.selectedItem,direction:this.sortDirection},this.overlay.clickOutside.pipe(pe(this.onDestroy$)).subscribe(e=>this.overlay.hide()),this.updateOverlayWidth(),this.initKeyboardService(),this.menuKeyControlListeners.push(this.renderer.listen(this.elRef.nativeElement,"keydown",e=>{this.sorterKeyboardService.handleKeydown(e)}))}select(e){if(this.selectedItem!==e.value){let o=this.sortConfig;this.selectedItem=e.value,this.sortConfig=(0,ge.default)({},this.sortConfig,{sortBy:e.value}),this.updateOverlayWidth(),this.triggerSorterAction(o),this.setPopupSelection(),this.overlay.hide()}}toggleSortDirection(){let e=this.sortConfig;this.sortDirection=this.sortDirection===F.ascending?F.descending:F.ascending,this.sortConfig=(0,ge.default)({},this.sortConfig,{direction:this.sortDirection}),this.sorterAction.emit({newValue:this.sortConfig,oldValue:e})}getSelectedItem(){return this.selectedItem}getSelectedItemTitle(){return this.items[0].itemsSource.find(e=>e.isSelected)?.title}getSortIcon(){return this.sortIcons[this.sortDirection]}getFilters(){return{type:"sorter",value:S({},this.sortConfig)}}updateOverlayWidth(){this.overlayConfig.minWidth=this.toggleRef.nativeElement.offsetWidth}getAriaLabelForSortingButton(){return this.sortDirection===F.descending?`${this.getSelectedItemTitle()}. Sorter direction - descending`:`${this.getSelectedItemTitle()}. Sorter direction - ascending`}ngOnDestroy(){this.menuKeyControlListeners.forEach(e=>e()),this.onDestroy$.next(),this.onDestroy$.complete()}toggleSorterMenu(){this.overlay.toggle(),this.sorterKeyboardService.announceDropdown()}initSelectedItem(){if(this.selectedItem||!this.itemsSource?.length)return;let e=this.itemsSource[0];this.selectedItem=typeof e=="string"?e:e.value}initPopupItems(){this.items[0].itemsSource=this.itemsSource.map(e=>{let o=typeof e=="string"?{title:e,value:e}:e;return o.isSelected=this.selectedItem===o.value,o})}initSortDirection(){(0,ti.default)(F).indexOf(this.sortDirection)===-1&&(this.sortDirection=F.ascending)}setPopupSelection(){this.items[0].itemsSource.forEach(e=>{e.isSelected=e.value===this.selectedItem})}triggerSorterAction(e){this.sorterAction.emit({newValue:this.sortConfig,oldValue:e})}onAppendToBodyChange(e){this.customContainer=e?void 0:this.popupArea}initKeyboardService(){this.sorterKeyboardService.menuItems=this.menuPopup?.menuItems,this.sorterKeyboardService.overlay=this.overlay,this.sorterKeyboardService.initKeyboardManager()}static{this.\u0275fac=function(o){return new(o||t)(w($e),w(Qe),w(Ae),w(Ve))}}static{this.\u0275cmp=N({type:t,selectors:[["nui-sorter"]],viewQuery:function(o,i){if(o&1&&(Ce(pn,7),Ce(Ie,5),Ce(mn,5),Ce(cn,7)),o&2){let r;be(r=ye())&&(i.popupArea=r.first),be(r=ye())&&(i.overlay=r.first),be(r=ye())&&(i.menuPopup=r.first),be(r=ye())&&(i.toggleRef=r.first)}},hostAttrs:[1,"nui-sorter"],inputs:{appendToBody:"appendToBody",caption:"caption",itemsSource:"itemsSource",selectedItem:"selectedItem",sortDirection:"sortDirection"},outputs:{sorterAction:"sorterAction"},features:[eo([Qe]),$t],decls:14,vars:8,consts:[["toggleRef",""],["popupArea",""],["overlay",""],["popup",""],["class","nui-sorter__label",4,"ngIf"],[1,"btn-group","nui-sorter__popup"],["nui-button","","type","button",1,"nui-sorter__toggle-button",3,"click","icon","ariaLabel"],[1,"nui-sorter__display-value"],["nui-button","","type","button","ariaLabel","Open Sorter Menu","icon","caret-down",1,"nui-selector__toggle",3,"click"],[3,"toggleReference","overlayConfig","customContainer"],[3,"menuItemClicked","itemsSource"],[1,"nui-sorter__label"]],template:function(o,i){if(o&1){let r=He();h(0,"div"),q(1,un,2,1,"label",4),h(2,"div",5,0)(4,"button",6),_("click",function(){return me(r),ce(i.toggleSortDirection())}),h(5,"span",7),O(6),v()(),h(7,"button",8),_("click",function(){return me(r),ce(i.toggleSorterMenu())}),v()(),Z(8,"div",null,1),h(10,"nui-overlay",9,2)(12,"nui-menu-popup",10,3),_("menuItemClicked",function(u){return me(r),ce(i.select(u))}),v()()()}if(o&2){let r=Jt(3);b(),y("ngIf",i.caption),b(3),y("icon",i.getSortIcon())("ariaLabel",i.getAriaLabelForSortingButton()),b(2),xe(" ",i.getSelectedItemTitle()," "),b(4),y("toggleReference",r)("overlayConfig",i.overlayConfig)("customContainer",i.customContainer),b(2),y("itemsSource",i.items)}},dependencies:[X,at,oe,Ie],styles:[`.nui .nui-sorter{max-height:30px}.nui .nui-sorter .list-group{margin:5px 0}.nui .nui-sorter__label{display:block}.nui .nui-sorter__popup{display:flex}.nui .nui-sorter__toggle-button.nui-button{min-width:auto}.nui .nui-sorter .nui-popup .nui-popup__area{min-width:100%;border:none}.nui .nui-sorter .nui-popup .nui-popup__area [popupAreaContent]{padding:0}.nui .nui-sorter .nui-popup .nui-popup__area .nui-list .nui-list-item{border:0}
`],encapsulation:2})}}return t})();var dn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,I,d,R]})}}return t})();var Tn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,Re,Ee,It,K,l,wo]})}}return t})();var Ft=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({providers:[lt],imports:[a,I,bt]})}}return t})();var Fn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[d,a,ke,_t,l,Te,Ft,je,E]})}}return t})();var Rn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,l,I,ie,d]})}}return t})();var En=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,l]})}}return t})();var kn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({imports:[a,d,Ct,l,Q]})}}return t})();var Rt=(()=>{class t{constructor(e,o,i,r){this.rendererFactory=e,this.router=o,this._route=i,this.document=r,this.showThemeSwitcherSubject=new Y(!1),this.isDarkModeEnabledSubject=new Y(null),this.withRefreshRoute=!1,this.darkModePreferenceHandler=p=>{let u=typeof p=="boolean"?p:p.matches,f=this.isDarkModeEnabledSubject.getValue(),M=this.document.children[0];this.renderer[u?"addClass":"removeClass"](M,"dark-nova-theme"),f!==null&&f!==u&&this.withRefreshRoute&&this.reInitRoute(),this.isDarkModeEnabledSubject.next(u)},this.renderer=this.rendererFactory.createRenderer(null,null),this.router.events.pipe(H(p=>p instanceof fe),ae(()=>{let p=this._route.root;for(;p.firstChild;)p=p.firstChild;return p})).subscribe(p=>{let u=(p.snapshot.data||{}).showThemeSwitcher;if(!(typeof u>"u"))if(this.showThemeSwitcherSubject.next(u),u){if(typeof this.isDarkModeEnabledSubject.getValue()=="boolean"){this.darkThemePreference=window.matchMedia("(prefers-color-scheme: dark)");return}this.enableColorSchemePreferenceHandling()}else this.darkModePreferenceHandler(!1),this.disableColorSchemePreferenceHandling()})}setDarkTheme(e){this.darkModePreferenceHandler(e)}enableColorSchemePreferenceHandling(){this.darkThemePreference=window.matchMedia("(prefers-color-scheme: dark)"),this.darkModePreferenceHandler(this.darkThemePreference.matches),typeof this.darkThemePreference.addEventListener=="function"&&this.darkThemePreference.addEventListener("change",this.darkModePreferenceHandler)}disableColorSchemePreferenceHandling(){this.darkThemePreference&&typeof this.darkThemePreference.removeEventListener=="function"&&this.darkThemePreference.removeEventListener("change",this.darkModePreferenceHandler)}reInitRoute(){let e=this.document.children[0],o=e.scrollTop,i=this.router.routeReuseStrategy.shouldReuseRoute;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.navigated=!1,this.router.navigate([this.router.url]).then(()=>{this.router.routeReuseStrategy.shouldReuseRoute=i,setTimeout(()=>e.scrollTop=o)})}static{this.\u0275fac=function(o){return new(o||t)(C(Kt),C(he),C(Do),C(de))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var oi=g(Io());function Pn(t,c){if(t&1&&(h(0,"nui-message",1),Z(1,"span",2),v()),t&2){let e=P();y("type",e.getMessageType())("allowDismiss",!1),b(),y("innerHTML",e.getMessageText(),zt)}}var On=(()=>{class t{constructor(e){this.router=e,this.globalSrlc={stage:T.preAlpha,eolDate:new Date("1/1/2100"),hideIndicator:!1},this.getMessageType=()=>{switch(this.componentSrlc.stage){case T.preAlpha:return"critical";case T.alpha:return"warning";case T.beta:return"info";case T.ga:return"ok";case T.support:return"hint";case T.eol:return"error";default:return"error"}},this.getMessageText=()=>{switch(this.componentSrlc.stage){case T.preAlpha:return`<strong>Under Development</strong> DO NOT USE. This component is under active development and significant,
                    API breaking changes are still expected. Its use will not be supported.`;case T.alpha:return`<strong>Alpha</strong> USE AT YOUR OWN RISK. This component may be unstable, include defects and is still subject to API breaking changes.
                    We encourage prototypical use and feedback - but won't support production use.`;case T.beta:return`<strong>Beta</strong> This component is in the final testing stage. It should be quite stable,
                    but some defects may still exist. Keep an eye on it!`;case T.ga:return"<strong>Production Ready</strong> Available for production use - see documented examples below.";case T.support:return`<strong>Deprecated</strong> Sorry, but we no longer recommend using this component.
                    Only critical issues are going to be fixed.
                    End Of Life is scheduled to <strong>${this.componentSrlc.eolDate?.toDateString()}</strong>.`;case T.eol:return"<strong>Not Supported</strong> Sorry, but this component is not supported any more!";default:return"Current state of this component is unknown. Please, contact Nova team for more details."}}}ngOnInit(){this.router.events.pipe(H(e=>e instanceof _o),ae(e=>{let o=e.state.root;for(;o.firstChild;)o=o.firstChild;return o})).subscribe(e=>{let o=(e.data||{}).srlc;this.componentSrlc=(0,oi.default)(o||{},this.globalSrlc)})}static{this.\u0275fac=function(o){return new(o||t)(w(he))}}static{this.\u0275cmp=N({type:t,selectors:[["nui-srlc-indicator"]],decls:1,vars:1,consts:[[3,"type","allowDismiss",4,"ngIf"],[3,"type","allowDismiss"],[3,"innerHTML"]],template:function(o,i){o&1&&q(0,Pn,2,3,"nui-message",0),o&2&&y("ngIf",!!i.componentSrlc&&!i.componentSrlc.hideIndicator)},dependencies:[X,rt],encapsulation:2})}}return t})();var An=(()=>{class t{constructor(e){this.themeSwitcherService=e}onThemeChange(e){this.themeSwitcherService.setDarkTheme(e)}static{this.\u0275fac=function(o){return new(o||t)(w(Rt))}}static{this.\u0275cmp=N({type:t,selectors:[["nui-theme-switcher"]],decls:3,vars:3,consts:()=>{let e;return e=$localize`:␟ea7e863c1743175fa578b65039ba078d8c56ed8a␟7781458410226158543: Dark theme
`,[e,[3,"valueChange","value"]]},template:function(o,i){o&1&&(h(0,"nui-switch",1),to(1,"async"),_("valueChange",function(p){return i.onThemeChange(p)}),Xt(2,0),v()),o&2&&y("value",oo(1,1,i.themeSwitcherService.isDarkModeEnabledSubject))},dependencies:[st,so],encapsulation:2})}}return t})();var Bn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=s({type:t})}static{this.\u0275inj=n({providers:[jo,ko],imports:[W,pt,a,dt,Ee,gt,Oe,E,l,d,Fe,ft,W,pt]})}}return t})();var Ln=g(nr()),qn=g(ri());var ni=g(rr()),Ye=g(ze()),si=g(tt()),ai=g(Je());var ee=(()=>{class t extends fo{constructor(){super(),this.dataSubject=new Y([]),this.outputsSubject=new j,this.dataFieldsConfig={dataFields$:new Y([])}}set componentTree(e){this._components=e}registerComponent(e){this._components=S(S({},this._components),e)}deregisterComponent(e){delete this._components?.[e]}connect(e){return this.dataSubject.asObservable()}disconnect(e){this.dataSubject.complete()}applyFilters(){return k(this,null,function*(){let e=(0,ni.default)(this.getFilters());this.beforeApplyFilters(e),yield this.afterApplyFilters(e)})}getFilter(e){let o=this._components[e];if(!o)throw new Error(`Invalid filter name '${e}' requested; available filter names are: ${Object.keys(this._components)}`);return o?.componentInstance?.getFilters()}getFilters(){let e={};return(0,Ye.default)(this._components,(o,i)=>{e[i]=this.getFilter(i)}),e}get monitoredFilters(){let e=[];return(0,Ye.default)(this._components,(o,i)=>{o.componentInstance?.detectFilterChanges===!0&&e.push(i)}),e}filterChanged(e,o){let i=(o??this.getFilter(e))?.value;return!(0,ai.default)(i)&&this._previousFilters&&!(0,si.default)(i,this._previousFilters[e]?.value)}filtersChanged(e,...o){for(let i=0;i<o.length;i++){let r=o[i];if(this.filterChanged(r,e[r]))return!0}return!1}computeFiltersChange(e){return this.filtersChanged(e,...this.monitoredFilters)}beforeApplyFilters(e){}afterApplyFilters(e){return k(this,null,function*(){this.outputsSubject.next(yield this.getFilteredData(e)),this._previousFilters=this.getFilters()})}shouldResetFilters(e){let o=this.computeFiltersChange(e);return o&&this.resetFilters(e),o}resetFilters(e){(0,Ye.default)(e,(o,i)=>{let r=this._components[i].componentInstance;r?.resetFilter&&(r.resetFilter(),o.value=r.getFilters().value)})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})();var Et=g(ze()),hi=g(fi());var ls=(()=>{class t{constructor(e){this.parent=e,this._filters={},this.filteringSubject=new j,this.onDestroy$=new j,this.destroySubscriptions=[],this.parent&&this.parent.filteringSubject.pipe(pe(this.onDestroy$)).subscribe(()=>{this.filteringSubject.next()})}registerFilter(e){this._filters=S(S({},this._filters),e),(0,Et.default)(this._filters,(o,i)=>{o.componentInstance.onDestroy$&&this.destroySubscriptions.push(o.componentInstance.onDestroy$.subscribe(()=>{this.unregisterFilters([i])}))}),this.filteringSubject.next()}unregisterFilters(e){this._filters=(0,hi.default)(this._filters,e),this.filteringSubject.next()}getFilters(){let e={};return this.parent&&(e=this.parent.getFilters()),(0,Et.default)(this._filters,(o,i)=>{typeof(o&&o.componentInstance&&o.componentInstance.getFilters)=="function"&&(e[i]=o.componentInstance.getFilters())}),e}applyFilters(){this.filteringSubject.next()}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete(),this.destroySubscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(o){return new(o||t)(C(t,12))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})();var ds=(()=>{class t{constructor(e){this.selectorService=e}updateSelectionState(e){let o=new lo(e.selector?.selection??{}),i=e.repeat&&e.repeat.itemsSource||[],r=e.paginator||{total:void 0},p=this.selectorService.getSelectedItems(o,i);return V(S({},e),{repeat:V(S({itemsSource:i},e.repeat),{selectedItems:p}),selector:V(S({},e.selector),{selection:o,selectorState:this.selectorService.getSelectorState(o,i.length,p.length,r.total,o.include.length)})})}selectItems(e,o,i){if(!i.selector||!i.selector.selection)throw new Error("State must contain selector property");if(!i.repeat)throw new Error("State must contain repeat property");if(!i.paginator)throw new Error("State must contain paginator property");let r=V(S({},i),{selector:V(S({},i.selector),{selection:this.selectorService.selectItems(i.selector.selection,e,i.repeat.itemsSource,o)})});return this.updateSelectionState(r)}applySelector(e,o){if(!o.selector||!o.selector.selection)throw new Error("State must contain selector property");if(!o.repeat)throw new Error("State must contain repeat property");if(!o.paginator)throw new Error("State must contain paginator property");let i=V(S({},o),{selector:V(S({},o.selector),{selection:this.selectorService.applySelector(o.selector.selection,o.repeat.itemsSource,e,o.paginator.total)})});return this.updateSelectionState(i)}static{this.\u0275fac=function(o){return new(o||t)(C(it))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ti=g(ze()),te=g(uo()),Fi=g(Ii()),Ri=g(tt()),Ei=g(jt());var Ps=(()=>{class t extends ee{constructor(e){super(),this.searchService=e,this._allCategoriesResult={},this._searchProps=[],this.virtualScrollData=[]}setData(e=[]){this._allData=e}setSearchProperties(e){this._searchProps=e}getFilteredData(e){return k(this,null,function*(){let o=this.prepareData(),i=e?.search?.value;i&&(o=this.searchHandler(i));let r=this.extractMultiFilters(e);r?.length&&(o=this.multiFilterHandler(o,r));let p=o.length,u=this.filtersChanged(e,this.setItemsToCompare(e,o,i,r));if(u){if(e?.paginator){let f=e.paginator.value.end-e.paginator.value.start;e.paginator.value.start=0,e.paginator.value.end=f}e.virtualScroll&&(this.virtualScrollData=[])}return o=this.sortingHandler(e,o),o=this.paginationHandler(e,o),o=this.virtualScrollHandler(e,o),S({repeat:{itemsSource:o},paginator:{total:p,reset:u}},this._allCategoriesResult)})}prepareData(){return this._allData}searchHandler(e){return this.searchService.search(this._allData,this._searchProps,e)}multiFilterHandler(e,o){let i=o.map(r=>this.getAllCategories(r));if(o.length){let r=this.searchThru(o,e),p=this.getSelectedFilters(o);(r.length||p.length)&&(e=(0,Fi.default)(...r))}return this._allCategoriesResult=this.countAvailableResults(i,e),e}sortingHandler(e,o){return(0,te.default)(e,"sorter.value.sortBy")&&(0,te.default)(e,"sorter.value.direction")&&e.sorter.value.direction!==F.original?(0,Ei.default)(o,e.sorter.value.sortBy,e.sorter.value.direction):o}paginationHandler(e,o){return e?.paginator?o.slice(e.paginator.value.start,e.paginator.value.end):o}virtualScrollHandler(e,o){let i=o;return e?.virtualScroll&&(i=o.slice(e.virtualScroll.value.start,e.virtualScroll.value.end),i=this.virtualScrollData=this.virtualScrollData.concat(i)),i}paginationReset(e,o){return this.filtersChanged(e,o)}filtersChanged(e,o){return!!(this._previousFilters&&this.isValueChanged(o))}setItemsToCompare(e,o,i,r){let p=(0,te.default)(this._previousFilters,"sorter.value.sortBy"),u=(0,te.default)(this._previousFilters,"sorter.value.direction"),f=(0,te.default)(this._previousFilters,"search.value"),M=this.extractMultiFilters(this._previousFilters),A=(0,te.default)(e,"sorter.value.sortBy"),B=(0,te.default)(e,"sorter.value.direction"),$=[];return $.push({previousValue:p,currentValue:A}),$.push({previousValue:u,currentValue:B}),$.push({previousValue:f,currentValue:i}),$.push({previousValue:M,currentValue:r}),$}extractMultiFilters(e){let o=[];return(0,Ti.default)(e,(i,r)=>{i?.type==="string[]"&&o.push({[r]:i})}),o}getSelectedFilters(e){return e.reduce((o,i)=>o.concat(i[Object.keys(i)[0]].value),[])}countAvailableResults(e,o){return e.map((r,p)=>{let u=Object.keys(r)[0],M=e[p][u].map(A=>{let B=this.searchService.search(o,[u],A);return{[A]:B.length}});return{[u]:M}}).reduce((r,p)=>{let[u]=Object.keys(p),f=p[u].reduce((M,A)=>{let[B]=Object.keys(A);return M[B]=A[B],M},{});return r[u]=f,r},{})}searchThru(e,o){return e.filter(i=>!!i[Object.keys(i)[0]].value.length).map(i=>{let[r]=Object.keys(i);return i[r].value.map(p=>this.searchService.search(o,[r],p)).reduce((p,u)=>p.concat(u),[])})}getAllCategories(e){if(!e)return;let[o]=Object.keys(e),{metadata:i}=e[o];return{[o]:i?.allCategories}}isValueChanged(e){for(let{previousValue:o,currentValue:i}of e)if(!(0,Ri.default)(o,i))return!0;return!1}static{this.\u0275fac=function(o){return new(o||t)(C(Ne))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})();var ki=g(ze()),Pt=g(uo()),ji=g(jt());var Os=(()=>{class t extends ee{constructor(e){super(),this.searchService=e,this._searchProps=[],this.virtualScrollData=[]}setData(e=[]){this._allData=e}setSearchProperties(e){this._searchProps=e}getFilteredData(e){return k(this,null,function*(){let o=this.prepareData(e),i=e?.search?.value;i&&(o=this.searchHandler(i));let r=o.length;return this.shouldResetFilters(e)&&e?.virtualScroll&&(this.virtualScrollData=[]),o=this.sortingHandler(e,o),o=this.paginationHandler(e,o),o=this.virtualScrollHandler(e,o),{repeat:{itemsSource:o},paginator:{total:r}}})}prepareData(e){return this._allData}searchHandler(e){return this.searchService.search(this._allData,this._searchProps,e)}sortingHandler(e,o){return(0,Pt.default)(e,"sorter.value.sortBy")&&(0,Pt.default)(e,"sorter.value.direction")&&e.sorter.value.direction!==F.original?(0,ji.default)(o,e.sorter.value.sortBy,e.sorter.value.direction):o}paginationHandler(e,o){return e?.paginator?o.slice(e.paginator.value.start,e.paginator.value.end):o}virtualScrollHandler(e,o){let i=o;return e?.virtualScroll&&(i=o.slice(e.virtualScroll.value.start,e.virtualScroll.value.end),i=this.virtualScrollData=this.virtualScrollData.concat(i)),i}extractMultiFilters(e){let o=[];return(0,ki.default)(e,(i,r)=>{i?.type==="string[]"&&o.push({[r]:i})}),o}static{this.\u0275fac=function(o){return new(o||t)(C(Ne))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})();var As=(()=>{class t extends ee{constructor(){super(),this.busy=new Y(!1),this.applyFilters$=new j,this.destroy$=new j,this.setupFilters()}setupFilters(){this.applyFilters$.pipe(ve(e=>this.beforeApplyFilters(e)),Lt(e=>this.getBackendData(e)),ve(e=>k(this,null,function*(){return this.afterApplyFilters(e)})),pe(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.busy.complete()}beforeApplyFilters(e){this.busy.next(!0),this.shouldResetFilters(e)}afterApplyFilters(e){return k(this,null,function*(){yield At(t.prototype,this,"afterApplyFilters").call(this,e),this.busy.next(!1)})}applyFilters(){return k(this,null,function*(){this.applyFilters$.next(this.getFilters())})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})();var Pi=g(po());var Ot={start:0,end:0},Bs=(()=>{class t{constructor(){this._currentPageRange=Ot}setViewport(e){if(this._viewportRef)throw new Error("Viewport is already set");if(!e)throw new Error("Invalid viewport provided");return this._viewportRef=e,this.checkViewportUntilValid(),this}get currentPageRange(){return this._currentPageRange}observeNextPage$(e){if(!this._viewportRef)throw new Error("Please provide the viewport");this._pageSize=e.pageSize,this.updateCurrentPage({start:0,end:e.pageSize});let o=[this._viewportRef.renderedRangeStream];return((0,Pi.default)(e.emitFirstPage)?!0:e.emitFirstPage)&&o.push(Bt(this.currentPageRange)),Vt(...o).pipe(this.mapToPageSize(e.pageSize))}getFilters(){return{type:"virtualScroll",value:this.currentPageRange}}reset(e={emitFirstPage:!0}){this._viewportRef&&(this._viewportRef.scrollToOffset(0),this._currentPageRange=V(S({},Ot),{end:e.emitFirstPage?0:this._pageSize}),setTimeout(()=>{this._viewportRef.setRenderedRange(Ot),this._viewportRef.checkViewportSize()}))}updateCurrentPage(e){return this._currentPageRange=e}checkViewportUntilValid(){this._viewportRef.elementScrolled().pipe(qt(()=>this._viewportRef.getViewportSize()===0),ve(()=>this._viewportRef.checkViewportSize())).subscribe()}mapToPageSize(e){return o=>o.pipe(H(i=>this.currentPageRange.end<=i.end),ae((i,r)=>r===0?this.currentPageRange:this.updateCurrentPage({start:this.currentPageRange.end,end:this.currentPageRange.end+e})))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})();export{d as a,K as b,ie as c,sr as d,dt as e,ft as f,re as g,G as h,Fe as i,I as j,Re as k,ht as l,Q as m,ne as n,Ee as o,gt as p,hr as q,vt as r,xr as s,Sr as t,Ct as u,Mr as v,wr as w,Nr as x,ke as y,je as z,bt as A,yt as B,$o as C,Nt as D,_t as E,Yr as F,Dt as G,Oe as H,en as I,tn as J,on as K,rn as L,nn as M,sn as N,It as O,ln as P,dn as Q,Tn as R,Ft as S,Fn as T,Rn as U,En as V,kn as W,On as X,Rt as Y,An as Z,Bn as _,ee as $,ci as aa,ls as ba,ds as ca,wi as da,jt as ea,Ps as fa,Os as ga,As as ha,Bs as ia};
