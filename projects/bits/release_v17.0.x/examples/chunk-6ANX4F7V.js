import{m as O}from"./chunk-N5FUFMYY.js";import{Aa as d,Gb as u,Ia as m,Ib as a,Jb as p,Ob as c,Pb as s,Qb as h,_c as y,fc as g,h as f,mc as L,nc as _,ob as r,oc as k,pb as l,qc as x,sc as b,wb as v}from"./chunk-7UJBXEVU.js";var C=["colorLine"];function w(n,R){if(n&1&&(c(0,"div",6),x(1),s()),n&2){let i=g();r(),b(" ",i.title," ")}}var S=(()=>{class n{constructor(i,e){this.changeDetectorRef=i,this.ngZone=e,this.level=0,this.minLevel=0,this.maxLevel=100,this.floatOffset=0,this.colorLineWidth$=new f(0),this.resizeObserver=new ResizeObserver(t=>this.colorLineWidth$.next(t[0].contentRect.width))}ngAfterViewInit(){this.colorLineWidth$.subscribe(this.updateOffset.bind(this)),this.colorLine!==void 0&&(this.ngZone.runOutsideAngular(()=>{this.resizeObserver.observe(this.colorLine.nativeElement)}),this.colorLineWidth$.next(this.colorLine.nativeElement.offsetWidth))}ngOnDestroy(){this.resizeObserver!==void 0&&this.colorLine!==void 0&&(this.resizeObserver.unobserve(this.colorLine.nativeElement),this.resizeObserver.disconnect()),this.colorLineWidth$.unsubscribe()}ngOnChanges(){this.updateOffset(this.colorLineWidth$.getValue())}updateOffset(i){if(this.minLevel>=this.maxLevel){console.error("RiskScoreComponent - minLevel >= maxLevel");return}let e=this.clamp(this.level,this.minLevel,this.maxLevel),t=this.maxLevel-this.minLevel,o=i/t;this.floatOffset=o*(e-this.minLevel),this.changeDetectorRef.detectChanges()}clamp(i,e=0,t=1){return Math.min(t,Math.max(e,i))}static{this.\u0275fac=function(e){return new(e||n)(l(y),l(v))}}static{this.\u0275cmp=d({type:n,selectors:[["nui-risk-score"]],viewQuery:function(e,t){if(e&1&&L(C,5),e&2){let o;_(o=k())&&(t.colorLine=o.first)}},hostAttrs:[1,"nui-risk-score"],inputs:{level:"level",minLevel:"minLevel",maxLevel:"maxLevel",title:"title"},features:[m],decls:6,vars:4,consts:[["colorLine",""],[1,"nui-risk-score",3,"title"],[1,"nui-risk-score__float"],["class","nui-risk-score__float-title",4,"ngIf"],[1,"nui-risk-score__float-path"],[1,"nui-risk-score__color-line"],[1,"nui-risk-score__float-title"]],template:function(e,t){e&1&&(c(0,"div",1)(1,"div",2),u(2,w,2,1,"div",3),h(3,"div",4),s(),h(4,"div",5,0),s()),e&2&&(a("title",t.level),r(),p("margin-left",t.floatOffset,"px"),r(),a("ngIf",t.title!==void 0))},dependencies:[O],styles:[`.nui-risk-score__color-line{height:.65em;background:var(--gradient,linear-gradient(90deg, #00a753 0%, #fec405 35%, #dd2c00 70%, #950000 100%))}.nui-risk-score__float{font-size:.35em;display:grid}.nui-risk-score__float-title{font-size:1.4em;color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));text-align:center;white-space:nowrap;display:inline-block;transform:translate(-50%)}.nui-risk-score__float-path{transform:translate(-50%);width:2em;height:1em;background-color:var(--nui-color-text-default,#111);clip-path:polygon(0 0%,50% 100%,100% 0)}
`],encapsulation:2})}}return n})();export{S as a};
