import{t as st}from"./chunk-KIGPGWPN.js";import{c as pt}from"./chunk-EMVJH4OC.js";import{a as At}from"./chunk-OP4LF6JD.js";import{c as Bt}from"./chunk-DWMPD6CE.js";import{a as ot,b as rt}from"./chunk-AJ2UNGSN.js";import{b as Lt}from"./chunk-RBCDJAEW.js";import{m as at}from"./chunk-P53HI2D5.js";import{A as P,B as nt,w as it}from"./chunk-CHJVZ6O7.js";import{d as Dt}from"./chunk-W53BDDEF.js";import{a as kt}from"./chunk-TYMJBZC2.js";import{a as et}from"./chunk-QRWA7LTP.js";import{c as tt}from"./chunk-ZQRZBPBD.js";import{b as $t,c as Nt}from"./chunk-ITZTVHDY.js";import{a as Vt}from"./chunk-FSE63SP3.js";import{k as J,l as K,m as U,r as Z}from"./chunk-N5FUFMYY.js";import{Aa as D,Cc as x,Gb as c,Ia as A,Ib as o,Ja as d,Jb as L,Ka as h,Mc as Y,Ob as l,Pb as u,Qb as w,Rb as B,Sa as y,Sb as M,Tb as j,Ub as f,Zb as q,_b as G,_c as H,bc as Q,cc as W,ec as v,fc as s,g as N,ic as F,mc as T,nc as E,oa as k,ob as p,oc as R,pb as C,pc as I,qc as S,rc as z,sc as O,yc as X}from"./chunk-7UJBXEVU.js";import{f as _,g as m}from"./chunk-XR34LRGE.js";var ut=_((Oe,lt)=>{var Mt=At(),jt=at(),qt=Nt(),Gt=Math.ceil,Qt=Math.max;function Wt(i,a,t){(t?jt(i,a,t):a===void 0)?a=1:a=Qt(qt(a),0);var e=i==null?0:i.length;if(!e||a<1)return[];for(var n=0,r=0,g=Array(Gt(e/a));n<e;)g[r++]=Mt(i,n,n+=a);return g}lt.exports=Wt});var ct=_((Ve,gt)=>{var Xt=Bt(),Yt=4;function Ht(i){return Xt(i,Yt)}gt.exports=Ht});var mt=_(($e,_t)=>{var Jt=Vt();function Kt(i,a,t){for(var e=-1,n=i.length;++e<n;){var r=i[e],g=a(r);if(g!=null&&($===void 0?g===g&&!Jt(g):t(g,$)))var $=g,Ot=r}return Ot}_t.exports=Kt});var ht=_((Ne,dt)=>{function Ut(i,a){return i<a}dt.exports=Ut});var vt=_((ke,ft)=>{var Zt=mt(),te=ht(),ee=kt();function ie(i){return i&&i.length?Zt(i,ee,te):void 0}ft.exports=ie});var xt=_((De,St)=>{var ne=Math.ceil,ae=Math.max;function oe(i,a,t,e){for(var n=-1,r=ae(ne((a-i)/(t||1)),0),g=Array(r);r--;)g[e?r:++n]=i,i+=t;return g}St.exports=oe});var Pt=_((Ae,Ct)=>{var re=xt(),pe=at(),V=$t();function se(i){return function(a,t,e){return e&&typeof e!="number"&&pe(a,t,e)&&(t=e=void 0),a=V(a),t===void 0?(t=a,a=0):t=V(t),e=e===void 0?a<t?1:-1:V(e),re(a,t,e,i)}}Ct.exports=se});var yt=_((Le,bt)=>{var le=Pt(),ue=le();bt.exports=ue});var wt=m(ut()),Ft=m(ct()),Tt=m(Dt()),Et=m(Lt()),Rt=m(vt()),It=m(yt());var b=(()=>{class i{get parent(){return this._parent}set parent(t){this._parent=t}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac})}}return i})();var _e=["select"],me=i=>({"native-scroll":i}),zt=i=>({pages:i}),de=i=>({"stretch-row":i});function he(i,a){if(i&1){let t=f();l(0,"button",16),v("click",function(n){d(t);let r=s().$implicit;return h(r.action(n))}),u()}if(i&2){let t=s().$implicit;o("disabled",t.style)("icon",t.iconName)}}function fe(i,a){if(i&1){let t=f();l(0,"button",17),v("click",function(n){d(t);let r=s().$implicit;return h(r.action(n))}),S(1),u()}if(i&2){let t=s().$implicit;o("isEmpty",!1),p(),O(" ",t.value," ")}}function ve(i,a){if(i&1&&(B(0),w(1,"div",26),M()),i&2){let t=a.$implicit;s(5);let e=I(2);p(),o("ngTemplateOutlet",e)("ngTemplateOutletContext",x(2,zt,t))}}function Se(i,a){if(i&1&&(l(0,"cdk-virtual-scroll-viewport",24),c(1,ve,2,4,"ng-container",25),u()),i&2){let t=s(2).$implicit;L("width",t.popupWidth,"px")("height",130,"px"),o("itemSize",40)("maxBufferPx",130)("minBufferPx",130),p(),o("cdkVirtualForOf",t.pageRows)}}function xe(i,a){if(i&1&&j(0,26),i&2){let t=a.$implicit;s(5);let e=I(2);o("ngTemplateOutlet",e)("ngTemplateOutletContext",x(2,zt,t))}}function Ce(i,a){if(i&1&&(l(0,"tbody"),c(1,xe,1,4,"ng-container",27),u()),i&2){let t=s(2).$implicit;p(),o("ngForOf",t.pageRows)}}function Pe(i,a){if(i&1){let t=f();l(0,"nui-popup",18)(1,"button",19),v("click",function(){d(t);let n=s(3);return h(n.handleDotsClick())}),S(2),u(),l(3,"ul",20)(4,"li")(5,"table",21),c(6,Se,2,8,"cdk-virtual-scroll-viewport",22)(7,Ce,2,1,"tbody",23),u()()()()}if(i&2){let t=s().$implicit,e=s(2);o("appendToBody",e.appendToBody)("baseElementSelector",e.popupBaseElementSelector),p(),o("ngClass",t.imageClass)("isEmpty",!1),p(),O(" ",t.value," "),p(3),o("ngClass",x(8,me,!t.useVirtualScroll)),p(),o("ngIf",t.useVirtualScroll),p(),o("ngIf",!t.useVirtualScroll)}}function be(i,a){if(i&1&&(l(0,"li",12),c(1,he,1,2,"button",13)(2,fe,2,2,"button",14)(3,Pe,8,10,"nui-popup",15),u()),i&2){let t=a.$implicit,e=s(2);F("title",t.title),F("value",t.value),o("ngClass",t.style),p(),o("ngIf",t.iconName),p(),o("ngIf",t.value!==e.dots&&!t.iconName),p(),o("ngIf",t.value===e.dots)}}function ye(i,a){if(i&1&&(l(0,"nui-select-v2-option",28),S(1),u()),i&2){let t=a.$implicit;o("value",t),p(),z(t)}}function we(i,a){if(i&1){let t=f();l(0,"div",3)(1,"div",4)(2,"ul",5),c(3,be,4,6,"li",6),u()(),l(4,"div",7)(5,"div",8),q(6,1),w(7,"span",9),G(),u(),l(8,"nui-select-v2",10),v("valueSelected",function(n){d(t);let r=s();return h(r.onPageSizeChange(n))}),c(9,ye,2,2,"nui-select-v2-option",11),u()()()}if(i&2){let t=s();p(3),o("ngForOf",t.itemsList),p(4),Q(t.getRange(t.total))(t.total),W(6),p(),o("value",t.pageSize),p(),o("ngForOf",t.pageSizeSet)}}function Fe(i,a){if(i&1){let t=f();l(0,"td",31)(1,"button",32),v("click",function(){let n=d(t).$implicit,r=s(2);return h(r.goToPage(n))}),l(2,"span"),S(3),u()()()}if(i&2){let t=a.$implicit;p(3),z(t)}}function Te(i,a){if(i&1&&(l(0,"tr",29),c(1,Fe,4,1,"td",30),u()),i&2){let t=a.pages,e=s();o("ngClass",x(2,de,t.length===e.dotsPagesPerRow)),p(),o("ngForOf",t)}}var Ee=[10,25,50,100],Re=8,Ie=12,ze=37,ci=(()=>{class i{get dotsPagesPerRow(){return this._dotsPagesPerRow}constructor(t,e,n){this.logger=t,this.popupContainer=e,this.cd=n,this.itemsList=[],this.page=1,this.pageSizeSet=[],this.total=0,this.dots="...",this.hideIfEmpty=!1,this.activeClass="active",this.disabledClass="disabled",this.adjacent=1,this.maxElements=this.adjacent*2+5,this.showPrevNext=!0,this.popupDirectionTop=!1,this.pagerAction=new y,this.pageChange=new y,this.onDestroy$=new N,this._dotsPagesPerRow=5,this.popupContainer.parent=this}ngOnInit(){this.initPageSizeSet();let t=this.getPageCount();this.page>t&&(this.page=t,this.pageChange.emit(this.page)),this.page<=0&&(this.page=1,this.pageChange.emit(this.page))}ngOnChanges(t){(t.total||t.page||t.adjacent||t.pageSize)&&this.assemble()}initPageSizeSet(){(0,Tt.default)(this.pageSizeSet,"length")||(this.pageSizeSet=(0,Ft.default)(Ee)),(!this.pageSize||this.pageSize<=0)&&(this.pageSize=this.pageSizeSet[0]),(0,Et.default)(this.pageSizeSet,this.pageSize)||(this.logger.warn(`pageSize ${this.pageSize} not found in the current pageSizeSet ${this.pageSizeSet}. pageSize will be set to
${this.pageSizeSet[0]}. To set the desired initial page size, include it as part of the paginator's pageSizeSet input.`),this.pageSize=this.pageSizeSet[0])}getFilters(){return{type:"range",value:{start:(this.page-1)*this.pageSize,end:this.page*this.pageSize}}}resetFilter(){this.page=1,this.pageChange.emit(this.page)}goToPage(t){if(this.page=t,this.pageChange.emit(this.page),this.pagerAction){let e={page:this.page,pageSize:this.pageSize,total:this.total,pageSizeSet:this.pageSizeSet};this.pagerAction.emit(e)}this.assemble()}onPageSizeChange(t){this.setItemsPerPage({oldValue:0,newValue:t})}setItemsPerPage(t){if(t?.newValue===t?.oldValue)return;let e=t?.newValue;if(e){if(e<1){this.logger.warn("paginator-controller.setItemsPerPage - invalid newValue: "+e);return}this.pageSize=e}this.goToPage(1)}getPageCount(){return this.total<=0?1:Math.ceil(this.total/this.pageSize)}showPaginator(){let t=this.getPageCount();return isFinite(t)&&(this.hideIfEmpty===!1||t>1)}getFirstItemOnPage(){return this.pageSize*(this.page-1)+1}getLastItemOnPage(){return(0,Rt.default)([this.pageSize*this.page,this.total])}getRange(t){return t>0?`${this.getFirstItemOnPage()}-${this.getLastItemOnPage()}`:"0"}handleDotsClick(){this.virtualScrollViewport&&this.virtualScrollViewport.checkViewportSize()}assemble(){if(this.itemsList=[],this.getPageCount()<=0)return;let t=this.getPageCount();this.prepareSeparators(),this.addPrev(),this.mainRangeStart!==1&&(this.add(1),this.addSeparator(2,this.mainRangeStart-1)),this.addRange(this.mainRangeStart,this.mainRangeEnd),this.mainRangeEnd!==t&&(this.addSeparator(this.mainRangeEnd+1,t-1),this.add(t)),this.addNext(),this.cd.detectChanges()}prepareSeparators(){let t=this.getPageCount(),e=+this.page,n=+this.adjacent;if(t<=this.maxElements){this.mainRangeStart=1,this.mainRangeEnd=t;return}this.mainRangeStart=e-n<1?1:e-n,this.mainRangeEnd=e+n>t?t:e+n,this.mainRangeStart-1-2<1&&(this.mainRangeStart=1),t-1-(this.mainRangeEnd+1)<1&&(this.mainRangeEnd=t),this.mainRangeEnd!==t&&e<this.maxElements-2-n&&(this.mainRangeStart=1,this.mainRangeEnd=this.mainRangeStart+this.maxElements-3),this.mainRangeStart!==1&&e>t-this.maxElements+2+n&&(this.mainRangeEnd=t,this.mainRangeStart=this.mainRangeEnd-this.maxElements+3)}addSeparator(t,e){let n=(0,wt.default)((0,It.default)(t,e+1),this._dotsPagesPerRow);this.itemsList.push({title:$localize`Pages ${t} - ${e}`,value:this.dots,pageRows:n,popupWidth:(e.toString().length*Re+Ie)*this._dotsPagesPerRow+ze,useVirtualScroll:n.length*this._dotsPagesPerRow>=1e3})}addPrev(){let t=this.getPageCount();if(!this.showPrevNext||t<1)return;let e={iconName:"caret-left",title:$localize`Previous Page`,page:this.page-1<=0?1:this.page-1},n=this.page-1<=0;this.addItem(e,n)}addNext(){let t=this.getPageCount();if(!this.showPrevNext||t<1)return;let e={iconName:"caret-right",title:$localize`Next Page`,page:this.page+1>=t?t:this.page+1},n=this.page+1>t;this.addItem(e,n)}addItem(t,e){this.itemsList.push({iconName:t.iconName,value:t.value,title:t.title,style:e?this.disabledClass:"",action:()=>(t.page&&this.goToPage(t.page),!1)})}add(t){let e=this;this.itemsList.push({value:t,title:$localize`Page ${t}`,style:this.page===t?this.activeClass:"",action:function(){return e.goToPage(this.value),!1}})}addRange(t,e){for(let n=t;n<=e;n++)this.add(n)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static{this.\u0275fac=function(e){return new(e||i)(C(tt),C(b),C(H))}}static{this.\u0275cmp=D({type:i,selectors:[["nui-paginator"]],viewQuery:function(e,n){if(e&1&&(T(_e,5),T(P,5)),e&2){let r;E(r=R())&&(n.selectComponent=r.first),E(r=R())&&(n.virtualScrollViewport=r.first)}},hostAttrs:["role","navigation"],inputs:{itemsList:"itemsList",page:"page",pageSize:"pageSize",pageSizeSet:"pageSizeSet",total:"total",dots:"dots",hideIfEmpty:"hideIfEmpty",hide:"hide",activeClass:"activeClass",disabledClass:"disabledClass",adjacent:"adjacent",maxElements:"maxElements",showPrevNext:"showPrevNext",popupDirectionTop:"popupDirectionTop",popupBaseElementSelector:"popupBaseElementSelector",appendToBody:"appendToBody"},outputs:{pagerAction:"pagerAction",pageChange:"pageChange"},features:[X([b]),A],decls:3,vars:1,consts:()=>{let t;return t=$localize`:␟0915eabe9cf448e347a84f56bb305a02d32371cb␟4566715151508288837: ${"\uFFFD0\uFFFD"}:INTERPOLATION: of ${"\uFFFD#7\uFFFD"}:START_TAG_SPAN:${"\uFFFD1\uFFFD"}:INTERPOLATION_1:${"\uFFFD/#7\uFFFD"}:CLOSE_TAG_SPAN:`,[["tableRow",""],t,["class","nui-paginator",4,"ngIf"],[1,"nui-paginator"],[1,"nui-paginator__items"],["role","listbox","aria-label","List of pages",1,"nui-paginator__list"],["role","option",3,"title","ngClass","value",4,"ngFor","ngForOf"],[1,"nui-paginator__options"],[1,"nui-paginator__info"],[1,"nui-paginator__total"],["ariaLabel","Items per page",3,"valueSelected","value"],[3,"value",4,"ngFor","ngForOf"],["role","option",3,"title","ngClass","value"],["nui-button","","type","button","displayStyle","action","class","move-icon",3,"disabled","icon","click",4,"ngIf"],["nui-button","","type","button","displayStyle","action",3,"isEmpty","click",4,"ngIf"],[3,"appendToBody","baseElementSelector",4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"move-icon",3,"click","disabled","icon"],["nui-button","","type","button","displayStyle","action",3,"click","isEmpty"],[3,"appendToBody","baseElementSelector"],["nui-button","","type","button","nuiPopupToggle","","displayStyle","action","aria-haspopup","true",1,"nui-paginator__dots",3,"click","ngClass","isEmpty"],["popupAreaContent","",1,"nui-paginator__elipsis-pages"],[1,"nui-paginator__page-table",3,"ngClass"],[3,"width","height","itemSize","maxBufferPx","minBufferPx",4,"ngIf"],[4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"value"],[3,"ngClass"],["class","nui-paginator__page-cell",4,"ngFor","ngForOf"],[1,"nui-paginator__page-cell"],["nui-button","","type","button","displayStyle","action",3,"click"]]},template:function(e,n){e&1&&c(0,we,10,5,"div",2)(1,Te,2,4,"ng-template",null,0,Y),e&2&&o("ngIf",n.showPaginator())},dependencies:[J,K,U,Z,ot,rt,et,it,nt,P,st,pt],styles:[`.nui .nui-paginator{height:30px;display:flex;align-items:center;justify-content:space-between}.nui .nui-paginator .nui-select-v2{min-width:60px}.nui .nui-paginator__info{font-size:13px;margin-right:10px;color:var(--nui-color-text-default,#111)}.nui .nui-paginator__icon{position:relative}.nui .nui-paginator__icon:hover{cursor:pointer;opacity:.7}.nui .nui-paginator__dots{font-size:13px}.nui .nui-paginator__dots:hover{cursor:pointer;background-color:var(--nui-color-bg-light-hover,#f2f2f2)}.nui .nui-paginator__elipsis-pages[popupAreaContent]{padding:0;max-height:130px;overflow-y:auto;overflow-x:hidden}.nui .nui-paginator__list{border-radius:0;display:flex;border-collapse:collapse;padding-left:3px;font-size:13px;margin-right:15px;margin-bottom:0}.nui .nui-paginator__list:before,.nui .nui-paginator__list:after{content:" ";display:table;width:0px}.nui .nui-paginator__list:after{clear:both}.nui .nui-paginator__list>li>button.move-icon{padding:5px}.nui .nui-paginator__list>li{position:relative;padding:0;display:inline}.nui .nui-paginator__list>.active>button,.nui .nui-paginator__list>.active>button:hover,.nui .nui-paginator__list>.active>button:focus{background-color:transparent;border-color:transparent;color:var(--nui-color-text-default,#111);font-weight:600;cursor:default;z-index:2}.nui .nui-paginator__page-table{background-color:var(--nui-color-bg-transparent,transparent)}.nui .nui-paginator__page-table.native-scroll{margin:10px}.nui .nui-paginator__page-table:not(.native-scroll) tr{display:inline-table}.nui .nui-paginator__page-table:not(.native-scroll) tr.stretch-row{width:100%}.nui .nui-paginator__page-table tr:not(:last-child) .nui-paginator__page-cell{padding-bottom:10px}.nui .nui-paginator__page-table .cdk-virtual-scroll-content-wrapper{padding:10px}.nui .nui-paginator__page-cell>.btn{min-width:30px;padding:5px}.nui .nui-paginator__options{display:flex;align-items:center}.nui .nui-paginator__options .nui-select .nui-popup .nui-popup__area,.nui .nui-paginator__options .nui-select .nui-popup .nui-popup__area .nui-select__menu,.popup-adapter-overlay .nui-overlay.nui-select-popup-host{min-width:0}nui-popup-container[parent=PaginatorComponent] .nui-popup__area{min-width:0}nui-popup-container[parent=PaginatorComponent] .nui-popup__area .nui-select__menu{min-width:0}@-moz-document url-prefix(){.nui-paginator__page-table tr:nth-child(4) td:last-child{padding-right:15px}}
`],encapsulation:2,changeDetection:0})}}return i})();export{ct as a,ci as b};
