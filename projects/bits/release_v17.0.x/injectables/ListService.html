<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>@nova-ui/bits documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">@nova-ui/bits documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >ListService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">API</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/services/list.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#applySelector" >applySelector</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#selectItems" >selectItems</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#updateSelectionState" >updateSelectionState</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(selectorService: <a href="../interfaces/Selector.html" target="_self">SelectorService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/services/list.service.ts:30</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>selectorService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/Selector.html" target="_self" >SelectorService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="applySelector"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>applySelector</b></span>
                        <a href="#applySelector"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>applySelector(selectionType: <a href="../undefineds/SelectionType.html" target="_self">SelectionType</a>, state: <a href="../interfaces/INovaFilteringOutputs.html" target="_self">INovaFilteringOutputs</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="127"
                                    class="link-to-prism">src/services/list.service.ts:127</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Updates the selector selection state, selector checkbox status, selector menu items, and the
selected items in the repeat based on the selection type.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>selectionType</td>
                                            <td>
                                                            <code><a href="../miscellaneous/enumerations.html#SelectionType" target="_self" >SelectionType</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The selection type to apply</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>state</td>
                                            <td>
                                                            <code><a href="../interfaces/INovaFilteringOutputs.html" target="_self" >INovaFilteringOutputs</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The filtering outputs state</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/INovaFilteringOutputs.html" target="_self" >INovaFilteringOutputs</a></code>

                        </div>
                            <div class="io-description">
                                <p>The updated state</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectItems"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>selectItems</b></span>
                        <a href="#selectItems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>selectItems(selectedItems: any[], selectionMode: <a href="../undefineds/RepeatSelectionMode.html" target="_self">RepeatSelectionMode</a>, state: <a href="../interfaces/INovaFilteringOutputs.html" target="_self">INovaFilteringOutputs</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="85"
                                    class="link-to-prism">src/services/list.service.ts:85</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Updates the selector selection state, selector checkbox status, selector menu items, and the
selected items in the repeat based on the items in the provided list and the specified selection
mode.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>selectedItems</td>
                                            <td>
                                                        <code>any[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The items to select</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>selectionMode</td>
                                            <td>
                                                            <code><a href="../miscellaneous/enumerations.html#RepeatSelectionMode" target="_self" >RepeatSelectionMode</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The mode to use for selection</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>state</td>
                                            <td>
                                                            <code><a href="../interfaces/INovaFilteringOutputs.html" target="_self" >INovaFilteringOutputs</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The filtering outputs state</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/INovaFilteringOutputs.html" target="_self" >INovaFilteringOutputs</a></code>

                        </div>
                            <div class="io-description">
                                <p>The updated state</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateSelectionState"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>updateSelectionState</b></span>
                        <a href="#updateSelectionState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateSelectionState(state: <a href="../interfaces/INovaFilteringOutputs.html" target="_self">INovaFilteringOutputs</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="40"
                                    class="link-to-prism">src/services/list.service.ts:40</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Updates the selector checkbox status, selector menu items, and the repeat selected items.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>state</td>
                                            <td>
                                                            <code><a href="../interfaces/INovaFilteringOutputs.html" target="_self" >INovaFilteringOutputs</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The filtering outputs state</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/INovaFilteringOutputs.html" target="_self" >INovaFilteringOutputs</a></code>

                        </div>
                            <div class="io-description">
                                <p>The updated state</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &quot;@angular/core&quot;;

import { INovaFilteringOutputs } from &quot;./data-source/public-api&quot;;
import { SelectionModel } from &quot;./public-api&quot;;
import { RepeatSelectionMode } from &quot;../lib/repeat/types&quot;;
import { SelectionType } from &quot;../lib/selector/public-api&quot;;
import { SelectorService } from &quot;../lib/selector/selector.service&quot;;

@Injectable({ providedIn: &quot;root&quot; })
export class ListService {
    constructor(private selectorService: SelectorService) {}

    /**
     * Updates the selector checkbox status, selector menu items, and the repeat selected items.
     *
     * @param {INovaFilteringOutputs} state The filtering outputs state
     *
     * @returns {INovaFilteringOutputs} The updated state
     */
    public updateSelectionState(
        state: INovaFilteringOutputs
    ): INovaFilteringOutputs {
        const selection &#x3D; new SelectionModel(state.selector?.selection ?? {});
        const itemsSource &#x3D; (state.repeat &amp;&amp; state.repeat.itemsSource) || [];
        const paginator &#x3D; state.paginator || { total: undefined };

        const selectedItems &#x3D; this.selectorService.getSelectedItems(
            selection,
            itemsSource
        );
        const outputState &#x3D; {
            ...state,
            repeat: {
                itemsSource,
                ...state.repeat,
                selectedItems,
            },
            selector: {
                ...state.selector,
                selection,
                selectorState: this.selectorService.getSelectorState(
                    selection,
                    itemsSource.length,
                    selectedItems.length,
                    paginator.total,
                    selection.include.length
                ),
            },
        };

        return outputState;
    }

    /**
     * Updates the selector selection state, selector checkbox status, selector menu items, and the
     * selected items in the repeat based on the items in the provided list and the specified selection
     * mode.
     *
     * @param {any[]} selectedItems The items to select
     * @param {RepeatSelectionMode} selectionMode The mode to use for selection
     * @param {INovaFilteringOutputs} state The filtering outputs state
     *
     * @returns {INovaFilteringOutputs} The updated state
     */
    public selectItems(
        selectedItems: any[],
        selectionMode: RepeatSelectionMode,
        state: INovaFilteringOutputs
    ): INovaFilteringOutputs {
        if (!state.selector || !state.selector.selection) {
            throw new Error(&quot;State must contain selector property&quot;);
        }

        if (!state.repeat) {
            throw new Error(&quot;State must contain repeat property&quot;);
        }

        if (!state.paginator) {
            throw new Error(&quot;State must contain paginator property&quot;);
        }

        const outputState &#x3D; {
            ...state,
            selector: {
                ...state.selector,
                selection: this.selectorService.selectItems(
                    state.selector.selection,
                    selectedItems,
                    state.repeat.itemsSource,
                    selectionMode
                ),
            },
        };

        return this.updateSelectionState(outputState);
    }

    /**
     * Updates the selector selection state, selector checkbox status, selector menu items, and the
     * selected items in the repeat based on the selection type.
     *
     * @param {SelectionType} selectionType The selection type to apply
     * @param {INovaFilteringOutputs} state The filtering outputs state
     *
     * @returns {INovaFilteringOutputs} The updated state
     */
    public applySelector(
        selectionType: SelectionType,
        state: INovaFilteringOutputs
    ): INovaFilteringOutputs {
        if (!state.selector || !state.selector.selection) {
            throw new Error(&quot;State must contain selector property&quot;);
        }

        if (!state.repeat) {
            throw new Error(&quot;State must contain repeat property&quot;);
        }

        if (!state.paginator) {
            throw new Error(&quot;State must contain paginator property&quot;);
        }

        const outputState &#x3D; {
            ...state,
            selector: {
                ...state.selector,
                selection: this.selectorService.applySelector(
                    state.selector.selection,
                    state.repeat.itemsSource,
                    selectionType,
                    state.paginator.total
                ),
            },
        };

        return this.updateSelectionState(outputState);
    }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ListService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
