"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[349],{90349:(ae,h,c)=>{c.r(h),c.d(h,{default:()=>oe});var s=c(37691),A=c(24006),C=c(75883),_=c(59131),e=c(94650),x=c(55553),Z=c(79781),p=c(76808),v=c(18419);let F=(()=>{class n{constructor(){(0,s.Z)(this,"presets",{99:{name:"99-th percentile"},95:{name:"95-th percentile"},80:{name:"80-th percentile"}}),(0,s.Z)(this,"presetKeysOrder",["95","99","80"]),(0,s.Z)(this,"selectedPresetKey","95"),(0,s.Z)(this,"selectedValue",+(this.selectedPresetKey||""))}handlePresetSelection(t){this.selectedPresetKey=t,t&&(this.selectedValue=+this.selectedPresetKey)}handleCustomSelection(t){this.selectedPresetKey=-1!==Object.keys(this.presets).indexOf(t.toString())?t.toString():void 0,this.selectedValue=t}getTextboxValue(){return+(this.selectedPresetKey||"")||this.selectedValue}}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["nui-quick-picker-basic"]],decls:4,vars:7,consts:function(){let o;return o=$localize`:␟01454926e96a89d8121942c3a93886cd93487572␟7512936423899299183:Custom percentiles`,[["pickerTitle",o,3,"presets","selectedPreset","presetKeysOrder","presetSelected"],[3,"maxValue","value","valueChange"],[1,"nui-text-secondary"]]},template:function(t,i){1&t&&(e.TgZ(0,"nui-quick-picker",0),e.NdJ("presetSelected",function(a){return i.handlePresetSelection(a)}),e.TgZ(1,"nui-textbox-number",1),e.NdJ("valueChange",function(a){return i.handleCustomSelection(a)}),e.qZA()(),e.TgZ(2,"span",2),e._uU(3),e.qZA()),2&t&&(e.Q6J("presets",i.presets)("selectedPreset",i.selectedPresetKey)("presetKeysOrder",i.presetKeysOrder),e.xp6(1),e.Q6J("maxValue",100)("value",i.getTextboxValue()),e.xp6(2),e.AsE("Selected Quick Pick is ",i.selectedPresetKey||"null",", Selected Value is ",i.selectedValue,""))},dependencies:[p.m,v.I],encapsulation:2})),n})();var l=c(77579),P=c(73417),d=c(40674),T=c(94178),E=c(36895),M=c(58385),f=c(40173);function R(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"nui-dialog-footer")(1,"button",6),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.cancelPopover())}),e.SDv(2,7),e.qZA(),e.TgZ(3,"button",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.confirmPopover())}),e.SDv(4,9),e.qZA()()}}function O(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"nui-quick-picker",3),e.NdJ("presetSelected",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handlePresetSelection(r))}),e.TgZ(2,"nui-time-frame-picker",4),e.NdJ("changed",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateTf(r))}),e.qZA()()(),e.YNc(3,R,5,0,"nui-dialog-footer",5)}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.xp6(1),e.Q6J("startModel",t.acceptedTimeframe),e.xp6(1),e.Q6J("ngIf",t.showFooter)}}let D=(()=>{class n{constructor(t){(0,s.Z)(this,"timeframeService",void 0),(0,s.Z)(this,"presets",void 0),(0,s.Z)(this,"selectedPresetKey","lastHour"),(0,s.Z)(this,"acceptedTimeframe",void 0),(0,s.Z)(this,"tf",void 0),(0,s.Z)(this,"showFooter",!1),(0,s.Z)(this,"closePopoverSubject",new l.x),(0,s.Z)(this,"openPopoverSubject",new l.x),this.timeframeService=t,this.presets=t.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}updateTf(t){this.tf=t,(()=>this.timeframeService.areTimeFrameDatesValid(t))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(t){this.selectedPresetKey=t,this.tf=this.timeframeService.getTimeframeByPresetId(t),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(_.hYR))}),(0,s.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["nui-time-frame-picker-basic-example"]],decls:6,vars:7,consts:function(){let o,t,i;return o=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,t=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `,i=$localize`:␟3c8adc665cde2a280fd027f86fca78239d8a890c␟3416889908563565605: Use `,[["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",o,3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],t,["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],i]},template:function(t,i){if(1&t&&(e.TgZ(0,"nui-popover",0)(1,"span",1),e._uU(2),e.ALo(3,"timeFrame"),e.qZA()(),e.YNc(4,O,4,4,"ng-template",null,2,e.W1O)),2&t){const r=e.MAs(5);e.Q6J("template",r)("hasPadding",!1)("closePopover",i.closePopoverSubject)("modal",!0),e.xp6(2),e.Oqu(e.lcZ(3,5,i.acceptedTimeframe))}},dependencies:[P.r,p.m,d.x,T.U,E.O5,M.g,f.a],encapsulation:2})),n})();function N(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"nui-dialog-footer")(1,"button",6),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.cancelPopover())}),e.SDv(2,7),e.qZA(),e.TgZ(3,"button",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.confirmPopover())}),e.SDv(4,9),e.qZA()()}}function y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"nui-quick-picker",3),e.NdJ("presetSelected",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handlePresetSelection(r))}),e.TgZ(2,"nui-time-frame-picker",4),e.NdJ("changed",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateTf(r))}),e.qZA()()(),e.YNc(3,N,5,0,"nui-dialog-footer",5)}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.xp6(1),e.Q6J("startModel",t.acceptedTimeframe),e.xp6(1),e.Q6J("ngIf",t.showFooter)}}let K=(()=>{class n{constructor(t){(0,s.Z)(this,"timeframeService",void 0),(0,s.Z)(this,"presets",{last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize`Last 749 days`,startDatetimePattern:{days:-749},endDatetimePattern:{}}}),(0,s.Z)(this,"selectedPresetKey","last42Hours"),(0,s.Z)(this,"acceptedTimeframe",void 0),(0,s.Z)(this,"tf",void 0),(0,s.Z)(this,"showFooter",!1),(0,s.Z)(this,"closePopoverSubject",new l.x),(0,s.Z)(this,"openPopoverSubject",new l.x),this.timeframeService=t,this.timeframeService.currentPresets=this.presets,this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}updateTf(t){this.tf=t,(()=>this.timeframeService.areTimeFrameDatesValid(t))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(t){this.selectedPresetKey=t,this.tf=this.timeframeService.getTimeframeByPresetId(t),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(_.hYR))}),(0,s.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["nui-time-frame-picker-custom"]],features:[e._Bn([_.hYR])],decls:6,vars:7,consts:function(){let o,t,i;return o=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,t=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `,i=$localize`:␟3c8adc665cde2a280fd027f86fca78239d8a890c␟3416889908563565605: Use `,[["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",o,3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],t,["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],i]},template:function(t,i){if(1&t&&(e.TgZ(0,"nui-popover",0)(1,"span",1),e._uU(2),e.ALo(3,"timeFrame"),e.qZA()(),e.YNc(4,y,4,4,"ng-template",null,2,e.W1O)),2&t){const r=e.MAs(5);e.Q6J("template",r)("hasPadding",!1)("closePopover",i.closePopoverSubject)("modal",!0),e.xp6(2),e.Oqu(e.lcZ(3,5,i.acceptedTimeframe))}},dependencies:[P.r,p.m,d.x,T.U,E.O5,M.g,f.a],encapsulation:2})),n})();var U=c(62516),g=c.n(U),b=c(34235),S=c.n(b),w=c(15439),m=c.n(w),k=c(37780);function L(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"nui-quick-picker",3),e.NdJ("presetSelected",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handlePresetSelection(r))}),e.TgZ(2,"nui-date-picker",4),e.NdJ("valueChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.dateChanged(r))}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("presets",t.presets)("selectedPreset",t.selectedPresetKey),e.xp6(1),e.Q6J("inline",!0)("value",t.selectedDate)("preserveInsignificant",!1)}}let q=(()=>{class n{constructor(){(0,s.Z)(this,"presets",void 0),(0,s.Z)(this,"selectedPresetKey","ihorsBirthday"),(0,s.Z)(this,"selectedDate",void 0),(0,s.Z)(this,"showFooter",!0),(0,s.Z)(this,"closePopoverSubject",new l.x),this.presets=this.getDefaultPresets(),this.selectedDate=this.getDateFromPreset(this.selectedPresetKey)}handlePresetSelection(t){this.selectedDate=this.getDateFromPreset(t),this.selectedPresetKey=t,this.confirmPopover()}dateChanged(t){this.selectedDate.isSame(t,"day")||(this.selectedDate=t,this.selectedPresetKey=this.getPresetFromDate(t),this.confirmPopover())}confirmPopover(){this.closePopoverSubject.next()}getDefaultPresets(){return{today:{name:"Today",pattern:()=>m()()},yesterday:{name:"Yesterday",pattern:()=>m()().subtract(1,"days")},ihorsBirthday:{name:"Ihor's Birthday",pattern:()=>m()("1989-04-09")},random:{name:"Random date (to show that we can)",pattern:()=>m()(+new Date-Math.floor(1e11*Math.random()))}}}getDateFromPreset(t){const i=this.getDefaultPresets()[t];return i?i.pattern():m()()}getPresetFromDate(t){const i=g()(Object.keys(this.presets),r=>t.isSame(this.getDateFromPreset(r),"day"));if(S()(i))throw new Error("DatePreset was not found");return i}}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["nui-time-frame-picker-date"]],decls:9,vars:6,consts:function(){let o,t;return o=$localize`:␟3097578df437c16281ba2d26960e4ec68092bd55␟6223578779816929641:Custom Date`,t=$localize`:␟0bcfbf63721dae8aa56ca8e134c4e572c95d54db␟4115009543277682440:Baselines`,[["trigger","click",3,"template","hasPadding","closePopover","unlimited","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverDayPicker",""],["pickerTitle",o,"presetsTitle",t,3,"presets","selectedPreset","presetSelected"],[3,"inline","value","preserveInsignificant","valueChange"]]},template:function(t,i){if(1&t&&(e.TgZ(0,"nui-popover",0)(1,"span",1),e._uU(2,"Select day"),e.qZA()(),e.TgZ(3,"p"),e._uU(4," Selected date: "),e.TgZ(5,"em"),e._uU(6),e.qZA()(),e.YNc(7,L,3,5,"ng-template",null,2,e.W1O)),2&t){const r=e.MAs(8);e.Q6J("template",r)("hasPadding",!1)("closePopover",i.closePopoverSubject)("unlimited",!0)("modal",!0),e.xp6(6),e.Oqu(null==i.selectedDate?null:i.selectedDate.format("MMMM Do, YYYY"))}},dependencies:[p.m,T.U,k.L],encapsulation:2})),n})(),$=(()=>{class n{constructor(){(0,s.Z)(this,"tf",{startDatetime:m()("04/09/2018","L"),endDatetime:m()("04/10/2018","L"),selectedPresetId:null}),(0,s.Z)(this,"minDate",m()("04/07/2018","L")),(0,s.Z)(this,"maxDate",m()())}updateTf(t){this.tf=t}}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["nui-time-frame-picker-inline"]],decls:4,vars:6,consts:[[3,"startModel","maxDate","minDate","changed"],[1,"nui-text-secondary"]],template:function(t,i){1&t&&(e.TgZ(0,"nui-time-frame-picker",0),e.NdJ("changed",function(a){return i.updateTf(a)}),e.qZA(),e.TgZ(1,"span",1),e._uU(2),e.ALo(3,"timeFrame"),e.qZA()),2&t&&(e.Q6J("startModel",i.tf)("maxDate",i.maxDate)("minDate",i.minDate),e.xp6(2),e.hij("Selected timeframe is ",e.lcZ(3,4,i.tf),""))},dependencies:[d.x,f.a],encapsulation:2})),n})();const X=["scoper"];function J(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"nui-dialog-footer")(1,"button",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).index,a=e.oxw();return e.KtG(a.cancelPopover(r))}),e.SDv(2,10),e.qZA(),e.TgZ(3,"button",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).index,a=e.oxw();return e.KtG(a.confirmPopover(r))}),e.SDv(4,12),e.qZA()()}}function B(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"nui-quick-picker",6),e.NdJ("presetSelected",function(r){e.CHM(t);const a=e.oxw().index,u=e.oxw();return e.KtG(u.handlePresetSelection(r,a))}),e.TgZ(2,"nui-time-frame-picker",7),e.NdJ("changed",function(r){e.CHM(t);const a=e.oxw().index,u=e.oxw();return e.KtG(u.updateTf(r,a))}),e.qZA()()(),e.YNc(3,J,5,0,"nui-dialog-footer",8)}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.xp6(1),e.Q6J("startModel",t.acceptedTimeframe),e.xp6(1),e.Q6J("ngIf",i.showFooter)}}function G(n,o){if(1&n&&(e.TgZ(0,"div",1)(1,"nui-time-frame-service-scoper",null,2)(3,"nui-popover",3)(4,"span",4),e._uU(5),e.ALo(6,"timeFrame"),e.qZA()(),e.YNc(7,B,4,4,"ng-template",null,5,e.W1O),e.qZA()()),2&n){const t=o.$implicit,i=e.MAs(8),r=e.oxw();e.xp6(3),e.Q6J("template",i)("hasPadding",!1)("closePopover",r.closePopoverSubject)("modal",!0),e.xp6(2),e.Oqu(e.lcZ(6,5,t.acceptedTimeframe))}}const Q=["*"];let I=(()=>{class n{constructor(t){(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"tfScopers",void 0),(0,s.Z)(this,"pickers",[{id:"1",presets:{last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize`Last 749 days`,startDatetimePattern:{days:-749},endDatetimePattern:{}}},selectedPresetKey:"last749Days"},{id:"2",presets:{last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}}},selectedPresetKey:"last42Hours"},{id:"3",presets:{lastYear:{name:$localize`Last year`,startDatetimePattern:{year:-1},endDatetimePattern:{}},last10Years:{name:$localize`Last 10 years`,startDatetimePattern:{year:-10},endDatetimePattern:{}}},selectedPresetKey:"lastYear"}]),(0,s.Z)(this,"presets",{last42Hours:{name:$localize`Last 42 hours`,startDatetimePattern:{hours:-42},endDatetimePattern:{}},last749Days:{name:$localize`Last 749 days`,startDatetimePattern:{days:-749},endDatetimePattern:{}}}),(0,s.Z)(this,"showFooter",!1),(0,s.Z)(this,"closePopoverSubject",new l.x),(0,s.Z)(this,"openPopoverSubject",new l.x),this.cdRef=t}updateTf(t,i){const r=this.pickers[i];r.tf=t,r.timeframeService?.areTimeFrameDatesValid(t)&&!r.timeframeService?.isEqual(r.tf,r.acceptedTimeframe)&&(this.showFooter=!0),r.selectedPresetKey=r.tf.selectedPresetId}ngAfterViewInit(){this.tfScopers.forEach((t,i)=>{const r=this.pickers[i],a=t.timeframeService;r.timeframeService=a,a.currentPresets=r.presets,r.acceptedTimeframe=a.getTimeframeByPresetId(r.selectedPresetKey),r.tf=r.acceptedTimeframe}),this.cdRef.detectChanges()}confirmPopover(t){const i=this.pickers[t];this.showFooter=!1,this.closePopoverSubject.next(),i.acceptedTimeframe=i.tf}cancelPopover(t){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(t,i){const r=this.pickers[i];r.selectedPresetKey=t,r.tf=r.timeframeService?.getTimeframeByPresetId(t),r.acceptedTimeframe=r.tf,this.closePopoverSubject.next()}}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(e.sBO))}),(0,s.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["nui-time-frame-picker-multiple-custom-pickers"]],viewQuery:function(t,i){if(1&t&&e.Gf(X,5),2&t){let r;e.iGM(r=e.CRH())&&(i.tfScopers=r)}},decls:1,vars:1,consts:function(){let o,t,i;return o=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,t=$localize`:␟6a3777f913cf3f288664f0632b9f24794fdcc24e␟6991067716289442185: Cancel `,i=$localize`:␟ed00b437e9ad627b97f49a51d7efc46c7f8001e5␟3260792159339867964: Use `,[["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],["scoper",""],["trigger","click",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",o,3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],t,["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],i]},template:function(t,i){1&t&&e.YNc(0,G,9,7,"div",0),2&t&&e.Q6J("ngForOf",i.pickers)},dependencies:function(){return[P.r,p.m,d.x,T.U,E.sg,E.O5,M.g,j,f.a]},encapsulation:2})),n})(),j=(()=>{class n{constructor(t){(0,s.Z)(this,"timeframeService",void 0),this.timeframeService=t}}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(_.hYR))}),(0,s.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["nui-time-frame-service-scoper"]],features:[e._Bn([_.hYR])],ngContentSelectors:Q,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2})),n})(),Y=(()=>{class n{}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["nui-time-frame-picker-docs"]],decls:116,vars:2,consts:[["href","../interfaces/ITimeframe.html","target","_blank"],["filenamePrefix","time-frame-picker-inline","exampleTitle","Basic Usage"],["filenamePrefix","quick-picker-basic","exampleTitle","Quick Picker"],["filenamePrefix","time-frame-picker-basic","exampleTitle","Timeframe Picker in a Popover"],["type","info",3,"allowDismiss"],["filenamePrefix","time-frame-picker-date","exampleTitle","Date-Based Picker in Popover"],["filenamePrefix","time-frame-picker-custom","exampleTitle","Date-Based Picker in Popover"],["filenamePrefix","time-frame-picker-multiple-custom-pickers","exampleTitle","Multiple pickers with custom presets"]],template:function(t,i){1&t&&(e.TgZ(0,"h2"),e._uU(1,"Required Modules"),e.qZA(),e.TgZ(2,"ul")(3,"li")(4,"code"),e._uU(5,"NuiTimeFramePickerModule"),e.qZA()()(),e.TgZ(6,"h2"),e._uU(7,"Basic Usage"),e.qZA(),e.TgZ(8,"p"),e._uU(9," The "),e.TgZ(10,"code"),e._uU(11,"<nui-time-frame-picker>"),e.qZA(),e._uU(12," component allows the user to select a time range. Its model is an "),e.TgZ(13,"code")(14,"a",0),e._uU(15,"ITimeframe"),e.qZA()(),e._uU(16," which can be set using the "),e.TgZ(17,"code"),e._uU(18,"startModel"),e.qZA(),e._uU(19," input. All changes can be detected using the "),e.TgZ(20,"code"),e._uU(21,"changed"),e.qZA(),e._uU(22," output. Additionally, max and min dates can be defined by setting the "),e.TgZ(23,"code"),e._uU(24,"maxDate"),e.qZA(),e._uU(25," and "),e.TgZ(26,"code"),e._uU(27,"minDate"),e.qZA(),e._uU(28," inputs with moment instances.\n"),e.qZA(),e.TgZ(29,"p"),e._uU(30," If the user selects a start time that's later than the currently selected end time, the selected end time will adjust accordingly to preserve the current timeframe duration.\n"),e.qZA(),e.TgZ(31,"p"),e._uU(32," If the user attempts to select an end time that's the same as or earlier than the currently selected start time, no changes occur on either the view or the model.\n"),e.qZA(),e.TgZ(33,"nui-example-wrapper",1),e._UZ(34,"nui-time-frame-picker-inline"),e.qZA(),e.TgZ(35,"h2"),e._uU(36,"Quick Picker Component"),e.qZA(),e.TgZ(37,"p"),e._uU(38," The "),e.TgZ(39,"code"),e._uU(40,"<nui-quick-picker>"),e.qZA(),e._uU(41," component is a helper component in the TimeFramePicker module.\n"),e.qZA(),e.TgZ(42,"p"),e._uU(43,' In most cases, the default title "Quick Picks" on the left pane should be sufficient; however, if needed, the title can be customized using the '),e.TgZ(44,"code"),e._uU(45,"presetsTitle"),e.qZA(),e._uU(46," input.\n"),e.qZA(),e.TgZ(47,"p"),e._uU(48," If a custom ordering of presets is needed, an array of keys can be passed to the "),e.TgZ(49,"code"),e._uU(50,"presetKeysOrder"),e.qZA(),e._uU(51," input.\n"),e.qZA(),e.TgZ(52,"nui-example-wrapper",2),e._UZ(53,"nui-quick-picker-basic"),e.qZA(),e.TgZ(54,"h2"),e._uU(55,"Timeframe Picker in a Popover"),e.qZA(),e.TgZ(56,"p"),e._uU(57," To implement the common use-case of a timeframe picker in a popover, combine the "),e.TgZ(58,"code"),e._uU(59,"<nui-time-frame-picker>"),e.qZA(),e._uU(60,", "),e.TgZ(61,"code"),e._uU(62,"nui-quick-picker"),e.qZA(),e._uU(63," and "),e.TgZ(64,"code"),e._uU(65,"nui-popover"),e.qZA(),e._uU(66," elements as shown below.\n"),e.qZA(),e.TgZ(67,"p"),e._uU(68," To achieve a modal effect, you can set the popover's "),e.TgZ(69,"code"),e._uU(70,"[modal]"),e.qZA(),e._uU(71," input to "),e.TgZ(72,"code"),e._uU(73,"true"),e.qZA(),e._uU(74,".\n"),e.qZA(),e.TgZ(75,"nui-example-wrapper",3),e._UZ(76,"nui-time-frame-picker-basic-example"),e.qZA(),e.TgZ(77,"h2"),e._uU(78,"Date-Based Picker in Popover"),e.qZA(),e.TgZ(79,"nui-message",4),e._uU(80," Please note that in order to adjust popover to the width of inner components you may need to pass "),e.TgZ(81,"code"),e._uU(82,'[unlimited]="true"'),e.qZA(),e._uU(83," to it.\n"),e.qZA(),e.TgZ(84,"p"),e._uU(85," You are free to use different types of components inside a Quick Picker. The following example shows how to put a DatePicker inside.\n"),e.qZA(),e.TgZ(86,"nui-example-wrapper",5),e._UZ(87,"nui-time-frame-picker-date"),e.qZA(),e.TgZ(88,"h2"),e._uU(89,"Custom presets with Timeframe Picker"),e.qZA(),e.TgZ(90,"p"),e._uU(91," Presets can be changed using "),e.TgZ(92,"code"),e._uU(93,"timeframeService.currentPresets"),e.qZA(),e._uU(94," field.\n"),e.qZA(),e.TgZ(95,"nui-message",4),e._uU(96," Please note that TimeFrameService is provided in scope of NuiTimeFramePickerModule once, and since one TimeFrameService instance can keep only one set of presets, in order to have different presets in 2 different components of an application, please provide different TimeFrameService instances in scope of those components (as in the example below, which includes "),e.TgZ(97,"code"),e._uU(98,"providers: [TimeframeService]"),e.qZA(),e._uU(99," in a component decorator).\n"),e.qZA(),e.TgZ(100,"nui-example-wrapper",6),e._UZ(101,"nui-time-frame-picker-custom"),e.qZA(),e.TgZ(102,"h2"),e._uU(103,"Multiple pickers with custom presets"),e.qZA(),e.TgZ(104,"p"),e._uU(105," If you want to have multiple instances of "),e.TgZ(106,"code"),e._uU(107,"TimeFrameService"),e.qZA(),e._uU(108," for your time frame pickers, you should provide one in the components providers.\n"),e.qZA(),e.TgZ(109,"p"),e._uU(110," The example below shows how to create a component that will be responsible for creating "),e.TgZ(111,"code"),e._uU(112,"TimeFrameService"),e.qZA(),e._uU(113," per component.\n"),e.qZA(),e.TgZ(114,"nui-example-wrapper",7),e._UZ(115,"nui-time-frame-picker-multiple-custom-pickers"),e.qZA()),2&t&&(e.xp6(79),e.Q6J("allowDismiss",!1),e.xp6(16),e.Q6J("allowDismiss",!1))},dependencies:[x.q,Z.h,F,D,K,q,$,I],encapsulation:2})),n})();function V(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"nui-dialog-footer")(1,"button",6),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.cancelPopover())}),e.SDv(2,7),e.qZA(),e.TgZ(3,"button",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.confirmPopover())}),e.SDv(4,9),e.qZA()()}}function H(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"nui-quick-picker",3),e.NdJ("presetSelected",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handlePresetSelection(r))}),e.TgZ(2,"nui-time-frame-picker",4),e.NdJ("changed",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateTf(r))}),e.qZA()()(),e.YNc(3,V,5,0,"nui-dialog-footer",5)}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.xp6(1),e.Q6J("startModel",t.acceptedTimeframe)("maxDate",t.maxDate)("minDate",t.minDate),e.xp6(1),e.Q6J("ngIf",t.showFooter)}}let z=(()=>{class n{constructor(t){(0,s.Z)(this,"timeframeService",void 0),(0,s.Z)(this,"presets",void 0),(0,s.Z)(this,"selectedPresetKey","lastHour"),(0,s.Z)(this,"acceptedTimeframe",void 0),(0,s.Z)(this,"tf",void 0),(0,s.Z)(this,"minDate",m()("04/07/2018","L")),(0,s.Z)(this,"maxDate",m()()),(0,s.Z)(this,"showFooter",!1),(0,s.Z)(this,"closePopoverSubject",new l.x),(0,s.Z)(this,"openPopoverSubject",new l.x),this.timeframeService=t,this.presets=t.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey),this.tf=this.acceptedTimeframe}updateTf(t){this.tf=t,(()=>this.timeframeService.areTimeFrameDatesValid(t))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(t){this.selectedPresetKey=t,this.tf=this.timeframeService.getTimeframeByPresetId(t),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(_.hYR))}),(0,s.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["nui-time-frame-picker-test"]],decls:9,vars:10,consts:function(){let o,t,i;return o=$localize`:␟8946b0053f321c7db24853d1b213b1ea9794c789␟2079707468789363335:Custom Range`,t=$localize`:␟bf844a41a29961b6dacc48a20eaf97bef0cf5013␟7452095619502551190: Cancel `,i=$localize`:␟3c8adc665cde2a280fd027f86fca78239d8a890c␟3416889908563565605: Use `,[["id","nui-demo-basic-time-frame-picker","trigger","click",3,"template","hasPadding","closePopover"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["pickerTitle",o,3,"presets","selectedPreset","presetSelected"],[3,"startModel","maxDate","minDate","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action","id","nui-demo-basic-time-frame-picker-cancel",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],t,["nui-button","","type","button","displayStyle","primary","id","nui-demo-basic-time-frame-picker-use",1,"nui-time-frame-picker__use",3,"click"],i]},template:function(t,i){if(1&t&&(e.TgZ(0,"nui-popover",0)(1,"span",1),e._uU(2),e.ALo(3,"timeFrame"),e.qZA()(),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"timeFrame"),e.qZA(),e.YNc(7,H,4,6,"ng-template",null,2,e.W1O)),2&t){const r=e.MAs(8);e.Q6J("template",r)("hasPadding",!1)("closePopover",i.closePopoverSubject),e.xp6(2),e.Oqu(e.lcZ(3,5,i.acceptedTimeframe)),e.xp6(3),e.Oqu(e.xi3(6,7,i.acceptedTimeframe,"LL LTS"))}},dependencies:[P.r,p.m,d.x,T.U,E.O5,M.g,f.a],encapsulation:2})),n})();function W(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"nui-dialog-footer")(1,"button",13),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.cancelPopover())}),e._uU(2," Cancel "),e.qZA(),e.TgZ(3,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.confirmPopover())}),e._uU(4," Use "),e.qZA()()}}function ee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"nui-quick-picker",10),e.NdJ("presetSelected",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handlePresetSelection(r))}),e.TgZ(2,"nui-time-frame-picker",11),e.NdJ("changed",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateTf(r))}),e.qZA()()(),e.YNc(3,W,5,0,"nui-dialog-footer",12)}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.xp6(1),e.Q6J("startModel",t.acceptedTimeframe),e.xp6(1),e.Q6J("ngIf",t.showFooter)}}function te(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"nui-quick-picker",15),e.NdJ("presetSelected",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handlePresetSelectionDatePicker(r))}),e.TgZ(2,"nui-date-picker",16),e.NdJ("valueChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.dateChanged(r))}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("presets",t.presetsDatePicker)("selectedPreset",t.selectedPresetKeyDatePicker),e.xp6(1),e.Q6J("inline",!0)("value",t.selectedDate)("preserveInsignificant",!1)}}function ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"nui-quick-picker",10),e.NdJ("presetSelected",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.handlePresetSelection(r))}),e.TgZ(2,"nui-time-frame-picker",11),e.NdJ("changed",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateTf(r))}),e.qZA(),e.TgZ(3,"nui-date-picker",16),e.NdJ("valueChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.dateChanged(r))}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("presets",t.presets)("selectedPreset",t.acceptedTimeframe.selectedPresetId),e.xp6(1),e.Q6J("startModel",t.acceptedTimeframe),e.xp6(1),e.Q6J("inline",!0)("value",t.selectedDate)("preserveInsignificant",!1)}}let re=(()=>{class n{constructor(t){(0,s.Z)(this,"timeframeService",void 0),(0,s.Z)(this,"presets",void 0),(0,s.Z)(this,"presetsDatePicker",void 0),(0,s.Z)(this,"selectedPresetKey","lastHour"),(0,s.Z)(this,"selectedPresetKeyDatePicker","dimasBirthday"),(0,s.Z)(this,"acceptedTimeframe",void 0),(0,s.Z)(this,"tf",void 0),(0,s.Z)(this,"selectedDate",void 0),(0,s.Z)(this,"showFooter",!1),(0,s.Z)(this,"closePopoverSubject",new l.x),(0,s.Z)(this,"openPopoverSubject",new l.x),this.timeframeService=t,this.presets=t.getDefaultPresets(),this.acceptedTimeframe=this.timeframeService.getTimeframeByPresetId(this.selectedPresetKey,"02/17/1986"),this.tf=this.acceptedTimeframe,this.presetsDatePicker=this.getDefaultPresets(),this.selectedDate=this.getDateFromPreset(this.selectedPresetKeyDatePicker)}updateTf(t){this.tf=t,(()=>this.timeframeService.areTimeFrameDatesValid(t))()&&!(()=>this.timeframeService.isEqual(this.tf,this.acceptedTimeframe))()&&(this.showFooter=!0),this.selectedPresetKey=this.tf.selectedPresetId}confirmPopover(){this.showFooter=!1,this.closePopoverSubject.next(),this.acceptedTimeframe=this.tf}cancelPopover(){this.showFooter=!1,this.closePopoverSubject.next()}handlePresetSelection(t){this.selectedPresetKeyDatePicker=t,this.tf=this.timeframeService.getTimeframeByPresetId(t,"02/17/1986"),this.acceptedTimeframe=this.tf,this.closePopoverSubject.next()}confirmPopoverDatePicker(){this.closePopoverSubject.next()}handlePresetSelectionDatePicker(t){this.selectedDate=this.getDateFromPreset(t),this.selectedPresetKeyDatePicker=t,this.confirmPopoverDatePicker()}dateChanged(t){this.selectedDate.isSame(t,"day")||(this.selectedDate=t,this.selectedPresetKeyDatePicker=this.getPresetFromDate(t),this.confirmPopoverDatePicker())}getDefaultPresets(){return{today:{name:"Today",pattern:()=>m()()},yesterday:{name:"Yesterday",pattern:()=>m()().subtract(1,"days")},dimasBirthday:{name:"Dima's Birthday",pattern:()=>m()("1986-02-17")},random:{name:"Random date (to show that we can)",pattern:()=>m()(+new Date-Math.floor(1e11*Math.random()))}}}getDateFromPreset(t){const i=this.getDefaultPresets()[t];return i?i.pattern():m()()}getPresetFromDate(t){const i=g()(Object.keys(this.presets),r=>t.isSame(this.getDateFromPreset(r),"day"));if(S()(i))throw new Error("DatePreset was not found");return i}}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(_.hYR))}),(0,s.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["nui-time-frame-picker-visual-test"]],decls:32,vars:21,consts:[[1,"container"],[1,"row"],[1,"col"],["trigger","click","id","nui-demo-visual-default-popover",3,"template","hasPadding","closePopover","modal"],[1,"nui-text-link",2,"cursor","pointer"],["popoverTimeFramePicker",""],["trigger","click","id","nui-demo-visual-datepicker-popover",3,"template","hasPadding","closePopover","unlimited","modal"],["popoverDayPicker",""],["trigger","click","id","nui-demo-visual-complex-popover",3,"template","hasPadding","closePopover","modal","unlimited"],["popoverTimeFramePickerUnlimited",""],["pickerTitle","Custom Range",3,"presets","selectedPreset","presetSelected"],[3,"startModel","changed"],[4,"ngIf"],["nui-button","","type","button","displayStyle","action",1,"pr-3","nui-time-frame-picker__cancel",3,"click"],["nui-button","","type","button","displayStyle","primary",1,"nui-time-frame-picker__use",3,"click"],["pickerTitle","Custom Date","presetsTitle","Baselines",3,"presets","selectedPreset","presetSelected"],[3,"inline","value","preserveInsignificant","valueChange"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),e._uU(4,"TimeFrame Picker in Popover"),e.qZA(),e.TgZ(5,"nui-popover",3)(6,"span",4),e._uU(7),e.ALo(8,"timeFrame"),e.qZA()(),e.YNc(9,ee,4,4,"ng-template",null,5,e.W1O),e.qZA(),e.TgZ(11,"div",2)(12,"h4"),e._uU(13,"TimeFrame Picker with other components"),e.qZA(),e.TgZ(14,"nui-popover",6)(15,"span",4),e._uU(16,"Select day"),e.qZA()(),e.TgZ(17,"p"),e._uU(18," Selected date: "),e.TgZ(19,"em"),e._uU(20),e.qZA()(),e.YNc(21,te,3,5,"ng-template",null,7,e.W1O),e.qZA(),e.TgZ(23,"div",2)(24,"h4"),e._uU(25," TimeFrame Picker + Date picker with unlimited width in Popover "),e.qZA(),e.TgZ(26,"nui-popover",8)(27,"span",4),e._uU(28),e.ALo(29,"timeFrame"),e.qZA()(),e.YNc(30,ie,4,6,"ng-template",null,9,e.W1O),e.qZA()()()),2&t){const r=e.MAs(10),a=e.MAs(22),u=e.MAs(31);e.xp6(5),e.Q6J("template",r)("hasPadding",!1)("closePopover",i.closePopoverSubject)("modal",!0),e.xp6(2),e.Oqu(e.lcZ(8,17,i.acceptedTimeframe)),e.xp6(7),e.Q6J("template",a)("hasPadding",!1)("closePopover",i.closePopoverSubject)("unlimited",!0)("modal",!0),e.xp6(6),e.Oqu(null==i.selectedDate?null:i.selectedDate.format("MMMM Do, YYYY")),e.xp6(6),e.Q6J("template",u)("hasPadding",!1)("closePopover",i.closePopoverSubject)("modal",!0)("unlimited",!0),e.xp6(2),e.Oqu(e.lcZ(29,19,i.acceptedTimeframe))}},dependencies:[P.r,p.m,d.x,T.U,E.O5,M.g,k.L,f.a],encapsulation:2})),n})();var ne=c(71501);const se=[{path:"",component:Y,data:{srlc:{stage:_.We9.ga},showThemeSwitcher:!0}},{path:"time-frame-picker-test",component:z,data:{srlc:{hideIndicator:!0}}},{path:"time-frame-picker-visual-test",component:re,data:{srlc:{hideIndicator:!0}}},{path:"multiple-custom-pickers",component:I,data:{srlc:{hideIndicator:!0}}}];let oe=(()=>{class n{}return(0,s.Z)(n,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(n,"\u0275mod",e.oAB({type:n})),(0,s.Z)(n,"\u0275inj",e.cJS({providers:[{provide:_.V3$,useValue:(0,ne.S)("time-frame-picker")}],imports:[_.Az_,_.JhO,_.a51,_.gkT,A.u5,_.S6I,_.vvu,_.YMY,C.Bz.forChild(se),_.F__,_.NAo,C.Bz]})),n})()}}]);