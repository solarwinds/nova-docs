(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[3991],{53991:(le,Ft,w)=>{"use strict";w.r(Ft),w.d(Ft,{default:()=>ay});var l=w(37691),B=w(89702),m=w(36895),V=w(80529),ke=w(75883),v=w(70655),me="Invariant Violation",It=Object.setPrototypeOf,Rl=void 0===It?function(i,r){return i.__proto__=r,i}:It,Q=function(i){function r(t){void 0===t&&(t=me);var n=i.call(this,"number"==typeof t?me+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return n.framesToPop=1,n.name=me,Rl(n,r.prototype),n}return(0,v.ZT)(r,i),r}(Error);function I(i,r){if(!i)throw new Q(r)}var i,li=["debug","log","warn","error","silent"],Wi=li.indexOf("log");function si(i){return function(){if(li.indexOf(i)>=Wi){var r=console[i]||console.log;return r.apply(console,arguments)}}}function De(i){try{return i()}catch{}}(i=I||(I={})).debug=si("debug"),i.log=si("log"),i.warn=si("warn"),i.error=si("error");const Fr=De(function(){return globalThis})||De(function(){return window})||De(function(){return self})||De(function(){return global})||De(function(){return De.constructor("return this")()});var Ir="__",xr=[Ir,Ir].join("DEV");const Bi=function Dl(){try{return Boolean(__DEV__)}catch{return Object.defineProperty(Fr,xr,{value:"production"!==De(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),Fr[xr]}}();function Ye(i){try{return i()}catch{}}var Qi=Ye(function(){return globalThis})||Ye(function(){return window})||Ye(function(){return self})||Ye(function(){return global})||Ye(function(){return Ye.constructor("return this")()}),$i=!1;!function Ml(){Qi&&!Ye(function(){return"production"})&&!Ye(function(){return process})&&(Object.defineProperty(Qi,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),$i=!0)}(),"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol;var Ar="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";const Hi="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function ci(i){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}function Lr(i){return ui(i,[])}function ui(i,r){switch(ci(i)){case"string":return JSON.stringify(i);case"function":return i.name?"[function ".concat(i.name,"]"):"[function]";case"object":return null===i?"null":function Vl(i,r){if(-1!==r.indexOf(i))return"[Circular]";var t=[].concat(r,[i]),n=function Pl(i){var r=i[String(Hi)];return"function"==typeof r?r:"function"==typeof i.inspect?i.inspect:void 0}(i);if(void 0!==n){var o=n.call(i);if(o!==i)return"string"==typeof o?o:ui(o,t)}else if(Array.isArray(i))return function Ul(i,r){if(0===i.length)return"[]";if(r.length>2)return"[Array]";for(var t=Math.min(10,i.length),n=i.length-t,o=[],a=0;a<t;++a)o.push(ui(i[a],r));return 1===n?o.push("... 1 more item"):n>1&&o.push("... ".concat(n," more items")),"["+o.join(", ")+"]"}(i,t);return function kl(i,r){var t=Object.keys(i);if(0===t.length)return"{}";if(r.length>2)return"["+function ql(i){var r=Object.prototype.toString.call(i).replace(/^\[object /,"").replace(/]$/,"");if("Object"===r&&"function"==typeof i.constructor){var t=i.constructor.name;if("string"==typeof t&&""!==t)return t}return r}(i)+"]";var n=t.map(function(o){return o+": "+ui(i[o],r)});return"{ "+n.join(", ")+" }"}(i,t)}(i,r);default:return String(i)}}function Ji(i,r){if(!Boolean(i))throw new Error(r)}function Rr(i,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}var Yi=function(){function i(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof r||Ji(0,"Body must be a string. Received: ".concat(Lr(r),".")),this.body=r,this.name=t,this.locationOffset=n,this.locationOffset.line>0||Ji(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ji(0,"column in locationOffset is 1-indexed and must be positive.")}return function Bl(i,r,t){r&&Rr(i.prototype,r),t&&Rr(i,t)}(i,[{key:Ar,get:function(){return"Source"}}]),i}();(function $l(){(function Zr(){$i&&(delete Qi.process,$i=!1)})()})(),function Hl(){__DEV__?I("boolean"==typeof Bi,Bi):I("boolean"==typeof Bi,39)}();var Jl=function(){return Object.create(null)},Dr=Array.prototype,jl=Dr.forEach,Yl=Dr.slice,xt=function(){function i(r,t){void 0===r&&(r=!0),void 0===t&&(t=Jl),this.weakness=r,this.makeData=t}return i.prototype.lookup=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return this.lookupArray(r)},i.prototype.lookupArray=function(r){var t=this;return jl.call(r,function(n){return t=t.getChildTrie(n)}),t.data||(t.data=this.makeData(Yl.call(r)))},i.prototype.getChildTrie=function(r){var t=this.weakness&&function zl(i){switch(typeof i){case"object":if(null===i)break;case"function":return!0}return!1}(r)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=t.get(r);return n||t.set(r,n=new i(this.weakness,this.makeData)),n},i}(),fe=null,Mr={},Kl=1;function Nr(i){try{return i()}catch{}}var zi="@wry/context:Slot",Gr=Nr(function(){return globalThis})||Nr(function(){return global})||Object.create(null),pi=Gr[zi]||Array[zi]||function(i){try{Object.defineProperty(Gr,zi,{value:i,enumerable:!1,writable:!1,configurable:!0})}finally{return i}}(function(){function i(){this.id=["slot",Kl++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return i.prototype.hasValue=function(){for(var r=fe;r;r=r.parent)if(this.id in r.slots){var t=r.slots[this.id];if(t===Mr)break;return r!==fe&&(fe.slots[this.id]=t),!0}return fe&&(fe.slots[this.id]=Mr),!1},i.prototype.getValue=function(){if(this.hasValue())return fe.slots[this.id]},i.prototype.withValue=function(r,t,n,o){var a,s=((a={__proto__:null})[this.id]=r,a),c=fe;fe={parent:c,slots:s};try{return t.apply(o,n)}finally{fe=c}},i.bind=function(r){var t=fe;return function(){var n=fe;try{return fe=t,r.apply(this,arguments)}finally{fe=n}}},i.noContext=function(r,t,n){if(!fe)return r.apply(n,t);var o=fe;try{return fe=null,r.apply(n,t)}finally{fe=o}},i}());function ns(){}var Xi,rs=function(){function i(r,t){void 0===r&&(r=1/0),void 0===t&&(t=ns),this.max=r,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return i.prototype.has=function(r){return this.map.has(r)},i.prototype.get=function(r){var t=this.getNode(r);return t&&t.value},i.prototype.getNode=function(r){var t=this.map.get(r);if(t&&t!==this.newest){var n=t.older,o=t.newer;o&&(o.older=n),n&&(n.newer=o),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=o)}return t},i.prototype.set=function(r,t){var n=this.getNode(r);return n?n.value=t:(n={key:r,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(r,n),n.value)},i.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},i.prototype.delete=function(r){var t=this.map.get(r);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(r),this.dispose(t.value,r),!0)},i}(),_i=new pi,os=Object.prototype.hasOwnProperty,en=void 0===(Xi=Array.from)?function(i){var r=[];return i.forEach(function(t){return r.push(t)}),r}:Xi;function fi(i){var r=i.unsubscribe;"function"==typeof r&&(i.unsubscribe=void 0,r())}var Zt=[];function pt(i,r){if(!i)throw new Error(r||"assertion failure")}function kr(i){switch(i.length){case 0:throw new Error("unknown value");case 1:return i[0];case 2:throw i[1]}}var cs=function(){function i(r){this.fn=r,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++i.count}return i.prototype.peek=function(){if(1===this.value.length&&!ze(this))return Ur(this),this.value[0]},i.prototype.recompute=function(r){return pt(!this.recomputing,"already recomputing"),Ur(this),ze(this)?function us(i,r){return $r(i),_i.withValue(i,ps,[i,r]),function fs(i,r){if("function"==typeof i.subscribe)try{fi(i),i.unsubscribe=i.subscribe.apply(null,r)}catch{return i.setDirty(),!1}return!0}(i,r)&&function _s(i){i.dirty=!1,!ze(i)&&qr(i)}(i),kr(i.value)}(this,r):kr(this.value)},i.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Pr(this),fi(this))},i.prototype.dispose=function(){var r=this;this.setDirty(),$r(this),tn(this,function(t,n){t.setDirty(),Hr(t,r)})},i.prototype.forget=function(){this.dispose()},i.prototype.dependOn=function(r){r.add(this),this.deps||(this.deps=Zt.pop()||new Set),this.deps.add(r)},i.prototype.forgetDeps=function(){var r=this;this.deps&&(en(this.deps).forEach(function(t){return t.delete(r)}),this.deps.clear(),Zt.push(this.deps),this.deps=null)},i.count=0,i}();function Ur(i){var r=_i.getValue();if(r)return i.parents.add(r),r.childValues.has(i)||r.childValues.set(i,[]),ze(i)?Wr(r,i):Br(r,i),r}function ps(i,r){i.recomputing=!0,i.value.length=0;try{i.value[0]=i.fn.apply(null,r)}catch(t){i.value[1]=t}i.recomputing=!1}function ze(i){return i.dirty||!(!i.dirtyChildren||!i.dirtyChildren.size)}function Pr(i){tn(i,Wr)}function qr(i){tn(i,Br)}function tn(i,r){var t=i.parents.size;if(t)for(var n=en(i.parents),o=0;o<t;++o)r(n[o],i)}function Wr(i,r){pt(i.childValues.has(r)),pt(ze(r));var t=!ze(i);if(i.dirtyChildren){if(i.dirtyChildren.has(r))return}else i.dirtyChildren=Zt.pop()||new Set;i.dirtyChildren.add(r),t&&Pr(i)}function Br(i,r){pt(i.childValues.has(r)),pt(!ze(r));var t=i.childValues.get(r);0===t.length?i.childValues.set(r,function ss(i){return i.slice(0)}(r.value)):function ls(i,r){var t=i.length;return t>0&&t===r.length&&i[t-1]===r[t-1]}(t,r.value)||i.setDirty(),Qr(i,r),!ze(i)&&qr(i)}function Qr(i,r){var t=i.dirtyChildren;t&&(t.delete(r),0===t.size&&(Zt.length<100&&Zt.push(t),i.dirtyChildren=null))}function $r(i){i.childValues.size>0&&i.childValues.forEach(function(r,t){Hr(i,t)}),i.forgetDeps(),pt(null===i.dirtyChildren)}function Hr(i,r){r.parents.delete(i),i.childValues.delete(r),Qr(i,r)}var ds={setDirty:!0,dispose:!0,forget:!0};function Jr(i){var r=new Map,t=i&&i.subscribe;function n(o){var a=_i.getValue();if(a){var s=r.get(o);s||r.set(o,s=new Set),a.dependOn(s),"function"==typeof t&&(fi(s),s.unsubscribe=t(o))}}return n.dirty=function(a,s){var c=r.get(a);if(c){var p=s&&os.call(ds,s)?s:"setDirty";en(c).forEach(function(u){return u[p]()}),r.delete(a),fi(c)}},n}function jr(){var i=new xt("function"==typeof WeakMap);return function(){return i.lookupArray(arguments)}}jr();var nn=new Set;function di(i,r){void 0===r&&(r=Object.create(null));var t=new rs(r.max||Math.pow(2,16),function(u){return u.dispose()}),n=r.keyArgs,o=r.makeCacheKey||jr(),a=function(){var u=o.apply(null,n?n.apply(null,arguments):arguments);if(void 0===u)return i.apply(null,arguments);var f=t.get(u);f||(t.set(u,f=new cs(i)),f.subscribe=r.subscribe,f.forget=function(){return t.delete(u)});var d=f.recompute(Array.prototype.slice.call(arguments));return t.set(u,f),nn.add(t),_i.hasValue()||(nn.forEach(function(h){return h.clean()}),nn.clear()),d};function s(u){var f=t.get(u);f&&f.setDirty()}function c(u){var f=t.get(u);if(f)return f.peek()}function p(u){return t.delete(u)}return Object.defineProperty(a,"size",{get:function(){return t.map.size},configurable:!1,enumerable:!1}),a.dirtyKey=s,a.dirty=function(){s(o.apply(null,arguments))},a.peekKey=c,a.peek=function(){return c(o.apply(null,arguments))},a.forgetKey=p,a.forget=function(){return p(o.apply(null,arguments))},a.makeCacheKey=o,a.getKey=n?function(){return o.apply(null,n.apply(null,arguments))}:o,Object.freeze(a)}var Yr=Object.prototype,zr=Yr.toString,hs=Yr.hasOwnProperty,Kr=Function.prototype.toString,rn=new Map;function ce(i,r){try{return on(i,r)}finally{rn.clear()}}function on(i,r){if(i===r)return!0;var t=zr.call(i);if(t!==zr.call(r))return!1;switch(t){case"[object Array]":if(i.length!==r.length)return!1;case"[object Object]":if(eo(i,r))return!0;var o=Xr(i),a=Xr(r),s=o.length;if(s!==a.length)return!1;for(var c=0;c<s;++c)if(!hs.call(r,o[c]))return!1;for(c=0;c<s;++c){var p=o[c];if(!on(i[p],r[p]))return!1}return!0;case"[object Error]":return i.name===r.name&&i.message===r.message;case"[object Number]":if(i!=i)return r!=r;case"[object Boolean]":case"[object Date]":return+i==+r;case"[object RegExp]":case"[object String]":return i=="".concat(r);case"[object Map]":case"[object Set]":if(i.size!==r.size)return!1;if(eo(i,r))return!0;for(var u=i.entries(),f="[object Map]"===t;;){var d=u.next();if(d.done)break;var h=d.value,g=h[0],S=h[1];if(!r.has(g)||f&&!on(S,r.get(g)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":i=new Uint8Array(i),r=new Uint8Array(r);case"[object DataView]":var y=i.byteLength;if(y===r.byteLength)for(;y--&&i[y]===r[y];);return-1===y;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var b=Kr.call(i);return b===Kr.call(r)&&!function vs(i,r){var t=i.length-r.length;return t>=0&&i.indexOf(r,t)===t}(b,gs)}return!1}function Xr(i){return Object.keys(i).filter(ms,i)}function ms(i){return void 0!==this[i]}var gs="{ [native code] }";function eo(i,r){var t=rn.get(i);if(t){if(t.has(r))return!0}else rn.set(i,t=new Set);return t.add(r),!1}function Ts(i,r){var t=r,n=[];return i.definitions.forEach(function(a){if("OperationDefinition"===a.kind)throw __DEV__?new Q("Found a ".concat(a.operation," operation").concat(a.name?" named '".concat(a.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new Q(44);"FragmentDefinition"===a.kind&&n.push(a)}),typeof t>"u"&&(__DEV__?I(1===n.length,"Found ".concat(n.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):I(1===n.length,45),t=n[0].name.value),(0,v.pi)((0,v.pi)({},i),{definitions:(0,v.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],i.definitions,!0)})}function an(i){void 0===i&&(i=[]);var r={};return i.forEach(function(t){r[t.name.value]=t}),r}function ln(i,r){switch(i.kind){case"InlineFragment":return i;case"FragmentSpread":var t=i.name.value;if("function"==typeof r)return r(t);var n=r&&r[t];return __DEV__?I(n,"No fragment named ".concat(t)):I(n,46),n||null;default:return null}}var Ss=function(){function i(){this.getFragmentDoc=di(Ts)}return i.prototype.batch=function(r){var o,t=this;return this.performTransaction(function(){return o=r.update(t)},"string"==typeof r.optimistic?r.optimistic:!1===r.optimistic?null:void 0),o},i.prototype.recordOptimisticTransaction=function(r,t){this.performTransaction(r,t)},i.prototype.transformDocument=function(r){return r},i.prototype.transformForLink=function(r){return r},i.prototype.identify=function(r){},i.prototype.gc=function(){return[]},i.prototype.modify=function(r){return!1},i.prototype.readQuery=function(r,t){return void 0===t&&(t=!!r.optimistic),this.read((0,v.pi)((0,v.pi)({},r),{rootId:r.id||"ROOT_QUERY",optimistic:t}))},i.prototype.readFragment=function(r,t){return void 0===t&&(t=!!r.optimistic),this.read((0,v.pi)((0,v.pi)({},r),{query:this.getFragmentDoc(r.fragment,r.fragmentName),rootId:r.id,optimistic:t}))},i.prototype.writeQuery=function(r){var t=r.id,n=r.data,o=(0,v._T)(r,["id","data"]);return this.write(Object.assign(o,{dataId:t||"ROOT_QUERY",result:n}))},i.prototype.writeFragment=function(r){var t=r.id,n=r.data,o=r.fragment,a=r.fragmentName,s=(0,v._T)(r,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(o,a),dataId:t,result:n}))},i.prototype.updateQuery=function(r,t){return this.batch({update:function(n){var o=n.readQuery(r),a=t(o);return null==a?o:(n.writeQuery((0,v.pi)((0,v.pi)({},r),{data:a})),a)}})},i.prototype.updateFragment=function(r,t){return this.batch({update:function(n){var o=n.readFragment(r),a=t(o);return null==a?o:(n.writeFragment((0,v.pi)((0,v.pi)({},r),{data:a})),a)}})},i}(),to=function(i){function r(t,n,o,a){var s,c=i.call(this,t)||this;if(c.message=t,c.path=n,c.query=o,c.variables=a,Array.isArray(c.path)){c.missing=c.message;for(var p=c.path.length-1;p>=0;--p)c.missing=((s={})[c.path[p]]=c.missing,s)}else c.missing=c.path;return c.__proto__=r.prototype,c}return(0,v.ZT)(r,i),r}(Error);function te(i){return null!==i&&"object"==typeof i}function _t(i){return{__ref:String(i)}}function H(i){return Boolean(i&&"object"==typeof i&&"string"==typeof i.__ref)}function ft(i,r,t,n){if(function bs(i){return"IntValue"===i.kind}(t)||function Es(i){return"FloatValue"===i.kind}(t))i[r.value]=Number(t.value);else if(function ws(i){return"BooleanValue"===i.kind}(t)||function Cs(i){return"StringValue"===i.kind}(t))i[r.value]=t.value;else if(function Is(i){return"ObjectValue"===i.kind}(t)){var o={};t.fields.map(function(s){return ft(o,s.name,s.value,n)}),i[r.value]=o}else if(function Fs(i){return"Variable"===i.kind}(t))i[r.value]=(n||{})[t.name.value];else if(function xs(i){return"ListValue"===i.kind}(t))i[r.value]=t.values.map(function(s){var c={};return ft(c,r,s,n),c[r.value]});else if(function Zs(i){return"EnumValue"===i.kind}(t))i[r.value]=t.value;else{if(!function As(i){return"NullValue"===i.kind}(t))throw __DEV__?new Q('The inline argument "'.concat(r.value,'" of kind "').concat(t.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new Q(55);i[r.value]=null}}var Ls=["connection","include","skip","client","rest","export"],sn=Object.assign(function(i,r,t){if(r&&t&&t.connection&&t.connection.key){if(t.connection.filter&&t.connection.filter.length>0){var n=t.connection.filter?t.connection.filter:[];n.sort();var o={};return n.forEach(function(c){o[c]=r[c]}),"".concat(t.connection.key,"(").concat(At(o),")")}return t.connection.key}var a=i;if(r){var s=At(r);a+="(".concat(s,")")}return t&&Object.keys(t).forEach(function(c){-1===Ls.indexOf(c)&&(t[c]&&Object.keys(t[c]).length?a+="@".concat(c,"(").concat(At(t[c]),")"):a+="@".concat(c))}),a},{setStringify:function(i){var r=At;return At=i,r}}),At=function(r){return JSON.stringify(r,Rs)};function Rs(i,r){return te(r)&&!Array.isArray(r)&&(r=Object.keys(r).sort().reduce(function(t,n){return t[n]=r[n],t},{})),r}function hi(i,r){if(i.arguments&&i.arguments.length){var t={};return i.arguments.forEach(function(n){return ft(t,n.name,n.value,r)}),t}return null}function tt(i){return i.alias?i.alias.value:i.name.value}function cn(i,r,t){if("string"==typeof i.__typename)return i.__typename;for(var n=0,o=r.selections;n<o.length;n++){var a=o[n];if(He(a)){if("__typename"===a.name.value)return i[tt(a)]}else{var s=cn(i,ln(a,t).selectionSet,t);if("string"==typeof s)return s}}}function He(i){return"Field"===i.kind}function io(i){return"InlineFragment"===i.kind}function no(i){var r=i.prototype.toJSON;"function"==typeof r||function Ds(i,r){if(!Boolean(i))throw new Error(r??"Unexpected invariant triggered.")}(0),i.prototype.inspect=r,Hi&&(i.prototype[Hi]=r)}var ro=function(){function i(t,n,o){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=o}return i.prototype.toJSON=function(){return{start:this.start,end:this.end}},i}();no(ro);var ie=function(){function i(t,n,o,a,s,c,p){this.kind=t,this.start=n,this.end=o,this.line=a,this.column=s,this.value=p,this.prev=c,this.next=null}return i.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},i}();function oo(i){return null!=i&&"string"==typeof i.kind}no(ie);var Ms={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},it=Object.freeze({});function Ue(i,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ms,n=void 0,o=Array.isArray(i),a=[i],s=-1,c=[],p=void 0,u=void 0,f=void 0,d=[],h=[],g=i;do{var S=++s===a.length,y=S&&0!==c.length;if(S){if(u=0===h.length?void 0:d[d.length-1],p=f,f=h.pop(),y){if(o)p=p.slice();else{for(var b={},F=0,x=Object.keys(p);F<x.length;F++){var E=x[F];b[E]=p[E]}p=b}for(var A=0,L=0;L<c.length;L++){var k=c[L][0],R=c[L][1];o&&(k-=A),o&&null===R?(p.splice(k,1),A++):p[k]=R}}s=n.index,a=n.keys,c=n.edits,o=n.inArray,n=n.prev}else{if(u=f?o?s:a[s]:void 0,null==(p=f?f[u]:g))continue;f&&d.push(u)}var z,G=void 0;if(!Array.isArray(p)){if(!oo(p))throw new Error("Invalid AST Node: ".concat(Lr(p),"."));var Y=un(r,p.kind,S);if(Y){if((G=Y.call(r,p,u,f,d,h))===it)break;if(!1===G){if(!S){d.pop();continue}}else if(void 0!==G&&(c.push([u,G]),!S)){if(!oo(G)){d.pop();continue}p=G}}}void 0===G&&y&&c.push([u,p]),S?d.pop():(n={inArray:o,index:s,keys:a,edits:c,prev:n},a=(o=Array.isArray(p))?p:null!==(z=t[p.kind])&&void 0!==z?z:[],s=-1,c=[],f&&h.push(f),f=p)}while(void 0!==n);return 0!==c.length&&(g=c[c.length-1][1]),g}function un(i,r,t){var n=i[r];if(n){if(!t&&"function"==typeof n)return n;var o=t?n.leave:n.enter;if("function"==typeof o)return o}else{var a=t?i.leave:i.enter;if(a){if("function"==typeof a)return a;var s=a[r];if("function"==typeof s)return s}}}function mi(i){__DEV__?I(i&&"Document"===i.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):I(i&&"Document"===i.kind,47);var r=i.definitions.filter(function(t){return"FragmentDefinition"!==t.kind}).map(function(t){if("OperationDefinition"!==t.kind)throw __DEV__?new Q('Schema type definitions not allowed in queries. Found: "'.concat(t.kind,'"')):new Q(48);return t});return __DEV__?I(r.length<=1,"Ambiguous GraphQL document: contains ".concat(r.length," operations")):I(r.length<=1,49),i}function Ot(i){return mi(i),i.definitions.filter(function(r){return"OperationDefinition"===r.kind})[0]}function pn(i){return i.definitions.filter(function(r){return"OperationDefinition"===r.kind&&r.name}).map(function(r){return r.name.value})[0]||null}function _n(i){return i.definitions.filter(function(r){return"FragmentDefinition"===r.kind})}function ao(i){var r=Ot(i);return __DEV__?I(r&&"query"===r.operation,"Must contain a query definition."):I(r&&"query"===r.operation,50),r}function fn(i){mi(i);for(var r,t=0,n=i.definitions;t<n.length;t++){var o=n[t];if("OperationDefinition"===o.kind){var a=o.operation;if("query"===a||"mutation"===a||"subscription"===a)return o}"FragmentDefinition"===o.kind&&!r&&(r=o)}if(r)return r;throw __DEV__?new Q("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new Q(54)}function dn(i){var r=Object.create(null),t=i&&i.variableDefinitions;return t&&t.length&&t.forEach(function(n){n.defaultValue&&ft(r,n.variable.name,n.defaultValue)}),r}function lo(i,r,t){var n=0;return i.forEach(function(o,a){r.call(this,o,a,i)&&(i[n++]=o)},t),i.length=n,i}var so={kind:"Field",name:{kind:"Name",value:"__typename"}};function co(i,r){return!i||i.selectionSet.selections.every(function(t){return"FragmentSpread"===t.kind&&co(r[t.name.value],r)})}function hn(i){return co(Ot(i)||function Ns(i){__DEV__?I("Document"===i.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):I("Document"===i.kind,51),__DEV__?I(i.definitions.length<=1,"Fragment must have exactly one definition."):I(i.definitions.length<=1,52);var r=i.definitions[0];return __DEV__?I("FragmentDefinition"===r.kind,"Must be a fragment definition."):I("FragmentDefinition"===r.kind,53),r}(i),an(_n(i)))?null:i}function mn(i){return function(t){return i.some(function(n){return n.name&&n.name===t.name.value||n.test&&n.test(t)})}}function uo(i,r){var t=Object.create(null),n=[],o=Object.create(null),a=[],s=hn(Ue(r,{Variable:{enter:function(c,p,u){"VariableDefinition"!==u.kind&&(t[c.name.value]=!0)}},Field:{enter:function(c){if(i&&c.directives&&i.some(function(u){return u.remove})&&c.directives&&c.directives.some(mn(i)))return c.arguments&&c.arguments.forEach(function(u){"Variable"===u.value.kind&&n.push({name:u.value.name.value})}),c.selectionSet&&po(c.selectionSet).forEach(function(u){a.push({name:u.name.value})}),null}},FragmentSpread:{enter:function(c){o[c.name.value]=!0}},Directive:{enter:function(c){if(mn(i)(c))return null}}}));return s&&lo(n,function(c){return!!c.name&&!t[c.name]}).length&&(s=function qs(i,r){var t=function Ps(i){return function(t){return i.some(function(n){return t.value&&"Variable"===t.value.kind&&t.value.name&&(n.name===t.value.name.value||n.test&&n.test(t))})}}(i);return hn(Ue(r,{OperationDefinition:{enter:function(n){return(0,v.pi)((0,v.pi)({},n),{variableDefinitions:n.variableDefinitions?n.variableDefinitions.filter(function(o){return!i.some(function(a){return a.name===o.variable.name.value})}):[]})}},Field:{enter:function(n){var o=i.some(function(s){return s.remove});if(o){var a=0;if(n.arguments&&n.arguments.forEach(function(s){t(s)&&(a+=1)}),1===a)return null}}},Argument:{enter:function(n){if(t(n))return null}}}))}(n,s)),s&&lo(a,function(c){return!!c.name&&!o[c.name]}).length&&(s=function Ws(i,r){function t(n){if(i.some(function(o){return o.name===n.name.value}))return null}return hn(Ue(r,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}(a,s)),s}var gn=Object.assign(function(i){return Ue(i,{SelectionSet:{enter:function(r,t,n){if(!n||"OperationDefinition"!==n.kind){var o=r.selections;if(o&&!o.some(function(c){return He(c)&&("__typename"===c.name.value||0===c.name.value.lastIndexOf("__",0))})){var s=n;if(!(He(s)&&s.directives&&s.directives.some(function(c){return"export"===c.name.value})))return(0,v.pi)((0,v.pi)({},r),{selections:(0,v.ev)((0,v.ev)([],o,!0),[so],!1)})}}}}})},{added:function(i){return i===so}}),Gs={test:function(i){var r="connection"===i.name.value;return r&&(!i.arguments||!i.arguments.some(function(t){return"key"===t.name.value}))&&__DEV__&&I.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),r}};function po(i){var r=[];return i.selections.forEach(function(t){(He(t)||io(t))&&t.selectionSet?po(t.selectionSet).forEach(function(n){return r.push(n)}):"FragmentSpread"===t.kind&&r.push(t)}),r}function Bs(i){return"query"===fn(i).operation?i:Ue(i,{OperationDefinition:{enter:function(o){return(0,v.pi)((0,v.pi)({},o),{operation:"query"})}}})}var D=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),nt="function"==typeof WeakMap&&"ReactNative"!==De(function(){return navigator.product}),$s="function"==typeof WeakSet,_o="function"==typeof Symbol&&"function"==typeof Symbol.for,gi=_o&&Symbol.asyncIterator;function vi(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var t=Object.create(null);return i.forEach(function(n){n&&Object.keys(n).forEach(function(o){var a=n[o];void 0!==a&&(t[o]=a)})}),t}De(function(){return window.document.createElement}),De(function(){return navigator.userAgent.indexOf("jsdom")>=0});var js=Object.prototype.hasOwnProperty;function fo(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return vn(i)}function vn(i){var r=i[0]||{},t=i.length;if(t>1)for(var n=new Ke,o=1;o<t;++o)r=n.merge(r,i[o]);return r}var Ys=function(i,r,t){return this.merge(i[t],r[t])},Ke=function(){function i(r){void 0===r&&(r=Ys),this.reconciler=r,this.isObject=te,this.pastCopies=new Set}return i.prototype.merge=function(r,t){for(var n=this,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];return te(t)&&te(r)?(Object.keys(t).forEach(function(s){if(js.call(r,s)){var c=r[s];if(t[s]!==c){var p=n.reconciler.apply(n,(0,v.ev)([r,t,s],o,!1));p!==c&&((r=n.shallowCopyForMerge(r))[s]=p)}}else(r=n.shallowCopyForMerge(r))[s]=t[s]}),r):t},i.prototype.shallowCopyForMerge=function(r){return te(r)&&(this.pastCopies.has(r)||(r=Array.isArray(r)?r.slice(0):(0,v.pi)({__proto__:Object.getPrototypeOf(r)},r),this.pastCopies.add(r))),r},i}();function Ti(i,r){var t=i.directives;return!t||!t.length||function Xs(i){var r=[];return i&&i.length&&i.forEach(function(t){if(function Ks(i){var r=i.name.value;return"skip"===r||"include"===r}(t)){var n=t.arguments,o=t.name.value;__DEV__?I(n&&1===n.length,"Incorrect number of arguments for the @".concat(o," directive.")):I(n&&1===n.length,41);var a=n[0];__DEV__?I(a.name&&"if"===a.name.value,"Invalid argument for the @".concat(o," directive.")):I(a.name&&"if"===a.name.value,42);var s=a.value;__DEV__?I(s&&("Variable"===s.kind||"BooleanValue"===s.kind),"Argument for the @".concat(o," directive must be a variable or a boolean value.")):I(s&&("Variable"===s.kind||"BooleanValue"===s.kind),43),r.push({directive:t,ifArgument:a})}}),r}(t).every(function(n){var o=n.directive,a=n.ifArgument,s=!1;return"Variable"===a.value.kind?(s=r&&r[a.value.name.value],__DEV__?I(void 0!==s,"Invalid variable referenced in @".concat(o.name.value," directive.")):I(void 0!==s,40)):s=a.value.value,"skip"===o.name.value?!s:s})}function Lt(i,r,t){var n=new Set(i),o=n.size;return Ue(r,{Directive:function(a){if(n.delete(a.name.value)&&(!t||!n.size))return it}}),t?!n.size:n.size<o}function zs(i){return i&&Lt(["client","export"],i,!0)}function Tn(i){return __DEV__&&function ec(i){var r=new Set([i]);return r.forEach(function(t){te(t)&&function tc(i){if(__DEV__&&!Object.isFrozen(i))try{Object.freeze(i)}catch(r){if(r instanceof TypeError)return null;throw r}return i}(t)===t&&Object.getOwnPropertyNames(t).forEach(function(n){te(t[n])&&r.add(t[n])})}),i}(i),i}var ue=Object.prototype.hasOwnProperty;function Rt(i){return null==i}var ne=Array.isArray;function ho(i,r){var t=i.__typename,n=i.id,o=i._id;if("string"==typeof t&&(r&&(r.keyObject=Rt(n)?Rt(o)?void 0:{_id:o}:{id:n}),Rt(n)&&!Rt(o)&&(n=o),!Rt(n)))return"".concat(t,":").concat("number"==typeof n||"string"==typeof n?n:JSON.stringify(n))}var mo={dataIdFromObject:ho,addTypename:!0,resultCaching:!0,canonizeResults:!1};function go(i){var r=i.canonizeResults;return void 0===r?mo.canonizeResults:r}var vo=/^[_a-z][_0-9a-z]*/i;function Xe(i){var r=i.match(vo);return r?r[0]:i}function Sn(i,r,t){return!!te(r)&&(ne(r)?r.every(function(n){return Sn(i,n,t)}):i.selections.every(function(n){if(He(n)&&Ti(n,t)){var o=tt(n);return ue.call(r,o)&&(!n.selectionSet||Sn(n.selectionSet,r[o],t))}return!0}))}function dt(i){return te(i)&&!H(i)&&!ne(i)}function To(i,r){var t=an(_n(i));return{fragmentMap:t,lookupFragment:function(n){var o=t[n];return!o&&r&&(o=r.lookup(n)),o||null}}}var Si=Object.create(null),yn=function(){return Si},So=Object.create(null),Dt=function(){function i(r,t){var n=this;this.policies=r,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(o,a){return Tn(H(o)?n.get(o.__ref,a):o&&o[a])},this.canRead=function(o){return H(o)?n.has(o.__ref):"object"==typeof o},this.toReference=function(o,a){if("string"==typeof o)return _t(o);if(H(o))return o;var s=n.policies.identify(o)[0];if(s){var c=_t(s);return a&&n.merge(s,o),c}}}return i.prototype.toObject=function(){return(0,v.pi)({},this.data)},i.prototype.has=function(r){return void 0!==this.lookup(r,!0)},i.prototype.get=function(r,t){if(this.group.depend(r,t),ue.call(this.data,r)){var n=this.data[r];if(n&&ue.call(n,t))return n[t]}return"__typename"===t&&ue.call(this.policies.rootTypenamesById,r)?this.policies.rootTypenamesById[r]:this instanceof et?this.parent.get(r,t):void 0},i.prototype.lookup=function(r,t){return t&&this.group.depend(r,"__exists"),ue.call(this.data,r)?this.data[r]:this instanceof et?this.parent.lookup(r,t):this.policies.rootTypenamesById[r]?Object.create(null):void 0},i.prototype.merge=function(r,t){var o,n=this;H(r)&&(r=r.__ref),H(t)&&(t=t.__ref);var a="string"==typeof r?this.lookup(o=r):r,s="string"==typeof t?this.lookup(o=t):t;if(s){__DEV__?I("string"==typeof o,"store.merge expects a string ID"):I("string"==typeof o,1);var c=new Ke(ac).merge(a,s);if(this.data[o]=c,c!==a&&(delete this.refs[o],this.group.caching)){var p=Object.create(null);a||(p.__exists=1),Object.keys(s).forEach(function(u){if(!a||a[u]!==c[u]){p[u]=1;var f=Xe(u);f!==u&&!n.policies.hasKeyArgs(c.__typename,f)&&(p[f]=1),void 0===c[u]&&!(n instanceof et)&&delete c[u]}}),p.__typename&&!(a&&a.__typename)&&this.policies.rootTypenamesById[o]===c.__typename&&delete p.__typename,Object.keys(p).forEach(function(u){return n.group.dirty(o,u)})}}},i.prototype.modify=function(r,t){var n=this,o=this.lookup(r);if(o){var a=Object.create(null),s=!1,c=!0,p={DELETE:Si,INVALIDATE:So,isReference:H,toReference:this.toReference,canRead:this.canRead,readField:function(u,f){return n.policies.readField("string"==typeof u?{fieldName:u,from:f||_t(r)}:u,{store:n})}};if(Object.keys(o).forEach(function(u){var f=Xe(u),d=o[u];if(void 0!==d){var h="function"==typeof t?t:t[u]||t[f];if(h){var g=h===yn?Si:h(Tn(d),(0,v.pi)((0,v.pi)({},p),{fieldName:f,storeFieldName:u,storage:n.getStorage(r,u)}));g===So?n.group.dirty(r,u):(g===Si&&(g=void 0),g!==d&&(a[u]=g,s=!0,d=g))}void 0!==d&&(c=!1)}}),s)return this.merge(r,a),c&&(this instanceof et?this.data[r]=void 0:delete this.data[r],this.group.dirty(r,"__exists")),!0}return!1},i.prototype.delete=function(r,t,n){var o,a=this.lookup(r);if(a){var s=this.getFieldValue(a,"__typename"),c=t&&n?this.policies.getStoreFieldName({typename:s,fieldName:t,args:n}):t;return this.modify(r,c?((o={})[c]=yn,o):yn)}return!1},i.prototype.evict=function(r,t){var n=!1;return r.id&&(ue.call(this.data,r.id)&&(n=this.delete(r.id,r.fieldName,r.args)),this instanceof et&&this!==t&&(n=this.parent.evict(r,t)||n),(r.fieldName||n)&&this.group.dirty(r.id,r.fieldName||"__exists")),n},i.prototype.clear=function(){this.replace(null)},i.prototype.extract=function(){var r=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach(function(o){ue.call(r.policies.rootTypenamesById,o)||n.push(o)}),n.length&&(t.__META={extraRootIds:n.sort()}),t},i.prototype.replace=function(r){var t=this;if(Object.keys(this.data).forEach(function(a){r&&ue.call(r,a)||t.delete(a)}),r){var n=r.__META,o=(0,v._T)(r,["__META"]);Object.keys(o).forEach(function(a){t.merge(a,o[a])}),n&&n.extraRootIds.forEach(this.retain,this)}},i.prototype.retain=function(r){return this.rootIds[r]=(this.rootIds[r]||0)+1},i.prototype.release=function(r){if(this.rootIds[r]>0){var t=--this.rootIds[r];return t||delete this.rootIds[r],t}return 0},i.prototype.getRootIdSet=function(r){return void 0===r&&(r=new Set),Object.keys(this.rootIds).forEach(r.add,r),this instanceof et?this.parent.getRootIdSet(r):Object.keys(this.policies.rootTypenamesById).forEach(r.add,r),r},i.prototype.gc=function(){var r=this,t=this.getRootIdSet(),n=this.toObject();t.forEach(function(s){ue.call(n,s)&&(Object.keys(r.findChildRefIds(s)).forEach(t.add,t),delete n[s])});var o=Object.keys(n);if(o.length){for(var a=this;a instanceof et;)a=a.parent;o.forEach(function(s){return a.delete(s)})}return o},i.prototype.findChildRefIds=function(r){if(!ue.call(this.refs,r)){var t=this.refs[r]=Object.create(null),n=this.data[r];if(!n)return t;var o=new Set([n]);o.forEach(function(a){H(a)&&(t[a.__ref]=!0),te(a)&&Object.keys(a).forEach(function(s){var c=a[s];te(c)&&o.add(c)})})}return this.refs[r]},i.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},i}(),yo=function(){function i(r,t){void 0===t&&(t=null),this.caching=r,this.parent=t,this.d=null,this.resetCaching()}return i.prototype.resetCaching=function(){this.d=this.caching?Jr():null,this.keyMaker=new xt(nt)},i.prototype.depend=function(r,t){if(this.d){this.d(Cn(r,t));var n=Xe(t);n!==t&&this.d(Cn(r,n)),this.parent&&this.parent.depend(r,t)}},i.prototype.dirty=function(r,t){this.d&&this.d.dirty(Cn(r,t),"__exists"===t?"forget":"setDirty")},i}();function Cn(i,r){return r+"#"+i}function Co(i,r){Mt(i)&&i.group.depend(r,"__exists")}!function(i){var r=function(t){function n(o){var s=o.resultCaching,p=o.seed,u=t.call(this,o.policies,new yo(void 0===s||s))||this;return u.stump=new oc(u),u.storageTrie=new xt(nt),p&&u.replace(p),u}return(0,v.ZT)(n,t),n.prototype.addLayer=function(o,a){return this.stump.addLayer(o,a)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n}(i);i.Root=r}(Dt||(Dt={}));var et=function(i){function r(t,n,o,a){var s=i.call(this,n.policies,a)||this;return s.id=t,s.parent=n,s.replay=o,s.group=a,o(s),s}return(0,v.ZT)(r,i),r.prototype.addLayer=function(t,n){return new r(t,this,n,this.group)},r.prototype.removeLayer=function(t){var n=this,o=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(a){var s=n.data[a],c=o.lookup(a);c?s?s!==c&&Object.keys(s).forEach(function(p){ce(s[p],c[p])||n.group.dirty(a,p)}):(n.group.dirty(a,"__exists"),Object.keys(c).forEach(function(p){n.group.dirty(a,p)})):n.delete(a)}),o):o===this.parent?this:o.addLayer(this.id,this.replay)},r.prototype.toObject=function(){return(0,v.pi)((0,v.pi)({},this.parent.toObject()),this.data)},r.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return ue.call(this.data,t)?(0,v.pi)((0,v.pi)({},n),i.prototype.findChildRefIds.call(this,t)):n},r.prototype.getStorage=function(){for(var t=this.parent;t.parent;)t=t.parent;return t.getStorage.apply(t,arguments)},r}(Dt),oc=function(i){function r(t){return i.call(this,"EntityStore.Stump",t,function(){},new yo(t.group.caching,t.group))||this}return(0,v.ZT)(r,i),r.prototype.removeLayer=function(){return this},r.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},r}(et);function ac(i,r,t){var n=i[t],o=r[t];return ce(n,o)?n:o}function Mt(i){return!!(i instanceof Dt&&i.group.caching)}var bn,En,wn=function(){function i(){this.known=new($s?WeakSet:Set),this.pool=new xt(nt),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return i.prototype.isKnown=function(r){return te(r)&&this.known.has(r)},i.prototype.pass=function(r){if(te(r)){var t=function lc(i){return te(i)?ne(i)?i.slice(0):(0,v.pi)({__proto__:Object.getPrototypeOf(i)},i):i}(r);return this.passes.set(t,r),t}return r},i.prototype.admit=function(r){var t=this;if(te(r)){var n=this.passes.get(r);if(n)return n;switch(Object.getPrototypeOf(r)){case Array.prototype:if(this.known.has(r))return r;var a=r.map(this.admit,this);return(s=this.pool.lookupArray(a)).array||(this.known.add(s.array=a),__DEV__&&Object.freeze(a)),s.array;case null:case Object.prototype:if(this.known.has(r))return r;var c=Object.getPrototypeOf(r),p=[c],u=this.sortedKeys(r);p.push(u.json);var s,f=p.length;if(u.sorted.forEach(function(g){p.push(t.admit(r[g]))}),!(s=this.pool.lookupArray(p)).object){var d=s.object=Object.create(c);this.known.add(d),u.sorted.forEach(function(g,S){d[g]=p[f+S]}),__DEV__&&Object.freeze(d)}return s.object}}return r},i.prototype.sortedKeys=function(r){var t=Object.keys(r),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var o=JSON.stringify(t);(n.keys=this.keysByJSON.get(o))||this.keysByJSON.set(o,n.keys={sorted:t,json:o})}return n.keys},i}(),rt=Object.assign(function(i){if(te(i)){void 0===bn&&wo();var r=bn.admit(i),t=En.get(r);return void 0===t&&En.set(r,t=JSON.stringify(r)),t}return JSON.stringify(i)},{reset:wo});function wo(){bn=new wn,En=new(nt?WeakMap:Map)}function bo(i){return[i.selectionSet,i.objectOrReference,i.context,i.context.canonizeResults]}var sc=function(){function i(r){var t=this;this.knownResults=new(nt?WeakMap:Map),this.config=vi(r,{addTypename:!1!==r.addTypename,canonizeResults:go(r)}),this.canon=r.canon||new wn,this.executeSelectionSet=di(function(n){var o,a=n.context.canonizeResults,s=bo(n);s[3]=!a;var c=(o=t.executeSelectionSet).peek.apply(o,s);return c?a?(0,v.pi)((0,v.pi)({},c),{result:t.canon.admit(c.result)}):c:(Co(n.context.store,n.enclosingRef.__ref),t.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize,keyArgs:bo,makeCacheKey:function(n,o,a,s){if(Mt(a.store))return a.store.makeCacheKey(n,H(o)?o.__ref:o,a.varString,s)}}),this.executeSubSelectedArray=di(function(n){return Co(n.context.store,n.enclosingRef.__ref),t.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(n){var o=n.field,a=n.array,s=n.context;if(Mt(s.store))return s.store.makeCacheKey(o,a,s.varString)}})}return i.prototype.resetCanon=function(){this.canon=new wn},i.prototype.diffQueryAgainstStore=function(r){var t=r.store,n=r.query,o=r.rootId,a=void 0===o?"ROOT_QUERY":o,s=r.variables,c=r.returnPartialData,p=void 0===c||c,u=r.canonizeResults,f=void 0===u?this.config.canonizeResults:u,d=this.config.cache.policies;s=(0,v.pi)((0,v.pi)({},dn(ao(n))),s);var S,h=_t(a),g=this.executeSelectionSet({selectionSet:fn(n).selectionSet,objectOrReference:h,enclosingRef:h,context:(0,v.pi)({store:t,query:n,policies:d,variables:s,varString:rt(s),canonizeResults:f},To(n,this.config.fragments))});if(g.missing&&(S=[new to(cc(g.missing),g.missing,n,s)],!p))throw S[0];return{result:g.result,complete:!S,missing:S}},i.prototype.isFresh=function(r,t,n,o){if(Mt(o.store)&&this.knownResults.get(r)===n){var a=this.executeSelectionSet.peek(n,t,o,this.canon.isKnown(r));if(a&&r===a.result)return!0}return!1},i.prototype.execSelectionSetImpl=function(r){var t=this,n=r.selectionSet,o=r.objectOrReference,a=r.enclosingRef,s=r.context;if(H(o)&&!s.policies.rootTypenamesById[o.__ref]&&!s.store.has(o.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(o.__ref," object")};var h,c=s.variables,p=s.policies,f=s.store.getFieldValue(o,"__typename"),d=[],g=new Ke;function S(E,A){var L;return E.missing&&(h=g.merge(h,((L={})[A]=E.missing,L))),E.result}this.config.addTypename&&"string"==typeof f&&!p.rootIdsByTypename[f]&&d.push({__typename:f});var y=new Set(n.selections);y.forEach(function(E){var A,L;if(Ti(E,c))if(He(E)){var k=p.readField({fieldName:E.name.value,field:E,variables:s.variables,from:o},s),R=tt(E);void 0===k?gn.added(E)||(h=g.merge(h,((A={})[R]="Can't find field '".concat(E.name.value,"' on ").concat(H(o)?o.__ref+" object":"object "+JSON.stringify(o,null,2)),A))):ne(k)?k=S(t.executeSubSelectedArray({field:E,array:k,enclosingRef:a,context:s}),R):E.selectionSet?null!=k&&(k=S(t.executeSelectionSet({selectionSet:E.selectionSet,objectOrReference:k,enclosingRef:H(k)?k:a,context:s}),R)):s.canonizeResults&&(k=t.canon.pass(k)),void 0!==k&&d.push(((L={})[R]=k,L))}else{var G=ln(E,s.lookupFragment);if(!G&&E.kind===D.FRAGMENT_SPREAD)throw __DEV__?new Q("No fragment named ".concat(E.name.value)):new Q(5);G&&p.fragmentMatches(G,f)&&G.selectionSet.selections.forEach(y.add,y)}});var F={result:vn(d),missing:h},x=s.canonizeResults?this.canon.admit(F):Tn(F);return x.result&&this.knownResults.set(x.result,n),x},i.prototype.execSubSelectedArrayImpl=function(r){var c,t=this,n=r.field,o=r.array,a=r.enclosingRef,s=r.context,p=new Ke;function u(f,d){var h;return f.missing&&(c=p.merge(c,((h={})[d]=f.missing,h))),f.result}return n.selectionSet&&(o=o.filter(s.store.canRead)),o=o.map(function(f,d){return null===f?null:ne(f)?u(t.executeSubSelectedArray({field:n,array:f,enclosingRef:a,context:s}),d):n.selectionSet?u(t.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:f,enclosingRef:H(f)?f:a,context:s}),d):(__DEV__&&function uc(i,r,t){if(!r.selectionSet){var n=new Set([t]);n.forEach(function(o){te(o)&&(__DEV__?I(!H(o),"Missing selection set for object of type ".concat(function nc(i,r){return H(r)?i.get(r.__ref,"__typename"):r&&r.__typename}(i,o)," returned for query field ").concat(r.name.value)):I(!H(o),6),Object.values(o).forEach(n.add,n))})}}(s.store,n,f),f)}),{result:s.canonizeResults?this.canon.admit(o):o,missing:c}},i}();function cc(i){try{JSON.stringify(i,function(r,t){if("string"==typeof t)throw t;return t})}catch(r){return r}}var pc=Object.prototype.toString;function Eo(i){return Fn(i)}function Fn(i,r){switch(pc.call(i)){case"[object Array]":if((r=r||new Map).has(i))return r.get(i);var t=i.slice(0);return r.set(i,t),t.forEach(function(o,a){t[a]=Fn(o,r)}),t;case"[object Object]":if((r=r||new Map).has(i))return r.get(i);var n=Object.create(Object.getPrototypeOf(i));return r.set(i,n),Object.keys(i).forEach(function(o){n[o]=Fn(i[o],r)}),n;default:return i}}function Me(i){return Array.isArray(i)&&i.length>0}var Fo=new Map;function In(i){var r=Fo.get(i)||1;return Fo.set(i,r+1),"".concat(i,":").concat(r,":").concat(Math.random().toString(36).slice(2))}var xn=new pi,Io=new WeakMap;function Nt(i){var r=Io.get(i);return r||Io.set(i,r={vars:new Set,dep:Jr()}),r}function xo(i){Nt(i).vars.forEach(function(r){return r.forgetCache(i)})}function dc(i){var r=new Set,t=new Set,n=function(a){if(arguments.length>0){if(i!==a){i=a,r.forEach(function(p){Nt(p).dep.dirty(n),hc(p)});var s=Array.from(t);t.clear(),s.forEach(function(p){return p(i)})}}else{var c=xn.getValue();c&&(o(c),Nt(c).dep(n))}return i};n.onNextChange=function(a){return t.add(a),function(){t.delete(a)}};var o=n.attachCache=function(a){return r.add(a),Nt(a).vars.add(n),n};return n.forgetCache=function(a){return r.delete(a)},n}function hc(i){i.broadcastWatches&&i.broadcastWatches()}var Zo=Object.create(null);function Zn(i){var r=JSON.stringify(i);return Zo[r]||(Zo[r]=Object.create(null))}function Ao(i){var r=Zn(i);return r.keyFieldsFn||(r.keyFieldsFn=function(t,n){var o=function(s,c){return n.readField(c,s)},a=n.keyObject=An(i,function(s){var c=ht(n.storeObject,s,o);return void 0===c&&t!==n.storeObject&&ue.call(t,s[0])&&(c=ht(t,s,Ro)),__DEV__?I(void 0!==c,"Missing field '".concat(s.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):I(void 0!==c,2),c});return"".concat(n.typename,":").concat(JSON.stringify(a))})}function Oo(i){var r=Zn(i);return r.keyArgsFn||(r.keyArgsFn=function(t,n){var o=n.field,a=n.variables,s=n.fieldName,c=An(i,function(u){var f=u[0],d=f.charAt(0);if("@"!==d)if("$"!==d){if(t)return ht(t,u)}else{var y=f.slice(1);if(a&&ue.call(a,y)){var b=u.slice(0);return b[0]=y,ht(a,b)}}else if(o&&Me(o.directives)){var h=f.slice(1),g=o.directives.find(function(F){return F.name.value===h}),S=g&&hi(g,a);return S&&ht(S,u.slice(1))}}),p=JSON.stringify(c);return(t||"{}"!==p)&&(s+=":"+p),s})}function An(i,r){var t=new Ke;return Lo(i).reduce(function(n,o){var a,s=r(o);if(void 0!==s){for(var c=o.length-1;c>=0;--c)(a={})[o[c]]=s,s=a;n=t.merge(n,s)}return n},Object.create(null))}function Lo(i){var r=Zn(i);if(!r.paths){var t=r.paths=[],n=[];i.forEach(function(o,a){ne(o)?(Lo(o).forEach(function(s){return t.push(n.concat(s))}),n.length=0):(n.push(o),ne(i[a+1])||(t.push(n.slice(0)),n.length=0))})}return r.paths}function Ro(i,r){return i[r]}function ht(i,r,t){return t=t||Ro,Do(r.reduce(function n(o,a){return ne(o)?o.map(function(s){return n(s,a)}):o&&t(o,a)},i))}function Do(i){return te(i)?ne(i)?i.map(Do):An(Object.keys(i).sort(),function(r){return ht(i,r)}):i}function On(i){return void 0!==i.args?i.args:i.field?hi(i.field,i.variables):null}sn.setStringify(rt);var mc=function(){},Mo=function(i,r){return r.fieldName},No=function(i,r,t){return(0,t.mergeObjects)(i,r)},Go=function(i,r){return r},gc=function(){function i(r){this.config=r,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,v.pi)({dataIdFromObject:ho},r),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),r.possibleTypes&&this.addPossibleTypes(r.possibleTypes),r.typePolicies&&this.addTypePolicies(r.typePolicies)}return i.prototype.identify=function(r,t){var n,o=this,a=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||r.__typename;if(a===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var p,s=t&&t.storeObject||r,c=(0,v.pi)((0,v.pi)({},t),{typename:a,storeObject:s,readField:t&&t.readField||function(){var h=Ln(arguments,s);return o.readField(h,{store:o.cache.data,variables:h.variables})}}),u=a&&this.getTypePolicy(a),f=u&&u.keyFn||this.config.dataIdFromObject;f;){var d=f(r,c);if(!ne(d)){p=d;break}f=Ao(d)}return p=p?String(p):void 0,c.keyObject?[p,c.keyObject]:[p]},i.prototype.addTypePolicies=function(r){var t=this;Object.keys(r).forEach(function(n){var o=r[n],a=o.queryType,s=o.mutationType,c=o.subscriptionType,p=(0,v._T)(o,["queryType","mutationType","subscriptionType"]);a&&t.setRootTypename("Query",n),s&&t.setRootTypename("Mutation",n),c&&t.setRootTypename("Subscription",n),ue.call(t.toBeAdded,n)?t.toBeAdded[n].push(p):t.toBeAdded[n]=[p]})},i.prototype.updateTypePolicy=function(r,t){var n=this,o=this.getTypePolicy(r),a=t.keyFields,s=t.fields;function c(p,u){p.merge="function"==typeof u?u:!0===u?No:!1===u?Go:p.merge}c(o,t.merge),o.keyFn=!1===a?mc:ne(a)?Ao(a):"function"==typeof a?a:o.keyFn,s&&Object.keys(s).forEach(function(p){var u=n.getFieldPolicy(r,p,!0),f=s[p];if("function"==typeof f)u.read=f;else{var d=f.keyArgs,h=f.read,g=f.merge;u.keyFn=!1===d?Mo:ne(d)?Oo(d):"function"==typeof d?d:u.keyFn,"function"==typeof h&&(u.read=h),c(u,g)}u.read&&u.merge&&(u.keyFn=u.keyFn||Mo)})},i.prototype.setRootTypename=function(r,t){void 0===t&&(t=r);var n="ROOT_"+r.toUpperCase(),o=this.rootTypenamesById[n];t!==o&&(__DEV__?I(!o||o===r,"Cannot change root ".concat(r," __typename more than once")):I(!o||o===r,3),o&&delete this.rootIdsByTypename[o],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},i.prototype.addPossibleTypes=function(r){var t=this;this.usingPossibleTypes=!0,Object.keys(r).forEach(function(n){t.getSupertypeSet(n,!0),r[n].forEach(function(o){t.getSupertypeSet(o,!0).add(n);var a=o.match(vo);(!a||a[0]!==o)&&t.fuzzySubtypes.set(o,new RegExp(o))})})},i.prototype.getTypePolicy=function(r){var t=this;if(!ue.call(this.typePolicies,r)){var n=this.typePolicies[r]=Object.create(null);n.fields=Object.create(null);var o=this.supertypeMap.get(r);o&&o.size&&o.forEach(function(s){var c=t.getTypePolicy(s),p=c.fields,u=(0,v._T)(c,["fields"]);Object.assign(n,u),Object.assign(n.fields,p)})}var a=this.toBeAdded[r];return a&&a.length&&a.splice(0).forEach(function(s){t.updateTypePolicy(r,s)}),this.typePolicies[r]},i.prototype.getFieldPolicy=function(r,t,n){if(r){var o=this.getTypePolicy(r).fields;return o[t]||n&&(o[t]=Object.create(null))}},i.prototype.getSupertypeSet=function(r,t){var n=this.supertypeMap.get(r);return!n&&t&&this.supertypeMap.set(r,n=new Set),n},i.prototype.fragmentMatches=function(r,t,n,o){var a=this;if(!r.typeCondition)return!0;if(!t)return!1;var s=r.typeCondition.name.value;if(t===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var c=this.getSupertypeSet(t,!0),p=[c],u=function(S){var y=a.getSupertypeSet(S,!1);y&&y.size&&p.indexOf(y)<0&&p.push(y)},f=!(!n||!this.fuzzySubtypes.size),d=!1,h=0;h<p.length;++h){var g=p[h];if(g.has(s))return c.has(s)||(d&&__DEV__&&I.warn("Inferring subtype ".concat(t," of supertype ").concat(s)),c.add(s)),!0;g.forEach(u),f&&h===p.length-1&&Sn(r.selectionSet,n,o)&&(f=!1,d=!0,this.fuzzySubtypes.forEach(function(S,y){var b=t.match(S);b&&b[0]===t&&u(y)}))}return!1},i.prototype.hasKeyArgs=function(r,t){var n=this.getFieldPolicy(r,t,!1);return!(!n||!n.keyFn)},i.prototype.getStoreFieldName=function(r){var a,t=r.typename,n=r.fieldName,o=this.getFieldPolicy(t,n,!1),s=o&&o.keyFn;if(s&&t)for(var c={typename:t,fieldName:n,field:r.field||null,variables:r.variables},p=On(r);s;){var u=s(p,c);if(!ne(u)){a=u||n;break}s=Oo(u)}return void 0===a&&(a=r.field?function Os(i,r){var t=null;i.directives&&(t={},i.directives.forEach(function(o){t[o.name.value]={},o.arguments&&o.arguments.forEach(function(a){return ft(t[o.name.value],a.name,a.value,r)})}));var n=null;return i.arguments&&i.arguments.length&&(n={},i.arguments.forEach(function(o){return ft(n,o.name,o.value,r)})),sn(i.name.value,n,t)}(r.field,r.variables):sn(n,On(r))),!1===a?n:n===Xe(a)?a:n+":"+a},i.prototype.readField=function(r,t){var n=r.from;if(n&&(r.field||r.fieldName)){if(void 0===r.typename){var a=t.store.getFieldValue(n,"__typename");a&&(r.typename=a)}var s=this.getStoreFieldName(r),c=Xe(s),p=t.store.getFieldValue(n,s),u=this.getFieldPolicy(r.typename,c,!1),f=u&&u.read;if(f){var d=Vo(this,n,r,t,t.store.getStorage(H(n)?n.__ref:n,s));return xn.withValue(this.cache,f,[p,d])}return p}},i.prototype.getReadFunction=function(r,t){var n=this.getFieldPolicy(r,t,!1);return n&&n.read},i.prototype.getMergeFunction=function(r,t,n){var o=this.getFieldPolicy(r,t,!1),a=o&&o.merge;return!a&&n&&(a=(o=this.getTypePolicy(n))&&o.merge),a},i.prototype.runMergeFunction=function(r,t,n,o,a){var s=n.field,c=n.typename,p=n.merge;return p===No?ko(o.store)(r,t):p===Go?t:(o.overwrite&&(r=void 0),p(r,t,Vo(this,void 0,{typename:c,fieldName:s.name.value,field:s,variables:o.variables},o,a||Object.create(null))))},i}();function Vo(i,r,t,n,o){var a=i.getStoreFieldName(t),s=Xe(a),c=t.variables||n.variables,p=n.store,u=p.toReference,f=p.canRead;return{args:On(t),field:t.field||null,fieldName:s,storeFieldName:a,variables:c,isReference:H,toReference:u,storage:o,cache:i.cache,canRead:f,readField:function(){return i.readField(Ln(arguments,r,c),n)},mergeObjects:ko(n.store)}}function Ln(i,r,t){var s,n=i[0];return"string"==typeof n?s={fieldName:n,from:i.length>1?i[1]:r}:(s=(0,v.pi)({},n),ue.call(s,"from")||(s.from=r)),__DEV__&&void 0===s.from&&__DEV__&&I.warn("Undefined 'from' passed to readField with arguments ".concat(function _c(i){var r=In("stringifyForDisplay");return JSON.stringify(i,function(t,n){return void 0===n?r:n}).split(JSON.stringify(r)).join("<undefined>")}(Array.from(i)))),void 0===s.variables&&(s.variables=t),s}function ko(i){return function(t,n){if(ne(t)||ne(n))throw __DEV__?new Q("Cannot automatically merge arrays"):new Q(4);if(te(t)&&te(n)){var o=i.getFieldValue(t,"__typename"),a=i.getFieldValue(n,"__typename");if(o&&a&&o!==a)return n;if(H(t)&&dt(n))return i.merge(t.__ref,n),t;if(dt(t)&&H(n))return i.merge(t,n.__ref),n;if(dt(t)&&dt(n))return(0,v.pi)((0,v.pi)({},t),n)}return n}}function Rn(i,r,t){var n="".concat(r).concat(t),o=i.flavors.get(n);return o||i.flavors.set(n,o=i.clientOnly===r&&i.deferred===t?i:(0,v.pi)((0,v.pi)({},i),{clientOnly:r,deferred:t})),o}var vc=function(){function i(r,t,n){this.cache=r,this.reader=t,this.fragments=n}return i.prototype.writeToStore=function(r,t){var n=this,o=t.query,a=t.result,s=t.dataId,c=t.variables,p=t.overwrite,u=Ot(o),f=function rc(){return new Ke}();c=(0,v.pi)((0,v.pi)({},dn(u)),c);var d=(0,v.pi)((0,v.pi)({store:r,written:Object.create(null),merge:function(g,S){return f.merge(g,S)},variables:c,varString:rt(c)},To(o,this.fragments)),{overwrite:!!p,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),h=this.processSelectionSet({result:a||Object.create(null),dataId:s,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:d});if(!H(h))throw __DEV__?new Q("Could not identify object ".concat(JSON.stringify(a))):new Q(7);return d.incomingById.forEach(function(g,S){var y=g.storeObject,b=g.mergeTree,F=g.fieldNodeSet,x=_t(S);if(b&&b.map.size){var E=n.applyMerges(b,x,y,d);if(H(E))return;y=E}if(__DEV__&&!d.overwrite){var A=Object.create(null);F.forEach(function(R){R.selectionSet&&(A[R.name.value]=!0)}),Object.keys(y).forEach(function(R){(function(R){return!0===A[Xe(R)]})(R)&&!function(R){var G=b&&b.map.get(R);return Boolean(G&&G.info&&G.info.merge)}(R)&&function Tc(i,r,t,n){var o=function(d){var h=n.getFieldValue(d,t);return"object"==typeof h&&h},a=o(i);if(a){var s=o(r);if(s&&!H(a)&&!ce(a,s)&&!Object.keys(a).every(function(d){return void 0!==n.getFieldValue(s,d)})){var c=n.getFieldValue(i,"__typename")||n.getFieldValue(r,"__typename"),p=Xe(t),u="".concat(c,".").concat(p);if(!Wo.has(u)){Wo.add(u);var f=[];!ne(a)&&!ne(s)&&[a,s].forEach(function(d){var h=n.getFieldValue(d,"__typename");"string"==typeof h&&!f.includes(h)&&f.push(h)}),__DEV__&&I.warn("Cache data may be lost when replacing the ".concat(p," field of a ").concat(c," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(f.length?"either ensure all objects of type "+f.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(u," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(a).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(s).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(x,y,R,d.store)})}r.merge(S,y)}),r.retain(h.__ref),h},i.prototype.processSelectionSet=function(r){var t=this,n=r.dataId,o=r.result,a=r.selectionSet,s=r.context,c=r.mergeTree,p=this.cache.policies,u=Object.create(null),f=n&&p.rootTypenamesById[n]||cn(o,a,s.fragmentMap)||n&&s.store.get(n,"__typename");"string"==typeof f&&(u.__typename=f);var d=function(){var E=Ln(arguments,u,s.variables);if(H(E.from)){var A=s.incomingById.get(E.from.__ref);if(A){var L=p.readField((0,v.pi)((0,v.pi)({},E),{from:A.storeObject}),s);if(void 0!==L)return L}}return p.readField(E,s)},h=new Set;this.flattenFields(a,o,s,f).forEach(function(E,A){var L,k=tt(A),R=o[k];if(h.add(A),void 0!==R){var G=p.getStoreFieldName({typename:f,fieldName:A.name.value,field:A,variables:E.variables}),Y=Po(c,G),z=t.processFieldValue(R,A,A.selectionSet?Rn(E,!1,!1):E,Y),ut=void 0;A.selectionSet&&(H(z)||dt(z))&&(ut=d("__typename",z));var bt=p.getMergeFunction(f,A.name.value,ut);bt?Y.info={field:A,typename:f,merge:bt}:qo(c,G),u=E.merge(u,((L={})[G]=z,L))}else __DEV__&&!E.clientOnly&&!E.deferred&&!gn.added(A)&&!p.getReadFunction(f,A.name.value)&&__DEV__&&I.error("Missing field '".concat(tt(A),"' while writing result ").concat(JSON.stringify(o,null,2)).substring(0,1e3))});try{var g=p.identify(o,{typename:f,selectionSet:a,fragmentMap:s.fragmentMap,storeObject:u,readField:d}),y=g[1];n=n||g[0],y&&(u=s.merge(u,y))}catch(E){if(!n)throw E}if("string"==typeof n){var b=_t(n),F=s.written[n]||(s.written[n]=[]);if(F.indexOf(a)>=0||(F.push(a),this.reader&&this.reader.isFresh(o,b,a,s)))return b;var x=s.incomingById.get(n);return x?(x.storeObject=s.merge(x.storeObject,u),x.mergeTree=Dn(x.mergeTree,c),h.forEach(function(E){return x.fieldNodeSet.add(E)})):s.incomingById.set(n,{storeObject:u,mergeTree:yi(c)?void 0:c,fieldNodeSet:h}),b}return u},i.prototype.processFieldValue=function(r,t,n,o){var a=this;return t.selectionSet&&null!==r?ne(r)?r.map(function(s,c){var p=a.processFieldValue(s,t,n,Po(o,c));return qo(o,c),p}):this.processSelectionSet({result:r,selectionSet:t.selectionSet,context:n,mergeTree:o}):__DEV__?Eo(r):r},i.prototype.flattenFields=function(r,t,n,o){void 0===o&&(o=cn(t,r,n.fragmentMap));var a=new Map,s=this.cache.policies,c=new xt(!1);return function p(u,f){var d=c.lookup(u,f.clientOnly,f.deferred);d.visited||(d.visited=!0,u.selections.forEach(function(h){if(Ti(h,n.variables)){var g=f.clientOnly,S=f.deferred;if(!(g&&S)&&Me(h.directives)&&h.directives.forEach(function(F){var x=F.name.value;if("client"===x&&(g=!0),"defer"===x){var E=hi(F,n.variables);(!E||!1!==E.if)&&(S=!0)}}),He(h)){var y=a.get(h);y&&(g=g&&y.clientOnly,S=S&&y.deferred),a.set(h,Rn(n,g,S))}else{var b=ln(h,n.lookupFragment);if(!b&&h.kind===D.FRAGMENT_SPREAD)throw __DEV__?new Q("No fragment named ".concat(h.name.value)):new Q(8);b&&s.fragmentMatches(b,o,t,n.variables)&&p(b.selectionSet,Rn(n,g,S))}}}))}(r,n),a},i.prototype.applyMerges=function(r,t,n,o,a){var s,c=this;if(r.map.size&&!H(n)){var p=ne(n)||!H(t)&&!dt(t)?void 0:t,u=n;p&&!a&&(a=[H(p)?p.__ref:p]);var f,d=function(h,g){return ne(h)?"number"==typeof g?h[g]:void 0:o.store.getFieldValue(h,String(g))};r.map.forEach(function(h,g){var S=d(p,g),y=d(u,g);if(void 0!==y){a&&a.push(g);var b=c.applyMerges(h,S,y,o,a);b!==y&&(f=f||new Map).set(g,b),a&&I(a.pop()===g)}}),f&&(n=ne(u)?u.slice(0):(0,v.pi)({},u),f.forEach(function(h,g){n[g]=h}))}return r.info?this.cache.policies.runMergeFunction(t,n,r.info,o,a&&(s=o.store).getStorage.apply(s,a)):n},i}(),Uo=[];function Po(i,r){var t=i.map;return t.has(r)||t.set(r,Uo.pop()||{map:new Map}),t.get(r)}function Dn(i,r){if(i===r||!r||yi(r))return i;if(!i||yi(i))return r;var t=i.info&&r.info?(0,v.pi)((0,v.pi)({},i.info),r.info):i.info||r.info,n=i.map.size&&r.map.size,a={info:t,map:n?new Map:i.map.size?i.map:r.map};if(n){var s=new Set(r.map.keys());i.map.forEach(function(c,p){a.map.set(p,Dn(c,r.map.get(p))),s.delete(p)}),s.forEach(function(c){a.map.set(c,Dn(r.map.get(c),i.map.get(c)))})}return a}function yi(i){return!i||!(i.info||i.map.size)}function qo(i,r){var t=i.map,n=t.get(r);n&&yi(n)&&(Uo.push(n),t.delete(r))}var Wo=new Set,Sc=function(i){function r(t){void 0===t&&(t={});var n=i.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=dc,n.txCount=0,n.config=function ic(i){return vi(mo,i)}(t),n.addTypename=!!n.config.addTypename,n.policies=new gc({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return(0,v.ZT)(r,i),r.prototype.init=function(){var t=this.data=new Dt.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()},r.prototype.resetResultCache=function(t){var n=this,o=this.storeReader,a=this.config.fragments;this.storeWriter=new vc(this,this.storeReader=new sc({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:go(this.config),canon:t?void 0:o&&o.canon,fragments:a}),a),this.maybeBroadcastWatch=di(function(s,c){return n.broadcastWatch(s,c)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(s){var c=s.optimistic?n.optimisticData:n.data;if(Mt(c))return c.makeCacheKey(s.query,s.callback,rt({optimistic:s.optimistic,id:s.id,variables:s.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},r.prototype.restore=function(t){return this.init(),t&&this.data.replace(t),this},r.prototype.extract=function(t){return void 0===t&&(t=!1),(t?this.optimisticData:this.data).extract()},r.prototype.read=function(t){var n=t.returnPartialData,o=void 0!==n&&n;try{return this.storeReader.diffQueryAgainstStore((0,v.pi)((0,v.pi)({},t),{store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:o})).result||null}catch(a){if(a instanceof to)return null;throw a}},r.prototype.write=function(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&!1!==t.broadcast&&this.broadcastWatches()}},r.prototype.modify=function(t){if(ue.call(t,"id")&&!t.id)return!1;var n=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(t.id||"ROOT_QUERY",t.fields)}finally{!--this.txCount&&!1!==t.broadcast&&this.broadcastWatches()}},r.prototype.diff=function(t){return this.storeReader.diffQueryAgainstStore((0,v.pi)((0,v.pi)({},t),{store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config}))},r.prototype.watch=function(t){var n=this;return this.watches.size||function fc(i){Nt(i).vars.forEach(function(r){return r.attachCache(i)})}(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),function(){n.watches.delete(t)&&!n.watches.size&&xo(n),n.maybeBroadcastWatch.forget(t)}},r.prototype.gc=function(t){rt.reset();var n=this.optimisticData.gc();return t&&!this.txCount&&(t.resetResultCache?this.resetResultCache(t.resetResultIdentities):t.resetResultIdentities&&this.storeReader.resetCanon()),n},r.prototype.retain=function(t,n){return(n?this.optimisticData:this.data).retain(t)},r.prototype.release=function(t,n){return(n?this.optimisticData:this.data).release(t)},r.prototype.identify=function(t){if(H(t))return t.__ref;try{return this.policies.identify(t)[0]}catch(n){__DEV__&&I.warn(n)}},r.prototype.evict=function(t){if(!t.id){if(ue.call(t,"id"))return!1;t=(0,v.pi)((0,v.pi)({},t),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&!1!==t.broadcast&&this.broadcastWatches()}},r.prototype.reset=function(t){var n=this;return this.init(),rt.reset(),t&&t.discardWatches?(this.watches.forEach(function(o){return n.maybeBroadcastWatch.forget(o)}),this.watches.clear(),xo(this)):this.broadcastWatches(),Promise.resolve()},r.prototype.removeOptimistic=function(t){var n=this.optimisticData.removeLayer(t);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},r.prototype.batch=function(t){var u,n=this,o=t.update,a=t.optimistic,s=void 0===a||a,c=t.removeOptimistic,p=t.onWatchUpdated,f=function(h){var S=n.data,y=n.optimisticData;++n.txCount,h&&(n.data=n.optimisticData=h);try{return u=o(n)}finally{--n.txCount,n.data=S,n.optimisticData=y}},d=new Set;return p&&!this.txCount&&this.broadcastWatches((0,v.pi)((0,v.pi)({},t),{onWatchUpdated:function(h){return d.add(h),!1}})),"string"==typeof s?this.optimisticData=this.optimisticData.addLayer(s,f):!1===s?f(this.data):f(),"string"==typeof c&&(this.optimisticData=this.optimisticData.removeLayer(c)),p&&d.size?(this.broadcastWatches((0,v.pi)((0,v.pi)({},t),{onWatchUpdated:function(h,g){var S=p.call(this,h,g);return!1!==S&&d.delete(h),S}})),d.size&&d.forEach(function(h){return n.maybeBroadcastWatch.dirty(h)})):this.broadcastWatches(t),u},r.prototype.performTransaction=function(t,n){return this.batch({update:t,optimistic:n||null!==n})},r.prototype.transformDocument=function(t){if(this.addTypename){var n=this.typenameDocumentCache.get(t);return n||(n=gn(t),this.typenameDocumentCache.set(t,n),this.typenameDocumentCache.set(n,n)),n}return t},r.prototype.transformForLink=function(t){var n=this.config.fragments;return n?n.transform(t):t},r.prototype.broadcastWatches=function(t){var n=this;this.txCount||this.watches.forEach(function(o){return n.maybeBroadcastWatch(o,t)})},r.prototype.broadcastWatch=function(t,n){var o=t.lastDiff,a=this.diff(t);n&&(t.optimistic&&"string"==typeof n.optimistic&&(a.fromOptimisticTransaction=!0),n.onWatchUpdated&&!1===n.onWatchUpdated.call(this,t,a,o))||(!o||!ce(o.result,a.result))&&t.callback(t.lastDiff=a,o)},r}(Ss),e=w(94650),$=(()=>(function(i){i[i.loading=1]="loading",i[i.setVariables=2]="setVariables",i[i.fetchMore=3]="fetchMore",i[i.refetch=4]="refetch",i[i.poll=6]="poll",i[i.ready=7]="ready",i[i.error=8]="error"}($||($={})),$))();function Gt(i){return!!i&&i<7}function Bo(i,r){(null==r||r>i.length)&&(r=i.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=i[t];return n}function Qo(i,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function Mn(i,r,t){return r&&Qo(i.prototype,r),t&&Qo(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}var Nn=function(){return"function"==typeof Symbol},Gn=function(i){return Nn()&&Boolean(Symbol[i])},Vn=function(i){return Gn(i)?Symbol[i]:"@@"+i};Nn()&&!Gn("observable")&&(Symbol.observable=Symbol("observable"));var wc=Vn("iterator"),kn=Vn("observable"),$o=Vn("species");function Ci(i,r){var t=i[r];if(null!=t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}}function Vt(i){var r=i.constructor;return void 0!==r&&null===(r=r[$o])&&(r=void 0),void 0!==r?r:J}function mt(i){mt.log?mt.log(i):setTimeout(function(){throw i})}function wi(i){Promise.resolve().then(function(){try{i()}catch(r){mt(r)}})}function Ho(i){var r=i._cleanup;if(void 0!==r&&(i._cleanup=void 0,r))try{if("function"==typeof r)r();else{var t=Ci(r,"unsubscribe");t&&t.call(r)}}catch(n){mt(n)}}function Un(i){i._observer=void 0,i._queue=void 0,i._state="closed"}function Jo(i,r,t){i._state="running";var n=i._observer;try{var o=Ci(n,r);switch(r){case"next":o&&o.call(n,t);break;case"error":if(Un(i),!o)throw t;o.call(n,t);break;case"complete":Un(i),o&&o.call(n)}}catch(a){mt(a)}"closed"===i._state?Ho(i):"running"===i._state&&(i._state="ready")}function Pn(i,r,t){if("closed"!==i._state){if("buffering"===i._state)return void i._queue.push({type:r,value:t});if("ready"!==i._state)return i._state="buffering",i._queue=[{type:r,value:t}],void wi(function(){return function Ec(i){var r=i._queue;if(r){i._queue=void 0,i._state="ready";for(var t=0;t<r.length&&(Jo(i,r[t].type,r[t].value),"closed"!==i._state);++t);}}(i)});Jo(i,r,t)}}var Fc=function(){function i(t,n){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var o=new Ic(this);try{this._cleanup=n.call(void 0,o)}catch(a){o.error(a)}"initializing"===this._state&&(this._state="ready")}return i.prototype.unsubscribe=function(){"closed"!==this._state&&(Un(this),Ho(this))},Mn(i,[{key:"closed",get:function(){return"closed"===this._state}}]),i}(),Ic=function(){function i(t){this._subscription=t}var r=i.prototype;return r.next=function(n){Pn(this._subscription,"next",n)},r.error=function(n){Pn(this._subscription,"error",n)},r.complete=function(){Pn(this._subscription,"complete")},Mn(i,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),i}(),J=function(){function i(t){if(!(this instanceof i))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var r=i.prototype;return r.subscribe=function(n){return("object"!=typeof n||null===n)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new Fc(n,this._subscriber)},r.forEach=function(n){var o=this;return new Promise(function(a,s){if("function"==typeof n)var p=o.subscribe({next:function(u){try{n(u,c)}catch(f){s(f),p.unsubscribe()}},error:s,complete:a});else s(new TypeError(n+" is not a function"));function c(){p.unsubscribe(),a()}})},r.map=function(n){var o=this;if("function"!=typeof n)throw new TypeError(n+" is not a function");return new(Vt(this))(function(s){return o.subscribe({next:function(c){try{c=n(c)}catch(p){return s.error(p)}s.next(c)},error:function(c){s.error(c)},complete:function(){s.complete()}})})},r.filter=function(n){var o=this;if("function"!=typeof n)throw new TypeError(n+" is not a function");return new(Vt(this))(function(s){return o.subscribe({next:function(c){try{if(!n(c))return}catch(p){return s.error(p)}s.next(c)},error:function(c){s.error(c)},complete:function(){s.complete()}})})},r.reduce=function(n){var o=this;if("function"!=typeof n)throw new TypeError(n+" is not a function");var a=Vt(this),s=arguments.length>1,c=!1,p=arguments[1],u=p;return new a(function(f){return o.subscribe({next:function(d){var h=!c;if(c=!0,!h||s)try{u=n(u,d)}catch(g){return f.error(g)}else u=d},error:function(d){f.error(d)},complete:function(){if(!c&&!s)return f.error(new TypeError("Cannot reduce an empty sequence"));f.next(u),f.complete()}})})},r.concat=function(){for(var n=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var c=Vt(this);return new c(function(p){var u,f=0;return function d(h){u=h.subscribe({next:function(g){p.next(g)},error:function(g){p.error(g)},complete:function(){f===a.length?(u=void 0,p.complete()):d(c.from(a[f++]))}})}(n),function(){u&&(u.unsubscribe(),u=void 0)}})},r.flatMap=function(n){var o=this;if("function"!=typeof n)throw new TypeError(n+" is not a function");var a=Vt(this);return new a(function(s){var c=[],p=o.subscribe({next:function(f){if(n)try{f=n(f)}catch(h){return s.error(h)}var d=a.from(f).subscribe({next:function(h){s.next(h)},error:function(h){s.error(h)},complete:function(){var h=c.indexOf(d);h>=0&&c.splice(h,1),u()}});c.push(d)},error:function(f){s.error(f)},complete:function(){u()}});function u(){p.closed&&0===c.length&&s.complete()}return function(){c.forEach(function(f){return f.unsubscribe()}),p.unsubscribe()}})},r[kn]=function(){return this},i.from=function(n){var o="function"==typeof this?this:i;if(null==n)throw new TypeError(n+" is not an object");var a=Ci(n,kn);if(a){var s=a.call(n);if(Object(s)!==s)throw new TypeError(s+" is not an object");return function bc(i){return i instanceof J}(s)&&s.constructor===o?s:new o(function(c){return s.subscribe(c)})}if(Gn("iterator")&&(a=Ci(n,wc)))return new o(function(c){wi(function(){if(!c.closed){for(var u,p=function yc(i,r){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t)return(t=t.call(i)).next.bind(t);if(Array.isArray(i)||(t=function Cc(i,r){if(i){if("string"==typeof i)return Bo(i,r);var t=Object.prototype.toString.call(i).slice(8,-1);if("Object"===t&&i.constructor&&(t=i.constructor.name),"Map"===t||"Set"===t)return Array.from(i);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bo(i,r)}}(i))||r&&i&&"number"==typeof i.length){t&&(i=t);var n=0;return function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(a.call(n));!(u=p()).done;)if(c.next(u.value),c.closed)return;c.complete()}})});if(Array.isArray(n))return new o(function(c){wi(function(){if(!c.closed){for(var p=0;p<n.length;++p)if(c.next(n[p]),c.closed)return;c.complete()}})});throw new TypeError(n+" is not observable")},i.of=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var s="function"==typeof this?this:i;return new s(function(c){wi(function(){if(!c.closed){for(var p=0;p<o.length;++p)if(c.next(o[p]),c.closed)return;c.complete()}})})},Mn(i,null,[{key:$o,get:function(){return this}}]),i}();function jo(i,r){return r?r(i):J.of()}function kt(i){return"function"==typeof i?new gt(i):i}function bi(i){return i.request.length<=1}Nn()&&Object.defineProperty(J,Symbol("extensions"),{value:{symbol:kn,hostReportError:mt},configurable:!0});var Oc=function(i){function r(t,n){var o=i.call(this,t)||this;return o.link=n,o}return(0,v.ZT)(r,i),r}(Error),gt=function(){function i(r){r&&(this.request=r)}return i.empty=function(){return new i(function(){return J.of()})},i.from=function(r){return 0===r.length?i.empty():r.map(kt).reduce(function(t,n){return t.concat(n)})},i.split=function(r,t,n){var o=kt(t),a=kt(n||new i(jo));return bi(o)&&bi(a)?new i(function(s){return r(s)?o.request(s)||J.of():a.request(s)||J.of()}):new i(function(s,c){return r(s)?o.request(s,c)||J.of():a.request(s,c)||J.of()})},i.execute=function(r,t){return r.request(function xc(i,r){var t=(0,v.pi)({},i);return Object.defineProperty(r,"setContext",{enumerable:!1,value:function(a){t=(0,v.pi)((0,v.pi)({},t),"function"==typeof a?a(t):a)}}),Object.defineProperty(r,"getContext",{enumerable:!1,value:function(){return(0,v.pi)({},t)}}),r}(t.context,function Zc(i){var r={variables:i.variables||{},extensions:i.extensions||{},operationName:i.operationName,query:i.query};return r.operationName||(r.operationName="string"!=typeof r.query?pn(r.query)||void 0:""),r}(function Ac(i){for(var r=["query","operationName","variables","extensions","context"],t=0,n=Object.keys(i);t<n.length;t++){var o=n[t];if(r.indexOf(o)<0)throw __DEV__?new Q("illegal argument: ".concat(o)):new Q(27)}return i}(t))))||J.of()},i.concat=function(r,t){var n=kt(r);if(bi(n))return __DEV__&&I.warn(new Oc("You are calling concat on a terminating link, which will have no effect",n)),n;var o=kt(t);return bi(o)?new i(function(a){return n.request(a,function(s){return o.request(s)||J.of()})||J.of()}):new i(function(a,s){return n.request(a,function(c){return o.request(c,s)||J.of()})||J.of()})},i.prototype.split=function(r,t,n){return this.concat(i.split(r,t,n||new i(jo)))},i.prototype.concat=function(r){return i.concat(this,r)},i.prototype.request=function(r,t){throw __DEV__?new Q("request is not implemented"):new Q(22)},i.prototype.onError=function(r,t){if(t&&t.error)return t.error(r),!1;throw r},i.prototype.setOnError=function(r){return this.onError=r,this},i}(),qn=gt.execute,Wn=function(i,r){var t;try{t=JSON.stringify(i)}catch(o){var n=__DEV__?new Q("Network request failed. ".concat(r," is not serializable: ").concat(o.message)):new Q(24);throw n.parseError=o,n}return t};function Yo(i){var r={next:function(){return i.read()}};return gi&&(r[Symbol.asyncIterator]=function(){return this}),r}function Wc(i){var r=i;if(function Dc(i){return!!i.body}(i)&&(r=i.body),function Nc(i){return!(!gi||!i[Symbol.asyncIterator])}(r))return function Uc(i){var r,t=i[Symbol.asyncIterator]();return(r={next:function(){return t.next()}})[Symbol.asyncIterator]=function(){return this},r}(r);if(function Mc(i){return!!i.getReader}(r))return Yo(r.getReader());if(function Gc(i){return!!i.stream}(r))return Yo(r.stream().getReader());if(function Vc(i){return!!i.arrayBuffer}(r))return function qc(i){var r=!1,t={next:function(){return r?Promise.resolve({value:void 0,done:!0}):(r=!0,new Promise(function(n,o){i.then(function(a){n({value:a,done:!1})}).catch(o)}))}};return gi&&(t[Symbol.asyncIterator]=function(){return this}),t}(r.arrayBuffer());if(function kc(i){return!!i.pipe}(r))return function Pc(i){var r=null,t=null,n=!1,o=[],a=[];function s(d){if(!t){if(a.length){var h=a.shift();if(Array.isArray(h)&&h[0])return h[0]({value:d,done:!1})}o.push(d)}}function c(d){t=d,a.slice().forEach(function(g){g[1](d)}),!r||r()}function p(){n=!0,a.slice().forEach(function(h){h[0]({value:void 0,done:!0})}),!r||r()}r=function(){r=null,i.removeListener("data",s),i.removeListener("error",c),i.removeListener("end",p),i.removeListener("finish",p),i.removeListener("close",p)},i.on("data",s),i.on("error",c),i.on("end",p),i.on("finish",p),i.on("close",p);var f={next:function(){return function u(){return new Promise(function(d,h){return t?h(t):o.length?d({value:o.shift(),done:!1}):n?d({value:void 0,done:!0}):void a.push([d,h])})}()}};return gi&&(f[Symbol.asyncIterator]=function(){return this}),f}(r);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Bn=function(i,r,t){var n=new Error(t);throw n.name="ServerError",n.response=i,n.statusCode=i.status,n.result=r,n},zo=Object.prototype.hasOwnProperty;function Qc(i){var r={};return i.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>-1){var o=t.slice(0,n).trim().toLowerCase(),a=t.slice(n+1).trim();r[o]=a}}),r}function Ko(i,r){i.status>=300&&Bn(i,function(){try{return JSON.parse(r)}catch{return r}}(),"Response not successful: Received status code ".concat(i.status));try{return JSON.parse(r)}catch(o){var n=o;throw n.name="ServerParseError",n.response=i,n.statusCode=i.status,n.bodyText=r,n}}function Qn(i,r){var t,n;"AbortError"!==i.name&&(i.result&&i.result.errors&&i.result.data&&(null===(t=r.next)||void 0===t||t.call(r,i.result)),null===(n=r.error)||void 0===n||n.call(r,i))}function jc(i){var r=i.split(/\r\n|[\n\r]/g),t=function Yc(i){for(var r,t=!0,n=!0,o=0,a=null,s=0;s<i.length;++s)switch(i.charCodeAt(s)){case 13:10===i.charCodeAt(s+1)&&++s;case 10:t=!1,n=!0,o=0;break;case 9:case 32:++o;break;default:n&&!t&&(null===a||o<a)&&(a=o),n=!1}return null!==(r=a)&&void 0!==r?r:0}(i);if(0!==t)for(var n=1;n<r.length;n++)r[n]=r[n].slice(t);for(var o=0;o<r.length&&Xo(r[o]);)++o;for(var a=r.length;a>o&&Xo(r[a-1]);)--a;return r.slice(o,a).join("\n")}function Xo(i){for(var r=0;r<i.length;++r)if(" "!==i[r]&&"\t"!==i[r])return!1;return!0}function ea(i){return Ue(i,{leave:Xc})}var Xc={Name:function(r){return r.value},Variable:function(r){return"$"+r.name},Document:function(r){return Z(r.definitions,"\n\n")+"\n"},OperationDefinition:function(r){var t=r.operation,n=r.name,o=K("(",Z(r.variableDefinitions,", "),")"),a=Z(r.directives," "),s=r.selectionSet;return n||a||o||"query"!==t?Z([t,Z([n,o]),a,s]," "):s},VariableDefinition:function(r){var a=r.directives;return r.variable+": "+r.type+K(" = ",r.defaultValue)+K(" ",Z(a," "))},SelectionSet:function(r){return qe(r.selections)},Field:function(r){var n=r.name,o=r.arguments,a=r.directives,s=r.selectionSet,c=K("",r.alias,": ")+n,p=c+K("(",Z(o,", "),")");return p.length>80&&(p=c+K("(\n",Ei(Z(o,"\n")),"\n)")),Z([p,Z(a," "),s]," ")},Argument:function(r){return r.name+": "+r.value},FragmentSpread:function(r){return"..."+r.name+K(" ",Z(r.directives," "))},InlineFragment:function(r){var n=r.directives,o=r.selectionSet;return Z(["...",K("on ",r.typeCondition),Z(n," "),o]," ")},FragmentDefinition:function(r){var n=r.typeCondition,o=r.variableDefinitions,a=r.directives,s=r.selectionSet;return"fragment ".concat(r.name).concat(K("(",Z(o,", "),")")," ")+"on ".concat(n," ").concat(K("",Z(a," ")," "))+s},IntValue:function(r){return r.value},FloatValue:function(r){return r.value},StringValue:function(r,t){var n=r.value;return r.block?function zc(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1===i.indexOf("\n"),o=" "===i[0]||"\t"===i[0],a='"'===i[i.length-1],s="\\"===i[i.length-1],c=!n||a||s||t,p="";return c&&!(n&&o)&&(p+="\n"+r),p+=r?i.replace(/\n/g,"\n"+r):i,c&&(p+="\n"),'"""'+p.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(r){return r.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(r){return r.value},ListValue:function(r){return"["+Z(r.values,", ")+"]"},ObjectValue:function(r){return"{"+Z(r.fields,", ")+"}"},ObjectField:function(r){return r.name+": "+r.value},Directive:function(r){return"@"+r.name+K("(",Z(r.arguments,", "),")")},NamedType:function(r){return r.name},ListType:function(r){return"["+r.type+"]"},NonNullType:function(r){return r.type+"!"},SchemaDefinition:Pe(function(i){var t=i.operationTypes;return Z(["schema",Z(i.directives," "),qe(t)]," ")}),OperationTypeDefinition:function(r){return r.operation+": "+r.type},ScalarTypeDefinition:Pe(function(i){return Z(["scalar",i.name,Z(i.directives," ")]," ")}),ObjectTypeDefinition:Pe(function(i){var n=i.directives,o=i.fields;return Z(["type",i.name,K("implements ",Z(i.interfaces," & ")),Z(n," "),qe(o)]," ")}),FieldDefinition:Pe(function(i){var t=i.arguments,n=i.type,o=i.directives;return i.name+(ta(t)?K("(\n",Ei(Z(t,"\n")),"\n)"):K("(",Z(t,", "),")"))+": "+n+K(" ",Z(o," "))}),InputValueDefinition:Pe(function(i){var o=i.directives;return Z([i.name+": "+i.type,K("= ",i.defaultValue),Z(o," ")]," ")}),InterfaceTypeDefinition:Pe(function(i){var n=i.directives,o=i.fields;return Z(["interface",i.name,K("implements ",Z(i.interfaces," & ")),Z(n," "),qe(o)]," ")}),UnionTypeDefinition:Pe(function(i){var n=i.types;return Z(["union",i.name,Z(i.directives," "),n&&0!==n.length?"= "+Z(n," | "):""]," ")}),EnumTypeDefinition:Pe(function(i){var n=i.values;return Z(["enum",i.name,Z(i.directives," "),qe(n)]," ")}),EnumValueDefinition:Pe(function(i){return Z([i.name,Z(i.directives," ")]," ")}),InputObjectTypeDefinition:Pe(function(i){var n=i.fields;return Z(["input",i.name,Z(i.directives," "),qe(n)]," ")}),DirectiveDefinition:Pe(function(i){var t=i.arguments,n=i.repeatable,o=i.locations;return"directive @"+i.name+(ta(t)?K("(\n",Ei(Z(t,"\n")),"\n)"):K("(",Z(t,", "),")"))+(n?" repeatable":"")+" on "+Z(o," | ")}),SchemaExtension:function(r){var n=r.operationTypes;return Z(["extend schema",Z(r.directives," "),qe(n)]," ")},ScalarTypeExtension:function(r){return Z(["extend scalar",r.name,Z(r.directives," ")]," ")},ObjectTypeExtension:function(r){var o=r.directives,a=r.fields;return Z(["extend type",r.name,K("implements ",Z(r.interfaces," & ")),Z(o," "),qe(a)]," ")},InterfaceTypeExtension:function(r){var o=r.directives,a=r.fields;return Z(["extend interface",r.name,K("implements ",Z(r.interfaces," & ")),Z(o," "),qe(a)]," ")},UnionTypeExtension:function(r){var o=r.types;return Z(["extend union",r.name,Z(r.directives," "),o&&0!==o.length?"= "+Z(o," | "):""]," ")},EnumTypeExtension:function(r){var o=r.values;return Z(["extend enum",r.name,Z(r.directives," "),qe(o)]," ")},InputObjectTypeExtension:function(r){var o=r.fields;return Z(["extend input",r.name,Z(r.directives," "),qe(o)]," ")}};function Pe(i){return function(r){return Z([r.description,i(r)],"\n")}}function Z(i){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(r=i?.filter(function(n){return n}).join(t))&&void 0!==r?r:""}function qe(i){return K("{\n",Ei(Z(i,"\n")),"\n}")}function K(i,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=r&&""!==r?i+r+t:""}function Ei(i){return K("  ",i.replace(/\n/g,"\n  "))}function eu(i){return-1!==i.indexOf("\n")}function ta(i){return null!=i&&i.some(eu)}var ru={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},ia=function(i,r){return r(i)};function ou(i,r){if(!r){var t=Object.create(null);return Object.keys(Object(i)).forEach(function(a){t[a.toLowerCase()]=i[a]}),t}var n=Object.create(null);Object.keys(Object(i)).forEach(function(a){n[a.toLowerCase()]={originalName:a,value:i[a]}});var o=Object.create(null);return Object.keys(n).forEach(function(a){o[n[a].originalName]=n[a].value}),o}function ra(i){return new J(function(r){r.error(i)})}var oa=De(function(){return fetch}),su=function(i){void 0===i&&(i={});var r=i.uri,t=void 0===r?"/graphql":r,n=i.fetch,o=i.print,a=void 0===o?ia:o,s=i.includeExtensions,c=i.preserveHeaderCase,p=i.useGETForQueries,u=i.includeUnusedVariables,f=void 0!==u&&u,d=(0,v._T)(i,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(i){if(!i&&typeof fetch>"u")throw __DEV__?new Q("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new Q(23)}(n||oa);var h={http:{includeExtensions:s,preserveHeaderCase:c},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new gt(function(g){var S=function(i,r){return i.getContext().uri||("function"==typeof r?r(i):r||"/graphql")}(g,t),y=g.getContext(),b={};if(y.clientAwareness){var F=y.clientAwareness,x=F.name,E=F.version;x&&(b["apollographql-client-name"]=x),E&&(b["apollographql-client-version"]=E)}var z,A=(0,v.pi)((0,v.pi)({},b),y.headers),k=function na(i,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var o={},a={};t.forEach(function(d){o=(0,v.pi)((0,v.pi)((0,v.pi)({},o),d.options),{headers:(0,v.pi)((0,v.pi)({},o.headers),d.headers)}),d.credentials&&(o.credentials=d.credentials),a=(0,v.pi)((0,v.pi)({},a),d.http)}),o.headers&&(o.headers=ou(o.headers,a.preserveHeaderCase));var s=i.operationName,c=i.extensions,p=i.variables,u=i.query,f={operationName:s,variables:p};return a.includeExtensions&&(f.extensions=c),a.includeQuery&&(f.query=r(u,ea)),{options:o,body:f}}(g,a,ru,h,{http:y.http,options:y.fetchOptions,credentials:y.credentials,headers:A}),R=k.options,G=k.body;if(G.variables&&!f){var Y=new Set(Object.keys(G.variables));Ue(g.query,{Variable:function(Ve,Ol,je){je&&"VariableDefinition"!==je.kind&&Y.delete(Ve.name.value)}}),Y.size&&(G.variables=(0,v.pi)({},G.variables),Y.forEach(function(Ve){delete G.variables[Ve]}))}if(!R.signal){var ut=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var i=new AbortController;return{controller:i,signal:i.signal}}();(z=ut.controller)&&(R.signal=ut.signal)}if(p&&!g.query.definitions.some(function(Ve){return"OperationDefinition"===Ve.kind&&"mutation"===Ve.operation})&&(R.method="GET"),Lt(["defer"],g.query)&&(R.headers=R.headers||{},R.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),"GET"===R.method){var Zl=function lu(i,r){var t=[],n=function(d,h){t.push("".concat(d,"=").concat(encodeURIComponent(h)))};if("query"in r&&n("query",r.query),r.operationName&&n("operationName",r.operationName),r.variables){var o=void 0;try{o=Wn(r.variables,"Variables map")}catch(d){return{parseError:d}}n("variables",o)}if(r.extensions){var a=void 0;try{a=Wn(r.extensions,"Extensions map")}catch(d){return{parseError:d}}n("extensions",a)}var s="",c=i,p=i.indexOf("#");-1!==p&&(s=i.substr(p),c=i.substr(0,p));var u=-1===c.indexOf("?")?"?":"&";return{newURI:c+u+t.join("&")+s}}(S,G),ly=Zl.newURI,Al=Zl.parseError;if(Al)return ra(Al);S=ly}else try{R.body=Wn(G,"Payload")}catch(Ve){return ra(Ve)}return new J(function(Ve){return(n||De(function(){return fetch})||oa)(S,R).then(function(je){var Er;g.setContext({response:je});var Ll=null===(Er=je.headers)||void 0===Er?void 0:Er.get("content-type");return null!==Ll&&/^multipart\/mixed/i.test(Ll)?function Bc(i,r){var t,n,o;return(0,v.mG)(this,void 0,void 0,function(){var a,s,c,p,u,f,d,h,g,S,y,b,F,x,E,A,L,k,R,G;return(0,v.Jh)(this,function(Y){switch(Y.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");a=new TextDecoder("utf-8"),s=null===(t=i.headers)||void 0===t?void 0:t.get("content-type"),p=s?.includes(c="boundary=")?s?.substring(s?.indexOf(c)+c.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",u="--".concat(p),f="",d=Wc(i),h=!0,Y.label=1;case 1:return h?[4,d.next()]:[3,3];case 2:for(g=Y.sent(),y=g.done,b="string"==typeof(S=g.value)?S:a.decode(S),h=!y,F=(f+=b).indexOf(u);F>-1;){if(x=void 0,G=[f.slice(0,F),f.slice(F+u.length)],f=G[1],(x=G[0]).trim()){if(E=x.indexOf("\r\n\r\n"),A=Qc(x.slice(0,E)),(L=A["content-type"])&&-1===L.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");k=x.slice(E);try{R=Ko(i,k.replace("\r\n","")),(Object.keys(R).length>1||"data"in R||"incremental"in R||"errors"in R)&&(null===(n=r.next)||void 0===n||n.call(r,R))}catch(z){Qn(z,r)}}F=f.indexOf(u)}return[3,1];case 3:return null===(o=r.complete)||void 0===o||o.call(r),[2]}})})}(je,Ve):function $c(i,r,t){(function Hc(i){return function(r){return r.text().then(function(t){return Ko(r,t)}).then(function(t){return r.status>=300&&Bn(r,t,"Response not successful: Received status code ".concat(r.status)),!Array.isArray(t)&&!zo.call(t,"data")&&!zo.call(t,"errors")&&Bn(r,t,"Server response was missing for query '".concat(Array.isArray(i)?i.map(function(n){return n.operationName}):i.operationName,"'.")),t})}})(r)(i).then(function(n){var o,a;null===(o=t.next)||void 0===o||o.call(t,n),null===(a=t.complete)||void 0===a||a.call(t)}).catch(function(n){return Qn(n,t)})}(je,g,Ve)}).catch(function(je){return Qn(je,Ve)}),function(){z&&z.abort()}})})},cu=function(i){function r(t){void 0===t&&(t={});var n=i.call(this,su(t).request)||this;return n.options=t,n}return(0,v.ZT)(r,i),r}(gt);function vt(i){return"incremental"in i}function aa(i,r){var t=i,n=new Ke;return vt(r)&&Me(r.incremental)&&r.incremental.forEach(function(o){for(var a=o.data,s=o.path,c=s.length-1;c>=0;--c){var p=s[c],f=isNaN(+p)?{}:[];f[p]=a,a=f}t=n.merge(t,a)}),t}function $n(i,r,t){return new J(function(n){var o=n.next,a=n.error,s=n.complete,c=0,p=!1,u={then:function(g){return new Promise(function(S){return S(g())})}};function f(g,S){return g?function(y){++c;var b=function(){return g(y)};u=u.then(b,b).then(function(F){--c,o&&o.call(n,F),p&&d.complete()},function(F){throw--c,F}).catch(function(F){a&&a.call(n,F)})}:function(y){return S&&S.call(n,y)}}var d={next:f(r,o),error:f(t,a),complete:function(){p=!0,c||s&&s.call(n)}},h=i.subscribe(d);return function(){return h.unsubscribe()}})}function Fi(i){return Me(Hn(i))}function Hn(i){var r=Me(i.errors)?i.errors.slice(0):[];return vt(i)&&Me(i.incremental)&&i.incremental.forEach(function(t){t.errors&&r.push.apply(r,t.errors)}),r}function Ut(i,r,t){var n=[];i.forEach(function(o){return o[r]&&n.push(o)}),n.forEach(function(o){return o[r](t)})}function la(i){function r(t){Object.defineProperty(i,t,{value:J})}return _o&&Symbol.species&&r(Symbol.species),r("@@species"),i}function sa(i){return i&&"function"==typeof i.then}var Pt=function(i){function r(t){var n=i.call(this,function(o){return n.addObserver(o),function(){return n.removeObserver(o)}})||this;return n.observers=new Set,n.promise=new Promise(function(o,a){n.resolve=o,n.reject=a}),n.handlers={next:function(o){null!==n.sub&&(n.latest=["next",o],n.notify("next",o),Ut(n.observers,"next",o))},error:function(o){var a=n.sub;null!==a&&(a&&setTimeout(function(){return a.unsubscribe()}),n.sub=null,n.latest=["error",o],n.reject(o),n.notify("error",o),Ut(n.observers,"error",o))},complete:function(){var a=n.sub,s=n.sources;if(null!==a){var p=(void 0===s?[]:s).shift();p?sa(p)?p.then(function(u){return n.sub=u.subscribe(n.handlers)}):n.sub=p.subscribe(n.handlers):(a&&setTimeout(function(){return a.unsubscribe()}),n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),Ut(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(o){n.reject(o),n.sources=[],n.handlers.complete()},n.promise.catch(function(o){}),"function"==typeof t&&(t=[new J(t)]),sa(t)?t.then(function(o){return n.start(o)},n.handlers.error):n.start(t),n}return(0,v.ZT)(r,i),r.prototype.start=function(t){void 0===this.sub&&(this.sources=Array.from(t),this.handlers.complete())},r.prototype.deliverLastMessage=function(t){if(this.latest){var n=this.latest[0],o=t[n];o&&o.call(t,this.latest[1]),null===this.sub&&"next"===n&&t.complete&&t.complete()}},r.prototype.addObserver=function(t){this.observers.has(t)||(this.deliverLastMessage(t),this.observers.add(t))},r.prototype.removeObserver=function(t){this.observers.delete(t)&&this.observers.size<1&&this.handlers.complete()},r.prototype.notify=function(t,n){var o=this.nextResultListeners;o.size&&(this.nextResultListeners=new Set,o.forEach(function(a){return a(t,n)}))},r.prototype.beforeNext=function(t){var n=!1;this.nextResultListeners.add(function(o,a){n||(n=!0,t(o,a))})},r}(J);la(Pt);var Tt=function(i){function r(t){var n=t.graphQLErrors,o=t.clientErrors,a=t.networkError,s=t.errorMessage,c=t.extraInfo,p=i.call(this,s)||this;return p.name="ApolloError",p.graphQLErrors=n||[],p.clientErrors=o||[],p.networkError=a||null,p.message=s||function(i){var r="";return(Me(i.graphQLErrors)||Me(i.clientErrors))&&(i.graphQLErrors||[]).concat(i.clientErrors||[]).forEach(function(n){r+="".concat(n?n.message:"Error message not found.","\n")}),i.networkError&&(r+="".concat(i.networkError.message,"\n")),r=r.replace(/\n$/,"")}(p),p.extraInfo=c,p.__proto__=r.prototype,p}return(0,v.ZT)(r,i),r}(Error),du=Object.assign,hu=Object.hasOwnProperty,Jn=function(i){function r(t){var n=t.queryManager,o=t.queryInfo,a=t.options,s=i.call(this,function(b){try{var F=b._subscription._observer;F&&!F.error&&(F.error=mu)}catch{}var x=!s.observers.size;s.observers.add(b);var E=s.last;return E&&E.error?b.error&&b.error(E.error):E&&E.result&&b.next&&b.next(E.result),x&&s.reobserve().catch(function(){}),function(){s.observers.delete(b)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=o,s.queryManager=n,s.isTornDown=!1;var c=n.defaultOptions.watchQuery,u=(void 0===c?{}:c).fetchPolicy,f=void 0===u?"cache-first":u,d=a.fetchPolicy,h=void 0===d?f:d,g=a.initialFetchPolicy,S=void 0===g?"standby"===h?f:h:g;s.options=(0,v.pi)((0,v.pi)({},a),{initialFetchPolicy:S,fetchPolicy:h}),s.queryId=o.queryId||n.generateQueryId();var y=Ot(s.query);return s.queryName=y&&y.name&&y.name.value,s}return(0,v.ZT)(r,i),Object.defineProperty(r.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),r.prototype.result=function(){var t=this;return new Promise(function(n,o){var a={next:function(c){n(c),t.observers.delete(a),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){s.unsubscribe()},0)},error:o},s=t.subscribe(a)})},r.prototype.getCurrentResult=function(t){void 0===t&&(t=!0);var n=this.getLastResult(!0),o=this.queryInfo.networkStatus||n&&n.networkStatus||$.ready,a=(0,v.pi)((0,v.pi)({},n),{loading:Gt(o),networkStatus:o}),s=this.options.fetchPolicy,c=void 0===s?"cache-first":s;if("network-only"!==c&&"no-cache"!==c&&"standby"!==c&&!this.queryManager.transform(this.options.query).hasForcedResolvers){var p=this.queryInfo.getDiff();(p.complete||this.options.returnPartialData)&&(a.data=p.result),ce(a.data,{})&&(a.data=void 0),p.complete?(delete a.partial,p.complete&&a.networkStatus===$.loading&&("cache-first"===c||"cache-only"===c)&&(a.networkStatus=$.ready,a.loading=!1)):a.partial=!0,__DEV__&&!p.complete&&!this.options.partialRefetch&&!a.loading&&!a.data&&!a.error&&ua(p.missing)}return t&&this.updateLastResult(a),a},r.prototype.isDifferentFromLastResult=function(t,n){return!this.last||!ce(this.last.result,t)||n&&!ce(this.last.variables,n)},r.prototype.getLast=function(t,n){var o=this.last;if(o&&o[t]&&(!n||ce(o.variables,this.variables)))return o[t]},r.prototype.getLastResult=function(t){return this.getLast("result",t)},r.prototype.getLastError=function(t){return this.getLast("error",t)},r.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},r.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},r.prototype.refetch=function(t){var n,o={pollInterval:0},a=this.options.fetchPolicy;if(o.fetchPolicy="cache-and-network"===a?a:"no-cache"===a?"no-cache":"network-only",__DEV__&&t&&hu.call(t,"variables")){var s=ao(this.query),c=s.variableDefinitions;(!c||!c.some(function(p){return"variables"===p.variable.name.value}))&&__DEV__&&I.warn("Called refetch(".concat(JSON.stringify(t),") for query ").concat((null===(n=s.name)||void 0===n?void 0:n.value)||JSON.stringify(s),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return t&&!ce(this.options.variables,t)&&(o.variables=this.options.variables=(0,v.pi)((0,v.pi)({},this.options.variables),t)),this.queryInfo.resetLastWrite(),this.reobserve(o,$.refetch)},r.prototype.fetchMore=function(t){var n=this,o=(0,v.pi)((0,v.pi)({},t.query?t:(0,v.pi)((0,v.pi)((0,v.pi)((0,v.pi)({},this.options),{query:this.query}),t),{variables:(0,v.pi)((0,v.pi)({},this.options.variables),t.variables)})),{fetchPolicy:"no-cache"}),a=this.queryManager.generateQueryId(),s=this.queryInfo,c=s.networkStatus;s.networkStatus=$.fetchMore,o.notifyOnNetworkStatusChange&&this.observe();var p=new Set;return this.queryManager.fetchQuery(a,o,$.fetchMore).then(function(u){return n.queryManager.removeQuery(a),s.networkStatus===$.fetchMore&&(s.networkStatus=c),n.queryManager.cache.batch({update:function(f){var d=t.updateQuery;d?f.updateQuery({query:n.query,variables:n.variables,returnPartialData:!0,optimistic:!1},function(h){return d(h,{fetchMoreResult:u.data,variables:o.variables})}):f.writeQuery({query:o.query,variables:o.variables,data:u.data})},onWatchUpdated:function(f){p.add(f.query)}}),u}).finally(function(){p.has(n.query)||ca(n)})},r.prototype.subscribeToMore=function(t){var n=this,o=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:function(a){var s=t.updateQuery;s&&n.updateQuery(function(c,p){return s(c,{subscriptionData:a,variables:p.variables})})},error:function(a){t.onError?t.onError(a):__DEV__&&I.error("Unhandled GraphQL subscription error",a)}});return this.subscriptions.add(o),function(){n.subscriptions.delete(o)&&o.unsubscribe()}},r.prototype.setOptions=function(t){return this.reobserve(t)},r.prototype.setVariables=function(t){return ce(this.variables,t)?this.observers.size?this.result():Promise.resolve():(this.options.variables=t,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:t},$.setVariables):Promise.resolve())},r.prototype.updateQuery=function(t){var n=this.queryManager,a=t(n.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});a&&(n.cache.writeQuery({query:this.options.query,data:a,variables:this.variables}),n.broadcastQueries())},r.prototype.startPolling=function(t){this.options.pollInterval=t,this.updatePolling()},r.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},r.prototype.applyNextFetchPolicy=function(t,n){if(n.nextFetchPolicy){var o=n.fetchPolicy,a=void 0===o?"cache-first":o,s=n.initialFetchPolicy,c=void 0===s?a:s;"standby"===a||(n.fetchPolicy="function"==typeof n.nextFetchPolicy?n.nextFetchPolicy(a,{reason:t,options:n,observable:this,initialFetchPolicy:c}):"variables-changed"===t?c:n.nextFetchPolicy)}return n.fetchPolicy},r.prototype.fetch=function(t,n){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,t,n)},r.prototype.updatePolling=function(){var t=this;if(!this.queryManager.ssrMode){var o=this.pollingInfo,a=this.options.pollInterval;if(!a)return void(o&&(clearTimeout(o.timeout),delete this.pollingInfo));if(!o||o.interval!==a){__DEV__?I(a,"Attempted to start a polling query without a polling interval."):I(a,13),(o||(this.pollingInfo={})).interval=a;var c=function(){t.pollingInfo&&(Gt(t.queryInfo.networkStatus)?p():t.reobserve({fetchPolicy:"no-cache"===t.options.initialFetchPolicy?"no-cache":"network-only"},$.poll).then(p,p))},p=function(){var u=t.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(c,u.interval))};p()}}},r.prototype.updateLastResult=function(t,n){return void 0===n&&(n=this.variables),this.last=(0,v.pi)((0,v.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?t:Eo(t),variables:n}),Me(t.errors)||delete this.last.error,this.last},r.prototype.reobserve=function(t,n){var o=this;this.isTornDown=!1;var a=n===$.refetch||n===$.fetchMore||n===$.poll,s=this.options.variables,c=this.options.fetchPolicy,p=vi(this.options,t||{}),u=a?p:du(this.options,p);a||(this.updatePolling(),t&&t.variables&&!ce(t.variables,s)&&"standby"!==u.fetchPolicy&&u.fetchPolicy===c&&(this.applyNextFetchPolicy("variables-changed",u),void 0===n&&(n=$.setVariables)));var f=u.variables&&(0,v.pi)({},u.variables),d=this.fetch(u,n),h={next:function(g){o.reportResult(g,f)},error:function(g){o.reportError(g,f)}};return a||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=d,this.observer=h),d.addObserver(h),d.promise},r.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},r.prototype.reportResult=function(t,n){var o=this.getLastError();(o||this.isDifferentFromLastResult(t,n))&&((o||!t.partial||this.options.returnPartialData)&&this.updateLastResult(t,n),Ut(this.observers,"next",t))},r.prototype.reportError=function(t,n){var o=(0,v.pi)((0,v.pi)({},this.getLastResult()),{error:t,errors:t.graphQLErrors,networkStatus:$.error,loading:!1});this.updateLastResult(o,n),Ut(this.observers,"error",this.last.error=t)},r.prototype.hasObservers=function(){return this.observers.size>0},r.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(t){return t.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},r}(J);function ca(i){var r=i.options,t=r.fetchPolicy,n=r.nextFetchPolicy;return"cache-and-network"===t||"network-only"===t?i.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=n,"function"==typeof n?n.apply(this,arguments):t}}):i.reobserve()}function mu(i){__DEV__&&I.error("Unhandled error",i.message,i.stack)}function ua(i){__DEV__&&i&&__DEV__&&I.debug("Missing cache result fields: ".concat(JSON.stringify(i)),i)}function pa(i){return i.kind===D.FIELD||i.kind===D.FRAGMENT_SPREAD||i.kind===D.INLINE_FRAGMENT}la(Jn);var _a=function(){function i(r){var t=r.cache,n=r.client,o=r.resolvers,a=r.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,n&&(this.client=n),o&&this.addResolvers(o),a&&this.setFragmentMatcher(a)}return i.prototype.addResolvers=function(r){var t=this;this.resolvers=this.resolvers||{},Array.isArray(r)?r.forEach(function(n){t.resolvers=fo(t.resolvers,n)}):this.resolvers=fo(this.resolvers,r)},i.prototype.setResolvers=function(r){this.resolvers={},this.addResolvers(r)},i.prototype.getResolvers=function(){return this.resolvers||{}},i.prototype.runResolvers=function(r){var t=r.document,n=r.remoteResult,o=r.context,a=r.variables,s=r.onlyRunForcedResolvers,c=void 0!==s&&s;return(0,v.mG)(this,void 0,void 0,function(){return(0,v.Jh)(this,function(p){return t?[2,this.resolveDocument(t,n.data,o,a,this.fragmentMatcher,c).then(function(u){return(0,v.pi)((0,v.pi)({},n),{data:u.result})})]:[2,n]})})},i.prototype.setFragmentMatcher=function(r){this.fragmentMatcher=r},i.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},i.prototype.clientQuery=function(r){return Lt(["client"],r)&&this.resolvers?r:null},i.prototype.serverQuery=function(r){return function Qs(i){mi(i);var r=uo([{test:function(t){return"client"===t.name.value},remove:!0}],i);return r&&(r=Ue(r,{FragmentDefinition:{enter:function(t){if(t.selectionSet&&t.selectionSet.selections.every(function(o){return He(o)&&"__typename"===o.name.value}))return null}}})),r}(r)},i.prototype.prepareContext=function(r){var t=this.cache;return(0,v.pi)((0,v.pi)({},r),{cache:t,getCacheKey:function(n){return t.identify(n)}})},i.prototype.addExportedVariables=function(r,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),(0,v.mG)(this,void 0,void 0,function(){return(0,v.Jh)(this,function(o){return r?[2,this.resolveDocument(r,this.buildRootValueFromCache(r,t)||{},this.prepareContext(n),t).then(function(a){return(0,v.pi)((0,v.pi)({},t),a.exportedVariables)})]:[2,(0,v.pi)({},t)]})})},i.prototype.shouldForceResolvers=function(r){var t=!1;return Ue(r,{Directive:{enter:function(n){if("client"===n.name.value&&n.arguments&&(t=n.arguments.some(function(o){return"always"===o.name.value&&"BooleanValue"===o.value.kind&&!0===o.value.value})))return it}}}),t},i.prototype.buildRootValueFromCache=function(r,t){return this.cache.diff({query:Bs(r),variables:t,returnPartialData:!0,optimistic:!1}).result},i.prototype.resolveDocument=function(r,t,n,o,a,s){return void 0===n&&(n={}),void 0===o&&(o={}),void 0===a&&(a=function(){return!0}),void 0===s&&(s=!1),(0,v.mG)(this,void 0,void 0,function(){var c,p,u,f,d,h,g,S,y,b;return(0,v.Jh)(this,function(x){return c=fn(r),p=_n(r),u=an(p),f=this.collectSelectionsToResolve(c,u),h=(d=c.operation)?d.charAt(0).toUpperCase()+d.slice(1):"Query",S=(g=this).cache,y=g.client,b={fragmentMap:u,context:(0,v.pi)((0,v.pi)({},n),{cache:S,client:y}),variables:o,fragmentMatcher:a,defaultOperationType:h,exportedVariables:{},selectionsToResolve:f,onlyRunForcedResolvers:s},[2,this.resolveSelectionSet(c.selectionSet,!1,t,b).then(function(E){return{result:E,exportedVariables:b.exportedVariables}})]})})},i.prototype.resolveSelectionSet=function(r,t,n,o){return(0,v.mG)(this,void 0,void 0,function(){var a,s,c,p,f=this;return(0,v.Jh)(this,function(d){return a=o.fragmentMap,s=o.context,c=o.variables,p=[n],[2,Promise.all(r.selections.map(function(h){return(0,v.mG)(f,void 0,void 0,function(){var g;return(0,v.Jh)(this,function(y){return(t||o.selectionsToResolve.has(h))&&Ti(h,c)?He(h)?[2,this.resolveField(h,t,n,o).then(function(b){var F;typeof b<"u"&&p.push(((F={})[tt(h)]=b,F))})]:(io(h)?g=h:(g=a[h.name.value],__DEV__?I(g,"No fragment named ".concat(h.name.value)):I(g,11)),g&&g.typeCondition&&o.fragmentMatcher(n,g.typeCondition.name.value,s)?[2,this.resolveSelectionSet(g.selectionSet,t,n,o).then(function(b){p.push(b)})]:[2]):[2]})})})).then(function(){return vn(p)})]})})},i.prototype.resolveField=function(r,t,n,o){return(0,v.mG)(this,void 0,void 0,function(){var a,s,c,p,u,f,d,h,g,S=this;return(0,v.Jh)(this,function(y){return n?(a=o.variables,s=r.name.value,c=tt(r),p=s!==c,u=n[c]||n[s],f=Promise.resolve(u),(!o.onlyRunForcedResolvers||this.shouldForceResolvers(r))&&(d=n.__typename||o.defaultOperationType,(h=this.resolvers&&this.resolvers[d])&&(g=h[p?s:c])&&(f=Promise.resolve(xn.withValue(this.cache,g,[n,hi(r,a),o.context,{field:r,fragmentMap:o.fragmentMap}])))),[2,f.then(function(b){var F,x;if(void 0===b&&(b=u),r.directives&&r.directives.forEach(function(A){"export"===A.name.value&&A.arguments&&A.arguments.forEach(function(L){"as"===L.name.value&&"StringValue"===L.value.kind&&(o.exportedVariables[L.value.value]=b)})}),!r.selectionSet||null==b)return b;var E=null!==(x=null===(F=r.directives)||void 0===F?void 0:F.some(function(A){return"client"===A.name.value}))&&void 0!==x&&x;return Array.isArray(b)?S.resolveSubSelectedArray(r,t||E,b,o):r.selectionSet?S.resolveSelectionSet(r.selectionSet,t||E,b,o):void 0})]):[2,null]})})},i.prototype.resolveSubSelectedArray=function(r,t,n,o){var a=this;return Promise.all(n.map(function(s){return null===s?null:Array.isArray(s)?a.resolveSubSelectedArray(r,t,s,o):r.selectionSet?a.resolveSelectionSet(r.selectionSet,t,s,o):void 0}))},i.prototype.collectSelectionsToResolve=function(r,t){var n=function(s){return!Array.isArray(s)},o=this.selectionsToResolveCache;return function a(s){if(!o.has(s)){var c=new Set;o.set(s,c),Ue(s,{Directive:function(p,u,f,d,h){"client"===p.name.value&&h.forEach(function(g){n(g)&&pa(g)&&c.add(g)})},FragmentSpread:function(p,u,f,d,h){var g=t[p.name.value];__DEV__?I(g,"No fragment named ".concat(p.name.value)):I(g,12);var S=a(g);S.size>0&&(h.forEach(function(y){n(y)&&pa(y)&&c.add(y)}),c.add(p),S.forEach(function(y){c.add(y)}))}})}return o.get(s)}(r)},i}(),St=new(nt?WeakMap:Map);function jn(i,r){var t=i[r];"function"==typeof t&&(i[r]=function(){return St.set(i,(St.get(i)+1)%1e15),t.apply(this,arguments)})}function fa(i){i.notifyTimeout&&(clearTimeout(i.notifyTimeout),i.notifyTimeout=void 0)}var Yn=function(){function i(r,t){void 0===t&&(t=r.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=r.cache;St.has(n)||(St.set(n,0),jn(n,"evict"),jn(n,"modify"),jn(n,"reset"))}return i.prototype.init=function(r){var t=r.networkStatus||$.loading;return this.variables&&this.networkStatus!==$.loading&&!ce(this.variables,r.variables)&&(t=$.setVariables),ce(r.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:r.document,variables:r.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),r.observableQuery&&this.setObservableQuery(r.observableQuery),r.lastRequestId&&(this.lastRequestId=r.lastRequestId),this},i.prototype.reset=function(){fa(this),this.dirty=!1},i.prototype.getDiff=function(r){void 0===r&&(r=this.variables);var t=this.getDiffOptions(r);if(this.lastDiff&&ce(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=r);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var o=this.cache.diff(t);return this.updateLastDiff(o,t),o},i.prototype.updateLastDiff=function(r,t){this.lastDiff=r?{diff:r,options:t||this.getDiffOptions()}:void 0},i.prototype.getDiffOptions=function(r){var t;return void 0===r&&(r=this.variables),{query:this.document,variables:r,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},i.prototype.setDiff=function(r){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(r),!this.dirty&&!ce(n&&n.result,r&&r.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return t.notify()},0)))},i.prototype.setObservableQuery=function(r){var t=this;r!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=r,r?(r.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?r.observe():ca(r)})):delete this.oqListener)},i.prototype.notify=function(){var r=this;fa(this),this.shouldNotify()&&this.listeners.forEach(function(t){return t(r)}),this.dirty=!1},i.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Gt(this.networkStatus)&&this.observableQuery){var r=this.observableQuery.options.fetchPolicy;if("cache-only"!==r&&"cache-and-network"!==r)return!1}return!0},i.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=i.prototype.cancel,this.subscriptions.forEach(function(t){return t.unsubscribe()});var r=this.observableQuery;r&&r.stopPolling()}},i.prototype.cancel=function(){},i.prototype.updateWatch=function(r){var t=this;void 0===r&&(r=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var o=(0,v.pi)((0,v.pi)({},this.getDiffOptions(r)),{watcher:this,callback:function(a){return t.setDiff(a)}});(!this.lastWatch||!ce(o,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=o))}},i.prototype.resetLastWrite=function(){this.lastWrite=void 0},i.prototype.shouldWrite=function(r,t){var n=this.lastWrite;return!(n&&n.dmCount===St.get(this.cache)&&ce(t,n.variables)&&ce(r.data,n.result.data))},i.prototype.markResult=function(r,t,n,o){var a=this,s=new Ke,c=Me(r.errors)?r.errors.slice(0):[];if(this.reset(),"incremental"in r&&Me(r.incremental)){var p=aa(this.getDiff().result,r);r.data=p}else if("hasNext"in r&&r.hasNext){var u=this.getDiff();r.data=s.merge(u.result,r.data)}this.graphQLErrors=c,"no-cache"===n.fetchPolicy?this.updateLastDiff({result:r.data,complete:!0},this.getDiffOptions(n.variables)):0!==o&&(zn(r,n.errorPolicy)?this.cache.performTransaction(function(f){if(a.shouldWrite(r,n.variables))f.writeQuery({query:t,data:r.data,variables:n.variables,overwrite:1===o}),a.lastWrite={result:r,variables:n.variables,dmCount:St.get(a.cache)};else if(a.lastDiff&&a.lastDiff.diff.complete)return void(r.data=a.lastDiff.diff.result);var d=a.getDiffOptions(n.variables),h=f.diff(d);a.stopped||a.updateWatch(n.variables),a.updateLastDiff(h,d),h.complete&&(r.data=h.result)}):this.lastWrite=void 0)},i.prototype.markReady=function(){return this.networkError=null,this.networkStatus=$.ready},i.prototype.markError=function(r){return this.networkStatus=$.error,this.lastWrite=void 0,this.reset(),r.graphQLErrors&&(this.graphQLErrors=r.graphQLErrors),r.networkError&&(this.networkError=r.networkError),r},i}();function zn(i,r){void 0===r&&(r="none");var t="ignore"===r||"all"===r,n=!Fi(i);return!n&&t&&i.data&&(n=!0),n}var Cu=Object.prototype.hasOwnProperty,wu=function(){function i(r){var t=r.cache,n=r.link,o=r.defaultOptions,a=r.queryDeduplication,s=void 0!==a&&a,c=r.onBroadcast,p=r.ssrMode,u=void 0!==p&&p,f=r.clientAwareness,d=void 0===f?{}:f,h=r.localState,g=r.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(nt?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.defaultOptions=o||Object.create(null),this.queryDeduplication=s,this.clientAwareness=d,this.localState=h||new _a({cache:t}),this.ssrMode=u,this.assumeImmutableResults=!!g,(this.onBroadcast=c)&&(this.mutationStore=Object.create(null))}return i.prototype.stop=function(){var r=this;this.queries.forEach(function(t,n){r.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(__DEV__?new Q("QueryManager stopped while query was in flight"):new Q(14))},i.prototype.cancelPendingFetches=function(r){this.fetchCancelFns.forEach(function(t){return t(r)}),this.fetchCancelFns.clear()},i.prototype.mutate=function(r){var t,n,o=r.mutation,a=r.variables,s=r.optimisticResponse,c=r.updateQueries,p=r.refetchQueries,u=void 0===p?[]:p,f=r.awaitRefetchQueries,d=void 0!==f&&f,h=r.update,g=r.onQueryUpdated,S=r.fetchPolicy,y=void 0===S?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":S,b=r.errorPolicy,F=void 0===b?(null===(n=this.defaultOptions.mutate)||void 0===n?void 0:n.errorPolicy)||"none":b,x=r.keepRootFields,E=r.context;return(0,v.mG)(this,void 0,void 0,function(){var A,L,R,G,Y;return(0,v.Jh)(this,function(z){switch(z.label){case 0:return __DEV__?I(o,"mutation option is required. You must specify your GraphQL document in the mutation option."):I(o,15),__DEV__?I("network-only"===y||"no-cache"===y,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):I("network-only"===y||"no-cache"===y,16),A=this.generateMutationId(),L=this.transform(o),R=L.hasClientExports,o=this.cache.transformForLink(L.document),a=this.getVariables(o,a),R?[4,this.localState.addExportedVariables(o,a,E)]:[3,2];case 1:a=z.sent(),z.label=2;case 2:return G=this.mutationStore&&(this.mutationStore[A]={mutation:o,variables:a,loading:!0,error:null}),s&&this.markMutationOptimistic(s,{mutationId:A,document:o,variables:a,fetchPolicy:y,errorPolicy:F,context:E,updateQueries:c,update:h,keepRootFields:x}),this.broadcastQueries(),Y=this,[2,new Promise(function(ut,bt){return $n(Y.getObservableFromLink(o,(0,v.pi)((0,v.pi)({},E),{optimisticResponse:s}),a,!1),function(be){if(Fi(be)&&"none"===F)throw new Tt({graphQLErrors:Hn(be)});G&&(G.loading=!1,G.error=null);var Et=(0,v.pi)({},be);return"function"==typeof u&&(u=u(Et)),"ignore"===F&&Fi(Et)&&delete Et.errors,Y.markMutationResult({mutationId:A,result:Et,document:o,variables:a,fetchPolicy:y,errorPolicy:F,context:E,update:h,updateQueries:c,awaitRefetchQueries:d,refetchQueries:u,removeOptimistic:s?A:void 0,onQueryUpdated:g,keepRootFields:x})}).subscribe({next:function(be){Y.broadcastQueries(),(!("hasNext"in be)||!1===be.hasNext)&&ut(be)},error:function(be){G&&(G.loading=!1,G.error=be),s&&Y.cache.removeOptimistic(A),Y.broadcastQueries(),bt(be instanceof Tt?be:new Tt({networkError:be}))}})})]}})})},i.prototype.markMutationResult=function(r,t){var n=this;void 0===t&&(t=this.cache);var o=r.result,a=[],s="no-cache"===r.fetchPolicy;if(!s&&zn(o,r.errorPolicy)){if(vt(o)||a.push({result:o.data,dataId:"ROOT_MUTATION",query:r.document,variables:r.variables}),vt(o)&&Me(o.incremental)){var c=t.diff({id:"ROOT_MUTATION",query:this.transform(r.document).asQuery,variables:r.variables,optimistic:!1,returnPartialData:!0}),p=void 0;c.result&&(p=aa(c.result,o)),typeof p<"u"&&(o.data=p,a.push({result:p,dataId:"ROOT_MUTATION",query:r.document,variables:r.variables}))}var u=r.updateQueries;u&&this.queries.forEach(function(d,h){var g=d.observableQuery,S=g&&g.queryName;if(S&&Cu.call(u,S)){var y=u[S],b=n.queries.get(h),F=b.document,x=b.variables,E=t.diff({query:F,variables:x,returnPartialData:!0,optimistic:!1}),A=E.result;if(E.complete&&A){var k=y(A,{mutationResult:o,queryName:F&&pn(F)||void 0,queryVariables:x});k&&a.push({result:k,dataId:"ROOT_QUERY",query:F,variables:x})}}})}if(a.length>0||r.refetchQueries||r.update||r.onQueryUpdated||r.removeOptimistic){var f=[];if(this.refetchQueries({updateCache:function(d){s||a.forEach(function(y){return d.write(y)});var h=r.update,g=!function pu(i){return vt(i)||function uu(i){return"hasNext"in i&&"data"in i}(i)}(o)||vt(o)&&!o.hasNext;if(h){if(!s){var S=d.diff({id:"ROOT_MUTATION",query:n.transform(r.document).asQuery,variables:r.variables,optimistic:!1,returnPartialData:!0});S.complete&&("incremental"in(o=(0,v.pi)((0,v.pi)({},o),{data:S.result}))&&delete o.incremental,"hasNext"in o&&delete o.hasNext)}g&&h(d,o,{context:r.context,variables:r.variables})}!s&&!r.keepRootFields&&g&&d.modify({id:"ROOT_MUTATION",fields:function(y,b){return"__typename"===b.fieldName?y:b.DELETE}})},include:r.refetchQueries,optimistic:!1,removeOptimistic:r.removeOptimistic,onQueryUpdated:r.onQueryUpdated||null}).forEach(function(d){return f.push(d)}),r.awaitRefetchQueries||r.onQueryUpdated)return Promise.all(f).then(function(){return o})}return Promise.resolve(o)},i.prototype.markMutationOptimistic=function(r,t){var n=this,o="function"==typeof r?r(t.variables):r;return this.cache.recordOptimisticTransaction(function(a){try{n.markMutationResult((0,v.pi)((0,v.pi)({},t),{result:{data:o}}),a)}catch(s){__DEV__&&I.error(s)}},t.mutationId)},i.prototype.fetchQuery=function(r,t,n){return this.fetchQueryObservable(r,t,n).promise},i.prototype.getQueryStore=function(){var r=Object.create(null);return this.queries.forEach(function(t,n){r[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}}),r},i.prototype.resetErrors=function(r){var t=this.queries.get(r);t&&(t.networkError=void 0,t.graphQLErrors=[])},i.prototype.transform=function(r){var t=this.transformCache;if(!t.has(r)){var n=this.cache.transformDocument(r),o=function Vs(i){return uo([Gs],mi(i))}(n),a=this.localState.clientQuery(n),s=o&&this.localState.serverQuery(o),c={document:n,hasClientExports:zs(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:a,serverQuery:s,defaultVars:dn(Ot(n)),asQuery:(0,v.pi)((0,v.pi)({},n),{definitions:n.definitions.map(function(u){return"OperationDefinition"===u.kind&&"query"!==u.operation?(0,v.pi)((0,v.pi)({},u),{operation:"query"}):u})})},p=function(u){u&&!t.has(u)&&t.set(u,c)};p(r),p(n),p(a),p(s)}return t.get(r)},i.prototype.getVariables=function(r,t){return(0,v.pi)((0,v.pi)({},this.transform(r).defaultVars),t)},i.prototype.watchQuery=function(r){typeof(r=(0,v.pi)((0,v.pi)({},r),{variables:this.getVariables(r.query,r.variables)})).notifyOnNetworkStatusChange>"u"&&(r.notifyOnNetworkStatusChange=!1);var t=new Yn(this),n=new Jn({queryManager:this,queryInfo:t,options:r});return this.queries.set(n.queryId,t),t.init({document:n.query,observableQuery:n,variables:n.variables}),n},i.prototype.query=function(r,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?I(r.query,"query option is required. You must specify your GraphQL document in the query option."):I(r.query,17),__DEV__?I("Document"===r.query.kind,'You must wrap the query string in a "gql" tag.'):I("Document"===r.query.kind,18),__DEV__?I(!r.returnPartialData,"returnPartialData option only supported on watchQuery."):I(!r.returnPartialData,19),__DEV__?I(!r.pollInterval,"pollInterval option only supported on watchQuery."):I(!r.pollInterval,20),this.fetchQuery(t,r).finally(function(){return n.stopQuery(t)})},i.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},i.prototype.generateRequestId=function(){return this.requestIdCounter++},i.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},i.prototype.stopQueryInStore=function(r){this.stopQueryInStoreNoBroadcast(r),this.broadcastQueries()},i.prototype.stopQueryInStoreNoBroadcast=function(r){var t=this.queries.get(r);t&&t.stop()},i.prototype.clearStore=function(r){return void 0===r&&(r={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new Q("Store reset while query was in flight (not completed in link chain)"):new Q(21)),this.queries.forEach(function(t){t.observableQuery?t.networkStatus=$.loading:t.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(r)},i.prototype.getObservableQueries=function(r){var t=this;void 0===r&&(r="active");var n=new Map,o=new Map,a=new Set;return Array.isArray(r)&&r.forEach(function(s){"string"==typeof s?o.set(s,!1):function ys(i){return te(i)&&"Document"===i.kind&&Array.isArray(i.definitions)}(s)?o.set(t.transform(s).document,!1):te(s)&&s.query&&a.add(s)}),this.queries.forEach(function(s,c){var p=s.observableQuery,u=s.document;if(p){if("all"===r)return void n.set(c,p);var f=p.queryName;if("standby"===p.options.fetchPolicy||"active"===r&&!p.hasObservers())return;("active"===r||f&&o.has(f)||u&&o.has(u))&&(n.set(c,p),f&&o.set(f,!0),u&&o.set(u,!0))}}),a.size&&a.forEach(function(s){var c=In("legacyOneTimeQuery"),p=t.getQuery(c).init({document:s.query,variables:s.variables}),u=new Jn({queryManager:t,queryInfo:p,options:(0,v.pi)((0,v.pi)({},s),{fetchPolicy:"network-only"})});I(u.queryId===c),p.setObservableQuery(u),n.set(c,u)}),__DEV__&&o.size&&o.forEach(function(s,c){s||__DEV__&&I.warn("Unknown query ".concat("string"==typeof c?"named ":"").concat(JSON.stringify(c,null,2)," requested in refetchQueries options.include array"))}),n},i.prototype.reFetchObservableQueries=function(r){var t=this;void 0===r&&(r=!1);var n=[];return this.getObservableQueries(r?"all":"active").forEach(function(o,a){var s=o.options.fetchPolicy;o.resetLastResults(),(r||"standby"!==s&&"cache-only"!==s)&&n.push(o.refetch()),t.getQuery(a).setDiff(null)}),this.broadcastQueries(),Promise.all(n)},i.prototype.setObservableQuery=function(r){this.getQuery(r.queryId).setObservableQuery(r)},i.prototype.startGraphQLSubscription=function(r){var t=this,n=r.query,o=r.fetchPolicy,a=r.errorPolicy,s=r.variables,c=r.context,p=void 0===c?{}:c;n=this.transform(n).document,s=this.getVariables(n,s);var u=function(d){return t.getObservableFromLink(n,p,d).map(function(h){if("no-cache"!==o&&(zn(h,a)&&t.cache.write({query:n,result:h.data,dataId:"ROOT_SUBSCRIPTION",variables:d}),t.broadcastQueries()),Fi(h))throw new Tt({graphQLErrors:h.errors});return h})};if(this.transform(n).hasClientExports){var f=this.localState.addExportedVariables(n,s,p).then(u);return new J(function(d){var h=null;return f.then(function(g){return h=g.subscribe(d)},d.error),function(){return h&&h.unsubscribe()}})}return u(s)},i.prototype.stopQuery=function(r){this.stopQueryNoBroadcast(r),this.broadcastQueries()},i.prototype.stopQueryNoBroadcast=function(r){this.stopQueryInStoreNoBroadcast(r),this.removeQuery(r)},i.prototype.removeQuery=function(r){this.fetchCancelFns.delete(r),this.queries.has(r)&&(this.getQuery(r).stop(),this.queries.delete(r))},i.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(r){return r.notify()})},i.prototype.getLocalState=function(){return this.localState},i.prototype.getObservableFromLink=function(r,t,n,o){var s,a=this;void 0===o&&(o=null!==(s=t?.queryDeduplication)&&void 0!==s?s:this.queryDeduplication);var c,p=this.transform(r).serverQuery;if(p){var f=this.inFlightLinkObservables,d=this.link,h={query:p,variables:n,operationName:pn(p)||void 0,context:this.prepareContext((0,v.pi)((0,v.pi)({},t),{forceFetch:!o}))};if(t=h.context,o){var g=f.get(p)||new Map;f.set(p,g);var S=rt(n);if(!(c=g.get(S))){var y=new Pt([qn(d,h)]);g.set(S,c=y),y.beforeNext(function(){g.delete(S)&&g.size<1&&f.delete(p)})}}else c=new Pt([qn(d,h)])}else c=new Pt([J.of({data:{}})]),t=this.prepareContext(t);var b=this.transform(r).clientQuery;return b&&(c=$n(c,function(F){return a.localState.runResolvers({document:b,remoteResult:F,context:t,variables:n})})),c},i.prototype.getResultsFromLink=function(r,t,n){var o=r.lastRequestId=this.generateRequestId(),a=this.cache.transformForLink(this.transform(r.document).document);return $n(this.getObservableFromLink(a,n.context,n.variables),function(s){var c=Hn(s),p=c.length>0;if(o>=r.lastRequestId){if(p&&"none"===n.errorPolicy)throw r.markError(new Tt({graphQLErrors:c}));r.markResult(s,a,n,t),r.markReady()}var u={data:s.data,loading:!1,networkStatus:$.ready};return p&&"ignore"!==n.errorPolicy&&(u.errors=c,u.networkStatus=$.error),u},function(s){var c=function _u(i){return i.hasOwnProperty("graphQLErrors")}(s)?s:new Tt({networkError:s});throw o>=r.lastRequestId&&r.markError(c),c})},i.prototype.fetchQueryObservable=function(r,t,n){var o=this;void 0===n&&(n=$.loading);var a=this.transform(t.query).document,s=this.getVariables(a,t.variables),c=this.getQuery(r),p=this.defaultOptions.watchQuery,u=t.fetchPolicy,d=t.errorPolicy,g=t.returnPartialData,y=t.notifyOnNetworkStatusChange,F=t.context,E=Object.assign({},t,{query:a,variables:s,fetchPolicy:void 0===u?p&&p.fetchPolicy||"cache-first":u,errorPolicy:void 0===d?p&&p.errorPolicy||"none":d,returnPartialData:void 0!==g&&g,notifyOnNetworkStatusChange:void 0!==y&&y,context:void 0===F?{}:F}),A=function(R){E.variables=R;var G=o.fetchQueryByPolicy(c,E,n);return"standby"!==E.fetchPolicy&&G.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",t),G},L=function(){return o.fetchCancelFns.delete(r)};this.fetchCancelFns.set(r,function(R){L(),setTimeout(function(){return k.cancel(R)})});var k=new Pt(this.transform(E.query).hasClientExports?this.localState.addExportedVariables(E.query,E.variables,E.context).then(A):A(E.variables));return k.promise.then(L,L),k},i.prototype.refetchQueries=function(r){var t=this,n=r.updateCache,o=r.include,a=r.optimistic,s=void 0!==a&&a,c=r.removeOptimistic,p=void 0===c?s?In("refetchQueries"):void 0:c,u=r.onQueryUpdated,f=new Map;o&&this.getObservableQueries(o).forEach(function(h,g){f.set(g,{oq:h,lastDiff:t.getQuery(g).getDiff()})});var d=new Map;return n&&this.cache.batch({update:n,optimistic:s&&p||!1,removeOptimistic:p,onWatchUpdated:function(h,g,S){var y=h.watcher instanceof Yn&&h.watcher.observableQuery;if(y){if(u){f.delete(y.queryId);var b=u(y,g,S);return!0===b&&(b=y.refetch()),!1!==b&&d.set(y,b),b}null!==u&&f.set(y.queryId,{oq:y,lastDiff:S,diff:g})}}}),f.size&&f.forEach(function(h,g){var F,S=h.oq,y=h.lastDiff,b=h.diff;if(u){if(!b){var x=S.queryInfo;x.reset(),b=x.getDiff()}F=u(S,b,y)}(!u||!0===F)&&(F=S.refetch()),!1!==F&&d.set(S,F),g.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(g)}),p&&this.cache.removeOptimistic(p),d},i.prototype.fetchQueryByPolicy=function(r,t,n){var o=this,a=t.query,s=t.variables,c=t.fetchPolicy,p=t.refetchWritePolicy,u=t.errorPolicy,f=t.returnPartialData,d=t.context,h=t.notifyOnNetworkStatusChange,g=r.networkStatus;r.init({document:this.transform(a).document,variables:s,networkStatus:n});var S=function(){return r.getDiff(s)},y=function(A,L){void 0===L&&(L=r.networkStatus||$.loading);var k=A.result;__DEV__&&!f&&!ce(k,{})&&ua(A.missing);var R=function(G){return J.of((0,v.pi)({data:G,loading:Gt(L),networkStatus:L},A.complete?null:{partial:!0}))};return k&&o.transform(a).hasForcedResolvers?o.localState.runResolvers({document:a,remoteResult:{data:k},context:d,variables:s,onlyRunForcedResolvers:!0}).then(function(G){return R(G.data||void 0)}):"none"===u&&L===$.refetch&&Array.isArray(A.missing)?R(void 0):R(k)},b="no-cache"===c?0:n===$.refetch&&"merge"!==p?1:2,F=function(){return o.getResultsFromLink(r,b,{variables:s,context:d,fetchPolicy:c,errorPolicy:u})},x=h&&"number"==typeof g&&g!==n&&Gt(n);switch(c){default:case"cache-first":return(E=S()).complete?[y(E,r.markReady())]:f||x?[y(E),F()]:[F()];case"cache-and-network":var E;return(E=S()).complete||f||x?[y(E),F()]:[F()];case"cache-only":return[y(S(),r.markReady())];case"network-only":return x?[y(S()),F()]:[F()];case"no-cache":return x?[y(r.getDiff()),F()]:[F()];case"standby":return[]}},i.prototype.getQuery=function(r){return r&&!this.queries.has(r)&&this.queries.set(r,new Yn(this,r)),this.queries.get(r)},i.prototype.prepareContext=function(r){void 0===r&&(r={});var t=this.localState.prepareContext(r);return(0,v.pi)((0,v.pi)({},t),{clientAwareness:this.clientAwareness})},i}();function Kn(i,r){return vi(i,r,r.variables&&{variables:(0,v.pi)((0,v.pi)({},i&&i.variables),r.variables)})}var da=!1,ha=function(){function i(r){var t=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=r.uri,s=r.cache,c=r.ssrMode,p=void 0!==c&&c,u=r.ssrForceFetchDelay,f=void 0===u?0:u,d=r.connectToDevTools,h=void 0===d?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:d,g=r.queryDeduplication,S=void 0===g||g,y=r.defaultOptions,b=r.assumeImmutableResults,F=void 0!==b&&b,x=r.resolvers,E=r.typeDefs,A=r.fragmentMatcher,L=r.name,k=r.version,R=r.link;if(R||(R=n?new cu({uri:n,credentials:r.credentials,headers:r.headers}):gt.empty()),!s)throw __DEV__?new Q("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new Q(9);if(this.link=R,this.cache=s,this.disableNetworkFetches=p||f>0,this.queryDeduplication=S,this.defaultOptions=y||Object.create(null),this.typeDefs=E,f&&setTimeout(function(){return t.disableNetworkFetches=!1},f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!da&&h&&__DEV__&&(da=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var G=window.navigator,Y=G&&G.userAgent,z=void 0;"string"==typeof Y&&(Y.indexOf("Chrome/")>-1?z="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":Y.indexOf("Firefox/")>-1&&(z="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),z&&__DEV__&&I.log("Download the Apollo DevTools for a better development experience: "+z)}this.version="3.7.8",this.localState=new _a({cache:s,client:this,resolvers:x,fragmentMatcher:A}),this.queryManager=new wu({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:S,ssrMode:p,clientAwareness:{name:L,version:k},localState:this.localState,assumeImmutableResults:F,onBroadcast:h?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return i.prototype.stop=function(){this.queryManager.stop()},i.prototype.watchQuery=function(r){return this.defaultOptions.watchQuery&&(r=Kn(this.defaultOptions.watchQuery,r)),this.disableNetworkFetches&&("network-only"===r.fetchPolicy||"cache-and-network"===r.fetchPolicy)&&(r=(0,v.pi)((0,v.pi)({},r),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(r)},i.prototype.query=function(r){return this.defaultOptions.query&&(r=Kn(this.defaultOptions.query,r)),__DEV__?I("cache-and-network"!==r.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):I("cache-and-network"!==r.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===r.fetchPolicy&&(r=(0,v.pi)((0,v.pi)({},r),{fetchPolicy:"cache-first"})),this.queryManager.query(r)},i.prototype.mutate=function(r){return this.defaultOptions.mutate&&(r=Kn(this.defaultOptions.mutate,r)),this.queryManager.mutate(r)},i.prototype.subscribe=function(r){return this.queryManager.startGraphQLSubscription(r)},i.prototype.readQuery=function(r,t){return void 0===t&&(t=!1),this.cache.readQuery(r,t)},i.prototype.readFragment=function(r,t){return void 0===t&&(t=!1),this.cache.readFragment(r,t)},i.prototype.writeQuery=function(r){this.cache.writeQuery(r),this.queryManager.broadcastQueries()},i.prototype.writeFragment=function(r){this.cache.writeFragment(r),this.queryManager.broadcastQueries()},i.prototype.__actionHookForDevTools=function(r){this.devToolsHookCb=r},i.prototype.__requestRaw=function(r){return qn(this.link,r)},i.prototype.resetStore=function(){var r=this;return Promise.resolve().then(function(){return r.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(r.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return r.reFetchObservableQueries()})},i.prototype.clearStore=function(){var r=this;return Promise.resolve().then(function(){return r.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(r.clearStoreCallbacks.map(function(t){return t()}))})},i.prototype.onResetStore=function(r){var t=this;return this.resetStoreCallbacks.push(r),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(n){return n!==r})}},i.prototype.onClearStore=function(r){var t=this;return this.clearStoreCallbacks.push(r),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(n){return n!==r})}},i.prototype.reFetchObservableQueries=function(r){return this.queryManager.reFetchObservableQueries(r)},i.prototype.refetchQueries=function(r){var t=this.queryManager.refetchQueries(r),n=[],o=[];t.forEach(function(s,c){n.push(c),o.push(s)});var a=Promise.all(o);return a.queries=n,a.results=o,a.catch(function(s){__DEV__&&I.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(s))}),a},i.prototype.getObservableQueries=function(r){return void 0===r&&(r="active"),this.queryManager.getObservableQueries(r)},i.prototype.extract=function(r){return this.cache.extract(r)},i.prototype.restore=function(r){return this.cache.restore(r)},i.prototype.addResolvers=function(r){this.localState.addResolvers(r)},i.prototype.setResolvers=function(r){this.localState.setResolvers(r)},i.prototype.getResolvers=function(){return this.localState.getResolvers()},i.prototype.setLocalStateFragmentMatcher=function(r){this.localState.setFragmentMatcher(r)},i.prototype.setLink=function(r){this.link=this.queryManager.link=r},i}();function Ii(i){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}function Xn(i,r){for(var a,t=/\r\n|[\n\r]/g,n=1,o=r+1;(a=t.exec(i.body))&&a.index<r;)n+=1,o=r+1-(a.index+a[0].length);return{line:n,column:o}}function Eu(i){return ma(i.source,Xn(i.source,i.start))}function ma(i,r){var t=i.locationOffset.column-1,n=xi(t)+i.body,o=r.line-1,s=r.line+(i.locationOffset.line-1),p=r.column+(1===r.line?t:0),u="".concat(i.name,":").concat(s,":").concat(p,"\n"),f=n.split(/\r\n|[\n\r]/g),d=f[o];if(d.length>120){for(var h=Math.floor(p/80),g=p%80,S=[],y=0;y<d.length;y+=80)S.push(d.slice(y,y+80));return u+ga([["".concat(s),S[0]]].concat(S.slice(1,h+1).map(function(b){return["",b]}),[[" ",xi(g-1)+"^"],["",S[h+1]]]))}return u+ga([["".concat(s-1),f[o-1]],["".concat(s),d],["",xi(p-1)+"^"],["".concat(s+1),f[o+1]]])}function ga(i){var r=i.filter(function(n){return void 0!==n[1]}),t=Math.max.apply(Math,r.map(function(n){return n[0].length}));return r.map(function(n){var a=n[1];return function Fu(i,r){return xi(i-r.length)+r}(t,n[0])+(a?" | "+a:" |")}).join("\n")}function xi(i){return Array(i+1).join(" ")}function Zi(i){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}function va(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,n)}return t}function xu(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function Ta(i,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function Sa(i,r){return!r||"object"!==Zi(r)&&"function"!=typeof r?qt(i):r}function qt(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function er(i){var r="function"==typeof Map?new Map:void 0;return er=function(n){if(null===n||!function Ru(i){return-1!==Function.toString.call(i).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(n))return r.get(n);r.set(n,o)}function o(){return Ai(n,arguments,Bt(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Wt(o,n)},er(i)}function Ai(i,r,t){return(Ai=ya()?Reflect.construct:function(o,a,s){var c=[null];c.push.apply(c,a);var u=new(Function.bind.apply(o,c));return s&&Wt(u,s.prototype),u}).apply(null,arguments)}function ya(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Wt(i,r){return(Wt=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(i,r)}function Bt(i){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(i)}var Du=function(i){!function Ou(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&Wt(i,r)}(t,i);var r=function Lu(i){var r=ya();return function(){var o,n=Bt(i);if(r){var a=Bt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Sa(this,o)}}(t);function t(n,o,a,s,c,p,u){var f,d,h,g;(function Zu(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,t),(g=r.call(this,n)).name="GraphQLError",g.originalError=p??void 0,g.nodes=Ca(Array.isArray(o)?o:o?[o]:void 0);for(var S=[],y=0,b=null!==(F=g.nodes)&&void 0!==F?F:[];y<b.length;y++){var F,E=b[y].loc;null!=E&&S.push(E)}S=Ca(S),g.source=a??(null===(f=S)||void 0===f?void 0:f[0].source),g.positions=s??(null===(d=S)||void 0===d?void 0:d.map(function(L){return L.start})),g.locations=s&&a?s.map(function(L){return Xn(a,L)}):null===(h=S)||void 0===h?void 0:h.map(function(L){return Xn(L.source,L.start)}),g.path=c??void 0;var A=p?.extensions;return g.extensions=null==u&&function bu(i){return"object"==Ii(i)&&null!==i}(A)?function Iu(i){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?va(Object(t),!0).forEach(function(n){xu(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):va(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}({},A):u??{},Object.defineProperties(qt(g),{message:{enumerable:!0},locations:{enumerable:null!=g.locations},path:{enumerable:null!=g.path},extensions:{enumerable:null!=g.extensions&&Object.keys(g.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=p&&p.stack?(Object.defineProperty(qt(g),"stack",{value:p.stack,writable:!0,configurable:!0}),Sa(g)):(Error.captureStackTrace?Error.captureStackTrace(qt(g),t):Object.defineProperty(qt(g),"stack",{value:Error().stack,writable:!0,configurable:!0}),g)}return function Au(i,r,t){r&&Ta(i.prototype,r),t&&Ta(i,t)}(t,[{key:"toString",value:function(){return function Mu(i){var r=i.message;if(i.nodes)for(var t=0,n=i.nodes;t<n.length;t++){var o=n[t];o.loc&&(r+="\n\n"+Eu(o.loc))}else if(i.source&&i.locations)for(var a=0,s=i.locations;a<s.length;a++)r+="\n\n"+ma(i.source,s[a]);return r}(this)}},{key:Ar,get:function(){return"Object"}}]),t}(er(Error));function Ca(i){return void 0===i||0===i.length?void 0:i}function Ee(i,r,t){return new Du("Syntax Error: ".concat(t),void 0,i,[r])}var C=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),Nu=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),Gu=function(){function i(t){var n=new ie(C.SOF,0,0,0,0,null);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var r=i.prototype;return r.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},r.lookahead=function(){var n=this.token;if(n.kind!==C.EOF)do{var o;n=null!==(o=n.next)&&void 0!==o?o:n.next=ku(this,n)}while(n.kind===C.COMMENT);return n},i}();function ot(i){return isNaN(i)?C.EOF:i<127?JSON.stringify(String.fromCharCode(i)):'"\\u'.concat(("00"+i.toString(16).toUpperCase()).slice(-4),'"')}function ku(i,r){for(var t=i.source,n=t.body,o=n.length,a=r.end;a<o;){var s=n.charCodeAt(a),c=i.line,p=1+a-i.lineStart;switch(s){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++i.line,i.lineStart=a;continue;case 13:10===n.charCodeAt(a+1)?a+=2:++a,++i.line,i.lineStart=a;continue;case 33:return new ie(C.BANG,a,a+1,c,p,r);case 35:return Pu(t,a,c,p,r);case 36:return new ie(C.DOLLAR,a,a+1,c,p,r);case 38:return new ie(C.AMP,a,a+1,c,p,r);case 40:return new ie(C.PAREN_L,a,a+1,c,p,r);case 41:return new ie(C.PAREN_R,a,a+1,c,p,r);case 46:if(46===n.charCodeAt(a+1)&&46===n.charCodeAt(a+2))return new ie(C.SPREAD,a,a+3,c,p,r);break;case 58:return new ie(C.COLON,a,a+1,c,p,r);case 61:return new ie(C.EQUALS,a,a+1,c,p,r);case 64:return new ie(C.AT,a,a+1,c,p,r);case 91:return new ie(C.BRACKET_L,a,a+1,c,p,r);case 93:return new ie(C.BRACKET_R,a,a+1,c,p,r);case 123:return new ie(C.BRACE_L,a,a+1,c,p,r);case 124:return new ie(C.PIPE,a,a+1,c,p,r);case 125:return new ie(C.BRACE_R,a,a+1,c,p,r);case 34:return 34===n.charCodeAt(a+1)&&34===n.charCodeAt(a+2)?Bu(t,a,c,p,r,i):Wu(t,a,c,p,r);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return qu(t,a,s,c,p,r);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return $u(t,a,c,p,r)}throw Ee(t,a,Uu(s))}return new ie(C.EOF,o,o,i.line,1+a-i.lineStart,r)}function Uu(i){return i<32&&9!==i&&10!==i&&13!==i?"Cannot contain the invalid character ".concat(ot(i),"."):39===i?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(ot(i),".")}function Pu(i,r,t,n,o){var s,a=i.body,c=r;do{s=a.charCodeAt(++c)}while(!isNaN(s)&&(s>31||9===s));return new ie(C.COMMENT,r,c,t,n,o,a.slice(r+1,c))}function qu(i,r,t,n,o,a){var s=i.body,c=t,p=r,u=!1;if(45===c&&(c=s.charCodeAt(++p)),48===c){if((c=s.charCodeAt(++p))>=48&&c<=57)throw Ee(i,p,"Invalid number, unexpected digit after 0: ".concat(ot(c),"."))}else p=tr(i,p,c),c=s.charCodeAt(p);if(46===c&&(u=!0,c=s.charCodeAt(++p),p=tr(i,p,c),c=s.charCodeAt(p)),(69===c||101===c)&&(u=!0,(43===(c=s.charCodeAt(++p))||45===c)&&(c=s.charCodeAt(++p)),p=tr(i,p,c),c=s.charCodeAt(p)),46===c||function Hu(i){return 95===i||i>=65&&i<=90||i>=97&&i<=122}(c))throw Ee(i,p,"Invalid number, expected digit but got: ".concat(ot(c),"."));return new ie(u?C.FLOAT:C.INT,r,p,n,o,a,s.slice(r,p))}function tr(i,r,t){var n=i.body,o=r,a=t;if(a>=48&&a<=57){do{a=n.charCodeAt(++o)}while(a>=48&&a<=57);return o}throw Ee(i,o,"Invalid number, expected digit but got: ".concat(ot(a),"."))}function Wu(i,r,t,n,o){for(var a=i.body,s=r+1,c=s,p=0,u="";s<a.length&&!isNaN(p=a.charCodeAt(s))&&10!==p&&13!==p;){if(34===p)return u+=a.slice(c,s),new ie(C.STRING,r,s+1,t,n,o,u);if(p<32&&9!==p)throw Ee(i,s,"Invalid character within String: ".concat(ot(p),"."));if(++s,92===p){switch(u+=a.slice(c,s-1),p=a.charCodeAt(s)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="\t";break;case 117:var f=Qu(a.charCodeAt(s+1),a.charCodeAt(s+2),a.charCodeAt(s+3),a.charCodeAt(s+4));if(f<0){var d=a.slice(s+1,s+5);throw Ee(i,s,"Invalid character escape sequence: \\u".concat(d,"."))}u+=String.fromCharCode(f),s+=4;break;default:throw Ee(i,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(p),"."))}c=++s}}throw Ee(i,s,"Unterminated string.")}function Bu(i,r,t,n,o,a){for(var s=i.body,c=r+3,p=c,u=0,f="";c<s.length&&!isNaN(u=s.charCodeAt(c));){if(34===u&&34===s.charCodeAt(c+1)&&34===s.charCodeAt(c+2))return f+=s.slice(p,c),new ie(C.BLOCK_STRING,r,c+3,t,n,o,jc(f));if(u<32&&9!==u&&10!==u&&13!==u)throw Ee(i,c,"Invalid character within String: ".concat(ot(u),"."));10===u?(++c,++a.line,a.lineStart=c):13===u?(10===s.charCodeAt(c+1)?c+=2:++c,++a.line,a.lineStart=c):92===u&&34===s.charCodeAt(c+1)&&34===s.charCodeAt(c+2)&&34===s.charCodeAt(c+3)?(f+=s.slice(p,c)+'"""',p=c+=4):++c}throw Ee(i,c,"Unterminated string.")}function Qu(i,r,t,n){return Oi(i)<<12|Oi(r)<<8|Oi(t)<<4|Oi(n)}function Oi(i){return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:-1}function $u(i,r,t,n,o){for(var a=i.body,s=a.length,c=r+1,p=0;c!==s&&!isNaN(p=a.charCodeAt(c))&&(95===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122);)++c;return new ie(C.NAME,r,c,t,n,o,a.slice(r,c))}var ir=function(){function i(t,n){var o=function Ql(i){return i instanceof Yi}(t)?t:new Yi(t);this._lexer=new Gu(o),this._options=n}var r=i.prototype;return r.parseName=function(){var n=this.expectToken(C.NAME);return{kind:D.NAME,value:n.value,loc:this.loc(n)}},r.parseDocument=function(){var n=this._lexer.token;return{kind:D.DOCUMENT,definitions:this.many(C.SOF,this.parseDefinition,C.EOF),loc:this.loc(n)}},r.parseDefinition=function(){if(this.peek(C.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(C.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},r.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(C.BRACE_L))return{kind:D.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var a,o=this.parseOperationType();return this.peek(C.NAME)&&(a=this.parseName()),{kind:D.OPERATION_DEFINITION,operation:o,name:a,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},r.parseOperationType=function(){var n=this.expectToken(C.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},r.parseVariableDefinitions=function(){return this.optionalMany(C.PAREN_L,this.parseVariableDefinition,C.PAREN_R)},r.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:D.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(C.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(C.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},r.parseVariable=function(){var n=this._lexer.token;return this.expectToken(C.DOLLAR),{kind:D.VARIABLE,name:this.parseName(),loc:this.loc(n)}},r.parseSelectionSet=function(){var n=this._lexer.token;return{kind:D.SELECTION_SET,selections:this.many(C.BRACE_L,this.parseSelection,C.BRACE_R),loc:this.loc(n)}},r.parseSelection=function(){return this.peek(C.SPREAD)?this.parseFragment():this.parseField()},r.parseField=function(){var a,s,n=this._lexer.token,o=this.parseName();return this.expectOptionalToken(C.COLON)?(a=o,s=this.parseName()):s=o,{kind:D.FIELD,alias:a,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(C.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},r.parseArguments=function(n){return this.optionalMany(C.PAREN_L,n?this.parseConstArgument:this.parseArgument,C.PAREN_R)},r.parseArgument=function(){var n=this._lexer.token,o=this.parseName();return this.expectToken(C.COLON),{kind:D.ARGUMENT,name:o,value:this.parseValueLiteral(!1),loc:this.loc(n)}},r.parseConstArgument=function(){var n=this._lexer.token;return{kind:D.ARGUMENT,name:this.parseName(),value:(this.expectToken(C.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},r.parseFragment=function(){var n=this._lexer.token;this.expectToken(C.SPREAD);var o=this.expectOptionalKeyword("on");return!o&&this.peek(C.NAME)?{kind:D.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:D.INLINE_FRAGMENT,typeCondition:o?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},r.parseFragmentDefinition=function(){var n,o=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(n=this._options)||void 0===n?void 0:n.experimentalFragmentVariables)?{kind:D.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(o)}:{kind:D.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(o)}},r.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},r.parseValueLiteral=function(n){var o=this._lexer.token;switch(o.kind){case C.BRACKET_L:return this.parseList(n);case C.BRACE_L:return this.parseObject(n);case C.INT:return this._lexer.advance(),{kind:D.INT,value:o.value,loc:this.loc(o)};case C.FLOAT:return this._lexer.advance(),{kind:D.FLOAT,value:o.value,loc:this.loc(o)};case C.STRING:case C.BLOCK_STRING:return this.parseStringLiteral();case C.NAME:switch(this._lexer.advance(),o.value){case"true":return{kind:D.BOOLEAN,value:!0,loc:this.loc(o)};case"false":return{kind:D.BOOLEAN,value:!1,loc:this.loc(o)};case"null":return{kind:D.NULL,loc:this.loc(o)};default:return{kind:D.ENUM,value:o.value,loc:this.loc(o)}}case C.DOLLAR:if(!n)return this.parseVariable()}throw this.unexpected()},r.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:D.STRING,value:n.value,block:n.kind===C.BLOCK_STRING,loc:this.loc(n)}},r.parseList=function(n){var o=this,a=this._lexer.token;return{kind:D.LIST,values:this.any(C.BRACKET_L,function(){return o.parseValueLiteral(n)},C.BRACKET_R),loc:this.loc(a)}},r.parseObject=function(n){var o=this,a=this._lexer.token;return{kind:D.OBJECT,fields:this.any(C.BRACE_L,function(){return o.parseObjectField(n)},C.BRACE_R),loc:this.loc(a)}},r.parseObjectField=function(n){var o=this._lexer.token,a=this.parseName();return this.expectToken(C.COLON),{kind:D.OBJECT_FIELD,name:a,value:this.parseValueLiteral(n),loc:this.loc(o)}},r.parseDirectives=function(n){for(var o=[];this.peek(C.AT);)o.push(this.parseDirective(n));return o},r.parseDirective=function(n){var o=this._lexer.token;return this.expectToken(C.AT),{kind:D.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(o)}},r.parseTypeReference=function(){var o,n=this._lexer.token;return this.expectOptionalToken(C.BRACKET_L)?(o=this.parseTypeReference(),this.expectToken(C.BRACKET_R),o={kind:D.LIST_TYPE,type:o,loc:this.loc(n)}):o=this.parseNamedType(),this.expectOptionalToken(C.BANG)?{kind:D.NON_NULL_TYPE,type:o,loc:this.loc(n)}:o},r.parseNamedType=function(){var n=this._lexer.token;return{kind:D.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},r.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===C.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},r.peekDescription=function(){return this.peek(C.STRING)||this.peek(C.BLOCK_STRING)},r.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},r.parseSchemaDefinition=function(){var n=this._lexer.token,o=this.parseDescription();this.expectKeyword("schema");var a=this.parseDirectives(!0),s=this.many(C.BRACE_L,this.parseOperationTypeDefinition,C.BRACE_R);return{kind:D.SCHEMA_DEFINITION,description:o,directives:a,operationTypes:s,loc:this.loc(n)}},r.parseOperationTypeDefinition=function(){var n=this._lexer.token,o=this.parseOperationType();this.expectToken(C.COLON);var a=this.parseNamedType();return{kind:D.OPERATION_TYPE_DEFINITION,operation:o,type:a,loc:this.loc(n)}},r.parseScalarTypeDefinition=function(){var n=this._lexer.token,o=this.parseDescription();this.expectKeyword("scalar");var a=this.parseName(),s=this.parseDirectives(!0);return{kind:D.SCALAR_TYPE_DEFINITION,description:o,name:a,directives:s,loc:this.loc(n)}},r.parseObjectTypeDefinition=function(){var n=this._lexer.token,o=this.parseDescription();this.expectKeyword("type");var a=this.parseName(),s=this.parseImplementsInterfaces(),c=this.parseDirectives(!0),p=this.parseFieldsDefinition();return{kind:D.OBJECT_TYPE_DEFINITION,description:o,name:a,interfaces:s,directives:c,fields:p,loc:this.loc(n)}},r.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(n=this._options)||void 0===n?void 0:n.allowLegacySDLImplementsInterfaces)){var o=[];this.expectOptionalToken(C.AMP);do{o.push(this.parseNamedType())}while(this.expectOptionalToken(C.AMP)||this.peek(C.NAME));return o}return this.delimitedMany(C.AMP,this.parseNamedType)},r.parseFieldsDefinition=function(){var n;return!0===(null===(n=this._options)||void 0===n?void 0:n.allowLegacySDLEmptyFields)&&this.peek(C.BRACE_L)&&this._lexer.lookahead().kind===C.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(C.BRACE_L,this.parseFieldDefinition,C.BRACE_R)},r.parseFieldDefinition=function(){var n=this._lexer.token,o=this.parseDescription(),a=this.parseName(),s=this.parseArgumentDefs();this.expectToken(C.COLON);var c=this.parseTypeReference(),p=this.parseDirectives(!0);return{kind:D.FIELD_DEFINITION,description:o,name:a,arguments:s,type:c,directives:p,loc:this.loc(n)}},r.parseArgumentDefs=function(){return this.optionalMany(C.PAREN_L,this.parseInputValueDef,C.PAREN_R)},r.parseInputValueDef=function(){var n=this._lexer.token,o=this.parseDescription(),a=this.parseName();this.expectToken(C.COLON);var c,s=this.parseTypeReference();this.expectOptionalToken(C.EQUALS)&&(c=this.parseValueLiteral(!0));var p=this.parseDirectives(!0);return{kind:D.INPUT_VALUE_DEFINITION,description:o,name:a,type:s,defaultValue:c,directives:p,loc:this.loc(n)}},r.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,o=this.parseDescription();this.expectKeyword("interface");var a=this.parseName(),s=this.parseImplementsInterfaces(),c=this.parseDirectives(!0),p=this.parseFieldsDefinition();return{kind:D.INTERFACE_TYPE_DEFINITION,description:o,name:a,interfaces:s,directives:c,fields:p,loc:this.loc(n)}},r.parseUnionTypeDefinition=function(){var n=this._lexer.token,o=this.parseDescription();this.expectKeyword("union");var a=this.parseName(),s=this.parseDirectives(!0),c=this.parseUnionMemberTypes();return{kind:D.UNION_TYPE_DEFINITION,description:o,name:a,directives:s,types:c,loc:this.loc(n)}},r.parseUnionMemberTypes=function(){return this.expectOptionalToken(C.EQUALS)?this.delimitedMany(C.PIPE,this.parseNamedType):[]},r.parseEnumTypeDefinition=function(){var n=this._lexer.token,o=this.parseDescription();this.expectKeyword("enum");var a=this.parseName(),s=this.parseDirectives(!0),c=this.parseEnumValuesDefinition();return{kind:D.ENUM_TYPE_DEFINITION,description:o,name:a,directives:s,values:c,loc:this.loc(n)}},r.parseEnumValuesDefinition=function(){return this.optionalMany(C.BRACE_L,this.parseEnumValueDefinition,C.BRACE_R)},r.parseEnumValueDefinition=function(){var n=this._lexer.token,o=this.parseDescription(),a=this.parseName(),s=this.parseDirectives(!0);return{kind:D.ENUM_VALUE_DEFINITION,description:o,name:a,directives:s,loc:this.loc(n)}},r.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,o=this.parseDescription();this.expectKeyword("input");var a=this.parseName(),s=this.parseDirectives(!0),c=this.parseInputFieldsDefinition();return{kind:D.INPUT_OBJECT_TYPE_DEFINITION,description:o,name:a,directives:s,fields:c,loc:this.loc(n)}},r.parseInputFieldsDefinition=function(){return this.optionalMany(C.BRACE_L,this.parseInputValueDef,C.BRACE_R)},r.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===C.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},r.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var o=this.parseDirectives(!0),a=this.optionalMany(C.BRACE_L,this.parseOperationTypeDefinition,C.BRACE_R);if(0===o.length&&0===a.length)throw this.unexpected();return{kind:D.SCHEMA_EXTENSION,directives:o,operationTypes:a,loc:this.loc(n)}},r.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var o=this.parseName(),a=this.parseDirectives(!0);if(0===a.length)throw this.unexpected();return{kind:D.SCALAR_TYPE_EXTENSION,name:o,directives:a,loc:this.loc(n)}},r.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var o=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),c=this.parseFieldsDefinition();if(0===a.length&&0===s.length&&0===c.length)throw this.unexpected();return{kind:D.OBJECT_TYPE_EXTENSION,name:o,interfaces:a,directives:s,fields:c,loc:this.loc(n)}},r.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var o=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),c=this.parseFieldsDefinition();if(0===a.length&&0===s.length&&0===c.length)throw this.unexpected();return{kind:D.INTERFACE_TYPE_EXTENSION,name:o,interfaces:a,directives:s,fields:c,loc:this.loc(n)}},r.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseUnionMemberTypes();if(0===a.length&&0===s.length)throw this.unexpected();return{kind:D.UNION_TYPE_EXTENSION,name:o,directives:a,types:s,loc:this.loc(n)}},r.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();if(0===a.length&&0===s.length)throw this.unexpected();return{kind:D.ENUM_TYPE_EXTENSION,name:o,directives:a,values:s,loc:this.loc(n)}},r.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();if(0===a.length&&0===s.length)throw this.unexpected();return{kind:D.INPUT_OBJECT_TYPE_EXTENSION,name:o,directives:a,fields:s,loc:this.loc(n)}},r.parseDirectiveDefinition=function(){var n=this._lexer.token,o=this.parseDescription();this.expectKeyword("directive"),this.expectToken(C.AT);var a=this.parseName(),s=this.parseArgumentDefs(),c=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var p=this.parseDirectiveLocations();return{kind:D.DIRECTIVE_DEFINITION,description:o,name:a,arguments:s,repeatable:c,locations:p,loc:this.loc(n)}},r.parseDirectiveLocations=function(){return this.delimitedMany(C.PIPE,this.parseDirectiveLocation)},r.parseDirectiveLocation=function(){var n=this._lexer.token,o=this.parseName();if(void 0!==Nu[o.value])return o;throw this.unexpected(n)},r.loc=function(n){var o;if(!0!==(null===(o=this._options)||void 0===o?void 0:o.noLocation))return new ro(n,this._lexer.lastToken,this._lexer.source)},r.peek=function(n){return this._lexer.token.kind===n},r.expectToken=function(n){var o=this._lexer.token;if(o.kind===n)return this._lexer.advance(),o;throw Ee(this._lexer.source,o.start,"Expected ".concat(wa(n),", found ").concat(nr(o),"."))},r.expectOptionalToken=function(n){var o=this._lexer.token;if(o.kind===n)return this._lexer.advance(),o},r.expectKeyword=function(n){var o=this._lexer.token;if(o.kind!==C.NAME||o.value!==n)throw Ee(this._lexer.source,o.start,'Expected "'.concat(n,'", found ').concat(nr(o),"."));this._lexer.advance()},r.expectOptionalKeyword=function(n){var o=this._lexer.token;return o.kind===C.NAME&&o.value===n&&(this._lexer.advance(),!0)},r.unexpected=function(n){var o=n??this._lexer.token;return Ee(this._lexer.source,o.start,"Unexpected ".concat(nr(o),"."))},r.any=function(n,o,a){this.expectToken(n);for(var s=[];!this.expectOptionalToken(a);)s.push(o.call(this));return s},r.optionalMany=function(n,o,a){if(this.expectOptionalToken(n)){var s=[];do{s.push(o.call(this))}while(!this.expectOptionalToken(a));return s}return[]},r.many=function(n,o,a){this.expectToken(n);var s=[];do{s.push(o.call(this))}while(!this.expectOptionalToken(a));return s},r.delimitedMany=function(n,o){this.expectOptionalToken(n);var a=[];do{a.push(o.call(this))}while(this.expectOptionalToken(n));return a},i}();function nr(i){var r=i.value;return wa(i.kind)+(null!=r?' "'.concat(r,'"'):"")}function wa(i){return function Vu(i){return i===C.BANG||i===C.DOLLAR||i===C.AMP||i===C.PAREN_L||i===C.PAREN_R||i===C.SPREAD||i===C.COLON||i===C.EQUALS||i===C.AT||i===C.BRACKET_L||i===C.BRACKET_R||i===C.BRACE_L||i===C.PIPE||i===C.BRACE_R}(i)?'"'.concat(i,'"'):i}var Li=new Map,rr=new Map,ba=!0,Ri=!1;function Ea(i){return i.replace(/[\s,]+/g," ").trim()}function Ku(i){var r=Ea(i);if(!Li.has(r)){var t=function Ju(i,r){return new ir(i,r).parseDocument()}(i,{experimentalFragmentVariables:Ri,allowLegacyFragmentVariables:Ri});if(!t||"Document"!==t.kind)throw new Error("Not a valid GraphQL document.");Li.set(r,function zu(i){var r=new Set(i.definitions);r.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(o){var a=n[o];a&&"object"==typeof a&&r.add(a)})});var t=i.loc;return t&&(delete t.startToken,delete t.endToken),i}(function Yu(i){var r=new Set,t=[];return i.definitions.forEach(function(n){if("FragmentDefinition"===n.kind){var o=n.name.value,a=function ju(i){return Ea(i.source.body.substring(i.start,i.end))}(n.loc),s=rr.get(o);s&&!s.has(a)?ba&&console.warn("Warning: fragment with name "+o+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):s||rr.set(o,s=new Set),s.add(a),r.has(a)||(r.add(a),t.push(n))}else t.push(n)}),(0,v.pi)((0,v.pi)({},i),{definitions:t})}(t)))}return Li.get(r)}function yt(i){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"string"==typeof i&&(i=[i]);var n=i[0];return r.forEach(function(o,a){n+=o&&"Document"===o.kind?o.loc.source.body:o,n+=i[a+1]}),Ku(n)}var Qt_gql=yt,Qt_resetCaches=function Xu(){Li.clear(),rr.clear()},Qt_disableFragmentWarnings=function ep(){ba=!1},Qt_enableExperimentalFragmentVariables=function tp(){Ri=!0},Qt_disableExperimentalFragmentVariables=function ip(){Ri=!1};(function(i){i.gql=Qt_gql,i.resetCaches=Qt_resetCaches,i.disableFragmentWarnings=Qt_disableFragmentWarnings,i.enableExperimentalFragmentVariables=Qt_enableExperimentalFragmentVariables,i.disableExperimentalFragmentVariables=Qt_disableExperimentalFragmentVariables})(yt||(yt={})),yt.default=yt;var Ct=w(69751),np=w(84408),op=w(97565);const lp=new class ap extends op.v{}(class rp extends np.o{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}schedule(r,t=0){return t>0?super.schedule(r,t):(this.delay=t,this.state=r,this.scheduler.flush(this),this)}execute(r,t){return t>0||this.closed?super.execute(r,t):this._execute(r,t)}requestAsyncId(r,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(r,t,n):(r.flush(this),0)}});var sp=w(48822),Fa=w(50457),U=w(54004),cp=w(68675),up=w(85363);function Ia(i){return new Ct.y(r=>(i().then(t=>{r.closed||(r.next(t),r.complete())},t=>{r.closed||r.error(t)}),()=>r.unsubscribe()))}class _p{constructor(r){this.zone=r,this.now=Date.now?Date.now:()=>+new Date}schedule(r,t=0,n){return this.zone.run(()=>lp.schedule(r,t,n))}}function xa(i){return i[sp.L]=()=>i,i}function Za(i,r){return i.pipe((0,up.Q)(new _p(r)))}function Aa(i,r,t){return i&&typeof i[r]<"u"?i[r]:t}class dp{constructor(r,t,n){this.obsQuery=r;const o=Za((0,Fa.D)(xa(this.obsQuery)),t);this.valueChanges=n.useInitialLoading?o.pipe(function fp(i){return function(t){return new Ct.y(function(o){const a=i.getCurrentResult(),{loading:s,errors:c,error:p,partial:u,data:f}=a,{partialRefetch:d,fetchPolicy:h}=i.options,g=c||p;return d&&u&&(!f||0===Object.keys(f).length)&&"cache-only"!==h&&!s&&!g&&o.next({...a,loading:!0,networkStatus:$.loading}),t.subscribe(o)})}}(this.obsQuery)):o,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(r){return this.obsQuery.refetch(r)}fetchMore(r){return this.obsQuery.fetchMore(r)}subscribeToMore(r){return this.obsQuery.subscribeToMore(r)}updateQuery(r){return this.obsQuery.updateQuery(r)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(r){return this.obsQuery.startPolling(r)}setOptions(r){return this.obsQuery.setOptions(r)}setVariables(r){return this.obsQuery.setVariables(r)}}const hp=new e.OlP("APOLLO_FLAGS"),Oa=new e.OlP("APOLLO_OPTIONS"),mp=new e.OlP("APOLLO_NAMED_OPTIONS");class La{constructor(r,t,n){this.ngZone=r,this.flags=t,this._client=n,this.useInitialLoading=Aa(t,"useInitialLoading",!1),this.useMutationLoading=Aa(t,"useMutationLoading",!1)}watchQuery(r){return new dp(this.ensureClient().watchQuery({...r}),this.ngZone,{useInitialLoading:this.useInitialLoading,...r})}query(r){return Ia(()=>this.ensureClient().query({...r}))}mutate(r){return function pp(i,r){return r?i.pipe((0,cp.O)({loading:!0}),(0,U.U)(t=>({...t,loading:!!t.loading}))):i.pipe((0,U.U)(t=>({...t,loading:!1})))}(Ia(()=>this.ensureClient().mutate({...r})),r.useMutationLoading??this.useMutationLoading)}subscribe(r,t){const n=(0,Fa.D)(xa(this.ensureClient().subscribe({...r})));return t&&!0!==t.useZone?n:Za(n,this.ngZone)}getClient(){return this.client}setClient(r){this.client=r}get client(){return this._client}set client(r){if(this._client)throw new Error("Client has been already defined");this._client=r}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let Ra=(()=>{class i extends La{constructor(t,n,o,a){if(super(t,a),this._ngZone=t,this.map=new Map,n&&this.createDefault(n),o&&"object"==typeof o)for(let s in o)o.hasOwnProperty(s)&&this.create(o[s],s)}create(t,n){or(n)?this.createDefault(t):this.createNamed(n,t)}default(){return this}use(t){return or(t)?this.default():this.map.get(t)}createDefault(t){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new ha(t))}createNamed(t,n){if(this.map.has(t))throw new Error(`Client ${t} has been already created`);this.map.set(t,new La(this._ngZone,this.flags,new ha(n)))}removeClient(t){or(t)?this._client=void 0:this.map.delete(t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.R0b),e.LFG(Oa,8),e.LFG(mp,8),e.LFG(hp,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function or(i){return!i||"default"===i}const vp=function gp(i,...r){return yt(i,...r)};class Tp extends gt{constructor(r,t){super(),this.httpClient=r,this.options=t,this.print=ea,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=n=>new J(o=>{const a=n.getContext(),s=(x,E)=>function at(...i){const r=i.find(t=>typeof t<"u");return typeof r>"u"?i[i.length-1]:r}(a[x],this.options[x],E);let c=s("method","POST");const p=s("includeQuery",!0),u=s("includeExtensions",!1),f=s("uri","graphql"),d=s("withCredentials"),h=s("useMultipart"),g=!0===this.options.useGETForQueries,S=n.query.definitions.some(x=>"OperationDefinition"===x.kind&&"query"===x.operation);g&&S&&(c="GET");const y={method:c,url:"function"==typeof f?f(n):f,body:{operationName:n.operationName,variables:n.variables},options:{withCredentials:d,useMultipart:h,headers:this.options.headers}};u&&(y.body.extensions=n.extensions),p&&(y.body.query=this.print(n.query));const b=function Na(i){let r=i.headers&&i.headers instanceof V.WM?i.headers:new V.WM(i.headers);if(i.clientAwareness){const{name:t,version:n}=i.clientAwareness;t&&!r.has("apollographql-client-name")&&(r=r.set("apollographql-client-name",t)),n&&!r.has("apollographql-client-version")&&(r=r.set("apollographql-client-version",n))}return r}(a);y.options.headers=((i,r)=>i&&r?r.keys().reduce((n,o)=>n.set(o,r.getAll(o)),i):r||i)(y.options.headers,b);const F=((i,r,t)=>{const n=-1!==["POST","PUT","PATCH"].indexOf(i.method.toUpperCase()),a=i.body.length;let c,s=i.options&&i.options.useMultipart;if(s){if(a)return new Ct.y(u=>u.error(new Error("File upload is not available when combined with Batching")));if(!n)return new Ct.y(u=>u.error(new Error("File upload is not available when GET is used")));if(!t)return new Ct.y(u=>u.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));c=t(i.body),s=!!c.files.size}let p={};if(a){if(!n)return new Ct.y(u=>u.error(new Error("Batching is not available for GET requests")));p={body:i.body}}else p=n?{body:s?c.clone:i.body}:{params:Object.keys(i.body).reduce((d,h)=>{const g=i.body[h];return d[h]=-1!==["variables","extensions"].indexOf(h.toLowerCase())?JSON.stringify(g):g,d},{})};if(s&&n){const u=new FormData;u.append("operations",JSON.stringify(p.body));const f={},d=c.files;let h=0;d.forEach(g=>{f[++h]=g}),u.append("map",JSON.stringify(f)),h=0,d.forEach((g,S)=>{u.append(++h+"",S,S.name)}),p.body=u}return r.request(i.method,i.url,{observe:"response",responseType:"json",reportProgress:!1,...p,...i.options})})(y,this.httpClient,this.options.extractFiles).subscribe({next:x=>{n.setContext({response:x}),o.next(x.body)},error:x=>o.error(x),complete:()=>o.complete()});return()=>{F.closed||F.unsubscribe()}})}request(r){return this.requester(r)}}let Sp=(()=>{class i{constructor(t){this.httpClient=t}create(t){return new Tp(this.httpClient,t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(V.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var _=w(53525),yp=w(18680),Ne=w.n(yp),Cp=w(22274),Ge=w.n(Cp);let wp=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),bp=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez]})),i})(),Ep=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[wp],imports:[m.ez,_.LRI,_.Az_,_.F__,bp,_.Ld5,_.LRI]})),i})(),Fp=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez,_.Ld5,_.LRI,_.S6I]})),i})(),Ip=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez,_.Ld5,_.LRI,_.S6I]})),i})(),Ga=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),xp=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez,_.ZuS]})),i})(),Zp=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[Ga],imports:[m.ez,_.F__,_.ILf,_.Az_,xp,_.S6I,_.Ld5,_.LRI]})),i})();var T=w(49671),Ap=w(8817),$t=w.n(Ap),Op=w(71973),P=w.n(Op),q=w(77579),pe=w(91005);const Lp=[{color:"regular-azure",status:"Critical"},{color:"regular-black",status:"Warning"},{color:"regular-blue",status:"Up"},{color:"regular-yellow",status:"Critical"},{color:"regular-yellow",status:"Warning"},{color:"regular-black",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Critical"}],Rp=[{id:"color",title:"Color",expanded:!0,allFilterOptions:[{value:"azure",displayValue:"Azure",count:3},{value:"black",displayValue:"Black",count:2},{value:"blue",displayValue:"Blue",count:3},{value:"yellow",displayValue:"Yellow",count:2}],selectedFilterValues:[]},{id:"status",title:"Status",allFilterOptions:[{value:"warning",displayValue:"Warning",count:2},{value:"critical",displayValue:"Critical",count:2},{value:"up",displayValue:"Up",count:5}],selectedFilterValues:[]},{id:"vendor",title:"Vendors",allFilterOptions:[],selectedFilterValues:[]}];let ar=(()=>{class i{constructor(){(0,l.Z)(this,"receiveFilteredDataSubject",new q.x),(0,l.Z)(this,"getFilteredDataSubject",new q.x)}getData(t){var n=this;return(0,T.Z)(function*(){return n.getFilteredDataSubject.next(t),new Promise(o=>{n.receiveFilteredDataSubject.subscribe(a=>{o(a)})})})()}receiveFilteredData(t){this.receiveFilteredDataSubject.next(t)}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),Dp=(()=>{class i{constructor(t,n){var o=this;(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"httpService",void 0),(0,l.Z)(this,"filterGroupItems",Rp),(0,l.Z)(this,"filteringState",{repeat:{itemsSource:[]},color:[],status:[]}),(0,l.Z)(this,"filterGroupSubscriptions",[]),(0,l.Z)(this,"filteringRepeat",void 0),this.dataSourceService=t,this.httpService=n,this.dataSourceService.setData(Lp),this.filterGroupSubscriptions.push(this.dataSourceService.outputsSubject.subscribe(a=>{this.filteringState=a,this.recalculateCounts(a)})),this.filterGroupSubscriptions.push(this.httpService.getFilteredDataSubject.pipe((0,pe.g)(500)).subscribe(function(){var a=(0,T.Z)(function*(s){o.filteringState=yield o.dataSourceService.getFilteredData(s),o.recalculateCounts(o.filteringState),o.sendFilteredData()});return function(s){return a.apply(this,arguments)}}()))}sendFilteredData(){this.httpService.receiveFilteredData({filterGroupItems:this.filterGroupItems,filteringState:this.filteringState})}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{const a=t[n.id];P()(a)||(o.count=a[o.value])})})}hasItems(){return!P()($t()(this,"filteringState.repeat.itemsSource"))}ngOnDestroy(){this.filterGroupSubscriptions.forEach(t=>t.unsubscribe())}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(ar))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-fake-filtering-datasource-backend-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.$N6,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filteringRepeat=o.first)}},features:[e._Bn([{provide:_.LvN,useClass:_.PKN}])],decls:0,vars:0,template:function(t,n){},encapsulation:2})),i})();var Mi=w(91322),Ni=w(14713),Fe=w(89658),ge=w(97604),Mp=w(9120),ve=w.n(Mp),Te=w(56573),Se=w(36822),_e=w(40333);function Np(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function Gp(i,r){1&i&&e.GkF(0)}function Vp(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function kp(i,r){1&i&&e.GkF(0)}const Up=function(i){return{checkbox:i}};function Pp(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,Vp,5,2,"ng-template",null,11,e.W1O),e.YNc(3,kp,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,Up,t))}}function qp(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const Wp=function(i){return{expander:i}};function Bp(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,Np,2,1,"ng-template",null,4,e.W1O),e.YNc(5,Gp,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,Pp,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,qp,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,Wp,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let Va=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(t){return t.map(n=>n.value)}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-basic-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,Bp,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();function Qp(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function $p(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const Hp=["*"];let Jp=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-basic-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,Va,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:Hp,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,Qp,4,5,"div",1),e.qZA(),e.YNc(3,$p,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,m.Gx],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background-color:var(--nui-color-bg-accordion_header,rgba(17, 17, 17, .06));height:30px;padding-left:10px;color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6));line-height:14px;font-size:11px}"]})),i})();var Gi=w(65238);function jp(i,r){1&i&&(e.TgZ(0,"div",5),e._UZ(1,"nui-image",6),e.TgZ(2,"p",7),e._uU(3,"No data to show"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("isWatermark",!0))}function Yp(i,r){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA(),e.TgZ(2,"div"),e._uU(3),e.qZA()),2&i){const t=r.item;e.xp6(1),e.Oqu(t.color),e.xp6(2),e.Oqu(t.status)}}function zp(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-basic-filter-group",8),e.NdJ("filterChanged",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.changeFilters(o))}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function Kp(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-repeat",9),e.qZA()),2&i){const t=e.oxw(),n=e.MAs(3);e.xp6(1),e.Q6J("itemsSource",t.filteringState.repeat.itemsSource)("repeatItemTemplateRef",n)}}const Xp=[{color:"regular-azure",status:"Critical"},{color:"regular-black",status:"Warning"},{color:"regular-blue",status:"Up"},{color:"regular-yellow",status:"Critical"},{color:"regular-yellow",status:"Warning"},{color:"regular-black",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Critical"}];let e_=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"color",title:"Color",expanded:!0,allFilterOptions:[{value:"azure",displayValue:"Azure FilterGroup Basic Example",count:3},{value:"black",displayValue:"Black",count:2},{value:"blue",displayValue:"Blue FilterGroup Basic Example",count:3},{value:"yellow",displayValue:"Yellow",count:2}],selectedFilterValues:[]},{id:"status",title:"Status",allFilterOptions:[{value:"warning",displayValue:"Warning",count:2},{value:"critical",displayValue:"Critical",count:2},{value:"up",displayValue:"Up",count:5}],selectedFilterValues:[]},{id:"vendor",title:"Vendors",allFilterOptions:[],selectedFilterValues:[]}]),(0,l.Z)(this,"filteringState",{repeat:{itemsSource:[]},color:[],status:[]}),(0,l.Z)(this,"outputsSubscription",void 0),this.dataSourceService=t,this.dataSourceService.setData(Xp)}ngAfterViewInit(){this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(t=>{this.filteringState=t,this.recalculateCounts(t)}),this.dataSourceService.applyFilters()}changeFilters(t){this.dataSourceService.applyFilters()}hasItems(){return!P()($t()(this,"filteringState.repeat.itemsSource"))}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]})})}ngOnDestroy(){this.outputsSubscription&&this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-basic-filter-group-composite-example"]],features:[e._Bn([{provide:_.LvN,useClass:_.PKN}])],decls:10,vars:3,consts:[["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterGroupItem","filterChanged"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(t,n){if(1&t&&(e.YNc(0,jp,4,1,"ng-template",null,0,e.W1O),e.YNc(2,Yp,4,2,"ng-template",null,1,e.W1O),e.TgZ(4,"nui-panel")(5,"div",2)(6,"app-basic-filter-groups-wrapper"),e.YNc(7,zp,1,1,"app-basic-filter-group",3),e.qZA()(),e.TgZ(8,"div"),e.YNc(9,Kp,2,2,"div",4),e.qZA()()),2&t){const o=e.MAs(1);e.xp6(7),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(2),e.Q6J("ngIf",n.hasItems())("ngIfElse",o)}},dependencies:[m.sg,m.O5,Fe.$,ge.y,Jp,Va,Gi.c],encapsulation:2})),i})();function t_(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function i_(i,r){1&i&&e.GkF(0)}function n_(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function r_(i,r){1&i&&e.GkF(0)}const o_=function(i){return{checkbox:i}};function a_(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,n_,5,2,"ng-template",null,11,e.W1O),e.YNc(3,r_,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,o_,t))}}function l_(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const s_=function(i){return{expander:i}};function c_(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,t_,2,1,"ng-template",null,4,e.W1O),e.YNc(5,i_,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,a_,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,l_,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,s_,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let lr=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(t){return t.map(n=>n.value)}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-custom-data-source-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,c_,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,_e.F,Te.b,Se.A,m.OU],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})(),u_=(()=>{class i extends _.LvN{constructor(t){super(),(0,l.Z)(this,"httpService",void 0),this.httpService=t}getFilteredData(t){var n=this;return(0,T.Z)(function*(){return yield n.httpService.getData(t)})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(ar))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();var j=w(10163);function p_(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function __(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const f_=["*"];let d_=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-custom-data-source-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,lr,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:f_,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,p_,4,5,"div",1),e.qZA(),e.YNc(3,__,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,j.U,m.Gx],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();function h_(i,r){1&i&&(e.TgZ(0,"div",5),e._UZ(1,"nui-image",6),e.TgZ(2,"p",7),e._uU(3,"No data to show"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("isWatermark",!0))}function m_(i,r){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA(),e.TgZ(2,"div"),e._uU(3),e.qZA()),2&i){const t=r.item;e.xp6(1),e.Oqu(t.color),e.xp6(2),e.Oqu(t.status)}}function g_(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-custom-data-source-filter-group",8),e.NdJ("filterChanged",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.changeFilters(o))}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function v_(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-repeat",9),e.qZA()),2&i){const t=e.oxw(),n=e.MAs(3);e.xp6(1),e.Q6J("itemsSource",t.filteringState.repeat.itemsSource)("repeatItemTemplateRef",n)}}let T_=(()=>{class i{constructor(t){(0,l.Z)(this,"filterGroupCustomDataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"filterGroupItems",[]),(0,l.Z)(this,"filteringState",{repeat:{itemsSource:[]},color:[],status:[]}),(0,l.Z)(this,"filterGroupSubscriptions",[]),this.filterGroupCustomDataSourceService=t}ngAfterViewInit(){this.filterGroupSubscriptions.push(this.filterGroupCustomDataSourceService.outputsSubject.subscribe(t=>{this.filterGroupItems=t.filterGroupItems,this.filteringState=t.filteringState})),this.filterGroupSubscriptions.push(this.filterGroups.changes.subscribe(()=>{this.filterGroupCustomDataSourceService.registerComponent(this.getFilterComponents())})),this.filterGroupCustomDataSourceService.applyFilters()}changeFilters(t){this.filterGroupCustomDataSourceService.applyFilters()}hasItems(){return!P()($t()(this,"filteringState.repeat.itemsSource"))}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}ngOnDestroy(){this.filterGroupSubscriptions.forEach(t=>t.unsubscribe())}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-custom-data-source-filter-group-composite-example"]],viewQuery:function(t,n){if(1&t&&e.Gf(lr,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([{provide:_.LvN,useClass:u_}])],decls:10,vars:3,consts:[["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterGroupItem","filterChanged"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(t,n){if(1&t&&(e.YNc(0,h_,4,1,"ng-template",null,0,e.W1O),e.YNc(2,m_,4,2,"ng-template",null,1,e.W1O),e.TgZ(4,"nui-panel")(5,"div",2)(6,"app-custom-data-source-filter-groups-wrapper"),e.YNc(7,g_,1,1,"app-custom-data-source-filter-group",3),e.qZA()(),e.TgZ(8,"div"),e.YNc(9,v_,2,2,"div",4),e.qZA()()),2&t){const o=e.MAs(1);e.xp6(7),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(2),e.Q6J("ngIf",n.hasItems())("ngIfElse",o)}},dependencies:[m.sg,m.O5,Fe.$,ge.y,d_,lr,Gi.c],encapsulation:2})),i})();var sr=w(52817);function S_(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function y_(i,r){1&i&&e.GkF(0)}function C_(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function w_(i,r){1&i&&e.GkF(0)}const b_=function(i){return{checkbox:i}};function E_(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,C_,5,2,"ng-template",null,11,e.W1O),e.YNc(3,w_,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,b_,t))}}function F_(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const I_=function(i){return{expander:i}};function x_(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,S_,2,1,"ng-template",null,4,e.W1O),e.YNc(5,y_,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,E_,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,F_,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,I_,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let ka=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(t){return t.map(n=>n.value)}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-custom-template-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,x_,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,_e.F,Te.b,Se.A,m.OU],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();function Z_(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function A_(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const O_=["*"];let L_=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-custom-template-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,ka,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:O_,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,Z_,4,5,"div",1),e.qZA(),e.YNc(3,A_,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,j.U,m.Gx],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();function R_(i,r){if(1&i&&(e.TgZ(0,"div",7),e._UZ(1,"nui-icon",8),e.TgZ(2,"span",9),e._uU(3),e.qZA()()),2&i){const t=r.checkbox;e.xp6(1),e.Q6J("icon",t.icon),e.xp6(2),e.Oqu(t.displayValue)}}function D_(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw().expander;e.xp6(1),e.Oqu(t.count)}}function M_(i,r){if(1&i&&(e.TgZ(0,"div",7)(1,"span",9)(2,"b"),e._uU(3),e.qZA()(),e.YNc(4,D_,2,1,"span",10),e.qZA()),2&i){const t=r.expander;e.xp6(3),e.Oqu(t.title),e.xp6(1),e.Q6J("ngIf",!t.expanded)}}function N_(i,r){1&i&&(e.TgZ(0,"div",11),e._UZ(1,"nui-image",12),e.TgZ(2,"p",13),e._uU(3,"No data to show"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("isWatermark",!0))}function G_(i,r){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA(),e.TgZ(2,"div"),e._uU(3),e.qZA()),2&i){const t=r.item;e.xp6(1),e.Oqu(t.color),e.xp6(2),e.Oqu(t.status)}}function V_(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-custom-template-filter-group",14),e.NdJ("filterChanged",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.changeFilters(o))}),e.qZA()}if(2&i){const t=r.$implicit;e.oxw();const n=e.MAs(1),o=e.MAs(3);e.Q6J("filterGroupItem",t)("checkboxTemplateRef",n)("expanderTemplateRef",o)}}function k_(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-repeat",15),e.qZA()),2&i){const t=e.oxw(),n=e.MAs(7);e.xp6(1),e.Q6J("itemsSource",t.filteringState.repeat.itemsSource)("repeatItemTemplateRef",n)}}const U_=[{color:"regular-azure",status:"Critical"},{color:"regular-black",status:"Warning"},{color:"regular-blue",status:"Up"},{color:"regular-yellow",status:"Critical"},{color:"regular-yellow",status:"Warning"},{color:"regular-black",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Up"},{color:"regular-blue",status:"Up"},{color:"regular-azure",status:"Critical"}];let P_=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"color",title:"Color",count:4,allFilterOptions:[{icon:"copy",value:"azure",displayValue:"Azure"},{icon:"clock",value:"black",displayValue:"Black"},{icon:"status_up",value:"blue",displayValue:"Blue"},{icon:"signal-0",value:"yellow",displayValue:"Yellow"}],selectedFilterValues:["azure"]},{id:"status",title:"Status",count:3,allFilterOptions:[{icon:"status_warning",value:"warning",displayValue:"Warning"},{icon:"status_critical",value:"critical",displayValue:"Critical"},{icon:"status_up",value:"up",displayValue:"Up"}],selectedFilterValues:["critical"]}]),(0,l.Z)(this,"filteringState",{repeat:{itemsSource:[]},color:[],status:[]}),(0,l.Z)(this,"outputsSubscription",void 0),this.dataSourceService=t,this.dataSourceService.setData(U_)}ngAfterViewInit(){this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(t=>{this.filteringState=t,this.recalculateCounts(t)}),this.dataSourceService.applyFilters()}changeFilters(t){this.dataSourceService.applyFilters()}hasItems(){return!P()($t()(this,"filteringState.repeat.itemsSource"))}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]})})}ngOnDestroy(){this.outputsSubscription&&this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-custom-template-filter-group-composite-example"]],features:[e._Bn([{provide:_.LvN,useClass:_.PKN}])],decls:14,vars:3,consts:[["customCheckboxTemplate",""],["customExpanderTemplate",""],["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","checkboxTemplateRef","expanderTemplateRef","filterChanged",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","align-items-center"],[1,"mr-2",3,"icon"],[1,"mr-2"],["class","mr-2",4,"ngIf"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterGroupItem","checkboxTemplateRef","expanderTemplateRef","filterChanged"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(t,n){if(1&t&&(e.YNc(0,R_,4,2,"ng-template",null,0,e.W1O),e.YNc(2,M_,5,2,"ng-template",null,1,e.W1O),e.YNc(4,N_,4,1,"ng-template",null,2,e.W1O),e.YNc(6,G_,4,2,"ng-template",null,3,e.W1O),e.TgZ(8,"nui-panel")(9,"div",4)(10,"app-custom-template-filter-groups-wrapper"),e.YNc(11,V_,1,3,"app-custom-template-filter-group",5),e.qZA()(),e.TgZ(12,"div"),e.YNc(13,k_,2,2,"div",6),e.qZA()()),2&t){const o=e.MAs(5);e.xp6(11),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(2),e.Q6J("ngIf",n.hasItems())("ngIfElse",o)}},dependencies:[m.sg,m.O5,Fe.$,ge.y,sr.o,L_,ka,Gi.c],encapsulation:2})),i})();var q_=w(72434),W_=w(61997),Vi=w(95659);function B_(i,r){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=r.item;e.xp6(1),e.Oqu(t.displayValue)}}let Q_=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"itemPickerOptions",void 0),(0,l.Z)(this,"selectedValues",[]),(0,l.Z)(this,"selectionChanged",new e.vpe),(0,l.Z)(this,"selectionMode",_.dEu.multi),(0,l.Z)(this,"selectedOptions",[]),this.dataSource=t}ngOnInit(){this.dataSource.setData(this.itemPickerOptions),this.selectedOptions=this.getSelectedOptions()}onSelection(t){this.selectedOptions=t,this.selectionChanged.emit(t)}getSelectedOptions(){return this.itemPickerOptions.filter(t=>-1!==this.selectedValues.indexOf(t.value))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-item-picker-composite"]],inputs:{itemPickerOptions:"itemPickerOptions",selectedValues:"selectedValues"},outputs:{selectionChanged:"selectionChanged"},features:[e._Bn([{provide:_.LvN,useClass:_.PKN}])],decls:6,vars:4,consts:[[1,"app-item-picker-composite"],["listRepeatDefaultItemTemplate",""],[1,"d-flex","flex-row"],[1,"app-list-repeat",3,"selectionMode","repeatItemTemplateRef","selection","itemsSource","selectionChange"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,B_,2,1,"ng-template",null,1,e.W1O),e.TgZ(3,"div")(4,"div",2)(5,"nui-repeat",3),e.NdJ("selectionChange",function(a){return n.onSelection(a)}),e.qZA()()()()),2&t){const o=e.MAs(2);e.xp6(5),e.Q6J("selectionMode",n.selectionMode)("repeatItemTemplateRef",o)("selection",n.selectedOptions)("itemsSource",n.itemPickerOptions)}},dependencies:[Fe.$],styles:["[_nghost-%COMP%]   .app-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}"],changeDetection:0})),i})(),$_=(()=>{class i{constructor(t,n){(0,l.Z)(this,"activeDialog",void 0),(0,l.Z)(this,"selectorService",void 0),(0,l.Z)(this,"title",void 0),(0,l.Z)(this,"itemPickerOptions",[]),(0,l.Z)(this,"selectedValues",[]),(0,l.Z)(this,"dialogClosed",new e.vpe),this.activeDialog=t,this.selectorService=n}acceptDialogFilters(){this.dialogClosed.emit(this.selectedValues),this.closeDialog()}closeDialog(){this.activeDialog.close()}onSelectionChanged(t){this.selectedValues=t.map(n=>n.value)}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.KsH),e.Y36(_.vqL))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-filter-group-composite-dialog"]],inputs:{title:"title",itemPickerOptions:"itemPickerOptions",selectedValues:"selectedValues"},outputs:{dialogClosed:"dialogClosed"},decls:9,vars:3,consts:function(){let r,t;return r=$localize`:bf844a41a29961b6dacc48a20eaf97bef0cf50137452095619502551190: Cancel `,t=$localize`:bb1b2fab23cc121dc5106c9c66251990755316163962319811711940221: Save `,[[1,"nui-filter-group-composite-dialog"],[3,"title","closed"],[1,"nui-filter-group-composite-dialog__body"],[3,"itemPickerOptions","selectedValues","selectionChanged"],["nui-button","","type","button",3,"click"],r,["nui-button","","type","button","displayStyle","primary",3,"click"],t]},template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-dialog-header",1),e.NdJ("closed",function(){return n.closeDialog()}),e.qZA(),e.TgZ(2,"div",2)(3,"app-item-picker-composite",3),e.NdJ("selectionChanged",function(a){return n.onSelectionChanged(a)}),e.qZA()(),e.TgZ(4,"nui-dialog-footer")(5,"button",4),e.NdJ("click",function(){return n.closeDialog()}),e.SDv(6,5),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return n.acceptDialogFilters()}),e.SDv(8,7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("title",n.title),e.xp6(2),e.Q6J("itemPickerOptions",n.itemPickerOptions)("selectedValues",n.selectedValues))},dependencies:[q_.A,W_.g,Vi.r,Q_],styles:[".nui-filter-group-composite-dialog__body[_ngcontent-%COMP%]{margin:10px 0}"]})),i})();function H_(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function J_(i,r){1&i&&e.GkF(0)}function j_(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function Y_(i,r){1&i&&e.GkF(0)}const z_=function(i){return{checkbox:i}};function K_(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,j_,5,2,"ng-template",null,11,e.W1O),e.YNc(3,Y_,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,z_,t))}}function X_(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const ef=function(i){return{expander:i}};function tf(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,H_,2,1,"ng-template",null,4,e.W1O),e.YNc(5,J_,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,K_,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,X_,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,ef,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let Ua=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}getAllFilterOptionsList(t){return t.map(n=>n.value)}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-dialog-filter-group"]],inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","nui-filter-group-composite",4,"ngIf"],[1,"nui-filter-group-composite"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","nui-filter-group-composite__show-more-link",3,"click",4,"ngIf"],[1,"nui-filter-group-composite__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","nui-filter-group-composite__checkbox"],[1,"d-inline-block","nui-filter-group-composite__checkbox-value"],[1,"d-inline-block","nui-filter-group-composite__checkbox-count"],[1,"nui-filter-group-composite__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,tf,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,_e.F,Te.b,Se.A,m.OU],styles:[".nui-filter-group-composite__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.nui-filter-group-composite__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.nui-filter-group-composite__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nui-filter-group-composite__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();function nf(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function rf(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const of=["*"];let af=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-dialog-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,Ua,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:of,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"nui-filter-groups-wrapper"],["class","nui-filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"nui-filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"nui-filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"nui-filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,nf,4,5,"div",1),e.qZA(),e.YNc(3,rf,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,j.U,m.Gx],styles:[".nui-filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.nui-filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();function lf(i,r){1&i&&(e.TgZ(0,"div",5),e._UZ(1,"nui-image",6),e.TgZ(2,"p",7),e._uU(3,"No data to show"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("isWatermark",!0))}function sf(i,r){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA(),e.TgZ(2,"div"),e._uU(3),e.qZA()),2&i){const t=r.item;e.xp6(1),e.Oqu(t.color),e.xp6(2),e.Oqu(t.status)}}function cf(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-dialog-filter-group",8),e.NdJ("filterChanged",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.changeFilters(o))})("showAllButtonClicked",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleFilterDialog(a))}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function uf(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-repeat",9),e.qZA()),2&i){const t=e.oxw(),n=e.MAs(3);e.xp6(1),e.Q6J("itemsSource",t.filteringState.repeat.itemsSource)("repeatItemTemplateRef",n)}}const pf=[{color:"yellow",name:"banana"},{color:"orange",name:"orange"},{color:"violet",name:"plum"},{color:"blue",name:"blueberry"},{color:"brown",name:"potato"},{color:"red",name:"apple"},{color:"green",name:"pear"},{color:"black",name:"blackcurrant"},{color:"white",name:"coconut"},{color:"magenta",name:"mulberry"},{color:"apricot",name:"peach"},{color:"olive",name:"olive"},{color:"carmine",name:"grapefruit"},{color:"coral",name:"pomegranate"},{color:"corn",name:"corn"}];let _f=(()=>{class i{constructor(t,n,o){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"filterGroupService",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"color",title:"Color",expanded:!0,allFilterOptions:[{value:"yellow",displayValue:"Yellow",count:1},{value:"orange",displayValue:"Orange",count:1},{value:"violet",displayValue:"Violet",count:1},{value:"blue",displayValue:"Blue",count:1},{value:"brown",displayValue:"Brown",count:1},{value:"red",displayValue:"Red",count:1},{value:"green",displayValue:"Green",count:1},{value:"black",displayValue:"Black",count:1},{value:"white",displayValue:"White",count:1},{value:"magenta",displayValue:"Magenta",count:1},{value:"apricot",displayValue:"Apricot",count:1},{value:"olive",displayValue:"Olive",count:1},{value:"carmine",displayValue:"Carmine",count:1},{value:"coral",displayValue:"Coral",count:1},{value:"corn",displayValue:"Corn",count:1}],selectedFilterValues:[],itemsToDisplay:10},{id:"name",title:"Fruits and Vegetables",expanded:!1,allFilterOptions:[{value:"banana",displayValue:"Banana",count:1},{value:"orange",displayValue:"Orange",count:1},{value:"plum",displayValue:"Plum",count:1},{value:"blueberry",displayValue:"Blueberry",count:1},{value:"potato",displayValue:"Potato",count:1},{value:"apple",displayValue:"Apple",count:1},{value:"pear",displayValue:"Pear",count:1},{value:"blackcurrant",displayValue:"Blackcurrant",count:1},{value:"coconut",displayValue:"Coconut",count:1},{value:"mulberry",displayValue:"Mulberry",count:1},{value:"peach",displayValue:"Peach",count:1},{value:"olive",displayValue:"Olive",count:1},{value:"grapefruit",displayValue:"Grapefruit",count:1},{value:"pomegranate",displayValue:"Pomegranate",count:1},{value:"corn",displayValue:"Corn",count:1}],selectedFilterValues:[],itemsToDisplay:10}]),(0,l.Z)(this,"filteringState",{repeat:{itemsSource:[]},color:[],name:[]}),(0,l.Z)(this,"outputsSubscription",void 0),(0,l.Z)(this,"dialogSubscription",void 0),this.dataSourceService=t,this.dialogService=n,this.filterGroupService=o,this.dataSourceService.setData(pf)}ngAfterViewInit(){this.outputsSubscription=this.dataSourceService.outputsSubject.subscribe(t=>{this.filteringState=t,this.recalculateCounts(t)}),this.dataSourceService.applyFilters()}changeFilters(t){this.dataSourceService.applyFilters()}hasItems(){return!P()($t()(this,"filteringState.repeat.itemsSource"))}handleFilterDialog(t){const n=this.dialogService.open($_);n.componentInstance.title="Filter dialog",n.componentInstance.itemPickerOptions=t.allFilterOptions,n.componentInstance.selectedValues=t.selectedFilterValues,this.dialogSubscription=n.componentInstance.dialogClosed.subscribe(o=>{t.selectedFilterValues=o,t=this.filterGroupService.appendHiddenFilters(t),this.dataSourceService.applyFilters()})}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]})})}ngOnDestroy(){this.outputsSubscription&&this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(_.xAy),e.Y36(Ga))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-dialog-filter-group-composite-example"]],features:[e._Bn([{provide:_.LvN,useClass:_.PKN}])],decls:10,vars:3,consts:[["emptyListTemplate",""],["listRepeatItemTemplate",""],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged","showAllButtonClicked",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","align-items-center"],["image","no-data-to-show",3,"isWatermark"],[1,"nui-text-small"],[3,"filterGroupItem","filterChanged","showAllButtonClicked"],["id","nui-composites-demo-repeat","paddingSize","normal",3,"itemsSource","repeatItemTemplateRef"]],template:function(t,n){if(1&t&&(e.YNc(0,lf,4,1,"ng-template",null,0,e.W1O),e.YNc(2,sf,4,2,"ng-template",null,1,e.W1O),e.TgZ(4,"nui-panel")(5,"div",2)(6,"app-dialog-filter-groups-wrapper"),e.YNc(7,cf,1,1,"app-dialog-filter-group",3),e.qZA()(),e.TgZ(8,"div"),e.YNc(9,uf,2,2,"div",4),e.qZA()()),2&t){const o=e.MAs(1);e.xp6(7),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(2),e.Q6J("ngIf",n.hasItems())("ngIfElse",o)}},dependencies:[m.sg,m.O5,Fe.$,ge.y,af,Ua,Gi.c],encapsulation:2})),i})();var ki=w(18906);const ff=["*",[["","appendedText",""]]],df=["*","[appendedText]"];let Ui=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-schematic-docs-command"]],ngContentSelectors:df,decls:5,vars:1,consts:[["type","info",3,"allowDismiss"]],template:function(t,n){1&t&&(e.F$t(ff),e.TgZ(0,"nui-message",0),e._uU(1," This code has been generated using the following command: "),e.TgZ(2,"code"),e.Hsn(3),e.qZA(),e.Hsn(4,1),e.qZA()),2&t&&e.Q6J("allowDismiss",!1)},dependencies:[ki.q],encapsulation:2})),i})();var hf=w(34793),mf=w.n(hf),cr=w(52679),gf=w(25940),vf=w.n(gf),Tf=w(12906),Sf=w.n(Tf);const Pa=function(i){return{item:i}};function yf(i,r){if(1&i&&(e.TgZ(0,"div")(1,"nui-expander",4)(2,"nui-recursive-object-view",5),e.GkF(3,6),e.qZA()()()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("header",t),e.xp6(1),e.Q6J("object",n.object[t])("objectTemplate",n.objectTemplate)("notObjectTemplate",n.notObjectTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",n.objectTemplate)("ngTemplateOutletContext",e.VKq(6,Pa,n.object[t]))}}function Cf(i,r){if(1&i&&e.GkF(0,6),2&i){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("ngTemplateOutlet",n.notObjectTemplate)("ngTemplateOutletContext",e.VKq(2,Pa,t))}}function wf(i,r){if(1&i&&(e.TgZ(0,"div",1),e.YNc(1,yf,4,8,"div",2),e.YNc(2,Cf,1,4,"ng-template",null,3,e.W1O),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(3),o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.checkInstance(t))("ngIfElse",n)}}let bf=(()=>{class i{constructor(){(0,l.Z)(this,"object",void 0),(0,l.Z)(this,"objectTemplate",void 0),(0,l.Z)(this,"notObjectTemplate",void 0),(0,l.Z)(this,"orderOfKeys",void 0)}ngOnInit(){this.orderOfKeys=Sf()(Object.keys(this.object),t=>t.length)}checkInstance(t){return vf()(this.object[t])}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-recursive-object-view"]],inputs:{object:"object",objectTemplate:"objectTemplate",notObjectTemplate:"notObjectTemplate"},decls:1,vars:1,consts:[["class","ml-5",4,"ngFor","ngForOf"],[1,"ml-5"],[4,"ngIf","ngIfElse"],["notObject",""],["icon","group",3,"header"],[3,"object","objectTemplate","notObjectTemplate"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){1&t&&e.YNc(0,wf,4,2,"div",0),2&t&&e.Q6J("ngForOf",n.orderOfKeys)},dependencies:[m.sg,m.O5,m.tP,_e.F,i],encapsulation:2})),i})();function Ef(i,r){if(1&i&&(e.TgZ(0,"div")(1,"nui-expander",13)(2,"nui-recursive-object-view",14),e._uU(3),e.qZA()()()),2&i){const t=r.$implicit;e.oxw();const n=e.MAs(21),o=e.MAs(23);e.xp6(1),e.Q6J("header",t.key),e.xp6(1),e.Q6J("object",t.value)("objectTemplate",n)("notObjectTemplate",o),e.xp6(1),e.hij(" ",t.key," ")}}function Ff(i,r){if(1&i&&(e.TgZ(0,"nui-example-code"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.getSource(t.selectedFile))}}function If(i,r){if(1&i&&(e._UZ(0,"nui-icon",15),e._uU(1)),2&i){const t=r.item;e.xp6(1),e.hij(" ",t.key,"\n")}}function xf(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){const a=e.CHM(t).item,s=e.oxw();return e.KtG(s.selectFile(a))}),e._uU(1),e.qZA()}if(2&i){const t=r.item;e.xp6(1),e.hij(" ",t," ")}}const Zf=["*"];let Pi=(()=>{class i{get selectedFile(){return this._selectedFile}set selectedFile(t){this._selectedFile=t,this.shouldCodeRender=!1,setTimeout(()=>{this.shouldCodeRender=!0},100)}constructor(t){(0,l.Z)(this,"context",void 0),(0,l.Z)(this,"exampleFolderName",void 0),(0,l.Z)(this,"componentSources",void 0),(0,l.Z)(this,"shouldCodeRender",void 0),(0,l.Z)(this,"fileExtensionsRegex",/.*\.(ts|html|less)$/),(0,l.Z)(this,"rawData",{}),(0,l.Z)(this,"_selectedFile",void 0),(0,l.Z)(this,"selectedFileOpen",void 0),this.context=t}ngOnInit(){this.componentSources=this.getSourcesByFilenamePrefix(this.exampleFolderName)}getSource(t){return this.rawData[t]??""}selectFile(t){this.selectedFile=t,this.selectedFileOpen=!0}isSelectedFileOpen(){return this.selectedFileOpen}onSelectedFileOpenChange(t){this.selectedFileOpen=t}getSourcesByFilenamePrefix(t){return this.context.keys().filter(o=>{const a=o.indexOf(t),s=-1!==a?o[a+t.length]:void 0;return-1!==a&&("."===s||"/"===s)}).reduce((o,a)=>{const s=this.getFileData(a),c=a.substr(a.indexOf(t)).split("/"),p=[];this.rawData[c[c.length-1]]=s;for(let u=c.length;u>0;u--){const f=c.shift();p.push(f)}return mf()(o,p,s)},{})}getFileData(t){let n="";return this.fileExtensionsRegex.exec(t)&&(n=this.context(t).default,"less"===t.split(".").pop()&&(n=n.replace(/@import \(reference\) "([\w-]+\/){0,}([\w-]+)(\.less)?"/g,'@import (reference) "@nova-ui/bits/sdk/less/$1$2"'))),n}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.V3$,12))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-schematic-docs-example"]],inputs:{exampleFolderName:"exampleFolderName"},ngContentSelectors:Zf,decls:24,vars:7,consts:[[1,"d-flex"],[1,"p-0","col-4","schematic-docs-example__files"],[1,"mt-4"],[4,"ngFor","ngForOf"],[1,"col-8"],[3,"disabled","open","openChange"],["nuiExpanderHeader",""],[1,"m-0"],[1,"schematic-docs-example__selected-file"],[1,"nui-source-inspector-code"],[4,"ngIf"],["objectTemplate",""],["notObjectTemplate",""],["icon","group",3,"header"],[3,"object","objectTemplate","notObjectTemplate"],["icon","xml-file"],["nui-button","","type","button","displayStyle","action","icon","xml-file",1,"mw-100",3,"click"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Source files"),e.qZA(),e.YNc(4,Ef,4,5,"div",3),e.ALo(5,"keyvalue"),e.qZA(),e.TgZ(6,"div",4)(7,"h2",2),e._uU(8,"Source code"),e.qZA(),e.TgZ(9,"nui-expander",5),e.NdJ("openChange",function(a){return n.onSelectedFileOpenChange(a)}),e.TgZ(10,"div",6)(11,"h5",7),e._uU(12," Selected file: "),e.TgZ(13,"span",8),e._uU(14),e.qZA()()(),e.TgZ(15,"div",9),e.YNc(16,Ff,2,1,"nui-example-code",10),e.qZA()()()(),e.TgZ(17,"h2",2),e._uU(18,"Example"),e.qZA(),e.Hsn(19),e.YNc(20,If,2,1,"ng-template",null,11,e.W1O),e.YNc(22,xf,2,1,"ng-template",null,12,e.W1O)),2&t&&(e.xp6(4),e.Q6J("ngForOf",e.lcZ(5,5,n.componentSources)),e.xp6(5),e.Q6J("disabled",!n.selectedFile)("open",n.isSelectedFileOpen()),e.xp6(5),e.Oqu(n.selectedFile?n.selectedFile:"None"),e.xp6(2),e.Q6J("ngIf",n.shouldCodeRender))},dependencies:[m.sg,m.O5,_e.F,sr.o,cr.i,Vi.r,bf,m.Nd],styles:[".schematic-docs-example__files{overflow-x:auto}.schematic-docs-example__selected-file{font-weight:700}.nui-source-inspector-code{max-height:600px;overflow-y:auto}.nui-source-inspector-code .nui-example-code{min-width:-moz-fit-content;min-width:fit-content}\n"],encapsulation:2})),i})();function Af(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"div",7)(2,"i",8),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.BQk()),2&i){const t=e.oxw().$implicit,n=e.oxw(2).$implicit;e.xp6(3),e.hij("",t,": "),e.xp6(2),e.Oqu(n.value[t])}}function Of(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Af,6,2,"ng-container",6),e.qZA()),2&i){const t=r.$implicit,n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",void 0!==n.value[t])}}function Lf(i,r){if(1&i&&e.YNc(0,Of,2,1,"div",5),2&i){const t=e.oxw(2);e.Q6J("ngForOf",t.fieldsToDisplay)}}function Rf(i,r){if(1&i&&(e.TgZ(0,"div",1)(1,"nui-popover",2)(2,"span",3),e._uU(3),e.qZA()(),e.YNc(4,Lf,1,1,"ng-template",null,4,e.W1O),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(5);e.xp6(1),e.Q6J("template",n),e.xp6(2),e.Oqu(t.key)}}let Df=(()=>{class i{constructor(){(0,l.Z)(this,"schematicFolderName",void 0),(0,l.Z)(this,"schemaViewData",{}),(0,l.Z)(this,"fieldsToDisplay",["description","type","enum","alias","default"])}ngOnInit(){const t=w(45962)(`./${this.schematicFolderName}/schema.json`);this.fillViewData(t.properties)}fillViewData(t){Object.keys(t).forEach(n=>{const{description:o,type:a,enum:s,default:c,alias:p}=t[n];this.schemaViewData[n]={description:o,type:a,enum:s&&s.join(", "),default:c,alias:p}})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-schematic-json"]],inputs:{schematicFolderName:"schematicFolderName"},decls:7,vars:3,consts:[["class","d-inline-block p-2",4,"ngFor","ngForOf"],[1,"d-inline-block","p-2"],["placement","top",3,"template"],[1,"nui-text-default--hoverable"],["popoverWithBasicUsage",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"nui-text-default"],[2,"font-weight","bold"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"code"),e._uU(2,"Schema.json "),e.TgZ(3,"b"),e._uU(4,"options:"),e.qZA()()(),e.YNc(5,Rf,6,2,"div",0),e.ALo(6,"keyvalue")),2&t&&(e.xp6(5),e.Q6J("ngForOf",e.lcZ(6,1,n.schemaViewData)))},dependencies:[m.sg,m.O5,j.U,m.Nd],encapsulation:2})),i})();const Mf=[[["","schematicSummary",""]],[["","schematicExamples",""]]],Nf=["[schematicSummary]","[schematicExamples]"];let qi=(()=>{class i{constructor(){(0,l.Z)(this,"schematicFolderName",void 0),(0,l.Z)(this,"schematicHeading",void 0),(0,l.Z)(this,"angularJsonStylePreprocOptions",'\n"stylePreprocessorOptions": {\n    "includePaths": [\n        "node_modules"\n    ]\n}')}ngOnInit(){this.schematicHeading=this.schematicFolderName.replace(/-/g," ")}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-schematic-docs-page"]],inputs:{schematicFolderName:"schematicFolderName"},ngContentSelectors:Nf,decls:27,vars:9,consts:[[1,"nui-schematic-docs-page"],[1,"mt-4"],[3,"schematicFolderName"],[1,"nui-schematic-docs-examples"]],template:function(t,n){1&t&&(e.F$t(Mf),e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.Hsn(4),e.TgZ(5,"h2",1),e._uU(6,"API"),e.qZA(),e.TgZ(7,"div")(8,"p"),e._uU(9),e.ALo(10,"titlecase"),e.TgZ(11,"code"),e._uU(12),e.qZA()(),e.TgZ(13,"p"),e._uU(14," The schematic generates styles with a reference to files that are stored in "),e.TgZ(15,"code"),e._uU(16,"node_modules/@nova-ui/bits/sdk/less"),e.qZA(),e._uU(17,". You can provide this path in your project's "),e.TgZ(18,"code"),e._uU(19,"angular.json"),e.qZA(),e._uU(20," to make these references work: "),e.qZA(),e.TgZ(21,"p")(22,"nui-example-code"),e._uU(23),e.qZA()(),e._UZ(24,"nui-schematic-json",2),e.qZA(),e.TgZ(25,"div",3),e.Hsn(26,1),e.qZA()()),2&t&&(e.xp6(2),e.hij("",e.lcZ(3,5,n.schematicHeading)," Schematic"),e.xp6(7),e.hij(" Use the following command to generate a ",e.lcZ(10,7,n.schematicHeading),": "),e.xp6(3),e.hij("ng g @nova-ui/bits:",n.schematicFolderName," --name=%name_of_component% --p=%prefix_for_component_selector%"),e.xp6(11),e.hij(" ",n.angularJsonStylePreprocOptions," "),e.xp6(1),e.Q6J("schematicFolderName",n.schematicFolderName))},dependencies:[cr.i,Df,m.rS],styles:[".nui-schematic-docs-examples{margin-top:10px}\n"],encapsulation:2})),i})(),Gf=(()=>{class i{constructor(){}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-filter-group-composite-basic"]],decls:210,vars:0,consts:[["schematicFolderName","filter-group"],["schematicExamples",""],["heading","Basic usage"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["target","_blank","href","../interfaces/IFilterGroupItem.html"],["target","_blank","href","../../../../../../nova-bits/develop/sdk/api-docs-ng2/injectables/ClientSideDataSource.html"],["target","_blank","href","../interfaces/IFilterGroupOption.html"],["exampleFolderName","basic-filter-group"],["heading","Custom template"],["appendedText",""],["exampleFolderName","custom-template-filter-group"],["heading","Custom data source"],["exampleFolderName","custom-data-source-filter-group"],["heading","Collapse / Dialog"],["target","_blank","href","../additional-documentation/schematics/list.html"],["exampleFolderName","dialog-filter-group"]],template:function(t,n){1&t&&(e.TgZ(0,"nui-schematic-docs-page",0)(1,"nui-tab-group",1)(2,"nui-tab",2)(3,"h2"),e._uU(4,"Basic Usage"),e.qZA(),e.TgZ(5,"p"),e._uU(6," Filter group depends heavily on the "),e.TgZ(7,"a",3)(8,"code"),e._uU(9,"ClientSideDataSource"),e.qZA()(),e._uU(10," service, so first and foremost please check out the documentation for "),e.TgZ(11,"a",3)(12,"code"),e._uU(13,"ClientSideDataSource"),e.qZA()(),e._uU(14,". "),e.qZA(),e.TgZ(15,"p"),e._uU(16," This example contains all the files generated by the CLI command. The schematic will output a feature module, a filter group composite and helper components: "),e.TgZ(17,"code"),e._uU(18,"filter-groups-wrapper"),e.qZA(),e._uU(19,", "),e.TgZ(20,"code"),e._uU(21,"filter-group-dialog"),e.qZA(),e._uU(22," and "),e.TgZ(23,"code"),e._uU(24,"item-picker"),e.qZA(),e._uU(25,". Except for the wrapper, usage of these components may not be required by your implementation. "),e.qZA(),e.TgZ(26,"p"),e._uU(27," Once you have scaffolded your filter group, follow these steps to add it to your application: "),e.qZA(),e.TgZ(28,"ol")(29,"li"),e._uU(30," In your template, place your composite(s) inside the wrapper component. The wrapper will register your composites with "),e.TgZ(31,"a",3)(32,"code"),e._uU(33,"ClientSideDataSource"),e.qZA()(),e._uU(34," as well as hide and display a popover over filter groups with no existing values. "),e.qZA(),e.TgZ(35,"li"),e._uU(36," Pass an "),e.TgZ(37,"a",4)(38,"code"),e._uU(39,"IFilterGroupItem"),e.qZA()(),e._uU(40," object to each "),e.TgZ(41,"code"),e._uU(42,"[filterGroupItem]"),e.qZA(),e._uU(43," input. "),e.qZA(),e.TgZ(44,"li"),e._uU(45," To receive new filtering state ("),e.TgZ(46,"code"),e._uU(47,"IFilteringOutputs"),e.qZA(),e._uU(48,"), bind to the "),e.TgZ(49,"code"),e._uU(50,"(filterChanged)"),e.qZA(),e._uU(51," output and invoke the "),e.TgZ(52,"code"),e._uU(53,"applyFilters"),e.qZA(),e._uU(54," method of "),e.TgZ(55,"a",5)(56,"code"),e._uU(57,"ClientSideDataSource"),e.qZA(),e._uU(58,". "),e.qZA()()(),e.TgZ(59,"p")(60,"b"),e._uU(61,"Note:"),e.qZA(),e._uU(62," If you provide a value for the count property in "),e.TgZ(63,"a",6)(64,"code"),e._uU(65,"IFilterGroupOption"),e.qZA()(),e._uU(66,", counts will be added to the checkbox template. To recalculate counts, you must implement a "),e.TgZ(67,"code"),e._uU(68,"recalculateCounts"),e.qZA(),e._uU(69," method and call it upon receiving filteringState "),e.TgZ(70,"code"),e._uU(71,"IFilteringOutputs"),e.qZA(),e._uU(72,". "),e.qZA(),e.TgZ(73,"nui-schematic-docs-command"),e._uU(74,"ng g @nova-ui/bits:filter-group --name=basic-filter-group --p=app"),e.qZA(),e.TgZ(75,"nui-schematic-docs-example",7),e._UZ(76,"app-basic-filter-group-composite-example"),e.qZA()(),e.TgZ(77,"nui-tab",8)(78,"h2"),e._uU(79,"Custom Component Templates"),e.qZA(),e.TgZ(80,"p"),e._uU(81," To use a custom "),e.TgZ(82,"strong"),e._uU(83,"checkbox"),e.qZA(),e._uU(84," or "),e.TgZ(85,"strong"),e._uU(86,"expander "),e.qZA(),e.TgZ(87,"code"),e._uU(88,"ng-template"),e.qZA(),e._uU(89,", use the "),e.TgZ(90,"code"),e._uU(91,"[checkboxTemplateRef]"),e.qZA(),e._uU(92," or "),e.TgZ(93,"code"),e._uU(94,"[expanderTemplateRef]"),e.qZA(),e._uU(95," input of the filter group. "),e.qZA(),e.TgZ(96,"p"),e._uU(97," To pre-select filters, define "),e.TgZ(98,"code"),e._uU(99,"selectedFilterValues"),e.qZA(),e._uU(100," for your "),e.TgZ(101,"a",4)(102,"code"),e._uU(103,"IFilterGroupItem"),e.qZA()(),e._uU(104," objects. "),e.qZA(),e.TgZ(105,"nui-schematic-docs-command"),e._uU(106,"ng g @nova-ui/bits:filter-group --name=custom-template-filter-group --p=app "),e.TgZ(107,"span",9),e._uU(108,"with some manual adjustments that can be seen below"),e.qZA()(),e.TgZ(109,"nui-schematic-docs-example",10),e._UZ(110,"app-custom-template-filter-group-composite-example"),e.qZA()(),e.TgZ(111,"nui-tab",11)(112,"h2"),e._uU(113,"Custom Data Source"),e.qZA(),e.TgZ(114,"p"),e._uU(115,"To use Filter Group with a custom data source:"),e.qZA(),e.TgZ(116,"ol")(117,"li"),e._uU(118," Create a custom data source service that extends "),e.TgZ(119,"code"),e._uU(120,"DataSourceService"),e.qZA(),e._uU(121," and implements a method called "),e.TgZ(122,"code"),e._uU(123,"getFilteredData"),e.qZA(),e._uU(124,". This method will communicate with an HTTP service to fetch filtered data and emit it back to the filter group. "),e.qZA(),e.TgZ(125,"li"),e._uU(126," Get a reference to your filter groups via "),e.TgZ(127,"code"),e._uU(128,"ViewChildren"),e.qZA(),e._uU(129," and subscribe to their changes. In the callback, register components in your custom data service using the "),e.TgZ(130,"code"),e._uU(131,"registerComponent"),e.qZA(),e._uU(132," method of"),e.TgZ(133,"code"),e._uU(134,"DataSourceService"),e.qZA(),e._uU(135,". "),e.qZA(),e.TgZ(136,"li"),e._uU(137," On filter change, have the custom data source service emit filters ("),e.TgZ(138,"code"),e._uU(139,"IFilters"),e.qZA(),e._uU(140,") to the http service and receive a filtered data object ("),e.TgZ(141,"code"),e._uU(142,"ICustomDSFilteredData"),e.qZA(),e._uU(143,") in return. The filtered data object consists of filterGroupItems ("),e.TgZ(144,"code"),e._uU(145,"IFilterGroupItem[]"),e.qZA(),e._uU(146,") and filteringState ("),e.TgZ(147,"code"),e._uU(148,"IFilteringOutputs"),e.qZA(),e._uU(149,"). "),e.qZA()(),e.TgZ(150,"p"),e._uU(151," As implementations of the custom data source service may vary, other data may be passed from the filter group to the custom data source in order for the custom data source to apply filters and return filtered data. "),e.qZA(),e.TgZ(152,"nui-schematic-docs-command"),e._uU(153,"ng g @nova-ui/bits:filter-group --name=custom-data-source-filter-group --p=app "),e.TgZ(154,"span",9),e._uU(155,"with some manual adjustments that can be seen below"),e.qZA()(),e.TgZ(156,"nui-schematic-docs-example",12),e._UZ(157,"app-custom-data-source-filter-group-composite-example")(158,"nui-fake-filtering-datasource-backend-component"),e.qZA()(),e.TgZ(159,"nui-tab",13)(160,"h2"),e._uU(161,"Handle Multiple Filter Group Options"),e.qZA(),e.TgZ(162,"p"),e._uU(163," Only 10 filter group options are displayed by default. You can change this number by setting the "),e.TgZ(164,"code"),e._uU(165,"itemsToDisplay"),e.qZA(),e._uU(166," property of an "),e.TgZ(167,"a",4)(168,"code"),e._uU(169,"IFilterGroupItem"),e.qZA()(),e._uU(170,". "),e.qZA(),e.TgZ(171,"p"),e._uU(172," The remaining options will be replaced with a "),e.TgZ(173,"strong"),e._uU(174,"Show all"),e.qZA(),e._uU(175," button bound to the "),e.TgZ(176,"code"),e._uU(177,"(showAllButtonClicked)"),e.qZA(),e._uU(178," output. To display the hidden options, you can use the "),e.TgZ(179,"code"),e._uU(180,"FilterGroupCompositeDialogComponent"),e.qZA(),e._uU(181," generated by the schematic: "),e.qZA(),e.TgZ(182,"ol")(183,"li"),e._uU(184," Implement an item picker and place it in the dialog template. The example below uses a simple selectable list - to add more functionality, such as sorting and pagination, refer to the "),e.TgZ(185,"a",14),e._uU(186,"list schematic docs"),e.qZA(),e._uU(187,". "),e.qZA(),e.TgZ(188,"li"),e._uU(189," Add your dialog component to your module's "),e.TgZ(190,"code"),e._uU(191,"entryComponents"),e.qZA(),e._uU(192,". "),e.qZA(),e.TgZ(193,"li"),e._uU(194," Implement a handler for the "),e.TgZ(195,"code"),e._uU(196,"showAllButtonClicked"),e.qZA(),e._uU(197," output. Use it to open the dialog, feed it the required parameters and update selection on "),e.TgZ(198,"code"),e._uU(199,"dialogClosed"),e.qZA(),e._uU(200," event (refer to the "),e.TgZ(201,"code"),e._uU(202,"handleFilterDialog"),e.qZA(),e._uU(203," method in the example). "),e.qZA()(),e.TgZ(204,"nui-schematic-docs-command"),e._uU(205,"ng g @nova-ui/bits:filter-group --name=dialog-filter-group --p=app "),e.TgZ(206,"span",9),e._uU(207,"with some manual adjustments that can be seen below"),e.qZA()(),e.TgZ(208,"nui-schematic-docs-example",15),e._UZ(209,"app-dialog-filter-group-composite-example"),e.qZA()()()())},dependencies:[Mi.i,Ni.Q,Dp,e_,T_,P_,_f,Ui,Pi,qi],encapsulation:2})),i})();var Vf=w(63326),se=w.n(Vf);function kf(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function Uf(i,r){1&i&&e.GkF(0)}function Pf(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function qf(i,r){1&i&&e.GkF(0)}const Wf=function(i){return{checkbox:i}};function Bf(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,Pf,5,2,"ng-template",null,11,e.W1O),e.YNc(3,qf,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,Wf,t))}}function Qf(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const $f=function(i){return{expander:i}};function Hf(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,kf,2,1,"ng-template",null,4,e.W1O),e.YNc(5,Uf,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,Bf,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,Qf,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,$f,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let ur=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"detectFilterChanges",!0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),(0,l.Z)(this,"filterItems",void 0),(0,l.Z)(this,"onDestroy$",new q.x),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(t){const n=this.filterItems.find(o=>o.value===t);n&&this.deselectFilterItem(n)}deselectAllFilterItems(){this.filterItems.filter(t=>t.checked).forEach(t=>this.deselectFilterItem(t))}deselectFilterItem(t){t.inputViewContainer.element.nativeElement.checked=!1,t.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(t){return t.map(n=>n.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-group"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.bK4,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,Hf,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();var Jf=w(89851),ye=w.n(Jf),de=w(83905),W=w(39646),lt=w(4128),he=w(70262);const qa="http://nova-pg.swdev.local/api/v1/servers";let jf=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.paginator?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(n.end-n.start));const a=this.extractMultiFilters(t);if(a.size){const s=Array.from(a.entries()).reduce((c,[p,u])=>(c[p]=u,c),{});o=o.set("filters",JSON.stringify(s))}return t.search?.value&&(o=o.set("searchField","name"),o=o.set("searchContent",t.search?.value??"")),t.sorter?.value?.sortBy&&(o=o.set("sortField",t.sorter.value.sortBy),o=o.set("sortOrder",t.sorter.value.direction.toUpperCase())),o}static getMultiFiltersNames(t){const n=[];return ye()(t,(o,a)=>{"string[]"===o?.type&&n.push(a)}),n}static extractMultiFilters(t){const n=new Map;return ye()(t,(o,a)=>{"string[]"===o?.type&&o?.value?.length>0&&n.set(a,o?.value)}),n}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count},status:n.status,location:n.location}))))})()}getBackendData(t){const n=i.getRequestParams(t),a=[this.http.get(qa,{params:n})];let s=n;["page","pageSize","sortField","sortOrder"].forEach(u=>{s=s.delete(u)});const c=s.get("filters")??"{}";i.getMultiFiltersNames(t).forEach(u=>{const f=Object.assign({},JSON.parse(c));f[u]&&(delete f[u],s=s.set("filters",JSON.stringify(f))),s=s.set("groupByField",u.toString());const d=this.http.get(`${qa}/count`,{params:s});s=s.set("filters",c),a.push(d)});const p=(u,f)=>(u[Object.keys(f)[0]]=Object.values(f)[0],u);return(0,lt.D)(a).pipe((0,pe.g)(300),(0,U.U)(([u,f,d])=>({items:u.items?.map(h=>({name:h.name,location:h.location,status:h.status}))||[],count:u.count,status:f.items?.reduce(p,{}),location:d.items?.reduce(p,{})})),(0,he.K)(u=>(this.logger.error(u),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();var Ht=(()=>(function(i){i.active="Active",i.down="Down"}(Ht||(Ht={})),Ht))(),Be=w(71057);function Yf(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function zf(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const Kf=["*"];let Xf=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,ur,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:Kf,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,Yf,4,5,"div",1),e.qZA(),e.YNc(3,zf,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,Be.X,j.U,m.Gx],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();var Qe=w(41442),$e=w(73976),Jt=w(61135),O=w(18505),M=w(82722),Ce=w(83241),we=w(12465),st=w(2077),jt=w(86097),Yt=w(52847);function td(i,r){1&i&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,9),e.qZA(),e.BQk())}function id(i,r){if(1&i&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function nd(i,r){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11),e.YNc(2,id,2,1,"div",12),e.ALo(3,"keyvalue"),e.qZA()()),2&i){const t=r.item;e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,t))}}const rd=function(){return[10,20,30,40]};let od=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"listItems$",new Jt.X([])),(0,l.Z)(this,"sorterItems",[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}]),(0,l.Z)(this,"initialSortDirection",_.aQE.ascending),(0,l.Z)(this,"sortBy",this.sorterItems[0].value),(0,l.Z)(this,"filteringState",{}),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",20),(0,l.Z)(this,"itemConfig",{trackBy:(o,a)=>a?.name}),(0,l.Z)(this,"repeat",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"sorter",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({paginator:{componentInstance:t.paginator},search:{componentInstance:t.search},sorter:{componentInstance:t.sorter},repeat:{componentInstance:t.repeat}}),t.search.focusChange.pipe((0,O.b)(function(){var n=(0,T.Z)(function*(o){!o&&t.dataSource.filterChanged((0,_.$0I)("search"))&&(yield t.applyFilters())});return function(o){return n.apply(this,arguments)}}()),(0,M.R)(t.destroy$)).subscribe(),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.listItems$.next(n.repeat?.itemsSource||[]),t.filteringState=n,t.totalItems=n.paginator?.total??0,t.changeDetection.detectChanges()}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onCancelSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}onSorterAction(t){var n=this;return(0,T.Z)(function*(){n.sortBy=t.newValue.sortBy,yield n.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-list-with-pagination-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.$N6,5),e.Gf(_.JbP,5),e.Gf(_.gSk,5),e.Gf(_.Het,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.repeat=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.sorter=o.first)}},decls:13,vars:16,consts:function(){let r,t;return r=$localize`:94516fa213706c67ce5a5b5765681d7fb032033a3894950702316166331:Loading...`,t=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[["nui-busy","",3,"busy"],["size","large","message",r],[1,"d-flex","flex-row"],[1,"app-filtered-view-list-with-pagination-list-sorter",3,"itemsSource","selectedItem","sortDirection","sorterAction"],[1,"d-flex","justify-content-end","app-filtered-view-list-with-pagination-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-filtered-view-list-with-pagination-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-filtered-view-list-with-pagination-list-paginator",3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["listRepeatItemTemplate",""],t,[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"nui-spinner",1),e.TgZ(2,"div",2)(3,"nui-sorter",3),e.NdJ("sorterAction",function(a){return n.onSorterAction(a)}),e.qZA(),e.TgZ(4,"nui-search",4),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onCancelSearch()}),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,td,3,0,"ng-container",5),e.ALo(7,"async"),e._UZ(8,"nui-repeat",6),e.qZA(),e.TgZ(9,"div",2)(10,"nui-paginator",7),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(){return n.applyFilters()}),e.qZA()()(),e.YNc(11,nd,4,3,"ng-template",null,8,e.W1O)),2&t){const o=e.MAs(12);e.Q6J("busy",n.isBusy),e.xp6(3),e.Q6J("itemsSource",n.sorterItems)("selectedItem",n.sortBy)("sortDirection",n.initialSortDirection),e.xp6(3),e.Q6J("ngIf",!n.isBusy&&0===e.lcZ(7,13,n.listItems$).length),e.xp6(2),e.Q6J("itemConfig",n.itemConfig)("repeatItemTemplateRef",o)("selection",null==n.filteringState.repeat?null:n.filteringState.repeat.selectedItems)("itemsSource",null==n.filteringState.repeat?null:n.filteringState.repeat.itemsSource),e.xp6(2),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(15,rd))("total",null==n.filteringState.paginator?null:n.filteringState.paginator.total)}},dependencies:[m.sg,m.O5,Ce.J,Fe.$,we.g,st.H,jt.O,Yt.E,m.Ov,m.Nd],styles:["[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-pagination-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})),i})();const ad=["child"];function ld(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-filter-group",8),e.NdJ("filterChanged",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters())}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function sd(i,r){if(1&i&&(e.TgZ(0,"div",9,10)(2,"nui-popover",11)(3,"a",12),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(),n=e.MAs(10);e.xp6(2),e.Q6J("popoverOverlayPosition",t.overflowPopoverPosition)("template",n),e.xp6(2),e.hij("+",t.overflowCounter,"")}}function cd(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"nui-chips-overflow",13),e.NdJ("chipRemoved",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onClear(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("overflowSource",t.overflowSource)("itemsSource",t.chipsDataSource)}}let Wa=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:Ht.down,displayValue:"Down"},{value:Ht.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}]),(0,l.Z)(this,"chipsDataSource",{groupedItems:[],flatItems:[]}),(0,l.Z)(this,"overflowCounter",void 0),(0,l.Z)(this,"overflowSource",void 0),(0,l.Z)(this,"overflowPopoverPosition",[_.XiM.bottomLeft,_.XiM.topLeft]),(0,l.Z)(this,"outputsSubscription",void 0),(0,l.Z)(this,"popover",void 0),(0,l.Z)(this,"child",void 0),(0,l.Z)(this,"filterGroups",void 0),this.dataSource=t,this.cd=n}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(t=>{this.recalculateCounts(t),this.cd.detectChanges()})}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.child.applyFilters(),t.updateChips()})()}onChipsOverflow(t){this.overflowSource=t,this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce((o,a)=>o+a.items.length,0)||0),this.popover?.updatePosition()}onClear(t){var n=this;return(0,T.Z)(function*(){t.group?se()(t.group.items||[],t.item):se()(n.chipsDataSource.flatItems||[],t.item),n.filterGroups.find(a=>t.group?.id===a.filterGroupItem.id)?.deselectFilterItemByValue(t.item.label)})()}onClearAll(t){this.chipsDataSource.groupedItems=[],this.popover?.onClick(t),this.filterGroups.forEach(n=>n.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(t=>({id:t.id,label:t.title,items:t.selectedFilterValues.map(n=>({label:n}))})),this.cd.markForCheck()}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-list-with-pagination"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.U$R,5),e.Gf(ad,5),e.Gf(ur,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.popover=o.first),e.iGM(o=e.CRH())&&(n.child=o.first),e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([{provide:_.LvN,useClass:jf}])],decls:13,vars:4,consts:[[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"itemsSource","overflow","chipRemoved","removeAll","chipsOverflowed"],["class","nui-chips-overflowed",4,"ngIf"],["popoverWithClickTrigger",""],["child",""],[3,"filterGroupItem","filterChanged"],[1,"nui-chips-overflowed"],["overflowCounterLabel",""],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"overflowSource","itemsSource","chipRemoved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-panel")(2,"div",1)(3,"app-filter-groups-wrapper"),e.YNc(4,ld,1,1,"app-filter-group",2),e.qZA()(),e.TgZ(5,"div",3)(6,"div")(7,"nui-chips",4),e.NdJ("chipRemoved",function(a){return n.onClear(a)})("removeAll",function(a){return n.onClearAll(a)})("chipsOverflowed",function(a){return n.onChipsOverflow(a)}),e.YNc(8,sd,5,3,"div",5),e.qZA(),e.YNc(9,cd,1,2,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(11,"app-filtered-view-list-with-pagination-list",null,7),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(3),e.Q6J("itemsSource",n.chipsDataSource)("overflow",!0),e.xp6(1),e.Q6J("ngIf",n.overflowCounter>0))},dependencies:[m.sg,m.O5,ge.y,Xf,ur,Qe.k,$e.M,j.U,od],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})),i})(),ud=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),pd=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez]})),i})(),_d=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[ud],imports:[m.ez,_.LRI,_.F__,_.a51,_.Ld5,_.S6I,pd]})),i})(),fd=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez,_.dVY,_.CND,_.ZuS,_.a$t,_.bGb,_.ILf,_.Gsl,_d,_.wlu,_.S6I]})),i})();function dd(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function hd(i,r){1&i&&e.GkF(0)}function md(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function gd(i,r){1&i&&e.GkF(0)}const vd=function(i){return{checkbox:i}};function Td(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,md,5,2,"ng-template",null,11,e.W1O),e.YNc(3,gd,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,vd,t))}}function Sd(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const yd=function(i){return{expander:i}};function Cd(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,dd,2,1,"ng-template",null,4,e.W1O),e.YNc(5,hd,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,Td,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,Sd,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,yd,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let pr=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"detectFilterChanges",!0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),(0,l.Z)(this,"filterItems",void 0),(0,l.Z)(this,"onDestroy$",new q.x),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(t){const n=this.filterItems.find(o=>o.value===t);n&&this.deselectFilterItem(n)}deselectAllFilterItems(){this.filterItems.filter(t=>t.checked).forEach(t=>this.deselectFilterItem(t))}deselectFilterItem(t){t.inputViewContainer.element.nativeElement.checked=!1,t.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(t){return t.map(n=>n.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-group"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.bK4,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,Cd,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();const Qa="http://nova-pg.swdev.local/api/v1/servers";let wd=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.virtualScroll?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(400));const a=this.extractMultiFilters(t);if(a.size){const s=Array.from(a.entries()).reduce((c,[p,u])=>(c[p]=u,c),{});o=o.set("filters",JSON.stringify(s))}return t.search?.value&&(o=o.set("searchField","name"),o=o.set("searchContent",t.search?.value??"")),t.sorter?.value?.sortBy&&(o=o.set("sortField",t.sorter.value.sortBy),o=o.set("sortOrder",t.sorter.value.direction.toUpperCase())),o}static getMultiFiltersNames(t){const n=[];return ye()(t,(o,a)=>{"string[]"===o?.type&&n.push(a)}),n}static extractMultiFilters(t){const n=new Map;return ye()(t,(o,a)=>{"string[]"===o?.type&&o?.value?.length>0&&n.set(a,o?.value)}),n}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count},status:n.status,location:n.location}))))})()}getBackendData(t){const n=i.getRequestParams(t),a=[this.http.get(Qa,{params:n})];let s=n;["page","pageSize","sortField","sortOrder"].forEach(u=>{s=s.delete(u)});const c=s.get("filters")??"{}";i.getMultiFiltersNames(t).forEach(u=>{const f=Object.assign({},JSON.parse(c));f[u]&&(delete f[u],s=s.set("filters",JSON.stringify(f))),s=s.set("groupByField",u.toString());const d=this.http.get(`${Qa}/count`,{params:s});s=s.set("filters",c),a.push(d)});const p=(u,f)=>(u[Object.keys(f)[0]]=Object.values(f)[0],u);return(0,lt.D)(a).pipe((0,pe.g)(300),(0,U.U)(([u,f,d])=>({items:u.items?.map(h=>({name:h.name,location:h.location,status:h.status}))||[],count:u.count,status:f.items?.reduce(p,{}),location:d.items?.reduce(p,{})})),(0,he.K)(u=>(this.logger.error(u),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();var zt=(()=>(function(i){i.active="Active",i.down="Down"}(zt||(zt={})),zt))();function bd(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function Ed(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const Fd=["*"];let Id=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,pr,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:Fd,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,bd,4,5,"div",1),e.qZA(),e.YNc(3,Ed,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,Be.X,j.U,m.Gx],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();var Kt=w(39300),Xt=w(63900);function xd(i,r){1&i&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,15),e.qZA(),e.BQk())}function Zd(i,r){1&i&&(e.ynx(0),e.SDv(1,16),e.BQk())}function Ad(i,r){1&i&&(e.TgZ(0,"strong"),e._uU(1,". All items loaded."),e.qZA())}function Od(i,r){if(1&i&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function Ld(i,r){if(1&i&&(e.TgZ(0,"div",17)(1,"div",18),e.YNc(2,Od,2,1,"div",19),e.ALo(3,"keyvalue"),e.qZA()()),2&i){const t=r.item;e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,t))}}let Rd=(()=>{class i{constructor(t,n,o){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"viewportManager",void 0),(0,l.Z)(this,"listItems$",new Jt.X([])),(0,l.Z)(this,"sorterItems",[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}]),(0,l.Z)(this,"initialSortDirection",_.aQE.ascending),(0,l.Z)(this,"sortBy",this.sorterItems[0].value),(0,l.Z)(this,"filteringState",{}),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"itemConfig",{trackBy:(a,s)=>s?.name}),(0,l.Z)(this,"repeat",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"sorter",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n,this.viewportManager=o}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({virtualScroll:{componentInstance:t.viewportManager},search:{componentInstance:t.search},sorter:{componentInstance:t.sorter},repeat:{componentInstance:t.repeat}}),t.viewportManager.setViewport(t.repeat.viewportRef).observeNextPage$({pageSize:400}).pipe((0,Kt.h)(()=>{const n=t.listItems$.getValue();return!n.length||n.length<t.totalItems}),(0,O.b)((0,T.Z)(function*(){return t.applyFilters(!1)})),(0,Xt.w)(()=>t.dataSource.outputsSubject.pipe((0,O.b)(n=>{const o=n.repeat?.itemsSource||[];t.listItems$.next(t.listItems$.getValue().concat(o)),t.totalItems=n.paginator?.total||0,t.changeDetection.detectChanges()}))),(0,M.R)(t.destroy$)).subscribe(),t.search.focusChange.pipe((0,O.b)(function(){var n=(0,T.Z)(function*(o){!o&&t.dataSource.filterChanged((0,_.$0I)("search"))&&(yield t.applyFilters())});return function(o){return n.apply(this,arguments)}}()),(0,M.R)(t.destroy$)).subscribe()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onCancelSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}applyFilters(t=!0){var n=this;return(0,T.Z)(function*(){t&&n.viewportManager.reset({emitFirstPage:!1});const o=n.dataSource.getFilters();(n.dataSource.computeFiltersChange(o)||0===o.virtualScroll?.value.start)&&(n.listItems$.next([]),n.changeDetection.detectChanges()),yield n.dataSource.applyFilters()})()}onSorterAction(t){var n=this;return(0,T.Z)(function*(){n.sortBy=t.newValue.sortBy,yield n.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO),e.Y36(_.zCP))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-list-with-virtual-scroll-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.$N6,5),e.Gf(_.gSk,5),e.Gf(_.Het,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.repeat=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.sorter=o.first)}},decls:23,vars:23,consts:function(){let r,t,n,o;return r=$localize`:94516fa213706c67ce5a5b5765681d7fb032033a3894950702316166331:Loading...`,t=$localize`:3a07f8fba6196a46238f9dc434e4aef50ebfa2ce9149438115644025735: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1:. `,n=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,o=$localize`:b12cc7551005a9787976bb8d2a161113feed479a9056616360897919297:, scroll down for more.`,[["nui-busy","",3,"busy"],["size","large","message",r],[1,"d-flex","flex-row"],[1,"app-filtered-view-list-with-virtual-scroll-list-sorter",3,"itemsSource","selectedItem","sortDirection","sorterAction"],[1,"d-flex","justify-content-end","app-filtered-view-list-with-virtual-scroll-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-filtered-view-list-with-virtual-scroll-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource","virtualScroll","itemSize"],[1,"app-filtered-view-list-with-virtual-scroll-list-scrolling-footer"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],t,[4,"ngIf","ngIfElse"],["endOfData",""],["listRepeatItemTemplate",""],n,o,[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"nui-spinner",1),e.TgZ(2,"div",2)(3,"nui-sorter",3),e.NdJ("sorterAction",function(a){return n.onSorterAction(a)}),e.qZA(),e.TgZ(4,"nui-search",4),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onCancelSearch()}),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,xd,3,0,"ng-container",5),e.ALo(7,"async"),e._UZ(8,"nui-repeat",6),e.ALo(9,"async"),e.qZA(),e.TgZ(10,"footer",7)(11,"div",8)(12,"div",9)(13,"div",10),e.SDv(14,11),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"div",10),e.YNc(17,Zd,2,0,"ng-container",12),e.ALo(18,"async"),e.YNc(19,Ad,2,0,"ng-template",null,13,e.W1O),e.qZA()()()()(),e.YNc(21,Ld,4,3,"ng-template",null,14,e.W1O)),2&t){const o=e.MAs(20),a=e.MAs(22);e.Q6J("busy",n.isBusy),e.xp6(3),e.Q6J("itemsSource",n.sorterItems)("selectedItem",n.sortBy)("sortDirection",n.initialSortDirection),e.xp6(3),e.Q6J("ngIf",!n.isBusy&&0===e.lcZ(7,15,n.listItems$).length),e.xp6(2),e.Q6J("itemConfig",n.itemConfig)("repeatItemTemplateRef",a)("selection",null==n.filteringState.repeat?null:n.filteringState.repeat.selectedItems)("itemsSource",e.lcZ(9,17,n.listItems$))("virtualScroll",!0)("itemSize",30),e.xp6(7),e.pQV(e.lcZ(15,19,n.listItems$).length)(n.totalItems),e.QtT(14),e.xp6(2),e.Q6J("ngIf",e.lcZ(18,21,n.listItems$).length!==n.totalItems)("ngIfElse",o)}},dependencies:[m.sg,m.O5,Fe.$,we.g,st.H,jt.O,Yt.E,m.Ov,m.Nd],styles:["[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%;height:300px}[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-list-with-virtual-scroll-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}"],changeDetection:0})),i})();const Dd=["child"];function Md(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-filter-group",8),e.NdJ("filterChanged",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters())}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function Nd(i,r){if(1&i&&(e.TgZ(0,"div",9,10)(2,"nui-popover",11)(3,"a",12),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(),n=e.MAs(10);e.xp6(2),e.Q6J("popoverOverlayPosition",t.overflowPopoverPosition)("template",n),e.xp6(2),e.hij("+",t.overflowCounter,"")}}function Gd(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"nui-chips-overflow",13),e.NdJ("chipRemoved",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onClear(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("overflowSource",t.overflowSource)("itemsSource",t.chipsDataSource)}}let $a=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:zt.down,displayValue:"Down"},{value:zt.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}]),(0,l.Z)(this,"chipsDataSource",{groupedItems:[],flatItems:[]}),(0,l.Z)(this,"overflowCounter",void 0),(0,l.Z)(this,"overflowSource",void 0),(0,l.Z)(this,"overflowPopoverPosition",[_.XiM.bottomLeft,_.XiM.topLeft]),(0,l.Z)(this,"outputsSubscription",void 0),(0,l.Z)(this,"popover",void 0),(0,l.Z)(this,"child",void 0),(0,l.Z)(this,"filterGroups",void 0),this.dataSource=t,this.cd=n}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(t=>{this.recalculateCounts(t),this.cd.detectChanges()})}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.child.applyFilters(),t.updateChips()})()}onChipsOverflow(t){this.overflowSource=t,this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce((o,a)=>o+a.items.length,0)||0),this.popover?.updatePosition()}onClear(t){var n=this;return(0,T.Z)(function*(){t.group?se()(t.group.items||[],t.item):se()(n.chipsDataSource.flatItems||[],t.item),n.filterGroups.find(a=>t.group?.id===a.filterGroupItem.id)?.deselectFilterItemByValue(t.item.label)})()}onClearAll(t){this.chipsDataSource.groupedItems=[],this.popover?.onClick(t),this.filterGroups.forEach(n=>n.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(t=>({id:t.id,label:t.title,items:t.selectedFilterValues.map(n=>({label:n}))})),this.cd.markForCheck()}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-list-with-virtual-scroll"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.U$R,5),e.Gf(Dd,5),e.Gf(pr,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.popover=o.first),e.iGM(o=e.CRH())&&(n.child=o.first),e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([_.zCP,{provide:_.LvN,useClass:wd}])],decls:13,vars:4,consts:[[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"itemsSource","overflow","chipRemoved","removeAll","chipsOverflowed"],["class","nui-chips-overflowed",4,"ngIf"],["popoverWithClickTrigger",""],["child",""],[3,"filterGroupItem","filterChanged"],[1,"nui-chips-overflowed"],["overflowCounterLabel",""],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"overflowSource","itemsSource","chipRemoved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-panel")(2,"div",1)(3,"app-filter-groups-wrapper"),e.YNc(4,Md,1,1,"app-filter-group",2),e.qZA()(),e.TgZ(5,"div",3)(6,"div")(7,"nui-chips",4),e.NdJ("chipRemoved",function(a){return n.onClear(a)})("removeAll",function(a){return n.onClearAll(a)})("chipsOverflowed",function(a){return n.onChipsOverflow(a)}),e.YNc(8,Nd,5,3,"div",5),e.qZA(),e.YNc(9,Gd,1,2,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(11,"app-filtered-view-list-with-virtual-scroll-list",null,7),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(3),e.Q6J("itemsSource",n.chipsDataSource)("overflow",!0),e.xp6(1),e.Q6J("ngIf",n.overflowCounter>0))},dependencies:[m.sg,m.O5,ge.y,Id,pr,Qe.k,$e.M,j.U,Rd],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})),i})(),Vd=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),kd=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez]})),i})(),Ud=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[Vd],imports:[m.ez,_.LRI,_.F__,_.a51,_.Ld5,_.S6I,kd]})),i})(),Pd=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez,_.dVY,_.CND,_.ZuS,_.a$t,_.bGb,_.ILf,_.Gsl,Ud,_.wlu,_.S6I]})),i})();function qd(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function Wd(i,r){1&i&&e.GkF(0)}function Bd(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function Qd(i,r){1&i&&e.GkF(0)}const $d=function(i){return{checkbox:i}};function Hd(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,Bd,5,2,"ng-template",null,11,e.W1O),e.YNc(3,Qd,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,$d,t))}}function Jd(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const jd=function(i){return{expander:i}};function Yd(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,qd,2,1,"ng-template",null,4,e.W1O),e.YNc(5,Wd,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,Hd,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,Jd,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,jd,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let _r=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"detectFilterChanges",!0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),(0,l.Z)(this,"filterItems",void 0),(0,l.Z)(this,"onDestroy$",new q.x),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(t){const n=this.filterItems.find(o=>o.value===t);n&&this.deselectFilterItem(n)}deselectAllFilterItems(){this.filterItems.filter(t=>t.checked).forEach(t=>this.deselectFilterItem(t))}deselectFilterItem(t){t.inputViewContainer.element.nativeElement.checked=!1,t.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(t){return t.map(n=>n.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-group"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.bK4,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,Yd,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();var X=(()=>(function(i){i.active="Active",i.down="Down"}(X||(X={})),X))();const Ha=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:X.active},{name:"Man-LT-ASD123",location:"Brno",status:X.down},{name:"Man-LT-DSA331",location:"Austin",status:X.active},{name:"Man-LT-JKS212",location:"Kyiv",status:X.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:X.down},{name:"Man-LT-433AAD",location:"Austin",status:X.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:X.active},{name:"Man-LT-GHJ882",location:"Brno",status:X.down},{name:"Man-LT-LLK001",location:"Austin",status:X.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:X.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:X.down},{name:"Man-LT-LKJF12",location:"Austin",status:X.down},{name:"Man-LT-882JJS",location:"Kyiv",status:X.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:X.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:X.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:X.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:X.active},{name:"Man-LT-RRF231",location:"Austin",status:X.down}];function Kd(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function Xd(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const eh=["*"];let th=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,_r,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:eh,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,Kd,4,5,"div",1),e.qZA(),e.YNc(3,Xd,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,Be.X,j.U,m.Gx],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();var Ie=w(97829),N=w(36413),xe=w(98388),Ze=w(50253),Ae=w(4981),Oe=w(29119),Le=w(34324);function ih(i,r){1&i&&(e.TgZ(0,"th",10),e.SDv(1,11),e.qZA())}function nh(i,r){if(1&i&&(e.TgZ(0,"td",12),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function rh(i,r){1&i&&(e.TgZ(0,"th",10),e.SDv(1,13),e.qZA())}function oh(i,r){if(1&i&&(e.TgZ(0,"td",12),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.location)}}function ah(i,r){1&i&&(e.TgZ(0,"th",10),e.SDv(1,14),e.qZA())}function lh(i,r){if(1&i&&(e.TgZ(0,"td",12),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function sh(i,r){1&i&&e._UZ(0,"tr",15)}function ch(i,r){1&i&&e._UZ(0,"tr",16)}const uh=function(){return[10,20,50,100]};let ph=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",20),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.dataSource.setData(Ha)}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({paginator:{componentInstance:t.paginator}}),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=n.repeat?.itemsSource||[],t.totalItems=n.paginator?.total??0}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changePagination(t){var n=this;return(0,T.Z)(function*(){yield n.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-with-table-table"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(_.JbP,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first)}},decls:14,vars:9,consts:function(){let r,t,n;return r=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`,t=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,[[1,"app-filtered-view-with-table-table__container"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row",""]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,ih,2,0,"th",3),e.YNc(4,nh,2,1,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,rh,2,0,"th",3),e.YNc(7,oh,2,1,"td",4),e.BQk(),e.ynx(8,6),e.YNc(9,ah,2,0,"th",3),e.YNc(10,lh,2,1,"td",4),e.BQk(),e.YNc(11,sh,1,0,"tr",7),e.YNc(12,ch,1,0,"tr",8),e.qZA()(),e.TgZ(13,"nui-paginator",9),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(a){return n.changePagination(a)}),e.qZA()),2&t&&(e.xp6(1),e.Q6J("dataSource",n.items),e.xp6(10),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(8,uh))("total",n.totalItems))},dependencies:[Ce.J,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y],styles:[".icon-margin{margin-right:5px}.app-filtered-view-with-table-table__container{overflow:auto}\n"],encapsulation:2})),i})();const _h=["child"];function fh(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-filter-group",8),e.NdJ("filterChanged",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters())}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function dh(i,r){if(1&i&&(e.TgZ(0,"div",9,10)(2,"nui-popover",11)(3,"a",12),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(),n=e.MAs(10);e.xp6(2),e.Q6J("popoverOverlayPosition",t.overflowPopoverPosition)("template",n),e.xp6(2),e.hij("+",t.overflowCounter,"")}}function hh(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"nui-chips-overflow",13),e.NdJ("chipRemoved",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onClear(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("overflowSource",t.overflowSource)("itemsSource",t.chipsDataSource)}}let Ja=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:X.down,displayValue:"Down"},{value:X.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}]),(0,l.Z)(this,"chipsDataSource",{groupedItems:[],flatItems:[]}),(0,l.Z)(this,"overflowCounter",void 0),(0,l.Z)(this,"overflowSource",void 0),(0,l.Z)(this,"overflowPopoverPosition",[_.XiM.bottomLeft,_.XiM.topLeft]),(0,l.Z)(this,"outputsSubscription",void 0),(0,l.Z)(this,"popover",void 0),(0,l.Z)(this,"child",void 0),(0,l.Z)(this,"filterGroups",void 0),this.dataSource=t,this.cd=n,this.dataSource.setData(Ha)}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(t=>{this.recalculateCounts(t),this.cd.detectChanges()})}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.child.applyFilters(),t.updateChips()})()}onChipsOverflow(t){this.overflowSource=t,this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce((o,a)=>o+a.items.length,0)||0),this.popover?.updatePosition()}onClear(t){var n=this;return(0,T.Z)(function*(){t.group?se()(t.group.items||[],t.item):se()(n.chipsDataSource.flatItems||[],t.item),n.filterGroups.find(a=>t.group?.id===a.filterGroupItem.id)?.deselectFilterItemByValue(t.item.label)})()}onClearAll(t){this.chipsDataSource.groupedItems=[],this.popover?.onClick(t),this.filterGroups.forEach(n=>n.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(t=>({id:t.id,label:t.title,items:t.selectedFilterValues.map(n=>({label:n}))})),this.cd.markForCheck()}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-with-table"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.U$R,5),e.Gf(_h,5),e.Gf(_r,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.popover=o.first),e.iGM(o=e.CRH())&&(n.child=o.first),e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([{provide:_.LvN,useClass:_.PKN}])],decls:13,vars:4,consts:[[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"itemsSource","overflow","chipRemoved","removeAll","chipsOverflowed"],["class","nui-chips-overflowed",4,"ngIf"],["popoverWithClickTrigger",""],["child",""],[3,"filterGroupItem","filterChanged"],[1,"nui-chips-overflowed"],["overflowCounterLabel",""],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"overflowSource","itemsSource","chipRemoved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-panel")(2,"div",1)(3,"app-filter-groups-wrapper"),e.YNc(4,fh,1,1,"app-filter-group",2),e.qZA()(),e.TgZ(5,"div",3)(6,"div")(7,"nui-chips",4),e.NdJ("chipRemoved",function(a){return n.onClear(a)})("removeAll",function(a){return n.onClearAll(a)})("chipsOverflowed",function(a){return n.onChipsOverflow(a)}),e.YNc(8,dh,5,3,"div",5),e.qZA(),e.YNc(9,hh,1,2,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(11,"app-filtered-view-with-table-table",null,7),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(3),e.Q6J("itemsSource",n.chipsDataSource)("overflow",!0),e.xp6(1),e.Q6J("ngIf",n.overflowCounter>0))},dependencies:[m.sg,m.O5,ge.y,th,_r,Qe.k,$e.M,j.U,ph],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})),i})();function mh(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function gh(i,r){1&i&&e.GkF(0)}function vh(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function Th(i,r){1&i&&e.GkF(0)}const Sh=function(i){return{checkbox:i}};function yh(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,vh,5,2,"ng-template",null,11,e.W1O),e.YNc(3,Th,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,Sh,t))}}function Ch(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const wh=function(i){return{expander:i}};function bh(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,mh,2,1,"ng-template",null,4,e.W1O),e.YNc(5,gh,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,yh,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,Ch,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,wh,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let fr=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"detectFilterChanges",!0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),(0,l.Z)(this,"filterItems",void 0),(0,l.Z)(this,"onDestroy$",new q.x),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(t){const n=this.filterItems.find(o=>o.value===t);n&&this.deselectFilterItem(n)}deselectAllFilterItems(){this.filterItems.filter(t=>t.checked).forEach(t=>this.deselectFilterItem(t))}deselectFilterItem(t){t.inputViewContainer.element.nativeElement.checked=!1,t.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(t){return t.map(n=>n.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-group"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.bK4,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,bh,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();const ja="http://nova-pg.swdev.local/api/v1/servers";let Eh=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.paginator?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(n.end-n.start));const a=this.extractMultiFilters(t);if(a.size){const s=Array.from(a.entries()).reduce((c,[p,u])=>(c[p]=u,c),{});o=o.set("filters",JSON.stringify(s))}return o}static getMultiFiltersNames(t){const n=[];return ye()(t,(o,a)=>{"string[]"===o?.type&&n.push(a)}),n}static extractMultiFilters(t){const n=new Map;return ye()(t,(o,a)=>{"string[]"===o?.type&&o?.value?.length>0&&n.set(a,o?.value)}),n}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count},status:n.status,location:n.location}))))})()}getBackendData(t){const n=i.getRequestParams(t),a=[this.http.get(ja,{params:n})];let s=n;["page","pageSize","sortField","sortOrder"].forEach(u=>{s=s.delete(u)});const c=s.get("filters")??"{}";i.getMultiFiltersNames(t).forEach(u=>{const f=Object.assign({},JSON.parse(c));f[u]&&(delete f[u],s=s.set("filters",JSON.stringify(f))),s=s.set("groupByField",u.toString());const d=this.http.get(`${ja}/count`,{params:s});s=s.set("filters",c),a.push(d)});const p=(u,f)=>(u[Object.keys(f)[0]]=Object.values(f)[0],u);return(0,lt.D)(a).pipe((0,pe.g)(300),(0,U.U)(([u,f,d])=>({items:u.items?.map(h=>({name:h.name,location:h.location,status:h.status}))||[],count:u.count,status:f.items?.reduce(p,{}),location:d.items?.reduce(p,{})})),(0,he.K)(u=>(this.logger.error(u),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();var ei=(()=>(function(i){i.active="Active",i.down="Down"}(ei||(ei={})),ei))();function Fh(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function Ih(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const xh=["*"];let Zh=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,fr,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:xh,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,Fh,4,5,"div",1),e.qZA(),e.YNc(3,Ih,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,Be.X,j.U,m.Gx],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();var We=w(86078);function Oh(i,r){1&i&&(e.TgZ(0,"th",13),e.SDv(1,14),e.qZA())}function Lh(i,r){if(1&i&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function Rh(i,r){1&i&&(e.TgZ(0,"th",13),e.SDv(1,16),e.qZA())}function Dh(i,r){if(1&i&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.location)}}function Mh(i,r){1&i&&(e.TgZ(0,"th",13),e.SDv(1,17),e.qZA())}function Nh(i,r){if(1&i&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function Gh(i,r){1&i&&e._UZ(0,"tr",18)}function Vh(i,r){1&i&&e._UZ(0,"tr",19)}function kh(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",20),e.TgZ(2,"div",21),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function Uh(i,r){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e.SDv(3,24),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.pQV(t.items.length)(t.totalItems),e.QtT(3)}}const Ph=function(){return[10,20,50,100]};let qh=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",20),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({paginator:{componentInstance:t.paginator}}),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=n.repeat?.itemsSource||[],t.totalItems=n.paginator?.total??0}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changePagination(t){var n=this;return(0,T.Z)(function*(){yield n.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-table-with-pagination-table"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(_.JbP,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first)}},decls:18,vars:11,consts:function(){let r,t,n,o;return r=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`,t=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[[1,"app-filtered-view-table-with-pagination-table__container"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-filtered-view-table-with-pagination-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],[3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,Oh,2,0,"th",3),e.YNc(4,Lh,2,1,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,Rh,2,0,"th",3),e.YNc(7,Dh,2,1,"td",4),e.BQk(),e.ynx(8,6),e.YNc(9,Mh,2,0,"th",3),e.YNc(10,Nh,2,1,"td",4),e.BQk(),e.YNc(11,Gh,1,0,"tr",7),e.YNc(12,Vh,1,0,"tr",8),e.qZA(),e.TgZ(13,"footer",9),e.YNc(14,kh,4,3,"div",10),e.YNc(15,Uh,4,2,"ng-template",null,11,e.W1O),e.qZA()(),e.TgZ(17,"nui-paginator",12),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(a){return n.changePagination(a)}),e.qZA()),2&t){const o=e.MAs(16);e.xp6(1),e.Q6J("dataSource",n.items),e.xp6(10),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",o),e.xp6(3),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(10,Ph))("total",n.totalItems)}},dependencies:[m.O5,Ce.J,We.t,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y],styles:[".icon-margin{margin-right:5px}.app-filtered-view-table-with-pagination-table__container{overflow:auto}.app-filtered-view-table-with-pagination-table-scrolling-footer{height:28px}\n"],encapsulation:2})),i})();const Wh=["child"];function Bh(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-filter-group",8),e.NdJ("filterChanged",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters())}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function Qh(i,r){if(1&i&&(e.TgZ(0,"div",9,10)(2,"nui-popover",11)(3,"a",12),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(),n=e.MAs(10);e.xp6(2),e.Q6J("popoverOverlayPosition",t.overflowPopoverPosition)("template",n),e.xp6(2),e.hij("+",t.overflowCounter,"")}}function $h(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"nui-chips-overflow",13),e.NdJ("chipRemoved",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onClear(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("overflowSource",t.overflowSource)("itemsSource",t.chipsDataSource)}}let Ya=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:ei.down,displayValue:"Down"},{value:ei.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}]),(0,l.Z)(this,"chipsDataSource",{groupedItems:[],flatItems:[]}),(0,l.Z)(this,"overflowCounter",void 0),(0,l.Z)(this,"overflowSource",void 0),(0,l.Z)(this,"overflowPopoverPosition",[_.XiM.bottomLeft,_.XiM.topLeft]),(0,l.Z)(this,"outputsSubscription",void 0),(0,l.Z)(this,"popover",void 0),(0,l.Z)(this,"child",void 0),(0,l.Z)(this,"filterGroups",void 0),this.dataSource=t,this.cd=n}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(t=>{this.recalculateCounts(t),this.cd.detectChanges()})}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.child.applyFilters(),t.updateChips()})()}onChipsOverflow(t){this.overflowSource=t,this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce((o,a)=>o+a.items.length,0)||0),this.popover?.updatePosition()}onClear(t){var n=this;return(0,T.Z)(function*(){t.group?se()(t.group.items||[],t.item):se()(n.chipsDataSource.flatItems||[],t.item),n.filterGroups.find(a=>t.group?.id===a.filterGroupItem.id)?.deselectFilterItemByValue(t.item.label)})()}onClearAll(t){this.chipsDataSource.groupedItems=[],this.popover?.onClick(t),this.filterGroups.forEach(n=>n.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(t=>({id:t.id,label:t.title,items:t.selectedFilterValues.map(n=>({label:n}))})),this.cd.markForCheck()}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-table-with-pagination"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.U$R,5),e.Gf(Wh,5),e.Gf(fr,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.popover=o.first),e.iGM(o=e.CRH())&&(n.child=o.first),e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([{provide:_.LvN,useClass:Eh}])],decls:13,vars:4,consts:[[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"itemsSource","overflow","chipRemoved","removeAll","chipsOverflowed"],["class","nui-chips-overflowed",4,"ngIf"],["popoverWithClickTrigger",""],["child",""],[3,"filterGroupItem","filterChanged"],[1,"nui-chips-overflowed"],["overflowCounterLabel",""],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"overflowSource","itemsSource","chipRemoved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-panel")(2,"div",1)(3,"app-filter-groups-wrapper"),e.YNc(4,Bh,1,1,"app-filter-group",2),e.qZA()(),e.TgZ(5,"div",3)(6,"div")(7,"nui-chips",4),e.NdJ("chipRemoved",function(a){return n.onClear(a)})("removeAll",function(a){return n.onClearAll(a)})("chipsOverflowed",function(a){return n.onChipsOverflow(a)}),e.YNc(8,Qh,5,3,"div",5),e.qZA(),e.YNc(9,$h,1,2,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(11,"app-filtered-view-table-with-pagination-table",null,7),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(3),e.Q6J("itemsSource",n.chipsDataSource)("overflow",!0),e.xp6(1),e.Q6J("ngIf",n.overflowCounter>0))},dependencies:[m.sg,m.O5,ge.y,Zh,fr,Qe.k,$e.M,j.U,qh],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})),i})();function Hh(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function Jh(i,r){1&i&&e.GkF(0)}function jh(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function Yh(i,r){1&i&&e.GkF(0)}const zh=function(i){return{checkbox:i}};function Kh(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,jh,5,2,"ng-template",null,11,e.W1O),e.YNc(3,Yh,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,zh,t))}}function Xh(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const em=function(i){return{expander:i}};function tm(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,Hh,2,1,"ng-template",null,4,e.W1O),e.YNc(5,Jh,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,Kh,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,Xh,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,em,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let dr=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"detectFilterChanges",!0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),(0,l.Z)(this,"filterItems",void 0),(0,l.Z)(this,"onDestroy$",new q.x),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(t){const n=this.filterItems.find(o=>o.value===t);n&&this.deselectFilterItem(n)}deselectAllFilterItems(){this.filterItems.filter(t=>t.checked).forEach(t=>this.deselectFilterItem(t))}deselectFilterItem(t){t.inputViewContainer.element.nativeElement.checked=!1,t.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(t){return t.map(n=>n.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-group"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.bK4,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,tm,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();const Ka="http://nova-pg.swdev.local/api/v1/servers";let im=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.virtualScroll?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(400));const a=this.extractMultiFilters(t);if(a.size){const s=Array.from(a.entries()).reduce((c,[p,u])=>(c[p]=u,c),{});o=o.set("filters",JSON.stringify(s))}return o}static getMultiFiltersNames(t){const n=[];return ye()(t,(o,a)=>{"string[]"===o?.type&&n.push(a)}),n}static extractMultiFilters(t){const n=new Map;return ye()(t,(o,a)=>{"string[]"===o?.type&&o?.value?.length>0&&n.set(a,o?.value)}),n}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count},status:n.status,location:n.location}))))})()}getBackendData(t){const n=i.getRequestParams(t),a=[this.http.get(Ka,{params:n})];let s=n;["page","pageSize","sortField","sortOrder"].forEach(u=>{s=s.delete(u)});const c=s.get("filters")??"{}";i.getMultiFiltersNames(t).forEach(u=>{const f=Object.assign({},JSON.parse(c));f[u]&&(delete f[u],s=s.set("filters",JSON.stringify(f))),s=s.set("groupByField",u.toString());const d=this.http.get(`${Ka}/count`,{params:s});s=s.set("filters",c),a.push(d)});const p=(u,f)=>(u[Object.keys(f)[0]]=Object.values(f)[0],u);return(0,lt.D)(a).pipe((0,pe.g)(300),(0,U.U)(([u,f,d])=>({items:u.items?.map(h=>({name:h.name,location:h.location,status:h.status}))||[],count:u.count,status:f.items?.reduce(p,{}),location:d.items?.reduce(p,{})})),(0,he.K)(u=>(this.logger.error(u),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();var ti=(()=>(function(i){i.active="Active",i.down="Down"}(ti||(ti={})),ti))();function nm(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function rm(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const om=["*"];let am=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,dr,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:om,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,nm,4,5,"div",1),e.qZA(),e.YNc(3,rm,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,Be.X,j.U,m.Gx],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();var ii=w(6504),ni=w(36332);function lm(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,16),e.qZA()),2&i&&e.Udp("width",30,"%")}function sm(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function cm(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,18),e.qZA()),2&i&&e.Udp("width",30,"%")}function um(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.location," ")}}function pm(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,19),e.qZA())}function _m(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function fm(i,r){1&i&&e._UZ(0,"tr",20)}function dm(i,r){1&i&&e._UZ(0,"tr",21)}function hm(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",22),e.TgZ(2,"div",23),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function mm(i,r){1&i&&(e.ynx(0),e.SDv(1,28),e.BQk())}function gm(i,r){1&i&&(e.TgZ(0,"strong"),e._uU(1,". All items loaded."),e.qZA())}function vm(i,r){if(1&i&&(e.TgZ(0,"div",23)(1,"div",24)(2,"div",25),e.SDv(3,26),e.qZA(),e.TgZ(4,"div",25),e.YNc(5,mm,2,0,"ng-container",13),e.YNc(6,gm,2,0,"ng-template",null,27,e.W1O),e.qZA()()()),2&i){const t=e.MAs(7),n=e.oxw();e.xp6(3),e.pQV(n.items.length)(n.totalItems),e.QtT(3),e.xp6(2),e.Q6J("ngIf",n.items.length!==n.totalItems)("ngIfElse",t)}}let Tm=(()=>{class i{constructor(t,n,o){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"viewportManager",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"pageSize",400),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"viewport",void 0),(0,l.Z)(this,"rowHeight",40),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.viewportManager=n,this.changeDetection=o}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({virtualScroll:{componentInstance:t.viewportManager}}),t.viewportManager.setViewport(t.viewport).observeNextPage$({pageSize:t.pageSize}).pipe((0,Kt.h)(()=>!t.items.length||t.items.length<t.totalItems),(0,O.b)((0,T.Z)(function*(){return t.applyFilters(!1)})),(0,Xt.w)(()=>t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=t.items.concat(n.repeat?.itemsSource||[]),t.totalItems=n.paginator?.total||0,t.changeDetection.detectChanges()}))),(0,M.R)(t.destroy$)).subscribe()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilters(t=!0){var n=this;return(0,T.Z)(function*(){t&&n.viewportManager.reset({emitFirstPage:!1});const o=n.dataSource.getFilters();(n.dataSource.computeFiltersChange(o)||0===o.virtualScroll?.value.start)&&(n.items=[]),yield n.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(_.zCP),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-table-with-virtual-scroll-table"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(B.N7,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.viewport=o.first)}},decls:20,vars:11,consts:function(){let r,t,n,o,a;return r=$localize`:1544348a6496c3dcf8e4905654cbb5f5fee191e61552568671699956057: Name `,t=$localize`:e01692d26b709ceb10a22f9279fe604d79a26aaa212627037199736435: Location `,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,a=$localize`:b12cc7551005a9787976bb8d2a161113feed479a9056616360897919297:, scroll down for more.`,[[1,"app-filtered-view-table-with-virtual-scroll-table__container"],["tableStickyHeader","",1,"app-filtered-view-table-with-virtual-scroll-table-scrolling-container",3,"itemSize"],["viewportRef",""],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-filtered-view-table-with-virtual-scroll-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o,["endOfData",""],a]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"cdk-virtual-scroll-viewport",1,2)(3,"table",3),e.ALo(4,"sliceRange"),e.ynx(5,4),e.YNc(6,lm,2,2,"th",5),e.YNc(7,sm,2,1,"td",6),e.BQk(),e.ynx(8,7),e.YNc(9,cm,2,2,"th",5),e.YNc(10,um,2,1,"td",6),e.BQk(),e.ynx(11,8),e.YNc(12,pm,2,0,"th",9),e.YNc(13,_m,2,1,"td",6),e.BQk(),e.YNc(14,fm,1,0,"tr",10),e.YNc(15,dm,1,0,"ng-template",11),e.qZA()(),e.TgZ(16,"footer",12),e.YNc(17,hm,4,3,"div",13),e.YNc(18,vm,8,4,"ng-template",null,14,e.W1O),e.qZA()()),2&t){const o=e.MAs(2),a=e.MAs(19);e.xp6(1),e.Q6J("itemSize",n.rowHeight),e.xp6(2),e.Q6J("dataSource",e.xi3(4,8,n.items,o.getRenderedRange())),e.xp6(11),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns)("cdkVirtualForOf",n.items),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",a)}},dependencies:[B.xd,B.x0,B.N7,m.O5,We.t,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y,ii.F,ni.Q],styles:[".icon-margin{margin-right:5px}.app-filtered-view-table-with-virtual-scroll-table__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-filtered-view-table-with-virtual-scroll-table-scrolling-container{height:300px}.app-filtered-view-table-with-virtual-scroll-table-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}\n"],encapsulation:2})),i})();const Sm=["child"];function ym(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-filter-group",8),e.NdJ("filterChanged",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters())}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function Cm(i,r){if(1&i&&(e.TgZ(0,"div",9,10)(2,"nui-popover",11)(3,"a",12),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(),n=e.MAs(10);e.xp6(2),e.Q6J("popoverOverlayPosition",t.overflowPopoverPosition)("template",n),e.xp6(2),e.hij("+",t.overflowCounter,"")}}function wm(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"nui-chips-overflow",13),e.NdJ("chipRemoved",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onClear(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("overflowSource",t.overflowSource)("itemsSource",t.chipsDataSource)}}let Xa=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:ti.down,displayValue:"Down"},{value:ti.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}]),(0,l.Z)(this,"chipsDataSource",{groupedItems:[],flatItems:[]}),(0,l.Z)(this,"overflowCounter",void 0),(0,l.Z)(this,"overflowSource",void 0),(0,l.Z)(this,"overflowPopoverPosition",[_.XiM.bottomLeft,_.XiM.topLeft]),(0,l.Z)(this,"outputsSubscription",void 0),(0,l.Z)(this,"popover",void 0),(0,l.Z)(this,"child",void 0),(0,l.Z)(this,"filterGroups",void 0),this.dataSource=t,this.cd=n}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(t=>{this.recalculateCounts(t),this.cd.detectChanges()})}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.child.applyFilters(),t.updateChips()})()}onChipsOverflow(t){this.overflowSource=t,this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce((o,a)=>o+a.items.length,0)||0),this.popover?.updatePosition()}onClear(t){var n=this;return(0,T.Z)(function*(){t.group?se()(t.group.items||[],t.item):se()(n.chipsDataSource.flatItems||[],t.item),n.filterGroups.find(a=>t.group?.id===a.filterGroupItem.id)?.deselectFilterItemByValue(t.item.label)})()}onClearAll(t){this.chipsDataSource.groupedItems=[],this.popover?.onClick(t),this.filterGroups.forEach(n=>n.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(t=>({id:t.id,label:t.title,items:t.selectedFilterValues.map(n=>({label:n}))})),this.cd.markForCheck()}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-table-with-virtual-scroll"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.U$R,5),e.Gf(Sm,5),e.Gf(dr,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.popover=o.first),e.iGM(o=e.CRH())&&(n.child=o.first),e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([_.zCP,{provide:_.LvN,useClass:im}])],decls:13,vars:4,consts:[[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"itemsSource","overflow","chipRemoved","removeAll","chipsOverflowed"],["class","nui-chips-overflowed",4,"ngIf"],["popoverWithClickTrigger",""],["child",""],[3,"filterGroupItem","filterChanged"],[1,"nui-chips-overflowed"],["overflowCounterLabel",""],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"overflowSource","itemsSource","chipRemoved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-panel")(2,"div",1)(3,"app-filter-groups-wrapper"),e.YNc(4,ym,1,1,"app-filter-group",2),e.qZA()(),e.TgZ(5,"div",3)(6,"div")(7,"nui-chips",4),e.NdJ("chipRemoved",function(a){return n.onClear(a)})("removeAll",function(a){return n.onClearAll(a)})("chipsOverflowed",function(a){return n.onChipsOverflow(a)}),e.YNc(8,Cm,5,3,"div",5),e.qZA(),e.YNc(9,wm,1,2,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(11,"app-filtered-view-table-with-virtual-scroll-table",null,7),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(3),e.Q6J("itemsSource",n.chipsDataSource)("overflow",!0),e.xp6(1),e.Q6J("ngIf",n.overflowCounter>0))},dependencies:[m.sg,m.O5,ge.y,am,dr,Qe.k,$e.M,j.U,Tm],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})),i})();function bm(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function Em(i,r){1&i&&e.GkF(0)}function Fm(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function Im(i,r){1&i&&e.GkF(0)}const xm=function(i){return{checkbox:i}};function Zm(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,Fm,5,2,"ng-template",null,11,e.W1O),e.YNc(3,Im,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,xm,t))}}function Am(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const Om=function(i){return{expander:i}};function Lm(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,bm,2,1,"ng-template",null,4,e.W1O),e.YNc(5,Em,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,Zm,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,Am,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,Om,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let hr=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"detectFilterChanges",!0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),(0,l.Z)(this,"filterItems",void 0),(0,l.Z)(this,"onDestroy$",new q.x),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(t){const n=this.filterItems.find(o=>o.value===t);n&&this.deselectFilterItem(n)}deselectAllFilterItems(){this.filterItems.filter(t=>t.checked).forEach(t=>this.deselectFilterItem(t))}deselectFilterItem(t){t.inputViewContainer.element.nativeElement.checked=!1,t.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(t){return t.map(n=>n.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-group"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.bK4,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,Lm,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();var ee=(()=>(function(i){i.active="Active",i.down="Down"}(ee||(ee={})),ee))();const el=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:ee.active},{name:"Man-LT-ASD123",location:"Brno",status:ee.down},{name:"Man-LT-DSA331",location:"Austin",status:ee.active},{name:"Man-LT-JKS212",location:"Kyiv",status:ee.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:ee.down},{name:"Man-LT-433AAD",location:"Austin",status:ee.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:ee.active},{name:"Man-LT-GHJ882",location:"Brno",status:ee.down},{name:"Man-LT-LLK001",location:"Austin",status:ee.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:ee.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:ee.down},{name:"Man-LT-LKJF12",location:"Austin",status:ee.down},{name:"Man-LT-882JJS",location:"Kyiv",status:ee.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:ee.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:ee.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:ee.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:ee.active},{name:"Man-LT-RRF231",location:"Austin",status:ee.down}];function Dm(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function Mm(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const Nm=["*"];let Gm=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,hr,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:Nm,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,Dm,4,5,"div",1),e.qZA(),e.YNc(3,Mm,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,Be.X,j.U,m.Gx],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();function Vm(i,r){1&i&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,7),e.qZA(),e.BQk())}function km(i,r){if(1&i&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function Um(i,r){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9),e.YNc(2,km,2,1,"div",10),e.ALo(3,"keyvalue"),e.qZA()()),2&i){const t=r.item;e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,t))}}const Pm=function(){return[10,20,30,40]};let qm=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"sorterItems",[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}]),(0,l.Z)(this,"initialSortDirection",_.aQE.ascending),(0,l.Z)(this,"sortBy",this.sorterItems[0].value),(0,l.Z)(this,"filteringState",{}),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",20),(0,l.Z)(this,"itemConfig",{trackBy:(o,a)=>a?.name}),(0,l.Z)(this,"repeat",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"sorter",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n,this.dataSource.setData(el)}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({paginator:{componentInstance:t.paginator},search:{componentInstance:t.search},sorter:{componentInstance:t.sorter},repeat:{componentInstance:t.repeat}}),t.search.focusChange.pipe((0,O.b)(function(){var n=(0,T.Z)(function*(o){!o&&t.dataSource.filterChanged((0,_.$0I)("search"))&&(yield t.applyFilters())});return function(o){return n.apply(this,arguments)}}()),(0,M.R)(t.destroy$)).subscribe(),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.filteringState=n,t.totalItems=n.paginator?.total??0,t.changeDetection.detectChanges()}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onCancelSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}onSorterAction(t){var n=this;return(0,T.Z)(function*(){n.sortBy=t.newValue.sortBy,yield n.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-with-list-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.$N6,5),e.Gf(_.JbP,5),e.Gf(_.gSk,5),e.Gf(_.Het,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.repeat=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.sorter=o.first)}},decls:11,vars:13,consts:function(){let r;return r=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[[1,"d-flex","flex-row"],[1,"app-filtered-view-with-list-list-sorter",3,"itemsSource","selectedItem","sortDirection","sorterAction"],[1,"d-flex","justify-content-end","app-filtered-view-with-list-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-filtered-view-with-list-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-filtered-view-with-list-list-paginator",3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["listRepeatItemTemplate",""],r,[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"nui-sorter",1),e.NdJ("sorterAction",function(a){return n.onSorterAction(a)}),e.qZA(),e.TgZ(3,"nui-search",2),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onCancelSearch()}),e.qZA()(),e.TgZ(4,"div",0),e.YNc(5,Vm,3,0,"ng-container",3),e._UZ(6,"nui-repeat",4),e.qZA(),e.TgZ(7,"div",0)(8,"nui-paginator",5),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(){return n.applyFilters()}),e.qZA()()(),e.YNc(9,Um,4,3,"ng-template",null,6,e.W1O)),2&t){const o=e.MAs(10);e.xp6(2),e.Q6J("itemsSource",n.sorterItems)("selectedItem",n.sortBy)("sortDirection",n.initialSortDirection),e.xp6(3),e.Q6J("ngIf",0===(null==n.filteringState.repeat?null:n.filteringState.repeat.itemsSource.length)),e.xp6(1),e.Q6J("itemConfig",n.itemConfig)("repeatItemTemplateRef",o)("selection",null==n.filteringState.repeat?null:n.filteringState.repeat.selectedItems)("itemsSource",null==n.filteringState.repeat?null:n.filteringState.repeat.itemsSource),e.xp6(2),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(12,Pm))("total",null==n.filteringState.paginator?null:n.filteringState.paginator.total)}},dependencies:[m.sg,m.O5,Ce.J,Fe.$,we.g,st.H,m.Nd],styles:["[_nghost-%COMP%]   .app-filtered-view-with-list-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-filtered-view-with-list-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})),i})();const Wm=["child"];function Bm(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-filter-group",8),e.NdJ("filterChanged",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters())}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function Qm(i,r){if(1&i&&(e.TgZ(0,"div",9,10)(2,"nui-popover",11)(3,"a",12),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(),n=e.MAs(10);e.xp6(2),e.Q6J("popoverOverlayPosition",t.overflowPopoverPosition)("template",n),e.xp6(2),e.hij("+",t.overflowCounter,"")}}function $m(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"nui-chips-overflow",13),e.NdJ("chipRemoved",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onClear(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("overflowSource",t.overflowSource)("itemsSource",t.chipsDataSource)}}let tl=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:ee.down,displayValue:"Down"},{value:ee.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}]),(0,l.Z)(this,"chipsDataSource",{groupedItems:[],flatItems:[]}),(0,l.Z)(this,"overflowCounter",void 0),(0,l.Z)(this,"overflowSource",void 0),(0,l.Z)(this,"overflowPopoverPosition",[_.XiM.bottomLeft,_.XiM.topLeft]),(0,l.Z)(this,"outputsSubscription",void 0),(0,l.Z)(this,"popover",void 0),(0,l.Z)(this,"child",void 0),(0,l.Z)(this,"filterGroups",void 0),this.dataSource=t,this.cd=n,this.dataSource.setData(el)}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(t=>{this.recalculateCounts(t),this.cd.detectChanges()})}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.child.applyFilters(),t.updateChips()})()}onChipsOverflow(t){this.overflowSource=t,this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce((o,a)=>o+a.items.length,0)||0),this.popover?.updatePosition()}onClear(t){var n=this;return(0,T.Z)(function*(){t.group?se()(t.group.items||[],t.item):se()(n.chipsDataSource.flatItems||[],t.item),n.filterGroups.find(a=>t.group?.id===a.filterGroupItem.id)?.deselectFilterItemByValue(t.item.label)})()}onClearAll(t){this.chipsDataSource.groupedItems=[],this.popover?.onClick(t),this.filterGroups.forEach(n=>n.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(t=>({id:t.id,label:t.title,items:t.selectedFilterValues.map(n=>({label:n}))})),this.cd.markForCheck()}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-with-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.U$R,5),e.Gf(Wm,5),e.Gf(hr,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.popover=o.first),e.iGM(o=e.CRH())&&(n.child=o.first),e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([{provide:_.LvN,useClass:_.PKN}])],decls:13,vars:4,consts:[[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"itemsSource","overflow","chipRemoved","removeAll","chipsOverflowed"],["class","nui-chips-overflowed",4,"ngIf"],["popoverWithClickTrigger",""],["child",""],[3,"filterGroupItem","filterChanged"],[1,"nui-chips-overflowed"],["overflowCounterLabel",""],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"overflowSource","itemsSource","chipRemoved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-panel")(2,"div",1)(3,"app-filter-groups-wrapper"),e.YNc(4,Bm,1,1,"app-filter-group",2),e.qZA()(),e.TgZ(5,"div",3)(6,"div")(7,"nui-chips",4),e.NdJ("chipRemoved",function(a){return n.onClear(a)})("removeAll",function(a){return n.onClearAll(a)})("chipsOverflowed",function(a){return n.onChipsOverflow(a)}),e.YNc(8,Qm,5,3,"div",5),e.qZA(),e.YNc(9,$m,1,2,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(11,"app-filtered-view-with-list-list",null,7),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(3),e.Q6J("itemsSource",n.chipsDataSource)("overflow",!0),e.xp6(1),e.Q6J("ngIf",n.overflowCounter>0))},dependencies:[m.sg,m.O5,ge.y,Gm,hr,Qe.k,$e.M,j.U,qm],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})),i})();function Hm(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function Jm(i,r){1&i&&e.GkF(0)}function jm(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function Ym(i,r){1&i&&e.GkF(0)}const zm=function(i){return{checkbox:i}};function Km(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,jm,5,2,"ng-template",null,11,e.W1O),e.YNc(3,Ym,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,zm,t))}}function Xm(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const eg=function(i){return{expander:i}};function tg(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,Hm,2,1,"ng-template",null,4,e.W1O),e.YNc(5,Jm,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,Km,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,Xm,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,eg,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let mr=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),(0,l.Z)(this,"filterItems",void 0),(0,l.Z)(this,"onDestroy$",new q.x),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(t){const n=this.filterItems.find(o=>o.value===t);n&&this.deselectFilterItem(n)}deselectAllFilterItems(){this.filterItems.filter(t=>t.checked).forEach(t=>this.deselectFilterItem(t))}deselectFilterItem(t){t.inputViewContainer.element.nativeElement.checked=!1,t.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(t){return t.map(n=>n.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-group"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.bK4,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,tg,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();var ig=w(21503),ng=w.n(ig),rg=w(97614),og=w.n(rg);const il=["name","code","__typename"];let ag=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"apollo",void 0),this.logger=t,this.apollo=n}getFilteredData(t){var n=this;return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(o=>({tree:{itemsSource:n.buildTree(o.Subregion)}}))))})()}getBackendData(t){return this.apollo.query({query:this.generateQuery(t)}).pipe((0,pe.g)(300),(0,U.U)(o=>o.data),(0,he.K)(o=>(this.logger.error(o),(0,W.of)({}))))}generateQuery(t){let n="",o="",a="";return t.language?.value.forEach(c=>n+=`{officialLanguages_some: {name: "${c}"}},`),t.currency?.value.forEach(c=>o+=`{currencies_some: {code: "${c}"}},`),t.subregion?.value.forEach(c=>a+=`{name: "${c}"},`),vp`
            ${`query {\n          Subregion(filter: {AND: [{region: {name: "Americas"}}], ${a?"OR: ["+a+"]":""}}) {\n            name,\n            countries${n||o?"(filter: {AND: ["+n+o+"]})":""} {\n              name,\n              population,\n              officialLanguages {\n                name\n              },\n              currencies {\n                code\n              }\n            }\n          }\n        }`}
        `}buildTree(t){const n=[];for(const o in t)if(t.hasOwnProperty(o)&&"__typename"!==o){const a=t[o],s={};ng()(a)?(s.name=`${o}`,s.children=this.buildTree(a)):og()(a)?(s.name=a.name||a.code||`${o}`,Object.keys(a).filter(p=>!il.includes(p)).length&&(s.children=this.buildTree(a))):il.includes(o)||(s.name=`${o}`,s.children=[{name:a}]),Object.keys(s).length&&n.push(s)}return n}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(Ra))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function lg(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function sg(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const cg=["*"];let ug=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,mr,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:cg,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,lg,4,5,"div",1),e.qZA(),e.YNc(3,sg,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,Be.X,j.U,m.Gx],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();var pg=w(95017),ct=w(57851);function _g(i,r){if(1&i&&(e.TgZ(0,"cdk-nested-tree-node",4),e._UZ(1,"button",5),e._uU(2),e.qZA()),2&i){const t=r.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function fg(i,r){if(1&i&&(e.TgZ(0,"cdk-nested-tree-node",6)(1,"div",7),e._UZ(2,"nui-icon",8),e.TgZ(3,"span",9),e._uU(4),e.qZA()(),e.TgZ(5,"div",10),e.GkF(6,11),e.qZA()()),2&i){const t=r.$implicit,n=e.oxw(2);e.xp6(2),e.s9C("icon",n.treeControl.isExpanded(t)?"triangle-down":"triangle-right"),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.ekj("nui-tree__body--collapsed",!n.treeControl.isExpanded(t)),e.Q6J("@expandedState",n.treeControl.isExpanded(t)?"expanded":"collapsed")}}function dg(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"cdk-tree",1),e.YNc(2,_g,3,1,"cdk-nested-tree-node",2),e.YNc(3,fg,7,5,"cdk-nested-tree-node",3),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.dataSourceTree)("treeControl",t.treeControl),e.xp6(2),e.Q6J("cdkTreeNodeDefWhen",t.hasChild)}}let hg=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cdRef",void 0),(0,l.Z)(this,"treeControl",new ct.VY(o=>o.children)),(0,l.Z)(this,"dataSourceTree",void 0),(0,l.Z)(this,"sorterItems",[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}]),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"filteringState",{}),(0,l.Z)(this,"destroy$",new q.x),(0,l.Z)(this,"hasChild",(o,a)=>!!a.children?.length),this.dataSource=t,this.cdRef=n}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.dataSourceTree=new pg.P3(n.tree.itemsSource),t.cdRef.detectChanges()}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-tree"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"dataSource","treeControl"],["class","nui-tree__leaf",4,"cdkTreeNodeDef"],["class","nui-tree",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[1,"nui-tree__leaf"],["nui-button","","displayStyle","action","type","button","disabled",""],[1,"nui-tree"],["cdkTreeNodeToggle","",1,"nui-tree__header"],[1,"nui-tree__header-icon",3,"icon"],[1,"nui-tree__header-title"],[1,"nui-tree__body"],["cdkTreeNodeOutlet",""]],template:function(t,n){1&t&&e.YNc(0,dg,4,3,"ng-container",0),2&t&&e.Q6J("ngIf",n.dataSourceTree)},dependencies:[m.O5,sr.o,Vi.r,ct.Xx,ct.rO,ct.Ud,ct._0,ct.cu],styles:["[_nghost-%COMP%]   .app-filtered-view-with-list-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-filtered-view-with-list-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-filtered-view-with-list-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}.nui-tree--expanded[_ngcontent-%COMP%]{padding-bottom:5px}.nui-tree__icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:flex;flex-shrink:0;height:30px;justify-content:center;width:30px;margin-left:-7px}.nui-tree__header[_ngcontent-%COMP%]{align-items:center;border-radius:3px;cursor:pointer;display:flex;-webkit-user-select:none;-o-user-select:none;user-select:none}.nui-tree__header[_ngcontent-%COMP%]:hover{background-color:var(--nui-color-bg-transparent-hover,rgba(17, 17, 17, .05))}.nui-tree__header-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;-ms-text-overflow:ellipsis;text-overflow:ellipsis;line-height:18px;font-size:13px;font-weight:600;color:#111;color:var(--nui-color-text-default,#111)}.nui-tree__header-icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;display:flex;flex-shrink:0;height:30px;justify-content:center;width:30px}.nui-tree__header-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex-grow:2;justify-content:flex-start;padding-left:5px;min-width:0;padding-right:5px}.nui-tree__header-content-icon[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;flex-shrink:0;height:30px;justify-content:center;width:30px}.nui-tree__header-content--with-icon[_ngcontent-%COMP%]{padding-left:0}.nui-tree__header-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:2;min-width:0;width:100%}.nui-tree__header.nui-expander__header--empty.nui-expander__header[_ngcontent-%COMP%]{display:inline-flex}.nui-tree__header.nui-expander__header--empty[_ngcontent-%COMP%]   .nui-expander__header-content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.nui-tree__custom-header[_ngcontent-%COMP%]{width:100%}.nui-tree__custom-header--empty[_ngcontent-%COMP%]{display:flex;width:auto}.nui-tree__body[_ngcontent-%COMP%]{border:none;border-left:dotted 2px #d9d9d9;border-left:dotted 2px var(--nui-color-line-default, #d9d9d9);color:#111;color:var(--nui-color-text-default, #111);margin-left:14px;padding-left:14px}.nui-tree__body.hide-left-border[_ngcontent-%COMP%]{border-left:0}.nui-tree__body.ng-animating[_ngcontent-%COMP%], .nui-tree__body--collapsed[_ngcontent-%COMP%]{overflow:hidden}.nui-tree__leaf[_ngcontent-%COMP%]{display:flex;align-items:center}.nui-tree__invisible[_ngcontent-%COMP%]{display:none}"],data:{animation:[_.jnR]},changeDetection:0})),i})();const mg=["child"];function gg(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-filter-group",8),e.NdJ("filterChanged",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters())}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function vg(i,r){if(1&i&&(e.TgZ(0,"div",9,10)(2,"nui-popover",11)(3,"a",12),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(),n=e.MAs(10);e.xp6(2),e.Q6J("popoverOverlayPosition",t.overflowPopoverPosition)("template",n),e.xp6(2),e.hij("+",t.overflowCounter,"")}}function Tg(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"nui-chips-overflow",13),e.NdJ("chipRemoved",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onClear(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("overflowSource",t.overflowSource)("itemsSource",t.chipsDataSource)}}let nl=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"subregion",title:"Subregion",allFilterOptions:[{value:"Caribbean",displayValue:"Caribbean"},{value:"South America",displayValue:"South America"},{value:"Central America",displayValue:"Central America"},{value:"Northern America",displayValue:"Northern America"}],selectedFilterValues:[]},{id:"language",title:"Language",allFilterOptions:[{value:"English",displayValue:"English"},{value:"Dutch",displayValue:"Dutch"},{value:"French",displayValue:"French"},{value:"Spanish",displayValue:"Spanish"}],selectedFilterValues:[]},{id:"currency",title:"Currency",allFilterOptions:[{value:"USD",displayValue:"USD"},{value:"EUR",displayValue:"EUR"},{value:"CAD",displayValue:"CAD"},{value:"MXN",displayValue:"MXN"}],selectedFilterValues:[]}]),(0,l.Z)(this,"chipsDataSource",{groupedItems:[],flatItems:[]}),(0,l.Z)(this,"overflowCounter",void 0),(0,l.Z)(this,"overflowSource",void 0),(0,l.Z)(this,"overflowPopoverPosition",[_.XiM.bottomLeft,_.XiM.topLeft]),(0,l.Z)(this,"popover",void 0),(0,l.Z)(this,"child",void 0),(0,l.Z)(this,"filterGroups",void 0),this.dataSource=t,this.cd=n}ngAfterViewInit(){this.dataSource.applyFilters()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.child.applyFilters(),t.updateChips()})()}onChipsOverflow(t){this.overflowSource=t,this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce((o,a)=>o+a.items.length,0)||0),this.popover?.updatePosition()}onClear(t){var n=this;return(0,T.Z)(function*(){t.group?se()(t.group.items||[],t.item):se()(n.chipsDataSource.flatItems||[],t.item),n.filterGroups.find(a=>t.group?.id===a.filterGroupItem.id)?.deselectFilterItemByValue(t.item.label)})()}onClearAll(t){this.chipsDataSource.groupedItems=[],this.popover?.onClick(t),this.filterGroups.forEach(n=>n.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(t=>({id:t.id,label:t.title,items:t.selectedFilterValues.map(n=>({label:n}))})),this.cd.markForCheck()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-with-tree"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.U$R,5),e.Gf(mg,5),e.Gf(mr,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.popover=o.first),e.iGM(o=e.CRH())&&(n.child=o.first),e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([{provide:_.LvN,useClass:ag}])],decls:13,vars:4,consts:[[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"itemsSource","overflow","chipRemoved","removeAll","chipsOverflowed"],["class","nui-chips-overflowed",4,"ngIf"],["popoverWithClickTrigger",""],["child",""],[3,"filterGroupItem","filterChanged"],[1,"nui-chips-overflowed"],["overflowCounterLabel",""],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"overflowSource","itemsSource","chipRemoved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-panel")(2,"div",1)(3,"app-filter-groups-wrapper"),e.YNc(4,gg,1,1,"app-filter-group",2),e.qZA()(),e.TgZ(5,"div",3)(6,"div")(7,"nui-chips",4),e.NdJ("chipRemoved",function(a){return n.onClear(a)})("removeAll",function(a){return n.onClearAll(a)})("chipsOverflowed",function(a){return n.onChipsOverflow(a)}),e.YNc(8,vg,5,3,"div",5),e.qZA(),e.YNc(9,Tg,1,2,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(11,"app-filtered-view-tree",null,7),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(3),e.Q6J("itemsSource",n.chipsDataSource)("overflow",!0),e.xp6(1),e.Q6J("ngIf",n.overflowCounter>0))},dependencies:[m.sg,m.O5,ge.y,ug,mr,Qe.k,$e.M,j.U,hg],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})),i})();function Sg(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function yg(i,r){1&i&&e.GkF(0)}function Cg(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function wg(i,r){1&i&&e.GkF(0)}const bg=function(i){return{checkbox:i}};function Eg(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,Cg,5,2,"ng-template",null,11,e.W1O),e.YNc(3,wg,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,bg,t))}}function Fg(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const Ig=function(i){return{expander:i}};function xg(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,Sg,2,1,"ng-template",null,4,e.W1O),e.YNc(5,yg,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,Eg,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,Fg,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,Ig,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let gr=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"detectFilterChanges",!0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),(0,l.Z)(this,"filterItems",void 0),(0,l.Z)(this,"onDestroy$",new q.x),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(t){const n=this.filterItems.find(o=>o.value===t);n&&this.deselectFilterItem(n)}deselectAllFilterItems(){this.filterItems.filter(t=>t.checked).forEach(t=>this.deselectFilterItem(t))}deselectFilterItem(t){t.inputViewContainer.element.nativeElement.checked=!1,t.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(t){return t.map(n=>n.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-group"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.bK4,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,xg,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();const rl="http://nova-pg.swdev.local/api/v1/servers";let Zg=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.paginator?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(n.end-n.start));const a=this.extractMultiFilters(t);if(a.size){const s=Array.from(a.entries()).reduce((c,[p,u])=>(c[p]=u,c),{});o=o.set("filters",JSON.stringify(s))}return t.search?.value&&(o=o.set("searchField","name"),o=o.set("searchContent",t.search?.value??"")),t.sorter?.value?.sortBy&&(o=o.set("sortField",t.sorter.value.sortBy),o=o.set("sortOrder",t.sorter.value.direction.toUpperCase())),o}static getMultiFiltersNames(t){const n=[];return ye()(t,(o,a)=>{"string[]"===o?.type&&n.push(a)}),n}static extractMultiFilters(t){const n=new Map;return ye()(t,(o,a)=>{"string[]"===o?.type&&o?.value?.length>0&&n.set(a,o?.value)}),n}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count},status:n.status,location:n.location}))))})()}getBackendData(t){const n=i.getRequestParams(t),a=[this.http.get(rl,{params:n})];let s=n;["page","pageSize","sortField","sortOrder"].forEach(u=>{s=s.delete(u)});const c=s.get("filters")??"{}";i.getMultiFiltersNames(t).forEach(u=>{const f=Object.assign({},JSON.parse(c));f[u]&&(delete f[u],s=s.set("filters",JSON.stringify(f))),s=s.set("groupByField",u.toString());const d=this.http.get(`${rl}/count`,{params:s});s=s.set("filters",c),a.push(d)});const p=(u,f)=>(u[Object.keys(f)[0]]=Object.values(f)[0],u);return(0,lt.D)(a).pipe((0,pe.g)(300),(0,U.U)(([u,f,d])=>({items:u.items?.map(h=>({name:h.name,location:h.location,status:h.status}))||[],count:u.count,status:f.items?.reduce(p,{}),location:d.items?.reduce(p,{})})),(0,he.K)(u=>(this.logger.error(u),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();var ri=(()=>(function(i){i.active="Active",i.down="Down"}(ri||(ri={})),ri))();function Ag(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function Og(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const Lg=["*"];let Rg=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,gr,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:Lg,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,Ag,4,5,"div",1),e.qZA(),e.YNc(3,Og,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,Be.X,j.U,m.Gx],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();var wt=w(78372);function Mg(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,18),e.qZA())}function Ng(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function Gg(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,20),e.qZA())}function Vg(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.location)}}function kg(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,21),e.qZA())}function Ug(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function Pg(i,r){1&i&&e._UZ(0,"tr",22)}function qg(i,r){1&i&&e._UZ(0,"tr",23),2&i&&e.Q6J("rowObject",r.$implicit)}function Wg(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",24),e.TgZ(2,"div",25),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function Bg(i,r){if(1&i&&(e.TgZ(0,"div",25)(1,"div",26)(2,"div",27),e.SDv(3,28),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.pQV(t.items.length)(t.totalItems),e.QtT(3)}}const Qg=function(){return[10,20,50,100]};let $g=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"sortedColumn",{sortBy:"name",direction:_.aQE.ascending}),(0,l.Z)(this,"searchTerm",void 0),(0,l.Z)(this,"columnsToApplySearch",["name"]),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",20),(0,l.Z)(this,"selectedItems",[]),(0,l.Z)(this,"selection",{isAllPages:!1,include:["ABERN-SVR-ATQU9404"],exclude:[]}),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent(t.table.getFilterComponents()),t.dataSource.registerComponent({search:{componentInstance:t.search},paginator:{componentInstance:t.paginator}}),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=n.repeat?.itemsSource||[],t.totalItems=n.paginator?.total??0}),(0,M.R)(t.destroy$)).subscribe(),t.search.inputChange.pipe((0,wt.b)(500),(0,O.b)((0,T.Z)(function*(){return t.onSearch()})),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onSearchCancel(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}sortData(t){var n=this;return(0,T.Z)(function*(){n.sortedColumn=t,yield n.applyFilters()})()}changePagination(t){var n=this;return(0,T.Z)(function*(){yield n.applyFilters()})()}onSelectionChanged(t){this.changeDetection.detectChanges()}trackBy(t,n){return n.name}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-table-with-selection-table"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(_.gSk,5),e.Gf(_.JbP,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first)}},decls:26,vars:20,consts:function(){let r,t,n,o;return r=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`,t=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[[1,"flex-row-container"],[1,"flex-independent-row-item"],[1,"app-filtered-view-table-with-selection-table__container"],[1,"app-filtered-view-table-with-selection-table-searchable__search"],[3,"value","search","cancel"],["nui-table","",3,"dataSource","sortable","sortedColumn","selection","selectable","trackBy","sortOrderChanged","selectionChange"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",3,"rowObject",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-filtered-view-table-with-selection-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],[3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row","",3,"rowObject"],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o]},template:function(t,n){if(1&t&&(e.TgZ(0,"h2"),e._uU(1,"Selection result"),e.qZA(),e.TgZ(2,"div",0)(3,"span",1),e._uU(4),e.ALo(5,"json"),e.qZA()(),e.TgZ(6,"div",2)(7,"div",3)(8,"nui-search",4),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onSearchCancel()}),e.qZA()(),e.TgZ(9,"table",5),e.NdJ("sortOrderChanged",function(a){return n.sortData(a)})("selectionChange",function(a){return n.selection=a})("selectionChange",function(a){return n.onSelectionChanged(a)}),e.ynx(10,6),e.YNc(11,Mg,2,0,"th",7),e.YNc(12,Ng,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,Gg,2,0,"th",7),e.YNc(15,Vg,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,kg,2,0,"th",7),e.YNc(18,Ug,2,1,"td",8),e.BQk(),e.YNc(19,Pg,1,0,"tr",11),e.YNc(20,qg,1,1,"tr",12),e.qZA(),e.TgZ(21,"footer",13),e.YNc(22,Wg,4,3,"div",14),e.YNc(23,Bg,4,2,"ng-template",null,15,e.W1O),e.qZA()(),e.TgZ(25,"nui-paginator",16),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(a){return n.changePagination(a)}),e.qZA()),2&t){const o=e.MAs(24);e.xp6(4),e.Oqu(e.lcZ(5,17,n.selection)),e.xp6(4),e.Q6J("value",n.searchTerm),e.xp6(1),e.Q6J("dataSource",n.items)("sortable",!0)("sortedColumn",n.sortedColumn)("selection",n.selection)("selectable",!0)("trackBy",n.trackBy),e.xp6(10),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",o),e.xp6(3),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(19,Qg))("total",n.totalItems)}},dependencies:[m.O5,Ce.J,We.t,we.g,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y,m.Ts],styles:[".icon-margin{margin-right:5px}.app-filtered-view-table-with-selection-table__container{overflow:auto}.app-filtered-view-table-with-selection-table-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-filtered-view-table-with-selection-table-scrolling-footer{height:28px}\n"],encapsulation:2})),i})();const Hg=["child"];function Jg(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-filter-group",8),e.NdJ("filterChanged",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters())}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function jg(i,r){if(1&i&&(e.TgZ(0,"div",9,10)(2,"nui-popover",11)(3,"a",12),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(),n=e.MAs(10);e.xp6(2),e.Q6J("popoverOverlayPosition",t.overflowPopoverPosition)("template",n),e.xp6(2),e.hij("+",t.overflowCounter,"")}}function Yg(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"nui-chips-overflow",13),e.NdJ("chipRemoved",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onClear(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("overflowSource",t.overflowSource)("itemsSource",t.chipsDataSource)}}let ol=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:ri.down,displayValue:"Down"},{value:ri.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}]),(0,l.Z)(this,"chipsDataSource",{groupedItems:[],flatItems:[]}),(0,l.Z)(this,"overflowCounter",void 0),(0,l.Z)(this,"overflowSource",void 0),(0,l.Z)(this,"overflowPopoverPosition",[_.XiM.bottomLeft,_.XiM.topLeft]),(0,l.Z)(this,"outputsSubscription",void 0),(0,l.Z)(this,"popover",void 0),(0,l.Z)(this,"child",void 0),(0,l.Z)(this,"filterGroups",void 0),this.dataSource=t,this.cd=n}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(t=>{this.recalculateCounts(t),this.cd.detectChanges()})}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.child.applyFilters(),t.updateChips()})()}onChipsOverflow(t){this.overflowSource=t,this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce((o,a)=>o+a.items.length,0)||0),this.popover?.updatePosition()}onClear(t){var n=this;return(0,T.Z)(function*(){t.group?se()(t.group.items||[],t.item):se()(n.chipsDataSource.flatItems||[],t.item),n.filterGroups.find(a=>t.group?.id===a.filterGroupItem.id)?.deselectFilterItemByValue(t.item.label)})()}onClearAll(t){this.chipsDataSource.groupedItems=[],this.popover?.onClick(t),this.filterGroups.forEach(n=>n.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(t=>({id:t.id,label:t.title,items:t.selectedFilterValues.map(n=>({label:n}))})),this.cd.markForCheck()}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-table-with-selection"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.U$R,5),e.Gf(Hg,5),e.Gf(gr,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.popover=o.first),e.iGM(o=e.CRH())&&(n.child=o.first),e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([{provide:_.LvN,useClass:Zg}])],decls:13,vars:4,consts:[[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"itemsSource","overflow","chipRemoved","removeAll","chipsOverflowed"],["class","nui-chips-overflowed",4,"ngIf"],["popoverWithClickTrigger",""],["child",""],[3,"filterGroupItem","filterChanged"],[1,"nui-chips-overflowed"],["overflowCounterLabel",""],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"overflowSource","itemsSource","chipRemoved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-panel")(2,"div",1)(3,"app-filter-groups-wrapper"),e.YNc(4,Jg,1,1,"app-filter-group",2),e.qZA()(),e.TgZ(5,"div",3)(6,"div")(7,"nui-chips",4),e.NdJ("chipRemoved",function(a){return n.onClear(a)})("removeAll",function(a){return n.onClearAll(a)})("chipsOverflowed",function(a){return n.onChipsOverflow(a)}),e.YNc(8,jg,5,3,"div",5),e.qZA(),e.YNc(9,Yg,1,2,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(11,"app-filtered-view-table-with-selection-table",null,7),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(3),e.Q6J("itemsSource",n.chipsDataSource)("overflow",!0),e.xp6(1),e.Q6J("ngIf",n.overflowCounter>0))},dependencies:[m.sg,m.O5,ge.y,Rg,gr,Qe.k,$e.M,j.U,$g],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})),i})();function zg(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function Kg(i,r){1&i&&e.GkF(0)}function Xg(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function ev(i,r){1&i&&e.GkF(0)}const tv=function(i){return{checkbox:i}};function iv(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,Xg,5,2,"ng-template",null,11,e.W1O),e.YNc(3,ev,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,tv,t))}}function nv(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const rv=function(i){return{expander:i}};function ov(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,zg,2,1,"ng-template",null,4,e.W1O),e.YNc(5,Kg,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,iv,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,nv,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,rv,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let vr=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"detectFilterChanges",!0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),(0,l.Z)(this,"filterItems",void 0),(0,l.Z)(this,"onDestroy$",new q.x),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(t){const n=this.filterItems.find(o=>o.value===t);n&&this.deselectFilterItem(n)}deselectAllFilterItems(){this.filterItems.filter(t=>t.checked).forEach(t=>this.deselectFilterItem(t))}deselectFilterItem(t){t.inputViewContainer.element.nativeElement.checked=!1,t.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(t){return t.map(n=>n.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-group"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.bK4,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,ov,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();const al=new e.OlP("CUSTOM_SCROLL_ITEMS_PER_PAGE"),ll="http://nova-pg.swdev.local/api/v1/servers";let av=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.virtualScroll?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(400));const a=this.extractMultiFilters(t);if(a.size){const s=Array.from(a.entries()).reduce((c,[p,u])=>(c[p]=u,c),{});o=o.set("filters",JSON.stringify(s))}return o}static getMultiFiltersNames(t){const n=[];return ye()(t,(o,a)=>{"string[]"===o?.type&&n.push(a)}),n}static extractMultiFilters(t){const n=new Map;return ye()(t,(o,a)=>{"string[]"===o?.type&&o?.value?.length>0&&n.set(a,o?.value)}),n}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count},status:n.status,location:n.location}))))})()}getBackendData(t){const n=i.getRequestParams(t),a=[this.http.get(ll,{params:n})];let s=n;["page","pageSize","sortField","sortOrder"].forEach(u=>{s=s.delete(u)});const c=s.get("filters")??"{}";i.getMultiFiltersNames(t).forEach(u=>{const f=Object.assign({},JSON.parse(c));f[u]&&(delete f[u],s=s.set("filters",JSON.stringify(f))),s=s.set("groupByField",u.toString());const d=this.http.get(`${ll}/count`,{params:s});s=s.set("filters",c),a.push(d)});const p=(u,f)=>(u[Object.keys(f)[0]]=Object.values(f)[0],u);return(0,lt.D)(a).pipe((0,pe.g)(300),(0,U.U)(([u,f,d])=>({items:u.items?.map(h=>({name:h.name,location:h.location,status:h.status}))||[],count:u.count,status:f.items?.reduce(p,{}),location:d.items?.reduce(p,{})})),(0,he.K)(u=>(this.logger.error(u),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();var oi=(()=>(function(i){i.active="Active",i.down="Down"}(oi||(oi={})),oi))();function lv(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function sv(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const cv=["*"];let uv=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,vr,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:cv,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,lv,4,5,"div",1),e.qZA(),e.YNc(3,sv,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,Be.X,j.U,m.Gx],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})(),sl=(()=>{class i{constructor(t){(0,l.Z)(this,"itemsPerPage",void 0),(0,l.Z)(this,"virtualScrollRange",void 0),this.itemsPerPage=t,this.reset()}getFilters(){return{type:"virtualScroll",value:this.virtualScrollRange}}reset(){this.virtualScrollRange={start:0,end:this.itemsPerPage}}prepareNextPage(t){t<this.itemsPerPage||(this.virtualScrollRange.start+=this.itemsPerPage,this.virtualScrollRange.end=this.virtualScrollRange.start+this.itemsPerPage)}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(al))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function pv(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,16),e.qZA()),2&i&&e.Udp("width",30,"%")}function _v(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function fv(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,18),e.qZA()),2&i&&e.Udp("width",30,"%")}function dv(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.location," ")}}function hv(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,19),e.qZA())}function mv(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function gv(i,r){1&i&&e._UZ(0,"tr",20)}function vv(i,r){1&i&&e._UZ(0,"tr",21)}function Tv(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",22),e.TgZ(2,"div",23),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function Sv(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"div",25),e.SDv(3,26),e.qZA(),e.TgZ(4,"div",27)(5,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters(!1))}),e.SDv(6,29),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.pQV(t.items.length),e.QtT(3),e.xp6(3),e.pQV(t.pageSize),e.QtT(6)}}let yv=(()=>{class i{constructor(t,n,o,a){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"viewportManager",void 0),(0,l.Z)(this,"customVirtualScrollStrategyService",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"pageSize",400),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"viewport",void 0),(0,l.Z)(this,"rowHeight",40),(0,l.Z)(this,"previouslyLoadedCount",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.viewportManager=n,this.customVirtualScrollStrategyService=o,this.changeDetection=a}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({virtualScroll:{componentInstance:t.customVirtualScrollStrategyService}}),t.viewportManager.setViewport(t.viewport),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{let o=n.repeat?.itemsSource||[];const a=o.length;o=o.slice(0,a<t.pageSize?t.previouslyLoadedCount-a:a),t.previouslyLoadedCount=o.length,t.items=t.items.concat(o),t.customVirtualScrollStrategyService.prepareNextPage(a)}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilters(t=!0){var n=this;return(0,T.Z)(function*(){t&&n.viewportManager.reset({emitFirstPage:!1});const o=n.dataSource.getFilters();(n.dataSource.computeFiltersChange(o)||0===o.virtualScroll?.value.start)&&(n.items=[],n.customVirtualScrollStrategyService.reset()),yield n.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(_.zCP),e.Y36(sl),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-table-with-custom-virtual-scroll-table"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(B.N7,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.viewport=o.first)}},features:[e._Bn([_.zCP,sl,{provide:al,useValue:400}])],decls:20,vars:11,consts:function(){let r,t,n,o,a;return r=$localize`:1544348a6496c3dcf8e4905654cbb5f5fee191e61552568671699956057: Name `,t=$localize`:e01692d26b709ceb10a22f9279fe604d79a26aaa212627037199736435: Location `,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:fd2c761c79d0b41a63c7f1ca71a99a1439f817904607040487655280131: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: item(s). `,a=$localize`:82b9a2e2e3f636942c16552ddad1266bc1eeee473980091347819066373: Load another ${"\ufffd0\ufffd"}:INTERPOLATION: items `,[[1,"app-filtered-view-table-with-custom-virtual-scroll-table__container"],["tableStickyHeader","",1,"app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-container",3,"itemSize"],["viewportRef",""],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o,[1,"d-flex","justify-content-center"],["btn","","nui-button","","type","button","size","default","displayStyle","action",3,"click"],a]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"cdk-virtual-scroll-viewport",1,2)(3,"table",3),e.ALo(4,"sliceRange"),e.ynx(5,4),e.YNc(6,pv,2,2,"th",5),e.YNc(7,_v,2,1,"td",6),e.BQk(),e.ynx(8,7),e.YNc(9,fv,2,2,"th",5),e.YNc(10,dv,2,1,"td",6),e.BQk(),e.ynx(11,8),e.YNc(12,hv,2,0,"th",9),e.YNc(13,mv,2,1,"td",6),e.BQk(),e.YNc(14,gv,1,0,"tr",10),e.YNc(15,vv,1,0,"ng-template",11),e.qZA()(),e.TgZ(16,"footer",12),e.YNc(17,Tv,4,3,"div",13),e.YNc(18,Sv,7,2,"ng-template",null,14,e.W1O),e.qZA()()),2&t){const o=e.MAs(2),a=e.MAs(19);e.xp6(1),e.Q6J("itemSize",n.rowHeight),e.xp6(2),e.Q6J("dataSource",e.xi3(4,8,n.items,o.getRenderedRange())),e.xp6(11),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns)("cdkVirtualForOf",n.items),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",a)}},dependencies:[B.xd,B.x0,B.N7,m.O5,We.t,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y,ii.F,ni.Q],styles:[".icon-margin{margin-right:5px}.app-filtered-view-table-with-custom-virtual-scroll-table__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-container{height:300px}.app-filtered-view-table-with-custom-virtual-scroll-table-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}\n"],encapsulation:2})),i})();const Cv=["child"];function wv(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-filter-group",8),e.NdJ("filterChanged",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters())}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function bv(i,r){if(1&i&&(e.TgZ(0,"div",9,10)(2,"nui-popover",11)(3,"a",12),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(),n=e.MAs(10);e.xp6(2),e.Q6J("popoverOverlayPosition",t.overflowPopoverPosition)("template",n),e.xp6(2),e.hij("+",t.overflowCounter,"")}}function Ev(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"nui-chips-overflow",13),e.NdJ("chipRemoved",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onClear(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("overflowSource",t.overflowSource)("itemsSource",t.chipsDataSource)}}let cl=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:oi.down,displayValue:"Down"},{value:oi.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}]),(0,l.Z)(this,"chipsDataSource",{groupedItems:[],flatItems:[]}),(0,l.Z)(this,"overflowCounter",void 0),(0,l.Z)(this,"overflowSource",void 0),(0,l.Z)(this,"overflowPopoverPosition",[_.XiM.bottomLeft,_.XiM.topLeft]),(0,l.Z)(this,"outputsSubscription",void 0),(0,l.Z)(this,"popover",void 0),(0,l.Z)(this,"child",void 0),(0,l.Z)(this,"filterGroups",void 0),this.dataSource=t,this.cd=n}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(t=>{this.recalculateCounts(t),this.cd.detectChanges()})}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.child.applyFilters(),t.updateChips()})()}onChipsOverflow(t){this.overflowSource=t,this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce((o,a)=>o+a.items.length,0)||0),this.popover?.updatePosition()}onClear(t){var n=this;return(0,T.Z)(function*(){t.group?se()(t.group.items||[],t.item):se()(n.chipsDataSource.flatItems||[],t.item),n.filterGroups.find(a=>t.group?.id===a.filterGroupItem.id)?.deselectFilterItemByValue(t.item.label)})()}onClearAll(t){this.chipsDataSource.groupedItems=[],this.popover?.onClick(t),this.filterGroups.forEach(n=>n.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(t=>({id:t.id,label:t.title,items:t.selectedFilterValues.map(n=>({label:n}))})),this.cd.markForCheck()}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-table-with-custom-virtual-scroll"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.U$R,5),e.Gf(Cv,5),e.Gf(vr,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.popover=o.first),e.iGM(o=e.CRH())&&(n.child=o.first),e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([_.zCP,{provide:_.LvN,useClass:av}])],decls:13,vars:4,consts:[[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"itemsSource","overflow","chipRemoved","removeAll","chipsOverflowed"],["class","nui-chips-overflowed",4,"ngIf"],["popoverWithClickTrigger",""],["child",""],[3,"filterGroupItem","filterChanged"],[1,"nui-chips-overflowed"],["overflowCounterLabel",""],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"overflowSource","itemsSource","chipRemoved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-panel")(2,"div",1)(3,"app-filter-groups-wrapper"),e.YNc(4,wv,1,1,"app-filter-group",2),e.qZA()(),e.TgZ(5,"div",3)(6,"div")(7,"nui-chips",4),e.NdJ("chipRemoved",function(a){return n.onClear(a)})("removeAll",function(a){return n.onClearAll(a)})("chipsOverflowed",function(a){return n.onChipsOverflow(a)}),e.YNc(8,bv,5,3,"div",5),e.qZA(),e.YNc(9,Ev,1,2,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(11,"app-filtered-view-table-with-custom-virtual-scroll-table",null,7),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(3),e.Q6J("itemsSource",n.chipsDataSource)("overflow",!0),e.xp6(1),e.Q6J("ngIf",n.overflowCounter>0))},dependencies:[m.sg,m.O5,ge.y,uv,vr,Qe.k,$e.M,j.U,yv],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})),i})();function Fv(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filterGroupItem.title)}}function Iv(i,r){1&i&&e.GkF(0)}function xv(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.displayValue),e.xp6(2),e.Oqu(t.count)}}function Zv(i,r){1&i&&e.GkF(0)}const Av=function(i){return{checkbox:i}};function Ov(i,r){if(1&i&&(e.TgZ(0,"nui-checkbox",10),e.YNc(1,xv,5,2,"ng-template",null,11,e.W1O),e.YNc(3,Zv,1,0,"ng-container",5),e.qZA()),2&i){const t=r.$implicit,n=e.MAs(2),o=e.oxw(2);e.Q6J("value",t.value)("checked",o.isChecked(t.value)),e.xp6(3),e.Q6J("ngTemplateOutlet",o.checkboxTemplateRef||n)("ngTemplateOutletContext",e.VKq(4,Av,t))}}function Lv(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showFilterDialog())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Show all (",t.filterGroupItem.allFilterOptions.length,") ")}}const Rv=function(i){return{expander:i}};function Dv(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"nui-expander",2),e.NdJ("openChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpenChanged(o))}),e.TgZ(2,"div",3),e.YNc(3,Fv,2,1,"ng-template",null,4,e.W1O),e.YNc(5,Iv,1,0,"ng-container",5),e.qZA(),e.TgZ(6,"nui-checkbox-group",6),e.NdJ("valuesChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onValueChanged(o))}),e.YNc(7,Ov,4,6,"nui-checkbox",7),e.ALo(8,"slice"),e.qZA(),e.YNc(9,Lv,2,1,"a",8),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("open",null==n.filterGroupItem?null:n.filterGroupItem.expanded),e.xp6(4),e.Q6J("ngTemplateOutlet",n.expanderTemplateRef||t)("ngTemplateOutletContext",e.VKq(10,Rv,n.filterGroupItem)),e.xp6(1),e.Q6J("values",n.filterGroupItem.selectedFilterValues),e.xp6(1),e.Q6J("ngForOf",e.Dn7(8,6,n.filterGroupItem.allFilterOptions,0,n.getDisplayedFiltersCount())),e.xp6(2),e.Q6J("ngIf",(null==n.filterGroupItem||null==n.filterGroupItem.allFilterOptions?null:n.filterGroupItem.allFilterOptions.length)>n.getDisplayedFiltersCount())}}let Sr=(()=>{class i{constructor(t){(0,l.Z)(this,"dialogService",void 0),(0,l.Z)(this,"detectFilterChanges",!0),(0,l.Z)(this,"filterGroupItem",void 0),(0,l.Z)(this,"checkboxTemplateRef",void 0),(0,l.Z)(this,"expanderTemplateRef",void 0),(0,l.Z)(this,"filterChanged",new e.vpe),(0,l.Z)(this,"showAllButtonClicked",new e.vpe),(0,l.Z)(this,"filterItems",void 0),(0,l.Z)(this,"onDestroy$",new q.x),this.dialogService=t}ngOnInit(){this.filterGroupItem.allFilterOptions=ve()(this.filterGroupItem.allFilterOptions,"value","asc")}isChecked(t){return this.filterGroupItem.selectedFilterValues.indexOf(t)>-1}onValueChanged(t){this.filterGroupItem.selectedFilterValues=t,this.filterChanged.emit(this.filterGroupItem)}onOpenChanged(t){this.filterGroupItem.expanded=t}getFilters(){return{type:"string[]",value:this.filterGroupItem.selectedFilterValues,metadata:{allCategories:this.getAllFilterOptionsList(this.filterGroupItem.allFilterOptions),expanded:Boolean(this.filterGroupItem.expanded)}}}showFilterDialog(){this.showAllButtonClicked.emit()}getDisplayedFiltersCount(){return this.filterGroupItem.itemsToDisplay?this.filterGroupItem.itemsToDisplay:10}hasFilterOptions(){return this.filterGroupItem.allFilterOptions.length>0}deselectFilterItemByValue(t){const n=this.filterItems.find(o=>o.value===t);n&&this.deselectFilterItem(n)}deselectAllFilterItems(){this.filterItems.filter(t=>t.checked).forEach(t=>this.deselectFilterItem(t))}deselectFilterItem(t){t.inputViewContainer.element.nativeElement.checked=!1,t.inputViewContainer.element.nativeElement.dispatchEvent(new Event("change"))}getAllFilterOptionsList(t){return t.map(n=>n.value)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.xAy))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-group"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.bK4,5),2&t){let o;e.iGM(o=e.CRH())&&(n.filterItems=o)}},inputs:{filterGroupItem:"filterGroupItem",checkboxTemplateRef:"checkboxTemplateRef",expanderTemplateRef:"expanderTemplateRef"},outputs:{filterChanged:"filterChanged",showAllButtonClicked:"showAllButtonClicked"},decls:1,vars:1,consts:[["class","filter-group",4,"ngIf"],[1,"filter-group"],[3,"open","openChange"],["nuiExpanderHeader",""],["defaultExpander",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"values","valuesChange"],["class","nui-checkbox--justified",3,"value","checked",4,"ngFor","ngForOf"],["class","filter-group__show-more-link",3,"click",4,"ngIf"],[1,"filter-group__header"],[1,"nui-checkbox--justified",3,"value","checked"],["defaultCheckboxes",""],[1,"d-flex","justify-content-between","filter-group__checkbox"],[1,"d-inline-block","filter-group__checkbox-value"],[1,"d-inline-block","filter-group__checkbox-count"],[1,"filter-group__show-more-link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,Dv,10,12,"div",0),2&t&&e.Q6J("ngIf",n.hasFilterOptions())},dependencies:[m.sg,m.O5,m.tP,Te.b,Se.A,_e.F,m.OU],styles:[".filter-group__header[_ngcontent-%COMP%]{color:var(--nui-color-text-default,#111);font-weight:700;line-height:18px;text-overflow:ellipsis}.filter-group__show-more-link[_ngcontent-%COMP%]{cursor:pointer;padding:7px}.filter-group__checkbox-value[_ngcontent-%COMP%]{flex:0 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter-group__checkbox-count[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:5px;text-align:right}"]})),i})();const pl="http://nova-pg.swdev.local/api/v1/servers";let Mv=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.virtualScroll?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(400));const a=this.extractMultiFilters(t);if(a.size){const s=Array.from(a.entries()).reduce((c,[p,u])=>(c[p]=u,c),{});o=o.set("filters",JSON.stringify(s))}return o}static getMultiFiltersNames(t){const n=[];return ye()(t,(o,a)=>{"string[]"===o?.type&&n.push(a)}),n}static extractMultiFilters(t){const n=new Map;return ye()(t,(o,a)=>{"string[]"===o?.type&&o?.value?.length>0&&n.set(a,o?.value)}),n}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count},status:n.status,location:n.location}))))})()}getBackendData(t){const n=i.getRequestParams(t),a=[this.http.get(pl,{params:n})];let s=n;["page","pageSize","sortField","sortOrder"].forEach(u=>{s=s.delete(u)});const c=s.get("filters")??"{}";i.getMultiFiltersNames(t).forEach(u=>{const f=Object.assign({},JSON.parse(c));f[u]&&(delete f[u],s=s.set("filters",JSON.stringify(f))),s=s.set("groupByField",u.toString());const d=this.http.get(`${pl}/count`,{params:s});s=s.set("filters",c),a.push(d)});const p=(u,f)=>(u[Object.keys(f)[0]]=Object.values(f)[0],u);return(0,lt.D)(a).pipe((0,pe.g)(300),(0,U.U)(([u,f,d])=>({items:u.items?.map(h=>({name:h.name,location:h.location,status:h.status}))||[],count:u.count,status:f.items?.reduce(p,{}),location:d.items?.reduce(p,{})})),(0,he.K)(u=>(this.logger.error(u),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();var ai=(()=>(function(i){i.active="Active",i.down="Down"}(ai||(ai={})),ai))();function Nv(i,r){if(1&i&&(e.TgZ(0,"div",3)(1,"nui-popover",4),e._uU(2),e.ALo(3,"i18nPlural"),e.qZA()()),2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("template",n),e.xp6(1),e.hij(" ",e.xi3(3,2,t.emptyFilterGroupsCount(),t.i18nHiddenFiltersMapping)," ")}}function Gv(i,r){if(1&i&&(e.TgZ(0,"span",5),e.SDv(1,6),e.qZA(),e._UZ(2,"nui-divider",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.emptyFilterGroupsTitles())}}const Vv=["*"];let kv=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSourceService",void 0),(0,l.Z)(this,"filterGroups",void 0),(0,l.Z)(this,"i18nHiddenFiltersMapping",{"=1":$localize`1 hidden filter.`,other:$localize`# hidden filters.`}),this.dataSourceService=t}ngAfterViewInit(){this.dataSourceService.registerComponent(this.getFilterComponents()),this.filterGroups.changes.subscribe(()=>{this.dataSourceService.registerComponent(this.getFilterComponents())})}emptyFilterGroupsTitles(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).map(t=>t.filterGroupItem.title).join(", ")}emptyFilterGroupsExist(){return this.emptyFilterGroupsCount()>0}emptyFilterGroupsCount(){return this.filterGroups.filter(t=>P()(t.filterGroupItem.allFilterOptions)).length}getFilterComponents(){return this.filterGroups.reduce((t,n)=>(t[n.filterGroupItem.id]={componentInstance:n},t),{})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filter-groups-wrapper"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,Sr,4),2&t){let a;e.iGM(a=e.CRH())&&(n.filterGroups=a)}},ngContentSelectors:Vv,decls:5,vars:1,consts:function(){let r;return r=$localize`:c4e4d01ee17f88a7eac2c5247e75ff6c49709a253951386529666896274: Following filter properties are turned on, but there are no existing values for them in the system. `,[[1,"filter-groups-wrapper"],["class","filter-groups-wrapper__hidden-filters d-flex align-items-center",4,"ngIf"],["hiddenFiltersPopover",""],[1,"filter-groups-wrapper__hidden-filters","d-flex","align-items-center"],[3,"template"],[1,"filter-groups-wrapper__popover-hint"],r,["size","small"],[1,"filter-groups-wrapper__popover-hidden-filters"]]},template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,Nv,4,5,"div",1),e.qZA(),e.YNc(3,Gv,5,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.emptyFilterGroupsExist()))},dependencies:[m.O5,Be.X,j.U,m.Gx],styles:[".filter-groups-wrapper__hidden-filters[_ngcontent-%COMP%]{line-height:14px;font-size:11px;background:#f2f2f2;height:30px;padding-left:10px;color:#1119;margin-top:10px}.filter-groups-wrapper__popover-hidden-filters[_ngcontent-%COMP%]{color:#1119;line-height:14px;font-size:11px}"]})),i})();function Uv(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,18),e.qZA()),2&i&&e.Udp("width",30,"%")}function Pv(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function qv(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,20),e.qZA()),2&i&&e.Udp("width",30,"%")}function Wv(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.location," ")}}function Bv(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,21),e.qZA())}function Qv(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function $v(i,r){1&i&&e._UZ(0,"tr",22)}function Hv(i,r){1&i&&e._UZ(0,"tr",23),2&i&&e.Q6J("rowObject",r.$implicit)}function Jv(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",24),e.TgZ(2,"div",25),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function jv(i,r){1&i&&(e.ynx(0),e.SDv(1,30),e.BQk())}function Yv(i,r){1&i&&(e.TgZ(0,"strong"),e._uU(1,". All items loaded."),e.qZA())}function zv(i,r){if(1&i&&(e.TgZ(0,"div",25)(1,"div",26)(2,"div",27),e.SDv(3,28),e.qZA(),e.TgZ(4,"div",27),e.YNc(5,jv,2,0,"ng-container",15),e.YNc(6,Yv,2,0,"ng-template",null,29,e.W1O),e.qZA()()()),2&i){const t=e.MAs(7),n=e.oxw();e.xp6(3),e.pQV(n.items.length)(n.totalItems),e.QtT(3),e.xp6(2),e.Q6J("ngIf",n.items.length!==n.totalItems)("ngIfElse",t)}}let Kv=(()=>{class i{constructor(t,n,o){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"viewportManager",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"pageSize",400),(0,l.Z)(this,"selectedItems",[]),(0,l.Z)(this,"selection",{isAllPages:!1,include:["ABERN-SVR-ATQU9404"],exclude:[]}),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"viewport",void 0),(0,l.Z)(this,"rowHeight",40),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.viewportManager=n,this.changeDetection=o}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({virtualScroll:{componentInstance:t.viewportManager}}),t.viewportManager.setViewport(t.viewport).observeNextPage$({pageSize:t.pageSize}).pipe((0,Kt.h)(()=>!t.items.length||t.items.length<t.totalItems),(0,O.b)((0,T.Z)(function*(){return t.applyFilters(!1)})),(0,Xt.w)(()=>t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=t.items.concat(n.repeat?.itemsSource||[]),t.totalItems=n.paginator?.total||0,t.changeDetection.detectChanges()}))),(0,M.R)(t.destroy$)).subscribe()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSelectionChanged(t){this.changeDetection.detectChanges()}trackBy(t,n){return n.name}applyFilters(t=!0){var n=this;return(0,T.Z)(function*(){t&&n.viewportManager.reset({emitFirstPage:!1});const o=n.dataSource.getFilters();(n.dataSource.computeFiltersChange(o)||0===o.virtualScroll?.value.start)&&(n.items=[]),yield n.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(_.zCP),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-table-with-virtual-scroll-selection-table"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(B.N7,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.viewport=o.first)}},decls:26,vars:17,consts:function(){let r,t,n,o,a;return r=$localize`:1544348a6496c3dcf8e4905654cbb5f5fee191e61552568671699956057: Name `,t=$localize`:e01692d26b709ceb10a22f9279fe604d79a26aaa212627037199736435: Location `,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,a=$localize`:b12cc7551005a9787976bb8d2a161113feed479a9056616360897919297:, scroll down for more.`,[[1,"flex-row-container"],[1,"flex-independent-row-item"],[1,"app-filtered-view-table-with-virtual-scroll-selection-table__container"],["tableStickyHeader","",1,"app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-container",3,"itemSize"],["viewportRef",""],["nui-table","",3,"dataSource","selection","selectable","trackBy","selectionChange"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row","",3,"rowObject"],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o,["endOfData",""],a]},template:function(t,n){if(1&t&&(e.TgZ(0,"h2"),e._uU(1,"Selection result"),e.qZA(),e.TgZ(2,"div",0)(3,"span",1),e._uU(4),e.ALo(5,"json"),e.qZA()(),e.TgZ(6,"div",2)(7,"cdk-virtual-scroll-viewport",3,4)(9,"table",5),e.NdJ("selectionChange",function(a){return n.selection=a})("selectionChange",function(a){return n.onSelectionChanged(a)}),e.ALo(10,"sliceRange"),e.ynx(11,6),e.YNc(12,Uv,2,2,"th",7),e.YNc(13,Pv,2,1,"td",8),e.BQk(),e.ynx(14,9),e.YNc(15,qv,2,2,"th",7),e.YNc(16,Wv,2,1,"td",8),e.BQk(),e.ynx(17,10),e.YNc(18,Bv,2,0,"th",11),e.YNc(19,Qv,2,1,"td",8),e.BQk(),e.YNc(20,$v,1,0,"tr",12),e.YNc(21,Hv,1,1,"ng-template",13),e.qZA()(),e.TgZ(22,"footer",14),e.YNc(23,Jv,4,3,"div",15),e.YNc(24,zv,8,4,"ng-template",null,16,e.W1O),e.qZA()()),2&t){const o=e.MAs(8),a=e.MAs(25);e.xp6(4),e.Oqu(e.lcZ(5,12,n.selection)),e.xp6(3),e.Q6J("itemSize",n.rowHeight),e.xp6(2),e.Q6J("dataSource",e.xi3(10,14,n.items,o.getRenderedRange()))("selection",n.selection)("selectable",!0)("trackBy",n.trackBy),e.xp6(11),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns)("cdkVirtualForOf",n.items),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",a)}},dependencies:[B.xd,B.x0,B.N7,m.O5,We.t,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y,ii.F,m.Ts,ni.Q],styles:[".icon-margin{margin-right:5px}.app-filtered-view-table-with-virtual-scroll-selection-table__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-container{height:300px}.app-filtered-view-table-with-virtual-scroll-selection-table-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}\n"],encapsulation:2})),i})();const Xv=["child"];function e1(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-filter-group",8),e.NdJ("filterChanged",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters())}),e.qZA()}2&i&&e.Q6J("filterGroupItem",r.$implicit)}function t1(i,r){if(1&i&&(e.TgZ(0,"div",9,10)(2,"nui-popover",11)(3,"a",12),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(),n=e.MAs(10);e.xp6(2),e.Q6J("popoverOverlayPosition",t.overflowPopoverPosition)("template",n),e.xp6(2),e.hij("+",t.overflowCounter,"")}}function n1(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"nui-chips-overflow",13),e.NdJ("chipRemoved",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onClear(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("overflowSource",t.overflowSource)("itemsSource",t.chipsDataSource)}}let _l=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"filterGroupItems",[{id:"status",title:"Status",expanded:!0,allFilterOptions:[{value:ai.down,displayValue:"Down"},{value:ai.active,displayValue:"Active"}],selectedFilterValues:[]},{id:"location",title:"Location",allFilterOptions:[{value:"Austin",displayValue:"Austin"},{value:"Brno",displayValue:"Brno"},{value:"Bucharest",displayValue:"Bucharest"},{value:"Kyiv",displayValue:"Kyiv"},{value:"London",displayValue:"London"}],selectedFilterValues:[]}]),(0,l.Z)(this,"chipsDataSource",{groupedItems:[],flatItems:[]}),(0,l.Z)(this,"overflowCounter",void 0),(0,l.Z)(this,"overflowSource",void 0),(0,l.Z)(this,"overflowPopoverPosition",[_.XiM.bottomLeft,_.XiM.topLeft]),(0,l.Z)(this,"outputsSubscription",void 0),(0,l.Z)(this,"popover",void 0),(0,l.Z)(this,"child",void 0),(0,l.Z)(this,"filterGroups",void 0),this.dataSource=t,this.cd=n}ngAfterViewInit(){this.outputsSubscription=this.dataSource.outputsSubject.subscribe(t=>{this.recalculateCounts(t),this.cd.detectChanges()})}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.child.applyFilters(),t.updateChips()})()}onChipsOverflow(t){this.overflowSource=t,this.overflowCounter=(this.overflowSource.flatItems?.length||0)+(this.overflowSource.groupedItems?.reduce((o,a)=>o+a.items.length,0)||0),this.popover?.updatePosition()}onClear(t){var n=this;return(0,T.Z)(function*(){t.group?se()(t.group.items||[],t.item):se()(n.chipsDataSource.flatItems||[],t.item),n.filterGroups.find(a=>t.group?.id===a.filterGroupItem.id)?.deselectFilterItemByValue(t.item.label)})()}onClearAll(t){this.chipsDataSource.groupedItems=[],this.popover?.onClick(t),this.filterGroups.forEach(n=>n.deselectAllFilterItems())}updateChips(){this.chipsDataSource.groupedItems=this.filterGroupItems.map(t=>({id:t.id,label:t.title,items:t.selectedFilterValues.map(n=>({label:n}))})),this.cd.markForCheck()}recalculateCounts(t){this.filterGroupItems.forEach(n=>{n.allFilterOptions.forEach(o=>{o.count=t[n.id][o.value]??0})})}ngOnDestroy(){this.outputsSubscription.unsubscribe()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-filtered-view-table-with-virtual-scroll-selection"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.U$R,5),e.Gf(Xv,5),e.Gf(Sr,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.popover=o.first),e.iGM(o=e.CRH())&&(n.child=o.first),e.iGM(o=e.CRH())&&(n.filterGroups=o)}},features:[e._Bn([_.zCP,{provide:_.LvN,useClass:Mv}])],decls:13,vars:4,consts:[[1,"mt-2","nui-edge-definer"],["nuiPanelEmbeddedBody",""],[3,"filterGroupItem","filterChanged",4,"ngFor","ngForOf"],[1,"ml-2"],[3,"itemsSource","overflow","chipRemoved","removeAll","chipsOverflowed"],["class","nui-chips-overflowed",4,"ngIf"],["popoverWithClickTrigger",""],["child",""],[3,"filterGroupItem","filterChanged"],[1,"nui-chips-overflowed"],["overflowCounterLabel",""],["trigger","click",3,"popoverOverlayPosition","template"],[1,"nui-chips-overflowed__counter"],["orientation","vertical",3,"overflowSource","itemsSource","chipRemoved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-panel")(2,"div",1)(3,"app-filter-groups-wrapper"),e.YNc(4,e1,1,1,"app-filter-group",2),e.qZA()(),e.TgZ(5,"div",3)(6,"div")(7,"nui-chips",4),e.NdJ("chipRemoved",function(a){return n.onClear(a)})("removeAll",function(a){return n.onClearAll(a)})("chipsOverflowed",function(a){return n.onChipsOverflow(a)}),e.YNc(8,t1,5,3,"div",5),e.qZA(),e.YNc(9,n1,1,2,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(11,"app-filtered-view-table-with-virtual-scroll-selection-table",null,7),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.filterGroupItems),e.xp6(3),e.Q6J("itemsSource",n.chipsDataSource)("overflow",!0),e.xp6(1),e.Q6J("ngIf",n.overflowCounter>0))},dependencies:[m.sg,m.O5,ge.y,kv,Sr,Qe.k,$e.M,j.U,Kv],styles:[".filter-panel__heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.filter-panel__heading-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}.nui-chips-overflowed__counter[_ngcontent-%COMP%]{margin-left:3px;display:inline-flex}"],changeDetection:0})),i})();function r1(i,r){1&i&&e.GkF(0)}function o1(i,r){1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2," To give users the ability to select rows, do the following: "),e.qZA(),e.TgZ(3,"ol")(4,"li"),e._uU(5," Set the "),e.TgZ(6,"code"),e._uU(7,"selectable"),e.qZA(),e._uU(8," input to "),e.TgZ(9,"code"),e._uU(10,"true"),e.qZA(),e._uU(11,". "),e.qZA(),e.TgZ(12,"li"),e._uU(13," Bind a trackBy handler to the "),e.TgZ(14,"code")(15,"a",9),e._uU(16,"trackBy"),e.qZA()(),e._uU(17," property inherited from "),e.TgZ(18,"code")(19,"a",10),e._uU(20,"CdkTable"),e.qZA()(),e._uU(21,". The trackBy handler should return a value that uniquely identifies each item in the table. "),e._UZ(22,"br"),e.TgZ(23,"strong"),e._uU(24,"Note:"),e.qZA(),e._uU(25," When "),e.TgZ(26,"code"),e._uU(27,"trackBy"),e.qZA(),e._uU(28," is used, the "),e.TgZ(29,"code")(30,"a",11),e._uU(31,"ISelection"),e.qZA()(),e._uU(32," will consist of the "),e.TgZ(33,"code"),e._uU(34,"trackBy"),e.qZA(),e._uU(35," property values only and will not contain entire representations of the selected objects. As a result, it may be beneficial to keep a separate index that maps the selected item IDs to the corresponding objects. "),e.qZA(),e.TgZ(36,"li"),e._uU(37," Pass the row object to "),e.TgZ(38,"code"),e._uU(39,"nui-row"),e.qZA(),e._uU(40," using the "),e.TgZ(41,"code"),e._uU(42,"rowObject"),e.qZA(),e._uU(43," input. "),e.qZA(),e.TgZ(44,"li"),e._uU(45," Bind to the selection event using the "),e.TgZ(46,"code"),e._uU(47,"(selectionChange)"),e.qZA(),e._uU(48," output. The event's payload is an "),e.TgZ(49,"code")(50,"a",11),e._uU(51,"ISelection"),e.qZA()(),e._uU(52," object which should be converted to selected items by calling the "),e.TgZ(53,"code"),e._uU(54,"getSelectedItems"),e.qZA(),e._uU(55," function on the "),e.TgZ(56,"code")(57,"a",12),e._uU(58,"SelectorService"),e.qZA()(),e._uU(59,". "),e.qZA()(),e.TgZ(60,"p")(61,"b"),e._uU(62,"Note 1:"),e.qZA(),e._uU(63,"To preselect rows in a table or to programmatically change the selection you can use the "),e.TgZ(64,"code"),e._uU(65,"selection"),e.qZA(),e._uU(66," input which is of type "),e.TgZ(67,"code")(68,"a",11),e._uU(69,"ISelection"),e.qZA()(),e._uU(70,". "),e.qZA(),e.TgZ(71,"p")(72,"b"),e._uU(73,"Note 2:"),e.qZA(),e._uU(74," If you need to use "),e.TgZ(75,"code"),e._uU(76,"nui-paginator"),e.qZA(),e._uU(77," with row selection, you need to pass the total number of items on all pages into the "),e.TgZ(78,"code"),e._uU(79,"totalItems"),e.qZA(),e._uU(80," input. "),e.qZA(),e.TgZ(81,"nui-message",13)(82,"p")(83,"strong"),e._uU(84,"Important:"),e.qZA(),e._uU(85," When working with data that's coming across the wire, it's necessary to bind a "),e.TgZ(86,"code"),e._uU(87,"trackBy"),e.qZA(),e._uU(88," handler as mentioned above. This will allow selection tracking to be based on the identifier returned by the "),e.TgZ(89,"code"),e._uU(90,"trackBy"),e.qZA(),e._uU(91," handler. If a "),e.TgZ(92,"code"),e._uU(93,"trackBy"),e.qZA(),e._uU(94," is not provided, comparisons to determine whether items are selected will be based on object reference which of course won't work with items coming from a backend. "),e.qZA(),e._uU(95,' Take a look at the source on the "Selection" tab example to see how. '),e.qZA(),e.BQk()),2&i&&(e.xp6(81),e.Q6J("allowDismiss",!1))}function a1(i,r){1&i&&(e.TgZ(0,"li")(1,"nui-expander",14)(2,"p"),e._uU(3," Enables single-selection with deselection not allowed. "),e.qZA()()()),2&i&&(e.xp6(1),e.Q6J("open",!1))}function l1(i,r){1&i&&(e.TgZ(0,"li")(1,"nui-expander",15)(2,"p"),e._uU(3," Enables single-selection with no radio buttons and deselection allowed. "),e.qZA()()()),2&i&&(e.xp6(1),e.Q6J("open",!1))}function s1(i,r){1&i&&(e.TgZ(0,"li")(1,"nui-expander",16)(2,"p"),e._uU(3," Enables single-selection with no radio buttons and deselection not allowed. "),e.qZA()()()),2&i&&(e.xp6(1),e.Q6J("open",!1))}function c1(i,r){1&i&&(e.TgZ(0,"li")(1,"nui-expander",17)(2,"p"),e._uU(3," Enables single-selection with deselection allowed. "),e.qZA()()()),2&i&&(e.xp6(1),e.Q6J("open",!1))}function u1(i,r){if(1&i&&(e.TgZ(0,"ul")(1,"li")(2,"nui-expander",6)(3,"p"),e._uU(4,"Table rows are not selectable."),e.qZA()()(),e.TgZ(5,"li")(6,"nui-expander",7)(7,"p"),e._uU(8),e.qZA(),e.YNc(9,o1,96,1,"ng-container",8),e.qZA()(),e.YNc(10,a1,4,1,"li",8),e.YNc(11,l1,4,1,"li",8),e.YNc(12,s1,4,1,"li",8),e.YNc(13,c1,4,1,"li",8),e.qZA()),2&i){const t=r.type,n=e.oxw(2);e.xp6(2),e.Q6J("open",!1),e.xp6(4),e.Q6J("open",!1),e.xp6(2),e.hij(" This option enables the possibility to select one or more rows in the ",n.forComponent?n.forComponent:"component",". "),e.xp6(1),e.Q6J("ngIf",t===n.componentType.table),e.xp6(1),e.Q6J("ngIf",t===n.componentType.list),e.xp6(1),e.Q6J("ngIf",t===n.componentType.list),e.xp6(1),e.Q6J("ngIf",t===n.componentType.list),e.xp6(1),e.Q6J("ngIf",t===n.componentType.list)}}const fl=function(i,r){return[i,r]},dl=function(i,r){return{tpl:i,types:r}};function p1(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2," This string option allows you to select whether to enable selection and, if so, what type. Default is "),e.TgZ(3,"code"),e._uU(4,"none"),e.qZA(),e._uU(5),e.qZA(),e.YNc(6,r1,1,0,"ng-container",4),e.YNc(7,u1,14,8,"ng-template",null,5,e.W1O),e.BQk()),2&i){const t=e.MAs(8),n=e.oxw(),o=e.MAs(11);e.xp6(5),e.hij(". The values currently supported for this option are listed",n.forComponent?"":" below for each type of component",": "),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(6,dl,t,e.WLB(3,fl,n.componentType.list,n.componentType.table)))}}function _1(i,r){1&i&&e.GkF(0)}function f1(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2," The "),e.TgZ(3,"code"),e._uU(4,"nui-repeat"),e.qZA(),e._uU(5," used inside this schematic allows you to manage the virtual viewport by exposing its "),e.TgZ(6,"code"),e._uU(7),e.qZA(),e._uU(8," property which is an instance of "),e.TgZ(9,"code")(10,"a",25),e._uU(11,"CdkVirtualScrollViewport"),e.qZA()(),e._uU(12,". The example below uses Nova's "),e.TgZ(13,"code")(14,"a",26),e._uU(15,"VirtualViewportManager"),e.qZA()(),e._uU(16," to handle the viewport management duties via the "),e.TgZ(17,"code"),e._uU(18),e.qZA(),e._uU(19," property. "),e.qZA(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(7),e.Oqu(t.getRepeatPropKey("viewportRef")),e.xp6(11),e.Oqu(t.getRepeatPropKey("viewportRef"))}}function d1(i,r){1&i&&(e.ynx(0),e._uU(1," The "),e.TgZ(2,"code"),e._uU(3,"nui-table"),e.qZA(),e._uU(4," used inside this schematic API is using "),e.TgZ(5,"a",27),e._uU(6,"nui table virtual scroll directive"),e.qZA(),e._uU(7,". It makes it possible to load items in chunks. The amount of items loaded per fetch can be configured by setting the "),e.TgZ(8,"code"),e._uU(9,"range"),e.qZA(),e._uU(10," variable. "),e.TgZ(11,"nui-message",13),e._uU(12," The following examples use custom Nova "),e.TgZ(13,"a",27),e._uU(14,"TableVirtualScrollLinearDirective"),e.qZA(),e._uU(15," to perform scrolling based on scrolling indexes within the virtual scroll viewport. Customers are free to create their own directive and\\or scrolling strategy if they want custom behavior. "),e.qZA(),e.TgZ(16,"nui-message",13),e._uU(17," There are some known "),e.TgZ(18,"strong"),e._uU(19,"technical limitations"),e.qZA(),e._uU(20,":"),e._UZ(21,"br"),e.TgZ(22,"ol")(23,"li"),e._uU(24," Data for the table should be provided in a DataSource service "),e.qZA(),e.TgZ(25,"li"),e._uU(26," Each datasource should have a page counter, to enable items prefetching (in case the viewport size is larger that the chosen items per page selected) "),e.qZA(),e.TgZ(27,"li")(28,"a",28),e._uU(29,"Angular doesn't subport virtual scrolling over a list of items whose size is not known and needs to be measured"),e.qZA()(),e.TgZ(30,"li"),e._uU(31," When CDK Viewport is used in context of non-visible dom elements (eg: Tabs, Accordion) virtual scroll will not work properly. The solution is not do initiate the viewport until it is visible using *ngIf, *ngSwitch. "),e.qZA()()(),e.BQk()),2&i&&(e.xp6(11),e.Q6J("allowDismiss",!1),e.xp6(5),e.Q6J("allowDismiss",!1))}function h1(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2," To make the scrolling working with "),e.TgZ(3,"code"),e._uU(4,"nui-table"),e.qZA(),e._uU(5," start with declaring the following variables:"),e._UZ(6,"br")(7,"br"),e.qZA(),e.TgZ(8,"nui-example-code",29),e._uU(9),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"p"),e._uU(12," Import "),e.TgZ(13,"a",30),e._uU(14,"VirtualViewportManager"),e.qZA(),e._uU(15," (provides a mechanism for sequencing the rendered range stream emitted from the CDK Viewport into distinct page ranges):"),e._UZ(16,"br"),e.qZA(),e.TgZ(17,"nui-example-code",29),e._uU(18),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"p"),e._uU(21," Provide VirtualViewportManager on a component level providers:"),e._UZ(22,"br"),e.qZA(),e.TgZ(23,"nui-example-code",29),e._uU(24),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"p"),e._uU(27," Inject VirtualViewportManager type in the constructor:"),e._UZ(28,"br"),e.qZA(),e.TgZ(29,"nui-example-code",29),e._uU(30),e.qZA(),e._UZ(31,"br"),e.TgZ(32,"p"),e._uU(33," Use the Angular ViewChild decorator to get a reference to the scrolling viewport (CdkVirtualScrollViewport):"),e._UZ(34,"br"),e.qZA(),e.TgZ(35,"nui-example-code",29),e._uU(36),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"p"),e._uU(39," Register the virtual scroll filter on dataSource: "),e.qZA(),e.TgZ(40,"nui-example-code",29),e._uU(41),e.qZA(),e._UZ(42,"br"),e.TgZ(43,"p"),e._uU(44," Optionally, subscribe to the "),e.TgZ(45,"code"),e._uU(46,"busy"),e.qZA(),e._uU(47," state changes: "),e.qZA(),e.TgZ(48,"nui-example-code",29),e._uU(49),e.qZA(),e._UZ(50,"br"),e.TgZ(51,"p"),e._uU(52," Start setting up the "),e.TgZ(53,"code"),e._uU(54,"ngAfterViewInit()"),e.qZA(),e._uU(55," lifecycle hook:"),e._UZ(56,"br"),e.qZA(),e.TgZ(57,"nui-example-code",29),e._uU(58),e.qZA(),e._UZ(59,"br"),e._uU(60," Setting up the viewportManager listener and dataSource handler in the "),e.TgZ(61,"code"),e._uU(62,"ngAfterViewInit"),e.qZA(),e._uU(63,": "),e.TgZ(64,"ol")(65,"li"),e._uU(66," Use the "),e.TgZ(67,"strong"),e._uU(68,"setViewport"),e.qZA(),e._uU(69," method to initialize "),e.TgZ(70,"code"),e._uU(71,"VirtualViewportManager"),e.qZA(),e._uU(72,". "),e.qZA(),e.TgZ(73,"li"),e._uU(74," Chain the "),e.TgZ(75,"strong"),e._uU(76,"observeNextPage$"),e.qZA(),e._uU(77," method with the required parameters ("),e.TgZ(78,"a",31),e._uU(79,"IVirtualPageConfig)"),e.qZA(),e._uU(80,". "),e.qZA(),e.TgZ(81,"li")(82,"b")(83,"i"),e._uU(84,"Optional"),e.qZA()(),e._uU(85," You may like to ignore "),e.TgZ(86,"code"),e._uU(87,"VirtualViewportManager"),e.qZA(),e._uU(88," emissions when the "),e.TgZ(89,"code"),e._uU(90,"totalItems"),e.qZA(),e._uU(91," number is reached. To do this, you can use the RxJS "),e.TgZ(92,"code"),e._uU(93,"filter"),e.qZA(),e._uU(94," operator as in example."),e._UZ(95,"br"),e.TgZ(96,"b"),e._uU(97,"Note:"),e.qZA(),e.TgZ(98,"code"),e._uU(99,"VirtualViewportManager"),e.qZA(),e._uU(100," has its own mechanism of stopping when the length of the last received page is less than the page size requested. "),e._UZ(101,"br"),e._uU(102," In the example, we use the "),e.TgZ(103,"code"),e._uU(104,"filter"),e.qZA(),e._uU(105," operator to avoid making the additional requests when the dataset's last page has enough data. "),e.qZA(),e.TgZ(106,"li"),e._uU(107," Finally, call "),e.TgZ(108,"code"),e._uU(109,"datasource.applyFilters()"),e.qZA(),e._uU(110," to trigger fetching of the data. "),e.qZA(),e.TgZ(111,"li"),e._uU(112," To avoid having two listeners (the next page observer and the data source's outputsSubject), we can combine them together into one stream "),e._UZ(113,"br"),e._uU(114," with the RxJS "),e.TgZ(115,"code"),e._uU(116,"switchMap"),e.qZA(),e._uU(117," operator. In the example, we map to an inner subscription which contains all new data related operations: "),e._UZ(118,"br"),e.TgZ(119,"code"),e._uU(120,"totalItems"),e.qZA(),e._uU(121," update, assigning new data, and triggering the change detector. "),e._UZ(122,"br"),e.TgZ(123,"b"),e._uU(124,"Alternative"),e.qZA(),e._uU(125,": You can subscribe to the "),e.TgZ(126,"code"),e._uU(127,"this.dataSource.outputsSubject"),e.qZA(),e._uU(128,"code> in the ngOnInit method using the same RxJS pipe operators. "),e.qZA()(),e.TgZ(129,"nui-example-code",29),e._uU(130),e.qZA(),e._UZ(131,"br"),e.BQk()),2&i){const t=e.oxw(3);e.xp6(9),e.Oqu(t.tableScrollingSetup.vars),e.xp6(9),e.Oqu(t.tableScrollingSetup.viewportManagerImport),e.xp6(6),e.Oqu(t.tableScrollingSetup.provideViewport),e.xp6(6),e.Oqu(t.tableScrollingSetup.injectViewport),e.xp6(6),e.Oqu(t.tableScrollingSetup.viewChildren),e.xp6(5),e.Oqu(t.tableScrollingSetup.registerScroll),e.xp6(8),e.Oqu(t.tableScrollingSetup.oninitSubscribeBusy),e.xp6(9),e.Oqu(t.tableScrollingSetup.ngAfterViewInitStart),e.xp6(72),e.Oqu(t.tableScrollingSetup.ngAfterViewInitViewport)}}function m1(i,r){if(1&i&&(e.YNc(0,f1,20,2,"ng-container",8),e.YNc(1,d1,32,2,"ng-container",8),e.YNc(2,h1,132,9,"ng-container",8)),2&i){const t=r.type,n=e.oxw(2);e.Q6J("ngIf",t===n.componentType.list),e.xp6(1),e.Q6J("ngIf",t===n.componentType.table),e.xp6(1),e.Q6J("ngIf",t===n.componentType.table)}}function g1(i,r){1&i&&(e.TgZ(0,"li")(1,"strong"),e._uU(2,"For "),e.TgZ(3,"code"),e._uU(4,"list"),e.qZA(),e._uU(5,"'s only"),e.qZA(),e._uU(6,": set the "),e.TgZ(7,"code"),e._uU(8,"itemSize"),e.qZA(),e._uU(9," component input to a valid value. It's mandatory to have this input set as there is a technical limitation on the Angular side. If the input is omitted, you'll see this error message in the console output: "),e.TgZ(10,"mark"),e._uU(11," \"ERROR: To use virtual scroll feature please set correct value to the 'itemSize' input!\" "),e.qZA()())}function v1(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2," This string option allows you to select the paging mode of the data presentation. Default is "),e.TgZ(3,"code"),e._uU(4,"virtualScroll"),e.qZA(),e._uU(5,". The values currently supported for this option are: "),e.qZA(),e.TgZ(6,"ul")(7,"li")(8,"nui-expander",18)(9,"p"),e._uU(10," This setting allows us to use "),e.TgZ(11,"a",19),e._uU(12,"CDK Virtual Scroll"),e.qZA(),e._uU(13," by setting "),e.TgZ(14,"code"),e._uU(15,"pagingMode"),e.qZA(),e._uU(16," to "),e.TgZ(17,"code"),e._uU(18,"virtualScroll"),e.qZA(),e._uU(19,". "),e.qZA(),e.YNc(20,_1,1,0,"ng-container",4),e.YNc(21,m1,3,3,"ng-template",null,20,e.W1O),e.TgZ(23,"p"),e._uU(24," Although the generated code of the schematic already takes care of basic setup steps, please make sure while customizing this feature for your own use case to do the following on the component: "),e.qZA(),e.TgZ(25,"ol"),e.YNc(26,g1,12,0,"li",8),e.TgZ(27,"li"),e._uU(28," Set the "),e.TgZ(29,"code"),e._uU(30,"height"),e.qZA(),e._uU(31," of the component element (either through a css/less file or inline in the ng-container). This sets the viewport for the virtual scroll. If this action is omitted, the viewport will have a height of "),e.TgZ(32,"code"),e._uU(33,"0px"),e.qZA(),e._uU(34," and no content will be visible on the page. "),e.qZA()(),e.TgZ(35,"nui-message",13)(36,"ol")(37,"li"),e._uU(38," If the user filters the results in some way, say with a search box, make sure to reset progress on the VirtualViewportManager before applying the filters. "),e.qZA(),e.TgZ(39,"li"),e._uU(40," Due to a "),e.TgZ(41,"a",21),e._uU(42,"known CDK issue"),e.qZA(),e._uU(43,", make sure that the "),e.TgZ(44,"code"),e._uU(45,"nui-repeat"),e.qZA(),e._uU(46," component hosting the virtual scroll is visible in order for the virtual scroll functionality to work properly. "),e.qZA()()()()(),e.TgZ(47,"li")(48,"nui-expander",22),e._uU(49," Data is displayed using standard pagination with a "),e.TgZ(50,"code"),e._uU(51,"nui-paginator"),e.qZA(),e._uU(52," component. "),e.TgZ(53,"p"),e._uU(54,"To enable pagination, do the following:"),e.qZA(),e.TgZ(55,"ol")(56,"li"),e._uU(57," Provide a service that performs filtering (pagination is considered to be a form of filtering in Nova). There is a default service, "),e.TgZ(58,"a",23)(59,"code"),e._uU(60,"ClientSideDataSource"),e.qZA()(),e._uU(61,", which provides default methods for working with filters. In case you need something special (such as filtering on a back-end or more complex sorting capability), you may extend this service and override its methods. "),e.qZA(),e.TgZ(62,"li"),e._uU(63," In your component's constructor, provide an initial dataset via the "),e.TgZ(64,"code"),e._uU(65,"setData"),e.qZA(),e._uU(66," method of "),e.TgZ(67,"a",23)(68,"code"),e._uU(69,"ClientSideDataSource"),e.qZA()(),e._uU(70,". "),e.qZA(),e.TgZ(71,"li"),e._uU(72," Get the paginator component via "),e.TgZ(73,"code"),e._uU(74,"@ViewChild"),e.qZA(),e._uU(75,". "),e.qZA(),e.TgZ(76,"li"),e._uU(77," In your component's "),e.TgZ(78,"code"),e._uU(79,"ngAfterViewInit"),e.qZA(),e._uU(80,", pass the paginator to the "),e.TgZ(81,"code"),e._uU(82,"componentTree"),e.qZA(),e._uU(83," property of "),e.TgZ(84,"code"),e._uU(85,"ClientSideDataSource"),e.qZA(),e._uU(86,". Then, invoke the "),e.TgZ(87,"code"),e._uU(88,"applyFilters"),e.qZA(),e._uU(89," method of "),e.TgZ(90,"a",23)(91,"code"),e._uU(92,"ClientSideDataSource"),e.qZA()(),e._uU(93,". And, lastly, subscribe to "),e.TgZ(94,"code"),e._uU(95,"outputsSubject"),e.qZA(),e._uU(96," on "),e.TgZ(97,"a",23)(98,"code"),e._uU(99,"ClientSideDataSource"),e.qZA()(),e._uU(100," which will return an "),e.TgZ(101,"a",24)(102,"code"),e._uU(103,"INovaFilteringOutputs"),e.qZA()(),e._uU(104," object after each change in pagination. "),e.qZA(),e.TgZ(105,"li"),e._uU(106," In the "),e.TgZ(107,"code"),e._uU(108,"outputsSubject"),e.qZA(),e._uU(109," subscription handler, overwrite your "),e.TgZ(110,"code"),e._uU(111,"dataSource"),e.qZA(),e._uU(112," with the "),e.TgZ(113,"code"),e._uU(114,"itemsSource"),e.qZA(),e._uU(115," you receive and pass the number of pages to the paginator's "),e.TgZ(116,"code"),e._uU(117,"total"),e.qZA(),e._uU(118," input. "),e.qZA(),e.TgZ(119,"li"),e._uU(120," Bind to the paginator's "),e.TgZ(121,"code"),e._uU(122,"pagerAction"),e.qZA(),e._uU(123," output, and invoke the "),e.TgZ(124,"code"),e._uU(125,"applyFilters"),e.qZA(),e._uU(126," method of "),e.TgZ(127,"a",23)(128,"code"),e._uU(129,"ClientSideDataSource"),e.qZA()(),e._uU(130," in the output handler. "),e.qZA(),e.TgZ(131,"li"),e._uU(132," Unsubscribe from the "),e.TgZ(133,"code"),e._uU(134,"outputsSubject"),e.qZA(),e._uU(135," in your component's "),e.TgZ(136,"code"),e._uU(137,"ngOnDestroy"),e.qZA(),e._uU(138," method. "),e.qZA()()()(),e.TgZ(139,"li")(140,"nui-expander",6),e._uU(141," All data is displayed at once. "),e.qZA()()(),e.BQk()),2&i){const t=e.MAs(22),n=e.oxw(),o=e.MAs(11);e.xp6(8),e.Q6J("open",!1),e.xp6(12),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(10,dl,t,e.WLB(7,fl,n.componentType.list,n.componentType.table))),e.xp6(6),e.Q6J("ngIf",n.for(n.componentType.list)),e.xp6(9),e.Q6J("allowDismiss",!1),e.xp6(13),e.Q6J("open",!1),e.xp6(92),e.Q6J("open",!1)}}function T1(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2),e.TgZ(3,"code"),e._uU(4,"serverSide"),e.qZA(),e._uU(5,". The values currently supported for this option are: "),e.qZA(),e.TgZ(6,"nui-expander",32),e._uU(7," The generated data source will retrieve data remotely from a server side API, usually achieved by extending the "),e.TgZ(8,"a",33)(9,"code"),e._uU(10,"DataSourceService"),e.qZA()(),e._uU(11," class. "),e.TgZ(12,"nui-message",34),e._uU(13," When this option is chosen, the schematic automatically generates a loading indicator ("),e.TgZ(14,"code"),e._uU(15,"nui-busy"),e.qZA(),e._uU(16,") which is displayed as an overlay on the list during data retrieval. "),e.qZA()(),e.TgZ(17,"nui-expander",35)(18,"p"),e._uU(19," No data source will be generated, allowing you to create one from scratch. "),e.qZA()(),e.TgZ(20,"nui-expander",36),e._uU(21," Generated data source will retrieve data locally from a client side source, usually via the "),e.TgZ(22,"a",23)(23,"code"),e._uU(24,"ClientSideDataSource"),e.qZA()(),e._uU(25," class. "),e.qZA(),e.TgZ(26,"nui-expander",6),e._uU(27," No data source will be generated and no data source related features such as sorting or search will be added to the generated code. "),e.qZA(),e.TgZ(28,"div")(29,"p"),e._uU(30," For additional information on how the data source setup is done please consult the paragraphs below: "),e.qZA(),e.TgZ(31,"nui-expander",37)(32,"p"),e._uU(33," Both local and remote setup are feasible for custom data sources, while the remote setup is feasible for the "),e.TgZ(34,"code"),e._uU(35,"serverSide"),e.qZA(),e._uU(36," option. "),e.qZA(),e.TgZ(37,"nui-expander",38)(38,"div")(39,"p"),e._uU(40," To make component work with remote backend, it's advised to use the Nova "),e.TgZ(41,"code"),e._uU(42,"DataSourceService"),e.qZA(),e._uU(43," which can be imported from "),e.TgZ(44,"code"),e._uU(45,'"@nova-ui/bits"'),e.qZA(),e._uU(46,". "),e.qZA(),e.TgZ(47,"p"),e._uU(48," Create the "),e.TgZ(49,"code"),e._uU(50,"@Injectable"),e.qZA(),e._uU(51," class that extends the data source service mentioned above. "),e.qZA(),e.TgZ(52,"nui-example-code",29),e._uU(53),e.qZA(),e._UZ(54,"br"),e.TgZ(55,"p"),e._uU(56," Define the following fields to work with the data source."),e._UZ(57,"br"),e.TgZ(58,"mark")(59,"sup")(60,"strong"),e._uU(61,"Hint!"),e.qZA()(),e._uU(62," The list below is a required minimum. Feel free to define other fields required to work with your API. "),e.qZA()(),e._UZ(63,"br"),e.TgZ(64,"code")(65,"b"),e._uU(66,"url"),e.qZA()(),e._uU(67," - This is where you store your API url. "),e._UZ(68,"br"),e.TgZ(69,"code")(70,"b"),e._uU(71,"cache"),e.qZA()(),e._uU(72," - This is where you store the cached list data. Because we fetch the data in chunks, every time a user fetches a new chunk of data it is appended to that array immediately, and then the updated array is sent to the list."),e._UZ(73,"br"),e.TgZ(74,"code")(75,"sup"),e._uU(76,"(Optional)"),e.qZA(),e.TgZ(77,"b"),e._uU(78,"busy"),e.qZA()(),e._uU(79," - This sets the busy state. The state is considered busy only when the data is being fetched, and it's used to display loading indicator components on the view while the data is being fetched. This is optional. "),e.TgZ(80,"mark"),e._uU(81,"Consult with your UX team about using busy state and busy components in your list"),e.qZA(),e._uU(82," . "),e.TgZ(83,"nui-example-code",29),e._uU(84),e.qZA(),e._UZ(85,"br"),e.TgZ(86,"p"),e._uU(87," Create a method that will fetch the data and perhaps convert the response to an expected format. It should have two parameters, "),e.TgZ(88,"code"),e._uU(89,"start"),e.qZA(),e._uU(90," and "),e.TgZ(91,"code"),e._uU(92,"end"),e.qZA(),e._uU(93,", which are the current values of the scrolling indices within the scrolling viewport. The calculation "),e.TgZ(94,"code"),e._uU(95,"end - start"),e.qZA(),e._uU(96," will give you the number of items to fetch. If your API supports returning data by page, the "),e.TgZ(97,"code"),e._uU(98,"page"),e.qZA(),e._uU(99," variable will be useful in that case, but if not, use the "),e.TgZ(100,"code"),e._uU(101,"end"),e.qZA(),e._uU(102," index as the starting point for the next chunk of data."),e._UZ(103,"br"),e._uU(104," Next, prepare the URI to be fetched. It can, and probably will, vary by API implementation. Your goal here is to return the requested number of items. "),e.qZA(),e.TgZ(105,"nui-example-code",29),e._uU(106),e.qZA(),e._UZ(107,"br"),e.TgZ(108,"p"),e._uU(109," Afterwards, when you get the data back as a response, convert the returned dataset into the structure expected by the component. The received data will be concatenated with "),e.TgZ(110,"code"),e._uU(111,"this.cache"),e.qZA(),e._uU(112,", so the dataset must be in the format expected by the list's "),e.TgZ(113,"code"),e._uU(114,"dataSource"),e.qZA(),e._uU(115," input in order to render the items correctly. "),e.qZA(),e.TgZ(116,"nui-example-code",29),e._uU(117),e.qZA(),e._UZ(118,"br"),e.TgZ(119,"p"),e._uU(120," The next step will be to implement the "),e.TgZ(121,"code"),e._uU(122,"getFilteredData"),e.qZA(),e._uU(123," method of the "),e.TgZ(124,"code"),e._uU(125,"DataSourceService"),e.qZA(),e._uU(126,". This method is called whenever the "),e.TgZ(127,"code"),e._uU(128,"applyFilters"),e.qZA(),e._uU(129," method of current data source is called in the code, so this is where data operations will be triggered. Optionally, notify the "),e.TgZ(130,"code"),e._uU(131,"busy"),e.qZA(),e._uU(132,' observable to toggle the busy state to "on". Then, retrieve the '),e.TgZ(133,"code"),e._uU(134,"virtualScroll"),e.qZA(),e._uU(135," from the available filters passed into the method as an argument. The "),e.TgZ(136,"code"),e._uU(137,"virtualScroll"),e.qZA(),e._uU(138," filter is registered with the data source farther down in the code listing of the list implementation."),e._UZ(139,"br")(140,"br"),e._uU(141," From the "),e.TgZ(142,"code"),e._uU(143,"virtualScroll"),e.qZA(),e._uU(144," filter you can retrieve the "),e.TgZ(145,"code"),e._uU(146,"start"),e.qZA(),e._uU(147," and "),e.TgZ(148,"code"),e._uU(149,"end"),e.qZA(),e._uU(150," indices for the scrolling viewport. Use them to fetch to correct amount of data. Then, update the cache with the items you just got from the server, and return the data in the format that would contain AT LEAST the total number of items the API is able to return and the list's cached data. "),e.qZA(),e.TgZ(151,"nui-example-code",29),e._uU(152),e.qZA(),e._UZ(153,"br"),e.TgZ(154,"p"),e._uU(155," All data source preparation steps are finished at this point. "),e.qZA()()(),e.TgZ(156,"nui-expander",39)(157,"p"),e._uU(158," To make the component work with a local API it's advised to extend "),e.TgZ(159,"a",23)(160,"code"),e._uU(161,"ClientSideDataSource"),e.qZA()(),e._uU(162," which can be imported from "),e.TgZ(163,"code"),e._uU(164,'"@nova-ui/bits"'),e.qZA(),e._uU(165,". "),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.hij(" This string option allows you to select the way data is retrieved for displaying in the ",t.forComponent?t.forComponent:"component",". Default is "),e.xp6(4),e.Q6J("open",!1),e.xp6(6),e.Q6J("allowDismiss",!1),e.xp6(5),e.Q6J("open",!1),e.xp6(3),e.Q6J("open",!1),e.xp6(6),e.Q6J("open",!1),e.xp6(5),e.Q6J("open",!1),e.xp6(6),e.Q6J("open",!1),e.xp6(16),e.Oqu(t.dataSourceSetup.extendDS),e.xp6(31),e.Oqu(t.dataSourceSetup.defineFields),e.xp6(22),e.Oqu(t.fetch),e.xp6(11),e.Oqu(t.dataSourceSetup.getData),e.xp6(35),e.Oqu(t.dataSourceSetup.getFilteredData),e.xp6(4),e.Q6J("open",!1)}}function S1(i,r){1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2," This boolean option allows you to enable/disable search functionality. Default is "),e.TgZ(3,"code"),e._uU(4,"true"),e.qZA(),e._uU(5,". "),e.qZA(),e.TgZ(6,"p"),e._uU(7," To subscribe to the search events, use search's "),e.TgZ(8,"code"),e._uU(9,"onSearch"),e.qZA(),e._uU(10," or "),e.TgZ(11,"code"),e._uU(12,"inputChange"),e.qZA(),e._uU(13," (and, if needed, "),e.TgZ(14,"code"),e._uU(15,"onSearchCancel"),e.qZA(),e._uU(16,") hooks to invoke the "),e.TgZ(17,"code"),e._uU(18,"applyFilters"),e.qZA(),e._uU(19," method of the "),e.TgZ(20,"a",33)(21,"code"),e._uU(22,"DataSourceService"),e.qZA()(),e._uU(23," class in order to perform the actual search. "),e.qZA(),e.TgZ(24,"nui-message",13)(25,"ol")(26,"li"),e._uU(27," For remote data sources, which usually extend or use directly "),e.TgZ(28,"a",40)(29,"code"),e._uU(30,"ServerSideDataSource"),e.qZA()(),e._uU(31,", if you want searches to be performed as the user types, it's advised to add a debounce to the filtering to avoid stressing out the backend API by using "),e.TgZ(32,"code"),e._uU(33,"pipe(debounceTime(Integer_Value))"),e.qZA(),e._uU(34," between search subscriptions. "),e.qZA(),e.TgZ(35,"li"),e._uU(36," For local data sources, which usually extend or use directly "),e.TgZ(37,"a",23)(38,"code"),e._uU(39,"ClientSideDataSource"),e.qZA()(),e._uU(40,", you can use the "),e.TgZ(41,"code"),e._uU(42,"setSearchProperties"),e.qZA(),e._uU(43," method of "),e.TgZ(44,"a",23)(45,"code"),e._uU(46,"ClientSideDataSource"),e.qZA()(),e._uU(47," to specify which columns the search should apply to; if not set, the search will be performed on all columns. "),e.qZA()()(),e.BQk()),2&i&&(e.xp6(24),e.Q6J("allowDismiss",!1))}function y1(i,r){1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2,"To use sorting in a table you need to:"),e.qZA(),e.TgZ(3,"ol")(4,"li"),e._uU(5," Set "),e.TgZ(6,"code"),e._uU(7,'[sortable]="true"'),e.qZA(),e._uU(8," on "),e.TgZ(9,"code"),e._uU(10,"nui-table"),e.qZA(),e._uU(11,". "),e.qZA(),e.TgZ(12,"li"),e._uU(13,"Get table component via "),e.TgZ(14,"code"),e._uU(15,"@ViewChild"),e.qZA(),e._uU(16,"."),e.qZA(),e.TgZ(17,"li"),e._uU(18," Set up the filtering component tree. To get table filtering components use "),e.TgZ(19,"code"),e._uU(20,"getFilterComponents()"),e.qZA(),e._uU(21," function of table component. This will give filtering mechanism an ability to receive data for sorting at the moment you'll call "),e.TgZ(22,"code"),e._uU(23,"applyFilters"),e.qZA(),e._uU(24," method of "),e.TgZ(25,"a",23)(26,"code"),e._uU(27,"ClientSideDataSource"),e.qZA()(),e._uU(28,". "),e.qZA(),e.TgZ(29,"li"),e._uU(30," Set "),e.TgZ(31,"code"),e._uU(32,'[isColumnSortingDisabled]="true"'),e.qZA(),e._uU(33," on the table-header-cell to prevent table from sorting by this property. "),e.qZA(),e.TgZ(34,"li"),e._uU(35," Subscribe to "),e.TgZ(36,"code"),e._uU(37,"outputsSubject"),e.qZA(),e._uU(38," on "),e.TgZ(39,"a",23)(40,"code"),e._uU(41,"ClientSideDataSource"),e.qZA()(),e._uU(42," which will return you "),e.TgZ(43,"a",24)(44,"code"),e._uU(45,"INovaFilteringOutputs"),e.qZA()(),e._uU(46," object after each change of sorting. "),e.qZA(),e.TgZ(47,"li"),e._uU(48," In the "),e.TgZ(49,"code"),e._uU(50,"outputsSubject"),e.qZA(),e._uU(51," subscription handler, overwrite your "),e.TgZ(52,"code"),e._uU(53,"dataSource"),e.qZA(),e._uU(54," with the "),e.TgZ(55,"code"),e._uU(56,"itemsSource"),e.qZA(),e._uU(57," you receive. "),e.qZA(),e.TgZ(58,"li"),e._uU(59," On "),e.TgZ(60,"code"),e._uU(61,"(sortOrderChanged)"),e.qZA(),e._uU(62," event call "),e.TgZ(63,"code"),e._uU(64,"applyFilters"),e.qZA(),e._uU(65," method of "),e.TgZ(66,"a",23)(67,"code"),e._uU(68,"ClientSideDataSource"),e.qZA()(),e._uU(69,". "),e.TgZ(70,"code"),e._uU(71,"(sortOrderChanged)"),e.qZA(),e._uU(72," event will emit you "),e.TgZ(73,"a",41)(74,"code"),e._uU(75,"ISortedItem"),e.qZA()(),e._uU(76," object. "),e.qZA(),e.TgZ(77,"li"),e._uU(78," Unsubscribe from the "),e.TgZ(79,"code"),e._uU(80,"outputsSubject"),e.qZA(),e._uU(81," in your component's "),e.TgZ(82,"code"),e._uU(83,"ngOnDestroy"),e.qZA(),e._uU(84," method. "),e.qZA()(),e.TgZ(85,"nui-message",34)(86,"ul")(87,"li"),e._uU(88," If you need to apply a more complicated sorting algorithm, you can extend "),e.TgZ(89,"code"),e._uU(90,"ClientSideDataSource"),e.qZA(),e._uU(91," and override its sorting methods. "),e.qZA(),e.TgZ(92,"li"),e._uU(93," If you need to sort some column by default (or programmatically), you can do that by passing "),e.TgZ(94,"a",41)(95,"code"),e._uU(96,"ISortedItem"),e.qZA()(),e._uU(97," to "),e.TgZ(98,"code"),e._uU(99,"[sortingColumn]"),e.qZA(),e._uU(100," input of the table. "),e.qZA()()(),e.BQk()),2&i&&(e.xp6(85),e.Q6J("allowDismiss",!1))}function C1(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2," This boolean option allows you to enable/disable sorting functionality. Default is "),e.TgZ(3,"code"),e._uU(4,"true"),e.qZA(),e._uU(5,". "),e.qZA(),e.YNc(6,y1,101,1,"ng-container",8),e.BQk()),2&i){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",t.for(t.componentType.table))}}function w1(i,r){1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2," This boolean option allows you to enable/disable chips functionality. Default is "),e.TgZ(3,"code"),e._uU(4,"true"),e.qZA(),e._uU(5,". "),e.qZA(),e.BQk())}function b1(i,r){1&i&&(e.ynx(0),e.Hsn(1),e.BQk())}function E1(i,r){1&i&&e.GkF(0)}const hl=function(i){return{type:i}};function F1(i,r){if(1&i&&(e.ynx(0),e.YNc(1,E1,1,0,"ng-container",4),e.BQk()),2&i){const t=e.oxw().tpl,n=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,hl,n.forComponent))}}function I1(i,r){1&i&&e.GkF(0)}function x1(i,r){if(1&i&&(e.TgZ(0,"li")(1,"nui-expander",43),e.YNc(2,I1,1,0,"ng-container",4),e.qZA()()),2&i){const t=r.$implicit,n=e.oxw(2).tpl;e.xp6(1),e.s9C("header",t),e.Q6J("open",!1),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(4,hl,t))}}function Z1(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"ul"),e.YNc(2,x1,3,6,"li",42),e.qZA(),e.BQk()),2&i){const t=e.oxw().types;e.xp6(2),e.Q6J("ngForOf",t)}}function A1(i,r){if(1&i&&(e.ynx(0,0),e.YNc(1,F1,2,4,"ng-container",2),e.YNc(2,Z1,3,1,"ng-container",1),e.BQk()),2&i){const t=e.oxw();e.Q6J("ngSwitch",t.forComponent?t.forComponent:"shared"),e.xp6(2),e.Q6J("ngSwitchCase","shared")}}const O1=["*"];var Je=(()=>(function(i){i.list="list",i.table="table"}(Je||(Je={})),Je))();let yr=(()=>{class i{constructor(t){(0,l.Z)(this,"forComponent",void 0),(0,l.Z)(this,"name",void 0),(0,l.Z)(this,"componentType",Je),(0,l.Z)(this,"fetch",'fetchURI = "${this.url}/?page=${end / (end - start)}&results=${end - start}"'),(0,l.Z)(this,"dataSourceSetup",{extendDS:"@Injectable()\nexport class RandomuserTableDataSource extends DataSourceService<ITableModel> {\n    constructor(private searchService: SearchService) {\n        super();\n    }\n}",defineFields:'private readonly url = "https://yourserver.com/api";\nprivate cache = Array.from<ITableModel>({ length: 0 });\npublic busy = new BehaviorSubject(false);',getData:'public async getData(start: number = 0, end: number= 20): Promise<INovaFilteringOutputs> {\n    let response: IRandomuserResponse = null;\n    try {\n        response = await\n                    (await fetch("this.fetchURI"))\n                        .json();\n                            return {\n                                users: response.results.map((result: IRandomuserResults, i: number) => ({\n                                    no: this.cache.length + i + 1,\n                                    nameTitle: result.name.title,\n                                    nameFirst: result.name.first,\n                                    nameLast: result.name.last,\n                                    gender: result.gender,\n                                    country: result.location.country,\n                                    city: result.location.city,\n                                    postcode: result.location.postcode,\n                                    email: result.email,\n                                    cell: result.cell,\n                                })),\n                                total: response.results.length,\n                                start: start,\n                            } as UsersQueryResponse;\n    } catch (e) {\n        console.error("Error responding from server. Please visit https://https://randomuser.me/ to see if it\'s available");\n    }\n}',getFilteredData:"public async getFilteredData(filters: INovaFilters): Promise<INovaFilteringOutputs> {\n    this.busy.next(true);\n    const virtualScrollFilter = filters.virtualScroll && filters.virtualScroll.value;\n    const start = virtualScrollFilter ? filters.virtualScroll.value.start : 0;\n    const end = virtualScrollFilter ? filters.virtualScroll.value.end : 0;\n\n    this.getData(start, end).then((response: UsersQueryResponse) => {\n        if (!response) { return; }\n\n        this.cache = this.cache.concat(response.users);\n        this.dataSubject.next(this.cache);\n        this.busy.next(false);\n    });\n\n    return {\n        repeat: {\n            itemsSource: this.cache,\n        },\n        totalItems: 200,\n    }\n}"}),(0,l.Z)(this,"tableScrollingSetup",{vars:'\n// will store the table data received from the server\npublic totalItems: number = 0;\npublic isBusy: boolean = false;\n\n// number of items to be fetched for each request\npublic pageSize: number = 40;\n\nprivate onDestroy$: Subject<void> = new Subject<void>();\n\n// stores the cached table data dynamically changed after every request from the server\n// this value is set to the dataSource input of the nui-table.\npublic items: IServer[] = [];\n\n// define the array of columns for the table\n// the table data from the datasource to the users var must come in the very same format.\npublic displayedColumns = ["name", "location", "status"];\n\n// datasource that you inject, or instantiate in constructor\nprivate dataSource: TableWithVirtualScrollDataSource;\n',viewportManagerImport:'import { VirtualViewportManager } from "@nova-ui/bits";',viewChildren:"\n@ViewChild(CdkVirtualScrollViewport, { static: false }) viewport: CdkVirtualScrollViewport;\n",provideViewport:"\n@Component({\n    //\n    providers: [VirtualViewportManager]\n})\n",injectViewport:"\nconstructor(private viewportManager: VirtualViewportManager) {}\n",oninitSubscribeBusy:"\npublic ngOnInit(): void {\n    this.dataSource.busy.subscribe(busy => {\n        this._isBusy = busy;\n    });\n}",registerScroll:"private registerVirtualScroll() {\n    this.dataSource.registerComponent({\n        virtualScroll: { componentInstance: this.viewportManager },\n    });\n }",ngAfterViewInitStart:"ngAfterViewInit(): void {\n    this.registerVirtualScroll();\n}",ngAfterViewInitViewport:"this.viewportManager\n    // Note: Initializing viewportManager with the repeat's CDK Viewport Ref\n    .setViewport(this.viewport)\n    // Note: Initializing the stream with the desired page size, based on which\n    // VirtualViewportManager will perform the observations and will emit\n    // distinct ranges with step equal to provided pageSize\n    .observeNextPage$({pageSize: this.range}).pipe(\n    // Note: In case we know the total number of items we can stop the stream when dataset end is reached\n    // Otherwise we can let VirtualViewportManager to stop when last received page range will not match requested range\n    filter(range => this.totalItems ? this.totalItems >= range.end : true),\n    tap(() => this.dataSource.applyFilters()),\n    // Note: Using the same stream to subscribe to the outputsSubject and update the items list\n    switchMap(() => this.dataSource.outputsSubject.pipe(\n        tap((outputs: IFilteringOutputs) => {\n            this._totalItems = outputs.totalItems;\n            this.users = outputs.repeat.itemsSource || [];\n            this.cd.detectChanges();\n        })\n    )),\n    takeUntil(this.onDestroy$)\n).subscribe();\n        "}),this.forComponent=t}getRepeatPropKey(t){return t}for(t){return this.forComponent===t||!this.forComponent}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(Je,8))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-schematic-cli-option"]],inputs:{name:"name"},ngContentSelectors:O1,decls:12,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["helpRenderer",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["selectionModeTpl",""],["header","none",3,"open"],["header","multi",3,"open"],[4,"ngIf"],["href","https://material.angular.io/cdk/table/overview#connecting-the-table-to-a-data-source","rel","noopener noreferrer","target","_blank"],["href","https://material.angular.io/cdk/table/overview","rel","noopener noreferrer","target","_blank"],["href","../interfaces/ISelection.html","target","_blank"],["href","../injectables/SelectorService.html","target","_blank"],["type","warning",3,"allowDismiss"],["header","radio",3,"open"],["header","single",3,"open"],["header","singleWithRequiredSelection",3,"open"],["header","radioWithNonRequiredSelection",3,"open"],["header","virtualScroll",3,"open"],["href","https://material.angular.io/cdk/scrolling/overview"],["pagingModeVSTpl",""],["href","https://github.com/angular/components/issues/13981","rel","noopener noreferrer","target","_blank"],["header","pagination",3,"open"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["target","_blank","href","../interfaces/INovaFilteringOutputs.html"],["href","https://material.angular.io/cdk/scrolling/api#CdkVirtualScrollViewport"],["href","/injectables/VirtualViewportManager.html"],["href","../directives/TableVirtualScrollLinearDirective.html#info"],["href","https://github.com/angular/components/issues/10113"],["language","typescript"],["href","../injectables/VirtualViewportManager.html","target","_blank"],["href","../interfaces/IVirtualPageConfig.html"],["header","serverSide",3,"open"],["target","_blank","href","../injectables/DataSourceService.html"],["type","info",3,"allowDismiss"],["header","custom",3,"open"],["header","clientSide",3,"open"],["header","DataSource Setup",3,"open"],["header","Remote DataSource Setup",3,"open"],["header","Local DataSource Setup",3,"open"],["target","_blank","href","../injectables/ServerSideDataSource.html"],["target","_blank","href","../interfaces/ISortedItem.html"],[4,"ngFor","ngForOf"],[3,"open","header"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"h5"),e._uU(1),e.qZA(),e.TgZ(2,"div",0),e.YNc(3,p1,9,9,"ng-container",1),e.YNc(4,v1,142,13,"ng-container",1),e.YNc(5,T1,166,14,"ng-container",1),e.YNc(6,S1,48,1,"ng-container",1),e.YNc(7,C1,7,1,"ng-container",1),e.YNc(8,w1,6,0,"ng-container",1),e.YNc(9,b1,2,0,"ng-container",2),e.qZA(),e.YNc(10,A1,3,2,"ng-template",null,3,e.W1O)),2&t&&(e.xp6(1),e.Oqu(n.name),e.xp6(1),e.Q6J("ngSwitch",n.name),e.xp6(1),e.Q6J("ngSwitchCase","selectionMode"),e.xp6(1),e.Q6J("ngSwitchCase","pagingMode"),e.xp6(1),e.Q6J("ngSwitchCase","dataSource"),e.xp6(1),e.Q6J("ngSwitchCase","enableSearch"),e.xp6(1),e.Q6J("ngSwitchCase","enableSort"),e.xp6(1),e.Q6J("ngSwitchCase","chips"))},dependencies:[m.sg,m.O5,m.tP,m.RF,m.n9,m.ED,_e.F,ki.q,cr.i],encapsulation:2})),i})();function L1(i,r){1&i&&e._UZ(0,"app-filtered-view-table-with-virtual-scroll")}function R1(i,r){1&i&&e._UZ(0,"app-filtered-view-table-with-virtual-scroll-selection")}function D1(i,r){1&i&&e._UZ(0,"app-filtered-view-table-with-custom-virtual-scroll")}function M1(i,r){1&i&&e._UZ(0,"app-filtered-view-with-tree")}let N1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["schematics-docs-example"]],decls:115,vars:4,consts:[["schematicFolderName","filtered-view"],["schematicSummary",""],["name","presentationType"],["name","selectionMode"],["name","pagingMode"],["name","dataSource"],["name","enableSearch"],["name","enableSort"],["name","chips"],["schematicExamples",""],["heading","List"],["exampleFolderName","filtered-view-with-list"],["heading","List with Pagination"],["exampleFolderName","filtered-view-list-with-pagination"],["heading","List with Virtual Scroll"],["exampleFolderName","filtered-view-list-with-virtual-scroll"],["heading","Table"],["exampleFolderName","filtered-view-with-table"],["heading","Table with Pagination"],["exampleFolderName","filtered-view-table-with-pagination"],["heading","Table with Selection"],["exampleFolderName","filtered-view-table-with-selection"],["heading","Table with Virtual Scroll"],["vs",""],["exampleFolderName","filtered-view-table-with-virtual-scroll"],[4,"ngIf"],["heading","Table with Virtual Scroll and Selection"],["vss",""],["exampleFolderName","filtered-view-table-with-virtual-scroll-selection"],["heading","Table with Custom Virtual Scroll"],["cvs",""],["exampleFolderName","filtered-view-table-with-custom-virtual-scroll"],["heading","Tree"],["tree",""],["exampleFolderName","filtered-view-with-tree"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nui-schematic-docs-page",0)(1,"div",1)(2,"p"),e._uU(3," The Filtered View schematic provides the ability to create a generic filtered view that can cover many use cases for filtering a set of data. Its main responsibility is to integrate a filter group panel with a list or table view that displays the filtered data. "),e.qZA(),e.TgZ(4,"h2"),e._uU(5,"Notable Command Line Options"),e.qZA(),e.TgZ(6,"nui-schematic-cli-option",2)(7,"p"),e._uU(8," This string option allows you to select how the filtered data will be presented to the user. The values currently supported for this option are "),e.TgZ(9,"code"),e._uU(10,"table"),e.qZA(),e._uU(11," and "),e.TgZ(12,"code"),e._uU(13,"list"),e.qZA(),e._uU(14,". The default value is "),e.TgZ(15,"code"),e._uU(16,"list"),e.qZA(),e._uU(17,". "),e.qZA()(),e._UZ(18,"nui-schematic-cli-option",3)(19,"nui-schematic-cli-option",4)(20,"nui-schematic-cli-option",5)(21,"nui-schematic-cli-option",6)(22,"nui-schematic-cli-option",7)(23,"nui-schematic-cli-option",8),e.qZA(),e.TgZ(24,"nui-tab-group",9)(25,"nui-tab",10)(26,"h2"),e._uU(27,"Filtered View with List"),e.qZA(),e.TgZ(28,"p"),e._uU(29," This example shows the output of the CLI command without any modifications. "),e.qZA(),e.TgZ(30,"nui-schematic-docs-command"),e._uU(31,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-with-list --presentationType=list"),e.qZA(),e.TgZ(32,"nui-schematic-docs-example",11),e._UZ(33,"app-filtered-view-with-list"),e.qZA()(),e.TgZ(34,"nui-tab",12)(35,"h2"),e._uU(36,"List with Pagination"),e.qZA(),e.TgZ(37,"nui-schematic-docs-command"),e._uU(38,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-list-with-pagination --presentationType=list --dataSource=serverSide "),e.TgZ(39,"strong"),e._uU(40,"--pagingMode=pagination"),e.qZA()(),e.TgZ(41,"nui-schematic-docs-example",13),e._UZ(42,"app-filtered-view-list-with-pagination"),e.qZA()(),e.TgZ(43,"nui-tab",14)(44,"h2"),e._uU(45,"List with Virtual Scroll"),e.qZA(),e.TgZ(46,"nui-schematic-docs-command"),e._uU(47,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-virtual-scroll --presentationType=list --dataSource=serverSide "),e.TgZ(48,"strong"),e._uU(49,"--pagingMode=virtualScroll"),e.qZA()(),e.TgZ(50,"nui-schematic-docs-example",15),e._UZ(51,"app-filtered-view-list-with-virtual-scroll"),e.qZA()(),e.TgZ(52,"nui-tab",16)(53,"h2"),e._uU(54,"Filtered View with Table"),e.qZA(),e.TgZ(55,"p"),e._uU(56,"This example shows the output of the CLI command shown below."),e.qZA(),e.TgZ(57,"nui-schematic-docs-command"),e._uU(58,"ng g @nova-ui/bits:filtered-view --name=filtered-view-with-table --p=app "),e.TgZ(59,"strong"),e._uU(60,"--presentationType=table"),e.qZA()(),e.TgZ(61,"nui-schematic-docs-example",17),e._UZ(62,"app-filtered-view-with-table"),e.qZA()(),e.TgZ(63,"nui-tab",18)(64,"h2"),e._uU(65,"Table with Pagination"),e.qZA(),e.TgZ(66,"nui-schematic-docs-command"),e._uU(67,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-pagination --presentationType=table --dataSource=serverSide "),e.TgZ(68,"strong"),e._uU(69,"--pagingMode=pagination"),e.qZA()(),e.TgZ(70,"nui-schematic-docs-example",19),e._UZ(71,"app-filtered-view-table-with-pagination"),e.qZA()(),e.TgZ(72,"nui-tab",20)(73,"h2"),e._uU(74,"Table with Selection"),e.qZA(),e.TgZ(75,"nui-schematic-docs-command"),e._uU(76,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-selection --presentationType=table --dataSource=serverSide --pagingMode=pagination "),e.qZA(),e.TgZ(77,"nui-schematic-docs-example",21),e._UZ(78,"app-filtered-view-table-with-selection"),e.qZA()(),e.TgZ(79,"nui-tab",22,23)(81,"h2"),e._uU(82,"Table with Virtual Scroll"),e.qZA(),e.TgZ(83,"nui-schematic-docs-command"),e._uU(84,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-virtual-scroll --presentationType=table --dataSource=serverSide "),e.TgZ(85,"strong"),e._uU(86,"--pagingMode=virtualScroll"),e.qZA()(),e.TgZ(87,"nui-schematic-docs-example",24),e.YNc(88,L1,1,0,"app-filtered-view-table-with-virtual-scroll",25),e.qZA()(),e.TgZ(89,"nui-tab",26,27)(91,"h2"),e._uU(92,"Table with Virtual Scroll and Selection"),e.qZA(),e.TgZ(93,"nui-schematic-docs-command"),e._uU(94,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-virtual-scroll --presentationType=table --dataSource=serverSide "),e.TgZ(95,"strong"),e._uU(96,"--pagingMode=virtualScroll"),e.qZA()(),e.TgZ(97,"nui-schematic-docs-example",28),e.YNc(98,R1,1,0,"app-filtered-view-table-with-virtual-scroll-selection",25),e.qZA()(),e.TgZ(99,"nui-tab",29,30)(101,"h2"),e._uU(102,"Table with Custom Virtual Scroll"),e.qZA(),e.TgZ(103,"nui-schematic-docs-command"),e._uU(104,"ng g @nova-ui/bits:filtered-view --p=app --name=filtered-view-table-with-virtual-scroll --presentationType=table --dataSource=serverSide "),e.TgZ(105,"strong"),e._uU(106,"--pagingMode=virtualScroll --virtualScrollStrategy=custom"),e.qZA()(),e.TgZ(107,"nui-schematic-docs-example",31),e.YNc(108,D1,1,0,"app-filtered-view-table-with-custom-virtual-scroll",25),e.qZA()(),e.TgZ(109,"nui-tab",32,33)(111,"h2"),e._uU(112,"Tree"),e.qZA(),e.TgZ(113,"nui-schematic-docs-example",34),e.YNc(114,M1,1,0,"app-filtered-view-with-tree",25),e.qZA()()()()),2&t){const o=e.MAs(80),a=e.MAs(90),s=e.MAs(100),c=e.MAs(110);e.xp6(88),e.Q6J("ngIf",o.active),e.xp6(10),e.Q6J("ngIf",a.active),e.xp6(10),e.Q6J("ngIf",s.active),e.xp6(6),e.Q6J("ngIf",c.active)}},dependencies:[m.O5,Mi.i,Ni.Q,Ja,Ya,Xa,$a,Wa,tl,nl,ol,cl,_l,Ui,Pi,qi,yr],encapsulation:2})),i})(),G1=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),V1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez]})),i})(),k1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[G1],imports:[m.ez,_.LRI,_.F__,_.a51,_.Ld5,_.S6I,V1]})),i})(),U1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[B.Cl,m.ez,_.dVY,_.CND,_.BSv,_.ZuS,_.a$t,_.bGb,_.Ts3,_.ILf,_.hvO,_.Gsl,k1,_.wlu,_.S6I]})),i})(),P1=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),q1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez]})),i})(),W1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[P1],imports:[m.ez,_.LRI,_.F__,_.a51,_.Ld5,_.S6I,q1]})),i})(),B1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez,_.dVY,_.CND,_.BSv,_.ZuS,_.a$t,_.bGb,_.Ts3,_.ILf,_.hvO,_.Gsl,W1,_.wlu,_.S6I]})),i})(),Q1=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),$1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez]})),i})(),H1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[Q1],imports:[m.ez,_.LRI,_.F__,_.a51,_.Ld5,_.S6I,$1]})),i})(),J1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez,_.dVY,_.CND,_.BSv,_.ZuS,_.a$t,_.bGb,_.Ts3,_.ILf,_.hvO,_.Gsl,H1,_.wlu,_.S6I]})),i})(),j1=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),Y1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez]})),i})(),z1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[j1],imports:[m.ez,_.LRI,_.F__,_.a51,_.Ld5,_.S6I,Y1]})),i})(),K1=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[B.Cl,m.ez,_.dVY,_.CND,_.BSv,_.ZuS,_.a$t,_.bGb,_.Ts3,_.ILf,_.hvO,_.Gsl,z1,_.wlu,_.S6I]})),i})(),X1=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),eT=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez]})),i})(),tT=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[X1],imports:[m.ez,_.LRI,_.F__,_.a51,_.Ld5,_.S6I,eT]})),i})(),iT=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[B.Cl,m.ez,_.dVY,_.CND,_.BSv,_.ZuS,_.a$t,_.bGb,_.Ts3,_.ILf,_.hvO,_.Gsl,tT,_.wlu,_.S6I]})),i})(),nT=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),rT=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez]})),i})(),oT=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[nT],imports:[m.ez,_.LRI,_.F__,_.a51,_.Ld5,_.S6I,rT]})),i})(),aT=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez,_.dVY,_.CND,_.ZuS,_.a$t,_.bGb,_.ILf,_.Gsl,oT,_.wlu,_.S6I]})),i})(),lT=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),sT=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez]})),i})(),cT=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[lT],imports:[m.ez,_.LRI,_.F__,_.a51,_.Ld5,_.S6I,sT]})),i})(),ml=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez,_.dVY,_.CND,_.ZuS,_.a$t,_.bGb,_.Ts3,_.ILf,_.hvO,_.Gsl,cT,_.wlu,_.S6I]})),i})(),uT=(()=>{class i{appendHiddenFilters(t){const n=[];let o=t.itemsToDisplay?t.itemsToDisplay:10;const a=t.allFilterOptions.slice(0,o).map(p=>p.value),s=t.selectedFilterValues,c=Ne()(s,a);return 0!==c.length&&(c.forEach(u=>{n.push(t.allFilterOptions.filter(f=>f.value===u))}),Ge()(n).forEach(u=>{t.allFilterOptions.splice(t.allFilterOptions.indexOf(u),1),t.allFilterOptions.splice(o,0,u),o+=1}),t.itemsToDisplay=o),{...t}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),pT=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[uT],imports:[m.ez,_.LRI,_.F__,_.a51,_.Ld5,_.S6I]})),i})(),_T=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[m.ez,_.dVY,_.CND,_.ZuS,_.a$t,_.bGb,_.ILf,_.Gsl,_.Ts3,_.Az_,_.Ld5,pT,_.wlu,_.S6I,ct.nZ]})),i})();var re=(()=>(function(i){i.active="Active",i.down="Down"}(re||(re={})),re))();const dT=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:re.active},{name:"Man-LT-ASD123",location:"Brno",status:re.down},{name:"Man-LT-DSA331",location:"Austin",status:re.active},{name:"Man-LT-JKS212",location:"Kyiv",status:re.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:re.down},{name:"Man-LT-433AAD",location:"Austin",status:re.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:re.active},{name:"Man-LT-GHJ882",location:"Brno",status:re.down},{name:"Man-LT-LLK001",location:"Austin",status:re.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:re.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:re.down},{name:"Man-LT-LKJF12",location:"Austin",status:re.down},{name:"Man-LT-882JJS",location:"Kyiv",status:re.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:re.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:re.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:re.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:re.active},{name:"Man-LT-RRF231",location:"Austin",status:re.down}];function hT(i,r){1&i&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,7),e.qZA(),e.BQk())}function mT(i,r){if(1&i&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function gT(i,r){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9),e.YNc(2,mT,2,1,"div",10),e.ALo(3,"keyvalue"),e.qZA()()),2&i){const t=r.item;e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,t))}}const vT=function(){return[10,20,30,40]};let TT=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"sorterItems",[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}]),(0,l.Z)(this,"initialSortDirection",_.aQE.ascending),(0,l.Z)(this,"sortBy",this.sorterItems[0].value),(0,l.Z)(this,"filteringState",{}),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",20),(0,l.Z)(this,"itemConfig",{trackBy:(o,a)=>a?.name}),(0,l.Z)(this,"repeat",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"sorter",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n,this.dataSource.setData(dT)}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({paginator:{componentInstance:t.paginator},search:{componentInstance:t.search},sorter:{componentInstance:t.sorter},repeat:{componentInstance:t.repeat}}),t.search.focusChange.pipe((0,O.b)(function(){var n=(0,T.Z)(function*(o){!o&&t.dataSource.filterChanged((0,_.$0I)("search"))&&(yield t.applyFilters())});return function(o){return n.apply(this,arguments)}}()),(0,M.R)(t.destroy$)).subscribe(),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.filteringState=n,t.totalItems=n.paginator?.total??0,t.changeDetection.detectChanges()}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onCancelSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}onSorterAction(t){var n=this;return(0,T.Z)(function*(){n.sortBy=t.newValue.sortBy,yield n.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-basic-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.$N6,5),e.Gf(_.JbP,5),e.Gf(_.gSk,5),e.Gf(_.Het,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.repeat=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.sorter=o.first)}},features:[e._Bn([{provide:_.LvN,useClass:_.X7T}])],decls:11,vars:13,consts:function(){let r;return r=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[[1,"d-flex","flex-row"],[1,"app-basic-list-sorter",3,"itemsSource","selectedItem","sortDirection","sorterAction"],[1,"d-flex","justify-content-end","app-basic-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-basic-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-basic-list-paginator",3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["listRepeatItemTemplate",""],r,[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"nui-sorter",1),e.NdJ("sorterAction",function(a){return n.onSorterAction(a)}),e.qZA(),e.TgZ(3,"nui-search",2),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onCancelSearch()}),e.qZA()(),e.TgZ(4,"div",0),e.YNc(5,hT,3,0,"ng-container",3),e._UZ(6,"nui-repeat",4),e.qZA(),e.TgZ(7,"div",0)(8,"nui-paginator",5),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(){return n.applyFilters()}),e.qZA()()(),e.YNc(9,gT,4,3,"ng-template",null,6,e.W1O)),2&t){const o=e.MAs(10);e.xp6(2),e.Q6J("itemsSource",n.sorterItems)("selectedItem",n.sortBy)("sortDirection",n.initialSortDirection),e.xp6(3),e.Q6J("ngIf",0===(null==n.filteringState.repeat?null:n.filteringState.repeat.itemsSource.length)),e.xp6(1),e.Q6J("itemConfig",n.itemConfig)("repeatItemTemplateRef",o)("selection",null==n.filteringState.repeat?null:n.filteringState.repeat.selectedItems)("itemsSource",null==n.filteringState.repeat?null:n.filteringState.repeat.itemsSource),e.xp6(2),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(12,vT))("total",null==n.filteringState.paginator?null:n.filteringState.paginator.total)}},dependencies:[m.sg,m.O5,Ce.J,Fe.$,we.g,st.H,m.Nd],styles:["[_nghost-%COMP%]   .app-basic-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-basic-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-basic-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-basic-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-basic-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})),i})(),CT=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.paginator?.value??{start:0,end:0};return(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(n.end-n.start)).set("searchField","name").set("searchContent",t.search?.value??"")}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count}}))))})()}getBackendData(t){const n=i.getRequestParams(t);return this.http.get("http://nova-pg.swdev.local/api/v1/servers",{params:n}).pipe((0,pe.g)(300),(0,U.U)(o=>({items:o.items?.map(a=>({name:a.name,location:a.location,status:a.status}))||[],count:o.count})),(0,he.K)(o=>(this.logger.error(o),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function wT(i,r){1&i&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,8),e.qZA(),e.BQk())}function bT(i,r){if(1&i&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function ET(i,r){if(1&i&&(e.TgZ(0,"div",9)(1,"div",10),e.YNc(2,bT,2,1,"div",11),e.ALo(3,"keyvalue"),e.qZA()()),2&i){const t=r.item;e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,t))}}const FT=function(){return[10,20,30,40]};let IT=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"listItems$",new Jt.X([])),(0,l.Z)(this,"filteringState",{}),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",20),(0,l.Z)(this,"itemConfig",{trackBy:(o,a)=>a?.name}),(0,l.Z)(this,"repeat",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({paginator:{componentInstance:t.paginator},search:{componentInstance:t.search},repeat:{componentInstance:t.repeat}}),t.search.focusChange.pipe((0,O.b)(function(){var n=(0,T.Z)(function*(o){!o&&t.dataSource.filterChanged((0,_.$0I)("search"))&&(yield t.applyFilters())});return function(o){return n.apply(this,arguments)}}()),(0,M.R)(t.destroy$)).subscribe(),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.listItems$.next(n.repeat?.itemsSource||[]),t.filteringState=n,t.totalItems=n.paginator?.total??0,t.changeDetection.detectChanges()}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onCancelSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-search-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.$N6,5),e.Gf(_.JbP,5),e.Gf(_.gSk,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.repeat=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.search=o.first)}},features:[e._Bn([{provide:_.LvN,useClass:CT}])],decls:12,vars:13,consts:function(){let r,t;return r=$localize`:94516fa213706c67ce5a5b5765681d7fb032033a3894950702316166331:Loading...`,t=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[["nui-busy","",3,"busy"],["size","large","message",r],[1,"d-flex","flex-row"],[1,"d-flex","justify-content-end","app-search-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-search-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-search-list-paginator",3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["listRepeatItemTemplate",""],t,[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"nui-spinner",1),e.TgZ(2,"div",2)(3,"nui-search",3),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onCancelSearch()}),e.qZA()(),e.TgZ(4,"div",2),e.YNc(5,wT,3,0,"ng-container",4),e.ALo(6,"async"),e._UZ(7,"nui-repeat",5),e.qZA(),e.TgZ(8,"div",2)(9,"nui-paginator",6),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(){return n.applyFilters()}),e.qZA()()(),e.YNc(10,ET,4,3,"ng-template",null,7,e.W1O)),2&t){const o=e.MAs(11);e.Q6J("busy",n.isBusy),e.xp6(5),e.Q6J("ngIf",!n.isBusy&&0===e.lcZ(6,10,n.listItems$).length),e.xp6(2),e.Q6J("itemConfig",n.itemConfig)("repeatItemTemplateRef",o)("selection",null==n.filteringState.repeat?null:n.filteringState.repeat.selectedItems)("itemsSource",null==n.filteringState.repeat?null:n.filteringState.repeat.itemsSource),e.xp6(2),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(12,FT))("total",null==n.filteringState.paginator?null:n.filteringState.paginator.total)}},dependencies:[m.sg,m.O5,Ce.J,Fe.$,we.g,jt.O,Yt.E,m.Ov,m.Nd],styles:["[_nghost-%COMP%]   .app-search-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-search-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-search-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-search-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})),i})();var oe=(()=>(function(i){i.active="Active",i.down="Down"}(oe||(oe={})),oe))();const ZT=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:oe.active},{name:"Man-LT-ASD123",location:"Brno",status:oe.down},{name:"Man-LT-DSA331",location:"Austin",status:oe.active},{name:"Man-LT-JKS212",location:"Kyiv",status:oe.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:oe.down},{name:"Man-LT-433AAD",location:"Austin",status:oe.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:oe.active},{name:"Man-LT-GHJ882",location:"Brno",status:oe.down},{name:"Man-LT-LLK001",location:"Austin",status:oe.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:oe.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:oe.down},{name:"Man-LT-LKJF12",location:"Austin",status:oe.down},{name:"Man-LT-882JJS",location:"Kyiv",status:oe.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:oe.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:oe.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:oe.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:oe.active},{name:"Man-LT-RRF231",location:"Austin",status:oe.down}];var AT=w(30545);function OT(i,r){1&i&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,8),e.qZA(),e.BQk())}function LT(i,r){if(1&i&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function RT(i,r){if(1&i&&(e.TgZ(0,"div",9)(1,"div",10),e.YNc(2,LT,2,1,"div",11),e.ALo(3,"keyvalue"),e.qZA()()),2&i){const t=r.item;e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,t))}}const DT=function(){return[10,20,30,40]};let gl=(()=>{class i{constructor(t,n,o){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"listService",void 0),(0,l.Z)(this,"sorterItems",[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}]),(0,l.Z)(this,"initialSortDirection",_.aQE.ascending),(0,l.Z)(this,"sortBy",this.sorterItems[0].value),(0,l.Z)(this,"filteringState",{}),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",20),(0,l.Z)(this,"itemConfig",{trackBy:(a,s)=>s?.name}),(0,l.Z)(this,"repeat",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"sorter",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n,this.listService=o,this.dataSource.setData(ZT)}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({paginator:{componentInstance:t.paginator},search:{componentInstance:t.search},sorter:{componentInstance:t.sorter},repeat:{componentInstance:t.repeat}}),t.search.focusChange.pipe((0,O.b)(function(){var n=(0,T.Z)(function*(o){!o&&t.dataSource.filterChanged((0,_.$0I)("search"))&&(yield t.applyFilters())});return function(o){return n.apply(this,arguments)}}()),(0,M.R)(t.destroy$)).subscribe(),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.filteringState={...t.filteringState,...n},t.filteringState=t.listService.updateSelectionState(t.filteringState),t.totalItems=n.paginator?.total??0,t.changeDetection.detectChanges()}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onCancelSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}onSorterAction(t){var n=this;return(0,T.Z)(function*(){n.sortBy=t.newValue.sortBy,yield n.applyFilters()})()}onSelectorOutput(t){this.filteringState=this.listService.applySelector(t,this.filteringState)}onRepeatOutput(t){this.filteringState=this.listService.selectItems(t,_.dEu.multi,this.filteringState)}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO),e.Y36(_.XNV))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-selection-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.$N6,5),e.Gf(_.JbP,5),e.Gf(_.gSk,5),e.Gf(_.Het,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.repeat=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.sorter=o.first)}},features:[e._Bn([{provide:_.LvN,useClass:_.X7T}])],decls:12,vars:15,consts:function(){let r;return r=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[[1,"d-flex","flex-row"],[1,"app-selection-list-selector",3,"checkboxStatus","items","selectionChange"],[1,"app-selection-list-sorter",3,"itemsSource","selectedItem","sortDirection","sorterAction"],[1,"d-flex","justify-content-end","app-selection-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","multi",1,"app-selection-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource","selectionChange"],[1,"app-selection-list-paginator",3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["listRepeatItemTemplate",""],r,[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"nui-selector",1),e.NdJ("selectionChange",function(a){return n.onSelectorOutput(a)}),e.qZA(),e.TgZ(3,"nui-sorter",2),e.NdJ("sorterAction",function(a){return n.onSorterAction(a)}),e.qZA(),e.TgZ(4,"nui-search",3),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onCancelSearch()}),e.qZA()(),e.TgZ(5,"div",0),e.YNc(6,OT,3,0,"ng-container",4),e.TgZ(7,"nui-repeat",5),e.NdJ("selectionChange",function(a){return n.onRepeatOutput(a)}),e.qZA()(),e.TgZ(8,"div",0)(9,"nui-paginator",6),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(){return n.applyFilters()}),e.qZA()()(),e.YNc(10,RT,4,3,"ng-template",null,7,e.W1O)),2&t){const o=e.MAs(11);e.xp6(2),e.Q6J("checkboxStatus",null==n.filteringState.selector||null==n.filteringState.selector.selectorState?null:n.filteringState.selector.selectorState.checkboxStatus)("items",null==n.filteringState.selector||null==n.filteringState.selector.selectorState?null:n.filteringState.selector.selectorState.selectorItems),e.xp6(1),e.Q6J("itemsSource",n.sorterItems)("selectedItem",n.sortBy)("sortDirection",n.initialSortDirection),e.xp6(3),e.Q6J("ngIf",0===(null==n.filteringState.repeat?null:n.filteringState.repeat.itemsSource.length)),e.xp6(1),e.Q6J("itemConfig",n.itemConfig)("repeatItemTemplateRef",o)("selection",null==n.filteringState.repeat?null:n.filteringState.repeat.selectedItems)("itemsSource",null==n.filteringState.repeat?null:n.filteringState.repeat.itemsSource),e.xp6(2),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(14,DT))("total",null==n.filteringState.paginator?null:n.filteringState.paginator.total)}},dependencies:[m.sg,m.O5,Ce.J,Fe.$,we.g,st.H,AT.i,m.Nd],styles:["[_nghost-%COMP%]   .app-selection-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-selection-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-selection-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-selection-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-selection-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})),i})(),NT=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.virtualScroll?.value??{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(400)).set("searchField","name").set("searchContent",t.search?.value??"");return t.sorter?.value?.sortBy&&(o=o.set("sortField",t.sorter.value.sortBy),o=o.set("sortOrder",t.sorter.value.direction.toUpperCase())),o}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count}}))))})()}getBackendData(t){const n=i.getRequestParams(t);return this.http.get("http://nova-pg.swdev.local/api/v1/servers",{params:n}).pipe((0,pe.g)(300),(0,U.U)(o=>({items:o.items?.map(a=>({name:a.name,location:a.location,status:a.status}))||[],count:o.count})),(0,he.K)(o=>(this.logger.error(o),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function GT(i,r){1&i&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,15),e.qZA(),e.BQk())}function VT(i,r){1&i&&(e.ynx(0),e.SDv(1,16),e.BQk())}function kT(i,r){1&i&&(e.TgZ(0,"strong"),e._uU(1,". All items loaded."),e.qZA())}function UT(i,r){if(1&i&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function PT(i,r){if(1&i&&(e.TgZ(0,"div",17)(1,"div",18),e.YNc(2,UT,2,1,"div",19),e.ALo(3,"keyvalue"),e.qZA()()),2&i){const t=r.item;e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,t))}}let Tl=(()=>{class i{constructor(t,n,o){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"viewportManager",void 0),(0,l.Z)(this,"listItems$",new Jt.X([])),(0,l.Z)(this,"sorterItems",[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}]),(0,l.Z)(this,"initialSortDirection",_.aQE.ascending),(0,l.Z)(this,"sortBy",this.sorterItems[0].value),(0,l.Z)(this,"filteringState",{}),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"itemConfig",{trackBy:(a,s)=>s?.name}),(0,l.Z)(this,"repeat",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"sorter",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n,this.viewportManager=o}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({virtualScroll:{componentInstance:t.viewportManager},search:{componentInstance:t.search},sorter:{componentInstance:t.sorter},repeat:{componentInstance:t.repeat}}),t.viewportManager.setViewport(t.repeat.viewportRef).observeNextPage$({pageSize:400}).pipe((0,Kt.h)(()=>{const n=t.listItems$.getValue();return!n.length||n.length<t.totalItems}),(0,O.b)((0,T.Z)(function*(){return t.applyFilters(!1)})),(0,Xt.w)(()=>t.dataSource.outputsSubject.pipe((0,O.b)(n=>{const o=n.repeat?.itemsSource||[];t.listItems$.next(t.listItems$.getValue().concat(o)),t.totalItems=n.paginator?.total||0,t.changeDetection.detectChanges()}))),(0,M.R)(t.destroy$)).subscribe(),t.search.focusChange.pipe((0,O.b)(function(){var n=(0,T.Z)(function*(o){!o&&t.dataSource.filterChanged((0,_.$0I)("search"))&&(yield t.applyFilters())});return function(o){return n.apply(this,arguments)}}()),(0,M.R)(t.destroy$)).subscribe()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onCancelSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}applyFilters(t=!0){var n=this;return(0,T.Z)(function*(){t&&n.viewportManager.reset({emitFirstPage:!1});const o=n.dataSource.getFilters();(n.dataSource.computeFiltersChange(o)||0===o.virtualScroll?.value.start)&&(n.listItems$.next([]),n.changeDetection.detectChanges()),yield n.dataSource.applyFilters()})()}onSorterAction(t){var n=this;return(0,T.Z)(function*(){n.sortBy=t.newValue.sortBy,yield n.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO),e.Y36(_.zCP))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-virtual-scroll-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.$N6,5),e.Gf(_.gSk,5),e.Gf(_.Het,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.repeat=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.sorter=o.first)}},features:[e._Bn([_.zCP,{provide:_.LvN,useClass:NT}])],decls:23,vars:23,consts:function(){let r,t,n,o;return r=$localize`:94516fa213706c67ce5a5b5765681d7fb032033a3894950702316166331:Loading...`,t=$localize`:d2c0aad64213341f539bc04280dae8d41bbde0308514434566969009602: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,n=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,o=$localize`:b12cc7551005a9787976bb8d2a161113feed479a9056616360897919297:, scroll down for more.`,[["nui-busy","",3,"busy"],["size","large","message",r],[1,"d-flex","flex-row"],[1,"app-virtual-scroll-list-sorter",3,"itemsSource","selectedItem","sortDirection","sorterAction"],[1,"d-flex","justify-content-end","app-virtual-scroll-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-virtual-scroll-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource","virtualScroll","itemSize"],[1,"app-virtual-scroll-list-scrolling-footer"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],t,[4,"ngIf","ngIfElse"],["endOfData",""],["listRepeatItemTemplate",""],n,o,[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"nui-spinner",1),e.TgZ(2,"div",2)(3,"nui-sorter",3),e.NdJ("sorterAction",function(a){return n.onSorterAction(a)}),e.qZA(),e.TgZ(4,"nui-search",4),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onCancelSearch()}),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,GT,3,0,"ng-container",5),e.ALo(7,"async"),e._UZ(8,"nui-repeat",6),e.ALo(9,"async"),e.qZA(),e.TgZ(10,"footer",7)(11,"div",8)(12,"div",9)(13,"div",10),e.SDv(14,11),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"div",10),e.YNc(17,VT,2,0,"ng-container",12),e.ALo(18,"async"),e.YNc(19,kT,2,0,"ng-template",null,13,e.W1O),e.qZA()()()()(),e.YNc(21,PT,4,3,"ng-template",null,14,e.W1O)),2&t){const o=e.MAs(20),a=e.MAs(22);e.Q6J("busy",n.isBusy),e.xp6(3),e.Q6J("itemsSource",n.sorterItems)("selectedItem",n.sortBy)("sortDirection",n.initialSortDirection),e.xp6(3),e.Q6J("ngIf",!n.isBusy&&0===e.lcZ(7,15,n.listItems$).length),e.xp6(2),e.Q6J("itemConfig",n.itemConfig)("repeatItemTemplateRef",a)("selection",null==n.filteringState.repeat?null:n.filteringState.repeat.selectedItems)("itemsSource",e.lcZ(9,17,n.listItems$))("virtualScroll",!0)("itemSize",30),e.xp6(7),e.pQV(e.lcZ(15,19,n.listItems$).length)(n.totalItems),e.QtT(14),e.xp6(2),e.Q6J("ngIf",e.lcZ(18,21,n.listItems$).length!==n.totalItems)("ngIfElse",o)}},dependencies:[m.sg,m.O5,Fe.$,we.g,st.H,jt.O,Yt.E,m.Ov,m.Nd],styles:["[_nghost-%COMP%]   .app-virtual-scroll-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%;height:300px}[_nghost-%COMP%]   .app-virtual-scroll-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-virtual-scroll-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-virtual-scroll-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}"],changeDetection:0})),i})(),BT=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.paginator?.value??{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(n.end-n.start)).set("searchField","name").set("searchContent",t.search?.value??"");return t.sorter?.value?.sortBy&&(o=o.set("sortField",t.sorter.value.sortBy),o=o.set("sortOrder",t.sorter.value.direction.toUpperCase())),o}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count}}))))})()}getBackendData(t){const n=i.getRequestParams(t);return this.http.get("http://nova-pg.swdev.local/api/v1/servers",{params:n}).pipe((0,pe.g)(300),(0,U.U)(o=>({items:o.items?.map(a=>({name:a.name,location:a.location,status:a.status}))||[],count:o.count})),(0,he.K)(o=>(this.logger.error(o),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function QT(i,r){1&i&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,9),e.qZA(),e.BQk())}function $T(i,r){if(1&i&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function HT(i,r){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11),e.YNc(2,$T,2,1,"div",12),e.ALo(3,"keyvalue"),e.qZA()()),2&i){const t=r.item;e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,t))}}const JT=function(){return[10,20,30,40]};let jT=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"listItems$",new Jt.X([])),(0,l.Z)(this,"sorterItems",[{title:$localize`Name`,value:"name"},{title:$localize`Status`,value:"status"},{title:$localize`Location`,value:"location"}]),(0,l.Z)(this,"initialSortDirection",_.aQE.ascending),(0,l.Z)(this,"sortBy",this.sorterItems[0].value),(0,l.Z)(this,"filteringState",{}),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",20),(0,l.Z)(this,"itemConfig",{trackBy:(o,a)=>a?.name}),(0,l.Z)(this,"repeat",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"sorter",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({paginator:{componentInstance:t.paginator},search:{componentInstance:t.search},sorter:{componentInstance:t.sorter},repeat:{componentInstance:t.repeat}}),t.search.focusChange.pipe((0,O.b)(function(){var n=(0,T.Z)(function*(o){!o&&t.dataSource.filterChanged((0,_.$0I)("search"))&&(yield t.applyFilters())});return function(o){return n.apply(this,arguments)}}()),(0,M.R)(t.destroy$)).subscribe(),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.listItems$.next(n.repeat?.itemsSource||[]),t.filteringState=n,t.totalItems=n.paginator?.total??0,t.changeDetection.detectChanges()}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onCancelSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}onSorterAction(t){var n=this;return(0,T.Z)(function*(){n.sortBy=t.newValue.sortBy,yield n.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-paginated-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.$N6,5),e.Gf(_.JbP,5),e.Gf(_.gSk,5),e.Gf(_.Het,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.repeat=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.sorter=o.first)}},features:[e._Bn([{provide:_.LvN,useClass:BT}])],decls:13,vars:16,consts:function(){let r,t;return r=$localize`:94516fa213706c67ce5a5b5765681d7fb032033a3894950702316166331:Loading...`,t=$localize`:e4e28b371f8453e22779db590cb0fe67f2a080e87839102902838664367:No results`,[["nui-busy","",3,"busy"],["size","large","message",r],[1,"d-flex","flex-row"],[1,"app-paginated-list-sorter",3,"itemsSource","selectedItem","sortDirection","sorterAction"],[1,"d-flex","justify-content-end","app-paginated-list-search",3,"search","cancel"],[4,"ngIf"],["selectionMode","none",1,"app-paginated-list-repeat",3,"itemConfig","repeatItemTemplateRef","selection","itemsSource"],[1,"app-paginated-list-paginator",3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["listRepeatItemTemplate",""],t,[1,"container"],[1,"row"],["class","col-sm",4,"ngFor","ngForOf"],[1,"col-sm"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"nui-spinner",1),e.TgZ(2,"div",2)(3,"nui-sorter",3),e.NdJ("sorterAction",function(a){return n.onSorterAction(a)}),e.qZA(),e.TgZ(4,"nui-search",4),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onCancelSearch()}),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,QT,3,0,"ng-container",5),e.ALo(7,"async"),e._UZ(8,"nui-repeat",6),e.qZA(),e.TgZ(9,"div",2)(10,"nui-paginator",7),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(){return n.applyFilters()}),e.qZA()()(),e.YNc(11,HT,4,3,"ng-template",null,8,e.W1O)),2&t){const o=e.MAs(12);e.Q6J("busy",n.isBusy),e.xp6(3),e.Q6J("itemsSource",n.sorterItems)("selectedItem",n.sortBy)("sortDirection",n.initialSortDirection),e.xp6(3),e.Q6J("ngIf",!n.isBusy&&0===e.lcZ(7,13,n.listItems$).length),e.xp6(2),e.Q6J("itemConfig",n.itemConfig)("repeatItemTemplateRef",o)("selection",null==n.filteringState.repeat?null:n.filteringState.repeat.selectedItems)("itemsSource",null==n.filteringState.repeat?null:n.filteringState.repeat.itemsSource),e.xp6(2),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(15,JT))("total",null==n.filteringState.paginator?null:n.filteringState.paginator.total)}},dependencies:[m.sg,m.O5,Ce.J,Fe.$,we.g,st.H,jt.O,Yt.E,m.Ov,m.Nd],styles:["[_nghost-%COMP%]   .app-paginated-list-repeat[_ngcontent-%COMP%]{margin:10px 15px;width:100%}[_nghost-%COMP%]   .app-paginated-list-selector[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-paginated-list-sorter[_ngcontent-%COMP%]{flex-grow:0;margin-left:15px}[_nghost-%COMP%]   .app-paginated-list-search[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}[_nghost-%COMP%]   .app-paginated-list-paginator[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px}"],changeDetection:0})),i})(),YT=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-list-schematics-docs-example"]],features:[e._Bn([{provide:Je,useValue:Je.list}])],decls:120,vars:1,consts:[["schematicFolderName","list"],["schematicSummary",""],["name","selectionMode"],["name","pagingMode"],["name","dataSource"],["name","enableSearch"],["name","enableSort"],["schematicExamples",""],["heading","Basic"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["exampleFolderName","basic-list"],["heading","Selection"],["target","_blank","href","../injectables/ListService.html"],["exampleFolderName","selection-list"],["heading","Search"],["exampleFolderName","search-list"],["heading","Pagination"],["exampleFolderName","paginated-list"],["heading","Virtual Scroll"],["type","warning",3,"allowDismiss"],["exampleFolderName","virtual-scroll-list"]],template:function(t,n){1&t&&(e.TgZ(0,"nui-schematic-docs-page",0)(1,"div",1)(2,"p"),e._uU(3," The List schematic provides the ability to create a generic list that can cover a majority of use cases for a list. Its main responsibility is to integrate the functionality of the "),e.TgZ(4,"code"),e._uU(5,"nui-repeat"),e.qZA(),e._uU(6," component with other components commonly used with a list such as "),e.TgZ(7,"code"),e._uU(8,"nui-selector"),e.qZA(),e._uU(9,", "),e.TgZ(10,"code"),e._uU(11,"nui-search"),e.qZA(),e._uU(12,", "),e.TgZ(13,"code"),e._uU(14,"nui-paginator"),e.qZA(),e._uU(15,", and "),e.TgZ(16,"code"),e._uU(17,"nui-sorter"),e.qZA(),e._uU(18,". "),e.qZA(),e.TgZ(19,"h2"),e._uU(20,"Notable Command Line Options"),e.qZA(),e._UZ(21,"nui-schematic-cli-option",2)(22,"nui-schematic-cli-option",3)(23,"nui-schematic-cli-option",4)(24,"nui-schematic-cli-option",5)(25,"nui-schematic-cli-option",6),e.qZA(),e.TgZ(26,"nui-tab-group",7)(27,"nui-tab",8)(28,"h2"),e._uU(29,"Basic Usage"),e.qZA(),e.TgZ(30,"p"),e._uU(31," This example illustrates the output of the CLI command without any modifications. Consumers are able to build upon the generated boilerplate to provide additional functionality depending on their use case. Data manipulations (filtering/pagination/sorting/search) are handled by the "),e.TgZ(32,"a",9)(33,"code"),e._uU(34,"ClientSideDataSource"),e.qZA()(),e._uU(35," service, which can be extended with custom filtering behavior. "),e.qZA(),e.TgZ(36,"nui-schematic-docs-command"),e._uU(37,"ng g @nova-ui/bits:list --name=basic-list --p=app"),e.qZA(),e.TgZ(38,"nui-schematic-docs-example",10),e._UZ(39,"app-basic-list"),e.qZA()(),e.TgZ(40,"nui-tab",11)(41,"h2"),e._uU(42,"List with Selection"),e.qZA(),e.TgZ(43,"p"),e._uU(44," Selection is facilitated by the "),e.TgZ(45,"a",12)(46,"code"),e._uU(47,"ListService"),e.qZA()(),e._uU(48," and can be enabled by running the CLI command with the "),e.TgZ(49,"code"),e._uU(50,"selectionMode"),e.qZA(),e._uU(51," option set to one of the selection-enabling values listed under "),e.TgZ(52,"strong"),e._uU(53,"Notable Command Line Options"),e.qZA(),e._uU(54," section above. The initial selection can be set using the "),e.TgZ(55,"code"),e._uU(56,"selection"),e.qZA(),e._uU(57," input of the "),e.TgZ(58,"code"),e._uU(59,"nui-repeat"),e.qZA(),e._uU(60,". Selection changes can be intercepted using the "),e.TgZ(61,"code"),e._uU(62,"selectionChange"),e.qZA(),e._uU(63," output of the "),e.TgZ(64,"code"),e._uU(65,"nui-repeat"),e.qZA(),e._uU(66,". "),e.qZA(),e.TgZ(67,"nui-schematic-docs-command"),e._uU(68,"ng g @nova-ui/bits:list --name=selection-list --p=app "),e.TgZ(69,"strong"),e._uU(70,"--selectionMode=multi"),e.qZA()(),e.TgZ(71,"nui-schematic-docs-example",13),e._UZ(72,"app-selection-list"),e.qZA()(),e.TgZ(73,"nui-tab",14)(74,"h2"),e._uU(75,"Search Properties"),e.qZA(),e.TgZ(76,"p"),e._uU(77," To specify fields for search, pass a properties array to the "),e.TgZ(78,"code"),e._uU(79,"setSearchProperties"),e.qZA(),e._uU(80," method exposed by the "),e.TgZ(81,"a",9)(82,"code"),e._uU(83,"ClientSideDataSource"),e.qZA()(),e._uU(84," service. If no properties are specified, the search will be performed on all fields. "),e.qZA(),e.TgZ(85,"nui-schematic-docs-command"),e._uU(86," ng g @nova-ui/bits:list --name=search-list --p=app --selectionMode=none --dataSource=serverSide --pagingMode=pagination --enable-sort=false "),e.TgZ(87,"strong"),e._uU(88,"--enable-search=true"),e.qZA()(),e.TgZ(89,"nui-schematic-docs-example",15),e._UZ(90,"app-search-list"),e.qZA()(),e.TgZ(91,"nui-tab",16)(92,"h2"),e._uU(93,"Pagination"),e.qZA(),e.TgZ(94,"p"),e._uU(95," This example shows how to add pagination to "),e.TgZ(96,"code"),e._uU(97,"nui-repeat"),e.qZA(),e._uU(98," with a remote data source. "),e.qZA(),e.TgZ(99,"nui-schematic-docs-command"),e._uU(100,"ng g @nova-ui/bits:list --name=paginated-list --p=app --pagingMode=pagination --dataSource=serverSide"),e.qZA(),e.TgZ(101,"nui-schematic-docs-example",17),e._UZ(102,"app-paginated-list"),e.qZA()(),e.TgZ(103,"nui-tab",18)(104,"h2"),e._uU(105,"Virtual Scroll"),e.qZA(),e.TgZ(106,"p"),e._uU(107," This example shows how to add virtual scroll to "),e.TgZ(108,"code"),e._uU(109,"nui-repeat"),e.qZA(),e._uU(110," with a remote data source. "),e.qZA(),e.TgZ(111,"nui-message",19),e._uU(112," Since the example makes use of search and sorting filters, it's important to note that the viewport manager's paging progress must be reset each time the data is refreshed with new filtered results. The reset invocation can be seen in the "),e.TgZ(113,"code"),e._uU(114,"virtual-scroll-list.component.ts:doSearch"),e.qZA(),e._uU(115," method. "),e.qZA(),e.TgZ(116,"nui-schematic-docs-command"),e._uU(117,"ng g @nova-ui/bits:list --name=scrollable-list --p=app --pagingMode=virtualScroll --dataSource=serverSide"),e.qZA(),e.TgZ(118,"nui-schematic-docs-example",20),e._UZ(119,"app-virtual-scroll-list"),e.qZA()()()()),2&t&&(e.xp6(111),e.Q6J("allowDismiss",!1))},dependencies:[ki.q,Mi.i,Ni.Q,TT,IT,gl,Ui,Pi,qi,yr,Tl,jT],encapsulation:2})),i})();function zT(i,r){if(1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"Enum: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(4),e.Oqu(n.addJsonScheme[t].enum)}}function KT(i,r){if(1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"Alias: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(4),e.Oqu(n.addJsonScheme[t].alias)}}function XT(i,r){if(1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"Default: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(4),e.Oqu(n.addJsonScheme[t].default)}}function e0(i,r){if(1&i&&(e.TgZ(0,"div")(1,"nui-expander",1)(2,"div")(3,"i"),e._uU(4,"Description: "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"div")(8,"i"),e._uU(9,"Type: "),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.YNc(12,zT,5,1,"div",2),e.YNc(13,KT,5,1,"div",2),e.YNc(14,XT,5,1,"div",2),e.qZA()()),2&i){const t=r.$implicit,n=e.oxw();e.xp6(1),e.Q6J("header",t),e.xp6(5),e.Oqu(n.addJsonScheme[t].description),e.xp6(5),e.Oqu(n.addJsonScheme[t].type),e.xp6(1),e.Q6J("ngIf",n.addJsonScheme[t].enum),e.xp6(1),e.Q6J("ngIf",n.addJsonScheme[t].alias),e.xp6(1),e.Q6J("ngIf",n.addJsonScheme[t].default)}}function t0(i,r){if(1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"Enum: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(4),e.Oqu(n.layoutJsonScheme[t].enum)}}function n0(i,r){if(1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"Alias: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(4),e.Oqu(n.layoutJsonScheme[t].alias)}}function r0(i,r){if(1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"Default: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(4),e.Oqu(n.layoutJsonScheme[t].default)}}function o0(i,r){if(1&i&&(e.TgZ(0,"div")(1,"nui-expander",1)(2,"div")(3,"i"),e._uU(4,"Description: "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"div")(8,"i"),e._uU(9,"Type: "),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.YNc(12,t0,5,1,"div",2),e.YNc(13,n0,5,1,"div",2),e.YNc(14,r0,5,1,"div",2),e.qZA()()),2&i){const t=r.$implicit,n=e.oxw();e.xp6(1),e.Q6J("header",t),e.xp6(5),e.Oqu(n.layoutJsonScheme[t].description),e.xp6(5),e.Oqu(n.layoutJsonScheme[t].type),e.xp6(1),e.Q6J("ngIf",n.layoutJsonScheme[t].enum),e.xp6(1),e.Q6J("ngIf",n.layoutJsonScheme[t].alias),e.xp6(1),e.Q6J("ngIf",n.layoutJsonScheme[t].default)}}function a0(i,r){if(1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"Enum: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(4),e.Oqu(n.tableJsonScheme[t].enum)}}function l0(i,r){if(1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"Alias: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(4),e.Oqu(n.tableJsonScheme[t].alias)}}function s0(i,r){if(1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"Default: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(4),e.Oqu(n.tableJsonScheme[t].default)}}function c0(i,r){if(1&i&&(e.TgZ(0,"div")(1,"nui-expander",1)(2,"div")(3,"i"),e._uU(4,"Description: "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"div")(8,"i"),e._uU(9,"Type: "),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.YNc(12,a0,5,1,"div",2),e.YNc(13,l0,5,1,"div",2),e.YNc(14,s0,5,1,"div",2),e.qZA()()),2&i){const t=r.$implicit,n=e.oxw();e.xp6(1),e.Q6J("header",t),e.xp6(5),e.Oqu(n.tableJsonScheme[t].description),e.xp6(5),e.Oqu(n.tableJsonScheme[t].type),e.xp6(1),e.Q6J("ngIf",n.tableJsonScheme[t].enum),e.xp6(1),e.Q6J("ngIf",n.tableJsonScheme[t].alias),e.xp6(1),e.Q6J("ngIf",n.tableJsonScheme[t].default)}}const u0=w(7246),p0=w(93558),_0=w(99067);let f0=(()=>{class i{constructor(){(0,l.Z)(this,"layoutJsonScheme",{}),(0,l.Z)(this,"tableJsonScheme",{}),(0,l.Z)(this,"addJsonScheme",{}),(0,l.Z)(this,"objectKeys",Object.keys),this.schemaObjectFiller(u0.properties,"layout"),this.schemaObjectFiller(_0.properties,"table"),this.schemaObjectFiller(p0.properties,"add")}schemaObjectFiller(t,n){const o=this[`${n}JsonScheme`];for(const a of this.objectKeys(t))o[a]={description:t[a].description,type:t[a].type},t[a].enum&&(o[a].enum=t[a].enum),t[a].default&&(o[a].default=t[a].default),t[a].alias&&(o[a].alias=t[a].alias)}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["schematics-docs"]],decls:42,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"header"],[4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"h1"),e._uU(1,"bits schematics"),e.qZA(),e.TgZ(2,"div"),e._uU(3," All schematics work in similar way. To use them, you can call it by first doing "),e.TgZ(4,"code"),e._uU(5,"ng add @nova-ui/bits"),e.qZA(),e._uU(6," then "),e.TgZ(7,"code"),e._uU(8,"ng g @nova-ui/bits:SCHEMATICNAME"),e.qZA(),e._uU(9," and add option, available for each schematic. "),e.TgZ(10,"b"),e._uU(11,"Note:"),e.qZA(),e._uU(12," for most of the schematics, name can be set without specifying option, just type it as the first argument in command line.\n"),e.qZA(),e.TgZ(13,"div")(14,"h2"),e._uU(15,"Ng-add schematic guide"),e.qZA(),e.TgZ(16,"p"),e._uU(17," Bootstraps nova-composites for consumption in your project. Adds it package.json and does "),e.TgZ(18,"code"),e._uU(19,"npm install"),e.qZA(),e._uU(20,". "),e.qZA(),e.YNc(21,e0,15,6,"div",0),e.qZA(),e.TgZ(22,"div")(23,"h2"),e._uU(24,"Layout schematic guide"),e.qZA(),e.TgZ(25,"p"),e._uU(26," Use "),e.TgZ(27,"code"),e._uU(28,"ng g @nova-ui/bits:layout"),e.qZA(),e._uU(29," to generate basic layout example that can be used in you project out of the box. "),e.qZA(),e.TgZ(30,"p"),e._uU(31," Use the following options in the command line to modify schematic's execution: "),e.qZA(),e.YNc(32,o0,15,6,"div",0),e.qZA(),e.TgZ(33,"div")(34,"h2"),e._uU(35,"Table schematic guide"),e.qZA(),e.TgZ(36,"p"),e._uU(37," In your command line, type "),e.TgZ(38,"code"),e._uU(39,"ng g @nova-ui/bits:table"),e.qZA(),e._uU(40,"to generate table. "),e.qZA(),e.YNc(41,c0,15,6,"div",0),e.qZA()),2&t&&(e.xp6(21),e.Q6J("ngForOf",n.objectKeys(n.addJsonScheme)),e.xp6(11),e.Q6J("ngForOf",n.objectKeys(n.layoutJsonScheme)),e.xp6(9),e.Q6J("ngForOf",n.objectKeys(n.tableJsonScheme)))},dependencies:[m.sg,m.O5,_e.F],encapsulation:2})),i})(),Cr=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[ke.lC],encapsulation:2})),i})(),h0=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.virtualScroll?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(400)).set("searchField","name").set("searchContent",t.search?.value??"");return t.sorter?.value?.sortBy&&(o=o.set("sortField",t.sorter.value.sortBy),o=o.set("sortOrder",t.sorter.value.direction.toUpperCase())),o}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count}}))))})()}getBackendData(t){const n=i.getRequestParams(t);return this.http.get("http://nova-pg.swdev.local/api/v1/servers",{params:n}).pipe((0,pe.g)(300),(0,U.U)(o=>({items:o.items?.map(a=>({name:a.name,location:a.location,status:a.status}))||[],count:o.count})),(0,he.K)(o=>(this.logger.error(o),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function m0(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,18),e.qZA()),2&i&&e.Udp("width",30,"%")}function g0(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function v0(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,20),e.qZA()),2&i&&e.Udp("width",30,"%")}function T0(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.location," ")}}function S0(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,21),e.qZA())}function y0(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function C0(i,r){1&i&&e._UZ(0,"tr",22)}function w0(i,r){1&i&&e._UZ(0,"tr",23)}function b0(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",24),e.TgZ(2,"div",25),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function E0(i,r){1&i&&(e.ynx(0),e.SDv(1,30),e.BQk())}function F0(i,r){1&i&&(e.TgZ(0,"strong"),e._uU(1,". All items loaded."),e.qZA())}function I0(i,r){if(1&i&&(e.TgZ(0,"div",25)(1,"div",26)(2,"div",27),e.SDv(3,28),e.qZA(),e.TgZ(4,"div",27),e.YNc(5,E0,2,0,"ng-container",15),e.YNc(6,F0,2,0,"ng-template",null,29,e.W1O),e.qZA()()()),2&i){const t=e.MAs(7),n=e.oxw();e.xp6(3),e.pQV(n.items.length)(n.totalItems),e.QtT(3),e.xp6(2),e.Q6J("ngIf",n.items.length!==n.totalItems)("ngIfElse",t)}}let wr=(()=>{class i{constructor(t,n,o){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"viewportManager",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"sortedColumn",{sortBy:"name",direction:_.aQE.ascending}),(0,l.Z)(this,"searchTerm",void 0),(0,l.Z)(this,"columnsToApplySearch",["name"]),(0,l.Z)(this,"pageSize",400),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"viewport",void 0),(0,l.Z)(this,"rowHeight",40),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.viewportManager=n,this.changeDetection=o}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent(t.table.getFilterComponents()),t.dataSource.registerComponent({search:{componentInstance:t.search},virtualScroll:{componentInstance:t.viewportManager}}),t.viewportManager.setViewport(t.viewport).observeNextPage$({pageSize:t.pageSize}).pipe((0,Kt.h)(()=>!t.items.length||t.items.length<t.totalItems),(0,O.b)((0,T.Z)(function*(){return t.applyFilters(!1)})),(0,Xt.w)(()=>t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=t.items.concat(n.repeat?.itemsSource||[]),t.totalItems=n.paginator?.total||0,t.changeDetection.detectChanges()}))),(0,M.R)(t.destroy$)).subscribe(),t.search.inputChange.pipe((0,wt.b)(500),(0,O.b)((0,T.Z)(function*(){return t.onSearch()})),(0,M.R)(t.destroy$)).subscribe()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onSearchCancel(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}sortData(t){var n=this;return(0,T.Z)(function*(){n.sortedColumn=t,yield n.applyFilters()})()}applyFilters(t=!0){var n=this;return(0,T.Z)(function*(){t&&n.viewportManager.reset({emitFirstPage:!1});const o=n.dataSource.getFilters();(n.dataSource.computeFiltersChange(o)||0===o.virtualScroll?.value.start)&&(n.items=[]),yield n.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(_.zCP),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-table-with-virtual-scroll"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(_.gSk,5),e.Gf(B.N7,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.viewport=o.first)}},features:[e._Bn([_.zCP,{provide:_.LvN,useClass:h0}])],decls:22,vars:14,consts:function(){let r,t,n,o,a;return r=$localize`:1544348a6496c3dcf8e4905654cbb5f5fee191e61552568671699956057: Name `,t=$localize`:e01692d26b709ceb10a22f9279fe604d79a26aaa212627037199736435: Location `,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,a=$localize`:b12cc7551005a9787976bb8d2a161113feed479a9056616360897919297:, scroll down for more.`,[[1,"app-table-with-virtual-scroll__container"],[1,"app-table-with-virtual-scroll-searchable__search"],[3,"value","search","cancel"],["tableStickyHeader","",1,"app-table-with-virtual-scroll-scrolling-container",3,"itemSize"],["viewportRef",""],["nui-table","",3,"dataSource","sortable","sortedColumn","sortOrderChanged"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-table-with-virtual-scroll-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o,["endOfData",""],a]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nui-search",2),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onSearchCancel()}),e.qZA()(),e.TgZ(3,"cdk-virtual-scroll-viewport",3,4)(5,"table",5),e.NdJ("sortOrderChanged",function(a){return n.sortData(a)}),e.ALo(6,"sliceRange"),e.ynx(7,6),e.YNc(8,m0,2,2,"th",7),e.YNc(9,g0,2,1,"td",8),e.BQk(),e.ynx(10,9),e.YNc(11,v0,2,2,"th",7),e.YNc(12,T0,2,1,"td",8),e.BQk(),e.ynx(13,10),e.YNc(14,S0,2,0,"th",11),e.YNc(15,y0,2,1,"td",8),e.BQk(),e.YNc(16,C0,1,0,"tr",12),e.YNc(17,w0,1,0,"ng-template",13),e.qZA()(),e.TgZ(18,"footer",14),e.YNc(19,b0,4,3,"div",15),e.YNc(20,I0,8,4,"ng-template",null,16,e.W1O),e.qZA()()),2&t){const o=e.MAs(4),a=e.MAs(21);e.xp6(2),e.Q6J("value",n.searchTerm),e.xp6(1),e.Q6J("itemSize",n.rowHeight),e.xp6(2),e.Q6J("dataSource",e.xi3(6,11,n.items,o.getRenderedRange()))("sortable",!0)("sortedColumn",n.sortedColumn),e.xp6(11),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns)("cdkVirtualForOf",n.items),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",a)}},dependencies:[m.O5,we.g,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y,ii.F,B.xd,B.x0,B.N7,We.t,ni.Q],styles:[".icon-margin{margin-right:5px}.app-table-with-virtual-scroll__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-table-with-virtual-scroll-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-virtual-scroll-scrolling-container{height:300px}.app-table-with-virtual-scroll-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}\n"],encapsulation:2})),i})(),A0=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.paginator?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(n.end-n.start)).set("searchField","name").set("searchContent",t.search?.value??"");return t.sorter?.value?.sortBy&&(o=o.set("sortField",t.sorter.value.sortBy),o=o.set("sortOrder",t.sorter.value.direction.toUpperCase())),o}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count}}))))})()}getBackendData(t){const n=i.getRequestParams(t);return this.http.get("http://nova-pg.swdev.local/api/v1/servers",{params:n}).pipe((0,pe.g)(300),(0,U.U)(o=>({items:o.items?.map(a=>({name:a.name,location:a.location,status:a.status}))||[],count:o.count})),(0,he.K)(o=>(this.logger.error(o),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function O0(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,16),e.qZA())}function L0(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function R0(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,18),e.qZA())}function D0(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.location)}}function M0(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,19),e.qZA())}function N0(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function G0(i,r){1&i&&e._UZ(0,"tr",20)}function V0(i,r){1&i&&e._UZ(0,"tr",21)}function k0(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",22),e.TgZ(2,"div",23),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function U0(i,r){if(1&i&&(e.TgZ(0,"div",23)(1,"div",24)(2,"div",25),e.SDv(3,26),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.pQV(t.items.length)(t.totalItems),e.QtT(3)}}const P0=function(){return[10,20,50,100]};let yl=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"sortedColumn",{sortBy:"name",direction:_.aQE.ascending}),(0,l.Z)(this,"searchTerm",void 0),(0,l.Z)(this,"columnsToApplySearch",["name"]),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",10),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent(t.table.getFilterComponents()),t.dataSource.registerComponent({search:{componentInstance:t.search},paginator:{componentInstance:t.paginator}}),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=n.repeat?.itemsSource||[],t.totalItems=n.paginator?.total??0}),(0,M.R)(t.destroy$)).subscribe(),t.search.inputChange.pipe((0,wt.b)(500),(0,O.b)((0,T.Z)(function*(){return t.onSearch()})),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onSearchCancel(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}sortData(t){var n=this;return(0,T.Z)(function*(){n.sortedColumn=t,yield n.applyFilters()})()}changePagination(t){var n=this;return(0,T.Z)(function*(){yield n.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-table-with-pagination"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(_.gSk,5),e.Gf(_.JbP,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first)}},features:[e._Bn([{provide:_.LvN,useClass:A0}])],decls:20,vars:14,consts:function(){let r,t,n,o;return r=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`,t=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[[1,"app-table-with-pagination__container"],[1,"app-table-with-pagination-searchable__search"],[3,"value","search","cancel"],["nui-table","",3,"dataSource","sortable","sortedColumn","sortOrderChanged"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-pagination-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],[3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nui-search",2),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onSearchCancel()}),e.qZA()(),e.TgZ(3,"table",3),e.NdJ("sortOrderChanged",function(a){return n.sortData(a)}),e.ynx(4,4),e.YNc(5,O0,2,0,"th",5),e.YNc(6,L0,2,1,"td",6),e.BQk(),e.ynx(7,7),e.YNc(8,R0,2,0,"th",5),e.YNc(9,D0,2,1,"td",6),e.BQk(),e.ynx(10,8),e.YNc(11,M0,2,0,"th",5),e.YNc(12,N0,2,1,"td",6),e.BQk(),e.YNc(13,G0,1,0,"tr",9),e.YNc(14,V0,1,0,"tr",10),e.qZA(),e.TgZ(15,"footer",11),e.YNc(16,k0,4,3,"div",12),e.YNc(17,U0,4,2,"ng-template",null,13,e.W1O),e.qZA()(),e.TgZ(19,"nui-paginator",14),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(a){return n.changePagination(a)}),e.qZA()),2&t){const o=e.MAs(18);e.xp6(2),e.Q6J("value",n.searchTerm),e.xp6(1),e.Q6J("dataSource",n.items)("sortable",!0)("sortedColumn",n.sortedColumn),e.xp6(10),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",o),e.xp6(3),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(13,P0))("total",n.totalItems)}},dependencies:[m.O5,Ce.J,we.g,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y,We.t],styles:[".icon-margin{margin-right:5px}.app-table-with-pagination__container{overflow:auto}.app-table-with-pagination-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-pagination-scrolling-footer{height:28px}\n"],encapsulation:2})),i})();var ae=(()=>(function(i){i.active="Active",i.down="Down"}(ae||(ae={})),ae))();const W0=[{name:"FOCUS-SVR-12345",location:"Kyiv",status:ae.active},{name:"Man-LT-ASD123",location:"Brno",status:ae.down},{name:"Man-LT-DSA331",location:"Austin",status:ae.active},{name:"Man-LT-JKS212",location:"Kyiv",status:ae.down},{name:"ABERN-SVR-ATQU9404",location:"Kyiv",status:ae.down},{name:"Man-LT-433AAD",location:"Austin",status:ae.down},{name:"FOCUS-SVR-098331",location:"Kyiv",status:ae.active},{name:"Man-LT-GHJ882",location:"Brno",status:ae.down},{name:"Man-LT-LLK001",location:"Austin",status:ae.down},{name:"Man-LT-KKJ998",location:"Kyiv",status:ae.active},{name:"FOCUS-SVR-RRR001",location:"Brno",status:ae.down},{name:"Man-LT-LKJF12",location:"Austin",status:ae.down},{name:"Man-LT-882JJS",location:"Kyiv",status:ae.down},{name:"FOCUS-SVR-7733KK",location:"Brno",status:ae.active},{name:"FOCUS-SVR-JSHNSA",location:"Austin",status:ae.active},{name:"FOCUS-SVR-KKAEQWE",location:"Kyiv",status:ae.down},{name:"FOCUS-SVR-123KKNPQ",location:"Brno",status:ae.active},{name:"Man-LT-RRF231",location:"Austin",status:ae.down}];function B0(i,r){1&i&&(e.TgZ(0,"th",10),e.SDv(1,11),e.qZA())}function Q0(i,r){if(1&i&&(e.TgZ(0,"td",12),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function $0(i,r){1&i&&(e.TgZ(0,"th",10),e.SDv(1,13),e.qZA())}function H0(i,r){if(1&i&&(e.TgZ(0,"td",12),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.location)}}function J0(i,r){1&i&&(e.TgZ(0,"th",10),e.SDv(1,14),e.qZA())}function j0(i,r){if(1&i&&(e.TgZ(0,"td",12),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function Y0(i,r){1&i&&e._UZ(0,"tr",15)}function z0(i,r){1&i&&e._UZ(0,"tr",16)}const K0=function(){return[10,20,50,100]};let Cl=(()=>{class i{constructor(t){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",10),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.dataSource.setData(W0)}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({paginator:{componentInstance:t.paginator}}),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=n.repeat?.itemsSource||[],t.totalItems=n.paginator?.total??0}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changePagination(t){var n=this;return(0,T.Z)(function*(){yield n.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-basic-table"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(_.JbP,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first)}},features:[e._Bn([{provide:_.LvN,useClass:_.X7T}])],decls:14,vars:9,consts:function(){let r,t,n;return r=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`,t=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,[[1,"app-basic-table__container"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row",""]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,B0,2,0,"th",3),e.YNc(4,Q0,2,1,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,$0,2,0,"th",3),e.YNc(7,H0,2,1,"td",4),e.BQk(),e.ynx(8,6),e.YNc(9,J0,2,0,"th",3),e.YNc(10,j0,2,1,"td",4),e.BQk(),e.YNc(11,Y0,1,0,"tr",7),e.YNc(12,z0,1,0,"tr",8),e.qZA()(),e.TgZ(13,"nui-paginator",9),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(a){return n.changePagination(a)}),e.qZA()),2&t&&(e.xp6(1),e.Q6J("dataSource",n.items),e.xp6(10),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(8,K0))("total",n.totalItems))},dependencies:[Ce.J,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y],styles:[".icon-margin{margin-right:5px}.app-basic-table__container{overflow:auto}\n"],encapsulation:2})),i})(),tS=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.paginator?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(n.end-n.start)).set("searchField","name").set("searchContent",t.search?.value??"");return t.sorter?.value?.sortBy&&(o=o.set("sortField",t.sorter.value.sortBy),o=o.set("sortOrder",t.sorter.value.direction.toUpperCase())),o}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count}}))))})()}getBackendData(t){const n=i.getRequestParams(t);return this.http.get("http://nova-pg.swdev.local/api/v1/servers",{params:n}).pipe((0,pe.g)(300),(0,U.U)(o=>({items:o.items?.map(a=>({name:a.name,location:a.location,status:a.status}))||[],count:o.count})),(0,he.K)(o=>(this.logger.error(o),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function iS(i,r){1&i&&(e.TgZ(0,"th",13),e.SDv(1,14),e.qZA())}function nS(i,r){if(1&i&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function rS(i,r){1&i&&(e.TgZ(0,"th",13),e.SDv(1,16),e.qZA())}function oS(i,r){if(1&i&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.location)}}function aS(i,r){1&i&&(e.TgZ(0,"th",13),e.SDv(1,17),e.qZA())}function lS(i,r){if(1&i&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function sS(i,r){1&i&&e._UZ(0,"tr",18)}function cS(i,r){1&i&&e._UZ(0,"tr",19)}function uS(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",20),e.TgZ(2,"div",21),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function pS(i,r){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e.SDv(3,24),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.pQV(t.items.length)(t.totalItems),e.QtT(3)}}const _S=function(){return[10,20,50,100]};let wl=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"sortedColumn",{sortBy:"name",direction:_.aQE.ascending}),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",10),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent(t.table.getFilterComponents()),t.dataSource.registerComponent({paginator:{componentInstance:t.paginator}}),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=n.repeat?.itemsSource||[],t.totalItems=n.paginator?.total??0}),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}sortData(t){var n=this;return(0,T.Z)(function*(){n.sortedColumn=t,yield n.applyFilters()})()}changePagination(t){var n=this;return(0,T.Z)(function*(){yield n.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-table-with-sort"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(_.JbP,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first)}},features:[e._Bn([{provide:_.LvN,useClass:tS}])],decls:18,vars:13,consts:function(){let r,t,n,o;return r=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`,t=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[[1,"app-table-with-sort__container"],["nui-table","",3,"dataSource","sortable","sortedColumn","sortOrderChanged"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-sort-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],[3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"table",1),e.NdJ("sortOrderChanged",function(a){return n.sortData(a)}),e.ynx(2,2),e.YNc(3,iS,2,0,"th",3),e.YNc(4,nS,2,1,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,rS,2,0,"th",3),e.YNc(7,oS,2,1,"td",4),e.BQk(),e.ynx(8,6),e.YNc(9,aS,2,0,"th",3),e.YNc(10,lS,2,1,"td",4),e.BQk(),e.YNc(11,sS,1,0,"tr",7),e.YNc(12,cS,1,0,"tr",8),e.qZA(),e.TgZ(13,"footer",9),e.YNc(14,uS,4,3,"div",10),e.YNc(15,pS,4,2,"ng-template",null,11,e.W1O),e.qZA()(),e.TgZ(17,"nui-paginator",12),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(a){return n.changePagination(a)}),e.qZA()),2&t){const o=e.MAs(16);e.xp6(1),e.Q6J("dataSource",n.items)("sortable",!0)("sortedColumn",n.sortedColumn),e.xp6(10),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",o),e.xp6(3),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(12,_S))("total",n.totalItems)}},dependencies:[m.O5,Ce.J,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y,We.t],styles:[".icon-margin{margin-right:5px}.app-table-with-sort__container{overflow:auto}.app-table-with-sort-scrolling-footer{height:28px}\n"],encapsulation:2})),i})(),hS=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.paginator?.value||{start:0,end:0};return(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(n.end-n.start)).set("searchField","name").set("searchContent",t.search?.value??"")}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count}}))))})()}getBackendData(t){const n=i.getRequestParams(t);return this.http.get("http://nova-pg.swdev.local/api/v1/servers",{params:n}).pipe((0,pe.g)(300),(0,U.U)(o=>({items:o.items?.map(a=>({name:a.name,location:a.location,status:a.status}))||[],count:o.count})),(0,he.K)(o=>(this.logger.error(o),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function mS(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,16),e.qZA())}function gS(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function vS(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,18),e.qZA())}function TS(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.location)}}function SS(i,r){1&i&&(e.TgZ(0,"th",15),e.SDv(1,19),e.qZA())}function yS(i,r){if(1&i&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function CS(i,r){1&i&&e._UZ(0,"tr",20)}function wS(i,r){1&i&&e._UZ(0,"tr",21)}function bS(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",22),e.TgZ(2,"div",23),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function ES(i,r){if(1&i&&(e.TgZ(0,"div",23)(1,"div",24)(2,"div",25),e.SDv(3,26),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.pQV(t.items.length)(t.totalItems),e.QtT(3)}}const FS=function(){return[10,20,50,100]};let bl=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"searchTerm",void 0),(0,l.Z)(this,"columnsToApplySearch",["name"]),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",10),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent({search:{componentInstance:t.search},paginator:{componentInstance:t.paginator}}),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=n.repeat?.itemsSource||[],t.totalItems=n.paginator?.total??0}),(0,M.R)(t.destroy$)).subscribe(),t.search.inputChange.pipe((0,wt.b)(500),(0,O.b)((0,T.Z)(function*(){return t.onSearch()})),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onSearchCancel(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}changePagination(t){var n=this;return(0,T.Z)(function*(){yield n.applyFilters()})()}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-table-with-search"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(_.gSk,5),e.Gf(_.JbP,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first)}},features:[e._Bn([{provide:_.LvN,useClass:hS}])],decls:20,vars:12,consts:function(){let r,t,n,o;return r=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`,t=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[[1,"app-table-with-search__container"],[1,"app-table-with-search-searchable__search"],[3,"value","search","cancel"],["nui-table","",3,"dataSource"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-search-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],[3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nui-search",2),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onSearchCancel()}),e.qZA()(),e.TgZ(3,"table",3),e.ynx(4,4),e.YNc(5,mS,2,0,"th",5),e.YNc(6,gS,2,1,"td",6),e.BQk(),e.ynx(7,7),e.YNc(8,vS,2,0,"th",5),e.YNc(9,TS,2,1,"td",6),e.BQk(),e.ynx(10,8),e.YNc(11,SS,2,0,"th",5),e.YNc(12,yS,2,1,"td",6),e.BQk(),e.YNc(13,CS,1,0,"tr",9),e.YNc(14,wS,1,0,"tr",10),e.qZA(),e.TgZ(15,"footer",11),e.YNc(16,bS,4,3,"div",12),e.YNc(17,ES,4,2,"ng-template",null,13,e.W1O),e.qZA()(),e.TgZ(19,"nui-paginator",14),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(a){return n.changePagination(a)}),e.qZA()),2&t){const o=e.MAs(18);e.xp6(2),e.Q6J("value",n.searchTerm),e.xp6(1),e.Q6J("dataSource",n.items),e.xp6(10),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",o),e.xp6(3),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(11,FS))("total",n.totalItems)}},dependencies:[m.O5,Ce.J,we.g,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y,We.t],styles:[".icon-margin{margin-right:5px}.app-table-with-search__container{overflow:auto}.app-table-with-search-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-search-scrolling-footer{height:28px}\n"],encapsulation:2})),i})(),ZS=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.paginator?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(n.end-n.start)).set("searchField","name").set("searchContent",t.search?.value??"");return t.sorter?.value?.sortBy&&(o=o.set("sortField",t.sorter.value.sortBy),o=o.set("sortOrder",t.sorter.value.direction.toUpperCase())),o}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count}}))))})()}getBackendData(t){const n=i.getRequestParams(t);return this.http.get("http://nova-pg.swdev.local/api/v1/servers",{params:n}).pipe((0,pe.g)(300),(0,U.U)(o=>({items:o.items?.map(a=>({name:a.name,location:a.location,status:a.status}))||[],count:o.count})),(0,he.K)(o=>(this.logger.error(o),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function AS(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,18),e.qZA())}function OS(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function LS(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,20),e.qZA())}function RS(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.location)}}function DS(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,21),e.qZA())}function MS(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function NS(i,r){1&i&&e._UZ(0,"tr",22)}function GS(i,r){1&i&&e._UZ(0,"tr",23),2&i&&e.Q6J("rowObject",r.$implicit)}function VS(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",24),e.TgZ(2,"div",25),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function kS(i,r){if(1&i&&(e.TgZ(0,"div",25)(1,"div",26)(2,"div",27),e.SDv(3,28),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.pQV(t.items.length)(t.totalItems),e.QtT(3)}}const US=function(){return[10,20,50,100]};let El=(()=>{class i{constructor(t,n){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"totalItems",0),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"sortedColumn",{sortBy:"name",direction:_.aQE.ascending}),(0,l.Z)(this,"searchTerm",void 0),(0,l.Z)(this,"columnsToApplySearch",["name"]),(0,l.Z)(this,"page",1),(0,l.Z)(this,"pageSize",10),(0,l.Z)(this,"selectedItems",[]),(0,l.Z)(this,"selection",{isAllPages:!1,include:["ABERN-SVR-ATQU9404"],exclude:[]}),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"paginator",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.changeDetection=n}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent(t.table.getFilterComponents()),t.dataSource.registerComponent({search:{componentInstance:t.search},paginator:{componentInstance:t.paginator}}),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{t.items=n.repeat?.itemsSource||[],t.totalItems=n.paginator?.total??0}),(0,M.R)(t.destroy$)).subscribe(),t.search.inputChange.pipe((0,wt.b)(500),(0,O.b)((0,T.Z)(function*(){return t.onSearch()})),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onSearchCancel(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}sortData(t){var n=this;return(0,T.Z)(function*(){n.sortedColumn=t,yield n.applyFilters()})()}changePagination(t){var n=this;return(0,T.Z)(function*(){yield n.applyFilters()})()}onSelectionChanged(t){this.changeDetection.detectChanges()}trackBy(t,n){return n.name}applyFilters(){var t=this;return(0,T.Z)(function*(){yield t.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-table-with-selection"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(_.gSk,5),e.Gf(_.JbP,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first)}},features:[e._Bn([{provide:_.LvN,useClass:ZS}])],decls:26,vars:20,consts:function(){let r,t,n,o;return r=$localize`:cff1428d10d59d14e45edec3c735a27b5482db598953033926734869941:Name`,t=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:3a4a744d56678df1eb8b66e80cf3ceaf684419302066981331527087282: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[[1,"flex-row-container"],[1,"flex-independent-row-item"],[1,"app-table-with-selection__container"],[1,"app-table-with-selection-searchable__search"],[3,"value","search","cancel"],["nui-table","",3,"dataSource","sortable","sortedColumn","selection","selectable","trackBy","sortOrderChanged","selectionChange"],["nuiColumnDef","name"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nui-row","",3,"rowObject",4,"nuiRowDef","nuiRowDefColumns"],[1,"app-table-with-selection-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],[3,"page","pageSize","pageSizeSet","total","pageChange","pagerAction"],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row","",3,"rowObject"],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o]},template:function(t,n){if(1&t&&(e.TgZ(0,"h2"),e._uU(1,"Selection result"),e.qZA(),e.TgZ(2,"div",0)(3,"span",1),e._uU(4),e.ALo(5,"json"),e.qZA()(),e.TgZ(6,"div",2)(7,"div",3)(8,"nui-search",4),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onSearchCancel()}),e.qZA()(),e.TgZ(9,"table",5),e.NdJ("sortOrderChanged",function(a){return n.sortData(a)})("selectionChange",function(a){return n.selection=a})("selectionChange",function(a){return n.onSelectionChanged(a)}),e.ynx(10,6),e.YNc(11,AS,2,0,"th",7),e.YNc(12,OS,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,LS,2,0,"th",7),e.YNc(15,RS,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,DS,2,0,"th",7),e.YNc(18,MS,2,1,"td",8),e.BQk(),e.YNc(19,NS,1,0,"tr",11),e.YNc(20,GS,1,1,"tr",12),e.qZA(),e.TgZ(21,"footer",13),e.YNc(22,VS,4,3,"div",14),e.YNc(23,kS,4,2,"ng-template",null,15,e.W1O),e.qZA()(),e.TgZ(25,"nui-paginator",16),e.NdJ("pageChange",function(a){return n.page=a})("pagerAction",function(a){return n.changePagination(a)}),e.qZA()),2&t){const o=e.MAs(24);e.xp6(4),e.Oqu(e.lcZ(5,17,n.selection)),e.xp6(4),e.Q6J("value",n.searchTerm),e.xp6(1),e.Q6J("dataSource",n.items)("sortable",!0)("sortedColumn",n.sortedColumn)("selection",n.selection)("selectable",!0)("trackBy",n.trackBy),e.xp6(10),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",o),e.xp6(3),e.Q6J("page",n.page)("pageSize",n.pageSize)("pageSizeSet",e.DdM(19,US))("total",n.totalItems)}},dependencies:[m.O5,Ce.J,we.g,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y,We.t,m.Ts],styles:[".icon-margin{margin-right:5px}.app-table-with-selection__container{overflow:auto}.app-table-with-selection-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-selection-scrolling-footer{height:28px}\n"],encapsulation:2})),i})();const Fl=new e.OlP("CUSTOM_SCROLL_ITEMS_PER_PAGE");let qS=(()=>{class i extends _.xOK{constructor(t,n){super(),(0,l.Z)(this,"logger",void 0),(0,l.Z)(this,"http",void 0),this.logger=t,this.http=n}static getRequestParams(t){const n=t.virtualScroll?.value||{start:0,end:0};let o=(new V.LE).set("page",Math.ceil(n.start/(n.end-n.start)).toString()).set("pageSize",String(400)).set("searchField","name").set("searchContent",t.search?.value??"");return t.sorter?.value?.sortBy&&(o=o.set("sortField",t.sorter.value.sortBy),o=o.set("sortOrder",t.sorter.value.direction.toUpperCase())),o}getFilteredData(t){return(0,T.Z)(function*(){return(0,de.z)((0,W.of)(t).pipe((0,U.U)(n=>({repeat:{itemsSource:n.items},paginator:{total:n.count}}))))})()}getBackendData(t){const n=i.getRequestParams(t);return this.http.get("http://nova-pg.swdev.local/api/v1/servers",{params:n}).pipe((0,pe.g)(300),(0,U.U)(o=>({items:o.items?.map(a=>({name:a.name,location:a.location,status:a.status}))||[],count:o.count})),(0,he.K)(o=>(this.logger.error(o),(0,W.of)({items:[],count:0}))))}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(_.mQy),e.LFG(V.eN))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})(),Il=(()=>{class i{constructor(t){(0,l.Z)(this,"itemsPerPage",void 0),(0,l.Z)(this,"virtualScrollRange",void 0),this.itemsPerPage=t,this.reset()}getFilters(){return{type:"virtualScroll",value:this.virtualScrollRange}}reset(){this.virtualScrollRange={start:0,end:this.itemsPerPage}}prepareNextPage(t){t<this.itemsPerPage||(this.virtualScrollRange.start+=this.itemsPerPage,this.virtualScrollRange.end=this.virtualScrollRange.start+this.itemsPerPage)}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(Fl))}),(0,l.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac})),i})();function WS(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,18),e.qZA()),2&i&&e.Udp("width",30,"%")}function BS(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function QS(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,20),e.qZA()),2&i&&e.Udp("width",30,"%")}function $S(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.location," ")}}function HS(i,r){1&i&&(e.TgZ(0,"th",17),e.SDv(1,21),e.qZA())}function JS(i,r){if(1&i&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.status)}}function jS(i,r){1&i&&e._UZ(0,"tr",22)}function YS(i,r){1&i&&e._UZ(0,"tr",23)}function zS(i,r){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"nui-progress",24),e.TgZ(2,"div",25),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("show",!0)("compactMode",!0),e.xp6(2),e.hij(" Loading next ",t.pageSize," items... ")}}function KS(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"div",27),e.SDv(3,28),e.qZA(),e.TgZ(4,"div",29)(5,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilters(!1))}),e.SDv(6,31),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.pQV(t.items.length),e.QtT(3),e.xp6(3),e.pQV(t.pageSize),e.QtT(6)}}let xl=(()=>{class i{constructor(t,n,o,a){(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"viewportManager",void 0),(0,l.Z)(this,"customVirtualScrollStrategyService",void 0),(0,l.Z)(this,"changeDetection",void 0),(0,l.Z)(this,"items",[]),(0,l.Z)(this,"isBusy",!1),(0,l.Z)(this,"displayedColumns",["name","location","status"]),(0,l.Z)(this,"sortedColumn",{sortBy:"name",direction:_.aQE.ascending}),(0,l.Z)(this,"searchTerm",void 0),(0,l.Z)(this,"columnsToApplySearch",["name"]),(0,l.Z)(this,"pageSize",400),(0,l.Z)(this,"table",void 0),(0,l.Z)(this,"search",void 0),(0,l.Z)(this,"viewport",void 0),(0,l.Z)(this,"rowHeight",40),(0,l.Z)(this,"previouslyLoadedCount",void 0),(0,l.Z)(this,"destroy$",new q.x),this.dataSource=t,this.viewportManager=n,this.customVirtualScrollStrategyService=o,this.changeDetection=a}ngOnInit(){this.dataSource.busy.pipe((0,O.b)(t=>{this.isBusy=t,this.changeDetection.detectChanges()}),(0,M.R)(this.destroy$)).subscribe()}ngAfterViewInit(){var t=this;return(0,T.Z)(function*(){t.dataSource.registerComponent(t.table.getFilterComponents()),t.dataSource.registerComponent({search:{componentInstance:t.search},virtualScroll:{componentInstance:t.customVirtualScrollStrategyService}}),t.viewportManager.setViewport(t.viewport),t.dataSource.outputsSubject.pipe((0,O.b)(n=>{let o=n.repeat?.itemsSource||[];const a=o.length;o=o.slice(0,a<t.pageSize?t.previouslyLoadedCount-a:a),t.previouslyLoadedCount=o.length,t.items=t.items.concat(o),t.customVirtualScrollStrategyService.prepareNextPage(a)}),(0,M.R)(t.destroy$)).subscribe(),t.search.inputChange.pipe((0,wt.b)(500),(0,O.b)((0,T.Z)(function*(){return t.onSearch()})),(0,M.R)(t.destroy$)).subscribe(),yield t.applyFilters()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}onSearchCancel(){var t=this;return(0,T.Z)(function*(){yield t.applyFilters()})()}sortData(t){var n=this;return(0,T.Z)(function*(){n.sortedColumn=t,yield n.applyFilters()})()}applyFilters(t=!0){var n=this;return(0,T.Z)(function*(){t&&n.viewportManager.reset({emitFirstPage:!1});const o=n.dataSource.getFilters();(n.dataSource.computeFiltersChange(o)||0===o.virtualScroll?.value.start)&&(n.items=[],n.customVirtualScrollStrategyService.reset()),yield n.dataSource.applyFilters()})()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(_.LvN),e.Y36(_.zCP),e.Y36(Il),e.Y36(e.sBO))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-table-with-custom-virtual-scroll"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_.ac$,5),e.Gf(_.gSk,5),e.Gf(B.N7,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.table=o.first),e.iGM(o=e.CRH())&&(n.search=o.first),e.iGM(o=e.CRH())&&(n.viewport=o.first)}},features:[e._Bn([_.zCP,Il,{provide:Fl,useValue:400},{provide:_.LvN,useClass:qS}])],decls:22,vars:14,consts:function(){let r,t,n,o,a;return r=$localize`:1544348a6496c3dcf8e4905654cbb5f5fee191e61552568671699956057: Name `,t=$localize`:e01692d26b709ceb10a22f9279fe604d79a26aaa212627037199736435: Location `,n=$localize`:81b97b8ea996ad1e4f9fca8415021850214884b15611592591303869712:Status`,o=$localize`:fd2c761c79d0b41a63c7f1ca71a99a1439f817904607040487655280131: Showing ${"\ufffd0\ufffd"}:INTERPOLATION: item(s). `,a=$localize`:82b9a2e2e3f636942c16552ddad1266bc1eeee473980091347819066373: Load another ${"\ufffd0\ufffd"}:INTERPOLATION: items `,[[1,"app-table-with-custom-virtual-scroll__container"],[1,"app-table-with-custom-virtual-scroll-searchable__search"],[3,"value","search","cancel"],["tableStickyHeader","",1,"app-table-with-custom-virtual-scroll-scrolling-container",3,"itemSize"],["viewportRef",""],["nui-table","",3,"dataSource","sortable","sortedColumn","sortOrderChanged"],["nuiColumnDef","name"],["nui-header-cell","",3,"width",4,"nuiHeaderCellDef"],["nui-cell","",4,"nuiCellDef"],["nuiColumnDef","location"],["nuiColumnDef","status"],["nui-header-cell","",4,"nuiHeaderCellDef"],["nui-header-row","",4,"nuiHeaderRowDef","nuiHeaderRowDefSticky"],["nuiRowDef","","cdkVirtualFor","",3,"nuiRowDefColumns","cdkVirtualForOf"],[1,"app-table-with-custom-virtual-scroll-scrolling-footer"],[4,"ngIf","ngIfElse"],["defaultText",""],["nui-header-cell",""],r,["nui-cell",""],t,n,["nui-header-row",""],["nui-row",""],[3,"show","compactMode"],[1,"d-flex","justify-content-center","align-items-center"],[1,"p-1","d-flex"],[1,"d-flex","pt-3","pb-3"],o,[1,"d-flex","justify-content-center"],["btn","","nui-button","","type","button","size","default","displayStyle","action",3,"click"],a]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nui-search",2),e.NdJ("search",function(){return n.onSearch()})("cancel",function(){return n.onSearchCancel()}),e.qZA()(),e.TgZ(3,"cdk-virtual-scroll-viewport",3,4)(5,"table",5),e.NdJ("sortOrderChanged",function(a){return n.sortData(a)}),e.ALo(6,"sliceRange"),e.ynx(7,6),e.YNc(8,WS,2,2,"th",7),e.YNc(9,BS,2,1,"td",8),e.BQk(),e.ynx(10,9),e.YNc(11,QS,2,2,"th",7),e.YNc(12,$S,2,1,"td",8),e.BQk(),e.ynx(13,10),e.YNc(14,HS,2,0,"th",11),e.YNc(15,JS,2,1,"td",8),e.BQk(),e.YNc(16,jS,1,0,"tr",12),e.YNc(17,YS,1,0,"ng-template",13),e.qZA()(),e.TgZ(18,"footer",14),e.YNc(19,zS,4,3,"div",15),e.YNc(20,KS,7,2,"ng-template",null,16,e.W1O),e.qZA()()),2&t){const o=e.MAs(4),a=e.MAs(21);e.xp6(2),e.Q6J("value",n.searchTerm),e.xp6(1),e.Q6J("itemSize",n.rowHeight),e.xp6(2),e.Q6J("dataSource",e.xi3(6,11,n.items,o.getRenderedRange()))("sortable",!0)("sortedColumn",n.sortedColumn),e.xp6(11),e.Q6J("nuiHeaderRowDef",n.displayedColumns)("nuiHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("nuiRowDefColumns",n.displayedColumns)("cdkVirtualForOf",n.items),e.xp6(2),e.Q6J("ngIf",n.isBusy)("ngIfElse",a)}},dependencies:[m.O5,we.g,Ie.a,N.Pu,xe.w,N.l6,N.ue,N.xh,Ze.G,Ae.A,Oe.t,Le.y,ii.F,Vi.r,B.xd,B.x0,B.N7,We.t,ni.Q],styles:[".icon-margin{margin-right:5px}.app-table-with-custom-virtual-scroll__container{height:400px;border-color:#d3d3d3;overflow:auto}.app-table-with-custom-virtual-scroll-searchable__search{max-width:350px;margin-bottom:5px;margin-left:auto}.app-table-with-custom-virtual-scroll-scrolling-container{height:300px}.app-table-with-custom-virtual-scroll-scrolling-footer{height:28px;background-color:var(--nui-color-bg-transparent,transparent);color:var(--nui-color-text-secondary,rgba(17, 17, 17, .6))}\n"],encapsulation:2})),i})();function XS(i,r){1&i&&e._UZ(0,"app-table-with-virtual-scroll")}function ey(i,r){1&i&&e._UZ(0,"app-table-with-custom-virtual-scroll")}let ty=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-table-schematics-docs-example"]],features:[e._Bn([{provide:Je,useValue:Je.table}])],decls:99,vars:3,consts:[["schematicFolderName","table"],["schematicSummary",""],["name","selectionMode"],["name","pagingMode"],["name","dataSource"],["name","enableSearch"],["name","enableSort"],["schematicExamples",""],["heading","Basic"],["target","_blank","href","../injectables/ClientSideDataSource.html"],["exampleFolderName","basic-table"],["heading","Sort"],["exampleFolderName","table-with-sort"],["heading","Search"],["exampleFolderName","table-with-search"],["heading","Pagination"],["exampleFolderName","table/table-with-pagination"],["heading","Selection"],["exampleFolderName","table/table-with-selection"],["heading","Virtual Scroll"],["vs",""],["type","warning",3,"allowDismiss"],["exampleFolderName","table/table-with-virtual-scroll"],[4,"ngIf"],["heading","Custom Virtual Scroll"],["cvs",""],["exampleFolderName","table/table-with-custom-virtual-scroll"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nui-schematic-docs-page",0)(1,"div",1)(2,"p"),e._uU(3," The Table schematic provides the ability to create a generic table that can cover a majority of use cases. Its main responsibility is to integrate the functionality of the "),e.TgZ(4,"code"),e._uU(5,"nui-table"),e.qZA(),e._uU(6," component with other components commonly used with a table such as "),e.TgZ(7,"code"),e._uU(8,"nui-search"),e.qZA(),e._uU(9," and "),e.TgZ(10,"code"),e._uU(11,"nui-paginator"),e.qZA(),e._uU(12,". "),e.qZA(),e.TgZ(13,"h2"),e._uU(14,"Notable Command Line Options"),e.qZA(),e._UZ(15,"nui-schematic-cli-option",2)(16,"nui-schematic-cli-option",3)(17,"nui-schematic-cli-option",4)(18,"nui-schematic-cli-option",5)(19,"nui-schematic-cli-option",6),e.qZA(),e.TgZ(20,"nui-tab-group",7)(21,"nui-tab",8)(22,"h2"),e._uU(23,"Basic Usage"),e.qZA(),e.TgZ(24,"p"),e._uU(25," This example illustrates the output of the CLI command without any modifications. Consumers are able to build upon the generated boilerplate to provide additional functionality depending on their use case. Data manipulations (filtering/pagination/sorting/search) are handled by the "),e.TgZ(26,"a",9)(27,"code"),e._uU(28,"ClientSideDataSource"),e.qZA()(),e._uU(29," service, which can be extended with custom filtering behavior. "),e.qZA(),e.TgZ(30,"nui-schematic-docs-command"),e._uU(31,"ng g @nova-ui/bits:table --p=app --name=basic-table --enable-search=false --enable-sort=false"),e.qZA(),e.TgZ(32,"nui-schematic-docs-example",10),e._UZ(33,"app-basic-table"),e.qZA()(),e.TgZ(34,"nui-tab",11)(35,"h2"),e._uU(36,"Table Sorting"),e.qZA(),e.TgZ(37,"nui-schematic-docs-command"),e._uU(38,"ng g @nova-ui/bits:table --p=app --name=table-with-sort --enable-sort --enable-search=false"),e.qZA(),e.TgZ(39,"nui-schematic-docs-example",12),e._UZ(40,"app-table-with-sort"),e.qZA()(),e.TgZ(41,"nui-tab",13)(42,"h2"),e._uU(43,"Table with Search"),e.qZA(),e.TgZ(44,"nui-schematic-docs-command"),e._uU(45,"ng g @nova-ui/bits:table --p=app --name=table-with-search --enable-search --enable-sort=false"),e.qZA(),e.TgZ(46,"nui-schematic-docs-example",14),e._UZ(47,"app-table-with-search"),e.qZA()(),e.TgZ(48,"nui-tab",15)(49,"h2"),e._uU(50,"Pagination"),e.qZA(),e.TgZ(51,"p"),e._uU(52," This example shows how to add pagination to "),e.TgZ(53,"code"),e._uU(54,"nui-table"),e.qZA(),e._uU(55," with a remote data source. "),e.qZA(),e.TgZ(56,"nui-schematic-docs-command"),e._uU(57,"ng g @nova-ui/bits:table --name=table-with-pagination --p=app --pagingMode=pagination --dataSource=serverSide"),e.qZA(),e.TgZ(58,"nui-schematic-docs-example",16),e._UZ(59,"app-table-with-pagination"),e.qZA()(),e.TgZ(60,"nui-tab",17)(61,"h2"),e._uU(62,"Selection"),e.qZA(),e.TgZ(63,"p"),e._uU(64," This example shows how to add selection to "),e.TgZ(65,"code"),e._uU(66,"nui-table"),e.qZA(),e._uU(67," with a remote data source. "),e.qZA(),e.TgZ(68,"nui-schematic-docs-command"),e._uU(69,"ng g @nova-ui/bits:table --name=table-with-pagination --p=app --pagingMode=pagination --dataSource=serverSide "),e.TgZ(70,"strong"),e._uU(71,"--selectionMode=multi"),e.qZA()(),e.TgZ(72,"nui-schematic-docs-example",18),e._UZ(73,"app-table-with-selection"),e.qZA()(),e.TgZ(74,"nui-tab",19,20)(76,"h2"),e._uU(77,"Virtual Scroll"),e.qZA(),e.TgZ(78,"p"),e._uU(79," This example shows how to add virtual scroll to "),e.TgZ(80,"code"),e._uU(81,"nui-repeat"),e.qZA(),e._uU(82," with a remote data source. "),e.qZA(),e.TgZ(83,"nui-message",21),e._uU(84," Since the example makes use of search and sorting filters, it's important to note that the viewport manager's paging progress must be reset each time the data is refreshed with new filtered results whenever the filters are changed. "),e.qZA(),e.TgZ(85,"nui-schematic-docs-command"),e._uU(86,"ng g @nova-ui/bits:table --name=table-with-virtual-scroll --p=app --pagingMode=virtualScroll --dataSource=serverSide"),e.qZA(),e.TgZ(87,"nui-schematic-docs-example",22),e.YNc(88,XS,1,0,"app-table-with-virtual-scroll",23),e.qZA()(),e.TgZ(89,"nui-tab",24,25)(91,"h2"),e._uU(92,"Virtual Scroll with Custom Strategy"),e.qZA(),e.TgZ(93,"nui-schematic-docs-command"),e._uU(94," ng g @nova-ui/bits:table --name=table-with-virtual-scroll --p=app --pagingMode=virtualScroll --dataSource=serverSide "),e.TgZ(95,"strong"),e._uU(96,"--virtualScrollStrategy=custom"),e.qZA()(),e.TgZ(97,"nui-schematic-docs-example",26),e.YNc(98,ey,1,0,"app-table-with-custom-virtual-scroll",23),e.qZA()()()()),2&t){const o=e.MAs(75),a=e.MAs(90);e.xp6(83),e.Q6J("allowDismiss",!1),e.xp6(5),e.Q6J("ngIf",o.active),e.xp6(10),e.Q6J("ngIf",a.active)}},dependencies:[m.O5,ki.q,Mi.i,Ni.Q,Ui,Pi,qi,yr,wr,yl,Cl,wl,bl,El,xl],encapsulation:2})),i})(),iy=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["table-schematics-visual-test"]],decls:29,vars:0,consts:[[1,"container"],[1,"row"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Basic"),e.qZA()(),e._UZ(4,"app-basic-table"),e.TgZ(5,"div",1)(6,"h2"),e._uU(7,"Pagination"),e.qZA()(),e._UZ(8,"app-table-with-pagination"),e.TgZ(9,"div",1)(10,"h2"),e._uU(11,"Search"),e.qZA()(),e._UZ(12,"app-table-with-search"),e.TgZ(13,"div",1)(14,"h2"),e._uU(15,"Selection"),e.qZA()(),e._UZ(16,"app-table-with-selection"),e.TgZ(17,"div",1)(18,"h2"),e._uU(19,"Sorting"),e.qZA()(),e._UZ(20,"app-table-with-sort"),e.TgZ(21,"div",1)(22,"h2"),e._uU(23,"Virtual Scroll"),e.qZA()(),e._UZ(24,"app-table-with-virtual-scroll"),e.TgZ(25,"div",1)(26,"h2"),e._uU(27,"Custom Virtual Scroll"),e.qZA()(),e._UZ(28,"app-table-with-custom-virtual-scroll"),e.qZA())},dependencies:[wr,yl,Cl,wl,bl,El,xl],encapsulation:2})),i})();var Re=(()=>(function(i){i.Main="",i.List="list",i.ListPagination="list-pagination",i.ListVirtualScroll="list-virtual-scroll",i.Table="table",i.TablePagination="table-pagination",i.TablePaginationSelection="table-pagination-selection",i.TableVirtualScroll="table-virtual-scroll",i.TableVirtualScrollSelection="table-virtual-scroll-selection",i.TableVirtualScrollCustom="table-virtual-scroll-custom"}(Re||(Re={})),Re))();const oy=[{path:"",component:f0,data:{srlc:{hideIndicator:!0}}},{path:"filtered-view",component:Cr,data:{srlc:{stage:_.We9.ga},showThemeSwitcher:!0},children:[{path:Re.Main,component:N1},{path:Re.List,component:tl},{path:Re.ListPagination,component:Wa},{path:Re.ListVirtualScroll,component:$a},{path:Re.Table,component:Ja},{path:Re.TablePagination,component:Ya},{path:Re.TablePaginationSelection,component:ol},{path:Re.TableVirtualScroll,component:Xa},{path:Re.TableVirtualScrollSelection,component:_l},{path:Re.TableVirtualScrollCustom,component:cl}]},{path:"filter-group",component:Gf,data:{srlc:{stage:_.We9.ga},showThemeSwitcher:!0}},{path:"list",component:YT,data:{srlc:{stage:_.We9.ga},showThemeSwitcher:!0}},{path:"list-outlet",component:Cr,children:[{path:"selection",component:gl},{path:"vscroll",component:Tl}]},{path:"table",component:ty,data:{srlc:{stage:_.We9.ga},showThemeSwitcher:!0}},{path:"table-outlet",component:Cr,children:[{path:"virtual-scroll",component:wr,data:{srlc:{hideIndicator:!0}}},{path:"visual-test",component:iy,data:{srlc:{hideIndicator:!0}}}]},{path:"tree",component:nl,data:{srlc:{stage:_.We9.ga},showThemeSwitcher:!0}}];let ay=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[m.uU,ar,{provide:Oa,useFactory:r=>({cache:new Sc,link:r.create({uri:"https://countries-274616.ew.r.appspot.com/"})}),deps:[Sp]}],imports:[m.ez,_.Ld5,_.gkT,_.dVY,_.ZuS,_.a$t,_.bGb,_.kWU,_.lov,_.LRI,_.YtC,_.ILf,_.CND,_.hvO,_.F__,_.Gsl,_.Ts3,ke.Bz.forChild(oy),ml,Ep,Fp,Ip,Zp,_.vvu,_.Az_,_.sF0,V.JF,_.S6I,B.Cl,_.BSv,B1,iT,Pd,fd,aT,ml,_T,_.a51,J1,U1,K1]})),i})()},18680:(le,Ft,w)=>{var l=w(42664),B=w(50686),m=w(23269),V=w(21330),ke=m(function(v,me){return V(v)?l(v,B(me,1,V,!0)):[]});le.exports=ke},12906:(le,Ft,w)=>{var l=w(50686),B=w(6119),m=w(23269),V=w(93342),ke=m(function(v,me){if(null==v)return[];var It=me.length;return It>1&&V(v,me[0],me[1])?me=[]:It>2&&V(me[0],me[1],me[2])&&(me=[me[0]]),B(v,l(me,1),[])});le.exports=ke},45962:(le,Ft,w)=>{var l={"./filter-group/schema.json":71186,"./filtered-view/schema.json":74291,"./layout/schema.json":7246,"./list/schema.json":51839,"./ng-add/schema.json":93558,"./ng-update/schema.json":99170,"./table/schema.json":99067};function B(V){var ke=m(V);return w(ke)}function m(V){if(!w.o(l,V)){var ke=new Error("Cannot find module '"+V+"'");throw ke.code="MODULE_NOT_FOUND",ke}return l[V]}B.keys=function(){return Object.keys(l)},B.resolve=m,le.exports=B,B.id=45962},71186:le=>{"use strict";le.exports=JSON.parse('{"$id":"@angular-extensions/model/model","$schema":"http://json-schema.org/schema","additionalProperties":true,"properties":{"path":{"type":"string","format":"path","description":"The path at which to create the component file, relative to the current workspace. Default is a folder with the same name as the component in the project root.","visible":false},"project":{"type":"string","description":"The name of the project","$default":{"$source":"projectName"}},"name":{"type":"string","description":"The name of the component","$default":{"$source":"argv","index":0},"x-prompt":"What name would you like to use for the component?"},"prefix":{"type":"string","description":"The prefix to apply to the generated component selector","alias":"p","oneOf":[{"maxLength":0},{"minLength":1,"format":"html-selector"}]},"flat":{"type":"boolean","description":"When true, creates the new files at the top level of the current project","default":false},"skipImport":{"type":"boolean","description":"When true, does not import this component into the owning NgModule","default":false},"selector":{"type":"string","format":"html-selector","description":"The HTML selector to use for this component"},"module":{"type":"string","description":"The declaring NgModule","alias":"m"},"export":{"type":"boolean","default":false,"description":"When true, the declaring NgModule exports this component"},"lintFix":{"type":"boolean","default":false,"description":"When true, applies lint fixes after generating the component"}},"required":["name"],"title":"Generates filter-group component","type":"object"}')},74291:le=>{"use strict";le.exports=JSON.parse('{"$id":"@angular-extensions/model/model","$schema":"http://json-schema.org/schema","additionalProperties":false,"properties":{"path":{"type":"string","format":"path","description":"The path at which to create the component file, relative to the current workspace. Default is a folder with the same name as the component in the project root.","visible":false},"project":{"type":"string","description":"The name of the project","$default":{"$source":"projectName"}},"name":{"type":"string","description":"The name of the component","$default":{"$source":"argv","index":0},"x-prompt":"What name would you like to use for the component?"},"prefix":{"type":"string","description":"The prefix to apply to the generated component selector","alias":"p","oneOf":[{"maxLength":0},{"minLength":1,"format":"html-selector"}]},"flat":{"type":"boolean","description":"When true, creates the new files at the top level of the current project","default":false},"skipImport":{"type":"boolean","description":"When true, does not import this component into the owning NgModule","default":false},"selector":{"type":"string","format":"html-selector","description":"The HTML selector to use for this component"},"module":{"type":"string","description":"The declaring NgModule","alias":"m"},"export":{"type":"boolean","default":false,"description":"When true, the declaring NgModule exports this component"},"lintFix":{"type":"boolean","default":false,"description":"When true, applies lint fixes after generating the component"},"chips":{"type":"boolean","default":true,"description":"When true, incorporates chips for filter groups"},"presentationType":{"description":"Presentation type to be used for the filter results","type":"string","default":"list","enum":["list","table"],"x-prompt":{"message":"Which presentation type would you like to use for the filter results?","type":"list","items":[{"value":"list","label":"List"},{"value":"table","label":"Table"}]}},"pagingMode":{"description":"Paging mode to be used","type":"string","default":"virtualScroll","enum":["none","pagination","virtualScroll"],"x-prompt":{"message":"What paging mode would you like the filtered result to use?","type":"list","items":[{"value":"pagination","label":"Pagination"},{"value":"virtualScroll","label":"Virtual Scroll"},{"value":"none","label":"None"}]}},"dataSource":{"type":"string","default":"serverSide","enum":["clientSide","serverSide","custom","none"],"x-prompt":{"message":"What is the source of your data?","type":"list","items":[{"value":"clientSide","label":"The generated data source will retrieve data locally from a client side source."},{"value":"serverSide","label":"The generated data source will retrieve data remotely from a server side API."},{"value":"custom","label":"No data source will be generated, allowing you to create one from scratch."},{"value":"none","label":"No data source will be generated and no accommodations for a data source, e.g. sorting or search, will be added to the generated code."}]}},"enableSearch":{"type":"boolean","description":"When true, enables the search functionality to the list","default":true},"enableSort":{"type":"boolean","description":"When true, enables the search functionality to the list","default":true},"virtualScrollStrategy":{"type":"string","default":"standard","description":"Strategy used for the virtual scroll","enum":["standard","custom"]},"selectionMode":{"description":"Selection mode to be used for the list","type":"string","default":"none","enum":["none","multi","single","singleWithRequiredSelection","radio","radioWithNonRequiredSelection"],"x-prompt":{"message":"What selection mode would you like to use?","type":"list","items":[{"value":"none","label":"None (Selection Disabled)"},{"value":"multi","label":"Multi-Select (Checkboxes)"},{"value":"radio","label":"Radio Buttons"},{"value":"radioWithNonRequiredSelection","label":"Radio Buttons with Deselection Allowed"},{"value":"singleWithRequiredSelection","label":"Single-Select with No Radio Buttons"},{"value":"single","label":"Single-Select with No Radio Buttons and Deselection Allowed"}]}}},"required":["name","prefix","presentationType"],"title":"Generates filtered-view component","type":"object"}')},7246:le=>{"use strict";le.exports=JSON.parse('{"$id":"SchematicsNovaLayoutComponent","$schema":"http://json-schema.org/schema","description":"Adds a layout","properties":{"path":{"type":"string","format":"path","description":"The path at which to create the component file, relative to the current workspace. Default is a folder with the same name as the component in the project root.","visible":false},"project":{"type":"string","description":"The name of the project","$default":{"$source":"projectName"}},"name":{"type":"string","description":"The name of the component","$default":{"$source":"argv","index":0},"x-prompt":"What name would you like to use for the component?"},"viewEncapsulation":{"description":"The view encapsulation strategy to use in the new component","enum":["Emulated","Native","None","ShadowDom"],"type":"string","default":"Emulated","alias":"v"},"changeDetection":{"description":"The change detection strategy to use in the new component","enum":["Default","OnPush"],"type":"string","default":"Default","alias":"c"},"prefix":{"type":"string","description":"The prefix to apply to the generated component selector","alias":"p","oneOf":[{"maxLength":0},{"minLength":1,"format":"html-selector"}]},"styleext":{"description":"The file extension to use for style files","type":"string","default":"less"},"flat":{"type":"boolean","description":"When true, creates the new files at the top level of the current project","default":false},"skipImport":{"type":"boolean","description":"When true, does not import this component into the owning NgModule","default":false},"selector":{"type":"string","format":"html-selector","description":"The HTML selector to use for this component"},"module":{"type":"string","description":"The declaring NgModule","alias":"m"},"export":{"type":"boolean","default":false,"description":"When true, the declaring NgModule exports this component"},"entryComponent":{"type":"boolean","default":false,"description":"When true, the new component is the entry component of the declaring NgModule"},"lintFix":{"type":"boolean","default":false,"description":"When true, applies lint fixes after generating the component"}},"title":"Nova Layout Options Schema","type":"object"}')},51839:le=>{"use strict";le.exports=JSON.parse('{"$id":"SchematicsNovaListComponent","$schema":"http://json-schema.org/schema","description":"Adds a list","properties":{"path":{"type":"string","format":"path","description":"The path at which to create the component file, relative to the current workspace. Default is a folder with the same name as the component in the project root.","visible":false},"project":{"type":"string","description":"The name of the project","$default":{"$source":"projectName"}},"name":{"type":"string","description":"The name of the component","$default":{"$source":"argv","index":0},"x-prompt":"What name would you like to use for the component?"},"prefix":{"type":"string","description":"The prefix to apply to the generated component selector","alias":"p","oneOf":[{"maxLength":0},{"minLength":1,"format":"html-selector"}]},"flat":{"type":"boolean","description":"When true, creates the new files at the top level of the current project","default":false},"skipImport":{"type":"boolean","description":"When true, does not import this component into the owning NgModule","default":false},"selector":{"type":"string","format":"html-selector","description":"The HTML selector to use for this component"},"module":{"type":"string","description":"The declaring NgModule","alias":"m"},"export":{"type":"boolean","default":false,"description":"When true, the declaring NgModule exports this component"},"lintFix":{"type":"boolean","default":false,"description":"When true, applies lint fixes after generating the component"},"selectionMode":{"description":"Selection mode to be used for the list","type":"string","default":"none","enum":["none","multi","single","singleWithRequiredSelection","radio","radioWithNonRequiredSelection"],"x-prompt":{"message":"What selection mode would you like the list to use?","type":"list","items":[{"value":"none","label":"None (Selection Disabled)"},{"value":"multi","label":"Multi-Select (Checkboxes)"},{"value":"radio","label":"Radio Buttons"},{"value":"radioWithNonRequiredSelection","label":"Radio Buttons with Deselection Allowed"},{"value":"singleWithRequiredSelection","label":"Single-Select with No Radio Buttons"},{"value":"single","label":"Single-Select with No Radio Buttons and Deselection Allowed"}]}},"pagingMode":{"description":"Paging mode to be used for the list","type":"string","default":"virtualScroll","enum":["none","pagination","virtualScroll"],"x-prompt":{"message":"What paging mode would you like the list to use?","type":"list","items":[{"value":"pagination","label":"Pagination"},{"value":"virtualScroll","label":"Virtual Scroll"},{"value":"none","label":"None"}]}},"enableSearch":{"type":"boolean","description":"When true, enables the search functionality for the list","default":true},"enableSort":{"type":"boolean","description":"When true, enables the search functionality for the list","default":true},"dataSource":{"type":"string","default":"serverSide","x-prompt":{"message":"What is the source of your data?","type":"list","items":[{"value":"clientSide","label":"The generated data source will retrieve data locally from a client side source."},{"value":"serverSide","label":"The generated data source will retrieve data remotely from a server side API."},{"value":"custom","label":"No data source will be generated, allowing you to create one from scratch."},{"value":"none","label":"No data source will be generated and no accommodations for a data source, e.g. sorting or search, will be added to the generated code."}]}},"dataSourceName":{"type":"string","description":"Specifies the datasource class name"}},"required":["name","selectionMode","pagingMode"],"title":"Nova list Schema","type":"object"}')},93558:le=>{"use strict";le.exports=JSON.parse('{"$id":"SchematicsNovaAdd","$schema":"http://json-schema.org/schema","description":"bootstraps a project for bits consumption","properties":{"project":{"type":"string","description":"The name of the project.","$default":{"$source":"projectName"}},"skipProviders":{"type":"boolean","description":"Skip provider imports","default":false},"skipCss":{"type":"boolean","description":"Skip importing css & setting styles","default":false},"skipTsConfig":{"type":"boolean","description":"Skip updating the tsconfig","default":false},"skipAngularLocalize":{"type":"boolean","description":"Skip invoking \'ng add\' for @angular/localize","default":false},"skipPackageJson":{"type":"boolean","description":"Skip updating package.json dependencies","default":false}},"required":[],"title":"ng-add schematic for bits","type":"object"}')},99170:le=>{"use strict";le.exports=JSON.parse('{"$id":"SchematicsNovaUpdate","$schema":"http://json-schema.org/schema","description":"updates a bits project","properties":{"project":{"type":"string","description":"The name of the project.","$default":{"$source":"projectName"}},"skipProviders":{"type":"boolean","description":"Skip provider imports","default":false},"skipCss":{"type":"boolean","description":"Skip importing css & setting styles","default":false},"skipTsConfig":{"type":"boolean","description":"Skip updating the tsconfig","default":false}},"required":[],"title":"ng-update schematic for bits","type":"object"}')},99067:le=>{"use strict";le.exports=JSON.parse('{"$id":"SchematicsNovaTableComponent","$schema":"http://json-schema.org/schema","description":"Adds a table","properties":{"name":{"type":"string","description":"The name of the component.","$default":{"$source":"argv","index":0}},"path":{"type":"string","format":"path","description":"The path to create the service.","visible":false},"project":{"type":"string","description":"The name of the project.","$default":{"$source":"projectName"}},"prefix":{"type":"string","description":"The prefix to apply to the generated component selector.","alias":"p","oneOf":[{"maxLength":0},{"minLength":1,"format":"html-selector"}]},"flat":{"type":"boolean","description":"When true, creates the new files at the top level of the current project.","default":false},"skipImport":{"type":"boolean","description":"When true, does not import this component into the owning NgModule.","default":false},"selector":{"type":"string","format":"html-selector","description":"The HTML selector to use for this component."},"export":{"type":"boolean","default":false,"description":"When true, the declaring NgModule exports this component."},"lintFix":{"type":"boolean","default":false,"description":"When true, applies lint fixes after generating the component."},"module":{"type":"string","description":"Allows specification of the declaring module.","alias":"m"},"enableSearch":{"type":"boolean","description":"When true, enables the search functionality for the list","default":true},"enableSort":{"type":"boolean","description":"When true, enables the search functionality for the list","default":true},"dataSource":{"type":"string","default":"serverSide","x-prompt":{"message":"What is the source of your data?","type":"list","items":[{"value":"clientSide","label":"The generated data source will retrieve data locally from a client side source."},{"value":"serverSide","label":"The generated data source will retrieve data remotely from a server side API."},{"value":"custom","label":"No data source will be generated, allowing you to create one from scratch."},{"value":"none","label":"No data source will be generated and no accommodations for a data source, e.g. sorting or search, will be added to the generated code."}]}},"dataSourceName":{"type":"string","description":"Specifies the datasource class name"},"pagingMode":{"description":"Paging mode to be used for the table","type":"string","default":"virtualScroll","enum":["none","pagination","virtualScroll"],"x-prompt":{"message":"What paging mode would you like the list to use?","type":"list","items":[{"value":"pagination","label":"Pagination"},{"value":"virtualScroll","label":"Virtual Scroll"},{"value":"none","label":"None"}]}},"selectionMode":{"description":"Selection mode to be used for the table","type":"string","default":"none","enum":["none","multi"],"x-prompt":{"message":"What selection mode would you like the table to use?","type":"list","items":[{"value":"none","label":"None (Selection Disabled)"},{"value":"multi","label":"Multi-Select (Checkboxes)"}]}},"virtualScrollStrategy":{"type":"string","default":"standard","description":"Strategy used for the virtual scroll","enum":["standard","custom"]}},"required":["name"],"title":"Generates table component","type":"object"}')}}]);