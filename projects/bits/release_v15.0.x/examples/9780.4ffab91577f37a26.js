"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[9780],{79780:(y,g,d)=>{d.r(g),d.d(g,{default:()=>P});var l=d(37691),f=d(41206),_=d(75883),p=d(63515),e=d(94650);let v=(()=>{class r{}return(0,l.Z)(r,"\u0275fac",function(t){return new(t||r)}),(0,l.Z)(r,"\u0275mod",e.oAB({type:r})),(0,l.Z)(r,"\u0275inj",e.cJS({imports:[p.lam]})),r})();var E=d(14561),s=(()=>{return(r=s||(s={})).active="active",r.error="error",r.default="default",s;var r})();const C=["*"];let m=(()=>{class r{constructor(){(0,l.Z)(this,"counterToHackDragLeave",0),(0,l.Z)(this,"state",s.default),(0,l.Z)(this,"enter",new e.vpe),(0,l.Z)(this,"leave",new e.vpe)}get hasActiveClass(){return this.state===s.active}get hasErrorClass(){return this.state===s.error}dragOverHandler(t){t.preventDefault()}dropHandler(t){t.preventDefault(),this.counterToHackDragLeave=0}dragEnterHandler(t){t.preventDefault(),this.counterToHackDragLeave++,t.currentTarget.contains(t.currentTarget)&&this.enter.emit(t)}dragLeaveHandler(t){t.preventDefault(),this.counterToHackDragLeave--,0===this.counterToHackDragLeave&&this.leave.emit(t)}}return(0,l.Z)(r,"\u0275fac",function(t){return new(t||r)}),(0,l.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-file-drop-example"]],hostAttrs:[1,"d-inline-flex","align-items-center","justify-content-center"],hostVars:4,hostBindings:function(t,i){1&t&&e.NdJ("dragover",function(a){return i.dragOverHandler(a)},!1,e.Jf7)("drop",function(a){return i.dropHandler(a)})("dragenter",function(a){return i.dragEnterHandler(a)})("dragleave",function(a){return i.dragLeaveHandler(a)}),2&t&&e.ekj("nui-file-drop--active",i.hasActiveClass)("nui-file-drop--error",i.hasErrorClass)},inputs:{state:"state"},outputs:{enter:"enter",leave:"leave"},ngContentSelectors:C,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},styles:["[_nghost-%COMP%]{display:flex;padding:10px;width:100%;min-height:50px;border-style:dashed;border-width:1px;border-color:var(--nui-color-line-default,#d9d9d9)}.nui-file-drop--active[_nghost-%COMP%], .nui-file-drop--error[_nghost-%COMP%]{border-width:4px;border-style:solid}.nui-file-drop--active[_nghost-%COMP%]{border-color:var(--nui-color-selected-contrast,#00c4d2);background-color:var(--nui-color-busy-default,rgba(0, 196, 210, .2))}.nui-file-drop--error[_nghost-%COMP%]{border-color:var(--nui-color-line-critical,#dd2c00);background-color:var(--nui-color-busy-destructive,rgba(221, 44, 0, .2))}"]})),r})();var O=d(95659),u=d(36895);function x(r,o){1&r&&(e.ynx(0),e.TgZ(1,"nui-validation-message",5),e._uU(2," Please upload GIF only!"),e.qZA(),e.BQk()),2&r&&(e.xp6(1),e.Q6J("show",!0))}function S(r,o){1&r&&(e.ynx(0),e._UZ(1,"nui-icon",6),e.TgZ(2,"span",3),e._uU(3," Drop only "),e.TgZ(4,"b"),e._uU(5,"GIF images"),e.qZA(),e._uU(6," to upload, or "),e.TgZ(7,"label",7),e._uU(8,"browse"),e.qZA()(),e.BQk())}function h(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"span",10),e._uU(3),e.qZA(),e.TgZ(4,"nui-progress",11),e.NdJ("cancel",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onCancel())}),e.qZA()(),e.TgZ(5,"div",12)(6,"button",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,D=e.oxw();return e.KtG(D.rmFile(a))}),e.qZA()()()}if(2&r){const t=o.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("show",!0)("stacked",!0)("percent",42)("showNumber",!0)}}let T=(()=>{class r{constructor(){(0,l.Z)(this,"gifError",!1),(0,l.Z)(this,"imageType","image/gif"),(0,l.Z)(this,"fileDropState",s.default),(0,l.Z)(this,"files",[])}dropHandler(t){if(!t.dataTransfer)throw new Error("dataTransfer is not defined");this.files.push(...this.extractFilesFromDropEventData(t.dataTransfer).filter(i=>this.validateDataType(i.type))),this.invalidateFiles()}onFileRead(t){const i=t.target.files;if(!i)throw new Error("fileList is not defined");this.files.push(...Array.from(i))}dragEnterHandler(t){t.dataTransfer&&t.dataTransfer.items&&(this.gifError=!this.validateDataType(t.dataTransfer.items[0].type)),this.fileDropState=this.gifError?s.error:s.active}invalidateFiles(){this.fileDropState=s.default,this.gifError=!1}rmFile(t){this.files=this.files.filter(i=>i!==t)}validateDataType(t){return t.includes(this.imageType)}extractFilesFromDropEventData(t){const i=[];if(t.items){for(let n=0;n<t.items.length;n++)if("file"===t.items[n].kind){const a=t.items[n].getAsFile();a&&i.push(a)}}else for(let n=0;n<t.files.length;n++)i.push(t.files[n]);return i}}return(0,l.Z)(r,"\u0275fac",function(t){return new(t||r)}),(0,l.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-dragdrop-files-example"]],decls:7,vars:5,consts:[[3,"state","drop","enter","leave"],[4,"ngIf"],["type","file","id","uniqueOne","multiple","",1,"hidden",3,"accept","change"],[1,"nui-text-small-secondary"],["class","nui-demo-file-area d-flex",4,"ngFor","ngForOf"],[3,"show"],["icon","upload","iconColor","gray",1,"pr-2"],["for","uniqueOne",1,"nui-text-link-small","nui-demo-drop-area__browse"],[1,"nui-demo-file-area","d-flex"],[1,"py-2","px-3","flex-grow-1","flex-row"],[1,"nui-text-label"],[3,"show","stacked","percent","showNumber","cancel"],[1,"nui-demo-file-area__right","flex-grow-0"],["nui-button","","type","button","displayStyle","action","icon","close",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"nui-file-drop-example",0),e.NdJ("drop",function(a){return i.dropHandler(a)})("enter",function(a){return i.dragEnterHandler(a)})("leave",function(){return i.invalidateFiles()}),e.YNc(1,x,3,1,"ng-container",1),e.YNc(2,S,9,0,"ng-container",1),e.TgZ(3,"input",2),e.NdJ("change",function(a){return i.onFileRead(a)}),e.qZA()(),e.TgZ(4,"span",3),e._uU(5,"File types: GIF"),e.qZA(),e.YNc(6,h,7,5,"div",4)),2&t&&(e.Q6J("state",i.fileDropState),e.xp6(1),e.Q6J("ngIf",i.gifError),e.xp6(1),e.Q6J("ngIf",!i.gifError),e.xp6(1),e.Q6J("accept",i.imageType),e.xp6(3),e.Q6J("ngForOf",i.files))},dependencies:[O.r,u.sg,u.O5,m],styles:[".nui-demo-drop-area__browse[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:0}.nui-demo-file-area[_ngcontent-%COMP%]{width:100%;min-height:30px;border-color:var(--nui-border-fade,rgba(217, 217, 217, .7));border-width:1px;border-bottom-width:0;border-style:solid}.nui-demo-file-area[_ngcontent-%COMP%]:last-child{border-bottom-width:1px}"]})),r})(),A=(()=>{class r{}return(0,l.Z)(r,"\u0275fac",function(t){return new(t||r)}),(0,l.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-dragdrop-example"]],decls:23,vars:0,consts:[["filenamePrefix","dragdrop-files","exampleTitle","Drag and Drop Files"],["filenamePrefix","file-drop","exampleTitle","File Drop Component"]],template:function(t,i){1&t&&(e.TgZ(0,"h2"),e._uU(1,"Basic Usage"),e.qZA(),e.TgZ(2,"p"),e._uU(3," Usage is described in example below. FileDrop component is used internally to handle dragLeave/dragEnter and encapsulate styling\n"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Example includes:"),e.qZA(),e.TgZ(6,"ol")(7,"li"),e._uU(8,' Browse file using file system dialog with access to input properties like "multiple" and "accept". '),e.qZA(),e.TgZ(9,"li"),e._uU(10," Effect while hovering file with wrong data type (for simplicity, example code checks only first item in array) - this is implemented as an input in FileDrop component. "),e.qZA(),e.TgZ(11,"li"),e._uU(12,"List of files with layout that is taken from UX specs"),e.qZA()(),e.TgZ(13,"nui-example-wrapper",0),e._UZ(14,"nui-dragdrop-files-example"),e.qZA(),e.TgZ(15,"h2"),e._uU(16,"File Drop Component"),e.qZA(),e.TgZ(17,"p"),e._uU(18," Please see FileDrop component source code in this example (note that demo is not interactive since this is purely presentational component)\n"),e.qZA(),e.TgZ(19,"nui-example-wrapper",1)(20,"nui-file-drop-example")(21,"span"),e._uU(22,"Any content"),e.qZA()()())},dependencies:[E.h,m,T],encapsulation:2})),r})();d(14614),d(17540);var M=d(79068);const R=[{path:"",component:A,data:{srlc:{stage:p.We9.alpha}}}];let P=(()=>{class r{}return(0,l.Z)(r,"\u0275fac",function(t){return new(t||r)}),(0,l.Z)(r,"\u0275mod",e.oAB({type:r})),(0,l.Z)(r,"\u0275inj",e.cJS({providers:[{provide:p.V3$,useValue:(0,M.S)("dragdrop")}],imports:[f._t,p.Az_,p.vvu,p.lam,v,_.Bz.forChild(R),_.Bz]})),r})()}}]);