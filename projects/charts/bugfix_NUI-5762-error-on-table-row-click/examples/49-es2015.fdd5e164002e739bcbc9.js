(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{dLxB:function(e,t,i){"use strict";i.r(t);var s=i("tyNb"),r=i("Rr1A"),n=i("gKry"),a=i("s1Ul"),c=i("VJLA"),o=i.n(c),u=i("fXoL"),h=i("HHUD"),d=i("ofXK"),l=i("QpXW"),p=i("AFFp"),b=i("sBYA"),g=i("Gufu");function v(e,t){if(1&e&&(u.Tb(0),u.Vb(1,"nui-chart-donut-content",10),u.Vb(2,"div",11),u.Nc(3,"57"),u.Ub(),u.Vb(4,"div",12),u.Nc(5,"donuts"),u.Ub(),u.Ub(),u.Sb()),2&e){const e=u.nc();u.Db(1),u.tc("plugin",e.donutContentPlugin)}}function m(e,t){if(1&e){const e=u.Wb();u.Vb(0,"nui-legend-series",13),u.jc("mouseenter",(function(){u.Fc(e);const i=t.$implicit;return u.nc().chartAssist.emphasizeSeries(i.id)}))("isSelectedChange",(function(i){u.Fc(e);const s=t.$implicit;return u.nc().chartAssist.toggleSeries(s.id,i)})),u.oc(1,"titlecase"),u.Qb(2,"nui-rich-legend-tile",14),u.Qb(3,"nui-icon",15),u.Ub()}if(2&e){const e=t.$implicit,i=u.nc();u.uc("descriptionPrimary",u.pc(1,5,e.id)),u.tc("seriesRenderState",null==i.chartAssist.renderStatesIndex[e.id]?null:i.chartAssist.renderStatesIndex[e.id].state)("isSelected",!i.chartAssist.isSeriesHidden(e.id)),u.Db(2),u.tc("value",null==e.data[0]?null:e.data[0].value),u.Db(1),u.tc("icon",i.iconMap[e.id])}}function y(e,t){if(1&e&&(u.Vb(0,"nui-radio",16),u.Nc(1),u.oc(2,"titlecase"),u.Ub()),2&e){const e=t.$implicit;u.tc("value",e),u.Db(1),u.Pc(" ",u.pc(2,2,e)," ")}}let w=(()=>{class e{constructor(){this.chartTypes=["horizontal bar","vertical bar","pie","donut"],this.chartType=this.chartTypes[0],this.categories=["down","critical","warning","unknown","ok","other"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[24,16,7,6,97,4],this.iconMap=o()(this.categories,this.iconNames.map(e=>"status_"+e)),this.colorProvider=new n.S(o()(this.categories,n.o))}ngOnInit(){this.updateChartType()}updateChartType(){this.buildChart(),this.chartAssist.chart.updateDimensions(),this.updateChart()}buildChart(){switch(this.donutContentPlugin=void 0,this.chartType){case"horizontal bar":this.chartAssist=new n.r(new n.q(Object(n.Ab)({horizontal:!0})));break;case"vertical bar":this.chartAssist=new n.r(new n.q(Object(n.Ab)({horizontal:!1})));break;case"pie":this.chartAssist=new n.r(new n.q(Object(n.Ib)()),n.Hb);break;case"donut":this.donutContentPlugin=new n.t,this.chartAssist=new n.r(new n.q(Object(n.Ib)()),n.Hb),this.chartAssist.chart.addPlugin(this.donutContentPlugin)}}getRenderer(){switch(this.chartType){case"horizontal bar":case"vertical bar":return new n.g;case"pie":return new n.Z;case"donut":return new n.fb}}updateChart(){const e=this.getAccessors(),t=this.getRenderer(),i=this.getScales();if(!e||!t||!i)throw new Error("Accessors, renderer or scales are unavailable");this.chartAssist.update(this.getChartAssistSeries(this.categories,this.values,e,t,i))}getScales(){const e=new n.c,t=new n.Q;switch(t.domainCalculator=Object(n.Eb)([0,0]),this.chartType){case"horizontal bar":return{x:t,y:e};case"vertical bar":return{x:e,y:t};case"pie":case"donut":return Object(n.Kb)()}}getAccessors(){switch(this.chartType){case"horizontal bar":return new n.F(this.colorProvider);case"vertical bar":return new n.ub(this.colorProvider);case"pie":case"donut":{const e=new n.bb;return e.series.color=this.colorProvider.get,e}}}getChartAssistSeries(e,t,i,s,r){return e.map((e,n)=>({id:e,data:[{category:e,value:t[n]||0}],accessors:i,renderer:s,scales:r}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Jb({type:e,selectors:[["nui-chart-one-dimensional-data-example"]],decls:10,vars:8,consts:[[1,"nui-chart-layout"],[1,"chart",2,"position","relative"],[1,"w-100",3,"chart"],[4,"ngIf"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"plugin"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],["backgroundColor","transparent",3,"value"],[3,"icon"],[3,"value"]],template:function(e,t){1&e&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Qb(2,"nui-chart",2),u.Lc(3,v,6,1,"ng-container",3),u.Ub(),u.Vb(4,"div",4),u.Vb(5,"nui-legend",5),u.jc("mouseleave",(function(){return t.chartAssist.resetVisibleSeries()})),u.Lc(6,m,4,7,"nui-legend-series",6),u.Ub(),u.Ub(),u.Vb(7,"div",7),u.Vb(8,"nui-radio-group",8),u.jc("valueChange",(function(e){return t.chartType=e}))("valueChange",(function(){return t.updateChartType()})),u.Lc(9,y,3,4,"nui-radio",9),u.Ub(),u.Ub(),u.Ub()),2&e&&(u.Db(2),u.tc("chart",t.chartAssist.chart),u.Db(1),u.tc("ngIf",t.donutContentPlugin),u.Db(2),u.tc("active",t.chartAssist.isLegendActive)("interactive",!1),u.Db(1),u.tc("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),u.Db(2),u.tc("value",t.chartType),u.Db(1),u.tc("ngForOf",t.chartTypes))},directives:[h.a,d.p,l.a,d.o,r.O,p.a,b.a,g.a,r.k,r.N],pipes:[d.y],encapsulation:2}),e})();function C(e,t){if(1&e&&(u.Vb(0,"nui-radio",9),u.Nc(1),u.oc(2,"titlecase"),u.Ub()),2&e){const e=t.$implicit;u.tc("value",e),u.Db(1),u.Pc(" ",u.pc(2,2,e)," ")}}function f(e,t){if(1&e&&u.Qb(0,"nui-icon",13),2&e){const e=u.nc().$implicit,t=u.nc();u.tc("icon",t.iconMap[e.id])}}function A(e,t){if(1&e){const e=u.Wb();u.Vb(0,"nui-legend-series",10),u.jc("mouseenter",(function(){u.Fc(e);const i=t.$implicit;return u.nc().chartAssist.emphasizeSeries(i.id)}))("isSelectedChange",(function(i){u.Fc(e);const s=t.$implicit;return u.nc().chartAssist.toggleSeries(s.id,i)})),u.oc(1,"titlecase"),u.Qb(2,"nui-rich-legend-tile",11),u.Lc(3,f,1,1,"nui-icon",12),u.Ub()}if(2&e){const e=t.$implicit,i=u.nc();u.uc("descriptionPrimary",u.pc(1,7,e.id)),u.tc("seriesRenderState",null==i.chartAssist.renderStatesIndex[e.id]?null:i.chartAssist.renderStatesIndex[e.id].state)("isSelected",!i.chartAssist.isSeriesHidden(e.id)),u.Db(2),u.tc("value",i.accessors.data.value(e.data[0],0,null,null))("backgroundColor",i.chartAssist.palette.standardColors.get(e.id))("color",i.chartAssist.palette.textColors.get(e.id)),u.Db(1),u.tc("ngIf",i.iconMap[e.id])}}function S(e,t){if(1&e&&(u.Vb(0,"nui-radio",9),u.Nc(1),u.oc(2,"titlecase"),u.Ub()),2&e){const e=t.$implicit;u.tc("value",e),u.Db(1),u.Pc(" ",u.pc(2,2,e)," ")}}var F=function(e){return e.StackedBar="stacked bar",e.GroupedBar="grouped bar",e.Line="line",e}({});let T=(()=>{class e{constructor(){this.chartTypes=[F.StackedBar,F.GroupedBar,F.Line],this.chartType=this.chartTypes[0],this.mainCategoryOptions=["quarters","statuses"],this.mainCategory=this.mainCategoryOptions[0],this.statuses=["down","critical","warning","unknown","ok","other"],this.quarters=["Q1","Q2","Q3","Q4"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[[24,16,7,6,97,4],[13,8,5,17,5,25],[97,41,24,6,7,6],[45,87,23,48,24,9]],this.iconMap=o()(this.statuses,this.iconNames.map(e=>"status_"+e))}ngOnInit(){this.updateMainCategory()}updateMainCategory(){const e=new n.u(new n.S(o()(this.statuses,n.o))),t=new n.u(n.m),i=this.mainCategory===this.mainCategoryOptions[0];this.categories=i?this.statuses:this.quarters,this.subCategories=i?this.quarters:this.statuses,this.valueAccessor=i?(e,t)=>this.values[e][t]:(e,t)=>this.values[t][e],this.palette=i?t:e,this.updateChartType()}updateChartType(){this.buildChart(),this.updateChart()}buildChart(){const{grid:e,accessors:t,renderer:i,scales:s,preprocessor:r}=this.getChartAttributes(this.chartType);this.renderer=i,this.accessors=t,this.scales=s;const a=new n.q(e);a.addPlugin(new n.K),this.chartAssist=new n.r(a,r,this.palette),this.chartType===F.StackedBar&&(this.chartAssist.seriesProcessor=n.Mb)}updateChart(){this.chartAssist.update(this.buildChartSeries(this.categories,this.subCategories,this.valueAccessor))}buildChartSeries(e,t,i){return t.map((t,s)=>({id:t,name:t,data:e.map((e,t)=>({category:e,value:i(s,t)||0})),accessors:this.accessors,renderer:this.renderer,scales:this.scales}))}getChartAttributes(e){const t=this.getChartTools(e),i={grid:t.gridFunction(),accessors:t.accessorFunction(),renderer:t.rendererFunction(),scales:t.scaleFunction()};return t.preprocessor&&(i.preprocessor=t.preprocessor),i}getChartTools(e){return{[F.StackedBar]:{preprocessor:n.Mb,gridFunction:n.Ab,rendererFunction:()=>new n.g({highlightStrategy:new n.e("x")}),accessorFunction:()=>Object(n.zb)(void 0,this.palette.standardColors),scaleFunction:n.Bb},[F.GroupedBar]:{gridFunction:()=>Object(n.Ab)({grouped:!0}),rendererFunction:()=>new n.g({highlightStrategy:new n.e("x")}),accessorFunction:()=>{const e=Object(n.zb)({grouped:!0},this.palette.standardColors);return e.data.category=(e,t,i,s)=>[e.category,s.name],e},scaleFunction:()=>Object(n.Bb)({grouped:!0})},[F.Line]:{gridFunction:()=>new n.vb,rendererFunction:()=>new n.O,accessorFunction:()=>{const e=new n.N(this.palette.standardColors);return e.data.x=e=>e.category,e.data.y=e=>e.value,e.data.value=e=>e.value,e},scaleFunction:()=>({x:(new n.c).fixDomain(this.categories),y:new n.Q})}}[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Jb({type:e,selectors:[["nui-chart-two-dimensional-data-example"]],decls:13,vars:9,consts:[[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[3,"value"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["class","mt-1 ml-3",3,"icon",4,"ngIf"],[1,"mt-1","ml-3",3,"icon"]],template:function(e,t){1&e&&(u.Vb(0,"h3"),u.Nc(1," Legend by "),u.Vb(2,"nui-radio-group",0),u.jc("valueChange",(function(e){return t.mainCategory=e}))("valueChange",(function(){return t.updateMainCategory()})),u.Lc(3,C,3,4,"nui-radio",1),u.Ub(),u.Ub(),u.Vb(4,"div",2),u.Vb(5,"div",3),u.Qb(6,"nui-chart",4),u.Ub(),u.Vb(7,"div",5),u.Vb(8,"nui-legend",6),u.jc("mouseleave",(function(){return t.chartAssist.resetVisibleSeries()})),u.Lc(9,A,4,9,"nui-legend-series",7),u.Ub(),u.Ub(),u.Vb(10,"div",8),u.Vb(11,"nui-radio-group",0),u.jc("valueChange",(function(e){return t.chartType=e}))("valueChange",(function(){return t.updateChartType()})),u.Lc(12,S,3,4,"nui-radio",1),u.Ub(),u.Ub(),u.Ub()),2&e&&(u.Db(2),u.tc("value",t.mainCategory),u.Db(1),u.tc("ngForOf",t.mainCategoryOptions),u.Db(3),u.tc("chart",t.chartAssist.chart),u.Db(2),u.tc("active",t.chartAssist.isLegendActive)("interactive",!1),u.Db(1),u.tc("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),u.Db(2),u.tc("value",t.chartType),u.Db(1),u.tc("ngForOf",t.chartTypes))},directives:[r.O,d.o,h.a,l.a,r.N,b.a,g.a,d.p,r.k],pipes:[d.y],encapsulation:2}),e})();i.d(t,"TypeSwitchExampleModule",(function(){return k}));const O=[{path:"1d",component:w},{path:"2d",component:T}];let k=(()=>{class e{}return e.\u0275mod=u.Nb({type:e}),e.\u0275inj=u.Mb({factory:function(t){return new(t||e)},imports:[[a.a,n.X,r.z,r.D,s.e.forChild(O)]]}),e})()}}]);