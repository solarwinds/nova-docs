"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[885],{51885:(me,I,u)=>{u.r(I),u.d(I,{default:()=>ce});var i=u(37691),A=u(90433),E=u(48898),Z=u(94611),a=u(73177),Q=u(93840),e=u(94650),D=u(15439),d=u.n(D),f=u(36895),x=u(46743),_=u(83063),C=u(87373),v=u(13458),k=u(76198);function q(r,l){if(1&r){const s=e.EpF();e.TgZ(0,"nui-legend-series",6),e.NdJ("mouseenter",function(){const n=e.CHM(s).$implicit,h=e.oxw();return e.KtG(h.chartAssist.emphasizeSeries(n.id))})("isSelectedChange",function(o){const h=e.CHM(s).$implicit,c=e.oxw();return e.KtG(c.chartAssist.toggleSeries(h.id,o))}),e.TgZ(1,"nui-rich-legend-tile",7),e._UZ(2,"nui-chart-marker",8),e.qZA()()}if(2&r){const s=l.$implicit,t=e.oxw();e.Q6J("descriptionPrimary",s.name)("seriesRenderState",null==t.chartAssist.renderStatesIndex[s.id]?null:t.chartAssist.renderStatesIndex[s.id].state)("isSelected",!t.chartAssist.isSeriesHidden(s.id)),e.xp6(1),e.Q6J("value",t.chartAssist.getHighlightedValue(s,"y"))("backgroundColor",t.chartAssist.palette.standardColors.get(s.id))("color",t.chartAssist.palette.textColors.get(s.id)),e.xp6(1),e.Q6J("marker",t.chartAssist.markers.get(s.id))("color",t.chartAssist.palette.standardColors.get(s.id))}}var S=(()=>{return(r=S||(S={})).Error="error",r.Warning="warning",S;var r})();let B=(()=>{class r{constructor(s){(0,i.Z)(this,"thresholdsService",void 0),(0,i.Z)(this,"chart",new a.kL2(new a.Be5)),(0,i.Z)(this,"chartAssist",new a.doR(this.chart)),(0,i.Z)(this,"thresholdsPalette",new a.syg(new a.oki({[S.Error]:a.Sj$[2],[S.Warning]:a.Sj$[4]}))),this.thresholdsService=s}ngOnInit(){const s=new a.qxh(this.chartAssist.palette.standardColors,this.chartAssist.markers),t=new a.Med,o={x:new a.lTH((0,D.duration)(5,"minutes")),y:new a.f$s};this.chart.getGrid().leftScaleId=o.y.id;const n={x:o.x,y:(new a.jS7).fixDomain(a.s1E.STATUS_DOMAIN)},h=function H(){return[{status:S.Error,start:90},{status:S.Error,end:10},{status:S.Warning,start:70,end:90},{status:S.Warning,start:10,end:30}]}(),c=function P(){const r="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:d()("2016-12-25T15:05:00Z",r).toDate(),y:30},{x:d()("2016-12-25T15:10:00Z",r).toDate(),y:95},{x:d()("2016-12-25T15:15:00Z",r).toDate(),y:15},{x:d()("2016-12-25T15:20:00Z",r).toDate(),y:60},{x:d()("2016-12-25T15:25:00Z",r).toDate(),y:35},{x:d()("2016-12-25T15:30:00Z",r).toDate(),y:5},{x:d()("2016-12-25T15:35:00Z",r).toDate(),y:60},{x:d()("2016-12-25T15:40:00Z",r).toDate(),y:84},{x:d()("2016-12-25T15:55:00Z",r).toDate(),y:86},{x:d()("2016-12-25T16:00:00Z",r).toDate(),y:35}]}]}().map(g=>({...g,accessors:s,renderer:t,scales:o})),m=[];for(const g of c){const y=this.thresholdsService.getThresholdZones(g,h,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(g,y);const z=[this.thresholdsService.getBackgrounds(g,y,n,this.thresholdsPalette.backgroundColors),...this.thresholdsService.getThresholdLines(y),...this.thresholdsService.getSideIndicators(y,o)];m.push(...z)}this.chartAssist.update([...m,...c])}}return(0,i.Z)(r,"\u0275fac",function(s){return new(s||r)(e.Y36(a.yaz))}),(0,i.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-thresholds-basic-example"]],decls:6,vars:5,consts:[[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],["seriesUnitLabel","sec",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"nui-chart",2),e.qZA(),e.TgZ(3,"div",3)(4,"nui-legend",4),e.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),e.YNc(5,q,3,8,"nui-legend-series",5),e.qZA()()()),2&s&&(e.xp6(2),e.Q6J("chart",t.chart),e.xp6(2),e.Q6J("active",t.chartAssist.isLegendActive)("interactive",!0),e.xp6(1),e.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn))},dependencies:[f.sg,x.F,_.k,C.w,v.x,k.s],encapsulation:2})),r})();var W=u(8537),j=u(8817),O=u.n(j),w=u(9647);function $(r,l){if(1&r&&e._UZ(0,"nui-icon",8),2&r){const s=l.$implicit,t=e.oxw(3);e.Q6J("icon",t.statusIcons[s])}}function N(r,l){if(1&r&&(e.TgZ(0,"nui-legend-series",5)(1,"nui-rich-legend-tile",6),e.YNc(2,$,1,1,"nui-icon",7),e.qZA()()),2&r){const s=l.$implicit,t=e.oxw(2);e.Q6J("interactive",!1)("descriptionSecondary",s.name),e.xp6(1),e.Q6J("unitLabel",s.units)("value",t.chartAssist.getHighlightedValue(s,"y"))("backgroundColor",t.statusBgColors.get(t.chartAssist.getHighlightedValue(s,"status"))),e.uIk("data-title",t.chartAssist.getHighlightedValue(s,"status")),e.xp6(1),e.Q6J("ngIf",t.chartAssist.getHighlightedValue(s,"status"))}}function G(r,l){if(1&r&&(e.TgZ(0,"div",1),e._UZ(1,"nui-chart",2),e.TgZ(2,"div",3),e.YNc(3,N,3,7,"nui-legend-series",4),e.qZA()()),2&r){const s=l.$implicit;e.xp6(1),e.Q6J("chart",s.chart),e.xp6(2),e.Q6J("ngIf",s.chartSeriesSet[0])}}var T=(()=>{return(r=T||(T={})).Error="error",r.Warning="warning",T;var r})();let b=(()=>{class r{constructor(s){(0,i.Z)(this,"thresholdsService",void 0),(0,i.Z)(this,"chartAssist",void 0),(0,i.Z)(this,"statusBgColors",new a.oki({[T.Error]:J(a.Sj$[2],.2),[T.Warning]:J(a.Sj$[4],.3)},"transparent")),(0,i.Z)(this,"statusIcons",{[T.Error]:"status_critical",[T.Warning]:"status_warning"}),(0,i.Z)(this,"renderer",void 0),(0,i.Z)(this,"accessors",void 0),(0,i.Z)(this,"xScale",new a.FBd),this.thresholdsService=s}ngOnInit(){this.chartAssist=new a.ruA,this.renderer=new a.Med,this.accessors=new a.qxh(new a.jpW([a.cpE[0]]),new a.NVM([a.WSY[0]])),this.accessors.data.status=n=>O()(n,"__thresholds.status");const s=function V(r,l,s){const t=d()([2016,11,25]),o=d().duration(1,"hours");return[{id:"shared-pool-size",name:"Shared pool size",units:"MB",values:[67,16,3,56,26,68,74,45,54,81,13,90,72,61,97,32,64,22,60,11,53,77,88,49,66]},{id:"buffer-cache-size",name:"Buffer cache size",units:"MB",values:[5,15,52,75,64,74,6,24,100,26,91,38,4,45,93,44,59,48,99,96,53,72,32,69,27]},{id:"pga-cache-size",name:"PGA cache size",units:"MB",values:[83,21,43,8,96,100,5,53,14,20,82,23,29,62,33,34,94,72,77,45,81,80,19,26,86]},{id:"db-logical-read-rate",name:"DB logical read rate",units:"%",values:[74,9,10,87,83,41,4,96,100,33,30,26,40,12,21,3,69,59,32,93,62,25,90,58,51]},{id:"buffer-cache-hit-ratio",name:"Buffer cache hit ratio",units:"rps",values:[55,78,26,35,4,37,88,64,71,40,45,9,30,51,72,44,75,39,67,24,19,1,59,11,25]},{id:"library-cache-hit-ratio",name:"Library cache hit ratio",units:"%",values:[71,57,1,3,23,4,79,54,10,29,36,99,34,75,94,24,26,50,73,64,96,12,59,95,97]}].map(h=>({...h,data:Y(h.values,t,o),scales:{x:r,y:new a.f$s},renderer:l,accessors:s}))}(this.xScale,this.renderer,this.accessors),t=function L(){return[{status:T.Error,start:90},{status:T.Warning,start:70,end:90}]}(),o=s.map(n=>{const h=this.thresholdsService.getThresholdZones(n,t,this.statusBgColors),c={x:n.scales.x,y:(new a.jS7).fixDomain(a.s1E.STATUS_DOMAIN)};this.thresholdsService.injectThresholdsData(n,h);const m=this.thresholdsService.getBackgrounds(n,h,c,this.statusBgColors);return{id:n.id,chartSeriesSet:[n,m]}});this.chartAssist.updateSparks(o)}}return(0,i.Z)(r,"\u0275fac",function(s){return new(s||r)(e.Y36(a.yaz))}),(0,i.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-thresholds-spark-example"]],decls:1,vars:2,consts:[["class","d-flex",4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex"],["nuiChartCollectionId","example-collection-id",1,"w-100",3,"chart"],[1,"d-flex","flex-column","pl-2"],[3,"interactive","descriptionSecondary",4,"ngIf"],[3,"interactive","descriptionSecondary"],[3,"unitLabel","value","backgroundColor"],["iconSize","small","leftEdge","",3,"icon",4,"ngIf"],["iconSize","small","leftEdge","",3,"icon"]],template:function(s,t){1&s&&e.YNc(0,G,4,2,"div",0),2&s&&e.Q6J("ngForOf",t.chartAssist.sparks)("ngForTrackBy",t.chartAssist.trackByFn)},dependencies:[f.sg,f.O5,_.k,C.w,v.x,w.V,Z.oJW],encapsulation:2})),r})();function Y(r,l,s){return r.map((t,o)=>({x:l.clone().add(d().duration(o*s.asMilliseconds())),y:t}))}function J(r,l){const s=(0,a.ruO)(r),t=(0,W.B8)(s);return t.opacity=l,t.toString()}var R=u(90733),U=u.n(R);function X(r,l){if(1&r){const s=e.EpF();e.TgZ(0,"nui-legend-series",6),e.NdJ("mouseenter",function(){const n=e.CHM(s).$implicit,h=e.oxw();return e.KtG(h.chartAssist.emphasizeSeries(n.id))})("isSelectedChange",function(o){const h=e.CHM(s).$implicit,c=e.oxw();return e.KtG(c.chartAssist.toggleSeries(h.id,o))}),e.TgZ(1,"nui-rich-legend-tile",7),e._UZ(2,"nui-chart-marker",8),e.qZA()()}if(2&r){const s=l.$implicit,t=e.oxw();e.Q6J("descriptionPrimary",s.id)("seriesRenderState",null==t.chartAssist.renderStatesIndex[s.id]?null:t.chartAssist.renderStatesIndex[s.id].state)("isSelected",!t.chartAssist.isSeriesHidden(s.id)),e.xp6(1),e.Q6J("value",t.chartAssist.getHighlightedValue(s,"y"))("backgroundColor",t.chartAssist.palette.standardColors.get(s.id))("color",t.chartAssist.palette.textColors.get(s.id)),e.xp6(1),e.Q6J("marker",t.chartAssist.markers.get(s.id))("color",t.chartAssist.palette.standardColors.get(s.id))}}var p=(()=>{return(r=p||(p={})).Error="error",r.Warning="warning",r.Ok="ok",p;var r})();let F=(()=>{class r{constructor(s){(0,i.Z)(this,"thresholdsService",void 0),(0,i.Z)(this,"chartAssist",void 0),(0,i.Z)(this,"summaryChartAssist",void 0),(0,i.Z)(this,"thresholdsPalette",void 0),this.thresholdsService=s}ngOnInit(){const s=new a.kL2(new a.Be5((0,a.fWz)())),t=new a.kL2(new a.Be5((0,a.M6V)()));this.chartAssist=new a.doR(s),this.summaryChartAssist=new a.doR(t),this.summaryChartAssist.syncWithChartAssist(this.chartAssist);const o=new a.FBd,n={x:o,y:new a.f$s};s.getGrid().leftScaleId=n.y.id,n.y.domainCalculator=(0,a._OB)([0,100]),this.thresholdsPalette=new a.syg(new a.oki({[p.Error]:a.Sj$[2],[p.Warning]:a.Sj$[4],[p.Ok]:a.Sj$[8]},"transparent"));const h=new a.Med,c=new a.qxh(this.chartAssist.palette.standardColors,this.chartAssist.markers),m=function ee(){const r="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:d()("2016-12-25T15:14:29.909Z",r),y:30},{x:d()("2016-12-27T15:14:29.909Z",r),y:95},{x:d()("2016-12-29T15:14:29.909Z",r),y:15},{x:d()("2016-12-31T15:14:29.909Z",r),y:60},{x:d()("2017-01-03T15:14:29.909Z",r),y:35}]},{id:"series-2",name:"Series 2",data:[{x:d()("2016-12-25T15:14:29.909Z",r),y:60},{x:d()("2016-12-27T15:14:29.909Z",r),y:40},{x:d()("2016-12-29T15:14:29.909Z",r),y:70},{x:d()("2016-12-31T15:14:29.909Z",r),y:45},{x:d()("2017-01-03T15:14:29.909Z",r),y:90}]}]}().map(ue=>({...ue,accessors:c,renderer:h,scales:n})),g=function K(){return[{status:p.Error,start:80},{status:p.Warning,start:60,end:80}]}(),y=this.createMainChartThresholdSeriesSet(m,n,g),z=this.createSummarySeriesSet(m,o,g);this.chartAssist.update([...y,...m]),this.summaryChartAssist.update(z)}createMainChartThresholdSeriesSet(s,t,o){const n={x:t.x,y:(new a.jS7).fixDomain(a.s1E.STATUS_DOMAIN)},h=[];for(const c of s){const m=this.thresholdsService.getThresholdZones(c,o,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(c,m);const g=[this.thresholdsService.getBackgrounds(c,m,n,this.thresholdsPalette.backgroundColors),...this.thresholdsService.getThresholdLines(m),...this.thresholdsService.getSideIndicators(m,t)];h.push(...g)}return h}createSummarySeriesSet(s,t,o){const n=[...o,{status:p.Ok}],h={x:t,y:(new a.jS7).fixDomain(a.s1E.STATUS_DOMAIN)},c={[p.Ok]:a.Z7w.THIN};return[...s].map(g=>{const y=this.thresholdsService.getThresholdZones(g,n,this.thresholdsPalette.standardColors);return this.thresholdsService.injectThresholdsData(g,y),this.thresholdsService.getBackgrounds(g,y,h,this.thresholdsPalette.standardColors,c,U()(a.Wki))})}}return(0,i.Z)(r,"\u0275fac",function(s){return new(s||r)(e.Y36(a.yaz))}),(0,i.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-thresholds-summary-example"]],decls:7,vars:6,consts:[[1,"nui-chart-layout"],[1,"chart","d-flex","flex-column"],["nuiChartCollectionId","collection",1,"w-100",3,"chart"],[1,"legend"],["seriesUnitLabel","sec",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"nui-chart",2)(3,"nui-chart",2),e.qZA(),e.TgZ(4,"div",3)(5,"nui-legend",4),e.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),e.YNc(6,X,3,8,"nui-legend-series",5),e.qZA()()()),2&s&&(e.xp6(2),e.Q6J("chart",t.chartAssist.chart),e.xp6(1),e.Q6J("chart",t.summaryChartAssist.chart),e.xp6(2),e.Q6J("active",t.chartAssist.isLegendActive)("interactive",!0),e.xp6(1),e.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn))},dependencies:[f.sg,x.F,_.k,C.w,v.x,w.V,k.s],encapsulation:2})),r})(),se=(()=>{class r{}return(0,i.Z)(r,"\u0275fac",function(s){return new(s||r)}),(0,i.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-chart-docs-thresholds"]],decls:106,vars:2,consts:[["href","../classes/BarRenderer.html","target","_blank"],["href","../injectables/ThresholdsService.html","target","_blank"],["filenamePrefix","thresholds-basic","exampleTitle","Basic Thresholds For Line Chart"],["href","../classes/TimeIntervalScale.html","target","_blank"],["href","../classes/TimeScale.html","target","_blank"],["filenamePrefix","thresholds-spark","exampleTitle","Thresholds For Spark Charts"],["type","info",3,"allowDismiss"],["href","../classes/SparkChartAssist.html#updateSparks","target","_blank"],["href","../classes/SparkChartAssist.html","target","_blank"],["href","../classes/SparkChartAssist.html#update","target","_blank"],["href","../additional-documentation/spark.html","target","_parent"],["href","../components/ChartComponent.html","target","_blank"],["href","../classes/ChartAssist.html","target","_blank"],["href","../miscellaneous/functions.html#thresholdsTopGridConfig","target","_blank"],["href","../miscellaneous/functions.html#thresholdsSummaryGridConfig","target","_blank"],["href","../classes/ChartAssist.html#syncWithChartAssist","target","_blank"],["type","warning",3,"allowDismiss"],["filenamePrefix","thresholds-summary","exampleTitle","Thresholds Summary"]],template:function(s,t){1&s&&(e.TgZ(0,"h1"),e._uU(1,"Thresholds"),e.qZA(),e.TgZ(2,"p"),e._uU(3," Unlike in "),e.TgZ(4,"code"),e._uU(5,"novajs"),e.qZA(),e._uU(6," charts, threshold functionality is not built into the chart component. To get threshold specific elements on your chart you need separate data series that will be used by generic renderers such as the "),e.TgZ(7,"code")(8,"a",0),e._uU(9,"BarRenderer"),e.qZA()(),e._uU(10," to display the threshold visualizations. The process of creating the data series needed for thresholds consists mainly of the following:\n"),e.qZA(),e.TgZ(11,"ol")(12,"li"),e._uU(13,"Creating one or more zone series that define the threshold areas"),e.qZA(),e.TgZ(14,"li"),e._uU(15," Injecting the zone data into the standard data series to provide access to this information from the legend, tooltips, etc. "),e.qZA(),e.TgZ(16,"li"),e._uU(17," Creating the threshold series that actually visualize the thresholds on the chart "),e.qZA(),e.TgZ(18,"li"),e._uU(19," Creating additional visual elements such as side indicators and horizontal lines indicating the start and end of each threshold zone "),e.qZA()(),e.TgZ(20,"p"),e._uU(21," To help you with all of this, we've built a "),e.TgZ(22,"code")(23,"a",1),e._uU(24,"ThresholdsService"),e.qZA()(),e._uU(25," that does the most common tasks in terms of threshold data calculation and new series generation.\n"),e.qZA(),e.TgZ(26,"p"),e._uU(27,"Sound complicated still?"),e.qZA(),e.TgZ(28,"p"),e._uU(29," Let's give it a try. Check out the inline comments of the following example.\n"),e.qZA(),e.TgZ(30,"nui-example-wrapper",2),e._UZ(31,"nui-thresholds-basic-example"),e.qZA(),e.TgZ(32,"p"),e._uU(33," For the above example we used "),e.TgZ(34,"code")(35,"a",3),e._uU(36,"TimeIntervalScale"),e.qZA()(),e._uU(37," for the horizontal axis, but it can easily be replaced with a continuous "),e.TgZ(38,"code")(39,"a",4),e._uU(40,"TimeScale"),e.qZA()(),e._uU(41," if needed. The service will do more precise calculations of background colored areas for a continuous scale. For an example of this, see the "),e.TgZ(42,"strong"),e._uU(43,"Thresholds Summary"),e.qZA(),e._uU(44," demo farther down the page.\n"),e.qZA(),e.TgZ(45,"h2"),e._uU(46,"Spark Chart With Thresholds"),e.qZA(),e.TgZ(47,"p"),e._uU(48," The process is similar for a spark chart. To see how, take a look at the inline comments of the example below.\n"),e.qZA(),e.TgZ(49,"nui-example-wrapper",5),e._UZ(50,"nui-thresholds-spark-example"),e.qZA(),e.TgZ(51,"nui-message",6),e._uU(52," When having multiple series per spark, you need to call "),e.TgZ(53,"code")(54,"a",7),e._uU(55,"updateSparks()"),e.qZA()(),e._uU(56," method of "),e.TgZ(57,"code")(58,"a",8),e._uU(59,"SparkChartAssist"),e.qZA()(),e._uU(60," instead of "),e.TgZ(61,"code")(62,"a",9),e._uU(63,"update()"),e.qZA()(),e._uU(64," as usual. "),e.TgZ(65,"strong"),e._uU(66,"For general information about implementing spark charts, please see the spark chart page "),e.TgZ(67,"a",10),e._uU(68,"here"),e.qZA()(),e._uU(69,".\n"),e.qZA(),e.TgZ(70,"h2"),e._uU(71,"Thresholds Summary"),e.qZA(),e.TgZ(72,"p"),e._uU(73," If you want to add an area below the main chart that displays a summary of the threshold data from multiple series, you can add a second "),e.TgZ(74,"code")(75,"a",11),e._uU(76,"nui-chart"),e.qZA()(),e._uU(77," to the page with the help of an additional instance of "),e.TgZ(78,"code")(79,"a",12),e._uU(80,"ChartAssist"),e.qZA()(),e._uU(81,". To configure each of the chart grids to have the correct appearance you can use the "),e.TgZ(82,"code")(83,"a",13),e._uU(84,"thresholdsTopGridConfig"),e.qZA()(),e._uU(85," function for the main chart grid and the "),e.TgZ(86,"code")(87,"a",14),e._uU(88,"thresholdsSummaryGridConfig"),e.qZA()(),e._uU(89," function for the summary chart grid.\n"),e.qZA(),e.TgZ(90,"p"),e._uU(91," In order to synchronize the behaviors of the summary chart with the main chart's various legend interaction behaviors, you can invoke ChartAssist's "),e.TgZ(92,"code")(93,"a",15),e._uU(94,"syncWithChartAssist"),e.qZA()(),e._uU(95," method on the summary chart assist passing a reference to the main chart assist.\n"),e.qZA(),e.TgZ(96,"p"),e._uU(97," The rest of the process is very similar to what's been shown in the previous examples. For more details about how to implement the summary chart take a look at the inline comments of the example source below.\n"),e.qZA(),e.TgZ(98,"nui-message",16)(99,"strong"),e._uU(100,"Note:"),e.qZA(),e._uU(101," By UX design, the threshold visualizations on the main chart of the following example are only displayed when a series is either hovered on the legend or is the only series selected on the legend. This behavior is meant to keep the visualizations focused on the primary data and to allow the user to inspect the secondary threshold data of each series via the legend if desired.\n"),e.qZA(),e.TgZ(102,"nui-example-wrapper",17),e._UZ(103,"nui-thresholds-summary-example"),e.qZA(),e.TgZ(104,"p"),e._uU(105,"Easy! Isn't it?"),e.qZA()),2&s&&(e.xp6(51),e.Q6J("allowDismiss",!1),e.xp6(47),e.Q6J("allowDismiss",!1))},dependencies:[Z.hD2,Z.qqZ,B,b,F],encapsulation:2})),r})();function te(r,l){if(1&r){const s=e.EpF();e.TgZ(0,"nui-legend-series",6),e.NdJ("mouseenter",function(){const n=e.CHM(s).$implicit,h=e.oxw();return e.KtG(h.chartAssist.emphasizeSeries(n.id))})("isSelectedChange",function(o){const h=e.CHM(s).$implicit,c=e.oxw();return e.KtG(c.chartAssist.toggleSeries(h.id,o))}),e.TgZ(1,"nui-rich-legend-tile",7),e._UZ(2,"nui-chart-marker",8),e.qZA()()}if(2&r){const s=l.$implicit,t=e.oxw();e.Q6J("descriptionPrimary",s.name)("seriesRenderState",null==t.chartAssist.renderStatesIndex[s.id]?null:t.chartAssist.renderStatesIndex[s.id].state)("isSelected",!t.chartAssist.isSeriesHidden(s.id)),e.xp6(1),e.Q6J("value",t.chartAssist.getHighlightedValue(s,"y"))("backgroundColor",t.chartAssist.palette.standardColors.get(s.id))("color",t.chartAssist.palette.textColors.get(s.id)),e.xp6(1),e.Q6J("marker",t.chartAssist.markers.get(s.id))("color",t.chartAssist.palette.standardColors.get(s.id))}}let M=(()=>{class r{constructor(s){(0,i.Z)(this,"thresholdsService",void 0),(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"zones",void 0),(0,i.Z)(this,"startDate",void 0),(0,i.Z)(this,"uid",a.tIi.uuid()),(0,i.Z)(this,"chart",new a.kL2(new a.Be5((0,a.fWz)()))),(0,i.Z)(this,"summaryChart",new a.kL2(new a.Be5((0,a.M6V)()))),(0,i.Z)(this,"chartAssist",new a.doR(this.chart)),(0,i.Z)(this,"summaryChartAssist",new a.doR(this.summaryChart)),(0,i.Z)(this,"tooltipsPlugin",void 0),(0,i.Z)(this,"thresholdsPalette",void 0),(0,i.Z)(this,"thicknessMap",void 0),(0,i.Z)(this,"accessors",void 0),(0,i.Z)(this,"renderer",void 0),(0,i.Z)(this,"scales",void 0),(0,i.Z)(this,"backgroundScales",void 0),(0,i.Z)(this,"summaryScales",void 0),this.thresholdsService=s,this.scales={x:new a.FBd,y:new a.f$s},this.backgroundScales={x:this.scales.x,y:new a.jS7},this.summaryScales={x:this.scales.x,y:new a.jS7},this.configureGrids(this.scales.y.id),this.summaryChartAssist.syncWithChartAssist(this.chartAssist),this.scales.y.domainCalculator=(0,a._OB)([0,100]),this.backgroundScales.y.fixDomain(a.s1E.STATUS_DOMAIN),this.summaryScales.y.fixDomain(a.s1E.STATUS_DOMAIN),this.thresholdsPalette=new a.syg(new a.oki({error:a.Sj$[2],warning:a.Sj$[4],ok:a.Sj$[8]},"transparent")),this.thicknessMap={ok:a.Z7w.THIN},this.renderer=new a.Med,this.accessors=new a.qxh(this.chartAssist.palette.standardColors,this.chartAssist.markers)}ngOnInit(){this.update(this.data)}ngOnChanges(s){(s.data||s.zones)&&this.update(this.data)}update(s){const t=function re(r,l,s){const t=(o,n)=>({x:s.clone().add(n,"d"),y:o});return Object.keys(r).map(o=>({id:o,name:o,data:r[o].map(t),accessors:l}))}(s,this.accessors,this.startDate).map(h=>({...h,renderer:this.renderer,scales:this.scales})),o=[...t].map(h=>{const c=[...this.zones,{status:"ok"}],m=this.thresholdsService.getThresholdZones(h,c,this.thresholdsPalette.standardColors);return this.thresholdsService.injectThresholdsData(h,m),this.thresholdsService.getBackgrounds(h,m,this.summaryScales,this.thresholdsPalette.standardColors,this.thicknessMap,U()(a.Wki))}),n=[];for(const h of t){const c=this.thresholdsService.getThresholdZones(h,this.zones,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(h,c),n.push(this.thresholdsService.getBackgrounds(h,c,this.backgroundScales,this.thresholdsPalette.backgroundColors),...this.thresholdsService.getThresholdLines(c),...this.thresholdsService.getSideIndicators(c,this.scales))}this.chartAssist.update([...n,...t]),this.summaryChartAssist.update(o)}configureGrids(s){const t=this.chart.getGrid();t.leftScaleId=s;const o=t.config();o.dimension.width(400),o.dimension.height(110),o.dimension.autoWidth=!1,o.dimension.autoHeight=!1;const n=this.summaryChart.getGrid().config();n.dimension.width(400),n.dimension.autoWidth=!1}}return(0,i.Z)(r,"\u0275fac",function(s){return new(s||r)(e.Y36(a.yaz))}),(0,i.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-thresholds-summary-test"]],inputs:{data:"data",zones:"zones",startDate:"startDate"},features:[e.TTD],decls:6,vars:8,consts:[[1,"d-flex","align-items-start"],[1,"d-flex","flex-column"],[1,"thresholds-main-chart",3,"chart","nuiChartCollectionId"],[1,"thresholds-summary-chart",3,"chart","nuiChartCollectionId"],["seriesUnitLabel","sec",1,"ml-2","thresholds-legend",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"nui-chart",2)(3,"nui-chart",3),e.qZA(),e.TgZ(4,"nui-legend",4),e.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),e.YNc(5,te,3,8,"nui-legend-series",5),e.qZA()()),2&s&&(e.xp6(2),e.Q6J("chart",t.chart)("nuiChartCollectionId",t.uid),e.xp6(1),e.Q6J("chart",t.summaryChart)("nuiChartCollectionId",t.uid),e.xp6(1),e.Q6J("active",t.chartAssist.isLegendActive)("interactive",!0),e.xp6(1),e.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn))},dependencies:[f.sg,x.F,_.k,C.w,v.x,w.V,k.s],encapsulation:2})),r})(),ae=(()=>{class r{constructor(){(0,i.Z)(this,"data",{"series-1":[10,30,70,30,10],"series-2":[0,40,60,40,0]}),(0,i.Z)(this,"zones",[{status:"error",start:50},{status:"warning",start:20,end:50}]),(0,i.Z)(this,"startDate",d()([2016,11,25,15,14,29]))}ngOnInit(){}dataChanged(s){this.data=this.validateInput(s)||this.data}zonesChanged(s){this.zones=this.validateInput(s)||this.zones}validateInput(s){let t;try{t=JSON.parse(s)}catch{}return t}}return(0,i.Z)(r,"\u0275fac",function(s){return new(s||r)}),(0,i.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-thresholds-summary-test-harness"]],decls:11,vars:9,consts:[[1,"nui-thresholds-summary-test-harness"],[3,"data","zones","startDate"],["id","data-input","type","text",1,"w-100","mt-5",3,"ngModel","ngModelChange"],["id","zones-input","rows","13","cols","30",3,"ngModel","ngModelChange"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e._UZ(1,"nui-thresholds-summary-test",1)(2,"br"),e.TgZ(3,"h2"),e._uU(4,"Data"),e.qZA(),e.TgZ(5,"input",2),e.NdJ("ngModelChange",function(n){return t.dataChanged(n)}),e.ALo(6,"json"),e.qZA(),e.TgZ(7,"h2"),e._uU(8,"Zones"),e.qZA(),e.TgZ(9,"textarea",3),e.NdJ("ngModelChange",function(n){return t.zonesChanged(n)}),e.ALo(10,"json"),e.qZA()()),2&s&&(e.xp6(1),e.Q6J("data",t.data)("zones",t.zones)("startDate",t.startDate),e.xp6(4),e.Q6J("ngModel",e.lcZ(6,5,t.data)),e.xp6(4),e.Q6J("ngModel",e.lcZ(10,7,t.zones)))},dependencies:[A.Fj,A.JJ,A.On,M,f.Ts],encapsulation:2})),r})();var ie=u(61340);function ne(r,l){if(1&r){const s=e.EpF();e.TgZ(0,"nui-legend-series",6),e.NdJ("mouseenter",function(){const n=e.CHM(s).$implicit,h=e.oxw();return e.KtG(h.chartAssist.emphasizeSeries(n.id))})("isSelectedChange",function(o){const h=e.CHM(s).$implicit,c=e.oxw();return e.KtG(c.chartAssist.toggleSeries(h.id,o))}),e.TgZ(1,"nui-rich-legend-tile",7),e._UZ(2,"nui-chart-marker",8),e.qZA()()}if(2&r){const s=l.$implicit,t=e.oxw();e.Q6J("descriptionPrimary",s.name)("seriesRenderState",null==t.chartAssist.renderStatesIndex[s.id]?null:t.chartAssist.renderStatesIndex[s.id].state)("isSelected",!t.chartAssist.isSeriesHidden(s.id)),e.xp6(1),e.Q6J("value",t.chartAssist.getHighlightedValue(s,"y"))("backgroundColor",t.chartAssist.palette.standardColors.get(s.id))("color",t.chartAssist.palette.textColors.get(s.id)),e.xp6(1),e.Q6J("marker",t.chartAssist.markers.get(s.id))("color",t.chartAssist.palette.standardColors.get(s.id))}}let oe=(()=>{class r{constructor(s){(0,i.Z)(this,"thresholdsService",void 0),(0,i.Z)(this,"zones",[{status:"error",start:80},{status:"error",start:-100,end:10},{status:"warning",start:60,end:80},{status:"warning",start:10,end:20}]),(0,i.Z)(this,"summaryZones",[...this.zones,{status:"ok",start:20,end:60}]),(0,i.Z)(this,"startDate",d()([2016,11,25,15,14,29])),(0,i.Z)(this,"uid",a.tIi.uuid()),(0,i.Z)(this,"chart",new a.kL2(new a.Be5((0,a.fWz)()))),(0,i.Z)(this,"summaryChart",new a.kL2(new a.Be5((0,a.M6V)()))),(0,i.Z)(this,"chartAssist",new a.doR(this.chart)),(0,i.Z)(this,"summaryChartAssist",new a.doR(this.summaryChart)),(0,i.Z)(this,"tooltipsPlugin",void 0),(0,i.Z)(this,"thresholdsPalette",void 0),(0,i.Z)(this,"thicknessMap",void 0),(0,i.Z)(this,"accessors",void 0),(0,i.Z)(this,"renderer",void 0),(0,i.Z)(this,"scales",void 0),(0,i.Z)(this,"backgroundScales",void 0),(0,i.Z)(this,"summaryScales",void 0),this.thresholdsService=s,this.scales={x:new a.lTH((0,D.duration)(5,"minutes")),y:new a.f$s},this.backgroundScales={x:this.scales.x,y:new a.jS7},this.summaryScales={x:this.scales.x,y:new a.jS7},this.configureGrids(this.scales.y.id),this.summaryChartAssist.syncWithChartAssist(this.chartAssist),this.scales.y.domainCalculator=(0,a._OB)([0,100]),this.backgroundScales.y.fixDomain(a.s1E.STATUS_DOMAIN),this.summaryScales.y.fixDomain(a.s1E.STATUS_DOMAIN),this.thresholdsPalette=new a.syg(new a.oki({error:a.Sj$[2],warning:a.Sj$[4],ok:a.Sj$[8]},"transparent")),this.thicknessMap={ok:a.Z7w.THIN},this.renderer=new a.Med,this.accessors=new a.qxh(this.chartAssist.palette.standardColors,this.chartAssist.markers)}ngOnInit(){this.update()}update(){const s=function he(){const r="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:d()("2016-12-25T15:05:00Z",r).toDate(),y:30},{x:d()("2016-12-25T15:10:00Z",r).toDate(),y:80},{x:d()("2016-12-25T15:15:00Z",r).toDate(),y:80},{x:d()("2016-12-25T15:20:00Z",r).toDate(),y:80},{x:d()("2016-12-25T15:25:00Z",r).toDate(),y:45},{x:d()("2016-12-25T15:30:00Z",r).toDate(),y:60},{x:d()("2016-12-25T15:35:00Z",r).toDate(),y:10},{x:d()("2016-12-25T15:40:00Z",r).toDate(),y:35}]}]}().map(n=>({...n,renderer:this.renderer,accessors:this.accessors,scales:this.scales})),t=[...s].map(n=>{const h=this.thresholdsService.getThresholdZones(n,this.summaryZones,this.thresholdsPalette.standardColors);return this.thresholdsService.injectThresholdsData(n,h),this.thresholdsService.getBackgrounds(n,h,this.summaryScales,this.thresholdsPalette.standardColors,this.thicknessMap,U()(a.Wki))}),o=[];for(const n of s){const h=this.thresholdsService.getThresholdZones(n,this.zones,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(n,h),o.push(this.thresholdsService.getBackgrounds(n,h,this.backgroundScales,this.thresholdsPalette.backgroundColors),...this.thresholdsService.getThresholdLines(h),...this.thresholdsService.getSideIndicators(h,this.scales))}this.chartAssist.update([...o,...s]),this.summaryChartAssist.update(t)}configureGrids(s){const t=this.chart.getGrid();t.leftScaleId=s;const o=t.config();o.dimension.width(400),o.dimension.height(110),o.dimension.autoWidth=!1,o.dimension.autoHeight=!1;const n=this.summaryChart.getGrid().config();n.dimension.width(400),n.dimension.autoWidth=!1}}return(0,i.Z)(r,"\u0275fac",function(s){return new(s||r)(e.Y36(a.yaz))}),(0,i.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-thresholds-summary-with-interval-scale-test"]],decls:6,vars:8,consts:[[1,"d-flex","align-items-start"],[1,"d-flex","flex-column"],[1,"thresholds-main-chart",3,"chart","nuiChartCollectionId"],[1,"thresholds-summary-chart",3,"chart","nuiChartCollectionId"],["seriesUnitLabel","sec",1,"ml-2","thresholds-legend",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"nui-chart",2)(3,"nui-chart",3),e.qZA(),e.TgZ(4,"nui-legend",4),e.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),e.YNc(5,ne,3,8,"nui-legend-series",5),e.qZA()()),2&s&&(e.xp6(2),e.Q6J("chart",t.chart)("nuiChartCollectionId",t.uid),e.xp6(1),e.Q6J("chart",t.summaryChart)("nuiChartCollectionId",t.uid),e.xp6(1),e.Q6J("active",t.chartAssist.isLegendActive)("interactive",!0),e.xp6(1),e.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn))},dependencies:[f.sg,x.F,_.k,C.w,v.x,w.V,k.s],encapsulation:2})),r})();const de=[{path:"",component:se,data:{srlc:{stage:Z.We9.beta},showThemeSwitcher:!0}},{path:"basic",component:B,data:{srlc:{hideIndicator:!0}}},{path:"spark",component:b,data:{srlc:{hideIndicator:!0}}},{path:"summary",component:F,data:{srlc:{hideIndicator:!0}}},{path:"summary-test",component:ae,data:{srlc:{hideIndicator:!0}}},{path:"summary-visual-test",component:(()=>{class r{constructor(){(0,i.Z)(this,"singleSeries",{"series-1":[30,95,15,60,35]}),(0,i.Z)(this,"thresholdEdges",{"series-1":[30,80,80,80,45,60,10,35]}),(0,i.Z)(this,"singleSeriesNoHits",{"series-1":[30,55,25,55,35]}),(0,i.Z)(this,"multipleSeries",{"series-1":[30,95,15,60,35],"series-2":[100,40,70,45,90]}),(0,i.Z)(this,"zones",[{status:"error",start:80},{status:"error",start:-100,end:10},{status:"warning",start:60,end:80},{status:"warning",start:10,end:20}]),(0,i.Z)(this,"startDate",d()([2016,11,25,15,14,29]))}}return(0,i.Z)(r,"\u0275fac",function(s){return new(s||r)}),(0,i.Z)(r,"\u0275cmp",e.Xpm({type:r,selectors:[["nui-thresholds-summary-visual-test"]],decls:8,vars:18,consts:[[1,"nui-thresholds-summary-single-1",3,"data","zones","startDate"],[1,"nui-thresholds-summary-single-2",3,"data","zones","startDate"],[1,"nui-thresholds-summary-single-3",3,"data","zones","startDate"],[1,"nui-thresholds-summary-multiple-1",3,"data","zones","startDate"],[1,"nui-thresholds-summary-multiple-2",3,"data","zones","startDate"],[1,"nui-thresholds-summary-multiple-3",3,"data","zones","startDate"]],template:function(s,t){1&s&&(e.TgZ(0,"charts-test-harness"),e._UZ(1,"nui-thresholds-summary-test",0)(2,"nui-thresholds-summary-test",1)(3,"nui-thresholds-summary-test",2)(4,"nui-thresholds-summary-with-interval-scale-test")(5,"nui-thresholds-summary-test",3)(6,"nui-thresholds-summary-test",4)(7,"nui-thresholds-summary-test",5),e.qZA()),2&s&&(e.xp6(1),e.Q6J("data",t.singleSeries)("zones",t.zones)("startDate",t.startDate),e.xp6(1),e.Q6J("data",t.singleSeriesNoHits)("zones",t.zones)("startDate",t.startDate),e.xp6(1),e.Q6J("data",t.thresholdEdges)("zones",t.zones)("startDate",t.startDate),e.xp6(2),e.Q6J("data",t.multipleSeries)("zones",t.zones)("startDate",t.startDate),e.xp6(1),e.Q6J("data",t.multipleSeries)("zones",t.zones)("startDate",t.startDate),e.xp6(1),e.Q6J("data",t.multipleSeries)("zones",t.zones)("startDate",t.startDate))},dependencies:[ie.m,M,oe],encapsulation:2})),r})(),data:{srlc:{hideIndicator:!0}}}];let ce=(()=>{class r{}return(0,i.Z)(r,"\u0275fac",function(s){return new(s||r)}),(0,i.Z)(r,"\u0275mod",e.oAB({type:r})),(0,i.Z)(r,"\u0275inj",e.cJS({imports:[Q.l,A.u5,a.$y4,Z.vvu,Z.Ts3,Z.gkT,E.Bz.forChild(de)]})),r})()}}]);