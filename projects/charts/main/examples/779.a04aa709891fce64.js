"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[779],{75779:(L,_,l)=>{l.r(_),l.d(_,{TypeSwitchExampleModule:()=>b});var w=l(76697),p=l(21046),i=l(87083),y=l(57378),f=l(21617),g=l.n(f),e=l(5e3),C=l(42210),h=l(69808),S=l(24386),v=l(53784),T=l(88682),x=l(89657);function A(s,o){if(1&s&&(e.ynx(0),e.TgZ(1,"nui-chart-donut-content",10)(2,"div",11),e._uU(3,"57"),e.qZA(),e.TgZ(4,"div",12),e._uU(5,"donuts"),e.qZA()(),e.BQk()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("plugin",t.donutContentPlugin)}}function D(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"nui-legend-series",13),e.NdJ("mouseenter",function(){const r=e.CHM(t).$implicit;return e.oxw().chartAssist.emphasizeSeries(r.id)})("isSelectedChange",function(a){const c=e.CHM(t).$implicit;return e.oxw().chartAssist.toggleSeries(c.id,a)}),e.ALo(1,"titlecase"),e._UZ(2,"nui-rich-legend-tile",14)(3,"nui-icon",15),e.qZA()}if(2&s){const t=o.$implicit,n=e.oxw();e.s9C("descriptionPrimary",e.lcZ(1,5,t.id)),e.Q6J("seriesRenderState",null==n.chartAssist.renderStatesIndex[t.id]?null:n.chartAssist.renderStatesIndex[t.id].state)("isSelected",!n.chartAssist.isSeriesHidden(t.id)),e.xp6(2),e.Q6J("value",null==t.data[0]?null:t.data[0].value),e.xp6(1),e.Q6J("icon",n.iconMap[t.id])}}function F(s,o){if(1&s&&(e.TgZ(0,"nui-radio",16),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&s){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t)," ")}}let Z=(()=>{class s{constructor(){this.chartTypes=["horizontal bar","vertical bar","pie","donut"],this.chartType=this.chartTypes[0],this.categories=["down","critical","warning","unknown","ok","other"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[24,16,7,6,97,4],this.iconMap=g()(this.categories,this.iconNames.map(t=>`status_${t}`)),this.colorProvider=new i.oki(g()(this.categories,i.lQw))}ngOnInit(){this.updateChartType()}updateChartType(){this.buildChart(),this.chartAssist.chart.updateDimensions(),this.updateChart()}buildChart(){switch(this.donutContentPlugin=void 0,this.chartType){case"horizontal bar":this.chartAssist=new i.doR(new i.kL2((0,i.skL)({horizontal:!0})));break;case"vertical bar":this.chartAssist=new i.doR(new i.kL2((0,i.skL)({horizontal:!1})));break;case"pie":this.chartAssist=new i.doR(new i.kL2((0,i.Y6Q)()),i.fy$);break;case"donut":this.donutContentPlugin=new i.iM,this.chartAssist=new i.doR(new i.kL2((0,i.Y6Q)()),i.fy$),this.chartAssist.chart.addPlugin(this.donutContentPlugin)}}getRenderer(){switch(this.chartType){case"horizontal bar":case"vertical bar":return new i.Z7w;case"pie":return new i.bOg;case"donut":return new i.E8N}}updateChart(){const t=this.getAccessors(),n=this.getRenderer(),a=this.getScales();if(!t||!n||!a)throw new Error("Accessors, renderer or scales are unavailable");this.chartAssist.update(this.getChartAssistSeries(this.categories,this.values,t,n,a))}getScales(){const t=new i.jS7,n=new i.f$s;switch(n.domainCalculator=(0,i._OB)([0,0]),this.chartType){case"horizontal bar":return{x:n,y:t};case"vertical bar":return{x:t,y:n};case"pie":case"donut":return(0,i._N$)()}}getAccessors(){switch(this.chartType){case"horizontal bar":return new i.HVr(this.colorProvider);case"vertical bar":return new i.a9F(this.colorProvider);case"pie":case"donut":{const t=new i.UDz;return t.series.color=this.colorProvider.get,t}}}getChartAssistSeries(t,n,a,r,c){return t.map((d,m)=>({id:d,data:[{category:d,value:n[m]||0}],accessors:a,renderer:r,scales:c}))}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nui-chart-one-dimensional-data-example"]],decls:10,vars:8,consts:[[1,"nui-chart-layout"],[1,"chart",2,"position","relative"],[1,"w-100",3,"chart"],[4,"ngIf"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"plugin"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],["backgroundColor","transparent",3,"value"],[3,"icon"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"nui-chart",2),e.YNc(3,A,6,1,"ng-container",3),e.qZA(),e.TgZ(4,"div",4)(5,"nui-legend",5),e.NdJ("mouseleave",function(){return n.chartAssist.resetVisibleSeries()}),e.YNc(6,D,4,7,"nui-legend-series",6),e.qZA()(),e.TgZ(7,"div",7)(8,"nui-radio-group",8),e.NdJ("valueChange",function(r){return n.chartType=r})("valueChange",function(){return n.updateChartType()}),e.YNc(9,F,3,4,"nui-radio",9),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("chart",n.chartAssist.chart),e.xp6(1),e.Q6J("ngIf",n.donutContentPlugin),e.xp6(2),e.Q6J("active",n.chartAssist.isLegendActive)("interactive",!1),e.xp6(1),e.Q6J("ngForOf",n.chartAssist.legendSeriesSet)("ngForTrackBy",n.chartAssist.seriesTrackByFn),e.xp6(2),e.Q6J("value",n.chartType),e.xp6(1),e.Q6J("ngForOf",n.chartTypes))},directives:[C.x,h.O5,S.k,v.F,h.sg,T.k,x.w,p.oJW,p.wTj,p.UKb],pipes:[h.rS],encapsulation:2}),s})();function E(s,o){if(1&s&&(e.TgZ(0,"nui-radio",9),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&s){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t)," ")}}function Q(s,o){if(1&s&&e._UZ(0,"nui-icon",13),2&s){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("icon",n.iconMap[t.id])}}function J(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"nui-legend-series",10),e.NdJ("mouseenter",function(){const r=e.CHM(t).$implicit;return e.oxw().chartAssist.emphasizeSeries(r.id)})("isSelectedChange",function(a){const c=e.CHM(t).$implicit;return e.oxw().chartAssist.toggleSeries(c.id,a)}),e.ALo(1,"titlecase"),e._UZ(2,"nui-rich-legend-tile",11),e.YNc(3,Q,1,1,"nui-icon",12),e.qZA()}if(2&s){const t=o.$implicit,n=e.oxw();e.s9C("descriptionPrimary",e.lcZ(1,7,t.id)),e.Q6J("seriesRenderState",null==n.chartAssist.renderStatesIndex[t.id]?null:n.chartAssist.renderStatesIndex[t.id].state)("isSelected",!n.chartAssist.isSeriesHidden(t.id)),e.xp6(2),e.Q6J("value",n.accessors.data.value(t.data[0],0,null,null))("backgroundColor",n.chartAssist.palette.standardColors.get(t.id))("color",n.chartAssist.palette.textColors.get(t.id)),e.xp6(1),e.Q6J("ngIf",n.iconMap[t.id])}}function k(s,o){if(1&s&&(e.TgZ(0,"nui-radio",9),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&s){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t)," ")}}var u=(()=>{return(s=u||(u={})).StackedBar="stacked bar",s.GroupedBar="grouped bar",s.Line="line",u;var s})();const O=[{path:"1d",component:Z},{path:"2d",component:(()=>{class s{constructor(){this.chartTypes=[u.StackedBar,u.GroupedBar,u.Line],this.chartType=this.chartTypes[0],this.mainCategoryOptions=["quarters","statuses"],this.mainCategory=this.mainCategoryOptions[0],this.statuses=["down","critical","warning","unknown","ok","other"],this.quarters=["Q1","Q2","Q3","Q4"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[[24,16,7,6,97,4],[13,8,5,17,5,25],[97,41,24,6,7,6],[45,87,23,48,24,9]],this.iconMap=g()(this.statuses,this.iconNames.map(t=>`status_${t}`))}ngOnInit(){this.updateMainCategory()}updateMainCategory(){const t=new i.syg(new i.oki(g()(this.statuses,i.lQw))),n=new i.syg(i.cpE),a=this.mainCategory===this.mainCategoryOptions[0];this.categories=a?this.statuses:this.quarters,this.subCategories=a?this.quarters:this.statuses,this.valueAccessor=a?(r,c)=>this.values[r][c]:(r,c)=>this.values[c][r],this.palette=a?n:t,this.updateChartType()}updateChartType(){this.buildChart(),this.updateChart()}buildChart(){const{grid:t,accessors:n,renderer:a,scales:r,preprocessor:c}=this.getChartAttributes(this.chartType);this.renderer=a,this.accessors=n,this.scales=r;const d=new i.kL2(t);d.addPlugin(new i.$fK),this.chartAssist=new i.doR(d,c,this.palette),this.chartType===u.StackedBar&&(this.chartAssist.seriesProcessor=i.knu)}updateChart(){this.chartAssist.update(this.buildChartSeries(this.categories,this.subCategories,this.valueAccessor))}buildChartSeries(t,n,a){return n.map((r,c)=>({id:r,name:r,data:t.map((d,m)=>({category:d,value:a(c,m)||0})),accessors:this.accessors,renderer:this.renderer,scales:this.scales}))}getChartAttributes(t){const n=this.getChartTools(t),a={grid:n.gridFunction(),accessors:n.accessorFunction(),renderer:n.rendererFunction(),scales:n.scaleFunction()};return n.preprocessor&&(a.preprocessor=n.preprocessor),a}getChartTools(t){return{[u.StackedBar]:{preprocessor:i.knu,gridFunction:i.skL,rendererFunction:()=>new i.Z7w({highlightStrategy:new i.Pkp("x")}),accessorFunction:()=>(0,i.Q6e)(void 0,this.palette.standardColors),scaleFunction:i.CQI},[u.GroupedBar]:{gridFunction:()=>(0,i.skL)({grouped:!0}),rendererFunction:()=>new i.Z7w({highlightStrategy:new i.Pkp("x")}),accessorFunction:()=>{const a=(0,i.Q6e)({grouped:!0},this.palette.standardColors);return a.data.category=(r,c,d,m)=>[r.category,m.name],a},scaleFunction:()=>(0,i.CQI)({grouped:!0})},[u.Line]:{gridFunction:()=>new i.Be5,rendererFunction:()=>new i.Med,accessorFunction:()=>{const a=new i.qxh(this.palette.standardColors);return a.data.x=r=>r.category,a.data.y=r=>r.value,a.data.value=r=>r.value,a},scaleFunction:()=>({x:(new i.jS7).fixDomain(this.categories),y:new i.f$s})}}[t]}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nui-chart-two-dimensional-data-example"]],decls:13,vars:9,consts:[[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[3,"value"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["class","mt-1 ml-3",3,"icon",4,"ngIf"],[1,"mt-1","ml-3",3,"icon"]],template:function(t,n){1&t&&(e.TgZ(0,"h3"),e._uU(1," Legend by "),e.TgZ(2,"nui-radio-group",0),e.NdJ("valueChange",function(r){return n.mainCategory=r})("valueChange",function(){return n.updateMainCategory()}),e.YNc(3,E,3,4,"nui-radio",1),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3),e._UZ(6,"nui-chart",4),e.qZA(),e.TgZ(7,"div",5)(8,"nui-legend",6),e.NdJ("mouseleave",function(){return n.chartAssist.resetVisibleSeries()}),e.YNc(9,J,4,9,"nui-legend-series",7),e.qZA()(),e.TgZ(10,"div",8)(11,"nui-radio-group",0),e.NdJ("valueChange",function(r){return n.chartType=r})("valueChange",function(){return n.updateChartType()}),e.YNc(12,k,3,4,"nui-radio",1),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("value",n.mainCategory),e.xp6(1),e.Q6J("ngForOf",n.mainCategoryOptions),e.xp6(3),e.Q6J("chart",n.chartAssist.chart),e.xp6(2),e.Q6J("active",n.chartAssist.isLegendActive)("interactive",!1),e.xp6(1),e.Q6J("ngForOf",n.chartAssist.legendSeriesSet)("ngForTrackBy",n.chartAssist.seriesTrackByFn),e.xp6(2),e.Q6J("value",n.chartType),e.xp6(1),e.Q6J("ngForOf",n.chartTypes))},directives:[p.wTj,h.sg,p.UKb,C.x,v.F,T.k,x.w,h.O5,p.oJW],pipes:[h.rS],encapsulation:2}),s})()}];let b=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[y.l,i.$y4,p.Ts3,p.CUE,w.Bz.forChild(O)]]}),s})()}}]);