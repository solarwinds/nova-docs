!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunk_nova_ui_charts=self.webpackChunk_nova_ui_charts||[]).push([[906],{89705:function(t,e,n){var a={"./chart-docs-waterfall.component.html":26804,"./chart-docs-waterfall.component.ts":45243,"./chart-docs-waterfall.module.ts":71929,"./waterfall-advanced-charts/waterfall-chart-advanced.example.component.html":69330,"./waterfall-advanced-charts/waterfall-chart-advanced.example.component.less":56890,"./waterfall-advanced-charts/waterfall-chart-advanced.example.component.ts":40908,"./waterfall-chart-simple/waterfall-chart-simple.example.component.html":80562,"./waterfall-chart-simple/waterfall-chart-simple.example.component.ts":33338,"./waterfall-test/waterfall-chart-test.component.html":59039,"./waterfall-test/waterfall-chart-test.component.ts":76986,"components/demo/chart-types/waterfall/chart-docs-waterfall.component.html":26804,"components/demo/chart-types/waterfall/chart-docs-waterfall.component.ts":45243,"components/demo/chart-types/waterfall/chart-docs-waterfall.module.ts":71929,"components/demo/chart-types/waterfall/waterfall-advanced-charts/waterfall-chart-advanced.example.component.html":69330,"components/demo/chart-types/waterfall/waterfall-advanced-charts/waterfall-chart-advanced.example.component.less":56890,"components/demo/chart-types/waterfall/waterfall-advanced-charts/waterfall-chart-advanced.example.component.ts":40908,"components/demo/chart-types/waterfall/waterfall-chart-simple/waterfall-chart-simple.example.component.html":80562,"components/demo/chart-types/waterfall/waterfall-chart-simple/waterfall-chart-simple.example.component.ts":33338,"components/demo/chart-types/waterfall/waterfall-test/waterfall-chart-test.component.html":59039,"components/demo/chart-types/waterfall/waterfall-test/waterfall-chart-test.component.ts":76986};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id=89705},80906:function(e,a,r){"use strict";r.r(a),r.d(a,{ChartDocsWaterfallModule:function(){return U}});var o,i=r(83461),c=r(66266),s=r(28425),l=r(4813),d=r(58490),p=r(33018),h=r(31507),f=r.n(h),u=r(13458),g=((o=function(){function e(){t(this,e),this.chartConfig={horizontal:!0},this.chart=new l.kL2((0,l.skL)(this.chartConfig))}return n(e,[{key:"ngOnInit",value:function(){var t=(0,l.Q6e)(this.chartConfig),e=(0,l.CQI)(this.chartConfig),n=new l.Z7w({highlightStrategy:new l.Pkp("x")});this.chart.addPlugin(new l.koE);var a=new l.oki(f()(["connect","dns","send","ttfb","cdownload"],l.cpE));t.data.color=function(t){return a.get(t.type)},e.x.formatters.tick=function(t){return"".concat(parseFloat(Number(t/1e3).toFixed(1)).toLocaleString(),"s")},e.y.padding(.5),this.chart.update([{id:"1",name:"Category 1",data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:178}]},{id:"2",name:"Category 2",data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:788}]},{id:"3",name:"Category 3",data:[{type:"connect",start:178,end:222},{type:"dns",start:222,end:239},{type:"send",start:239,end:259},{type:"ttfb",start:259,end:309},{type:"cdownload",start:309,end:578}]},{id:"4",name:"Category 4",data:[{type:"connect",start:578,end:590},{type:"dns",start:590,end:799},{type:"send",start:799,end:888},{type:"ttfb",start:888,end:900},{type:"cdownload",start:900,end:990}]}].map(function(a){return Object.assign(Object.assign({},a),{accessors:t,scales:e,renderer:n})}))}}]),e}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=p.Xpm({type:o,selectors:[["nui-waterfall-chart-simple-example"]],decls:1,vars:1,consts:[[1,"d-flex",3,"chart"]],template:function(t,e){1&t&&p._UZ(0,"nui-chart",0),2&t&&p.Q6J("chart",e.chart)},directives:[u.x],encapsulation:2}),o),m=r(87636),w=r(90625),v=r(38583),y=r(9647),Z=["templatePortalGrid"],_=["gridChartPlaceholder"];function x(t,e){1&t&&p._UZ(0,"div",11)}function b(t,e){if(1&t&&(p.TgZ(0,"div",5),p._UZ(1,"nui-icon",6),p.TgZ(2,"div",7),p.TgZ(3,"span"),p._uU(4),p.qZA(),p.qZA(),p.TgZ(5,"div",8),p.YNc(6,x,1,0,"div",9),p._UZ(7,"nui-chart",10),p.qZA(),p.qZA()),2&t){var n=e.$implicit,a=e.first,r=p.oxw();p.xp6(1),p.s9C("icon",n.icon),p.xp6(1),p.Udp("width",r.rowSize,"px"),p.xp6(2),p.Oqu(n.url),p.xp6(2),p.Q6J("ngIf",a),p.xp6(1),p.Q6J("chart",n.chart)}}function C(t,e){if(1&t&&p._UZ(0,"nui-chart",10),2&t){var n=p.oxw();p.Q6J("chart",n.gridChart)}}var P=function(){var e=function(){function e(n,a,r,o){t(this,e),this.overlay=n,this.overlayPositionBuilder=a,this._viewContainerRef=r,this.scrollStrategyOptions=o,this.seriesChartConfig=new l.mEc({showBottomAxis:!1}),this.iconSize=20,this.rowSize=200,this.palette=new l.syg(new l.oki({connect:l.cpE[0],dns:l.cpE[1],send:l.cpE[2],ttfb:l.cpE[3],cdownload:l.cpE[4]})),this.gridChart=new l.kL2(new l.Be5),this.listItems=function(t){return[{url:"http://www.google.com",size:924,icon:"xml-file",chart:new l.kL2(new l.Be5(t)),data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:178}]},{url:"http://www2.google.com",size:924,icon:"xml-file",chart:new l.kL2(new l.Be5(t)),data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:788}]},{url:"http://www.google.com/cat.png",size:3333,icon:"image",chart:new l.kL2(new l.Be5(t)),data:[{type:"connect",start:178,end:222},{type:"dns",start:222,end:239},{type:"send",start:239,end:259},{type:"ttfb",start:259,end:309},{type:"cdownload",start:309,end:578}]},{url:"http://www.google.com/revenge.png",size:3333,icon:"image",chart:new l.kL2(new l.Be5(t)),data:[{type:"connect",start:578,end:590},{type:"dns",start:590,end:799},{type:"send",start:799,end:888},{type:"ttfb",start:888,end:900},{type:"cdownload",start:900,end:990}]}]}(this.seriesChartConfig)}return n(e,[{key:"updateGridPosition",value:function(){this.overlayRef.updatePosition()}},{key:"ngOnInit",value:function(){var t=this;this.gridChart.addPlugin(new l.Rbc),this.gridChart.getEventBus().getStream(l.bdF).subscribe(function(e){var n=e.data;t.listItems.forEach(function(e){t.scales.x.fixDomain(n[t.scales.x.id]),e.chart.updateDimensions()})})}},{key:"ngAfterViewInit",value:function(){var t=this;this.templatePortal=new m.UE(this.templatePortalGrid,this._viewContainerRef),this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.gridChartPlaceholder).withPositions([{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top"}]).withPush(!1),this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,scrollStrategy:this.scrollStrategyOptions.reposition()});var e=new l.jS7,n=new l.f$s;n.fixDomain([0,1e3]),e.fixDomain(["cat1"]),this.scales={x:n,y:e},this.scales.x.formatters.tick=function(t){return"".concat(Number(t/1e3).toFixed(1),"s")};var a=new l.Z7w({highlightStrategy:new l.Pkp("x")}),r=new l.HVr;r.data.color=function(e){return t.palette.standardColors.get(e.type)};var o=0;this.listItems.forEach(function(e){var n=[{id:"series-1",name:"Series 1",data:e.data.map(function(t){return{value:t.end-t.start,start:t.start,end:t.end,category:"cat1",type:t.type}}),accessors:r,scales:t.scales,renderer:a}];e.chart.update(n),o=e.chart.getGrid().config().dimension.width()});var i=this.gridChart.getGrid().config();i.dimension.height(this.listItems.length*this.seriesChartConfig.dimension.height()),i.dimension.width(o),i.dimension.autoHeight=!1,i.axis.left.visible=!1,i.axis.left.gridTicks=!1,i.axis.bottom.gridTicks=!0,this.gridChart.update([{id:"i am grid",name:"i am grid",data:[],accessors:new l.bbc,scales:this.scales,renderer:new l.XqW}]),this.gridChart.updateDimensions(),this.overlayRef.attach(this.templatePortal)}},{key:"drop",value:function(t){(0,i.bA)(this.listItems,t.previousIndex,t.currentIndex)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(w.aV),p.Y36(w.wJ),p.Y36(p.s_b),p.Y36(w.uw))},e.\u0275cmp=p.Xpm({type:e,selectors:[["nui-waterfall-chart-advanced-example"]],viewQuery:function(t,e){var n;(1&t&&(p.Gf(Z,5),p.Gf(_,5)),2&t)&&(p.iGM(n=p.CRH())&&(e.templatePortalGrid=n.first),p.iGM(n=p.CRH())&&(e.gridChartPlaceholder=n.first))},hostBindings:function(t,e){1&t&&p.NdJ("click",function(){return e.updateGridPosition()},!1,p.evT)},decls:7,vars:3,consts:[[1,"chart","mb-5"],["gridChartPlaceholder",""],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["class","d-flex flex-row align-items-center waterfall-chart-list-item","cdkDrag","",4,"ngFor","ngForOf"],["templatePortalGrid",""],["cdkDrag","",1,"d-flex","flex-row","align-items-center","waterfall-chart-list-item"],[1,"p-1",3,"icon"],[1,"p-1",2,"overflow","hidden"],[1,"d-flex"],["class","d-flex h-100",4,"ngIf"],["nuiChartCollectionId","1",1,"d-flex",3,"chart"],[1,"d-flex","h-100"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p._UZ(1,"div",null,1),p.TgZ(3,"div",2),p.NdJ("cdkDropListDropped",function(t){return e.drop(t)}),p.YNc(4,b,8,6,"div",3),p.qZA(),p.qZA(),p.YNc(5,C,1,1,"ng-template",null,4,p.W1O)),2&t&&(p.xp6(1),p.Udp("margin-left",e.rowSize+e.iconSize,"px"),p.xp6(3),p.Q6J("ngForOf",e.listItems))},directives:[i.Wj,v.sg,i.Zt,s.oJW,v.O5,u.x,y.V],styles:['.nui-dnd-hover-state[_ngcontent-%COMP%]{background:#f2f2f2}.nui-dnd-raised-state[_ngcontent-%COMP%]{z-index:1;box-sizing:border-box;box-shadow:0 2px 10px rgba(17,17,17,.3);box-shadow:0 2px 10px 0 var(--nui-shadow-color, rgba(17, 17, 17, .3))}.nui-dnd-preview[_ngcontent-%COMP%]{border:1px #d9d9d9 solid;background:#f2f2f2;z-index:1;box-sizing:border-box;box-shadow:0 2px 10px rgba(17,17,17,.3);box-shadow:0 2px 10px 0 var(--nui-shadow-color, rgba(17, 17, 17, .3))}.nui-dnd-dropzone.nui-dnd-dropzone--active[_ngcontent-%COMP%]{border:4px dashed #999!important}.nui-dnd-dropzone.nui-dnd-dropzone--drop-allowed[_ngcontent-%COMP%]{cursor:move;border:4px solid #00c4d2!important;background-color:rgba(0,196,210,.2)}.nui-dnd-dropzone.nui-dnd-dropzone--drop-not-allowed[_ngcontent-%COMP%]{cursor:move;border:4px solid #dd2c00!important;background-color:rgba(221,44,0,.2)}.nui-dnd-dropzone[_ngcontent-%COMP%]   .centered-overlay[_ngcontent-%COMP%], .nui-dnd-dropzone[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.nui-dnd-dropzone[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{border-radius:50%;content:"";display:block;height:40px;width:40px;z-index:-1}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-permanent[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{background-color:#fff}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-permanent[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   polygon[_ngcontent-%COMP%]{fill:#111}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{background-color:#00c4d2}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   polygon[_ngcontent-%COMP%]{-webkit-clip-path:circle(5px);clip-path:circle(5px);fill:#fff}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-not-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{background-color:#dd2c00}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-not-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{-webkit-clip-path:circle(5px);clip-path:circle(5px);fill:#fff}.waterfall-chart-list-item[_ngcontent-%COMP%]:hover{background-color:rgba(0,196,210,.1);background-color:var(--nui-color-selected,rgba(0, 196, 210, .1))}.waterfall-chart-list-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--nui-color-bg-content,#fff)}']}),e}(),k=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nui-chart-docs-waterfall"]],decls:82,vars:1,consts:[["filenamePrefix","waterfall-chart-simple","exampleTitle","Simple Waterfall Chart"],["type","warning",3,"allowDismiss"],["href","../classes/Chart.html","target","_blank"],["href","../classes/XYGrid.html","target","_blank"],["href","../classes/BarStatusGridConfig.html","target","_blank"],["href","https://material.angular.io/cdk/overlay/overview","target","_blank"],["href","https://material.angular.io/cdk/portal/overview","target","_blank"],["href","../classes/HorizontalBarAccessors.html","target","_blank"],["href","../classes/BandScale.html","target","_blank"],["href","../classes/BandScale.html#padding","target","_blank"],["filenamePrefix","waterfall-chart-advanced","exampleTitle","Advanced Waterfall Chart"]],template:function(t,e){1&t&&(p.TgZ(0,"h1"),p._uU(1,"Waterfall Charts"),p.qZA(),p.TgZ(2,"p"),p._uU(3," A Waterfall Chart is a chart that shows a certain category events on the timeline.\n"),p.qZA(),p.TgZ(4,"h2"),p._uU(5,"Simple Waterfall Chart"),p.qZA(),p.TgZ(6,"p"),p._uU(7," To build a simple Waterfall chart follow the instructions in the example source code:\n"),p.qZA(),p.TgZ(8,"nui-example-wrapper",0),p._UZ(9,"nui-waterfall-chart-simple-example"),p.qZA(),p.TgZ(10,"h2"),p._uU(11,"Advanced Waterfall Chart"),p.qZA(),p.TgZ(12,"nui-message",1),p.TgZ(13,"strong"),p._uU(14,"Caution!!!"),p.qZA(),p._uU(15," Example below is provided as a proof of concept and is not meant to be used in production code.\n"),p.qZA(),p.TgZ(16,"p"),p._uU(17," It is possible to build fancy waterfall charts with more complex functionality, like the one below. Each series provides a separate instance of bar chart that is rendered inside grid, which is a separate empty chart positioned using CDK Overlay on top of bar charts.\n"),p.qZA(),p.TgZ(18,"p"),p._uU(19,"To build an advanced Waterfall chart below follow the instructions:"),p.qZA(),p.TgZ(20,"ol"),p.TgZ(21,"li"),p._uU(22," Make sure your series provide a new instance of "),p.TgZ(23,"code"),p.TgZ(24,"a",2),p._uU(25,"Chart"),p.qZA(),p.qZA(),p._uU(26," with an instance of "),p.TgZ(27,"code"),p.TgZ(28,"a",3),p._uU(29,"XYGrid"),p.qZA(),p.qZA(),p._uU(30," passed in as an argument. "),p.TgZ(31,"code"),p._uU(32,"new "),p.TgZ(33,"a",4),p._uU(34,"BarStatusGridConfig"),p.qZA(),p._uU(35,"()"),p.qZA(),p._uU(36," config instance goes as an argument to "),p.TgZ(37,"code"),p._uU(38,"XYGrid"),p.qZA(),p._uU(39," with the "),p.TgZ(40,"code"),p._uU(41,"showBottomAxis"),p.qZA(),p._uU(42," option set to "),p.TgZ(43,"code"),p._uU(44,"false"),p.qZA(),p._uU(45,". "),p.qZA(),p.TgZ(46,"li"),p._uU(47," Instantiate and configure a "),p.TgZ(48,"code"),p.TgZ(49,"a",3),p._uU(50,"XYGrid"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(51,"li"),p._uU(52," Instantiate and configure an "),p.TgZ(53,"code"),p.TgZ(54,"a",5),p._uU(55,"Overlay"),p.qZA(),p.qZA(),p._uU(56," and corresponding "),p.TgZ(57,"code"),p.TgZ(58,"a",6),p._uU(59,"Portal"),p.qZA(),p.qZA(),p._uU(60," to attach the grid to a correct point of the first series on the page. "),p.qZA(),p.TgZ(61,"li"),p._uU(62," Instantiate "),p.TgZ(63,"code"),p.TgZ(64,"a",7),p._uU(65,"HorizontalBarAccessors"),p.qZA(),p.qZA(),p._uU(66,". Using the accessor, assign the color or the bar to the corresponding data type retrieved from the "),p.TgZ(67,"code"),p._uU(68,"ChartPalette"),p.qZA(),p._uU(69,". "),p.qZA(),p.TgZ(70,"li"),p._uU(71," Configure the thickness of the bar using the "),p.TgZ(72,"code"),p.TgZ(73,"a",8),p._uU(74,"BandScale"),p.qZA(),p.qZA(),p._uU(75," method "),p.TgZ(76,"code"),p.TgZ(77,"a",9),p._uU(78,"padding"),p.qZA(),p.qZA(),p._uU(79,". "),p.qZA(),p.qZA(),p.TgZ(80,"nui-example-wrapper",10),p._UZ(81,"nui-waterfall-chart-advanced-example"),p.qZA()),2&t&&(p.xp6(12),p.Q6J("allowDismiss",!1))},directives:[s.hD2,g,s.qqZ,P],encapsulation:2}),e}(),T=r(94317),A=[{path:"",component:k,data:{srlc:{stage:s.We9.beta},showThemeSwitcher:!0}},{path:"simple",component:g,data:{srlc:{hideIndicator:!0}}},{path:"advanced",component:P,data:{srlc:{hideIndicator:!0}}},{path:"test",component:function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["waterfall-chart-test-component"]],decls:6,vars:2,consts:[[1,"container"],[1,"d-flex","flex-row"],["id","nui-waterfall-chart-simple",1,"w-100","mb-5"],["id","nui-waterfall-chart-advanced",1,"w-100","mt-5"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"charts-test-harness"),p.TgZ(2,"div",1),p._UZ(3,"nui-waterfall-chart-simple-example",2),p.qZA(),p.TgZ(4,"div",1),p._UZ(5,"nui-waterfall-chart-advanced-example",3),p.qZA(),p.qZA(),p.qZA()),2&t&&p.Udp("margin-top",50,"px")},directives:[T.m,g,P],encapsulation:2}),e}(),data:{srlc:{hideIndicator:!0}}}],U=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({providers:[{provide:s.V3$,useFactory:function(){return r(89705)}}],imports:[[i._t,s.Ts3,s.vvu,d.l,l.$y4,s.gkT,c.Bz.forChild(A)]]}),e}()}}])}();