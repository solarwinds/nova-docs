(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[177],{9647:(It,ft,a)=>{"use strict";a.d(ft,{V:()=>o});var g=a(37691),v=a(26271),b=a(87262),it=a(94650);let o=(()=>{class z{constructor(D,A){(0,g.Z)(this,"chartComponent",void 0),(0,g.Z)(this,"chartCollectionService",void 0),(0,g.Z)(this,"collectionId",void 0),this.chartComponent=D,this.chartCollectionService=A}ngOnChanges(D){const A=D.collectionId;A&&(A.previousValue&&this.chartCollectionService.getChartCollection(A.previousValue).removeChart(this.chartComponent.chart),A.currentValue&&this.chartCollectionService.getChartCollection(A.currentValue).addChart(this.chartComponent.chart))}}return(0,g.Z)(z,"\u0275fac",function(D){return new(D||z)(it.Y36(v.BD),it.Y36(b.v))}),(0,g.Z)(z,"\u0275dir",it.lG2({type:z,selectors:[["","nuiChartCollectionId",""]],inputs:{collectionId:["nuiChartCollectionId","collectionId"]},features:[it.TTD]})),z})()},87262:(It,ft,a)=>{"use strict";a.d(ft,{v:()=>z});var g=a(37691),v=a(34235),b=a.n(v),it=a(47086),o=a(94650);let z=(()=>{class J{constructor(){(0,g.Z)(this,"collections",{})}getChartCollection(A){let Z=this.collections[A];return b()(Z)&&(Z=new it.p,this.collections[A]=Z),Z}}return(0,g.Z)(J,"\u0275fac",function(A){return new(A||J)}),(0,g.Z)(J,"\u0275prov",o.Yz7({token:J,factory:J.\u0275fac})),J})()},65804:(It,ft,a)=>{"use strict";a.d(ft,{k:()=>J});var g=a(37691),b=(a(33679),a(94650)),it=a(36895);function o(D,A){if(1&D&&(b.TgZ(0,"div",1),b.Hsn(1),b.qZA()),2&D){const Z=b.oxw();b.Udp("top",Z.contentPosition.top,"px")("left",Z.contentPosition.left,"px")("height",Z.contentPosition.height,"px")("width",Z.contentPosition.width,"px")}}const z=["*"];let J=(()=>{class D{constructor(){(0,g.Z)(this,"plugin",void 0),(0,g.Z)(this,"contentPosition",void 0),(0,g.Z)(this,"contentPositionUpdateSubscription",void 0)}ngOnChanges(Z){Z.plugin&&(this.contentPositionUpdateSubscription?.unsubscribe(),this.contentPositionUpdateSubscription=this.plugin.contentPositionUpdateSubject.subscribe(X=>{this.contentPosition=X}),this.plugin.chart.updateDimensions())}ngOnDestroy(){this.contentPositionUpdateSubscription&&this.contentPositionUpdateSubscription.unsubscribe()}}return(0,g.Z)(D,"\u0275fac",function(Z){return new(Z||D)}),(0,g.Z)(D,"\u0275cmp",b.Xpm({type:D,selectors:[["nui-chart-donut-content"]],inputs:{plugin:"plugin"},features:[b.TTD],ngContentSelectors:z,decls:1,vars:1,consts:[["class","nui-chart-donut-content d-flex justify-content-center align-items-center text-center",3,"top","left","height","width",4,"ngIf"],[1,"nui-chart-donut-content","d-flex","justify-content-center","align-items-center","text-center"]],template:function(Z,X){1&Z&&(b.F$t(),b.YNc(0,o,2,8,"div",0)),2&Z&&b.Q6J("ngIf",X.plugin&&X.contentPosition)},dependencies:[it.O5],styles:[".nui-chart-donut-content[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;width:100%;height:100%;overflow:hidden;text-overflow:ellipsis}"]})),D})()},76198:(It,ft,a)=>{"use strict";a.d(ft,{s:()=>D});var g=a(37691),v=a(75946),b=a.n(v),it=a(61135),o=a(94650);const z=["svgContent"];let D=(()=>{class A{constructor(X){(0,g.Z)(this,"changeDetector",void 0),(0,g.Z)(this,"marker",void 0),(0,g.Z)(this,"drawLine",void 0),(0,g.Z)(this,"color",void 0),(0,g.Z)(this,"maxSize",20),(0,g.Z)(this,"svgContent",void 0),(0,g.Z)(this,"viewBox",void 0),(0,g.Z)(this,"height","10px"),(0,g.Z)(this,"width","10px"),(0,g.Z)(this,"svg",new it.X("")),this.changeDetector=X}ngAfterViewInit(){this.svg.subscribe(X=>{this.renderMarkerSvg(X)})}ngOnChanges(X){(X.marker||X.color)&&(X.color&&this.marker.setColor(this.color),this.marker&&this.marker.getSvg&&b()(this.marker.getSvg)&&this.svg.next(this.marker.getSvg()))}ngOnDestroy(){this.svg.complete()}renderMarkerSvg(X){const H=this.svgContent.nativeElement,K=`<line x1="-10" y1="0" x2="10" y2="0" style="stroke:${this.color};stroke-width:2" />`;H.innerHTML="",this.drawLine&&H.insertAdjacentHTML("beforeend",K),H.insertAdjacentHTML("beforeend",X),setTimeout(()=>{const _=H.getBBox();this.viewBox=`${_.x-3} ${_.y-3} ${_.width+6} ${_.height+6}`,this.width=Math.min(_.width+6,this.maxSize)+"px",this.height=Math.min(_.height+6,this.maxSize)+"px",this.changeDetector.markForCheck()})}}return(0,g.Z)(A,"\u0275fac",function(X){return new(X||A)(o.Y36(o.sBO))}),(0,g.Z)(A,"\u0275cmp",o.Xpm({type:A,selectors:[["nui-chart-marker"]],viewQuery:function(X,H){if(1&X&&o.Gf(z,5),2&X){let K;o.iGM(K=o.CRH())&&(H.svgContent=K.first)}},inputs:{marker:"marker",drawLine:"drawLine",color:"color",maxSize:"maxSize"},features:[o.TTD],decls:3,vars:3,consts:[["svgContent",""]],template:function(X,H){1&X&&(o.O4$(),o.TgZ(0,"svg"),o._UZ(1,"g",null,0),o.qZA()),2&X&&o.uIk("width",H.width)("height",H.height)("viewBox",H.viewBox)},styles:["[_nghost-%COMP%]{font-size:0}"]})),A})()},62845:(It,ft,a)=>{"use strict";a.d(ft,{D:()=>H});var g=a(37691),v=a(94650),b=a(77579),it=a(82722),o=a(94611),J=(a(6577),a(36895));function D(K,_){1&K&&v.GkF(0)}const A=function(K){return{dataPoints:K}};function Z(K,_){if(1&K&&v.YNc(0,D,1,0,"ng-container",3),2&K){const R=v.oxw(2);v.Q6J("ngTemplateOutlet",R.template)("ngTemplateOutletContext",v.VKq(2,A,R.plugin.dataPoints))}}function X(K,_){if(1&K&&(v.TgZ(0,"div"),v._UZ(1,"nui-popover",1),v.YNc(2,Z,1,4,"ng-template",null,2,v.W1O),v.qZA()),2&K){const R=v.MAs(3),N=v.oxw();v.xp6(1),v.Udp("height",N.plugin.popoverTargetPosition.height,"px"),v.Q6J("unlimited",!0)("template",R)("openPopover",N.plugin.openPopoverSubject)("closePopover",N.plugin.closePopoverSubject)("hasPadding",!1)("container",N.element.nativeElement)("withGrowAfterOpen",!0)}}let H=(()=>{class K{constructor(R,N){(0,g.Z)(this,"changeDetector",void 0),(0,g.Z)(this,"element",void 0),(0,g.Z)(this,"plugin",void 0),(0,g.Z)(this,"template",void 0),(0,g.Z)(this,"update",new v.vpe),(0,g.Z)(this,"popover",void 0),(0,g.Z)(this,"destroy$",new b.x),(0,g.Z)(this,"initPlugin$",new b.x),this.changeDetector=R,this.element=N}ngOnChanges(R){R.plugin&&!R.plugin.isFirstChange()&&this.initPlugin()}ngOnInit(){this.initPlugin()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.initPlugin$.complete()}initPlugin(){this.initPlugin$.next(),this.plugin?.openPopoverSubject.pipe((0,it.R)(this.initPlugin$),(0,it.R)(this.destroy$)).subscribe(()=>{this.changeDetector.markForCheck()}),this.plugin?.updatePositionSubject.pipe((0,it.R)(this.initPlugin$),(0,it.R)(this.destroy$)).subscribe(R=>{this.popover?.resetSize(),this.element.nativeElement.style.left=R.left+R.width/2+"px",this.element.nativeElement.style.top=R.top+"px",this.popover?.updatePosition(),this.update.next(this.plugin?.dataPoints)})}}return(0,g.Z)(K,"\u0275fac",function(R){return new(R||K)(v.Y36(v.sBO),v.Y36(v.SBq))}),(0,g.Z)(K,"\u0275cmp",v.Xpm({type:K,selectors:[["nui-chart-popover"]],viewQuery:function(R,N){if(1&R&&v.Gf(o.U$R,5),2&R){let Y;v.iGM(Y=v.CRH())&&(N.popover=Y.first)}},inputs:{plugin:"plugin",template:"template"},outputs:{update:"update"},features:[v.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["trigger","openPopoverSubject","placement","top",1,"chart-popover__popover",3,"unlimited","template","openPopover","closePopover","hasPadding","container","withGrowAfterOpen"],["popoverTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(R,N){1&R&&v.YNc(0,X,4,9,"div",0),2&R&&v.Q6J("ngIf",N.plugin&&N.plugin.dataPoints)},dependencies:[J.O5,J.tP,o.U$R],styles:["[_nghost-%COMP%]{position:absolute}.chart-popover__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]})),K})()},55593:(It,ft,a)=>{"use strict";a.d(ft,{K:()=>bt});var g=a(37691),v=a(56859),b=a(35474),it=a.n(b),o=a(64509),z=a.n(o),J=a(33816),D=a.n(J),A=a(77579),Z=a(82722),H=(a(3455),a(84080)),K=a(37340),_=a(94650),R=a(36895);function N(Q,ot){1&Q&&_.GkF(0)}let Y=(()=>{class Q{constructor(){(0,g.Z)(this,"template",void 0)}}return(0,g.Z)(Q,"\u0275fac",function(Nt){return new(Nt||Q)}),(0,g.Z)(Q,"\u0275cmp",_.Xpm({type:Q,selectors:[["nui-chart-tooltip"]],inputs:{template:"template"},decls:3,vars:2,consts:[[1,"nui-chart-tooltip","px-2","py-1","nui-text-small"],[4,"ngTemplateOutlet"]],template:function(Nt,Ht){1&Nt&&(_.TgZ(0,"div")(1,"div",0),_.YNc(2,N,1,0,"ng-container",1),_.qZA()()),2&Nt&&(_.xp6(1),_.Q6J("@tooltip",void 0),_.xp6(1),_.Q6J("ngTemplateOutlet",Ht.template))},dependencies:[R.tP],styles:["[_nghost-%COMP%]{display:block;pointer-events:none}.nui-chart-tooltip[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-inverse,#111);color:var(--nui-color-text-inverse,#fff);line-height:normal}"],data:{animation:[(0,K.X$)("tooltip",[(0,K.eR)(":enter",[(0,K.oB)({opacity:0}),(0,K.jt)(300,(0,K.oB)({opacity:1}))]),(0,K.eR)(":leave",[(0,K.jt)(300,(0,K.oB)({opacity:0}))])])]},changeDetection:0})),Q})();var dt=a(98184);let k=(()=>{class Q{constructor(Nt,Ht,Gt,se){(0,g.Z)(this,"overlay",void 0),(0,g.Z)(this,"overlayPositionBuilder",void 0),(0,g.Z)(this,"scrollStrategyOptions",void 0),(0,g.Z)(this,"elementRef",void 0),(0,g.Z)(this,"template",void 0),(0,g.Z)(this,"openRemoteControl",void 0),(0,g.Z)(this,"closeRemoteControl",void 0),(0,g.Z)(this,"positions",void 0),(0,g.Z)(this,"overlayRef",void 0),(0,g.Z)(this,"openSubscription",void 0),(0,g.Z)(this,"closeSubscription",void 0),(0,g.Z)(this,"positionStrategy",void 0),this.overlay=Nt,this.overlayPositionBuilder=Ht,this.scrollStrategyOptions=Gt,this.elementRef=se}ngOnInit(){this.positionStrategy=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions(this.positions).withFlexibleDimensions(!1).withPush(!0),this.overlayRef=this.overlay.create({panelClass:"nui-chart-tooltip-pane",positionStrategy:this.positionStrategy,scrollStrategy:this.scrollStrategyOptions.close()}),this.openRemoteControl&&(this.openSubscription=this.openRemoteControl.subscribe(()=>{this.show()})),this.closeRemoteControl&&(this.closeSubscription=this.closeRemoteControl.subscribe(()=>{this.hide()}))}show(){this.overlayRef.hasAttached()?this.positionStrategy.apply():this.overlayRef.attach(new H.C5(Y)).instance.template=this.template}hide(){this.overlayRef.detach()}ngOnDestroy(){this.hide(),this.openSubscription&&this.openSubscription.unsubscribe(),this.closeSubscription&&this.closeSubscription.unsubscribe()}getOverlayElement(){return this.overlayRef.overlayElement}}return(0,g.Z)(Q,"\u0275fac",function(Nt){return new(Nt||Q)(_.Y36(dt.aV),_.Y36(dt.wJ),_.Y36(dt.uw),_.Y36(_.SBq))}),(0,g.Z)(Q,"\u0275dir",_.lG2({type:Q,selectors:[["","nuiChartTooltip",""]],inputs:{template:"template",openRemoteControl:"openRemoteControl",closeRemoteControl:"closeRemoteControl",positions:"positions"}})),Q})();function ht(Q,ot){1&Q&&_.GkF(0)}const U=function(Q){return{dataPoint:Q}};function At(Q,ot){if(1&Q&&_.YNc(0,ht,1,0,"ng-container",4),2&Q){const Nt=_.oxw().$implicit,Ht=_.oxw(2);_.Q6J("ngTemplateOutlet",Ht.template)("ngTemplateOutletContext",_.VKq(2,U,Nt.value))}}function rt(Q,ot){if(1&Q&&_._UZ(0,"div",5),2&Q){const Nt=_.oxw().$implicit,Ht=_.MAs(2),Gt=_.oxw(2);_.Udp("left",Gt.plugin.dataPointPositions[Nt.key].x,"px")("top",Gt.plugin.dataPointPositions[Nt.key].y,"px")("height",Gt.plugin.dataPointPositions[Nt.key].height,"px")("width",Gt.plugin.dataPointPositions[Nt.key].width,"px"),_.Q6J("template",Ht)("openRemoteControl",Gt.openTooltips)("closeRemoteControl",Gt.closeTooltips)("positions",Gt.plugin.dataPointPositions[Nt.key].overlayPositions),_.uIk("series-id",Nt.key)}}function xt(Q,ot){if(1&Q&&(_.TgZ(0,"div"),_.YNc(1,At,1,4,"ng-template",null,2,_.W1O),_.YNc(3,rt,1,13,"div",3),_.qZA()),2&Q){const Nt=ot.$implicit,Ht=_.oxw(2);_.xp6(3),_.Q6J("ngIf",Ht.plugin.dataPointPositions[Nt.key])}}function Et(Q,ot){if(1&Q&&(_.TgZ(0,"div"),_.YNc(1,xt,4,1,"div",1),_.ALo(2,"keyvalue"),_.qZA()),2&Q){const Nt=_.oxw();_.xp6(1),_.Q6J("ngForOf",_.lcZ(2,2,Nt.plugin.dataPoints))("ngForTrackBy",Nt.trackByFn)}}let bt=(()=>{class Q{constructor(Nt){(0,g.Z)(this,"changeDetector",void 0),(0,g.Z)(this,"plugin",void 0),(0,g.Z)(this,"template",void 0),(0,g.Z)(this,"tooltips",void 0),(0,g.Z)(this,"openTooltips",new A.x),(0,g.Z)(this,"closeTooltips",new A.x),(0,g.Z)(this,"unsubscribe$",new A.x),(0,g.Z)(this,"simulation",void 0),(0,g.Z)(this,"tooltipDirectivesIndex",{}),(0,g.Z)(this,"closePending",!1),(0,g.Z)(this,"isOpen",!1),(0,g.Z)(this,"openTimeout",void 0),(0,g.Z)(this,"collisionTimeout",void 0),(0,g.Z)(this,"closeTimeout",void 0),this.changeDetector=Nt}ngOnChanges(Nt){Nt.plugin&&Nt.plugin.currentValue&&(this.unsubscribe$.next(),this.plugin.showSubject.pipe((0,Z.R)(this.unsubscribe$)).subscribe(()=>this.handleOpen()),this.plugin.hideSubject.pipe((0,Z.R)(this.unsubscribe$)).subscribe(()=>this.handleClose()))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}trackByFn(Nt,Ht){return Ht.value.seriesId}handleOpen(){this.changeDetector.detectChanges();const Nt={};this.tooltips.forEach(Gt=>{const se=Gt.elementRef.nativeElement.getAttribute("series-id")??void 0;if(!se)throw new Error("SeriesId is not defined");Nt[se]=Gt});const Ht=!z()(Nt,this.tooltipDirectivesIndex);this.closePending||Ht||!this.isOpen?(clearTimeout(this.openTimeout),this.openTimeout=window.setTimeout(()=>{this.openTooltips.next(),clearTimeout(this.collisionTimeout),this.collisionTimeout=window.setTimeout(()=>{this.avoidTooltipCollisions(),this.isOpen=!0})})):(this.openTooltips.next(),this.avoidTooltipCollisions(),this.isOpen=!0)}handleClose(){this.simulation&&this.simulation.stop(),this.closePending=!0,clearTimeout(this.closeTimeout),this.closeTimeout=window.setTimeout(()=>{this.closeTooltips.next(),this.closePending=!1,this.isOpen=!1})}avoidTooltipCollisions(){const Nt={};this.tooltips.forEach(Ht=>{const Gt=Ht.getOverlayElement(),se=Ht.elementRef.nativeElement.getAttribute("series-id")??void 0;if(!se)throw new Error("SeriesId is not defined");this.tooltipDirectivesIndex[se]=Ht,Nt[se]={x:Gt.offsetLeft,y:Gt.offsetTop,width:Gt.clientWidth,height:Gt.clientHeight}}),this.simulation&&this.simulation.stop(),this.simulation=this.startSimulation(this.tooltipDirectivesIndex,Nt)}startSimulation(Nt,Ht){const Gt=Object.keys(Ht).map(st=>{const pt=Ht[st];if(D()(pt.height)||D()(pt.width))throw new Error("Position height or width are not defined");const Ft={seriesId:st,x:pt.x,y:pt.y,radius:this.isVertical()?pt.height/2:pt.width/2};return this.isVertical()?Ft.fx=pt.x:Ft.fy=pt.y,Ft}),se=(0,v.Hh)(st=>st.radius).strength(.5).iterations(20),ke=(0,v.A4v)(Gt).alphaDecay(.3).force("collisionForce",se);return ke.on("tick",()=>{it()(Gt,st=>{(0,v.Ys)(Nt[st.seriesId].getOverlayElement()).style(this.isVertical()?"top":"left",(this.isVertical()?st.y:st.x)+"px")})}),ke}isVertical(){return"right"===this.plugin.orientation}}return(0,g.Z)(Q,"\u0275fac",function(Nt){return new(Nt||Q)(_.Y36(_.sBO))}),(0,g.Z)(Q,"\u0275cmp",_.Xpm({type:Q,selectors:[["nui-chart-tooltips"]],viewQuery:function(Nt,Ht){if(1&Nt&&_.Gf(k,5),2&Nt){let Gt;_.iGM(Gt=_.CRH())&&(Ht.tooltips=Gt)}},inputs:{plugin:"plugin",template:"template"},features:[_.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["tooltipTemplate",""],["nuiChartTooltip","","class","chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions","left","top","height","width",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nuiChartTooltip","",1,"chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions"]],template:function(Nt,Ht){1&Nt&&_.YNc(0,Et,3,4,"div",0),2&Nt&&_.Q6J("ngIf",Ht.plugin&&Ht.plugin.dataPoints)},dependencies:[R.sg,R.O5,R.tP,k,R.Nd],styles:[".chart-tooltips__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]})),Q})()},13458:(It,ft,a)=>{"use strict";a.d(ft,{x:()=>z});var g=a(37691),v=a(94650),b=a(20406),it=a.n(b),o=a(26271);let z=(()=>{class J{constructor(A,Z,X){(0,g.Z)(this,"elRef",void 0),(0,g.Z)(this,"ngZone",void 0),(0,g.Z)(this,"cd",void 0),(0,g.Z)(this,"chart",void 0),(0,g.Z)(this,"resizeObserver",void 0),(0,g.Z)(this,"resizeHandler",void 0),(0,g.Z)(this,"intersectionObserver",void 0),(0,g.Z)(this,"redraw",()=>{this.chart.updateDimensions(),this.cd.detectChanges()}),(0,g.Z)(this,"intersectionObserverCallback",H=>{const K={isChartInView:H[0].isIntersecting};this.chart.getEventBus().getStream(o._7).next({data:K})}),this.elRef=A,this.ngZone=Z,this.cd=X}ngOnInit(){this.intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback),this.intersectionObserver.observe(this.elRef.nativeElement)}ngOnChanges(A){if(A.chart){const Z=A.chart.previousValue;Z&&Z.destroy(),this.chart&&(this.chart.build(this.elRef.nativeElement),this.redraw())}}ngAfterContentInit(){this.chart.getEventBus().getStream(o._5).subscribe(()=>{this.chart.updateDimensions()})}ngAfterViewInit(){this.resizeHandler=it()(()=>this.redraw(),10),this.resizeObserver=new ResizeObserver(()=>{this.ngZone.run(()=>this.resizeHandler())}),this.ngZone.runOutsideAngular(()=>this.resizeObserver?.observe(this.elRef.nativeElement))}ngOnDestroy(){this.intersectionObserver?.unobserve(this.elRef.nativeElement),this.resizeObserver?.unobserve(this.elRef.nativeElement),this.chart?.destroy()}}return(0,g.Z)(J,"\u0275fac",function(A){return new(A||J)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(v.sBO))}),(0,g.Z)(J,"\u0275cmp",v.Xpm({type:J,selectors:[["nui-chart"]],inputs:{chart:"chart"},features:[v._Bn([{provide:o.BD,useExisting:(0,v.Gpc)(()=>J)}]),v.TTD],decls:0,vars:0,template:function(A,Z){},encapsulation:2})),J})()},26271:(It,ft,a)=>{"use strict";a.d(ft,{BD:()=>k,C1:()=>X,CC:()=>b,DP:()=>z,GJ:()=>Y,N:()=>it,N0:()=>rt,Qi:()=>Z,Rj:()=>J,TC:()=>A,Vg:()=>At,_5:()=>R,_7:()=>N,bd:()=>_,gA:()=>H,hZ:()=>U,hk:()=>o,mg:()=>dt,q7:()=>D,rz:()=>ht,wu:()=>K});var g=a(94650),v=a(42418);const b="mouse_active",it="interaction_values_active",o="interaction_values",z="interaction_coordinates",J="highlight_data_point",D="select_data_point",A="highlight_series",Z="interaction_series",X="interaction_data_points",H="interaction_data_point",K="destroy",_="set_domain",R="refresh",N="chart_view_status",Y="series_state_change",dt="axes_style_change",k=new g.OlP("chart_component"),ht={[v.n.background]:{name:v.n.background,order:0,clipped:!0},[v.n.data]:{name:v.n.data,order:50,clipped:!0},[v.n.unclippedData]:{name:v.n.unclippedData,order:51,clipped:!1},[v.n.foreground]:{name:v.n.foreground,order:1e3,clipped:!1}},U=-1,At=-2,rt="ignore-interaction"},47086:(It,ft,a)=>{"use strict";a.d(ft,{p:()=>Z});var g=a(37691),v=a(35474),b=a.n(v),it=a(58152),o=a.n(it),z=a(34235),J=a.n(z),D=a(26271),A=a(48641);class Z{constructor(){(0,g.Z)(this,"lastIndex",-1),(0,g.Z)(this,"events",[D.hk,D.DP,D.CC,D._5]),(0,g.Z)(this,"charts",{}),(0,g.Z)(this,"subscriptions",{}),(0,g.Z)(this,"eventBus",void 0)}addChart(H){const K=(++this.lastIndex).toString();this.charts[K]=H,this.eventBus||this.initializeEventBus(),b()(this.events,_=>{this.subscribe(K,H.getEventBus().getStream(_),R=>{R.broadcast||this.eventBus?.getStream(_).next({chartIndex:K,event:R})})}),this.subscribe(K,H.getEventBus().getStream(D.wu),_=>{this.removeChart(H),0===Object.keys(this.charts).length&&this.destroy()})}removeChart(H){const K=this.getChartKey(H);if(J()(K))throw new Error("Chart not registered!");this.unsubscribeChart(K),delete this.charts[K]}destroy(){this.eventBus?.destroy(),this.eventBus=void 0}initializeEventBus(){this.eventBus=new A.N;for(const H of this.events)this.eventBus.getStream(H).subscribe(K=>{for(const _ of Object.keys(this.charts))_!==K.chartIndex&&(K.event.broadcast=!0,this.charts[_].getEventBus().getStream(H).next(K.event))})}subscribe(H,K,_){const R=K.subscribe(_);let N=this.subscriptions[H];J()(N)&&(N=[],this.subscriptions[H]=N),N.push(R)}unsubscribeChart(H){b()(this.subscriptions[H],K=>{K.unsubscribe()}),delete this.subscriptions[H]}getChartKey(H){return o()(this.charts,K=>K===H)}}},92832:(It,ft,a)=>{"use strict";a.d(ft,{w:()=>v});var g=a(37691);class v{constructor(){(0,g.Z)(this,"chart",void 0)}initialize(){}update(){}updateDimensions(){}destroy(){}}},48641:(It,ft,a)=>{"use strict";a.d(ft,{N:()=>o});var g=a(37691),v=a(35474),b=a.n(v),it=a(77579);class o{constructor(){(0,g.Z)(this,"streams",{})}getStream(J){return this.streams[J]||(this.streams[J]=new it.x),this.streams[J]}destroy(){b()(Object.keys(this.streams),J=>{this.streams[J].complete()})}}},33414:(It,ft,a)=>{"use strict";a.d(ft,{T:()=>H});var g=a(37691),v=a(56859),b=a(69754),it=a.n(b),o=a(35474),z=a.n(o),J=a(8817),D=a.n(J),A=a(26271),Z=a(42418),X=a(14190);class H{constructor(_={}){(0,g.Z)(this,"config",void 0),(0,g.Z)(this,"interaction",{}),(0,g.Z)(this,"getContainerStateStyles",R=>{if(!this.config.stateStyles)throw new Error("stateStyles property is not defined");return this.config.stateStyles[R||Z.L.default]}),this.config=_,this.config=it()(this.config,H.DEFAULT_CONFIG)}getDataPointIndex(_,R,N){return A.hZ}highlightDataPoint(_,R,N){}setSeriesState(_,R){}setDataPointState(_,R){}getDomainOfFilteredData(_,R,N,Y){let dt=_.data;for(const k of Object.keys(R)){const ht=R[k];!ht.isDomainFixed||!ht.isContinuous()||(dt=this.filterDataByDomain(dt,_,k,ht.domain()))}return this.getDomain(dt,_,N,Y)}getDomain(_,R,N,Y){return _&&0!==_.length?(0,v.Wem)(_,(dt,k,ht)=>R.accessors.data?.[N]?.(dt,k,Array.from(ht),R)):X.iz}filterDataByDomain(_,R,N,Y){const dt=R.accessors.data?.[N];return _.filter((k,ht)=>{const U=dt(k,ht,_,R);return U>=Y[0]&&U<=Y[1]})}getRequiredLayers(){return[A.rz[Z.n.data]]}setupInteraction(_,R,N,Y,dt){const k=D()(this.interaction,_,{})[R];k&&z()(k,ht=>{N.on(R,()=>{const U=N.node().getBoundingClientRect();Y.next({eventName:ht,data:{...dt,position:U}})})})}}(0,g.Z)(H,"DEFAULT_CONFIG",{stateStyles:{[Z.L.default]:{opacity:1},[Z.L.hidden]:{opacity:0},[Z.L.deemphasized]:{opacity:.1},[Z.L.emphasized]:{opacity:1}}})},14190:(It,ft,a)=>{"use strict";a.d(ft,{Il:()=>o,_v:()=>b,iz:()=>g,oT:()=>it,rX:()=>v});const g=[0,0],v=[0,1];function b(z){return!!z.domainWithTicks}function it(z){return"function"==typeof z.bandwidth}function o(z){return typeof z.innerScale<"u"}},19711:(It,ft,a)=>{"use strict";a.d(ft,{s:()=>g});var g=(()=>{return(v=g||(g={})).Click="click",v.Hover="hover",v.MouseDown="mousedown",v.MouseEnter="mouseenter",v.MouseLeave="mouseleave",v.MouseMove="mousemove",v.MouseUp="mouseup",g;var v})()},33679:(It,ft,a)=>{"use strict";a.d(ft,{i:()=>J});var g=a(37691),v=a(34235),b=a.n(v),it=a(77579),o=a(56204),z=a(92832);class J extends z.w{constructor(...A){super(...A),(0,g.Z)(this,"contentPositionUpdateSubject",new it.x),(0,g.Z)(this,"contentPosition",{top:0,left:0,width:0,height:0})}updateDimensions(){const A=this.chart.getDataManager().chartSeriesSet.reduce((Z,X)=>X.renderer instanceof o.E&&!b()(Z)?Math.min(Z,X.renderer.getInnerRadius(X.scales.r.range(),X.data.length-1)):Z,1/0);if(b()(A))throw new Error("Radius is undefined");this.contentPosition=this.getContentPosition(A),this.contentPositionUpdateSubject.next(this.contentPosition)}destroy(){this.contentPositionUpdateSubject.complete()}getContentPosition(A){const Z=[this.chart.getGrid().config().dimension.outerHeight()/2,this.chart.getGrid().config().dimension.outerWidth()/2];return{top:Z[0]-A/Math.sqrt(2),left:Z[1]-A/Math.sqrt(2),width:A*Math.sqrt(2),height:A*Math.sqrt(2)}}}},6577:(It,ft,a)=>{"use strict";a.d(ft,{i:()=>K});var g=a(37691),v=a(69754),b=a.n(v),it=a(38322),o=a.n(it),z=a(90377),J=a.n(z),D=a(77579),A=a(82722),Z=a(26271),X=a(92832),H=a(19711);class K extends X.w{constructor(R={}){super(),(0,g.Z)(this,"config",void 0),(0,g.Z)(this,"dataPoints",void 0),(0,g.Z)(this,"updatePositionSubject",new D.x),(0,g.Z)(this,"openPopoverSubject",new D.x),(0,g.Z)(this,"closePopoverSubject",new D.x),(0,g.Z)(this,"popoverTargetPosition",{top:0,left:0,width:0,height:0}),(0,g.Z)(this,"DEFAULT_CONFIG",{eventStreamId:Z.C1,interactionType:H.s.MouseMove}),(0,g.Z)(this,"isOpen",!1),(0,g.Z)(this,"destroy$",new D.x),this.config=R,this.config=b()(this.config,this.DEFAULT_CONFIG)}initialize(){this.chart.getEventBus().getStream(this.config.eventStreamId).pipe((0,A.R)(this.destroy$)).subscribe(R=>{R.data.interactionType===this.config.interactionType&&this.processDataPoints(R.data.dataPoints??{[R.data.dataPoint.seriesId]:R.data.dataPoint})})}destroy(){this.updatePositionSubject&&this.updatePositionSubject.complete(),this.openPopoverSubject&&this.openPopoverSubject.complete(),this.closePopoverSubject&&this.closePopoverSubject.complete(),this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}getAbsolutePosition(R){const N=this.chart.target?.node()?.parentNode;if(!N)throw new Error("Chart parent node is not defined");const Y=Math.min(...R.map(ht=>ht.position.x)),dt=N.offsetLeft+this.chart.getGrid().config().dimension.margin.left+Y;return{top:N.offsetTop+this.chart.getGrid().config().dimension.margin.top,left:dt,height:N.offsetHeight,width:Math.max(...R.map(ht=>ht.position.x+(ht.position.width||0)))-Y}}processDataPoints(R){const N=o()(R,dt=>dt.index>=0&&dt.position),Y=J()(N);Y.length>0?(this.popoverTargetPosition=this.getAbsolutePosition(Y),this.dataPoints=N,setTimeout(()=>{this.updatePositionSubject.next(this.popoverTargetPosition),this.isOpen||(this.isOpen=!0,this.openPopoverSubject.next())})):setTimeout(()=>{this.closePopoverSubject.next(),this.isOpen=!1})}}},3455:(It,ft,a)=>{"use strict";a.d(ft,{n7:()=>Y});var g=a(37691),v=a(35474),b=a.n(v),it=a(38322),o=a.n(it),z=a(90377),J=a.n(z),D=a(77579),A=a(82722),Z=a(26271),X=a(42418),H=a(92832),K=a(19711);class Y extends H.w{constructor(k=10,ht="right"){var dt;super(),(0,g.Z)(this,"tooltipPositionOffset",void 0),(0,g.Z)(this,"orientation",void 0),(0,g.Z)(this,"dataPoints",void 0),(0,g.Z)(this,"dataPointPositions",{}),(0,g.Z)(this,"showSubject",new D.x),(0,g.Z)(this,"hideSubject",new D.x),(0,g.Z)(this,"overlaySetup",void 0),(0,g.Z)(this,"isChartInView",!1),(0,g.Z)(this,"destroy$",new D.x),(0,g.Z)(this,"seriesVisibilityMap",{}),this.tooltipPositionOffset=k,this.orientation=ht,"right"===ht?this.overlaySetup=[{originX:"end",originY:"top",overlayX:"start",overlayY:"center",offsetX:dt=k},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-dt}]:"top"===ht&&(this.overlaySetup=(dt=>[{originX:"end",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-dt},{originX:"end",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:dt}])(k))}initialize(){this.chart.getEventBus().getStream(Z.C1).pipe((0,A.R)(this.destroy$)).subscribe(k=>{k.data.interactionType===K.s.MouseMove&&this.isChartInView&&this.processHighlightedDataPoints(k.data.dataPoints)}),this.chart.getEventBus().getStream(Z.GJ).pipe((0,A.R)(this.destroy$)).subscribe(k=>{k.data.forEach(ht=>{this.seriesVisibilityMap[ht.seriesId]=ht.state!==X.L.hidden})}),this.chart.getEventBus().getStream(Z._7).pipe((0,A.R)(this.destroy$)).subscribe(k=>{this.isChartInView=k.data.isChartInView,this.isChartInView||this.hideSubject.next()})}destroy(){this.destroy$.next(),this.destroy$.complete()}processHighlightedDataPoints(k){const ht=o()(k,Et=>Et.index>=0&&Et.position&&!1!==this.seriesVisibilityMap[Et.seriesId]);if(0===J()(ht).length)return void this.hideSubject.next();this.dataPoints=ht;const U=this.chart.target?.node()?.parentNode;if(!U)throw new Error("Chart parent node is not defined");const At=U.getBoundingClientRect(),rt=U.offsetParent.getBoundingClientRect(),xt={x:At.left-rt.left,y:At.top-rt.top};b()(Object.keys(this.dataPoints),Et=>{const bt=this.dataPoints[Et],Q=this.chart.getDataManager().getChartSeries(bt.seriesId),ot=this.getTooltipPosition(bt,Q);this.dataPointPositions[Et]=this.getAbsolutePosition(ot,xt)}),this.showSubject.next()}getTooltipPosition(k,ht){if(!k.position)throw new Error("Unable to get tooltip position");return{x:k.position.x,y:k.position.y,height:k.position?.height||1,width:k.position?.width||1,overlayPositions:this.overlaySetup}}getAbsolutePosition(k,ht){return Object.assign({},k,{x:ht.x+this.chart.getGrid().config().dimension.margin.left+k.x,y:ht.y+this.chart.getGrid().config().dimension.margin.top+k.y})}}},83063:(It,ft,a)=>{"use strict";a.d(ft,{k:()=>dt});var g=a(37691),v=a(94650),b=a(71973),it=a.n(b),o=a(42418),z=a(85256),J=a(46743),D=a(36895);const A=["projectedDescription"];function Z(k,ht){if(1&k&&(v.TgZ(0,"div",12),v._uU(1),v.qZA()),2&k){const U=v.oxw(2);v.Q6J("title",U.descriptionPrimary),v.xp6(1),v.hij(" ",U.descriptionPrimary," ")}}function X(k,ht){if(1&k&&(v.TgZ(0,"div",13),v._uU(1),v.qZA()),2&k){const U=v.oxw(2);v.Q6J("title",U.descriptionSecondary),v.xp6(1),v.hij(" ",U.descriptionSecondary," ")}}function H(k,ht){if(1&k&&(v.TgZ(0,"div",9),v.YNc(1,Z,2,2,"div",10),v.YNc(2,X,2,2,"div",11),v.qZA()),2&k){const U=v.oxw();v.xp6(1),v.Q6J("ngIf",!!U.descriptionPrimary),v.xp6(1),v.Q6J("ngIf",!!U.descriptionSecondary)}}function K(k,ht){1&k&&(v.TgZ(0,"div",14,15),v.Hsn(2,2),v.qZA())}const _=["*",[["","legendMenu",""]],[["","description",""]]],R=function(k){return[k]},N=["*","[legendMenu]","[description]"];let dt=(()=>{class k{set active(U){this._active=U}set interactive(U){this._interactive=U}get interactive(){return this._interactive}set seriesRenderState(U){this._seriesRenderState=U}get seriesRenderState(){return this._seriesRenderState||o.L.default}get isInteractiveClassApplied(){return this._interactive}get isActiveClassApplied(){return this._active&&this.seriesRenderState!==o.L.hidden}constructor(U){(0,g.Z)(this,"legend",void 0),(0,g.Z)(this,"isSelected",!0),(0,g.Z)(this,"isSelectedChange",new v.vpe),(0,g.Z)(this,"descriptionPrimary",void 0),(0,g.Z)(this,"descriptionSecondary",void 0),(0,g.Z)(this,"icon",void 0),(0,g.Z)(this,"color",void 0),(0,g.Z)(this,"projectedDescription",void 0),(0,g.Z)(this,"isHorizontalClassApplied",!1),(0,g.Z)(this,"_seriesRenderState",void 0),(0,g.Z)(this,"_active",!1),(0,g.Z)(this,"_interactive",void 0),this.legend=U}ngAfterContentInit(){this.legend&&(this.legend.activeChanged.subscribe(U=>this._active=U),this.icon=this.icon||this.legend.seriesIcon,this._active=this.legend.active,this.interactive=this.interactive??this.legend.interactive,this.isHorizontalClassApplied=this.legend.orientation===z.I.horizontal)}onClick(){this.interactive&&this.isSelectedChange.next(!this.isSelected)}hasInputDescription(){return!it()(this.descriptionPrimary)||!it()(this.descriptionSecondary)}hasProjectedDescription(){return!!this.projectedDescription&&0!==this.projectedDescription.nativeElement.children.length}}return(0,g.Z)(k,"\u0275fac",function(U){return new(U||k)(v.Y36(J.F,9))}),(0,g.Z)(k,"\u0275cmp",v.Xpm({type:k,selectors:[["nui-legend-series"]],viewQuery:function(U,At){if(1&U&&v.Gf(A,5),2&U){let rt;v.iGM(rt=v.CRH())&&(At.projectedDescription=rt.first)}},hostAttrs:[1,"nui-legend-series"],hostVars:6,hostBindings:function(U,At){1&U&&v.NdJ("click",function(){return At.onClick()}),2&U&&v.ekj("nui-legend-series--interactive",At.isInteractiveClassApplied)("nui-legend-series--horizontal",At.isHorizontalClassApplied)("inverse",At.isActiveClassApplied)},inputs:{active:"active",interactive:"interactive",isSelected:"isSelected",descriptionPrimary:"descriptionPrimary",descriptionSecondary:"descriptionSecondary",icon:"icon",color:"color",seriesRenderState:"seriesRenderState"},outputs:{isSelectedChange:"isSelectedChange"},ngContentSelectors:N,decls:12,vars:9,consts:[[1,"d-flex",3,"ngClass"],[1,"nui-legend-series__tile-wrapper"],[1,"nui-legend-series__tile"],[1,"nui-legend-series__checkbox-wrapper"],[1,"nui-legend-series__checkbox-mark"],[1,"nui-legend-series__checkbox-glyph"],["class","description-container nui-text-small d-flex flex-column justify-content-center",4,"ngIf","ngIfElse"],[1,"legend-menu"],["descriptionTemplate",""],[1,"description-container","nui-text-small","d-flex","flex-column","justify-content-center"],["class","description description-primary",3,"title",4,"ngIf"],["class","description description-secondary",3,"title",4,"ngIf"],[1,"description","description-primary",3,"title"],[1,"description","description-secondary",3,"title"],[1,"d-flex"],["projectedDescription",""]],template:function(U,At){if(1&U&&(v.F$t(_),v.TgZ(0,"div",0)(1,"div",1)(2,"div",2),v.Hsn(3),v.qZA(),v.TgZ(4,"div",3)(5,"div",4),v._UZ(6,"i",5),v.qZA()()(),v.YNc(7,H,3,2,"div",6),v.TgZ(8,"div",7),v.Hsn(9,1),v.qZA()(),v.YNc(10,K,3,0,"ng-template",null,8,v.W1O)),2&U){const rt=v.MAs(11);v.ekj("nui-legend-series--deselected",!At.isSelected),v.Q6J("ngClass",v.VKq(7,R,"nui-legend-series--state-"+At.seriesRenderState)),v.xp6(4),v.ekj("nui-legend-series__checkbox--checked",At.isSelected),v.xp6(3),v.Q6J("ngIf",At.hasInputDescription())("ngIfElse",rt)}},dependencies:[D.mk,D.O5],encapsulation:2,changeDetection:0})),k})()},87373:(It,ft,a)=>{"use strict";a.d(ft,{w:()=>R});var g=a(37691),v=a(33816),b=a.n(v),it=a(83063),o=a(94650),z=a(46743),J=a(36895);function D(N,Y){if(1&N&&(o.TgZ(0,"div",10),o._uU(1),o.qZA()),2&N){const dt=o.oxw();o.xp6(1),o.hij(" ",dt.value," ")}}function A(N,Y){if(1&N&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&N){const dt=o.oxw();o.xp6(1),o.hij(" ",dt.unitLabel," ")}}function Z(N,Y){1&N&&o.Hsn(0,3)}function X(N,Y){1&N&&o.Hsn(0,4)}const H=["*",[["","leftEdge",""]],[["","rightEdge",""]],[["","top",""]],[["","bottom",""]]],K=function(N){return{"background-color":N}},_=["*","[leftEdge]","[rightEdge]","[top]","[bottom]"];let R=(()=>{class N{constructor(dt,k,ht){(0,g.Z)(this,"legendSeries",void 0),(0,g.Z)(this,"legend",void 0),(0,g.Z)(this,"changeDetector",void 0),(0,g.Z)(this,"unitLabel",void 0),(0,g.Z)(this,"value",void 0),(0,g.Z)(this,"backgroundColor",void 0),(0,g.Z)(this,"color",void 0),(0,g.Z)(this,"seriesHasAdditionalContent",void 0),this.legendSeries=dt,this.legend=k,this.changeDetector=ht}ngAfterContentInit(){this.legend&&(this.unitLabel=this.unitLabel||this.legend.seriesUnitLabel,this.backgroundColor=this.backgroundColor||this.legend.seriesColor||"white")}ngAfterViewInit(){this.legendSeries&&(this.seriesHasAdditionalContent=this.legendSeries.hasInputDescription()||this.legendSeries.hasProjectedDescription(),this.changeDetector.detectChanges())}hasInputValue(){return!b()(this.value)}hasInputUnitLabel(){return!b()(this.unitLabel)}}return(0,g.Z)(N,"\u0275fac",function(dt){return new(dt||N)(o.Y36(it.k,1),o.Y36(z.F,9),o.Y36(o.sBO))}),(0,g.Z)(N,"\u0275cmp",o.Xpm({type:N,selectors:[["nui-rich-legend-tile"]],inputs:{unitLabel:"unitLabel",value:"value",backgroundColor:"backgroundColor",color:"color"},ngContentSelectors:_,decls:15,vars:13,consts:[[1,"nui-rich-legend-tile"],[1,"nui-rich-legend-tile__tilebox","d-flex","justify-content-center","align-items-end","flex-column",3,"ngStyle"],["class","nui-rich-legend-tile__tilebox-value nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],["class","nui-rich-legend-tile__tilebox-unit nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],[1,"nui-rich-legend-tile__icon"],["icon",""],[1,"nui-rich-legend-tile__point-marker"],["rightEdge",""],["projectedTopContent",""],["projectedBottomContent",""],[1,"nui-rich-legend-tile__tilebox-value","nui-rich-legend-tile__ellipsified"],[1,"nui-rich-legend-tile__tilebox-unit","nui-rich-legend-tile__ellipsified"]],template:function(dt,k){if(1&dt&&(o.F$t(H),o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,D,2,1,"div",2),o.YNc(3,A,2,1,"div",3),o.Hsn(4),o.qZA(),o.TgZ(5,"div",4,5),o.Hsn(7,1),o.qZA(),o.TgZ(8,"div",6,7),o.Hsn(10,2),o.qZA()(),o.YNc(11,Z,1,0,"ng-template",null,8,o.W1O),o.YNc(13,X,1,0,"ng-template",null,9,o.W1O)),2&dt){const ht=o.MAs(9),U=o.MAs(12),At=o.MAs(14);o.ekj("nui-rich-legend-tile--has-point-marker",ht.children.length>0)("nui-rich-legend-tile--series-has-additional-content",k.seriesHasAdditionalContent),o.xp6(1),o.Udp("color",k.color),o.Q6J("ngStyle",o.VKq(11,K,k.backgroundColor)),o.xp6(1),o.Q6J("ngIf",k.hasInputValue())("ngIfElse",U),o.xp6(1),o.Q6J("ngIf",k.hasInputUnitLabel())("ngIfElse",At)}},dependencies:[J.O5,J.PC],styles:[".nui-rich-legend-tile[_ngcontent-%COMP%]{position:relative;width:60px;height:100%;line-height:18px}.nui-rich-legend-tile[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:empty{display:none}.nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px;background-color:var(--nui-color-bg-light,#fff)}.nui-rich-legend-tile__ellipsified[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]{text-align:right;font-weight:600}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]:not(:last-child){margin-bottom:-3px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]{text-align:right;font-size:11px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]:not(:first-child){margin-top:-3px}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%], .nui-rich-legend-tile__icon[_ngcontent-%COMP%]{position:absolute;line-height:0;top:50%;pointer-events:none}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.nui-rich-legend-tile__icon[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}.nui-rich-legend-tile--has-point-marker.nui-rich-legend-tile--series-has-additional-content[_ngcontent-%COMP%]{margin-right:5px}.nui-rich-legend-tile--has-point-marker[_ngcontent-%COMP%]   .nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{padding-right:7px}"]})),N})()},46743:(It,ft,a)=>{"use strict";a.d(ft,{F:()=>o});var g=a(37691),v=a(94650),b=a(85256);const it=["*"];let o=(()=>{class z{constructor(){(0,g.Z)(this,"activeChanged",new v.vpe),(0,g.Z)(this,"active",!1),(0,g.Z)(this,"interactive",!1),(0,g.Z)(this,"orientation",b.I.vertical),(0,g.Z)(this,"seriesColor",void 0),(0,g.Z)(this,"seriesIcon",void 0),(0,g.Z)(this,"seriesUnitLabel",void 0)}ngOnChanges(D){D.active&&this.activeChanged.emit(this.active)}ngOnDestroy(){this.activeChanged.complete()}}return(0,g.Z)(z,"\u0275fac",function(D){return new(D||z)}),(0,g.Z)(z,"\u0275cmp",v.Xpm({type:z,selectors:[["nui-legend"]],hostAttrs:[1,"d-inline-block"],inputs:{active:"active",interactive:"interactive",orientation:"orientation",seriesColor:"seriesColor",seriesIcon:"seriesIcon",seriesUnitLabel:"seriesUnitLabel"},features:[v.TTD],ngContentSelectors:it,decls:2,vars:2,consts:[[1,"nui-legend","d-flex","flex-wrap"]],template:function(D,A){1&D&&(v.F$t(),v.TgZ(0,"div",0),v.Hsn(1),v.qZA()),2&D&&v.ekj("flex-column","vertical"===A.orientation)},encapsulation:2})),z})()},85256:(It,ft,a)=>{"use strict";a.d(ft,{I:()=>g});var g=(()=>{return(v=g||(g={})).vertical="vertical",v.horizontal="horizontal",g;var v})()},73177:(It,ft,a)=>{"use strict";a.d(ft,{mgU:()=>ct.mg,EYF:()=>cn,QtU:()=>jr,jS7:()=>Qt,TVc:()=>Hn,Pkp:()=>$e,U$N:()=>zn,Z7w:()=>pi,TrQ:()=>Ut,mEc:()=>si,cEY:()=>pr,gyj:()=>F,WSY:()=>an,cpE:()=>Jt,qo6:()=>fe,Sj$:()=>ze,_7T:()=>ct._7,kL2:()=>tr,doR:()=>f,xH4:()=>Ti.x,iM:()=>Bn.i,syg:()=>Un,i4F:()=>Yn.i,n7o:()=>Se.n7,Vg0:()=>ct.Vg,hZk:()=>ct.hZ,GYO:()=>rr.G,nW9:()=>Mr,V8c:()=>gn,WYw:()=>r,GFe:()=>j,Rj$:()=>ct.Rj,TC6:()=>ct.TC,HVr:()=>ln,C1c:()=>ct.C1,gA9:()=>ct.gA,Qii:()=>ct.Qi,hkV:()=>ct.hk,$fK:()=>nn,koE:()=>Nn,s_5:()=>en.s,qxh:()=>Ri,Med:()=>Li,t31:()=>ai,DKr:()=>Tr,f$s:()=>et,CCM:()=>ct.CC,oki:()=>P,tCZ:()=>oi,bbc:()=>Fr,XqW:()=>Wr,eQn:()=>ri,$y4:()=>Zi,VXE:()=>T,bOg:()=>ti,Yu5:()=>Mt,UDz:()=>Er,lS:()=>Dr,QLC:()=>Vn,E8N:()=>rr.E,zv$:()=>Fi,nTW:()=>Pt.L,q7O:()=>ct.q7,GJE:()=>ct.GJ,bdF:()=>ct.bd,NVM:()=>Ke,jpW:()=>An,ruA:()=>Ur,ta5:()=>Je,G6f:()=>Fn,H38:()=>Ni,s1E:()=>on,FUO:()=>_i,Wki:()=>ci,yaz:()=>Ji,lTH:()=>ii,FBd:()=>Dn,tIi:()=>Te,a9F:()=>sr,Ofn:()=>ui,Be5:()=>fi,c_e:()=>W,CJs:()=>gi,Rbc:()=>ji,nuZ:()=>Yi,Q6e:()=>zr,skL:()=>Hr,CQI:()=>_r,qqc:()=>yn,OQi:()=>oe,Ks6:()=>_t,S2P:()=>Ce,_OB:()=>me,ruO:()=>Xe,fy$:()=>Cr,Y6Q:()=>Sr,GVi:()=>Pr,_N$:()=>kr,fjP:()=>Re,knu:()=>Br,aCj:()=>Jr,mIe:()=>is,HAP:()=>ts,kxS:()=>br,s_I:()=>Gn,M6V:()=>rs,fWz:()=>ss}),a(65804),a(55593),a(62845),a(76198);var o=a(37691),z=a(98184),J=a(73171),D=a(64747),A=a(52016);function Z(l,n){return l.each(function(){var t=n.apply(this,arguments),e=(0,A.Z)(this);for(var i in t)e.attr(i,t[i])})}function X(l,n){for(var t in n)l.attr(t,n[t]);return l}function K(l,n,t){return l.each(function(){var e=n.apply(this,arguments),i=(0,A.Z)(this);for(var s in e)i.style(s,e[s],t)})}function _(l,n,t){for(var e in n)l.style(e,n[e],t);return l}function N(l,n){return l.each(function(){var t=n.apply(this,arguments),e=(0,A.Z)(this);for(var i in t)e.property(i,t[i])})}function Y(l,n){for(var t in n)l.property(t,n[t]);return l}function k(l,n){return l.each(function(){var t=n.apply(this,arguments),e=(0,A.Z)(this).transition(l);for(var i in t)e.attr(i,t[i])})}function ht(l,n){for(var t in n)l.attr(t,n[t]);return l}function At(l,n,t){return l.each(function(){var e=n.apply(this,arguments),i=(0,A.Z)(this).transition(l);for(var s in e)i.style(s,e[s],t)})}function rt(l,n,t){for(var e in n)l.style(e,n[e],t);return l}J.ZP.prototype.attrs=function H(l){return("function"==typeof l?Z:X)(this,l)},J.ZP.prototype.styles=function R(l,n){return("function"==typeof l?K:_)(this,l,n??"")},J.ZP.prototype.properties=function dt(l){return("function"==typeof l?N:Y)(this,l)},D.eR.prototype.attrs=function U(l){return("function"==typeof l?k:ht)(this,l)},D.eR.prototype.styles=function xt(l,n){return("function"==typeof l?At:rt)(this,l,n??"")};var Et=a(94611),bt=a(87262),Q=a(90733),ot=a.n(Q),Nt=a(12906),Ht=a.n(Nt),Gt=a(78442),se=a.n(Gt),ke=a(90377),st=a.n(ke),pt=a(14190),Ft=a(8537),ae=a(21503),_e=a.n(ae),qe=a(70420),$=a.n(qe),mt=a(34220),Kt=a.n(mt),de=a(79598),Lt=a.n(de),ce=a(41970),Pe=a.n(ce);function Xe(l){if(!$()(l,"var("))return l;const n=Kt()(Lt()(Pe()(l,"var("),")"));return getComputedStyle(document.body).getPropertyValue(n)}class dn{constructor(n,t){(0,o.Z)(this,"sourceProvider",void 0),(0,o.Z)(this,"fn",void 0),(0,o.Z)(this,"processedColors",void 0),(0,o.Z)(this,"get",e=>{const i=this.sourceProvider.get(e);if(!i)throw new Error("clr is not defined");let s=this.processedColors[i];return s||(s=this.fn(i),this.processedColors[i]=s),s}),this.sourceProvider=n,this.fn=t,this.reset()}reset(){this.processedColors={}}}class Mn{constructor(n){(0,o.Z)(this,"values",void 0),(0,o.Z)(this,"providedValues",void 0),(0,o.Z)(this,"lastUsedIndex",void 0),(0,o.Z)(this,"get",t=>{let e=this.providedValues[t];if(!e){const i=++this.lastUsedIndex%this.values.length;e=this.values[i],this.providedValues[t]=e}return e}),this.values=n,this.reset()}reset(){this.providedValues={},this.lastUsedIndex=-1}}class An extends Mn{constructor(n){super(n),(0,o.Z)(this,"colors",void 0),this.colors=n}}const sn=1/12.92;class $n extends dn{constructor(n,t){super(n,e=>{const i=Xe(e),s=(0,Ft.B8)(i),u=this.getContrastRatio(s,(0,Ft.B8)(t.light));return this.getContrastRatio(s,(0,Ft.B8)(t.dark))>u?t.dark:t.light})}getContrastRatio(n,t){const e=this.getRelativeLuminance(n),i=this.getRelativeLuminance(t);let s,u;return e>i?(s=e,u=i):(s=i,u=e),(s+.05)/(u+.05)}getRelativeLuminance(n){const t=n.r/255,e=n.g/255,i=n.b/255;return.2126*(t<=.03928?t*sn:this.adjustGamma(t))+.7152*(e<=.03928?e*sn:this.adjustGamma(e))+.0722*(i<=.03928?i*sn:this.adjustGamma(i))}adjustGamma(n){return Math.pow((n+.055)/1.055,2.4)}}class Un{constructor(n,t={backgroundOpacity:.15}){(0,o.Z)(this,"_standardColors",void 0),(0,o.Z)(this,"_textColors",void 0),(0,o.Z)(this,"_backgroundColors",void 0),this._standardColors=_e()(n)?new An(n):n,this._textColors=new $n(this.standardColors,{light:"white",dark:"black"}),this._backgroundColors=new dn(this.standardColors,e=>{const i=Xe(e),s=(0,Ft.B8)(i);return s.opacity=t.backgroundOpacity,s.toString()})}get standardColors(){return this._standardColors}get backgroundColors(){return this._backgroundColors}get textColors(){return this._textColors}}var ei=a(34235),be=a.n(ei);class _i{constructor(n){(0,o.Z)(this,"svg",void 0),(0,o.Z)(this,"styledSvg",void 0),this.svg=n}getSvg(){return this.styledSvg||this.svg}setColor(n){this.styledSvg=be()(n)?n:`<g fill="${n}">${this.svg}</g>`}}const Jt=["var(--nui-color-chart-one)","var(--nui-color-chart-two)","var(--nui-color-chart-three)","var(--nui-color-chart-four)","var(--nui-color-chart-five)","var(--nui-color-chart-six)","var(--nui-color-chart-seven)","var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"],fe=["var(--nui-color-chart-one)","var(--nui-color-chart-one-light)","var(--nui-color-chart-two)","var(--nui-color-chart-two-light)","var(--nui-color-chart-three)","var(--nui-color-chart-three-light)","var(--nui-color-chart-four)","var(--nui-color-chart-four-light)","var(--nui-color-chart-five)","var(--nui-color-chart-five-light)","var(--nui-color-chart-six)","var(--nui-color-chart-six-light)","var(--nui-color-chart-seven)","var(--nui-color-chart-seven-light)","var(--nui-color-chart-eight)","var(--nui-color-chart-eight-light)","var(--nui-color-chart-nine)","var(--nui-color-chart-nine-light)","var(--nui-color-chart-ten)","var(--nui-color-chart-ten-light)"],ze=["var(--nui-color-semantic-down)","var(--nui-color-semantic-down-bg)","var(--nui-color-semantic-critical)","var(--nui-color-semantic-critical-bg)","var(--nui-color-semantic-warning)","var(--nui-color-semantic-warning-bg)","var(--nui-color-semantic-unknown)","var(--nui-color-semantic-unknown-bg)","var(--nui-color-semantic-ok)","var(--nui-color-semantic-ok-bg)","var(--nui-color-semantic-info)","var(--nui-color-semantic-info-bg)"],pn=["m0 0m-4 0a4 4 0 1 0 8 0 4 4 0 1 0-8 0z","m-4,-4l8,0l0,8l-8,0l0,-8z","m0-4 4 8-8 0z","m0-4.95 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8 0z","m0-3.805 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703z"],an=[...pn.map(l=>`<path class="nui-chart--path__outline" d="${l}"></path>`),...["m0 2c1.105 0 2-.895 2-2 0-1.105-.895-2-2-2-1.105 0-2 .895-2 2 0 1.105.895 2 2 2zm0 2c-2.209 0-4-1.791-4-4 0-2.209 1.791-4 4-4 2.209 0 4 1.791 4 4 0 2.209-1.791 4-4 4z","m-2-2 0 4 4 0 0-4-4 0zm-2-2 8 0 0 8-8 0 0-8z","m0-4-4 8 8.001 0-4.001-8zm0 3.354 1.573 3.146-3.145 0 1.572-3.146z","m0-2.121-2.121 2.121 2.121 2.121 2.121-2.121-2.121-2.121zm0-2.828 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8.001 0-4.001 8zm0-3.354 1.573-3.146-3.145 0 1.572 3.146z","m0-1.951-2.237 1.626.855 2.63 2.766 0 .855-2.63-2.237-1.626zm0-1.854 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703 4.001-2.907z"].map((l,n)=>`<path class="nui-chart--path__outline-fill" stroke="none" d="${pn[n]}"></path>\n            <path class="nui-chart--path__outline" d="${l}"></path>`)].map(l=>new _i(l));class Ke extends Mn{constructor(n){super(n),(0,o.Z)(this,"markers",void 0),this.markers=n}}function je(){return new An(Jt)}function Rn(){return new Ke(an)}class cn{constructor(n=je(),t=Rn()){(0,o.Z)(this,"colorProvider",void 0),(0,o.Z)(this,"markerProvider",void 0),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"series",void 0),this.colorProvider=n,this.markerProvider=t,this.data={x:(e,i,s,u)=>e.x,x0:(e,i,s,u)=>this.data.x(e,i,s,u),x1:(e,i,s,u)=>this.data.x(e,i,s,u),y:(e,i,s,u)=>e.y,y0:(e,i,s,u)=>this.data.y(e,i,s,u),y1:(e,i,s,u)=>this.data.y(e,i,s,u),absoluteX0:(e,i,s,u)=>e.__stack_x?.start??this.data.x0(e,i,s,u),absoluteX1:(e,i,s,u)=>e.__stack_x?.end??this.data.x1(e,i,s,u),absoluteY0:(e,i,s,u)=>e.__stack_y?.start??this.data.y0(e,i,s,u),absoluteY1:(e,i,s,u)=>e.__stack_y?.end??this.data.y1(e,i,s,u)},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}class xn{constructor(){(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"series",void 0)}}class Xn extends xn{constructor(n=je(),t=Rn()){super(),(0,o.Z)(this,"colorProvider",void 0),(0,o.Z)(this,"markerProvider",void 0),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"series",void 0),this.colorProvider=n,this.markerProvider=t,this.data={value:e=>e.value,category:(e,i,s,u)=>e.category?e.category:this.series.category?this.series.category(u.id,u):null,start:(e,i,s,u)=>{if(e.__bar)return e.__bar.start;if(typeof e.start<"u")return e.start;const m=this.getSingleValue(e,i,s,u);return Number.isFinite(m)?Math.min(0,m):null},end:(e,i,s,u)=>{if(e.__bar)return e.__bar.end;if(typeof e.end<"u")return e.end;const m=this.getSingleValue(e,i,s,u);return Number.isFinite(m)?Math.max(0,m):null}},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0,category:(e,i)=>i.name||i.id}}getSingleValue(n,t,e,i){let s;return this.data.value&&(s=this.data.value(n,t,e,i),typeof s>"u"&&(s=n)),s}}class ln extends Xn{constructor(n,t){super(n,t),this.data={...this.data,startX:(e,i,s,u)=>this.data.start(e,i,s,u),endX:(e,i,s,u)=>this.data.end(e,i,s,u),startY:(e,i,s,u)=>this.data.category(e,i,s,u),endY:(e,i,s,u)=>this.data.category(e,i,s,u),thicknessY:(e,i,s,u)=>this.data.thickness?this.data.thickness(e,i,s,u):void 0}}}class on{get data(){return this.barAccessors.data}get series(){return this.barAccessors.series}constructor(n){(0,o.Z)(this,"barAccessors",void 0),this.barAccessors=n,n.data.status=t=>t.status}}function Gn(l,n){const t=new on(new ln(l,n));return t.data.color=(e,i,s,u)=>l.get(t.data.status(e,i,s,u)),t.data.category=()=>on.STATUS_CATEGORY,t}(0,o.Z)(on,"STATUS_CATEGORY","status"),(0,o.Z)(on,"STATUS_DOMAIN",[on.STATUS_CATEGORY]);var Ye=a(62225),En=0;function Fe(){return new pe}function pe(){this._="@"+(++En).toString(36)}pe.prototype=Fe.prototype={constructor:pe,get:function(l){for(var n=this._;!(n in l);)if(!(l=l.parentNode))return;return l[n]},set:function(l,n){return l[this._]=n},remove:function(l){return this._ in l&&delete l[this._]},toString:function(){return this._}};var In=a(69754),Ve=a.n(In),V=a(22274),vt=a.n(V),Vt=a(30836),$t=a.n(Vt),ct=a(26271);function oe(l,n,t=.5,e=Number.MAX_VALUE){if(!l)return 0;if(!(0,pt.oT)(l))return l.convert(n);const i=l;if(!_e()(n))return i.convert(n,t);const s=n;return 1===s.length||!i.innerScale||e<=1?i.convert(s[0],t):i.convert(s[0],0)+oe(i.innerScale,s.slice(1),t,e-1)}var Pt=a(42418),Me=a(33414),Ie=a(32608),Qe=a.n(Ie),Zn=a(71973),un=a.n(Zn);function hn(l,n){if(!l)return 0;const t=l.invert(n);if(!(0,pt.oT)(l)||be()(t))return t;if(!l.innerScale)return t;const i=hn(l.innerScale,n-l.convert(t,0));return _e()(i)?[t,...i]:[t,i]}class Te{static getValueAccessor(n,t){const e=n(t,0);if("number"==typeof e||"string"==typeof e)return n;if(e.valueOf&&"number"==typeof e.valueOf())return(i,s)=>n(i,s).valueOf();throw new Error("Value in the data series does not return numeric valueOf().")}static getClosestIndex(n,t,e){if(1===n.length)return 0;if(0===n.length)return;const i=Te.getValueAccessor(t,n[0]);if("string"==typeof e)return n.findIndex(m=>i(m,0)===e);let s=this.findNearestIndex(n,e,t);return s=s>0?s-1:s,s=s>=n.length-1&&1!==n.length?n.length-2:s,s+Te.getCloser(i(n[s],s),i(n[s+1],s+1),e)}static getCloser(n,t,e){return Math.abs(e-n)<=Math.abs(e-t)?0:1}static clampToRange(n,t){return n<t[0]?t[0]:n>t[1]?t[1]:n}static uuid(){let n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const i=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?i:3&i|8).toString(16)})}static cssEscape(n){if(0===arguments.length)throw new TypeError("`cssEscape` requires an argument.");const t=String(n),e=t.length;let s,i=-1,u="";const m=t.charCodeAt(0);for(;++i<e;)s=t.charCodeAt(i),u+=0!==s?s>=1&&s<=31||127===s||0===i&&s>=48&&s<=57||1===i&&s>=48&&s<=57&&45===m?"\\"+s.toString(16)+" ":0===i&&1===e&&45===s||!(s>=128||45===s||95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122)?"\\"+t.charAt(i):t.charAt(i):"\ufffd";return u}static findNearestIndex(n,t,e=Qe()){let i=0,s=null==n?i:n.length;for(;i<s;){const u=i+s>>>1,m=e(n[u],u);null!==m&&m<t?i=u+1:s=u}return Math.round(i)}static getXYValues(n,t,e,i){const s=Te.getScaleValues(n,e),u=Te.getScaleValues(t,i),m={};return un()(s)||(m.x=s),un()(u)||(m.y=u),m}static getScaleValues(n,t){return n.reduce(function e(i,s){const u=hn(s,t);return be()(u)||(i[s.id]=u),i},{})}static getInteractionValues(n,t){return n?n[t]??Object.values(n)[0]:null}}class gi extends Me.T{draw(n,t){}getDataPointPosition(n,t,e){if(t<0||t>=n.data.length)return;const i=n.data[t];if(!n.accessors.data?.x||!n.accessors.data?.y)throw new Error("Can't get dataPointPosition");return{x:e.x.convert(n.accessors.data.x(i,t,n.data,n)),y:e.y.convert(n.accessors.data.y(i,t,n.data,n))}}getDataPointIndex(n,t,e){if(be()(t.x))return ct.Vg;const i=Te.getClosestIndex(n.data,(s,u)=>n.accessors.data?.x?.(s,u,n.data,n),t.x);if(be()(i))throw new Error("Unable to get data point index");return i}}let pi=(()=>{class l extends gi{constructor(t={}){super(t),(0,o.Z)(this,"config",void 0),(0,o.Z)(this,"DEFAULT_CONFIG",{transitionDuration:300,padding:1,barClass:"bar-outline",highlightStrategy:void 0,pointerEvents:!0,enableMinBarThickness:!0}),(0,o.Z)(this,"barContainerClass","bar-container"),this.config=t,this.config=Ve()(this.config,this.DEFAULT_CONFIG)}draw(t,e){const i=t.containers[Pt.n.data],s=t.dataSeries,u=s.accessors,m=this.getAttrsGenerator(s,t.scales),C=Fe(),L=i.selectAll(`g.${this.barContainerClass}`).data(s.data);L.exit().remove();const O=L.enter().append("g").classed(this.barContainerClass,!0);O.append("rect").on("click",(Ct,Yt)=>{this.emitBarClick(t,Ct,Yt,e)}),O.merge(L).property(C,(Ct,Yt)=>m(Ct,Yt)).select("rect").attr("class",(Ct,Yt)=>`${l.BAR_RECT_CLASS} ${this.config.barClass}${this.config.pointerEvents?" pointer-events":""}`+((Ct,Yt)=>typeof u.data?.cssClass<"u"&&" "+u.data.cssClass(Ct,Yt,s.data,s)||"")(Ct,Yt)).style("cursor",this.config.cursor??"").style("stroke-width",this.config?.strokeWidth??"").style("fill",(Ct,Yt)=>u.data.color?u.data.color(Ct,Yt,s.data,s):u.series.color?.(s.id,s)).attrs(function(){return C.get(this)}).select("rect").style("fill",(Ct,Yt)=>u.data.color?u.data.color(Ct,Yt,s.data,s):u.series.color?.(s.id,s)).attrs(C.get),u.data.marker&&(O.append("g").classed("bar-icon",!0),O.merge(L).select("g.bar-icon").html(function(Ct,Yt){const ge=C.get(this);if(!ge||be()(ge?.height)||be()(ge?.width))throw new Error("barSize is undefined");if(Math.min(ge.height,ge.width)-1>=l.MIN_BAR_SIZE_FOR_ICON)return u.data.marker?.(Ct,Yt,s.data,s)}).attr("transform",function(){const Ct=C.get(this);if(!Ct||be()(Ct?.height)||be()(Ct?.width))throw new Error("barAttrs is undefined");return`translate(${Ct.x+Ct.width/2}, ${Ct.y+Ct.height/2})`}))}getDataPointIndex(t,e,i){return this.config.highlightStrategy?this.config.highlightStrategy.getDataPointIndex(this,t,e,i):ct.Vg}highlightDataPoint(t,e,i){this.config.highlightStrategy&&this.config.highlightStrategy.highlightDataPoint(this,t,e,i)}getDataPointPosition(t,e,i){const s=t.data[e];return s&&this.getAttrsGenerator(t,i)(s,e)}getDataPoint(t,e,i){return{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:i,data:e,position:e?this.getDataPointPosition(t.dataSeries,i,t.scales):void 0}}filterDataByDomain(t){return t}getDomain(t,e,i,s){const u=e.accessors.data,m=i.toUpperCase(),C=L=>(O,gt,Ct)=>u[L+m]?.(O,gt,Array.from(Ct),e);if(s.isContinuous())return t&&0!==t.length?[(0,Ye.VV)(t,C("start")),(0,Ye.Fp)(t,C("end"))]:pt.iz;{const L=t&&t.length>0?t.map(C("start")):[],O=Math.max(...L.map(gt=>_e()(gt)?gt.length:-1));return O>=0?Array.from(Array(O)).map((gt,Ct)=>{const Yt=L.map(ge=>Ct<ge.length?ge[Ct]:[]);return $t()(vt()(Yt))}):[$t()(L)]}}emitBarClick(t,e,i,s){s.next({eventName:ct.q7,data:this.getDataPoint(t,e,i)})}getAttrsGenerator(t,e){const i=t.accessors.data;return(s,u)=>{const m=this.getDimensions(i,s,u,t,e.x,"X"),C=this.getDimensions(i,s,u,t,e.y,"Y");return{x:m.start,width:m.thickness,y:C.start,height:C.thickness}}}getDimensions(t,e,i,s,u,m){let C,L;const gt=s.accessors.data["start"+m],Ct=s.accessors.data["end"+m];if(L=(0,t["thickness"+m])?.(e,i,s.data,s),be()(L)){if(!gt||!Ct)throw new Error("Can't compute dimensions");const Yt=oe(u,gt(e,i,s.data,s),0),ge=oe(u,Ct(e,i,s.data,s),1);if(C=Math.min(Yt,ge),L=Math.abs(Yt-ge),(0,pt.oT)(u)){if(be()(this.config.padding))throw new Error("Config is not defined");C+=this.config.padding,L-=2*this.config.padding}this.config.enableMinBarThickness&&(L=Math.max(L,l.MIN_BAR_THICKNESS))}else{if(!gt)throw new Error("Can't compute dimensions");C=oe(u,gt(e,i,s.data,s),.5)-L/2}return{start:C,thickness:L}}}return(0,o.Z)(l,"THICK",11),(0,o.Z)(l,"THIN",3),(0,o.Z)(l,"MIN_BAR_SIZE_FOR_ICON",10),(0,o.Z)(l,"MIN_BAR_THICKNESS",2),(0,o.Z)(l,"BAR_RECT_CLASS","bar"),l})();const Pi={stateStyles:{[Pt.L.default]:{opacity:0},[Pt.L.hidden]:{opacity:0},[Pt.L.deemphasized]:{opacity:0},[Pt.L.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},ci={stateStyles:{[Pt.L.default]:{opacity:.3},[Pt.L.hidden]:{opacity:0},[Pt.L.deemphasized]:{opacity:0},[Pt.L.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},li={enabled:!1,clickable:!1},Ai="gauge-threshold-marker";class ui{constructor(){(0,o.Z)(this,"data",{x:n=>n.x,y:n=>n.y})}}class Ri extends ui{constructor(n=je(),t=Rn()){super(),(0,o.Z)(this,"colorProvider",void 0),(0,o.Z)(this,"markerProvider",void 0),(0,o.Z)(this,"series",void 0),this.colorProvider=n,this.markerProvider=t,this.data.defined=(e,i)=>!e.hasOwnProperty("defined")||e.defined,this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}function Qi(l){this._context=l}function Jn(l){return new Qi(l)}Qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(l,n){switch(l=+l,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,n):this._context.moveTo(l,n);break;case 1:this._point=2;default:this._context.lineTo(l,n)}}};var mi=a(73066),fn=a(21456);function $i(l){return l[0]}function Ii(l){return l[1]}function Kn(){var l=$i,n=Ii,t=(0,fn.Z)(!0),e=null,i=Jn,s=null;function u(m){var C,O,Ct,L=m.length,gt=!1;for(null==e&&(s=i(Ct=(0,mi.Z)())),C=0;C<=L;++C)!(C<L&&t(O=m[C],C,m))===gt&&((gt=!gt)?s.lineStart():s.lineEnd()),gt&&s.point(+l(O,C,m),+n(O,C,m));if(Ct)return s=null,Ct+""||null}return u.x=function(m){return arguments.length?(l="function"==typeof m?m:(0,fn.Z)(+m),u):l},u.y=function(m){return arguments.length?(n="function"==typeof m?m:(0,fn.Z)(+m),u):n},u.defined=function(m){return arguments.length?(t="function"==typeof m?m:(0,fn.Z)(!!m),u):t},u.curve=function(m){return arguments.length?(i=m,null!=e&&(s=i(e)),u):i},u.context=function(m){return arguments.length?(null==m?e=s=null:s=i(e=m),u):e},u}function bi(l,n){const t=l.range().map(s=>s),e=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return n>=e&&n<=i}var en=a(19711);let Xi=(()=>{class l{static manageMarker(t,e,i,s,u,m=li){if(!s)throw new Error("Container doesn't exist!");if(0===t.data.length)return void l.removeMarker(s);const C=t.accessors;i<0&&(i=t.data.length-1);const L=t.data[i];if(!C.data?.x||!C.data.y)throw new Error("Color or marker are undefined");const O=e.x.convert(C.data.x(L,i,t.data,t)),gt=e.y.convert(C.data.y(L,i,t.data,t));if(typeof O<"u"&&typeof gt<"u"&&bi(e.x,O)&&bi(e.y,gt)){const Ct=t.id,Yt={index:i,data:L,seriesId:Ct,position:{x:O,y:gt},dataSeries:t};if(!C.series?.marker||!C.series?.color)throw new Error("Color or marker are undefined");l.drawMarker(Yt,C.series.marker(Ct,t),C.series.color(Ct,t),s,u,l.DEFAULT_MARKER_CONTAINER_CLASS,m)}else l.removeMarker(s)}static drawMarker(t,e,i,s,u,m=l.DEFAULT_MARKER_CONTAINER_CLASS,C=li){let L=s.select(`g.${m}`);const O=t?.position?.x,gt=t?.position?.y,Ct={transform:`translate(${O}, ${gt})`,cursor:"crosshair"};L.empty()&&(L=s.append("g").classed(`${m}${C.enabled?" pointer-events":""}${C.enabled&&C.clickable?" pointer-events-click":""}`,!0)),e.setColor(i),L.attrs(Ct),L.on("mouseenter",()=>{u.next({eventName:ct.gA,data:{interactionType:en.s.Hover,dataPoint:t}})}),L.on("mouseleave",()=>{u.next({eventName:ct.gA,data:{interactionType:en.s.Hover,dataPoint:{...t,index:ct.Vg}}})}),L.on("click",()=>{u.next({eventName:ct.gA,data:{interactionType:en.s.Click,dataPoint:t}})}),!L.selectAll("g > *").size()&&L.node()&&(L.node()?.appendChild(Et.fK2.getSvgFromString(e.getSvg())),L.select("path").classed(l.MARKER_PATH_CLASS,!0));const he=L.select("path").node();if(he&&C.enabled){const Ae=he.getBoundingClientRect();he.setAttribute("x",Math.ceil(t?.position?.x-Ae.width/2).toString()),he.setAttribute("y",Math.ceil(t?.position?.y-Ae.height/2).toString())}}static removeMarker(t,e=l.DEFAULT_MARKER_CONTAINER_CLASS){t.select(`g.${e}`).remove()}}return(0,o.Z)(l,"DEFAULT_MARKER_CONTAINER_CLASS","marker"),(0,o.Z)(l,"MARKER_PATH_CLASS","marker-path"),l})(),Li=(()=>{class l extends gi{static getStrokeStyleDashed(t){const e=2*t;return`${e},${e}`}static getStrokeStyleDotted(t){return`${t},${t}`}constructor(t={}){super(t),(0,o.Z)(this,"config",void 0),(0,o.Z)(this,"DEFAULT_CONFIG",{strokeWidth:2,curveType:Jn,interactive:!0,strokeStyle:"",strokeLinecap:"round",markerInteraction:li,useEnhancedLineCaps:!1,enhancedLineCap:{radius:3}}),this.config=t,this.config=Ve()(this.config,this.DEFAULT_CONFIG)}draw(t,e){const i=t.containers[Pt.n.data],s=t.dataSeries.accessors.series.color?.(t.dataSeries.id,t.dataSeries);let u=i.select("path.main");u.empty()&&(u=i.append("path").classed("main",!0).attrs({stroke:s??null,"stroke-width":this.config.strokeWidth??null,"stroke-dasharray":this.config.strokeStyle??null,"stroke-linecap":this.config.strokeLinecap??null,fill:"none"})),this.drawLine(t,u),this.config.interactionStrategy&&this.config.interactionStrategy.draw(this,t,e)}isInfiniteLineData(t){const e=t.dataSeries;return 1===e.data.length&&typeof e.accessors.data.x(e.data[0],0,e.data,e)>"u"}drawLine(t,e){this.isInfiniteLineData(t)?this.drawInfiniteLine(t,e):this.drawStandardLine(t,e)}highlightDataPoint(t,e,i){if(!this.config.interactive)return;const s=t.dataSeries;s.accessors.series.marker&&Xi.manageMarker(s,t.scales,e,t.containers[Pt.n.foreground],i,this.config.markerInteraction)}getRequiredLayers(){return[ct.rz[Pt.n.data],ct.rz[Pt.n.foreground],ct.rz[Pt.n.unclippedData]]}getDataPointPosition(t,e,i){return super.getDataPointPosition(t,e,i)}drawStandardLine(t,e){const i=t.dataSeries,s=i.accessors;let u=!1;const m=i.data.filter((L,O)=>{const gt=typeof s.data.x(L,O,i.data,i)<"u"&&typeof s.data.y(L,O,i.data,i)<"u";return!gt&&!u&&(console.warn("Data point",L,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x:",s.data.x),console.warn(" -> accessors.data.y:",s.data.y),u=!0),gt});if(!this.config.curveType)throw new Error("curveType is not defined");const C=Kn().x((L,O)=>t.scales.x.convert(s.data.x(L,O,i.data,i))).y((L,O)=>t.scales.y.convert(s.data.y(L,O,i.data,i))).defined((L,O)=>!s.data.defined||s.data.defined(L,O,i.data,i)).curve(this.config.curveType);e.attr("d",C(m)??""),this.config.useEnhancedLineCaps&&this.updateLineCaps(m,t,this.config.enhancedLineCap?.fill||e.attr("stroke"))}drawInfiniteLine(t,e){const i=t.dataSeries,u=t.scales.y.convert(i.accessors.data.y(i.data[0],0,i.data,i)),m=[[t.scales.x.range()[0],u],[t.scales.x.range()[1],u]],L=Kn().x(O=>O[0]).y(O=>O[1])(m);if(!L)throw new Error("Line cannot be computed");e.attr("shape-rendering","crispEdges").attr("d",L)}updateLineCaps(t,e,i){const s=e.dataSeries,u=s.accessors,m=t.filter((gt,Ct)=>!u?.data?.defined||u?.data?.defined(gt,Ct,s.data,s)),C=(gt,Ct)=>e.scales.x.convert(u.data.x(gt,Ct,s.data,s)),L=(gt,Ct)=>e.scales.y.convert(u.data.y(gt,Ct,s.data,s)),O=e.containers[Pt.n.unclippedData].selectAll(`.${l.LINE_CAP_CLASS_NAME}`).data(m).attr("cx",C).attr("cy",L);O.enter().append("circle").attr("class",l.LINE_CAP_CLASS_NAME).attr("r",this.config.enhancedLineCap?.radius).attr("cx",C).attr("cy",L).style("stroke-width",this.config.enhancedLineCap?.strokeWidth).style("fill",i).style("stroke",this.config.enhancedLineCap?.stroke),O.exit().remove()}}return(0,o.Z)(l,"UNCLIPPED_DATA_LAYER_NAME","unclipped-data"),(0,o.Z)(l,"LINE_CAP_CLASS_NAME","nui-chart-line-cap"),l})();var hi=(()=>((hi||(hi={})).Grayscale="grayscale",hi))();const Oi=`url("#${hi.Grayscale}")`;class cr{constructor(){(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"series",void 0),this.data={active:n=>n.active},this.series={start:()=>null,end:()=>null,activeColor:()=>"magenta"}}}let lr=(()=>{class l extends gi{constructor(t={}){super(t),(0,o.Z)(this,"DEFAULT_CONFIG",{}),this.config=Ve()(this.config,this.DEFAULT_CONFIG)}draw(t,e){const i=t.containers[Pt.n.unclippedData],s=t.dataSeries,u=t.scales,m=t.dataSeries.accessors;let C=i.select("rect");const L=s.data.length>0&&m.data.active(s.data[0],0,t.dataSeries.data,t.dataSeries),O=!L&&m.series.inactiveColor?m.series.inactiveColor:m.series.activeColor;C.empty()&&(C=i.append("rect").attrs({fill:O(s.id,s)}),!L&&!m.series.inactiveColor&&C.style("filter",Oi));const gt=m.series.start(s.id,s),Ct=m.series.end(s.id,s),Yt=null==Ct?0:u.y.convert(Ct),he=(null==gt?u.y.range()[0]:Math.min(u.y.range()[0],u.y.convert(gt)))-Yt;C.attrs({x:-2,y:Yt,height:he<0?0:he,width:2})}getDataPointIndex(t,e,i){return-1}getRequiredLayers(){return[ct.rz[Pt.n.unclippedData]]}}return(0,o.Z)(l,"SIDE_INDICATORS_LAYER","side-indicators"),l})();var vi=(()=>{return(l=vi||(vi={})).Start="start",l.End="end",vi;var l})(),Mi=a(94650);let Ji=(()=>{class l{constructor(t){(0,o.Z)(this,"loggerService",void 0),this.loggerService=t}injectThresholdsData(t,e){const i={};e.forEach(s=>s.entered=!1);for(let s=0;s<t.data.length;s++){const u=t.data[s],m=t.accessors.data.x(u,s,t.data,t),C=t.accessors.data.y(u,s,t.data,t);u.__thresholds={};const L=this.getZoneByXY(e,i,m,C);L&&(L.entered=!0,u.__thresholds.status=L.value)}}getBackgrounds(t,e,i,s,u={},m=ot()(Pi)){let C;t.data.length>0&&typeof t.data[0].__thresholds>"u"&&this.loggerService.warn("Thresholds metadata is not defined on provided data series",t);const L=Gn(s);return L.data.thickness=O=>u[O.status],(0,pt.oT)(i.x)?(C=ot()(t.data),L.data.start=t.accessors.data.x,L.data.end=t.accessors.data.x,L.data.color=O=>O.__thresholds&&O.__thresholds.status?s.get(O.__thresholds.status):"transparent",L.data.thickness=O=>u[O.__thresholds.status]):C=this.getBackgroundsDataForContinuousScale(t,e),{id:t.id+l.SERIES_ID_SUFFIX,data:C,accessors:L,scales:i,renderer:new pi(m),showInLegend:!1}}getBackgroundsDataForContinuousScale(t,e){const i=[],s=this.getBreakPoints(t,e),u={};for(let m=0;m<s.length-1;m++){const C=s[m],L=s[m+1];if(!C||!L)throw new Error("p1 or p2 are undefined");const O={x:(C.x+L.x)/2,y:(C.y+L.y)/2},gt=this.getZoneByXY(e,u,O.x,O.y);if(gt){const Ct=i[i.length-1];Ct&&Ct.end?.valueOf()===C.x&&Ct.status===gt.value?Ct.end=new Date(L.x):i.push({status:gt.value,start:new Date(C.x),end:new Date(L.x)})}}return i}getBreakPoints(t,e){const i=t.accessors.data;let s=[];for(let u=0;u<t.data.length-1;u++){const m=t.data[u],C=t.data[u+1],L={x:i.x(m,u,t.data,t).valueOf(),y:i.y(m,u,t.data,t).valueOf()},O={x:i.x(C,u+1,t.data,t).valueOf(),y:i.y(C,u+1,t.data,t).valueOf()};for(let gt=0;gt<e.length;gt++){const Ct=e[gt],Yt=Ct.accessors.data.start?.(Ct.data[0],0,Ct.data,Ct),ge=Ct.accessors.data.end?.(Ct.data[0],0,Ct.data,Ct),he=[Yt,ge].map(Ae=>this.getCrossPointWithY(L,O,Ae)).filter(Ae=>Ae);[L,O].forEach(Ae=>{(Ae.y===Yt||Ae.y===ge)&&(Ae.isZoneEdge=!0)}),s=se()(s,he,[L,O],(Ae,Ln)=>Ae?.x===Ln?.x&&Ae?.isZoneEdge===Ln?.isZoneEdge)}}return Ht()(s,"x")}getThresholdZones(t,e,i){const s=new cn;return s.data.start=u=>u.start,s.data.end=u=>u.end,s.series.color=(u,m)=>i.get(m.value),e.map((u,m)=>({id:t.id+"__"+u.status+"-"+m,value:u.status,data:[{start:u.start,end:u.end}],scales:t.scales,accessors:s}))}getThresholdLines(t){if(-1===t.findIndex(s=>s.entered))return[];const e={};function i(s,u,m){const C=s(u.data[0],0,u.data,u);typeof C<"u"&&typeof e[C]>"u"&&(e[C]={series:u,accessor:s,zoneBoundary:m})}for(const s of t)s.accessors.data.start&&s.accessors.data.end&&(i(s.accessors.data.start,s,vi.Start),i(s.accessors.data.end,s,vi.End));return st()(e).map(s=>this.getThresholdLine(s.series,s.accessor,s.zoneBoundary))}getThresholdLine(t,e,i=vi.Start){const s=new Ri;s.data.y=e,s.series.color=t.accessors.series.color;const u=new Li({interactive:!1,strokeWidth:1,strokeStyle:Li.getStrokeStyleDashed(1),stateStyles:ot()(Pi.stateStyles),ignoreForDomainCalculation:!0});return{id:`${t.id}__${i}__threshold-line`,data:t.data,value:t.value,accessors:s,renderer:u,scales:t.scales,showInLegend:!1}}getCrossPoint(t,e,i,s){const u_x=e.x-t.x,u_y=e.y-t.y,m_x=s.x-i.x,m_y=s.y-i.y,C=(-u_y*(t.x-i.x)+u_x*(t.y-i.y))/(-m_x*u_y+u_x*m_y),L=(m_x*(t.y-i.y)-m_y*(t.x-i.x))/(-m_x*u_y+u_x*m_y);if(C>=0&&C<=1&&L>=0&&L<=1)return{x:t.x+L*u_x,y:t.y+L*u_y}}getZoneByXY(t,e,i,s){for(const u of t){e[u.id]||(e[u.id]=0);const m=this.moveZoneIndex(e[u.id],u,i);e[u.id]=m;const C=u.data[m],L=u.accessors.data,O=L.start?.(C,m,u.data,u),gt=L.end?.(C,m,u.data,u);if((typeof O>"u"||s>=O)&&(typeof gt>"u"||s<=gt))return u}return null}moveZoneIndex(t,e,i){for(;t<e.data.length-1&&e.accessors.data.x(e.data[t+1],t+1,e.data,e)<i;)t++;return t}getCrossPointWithY(t,e,i){return this.getCrossPoint(t,e,{x:t.x,y:i},{x:e.x,y:i})}getSideIndicators(t,e,i){const s=[],u=new lr(i||ot()(Pi)),m=-1!==t.findIndex(C=>C.entered);for(const C of t){const L=new cr;L.series={start:()=>C.accessors.data.start?.(C.data[0],0,C.data,C),end:()=>C.accessors.data.end?.(C.data[0],0,C.data,C),activeColor:()=>C.accessors.series.color?.(C.id,C)},s.push({id:C.id+"__side-indicator",data:[{active:m}],accessors:L,scales:e,renderer:u,showInLegend:!1})}return s}}return(0,o.Z)(l,"SERIES_ID_SUFFIX","__thresholds-background"),(0,o.Z)(l,"\u0275fac",function(t){return new(t||l)(Mi.LFG(Et.mQy))}),(0,o.Z)(l,"\u0275prov",Mi.Yz7({token:l,factory:l.\u0275fac})),l})(),Zi=(()=>{class l{}return(0,o.Z)(l,"\u0275fac",function(t){return new(t||l)}),(0,o.Z)(l,"\u0275mod",Mi.oAB({type:l})),(0,o.Z)(l,"\u0275inj",Mi.cJS({providers:[bt.v,Ji],imports:[Et.lam,Et.Ts3,Et.S6I,z.U8]})),l})();var Ti=a(13458);const jn="quantity",Di="remainder",yi="threshold-markers";var gn=(()=>{return(l=gn||(gn={})).Donut="donut",l.Horizontal="horizontal",l.Vertical="vertical",gn;var l})(),Ni=(()=>{return(l=Ni||(Ni={}))[l.Small=10]="Small",l[l.Large=15]="Large",Ni;var l})(),Fn=(()=>{return(l=Fn||(Fn={}))[l.Small=3]="Small",l[l.Large=4]="Large",Fn;var l})(),Je=(()=>{return(l=Je||(Je={})).Warning="warning",l.Critical="critical",Je;var l})(),Qn=(()=>{return(l=Qn||(Qn={})).Remainder="var(--nui-color-semantic-unknown-bg-hover)",l.Ok="var(--nui-color-chart-one)",l.Warning="var(--nui-color-semantic-warning)",l.Critical="var(--nui-color-semantic-critical)",Qn;var l})();const He={top:20,right:25,bottom:20,left:25};var Hi=a(35474),mn=a.n(Hi),h=a(61135),E=a(77579),I=a(82722),G=a(35281),St=a.n(G),kt=a(45588),Dt=a.n(kt),zt=a(12498),Wt=a.n(zt);function Xt(l,n){n&&0!==n.length&&(_e()(n[0])?(l.domain(n[0]),(0,pt.Il)(l)&&Xt(l.innerScale,n.slice(1))):l.domain(n))}class jt{get chartSeriesSet(){return this._chartSeriesSet}get scalesIndexByKey(){return this._scalesIndexByKey}get scalesIndexById(){return this._scalesIndexById}constructor(n){(0,o.Z)(this,"chart",void 0),(0,o.Z)(this,"_chartSeriesSet",[]),(0,o.Z)(this,"dataIndex",{}),(0,o.Z)(this,"_scalesIndexByKey",{}),(0,o.Z)(this,"_scalesIndexById",{}),this.chart=n}update(n){const t=St()(n.map(e=>e.id),(e,i,s)=>Dt()(s,e,i+1));t.length>0&&console.warn("Series set contains duplicate IDs:",t),this._chartSeriesSet=n||[],this.dataIndex=Wt()(this._chartSeriesSet,e=>e.id),this._scalesIndexByKey=this.buildScalesIndex(this._chartSeriesSet),this._scalesIndexById=Wt()(vt()(st()(this._scalesIndexByKey).map(e=>e.list)),e=>e.id)}getChartSeries(n){return this.dataIndex[n]}updateScaleDomain(n,t){if(!n.isDomainFixed&&n.domainCalculator){const e=this.chartSeriesSet.filter(i=>i.scales[t]===n&&!i.renderer.config.ignoreForDomainCalculation).filter(i=>i.renderState!==Pt.L.hidden);if(e.length||this.chart?.configuration?.updateDomainForEmptySeries){const i=n.domainCalculator(e,t,n);Xt(n,i)}}}buildScalesIndex(n){const t={};return mn()(n,e=>{mn()(Object.keys(e.scales),i=>{const s=e.scales[i];let u=t[i];u||(u={index:{},list:[]},t[i]=u),u.index[s.id]||(u.index[s.id]=s,u.list.push(s))})}),t}updateScaleDomains(){mn()(Object.keys(this._scalesIndexByKey),n=>{mn()(this._scalesIndexByKey[n].list,t=>{this.updateScaleDomain(t,n)})})}}var ye=a(48641),Le=a(64509),De=a.n(Le);class di{constructor(n,t){(0,o.Z)(this,"lasagna",void 0),(0,o.Z)(this,"dataManager",void 0),(0,o.Z)(this,"interactionDataPointsSubject",new E.x),(0,o.Z)(this,"rendererSubject",new E.x),(0,o.Z)(this,"highlightDataPointSubscription",void 0),(0,o.Z)(this,"highlightedDataPoints",{}),(0,o.Z)(this,"renderLayers",{}),(0,o.Z)(this,"layerIndex",{}),this.lasagna=n,this.dataManager=t,this.highlightDataPointSubscription=this.rendererSubject.subscribe(e=>{e.eventName===ct.Rj&&this.highlightDataPoint(e.data.seriesId,e.data.index)})}update(){const n={};mn()(this.dataManager.chartSeriesSet,t=>{const e=this.getSeriesChildContainers(t.id);-1===Object.values(t.scales).findIndex(s=>{if(typeof n[s.id]>"u"){const u=s.isDomainValid();u||console.warn("Invalid scale domain detected for scale:",s),n[s.id]=u}return!n[s.id]})&&t.renderer.draw({dataSeries:t,containers:e,scales:t.scales},this.rendererSubject)})}updateSeriesContainers(){this.layerIndex=this.buildLayerIndex(this.dataManager.chartSeriesSet),this.removeUnusedLayers(),this.addNeededLayers(),this.updateLayerContents()}emitInteractionDataPoints(n){let t=!1;const e=this.dataManager.chartSeriesSet.reduce((i,s)=>{const u={};mn()(Object.keys(n.values),O=>{u[O]=Te.getInteractionValues(n.values[O],s.scales[O].id)});let m=ct.Vg;s.data&&s.data.length>0&&(m=s.renderer.getDataPointIndex(s,u,s.scales));const C=s.renderer.getDataPointPosition(s,m,s.scales),L={seriesId:s.id,dataSeries:s,index:m,data:m>=0?s.data[m]:null,position:C};if(n.interactionType===en.s.MouseMove){const O=this.highlightedDataPoints[s.id];!be()(m)&&(be()(O)||m===ct.Vg||m!==O.index)&&(t=!0,this.rendererSubject.next({eventName:ct.Rj,data:L}))}return i[s.id]=L,i},{});(n.interactionType!==en.s.MouseMove||t)&&this.interactionDataPointsSubject.next({interactionType:n.interactionType,dataPoints:e}),t&&(this.highlightedDataPoints=e)}highlightDataPoint(n,t){const e=this.getSeriesChildContainers(n),i=this.dataManager.getChartSeries(n);i.renderer.highlightDataPoint({dataSeries:i,containers:e,scales:i.scales,parentContainer:this.renderLayers.data},t,this.rendererSubject)}setSeriesStates(n){mn()(n,({seriesId:t,state:e})=>{const i=this.dataManager.getChartSeries(t);if(!i)return;const s=this.getSeriesChildContainers(t),u=i.renderer.getContainerStateStyles(e);mn()(st()(s),m=>{m.attrs(u)}),i.renderer.setSeriesState(s,e)})}destroy(){this.highlightDataPointSubscription&&this.highlightDataPointSubscription.unsubscribe(),this.rendererSubject&&this.rendererSubject.complete()}buildLayerIndex(n){const t={};return mn()(n,e=>{mn()(e.renderer.getRequiredLayers(),i=>{if(ct.rz[i.name]&&!De()(ct.rz[i.name],i))throw new Error(`Custom definition detected for render layer "${i.name}". Custom layers must use a name not already taken by the predefined layer set.`);let s=t[i.name];s||(s={seriesUsing:[],layerDefinition:i},t[i.name]=s),s.seriesUsing.push(e)})}),t}removeUnusedLayers(){mn()(Object.keys(this.renderLayers),n=>{this.layerIndex[n]||(this.lasagna.removeLayer(n),delete this.renderLayers[n])})}addNeededLayers(){mn()(this.layerIndex,n=>{this.renderLayers[n.layerDefinition.name]||(this.renderLayers[n.layerDefinition.name]=this.lasagna.addLayer(n.layerDefinition))})}updateLayerContents(){mn()(Object.keys(this.renderLayers),n=>{const e=this.renderLayers[n].selectAll("g.data-series-container").data(this.layerIndex[n].seriesUsing,i=>i.id).order();e.enter().append("g").attrs({id:i=>this.getChildContainerId(n,i.id),class:"data-series-container"}),e.exit().remove()})}getSeriesChildContainers(n){const t={};return mn()(Object.keys(this.renderLayers),e=>{t[e]=this.renderLayers[e].selectAll(`#${e}-${Te.cssEscape(n)}`)}),t}getChildContainerId(n,t){return n+"-"+t}}var Tn=a(92832);class Bi extends Tn.w{constructor(...n){super(...n),(0,o.Z)(this,"renderEngine",void 0),(0,o.Z)(this,"isChartInView",!0),(0,o.Z)(this,"lastInteractionValuesPayload",void 0),(0,o.Z)(this,"destroy$",new E.x)}initialize(){this.renderEngine=this.chart.getRenderEngine(),this.chart.getEventBus().getStream(ct.hk).pipe((0,I.R)(this.destroy$)).subscribe(n=>{this.lastInteractionValuesPayload=n.data,this.isChartInView&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)}),this.renderEngine.interactionDataPointsSubject.pipe((0,I.R)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(ct.C1).next({data:n})}),this.renderEngine.rendererSubject.pipe((0,I.R)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(n.eventName).next({data:n.data})}),this.chart.getEventBus().getStream(ct._7).pipe((0,I.R)(this.destroy$)).subscribe(n=>{this.isChartInView=n.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)})}update(){this.renderEngine.updateSeriesContainers(),this.renderEngine.update()}updateDimensions(){this.renderEngine.update()}destroy(){this.renderEngine.destroy(),this.destroy$.next(),this.destroy$.complete()}}class tr{constructor(n,t){if((0,o.Z)(this,"grid",void 0),(0,o.Z)(this,"configuration",void 0),(0,o.Z)(this,"eventBus",new ye.N),(0,o.Z)(this,"element",void 0),(0,o.Z)(this,"target",void 0),(0,o.Z)(this,"filterDefs",void 0),(0,o.Z)(this,"dataManager",void 0),(0,o.Z)(this,"renderEngine",void 0),(0,o.Z)(this,"updateSubject",new h.X([])),(0,o.Z)(this,"updateDimensionsSubject",new E.x),(0,o.Z)(this,"seriesStatesSubject",new h.X([])),(0,o.Z)(this,"plugins",[]),this.grid=n,this.configuration=t,!n)throw new Error("Grid has to be defined!");n.updateChartDimensionsSubject=this.updateDimensionsSubject,n.eventBus=this.eventBus}getEventBus(){return this.eventBus}getDataManager(){return this.dataManager}getRenderEngine(){return this.renderEngine}getGrid(){return this.grid}addPlugin(n){n.chart=this,this.plugins.push(n)}removePlugin(n){const t=this.plugins.findIndex(e=>e instanceof n);-1!==t&&(this.plugins[t].destroy(),this.plugins.splice(t,1))}addPlugins(...n){for(const t of n)this.addPlugin(t)}removePlugins(...n){for(const t of n)this.removePlugin(t)}hasPlugin(n){return-1!==this.plugins.findIndex(t=>t instanceof n)}build(n){this.element=n,this.target=(0,A.Z)(this.element).append("svg").attrs({class:"nui-chart",height:"100%",width:"100%"}),this.configureCssFilters(),this.buildGrid(),this.dataManager=this.buildDataManager(),this.renderEngine=this.buildRenderEngine(this.grid.getLasagna(),this.dataManager);const t=new Bi;t.chart=this,this.plugins.unshift(t);for(const i of this.getGrid().buildPlugins(this))this.addPlugin(i);this.initialize();const e=()=>(0,I.R)(this.getEventBus().getStream(ct.wu));this.updateSubject.pipe(e()).subscribe(i=>this.onUpdate(i)),this.updateDimensionsSubject.pipe(e()).subscribe(()=>this.onUpdateDimensions()),this.seriesStatesSubject.pipe(e()).subscribe(i=>this.onSetSeriesStates(i))}configureCssFilters(){this.filterDefs=this.target?.append("defs"),this.filterDefs?.append("filter").attr("id",hi.Grayscale).append("feColorMatrix").attr("type","matrix").attr("values","\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0      0      0      1 0\n")}buildDataManager(){return new jt(this)}buildGrid(){this.target&&(this.grid.target(this.target),this.grid.build(),this.updateTargetDimensions(this.grid.config().dimension))}buildRenderEngine(n,t){return new di(n,t)}update(n){this.updateSubject.next(n)}updateDimensions(){this.updateDimensionsSubject.next()}initialize(){mn()(this.plugins,n=>{n.initialize()})}destroy(){this.eventBus.getStream(ct.wu).next({data:null}),this.eventBus.destroy(),this.plugins.forEach(n=>n.destroy()),this.target?.remove(),this.target=void 0}setSeriesStates(n){this.seriesStatesSubject.next(n),this.eventBus.getStream(ct.GJ).next({data:n})}onUpdate(n){this.dataManager.update(n),this.grid.scales=this.dataManager.scalesIndexByKey,this.dataManager.updateScaleDomains(),this.grid.updateRanges(),this.plugins.forEach(t=>t.update())}onUpdateDimensions(){const n=this.grid.config().dimension;this.updateTargetDimensions(n);const t={};n.autoHeight&&(t.height=this.element.clientHeight),n.autoWidth&&(t.width=this.element.clientWidth),this.grid.updateDimensions(t),this.plugins.forEach(e=>e.updateDimensions())}updateTargetDimensions(n){n.autoHeight||this.target?.style("height",n.outerHeight()+"px"),n.autoWidth||this.target?.style("width",n.outerWidth()+"px")}onSetSeriesStates(n){this.renderEngine.setSeriesStates(n)}}var er=a(39646),yr=a(39300),xr=a(54004),ur=a(63900),Ei=(()=>{return(l=Ei||(Ei={})).ToggleSeries="ToggleSeries",l.ResetVisibleSeries="ResetVisibleSeries",l.EmphasizeSeries="EmphasizeSeries",Ei;var l})();class c{constructor(n,t,e=Pt.L.default,i=!0){(0,o.Z)(this,"seriesId",void 0),(0,o.Z)(this,"series",void 0),(0,o.Z)(this,"emphasisState",void 0),(0,o.Z)(this,"visible",void 0),this.seriesId=n,this.series=t,this.emphasisState=e,this.visible=i}get state(){return this.visible?this.emphasisState:Pt.L.hidden}}class f{static getLabel(n,t,e,i,s){if(!t||0===n.data.length)return null;const u=n.accessors.data?.[s||e];if(!u)return null;const m=t.index<0?n.data.length-1:t.index,L=u(n.data[m],m,n.data,n),O=n.scales[e];if(!O||!i)return L;const gt=O.formatters[i];return gt?gt(L):L}constructor(n,t,e=function tn(){return new Un(je())}(),i=Rn()){(0,o.Z)(this,"chart",void 0),(0,o.Z)(this,"palette",void 0),(0,o.Z)(this,"markers",void 0),(0,o.Z)(this,"highlightedDataPoints",void 0),(0,o.Z)(this,"isLegendActive",!1),(0,o.Z)(this,"inputSeriesSet",[]),(0,o.Z)(this,"legendSeriesSet",[]),(0,o.Z)(this,"chartAssistSubject",new E.x),(0,o.Z)(this,"syncHandlerMap",void 0),(0,o.Z)(this,"getVisibleSeriesWithLegendBackup",void 0),(0,o.Z)(this,"syncSubscription",void 0),(0,o.Z)(this,"legendInteractionAssist",void 0),(0,o.Z)(this,"onEvent",void 0),(0,o.Z)(this,"toggleSeries",(s,u)=>{this.legendInteractionAssist.setGroupVisibility(s,u),this.update(this.inputSeriesSet,!1),this.chartAssistSubject.next({type:Ei.ToggleSeries,payload:{seriesId:s,visible:u}})}),(0,o.Z)(this,"resetVisibleSeries",()=>{this.legendInteractionAssist.resetSeries(),this.publishRenderStates(),this.chartAssistSubject.next({type:Ei.ResetVisibleSeries,payload:{}})}),(0,o.Z)(this,"emphasizeSeries",s=>{this.legendInteractionAssist.emphasizeSeries(s),this.publishRenderStates(),this.chartAssistSubject.next({type:Ei.EmphasizeSeries,payload:{seriesId:s}})}),(0,o.Z)(this,"getVisibleSeriesWithLegend",()=>this.legendSeriesSet.filter(s=>!this.isSeriesHidden(s.id))),this.chart=n,this.palette=e,this.markers=i,this.configureChartEventSubscriptions(n.getEventBus()),t&&(this.seriesProcessor=t),this.legendInteractionAssist=new p(this),this.syncHandlerMap={[Ei.EmphasizeSeries]:this.emphasizeSeries,[Ei.ResetVisibleSeries]:this.resetVisibleSeries,[Ei.ToggleSeries]:this.toggleSeries}}get renderStatesIndex(){return this.legendInteractionAssist.renderStatesIndex}legendLabelData$(n){return this.chart.getEventBus().getStream(ct.C1).asObservable().pipe((0,yr.h)(i=>i.data.interactionType===en.s.MouseMove),(0,xr.U)(i=>i.data.dataPoints[n.id])).pipe((0,ur.w)(i=>(i=>i&&i.index>=0)(i)?(0,er.of)(i.data):(0,er.of)(n.data&&n.data.length?n.data[n.data.length-1]:null)))}seriesProcessor(n){return n}update(n,t=!0){this.inputSeriesSet=n;const e=this.seriesProcessor(n.map(s=>({...s,data:s.data||[]})));this.legendSeriesSet=e.filter(s=>s.showInLegend||typeof s.showInLegend>"u"),t&&this.legendInteractionAssist.update(e);const i=e.map(s=>Object.assign({renderState:this.renderStatesIndex[s.id]?.state},s));this.chart.update(i),this.publishRenderStates()}isSeriesHidden(n){return this.legendInteractionAssist.isSeriesHidden(n)}seriesTrackByFn(n,t){return t.id}getHighlightedValue(n,t,e,i){if(this.highlightedDataPoints)return f.getLabel(n,this.highlightedDataPoints[n.id],t,e,i)}syncWithChartAssist(n){this.getVisibleSeriesWithLegendBackup=this.getVisibleSeriesWithLegend,this.getVisibleSeriesWithLegend=n.getVisibleSeriesWithLegend,this.syncSubscription=n.chartAssistSubject.pipe((0,I.R)(n.chart.getEventBus().getStream(ct.wu))).subscribe(t=>{const e=Object.keys(t.payload).map(i=>t.payload[i]);this.syncHandlerMap[t.type](...e)})}unsyncChartAssist(){this.getVisibleSeriesWithLegend=this.getVisibleSeriesWithLegendBackup,this.syncSubscription&&this.syncSubscription.unsubscribe()}configureChartEventSubscriptions(n){const t={[ct.C1]:e=>{e.interactionType===en.s.MouseMove&&(this.highlightedDataPoints=Object.assign({},e.dataPoints))},[ct.TC]:e=>{e.index>=0?this.emphasizeSeries(e.seriesId):this.resetVisibleSeries()},[ct.CC]:e=>{this.isLegendActive=e}};mn()(Object.keys(t),e=>{n.getStream(e).subscribe(i=>{t[e](i.data),this.onEvent&&this.onEvent(i)})})}publishRenderStates(){this.chart.setSeriesStates(this.legendInteractionAssist.getSeriesStates())}}class p{constructor(n){(0,o.Z)(this,"chartAssist",void 0),(0,o.Z)(this,"seriesGroups",{}),(0,o.Z)(this,"seriesIndex",void 0),(0,o.Z)(this,"renderStatesIndex",{}),this.chartAssist=n}update(n){this.seriesGroups=this.getSeriesGroups(n),this.seriesIndex=Wt()(n,t=>t.id),this.resetSeries();for(const t of n.filter(e=>e.renderState))this.renderStatesIndex[t.id]=new c(t.id,t,t.renderState===Pt.L.hidden?Pt.L.default:t.renderState,t.renderState!==Pt.L.hidden)}getSeriesStates(){return st()(this.renderStatesIndex)}isSeriesHidden(n){const t=this.renderStatesIndex[n];return t&&!t.visible}getSeriesGroups(n){const t={};for(const e of n){const i=e.id.indexOf("__"),s=i>=0?e.id.substring(0,i):e.id;t[s]||(t[s]=[]),t[s].push(e.id)}return t}setGroupState(n,t){if(this.seriesGroups[n])for(const e of this.seriesGroups[n])this.setRenderState(e,t)}setGroupVisibility(n,t){if(this.seriesGroups[n])for(const e of this.seriesGroups[n])this.setVisibility(e,t)}emphasizeSeries(n){for(const t of Object.keys(this.seriesGroups))this.setGroupState(t,t===n?Pt.L.emphasized:Pt.L.deemphasized)}resetSeries(){const n=this.chartAssist.getVisibleSeriesWithLegend();if(1===n.length)this.emphasizeSeries(n[0].id);else for(const e of Object.keys(this.seriesGroups))this.setGroupState(e,Pt.L.default)}setRenderState(n,t){let e=this.renderStatesIndex[n];e?e.emphasisState=t:(e=new c(n,this.seriesIndex[n],t),this.renderStatesIndex[n]=e)}setVisibility(n,t){let e=this.renderStatesIndex[n];e?e.visible=t:(e=new c(n,this.seriesIndex[n],Pt.L.default,t),this.renderStatesIndex[n]=e)}}class M{constructor(){(0,o.Z)(this,"_width",0),(0,o.Z)(this,"_height",0),(0,o.Z)(this,"margin",{top:0,right:0,bottom:0,left:0}),(0,o.Z)(this,"padding",{top:0,right:0,bottom:0,left:0}),(0,o.Z)(this,"marginLocked",{top:!1,right:!1,bottom:!1,left:!1}),(0,o.Z)(this,"autoWidth",!0),(0,o.Z)(this,"autoHeight",!0)}width(n){return void 0===n?this._width:(this._width=n,this)}height(n){return void 0===n?this._height:(this._height=n,this)}outerWidth(n){const t=this.margin.right+this.margin.left;return void 0===n?this._width+t:(this._width=Math.max(n-t,0),this)}outerHeight(n){const t=this.margin.top+this.margin.bottom;return void 0===n?this._height+t:(this._height=Math.max(n-t,0),this)}}function w(l,n){const t=l.text(),e=t.split(""),i=l.text("").append("tspan").attr("class",`${ct.N0} ellipsis`).text("..."),s=l.insert("tspan",":first-child").attr("class",`${ct.N0} text`).text(t),u=n.ellipsisWidth+2*n.horizontalPadding,m=e.length;let C=(s?.node()?.getComputedTextLength()||0)+2*n.horizontalPadding;for(;e.length&&(C>n.widthLimit||" "===e[e.length-1]);)e.pop(),s.text(e.join("")),C=u+(s?.node()?.getComputedTextLength()||0);e.length===m&&i.remove()}class S{constructor(){(0,o.Z)(this,"visible",!0),(0,o.Z)(this,"gridTicks",!1),(0,o.Z)(this,"tickSize",5),(0,o.Z)(this,"tickLabel",{horizontalPadding:0,overflowHandler:w}),(0,o.Z)(this,"fit",!1),(0,o.Z)(this,"_approximateTicks",5),(0,o.Z)(this,"padding",0)}get approximateTicks(){return this._approximateTicks}set approximateTicks(n){this._approximateTicks=parseInt(n,10)}}class F{constructor(n){(0,o.Z)(this,"className",void 0),(0,o.Z)(this,"color",void 0),(0,o.Z)(this,"width",void 0),(0,o.Z)(this,"visible",!0),this.className=n}}class j{constructor(){(0,o.Z)(this,"interactive",!0),(0,o.Z)(this,"dimension",new M),(0,o.Z)(this,"borders",{top:void 0,bottom:void 0,left:void 0,right:void 0}),(0,o.Z)(this,"cursor","crosshair"),(0,o.Z)(this,"disableRenderAreaHeightCorrection",!1),(0,o.Z)(this,"disableRenderAreaWidthCorrection",!1)}}let W=(()=>{class l extends j{constructor(){super(),(0,o.Z)(this,"axis",{top:new S,right:new S,bottom:new S,left:new S}),(0,o.Z)(this,"interactionPlugins",!0),this.dimension.padding=Object.assign({},l.DEFAULT_PADDING),this.dimension.margin=Object.assign({},l.DEFAULT_MARGIN),this.borders.bottom=new F("nui-chart-border nui-chart-border--thick"),this.borders.left=new F("nui-chart-border nui-chart-border--thick"),this.borders.left.visible=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=0,this.axis.left.padding=10,this.axis.right.fit=!0,this.axis.right.tickSize=0,this.axis.right.padding=10,this.axis.bottom.tickLabel.horizontalPadding=5}}return(0,o.Z)(l,"DEFAULT_MARGIN",{top:0,right:5,bottom:20,left:30}),(0,o.Z)(l,"DEFAULT_PADDING",{left:0,right:0,top:5,bottom:5}),l})();var ut=a(56859),at=a(11094),tt=a.n(at),wt=a(33816),lt=a.n(wt),B=a(61746),yt=a(66073);let nt=(()=>{class l{constructor(t,e,i,s){(0,o.Z)(this,"target",void 0),(0,o.Z)(this,"interactiveArea",void 0),(0,o.Z)(this,"gridMargin",void 0),(0,o.Z)(this,"active",new h.X(!1)),(0,o.Z)(this,"interaction",new h.X({type:en.s.Click,coordinates:{x:0,y:0}})),(0,o.Z)(this,"isActive",!1),(0,o.Z)(this,"onMouseInteraction",u=>{if(B.B.target.classList.contains(ct.N0))return;let m=0,C=0;const L=parseInt(this.interactiveArea.attr("width"),10)||0,O=parseInt(this.interactiveArea.attr("height"),10)||0;if(/firefox/i.test(navigator.userAgent)){let Ct=m+B.B.offsetX-(this.gridMargin?.left||0);Ct=Ct>L?L:Ct,m=Ct<0?0:Ct;let Yt=C+B.B.offsetY-(this.gridMargin?.top||0);Yt=Yt>O?O:Yt,C=Yt<0?0:Yt}else{const Ct=(0,yt.Z)(B.B.currentTarget),Yt=Ct[0]>L?L:Ct[0];m=Yt<0?0:Yt;const ge=Ct[1]>O?O:Ct[1];C=ge<0?0:ge}this.interaction.next({type:u,coordinates:{x:m,y:C}})}),(0,o.Z)(this,"onMouseOver",()=>{this.isActive||B.B.target.classList.contains(ct.N0)||(this.isActive=!0,this.active.next(!0))}),(0,o.Z)(this,"onMouseOut",()=>{if(!this.isActive)return;let u=B.B.relatedTarget;for(;u;){if(u===this.target.node())return;u=u.parentNode}this.isActive=!1,this.active.next(!1)}),(0,o.Z)(this,"onMouseEnter",()=>{this.onMouseOver()}),(0,o.Z)(this,"onMouseLeave",()=>{this.onMouseOut()}),this.target=t,this.interactiveArea=e,this.gridMargin=s,this.interactiveArea.style("cursor",i).classed(l.CONTAINER_CLASS,!0),this.target.on("mouseover",this.onMouseOver).on("mouseout",this.onMouseOut).on(en.s.MouseDown,()=>this.onMouseInteraction(en.s.MouseDown)).on(en.s.MouseUp,()=>this.onMouseInteraction(en.s.MouseUp)).on(en.s.MouseMove,()=>this.onMouseInteraction(en.s.MouseMove)).on(en.s.Click,()=>this.onMouseInteraction(en.s.Click))}}return(0,o.Z)(l,"CONTAINER_CLASS","mouse-interactive-area"),l})();var Ot=a(73943),Zt=a.n(Ot),te=a(93205),Oe=a(91237),Be=a.n(Oe);const Ce=(l,n,t)=>{const e=function We(l,n){return l.reduce((t,e)=>{for(const i of Object.keys(e.scales)){if(i===n)continue;const s=e.scales[i];s.isDomainFixed&&(t[i]||(t[i]=[]),-1===Be()(t[i],s)&&t[i].push(s))}return t},{})}(l,n);return function Ue(l,n){if(n.isContinuous()){const e=l.filter(u=>u!==pt.iz);return 0===e.length?pt.iz:[(0,ut.VV$)(e.filter(u=>void 0!==typeof u[0]).map(u=>u[0])),(0,ut.Fp7)(e.filter(u=>void 0!==typeof u[1]).map(u=>u[1]))]}const t=Math.max(...l.map(e=>e.length));return Array.from(Array(t)).map((e,i)=>{const s=l.map(u=>i<u.length?u[i]:[]);return $t()(vt()(s))})}(l.map(s=>{const u=Object.keys(e).reduce((m,C)=>{const L=s.scales[C];return L&&L.isContinuous()&&-1!==Be()(e[C],L)&&(m[C]=L),m},{});return s.renderer.getDomainOfFilteredData(s,u,n,s.scales[n])}),t)},me=l=>(n,t,e)=>{const i=Ce(n,t,e);return[Math.min(i[0],l[0]),Math.max(i[1],l[1])]};class Ze{constructor(n){(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"domainCalculator",Ce),(0,o.Z)(this,"formatters",{}),(0,o.Z)(this,"isDomainFixed",void 0),(0,o.Z)(this,"scaleUnits",void 0),(0,o.Z)(this,"isTimeseriesScale",!1),(0,o.Z)(this,"isReversed",!1),(0,o.Z)(this,"_fixDomainValues",[]),(0,o.Z)(this,"_d3Scale",void 0),this.id=n||Te.uuid(),this._d3Scale=this.createD3Scale()}get d3Scale(){return this._d3Scale}get fixDomainValues(){return this._fixDomainValues}setFixDomainValues(n){n.length>1&&(this.domain([n[0],n[n.length-1]]),this.isDomainFixed=!0),this._fixDomainValues=n}range(n){return n?(this._d3Scale.range(this.isReversed?n.reverse():n),this):this._d3Scale.range()}domain(n){return n?(this._d3Scale.domain(n),this):this._d3Scale.domain()}fixDomain(n){return this.domain(n),this.isDomainFixed=!0,this}isDomainValid(){return-1===this.domain().findIndex(n=>void 0===n)}reverse(){return this.reversed(!this.isReversed)}reversed(n){return typeof n>"u"?this.isReversed:(this.isReversed=n,this)}}class et extends Ze{constructor(n){super(n),this.formatters.tick=t=>t?.toLocaleString()}createD3Scale(){return(0,te.BY)()}convert(n){return this._d3Scale(n)}invert(n){return this._d3Scale.invert(n)}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(n=>isNaN(n))}}class Qt extends Ze{constructor(n){super(n),(0,o.Z)(this,"innerScale",void 0),this.formatters.tick=t=>{if(be()(t))throw new Error("Can't format bandFormatScale");return Zt()(t)}}createD3Scale(){return(0,ut.tiA)()}convert(n,t=.5){return this._d3Scale(n)+t*this.bandwidth()}invert(n){const t=this._d3Scale.domain();if(this.range()[0]<this.range()[1]){const e=this.getRangeMidPoints(t.map(this._d3Scale));return t[(0,ut.b4o)(e,n)]}{const e=this.getRangeMidPoints(t.map((i,s)=>this._d3Scale(t[t.length-1-s])));return t[t.length-1-(0,ut.b4o)(e,n)]}}range(n){const t=n?super.range(n):super.range();return n&&this.innerScale&&this.innerScale.range([0,this.bandwidth()]),t}round(n){return n?(this._d3Scale.round(n),this):this._d3Scale.round()}padding(n){return this._d3Scale.paddingInner(n),this._d3Scale.paddingOuter(n/2),this}align(n){return n?(this._d3Scale.align(n),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}step(){return this.domain().length?Math.abs(this.range()[1]-this.range()[0])/this.domain().length:0}copyToLinear(){const n=new et;return n.domain(this.range()).range(this.range()),n}bandTicks(){const n=[],t=this.range()[0],e=this.step();for(let i=0;i<=this.domain().length;i++)n.push(t+i*e);return n}isContinuous(){return!1}getRangeMidPoints(n){return n.slice(1).map(t=>t-this._d3Scale.step()*this._d3Scale.paddingInner()/2)}}var we=a(62516),Ne=a.n(we);let nn=(()=>{class l extends Tn.w{constructor(t="title"){super(),(0,o.Z)(this,"formatterName",void 0),(0,o.Z)(this,"areLabelUpdatesEnabled",!0),(0,o.Z)(this,"isChartInView",!1),(0,o.Z)(this,"lastInteractionValuesPayload",void 0),(0,o.Z)(this,"interactionLabelLayer",void 0),(0,o.Z)(this,"destroy$",new E.x),(0,o.Z)(this,"elBBox",void 0),this.formatterName=t}initialize(){this.interactionLabelLayer=this.chart.getGrid().getLasagna().addLayer({name:l.LAYER_NAME,order:901,clipped:!1}),this.chart.getEventBus().getStream(ct.hk).pipe((0,I.R)(this.destroy$)).subscribe(t=>{if(t.data.values?.y){const e=this.chart.getGrid(),i=Object.keys(t.data.values.y),s=e.scales.y.list[0];if(s.isTimeseriesScale&&!i.includes(s.id))return}this.lastInteractionValuesPayload=t.data,this.isChartInView&&this.handleLabelUpdate()}),this.chart.getEventBus().getStream(ct._7).pipe((0,I.R)(this.destroy$)).subscribe(t=>{this.isChartInView=t.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLabelUpdate()})}handleLabelUpdate(){const t=this.chart.getGrid();if(!(t instanceof fi))throw new Error(`${l.name} requires XYGrid`);const e=t.scales;if(!this.areLabelUpdatesEnabled||this.lastInteractionValuesPayload.interactionType!==en.s.MouseMove||un()(e))return;const i=Ne()(e.x.index,{id:t.bottomScaleId});if(!i)throw new Error("xScale is not defined");const s=Te.getInteractionValues(this.lastInteractionValuesPayload.values.x,i.id);this.updateLabel(i,_e()(s)?s.slice(0,s.length-1):s)}updateLabel(t,e){let i=this.interactionLabelLayer.select(`.${l.LAYER_NAME}`);if(i.empty()&&e)i=this.buildInteractionLabel(this.interactionLabelLayer);else if(!e)return void i.remove();const u=(t.formatters[this.formatterName]||t.formatters.tick)?.(e);if(!u)throw new Error("labelContent is not defined");const m=i.select("text").text(u);this.elBBox||(this.elBBox=m.node().getBBox());const C=this.chart.getGrid().config().dimension,L=C.height()-this.elBBox.y;m.attr("transform",`translate(0, ${L})`).style("text-anchor","middle");const gt=this.elBBox.width+2*(this.elBBox.height+this.elBBox.y),Ct=[gt/2,C.width()-gt/2],Yt=oe(t,e,.5),ge=Te.clampToRange(Yt,Ct);i.attr("transform",`translate(${ge},0)`).select("rect").attrs({transform:`translate(0,${L})`,x:-gt/2,y:this.elBBox.y,width:gt,height:this.elBBox.height})}destroy(){this.chart.getGrid().getLasagna().removeLayer(l.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}buildInteractionLabel(t){const e=t.append("g").attr("class",l.LAYER_NAME);return e.append("rect").attr("class",`${l.LAYER_NAME}__rect`),e.append("text").attr("class",`${l.LAYER_NAME}__text`),e}}return(0,o.Z)(l,"LAYER_NAME","interaction-label"),l})(),Nn=(()=>{class l extends Tn.w{constructor(...t){super(...t),(0,o.Z)(this,"isChartInView",!1),(0,o.Z)(this,"lastInteractionValuesPayload",void 0),(0,o.Z)(this,"interactionLineLayer",void 0),(0,o.Z)(this,"destroy$",new E.x)}initialize(){this.interactionLineLayer=this.chart.getGrid().getLasagna().addLayer({name:"interaction-line",order:900,clipped:!0}),this.chart.getEventBus().getStream(ct.hk).pipe((0,I.R)(this.destroy$)).subscribe(t=>{this.lastInteractionValuesPayload=t.data,this.isChartInView&&this.handleLineUpdate()}),this.chart.getEventBus().getStream(ct._7).pipe((0,I.R)(this.destroy$)).subscribe(t=>{this.isChartInView=t.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLineUpdate()})}handleLineUpdate(){const t=this.chart.getGrid();if(!(t instanceof fi))throw new Error(`${l.name} requires XYGrid`);const e=t.scales;if(this.lastInteractionValuesPayload.interactionType!==en.s.MouseMove||un()(e))return;const i=Ne()(e.x.index,{id:t.bottomScaleId});if(!i)throw new Error("xScale is not defined");const s=Te.getInteractionValues(this.lastInteractionValuesPayload.values.x,i.id);this.updateLine(this.interactionLineLayer,i,s)}updateLine(t,e,i){const s=[];i&&s.push(i);const u=t.selectAll(`.${l.LAYER_NAME}`).data(s),m=L=>e.convert(L),C={class:l.LAYER_NAME,x1:m,y1:0,x2:m,y2:this.chart.getGrid().config().dimension.height()};u.enter().append("line").merge(u).attrs(C),u.exit().remove()}destroy(){this.chart.getGrid().getLasagna().removeLayer(l.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}}return(0,o.Z)(l,"LAYER_NAME","interaction-line"),l})();class ni extends Tn.w{constructor(n){super(),(0,o.Z)(this,"mouseInteractiveArea",void 0),(0,o.Z)(this,"destroy$",new E.x),(0,o.Z)(this,"interactionValuesActive",!0),this.mouseInteractiveArea=n}initialize(){this.mouseInteractiveArea.active.pipe((0,I.R)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(ct.CC).next({data:n})}),this.chart.getEventBus().getStream(ct.CC).pipe((0,I.R)(this.destroy$)).subscribe(n=>{!n.data&&this.chart.getDataManager().chartSeriesSet&&this.highlightReset()}),this.chart.getEventBus().getStream(ct.N).pipe((0,I.R)(this.destroy$)).subscribe(n=>this.interactionValuesActive=n.data),this.mouseInteractiveArea.interaction.pipe((0,I.R)(this.destroy$)).subscribe(n=>{const t=this.chart.getGrid().scales;if(!un()(t)){if(this.interactionValuesActive){const m=Te.getXYValues(t.x.list,t.y.list,n.coordinates.x,n.coordinates.y);this.chart.getEventBus().getStream(ct.hk).next({data:{interactionType:n.type,values:m}})}this.chart.getEventBus().getStream(ct.DP).next({data:{interactionType:n.type,coordinates:n.coordinates}})}})}update(){this.highlightReset()}updateDimensions(){this.highlightReset()}destroy(){this.destroy$.next(),this.destroy$.complete()}highlightReset(){this.chart.getEventBus().getStream(ct.hk).next({data:{interactionType:en.s.MouseMove,values:{}}})}}var Si=a(9120),xi=a.n(Si);let Ci=(()=>{class l{constructor(t,e){(0,o.Z)(this,"clipPath",void 0),(0,o.Z)(this,"layers",[]),(0,o.Z)(this,"container",void 0),this.clipPath=e,this.container=t.append("g").attr("class",`${l.CONTAINER_CLASS} pointer-events`)}addLayer(t){return this.layers=xi()(this.layers.concat(t),"order"),this.update(),this.getLayerContainer(t.name)}removeLayer(t){const e=this.layers.findIndex(i=>i.name===t);-1!==e&&(this.layers.splice(e,1),this.update())}getLayerContainer(t){return this.container.select(`.${l.LAYER_CLASS}-${t}`)}getContainer(){return this.container}update(){const t=this.container.selectAll(`g.${l.LAYER_CLASS}`).data(this.layers,e=>e.name).order();t.enter().append("g").attrs({class:e=>`${l.LAYER_CLASS} ${l.LAYER_CLASS}-${e.name}`,"clip-path":e=>e.clipped?`url(#${this.clipPath})`:"","pointer-events":"none"}),t.exit().remove()}}return(0,o.Z)(l,"CONTAINER_CLASS","lasagna-container"),(0,o.Z)(l,"LAYER_CLASS","lasagna-layer"),l})();const Pn=.5;let qn=(()=>{class l{constructor(){(0,o.Z)(this,"updateChartDimensionsSubject",void 0),(0,o.Z)(this,"eventBus",void 0),(0,o.Z)(this,"container",void 0),(0,o.Z)(this,"renderingAreaClipPath",void 0),(0,o.Z)(this,"renderingArea",void 0),(0,o.Z)(this,"interactiveArea",void 0),(0,o.Z)(this,"lasagna",void 0),(0,o.Z)(this,"gridElementsLayer",void 0),(0,o.Z)(this,"borders",{}),(0,o.Z)(this,"_scales",void 0),(0,o.Z)(this,"_config",void 0),(0,o.Z)(this,"_target",void 0),(0,o.Z)(this,"adjustRenderingArea",()=>{const t=this.config().dimension,e=this.config().disableRenderAreaHeightCorrection,i=this.config().disableRenderAreaWidthCorrection,s={width:Math.max(0,t.width()),height:Math.max(0,t.height()+(e?0:l.RENDER_AREA_HEIGHT_CORRECTION))};e||(s.y=-l.RENDER_AREA_HEIGHT_CORRECTION);const u={...s,width:Math.max(0,t.width()-(i?0:l.RENDER_AREA_WIDTH_CORRECTION))};this.renderingAreaClipPath.attrs(s),this.renderingArea.attrs(u)})}getInteractiveArea(){return this.interactiveArea}getLasagna(){return this.lasagna}set scales(t){this._scales=t}get scales(){return this._scales}config(t){return void 0===t?this._config:(this._config=t,this)}target(t){return void 0===t?this._target:(this._target=t,this)}build(){if(!this.config()){const i=new j;this.config(i)}this.container=this._target.append("g").attrs({class:l.GRID_CLASS_NAME});const t=l.RENDERING_AREA_CLIP_PATH_PREFIX+Te.uuid();this.lasagna=new Ci(this.container,t),this.renderingArea=this.buildRenderingArea(t),this.adjustRenderingArea(),this.gridElementsLayer=this.lasagna.addLayer({name:l.GRID_ELEMENTS_LAYER_NAME,order:100,clipped:!1});const e=this.buildBorders(this.gridElementsLayer);return e&&(this.borders=e),this}buildPlugins(t){return[]}update(){return un()(this.scales)||(this.updateBorders(),this.adjustRenderingArea()),this}updateDimensions(t){const e=this.config().dimension;return t.width&&e.outerWidth(t.width-this.getOuterWidthDimensionCorrection()),t.height&&e.outerHeight(t.height),this.adjustRenderingArea(),this.updateRanges(),this}updateRanges(){return this.update(),this}getOuterWidthDimensionCorrection(){return l.TICK_DIMENSION_CORRECTION}buildBorders(t){if(!this.config()||!this.config().borders)return;const e=this.config().borders,i={},s=Object.keys(e);return mn()(s,u=>{e[u]&&(i[u]=this.createBorder(t,e[u])??void 0)}),i}buildRenderingArea(t){return this.renderingAreaClipPath=this._target.append("clipPath").attr("id",t).append("rect"),this.lasagna.addLayer({name:l.RENDERING_AREA_LAYER_NAME,order:-1,clipped:!0}).append("rect").attrs({"pointer-events":"all",fill:"transparent"})}createBorder(t,e){const i=t.append("line").attr("class",e.className||l.DEFAULT_BORDER_CLASS_NAME);return e.width&&i.style("stroke-width",e.width),e.color&&i.style("stroke",e.color),i.node()}updateBottomBorder(){if(!this.borders.bottom)throw new Error("BottomBorder is not defined");(0,A.Z)(this.borders.bottom).attrs({x1:0,y1:this.config().dimension.height()-Pn,x2:this.config().dimension.width()+l.TICK_DIMENSION_CORRECTION,y2:this.config().dimension.height()-Pn,class:this._config.borders.bottom.className||l.DEFAULT_BORDER_CLASS_NAME}).classed("hidden",!this._config.borders.bottom?.visible)}updateBorders(){this.borders.bottom&&this.updateBottomBorder(),this.borders.top&&(0,A.Z)(this.borders.top).attrs({x1:0,y1:Pn,x2:this.config().dimension.width()+l.TICK_DIMENSION_CORRECTION,y2:Pn}).classed("hidden",!this._config.borders.top?.visible),this.borders.right&&(0,A.Z)(this.borders.right).attrs({x1:this.config().dimension.width()-Pn,y1:0,x2:this.config().dimension.width()-Pn,y2:this.config().dimension.height()+l.TICK_DIMENSION_CORRECTION}).classed("hidden",!this._config.borders.right?.visible),this.borders.left&&(0,A.Z)(this.borders.left).attrs({x1:Pn,y1:0,x2:Pn,y2:this.config().dimension.height()+l.TICK_DIMENSION_CORRECTION}).classed("hidden",!this._config.borders.left?.visible)}}return(0,o.Z)(l,"GRID_CLASS_NAME","nui-chart-grid"),(0,o.Z)(l,"DEFAULT_BORDER_CLASS_NAME","nui-chart-border"),(0,o.Z)(l,"RENDERING_AREA_CLIP_PATH_PREFIX","clip-path_"),(0,o.Z)(l,"GRID_ELEMENTS_LAYER_NAME","grid-elements"),(0,o.Z)(l,"RENDERING_AREA_LAYER_NAME","rendering-area"),(0,o.Z)(l,"RENDER_AREA_HEIGHT_CORRECTION",1),(0,o.Z)(l,"RENDER_AREA_WIDTH_CORRECTION",1),(0,o.Z)(l,"TICK_DIMENSION_CORRECTION",1),l})(),fi=(()=>{class l extends qn{get bottomScaleId(){return this._bottomScaleId?this._bottomScaleId:un()(this.scales)?void 0:this.scales.x.list[0].id}set bottomScaleId(t){this._bottomScaleId=t}get leftScaleId(){return this._leftScaleId?this._leftScaleId:un()(this.scales)?void 0:this.scales.y.list[0].id}set leftScaleId(t){this._leftScaleId=t}get rightScaleId(){return this._rightScaleId}set rightScaleId(t){this._rightScaleId=t}set scales(t){this._scales=t,this._scales&&Object.keys(this._scales).forEach(e=>{let s,i=this.config().axis.left;"x"!==e&&"y"!==e||this._scales[e]?.list?.filter(u=>u instanceof et).forEach(u=>{u?.id===this.leftScaleId?(i=this.config().axis.left,s=ut.y4O):u?.id===this.rightScaleId?(i=this.config().axis.right,s=ut.Khx):u?.id===this.bottomScaleId&&(i=this.config().axis.bottom,s=ut.LLu),u.domainCalculator&&!(0,pt._v)(u.domainCalculator)&&i.gridTicks&&(u.__domainCalculatedWithTicks=!0,u.domainCalculator=((l,n,t)=>{const e=(i,s,u)=>{const m=t(i,s,u),C=ot()(u);Xt(C,m);const O=n(C.d3Scale).scale().ticks(l.approximateTicks);if(O.length<=1)return m;const gt=O[1]-O[0];return O[0]>m[0]&&(m[0]=O[0]-gt),O[O.length-1]<m[1]&&(m[1]=O[O.length-1]+gt),m};return e.domainWithTicks=!0,e})(i,s,u.domainCalculator))})})}get scales(){return this._scales}config(t){return void 0===t?this._config:(this._config=t,this)}constructor(t){super(),(0,o.Z)(this,"axisX",{}),(0,o.Z)(this,"axisYLeft",{}),(0,o.Z)(this,"axisYRight",{}),(0,o.Z)(this,"gridY",{}),(0,o.Z)(this,"gridX",{}),(0,o.Z)(this,"_bottomScaleId",void 0),(0,o.Z)(this,"_leftScaleId",void 0),(0,o.Z)(this,"_rightScaleId",void 0),(0,o.Z)(this,"reconcileMarginsDebounce",void 0),(0,o.Z)(this,"handleTickLabelOverflowDebounceIndex",{}),(0,o.Z)(this,"isApproximatelyEqual",(e,i)=>Math.abs(e-i)<.1),this.config(t||new W)}build(){return super.build(),this.config().interactive&&(this.interactiveArea=this.renderingArea),this.buildAxes(this.gridElementsLayer),this.recalculateMargins(this.container),this.eventBus.getStream(ct.GJ).pipe((()=>(0,I.R)(this.eventBus.getStream(ct.wu)))()).subscribe(e=>{const i=this.handleSeriesStateChange(e);this.eventBus.getStream(ct.mg).next({data:i})}),this}handleSeriesStateChange(t){if(!this.rightScaleId)return;const e=[{scaleId:this.leftScaleId,element:this.axisYLeft.group},{scaleId:this.rightScaleId,element:this.axisYRight?.group}],i=this.calculateAxesStyles(t,e);for(const s of e)s.scaleId&&s.element.attrs(i[s.scaleId]);return i}calculateAxesStyles(t,e){const s=t.data.filter(u=>u.state===Pt.L.emphasized&&u.series).map(u=>u.series);if(s.length>0){const u=$t()(s.map(m=>m?.scales.y).filter(m=>!!m));if(u.length<=0)return{};for(const m of u)if(m.id===this.leftScaleId||m.id===this.rightScaleId)return e.reduce((C,L)=>(C[L.scaleId]={opacity:m.id===L.scaleId?1:.1},C),{});return{}}return e.reduce((u,m)=>(u[m.scaleId]={opacity:1},u),{})}buildPlugins(t){const e=[],i=this.config();return i.interactive&&e.push(new ni(new nt(this.getLasagna().getContainer(),this.getInteractiveArea(),i.cursor,i.dimension.margin))),i.interactionPlugins&&(e.push(new Nn),e.push(new nn)),e}update(){return super.update(),this.updateAxes(),this.handleMarginUpdate(),this}drawTicks(t,e,i,s){if(t.visible){const u=s(i.d3Scale).ticks(t.approximateTicks).tickSize(0);let m;i.fixDomainValues?.length&&u.tickValues(i.fixDomainValues),u.tickFormat(i.formatters.tick),e.labelGroup.call(u),i instanceof Qt?m=s(i.copyToLinear().d3Scale).tickSize(t.tickSize).tickValues(i.bandTicks()).tickFormat(()=>""):(m=s(i.d3Scale).tickSize(t.tickSize),i.fixDomainValues?.length&&m.tickValues(i.fixDomainValues),m.tickFormat(()=>""),m.ticks(t.approximateTicks)),e.tickGroup.call(m),this.adjustAxisTicks(e.labelGroup,i)}else e.labelGroup.selectAll("*").remove(),e.tickGroup.selectAll("*").remove()}drawGrids(t,e,i,s,u){const C=i(s.d3Scale).tickSize(u);s.fixDomainValues?.length&&C.tickValues(s.fixDomainValues),C.tickFormat(()=>"").ticks(t.approximateTicks),t.gridTicks?e.tickGroup.call(C).selectAll(".tick line").classed("nui-zero-line",O=>0===O):e.tickGroup.selectAll("*").remove()}updateRanges(){if(un()(this.scales))return this;const t=this.config().dimension,e=t.padding;return this.scales.x&&mn()(this.scales.x.list,i=>{i.range([e.left,t.width()-e.right])}),this.scales.y&&mn()(this.scales.y.list,i=>{i.range([t.height()-e.bottom,e.top])}),super.updateRanges(),this}updateXAxis(){const t=this.bottomScaleId?this.scales.x.index[this.bottomScaleId]:void 0,e=this.config().axis;if(!t)throw new Error("xScale is not defined");this.axisX.group.attr("transform",`translate(0, ${this.config().dimension.height()})`),this.axisX.labelGroup.attr("transform",`translate(0, ${e.bottom.tickSize})`),this.drawTicks(e.bottom,this.axisX,t,ut.LLu),this.drawGrids(e.bottom,this.gridX,ut.F5q,t,this.config().dimension.height()),this.gridX.tickGroup.attr("transform",`translate(0, ${this.config().dimension.height()})`)}updateYAxes(){const t=this.config().axis,e=this.leftScaleId?this.scales.y.index[this.leftScaleId]:void 0;if(!e)throw new Error("yLeftScale is not defined");if(this.axisYLeft.labelGroup.attr("transform",`translate(${-t.left.tickSize-t.left.padding}, 0)`),this.drawTicks(t.left,this.axisYLeft,e,ut.y4O),this.drawGrids(t.left,this.gridY,ut.Khx,e,this.config().dimension.width()),this.rightScaleId){const i=this.scales.y.index[this.rightScaleId],s=t.right.padding+this.config().dimension.width()+t.right.tickSize;this.axisYRight.labelGroup.attr("transform",`translate(${s}, 0)`),this.axisYRight.tickGroup.attr("transform",`translate(${this.config().dimension.width()}, 0)`),this.drawTicks(t.right,this.axisYRight,i,ut.Khx)}}updateAxes(){this.target()&&(this.updateXAxis(),this.updateYAxes())}adjustAxisTicks(t,e){const i=[];t.attr("cursor","default"),t.selectAll("g").each(function(){(0,A.Z)(this).classed("sw-hidden",!1).classed("tick-hidden-text",!1),i.push(this)}),this.filterRepeatedElements(i).forEach(m=>{(0,A.Z)(m).classed("tick-hidden-text",!0)});const u=this.selectAllAxisLabels(t);u.forEach(m=>{const C=(0,A.Z)(m);if(C.select("text").attr("x",0).classed(ct.N0,!0),C.classed("pointer-events",!0),C.select("title").empty()){const L=C.data()[0],O=e.formatters.tick?e.formatters.tick(L):L;C.append("title").text(O)}}),this.handleTickLabelOverflow(t,e,u)}handleTickLabelOverflow(t,e,i){const s=this.config().axis;if(e.id===this.bottomScaleId&&(e.isContinuous()||!s.bottom.tickLabel.overflowHandler))return void this.getElementsToHide(i,this._config.dimension.width(),!0).forEach(Ae=>{const Ln=(0,A.Z)(Ae);Ln.classed("tick-hidden-text",!0),Ln.classed("pointer-events",!1)});(e.id===this.rightScaleId||e.id===this.leftScaleId)&&this.getElementsToHide(i,this._config.dimension.height(),!1).forEach(Ae=>{(0,A.Z)(Ae).classed("sw-hidden",!0)});const u=this.config().dimension.margin;let L,m=0,C=0,O=!1,gt=!1;const Ct=s.right.tickLabel.maxWidth,Yt=s.left.tickLabel.maxWidth;if(e.id===this.bottomScaleId){const he=s.bottom.tickLabel.maxWidth,Ae=e.bandwidth?e.bandwidth():this.getTickDistance(i);m=be()(he)?Ae:Ae>he?he:Ae,C=s.bottom.tickLabel.horizontalPadding,L=s.bottom.tickLabel.overflowHandler}else if(e.id!==this.rightScaleId||s.right.fit)if(e.id!==this.leftScaleId||s.left.fit)if(e.id===this.rightScaleId&&s.right.fit&&!be()(Ct))m=Ct,C=s.right.tickLabel.horizontalPadding,L=s.right.tickLabel.overflowHandler,gt=!0;else{if(e.id!==this.leftScaleId||!s.left.fit||be()(Yt))return;m=Yt,C=s.left.tickLabel.horizontalPadding,L=s.left.tickLabel.overflowHandler,O=!0}else{const he=u.left-s.left.padding-s.left.tickSize;m=be()(Yt)?he:he>Yt?Yt:he,C=s.left.tickLabel.horizontalPadding,L=s.left.tickLabel.overflowHandler}else{const he=u.right-s.right.padding-s.right.tickSize;m=be()(Ct)?he:he>Ct?Ct:he,C=s.right.tickLabel.horizontalPadding,L=s.right.tickLabel.overflowHandler}if(!L)return;let ge=0;if(t.select(".sample-ellipsis").empty()){const he=t.append("text");ge=he.classed("sample-ellipsis",!0).attr("opacity",0).append("tspan").text("...").node()?.getComputedTextLength()||0,he.remove()}this.handleTickLabelOverflowDebounceIndex[e.id]&&(clearTimeout(this.handleTickLabelOverflowDebounceIndex[e.id]),this.handleTickLabelOverflowDebounceIndex[e.id]=null),t.classed("tick-hidden-text",!0),i.forEach(he=>{(0,A.Z)(he).classed("pointer-events",!1)}),this.handleTickLabelOverflowDebounceIndex[e.id]=setTimeout(()=>{i.forEach(Ae=>{const Ln=(0,A.Z)(Ae);Ln.select("text").call(L,{widthLimit:m,horizontalPadding:C,ellipsisWidth:ge}),Ln.classed("pointer-events",!0)});const he=this._config.dimension.marginLocked;he&&(gt||O)&&(this.handleMarginUpdate(),he.right=gt,he.left=O),t.classed("tick-hidden-text",!1)},l.TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL)}selectAllAxisLabels(t){const e=[];return t.selectAll("g:not(.tick-hidden-text)").each(function(){e.push(this)}),e}getOuterWidthDimensionCorrection(){return this.config().axis.bottom.visible?qn.TICK_DIMENSION_CORRECTION:0}handleMarginUpdate(){const t=tt()(this._config.dimension.margin);this.recalculateMargins(this.container),this.reconcileMarginsWithDebounce(t)}hasRightYAxis(){return this.config().axis.right.visible&&this.rightScaleId?.length>0}buildAxes(t){this.gridY.tickGroup=t.append("g").classed("sw-axis sw-axis-grid sw-axis-gridY",!0),this.gridX.tickGroup=t.append("g").classed("sw-axis sw-axis-grid sw-axis-gridX",!0),this.axisX.group=t.append("g").classed("sw-axis sw-axis-x",!0),this.axisX.tickGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-ticks",!0),this.axisX.labelGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-labels",!0),this.axisYLeft.group=t.append("g").classed("sw-axis sw-axis-y sw-axis-y-left",!0),this.axisYLeft.tickGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYLeft.labelGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0),this.axisYRight.group=t.append("g").classed("sw-axis sw-axis-y sw-axis-y-right",!0),this.axisYRight.tickGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYRight.labelGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0)}filterRepeatedElements(t){const e=[t[0]];return t.reduce((i,s)=>{const u=(0,A.Z)(s).text();return u!==i&&e.push(s),u},t[0]&&(0,A.Z)(t[0]).text()),t.filter(i=>-1===e.indexOf(i))}getElementsToHide(t,e,i){const s=i?"width":"height",u=this.getTextMeasurement(t,s)<e,m=!!i&&this.getMaxTextWidth(t)<this.getTickDistance(t);if(i?u&&m:u)return[];const L=this.elementsFiltering(t,e,s);return t.filter(O=>-1===L.indexOf(O))}elementsFiltering(t,e,i){let s,u=2;const m=C=>"width"===i?this.getMaxTextWidth(C)>this.getTickDistance(C):this.getTextMeasurement(C,i)>e;do{if(s=t.filter((C,L)=>L%u==0),u++,1===s.length&&m(s))break}while(m(s));return s}getTextMeasurement(t,e){const i="width"===e?5:0;return t.reduce((s,u)=>s+u.getBoundingClientRect()[e]+i,0)}getMaxTextWidth(t){return 0===t.length?0:Math.max.apply(null,t.map(e=>e.getBoundingClientRect().width))}getTickDistance(t){if(0===t.length)return 0;let e=1/0;return t.map(s=>{const u=s.getAttribute("transform");if(lt()(u))throw new Error("tick transform is not defined");return parseFloat(u.slice(u.indexOf("(")+1,u.indexOf(",")))}).reduce((s,u)=>{const m=u-s;return m<e&&(e=m),u}),e}recalculateMargins(t){if(!t)return;const e=this._config.dimension,i=this.config().axis,s=e.outerWidth(),u=e.outerHeight();!e.marginLocked?.left&&i.left.fit&&i.left.visible&&(e.margin.left=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYLeft.labelGroup))+i.left.tickSize+i.left.padding),!e.marginLocked?.right&&i.right.fit&&this.hasRightYAxis()&&(e.margin.right=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYRight.labelGroup))+i.right.tickSize+i.right.padding),i.bottom.fit&&i.bottom.visible&&((this.bottomScaleId&&this.scales?this.scales.x?.index[this.bottomScaleId]:void 0)?.isContinuous()||!i.bottom.tickLabel.overflowHandler)&&this.fitBottomAxis(e);const L=e.margin.bottom;e.margin.top=e.margin.top,e.margin.bottom=L,e.outerWidth(s),e.outerHeight(u);const O=this.config().dimension.margin.left,gt=this.config().dimension.margin.top;t.attr("transform",`translate(${O}, ${gt})`)}fitBottomAxis(t){const e=this.scales?.x?.list[0].d3Scale;if(!e)return;let i=0,s=0;const u=this.axisX.labelGroup.select(".tick:not(.tick-hidden-text):last-child text").node();if(u){i=u.getBoundingClientRect().width,s=e(u.innerHTML)??0;const m=e.range()[1],C=i/2-Math.abs(m-s)/2;t.margin.right=C>0?C:0}}reconcileMarginsWithDebounce(t){this.reconcileMarginsDebounce&&(clearTimeout(this.reconcileMarginsDebounce),this.reconcileMarginsDebounce=null),this.reconcileMarginsDebounce=setTimeout(()=>{this.areMarginsApproximatelyEqual(t,this._config.dimension.margin)||this.updateChartDimensionsSubject?.next()},100)}areMarginsApproximatelyEqual(t,e){return this.isApproximatelyEqual(t.top,e.top)&&this.isApproximatelyEqual(t.right,e.right)&&this.isApproximatelyEqual(t.bottom,e.bottom)&&this.isApproximatelyEqual(t.left,e.left)}}return(0,o.Z)(l,"TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL",200),l})();const nr="gauge-label",ki="gauge-labels",hr="threshold-label";var wr=a(84524);function Ir(l,n){return n<l?-1:n>l?1:n>=l?0:NaN}function ir(l){return l}var zi=a(6947);function Gi(){var l=ir,n=Ir,t=null,e=(0,fn.Z)(0),i=(0,fn.Z)(zi.BZ),s=(0,fn.Z)(0);function u(m){var C,O,gt,Ln,vr,L=m.length,Ct=0,Yt=new Array(L),ge=new Array(L),he=+e.apply(this,arguments),Ae=Math.min(zi.BZ,Math.max(-zi.BZ,i.apply(this,arguments)-he)),Vi=Math.min(Math.abs(Ae)/L,s.apply(this,arguments)),mr=Vi*(Ae<0?-1:1);for(C=0;C<L;++C)(vr=ge[Yt[C]=C]=+l(m[C],C,m))>0&&(Ct+=vr);for(null!=n?Yt.sort(function(Vr,$r){return n(ge[Vr],ge[$r])}):null!=t&&Yt.sort(function(Vr,$r){return t(m[Vr],m[$r])}),C=0,gt=Ct?(Ae-L*mr)/Ct:0;C<L;++C,he=Ln)ge[O=Yt[C]]={data:m[O],index:C,value:vr=ge[O],startAngle:he,endAngle:Ln=he+(vr>0?vr*gt:0)+mr,padAngle:Vi};return ge}return u.value=function(m){return arguments.length?(l="function"==typeof m?m:(0,fn.Z)(+m),u):l},u.sortValues=function(m){return arguments.length?(n=m,t=null,u):n},u.sort=function(m){return arguments.length?(t=m,n=null,u):t},u.startAngle=function(m){return arguments.length?(e="function"==typeof m?m:(0,fn.Z)(+m),u):e},u.endAngle=function(m){return arguments.length?(i="function"==typeof m?m:(0,fn.Z)(+m),u):i},u.padAngle=function(m){return arguments.length?(s="function"==typeof m?m:(0,fn.Z)(+m),u):s},u}class Ui{static generateThresholdArcData(n){if(!n.length)return[];const t=Ui.generateArcValues(n),e=[];return Gi().sort(null)(t).forEach((u,m)=>{m%2==1&&e.push(u)}),e}static generateArcValues(n){const t=Array(2*n.length-1).fill(0);return n.forEach((e,i)=>{t[2*i]=0===i?e.value:e.value-n[i-1].value}),t}}var rr=a(56204);const Ar={markerRadius:Fn.Large,enabled:!0};class dr extends rr.E{constructor(n={}){super(n),(0,o.Z)(this,"config",void 0),this.config=n,this.config=Ve()(this.config,Ar)}draw(n,t){const e=n.containers[Pt.n.data],i=ot()(this.config.enabled?n.dataSeries.data:[]);i.sort((C,L)=>C.value-L.value),this.segmentWidth=this.getSegmentWidth(n);const s=this.getInnerRadius(n.scales.r.range(),0),u=(0,wr.Z)().outerRadius(this.getOuterRadius(n.scales.r.range(),0)).innerRadius(s>=0?s:0),m=e.selectAll(`circle.${Ai}`).data(Ui.generateThresholdArcData(i));m.exit().remove(),m.enter().append("circle").attr("class",Ai).merge(m).attr("cx",C=>u.centroid(C)[0]).attr("cy",C=>u.centroid(C)[1]).attr("r",this.config.markerRadius).style("fill",(C,L)=>`var(--nui-color-${i[L].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getInnerRadius(n,t){if(be()(this.segmentWidth))throw new Error("Can't compute inner radius");const e=n[1]-n[0]-this.segmentWidth;return e>=0?e:0}}let Mr=(()=>{class l extends Tn.w{constructor(t={}){super(),(0,o.Z)(this,"config",void 0),(0,o.Z)(this,"DEFAULT_CONFIG",{padding:5,formatterName:nr,disableThresholdLabels:!1}),(0,o.Z)(this,"destroy$",new E.x),(0,o.Z)(this,"lasagnaLayer",void 0),this.config=t,this.config=Ve()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:ki,order:ct.rz[Pt.n.data].order,clipped:!1}),this.chart.getEventBus().getStream(ct.C1).pipe((0,I.R)(this.destroy$)).subscribe(t=>{const e=this.lasagnaLayer.select(`.${ki}`);if(!e.empty()){const i=t.data.dataPoints,s=Object.keys(i).find((u,m)=>i[u].index===ct.hZ)?0:1;e.style("opacity",s)}})}update(){this.drawThresholdLabels()}updateDimensions(){this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}drawThresholdLabels(){const t=this.chart.getDataManager().chartSeriesSet.find(O=>O.renderer instanceof dr);if(be()(t))return void console.warn("Threshold series is undefined. As a result, threshold labels for the donut gauge will not be rendered.");let e=this.lasagnaLayer.select(`.${ki}`);e.empty()&&(e=this.lasagnaLayer.append("svg:g").attr("class",ki).style("opacity",0));const s=t?.renderer?.getOuterRadius(t?.scales.r.range()??[0,0],0)+this.config.padding;if(be()(s))throw new Error("Radius is undefined");const u=(0,wr.Z)().outerRadius(s).innerRadius(s),m=t?.scales.r.formatters[this.config.formatterName]??(O=>O),C=ot()(this.config.disableThresholdLabels?[]:t?.data);if(be()(C))throw new Error("Gauge threshold series data is undefined");C.sort((O,gt)=>O.value-gt.value);const L=e.selectAll(`text.${hr}`).data(Ui.generateThresholdArcData(C));L.exit().remove(),L.enter().append("text").attr("class",hr).merge(L).attr("transform",O=>`translate(${u.centroid(O)})`).attr("title",(O,gt)=>m(C[gt].value)).style("text-anchor",O=>this.getTextAnchor(O.startAngle)).style("dominant-baseline",O=>this.getAlignmentBaseline(O.startAngle)).text((O,gt)=>m(C[gt].value))}getTextAnchor(t){const e=Math.cos(t-Math.PI/2);return e>.5?"start":e<-.5?"end":"middle"}getAlignmentBaseline(t){const e=Math.sin(t+Math.PI/2);return e>.5?"text-after-edge":e<-.5?"text-before-edge":"central"}}return(0,o.Z)(l,"MARGIN_DEFAULT",25),l})();class Tr extends Tn.w{constructor(n={}){super(),(0,o.Z)(this,"config",void 0),(0,o.Z)(this,"DEFAULT_CONFIG",{padding:5,formatterName:nr,disableThresholdLabels:!1,flippedLabels:!1}),(0,o.Z)(this,"destroy$",new E.x),(0,o.Z)(this,"lasagnaLayer",void 0),(0,o.Z)(this,"isHorizontal",!0),(0,o.Z)(this,"thresholdsSeries",void 0),(0,o.Z)(this,"xTranslate",(t,e)=>{if(this.isHorizontal){const i=this.thresholdsSeries,s=this.thresholdsSeries?.accessors?.data?.value?.(t,e,i?.data,i);return this.thresholdsSeries?.scales.x.convert(s)}return this.getLabelOffset()}),(0,o.Z)(this,"yTranslate",(t,e)=>{if(this.isHorizontal)return this.getLabelOffset();const i=this.thresholdsSeries,s=this.thresholdsSeries?.accessors?.data?.value?.(t,e,i?.data,i);return this.thresholdsSeries?.scales.y.convert(s)}),this.config=n,this.config=Ve()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:ki,order:ct.rz[Pt.n.data].order,clipped:!1}),this.chart.getEventBus().getStream(ct.CC).pipe((0,I.R)(this.destroy$)).subscribe(n=>{const t=this.lasagnaLayer.select(`.${ki}`);t.empty()||t.style("opacity",n.data?1:0)})}update(){this.updateData(),this.drawThresholdLabels()}updateDimensions(){this.updateData(),this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}updateData(){this.thresholdsSeries=this.chart.getDataManager().chartSeriesSet.find(n=>n.id===yi),this.isHorizontal=this.thresholdsSeries?.scales.x instanceof et}drawThresholdLabels(){if(be()(this.thresholdsSeries))return void console.warn("Threshold series is undefined. As a result, threshold labels for the linear gauge will not be rendered.");let n=this.lasagnaLayer.select(`.${ki}`);n.empty()&&(n=this.lasagnaLayer.append("svg:g").attr("class",ki).style("opacity",0));const t=ot()(this.config.disableThresholdLabels?[]:this.thresholdsSeries?.data);if(be()(t))throw new Error("Gauge threshold series data is undefined");t.pop();const e=this.thresholdsSeries?.scales[this.isHorizontal?"x":"y"].formatters[this.config.formatterName]??(s=>s),i=n.selectAll(`text.${hr}`).data(t);i.exit().remove(),i.enter().append("text").attr("class",hr).merge(i).attr("transform",(s,u)=>`translate(${this.xTranslate(s,u)}, ${this.yTranslate(s,u)})`).attr("title",(s,u)=>e(t[u].value)).style("text-anchor",s=>this.getTextAnchor()).style("dominant-baseline",s=>this.getAlignmentBaseline()).text((s,u)=>e(t[u].value))}getLabelOffset(){let n=0;if(!this.config.flippedLabels){const e=this.chart.getGrid().config().dimension;n=this.isHorizontal?e.height():e.width()}let t=this.config.padding;return t=this.config.flippedLabels?-t:t,n+t}getTextAnchor(){return this.isHorizontal?"middle":this.config.flippedLabels?"end":"start"}getAlignmentBaseline(){return this.isHorizontal?this.config.flippedLabels?"text-after-edge":"hanging":"central"}}class sr extends Xn{constructor(n,t){super(n,t),this.data={...this.data,startX:(e,i,s,u)=>this.data.category(e,i,s,u),endX:(e,i,s,u)=>this.data.category(e,i,s,u),thicknessX:(e,i,s,u)=>this.data.thickness?this.data.thickness(e,i,s,u):void 0,startY:(e,i,s,u)=>this.data.start(e,i,s,u),endY:(e,i,s,u)=>this.data.end(e,i,s,u)}}}function _r(l,n=new et){const t=new Qt;let e;return l&&l.grouped&&(t.padding(.25),t.innerScale=new Qt),l&&l.horizontal?(t.reverse(),e={x:n,y:t}):e={x:t,y:n},e}const fr={markerRadius:Fn.Large,enabled:!0};class ar extends pi{constructor(n={}){super(n),(0,o.Z)(this,"config",void 0),this.config=n,this.config=Ve()(this.config,fr)}draw(n,t){const e=n.containers[Pt.n.unclippedData],i=n.dataSeries,s=i.accessors,u=ot()(this.config.enabled?i.data:[]);u.pop();const m=e.selectAll(`circle.${Ai}`).data(u);m.exit().remove(),m.enter().append("circle").attr("class",Ai).merge(m).attr("cx",(C,L)=>n.scales.x.convert(s?.data?.endX?.(C,L,i.data,i))).attr("cy",(C,L)=>n.scales.y.convert(s?.data?.endY?.(C,L,i.data,i))).attr("r",this.config.markerRadius).style("fill",(C,L)=>`var(--nui-color-${u[L].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getRequiredLayers(){return[ct.rz[Pt.n.unclippedData]]}}var Or=a(83223),Zr=a.n(Or);function br(l,n){if(0===l.length)return l;const t=function Nr(l,n="category"){return l.reduce((t,e)=>{const i=e.accessors.data[n],s=e.data.reduce((u,m,C)=>(u.push(i?.(m,C,e.data,e)),u),[]);return Zr()(t,s,u=>u.valueOf())},[])}(l.filter(e=>be()(e.preprocess)||e.preprocess));return l.reduce((e,i)=>{if(!be()(i.preprocess)&&!i.preprocess)return e;const s=i.accessors.data.category,u=i.accessors.data.value;if(!u)throw new Error("valueAccessor is not defined");const m=i.data.reduce((L,O,gt)=>({...L,[s(O,gt,i.data,i)]:gt}),{}),C=[];return t.forEach((L,O)=>{let gt;if(void 0!==m[L]){gt=i.data[m[L]];const Ct={},Yt=n(i)?1:0;Ct.start=e[O],e[O]+=(u(gt,m[L],i.data,i)||0)*Yt,Ct.end=e[O],gt.__bar=Ct,C.push(gt)}}),i.data=C,e},Array(t.length).fill(0)),l}function Br(l){return br(l,n=>!this.isSeriesHidden(n.id))}class Er{constructor(n=je()){(0,o.Z)(this,"colorProvider",void 0),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"series",void 0),this.colorProvider=n,this.data={value:t=>Number.isFinite(t)?t:t.value},this.series={color:this.colorProvider?this.colorProvider.get:void 0}}}class Dr extends qn{constructor(...n){super(...n),(0,o.Z)(this,"adjustRenderingArea",()=>{const t=this.config().dimension,e={width:t.outerWidth(),height:t.outerHeight(),transform:`translate(${-t.outerWidth()/2}, ${-t.outerHeight()/2})`};this.renderingAreaClipPath.attrs(e),this.renderingArea.attrs(e)})}build(){return super.build(),this.recenter(),this}updateDimensions(n){const t=this.config().dimension;if(be()(n.width)||t.outerWidth(n.width),be()(n.height)||t.outerHeight(n.height),this.scales){const e=this.scales.r;e&&e.list[0].range([0,Math.min(t.width(),t.height())/2])}return this.adjustRenderingArea(),this.updateRanges(),setTimeout(()=>{this.recenter()}),this}recenter(){this.container.attrs({transform:`translate(${this.config().dimension.outerWidth()/2},${this.config().dimension.outerHeight()/2})`})}}function Sr(){const l=new j;return l.interactive=!1,(new Dr).config(l)}function Pr(l,n){if(!l[0])return l;const t=Gi().sort(null),s=l[0].data.reduce((u,m)=>(u.push(l.map(C=>n(C)&&!C.excludeFromArcCalculation?C.accessors.data.value(C.data[u.length],u.length,C.data,C):0)),u),[]).map(u=>t(u));return l.map((u,m)=>({...u,data:!1===u.preprocess?u.data:s.map(C=>({...C[m],data:u.data[0]}))}))}function Cr(l){return Pr(l,n=>!this.isSeriesHidden(n.id))}function kr(){return{r:(new et).fixDomain(pt.rX)}}let r=(()=>{class l{static createChartAssist(t,e,i){const s=e===gn.Donut?Sr():new fi(function q(l,n=Ni.Large){const t=new W;return t.interactionPlugins=!1,t.disableRenderAreaHeightCorrection=!0,t.axis.bottom.visible=!1,t.axis.bottom.gridTicks=!1,t.axis.left.visible=!1,t.axis.left.gridTicks=!1,t.borders.left.visible=!1,t.borders.bottom.visible=!1,t.dimension=new M,l===gn.Vertical?(t.dimension.autoWidth=!1,t.dimension.width(n)):(t.dimension.autoHeight=!1,t.dimension.height(n)),t}(e,t.linearThickness)),u=s.config(),m=new tr(s),C=!un()(t.thresholds?.definitions)&&!t.thresholds?.disableMarkers;return e===gn.Donut?(C&&(m.addPlugin(i??new Mr),u.dimension.margin=l.getMarginForLabelClearance(t,e,u.dimension.margin)),new f(m,Cr)):(C&&(m.addPlugin(i??new Tr({flippedLabels:!!t.labels?.flipped})),u.dimension.margin=l.getMarginForLabelClearance(t,e,u.dimension.margin)),new f(m,Br))}static assembleSeriesSet(t,e){t.value=t.value??0,t.max=t.max??0;const i=l.clampConfigToRange(t),s=l.generateRenderingAttributes(i,e);let u,m=[];return i.thresholds&&(u=l.generateThresholdSeries(i,s),m.push(u)),m=[...l.generateQuantityAndRemainderSeriesSet(i,s,u?.activeThreshold),...m],m}static update(t,e){e.value=e.value??0,e.max=e.max??0;const i=l.clampConfigToRange(e),s=l.generateThresholdsData(i);return t.map(m=>m.id===jn?{...m,data:[{category:l.DATA_CATEGORY,value:i.value}],activeThreshold:s.activeThreshold,defaultColor:i.defaultQuantityColor||Qn.Ok}:m.id===Di?{...m,data:[{category:l.DATA_CATEGORY,value:i.max-i.value}]}:m.id===yi?(m.renderer.config.enabled=!i.thresholds?.disableMarkers,m.renderer.config.markerRadius=i.thresholds?.markerRadius??Fn.Large,{...m,...s}):m)}static createStandardThresholdsConfig(t,e){return{definitions:{[Je.Warning]:{id:Je.Warning,value:t,enabled:!0,color:Qn.Warning},[Je.Critical]:{id:Je.Critical,value:e,enabled:!0,color:Qn.Critical}},reversed:!1,disableMarkers:!1,markerRadius:Fn.Large}}static getMarginForLabelClearance(t,e,i){if(e===gn.Donut){const L=t.labels?.clearance??30,O=Math.max(...Object.values(i),L);return{top:O,right:O,bottom:O,left:O}}let s;const u=!!t.labels?.flipped;s=e===gn.Horizontal?u?"top":"bottom":u?"left":"right";const C=Math.max(i[s],t.labels?.clearance??He[s]);return{...i,[s]:C}}static generateQuantityAndRemainderSeriesSet(t,e,i){return l.generateQuantityAndRemainderData(t).map(u=>{const{quantityAccessors:m,remainderAccessors:C,scales:L,mainRenderer:O}=e;return m.data&&(m.data.color=(gt,Ct,Yt,ge)=>ge.activeThreshold?ge.activeThreshold.color:ge.defaultColor),C.data&&(C.data.color=()=>t.remainderColor||Qn.Remainder),u.id===jn&&(u.activeThreshold=i,u.defaultColor=t.defaultQuantityColor||Qn.Ok),{...u,accessors:u.id===jn?m:C,scales:L,renderer:O}})}static generateThresholdSeries(t,e){const{quantityAccessors:i,scales:s,thresholdsRenderer:u}=e;return{...l.generateThresholdsData(t),accessors:i,scales:s,renderer:u,excludeFromArcCalculation:!0,preprocess:!1}}static generateRenderingAttributes(t,e){const i=l.generateRenderingTools(t,e);return{quantityAccessors:i.quantityAccessorFunction(),remainderAccessors:i.remainderAccessorFunction(),mainRenderer:i.mainRendererFunction(),thresholdsRenderer:i.thresholdsRendererFunction(),scales:i.scaleFunction()}}static generateRenderingTools(t,e){const i={enabled:!t.thresholds?.disableMarkers,markerRadius:t.thresholds?.markerRadius},s=t.labels?.formatter;return{[gn.Donut]:{mainRendererFunction:()=>new rr.E({strokeWidth:0,enableSeriesHighlighting:!1}),thresholdsRendererFunction:()=>new dr(i),quantityAccessorFunction:()=>new Er,remainderAccessorFunction:()=>new Er,scaleFunction:()=>{const m=kr();return m.r.formatters[nr]=s,m}},[gn.Horizontal]:{mainRendererFunction:()=>new pi({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new ar(i),quantityAccessorFunction:()=>new ln,remainderAccessorFunction:()=>new ln,scaleFunction:()=>{const m=_r({horizontal:!0});return m.x.formatters[nr]=s,m}},[gn.Vertical]:{mainRendererFunction:()=>new pi({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new ar(i),quantityAccessorFunction:()=>new sr,remainderAccessorFunction:()=>new sr,scaleFunction:()=>{const m=_r();return m.y.formatters[nr]=s,m}}}[e]}static generateQuantityAndRemainderData(t){return[{id:jn,data:[{category:l.DATA_CATEGORY,value:t.value}]},{id:Di,data:[{category:l.DATA_CATEGORY,value:t.max-t.value}]}]}static generateThresholdsData(t){if(!t.thresholds)throw new Error("Thresholds are not defined in the gauge config. Unable to generate threshold data.");const{thresholds:e,activeThreshold:i}=l.prepareThresholdsData(t);return{id:yi,data:[...e,{id:"max",enabled:!0,category:l.DATA_CATEGORY,value:t.max,color:""}],activeThreshold:i}}static prepareThresholdsData(t){const e=Object.values(t.thresholds?.definitions||[]).filter(s=>s.enabled).map(s=>({...s,category:l.DATA_CATEGORY,hit:t.thresholds?.reversed?s.value<t.value:s.value<=t.value})).sort((s,u)=>s.value-u.value),i=t.thresholds?.reversed?e?.find(s=>!be()(s.hit)&&!s.hit):e?.slice().reverse().find(s=>s.hit);return{thresholds:e,activeThreshold:i}}static clampConfigToRange(t){let e=t.value;t.value>t.max&&(console.warn(`Configured gauge value ${t.value} is greaterthan configured max ${t.max}. Clamping value to ${t.max}.`),e=t.max),t.value<0&&(console.warn(`Configured gauge value ${t.value} is less than 0. Clamping value to 0.`),e=0);const i=t.thresholds?.definitions||{};return Object.keys(i||{}).forEach(s=>{const u=i[s];u&&(u.value>t.max&&(console.warn(`Configured threshold value ${u.value} for threshold ${s} is greaterthan configured max ${t.max}. Clamping value to ${t.max}.`),u.value=t.max),u.value<0&&(console.warn(`Configured threshold value ${u.value} is less than 0. Clamping value to 0.`),u.value=0))}),{...t,thresholds:{...t.thresholds,definitions:i},value:e}}}return(0,o.Z)(l,"DATA_CATEGORY","gauge"),l})();a(9647);class P{constructor(n,t){(0,o.Z)(this,"valueMap",void 0),(0,o.Z)(this,"defaultValue",void 0),(0,o.Z)(this,"get",e=>this.valueMap[e]||this.defaultValue),this.valueMap=n,this.defaultValue=t,this.reset()}reset(){}}class T{constructor(n){(0,o.Z)(this,"element",void 0),(0,o.Z)(this,"svg",void 0),this.element=document.createElement("path"),this.setAttributes({class:"nui-chart-element-marker nui-chart--path__outline","vector-effect":"non-scaling-stroke",d:n})}setColor(n){this.setAttributes({fill:n})}setAttributes(n){for(const t of Object.keys(n))this.element.setAttribute(t,n[t]);this.updateSvg()}getSvg(){return this.svg}updateSvg(){this.svg=this.element.outerHTML}}const _t=(l,n)=>(t,e,i)=>n(l().concat(t),e,i);class Mt extends Ze{constructor(n){super(n),this.formatters.tick=t=>t}createD3Scale(){return(0,te.q2)()}convert(n){return this._d3Scale(n)}invert(n){const t=this._d3Scale.domain(),e=t.map(this._d3Scale).slice(0,-1).map(i=>i+this._d3Scale.step()/2);return t[(0,Ye.b4)(e,n)]}round(n){return n?(this._d3Scale.round(n),this):this._d3Scale.round()}padding(n){return this._d3Scale.padding(n),this}align(n){return n?(this._d3Scale.align(n),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}isContinuous(){return!1}}var Tt=a(15439),Bt=a.n(Tt);const Rt=(l,n)=>new Intl.DateTimeFormat(Bt().locale(),n).format(l),wn=l=>(0,ut.Z_i)(l)<l?(l=>Rt(l,{hour:"numeric",minute:"2-digit",second:"2-digit"}))(l):(0,ut.rr1)(l)<l?(l=>Rt(l,{hour:"numeric",minute:"2-digit"}))(l):(0,ut.F0B)(l)<l?(l=>Rt(l,{month:"short",day:"2-digit"}))(l):(0,ut.jBk)(l)<l?(l=>Rt(l,{month:"short"}))(l):(l=>Rt(l,{year:"numeric"}))(l);class Dn extends Ze{constructor(n){super(n),this.formatters.tick=wn}createD3Scale(){return(0,te.Xf)()}convert(n){return this._d3Scale(n)}invert(n){const t=this._d3Scale.invert(n);return isNaN(t.getTime())?void 0:t}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(n=>isNaN(n.getTime()))}}function vn(l){const n=new Date(l.getFullYear(),0,1).getTimezoneOffset(),t=new Date(l.getFullYear(),6,1).getTimezoneOffset();return Math.max(n,t)!==l.getTimezoneOffset()}class ii extends Dn{constructor(n,t){super(t),(0,o.Z)(this,"_bandScale",void 0),(0,o.Z)(this,"_interval",void 0),(0,o.Z)(this,"defaultTitleFormatter",e=>{const i=this.interval().asDays(),s=vn(e),u=vn(this.domain()[0]),m=!s&&u;let L=0;(m||s&&!u)&&i>=1&&(L=m?36e5:-36e5);const O=new Date(e.getTime()+L),gt=i>=1?Bt()(O).add(i,"days").toDate():Bt()(O).add(this.interval()).toDate();return wn(O)+" - "+wn(gt)}),this.interval(n),this._bandScale=(0,te.ti)(),this.formatters.title=this.defaultTitleFormatter}interval(n){return n?(this._interval=n,this):this._interval}domain(n){if(n){if(0===n.length||n.length%2!=0)throw new Error("TimeIntervalScale domain has to be defined as a pair of [from, to] time values.");const t=De()(n,pt.iz),e=[];if(!t)for(let s=0;s+1<n.length;s+=2)e.push(...this.getBandsForInterval(n[s],n[s+1]));this._bandScale.domain(e);const i=t?n:[n[0],Bt()(n[1]).add(this.interval()).toDate()];return super.domain(i)}return super.domain()}range(n){return n?(this._bandScale.range(n),super.range(n)):super.range()}getBands(){return this._bandScale.domain()}convert(n,t=.5){const e=this.truncToInterval(n,this.interval());if(!e)throw new Error("Could not convert interval");const i=this._bandScale(e);return"number"==typeof i?i+t*this.bandwidth():super.convert(n)}invert(n){const t=super.invert(n);return this.truncToInterval(t,this.interval())}bandwidth(){return this._bandScale.bandwidth()}truncToInterval(n,t,e=!1){if(!n)return n;const i=vn(n),s=e?i:vn(this.domain()[0]),u=s&&!i,m=!s&&i,L=this.interval().asDays()>=1&&m?(0,Tt.duration)(1,"hour").asMilliseconds():0,O=new Date(n.getTime()+L);let gt=0;(u||m)&&(gt=u?-60:60);const Ct=6e4*(O.getTimezoneOffset()+gt),Yt=O.getTime()-Ct,he=Yt%t.asMilliseconds();return 0===he?O:new Date(Yt-he+Ct)}isContinuous(){return!0}getBandsForInterval(n,t){const e=[];let i=this.truncToInterval(n,this.interval(),!0);if(!i)throw new Error("Could not get bands for interval");const s=this.interval().asMilliseconds(),u=this.interval().asDays(),m=vn(n),C=vn(t),L=!m&&C?(0,Tt.duration)(1,"hour").asMilliseconds():0,O=u>=1?new Date(t.getTime()+L):t;for(;i<=O;)e.push(i),i=new Date(i.getTime()+s);return e}}class ri{constructor(n){(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"formatters",void 0),(0,o.Z)(this,"isDomainFixed",void 0)}convert(){}invert(){}get d3Scale(){}range(n){}domain(n){}fixDomain(n){return null}isContinuous(){return!1}isDomainValid(){return!0}reverse(){}reversed(n){}}class Wn extends W{constructor(){super(),this.dimension.padding.bottom=2}}class Hn extends W{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=5,this.axis.bottom.gridTicks=!1,this.axis.left.fit=!0,this.axis.bottom.tickSize=5,this.axis.left.tickSize=0,this.dimension.margin.right=0,this.dimension.padding.bottom=2}}class zn extends W{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!1,this.axis.left.tickSize=0,this.axis.bottom.gridTicks=!0,this.axis.left.fit=!0,this.axis.bottom.fit=!0,this.axis.bottom.tickSize=0,this.axis.left.tickSize=5,this.dimension.padding.left=2,this.borders.left.visible=!0,this.borders.bottom.visible=!1}}class si extends W{constructor(n={showBottomAxis:!0}){super(),this.interactive=!0,this.interactionPlugins=!1,n.showBottomAxis||(this.axis.bottom.visible=!1,this.borders.bottom.visible=!1),this.axis.left.visible=!1,this.axis.left.gridTicks=!1,this.borders.left.visible=!1,this.dimension.autoHeight=!1,this.dimension.margin.top=0,n.showBottomAxis||(this.dimension.margin.bottom=0),this.dimension.height(30)}}function Re(l=new W,n=!1,t=!0){return l.interactionPlugins=!1,l.axis.left.visible=!1,l.axis.left.gridTicks=!1,l.dimension.margin.left=5,l.dimension.margin.right=5,l.dimension.margin.bottom=n?l.dimension.margin.bottom:0,l.dimension.padding.top=5,l.dimension.padding.bottom=5,l.dimension.autoHeight=!1,l.dimension.height(36),t&&(l.borders.top=new F),n||(l.borders.bottom.visible=!1),l}var Bn=a(33679),Yn=a(6577);class Vn extends Yn.i{getAbsolutePosition(n){const t=this.chart.target?.node()?.parentNode;if(!t)throw new Error("Chart parent node is not defined");const e=Math.min(...n.map(m=>m.position.x)),i=Math.min(...n.map(m=>m.position.y)),s=t.offsetLeft+this.chart.getGrid().config().dimension.margin.left+e+this.chart.getGrid().config().dimension.width()/2;return{top:t.offsetTop+i+this.chart.getGrid().config().dimension.height()/2,left:s,height:0,width:0}}}var Se=a(3455);const _n=[{x:"end",y:"center"},{x:"end",y:"bottom"},{x:"center",y:"bottom"},{x:"start",y:"bottom"},{x:"start",y:"center"},{x:"start",y:"top"},{x:"center",y:"top"},{x:"end",y:"top"}],bn={start:"end",end:"start",top:"bottom",bottom:"top"};class Fi extends Se.n7{getTooltipPosition(n,t){const e=n.data,m=t.renderer.getOuterRadius(t.scales.r.range(),n.index)+this.tooltipPositionOffset,C=(e.startAngle+e.endAngle)/2-Math.PI/2;return{x:Math.cos(C)*m,y:Math.sin(C)*m,width:0,height:0,overlayPositions:[this.getOverlayPosition(C)]}}getAbsolutePosition(n,t){const e=super.getAbsolutePosition(n,t);return e.x+=this.chart.getGrid().config().dimension.width()/2,e.y+=this.chart.getGrid().config().dimension.height()/2,e}getOverlayPosition(n){const t=this.getSectionIndex(n,8);return{originX:_n[t].x,originY:_n[t].y,overlayX:this.opposite(_n[t].x),overlayY:this.opposite(_n[t].y)}}getSectionIndex(n,t){let e=Math.round(n/(2*Math.PI/t))%t;for(;e<0;)e+=t;return e}opposite(n){return bn[n]||n}}class pr extends Se.n7{constructor(n){super()}}var Ki=a(24099);let ji=(()=>{class l extends Tn.w{constructor(t={}){super(),(0,o.Z)(this,"config",void 0),(0,o.Z)(this,"grid",void 0),(0,o.Z)(this,"brush",void 0),(0,o.Z)(this,"zoomBrushLayer",void 0),(0,o.Z)(this,"brushElement",void 0),(0,o.Z)(this,"destroy$",new E.x),(0,o.Z)(this,"brushStartX",void 0),(0,o.Z)(this,"interactionHandlerMap",void 0),(0,o.Z)(this,"brushStart",e=>{be()(this.brushStartX)&&(this.chart.getEventBus().getStream(ct.N).next({data:!1}),this.brushStartX=e)}),(0,o.Z)(this,"brushMove",e=>{if(be()(this.brushStartX))return;const i=[this.brushStartX,e].sort((s,u)=>s-u);this.brush.move(this.brushElement,i)}),(0,o.Z)(this,"brushEnd",e=>{if(be()(this.brushStartX))return;const i=[this.brushStartX,e].sort((L,O)=>L-O);this.brushStartX=void 0,this.chart.getEventBus().getStream(ct.N).next({data:!0}),this.brush.move(this.brushElement,null);const s=this.grid.scales.x.list;if(!s||i[0]===i[1])return;let u=0;const m=this.grid.config();!m.disableRenderAreaWidthCorrection&&i[1]===m.dimension.width()-qn.RENDER_AREA_WIDTH_CORRECTION&&(u=qn.RENDER_AREA_WIDTH_CORRECTION);const C=s.reduce((L,O)=>(L[O.id]=[i[0],i[1]+u].map(gt=>O.invert(gt)),L),{});this.chart.getEventBus().getStream(ct.bd).next({data:C})}),this.config=t,this.config=Ve()(this.config,l.DEFAULT_CONFIG),this.interactionHandlerMap={[en.s.MouseDown]:this.brushStart,[en.s.MouseMove]:this.brushMove,[en.s.MouseUp]:this.brushEnd}}initialize(){this.grid=this.chart.getGrid(),this.zoomBrushLayer=this.grid.getLasagna().addLayer({name:l.LAYER_NAME,order:ct.rz[Pt.n.foreground].order+1,clipped:!0}),this.chart.getEventBus().getStream(ct.DP).pipe((0,I.R)(this.destroy$)).subscribe(t=>{if(t.broadcast&&!this.config.enableExternalEvents)return;const e=t.data;un()(this.grid.scales)||un()(e.coordinates)||!this.interactionHandlerMap[e.interactionType]||this.interactionHandlerMap[e.interactionType](e.coordinates&&e.coordinates.x)}),this.brush=(0,Ki.Yu)(),this.brushElement=this.zoomBrushLayer.append("g").attr("class","brush"),this.chart.getGrid().getInteractiveArea().on("pointerdown",()=>B.B.target.setPointerCapture(B.B.pointerId)).on("pointerup",()=>B.B.target.releasePointerCapture(B.B.pointerId))}updateDimensions(){const t=this.grid.config().dimension;this.brush.extent([[0,0],[t.width(),t.height()]]),this.brush(this.zoomBrushLayer.select(".brush")),this.brushElement.select(".overlay").style("pointer-events","none"),this.brushElement.select(".selection").attr("stroke",null)}destroy(){this.grid.getLasagna().removeLayer(l.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}}return(0,o.Z)(l,"LAYER_NAME","zoom-brush"),(0,o.Z)(l,"DEFAULT_CONFIG",{enableExternalEvents:!1}),l})();a(20406),a(47086);class Ur{constructor(n=!0,t=!0,e=new Un(Jt),i=new Ke(an)){(0,o.Z)(this,"showBottomAxis",void 0),(0,o.Z)(this,"showTopBorder",void 0),(0,o.Z)(this,"palette",void 0),(0,o.Z)(this,"markers",void 0),(0,o.Z)(this,"sparks",[]),(0,o.Z)(this,"isLegendActive",!1),(0,o.Z)(this,"gridConfig",void 0),(0,o.Z)(this,"lastGridConfig",void 0),(0,o.Z)(this,"highlightedDataPoints",{}),this.showBottomAxis=n,this.showTopBorder=t,this.palette=e,this.markers=i,this.gridConfig=Re(new W,!1,t),this.gridConfig.interactionPlugins=!1,this.lastGridConfig=Re(new W,n,t),this.lastGridConfig.interactionPlugins=!1}update(n){const t=n.map(e=>({id:e.id,chartSeriesSet:[e]}));this.updateSparks(t)}updateSparks(n){const t=ot()(n);this.sparks=t.map((e,i)=>{const s=i===t.length-1,u=e.id?this.sparks.findIndex(m=>m.id===e.id):-1;return-1!==u?e.chart=this.reconfigureChart(this.sparks[u].chart,s):(e.chart=e.chart||this.createChart(s),e.id=e.id||Te.uuid()),e.chart.update(e.chartSeriesSet),e})}getHighlightedValue(n,t,e){return f.getLabel(n,this.highlightedDataPoints[n.id],t,e)}trackByFn(n,t){return t?.id}setRenderState(n,t){}getVisibleSeriesWithLegend(){return[]}createChart(n){const t=new fi(n?this.lastGridConfig:this.gridConfig),e=new tr(t);return(this.showTopBorder||this.showBottomAxis)&&e.addPlugin(new Nn),n&&this.showBottomAxis&&e.addPlugin(new nn),this.configureEventSubscriptions(e.getEventBus()),e}configureEventSubscriptions(n){n.getStream(ct.C1).subscribe(t=>{if(t.data.interactionType===en.s.MouseMove){const e=t.data.dataPoints;Object.keys(e).forEach(i=>{this.highlightedDataPoints[i]=Object.assign({},e[i])})}}),n.getStream(ct.CC).subscribe(t=>{this.isLegendActive=t.data})}reconfigureChart(n,t){n.getGrid().config(t?this.lastGridConfig:this.gridConfig),n.updateDimensions();const e=n.hasPlugin(nn);if(t&&!e&&this.showBottomAxis){const i=new nn;n.addPlugin(i),i.initialize()}else!t&&e&&n.removePlugin(nn);return n}}a(83063),a(87373);class Fr{constructor(){(0,o.Z)(this,"series",void 0),(0,o.Z)(this,"data",void 0),this.series=void 0,this.data=void 0}}class Wr extends Me.T{draw(n,t){}highlightDataPoint(n,t,e){}getRequiredLayers(){return[]}getDataPointPosition(n,t,e){}}function Hr(l){const n=new fi;return n.config(l&&l.horizontal?new zn:new Hn),n}function zr(l,n,t){return l&&l.horizontal?new ln(n,t):new sr(n,t)}var Yr=a(36397),ee=a.n(Yr);class $e{constructor(n,t=1,e){(0,o.Z)(this,"scaleKey",void 0),(0,o.Z)(this,"levels",void 0),(0,o.Z)(this,"selectedDataPointIdxFn",void 0),this.scaleKey=n,this.levels=t,this.selectedDataPointIdxFn=e}getDataPointIndex(n,t,e,i){const s=e[this.scaleKey];return typeof s>"u"?ct.Vg:this.findDataPointByValue(t,s,this.scaleKey,i)}findDataPointByValue(n,t,e,i){const s=e.toUpperCase(),u=n.accessors.data,m=u["start"+s],C=u["end"+s];if("string"==typeof t)return ee()(n.data,(L,O)=>t===m?.(L,O,n.data,n));if(_e()(t))return ee()(n.data,(L,O)=>{const gt=m?.(L,O,n.data,n),Ct=Math.min(this.levels,t.length,gt.length);for(let Yt=0;Yt<Ct;Yt++)if(t[Yt]!==gt[Yt])return!1;return!0});if(t.valueOf){const L=t.valueOf();if(i&&i[e]?.isContinuous()){let O=ee()(n.data,(gt,Ct)=>L>=m?.(gt,Ct,n.data,n).valueOf()&&L<=C?.(gt,Ct,n.data,n).valueOf());if(-1===O&&typeof C<"u")if((0,pt.oT)(i[e])){const gt=(Yt,ge)=>m?.(Yt,ge,n.data,n),Ct=Te.findNearestIndex(n.data,t,gt);O=Ct>=n.data.length||gt(n.data[Ct],Ct)>L?-1:Ct}else O=Te.getClosestIndex(n.data,(gt,Ct)=>C(gt,Ct,n.data,n),t)??-1;return O}return ee()(n.data,(O,gt)=>L>=m?.(O,gt,n.data,n).valueOf()&&L<=C?.(O,gt,n.data,n).valueOf())}return ct.Vg}highlightDataPoint(n,t,e,i){const s=t.containers[Pt.n.data],u=n.getContainerStateStyles,m=be()(this.selectedDataPointIdxFn)?ct.hZ:this.selectedDataPointIdxFn(t.dataSeries.id);s.selectAll(`g.${n.barContainerClass}`).each(function(C,L){let O;O=e===ct.Vg?L===m||m===ct.hZ?Pt.L.default:Pt.L.deemphasized:e===L||L===m?Pt.L.emphasized:Pt.L.deemphasized,(0,A.Z)(this).attrs(u(O))})}draw(n,t,e){}}class Ut{constructor(n,t=1){(0,o.Z)(this,"scaleKey",void 0),(0,o.Z)(this,"levels",void 0),this.scaleKey=n,this.levels=t}getDataPointIndex(n,t,e,i){const s=e[this.scaleKey];return typeof s>"u"?ct.Vg:this.findDataPointByValue(t,s,this.scaleKey)}findDataPointByValue(n,t,e){const i=e.toUpperCase(),s=n.accessors.data,u=s["start"+i],m=s["end"+i];if("string"==typeof t)return ee()(n.data,(C,L)=>t===u?.(C,L,n.data,n));if(_e()(t))return ee()(n.data,(C,L)=>{const O=u?.(C,L,n.data,n),gt=Math.min(this.levels,t.length,O.length);for(let Ct=0;Ct<gt;Ct++)if(t[Ct]!==O[Ct])return!1;return!0});if(t.valueOf){const C=t.valueOf();return ee()(n.data,(L,O)=>C>=u?.(L,O,n.data,n).valueOf()&&C<=m?.(L,O,n.data,n).valueOf())}return ct.Vg}highlightDataPoint(n,t,e,i){(e>=0||e===ct.Vg)&&i.next({eventName:ct.TC,data:n.getDataPoint(t,t.dataSeries.data[e],e)})}draw(n,t,e){}}class ti extends rr.E{getArc(n,t,e){return t.outerRadius(n[1]-n[0]).innerRadius(0)}}function yn(l,n,t){const i=l.data,s=l.accessors.data?.[n];if(!s)throw new Error("Accessor "+n+" not defined!");const u=s(i[0],0,i,l),m=s(i[i.length-1],i.length-1,i,l);if(!u||!m)throw new Error("First or last values not defined!");const C=new ii(t);C.domain([C.truncToInterval(u,C.interval()),C.truncToInterval(m,C.interval())]);const L=C.getBands(),O=[];let gt=0;for(let Ct=0;Ct<i.length;Ct++){const Yt=s(i[Ct],Ct,i,l),ge=C.truncToInterval(Yt,C.interval());if(ge&&ge>L[gt])for(O.push({...i[Ct-1],defined:!1}),O.push({...i[Ct],defined:!1});L[gt]<Yt;)gt++;O.push(i[Ct]),gt++}return O}class ai{constructor(){(0,o.Z)(this,"INTERACTION_MARGIN",8)}draw(n,t,e){const i=t.containers[Pt.n.data];let s=i.select("path.interaction");if(lt()(n.config.strokeWidth))throw new Error("renderer.config.strokeWidth is not defined");s.empty()&&(s=i.append("path").classed("interaction",!0).classed("pointer-events pointer-events-click",!0).attrs({"stroke-width":n.config.strokeWidth+2*this.INTERACTION_MARGIN,stroke:"transparent",fill:"none"}).on("mouseenter",()=>{e.next({eventName:ct.TC,data:{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:0,data:t.dataSeries.data[0]}})}).on("mouseleave",()=>{e.next({eventName:ct.TC,data:{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:ct.hZ}})}).on("click",(u,m)=>{this.emitEvent(n,ct.Qi,en.s.Click,t,u,m,e)})),n.drawLine(t,s)}getDataPointIndex(n,t,e,i){}highlightDataPoint(n,t,e,i){}emitEvent(n,t,e,i,s,u,m){const C={seriesId:i.dataSeries.id,dataSeries:i.dataSeries,index:u,data:s,position:n.getDataPointPosition(i.dataSeries,u,i.scales)};m.next({eventName:t,data:{interactionType:e,payload:C}})}}class oi{constructor(){(0,o.Z)(this,"strokeWidth",1),(0,o.Z)(this,"interactive",!1),(0,o.Z)(this,"strokeStyle",Li.getStrokeStyleDashed(1)),(0,o.Z)(this,"useEnhancedLineCaps",!0)}}function Yi(){const l=new fi;return l.config(new Wn),l}class jr extends gi{constructor(n={}){super(n),(0,o.Z)(this,"config",void 0),(0,o.Z)(this,"DEFAULT_CONFIG",{curveType:Jn,interactive:!0,areaClass:"nui-chart-area",markerInteraction:li}),this.config=n,this.config=Ve()(this.config,this.DEFAULT_CONFIG)}draw(n,t){const e=n.containers[Pt.n.data],i=n.dataSeries.accessors;let s=e.select(`path.${this.config.areaClass}`);if(s.empty()){if(!this.config.areaClass)throw new Error("areaClass is not defined");s=e.append("path").classed(this.config.areaClass,!0).attrs({fill:i.series.color?.(n.dataSeries.id,n.dataSeries)}).style("stroke-width",this.config.strokeWidth??1)}this.drawArea(n,s)}drawArea(n,t){const e=n.dataSeries,i=e.accessors;let s=!1;const u=e.data.filter((C,L)=>{const O=typeof i.data.absoluteX0?.(C,L,e.data,e)<"u"&&typeof i.data.absoluteX1?.(C,L,e.data,e)<"u"&&typeof i.data.absoluteY0?.(C,L,e.data,e)<"u"&&typeof i.data.absoluteY1?.(C,L,e.data,e)<"u";return!O&&!s&&(console.warn("Data point",C,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x0:",i.data.x0),console.warn(" -> accessors.data.y0:",i.data.y0),console.warn(" -> accessors.data.x1:",i.data.x1),console.warn(" -> accessors.data.y1:",i.data.y1),s=!0),O});if(!this.config.curveType)throw new Error("curveType is not defined");const m=function Rr(){var l=$i,n=null,t=(0,fn.Z)(0),e=Ii,i=(0,fn.Z)(!0),s=null,u=Jn,m=null;function C(O){var gt,Ct,Yt,he,Ln,ge=O.length,Ae=!1,Vi=new Array(ge),mr=new Array(ge);for(null==s&&(m=u(Ln=(0,mi.Z)())),gt=0;gt<=ge;++gt){if(!(gt<ge&&i(he=O[gt],gt,O))===Ae)if(Ae=!Ae)Ct=gt,m.areaStart(),m.lineStart();else{for(m.lineEnd(),m.lineStart(),Yt=gt-1;Yt>=Ct;--Yt)m.point(Vi[Yt],mr[Yt]);m.lineEnd(),m.areaEnd()}Ae&&(Vi[gt]=+l(he,gt,O),mr[gt]=+t(he,gt,O),m.point(n?+n(he,gt,O):Vi[gt],e?+e(he,gt,O):mr[gt]))}if(Ln)return m=null,Ln+""||null}function L(){return Kn().defined(i).curve(u).context(s)}return C.x=function(O){return arguments.length?(l="function"==typeof O?O:(0,fn.Z)(+O),n=null,C):l},C.x0=function(O){return arguments.length?(l="function"==typeof O?O:(0,fn.Z)(+O),C):l},C.x1=function(O){return arguments.length?(n=null==O?null:"function"==typeof O?O:(0,fn.Z)(+O),C):n},C.y=function(O){return arguments.length?(t="function"==typeof O?O:(0,fn.Z)(+O),e=null,C):t},C.y0=function(O){return arguments.length?(t="function"==typeof O?O:(0,fn.Z)(+O),C):t},C.y1=function(O){return arguments.length?(e=null==O?null:"function"==typeof O?O:(0,fn.Z)(+O),C):e},C.lineX0=C.lineY0=function(){return L().x(l).y(t)},C.lineY1=function(){return L().x(l).y(e)},C.lineX1=function(){return L().x(n).y(t)},C.defined=function(O){return arguments.length?(i="function"==typeof O?O:(0,fn.Z)(!!O),C):i},C.curve=function(O){return arguments.length?(u=O,null!=s&&(m=u(s)),C):u},C.context=function(O){return arguments.length?(null==O?s=m=null:m=u(s=O),C):s},C}().x0((C,L)=>this.safetyCheck(n.scales.x.convert(i.data.absoluteX0?.(C,L,e.data,e)))).x1((C,L)=>this.safetyCheck(n.scales.x.convert(i.data.absoluteX1?.(C,L,e.data,e)))).y0((C,L)=>this.safetyCheck(n.scales.y.convert(i.data.absoluteY0?.(C,L,e.data,e)))).y1((C,L)=>this.safetyCheck(n.scales.y.convert(i.data.absoluteY1?.(C,L,e.data,e)))).curve(this.config.curveType);t.attr("d",m(u)??"")}getDomain(n,t,e,i){if(!n||0===n.length)return pt.iz;const s=t.accessors.data;if("x"!==e&&"y"!==e)return[void 0,void 0];const u=s[`absolute${e.toUpperCase()}0`],m=s[`absolute${e.toUpperCase()}1`];return[(0,Ye.VV)(n,(C,L,O)=>(0,Ye.VV)([u?.(C,L,O,t),m?.(C,L,O,t)])),(0,Ye.Fp)(n,(C,L,O)=>(0,Ye.Fp)([u?.(C,L,O,t),m?.(C,L,O,t)]))]}getRequiredLayers(){return[ct.rz[Pt.n.data],ct.rz[Pt.n.foreground]]}filterDataByDomain(n,t,e,i){const s=t.accessors.data[e+"0"],u=t.accessors.data[e+"1"];return n.filter((m,C)=>{const L=s?.(m,C,n,t),O=u?.(m,C,n,t);return Math.max(L,O)>=i[0]&&Math.min(L,O)<=i[1]})}highlightDataPoint(n,t,e){n.dataSeries.accessors.series.marker&&this.config.interactive&&Xi.manageMarker(n.dataSeries,n.scales,t,n.containers[Pt.n.foreground],e,this.config.markerInteraction)}safetyCheck(n){return typeof n>"u"||isNaN(n)?0:n}}function Jr(l){return function Qr(l,n){if(0===l.length)return l;const t={};for(const s of l){if(!1===s.preprocess)continue;const u=s.accessors.data.x,m=s.accessors.data.y0,C=s.accessors.data.y1,L=n(s)?1:0;s.data.forEach((O,gt)=>{const Ct=u(O,gt,s.data,s),Yt=m?.(O,gt,s.data,s),he=(C?.(O,gt,s.data,s)-Yt)*L;let Ae=t[Ct.valueOf()];typeof Ae>"u"&&(Ae=0,t[Ct.valueOf()]=Ae);const Ln=Ae+he;t[Ct.valueOf()]=Ln,O.__stack_y={start:Ae,end:Ln}})}return l}(l,n=>!this.isSeriesHidden(n.id))}function ts(l){return function qr(l,n){if(0===l.length)return l;const t={},e={};for(const u of l)es("x","y",u,n,e);for(const u of l)ns("x","y",u,n,t,e);return l}(l,n=>!this.isSeriesHidden(n.id))}function es(l,n,t,e,i){const s=t.accessors.data[l],u=t.accessors.data[n+"0"],m=t.accessors.data[n+"1"],C=e(t)?1:0;t.data.forEach((L,O)=>{const gt=s(L,O,t.data,t),Ct=u?.(L,O,t.data,t),ge=(m?.(L,O,t.data,t)-Ct)*C;let he=i[gt.valueOf()];typeof he>"u"&&(he=0,i[gt.valueOf()]=he),i[gt.valueOf()]=he+ge})}function ns(l,n,t,e,i,s){const u=t.accessors.data[l],m=t.accessors.data[n+"0"],C=t.accessors.data[n+"1"],L=e(t)?1:0;t.data.forEach((O,gt)=>{const Ct=u(O,gt,t.data,t),Yt=m?.(O,gt,t.data,t),he=(C?.(O,gt,t.data,t)-Yt)*L;let Ae=i[Ct.valueOf()];typeof Ae>"u"&&(Ae=0,i[Ct.valueOf()]=Ae);const Vi=Ae+he/s[Ct.valueOf()]*100;i[Ct.valueOf()]=Vi,O["__stack_"+n]={start:Ae,end:Vi}})}function is(l,n){const t=new cn(l,n);return t.data.x=e=>e.x,t.data.y=t.data.absoluteY1,t.data.y0=()=>0,t.data.y1=e=>e.y,t}function rs(l=new W){return l.axis.left.visible=!1,l.axis.left.gridTicks=!1,l.dimension.padding.bottom=5,l.dimension.autoHeight=!1,l.dimension.height(20),l}function ss(l=new W){return l.axis.bottom.visible=!1,l.dimension.margin.bottom=0,l.dimension.padding.bottom=5,l}},56204:(It,ft,a)=>{"use strict";a.d(ft,{E:()=>H,G:()=>X});var g=a(37691),v=a(84524),b=a(69754),it=a.n(b),o=a(34235),z=a.n(o),J=a(26271),D=a(33414),A=a(19711),Z=a(42418);const X={annularWidth:20,annularPadding:5,maxThickness:30,annularGrowth:.15,cursor:"default",enableSeriesHighlighting:!0,enableDataPointHighlighting:!0};class H extends D.T{constructor(_={}){super(_),(0,g.Z)(this,"config",void 0),(0,g.Z)(this,"segmentWidth",void 0),this.config=_,this.config=it()(this.config,X)}draw(_,R){const N=_.containers[Z.n.data],Y=_.dataSeries.data,dt=_.dataSeries.accessors;this.segmentWidth=this.getSegmentWidth(_);const ht=N.selectAll("path.arc").data(Y);ht.exit().remove(),ht.enter().append("path").attr("class","arc pointer-events nui-chart--path__outline").style("stroke-width",this.config.strokeWidth).style("cursor",this.config.cursor).on("mouseenter",(U,At)=>{this.emitDataPointHighlight(_,U,At,R)}).on("mouseleave",(U,At)=>{this.emitDataPointHighlight(_,null,J.hZ,R)}).on("click",(U,At)=>{R.next({eventName:J.q7,data:{seriesId:_.dataSeries.id,index:At,data:U.data,position:this.getDataPointPosition(_.dataSeries,At,_.scales)}})}).merge(ht).attr("d",(U,At)=>this.getArc(_.scales.r.range(),(0,v.Z)(),At)(U)).attr("fill",(U,At)=>dt.data.color?dt.data.color(U.data,At,Y,_.dataSeries):dt.series.color?.(_.dataSeries.id,_.dataSeries))}getDataPointPosition(_,R,N){if(R<0)return;const Y=_.data[R],k=this.getArc(N.r.range(),(0,v.Z)(),R).centroid(Y);return{x:k[0],y:k[1],width:0,height:0}}getInnerRadius(_,R){if(z()(this.segmentWidth)||z()(this.config.annularPadding))throw new Error("Can't compute inner radius");const N=_[1]-_[0]-this.segmentWidth-R*(this.config.annularPadding+this.segmentWidth);return N>=0?N:0}getOuterRadius(_,R){if(z()(this.segmentWidth)||z()(this.config.annularPadding))throw new Error("Can't compute outer radius");const N=_[1]-_[0]-R*(this.config.annularPadding+this.segmentWidth);return N>=0?N:0}getArc(_,R,N){const Y=this.getInnerRadius(_,N);return R.outerRadius(this.getOuterRadius(_,N)).innerRadius(Y)}getSegmentWidth(_){return this.config.maxThickness&&this.config.annularGrowth?Math.min((_.scales.r.range()[1]-_.scales.r.range()[0])*this.config.annularGrowth,this.config.maxThickness):this.config.annularWidth}emitDataPointHighlight(_,R,N,Y){const dt=this.getDataPointPosition(_.dataSeries,N,_.scales),k={seriesId:_.dataSeries.id,dataSeries:_.dataSeries,index:N,data:R,position:dt};this.config.enableSeriesHighlighting&&Y.next({eventName:J.TC,data:k}),this.config.enableDataPointHighlighting&&Y.next({eventName:J.Rj,data:k}),Y.next({eventName:J.C1,data:{interactionType:A.s.MouseMove,dataPoints:{[_.dataSeries.id]:k}}})}}},42418:(It,ft,a)=>{"use strict";a.d(ft,{L:()=>g,n:()=>v});var g=(()=>{return(b=g||(g={})).hidden="hidden",b.deemphasized="deemphasized",b.emphasized="emphasized",b.default="default",g;var b})(),v=(()=>{return(b=v||(v={})).background="background",b.data="data",b.unclippedData="unclipped-data",b.foreground="foreground",v;var b})()},62225:(It,ft,a)=>{"use strict";function g(rt,xt){return rt<xt?-1:rt>xt?1:rt>=xt?0:NaN}function v(rt){return 1===rt.length&&(rt=function b(rt){return function(xt,Et){return g(rt(xt),Et)}}(rt)),{left:function(xt,Et,bt,Q){for(null==bt&&(bt=0),null==Q&&(Q=xt.length);bt<Q;){var ot=bt+Q>>>1;rt(xt[ot],Et)<0?bt=ot+1:Q=ot}return bt},right:function(xt,Et,bt,Q){for(null==bt&&(bt=0),null==Q&&(Q=xt.length);bt<Q;){var ot=bt+Q>>>1;rt(xt[ot],Et)>0?Q=ot:bt=ot+1}return bt}}}a.d(ft,{b4:()=>J,YF:()=>v,We:()=>D,Fp:()=>ht,VV:()=>U,w6:()=>At,G9:()=>N,ly:()=>Y,sd:()=>R});const J=v(g).right;function D(rt,xt){var Q,ot,Nt,Et=rt.length,bt=-1;if(null==xt){for(;++bt<Et;)if(null!=(Q=rt[bt])&&Q>=Q)for(ot=Nt=Q;++bt<Et;)null!=(Q=rt[bt])&&(ot>Q&&(ot=Q),Nt<Q&&(Nt=Q))}else for(;++bt<Et;)if(null!=(Q=xt(rt[bt],bt,rt))&&Q>=Q)for(ot=Nt=Q;++bt<Et;)null!=(Q=xt(rt[bt],bt,rt))&&(ot>Q&&(ot=Q),Nt<Q&&(Nt=Q));return[ot,Nt]}var H=Math.sqrt(50),K=Math.sqrt(10),_=Math.sqrt(2);function R(rt,xt,Et){var bt,ot,Nt,Ht,Q=-1;if(Et=+Et,(rt=+rt)==(xt=+xt)&&Et>0)return[rt];if((bt=xt<rt)&&(ot=rt,rt=xt,xt=ot),0===(Ht=N(rt,xt,Et))||!isFinite(Ht))return[];if(Ht>0)for(rt=Math.ceil(rt/Ht),xt=Math.floor(xt/Ht),Nt=new Array(ot=Math.ceil(xt-rt+1));++Q<ot;)Nt[Q]=(rt+Q)*Ht;else for(rt=Math.floor(rt*Ht),xt=Math.ceil(xt*Ht),Nt=new Array(ot=Math.ceil(rt-xt+1));++Q<ot;)Nt[Q]=(rt-Q)/Ht;return bt&&Nt.reverse(),Nt}function N(rt,xt,Et){var bt=(xt-rt)/Math.max(0,Et),Q=Math.floor(Math.log(bt)/Math.LN10),ot=bt/Math.pow(10,Q);return Q>=0?(ot>=H?10:ot>=K?5:ot>=_?2:1)*Math.pow(10,Q):-Math.pow(10,-Q)/(ot>=H?10:ot>=K?5:ot>=_?2:1)}function Y(rt,xt,Et){var bt=Math.abs(xt-rt)/Math.max(0,Et),Q=Math.pow(10,Math.floor(Math.log(bt)/Math.LN10)),ot=bt/Q;return ot>=H?Q*=10:ot>=K?Q*=5:ot>=_&&(Q*=2),xt<rt?-Q:Q}function ht(rt,xt){var Q,ot,Et=rt.length,bt=-1;if(null==xt){for(;++bt<Et;)if(null!=(Q=rt[bt])&&Q>=Q)for(ot=Q;++bt<Et;)null!=(Q=rt[bt])&&Q>ot&&(ot=Q)}else for(;++bt<Et;)if(null!=(Q=xt(rt[bt],bt,rt))&&Q>=Q)for(ot=Q;++bt<Et;)null!=(Q=xt(rt[bt],bt,rt))&&Q>ot&&(ot=Q);return ot}function U(rt,xt){var Q,ot,Et=rt.length,bt=-1;if(null==xt){for(;++bt<Et;)if(null!=(Q=rt[bt])&&Q>=Q)for(ot=Q;++bt<Et;)null!=(Q=rt[bt])&&ot>Q&&(ot=Q)}else for(;++bt<Et;)if(null!=(Q=xt(rt[bt],bt,rt))&&Q>=Q)for(ot=Q;++bt<Et;)null!=(Q=xt(rt[bt],bt,rt))&&ot>Q&&(ot=Q);return ot}function At(rt,xt,Et){rt=+rt,xt=+xt,Et=(Q=arguments.length)<2?(xt=rt,rt=0,1):Q<3?1:+Et;for(var bt=-1,Q=0|Math.max(0,Math.ceil((xt-rt)/Et)),ot=new Array(Q);++bt<Q;)ot[bt]=rt+bt*Et;return ot}},24099:(It,ft,a)=>{"use strict";a.d(ft,{Yu:()=>$});var g=a(25922),v=a(52016),b=a(61746);function o(){b.B.preventDefault(),b.B.stopImmediatePropagation()}function z(Lt){var ce=Lt.document.documentElement,Pe=(0,v.Z)(Lt).on("dragstart.drag",o,!0);"onselectstart"in ce?Pe.on("selectstart.drag",o,!0):(ce.__noselect=ce.style.MozUserSelect,ce.style.MozUserSelect="none")}function J(Lt,ce){var Pe=Lt.document.documentElement,Xe=(0,v.Z)(Lt).on("dragstart.drag",null);ce&&(Xe.on("click.drag",o,!0),setTimeout(function(){Xe.on("click.drag",null)},0)),"onselectstart"in Pe?Xe.on("selectstart.drag",null):(Pe.style.MozUserSelect=Pe.__noselect,delete Pe.__noselect)}var D=a(82180),A=a(75819),Z=a(25941),H=a(66073),K=a(64747);function _(Lt){return function(){return Lt}}function R(Lt,ce,Pe){this.target=Lt,this.type=ce,this.selection=Pe}function N(){b.B.stopImmediatePropagation()}function Y(){b.B.preventDefault(),b.B.stopImmediatePropagation()}var dt={name:"drag"},k={name:"space"},ht={name:"handle"},U={name:"center"};function At(Lt){return[+Lt[0],+Lt[1]]}function rt(Lt){return[At(Lt[0]),At(Lt[1])]}function xt(Lt){return function(ce){return function X(Lt,ce,Pe){arguments.length<3&&(Pe=ce,ce=(0,A.Z)().changedTouches);for(var Mn,Xe=0,dn=ce?ce.length:0;Xe<dn;++Xe)if((Mn=ce[Xe]).identifier===Pe)return(0,Z.Z)(Lt,Mn);return null}(ce,b.B.touches,Lt)}}var Et={name:"x",handles:["w","e"].map(ke),input:function(Lt,ce){return null==Lt?null:[[+Lt[0],ce[0][1]],[+Lt[1],ce[1][1]]]},output:function(Lt){return Lt&&[Lt[0][0],Lt[1][0]]}},bt={name:"y",handles:["n","s"].map(ke),input:function(Lt,ce){return null==Lt?null:[[ce[0][0],+Lt[0]],[ce[1][0],+Lt[1]]]},output:function(Lt){return Lt&&[Lt[0][1],Lt[1][1]]}},ot=(["n","w","e","s","nw","ne","sw","se"].map(ke),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Nt={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ht={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Gt={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},se={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ke(Lt){return{type:Lt}}function st(){return!b.B.ctrlKey&&!b.B.button}function pt(){var Lt=this.ownerSVGElement||this;return Lt.hasAttribute("viewBox")?[[(Lt=Lt.viewBox.baseVal).x,Lt.y],[Lt.x+Lt.width,Lt.y+Lt.height]]:[[0,0],[Lt.width.baseVal.value,Lt.height.baseVal.value]]}function Ft(){return navigator.maxTouchPoints||"ontouchstart"in this}function ae(Lt){for(;!Lt.__brush;)if(!(Lt=Lt.parentNode))return;return Lt.__brush}function _e(Lt){return Lt[0][0]===Lt[1][0]||Lt[0][1]===Lt[1][1]}function $(){return function de(Lt){var kn,ce=pt,Pe=st,Xe=Ft,dn=!0,Mn=(0,g.Z)("start","brush","end"),An=6;function Ge(Jt){var fe=Jt.property("__brush",_i).selectAll(".overlay").data([ke("overlay")]);fe.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ot.overlay).merge(fe).each(function(){var ie=ae(this).extent;(0,v.Z)(this).attr("x",ie[0][0]).attr("y",ie[0][1]).attr("width",ie[1][0]-ie[0][0]).attr("height",ie[1][1]-ie[0][1])}),Jt.selectAll(".selection").data([ke("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ot.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Ee=Jt.selectAll(".handle").data(Lt.handles,function(ie){return ie.type});Ee.exit().remove(),Ee.enter().append("rect").attr("class",function(ie){return"handle handle--"+ie.type}).attr("cursor",function(ie){return ot[ie.type]}),Jt.each(On).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",Un).filter(Xe).on("touchstart.brush",Un).on("touchmove.brush",ei).on("touchend.brush touchcancel.brush",be).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function On(){var Jt=(0,v.Z)(this),fe=ae(this).selection;fe?(Jt.selectAll(".selection").style("display",null).attr("x",fe[0][0]).attr("y",fe[0][1]).attr("width",fe[1][0]-fe[0][0]).attr("height",fe[1][1]-fe[0][1]),Jt.selectAll(".handle").style("display",null).attr("x",function(Ee){return"e"===Ee.type[Ee.type.length-1]?fe[1][0]-An/2:fe[0][0]-An/2}).attr("y",function(Ee){return"s"===Ee.type[0]?fe[1][1]-An/2:fe[0][1]-An/2}).attr("width",function(Ee){return"n"===Ee.type||"s"===Ee.type?fe[1][0]-fe[0][0]+An:An}).attr("height",function(Ee){return"e"===Ee.type||"w"===Ee.type?fe[1][1]-fe[0][1]+An:An})):Jt.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function sn(Jt,fe,Ee){var ie=Jt.__brush.emitter;return!ie||Ee&&ie.clean?new $n(Jt,fe,Ee):ie}function $n(Jt,fe,Ee){this.that=Jt,this.args=fe,this.state=Jt.__brush,this.active=0,this.clean=Ee}function Un(){if((!kn||b.B.touches)&&Pe.apply(this,arguments)){var je,tn,cn,xn,ln,on,Ye,En,In,V,vt,Jt=this,fe=b.B.target.__data__.type,Ee="selection"===(dn&&b.B.metaKey?fe="overlay":fe)?dt:dn&&b.B.altKey?U:ht,ie=Lt===bt?null:Gt[fe],ze=Lt===Et?null:se[fe],pn=ae(Jt),Sn=pn.extent,an=pn.selection,Ke=Sn[0][0],Rn=Sn[0][1],Xn=Sn[1][0],Gn=Sn[1][1],Fe=0,pe=0,Ve=ie&&ze&&dn&&b.B.shiftKey,Vt=b.B.touches?xt(b.B.changedTouches[0].identifier):H.Z,$t=Vt(Jt),ct=$t,re=sn(Jt,arguments,!0).beforestart();"overlay"===fe?(an&&(In=!0),pn.selection=an=[[je=Lt===bt?Ke:$t[0],cn=Lt===Et?Rn:$t[1]],[ln=Lt===bt?Xn:je,Ye=Lt===Et?Gn:cn]]):(je=an[0][0],cn=an[0][1],ln=an[1][0],Ye=an[1][1]),tn=je,xn=cn,on=ln,En=Ye;var oe=(0,v.Z)(Jt).attr("pointer-events","none"),Pt=oe.selectAll(".overlay").attr("cursor",ot[fe]);if(b.B.touches)re.moved=Ie,re.ended=Zn;else{var Me=(0,v.Z)(b.B.view).on("mousemove.brush",Ie,!0).on("mouseup.brush",Zn,!0);dn&&Me.on("keydown.brush",un,!0).on("keyup.brush",hn,!0),z(b.B.view)}N(),(0,K.e1)(Jt),On.call(Jt),re.start()}function Ie(){var Te=Vt(Jt);Ve&&!V&&!vt&&(Math.abs(Te[0]-ct[0])>Math.abs(Te[1]-ct[1])?vt=!0:V=!0),ct=Te,In=!0,Y(),Qe()}function Qe(){var Te;switch(Fe=ct[0]-$t[0],pe=ct[1]-$t[1],Ee){case k:case dt:ie&&(Fe=Math.max(Ke-je,Math.min(Xn-ln,Fe)),tn=je+Fe,on=ln+Fe),ze&&(pe=Math.max(Rn-cn,Math.min(Gn-Ye,pe)),xn=cn+pe,En=Ye+pe);break;case ht:ie<0?(Fe=Math.max(Ke-je,Math.min(Xn-je,Fe)),tn=je+Fe,on=ln):ie>0&&(Fe=Math.max(Ke-ln,Math.min(Xn-ln,Fe)),tn=je,on=ln+Fe),ze<0?(pe=Math.max(Rn-cn,Math.min(Gn-cn,pe)),xn=cn+pe,En=Ye):ze>0&&(pe=Math.max(Rn-Ye,Math.min(Gn-Ye,pe)),xn=cn,En=Ye+pe);break;case U:ie&&(tn=Math.max(Ke,Math.min(Xn,je-Fe*ie)),on=Math.max(Ke,Math.min(Xn,ln+Fe*ie))),ze&&(xn=Math.max(Rn,Math.min(Gn,cn-pe*ze)),En=Math.max(Rn,Math.min(Gn,Ye+pe*ze)))}on<tn&&(ie*=-1,Te=je,je=ln,ln=Te,Te=tn,tn=on,on=Te,fe in Nt&&Pt.attr("cursor",ot[fe=Nt[fe]])),En<xn&&(ze*=-1,Te=cn,cn=Ye,Ye=Te,Te=xn,xn=En,En=Te,fe in Ht&&Pt.attr("cursor",ot[fe=Ht[fe]])),pn.selection&&(an=pn.selection),V&&(tn=an[0][0],on=an[1][0]),vt&&(xn=an[0][1],En=an[1][1]),(an[0][0]!==tn||an[0][1]!==xn||an[1][0]!==on||an[1][1]!==En)&&(pn.selection=[[tn,xn],[on,En]],On.call(Jt),re.brush())}function Zn(){if(N(),b.B.touches){if(b.B.touches.length)return;kn&&clearTimeout(kn),kn=setTimeout(function(){kn=null},500)}else J(b.B.view,In),Me.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);oe.attr("pointer-events","all"),Pt.attr("cursor",ot.overlay),pn.selection&&(an=pn.selection),_e(an)&&(pn.selection=null,On.call(Jt)),re.end()}function un(){switch(b.B.keyCode){case 16:Ve=ie&&ze;break;case 18:Ee===ht&&(ie&&(ln=on-Fe*ie,je=tn+Fe*ie),ze&&(Ye=En-pe*ze,cn=xn+pe*ze),Ee=U,Qe());break;case 32:(Ee===ht||Ee===U)&&(ie<0?ln=on-Fe:ie>0&&(je=tn-Fe),ze<0?Ye=En-pe:ze>0&&(cn=xn-pe),Ee=k,Pt.attr("cursor",ot.selection),Qe());break;default:return}Y()}function hn(){switch(b.B.keyCode){case 16:Ve&&(V=vt=Ve=!1,Qe());break;case 18:Ee===U&&(ie<0?ln=on:ie>0&&(je=tn),ze<0?Ye=En:ze>0&&(cn=xn),Ee=ht,Qe());break;case 32:Ee===k&&(b.B.altKey?(ie&&(ln=on-Fe*ie,je=tn+Fe*ie),ze&&(Ye=En-pe*ze,cn=xn+pe*ze),Ee=U):(ie<0?ln=on:ie>0&&(je=tn),ze<0?Ye=En:ze>0&&(cn=xn),Ee=ht),Pt.attr("cursor",ot[fe]),Qe());break;default:return}Y()}}function ei(){sn(this,arguments).moved()}function be(){sn(this,arguments).ended()}function _i(){var Jt=this.__brush||{selection:null};return Jt.extent=rt(ce.apply(this,arguments)),Jt.dim=Lt,Jt}return Ge.move=function(Jt,fe){Jt.selection?Jt.on("start.brush",function(){sn(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){sn(this,arguments).end()}).tween("brush",function(){var Ee=this,ie=Ee.__brush,ze=sn(Ee,arguments),pn=ie.selection,Sn=Lt.input("function"==typeof fe?fe.apply(this,arguments):fe,ie.extent),an=(0,D.Z)(pn,Sn);function Ke(je){ie.selection=1===je&&null===Sn?null:an(je),On.call(Ee),ze.brush()}return null!==pn&&null!==Sn?Ke:Ke(1)}):Jt.each(function(){var Ee=this,ie=arguments,ze=Ee.__brush,pn=Lt.input("function"==typeof fe?fe.apply(Ee,ie):fe,ze.extent),Sn=sn(Ee,ie).beforestart();(0,K.e1)(Ee),ze.selection=null===pn?null:pn,On.call(Ee),Sn.start().brush().end()})},Ge.clear=function(Jt){Ge.move(Jt,null)},$n.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(Jt){(0,b._H)(new R(Ge,Jt,Lt.output(this.state.selection)),Mn.apply,Mn,[Jt,this.that,this.args])}},Ge.extent=function(Jt){return arguments.length?(ce="function"==typeof Jt?Jt:_(rt(Jt)),Ge):ce},Ge.filter=function(Jt){return arguments.length?(Pe="function"==typeof Jt?Jt:_(!!Jt),Ge):Pe},Ge.touchable=function(Jt){return arguments.length?(Xe="function"==typeof Jt?Jt:_(!!Jt),Ge):Xe},Ge.handleSize=function(Jt){return arguments.length?(An=+Jt,Ge):An},Ge.keyModifiers=function(Jt){return arguments.length?(dn=!!Jt,Ge):dn},Ge.on=function(){var Jt=Mn.on.apply(Mn,arguments);return Jt===Mn?Ge:Jt},Ge}(Et)}},88097:(It,ft,a)=>{"use strict";a.d(ft,{UI:()=>it});var g="$";function v(){}function b(_,R){var N=new v;if(_ instanceof v)_.each(function(U,At){N.set(At,U)});else if(Array.isArray(_)){var k,Y=-1,dt=_.length;if(null==R)for(;++Y<dt;)N.set(Y,_[Y]);else for(;++Y<dt;)N.set(R(k=_[Y],Y,_),k)}else if(_)for(var ht in _)N.set(ht,_[ht]);return N}v.prototype=b.prototype={constructor:v,has:function(_){return g+_ in this},get:function(_){return this[g+_]},set:function(_,R){return this[g+_]=R,this},remove:function(_){var R=g+_;return R in this&&delete this[R]},clear:function(){for(var _ in this)_[0]===g&&delete this[_]},keys:function(){var _=[];for(var R in this)R[0]===g&&_.push(R.slice(1));return _},values:function(){var _=[];for(var R in this)R[0]===g&&_.push(this[R]);return _},entries:function(){var _=[];for(var R in this)R[0]===g&&_.push({key:R.slice(1),value:this[R]});return _},size:function(){var _=0;for(var R in this)R[0]===g&&++_;return _},empty:function(){for(var _ in this)if(_[0]===g)return!1;return!0},each:function(_){for(var R in this)R[0]===g&&_(this[R],R.slice(1),this)}};const it=b;function Z(){}var X=it.prototype;Z.prototype=function H(_,R){var N=new Z;if(_ instanceof Z)_.each(function(k){N.add(k)});else if(_){var Y=-1,dt=_.length;if(null==R)for(;++Y<dt;)N.add(_[Y]);else for(;++Y<dt;)N.add(R(_[Y],Y,_))}return N}.prototype={constructor:Z,has:X.has,add:function(_){return this[g+(_+="")]=_,this},remove:X.remove,clear:X.clear,values:X.keys,size:X.size,empty:X.empty,each:X.each}},25922:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>J});var g={value:function(){}};function v(){for(var X,D=0,A=arguments.length,Z={};D<A;++D){if(!(X=arguments[D]+"")||X in Z||/[\s.]/.test(X))throw new Error("illegal type: "+X);Z[X]=[]}return new b(Z)}function b(D){this._=D}function it(D,A){return D.trim().split(/^|\s+/).map(function(Z){var X="",H=Z.indexOf(".");if(H>=0&&(X=Z.slice(H+1),Z=Z.slice(0,H)),Z&&!A.hasOwnProperty(Z))throw new Error("unknown type: "+Z);return{type:Z,name:X}})}function o(D,A){for(var H,Z=0,X=D.length;Z<X;++Z)if((H=D[Z]).name===A)return H.value}function z(D,A,Z){for(var X=0,H=D.length;X<H;++X)if(D[X].name===A){D[X]=g,D=D.slice(0,X).concat(D.slice(X+1));break}return null!=Z&&D.push({name:A,value:Z}),D}b.prototype=v.prototype={constructor:b,on:function(D,A){var H,Z=this._,X=it(D+"",Z),K=-1,_=X.length;if(!(arguments.length<2)){if(null!=A&&"function"!=typeof A)throw new Error("invalid callback: "+A);for(;++K<_;)if(H=(D=X[K]).type)Z[H]=z(Z[H],D.name,A);else if(null==A)for(H in Z)Z[H]=z(Z[H],D.name,null);return this}for(;++K<_;)if((H=(D=X[K]).type)&&(H=o(Z[H],D.name)))return H},copy:function(){var D={},A=this._;for(var Z in A)D[Z]=A[Z].slice();return new b(D)},call:function(D,A){if((H=arguments.length-2)>0)for(var H,K,Z=new Array(H),X=0;X<H;++X)Z[X]=arguments[X+2];if(!this._.hasOwnProperty(D))throw new Error("unknown type: "+D);for(X=0,H=(K=this._[D]).length;X<H;++X)K[X].value.apply(A,Z)},apply:function(D,A,Z){if(!this._.hasOwnProperty(D))throw new Error("unknown type: "+D);for(var X=this._[D],H=0,K=X.length;H<K;++H)X[H].value.apply(A,Z)}};const J=v},85961:(It,ft,a)=>{"use strict";function g(st,pt,Ft){st.prototype=pt.prototype=Ft,Ft.constructor=st}function v(st,pt){var Ft=Object.create(st.prototype);for(var ae in pt)Ft[ae]=pt[ae];return Ft}function b(){}a.d(ft,{ZP:()=>ht,B8:()=>xt});var o=1/.7,z="\\s*([+-]?\\d+)\\s*",J="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",D="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A=/^#([0-9a-f]{3,8})$/,Z=new RegExp("^rgb\\("+[z,z,z]+"\\)$"),X=new RegExp("^rgb\\("+[D,D,D]+"\\)$"),H=new RegExp("^rgba\\("+[z,z,z,J]+"\\)$"),K=new RegExp("^rgba\\("+[D,D,D,J]+"\\)$"),_=new RegExp("^hsl\\("+[J,D,D]+"\\)$"),R=new RegExp("^hsla\\("+[J,D,D,J]+"\\)$"),N={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Y(){return this.rgb().formatHex()}function k(){return this.rgb().formatRgb()}function ht(st){var pt,Ft;return st=(st+"").trim().toLowerCase(),(pt=A.exec(st))?(Ft=pt[1].length,pt=parseInt(pt[1],16),6===Ft?U(pt):3===Ft?new Et(pt>>8&15|pt>>4&240,pt>>4&15|240&pt,(15&pt)<<4|15&pt,1):8===Ft?At(pt>>24&255,pt>>16&255,pt>>8&255,(255&pt)/255):4===Ft?At(pt>>12&15|pt>>8&240,pt>>8&15|pt>>4&240,pt>>4&15|240&pt,((15&pt)<<4|15&pt)/255):null):(pt=Z.exec(st))?new Et(pt[1],pt[2],pt[3],1):(pt=X.exec(st))?new Et(255*pt[1]/100,255*pt[2]/100,255*pt[3]/100,1):(pt=H.exec(st))?At(pt[1],pt[2],pt[3],pt[4]):(pt=K.exec(st))?At(255*pt[1]/100,255*pt[2]/100,255*pt[3]/100,pt[4]):(pt=_.exec(st))?Nt(pt[1],pt[2]/100,pt[3]/100,1):(pt=R.exec(st))?Nt(pt[1],pt[2]/100,pt[3]/100,pt[4]):N.hasOwnProperty(st)?U(N[st]):"transparent"===st?new Et(NaN,NaN,NaN,0):null}function U(st){return new Et(st>>16&255,st>>8&255,255&st,1)}function At(st,pt,Ft,ae){return ae<=0&&(st=pt=Ft=NaN),new Et(st,pt,Ft,ae)}function rt(st){return st instanceof b||(st=ht(st)),st?new Et((st=st.rgb()).r,st.g,st.b,st.opacity):new Et}function xt(st,pt,Ft,ae){return 1===arguments.length?rt(st):new Et(st,pt,Ft,ae??1)}function Et(st,pt,Ft,ae){this.r=+st,this.g=+pt,this.b=+Ft,this.opacity=+ae}function bt(){return"#"+ot(this.r)+ot(this.g)+ot(this.b)}function Q(){var st=this.opacity;return(1===(st=isNaN(st)?1:Math.max(0,Math.min(1,st)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===st?")":", "+st+")")}function ot(st){return((st=Math.max(0,Math.min(255,Math.round(st)||0)))<16?"0":"")+st.toString(16)}function Nt(st,pt,Ft,ae){return ae<=0?st=pt=Ft=NaN:Ft<=0||Ft>=1?st=pt=NaN:pt<=0&&(st=NaN),new se(st,pt,Ft,ae)}function Ht(st){if(st instanceof se)return new se(st.h,st.s,st.l,st.opacity);if(st instanceof b||(st=ht(st)),!st)return new se;if(st instanceof se)return st;var pt=(st=st.rgb()).r/255,Ft=st.g/255,ae=st.b/255,_e=Math.min(pt,Ft,ae),qe=Math.max(pt,Ft,ae),$=NaN,mt=qe-_e,Kt=(qe+_e)/2;return mt?($=pt===qe?(Ft-ae)/mt+6*(Ft<ae):Ft===qe?(ae-pt)/mt+2:(pt-Ft)/mt+4,mt/=Kt<.5?qe+_e:2-qe-_e,$*=60):mt=Kt>0&&Kt<1?0:$,new se($,mt,Kt,st.opacity)}function se(st,pt,Ft,ae){this.h=+st,this.s=+pt,this.l=+Ft,this.opacity=+ae}function ke(st,pt,Ft){return 255*(st<60?pt+(Ft-pt)*st/60:st<180?Ft:st<240?pt+(Ft-pt)*(240-st)/60:pt)}g(b,ht,{copy:function(st){return Object.assign(new this.constructor,this,st)},displayable:function(){return this.rgb().displayable()},hex:Y,formatHex:Y,formatHsl:function dt(){return Ht(this).formatHsl()},formatRgb:k,toString:k}),g(Et,xt,v(b,{brighter:function(st){return st=null==st?o:Math.pow(o,st),new Et(this.r*st,this.g*st,this.b*st,this.opacity)},darker:function(st){return st=null==st?.7:Math.pow(.7,st),new Et(this.r*st,this.g*st,this.b*st,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bt,formatHex:bt,formatRgb:Q,toString:Q})),g(se,function Gt(st,pt,Ft,ae){return 1===arguments.length?Ht(st):new se(st,pt,Ft,ae??1)},v(b,{brighter:function(st){return st=null==st?o:Math.pow(o,st),new se(this.h,this.s,this.l*st,this.opacity)},darker:function(st){return st=null==st?.7:Math.pow(.7,st),new se(this.h,this.s,this.l*st,this.opacity)},rgb:function(){var st=this.h%360+360*(this.h<0),pt=isNaN(st)||isNaN(this.s)?0:this.s,Ft=this.l,ae=Ft+(Ft<.5?Ft:1-Ft)*pt,_e=2*Ft-ae;return new Et(ke(st>=240?st-240:st+120,_e,ae),ke(st,_e,ae),ke(st<120?st+240:st-120,_e,ae),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var st=this.opacity;return(1===(st=isNaN(st)?1:Math.max(0,Math.min(1,st)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===st?")":", "+st+")")}}))},47927:(It,ft,a)=>{"use strict";function g(v){return function(){return v}}a.d(ft,{Z:()=>g})},6738:(It,ft,a)=>{"use strict";function g(v,b){return v=+v,b=+b,function(it){return v*(1-it)+b*it}}a.d(ft,{Z:()=>g})},23534:(It,ft,a)=>{"use strict";a.d(ft,{ZP:()=>X});var g=a(85961);function v(R,N,Y,dt,k){var ht=R*R,U=ht*R;return((1-3*R+3*ht-U)*N+(4-6*ht+3*U)*Y+(1+3*R+3*ht-3*U)*dt+U*k)/6}var o=a(47927);function Z(R,N){var Y=N-R;return Y?function z(R,N){return function(Y){return R+Y*N}}(R,Y):(0,o.Z)(isNaN(R)?N:R)}const X=function R(N){var Y=function A(R){return 1==(R=+R)?Z:function(N,Y){return Y-N?function J(R,N,Y){return R=Math.pow(R,Y),N=Math.pow(N,Y)-R,Y=1/Y,function(dt){return Math.pow(R+dt*N,Y)}}(N,Y,R):(0,o.Z)(isNaN(N)?Y:N)}}(N);function dt(k,ht){var U=Y((k=(0,g.B8)(k)).r,(ht=(0,g.B8)(ht)).r),At=Y(k.g,ht.g),rt=Y(k.b,ht.b),xt=Z(k.opacity,ht.opacity);return function(Et){return k.r=U(Et),k.g=At(Et),k.b=rt(Et),k.opacity=xt(Et),k+""}}return dt.gamma=R,dt}(1);function H(R){return function(N){var U,At,Y=N.length,dt=new Array(Y),k=new Array(Y),ht=new Array(Y);for(U=0;U<Y;++U)At=(0,g.B8)(N[U]),dt[U]=At.r||0,k[U]=At.g||0,ht[U]=At.b||0;return dt=R(dt),k=R(k),ht=R(ht),At.opacity=1,function(rt){return At.r=dt(rt),At.g=k(rt),At.b=ht(rt),At+""}}}H(function b(R){var N=R.length-1;return function(Y){var dt=Y<=0?Y=0:Y>=1?(Y=1,N-1):Math.floor(Y*N),k=R[dt],ht=R[dt+1];return v((Y-dt/N)*N,dt>0?R[dt-1]:2*k-ht,k,ht,dt<N-1?R[dt+2]:2*ht-k)}}),H(function it(R){var N=R.length;return function(Y){var dt=Math.floor(((Y%=1)<0?++Y:Y)*N);return v((Y-dt/N)*N,R[(dt+N-1)%N],R[dt%N],R[(dt+1)%N],R[(dt+2)%N])}})},23096:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>z});var g=a(6738),v=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b=new RegExp(v.source,"g");function z(J,D){var Z,X,H,A=v.lastIndex=b.lastIndex=0,K=-1,_=[],R=[];for(J+="",D+="";(Z=v.exec(J))&&(X=b.exec(D));)(H=X.index)>A&&(H=D.slice(A,H),_[K]?_[K]+=H:_[++K]=H),(Z=Z[0])===(X=X[0])?_[K]?_[K]+=X:_[++K]=X:(_[++K]=null,R.push({i:K,x:(0,g.Z)(Z,X)})),A=b.lastIndex;return A<D.length&&(H=D.slice(A),_[K]?_[K]+=H:_[++K]=H),_.length<2?R[0]?function o(J){return function(D){return J(D)+""}}(R[0].x):function it(J){return function(){return J}}(D):(D=R.length,function(N){for(var dt,Y=0;Y<D;++Y)_[(dt=R[Y]).i]=dt.x(N);return _.join("")})}},82180:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>H});var g=a(85961),v=a(23534);function it(K,_){var k,R=_?_.length:0,N=K?Math.min(R,K.length):0,Y=new Array(N),dt=new Array(R);for(k=0;k<N;++k)Y[k]=H(K[k],_[k]);for(;k<R;++k)dt[k]=_[k];return function(ht){for(k=0;k<N;++k)dt[k]=Y[k](ht);return dt}}function o(K,_){var R=new Date;return K=+K,_=+_,function(N){return R.setTime(K*(1-N)+_*N),R}}var z=a(6738);function J(K,_){var Y,R={},N={};for(Y in(null===K||"object"!=typeof K)&&(K={}),(null===_||"object"!=typeof _)&&(_={}),_)Y in K?R[Y]=H(K[Y],_[Y]):N[Y]=_[Y];return function(dt){for(Y in R)N[Y]=R[Y](dt);return N}}var D=a(23096),A=a(47927);function Z(K,_){_||(_=[]);var Y,R=K?Math.min(_.length,K.length):0,N=_.slice();return function(dt){for(Y=0;Y<R;++Y)N[Y]=K[Y]*(1-dt)+_[Y]*dt;return N}}function H(K,_){var N,R=typeof _;return null==_||"boolean"===R?(0,A.Z)(_):("number"===R?z.Z:"string"===R?(N=(0,g.ZP)(_))?(_=N,v.ZP):D.Z:_ instanceof g.ZP?v.ZP:_ instanceof Date?o:function X(K){return ArrayBuffer.isView(K)&&!(K instanceof DataView)}(_)?Z:Array.isArray(_)?it:"function"!=typeof _.valueOf&&"function"!=typeof _.toString||isNaN(_)?J:z.Z)(K,_)}},73066:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>J});var g=Math.PI,v=2*g,b=1e-6,it=v-b;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function z(){return new o}o.prototype=z.prototype={constructor:o,moveTo:function(D,A){this._+="M"+(this._x0=this._x1=+D)+","+(this._y0=this._y1=+A)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(D,A){this._+="L"+(this._x1=+D)+","+(this._y1=+A)},quadraticCurveTo:function(D,A,Z,X){this._+="Q"+ +D+","+ +A+","+(this._x1=+Z)+","+(this._y1=+X)},bezierCurveTo:function(D,A,Z,X,H,K){this._+="C"+ +D+","+ +A+","+ +Z+","+ +X+","+(this._x1=+H)+","+(this._y1=+K)},arcTo:function(D,A,Z,X,H){var K=this._x1,_=this._y1,R=(Z=+Z)-(D=+D),N=(X=+X)-(A=+A),Y=K-D,dt=_-A,k=Y*Y+dt*dt;if((H=+H)<0)throw new Error("negative radius: "+H);if(null===this._x1)this._+="M"+(this._x1=D)+","+(this._y1=A);else if(k>b)if(Math.abs(dt*R-N*Y)>b&&H){var ht=Z-K,U=X-_,At=R*R+N*N,rt=ht*ht+U*U,xt=Math.sqrt(At),Et=Math.sqrt(k),bt=H*Math.tan((g-Math.acos((At+k-rt)/(2*xt*Et)))/2),Q=bt/Et,ot=bt/xt;Math.abs(Q-1)>b&&(this._+="L"+(D+Q*Y)+","+(A+Q*dt)),this._+="A"+H+","+H+",0,0,"+ +(dt*ht>Y*U)+","+(this._x1=D+ot*R)+","+(this._y1=A+ot*N)}else this._+="L"+(this._x1=D)+","+(this._y1=A)},arc:function(D,A,Z,X,H,K){D=+D,A=+A,K=!!K;var _=(Z=+Z)*Math.cos(X),R=Z*Math.sin(X),N=D+_,Y=A+R,dt=1^K,k=K?X-H:H-X;if(Z<0)throw new Error("negative radius: "+Z);null===this._x1?this._+="M"+N+","+Y:(Math.abs(this._x1-N)>b||Math.abs(this._y1-Y)>b)&&(this._+="L"+N+","+Y),Z&&(k<0&&(k=k%v+v),k>it?this._+="A"+Z+","+Z+",0,1,"+dt+","+(D-_)+","+(A-R)+"A"+Z+","+Z+",0,1,"+dt+","+(this._x1=N)+","+(this._y1=Y):k>b&&(this._+="A"+Z+","+Z+",0,"+ +(k>=g)+","+dt+","+(this._x1=D+Z*Math.cos(H))+","+(this._y1=A+Z*Math.sin(H))))},rect:function(D,A,Z,X){this._+="M"+(this._x0=this._x1=+D)+","+(this._y0=this._y1=+A)+"h"+ +Z+"v"+ +X+"h"+-Z+"Z"},toString:function(){return this._}};const J=z},93205:(It,ft,a)=>{"use strict";a.d(ft,{ti:()=>Z,BY:()=>On,q2:()=>H,Xf:()=>_r});var g=a(62225);function v(r,d){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(d).domain(r)}return this}var it=a(88097),o=Array.prototype,z=o.map,J=o.slice,D={name:"implicit"};function A(){var r=(0,it.UI)(),d=[],P=[],T=D;function _t(Mt){var Tt=Mt+"",Bt=r.get(Tt);if(!Bt){if(T!==D)return T;r.set(Tt,Bt=d.push(Mt))}return P[(Bt-1)%P.length]}return _t.domain=function(Mt){if(!arguments.length)return d.slice();d=[],r=(0,it.UI)();for(var Rt,ne,Tt=-1,Bt=Mt.length;++Tt<Bt;)r.has(ne=(Rt=Mt[Tt])+"")||r.set(ne,d.push(Rt));return _t},_t.range=function(Mt){return arguments.length?(P=J.call(Mt),_t):P.slice()},_t.unknown=function(Mt){return arguments.length?(T=Mt,_t):T},_t.copy=function(){return A(d,P).unknown(T)},v.apply(_t,arguments),_t}function Z(){var _t,Mt,r=A().unknown(void 0),d=r.domain,P=r.range,T=[0,1],Tt=!1,Bt=0,Rt=0,ne=.5;function ue(){var qt=d().length,le=T[1]<T[0],xe=T[le-0],wn=T[1-le];_t=(wn-xe)/Math.max(1,qt-Bt+2*Rt),Tt&&(_t=Math.floor(_t)),xe+=(wn-xe-_t*(qt-Bt))*ne,Mt=_t*(1-Bt),Tt&&(xe=Math.round(xe),Mt=Math.round(Mt));var Dn=(0,g.w6)(qt).map(function(vn){return xe+_t*vn});return P(le?Dn.reverse():Dn)}return delete r.unknown,r.domain=function(qt){return arguments.length?(d(qt),ue()):d()},r.range=function(qt){return arguments.length?(T=[+qt[0],+qt[1]],ue()):T.slice()},r.rangeRound=function(qt){return T=[+qt[0],+qt[1]],Tt=!0,ue()},r.bandwidth=function(){return Mt},r.step=function(){return _t},r.round=function(qt){return arguments.length?(Tt=!!qt,ue()):Tt},r.padding=function(qt){return arguments.length?(Bt=Math.min(1,Rt=+qt),ue()):Bt},r.paddingInner=function(qt){return arguments.length?(Bt=Math.min(1,qt),ue()):Bt},r.paddingOuter=function(qt){return arguments.length?(Rt=+qt,ue()):Rt},r.align=function(qt){return arguments.length?(ne=Math.max(0,Math.min(1,qt)),ue()):ne},r.copy=function(){return Z(d(),T).round(Tt).paddingInner(Bt).paddingOuter(Rt).align(ne)},v.apply(ue(),arguments)}function X(r){var d=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return X(d())},r}function H(){return X(Z.apply(null,arguments).paddingInner(1))}var K=a(82180),_=a(6738);function R(r,d){return r=+r,d=+d,function(P){return Math.round(r*(1-P)+d*P)}}function Y(r){return+r}var dt=[0,1];function k(r){return r}function ht(r,d){return(d-=r=+r)?function(P){return(P-r)/d}:function N(r){return function(){return r}}(isNaN(d)?NaN:.5)}function U(r){var T,d=r[0],P=r[r.length-1];return d>P&&(T=d,d=P,P=T),function(_t){return Math.max(d,Math.min(P,_t))}}function At(r,d,P){var T=r[0],_t=r[1],Mt=d[0],Tt=d[1];return _t<T?(T=ht(_t,T),Mt=P(Tt,Mt)):(T=ht(T,_t),Mt=P(Mt,Tt)),function(Bt){return Mt(T(Bt))}}function rt(r,d,P){var T=Math.min(r.length,d.length)-1,_t=new Array(T),Mt=new Array(T),Tt=-1;for(r[T]<r[0]&&(r=r.slice().reverse(),d=d.slice().reverse());++Tt<T;)_t[Tt]=ht(r[Tt],r[Tt+1]),Mt[Tt]=P(d[Tt],d[Tt+1]);return function(Bt){var Rt=(0,g.b4)(r,Bt,1,T)-1;return Mt[Rt](_t[Rt](Bt))}}function xt(r,d){return d.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function bt(r,d){return function Et(){var T,_t,Mt,Bt,Rt,ne,r=dt,d=dt,P=K.Z,Tt=k;function ue(){return Bt=Math.min(r.length,d.length)>2?rt:At,Rt=ne=null,qt}function qt(le){return isNaN(le=+le)?Mt:(Rt||(Rt=Bt(r.map(T),d,P)))(T(Tt(le)))}return qt.invert=function(le){return Tt(_t((ne||(ne=Bt(d,r.map(T),_.Z)))(le)))},qt.domain=function(le){return arguments.length?(r=z.call(le,Y),Tt===k||(Tt=U(r)),ue()):r.slice()},qt.range=function(le){return arguments.length?(d=J.call(le),ue()):d.slice()},qt.rangeRound=function(le){return d=J.call(le),P=R,ue()},qt.clamp=function(le){return arguments.length?(Tt=le?U(r):k,qt):Tt!==k},qt.interpolate=function(le){return arguments.length?(P=le,ue()):P},qt.unknown=function(le){return arguments.length?(Mt=le,qt):Mt},function(le,xe){return T=le,_t=xe,ue()}}()(r,d)}var ae,Q=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ot(r){if(!(d=Q.exec(r)))throw new Error("invalid format: "+r);var d;return new Nt({fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:d[6],comma:d[7],precision:d[8]&&d[8].slice(1),trim:d[9],type:d[10]})}function Nt(r){this.fill=void 0===r.fill?" ":r.fill+"",this.align=void 0===r.align?">":r.align+"",this.sign=void 0===r.sign?"-":r.sign+"",this.symbol=void 0===r.symbol?"":r.symbol+"",this.zero=!!r.zero,this.width=void 0===r.width?void 0:+r.width,this.comma=!!r.comma,this.precision=void 0===r.precision?void 0:+r.precision,this.trim=!!r.trim,this.type=void 0===r.type?"":r.type+""}function Gt(r,d){if((P=(r=d?r.toExponential(d-1):r.toExponential()).indexOf("e"))<0)return null;var P,T=r.slice(0,P);return[T.length>1?T[0]+T.slice(2):T,+r.slice(P+1)]}function se(r){return(r=Gt(Math.abs(r)))?r[1]:NaN}function qe(r,d){var P=Gt(r,d);if(!P)return r+"";var T=P[0],_t=P[1];return _t<0?"0."+new Array(-_t).join("0")+T:T.length>_t+1?T.slice(0,_t+1)+"."+T.slice(_t+1):T+new Array(_t-T.length+2).join("0")}ot.prototype=Nt.prototype,Nt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const $={"%":function(r,d){return(100*r).toFixed(d)},b:function(r){return Math.round(r).toString(2)},c:function(r){return r+""},d:function Ht(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)},e:function(r,d){return r.toExponential(d)},f:function(r,d){return r.toFixed(d)},g:function(r,d){return r.toPrecision(d)},o:function(r){return Math.round(r).toString(8)},p:function(r,d){return qe(100*r,d)},r:qe,s:function _e(r,d){var P=Gt(r,d);if(!P)return r+"";var T=P[0],_t=P[1],Mt=_t-(ae=3*Math.max(-8,Math.min(8,Math.floor(_t/3))))+1,Tt=T.length;return Mt===Tt?T:Mt>Tt?T+new Array(Mt-Tt+1).join("0"):Mt>0?T.slice(0,Mt)+"."+T.slice(Mt):"0."+new Array(1-Mt).join("0")+Gt(r,Math.max(0,d+Mt-1))[0]},X:function(r){return Math.round(r).toString(16).toUpperCase()},x:function(r){return Math.round(r).toString(16)}};function mt(r){return r}var ce,Pe,Xe,Kt=Array.prototype.map,de=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Ge(r){var d=r.domain;return r.ticks=function(P){var T=d();return(0,g.sd)(T[0],T[T.length-1],P??10)},r.tickFormat=function(P,T){var _t=d();return function kn(r,d,P,T){var Mt,_t=(0,g.ly)(r,d,P);switch((T=ot(T??",f")).type){case"s":var Tt=Math.max(Math.abs(r),Math.abs(d));return null==T.precision&&!isNaN(Mt=function ke(r,d){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(se(d)/3)))-se(Math.abs(r)))}(_t,Tt))&&(T.precision=Mt),Xe(T,Tt);case"":case"e":case"g":case"p":case"r":null==T.precision&&!isNaN(Mt=function Mn(r,d){return r=Math.abs(r),d=Math.abs(d)-r,Math.max(0,se(d)-se(r))+1}(_t,Math.max(Math.abs(r),Math.abs(d))))&&(T.precision=Mt-("e"===T.type));break;case"f":case"%":null==T.precision&&!isNaN(Mt=function An(r){return Math.max(0,-se(Math.abs(r)))}(_t))&&(T.precision=Mt-2*("%"===T.type))}return Pe(T)}(_t[0],_t[_t.length-1],P??10,T)},r.nice=function(P){null==P&&(P=10);var Rt,T=d(),_t=0,Mt=T.length-1,Tt=T[_t],Bt=T[Mt];return Bt<Tt&&(Rt=Tt,Tt=Bt,Bt=Rt,Rt=_t,_t=Mt,Mt=Rt),(Rt=(0,g.G9)(Tt,Bt,P))>0?(Tt=Math.floor(Tt/Rt)*Rt,Bt=Math.ceil(Bt/Rt)*Rt,Rt=(0,g.G9)(Tt,Bt,P)):Rt<0&&(Tt=Math.ceil(Tt*Rt)/Rt,Bt=Math.floor(Bt*Rt)/Rt,Rt=(0,g.G9)(Tt,Bt,P)),Rt>0?(T[_t]=Math.floor(Tt/Rt)*Rt,T[Mt]=Math.ceil(Bt/Rt)*Rt,d(T)):Rt<0&&(T[_t]=Math.ceil(Tt*Rt)/Rt,T[Mt]=Math.floor(Bt*Rt)/Rt,d(T)),r},r}function On(){var r=bt(k,k);return r.copy=function(){return xt(r,On())},v.apply(r,arguments),Ge(r)}!function dn(r){ce=function Lt(r){var d=void 0===r.grouping||void 0===r.thousands?mt:function st(r,d){return function(P,T){for(var _t=P.length,Mt=[],Tt=0,Bt=r[0],Rt=0;_t>0&&Bt>0&&(Rt+Bt+1>T&&(Bt=Math.max(1,T-Rt)),Mt.push(P.substring(_t-=Bt,_t+Bt)),!((Rt+=Bt+1)>T));)Bt=r[Tt=(Tt+1)%r.length];return Mt.reverse().join(d)}}(Kt.call(r.grouping,Number),r.thousands+""),P=void 0===r.currency?"":r.currency[0]+"",T=void 0===r.currency?"":r.currency[1]+"",_t=void 0===r.decimal?".":r.decimal+"",Mt=void 0===r.numerals?mt:function pt(r){return function(d){return d.replace(/[0-9]/g,function(P){return r[+P]})}}(Kt.call(r.numerals,String)),Tt=void 0===r.percent?"%":r.percent+"",Bt=void 0===r.minus?"-":r.minus+"",Rt=void 0===r.nan?"NaN":r.nan+"";function ne(qt){var le=(qt=ot(qt)).fill,xe=qt.align,wn=qt.sign,Dn=qt.symbol,vn=qt.zero,ii=qt.width,ri=qt.comma,Wn=qt.precision,Hn=qt.trim,zn=qt.type;"n"===zn?(ri=!0,zn="g"):$[zn]||(void 0===Wn&&(Wn=12),Hn=!0,zn="g"),(vn||"0"===le&&"="===xe)&&(vn=!0,le="0",xe="=");var si="$"===Dn?P:"#"===Dn&&/[boxX]/.test(zn)?"0"+zn.toLowerCase():"",Re="$"===Dn?T:/[%p]/.test(zn)?Tt:"",Bn=$[zn],Yn=/[defgprs%]/.test(zn);function Vn(Se){var Fi,pr,Ki,_n=si,bn=Re;if("c"===zn)bn=Bn(Se)+bn,Se="";else{var ji=(Se=+Se)<0||1/Se<0;if(Se=isNaN(Se)?Rt:Bn(Math.abs(Se),Wn),Hn&&(Se=function Ft(r){t:for(var _t,d=r.length,P=1,T=-1;P<d;++P)switch(r[P]){case".":T=_t=P;break;case"0":0===T&&(T=P),_t=P;break;default:if(!+r[P])break t;T>0&&(T=0)}return T>0?r.slice(0,T)+r.slice(_t+1):r}(Se)),ji&&0==+Se&&"+"!==wn&&(ji=!1),_n=(ji?"("===wn?wn:Bt:"-"===wn||"("===wn?"":wn)+_n,bn=("s"===zn?de[8+ae/3]:"")+bn+(ji&&"("===wn?")":""),Yn)for(Fi=-1,pr=Se.length;++Fi<pr;)if(48>(Ki=Se.charCodeAt(Fi))||Ki>57){bn=(46===Ki?_t+Se.slice(Fi+1):Se.slice(Fi))+bn,Se=Se.slice(0,Fi);break}}ri&&!vn&&(Se=d(Se,1/0));var or=_n.length+Se.length+bn.length,wi=or<ii?new Array(ii-or+1).join(le):"";switch(ri&&vn&&(Se=d(wi+Se,wi.length?ii-bn.length:1/0),wi=""),xe){case"<":Se=_n+Se+bn+wi;break;case"=":Se=_n+wi+Se+bn;break;case"^":Se=wi.slice(0,or=wi.length>>1)+_n+Se+bn+wi.slice(or);break;default:Se=wi+_n+Se+bn}return Mt(Se)}return Wn=void 0===Wn?6:/[gprs]/.test(zn)?Math.max(1,Math.min(21,Wn)):Math.max(0,Math.min(20,Wn)),Vn.toString=function(){return qt+""},Vn}return{format:ne,formatPrefix:function ue(qt,le){var xe=ne(((qt=ot(qt)).type="f",qt)),wn=3*Math.max(-8,Math.min(8,Math.floor(se(le)/3))),Dn=Math.pow(10,-wn),vn=de[8+wn/3];return function(ii){return xe(Dn*ii)+vn}}}}(r),Pe=ce.format,Xe=ce.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Ye=a(56513),En=a(14296),Fe=a(8231),pe=a(67661);function In(r){return(0,Fe.Z)(function(d){d.setDate(d.getDate()-(d.getDay()+7-r)%7),d.setHours(0,0,0,0)},function(d,P){d.setDate(d.getDate()+7*P)},function(d,P){return(P-d-(P.getTimezoneOffset()-d.getTimezoneOffset())*pe.yB)/pe.iM})}var Ve=In(0),V=In(1),$t=(In(2),In(3),In(4)),hn=(In(5),In(6),a(76371));const gi=(0,Fe.Z)(function(r){r.setTime(r-r.getMilliseconds()-r.getSeconds()*pe.Ym-r.getMinutes()*pe.yB)},function(r,d){r.setTime(+r+d*pe.Y2)},function(r,d){return(d-r)/pe.Y2},function(r){return r.getHours()});var Pi=a(47793);const li=(0,Fe.Z)(function(r){r.setTime(r-r.getMilliseconds())},function(r,d){r.setTime(+r+d*pe.Ym)},function(r,d){return(d-r)/pe.Ym},function(r){return r.getUTCSeconds()});var ui=(0,Fe.Z)(function(){},function(r,d){r.setTime(+r+d)},function(r,d){return d-r});ui.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?(0,Fe.Z)(function(d){d.setTime(Math.floor(d/r)*r)},function(d,P){d.setTime(+d+P*r)},function(d,P){return(P-d)/r}):ui:null};const Ri=ui;function Jn(r){return(0,Fe.Z)(function(d){d.setUTCDate(d.getUTCDate()-(d.getUTCDay()+7-r)%7),d.setUTCHours(0,0,0,0)},function(d,P){d.setUTCDate(d.getUTCDate()+7*P)},function(d,P){return(P-d)/pe.iM})}var mi=Jn(0),fn=Jn(1),Kn=(Jn(2),Jn(3),Jn(4));const Mi=(Jn(5),Jn(6),(0,Fe.Z)(function(r){r.setUTCHours(0,0,0,0)},function(r,d){r.setUTCDate(r.getUTCDate()+d)},function(r,d){return(d-r)/pe.UD},function(r){return r.getUTCDate()-1}));var Zi=(0,Fe.Z)(function(r){r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,d){r.setUTCFullYear(r.getUTCFullYear()+d)},function(r,d){return d.getUTCFullYear()-r.getUTCFullYear()},function(r){return r.getUTCFullYear()});Zi.every=function(r){return isFinite(r=Math.floor(r))&&r>0?(0,Fe.Z)(function(d){d.setUTCFullYear(Math.floor(d.getUTCFullYear()/r)*r),d.setUTCMonth(0,1),d.setUTCHours(0,0,0,0)},function(d,P){d.setUTCFullYear(d.getUTCFullYear()+P*r)}):null};const Ti=Zi;function Di(r){if(0<=r.y&&r.y<100){var d=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return d.setFullYear(r.y),d}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function yi(r){if(0<=r.y&&r.y<100){var d=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return d.setUTCFullYear(r.y),d}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function gn(r,d,P){return{y:r,m:d,d:P,H:0,M:0,S:0,L:0}}var qn,fi,Fn={"-":"",_:" ",0:"0"},Je=/^\s*\d+/,Qn=/^%/,qi=/[\\^$*+?|[\]().{}]/g;function He(r,d,P){var T=r<0?"-":"",_t=(T?-r:r)+"",Mt=_t.length;return T+(Mt<P?new Array(P-Mt+1).join(d)+_t:_t)}function Hi(r){return r.replace(qi,"\\$&")}function mn(r){return new RegExp("^(?:"+r.map(Hi).join("|")+")","i")}function h(r){for(var d={},P=-1,T=r.length;++P<T;)d[r[P].toLowerCase()]=P;return d}function E(r,d,P){var T=Je.exec(d.slice(P,P+1));return T?(r.w=+T[0],P+T[0].length):-1}function I(r,d,P){var T=Je.exec(d.slice(P,P+1));return T?(r.u=+T[0],P+T[0].length):-1}function G(r,d,P){var T=Je.exec(d.slice(P,P+2));return T?(r.U=+T[0],P+T[0].length):-1}function St(r,d,P){var T=Je.exec(d.slice(P,P+2));return T?(r.V=+T[0],P+T[0].length):-1}function kt(r,d,P){var T=Je.exec(d.slice(P,P+2));return T?(r.W=+T[0],P+T[0].length):-1}function Dt(r,d,P){var T=Je.exec(d.slice(P,P+4));return T?(r.y=+T[0],P+T[0].length):-1}function zt(r,d,P){var T=Je.exec(d.slice(P,P+2));return T?(r.y=+T[0]+(+T[0]>68?1900:2e3),P+T[0].length):-1}function Wt(r,d,P){var T=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(d.slice(P,P+6));return T?(r.Z=T[1]?0:-(T[2]+(T[3]||"00")),P+T[0].length):-1}function Xt(r,d,P){var T=Je.exec(d.slice(P,P+1));return T?(r.q=3*T[0]-3,P+T[0].length):-1}function jt(r,d,P){var T=Je.exec(d.slice(P,P+2));return T?(r.m=T[0]-1,P+T[0].length):-1}function ye(r,d,P){var T=Je.exec(d.slice(P,P+2));return T?(r.d=+T[0],P+T[0].length):-1}function Le(r,d,P){var T=Je.exec(d.slice(P,P+3));return T?(r.m=0,r.d=+T[0],P+T[0].length):-1}function De(r,d,P){var T=Je.exec(d.slice(P,P+2));return T?(r.H=+T[0],P+T[0].length):-1}function di(r,d,P){var T=Je.exec(d.slice(P,P+2));return T?(r.M=+T[0],P+T[0].length):-1}function Tn(r,d,P){var T=Je.exec(d.slice(P,P+2));return T?(r.S=+T[0],P+T[0].length):-1}function Bi(r,d,P){var T=Je.exec(d.slice(P,P+3));return T?(r.L=+T[0],P+T[0].length):-1}function tr(r,d,P){var T=Je.exec(d.slice(P,P+6));return T?(r.L=Math.floor(T[0]/1e3),P+T[0].length):-1}function er(r,d,P){var T=Qn.exec(d.slice(P,P+1));return T?P+T[0].length:-1}function yr(r,d,P){var T=Je.exec(d.slice(P));return T?(r.Q=+T[0],P+T[0].length):-1}function xr(r,d,P){var T=Je.exec(d.slice(P));return T?(r.s=+T[0],P+T[0].length):-1}function ur(r,d){return He(r.getDate(),d,2)}function Ei(r,d){return He(r.getHours(),d,2)}function c(r,d){return He(r.getHours()%12||12,d,2)}function f(r,d){return He(1+hn.Z.count((0,Ye.Z)(r),r),d,3)}function p(r,d){return He(r.getMilliseconds(),d,3)}function M(r,d){return p(r,d)+"000"}function w(r,d){return He(r.getMonth()+1,d,2)}function S(r,d){return He(r.getMinutes(),d,2)}function F(r,d){return He(r.getSeconds(),d,2)}function j(r){var d=r.getDay();return 0===d?7:d}function W(r,d){return He(Ve.count((0,Ye.Z)(r)-1,r),d,2)}function q(r){var d=r.getDay();return d>=4||0===d?$t(r):$t.ceil(r)}function ut(r,d){return r=q(r),He($t.count((0,Ye.Z)(r),r)+(4===(0,Ye.Z)(r).getDay()),d,2)}function at(r){return r.getDay()}function tt(r,d){return He(V.count((0,Ye.Z)(r)-1,r),d,2)}function wt(r,d){return He(r.getFullYear()%100,d,2)}function lt(r,d){return He((r=q(r)).getFullYear()%100,d,2)}function B(r,d){return He(r.getFullYear()%1e4,d,4)}function yt(r,d){var P=r.getDay();return He((r=P>=4||0===P?$t(r):$t.ceil(r)).getFullYear()%1e4,d,4)}function nt(r){var d=r.getTimezoneOffset();return(d>0?"-":(d*=-1,"+"))+He(d/60|0,"0",2)+He(d%60,"0",2)}function Ot(r,d){return He(r.getUTCDate(),d,2)}function Zt(r,d){return He(r.getUTCHours(),d,2)}function te(r,d){return He(r.getUTCHours()%12||12,d,2)}function Oe(r,d){return He(1+Mi.count(Ti(r),r),d,3)}function Be(r,d){return He(r.getUTCMilliseconds(),d,3)}function Ue(r,d){return Be(r,d)+"000"}function We(r,d){return He(r.getUTCMonth()+1,d,2)}function Ce(r,d){return He(r.getUTCMinutes(),d,2)}function me(r,d){return He(r.getUTCSeconds(),d,2)}function Ze(r){var d=r.getUTCDay();return 0===d?7:d}function et(r,d){return He(mi.count(Ti(r)-1,r),d,2)}function Qt(r){var d=r.getUTCDay();return d>=4||0===d?Kn(r):Kn.ceil(r)}function ve(r,d){return r=Qt(r),He(Kn.count(Ti(r),r)+(4===Ti(r).getUTCDay()),d,2)}function we(r){return r.getUTCDay()}function Ne(r,d){return He(fn.count(Ti(r)-1,r),d,2)}function Cn(r,d){return He(r.getUTCFullYear()%100,d,2)}function nn(r,d){return He((r=Qt(r)).getUTCFullYear()%100,d,2)}function Nn(r,d){return He(r.getUTCFullYear()%1e4,d,4)}function ni(r,d){var P=r.getUTCDay();return He((r=P>=4||0===P?Kn(r):Kn.ceil(r)).getUTCFullYear()%1e4,d,4)}function Si(){return"+0000"}function xi(){return"%"}function Ci(r){return+r}function Pn(r){return Math.floor(+r/1e3)}!function wr(r){qn=function Ni(r){var d=r.dateTime,P=r.date,T=r.time,_t=r.periods,Mt=r.days,Tt=r.shortDays,Bt=r.months,Rt=r.shortMonths,ne=mn(_t),ue=h(_t),qt=mn(Mt),le=h(Mt),xe=mn(Tt),wn=h(Tt),Dn=mn(Bt),vn=h(Bt),ii=mn(Rt),ri=h(Rt),Wn={a:function ji(ee){return Tt[ee.getDay()]},A:function or(ee){return Mt[ee.getDay()]},b:function wi(ee){return Rt[ee.getMonth()]},B:function Xr(ee){return Bt[ee.getMonth()]},c:null,d:ur,e:ur,f:M,g:lt,G:yt,H:Ei,I:c,j:f,L:p,m:w,M:S,p:function Ur(ee){return _t[+(ee.getHours()>=12)]},q:function Gr(ee){return 1+~~(ee.getMonth()/3)},Q:Ci,s:Pn,S:F,u:j,U:W,V:ut,w:at,W:tt,x:null,X:null,y:wt,Y:B,Z:nt,"%":xi},Hn={a:function Kr(ee){return Tt[ee.getUTCDay()]},A:function Fr(ee){return Mt[ee.getUTCDay()]},b:function Wr(ee){return Rt[ee.getUTCMonth()]},B:function Hr(ee){return Bt[ee.getUTCMonth()]},c:null,d:Ot,e:Ot,f:Ue,g:nn,G:ni,H:Zt,I:te,j:Oe,L:Be,m:We,M:Ce,p:function zr(ee){return _t[+(ee.getUTCHours()>=12)]},q:function Yr(ee){return 1+~~(ee.getUTCMonth()/3)},Q:Ci,s:Pn,S:me,u:Ze,U:et,V:ve,w:we,W:Ne,x:null,X:null,y:Cn,Y:Nn,Z:Si,"%":xi},zn={a:function Vn(ee,$e,rn){var Ut=xe.exec($e.slice(rn));return Ut?(ee.w=wn[Ut[0].toLowerCase()],rn+Ut[0].length):-1},A:function Se(ee,$e,rn){var Ut=qt.exec($e.slice(rn));return Ut?(ee.w=le[Ut[0].toLowerCase()],rn+Ut[0].length):-1},b:function _n(ee,$e,rn){var Ut=ii.exec($e.slice(rn));return Ut?(ee.m=ri[Ut[0].toLowerCase()],rn+Ut[0].length):-1},B:function bn(ee,$e,rn){var Ut=Dn.exec($e.slice(rn));return Ut?(ee.m=vn[Ut[0].toLowerCase()],rn+Ut[0].length):-1},c:function Fi(ee,$e,rn){return Bn(ee,d,$e,rn)},d:ye,e:ye,f:tr,g:zt,G:Dt,H:De,I:De,j:Le,L:Bi,m:jt,M:di,p:function Yn(ee,$e,rn){var Ut=ne.exec($e.slice(rn));return Ut?(ee.p=ue[Ut[0].toLowerCase()],rn+Ut[0].length):-1},q:Xt,Q:yr,s:xr,S:Tn,u:I,U:G,V:St,w:E,W:kt,x:function pr(ee,$e,rn){return Bn(ee,P,$e,rn)},X:function Ki(ee,$e,rn){return Bn(ee,T,$e,rn)},y:zt,Y:Dt,Z:Wt,"%":er};function si(ee,$e){return function(rn){var oi,Yi,Rr,Ut=[],ti=-1,yn=0,ai=ee.length;for(rn instanceof Date||(rn=new Date(+rn));++ti<ai;)37===ee.charCodeAt(ti)&&(Ut.push(ee.slice(yn,ti)),null!=(Yi=Fn[oi=ee.charAt(++ti)])?oi=ee.charAt(++ti):Yi="e"===oi?" ":"0",(Rr=$e[oi])&&(oi=Rr(rn,Yi)),Ut.push(oi),yn=ti+1);return Ut.push(ee.slice(yn,ti)),Ut.join("")}}function Re(ee,$e){return function(rn){var yn,ai,Ut=gn(1900,void 0,1);if(Bn(Ut,ee,rn+="",0)!=rn.length)return null;if("Q"in Ut)return new Date(Ut.Q);if("s"in Ut)return new Date(1e3*Ut.s+("L"in Ut?Ut.L:0));if($e&&!("Z"in Ut)&&(Ut.Z=0),"p"in Ut&&(Ut.H=Ut.H%12+12*Ut.p),void 0===Ut.m&&(Ut.m="q"in Ut?Ut.q:0),"V"in Ut){if(Ut.V<1||Ut.V>53)return null;"w"in Ut||(Ut.w=1),"Z"in Ut?(ai=(yn=yi(gn(Ut.y,0,1))).getUTCDay(),yn=ai>4||0===ai?fn.ceil(yn):fn(yn),yn=Mi.offset(yn,7*(Ut.V-1)),Ut.y=yn.getUTCFullYear(),Ut.m=yn.getUTCMonth(),Ut.d=yn.getUTCDate()+(Ut.w+6)%7):(ai=(yn=Di(gn(Ut.y,0,1))).getDay(),yn=ai>4||0===ai?V.ceil(yn):V(yn),yn=hn.Z.offset(yn,7*(Ut.V-1)),Ut.y=yn.getFullYear(),Ut.m=yn.getMonth(),Ut.d=yn.getDate()+(Ut.w+6)%7)}else("W"in Ut||"U"in Ut)&&("w"in Ut||(Ut.w="u"in Ut?Ut.u%7:"W"in Ut?1:0),ai="Z"in Ut?yi(gn(Ut.y,0,1)).getUTCDay():Di(gn(Ut.y,0,1)).getDay(),Ut.m=0,Ut.d="W"in Ut?(Ut.w+6)%7+7*Ut.W-(ai+5)%7:Ut.w+7*Ut.U-(ai+6)%7);return"Z"in Ut?(Ut.H+=Ut.Z/100|0,Ut.M+=Ut.Z%100,yi(Ut)):Di(Ut)}}function Bn(ee,$e,rn,Ut){for(var oi,Yi,ti=0,yn=$e.length,ai=rn.length;ti<yn;){if(Ut>=ai)return-1;if(37===(oi=$e.charCodeAt(ti++))){if(oi=$e.charAt(ti++),!(Yi=zn[oi in Fn?$e.charAt(ti++):oi])||(Ut=Yi(ee,rn,Ut))<0)return-1}else if(oi!=rn.charCodeAt(Ut++))return-1}return Ut}return Wn.x=si(P,Wn),Wn.X=si(T,Wn),Wn.c=si(d,Wn),Hn.x=si(P,Hn),Hn.X=si(T,Hn),Hn.c=si(d,Hn),{format:function(ee){var $e=si(ee+="",Wn);return $e.toString=function(){return ee},$e},parse:function(ee){var $e=Re(ee+="",!1);return $e.toString=function(){return ee},$e},utcFormat:function(ee){var $e=si(ee+="",Hn);return $e.toString=function(){return ee},$e},utcParse:function(ee){var $e=Re(ee+="",!0);return $e.toString=function(){return ee},$e}}}(r),fi=qn.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var zi=6e4,Gi=60*zi,Ui=24*Gi,Ar=30*Ui,dr=365*Ui;function Mr(r){return new Date(r)}function Tr(r){return r instanceof Date?+r:+new Date(+r)}function sr(r,d,P,T,_t,Mt,Tt,Bt,Rt){var ne=bt(k,k),ue=ne.invert,qt=ne.domain,le=Rt(".%L"),xe=Rt(":%S"),wn=Rt("%I:%M"),Dn=Rt("%I %p"),vn=Rt("%a %d"),ii=Rt("%b %d"),ri=Rt("%B"),Wn=Rt("%Y"),Hn=[[Tt,1,1e3],[Tt,5,5e3],[Tt,15,15e3],[Tt,30,3e4],[Mt,1,zi],[Mt,5,5*zi],[Mt,15,15*zi],[Mt,30,30*zi],[_t,1,Gi],[_t,3,3*Gi],[_t,6,6*Gi],[_t,12,12*Gi],[T,1,Ui],[T,2,2*Ui],[P,1,6048e5],[d,1,Ar],[d,3,3*Ar],[r,1,dr]];function zn(Re){return(Tt(Re)<Re?le:Mt(Re)<Re?xe:_t(Re)<Re?wn:T(Re)<Re?Dn:d(Re)<Re?P(Re)<Re?vn:ii:r(Re)<Re?ri:Wn)(Re)}function si(Re,Bn,Yn,Vn){if(null==Re&&(Re=10),"number"==typeof Re){var Se=Math.abs(Yn-Bn)/Re,_n=(0,g.YF)(function(bn){return bn[2]}).right(Hn,Se);_n===Hn.length?(Vn=(0,g.ly)(Bn/dr,Yn/dr,Re),Re=r):_n?(Vn=(_n=Hn[Se/Hn[_n-1][2]<Hn[_n][2]/Se?_n-1:_n])[1],Re=_n[0]):(Vn=Math.max((0,g.ly)(Bn,Yn,Re),1),Re=Bt)}return null==Vn?Re:Re.every(Vn)}return ne.invert=function(Re){return new Date(ue(Re))},ne.domain=function(Re){return arguments.length?qt(z.call(Re,Tr)):qt().map(Mr)},ne.ticks=function(Re,Bn){var bn,Yn=qt(),Vn=Yn[0],Se=Yn[Yn.length-1],_n=Se<Vn;return _n&&(bn=Vn,Vn=Se,Se=bn),bn=(bn=si(Re,Vn,Se,Bn))?bn.range(Vn,Se+1):[],_n?bn.reverse():bn},ne.tickFormat=function(Re,Bn){return null==Bn?zn:Rt(Bn)},ne.nice=function(Re,Bn){var Yn=qt();return(Re=si(Re,Yn[0],Yn[Yn.length-1],Bn))?qt(function Ir(r,d){var Tt,P=0,T=(r=r.slice()).length-1,_t=r[P],Mt=r[T];return Mt<_t&&(Tt=P,P=T,T=Tt,Tt=_t,_t=Mt,Mt=Tt),r[P]=d.floor(_t),r[T]=d.ceil(Mt),r}(Yn,Re)):ne},ne.copy=function(){return xt(ne,sr(r,d,P,T,_t,Mt,Tt,Bt,Rt))},ne}function _r(){return v.apply(sr(Ye.Z,En.Z,Ve,hn.Z,gi,Pi.Z,li,Ri,fi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},97905:(It,ft,a)=>{"use strict";function g(v){return function(){return this.matches(v)}}a.d(ft,{Z:()=>g})},66073:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>b});var g=a(75819),v=a(25941);function b(it){var o=(0,g.Z)();return o.changedTouches&&(o=o.changedTouches[0]),(0,v.Z)(it,o)}},36175:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>v});var g=a(53517);function v(b){var it=b+="",o=it.indexOf(":");return o>=0&&"xmlns"!==(it=b.slice(0,o))&&(b=b.slice(o+1)),g.Z.hasOwnProperty(it)?{space:g.Z[it],local:b}:b}},53517:(It,ft,a)=>{"use strict";a.d(ft,{P:()=>g,Z:()=>v});var g="http://www.w3.org/1999/xhtml";const v={svg:"http://www.w3.org/2000/svg",xhtml:g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},25941:(It,ft,a)=>{"use strict";function g(v,b){var it=v.ownerSVGElement||v;if(it.createSVGPoint){var o=it.createSVGPoint();return o.x=b.clientX,o.y=b.clientY,[(o=o.matrixTransform(v.getScreenCTM().inverse())).x,o.y]}var z=v.getBoundingClientRect();return[b.clientX-z.left-v.clientLeft,b.clientY-z.top-v.clientTop]}a.d(ft,{Z:()=>g})},52016:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>v});var g=a(73171);function v(b){return"string"==typeof b?new g.Y1([[document.querySelector(b)]],[document.documentElement]):new g.Y1([[b]],g.Jz)}},73171:(It,ft,a)=>{"use strict";a.d(ft,{Y1:()=>pe,ZP:()=>Ve,Jz:()=>Fe});var g=a(29742),b=a(32037),o=a(97905);function J(V){return new Array(V.length)}function A(V,vt){this.ownerDocument=V.ownerDocument,this.namespaceURI=V.namespaceURI,this._next=null,this._parent=V,this.__data__=vt}function H(V,vt,Vt,$t,ct,re){for(var Pt,oe=0,Me=vt.length,Ie=re.length;oe<Ie;++oe)(Pt=vt[oe])?(Pt.__data__=re[oe],$t[oe]=Pt):Vt[oe]=new A(V,re[oe]);for(;oe<Me;++oe)(Pt=vt[oe])&&(ct[oe]=Pt)}function K(V,vt,Vt,$t,ct,re,oe){var Pt,Me,hn,Ie={},Qe=vt.length,Zn=re.length,un=new Array(Qe);for(Pt=0;Pt<Qe;++Pt)(Me=vt[Pt])&&(un[Pt]=hn="$"+oe.call(Me,Me.__data__,Pt,vt),hn in Ie?ct[Pt]=Me:Ie[hn]=Me);for(Pt=0;Pt<Zn;++Pt)(Me=Ie[hn="$"+oe.call(V,re[Pt],Pt,re)])?($t[Pt]=Me,Me.__data__=re[Pt],Ie[hn]=null):Vt[Pt]=new A(V,re[Pt]);for(Pt=0;Pt<Qe;++Pt)(Me=vt[Pt])&&Ie[un[Pt]]===Me&&(ct[Pt]=Me)}function ht(V,vt){return V<vt?-1:V>vt?1:V>=vt?0:NaN}A.prototype={constructor:A,appendChild:function(V){return this._parent.insertBefore(V,this._next)},insertBefore:function(V,vt){return this._parent.insertBefore(V,vt)},querySelector:function(V){return this._parent.querySelector(V)},querySelectorAll:function(V){return this._parent.querySelectorAll(V)}};var Q=a(36175);function ot(V){return function(){this.removeAttribute(V)}}function Nt(V){return function(){this.removeAttributeNS(V.space,V.local)}}function Ht(V,vt){return function(){this.setAttribute(V,vt)}}function Gt(V,vt){return function(){this.setAttributeNS(V.space,V.local,vt)}}function se(V,vt){return function(){var Vt=vt.apply(this,arguments);null==Vt?this.removeAttribute(V):this.setAttribute(V,Vt)}}function ke(V,vt){return function(){var Vt=vt.apply(this,arguments);null==Vt?this.removeAttributeNS(V.space,V.local):this.setAttributeNS(V.space,V.local,Vt)}}var pt=a(24476);function Ft(V){return function(){delete this[V]}}function ae(V,vt){return function(){this[V]=vt}}function _e(V,vt){return function(){var Vt=vt.apply(this,arguments);null==Vt?delete this[V]:this[V]=Vt}}function $(V){return V.trim().split(/^|\s+/)}function mt(V){return V.classList||new Kt(V)}function Kt(V){this._node=V,this._names=$(V.getAttribute("class")||"")}function de(V,vt){for(var Vt=mt(V),$t=-1,ct=vt.length;++$t<ct;)Vt.add(vt[$t])}function Lt(V,vt){for(var Vt=mt(V),$t=-1,ct=vt.length;++$t<ct;)Vt.remove(vt[$t])}function ce(V){return function(){de(this,V)}}function Pe(V){return function(){Lt(this,V)}}function Xe(V,vt){return function(){(vt.apply(this,arguments)?de:Lt)(this,V)}}function Mn(){this.textContent=""}function An(V){return function(){this.textContent=V}}function kn(V){return function(){var vt=V.apply(this,arguments);this.textContent=vt??""}}function On(){this.innerHTML=""}function sn(V){return function(){this.innerHTML=V}}function $n(V){return function(){var vt=V.apply(this,arguments);this.innerHTML=vt??""}}function ei(){this.nextSibling&&this.parentNode.appendChild(this)}function _i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Kt.prototype={add:function(V){this._names.indexOf(V)<0&&(this._names.push(V),this._node.setAttribute("class",this._names.join(" ")))},remove:function(V){var vt=this._names.indexOf(V);vt>=0&&(this._names.splice(vt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(V){return this._names.indexOf(V)>=0}};var fe=a(53517);function Ee(V){return function(){var vt=this.ownerDocument,Vt=this.namespaceURI;return Vt===fe.P&&vt.documentElement.namespaceURI===fe.P?vt.createElement(V):vt.createElementNS(Vt,V)}}function ie(V){return function(){return this.ownerDocument.createElementNS(V.space,V.local)}}function ze(V){var vt=(0,Q.Z)(V);return(vt.local?ie:Ee)(vt)}function Sn(){return null}function Ke(){var V=this.parentNode;V&&V.removeChild(this)}function tn(){var V=this.cloneNode(!1),vt=this.parentNode;return vt?vt.insertBefore(V,this.nextSibling):V}function Rn(){var V=this.cloneNode(!0),vt=this.parentNode;return vt?vt.insertBefore(V,this.nextSibling):V}var Xn=a(61746),ln=a(2442);function on(V,vt,Vt){var $t=(0,ln.Z)(V),ct=$t.CustomEvent;"function"==typeof ct?ct=new ct(vt,Vt):(ct=$t.document.createEvent("Event"),Vt?(ct.initEvent(vt,Vt.bubbles,Vt.cancelable),ct.detail=Vt.detail):ct.initEvent(vt,!1,!1)),V.dispatchEvent(ct)}function Gn(V,vt){return function(){return on(this,V,vt)}}function Ye(V,vt){return function(){return on(this,V,vt.apply(this,arguments))}}var Fe=[null];function pe(V,vt){this._groups=V,this._parents=vt}function In(){return new pe([[document.documentElement]],Fe)}pe.prototype=In.prototype={constructor:pe,select:function v(V){"function"!=typeof V&&(V=(0,g.Z)(V));for(var vt=this._groups,Vt=vt.length,$t=new Array(Vt),ct=0;ct<Vt;++ct)for(var Me,Ie,re=vt[ct],oe=re.length,Pt=$t[ct]=new Array(oe),Qe=0;Qe<oe;++Qe)(Me=re[Qe])&&(Ie=V.call(Me,Me.__data__,Qe,re))&&("__data__"in Me&&(Ie.__data__=Me.__data__),Pt[Qe]=Ie);return new pe($t,this._parents)},selectAll:function it(V){"function"!=typeof V&&(V=(0,b.Z)(V));for(var vt=this._groups,Vt=vt.length,$t=[],ct=[],re=0;re<Vt;++re)for(var Me,oe=vt[re],Pt=oe.length,Ie=0;Ie<Pt;++Ie)(Me=oe[Ie])&&($t.push(V.call(Me,Me.__data__,Ie,oe)),ct.push(Me));return new pe($t,ct)},filter:function z(V){"function"!=typeof V&&(V=(0,o.Z)(V));for(var vt=this._groups,Vt=vt.length,$t=new Array(Vt),ct=0;ct<Vt;++ct)for(var Me,re=vt[ct],oe=re.length,Pt=$t[ct]=[],Ie=0;Ie<oe;++Ie)(Me=re[Ie])&&V.call(Me,Me.__data__,Ie,re)&&Pt.push(Me);return new pe($t,this._parents)},data:function _(V,vt){if(!V)return hn=new Array(this.size()),Ie=-1,this.each(function(Ri){hn[++Ie]=Ri}),hn;var Vt=vt?K:H,$t=this._parents,ct=this._groups;"function"!=typeof V&&(V=function Z(V){return function(){return V}}(V));for(var re=ct.length,oe=new Array(re),Pt=new Array(re),Me=new Array(re),Ie=0;Ie<re;++Ie){var Qe=$t[Ie],Zn=ct[Ie],un=Zn.length,hn=V.call(Qe,Qe&&Qe.__data__,Ie,$t),Te=hn.length,gi=Pt[Ie]=new Array(Te),pi=oe[Ie]=new Array(Te);Vt(Qe,Zn,gi,pi,Me[Ie]=new Array(un),hn,vt);for(var Ai,ui,ci=0,li=0;ci<Te;++ci)if(Ai=gi[ci]){for(ci>=li&&(li=ci+1);!(ui=pi[li])&&++li<Te;);Ai._next=ui||null}}return(oe=new pe(oe,$t))._enter=Pt,oe._exit=Me,oe},enter:function D(){return new pe(this._enter||this._groups.map(J),this._parents)},exit:function R(){return new pe(this._exit||this._groups.map(J),this._parents)},join:function N(V,vt,Vt){var $t=this.enter(),ct=this,re=this.exit();return $t="function"==typeof V?V($t):$t.append(V+""),null!=vt&&(ct=vt(ct)),null==Vt?re.remove():Vt(re),$t&&ct?$t.merge(ct).order():ct},merge:function Y(V){for(var vt=this._groups,Vt=V._groups,$t=vt.length,re=Math.min($t,Vt.length),oe=new Array($t),Pt=0;Pt<re;++Pt)for(var un,Me=vt[Pt],Ie=Vt[Pt],Qe=Me.length,Zn=oe[Pt]=new Array(Qe),hn=0;hn<Qe;++hn)(un=Me[hn]||Ie[hn])&&(Zn[hn]=un);for(;Pt<$t;++Pt)oe[Pt]=vt[Pt];return new pe(oe,this._parents)},order:function dt(){for(var V=this._groups,vt=-1,Vt=V.length;++vt<Vt;)for(var oe,$t=V[vt],ct=$t.length-1,re=$t[ct];--ct>=0;)(oe=$t[ct])&&(re&&4^oe.compareDocumentPosition(re)&&re.parentNode.insertBefore(oe,re),re=oe);return this},sort:function k(V){function vt(Zn,un){return Zn&&un?V(Zn.__data__,un.__data__):!Zn-!un}V||(V=ht);for(var Vt=this._groups,$t=Vt.length,ct=new Array($t),re=0;re<$t;++re){for(var Ie,oe=Vt[re],Pt=oe.length,Me=ct[re]=new Array(Pt),Qe=0;Qe<Pt;++Qe)(Ie=oe[Qe])&&(Me[Qe]=Ie);Me.sort(vt)}return new pe(ct,this._parents).order()},call:function U(){var V=arguments[0];return arguments[0]=this,V.apply(null,arguments),this},nodes:function At(){var V=new Array(this.size()),vt=-1;return this.each(function(){V[++vt]=this}),V},node:function rt(){for(var V=this._groups,vt=0,Vt=V.length;vt<Vt;++vt)for(var $t=V[vt],ct=0,re=$t.length;ct<re;++ct){var oe=$t[ct];if(oe)return oe}return null},size:function xt(){var V=0;return this.each(function(){++V}),V},empty:function Et(){return!this.node()},each:function bt(V){for(var vt=this._groups,Vt=0,$t=vt.length;Vt<$t;++Vt)for(var Pt,ct=vt[Vt],re=0,oe=ct.length;re<oe;++re)(Pt=ct[re])&&V.call(Pt,Pt.__data__,re,ct);return this},attr:function st(V,vt){var Vt=(0,Q.Z)(V);if(arguments.length<2){var $t=this.node();return Vt.local?$t.getAttributeNS(Vt.space,Vt.local):$t.getAttribute(Vt)}return this.each((null==vt?Vt.local?Nt:ot:"function"==typeof vt?Vt.local?ke:se:Vt.local?Gt:Ht)(Vt,vt))},style:pt.Z,property:function qe(V,vt){return arguments.length>1?this.each((null==vt?Ft:"function"==typeof vt?_e:ae)(V,vt)):this.node()[V]},classed:function dn(V,vt){var Vt=$(V+"");if(arguments.length<2){for(var $t=mt(this.node()),ct=-1,re=Vt.length;++ct<re;)if(!$t.contains(Vt[ct]))return!1;return!0}return this.each(("function"==typeof vt?Xe:vt?ce:Pe)(Vt,vt))},text:function Ge(V){return arguments.length?this.each(null==V?Mn:("function"==typeof V?kn:An)(V)):this.node().textContent},html:function Un(V){return arguments.length?this.each(null==V?On:("function"==typeof V?$n:sn)(V)):this.node().innerHTML},raise:function be(){return this.each(ei)},lower:function Jt(){return this.each(_i)},append:function pn(V){var vt="function"==typeof V?V:ze(V);return this.select(function(){return this.appendChild(vt.apply(this,arguments))})},insert:function an(V,vt){var Vt="function"==typeof V?V:ze(V),$t=null==vt?Sn:"function"==typeof vt?vt:(0,g.Z)(vt);return this.select(function(){return this.insertBefore(Vt.apply(this,arguments),$t.apply(this,arguments)||null)})},remove:function je(){return this.each(Ke)},clone:function cn(V){return this.select(V?Rn:tn)},datum:function xn(V){return arguments.length?this.property("__data__",V):this.node().__data__},on:Xn.ZP,dispatch:function En(V,vt){return this.each(("function"==typeof vt?Ye:Gn)(V,vt))}};const Ve=In},61746:(It,ft,a)=>{"use strict";a.d(ft,{B:()=>v,ZP:()=>A,_H:()=>Z});var g={},v=null;function it(X,H,K){return X=o(X,H,K),function(_){var R=_.relatedTarget;(!R||R!==this&&!(8&R.compareDocumentPosition(this)))&&X.call(this,_)}}function o(X,H,K){return function(_){var R=v;v=_;try{X.call(this,this.__data__,H,K)}finally{v=R}}}function z(X){return X.trim().split(/^|\s+/).map(function(H){var K="",_=H.indexOf(".");return _>=0&&(K=H.slice(_+1),H=H.slice(0,_)),{type:H,name:K}})}function J(X){return function(){var H=this.__on;if(H){for(var N,K=0,_=-1,R=H.length;K<R;++K)N=H[K],X.type&&N.type!==X.type||N.name!==X.name?H[++_]=N:this.removeEventListener(N.type,N.listener,N.capture);++_?H.length=_:delete this.__on}}}function D(X,H,K){var _=g.hasOwnProperty(X.type)?it:o;return function(R,N,Y){var k,dt=this.__on,ht=_(H,N,Y);if(dt)for(var U=0,At=dt.length;U<At;++U)if((k=dt[U]).type===X.type&&k.name===X.name)return this.removeEventListener(k.type,k.listener,k.capture),this.addEventListener(k.type,k.listener=ht,k.capture=K),void(k.value=H);this.addEventListener(X.type,ht,K),k={type:X.type,name:X.name,value:H,listener:ht,capture:K},dt?dt.push(k):this.__on=[k]}}function A(X,H,K){var R,Y,_=z(X+""),N=_.length;if(!(arguments.length<2)){for(dt=H?D:J,null==K&&(K=!1),R=0;R<N;++R)this.each(dt(_[R],H,K));return this}var dt=this.node().__on;if(dt)for(var U,k=0,ht=dt.length;k<ht;++k)for(R=0,U=dt[k];R<N;++R)if((Y=_[R]).type===U.type&&Y.name===U.name)return U.value}function Z(X,H,K,_){var R=v;X.sourceEvent=v,v=X;try{return H.apply(K,_)}finally{v=R}}typeof document<"u"&&("onmouseenter"in document.documentElement||(g={mouseenter:"mouseover",mouseleave:"mouseout"}))},24476:(It,ft,a)=>{"use strict";a.d(ft,{S:()=>z,Z:()=>o});var g=a(2442);function v(J){return function(){this.style.removeProperty(J)}}function b(J,D,A){return function(){this.style.setProperty(J,D,A)}}function it(J,D,A){return function(){var Z=D.apply(this,arguments);null==Z?this.style.removeProperty(J):this.style.setProperty(J,Z,A)}}function o(J,D,A){return arguments.length>1?this.each((null==D?v:"function"==typeof D?it:b)(J,D,A??"")):z(this.node(),J)}function z(J,D){return J.style.getPropertyValue(D)||(0,g.Z)(J).getComputedStyle(J,null).getPropertyValue(D)}},29742:(It,ft,a)=>{"use strict";function g(){}function v(b){return null==b?g:function(){return this.querySelector(b)}}a.d(ft,{Z:()=>v})},32037:(It,ft,a)=>{"use strict";function g(){return[]}function v(b){return null==b?g:function(){return this.querySelectorAll(b)}}a.d(ft,{Z:()=>v})},75819:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>v});var g=a(61746);function v(){for(var it,b=g.B;it=b.sourceEvent;)b=it;return b}},2442:(It,ft,a)=>{"use strict";function g(v){return v.ownerDocument&&v.ownerDocument.defaultView||v.document&&v||v.defaultView}a.d(ft,{Z:()=>g})},84524:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>X});var g=a(73066),v=a(21456),b=a(6947);function it(H){return H.innerRadius}function o(H){return H.outerRadius}function z(H){return H.startAngle}function J(H){return H.endAngle}function D(H){return H&&H.padAngle}function A(H,K,_,R,N,Y,dt,k){var ht=_-H,U=R-K,At=dt-N,rt=k-Y,xt=rt*ht-At*U;if(!(xt*xt<b.Ho))return[H+(xt=(At*(K-Y)-rt*(H-N))/xt)*ht,K+xt*U]}function Z(H,K,_,R,N,Y,dt){var k=H-_,ht=K-R,U=(dt?Y:-Y)/(0,b._b)(k*k+ht*ht),At=U*ht,rt=-U*k,xt=H+At,Et=K+rt,bt=_+At,Q=R+rt,ot=(xt+bt)/2,Nt=(Et+Q)/2,Ht=bt-xt,Gt=Q-Et,se=Ht*Ht+Gt*Gt,ke=N-Y,st=xt*Q-bt*Et,pt=(Gt<0?-1:1)*(0,b._b)((0,b.Fp)(0,ke*ke*se-st*st)),Ft=(st*Gt-Ht*pt)/se,ae=(-st*Ht-Gt*pt)/se,_e=(st*Gt+Ht*pt)/se,qe=(-st*Ht+Gt*pt)/se,$=Ft-ot,mt=ae-Nt,Kt=_e-ot,de=qe-Nt;return $*$+mt*mt>Kt*Kt+de*de&&(Ft=_e,ae=qe),{cx:Ft,cy:ae,x01:-At,y01:-rt,x11:Ft*(N/ke-1),y11:ae*(N/ke-1)}}function X(){var H=it,K=o,_=(0,v.Z)(0),R=null,N=z,Y=J,dt=D,k=null;function ht(){var U,At,rt=+H.apply(this,arguments),xt=+K.apply(this,arguments),Et=N.apply(this,arguments)-b.ou,bt=Y.apply(this,arguments)-b.ou,Q=(0,b.Wn)(bt-Et),ot=bt>Et;if(k||(k=U=(0,g.Z)()),xt<rt&&(At=xt,xt=rt,rt=At),xt>b.Ho)if(Q>b.BZ-b.Ho)k.moveTo(xt*(0,b.mC)(Et),xt*(0,b.O$)(Et)),k.arc(0,0,xt,Et,bt,!ot),rt>b.Ho&&(k.moveTo(rt*(0,b.mC)(bt),rt*(0,b.O$)(bt)),k.arc(0,0,rt,bt,Et,ot));else{var $,mt,Nt=Et,Ht=bt,Gt=Et,se=bt,ke=Q,st=Q,pt=dt.apply(this,arguments)/2,Ft=pt>b.Ho&&(R?+R.apply(this,arguments):(0,b._b)(rt*rt+xt*xt)),ae=(0,b.VV)((0,b.Wn)(xt-rt)/2,+_.apply(this,arguments)),_e=ae,qe=ae;if(Ft>b.Ho){var Kt=(0,b.ZR)(Ft/rt*(0,b.O$)(pt)),de=(0,b.ZR)(Ft/xt*(0,b.O$)(pt));(ke-=2*Kt)>b.Ho?(Gt+=Kt*=ot?1:-1,se-=Kt):(ke=0,Gt=se=(Et+bt)/2),(st-=2*de)>b.Ho?(Nt+=de*=ot?1:-1,Ht-=de):(st=0,Nt=Ht=(Et+bt)/2)}var Lt=xt*(0,b.mC)(Nt),ce=xt*(0,b.O$)(Nt),Pe=rt*(0,b.mC)(se),Xe=rt*(0,b.O$)(se);if(ae>b.Ho){var Ge,dn=xt*(0,b.mC)(Ht),Mn=xt*(0,b.O$)(Ht),An=rt*(0,b.mC)(Gt),kn=rt*(0,b.O$)(Gt);if(Q<b.pi&&(Ge=A(Lt,ce,An,kn,dn,Mn,Pe,Xe))){var On=Lt-Ge[0],sn=ce-Ge[1],$n=dn-Ge[0],Un=Mn-Ge[1],ei=1/(0,b.O$)((0,b.Kh)((On*$n+sn*Un)/((0,b._b)(On*On+sn*sn)*(0,b._b)($n*$n+Un*Un)))/2),be=(0,b._b)(Ge[0]*Ge[0]+Ge[1]*Ge[1]);_e=(0,b.VV)(ae,(rt-be)/(ei-1)),qe=(0,b.VV)(ae,(xt-be)/(ei+1))}}st>b.Ho?qe>b.Ho?($=Z(An,kn,Lt,ce,xt,qe,ot),mt=Z(dn,Mn,Pe,Xe,xt,qe,ot),k.moveTo($.cx+$.x01,$.cy+$.y01),qe<ae?k.arc($.cx,$.cy,qe,(0,b.fv)($.y01,$.x01),(0,b.fv)(mt.y01,mt.x01),!ot):(k.arc($.cx,$.cy,qe,(0,b.fv)($.y01,$.x01),(0,b.fv)($.y11,$.x11),!ot),k.arc(0,0,xt,(0,b.fv)($.cy+$.y11,$.cx+$.x11),(0,b.fv)(mt.cy+mt.y11,mt.cx+mt.x11),!ot),k.arc(mt.cx,mt.cy,qe,(0,b.fv)(mt.y11,mt.x11),(0,b.fv)(mt.y01,mt.x01),!ot))):(k.moveTo(Lt,ce),k.arc(0,0,xt,Nt,Ht,!ot)):k.moveTo(Lt,ce),rt>b.Ho&&ke>b.Ho?_e>b.Ho?($=Z(Pe,Xe,dn,Mn,rt,-_e,ot),mt=Z(Lt,ce,An,kn,rt,-_e,ot),k.lineTo($.cx+$.x01,$.cy+$.y01),_e<ae?k.arc($.cx,$.cy,_e,(0,b.fv)($.y01,$.x01),(0,b.fv)(mt.y01,mt.x01),!ot):(k.arc($.cx,$.cy,_e,(0,b.fv)($.y01,$.x01),(0,b.fv)($.y11,$.x11),!ot),k.arc(0,0,rt,(0,b.fv)($.cy+$.y11,$.cx+$.x11),(0,b.fv)(mt.cy+mt.y11,mt.cx+mt.x11),ot),k.arc(mt.cx,mt.cy,_e,(0,b.fv)(mt.y11,mt.x11),(0,b.fv)(mt.y01,mt.x01),!ot))):k.arc(0,0,rt,se,Gt,ot):k.lineTo(Pe,Xe)}else k.moveTo(0,0);if(k.closePath(),U)return k=null,U+""||null}return ht.centroid=function(){var U=(+H.apply(this,arguments)+ +K.apply(this,arguments))/2,At=(+N.apply(this,arguments)+ +Y.apply(this,arguments))/2-b.pi/2;return[(0,b.mC)(At)*U,(0,b.O$)(At)*U]},ht.innerRadius=function(U){return arguments.length?(H="function"==typeof U?U:(0,v.Z)(+U),ht):H},ht.outerRadius=function(U){return arguments.length?(K="function"==typeof U?U:(0,v.Z)(+U),ht):K},ht.cornerRadius=function(U){return arguments.length?(_="function"==typeof U?U:(0,v.Z)(+U),ht):_},ht.padRadius=function(U){return arguments.length?(R=null==U?null:"function"==typeof U?U:(0,v.Z)(+U),ht):R},ht.startAngle=function(U){return arguments.length?(N="function"==typeof U?U:(0,v.Z)(+U),ht):N},ht.endAngle=function(U){return arguments.length?(Y="function"==typeof U?U:(0,v.Z)(+U),ht):Y},ht.padAngle=function(U){return arguments.length?(dt="function"==typeof U?U:(0,v.Z)(+U),ht):dt},ht.context=function(U){return arguments.length?(k=U??null,ht):k},ht}},21456:(It,ft,a)=>{"use strict";function g(v){return function(){return v}}a.d(ft,{Z:()=>g})},6947:(It,ft,a)=>{"use strict";a.d(ft,{BZ:()=>X,Fp:()=>it,Ho:()=>D,Kh:()=>H,O$:()=>z,VV:()=>o,Wn:()=>g,ZR:()=>K,_b:()=>J,fv:()=>v,mC:()=>b,ou:()=>Z,pi:()=>A});var g=Math.abs,v=Math.atan2,b=Math.cos,it=Math.max,o=Math.min,z=Math.sin,J=Math.sqrt,D=1e-12,A=Math.PI,Z=A/2,X=2*A;function H(_){return _>1?0:_<-1?A:Math.acos(_)}function K(_){return _>=1?Z:_<=-1?-Z:Math.asin(_)}},76371:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>it});var g=a(8231),v=a(67661);const it=(0,g.Z)(function(z){z.setHours(0,0,0,0)},function(z,J){z.setDate(z.getDate()+J)},function(z,J){return(J-z-(J.getTimezoneOffset()-z.getTimezoneOffset())*v.yB)/v.UD},function(z){return z.getDate()-1})},67661:(It,ft,a)=>{"use strict";a.d(ft,{UD:()=>it,Y2:()=>b,Ym:()=>g,iM:()=>o,yB:()=>v});var g=1e3,v=6e4,b=36e5,it=864e5,o=6048e5},8231:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>b});var g=new Date,v=new Date;function b(it,o,z,J){function D(A){return it(A=0===arguments.length?new Date:new Date(+A)),A}return D.floor=function(A){return it(A=new Date(+A)),A},D.ceil=function(A){return it(A=new Date(A-1)),o(A,1),it(A),A},D.round=function(A){var Z=D(A),X=D.ceil(A);return A-Z<X-A?Z:X},D.offset=function(A,Z){return o(A=new Date(+A),null==Z?1:Math.floor(Z)),A},D.range=function(A,Z,X){var K,H=[];if(A=D.ceil(A),X=null==X?1:Math.floor(X),!(A<Z&&X>0))return H;do{H.push(K=new Date(+A)),o(A,X),it(A)}while(K<A&&A<Z);return H},D.filter=function(A){return b(function(Z){if(Z>=Z)for(;it(Z),!A(Z);)Z.setTime(Z-1)},function(Z,X){if(Z>=Z)if(X<0)for(;++X<=0;)for(;o(Z,-1),!A(Z););else for(;--X>=0;)for(;o(Z,1),!A(Z););})},z&&(D.count=function(A,Z){return g.setTime(+A),v.setTime(+Z),it(g),it(v),Math.floor(z(g,v))},D.every=function(A){return A=Math.floor(A),isFinite(A)&&A>0?A>1?D.filter(J?function(Z){return J(Z)%A==0}:function(Z){return D.count(0,Z)%A==0}):D:null}),D}},47793:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>it});var g=a(8231),v=a(67661);const it=(0,g.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*v.Ym)},function(z,J){z.setTime(+z+J*v.yB)},function(z,J){return(J-z)/v.yB},function(z){return z.getMinutes()})},14296:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>b});const b=(0,a(8231).Z)(function(o){o.setDate(1),o.setHours(0,0,0,0)},function(o,z){o.setMonth(o.getMonth()+z)},function(o,z){return z.getMonth()-o.getMonth()+12*(z.getFullYear()-o.getFullYear())},function(o){return o.getMonth()})},56513:(It,ft,a)=>{"use strict";a.d(ft,{Z:()=>b});var g=a(8231),v=(0,g.Z)(function(o){o.setMonth(0,1),o.setHours(0,0,0,0)},function(o,z){o.setFullYear(o.getFullYear()+z)},function(o,z){return z.getFullYear()-o.getFullYear()},function(o){return o.getFullYear()});v.every=function(o){return isFinite(o=Math.floor(o))&&o>0?(0,g.Z)(function(z){z.setFullYear(Math.floor(z.getFullYear()/o)*o),z.setMonth(0,1),z.setHours(0,0,0,0)},function(z,J){z.setFullYear(z.getFullYear()+J*o)}):null};const b=v},49194:(It,ft,a)=>{"use strict";a.d(ft,{B7:()=>_,HT:()=>R,zO:()=>H});var o,z,g=0,v=0,b=0,J=0,D=0,A=0,Z="object"==typeof performance&&performance.now?performance:Date,X="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(U){setTimeout(U,17)};function H(){return D||(X(K),D=Z.now()+A)}function K(){D=0}function _(){this._call=this._time=this._next=null}function R(U,At,rt){var xt=new _;return xt.restart(U,At,rt),xt}function Y(){D=(J=Z.now())+A,g=v=0;try{!function N(){H(),++g;for(var At,U=o;U;)(At=D-U._time)>=0&&U._call.call(null,At),U=U._next;--g}()}finally{g=0,function k(){for(var U,rt,At=o,xt=1/0;At;)At._call?(xt>At._time&&(xt=At._time),U=At,At=At._next):(rt=At._next,At._next=null,At=U?U._next=rt:o=rt);z=U,ht(xt)}(),D=0}}function dt(){var U=Z.now(),At=U-J;At>1e3&&(A-=At,J=U)}function ht(U){g||(v&&(v=clearTimeout(v)),U-D>24?(U<1/0&&(v=setTimeout(Y,U-Z.now()-A)),b&&(b=clearInterval(b))):(b||(J=Z.now(),b=setInterval(dt,1e3)),g=1,X(Y)))}_.prototype=R.prototype={constructor:_,restart:function(U,At,rt){if("function"!=typeof U)throw new TypeError("callback is not a function");rt=(null==rt?H():+rt)+(null==At?0:+At),!this._next&&z!==this&&(z?z._next=this:o=this,z=this),this._call=U,this._time=rt,ht()},stop:function(){this._call&&(this._call=null,this._time=1/0,ht())}}},64747:(It,ft,a)=>{"use strict";a.d(ft,{e1:()=>k,eR:()=>Di});var g=a(73171),v=a(25922),b=a(49194);function it(h,E,I){var G=new b.B7;return G.restart(function(St){G.stop(),h(St+E)},E=null==E?0:+E,I),G}var o=(0,v.Z)("start","end","cancel","interrupt"),z=[];function _(h,E,I,G,St,kt){var Dt=h.__transition;if(Dt){if(I in Dt)return}else h.__transition={};!function dt(h,E,I){var St,G=h.__transition;function Dt(Xt){var jt,ye,Le,De;if(1!==I.state)return Wt();for(jt in G)if((De=G[jt]).name===I.name){if(3===De.state)return it(Dt);4===De.state?(De.state=6,De.timer.stop(),De.on.call("interrupt",h,h.__data__,De.index,De.group),delete G[jt]):+jt<E&&(De.state=6,De.timer.stop(),De.on.call("cancel",h,h.__data__,De.index,De.group),delete G[jt])}if(it(function(){3===I.state&&(I.state=4,I.timer.restart(zt,I.delay,I.time),zt(Xt))}),I.state=2,I.on.call("start",h,h.__data__,I.index,I.group),2===I.state){for(I.state=3,St=new Array(Le=I.tween.length),jt=0,ye=-1;jt<Le;++jt)(De=I.tween[jt].value.call(h,h.__data__,I.index,I.group))&&(St[++ye]=De);St.length=ye+1}}function zt(Xt){for(var jt=Xt<I.duration?I.ease.call(null,Xt/I.duration):(I.timer.restart(Wt),I.state=5,1),ye=-1,Le=St.length;++ye<Le;)St[ye].call(h,jt);5===I.state&&(I.on.call("end",h,h.__data__,I.index,I.group),Wt())}function Wt(){for(var Xt in I.state=6,I.timer.stop(),delete G[E],G)return;delete h.__transition}G[E]=I,I.timer=(0,b.HT)(function kt(Xt){I.state=1,I.timer.restart(Dt,I.delay,I.time),I.delay<=Xt&&Dt(Xt-I.delay)},0,I.time)}(h,I,{name:E,index:G,group:St,on:o,tween:z,time:kt.time,delay:kt.delay,duration:kt.duration,ease:kt.ease,timer:null,state:0})}function R(h,E){var I=Y(h,E);if(I.state>0)throw new Error("too late; already scheduled");return I}function N(h,E){var I=Y(h,E);if(I.state>3)throw new Error("too late; already running");return I}function Y(h,E){var I=h.__transition;if(!I||!(I=I[E]))throw new Error("transition not found");return I}function k(h,E){var G,St,Dt,I=h.__transition,kt=!0;if(I){for(Dt in E=null==E?null:E+"",I)(G=I[Dt]).name===E?(St=G.state>2&&G.state<5,G.state=6,G.timer.stop(),G.on.call(St?"interrupt":"cancel",h,h.__data__,G.index,G.group),delete I[Dt]):kt=!1;kt&&delete h.__transition}}var Et,bt,Q,ot,U=a(6738),At=180/Math.PI,rt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xt(h,E,I,G,St,kt){var Dt,zt,Wt;return(Dt=Math.sqrt(h*h+E*E))&&(h/=Dt,E/=Dt),(Wt=h*I+E*G)&&(I-=h*Wt,G-=E*Wt),(zt=Math.sqrt(I*I+G*G))&&(I/=zt,G/=zt,Wt/=zt),h*G<E*I&&(h=-h,E=-E,Wt=-Wt,Dt=-Dt),{translateX:St,translateY:kt,rotate:Math.atan2(E,h)*At,skewX:Math.atan(Wt)*At,scaleX:Dt,scaleY:zt}}function Gt(h,E,I,G){function St(Xt){return Xt.length?Xt.pop()+" ":""}return function(Xt,jt){var ye=[],Le=[];return Xt=h(Xt),jt=h(jt),function kt(Xt,jt,ye,Le,De,di){if(Xt!==ye||jt!==Le){var Tn=De.push("translate(",null,E,null,I);di.push({i:Tn-4,x:(0,U.Z)(Xt,ye)},{i:Tn-2,x:(0,U.Z)(jt,Le)})}else(ye||Le)&&De.push("translate("+ye+E+Le+I)}(Xt.translateX,Xt.translateY,jt.translateX,jt.translateY,ye,Le),function Dt(Xt,jt,ye,Le){Xt!==jt?(Xt-jt>180?jt+=360:jt-Xt>180&&(Xt+=360),Le.push({i:ye.push(St(ye)+"rotate(",null,G)-2,x:(0,U.Z)(Xt,jt)})):jt&&ye.push(St(ye)+"rotate("+jt+G)}(Xt.rotate,jt.rotate,ye,Le),function zt(Xt,jt,ye,Le){Xt!==jt?Le.push({i:ye.push(St(ye)+"skewX(",null,G)-2,x:(0,U.Z)(Xt,jt)}):jt&&ye.push(St(ye)+"skewX("+jt+G)}(Xt.skewX,jt.skewX,ye,Le),function Wt(Xt,jt,ye,Le,De,di){if(Xt!==ye||jt!==Le){var Tn=De.push(St(De)+"scale(",null,",",null,")");di.push({i:Tn-4,x:(0,U.Z)(Xt,ye)},{i:Tn-2,x:(0,U.Z)(jt,Le)})}else(1!==ye||1!==Le)&&De.push(St(De)+"scale("+ye+","+Le+")")}(Xt.scaleX,Xt.scaleY,jt.scaleX,jt.scaleY,ye,Le),Xt=jt=null,function(De){for(var Bi,di=-1,Tn=Le.length;++di<Tn;)ye[(Bi=Le[di]).i]=Bi.x(De);return ye.join("")}}}var se=Gt(function Nt(h){return"none"===h?rt:(Et||(Et=document.createElement("DIV"),bt=document.documentElement,Q=document.defaultView),Et.style.transform=h,h=Q.getComputedStyle(bt.appendChild(Et),null).getPropertyValue("transform"),bt.removeChild(Et),xt(+(h=h.slice(7,-1).split(","))[0],+h[1],+h[2],+h[3],+h[4],+h[5]))},"px, ","px)","deg)"),ke=Gt(function Ht(h){return null!=h&&(ot||(ot=document.createElementNS("http://www.w3.org/2000/svg","g")),ot.setAttribute("transform",h),h=ot.transform.baseVal.consolidate())?xt((h=h.matrix).a,h.b,h.c,h.d,h.e,h.f):rt},", ",")",")"),st=a(36175);function pt(h,E){var I,G;return function(){var St=N(this,h),kt=St.tween;if(kt!==I)for(var Dt=0,zt=(G=I=kt).length;Dt<zt;++Dt)if(G[Dt].name===E){(G=G.slice()).splice(Dt,1);break}St.tween=G}}function Ft(h,E,I){var G,St;if("function"!=typeof I)throw new Error;return function(){var kt=N(this,h),Dt=kt.tween;if(Dt!==G){St=(G=Dt).slice();for(var zt={name:E,value:I},Wt=0,Xt=St.length;Wt<Xt;++Wt)if(St[Wt].name===E){St[Wt]=zt;break}Wt===Xt&&St.push(zt)}kt.tween=St}}function _e(h,E,I){var G=h._id;return h.each(function(){var St=N(this,G);(St.value||(St.value={}))[E]=I.apply(this,arguments)}),function(St){return Y(St,G).value[E]}}function qe(h,E,I){h.prototype=E.prototype=I,I.constructor=h}function $(h,E){var I=Object.create(h.prototype);for(var G in E)I[G]=E[G];return I}function mt(){}var de=1/.7,Lt="\\s*([+-]?\\d+)\\s*",ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xe=/^#([0-9a-f]{3,8})$/,dn=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),Mn=new RegExp("^rgb\\("+[Pe,Pe,Pe]+"\\)$"),An=new RegExp("^rgba\\("+[Lt,Lt,Lt,ce]+"\\)$"),kn=new RegExp("^rgba\\("+[Pe,Pe,Pe,ce]+"\\)$"),Ge=new RegExp("^hsl\\("+[ce,Pe,Pe]+"\\)$"),On=new RegExp("^hsla\\("+[ce,Pe,Pe,ce]+"\\)$"),sn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $n(){return this.rgb().formatHex()}function ei(){return this.rgb().formatRgb()}function be(h){var E,I;return h=(h+"").trim().toLowerCase(),(E=Xe.exec(h))?(I=E[1].length,E=parseInt(E[1],16),6===I?_i(E):3===I?new ie(E>>8&15|E>>4&240,E>>4&15|240&E,(15&E)<<4|15&E,1):8===I?Jt(E>>24&255,E>>16&255,E>>8&255,(255&E)/255):4===I?Jt(E>>12&15|E>>8&240,E>>8&15|E>>4&240,E>>4&15|240&E,((15&E)<<4|15&E)/255):null):(E=dn.exec(h))?new ie(E[1],E[2],E[3],1):(E=Mn.exec(h))?new ie(255*E[1]/100,255*E[2]/100,255*E[3]/100,1):(E=An.exec(h))?Jt(E[1],E[2],E[3],E[4]):(E=kn.exec(h))?Jt(255*E[1]/100,255*E[2]/100,255*E[3]/100,E[4]):(E=Ge.exec(h))?an(E[1],E[2]/100,E[3]/100,1):(E=On.exec(h))?an(E[1],E[2]/100,E[3]/100,E[4]):sn.hasOwnProperty(h)?_i(sn[h]):"transparent"===h?new ie(NaN,NaN,NaN,0):null}function _i(h){return new ie(h>>16&255,h>>8&255,255&h,1)}function Jt(h,E,I,G){return G<=0&&(h=E=I=NaN),new ie(h,E,I,G)}function fe(h){return h instanceof mt||(h=be(h)),h?new ie((h=h.rgb()).r,h.g,h.b,h.opacity):new ie}function ie(h,E,I,G){this.r=+h,this.g=+E,this.b=+I,this.opacity=+G}function ze(){return"#"+Sn(this.r)+Sn(this.g)+Sn(this.b)}function pn(){var h=this.opacity;return(1===(h=isNaN(h)?1:Math.max(0,Math.min(1,h)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===h?")":", "+h+")")}function Sn(h){return((h=Math.max(0,Math.min(255,Math.round(h)||0)))<16?"0":"")+h.toString(16)}function an(h,E,I,G){return G<=0?h=E=I=NaN:I<=0||I>=1?h=E=NaN:E<=0&&(h=NaN),new tn(h,E,I,G)}function Ke(h){if(h instanceof tn)return new tn(h.h,h.s,h.l,h.opacity);if(h instanceof mt||(h=be(h)),!h)return new tn;if(h instanceof tn)return h;var E=(h=h.rgb()).r/255,I=h.g/255,G=h.b/255,St=Math.min(E,I,G),kt=Math.max(E,I,G),Dt=NaN,zt=kt-St,Wt=(kt+St)/2;return zt?(Dt=E===kt?(I-G)/zt+6*(I<G):I===kt?(G-E)/zt+2:(E-I)/zt+4,zt/=Wt<.5?kt+St:2-kt-St,Dt*=60):zt=Wt>0&&Wt<1?0:Dt,new tn(Dt,zt,Wt,h.opacity)}function tn(h,E,I,G){this.h=+h,this.s=+E,this.l=+I,this.opacity=+G}function Rn(h,E,I){return 255*(h<60?E+(I-E)*h/60:h<180?I:h<240?E+(I-E)*(240-h)/60:E)}qe(mt,be,{copy:function(h){return Object.assign(new this.constructor,this,h)},displayable:function(){return this.rgb().displayable()},hex:$n,formatHex:$n,formatHsl:function Un(){return Ke(this).formatHsl()},formatRgb:ei,toString:ei}),qe(ie,function Ee(h,E,I,G){return 1===arguments.length?fe(h):new ie(h,E,I,G??1)},$(mt,{brighter:function(h){return h=null==h?de:Math.pow(de,h),new ie(this.r*h,this.g*h,this.b*h,this.opacity)},darker:function(h){return h=null==h?.7:Math.pow(.7,h),new ie(this.r*h,this.g*h,this.b*h,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ze,formatHex:ze,formatRgb:pn,toString:pn})),qe(tn,function je(h,E,I,G){return 1===arguments.length?Ke(h):new tn(h,E,I,G??1)},$(mt,{brighter:function(h){return h=null==h?de:Math.pow(de,h),new tn(this.h,this.s,this.l*h,this.opacity)},darker:function(h){return h=null==h?.7:Math.pow(.7,h),new tn(this.h,this.s,this.l*h,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),E=isNaN(h)||isNaN(this.s)?0:this.s,I=this.l,G=I+(I<.5?I:1-I)*E,St=2*I-G;return new ie(Rn(h>=240?h-240:h+120,St,G),Rn(h,St,G),Rn(h<120?h+240:h-120,St,G),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var h=this.opacity;return(1===(h=isNaN(h)?1:Math.max(0,Math.min(1,h)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===h?")":", "+h+")")}}));var cn=a(23534),xn=a(23096);function Xn(h,E){var I;return("number"==typeof E?U.Z:E instanceof be?cn.ZP:(I=be(E))?(E=I,cn.ZP):xn.Z)(h,E)}function ln(h){return function(){this.removeAttribute(h)}}function on(h){return function(){this.removeAttributeNS(h.space,h.local)}}function Gn(h,E,I){var G,kt,St=I+"";return function(){var Dt=this.getAttribute(h);return Dt===St?null:Dt===G?kt:kt=E(G=Dt,I)}}function Ye(h,E,I){var G,kt,St=I+"";return function(){var Dt=this.getAttributeNS(h.space,h.local);return Dt===St?null:Dt===G?kt:kt=E(G=Dt,I)}}function En(h,E,I){var G,St,kt;return function(){var Dt,Wt,zt=I(this);return null==zt?void this.removeAttribute(h):(Dt=this.getAttribute(h))===(Wt=zt+"")?null:Dt===G&&Wt===St?kt:(St=Wt,kt=E(G=Dt,zt))}}function Fe(h,E,I){var G,St,kt;return function(){var Dt,Wt,zt=I(this);return null==zt?void this.removeAttributeNS(h.space,h.local):(Dt=this.getAttributeNS(h.space,h.local))===(Wt=zt+"")?null:Dt===G&&Wt===St?kt:(St=Wt,kt=E(G=Dt,zt))}}function In(h,E){return function(I){this.setAttribute(h,E.call(this,I))}}function Ve(h,E){return function(I){this.setAttributeNS(h.space,h.local,E.call(this,I))}}function V(h,E){var I,G;function St(){var kt=E.apply(this,arguments);return kt!==G&&(I=(G=kt)&&Ve(h,kt)),I}return St._value=E,St}function vt(h,E){var I,G;function St(){var kt=E.apply(this,arguments);return kt!==G&&(I=(G=kt)&&In(h,kt)),I}return St._value=E,St}function $t(h,E){return function(){R(this,h).delay=+E.apply(this,arguments)}}function ct(h,E){return E=+E,function(){R(this,h).delay=E}}function oe(h,E){return function(){N(this,h).duration=+E.apply(this,arguments)}}function Pt(h,E){return E=+E,function(){N(this,h).duration=E}}function Ie(h,E){if("function"!=typeof E)throw new Error;return function(){N(this,h).ease=E}}var Zn=a(97905);function gi(h,E,I){var G,St,kt=function Te(h){return(h+"").trim().split(/^|\s+/).every(function(E){var I=E.indexOf(".");return I>=0&&(E=E.slice(0,I)),!E||"start"===E})}(E)?R:N;return function(){var Dt=kt(this,h),zt=Dt.on;zt!==G&&(St=(G=zt).copy()).on(E,I),Dt.on=St}}var li=a(29742),ui=a(32037),Qi=g.ZP.prototype.constructor,mi=a(24476);function $i(h){return function(){this.style.removeProperty(h)}}function Xi(h,E,I){return function(G){this.style.setProperty(h,E.call(this,G),I)}}function Li(h,E,I){var G,St;function kt(){var Dt=E.apply(this,arguments);return Dt!==St&&(G=(St=Dt)&&Xi(h,Dt,I)),G}return kt._value=E,kt}function lr(h){return function(E){this.textContent=h.call(this,E)}}function vi(h){var E,I;function G(){var St=h.apply(this,arguments);return St!==I&&(E=(I=St)&&lr(St)),E}return G._value=h,G}var Ti=0;function jn(h,E,I,G){this._groups=h,this._parents=E,this._name=I,this._id=G}function Di(h){return(0,g.ZP)().transition(h)}function yi(){return++Ti}var gn=g.ZP.prototype;jn.prototype=Di.prototype={constructor:jn,select:function Ai(h){var E=this._name,I=this._id;"function"!=typeof h&&(h=(0,li.Z)(h));for(var G=this._groups,St=G.length,kt=new Array(St),Dt=0;Dt<St;++Dt)for(var jt,ye,zt=G[Dt],Wt=zt.length,Xt=kt[Dt]=new Array(Wt),Le=0;Le<Wt;++Le)(jt=zt[Le])&&(ye=h.call(jt,jt.__data__,Le,zt))&&("__data__"in jt&&(ye.__data__=jt.__data__),Xt[Le]=ye,_(Xt[Le],E,I,Le,Xt,Y(jt,I)));return new jn(kt,this._parents,E,I)},selectAll:function Ri(h){var E=this._name,I=this._id;"function"!=typeof h&&(h=(0,ui.Z)(h));for(var G=this._groups,St=G.length,kt=[],Dt=[],zt=0;zt<St;++zt)for(var jt,Wt=G[zt],Xt=Wt.length,ye=0;ye<Xt;++ye)if(jt=Wt[ye]){for(var De,Le=h.call(jt,jt.__data__,ye,Wt),di=Y(jt,I),Tn=0,Bi=Le.length;Tn<Bi;++Tn)(De=Le[Tn])&&_(De,E,I,Tn,Le,di);kt.push(Le),Dt.push(jt)}return new jn(kt,Dt,E,I)},filter:function un(h){"function"!=typeof h&&(h=(0,Zn.Z)(h));for(var E=this._groups,I=E.length,G=new Array(I),St=0;St<I;++St)for(var Wt,kt=E[St],Dt=kt.length,zt=G[St]=[],Xt=0;Xt<Dt;++Xt)(Wt=kt[Xt])&&h.call(Wt,Wt.__data__,Xt,kt)&&zt.push(Wt);return new jn(G,this._parents,this._name,this._id)},merge:function hn(h){if(h._id!==this._id)throw new Error;for(var E=this._groups,I=h._groups,G=E.length,kt=Math.min(G,I.length),Dt=new Array(G),zt=0;zt<kt;++zt)for(var Le,Wt=E[zt],Xt=I[zt],jt=Wt.length,ye=Dt[zt]=new Array(jt),De=0;De<jt;++De)(Le=Wt[De]||Xt[De])&&(ye[De]=Le);for(;zt<G;++zt)Dt[zt]=E[zt];return new jn(Dt,this._parents,this._name,this._id)},selection:function Jn(){return new Qi(this._groups,this._parents)},transition:function Ji(){for(var h=this._name,E=this._id,I=yi(),G=this._groups,St=G.length,kt=0;kt<St;++kt)for(var Wt,Dt=G[kt],zt=Dt.length,Xt=0;Xt<zt;++Xt)if(Wt=Dt[Xt]){var jt=Y(Wt,E);_(Wt,h,I,Xt,Dt,{time:jt.time+jt.delay+jt.duration,delay:0,duration:jt.duration,ease:jt.ease})}return new jn(G,this._parents,h,I)},call:gn.call,nodes:gn.nodes,node:gn.node,size:gn.size,empty:gn.empty,each:gn.each,on:function pi(h,E){var I=this._id;return arguments.length<2?Y(this.node(),I).on.on(h):this.each(gi(I,h,E))},attr:function pe(h,E){var I=(0,st.Z)(h),G="transform"===I?ke:Xn;return this.attrTween(h,"function"==typeof E?(I.local?Fe:En)(I,G,_e(this,"attr."+h,E)):null==E?(I.local?on:ln)(I):(I.local?Ye:Gn)(I,G,E))},attrTween:function Vt(h,E){var I="attr."+h;if(arguments.length<2)return(I=this.tween(I))&&I._value;if(null==E)return this.tween(I,null);if("function"!=typeof E)throw new Error;var G=(0,st.Z)(h);return this.tween(I,(G.local?V:vt)(G,E))},style:function en(h,E,I){var G="transform"==(h+="")?se:Xn;return null==E?this.styleTween(h,function fn(h,E){var I,G,St;return function(){var kt=(0,mi.S)(this,h),Dt=(this.style.removeProperty(h),(0,mi.S)(this,h));return kt===Dt?null:kt===I&&Dt===G?St:St=E(I=kt,G=Dt)}}(h,G)).on("end.style."+h,$i(h)):"function"==typeof E?this.styleTween(h,function Kn(h,E,I){var G,St,kt;return function(){var Dt=(0,mi.S)(this,h),zt=I(this),Wt=zt+"";return null==zt&&(this.style.removeProperty(h),Wt=zt=(0,mi.S)(this,h)),Dt===Wt?null:Dt===G&&Wt===St?kt:(St=Wt,kt=E(G=Dt,zt))}}(h,G,_e(this,"style."+h,E))).each(function bi(h,E){var I,G,St,zt,kt="style."+E,Dt="end."+kt;return function(){var Wt=N(this,h),Xt=Wt.on,jt=null==Wt.value[kt]?zt||(zt=$i(E)):void 0;(Xt!==I||St!==jt)&&(G=(I=Xt).copy()).on(Dt,St=jt),Wt.on=G}}(this._id,h)):this.styleTween(h,function Ii(h,E,I){var G,kt,St=I+"";return function(){var Dt=(0,mi.S)(this,h);return Dt===St?null:Dt===G?kt:kt=E(G=Dt,I)}}(h,G,E),I).on("end.style."+h,null)},styleTween:function hi(h,E,I){var G="style."+(h+="");if(arguments.length<2)return(G=this.tween(G))&&G._value;if(null==E)return this.tween(G,null);if("function"!=typeof E)throw new Error;return this.tween(G,Li(h,E,I??""))},text:function cr(h){return this.tween("text","function"==typeof h?function Wi(h){return function(){var E=h(this);this.textContent=E??""}}(_e(this,"text",h)):function Oi(h){return function(){this.textContent=h}}(null==h?"":h+""))},textTween:function Mi(h){var E="text";if(arguments.length<1)return(E=this.tween(E))&&E._value;if(null==h)return this.tween(E,null);if("function"!=typeof h)throw new Error;return this.tween(E,vi(h))},remove:function ci(){return this.on("end.remove",function Pi(h){return function(){var E=this.parentNode;for(var I in this.__transition)if(+I!==h)return;E&&E.removeChild(this)}}(this._id))},tween:function ae(h,E){var I=this._id;if(h+="",arguments.length<2){for(var Dt,G=Y(this.node(),I).tween,St=0,kt=G.length;St<kt;++St)if((Dt=G[St]).name===h)return Dt.value;return null}return this.each((null==E?pt:Ft)(I,h,E))},delay:function re(h){var E=this._id;return arguments.length?this.each(("function"==typeof h?$t:ct)(E,h)):Y(this.node(),E).delay},duration:function Me(h){var E=this._id;return arguments.length?this.each(("function"==typeof h?oe:Pt)(E,h)):Y(this.node(),E).duration},ease:function Qe(h){var E=this._id;return arguments.length?this.each(Ie(E,h)):Y(this.node(),E).ease},end:function Zi(){var h,E,I=this,G=I._id,St=I.size();return new Promise(function(kt,Dt){var zt={value:Dt},Wt={value:function(){0==--St&&kt()}};I.each(function(){var Xt=N(this,G),jt=Xt.on;jt!==h&&((E=(h=jt).copy())._.cancel.push(zt),E._.interrupt.push(zt),E._.end.push(Wt)),Xt.on=E})})}};var Qn={time:null,delay:0,duration:250,ease:function Je(h){return((h*=2)<=1?h*h*h:(h-=2)*h*h+2)/2}};function qi(h,E){for(var I;!(I=h.__transition)||!(I=I[E]);)if(!(h=h.parentNode))return Qn.time=(0,b.zO)(),Qn;return I}g.ZP.prototype.interrupt=function ht(h){return this.each(function(){k(this,h)})},g.ZP.prototype.transition=function He(h){var E,I;h instanceof jn?(E=h._id,h=h._name):(E=yi(),(I=Qn).time=(0,b.zO)(),h=null==h?null:h+"");for(var G=this._groups,St=G.length,kt=0;kt<St;++kt)for(var Wt,Dt=G[kt],zt=Dt.length,Xt=0;Xt<zt;++Xt)(Wt=Dt[Xt])&&_(Wt,h,E,Xt,Dt,I||qi(Wt,E));return new jn(G,this._parents,h,E)}},56859:(It,ft,a)=>{"use strict";a.d(ft,{LLu:()=>ke,y4O:()=>st,Khx:()=>se,F5q:()=>Gt,b4o:()=>Y.b4,Wem:()=>Y.We,Hh:()=>Vt,A4v:()=>un,Fp7:()=>Y.Fp,VV$:()=>Y.VV,tiA:()=>ui.ti,Ys:()=>Ri.Z,rr1:()=>Jn.Z,Z_i:()=>Qi.Z,F0B:()=>mi.Z,jBk:()=>fn.Z});var Y=a(62225),dt=Array.prototype.slice;function k(c){return c}function Et(c){return"translate("+(c+.5)+",0)"}function bt(c){return"translate(0,"+(c+.5)+")"}function Q(c){return function(f){return+c(f)}}function ot(c){var f=Math.max(0,c.bandwidth()-1)/2;return c.round()&&(f=Math.round(f)),function(p){return+c(p)+f}}function Nt(){return!this.__axis}function Ht(c,f){var p=[],M=null,w=null,S=6,F=6,j=3,W=1===c||4===c?-1:1,q=4===c||2===c?"x":"y",ut=1===c||3===c?Et:bt;function at(tt){var wt=M??(f.ticks?f.ticks.apply(f,p):f.domain()),lt=w??(f.tickFormat?f.tickFormat.apply(f,p):k),B=Math.max(S,0)+j,yt=f.range(),nt=+yt[0]+.5,Ot=+yt[yt.length-1]+.5,Zt=(f.bandwidth?ot:Q)(f.copy()),te=tt.selection?tt.selection():tt,Oe=te.selectAll(".domain").data([null]),Be=te.selectAll(".tick").data(wt,f).order(),Ue=Be.exit(),We=Be.enter().append("g").attr("class","tick"),Ce=Be.select("line"),me=Be.select("text");Oe=Oe.merge(Oe.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Be=Be.merge(We),Ce=Ce.merge(We.append("line").attr("stroke","currentColor").attr(q+"2",W*S)),me=me.merge(We.append("text").attr("fill","currentColor").attr(q,W*B).attr("dy",1===c?"0em":3===c?"0.71em":"0.32em")),tt!==te&&(Oe=Oe.transition(tt),Be=Be.transition(tt),Ce=Ce.transition(tt),me=me.transition(tt),Ue=Ue.transition(tt).attr("opacity",1e-6).attr("transform",function(Ze){return isFinite(Ze=Zt(Ze))?ut(Ze):this.getAttribute("transform")}),We.attr("opacity",1e-6).attr("transform",function(Ze){var et=this.parentNode.__axis;return ut(et&&isFinite(et=et(Ze))?et:Zt(Ze))})),Ue.remove(),Oe.attr("d",4===c||2==c?F?"M"+W*F+","+nt+"H0.5V"+Ot+"H"+W*F:"M0.5,"+nt+"V"+Ot:F?"M"+nt+","+W*F+"V0.5H"+Ot+"V"+W*F:"M"+nt+",0.5H"+Ot),Be.attr("opacity",1).attr("transform",function(Ze){return ut(Zt(Ze))}),Ce.attr(q+"2",W*S),me.attr(q,W*B).text(lt),te.filter(Nt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===c?"start":4===c?"end":"middle"),te.each(function(){this.__axis=Zt})}return at.scale=function(tt){return arguments.length?(f=tt,at):f},at.ticks=function(){return p=dt.call(arguments),at},at.tickArguments=function(tt){return arguments.length?(p=null==tt?[]:dt.call(tt),at):p.slice()},at.tickValues=function(tt){return arguments.length?(M=null==tt?null:dt.call(tt),at):M&&M.slice()},at.tickFormat=function(tt){return arguments.length?(w=tt,at):w},at.tickSize=function(tt){return arguments.length?(S=F=+tt,at):S},at.tickSizeInner=function(tt){return arguments.length?(S=+tt,at):S},at.tickSizeOuter=function(tt){return arguments.length?(F=+tt,at):F},at.tickPadding=function(tt){return arguments.length?(j=+tt,at):j},at}function Gt(c){return Ht(1,c)}function se(c){return Ht(2,c)}function ke(c){return Ht(3,c)}function st(c){return Ht(4,c)}a(24099),Math,Math,Math,Math;var kn=a(88097);function Jt(c){return function(){return c}}function fe(){return 1e-6*(Math.random()-.5)}function ie(c,f,p,M){if(isNaN(f)||isNaN(p))return c;var w,at,tt,wt,lt,B,yt,nt,Ot,S=c._root,F={data:M},j=c._x0,W=c._y0,q=c._x1,ut=c._y1;if(!S)return c._root=F,c;for(;S.length;)if((B=f>=(at=(j+q)/2))?j=at:q=at,(yt=p>=(tt=(W+ut)/2))?W=tt:ut=tt,w=S,!(S=S[nt=yt<<1|B]))return w[nt]=F,c;if(wt=+c._x.call(null,S.data),lt=+c._y.call(null,S.data),f===wt&&p===lt)return F.next=S,w?w[nt]=F:c._root=F,c;do{w=w?w[nt]=new Array(4):c._root=new Array(4),(B=f>=(at=(j+q)/2))?j=at:q=at,(yt=p>=(tt=(W+ut)/2))?W=tt:ut=tt}while((nt=yt<<1|B)==(Ot=(lt>=tt)<<1|wt>=at));return w[Ot]=S,w[nt]=F,c}function Ke(c,f,p,M,w){this.node=c,this.x0=f,this.y0=p,this.x1=M,this.y1=w}function on(c){return c[0]}function Ye(c){return c[1]}function Fe(c,f,p){var M=new pe(f??on,p??Ye,NaN,NaN,NaN,NaN);return null==c?M:M.addAll(c)}function pe(c,f,p,M,w,S){this._x=c,this._y=f,this._x0=p,this._y0=M,this._x1=w,this._y1=S,this._root=void 0}function In(c){for(var f={data:c.data},p=f;c=c.next;)p=p.next={data:c.data};return f}var Ve=Fe.prototype=pe.prototype;function V(c){return c.x+c.vx}function vt(c){return c.y+c.vy}function Vt(c){var f,p,M=1,w=1;function S(){for(var W,ut,at,tt,wt,lt,B,q=f.length,yt=0;yt<w;++yt)for(ut=Fe(f,V,vt).visitAfter(F),W=0;W<q;++W)B=(lt=p[(at=f[W]).index])*lt,tt=at.x+at.vx,wt=at.y+at.vy,ut.visit(nt);function nt(Ot,Zt,te,Oe,Be){var Ue=Ot.data,We=Ot.r,Ce=lt+We;if(!Ue)return Zt>tt+Ce||Oe<tt-Ce||te>wt+Ce||Be<wt-Ce;if(Ue.index>at.index){var me=tt-Ue.x-Ue.vx,Ze=wt-Ue.y-Ue.vy,et=me*me+Ze*Ze;et<Ce*Ce&&(0===me&&(et+=(me=fe())*me),0===Ze&&(et+=(Ze=fe())*Ze),et=(Ce-(et=Math.sqrt(et)))/et*M,at.vx+=(me*=et)*(Ce=(We*=We)/(B+We)),at.vy+=(Ze*=et)*Ce,Ue.vx-=me*(Ce=1-Ce),Ue.vy-=Ze*Ce)}}}function F(W){if(W.data)return W.r=p[W.data.index];for(var q=W.r=0;q<4;++q)W[q]&&W[q].r>W.r&&(W.r=W[q].r)}function j(){if(f){var W,ut,q=f.length;for(p=new Array(q),W=0;W<q;++W)p[(ut=f[W]).index]=+c(ut,W,f)}}return"function"!=typeof c&&(c=Jt(null==c?1:+c)),S.initialize=function(W){f=W,j()},S.iterations=function(W){return arguments.length?(w=+W,S):w},S.strength=function(W){return arguments.length?(M=+W,S):M},S.radius=function(W){return arguments.length?(c="function"==typeof W?W:Jt(+W),j(),S):c},S}Ve.copy=function(){var p,M,c=new pe(this._x,this._y,this._x0,this._y0,this._x1,this._y1),f=this._root;if(!f)return c;if(!f.length)return c._root=In(f),c;for(p=[{source:f,target:c._root=new Array(4)}];f=p.pop();)for(var w=0;w<4;++w)(M=f.source[w])&&(M.length?p.push({source:M,target:f.target[w]=new Array(4)}):f.target[w]=In(M));return c},Ve.add=function Ee(c){var f=+this._x.call(null,c),p=+this._y.call(null,c);return ie(this.cover(f,p),f,p,c)},Ve.addAll=function ze(c){var f,p,w,S,M=c.length,F=new Array(M),j=new Array(M),W=1/0,q=1/0,ut=-1/0,at=-1/0;for(p=0;p<M;++p)isNaN(w=+this._x.call(null,f=c[p]))||isNaN(S=+this._y.call(null,f))||(F[p]=w,j[p]=S,w<W&&(W=w),w>ut&&(ut=w),S<q&&(q=S),S>at&&(at=S));if(W>ut||q>at)return this;for(this.cover(W,q).cover(ut,at),p=0;p<M;++p)ie(this,F[p],j[p],c[p]);return this},Ve.cover=function pn(c,f){if(isNaN(c=+c)||isNaN(f=+f))return this;var p=this._x0,M=this._y0,w=this._x1,S=this._y1;if(isNaN(p))w=(p=Math.floor(c))+1,S=(M=Math.floor(f))+1;else{for(var W,q,F=w-p,j=this._root;p>c||c>=w||M>f||f>=S;)switch(q=(f<M)<<1|c<p,W=new Array(4),W[q]=j,j=W,F*=2,q){case 0:w=p+F,S=M+F;break;case 1:p=w-F,S=M+F;break;case 2:w=p+F,M=S-F;break;case 3:p=w-F,M=S-F}this._root&&this._root.length&&(this._root=j)}return this._x0=p,this._y0=M,this._x1=w,this._y1=S,this},Ve.data=function Sn(){var c=[];return this.visit(function(f){if(!f.length)do{c.push(f.data)}while(f=f.next)}),c},Ve.extent=function an(c){return arguments.length?this.cover(+c[0][0],+c[0][1]).cover(+c[1][0],+c[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ve.find=function je(c,f,p){var M,F,j,W,q,lt,B,w=this._x0,S=this._y0,ut=this._x1,at=this._y1,tt=[],wt=this._root;for(wt&&tt.push(new Ke(wt,w,S,ut,at)),null==p?p=1/0:(w=c-p,S=f-p,ut=c+p,at=f+p,p*=p);lt=tt.pop();)if(!(!(wt=lt.node)||(F=lt.x0)>ut||(j=lt.y0)>at||(W=lt.x1)<w||(q=lt.y1)<S))if(wt.length){var yt=(F+W)/2,nt=(j+q)/2;tt.push(new Ke(wt[3],yt,nt,W,q),new Ke(wt[2],F,nt,yt,q),new Ke(wt[1],yt,j,W,nt),new Ke(wt[0],F,j,yt,nt)),(B=(f>=nt)<<1|c>=yt)&&(lt=tt[tt.length-1],tt[tt.length-1]=tt[tt.length-1-B],tt[tt.length-1-B]=lt)}else{var Ot=c-+this._x.call(null,wt.data),Zt=f-+this._y.call(null,wt.data),te=Ot*Ot+Zt*Zt;if(te<p){var Oe=Math.sqrt(p=te);w=c-Oe,S=f-Oe,ut=c+Oe,at=f+Oe,M=wt.data}}return M},Ve.remove=function tn(c){if(isNaN(ut=+this._x.call(null,c))||isNaN(at=+this._y.call(null,c)))return this;var f,M,w,S,ut,at,tt,wt,lt,B,yt,nt,p=this._root,F=this._x0,j=this._y0,W=this._x1,q=this._y1;if(!p)return this;if(p.length)for(;;){if((lt=ut>=(tt=(F+W)/2))?F=tt:W=tt,(B=at>=(wt=(j+q)/2))?j=wt:q=wt,f=p,!(p=p[yt=B<<1|lt]))return this;if(!p.length)break;(f[yt+1&3]||f[yt+2&3]||f[yt+3&3])&&(M=f,nt=yt)}for(;p.data!==c;)if(w=p,!(p=p.next))return this;return(S=p.next)&&delete p.next,w?(S?w.next=S:delete w.next,this):f?(S?f[yt]=S:delete f[yt],(p=f[0]||f[1]||f[2]||f[3])&&p===(f[3]||f[2]||f[1]||f[0])&&!p.length&&(M?M[nt]=p:this._root=p),this):(this._root=S,this)},Ve.removeAll=function Rn(c){for(var f=0,p=c.length;f<p;++f)this.remove(c[f]);return this},Ve.root=function cn(){return this._root},Ve.size=function xn(){var c=0;return this.visit(function(f){if(!f.length)do{++c}while(f=f.next)}),c},Ve.visit=function Xn(c){var p,w,S,F,j,W,f=[],M=this._root;for(M&&f.push(new Ke(M,this._x0,this._y0,this._x1,this._y1));p=f.pop();)if(!c(M=p.node,S=p.x0,F=p.y0,j=p.x1,W=p.y1)&&M.length){var q=(S+j)/2,ut=(F+W)/2;(w=M[3])&&f.push(new Ke(w,q,ut,j,W)),(w=M[2])&&f.push(new Ke(w,S,ut,q,W)),(w=M[1])&&f.push(new Ke(w,q,F,j,ut)),(w=M[0])&&f.push(new Ke(w,S,F,q,ut))}return this},Ve.visitAfter=function ln(c){var M,f=[],p=[];for(this._root&&f.push(new Ke(this._root,this._x0,this._y0,this._x1,this._y1));M=f.pop();){var w=M.node;if(w.length){var S,F=M.x0,j=M.y0,W=M.x1,q=M.y1,ut=(F+W)/2,at=(j+q)/2;(S=w[0])&&f.push(new Ke(S,F,j,ut,at)),(S=w[1])&&f.push(new Ke(S,ut,j,W,at)),(S=w[2])&&f.push(new Ke(S,F,at,ut,q)),(S=w[3])&&f.push(new Ke(S,ut,at,W,q))}p.push(M)}for(;M=p.pop();)c(M.node,M.x0,M.y0,M.x1,M.y1);return this},Ve.x=function Gn(c){return arguments.length?(this._x=c,this):this._x},Ve.y=function En(c){return arguments.length?(this._y=c,this):this._y};var oe=a(25922),Pt=a(49194),Zn=Math.PI*(3-Math.sqrt(5));function un(c){var f,p=1,M=.001,w=1-Math.pow(M,1/300),S=0,F=.6,j=(0,kn.UI)(),W=(0,Pt.HT)(ut),q=(0,oe.Z)("tick","end");function ut(){at(),q.call("tick",f),p<M&&(W.stop(),q.call("end",f))}function at(lt){var B,nt,yt=c.length;void 0===lt&&(lt=1);for(var Ot=0;Ot<lt;++Ot)for(p+=(S-p)*w,j.each(function(Zt){Zt(p)}),B=0;B<yt;++B)null==(nt=c[B]).fx?nt.x+=nt.vx*=F:(nt.x=nt.fx,nt.vx=0),null==nt.fy?nt.y+=nt.vy*=F:(nt.y=nt.fy,nt.vy=0);return f}function tt(){for(var yt,lt=0,B=c.length;lt<B;++lt){if((yt=c[lt]).index=lt,null!=yt.fx&&(yt.x=yt.fx),null!=yt.fy&&(yt.y=yt.fy),isNaN(yt.x)||isNaN(yt.y)){var nt=10*Math.sqrt(lt),Ot=lt*Zn;yt.x=nt*Math.cos(Ot),yt.y=nt*Math.sin(Ot)}(isNaN(yt.vx)||isNaN(yt.vy))&&(yt.vx=yt.vy=0)}}function wt(lt){return lt.initialize&&lt.initialize(c),lt}return null==c&&(c=[]),tt(),f={tick:at,restart:function(){return W.restart(ut),f},stop:function(){return W.stop(),f},nodes:function(lt){return arguments.length?(c=lt,tt(),j.each(wt),f):c},alpha:function(lt){return arguments.length?(p=+lt,f):p},alphaMin:function(lt){return arguments.length?(M=+lt,f):M},alphaDecay:function(lt){return arguments.length?(w=+lt,f):+w},alphaTarget:function(lt){return arguments.length?(S=+lt,f):S},velocityDecay:function(lt){return arguments.length?(F=1-lt,f):1-F},force:function(lt,B){return arguments.length>1?(null==B?j.remove(lt):j.set(lt,wt(B)),f):j.get(lt)},find:function(lt,B,yt){var Zt,te,Oe,Be,Ue,nt=0,Ot=c.length;for(null==yt?yt=1/0:yt*=yt,nt=0;nt<Ot;++nt)(Oe=(Zt=lt-(Be=c[nt]).x)*Zt+(te=B-Be.y)*te)<yt&&(Ue=Be,yt=Oe);return Ue},on:function(lt,B){return arguments.length>1?(q.on(lt,B),f):q.on(lt)}}}function Te(){return Math.random()}!function c(f){function p(M,w){return M=null==M?0:+M,w=null==w?1:+w,1===arguments.length?(w=M,M=0):w-=M,function(){return f()*w+M}}return p.source=c,p}(Te);const pi=function c(f){function p(M,w){var S,F;return M=null==M?0:+M,w=null==w?1:+w,function(){var j;if(null!=S)j=S,S=null;else do{S=2*f()-1,j=2*f()-1,F=S*S+j*j}while(!F||F>1);return M+w*j*Math.sqrt(-2*Math.log(F)/F)}}return p.source=c,p}(Te),ci=(function c(f){function p(){var M=pi.source(f).apply(this,arguments);return function(){return Math.exp(M())}}return p.source=c,p}(Te),function c(f){function p(M){return function(){for(var w=0,S=0;S<M;++S)w+=f();return w}}return p.source=c,p}(Te));(function c(f){function p(M){var w=ci.source(f)(M);return function(){return w()/M}}return p.source=c,p})(Te),function c(f){function p(M){return function(){return-Math.log(1-f())/M}}return p.source=c,p}(Te);var ui=a(93205),Ri=a(52016),Qi=a(47793),Jn=a(76371),mi=a(14296),fn=a(56513);function Ii(){this._=null}function Kn(c){c.U=c.C=c.L=c.R=c.P=c.N=null}function bi(c,f){var p=f,M=f.R,w=p.U;w?w.L===p?w.L=M:w.R=M:c._=M,M.U=w,p.U=M,p.R=M.L,p.R&&(p.R.U=p),M.L=p}function en(c,f){var p=f,M=f.L,w=p.U;w?w.L===p?w.L=M:w.R=M:c._=M,M.U=w,p.U=M,p.L=M.R,p.L&&(p.L.U=p),M.R=p}function Xi(c){for(;c.L;)c=c.L;return c}a(64747),Ii.prototype={constructor:Ii,insert:function(c,f){var p,M,w;if(c){if(f.P=c,f.N=c.N,c.N&&(c.N.P=f),c.N=f,c.R){for(c=c.R;c.L;)c=c.L;c.L=f}else c.R=f;p=c}else this._?(c=Xi(this._),f.P=null,f.N=c,c.P=c.L=f,p=c):(f.P=f.N=null,this._=f,p=null);for(f.L=f.R=null,f.U=p,f.C=!0,c=f;p&&p.C;)p===(M=p.U).L?(w=M.R)&&w.C?(p.C=w.C=!1,M.C=!0,c=M):(c===p.R&&(bi(this,p),p=(c=p).U),p.C=!1,M.C=!0,en(this,M)):(w=M.L)&&w.C?(p.C=w.C=!1,M.C=!0,c=M):(c===p.L&&(en(this,p),p=(c=p).U),p.C=!1,M.C=!0,bi(this,M)),p=c.U;this._.C=!1},remove:function(c){c.N&&(c.N.P=c.P),c.P&&(c.P.N=c.N),c.N=c.P=null;var p,S,F,f=c.U,M=c.L,w=c.R;if(S=M?w?Xi(w):M:w,f?f.L===c?f.L=S:f.R=S:this._=S,M&&w?(F=S.C,S.C=c.C,S.L=M,M.U=S,S!==w?(f=S.U,S.U=c.U,f.L=c=S.R,S.R=w,w.U=S):(S.U=f,f=S,c=S.R)):(F=c.C,c=S),c&&(c.U=f),!F){if(c&&c.C)return void(c.C=!1);do{if(c===this._)break;if(c===f.L){if((p=f.R).C&&(p.C=!1,f.C=!0,bi(this,f),p=f.R),p.L&&p.L.C||p.R&&p.R.C){(!p.R||!p.R.C)&&(p.L.C=!1,p.C=!0,en(this,p),p=f.R),p.C=f.C,f.C=p.R.C=!1,bi(this,f),c=this._;break}}else if((p=f.L).C&&(p.C=!1,f.C=!0,en(this,f),p=f.L),p.L&&p.L.C||p.R&&p.R.C){(!p.L||!p.L.C)&&(p.R.C=!1,p.C=!0,bi(this,p),p=f.L),p.C=f.C,f.C=p.L.C=!1,en(this,f),c=this._;break}p.C=!0,c=f,f=f.U}while(!c.C);c&&(c.C=!1)}}};const Li=Ii;function hi(c,f,p,M){var w=[null,null],S=Wt.push(w)-1;return w.left=c,w.right=f,p&&Wi(w,c,f,p),M&&Wi(w,f,c,M),Dt[c.index].halfedges.push(S),Dt[f.index].halfedges.push(S),w}function Oi(c,f,p){var M=[f,p];return M.left=c,M}function Wi(c,f,p,M){c[0]||c[1]?c.left===p?c[1]=M:c[0]=M:(c[0]=M,c.left=f,c.right=p)}function cr(c,f,p,M,w){var B,S=c[0],F=c[1],j=S[0],W=S[1],at=0,tt=1,wt=F[0]-j,lt=F[1]-W;if(B=f-j,wt||!(B>0)){if(B/=wt,wt<0){if(B<at)return;B<tt&&(tt=B)}else if(wt>0){if(B>tt)return;B>at&&(at=B)}if(B=M-j,wt||!(B<0)){if(B/=wt,wt<0){if(B>tt)return;B>at&&(at=B)}else if(wt>0){if(B<at)return;B<tt&&(tt=B)}if(B=p-W,lt||!(B>0)){if(B/=lt,lt<0){if(B<at)return;B<tt&&(tt=B)}else if(lt>0){if(B>tt)return;B>at&&(at=B)}if(B=w-W,lt||!(B<0)){if(B/=lt,lt<0){if(B>tt)return;B>at&&(at=B)}else if(lt>0){if(B<at)return;B<tt&&(tt=B)}return!(at>0)&&!(tt<1)||(at>0&&(c[0]=[j+at*wt,W+at*lt]),tt<1&&(c[1]=[j+tt*wt,W+tt*lt])),!0}}}}}function lr(c,f,p,M,w){var S=c[1];if(S)return!0;var B,yt,F=c[0],j=c.left,W=c.right,q=j[0],ut=j[1],at=W[0],tt=W[1],wt=(q+at)/2;if(tt===ut){if(wt<f||wt>=M)return;if(q>at){if(F){if(F[1]>=w)return}else F=[wt,p];S=[wt,w]}else{if(F){if(F[1]<p)return}else F=[wt,w];S=[wt,p]}}else if(yt=(ut+tt)/2-(B=(q-at)/(tt-ut))*wt,B<-1||B>1)if(q>at){if(F){if(F[1]>=w)return}else F=[(p-yt)/B,p];S=[(w-yt)/B,w]}else{if(F){if(F[1]<p)return}else F=[(w-yt)/B,w];S=[(p-yt)/B,p]}else if(ut<tt){if(F){if(F[0]>=M)return}else F=[f,B*f+yt];S=[M,B*M+yt]}else{if(F){if(F[0]<f)return}else F=[M,B*M+yt];S=[f,B*f+yt]}return c[0]=F,c[1]=S,!0}function Ji(c,f){var p=c.site,M=f.left,w=f.right;return p===w&&(w=M,M=p),w?Math.atan2(w[1]-M[1],w[0]-M[0]):(p===M?(M=f[1],w=f[0]):(M=f[0],w=f[1]),Math.atan2(M[0]-w[0],w[1]-M[1]))}function Zi(c,f){return f[+(f.left!==c.site)]}function Ti(c,f){return f[+(f.left===c.site)]}var gn,yi=[];function Ni(){Kn(this),this.x=this.y=this.arc=this.site=this.cy=null}function Fn(c){var f=c.P,p=c.N;if(f&&p){var M=f.site,w=c.site,S=p.site;if(M!==S){var F=w[0],j=w[1],W=M[0]-F,q=M[1]-j,ut=S[0]-F,at=S[1]-j,tt=2*(W*at-q*ut);if(!(tt>=-St)){var wt=W*W+q*q,lt=ut*ut+at*at,B=(at*wt-q*lt)/tt,yt=(W*lt-ut*wt)/tt,nt=yi.pop()||new Ni;nt.arc=c,nt.site=w,nt.x=B+F,nt.y=(nt.cy=yt+j)+Math.sqrt(B*B+yt*yt),c.circle=nt;for(var Ot=null,Zt=zt._;Zt;)if(nt.y<Zt.y||nt.y===Zt.y&&nt.x<=Zt.x){if(!Zt.L){Ot=Zt.P;break}Zt=Zt.L}else{if(!Zt.R){Ot=Zt;break}Zt=Zt.R}zt.insert(Ot,nt),Ot||(gn=nt)}}}}function Je(c){var f=c.circle;f&&(f.P||(gn=f.N),zt.remove(f),yi.push(f),Kn(f),c.circle=null)}var Qn=[];function qi(){Kn(this),this.edge=this.site=this.circle=null}function He(c){var f=Qn.pop()||new qi;return f.site=c,f}function Hi(c){Je(c),kt.remove(c),Qn.push(c),Kn(c)}function mn(c){var f=c.circle,p=f.x,M=f.cy,w=[p,M],S=c.P,F=c.N,j=[c];Hi(c);for(var W=S;W.circle&&Math.abs(p-W.circle.x)<G&&Math.abs(M-W.circle.cy)<G;)S=W.P,j.unshift(W),Hi(W),W=S;j.unshift(W),Je(W);for(var q=F;q.circle&&Math.abs(p-q.circle.x)<G&&Math.abs(M-q.circle.cy)<G;)F=q.N,j.push(q),Hi(q),q=F;j.push(q),Je(q);var at,ut=j.length;for(at=1;at<ut;++at)Wi((q=j[at]).edge,(W=j[at-1]).site,q.site,w);(q=j[ut-1]).edge=hi((W=j[0]).site,q.site,null,w),Fn(W),Fn(q)}function h(c){for(var M,w,S,F,f=c[0],p=c[1],j=kt._;j;)if((S=E(j,p)-f)>G)j=j.L;else{if(!((F=f-I(j,p))>G)){S>-G?(M=j.P,w=j):F>-G?(M=j,w=j.N):M=w=j;break}if(!j.R){M=j;break}j=j.R}!function Mi(c){Dt[c.index]={site:c,halfedges:[]}}(c);var W=He(c);if(kt.insert(M,W),M||w){if(M===w)return Je(M),w=He(M.site),kt.insert(W,w),W.edge=w.edge=hi(M.site,W.site),Fn(M),void Fn(w);if(!w)return void(W.edge=hi(M.site,W.site));Je(M),Je(w);var q=M.site,ut=q[0],at=q[1],tt=c[0]-ut,wt=c[1]-at,lt=w.site,B=lt[0]-ut,yt=lt[1]-at,nt=2*(tt*yt-wt*B),Ot=tt*tt+wt*wt,Zt=B*B+yt*yt,te=[(yt*Ot-wt*Zt)/nt+ut,(tt*Zt-B*Ot)/nt+at];Wi(w.edge,q,lt,te),W.edge=hi(q,c,null,te),w.edge=hi(c,lt,null,te),Fn(M),Fn(w)}}function E(c,f){var p=c.site,M=p[0],w=p[1],S=w-f;if(!S)return M;var F=c.P;if(!F)return-1/0;var j=(p=F.site)[0],W=p[1],q=W-f;if(!q)return j;var ut=j-M,at=1/S-1/q,tt=ut/q;return at?(-tt+Math.sqrt(tt*tt-2*at*(ut*ut/(-2*q)-W+q/2+w-S/2)))/at+M:(M+j)/2}function I(c,f){var p=c.N;if(p)return E(p,f);var M=c.site;return M[1]===f?M[0]:1/0}var kt,Dt,zt,Wt,G=1e-6,St=1e-12;function Xt(c,f,p){return(c[0]-p[0])*(f[1]-c[1])-(c[0]-f[0])*(p[1]-c[1])}function jt(c,f){return f[1]-c[1]||f[0]-c[0]}function ye(c,f){var M,w,S,p=c.sort(jt).pop();for(Wt=[],Dt=new Array(c.length),kt=new Li,zt=new Li;;)if(S=gn,p&&(!S||p[1]<S.y||p[1]===S.y&&p[0]<S.x))(p[0]!==M||p[1]!==w)&&(h(p),M=p[0],w=p[1]),p=c.pop();else{if(!S)break;mn(S.arc)}if(function jn(){for(var p,M,w,S,c=0,f=Dt.length;c<f;++c)if((p=Dt[c])&&(S=(M=p.halfedges).length)){var F=new Array(S),j=new Array(S);for(w=0;w<S;++w)F[w]=w,j[w]=Ji(p,Wt[M[w]]);for(F.sort(function(W,q){return j[q]-j[W]}),w=0;w<S;++w)j[w]=M[F[w]];for(w=0;w<S;++w)M[w]=j[w]}}(),f){var F=+f[0][0],j=+f[0][1],W=+f[1][0],q=+f[1][1];(function vi(c,f,p,M){for(var S,w=Wt.length;w--;)lr(S=Wt[w],c,f,p,M)&&cr(S,c,f,p,M)&&(Math.abs(S[0][0]-S[1][0])>G||Math.abs(S[0][1]-S[1][1])>G)||delete Wt[w]})(F,j,W,q),function Di(c,f,p,M){var S,F,j,W,q,ut,at,tt,wt,lt,B,yt,w=Dt.length,nt=!0;for(S=0;S<w;++S)if(F=Dt[S]){for(j=F.site,W=(q=F.halfedges).length;W--;)Wt[q[W]]||q.splice(W,1);for(W=0,ut=q.length;W<ut;)B=(lt=Ti(F,Wt[q[W]]))[0],yt=lt[1],tt=(at=Zi(F,Wt[q[++W%ut]]))[0],wt=at[1],(Math.abs(B-tt)>G||Math.abs(yt-wt)>G)&&(q.splice(W,0,Wt.push(Oi(j,lt,Math.abs(B-c)<G&&M-yt>G?[c,Math.abs(tt-c)<G?wt:M]:Math.abs(yt-M)<G&&p-B>G?[Math.abs(wt-M)<G?tt:p,M]:Math.abs(B-p)<G&&yt-f>G?[p,Math.abs(tt-p)<G?wt:f]:Math.abs(yt-f)<G&&B-c>G?[Math.abs(wt-f)<G?tt:c,f]:null))-1),++ut);ut&&(nt=!1)}if(nt){var Ot,Zt,te,Oe=1/0;for(S=0,nt=null;S<w;++S)(F=Dt[S])&&(te=(Ot=(j=F.site)[0]-c)*Ot+(Zt=j[1]-f)*Zt)<Oe&&(Oe=te,nt=F);if(nt){var Be=[c,f],Ue=[c,M],We=[p,M],Ce=[p,f];nt.halfedges.push(Wt.push(Oi(j=nt.site,Be,Ue))-1,Wt.push(Oi(j,Ue,We))-1,Wt.push(Oi(j,We,Ce))-1,Wt.push(Oi(j,Ce,Be))-1)}}for(S=0;S<w;++S)(F=Dt[S])&&(F.halfedges.length||delete Dt[S])}(F,j,W,q)}this.edges=Wt,this.cells=Dt,kt=zt=Wt=Dt=null}function De(c,f,p){this.k=c,this.x=f,this.y=p}ye.prototype={constructor:ye,polygons:function(){var c=this.edges;return this.cells.map(function(f){var p=f.halfedges.map(function(M){return Zi(f,c[M])});return p.data=f.site.data,p})},triangles:function(){var c=[],f=this.edges;return this.cells.forEach(function(p,M){if(j=(S=p.halfedges).length)for(var S,j,W,w=p.site,F=-1,q=f[S[j-1]],ut=q.left===w?q.right:q.left;++F<j;)W=ut,ut=(q=f[S[F]]).left===w?q.right:q.left,W&&ut&&M<W.index&&M<ut.index&&Xt(w,W,ut)<0&&c.push([w.data,W.data,ut.data])}),c},links:function(){return this.edges.filter(function(c){return c.right}).map(function(c){return{source:c.left.data,target:c.right.data}})},find:function(c,f,p){for(var w,j,M=this,S=M._found||0,F=M.cells.length;!(j=M.cells[S]);)if(++S>=F)return null;var W=c-j.site[0],q=f-j.site[1],ut=W*W+q*q;do{j=M.cells[w=S],S=null,j.halfedges.forEach(function(at){var tt=M.edges[at],wt=tt.left;if(wt!==j.site&&wt||(wt=tt.right)){var lt=c-wt[0],B=f-wt[1],yt=lt*lt+B*B;yt<ut&&(ut=yt,S=wt.index)}})}while(null!==S);return M._found=w,null==p||ut<=p*p?j.site:null}},De.prototype={constructor:De,scale:function(c){return 1===c?this:new De(this.k*c,this.x,this.y)},translate:function(c,f){return 0===c&0===f?this:new De(this.k,this.x+this.k*c,this.y+this.k*f)},apply:function(c){return[c[0]*this.k+this.x,c[1]*this.k+this.y]},applyX:function(c){return c*this.k+this.x},applyY:function(c){return c*this.k+this.y},invert:function(c){return[(c[0]-this.x)/this.k,(c[1]-this.y)/this.k]},invertX:function(c){return(c-this.x)/this.k},invertY:function(c){return(c-this.y)/this.k},rescaleX:function(c){return c.copy().domain(c.range().map(this.invertX,this).map(c.invert,c))},rescaleY:function(c){return c.copy().domain(c.range().map(this.invertY,this).map(c.invert,c))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new De(1,0,0)},12706:It=>{It.exports=function ft(a,g,v,b){for(var it=-1,o=null==a?0:a.length;++it<o;){var z=a[it];g(b,z,v(z),a)}return b}},49276:(It,ft,a)=>{var g=a(85683),v=a(20217);It.exports=function b(it,o,z){(void 0!==z&&!v(it[o],z)||void 0===z&&!(o in it))&&g(it,o,z)}},96139:(It,ft,a)=>{var g=a(43132);It.exports=function v(b,it,o,z){return g(b,function(J,D,A){it(z,J,o(J),A)}),z}},2762:It=>{It.exports=function ft(a,g,v){var b;return v(a,function(it,o,z){if(g(it,o,z))return b=o,!1}),b}},73842:(It,ft,a)=>{var g=a(2858),v=a(49276),b=a(30755),it=a(33675),o=a(25940),z=a(16555),J=a(99351);It.exports=function D(A,Z,X,H,K){A!==Z&&b(Z,function(_,R){if(K||(K=new g),o(_))it(A,Z,R,X,D,H,K);else{var N=H?H(J(A,R),_,R+"",A,Z,K):void 0;void 0===N&&(N=_),v(A,R,N)}},z)}},33675:(It,ft,a)=>{var g=a(49276),v=a(19292),b=a(65208),it=a(99454),o=a(4264),z=a(77151),J=a(21503),D=a(21330),A=a(80891),Z=a(75946),X=a(25940),H=a(97614),K=a(48159),_=a(99351),R=a(8067);It.exports=function N(Y,dt,k,ht,U,At,rt){var xt=_(Y,k),Et=_(dt,k),bt=rt.get(Et);if(bt)g(Y,k,bt);else{var Q=At?At(xt,Et,k+"",Y,dt,rt):void 0,ot=void 0===Q;if(ot){var Nt=J(Et),Ht=!Nt&&A(Et),Gt=!Nt&&!Ht&&K(Et);Q=Et,Nt||Ht||Gt?J(xt)?Q=xt:D(xt)?Q=it(xt):Ht?(ot=!1,Q=v(Et,!0)):Gt?(ot=!1,Q=b(Et,!0)):Q=[]:H(Et)||z(Et)?(Q=xt,z(xt)?Q=R(xt):(!X(xt)||Z(xt))&&(Q=o(Et))):ot=!1}ot&&(rt.set(Et,Q),U(Q,Et,ht,At,rt),rt.delete(Et)),g(Y,k,Q)}}},95286:(It,ft,a)=>{var g=a(14164);It.exports=function v(b,it){for(var o=b.length;o--&&g(it,b[o],0)>-1;);return o}},11146:(It,ft,a)=>{var g=a(14164);It.exports=function v(b,it){for(var o=-1,z=b.length;++o<z&&g(it,b[o],0)>-1;);return o}},41005:(It,ft,a)=>{var g=a(12706),v=a(96139),b=a(96517),it=a(21503);It.exports=function o(z,J){return function(D,A){var Z=it(D)?g:v,X=J?J():{};return Z(D,z,b(A,2),X)}}},15082:(It,ft,a)=>{var g=a(73842),v=a(25940);It.exports=function b(it,o,z,J,D,A){return v(it)&&v(o)&&(A.set(o,it),g(it,o,void 0,b,A),A.delete(o)),it}},99351:It=>{It.exports=function ft(a,g){if(("constructor"!==g||"function"!=typeof a[g])&&"__proto__"!=g)return a[g]}},69754:(It,ft,a)=>{var g=a(26999),v=a(23269),b=a(15082),it=a(25468),o=v(function(z){return z.push(void 0,b),g(it,void 0,z)});It.exports=o},58152:(It,ft,a)=>{var g=a(2762),v=a(45184),b=a(96517);It.exports=function it(o,z){return g(o,b(z,3),v)}},91237:(It,ft,a)=>{var g=a(14164),v=a(44401),b=Math.max;It.exports=function it(o,z,J){var D=null==o?0:o.length;if(!D)return-1;var A=null==J?0:v(J);return A<0&&(A=b(D+A,0)),g(o,z,A)}},12498:(It,ft,a)=>{var g=a(85683),b=a(41005)(function(it,o,z){g(it,z,o)});It.exports=b},25468:(It,ft,a)=>{var g=a(73842),b=a(84944)(function(it,o,z,J){g(it,o,z,J)});It.exports=b},38322:(It,ft,a)=>{var g=a(84633),v=a(96517),b=a(95495),it=a(6967);It.exports=function o(z,J){if(null==z)return{};var D=g(it(z),function(A){return[A]});return J=v(J),b(z,D,function(A,Z){return J(A,Z[0])})}},12906:(It,ft,a)=>{var g=a(50686),v=a(6119),b=a(23269),it=a(93342),o=b(function(z,J){if(null==z)return[];var D=J.length;return D>1&&it(z,J[0],J[1])?J=[]:D>2&&it(J[0],J[1],J[2])&&(J=[J[0]]),v(z,g(J,1),[])});It.exports=o},8067:(It,ft,a)=>{var g=a(31989),v=a(16555);It.exports=function b(it){return g(it,v(it))}},34220:(It,ft,a)=>{var g=a(93935),v=a(83348),b=a(62329),it=a(95286),o=a(11146),z=a(66007),J=a(73943);It.exports=function D(A,Z,X){if((A=J(A))&&(X||void 0===Z))return v(A);if(!A||!(Z=g(Z)))return A;var H=z(A),K=z(Z),_=o(H,K),R=it(H,K)+1;return b(H,_,R).join("")}},79598:(It,ft,a)=>{var g=a(93935),v=a(62329),b=a(95286),it=a(66007),o=a(73943),z=a(42760);It.exports=function J(D,A,Z){if((D=o(D))&&(Z||void 0===A))return D.slice(0,z(D)+1);if(!D||!(A=g(A)))return D;var X=it(D),H=b(X,it(A))+1;return v(X,0,H).join("")}},41970:(It,ft,a)=>{var g=a(93935),v=a(62329),b=a(11146),it=a(66007),o=a(73943),z=/^\s+/;It.exports=function J(D,A,Z){if((D=o(D))&&(Z||void 0===A))return D.replace(z,"");if(!D||!(A=g(A)))return D;var X=it(D),H=b(X,it(A));return v(X,H).join("")}},83223:(It,ft,a)=>{var g=a(50686),v=a(96517),b=a(23269),it=a(80707),o=a(21330),z=a(25809),J=b(function(D){var A=z(D);return o(A)&&(A=void 0),it(g(D,1,o,!0),v(A,2))});It.exports=J},30836:(It,ft,a)=>{var g=a(80707);It.exports=function v(b){return b&&b.length?g(b):[]}},8537:(It,ft,a)=>{"use strict";function g($,mt,Kt){$.prototype=mt.prototype=Kt,Kt.constructor=$}function v($,mt){var Kt=Object.create($.prototype);for(var de in mt)Kt[de]=mt[de];return Kt}function b(){}a.d(ft,{B8:()=>Et});var o=1/.7,z="\\s*([+-]?\\d+)\\s*",J="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",D="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A=/^#([0-9a-f]{3,8})$/,Z=new RegExp(`^rgb\\(${z},${z},${z}\\)$`),X=new RegExp(`^rgb\\(${D},${D},${D}\\)$`),H=new RegExp(`^rgba\\(${z},${z},${z},${J}\\)$`),K=new RegExp(`^rgba\\(${D},${D},${D},${J}\\)$`),_=new RegExp(`^hsl\\(${J},${D},${D}\\)$`),R=new RegExp(`^hsla\\(${J},${D},${D},${J}\\)$`),N={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Y(){return this.rgb().formatHex()}function ht(){return this.rgb().formatRgb()}function U($){var mt,Kt;return $=($+"").trim().toLowerCase(),(mt=A.exec($))?(Kt=mt[1].length,mt=parseInt(mt[1],16),6===Kt?At(mt):3===Kt?new bt(mt>>8&15|mt>>4&240,mt>>4&15|240&mt,(15&mt)<<4|15&mt,1):8===Kt?rt(mt>>24&255,mt>>16&255,mt>>8&255,(255&mt)/255):4===Kt?rt(mt>>12&15|mt>>8&240,mt>>8&15|mt>>4&240,mt>>4&15|240&mt,((15&mt)<<4|15&mt)/255):null):(mt=Z.exec($))?new bt(mt[1],mt[2],mt[3],1):(mt=X.exec($))?new bt(255*mt[1]/100,255*mt[2]/100,255*mt[3]/100,1):(mt=H.exec($))?rt(mt[1],mt[2],mt[3],mt[4]):(mt=K.exec($))?rt(255*mt[1]/100,255*mt[2]/100,255*mt[3]/100,mt[4]):(mt=_.exec($))?ke(mt[1],mt[2]/100,mt[3]/100,1):(mt=R.exec($))?ke(mt[1],mt[2]/100,mt[3]/100,mt[4]):N.hasOwnProperty($)?At(N[$]):"transparent"===$?new bt(NaN,NaN,NaN,0):null}function At($){return new bt($>>16&255,$>>8&255,255&$,1)}function rt($,mt,Kt,de){return de<=0&&($=mt=Kt=NaN),new bt($,mt,Kt,de)}function xt($){return $ instanceof b||($=U($)),$?new bt(($=$.rgb()).r,$.g,$.b,$.opacity):new bt}function Et($,mt,Kt,de){return 1===arguments.length?xt($):new bt($,mt,Kt,de??1)}function bt($,mt,Kt,de){this.r=+$,this.g=+mt,this.b=+Kt,this.opacity=+de}function Q(){return`#${se(this.r)}${se(this.g)}${se(this.b)}`}function Nt(){const $=Ht(this.opacity);return`${1===$?"rgb(":"rgba("}${Gt(this.r)}, ${Gt(this.g)}, ${Gt(this.b)}${1===$?")":`, ${$})`}`}function Ht($){return isNaN($)?1:Math.max(0,Math.min(1,$))}function Gt($){return Math.max(0,Math.min(255,Math.round($)||0))}function se($){return(($=Gt($))<16?"0":"")+$.toString(16)}function ke($,mt,Kt,de){return de<=0?$=mt=Kt=NaN:Kt<=0||Kt>=1?$=mt=NaN:mt<=0&&($=NaN),new Ft($,mt,Kt,de)}function st($){if($ instanceof Ft)return new Ft($.h,$.s,$.l,$.opacity);if($ instanceof b||($=U($)),!$)return new Ft;if($ instanceof Ft)return $;var mt=($=$.rgb()).r/255,Kt=$.g/255,de=$.b/255,Lt=Math.min(mt,Kt,de),ce=Math.max(mt,Kt,de),Pe=NaN,Xe=ce-Lt,dn=(ce+Lt)/2;return Xe?(Pe=mt===ce?(Kt-de)/Xe+6*(Kt<de):Kt===ce?(de-mt)/Xe+2:(mt-Kt)/Xe+4,Xe/=dn<.5?ce+Lt:2-ce-Lt,Pe*=60):Xe=dn>0&&dn<1?0:Pe,new Ft(Pe,Xe,dn,$.opacity)}function Ft($,mt,Kt,de){this.h=+$,this.s=+mt,this.l=+Kt,this.opacity=+de}function ae($){return($=($||0)%360)<0?$+360:$}function _e($){return Math.max(0,Math.min(1,$||0))}function qe($,mt,Kt){return 255*($<60?mt+(Kt-mt)*$/60:$<180?Kt:$<240?mt+(Kt-mt)*(240-$)/60:mt)}g(b,U,{copy($){return Object.assign(new this.constructor,this,$)},displayable(){return this.rgb().displayable()},hex:Y,formatHex:Y,formatHex8:function dt(){return this.rgb().formatHex8()},formatHsl:function k(){return st(this).formatHsl()},formatRgb:ht,toString:ht}),g(bt,Et,v(b,{brighter($){return $=null==$?o:Math.pow(o,$),new bt(this.r*$,this.g*$,this.b*$,this.opacity)},darker($){return $=null==$?.7:Math.pow(.7,$),new bt(this.r*$,this.g*$,this.b*$,this.opacity)},rgb(){return this},clamp(){return new bt(Gt(this.r),Gt(this.g),Gt(this.b),Ht(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Q,formatHex:Q,formatHex8:function ot(){return`#${se(this.r)}${se(this.g)}${se(this.b)}${se(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Nt,toString:Nt})),g(Ft,function pt($,mt,Kt,de){return 1===arguments.length?st($):new Ft($,mt,Kt,de??1)},v(b,{brighter($){return $=null==$?o:Math.pow(o,$),new Ft(this.h,this.s,this.l*$,this.opacity)},darker($){return $=null==$?.7:Math.pow(.7,$),new Ft(this.h,this.s,this.l*$,this.opacity)},rgb(){var $=this.h%360+360*(this.h<0),mt=isNaN($)||isNaN(this.s)?0:this.s,Kt=this.l,de=Kt+(Kt<.5?Kt:1-Kt)*mt,Lt=2*Kt-de;return new bt(qe($>=240?$-240:$+120,Lt,de),qe($,Lt,de),qe($<120?$+240:$-120,Lt,de),this.opacity)},clamp(){return new Ft(ae(this.h),_e(this.s),_e(this.l),Ht(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const $=Ht(this.opacity);return`${1===$?"hsl(":"hsla("}${ae(this.h)}, ${100*_e(this.s)}%, ${100*_e(this.l)}%${1===$?")":`, ${$})`}`}}))}}]);