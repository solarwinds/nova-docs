(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[620],{63629:(It,pt,o)=>{"use strict";o.d(pt,{V:()=>O});var v=o(92893),L=o(42625),m=o(5e3);let O=(()=>{class Y{constructor(et,C){this.chartComponent=et,this.chartCollectionService=C}ngOnChanges(et){const C=et.collectionId;C&&(C.previousValue&&this.chartCollectionService.getChartCollection(C.previousValue).removeChart(this.chartComponent.chart),C.currentValue&&this.chartCollectionService.getChartCollection(C.currentValue).addChart(this.chartComponent.chart))}}return Y.\u0275fac=function(et){return new(et||Y)(m.Y36(v.BD),m.Y36(L.v))},Y.\u0275dir=m.lG2({type:Y,selectors:[["","nuiChartCollectionId",""]],inputs:{collectionId:["nuiChartCollectionId","collectionId"]},features:[m.TTD]}),Y})()},42625:(It,pt,o)=>{"use strict";o.d(pt,{v:()=>Y});var v=o(34235),L=o.n(v),m=o(4482),O=o(5e3);let Y=(()=>{class B{constructor(){this.collections={}}getChartCollection(C){let D=this.collections[C];return L()(D)&&(D=new m.p,this.collections[C]=D),D}}return B.\u0275fac=function(C){return new(C||B)},B.\u0275prov=O.Yz7({token:B,factory:B.\u0275fac}),B})()},24386:(It,pt,o)=>{"use strict";o.d(pt,{k:()=>B}),o(37669);var L=o(5e3),m=o(69808);function O(et,C){if(1&et&&(L.TgZ(0,"div",1),L.Hsn(1),L.qZA()),2&et){const D=L.oxw();L.Udp("top",D.contentPosition.top,"px")("left",D.contentPosition.left,"px")("height",D.contentPosition.height,"px")("width",D.contentPosition.width,"px")}}const Y=["*"];let B=(()=>{class et{ngOnChanges(D){var k;D.plugin&&(null===(k=this.contentPositionUpdateSubscription)||void 0===k||k.unsubscribe(),this.contentPositionUpdateSubscription=this.plugin.contentPositionUpdateSubject.subscribe($=>{this.contentPosition=$}),this.plugin.chart.updateDimensions())}ngOnDestroy(){this.contentPositionUpdateSubscription&&this.contentPositionUpdateSubscription.unsubscribe()}}return et.\u0275fac=function(D){return new(D||et)},et.\u0275cmp=L.Xpm({type:et,selectors:[["nui-chart-donut-content"]],inputs:{plugin:"plugin"},features:[L.TTD],ngContentSelectors:Y,decls:1,vars:1,consts:[["class","nui-chart-donut-content d-flex justify-content-center align-items-center text-center",3,"top","left","height","width",4,"ngIf"],[1,"nui-chart-donut-content","d-flex","justify-content-center","align-items-center","text-center"]],template:function(D,k){1&D&&(L.F$t(),L.YNc(0,O,2,8,"div",0)),2&D&&L.Q6J("ngIf",k.plugin&&k.contentPosition)},directives:[m.O5],styles:[".nui-chart-donut-content[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;width:100%;height:100%;overflow:hidden;text-overflow:ellipsis}"]}),et})()},21679:(It,pt,o)=>{"use strict";o.d(pt,{s:()=>et});var v=o(75946),L=o.n(v),m=o(61135),O=o(5e3);const Y=["svgContent"];let et=(()=>{class C{constructor(k){this.changeDetector=k,this.maxSize=20,this.height="10px",this.width="10px",this.svg=new m.X("")}ngAfterViewInit(){this.svg.subscribe(k=>{this.renderMarkerSvg(k)})}ngOnChanges(k){(k.marker||k.color)&&(k.color&&this.marker.setColor(this.color),this.marker&&this.marker.getSvg&&L()(this.marker.getSvg)&&this.svg.next(this.marker.getSvg()))}ngOnDestroy(){this.svg.complete()}renderMarkerSvg(k){const $=this.svgContent.nativeElement,W=`<line x1="-10" y1="0" x2="10" y2="0" style="stroke:${this.color};stroke-width:2" />`;$.innerHTML="",this.drawLine&&$.insertAdjacentHTML("beforeend",W),$.insertAdjacentHTML("beforeend",k),setTimeout(()=>{const T=$.getBBox();this.viewBox=`${T.x-3} ${T.y-3} ${T.width+6} ${T.height+6}`,this.width=Math.min(T.width+6,this.maxSize)+"px",this.height=Math.min(T.height+6,this.maxSize)+"px",this.changeDetector.markForCheck()})}}return C.\u0275fac=function(k){return new(k||C)(O.Y36(O.sBO))},C.\u0275cmp=O.Xpm({type:C,selectors:[["nui-chart-marker"]],viewQuery:function(k,$){if(1&k&&O.Gf(Y,5),2&k){let W;O.iGM(W=O.CRH())&&($.svgContent=W.first)}},inputs:{marker:"marker",drawLine:"drawLine",color:"color",maxSize:"maxSize"},features:[O.TTD],decls:3,vars:3,consts:[["svgContent",""]],template:function(k,$){1&k&&(O.O4$(),O.TgZ(0,"svg"),O._UZ(1,"g",null,0),O.qZA()),2&k&&O.uIk("width",$.width)("height",$.height)("viewBox",$.viewBox)},styles:["[_nghost-%COMP%]{font-size:0}"]}),C})()},71004:(It,pt,o)=>{"use strict";o.d(pt,{D:()=>$});var v=o(5e3),L=o(77579),m=o(82722),O=o(75148),B=(o(44421),o(69808));function et(W,T){1&W&&v.GkF(0)}const C=function(W){return{dataPoints:W}};function D(W,T){if(1&W&&v.YNc(0,et,1,0,"ng-container",3),2&W){const A=v.oxw(2);v.Q6J("ngTemplateOutlet",A.template)("ngTemplateOutletContext",v.VKq(2,C,A.plugin.dataPoints))}}function k(W,T){if(1&W&&(v.TgZ(0,"div"),v._UZ(1,"nui-popover",1),v.YNc(2,D,1,4,"ng-template",null,2,v.W1O),v.qZA()),2&W){const A=v.MAs(3),R=v.oxw();v.xp6(1),v.Udp("height",R.plugin.popoverTargetPosition.height,"px"),v.Q6J("unlimited",!0)("template",A)("openPopover",R.plugin.openPopoverSubject)("closePopover",R.plugin.closePopoverSubject)("hasPadding",!1)("container",R.element.nativeElement)("withGrowAfterOpen",!0)}}let $=(()=>{class W{constructor(A,R){this.changeDetector=A,this.element=R,this.update=new v.vpe,this.destroy$=new L.x,this.initPlugin$=new L.x}ngOnChanges(A){A.plugin&&!A.plugin.isFirstChange()&&this.initPlugin()}ngOnInit(){this.initPlugin()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.initPlugin$.complete()}initPlugin(){var A,R;this.initPlugin$.next(),null===(A=this.plugin)||void 0===A||A.openPopoverSubject.pipe((0,m.R)(this.initPlugin$),(0,m.R)(this.destroy$)).subscribe(()=>{this.changeDetector.markForCheck()}),null===(R=this.plugin)||void 0===R||R.updatePositionSubject.pipe((0,m.R)(this.initPlugin$),(0,m.R)(this.destroy$)).subscribe(J=>{var z,rt,G;null===(z=this.popover)||void 0===z||z.resetSize(),this.element.nativeElement.style.left=J.left+J.width/2+"px",this.element.nativeElement.style.top=J.top+"px",null===(rt=this.popover)||void 0===rt||rt.updatePosition(),this.update.next(null===(G=this.plugin)||void 0===G?void 0:G.dataPoints)})}}return W.\u0275fac=function(A){return new(A||W)(v.Y36(v.sBO),v.Y36(v.SBq))},W.\u0275cmp=v.Xpm({type:W,selectors:[["nui-chart-popover"]],viewQuery:function(A,R){if(1&A&&v.Gf(O.U$R,5),2&A){let J;v.iGM(J=v.CRH())&&(R.popover=J.first)}},inputs:{plugin:"plugin",template:"template"},outputs:{update:"update"},features:[v.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["trigger","openPopoverSubject","placement","top",1,"chart-popover__popover",3,"unlimited","template","openPopover","closePopover","hasPadding","container","withGrowAfterOpen"],["popoverTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,R){1&A&&v.YNc(0,k,4,9,"div",0),2&A&&v.Q6J("ngIf",R.plugin&&R.plugin.dataPoints)},directives:[B.O5,O.U$R,B.tP],styles:["[_nghost-%COMP%]{position:absolute}.chart-popover__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]}),W})()},58:(It,pt,o)=>{"use strict";o.d(pt,{K:()=>At});var v=o(56859),L=o(35474),m=o.n(L),O=o(64509),Y=o.n(O),B=o(33816),et=o.n(B),C=o(77579),D=o(82722),$=(o(3645),o(47429)),W=o(41777),T=o(5e3),A=o(69808);function R(ut,ot){1&ut&&T.GkF(0)}let J=(()=>{class ut{}return ut.\u0275fac=function(nt){return new(nt||ut)},ut.\u0275cmp=T.Xpm({type:ut,selectors:[["nui-chart-tooltip"]],inputs:{template:"template"},decls:3,vars:2,consts:[[1,"nui-chart-tooltip","px-2","py-1","nui-text-small"],[4,"ngTemplateOutlet"]],template:function(nt,Yt){1&nt&&(T.TgZ(0,"div")(1,"div",0),T.YNc(2,R,1,0,"ng-container",1),T.qZA()()),2&nt&&(T.xp6(1),T.Q6J("@tooltip",void 0),T.xp6(1),T.Q6J("ngTemplateOutlet",Yt.template))},directives:[A.tP],styles:["[_nghost-%COMP%]{display:block;pointer-events:none}.nui-chart-tooltip[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-inverse,#111);color:var(--nui-color-text-inverse,#fff);line-height:normal}"],data:{animation:[(0,W.X$)("tooltip",[(0,W.eR)(":enter",[(0,W.oB)({opacity:0}),(0,W.jt)(300,(0,W.oB)({opacity:1}))]),(0,W.eR)(":leave",[(0,W.jt)(300,(0,W.oB)({opacity:0}))])])]},changeDetection:0}),ut})();var z=o(91314);let rt=(()=>{class ut{constructor(nt,Yt,$t,ue){this.overlay=nt,this.overlayPositionBuilder=Yt,this.scrollStrategyOptions=$t,this.elementRef=ue}ngOnInit(){this.positionStrategy=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions(this.positions).withFlexibleDimensions(!1).withPush(!0),this.overlayRef=this.overlay.create({panelClass:"nui-chart-tooltip-pane",positionStrategy:this.positionStrategy,scrollStrategy:this.scrollStrategyOptions.close()}),this.openRemoteControl&&(this.openSubscription=this.openRemoteControl.subscribe(()=>{this.show()})),this.closeRemoteControl&&(this.closeSubscription=this.closeRemoteControl.subscribe(()=>{this.hide()}))}show(){this.overlayRef.hasAttached()?this.positionStrategy.apply():this.overlayRef.attach(new $.C5(J)).instance.template=this.template}hide(){this.overlayRef.detach()}ngOnDestroy(){this.hide(),this.openSubscription&&this.openSubscription.unsubscribe(),this.closeSubscription&&this.closeSubscription.unsubscribe()}getOverlayElement(){return this.overlayRef.overlayElement}}return ut.\u0275fac=function(nt){return new(nt||ut)(T.Y36(z.aV),T.Y36(z.wJ),T.Y36(z.uw),T.Y36(T.SBq))},ut.\u0275dir=T.lG2({type:ut,selectors:[["","nuiChartTooltip",""]],inputs:{template:"template",openRemoteControl:"openRemoteControl",closeRemoteControl:"closeRemoteControl",positions:"positions"}}),ut})();function G(ut,ot){1&ut&&T.GkF(0)}const ht=function(ut){return{dataPoint:ut}};function Z(ut,ot){if(1&ut&&T.YNc(0,G,1,0,"ng-container",4),2&ut){const nt=T.oxw().$implicit,Yt=T.oxw(2);T.Q6J("ngTemplateOutlet",Yt.template)("ngTemplateOutletContext",T.VKq(2,ht,nt.value))}}function St(ut,ot){if(1&ut&&T._UZ(0,"div",5),2&ut){const nt=T.oxw().$implicit,Yt=T.MAs(2),$t=T.oxw(2);T.Udp("left",$t.plugin.dataPointPositions[nt.key].x,"px")("top",$t.plugin.dataPointPositions[nt.key].y,"px")("height",$t.plugin.dataPointPositions[nt.key].height,"px")("width",$t.plugin.dataPointPositions[nt.key].width,"px"),T.Q6J("template",Yt)("openRemoteControl",$t.openTooltips)("closeRemoteControl",$t.closeTooltips)("positions",$t.plugin.dataPointPositions[nt.key].overlayPositions),T.uIk("series-id",nt.key)}}function lt(ut,ot){if(1&ut&&(T.TgZ(0,"div"),T.YNc(1,Z,1,4,"ng-template",null,2,T.W1O),T.YNc(3,St,1,13,"div",3),T.qZA()),2&ut){const nt=ot.$implicit,Yt=T.oxw(2);T.xp6(3),T.Q6J("ngIf",Yt.plugin.dataPointPositions[nt.key])}}function vt(ut,ot){if(1&ut&&(T.TgZ(0,"div"),T.YNc(1,lt,4,1,"div",1),T.ALo(2,"keyvalue"),T.qZA()),2&ut){const nt=T.oxw();T.xp6(1),T.Q6J("ngForOf",T.lcZ(2,2,nt.plugin.dataPoints))("ngForTrackBy",nt.trackByFn)}}let At=(()=>{class ut{constructor(nt){this.changeDetector=nt,this.openTooltips=new C.x,this.closeTooltips=new C.x,this.unsubscribe$=new C.x,this.tooltipDirectivesIndex={},this.closePending=!1,this.isOpen=!1}ngOnChanges(nt){!nt.plugin||!nt.plugin.currentValue||(this.unsubscribe$.next(),this.plugin.showSubject.pipe((0,D.R)(this.unsubscribe$)).subscribe(()=>this.handleOpen()),this.plugin.hideSubject.pipe((0,D.R)(this.unsubscribe$)).subscribe(()=>this.handleClose()))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}trackByFn(nt,Yt){return Yt.value.seriesId}handleOpen(){this.changeDetector.detectChanges();const nt={};this.tooltips.forEach($t=>{var ue;const ce=null!==(ue=$t.elementRef.nativeElement.getAttribute("series-id"))&&void 0!==ue?ue:void 0;if(!ce)throw new Error("SeriesId is not defined");nt[ce]=$t});const Yt=!Y()(nt,this.tooltipDirectivesIndex);this.closePending||Yt||!this.isOpen?(clearTimeout(this.openTimeout),this.openTimeout=window.setTimeout(()=>{this.openTooltips.next(),clearTimeout(this.collisionTimeout),this.collisionTimeout=window.setTimeout(()=>{this.avoidTooltipCollisions(),this.isOpen=!0})})):(this.openTooltips.next(),this.avoidTooltipCollisions(),this.isOpen=!0)}handleClose(){this.simulation&&this.simulation.stop(),this.closePending=!0,clearTimeout(this.closeTimeout),this.closeTimeout=window.setTimeout(()=>{this.closeTooltips.next(),this.closePending=!1,this.isOpen=!1})}avoidTooltipCollisions(){const nt={};this.tooltips.forEach(Yt=>{var $t;const ue=Yt.getOverlayElement(),ce=null!==($t=Yt.elementRef.nativeElement.getAttribute("series-id"))&&void 0!==$t?$t:void 0;if(!ce)throw new Error("SeriesId is not defined");this.tooltipDirectivesIndex[ce]=Yt,nt[ce]={x:ue.offsetLeft,y:ue.offsetTop,width:ue.clientWidth,height:ue.clientHeight}}),this.simulation&&this.simulation.stop(),this.simulation=this.startSimulation(this.tooltipDirectivesIndex,nt)}startSimulation(nt,Yt){const $t=Object.keys(Yt).map(ye=>{const it=Yt[ye];if(et()(it.height)||et()(it.width))throw new Error("Position height or width are not defined");const Ct={seriesId:ye,x:it.x,y:it.y,radius:this.isVertical()?it.height/2:it.width/2};return this.isVertical()?Ct.fx=it.x:Ct.fy=it.y,Ct}),ue=(0,v.Hh)(ye=>ye.radius).strength(.5).iterations(20),ce=(0,v.A4v)($t).alphaDecay(.3).force("collisionForce",ue);return ce.on("tick",()=>{m()($t,ye=>{(0,v.Ys)(nt[ye.seriesId].getOverlayElement()).style(this.isVertical()?"top":"left",(this.isVertical()?ye.y:ye.x)+"px")})}),ce}isVertical(){return"right"===this.plugin.orientation}}return ut.\u0275fac=function(nt){return new(nt||ut)(T.Y36(T.sBO))},ut.\u0275cmp=T.Xpm({type:ut,selectors:[["nui-chart-tooltips"]],viewQuery:function(nt,Yt){if(1&nt&&T.Gf(rt,5),2&nt){let $t;T.iGM($t=T.CRH())&&(Yt.tooltips=$t)}},inputs:{plugin:"plugin",template:"template"},features:[T.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["tooltipTemplate",""],["nuiChartTooltip","","class","chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions","left","top","height","width",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nuiChartTooltip","",1,"chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions"]],template:function(nt,Yt){1&nt&&T.YNc(0,vt,3,4,"div",0),2&nt&&T.Q6J("ngIf",Yt.plugin&&Yt.plugin.dataPoints)},directives:[A.O5,A.sg,A.tP,rt],pipes:[A.Nd],styles:[".chart-tooltips__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]}),ut})()},42210:(It,pt,o)=>{"use strict";o.d(pt,{x:()=>Y});var v=o(5e3),L=o(20406),m=o.n(L),O=o(92893);let Y=(()=>{class B{constructor(C,D,k){this.elRef=C,this.ngZone=D,this.cd=k,this.redraw=()=>{this.chart.updateDimensions(),this.cd.detectChanges()},this.intersectionObserverCallback=($,W)=>{const T={isChartInView:$[0].isIntersecting};this.chart.getEventBus().getStream(O._7).next({data:T})}}ngOnInit(){this.intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback),this.intersectionObserver.observe(this.elRef.nativeElement)}ngOnChanges(C){if(C.chart){const D=C.chart.previousValue;D&&D.destroy(),this.chart&&(this.chart.build(this.elRef.nativeElement),this.redraw())}}ngAfterContentInit(){this.chart.getEventBus().getStream(O._5).subscribe(()=>{this.chart.updateDimensions()})}ngAfterViewInit(){this.resizeHandler=m()(()=>this.redraw(),10),this.resizeObserver=new ResizeObserver(()=>{this.ngZone.run(()=>this.resizeHandler())}),this.ngZone.runOutsideAngular(()=>{var C;return null===(C=this.resizeObserver)||void 0===C?void 0:C.observe(this.elRef.nativeElement)})}ngOnDestroy(){var C,D,k;null===(C=this.intersectionObserver)||void 0===C||C.unobserve(this.elRef.nativeElement),null===(D=this.resizeObserver)||void 0===D||D.unobserve(this.elRef.nativeElement),null===(k=this.chart)||void 0===k||k.destroy()}}return B.\u0275fac=function(C){return new(C||B)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(v.sBO))},B.\u0275cmp=v.Xpm({type:B,selectors:[["nui-chart"]],inputs:{chart:"chart"},features:[v._Bn([{provide:O.BD,useExisting:(0,v.Gpc)(()=>B)}]),v.TTD],decls:0,vars:0,template:function(C,D){},encapsulation:2}),B})()},92893:(It,pt,o)=>{"use strict";o.d(pt,{BD:()=>G,C1:()=>$,CC:()=>m,DP:()=>B,GJ:()=>z,N:()=>O,N0:()=>lt,Qi:()=>k,Rj:()=>et,TC:()=>D,Vg:()=>St,_5:()=>R,_7:()=>J,bd:()=>A,gA:()=>W,hZ:()=>Z,hk:()=>Y,mg:()=>rt,q7:()=>C,rz:()=>ht,wu:()=>T});var v=o(5e3),L=o(68208);const m="mouse_active",O="interaction_values_active",Y="interaction_values",B="interaction_coordinates",et="highlight_data_point",C="select_data_point",D="highlight_series",k="interaction_series",$="interaction_data_points",W="interaction_data_point",T="destroy",A="set_domain",R="refresh",J="chart_view_status",z="series_state_change",rt="axes_style_change",G=new v.OlP("chart_component"),ht={[L.n.background]:{name:L.n.background,order:0,clipped:!0},[L.n.data]:{name:L.n.data,order:50,clipped:!0},[L.n.unclippedData]:{name:L.n.unclippedData,order:51,clipped:!1},[L.n.foreground]:{name:L.n.foreground,order:1e3,clipped:!1}},Z=-1,St=-2,lt="ignore-interaction"},4482:(It,pt,o)=>{"use strict";o.d(pt,{p:()=>D});var v=o(35474),L=o.n(v),m=o(58152),O=o.n(m),Y=o(34235),B=o.n(Y),et=o(92893),C=o(10866);class D{constructor(){this.lastIndex=-1,this.events=[et.hk,et.DP,et.CC,et._5],this.charts={},this.subscriptions={}}addChart($){const W=(++this.lastIndex).toString();this.charts[W]=$,this.eventBus||this.initializeEventBus(),L()(this.events,T=>{this.subscribe(W,$.getEventBus().getStream(T),A=>{var R;A.broadcast||null===(R=this.eventBus)||void 0===R||R.getStream(T).next({chartIndex:W,event:A})})}),this.subscribe(W,$.getEventBus().getStream(et.wu),T=>{this.removeChart($),0===Object.keys(this.charts).length&&this.destroy()})}removeChart($){const W=this.getChartKey($);if(B()(W))throw new Error("Chart not registered!");this.unsubscribeChart(W),delete this.charts[W]}destroy(){var $;null===($=this.eventBus)||void 0===$||$.destroy(),this.eventBus=void 0}initializeEventBus(){this.eventBus=new C.N;for(const $ of this.events)this.eventBus.getStream($).subscribe(W=>{for(const T of Object.keys(this.charts))T!==W.chartIndex&&(W.event.broadcast=!0,this.charts[T].getEventBus().getStream($).next(W.event))})}subscribe($,W,T){const A=W.subscribe(T);let R=this.subscriptions[$];B()(R)&&(R=[],this.subscriptions[$]=R),R.push(A)}unsubscribeChart($){L()(this.subscriptions[$],W=>{W.unsubscribe()}),delete this.subscriptions[$]}getChartKey($){return O()(this.charts,W=>W===$)}}},47708:(It,pt,o)=>{"use strict";o.d(pt,{w:()=>v});class v{constructor(){}initialize(){}update(){}updateDimensions(){}destroy(){}}},10866:(It,pt,o)=>{"use strict";o.d(pt,{N:()=>O});var v=o(35474),L=o.n(v),m=o(77579);class O{constructor(){this.streams={}}getStream(B){return this.streams[B]||(this.streams[B]=new m.x),this.streams[B]}destroy(){L()(Object.keys(this.streams),B=>{this.streams[B].complete()})}}},2158:(It,pt,o)=>{"use strict";o.d(pt,{T:()=>$});var v=o(56859),L=o(69754),m=o.n(L),O=o(35474),Y=o.n(O),B=o(8817),et=o.n(B),C=o(92893),D=o(68208),k=o(28249);class ${constructor(T={}){this.config=T,this.interaction={},this.getContainerStateStyles=A=>{if(!this.config.stateStyles)throw new Error("stateStyles property is not defined");return this.config.stateStyles[A||D.L.default]},this.config=m()(this.config,$.DEFAULT_CONFIG)}getDataPointIndex(T,A,R){return C.hZ}highlightDataPoint(T,A,R){}setSeriesState(T,A){}setDataPointState(T,A){}getDomainOfFilteredData(T,A,R,J){let z=T.data;for(const rt of Object.keys(A)){const G=A[rt];!G.isDomainFixed||!G.isContinuous()||(z=this.filterDataByDomain(z,T,rt,G.domain()))}return this.getDomain(z,T,R,J)}getDomain(T,A,R,J){return T&&0!==T.length?(0,v.Wem)(T,(z,rt,G)=>{var ht,Z;return null===(Z=null===(ht=A.accessors.data)||void 0===ht?void 0:ht[R])||void 0===Z?void 0:Z.call(ht,z,rt,Array.from(G),A)}):k.iz}filterDataByDomain(T,A,R,J){var z;const rt=null===(z=A.accessors.data)||void 0===z?void 0:z[R];return T.filter((G,ht)=>{const Z=rt(G,ht,T,A);return Z>=J[0]&&Z<=J[1]})}getRequiredLayers(){return[C.rz[D.n.data]]}setupInteraction(T,A,R,J,z){const rt=et()(this.interaction,T,{})[A];!rt||Y()(rt,G=>{R.on(A,()=>{const ht=R.node().getBoundingClientRect();J.next({eventName:G,data:Object.assign(Object.assign({},z),{position:ht})})})})}}$.DEFAULT_CONFIG={stateStyles:{[D.L.default]:{opacity:1},[D.L.hidden]:{opacity:0},[D.L.deemphasized]:{opacity:.1},[D.L.emphasized]:{opacity:1}}}},28249:(It,pt,o)=>{"use strict";o.d(pt,{Il:()=>Y,_v:()=>m,iz:()=>v,oT:()=>O,rX:()=>L});const v=[0,0],L=[0,1];function m(B){return!!B.domainWithTicks}function O(B){return"function"==typeof B.bandwidth}function Y(B){return void 0!==B.innerScale}},13431:(It,pt,o)=>{"use strict";o.d(pt,{s:()=>v});var v=(()=>{return(L=v||(v={})).Click="click",L.Hover="hover",L.MouseDown="mousedown",L.MouseEnter="mouseenter",L.MouseLeave="mouseleave",L.MouseMove="mousemove",L.MouseUp="mouseup",v;var L})()},37669:(It,pt,o)=>{"use strict";o.d(pt,{i:()=>B});var v=o(34235),L=o.n(v),m=o(77579),O=o(33335),Y=o(47708);class B extends Y.w{constructor(){super(...arguments),this.contentPositionUpdateSubject=new m.x,this.contentPosition={top:0,left:0,width:0,height:0}}updateDimensions(){const C=this.chart.getDataManager().chartSeriesSet.reduce((D,k)=>k.renderer instanceof O.E&&!L()(D)?Math.min(D,k.renderer.getInnerRadius(k.scales.r.range(),k.data.length-1)):D,1/0);if(L()(C))throw new Error("Radius is undefined");this.contentPosition=this.getContentPosition(C),this.contentPositionUpdateSubject.next(this.contentPosition)}destroy(){this.contentPositionUpdateSubject.complete()}getContentPosition(C){const D=[this.chart.getGrid().config().dimension.outerHeight()/2,this.chart.getGrid().config().dimension.outerWidth()/2];return{top:D[0]-C/Math.sqrt(2),left:D[1]-C/Math.sqrt(2),width:C*Math.sqrt(2),height:C*Math.sqrt(2)}}}},44421:(It,pt,o)=>{"use strict";o.d(pt,{i:()=>W});var v=o(69754),L=o.n(v),m=o(38322),O=o.n(m),Y=o(90377),B=o.n(Y),et=o(77579),C=o(82722),D=o(92893),k=o(47708),$=o(13431);class W extends k.w{constructor(A={}){super(),this.config=A,this.updatePositionSubject=new et.x,this.openPopoverSubject=new et.x,this.closePopoverSubject=new et.x,this.popoverTargetPosition={top:0,left:0,width:0,height:0},this.DEFAULT_CONFIG={eventStreamId:D.C1,interactionType:$.s.MouseMove},this.isOpen=!1,this.destroy$=new et.x,this.config=L()(this.config,this.DEFAULT_CONFIG)}initialize(){this.chart.getEventBus().getStream(this.config.eventStreamId).pipe((0,C.R)(this.destroy$)).subscribe(A=>{var R;if(A.data.interactionType===this.config.interactionType){const J=null!==(R=A.data.dataPoints)&&void 0!==R?R:{[A.data.dataPoint.seriesId]:A.data.dataPoint};this.processDataPoints(J)}})}destroy(){this.updatePositionSubject&&this.updatePositionSubject.complete(),this.openPopoverSubject&&this.openPopoverSubject.complete(),this.closePopoverSubject&&this.closePopoverSubject.complete(),this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}getAbsolutePosition(A){var R,J;const z=null===(J=null===(R=this.chart.target)||void 0===R?void 0:R.node())||void 0===J?void 0:J.parentNode;if(!z)throw new Error("Chart parent node is not defined");const rt=Math.min(...A.map(Z=>Z.position.x)),G=z.offsetLeft+this.chart.getGrid().config().dimension.margin.left+rt;return{top:z.offsetTop+this.chart.getGrid().config().dimension.margin.top,left:G,height:z.offsetHeight,width:Math.max(...A.map(Z=>Z.position.x+(Z.position.width||0)))-rt}}processDataPoints(A){const R=O()(A,z=>z.index>=0&&z.position),J=B()(R);J.length>0?(this.popoverTargetPosition=this.getAbsolutePosition(J),this.dataPoints=R,setTimeout(()=>{this.updatePositionSubject.next(this.popoverTargetPosition),this.isOpen||(this.isOpen=!0,this.openPopoverSubject.next())})):setTimeout(()=>{this.closePopoverSubject.next(),this.isOpen=!1})}}},3645:(It,pt,o)=>{"use strict";o.d(pt,{n7:()=>J});var v=o(35474),L=o.n(v),m=o(38322),O=o.n(m),Y=o(90377),B=o.n(Y),et=o(77579),C=o(82722),D=o(92893),k=o(68208),$=o(47708),W=o(13431);class J extends $.w{constructor(rt=10,G="right"){var z;super(),this.tooltipPositionOffset=rt,this.orientation=G,this.dataPointPositions={},this.showSubject=new et.x,this.hideSubject=new et.x,this.isChartInView=!1,this.destroy$=new et.x,this.seriesVisibilityMap={},"right"===G?this.overlaySetup=[{originX:"end",originY:"top",overlayX:"start",overlayY:"center",offsetX:z=rt},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-z}]:"top"===G&&(this.overlaySetup=(z=>[{originX:"end",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-z},{originX:"end",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:z}])(rt))}initialize(){this.chart.getEventBus().getStream(D.C1).pipe((0,C.R)(this.destroy$)).subscribe(rt=>{rt.data.interactionType===W.s.MouseMove&&this.isChartInView&&this.processHighlightedDataPoints(rt.data.dataPoints)}),this.chart.getEventBus().getStream(D.GJ).pipe((0,C.R)(this.destroy$)).subscribe(rt=>{rt.data.forEach(G=>{this.seriesVisibilityMap[G.seriesId]=G.state!==k.L.hidden})}),this.chart.getEventBus().getStream(D._7).pipe((0,C.R)(this.destroy$)).subscribe(rt=>{this.isChartInView=rt.data.isChartInView,this.isChartInView||this.hideSubject.next()})}destroy(){this.destroy$.next(),this.destroy$.complete()}processHighlightedDataPoints(rt){var G,ht;const Z=O()(rt,ut=>ut.index>=0&&ut.position&&!1!==this.seriesVisibilityMap[ut.seriesId]);if(0===B()(Z).length)return void this.hideSubject.next();this.dataPoints=Z;const St=null===(ht=null===(G=this.chart.target)||void 0===G?void 0:G.node())||void 0===ht?void 0:ht.parentNode;if(!St)throw new Error("Chart parent node is not defined");const lt=St.getBoundingClientRect(),vt=St.offsetParent.getBoundingClientRect(),At={x:lt.left-vt.left,y:lt.top-vt.top};L()(Object.keys(this.dataPoints),ut=>{const ot=this.dataPoints[ut],nt=this.chart.getDataManager().getChartSeries(ot.seriesId),Yt=this.getTooltipPosition(ot,nt);this.dataPointPositions[ut]=this.getAbsolutePosition(Yt,At)}),this.showSubject.next()}getTooltipPosition(rt,G){var ht,Z;if(!rt.position)throw new Error("Unable to get tooltip position");return{x:rt.position.x,y:rt.position.y,height:(null===(ht=rt.position)||void 0===ht?void 0:ht.height)||1,width:(null===(Z=rt.position)||void 0===Z?void 0:Z.width)||1,overlayPositions:this.overlaySetup}}getAbsolutePosition(rt,G){return Object.assign({},rt,{x:G.x+this.chart.getGrid().config().dimension.margin.left+rt.x,y:G.y+this.chart.getGrid().config().dimension.margin.top+rt.y})}}},88682:(It,pt,o)=>{"use strict";o.d(pt,{k:()=>z});var v=o(5e3),L=o(71973),m=o.n(L),O=o(68208),Y=o(32938),B=o(53784),et=o(69808);const C=["projectedDescription"];function D(rt,G){if(1&rt&&(v.TgZ(0,"div",12),v._uU(1),v.qZA()),2&rt){const ht=v.oxw(2);v.Q6J("title",ht.descriptionPrimary),v.xp6(1),v.hij(" ",ht.descriptionPrimary," ")}}function k(rt,G){if(1&rt&&(v.TgZ(0,"div",13),v._uU(1),v.qZA()),2&rt){const ht=v.oxw(2);v.Q6J("title",ht.descriptionSecondary),v.xp6(1),v.hij(" ",ht.descriptionSecondary," ")}}function $(rt,G){if(1&rt&&(v.TgZ(0,"div",9),v.YNc(1,D,2,2,"div",10),v.YNc(2,k,2,2,"div",11),v.qZA()),2&rt){const ht=v.oxw();v.xp6(1),v.Q6J("ngIf",!!ht.descriptionPrimary),v.xp6(1),v.Q6J("ngIf",!!ht.descriptionSecondary)}}function W(rt,G){1&rt&&(v.TgZ(0,"div",14,15),v.Hsn(2,2),v.qZA())}const T=["*",[["","legendMenu",""]],[["","description",""]]],A=function(rt){return[rt]},R=["*","[legendMenu]","[description]"];let z=(()=>{class rt{constructor(ht){this.legend=ht,this.isSelected=!0,this.isSelectedChange=new v.vpe,this.isHorizontalClassApplied=!1,this._active=!1}set active(ht){this._active=ht}set interactive(ht){this._interactive=ht}get interactive(){return this._interactive}set seriesRenderState(ht){this._seriesRenderState=ht}get seriesRenderState(){return this._seriesRenderState||O.L.default}get isInteractiveClassApplied(){return this._interactive}get isActiveClassApplied(){return this._active&&this.seriesRenderState!==O.L.hidden}ngAfterContentInit(){var ht;this.legend&&(this.legend.activeChanged.subscribe(Z=>this._active=Z),this.icon=this.icon||this.legend.seriesIcon,this._active=this.legend.active,this.interactive=null!==(ht=this.interactive)&&void 0!==ht?ht:this.legend.interactive,this.isHorizontalClassApplied=this.legend.orientation===Y.I.horizontal)}onClick(){this.interactive&&this.isSelectedChange.next(!this.isSelected)}hasInputDescription(){return!m()(this.descriptionPrimary)||!m()(this.descriptionSecondary)}hasProjectedDescription(){return!!this.projectedDescription&&0!==this.projectedDescription.nativeElement.children.length}}return rt.\u0275fac=function(ht){return new(ht||rt)(v.Y36(B.F,9))},rt.\u0275cmp=v.Xpm({type:rt,selectors:[["nui-legend-series"]],viewQuery:function(ht,Z){if(1&ht&&v.Gf(C,5),2&ht){let St;v.iGM(St=v.CRH())&&(Z.projectedDescription=St.first)}},hostAttrs:[1,"nui-legend-series"],hostVars:6,hostBindings:function(ht,Z){1&ht&&v.NdJ("click",function(){return Z.onClick()}),2&ht&&v.ekj("nui-legend-series--interactive",Z.isInteractiveClassApplied)("nui-legend-series--horizontal",Z.isHorizontalClassApplied)("inverse",Z.isActiveClassApplied)},inputs:{active:"active",interactive:"interactive",isSelected:"isSelected",descriptionPrimary:"descriptionPrimary",descriptionSecondary:"descriptionSecondary",icon:"icon",color:"color",seriesRenderState:"seriesRenderState"},outputs:{isSelectedChange:"isSelectedChange"},ngContentSelectors:R,decls:12,vars:9,consts:[[1,"d-flex",3,"ngClass"],[1,"nui-legend-series__tile-wrapper"],[1,"nui-legend-series__tile"],[1,"nui-legend-series__checkbox-wrapper"],[1,"nui-legend-series__checkbox-mark"],[1,"nui-legend-series__checkbox-glyph"],["class","description-container nui-text-small d-flex flex-column justify-content-center",4,"ngIf","ngIfElse"],[1,"legend-menu"],["descriptionTemplate",""],[1,"description-container","nui-text-small","d-flex","flex-column","justify-content-center"],["class","description description-primary",3,"title",4,"ngIf"],["class","description description-secondary",3,"title",4,"ngIf"],[1,"description","description-primary",3,"title"],[1,"description","description-secondary",3,"title"],[1,"d-flex"],["projectedDescription",""]],template:function(ht,Z){if(1&ht&&(v.F$t(T),v.TgZ(0,"div",0)(1,"div",1)(2,"div",2),v.Hsn(3),v.qZA(),v.TgZ(4,"div",3)(5,"div",4),v._UZ(6,"i",5),v.qZA()()(),v.YNc(7,$,3,2,"div",6),v.TgZ(8,"div",7),v.Hsn(9,1),v.qZA()(),v.YNc(10,W,3,0,"ng-template",null,8,v.W1O)),2&ht){const St=v.MAs(11);v.ekj("nui-legend-series--deselected",!Z.isSelected),v.Q6J("ngClass",v.VKq(7,A,"nui-legend-series--state-"+Z.seriesRenderState)),v.xp6(4),v.ekj("nui-legend-series__checkbox--checked",Z.isSelected),v.xp6(3),v.Q6J("ngIf",Z.hasInputDescription())("ngIfElse",St)}},directives:[et.mk,et.O5],encapsulation:2,changeDetection:0}),rt})()},89657:(It,pt,o)=>{"use strict";o.d(pt,{w:()=>A});var v=o(33816),L=o.n(v),m=o(88682),O=o(5e3),Y=o(53784),B=o(69808);function et(R,J){if(1&R&&(O.TgZ(0,"div",10),O._uU(1),O.qZA()),2&R){const z=O.oxw();O.xp6(1),O.hij(" ",z.value," ")}}function C(R,J){if(1&R&&(O.TgZ(0,"div",11),O._uU(1),O.qZA()),2&R){const z=O.oxw();O.xp6(1),O.hij(" ",z.unitLabel," ")}}function D(R,J){1&R&&O.Hsn(0,3)}function k(R,J){1&R&&O.Hsn(0,4)}const $=["*",[["","leftEdge",""]],[["","rightEdge",""]],[["","top",""]],[["","bottom",""]]],W=function(R){return{"background-color":R}},T=["*","[leftEdge]","[rightEdge]","[top]","[bottom]"];let A=(()=>{class R{constructor(z,rt,G){this.legendSeries=z,this.legend=rt,this.changeDetector=G}ngAfterContentInit(){this.legend&&(this.unitLabel=this.unitLabel||this.legend.seriesUnitLabel,this.backgroundColor=this.backgroundColor||this.legend.seriesColor||"white")}ngAfterViewInit(){this.legendSeries&&(this.seriesHasAdditionalContent=this.legendSeries.hasInputDescription()||this.legendSeries.hasProjectedDescription(),this.changeDetector.detectChanges())}hasInputValue(){return!L()(this.value)}hasInputUnitLabel(){return!L()(this.unitLabel)}}return R.\u0275fac=function(z){return new(z||R)(O.Y36(m.k,1),O.Y36(Y.F,9),O.Y36(O.sBO))},R.\u0275cmp=O.Xpm({type:R,selectors:[["nui-rich-legend-tile"]],inputs:{unitLabel:"unitLabel",value:"value",backgroundColor:"backgroundColor",color:"color"},ngContentSelectors:T,decls:15,vars:13,consts:[[1,"nui-rich-legend-tile"],[1,"nui-rich-legend-tile__tilebox","d-flex","justify-content-center","align-items-end","flex-column",3,"ngStyle"],["class","nui-rich-legend-tile__tilebox-value nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],["class","nui-rich-legend-tile__tilebox-unit nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],[1,"nui-rich-legend-tile__icon"],["icon",""],[1,"nui-rich-legend-tile__point-marker"],["rightEdge",""],["projectedTopContent",""],["projectedBottomContent",""],[1,"nui-rich-legend-tile__tilebox-value","nui-rich-legend-tile__ellipsified"],[1,"nui-rich-legend-tile__tilebox-unit","nui-rich-legend-tile__ellipsified"]],template:function(z,rt){if(1&z&&(O.F$t($),O.TgZ(0,"div",0)(1,"div",1),O.YNc(2,et,2,1,"div",2),O.YNc(3,C,2,1,"div",3),O.Hsn(4),O.qZA(),O.TgZ(5,"div",4,5),O.Hsn(7,1),O.qZA(),O.TgZ(8,"div",6,7),O.Hsn(10,2),O.qZA()(),O.YNc(11,D,1,0,"ng-template",null,8,O.W1O),O.YNc(13,k,1,0,"ng-template",null,9,O.W1O)),2&z){const G=O.MAs(9),ht=O.MAs(12),Z=O.MAs(14);O.ekj("nui-rich-legend-tile--has-point-marker",G.children.length>0)("nui-rich-legend-tile--series-has-additional-content",rt.seriesHasAdditionalContent),O.xp6(1),O.Udp("color",rt.color),O.Q6J("ngStyle",O.VKq(11,W,rt.backgroundColor)),O.xp6(1),O.Q6J("ngIf",rt.hasInputValue())("ngIfElse",ht),O.xp6(1),O.Q6J("ngIf",rt.hasInputUnitLabel())("ngIfElse",Z)}},directives:[B.PC,B.O5],styles:[".nui-rich-legend-tile[_ngcontent-%COMP%]{position:relative;width:60px;height:100%;line-height:18px}.nui-rich-legend-tile[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:empty{display:none}.nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px;background-color:var(--nui-color-bg-light,#fff)}.nui-rich-legend-tile__ellipsified[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]{text-align:right;font-weight:600}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]:not(:last-child){margin-bottom:-3px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]{text-align:right;font-size:11px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]:not(:first-child){margin-top:-3px}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%], .nui-rich-legend-tile__icon[_ngcontent-%COMP%]{position:absolute;line-height:0;top:50%;pointer-events:none}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.nui-rich-legend-tile__icon[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}.nui-rich-legend-tile--has-point-marker.nui-rich-legend-tile--series-has-additional-content[_ngcontent-%COMP%]{margin-right:5px}.nui-rich-legend-tile--has-point-marker[_ngcontent-%COMP%]   .nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{padding-right:7px}"]}),R})()},53784:(It,pt,o)=>{"use strict";o.d(pt,{F:()=>O});var v=o(5e3),L=o(32938);const m=["*"];let O=(()=>{class Y{constructor(){this.activeChanged=new v.vpe,this.active=!1,this.interactive=!1,this.orientation=L.I.vertical}ngOnChanges(et){et.active&&this.activeChanged.emit(this.active)}ngOnDestroy(){this.activeChanged.complete()}}return Y.\u0275fac=function(et){return new(et||Y)},Y.\u0275cmp=v.Xpm({type:Y,selectors:[["nui-legend"]],hostAttrs:[1,"d-inline-block"],inputs:{active:"active",interactive:"interactive",orientation:"orientation",seriesColor:"seriesColor",seriesIcon:"seriesIcon",seriesUnitLabel:"seriesUnitLabel"},features:[v.TTD],ngContentSelectors:m,decls:2,vars:2,consts:[[1,"nui-legend","d-flex","flex-wrap"]],template:function(et,C){1&et&&(v.F$t(),v.TgZ(0,"div",0),v.Hsn(1),v.qZA()),2&et&&v.ekj("flex-column","vertical"===C.orientation)},encapsulation:2}),Y})()},32938:(It,pt,o)=>{"use strict";o.d(pt,{I:()=>v});var v=(()=>{return(L=v||(v={})).vertical="vertical",L.horizontal="horizontal",v;var L})()},48620:(It,pt,o)=>{"use strict";o.d(pt,{mgU:()=>gt.mg,EYF:()=>Fn,QtU:()=>Ir,jS7:()=>at,TVc:()=>Zn,Pkp:()=>le,U$N:()=>Kn,Z7w:()=>yi,TrQ:()=>nn,mEc:()=>ti,cEY:()=>Vi,gyj:()=>P,WSY:()=>Tn,cpE:()=>xi,qo6:()=>ne,Sj$:()=>re,_7T:()=>gt._7,kL2:()=>Mi,doR:()=>l,xH4:()=>Hi.x,iM:()=>Be.i,syg:()=>$n,i4F:()=>Un.i,n7o:()=>Yn.n7,Vg0:()=>gt.Vg,hZk:()=>gt.hZ,GYO:()=>Bi.G,nW9:()=>gr,V8c:()=>Nn,WYw:()=>Xr,GFe:()=>U,Rj$:()=>gt.Rj,TC6:()=>gt.TC,HVr:()=>Wn,C1c:()=>gt.C1,gA9:()=>gt.gA,Qii:()=>gt.Qi,hkV:()=>gt.hk,$fK:()=>cn,koE:()=>fn,s_5:()=>en.s,qxh:()=>fi,Med:()=>Ui,t31:()=>bn,DKr:()=>Ar,f$s:()=>De,CCM:()=>gt.CC,oki:()=>d,tCZ:()=>ci,bbc:()=>Wr,XqW:()=>Hr,eQn:()=>mi,$y4:()=>ur,VXE:()=>I,bOg:()=>Ht,Yu5:()=>_t,UDz:()=>Sr,lS:()=>sr,QLC:()=>ei,E8N:()=>Bi.E,zv$:()=>wn,nTW:()=>Bt.L,q7O:()=>gt.q7,GJE:()=>gt.GJ,bdF:()=>gt.bd,NVM:()=>rn,jpW:()=>Mn,ruA:()=>Fr,ta5:()=>Gn,G6f:()=>bi,H38:()=>Bn,s1E:()=>an,FUO:()=>Xn,Wki:()=>qi,yaz:()=>ji,lTH:()=>Dn,FBd:()=>Sn,tIi:()=>Ne,a9F:()=>pr,Ofn:()=>$i,Be5:()=>qn,c_e:()=>j,CJs:()=>tn,Rbc:()=>nr,nuZ:()=>hi,Q6e:()=>Zr,skL:()=>zr,CQI:()=>vr,qqc:()=>ai,OQi:()=>ie,Ks6:()=>S,S2P:()=>He,_OB:()=>Se,ruO:()=>Ae,fy$:()=>Rr,Y6Q:()=>Dr,GVi:()=>Pr,_N$:()=>Cr,fjP:()=>ri,knu:()=>Er,aCj:()=>Qr,mIe:()=>ns,HAP:()=>qr,kxS:()=>Tr,s_I:()=>xn,M6V:()=>is,fWz:()=>rs}),o(24386),o(58),o(71004),o(21679);var Y=o(91314),B=o(73171),et=o(64747),C=o(52016);function D(u,n){return u.each(function(){var t=n.apply(this,arguments),e=(0,C.Z)(this);for(var i in t)e.attr(i,t[i])})}function k(u,n){for(var t in n)u.attr(t,n[t]);return u}function W(u,n,t){return u.each(function(){var e=n.apply(this,arguments),i=(0,C.Z)(this);for(var s in e)i.style(s,e[s],t)})}function T(u,n,t){for(var e in n)u.style(e,n[e],t);return u}function R(u,n){return u.each(function(){var t=n.apply(this,arguments),e=(0,C.Z)(this);for(var i in t)e.property(i,t[i])})}function J(u,n){for(var t in n)u.property(t,n[t]);return u}function rt(u,n){return u.each(function(){var t=n.apply(this,arguments),e=(0,C.Z)(this).transition(u);for(var i in t)e.attr(i,t[i])})}function G(u,n){for(var t in n)u.attr(t,n[t]);return u}function Z(u,n,t){return u.each(function(){var e=n.apply(this,arguments),i=(0,C.Z)(this).transition(u);for(var s in e)i.style(s,e[s],t)})}function St(u,n,t){for(var e in n)u.style(e,n[e],t);return u}B.ZP.prototype.attrs=function $(u){return("function"==typeof u?D:k)(this,u)},B.ZP.prototype.styles=function A(u,n){return("function"==typeof u?W:T)(this,u,null==n?"":n)},B.ZP.prototype.properties=function z(u){return("function"==typeof u?R:J)(this,u)},et.eR.prototype.attrs=function ht(u){return("function"==typeof u?rt:G)(this,u)},et.eR.prototype.styles=function lt(u,n){return("function"==typeof u?Z:St)(this,u,null==n?"":n)};var vt=o(75148),At=o(42625),ut=o(90733),ot=o.n(ut),nt=o(12906),Yt=o.n(nt),$t=o(78442),ue=o.n($t),ce=o(90377),ye=o.n(ce),it=o(28249),Ct=o(8537),Vt=o(21503),ee=o.n(Vt),ke=o(70420),qe=o.n(ke),K=o(34220),xt=o.n(K),Kt=o(79598),pe=o.n(Kt),Lt=o(41970),he=o.n(Lt);function Ae(u){if(!qe()(u,"var("))return u;const n=xt()(pe()(he()(u,"var("),")"));return getComputedStyle(document.body).getPropertyValue(n)}class je{constructor(n,t){this.sourceProvider=n,this.fn=t,this.get=e=>{const i=this.sourceProvider.get(e);if(!i)throw new Error("clr is not defined");let s=this.processedColors[i];return s||(s=this.fn(i),this.processedColors[i]=s),s},this.reset()}reset(){this.processedColors={}}}class gn{constructor(n){this.values=n,this.get=t=>{let e=this.providedValues[t];if(!e){const i=++this.lastUsedIndex%this.values.length;e=this.values[i],this.providedValues[t]=e}return e},this.reset()}reset(){this.providedValues={},this.lastUsedIndex=-1}}class Mn extends gn{constructor(n){super(n),this.colors=n}}const Ln=1/12.92;class hn extends je{constructor(n,t){super(n,e=>{const i=Ae(e),s=(0,Ct.B8)(i),a=this.getContrastRatio(s,(0,Ct.B8)(t.light));return this.getContrastRatio(s,(0,Ct.B8)(t.dark))>a?t.dark:t.light})}getContrastRatio(n,t){const e=this.getRelativeLuminance(n),i=this.getRelativeLuminance(t);let s,a;return e>i?(s=e,a=i):(s=i,a=e),(s+.05)/(a+.05)}getRelativeLuminance(n){const t=n.r/255,e=n.g/255,i=n.b/255;return.2126*(t<=.03928?t*Ln:this.adjustGamma(t))+.7152*(e<=.03928?e*Ln:this.adjustGamma(e))+.0722*(i<=.03928?i*Ln:this.adjustGamma(i))}adjustGamma(n){return Math.pow((n+.055)/1.055,2.4)}}class $n{constructor(n,t={backgroundOpacity:.15}){this._standardColors=ee()(n)?new Mn(n):n,this._textColors=new hn(this.standardColors,{light:"white",dark:"black"}),this._backgroundColors=new je(this.standardColors,e=>{const i=Ae(e),s=(0,Ct.B8)(i);return s.opacity=t.backgroundOpacity,s.toString()})}get standardColors(){return this._standardColors}get backgroundColors(){return this._backgroundColors}get textColors(){return this._textColors}}var ni=o(34235),Te=o.n(ni);class Xn{constructor(n){this.svg=n}getSvg(){return this.styledSvg||this.svg}setColor(n){this.styledSvg=Te()(n)?n:`<g fill="${n}">${this.svg}</g>`}}const xi=["var(--nui-color-chart-one)","var(--nui-color-chart-two)","var(--nui-color-chart-three)","var(--nui-color-chart-four)","var(--nui-color-chart-five)","var(--nui-color-chart-six)","var(--nui-color-chart-seven)","var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"],ne=["var(--nui-color-chart-one)","var(--nui-color-chart-one-light)","var(--nui-color-chart-two)","var(--nui-color-chart-two-light)","var(--nui-color-chart-three)","var(--nui-color-chart-three-light)","var(--nui-color-chart-four)","var(--nui-color-chart-four-light)","var(--nui-color-chart-five)","var(--nui-color-chart-five-light)","var(--nui-color-chart-six)","var(--nui-color-chart-six-light)","var(--nui-color-chart-seven)","var(--nui-color-chart-seven-light)","var(--nui-color-chart-eight)","var(--nui-color-chart-eight-light)","var(--nui-color-chart-nine)","var(--nui-color-chart-nine-light)","var(--nui-color-chart-ten)","var(--nui-color-chart-ten-light)"],re=["var(--nui-color-semantic-down)","var(--nui-color-semantic-down-bg)","var(--nui-color-semantic-critical)","var(--nui-color-semantic-critical-bg)","var(--nui-color-semantic-warning)","var(--nui-color-semantic-warning-bg)","var(--nui-color-semantic-unknown)","var(--nui-color-semantic-unknown-bg)","var(--nui-color-semantic-ok)","var(--nui-color-semantic-ok-bg)","var(--nui-color-semantic-info)","var(--nui-color-semantic-info-bg)"],Ze=["m0 0m-4 0a4 4 0 1 0 8 0 4 4 0 1 0-8 0z","m-4,-4l8,0l0,8l-8,0l0,-8z","m0-4 4 8-8 0z","m0-4.95 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8 0z","m0-3.805 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703z"],Tn=[...Ze.map(u=>`<path class="nui-chart--path__outline" d="${u}"></path>`),...["m0 2c1.105 0 2-.895 2-2 0-1.105-.895-2-2-2-1.105 0-2 .895-2 2 0 1.105.895 2 2 2zm0 2c-2.209 0-4-1.791-4-4 0-2.209 1.791-4 4-4 2.209 0 4 1.791 4 4 0 2.209-1.791 4-4 4z","m-2-2 0 4 4 0 0-4-4 0zm-2-2 8 0 0 8-8 0 0-8z","m0-4-4 8 8.001 0-4.001-8zm0 3.354 1.573 3.146-3.145 0 1.572-3.146z","m0-2.121-2.121 2.121 2.121 2.121 2.121-2.121-2.121-2.121zm0-2.828 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8.001 0-4.001 8zm0-3.354 1.573-3.146-3.145 0 1.572 3.146z","m0-1.951-2.237 1.626.855 2.63 2.766 0 .855-2.63-2.237-1.626zm0-1.854 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703 4.001-2.907z"].map((u,n)=>`<path class="nui-chart--path__outline-fill" stroke="none" d="${Ze[n]}"></path>\n            <path class="nui-chart--path__outline" d="${u}"></path>`)].map(u=>new Xn(u));class rn extends gn{constructor(n){super(n),this.markers=n}}function Ve(){return new Mn(xi)}function $e(){return new rn(Tn)}class Fn{constructor(n=Ve(),t=$e()){this.colorProvider=n,this.markerProvider=t,this.data={x:(e,i,s,a)=>e.x,x0:(e,i,s,a)=>this.data.x(e,i,s,a),x1:(e,i,s,a)=>this.data.x(e,i,s,a),y:(e,i,s,a)=>e.y,y0:(e,i,s,a)=>this.data.y(e,i,s,a),y1:(e,i,s,a)=>this.data.y(e,i,s,a),absoluteX0:(e,i,s,a)=>{var c,f;return null!==(f=null===(c=e.__stack_x)||void 0===c?void 0:c.start)&&void 0!==f?f:this.data.x0(e,i,s,a)},absoluteX1:(e,i,s,a)=>{var c,f;return null!==(f=null===(c=e.__stack_x)||void 0===c?void 0:c.end)&&void 0!==f?f:this.data.x1(e,i,s,a)},absoluteY0:(e,i,s,a)=>{var c,f;return null!==(f=null===(c=e.__stack_y)||void 0===c?void 0:c.start)&&void 0!==f?f:this.data.y0(e,i,s,a)},absoluteY1:(e,i,s,a)=>{var c,f;return null!==(f=null===(c=e.__stack_y)||void 0===c?void 0:c.end)&&void 0!==f?f:this.data.y1(e,i,s,a)}},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}class mn extends class pn{constructor(){}}{constructor(n=Ve(),t=$e()){super(),this.colorProvider=n,this.markerProvider=t,this.data={value:e=>e.value,category:(e,i,s,a)=>e.category?e.category:this.series.category?this.series.category(a.id,a):null,start:(e,i,s,a)=>{if(e.__bar)return e.__bar.start;if(void 0!==e.start)return e.start;const c=this.getSingleValue(e,i,s,a);return Number.isFinite(c)?Math.min(0,c):null},end:(e,i,s,a)=>{if(e.__bar)return e.__bar.end;if(void 0!==e.end)return e.end;const c=this.getSingleValue(e,i,s,a);return Number.isFinite(c)?Math.max(0,c):null}},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0,category:(e,i)=>i.name||i.id}}getSingleValue(n,t,e,i){let s;return this.data.value&&(s=this.data.value(n,t,e,i),void 0===s&&(s=n)),s}}class Wn extends mn{constructor(n,t){super(n,t),this.data=Object.assign(Object.assign({},this.data),{startX:(e,i,s,a)=>this.data.start(e,i,s,a),endX:(e,i,s,a)=>this.data.end(e,i,s,a),startY:(e,i,s,a)=>this.data.category(e,i,s,a),endY:(e,i,s,a)=>this.data.category(e,i,s,a),thicknessY:(e,i,s,a)=>this.data.thickness?this.data.thickness(e,i,s,a):void 0})}}class an{constructor(n){this.barAccessors=n,n.data.status=t=>t.status}get data(){return this.barAccessors.data}get series(){return this.barAccessors.series}}function xn(u,n){const t=new an(new Wn(u,n));return t.data.color=(e,i,s,a)=>u.get(t.data.status(e,i,s,a)),t.data.category=()=>an.STATUS_CATEGORY,t}an.STATUS_CATEGORY="status",an.STATUS_DOMAIN=[an.STATUS_CATEGORY];var On=o(62225),on=0;function En(){return new ze}function ze(){this._="@"+(++on).toString(36)}ze.prototype=En.prototype={constructor:ze,get:function(u){for(var n=this._;!(n in u);)if(!(u=u.parentNode))return;return u[n]},set:function(u,n){return u[this._]=n},remove:function(u){return this._ in u&&delete u[this._]},toString:function(){return this._}};var _e=o(69754),vn=o.n(_e),dn=o(22274),X=o.n(dn),bt=o(30836),Gt=o.n(bt),gt=o(92893);function ie(u,n,t=.5,e=Number.MAX_VALUE){if(!u)return 0;if(!(0,it.oT)(u))return u.convert(n);const i=u;if(!ee()(n))return i.convert(n,t);const s=n;return 1===s.length||!i.innerScale||e<=1?i.convert(s[0],t):i.convert(s[0],0)+ie(i.innerScale,s.slice(1),t,e-1)}var Bt=o(68208),se=o(2158),Pe=o(32608),Oe=o.n(Pe),Ke=o(71973),ln=o.n(Ke);function kn(u,n){if(!u)return 0;const t=u.invert(n);if(!(0,it.oT)(u)||Te()(t))return t;if(!u.innerScale)return t;const i=kn(u.innerScale,n-u.convert(t,0));return ee()(i)?[t,...i]:[t,i]}class Ne{static getValueAccessor(n,t){const e=n(t,0);if("number"==typeof e||"string"==typeof e)return n;if(e.valueOf&&"number"==typeof e.valueOf())return(i,s)=>n(i,s).valueOf();throw new Error("Value in the data series does not return numeric valueOf().")}static getClosestIndex(n,t,e){if(1===n.length)return 0;if(0===n.length)return;const i=Ne.getValueAccessor(t,n[0]);if("string"==typeof e)return n.findIndex(c=>i(c,0)===e);let s=this.findNearestIndex(n,e,t);return s=s>0?s-1:s,s=s>=n.length-1&&1!==n.length?n.length-2:s,s+Ne.getCloser(i(n[s],s),i(n[s+1],s+1),e)}static getCloser(n,t,e){return Math.abs(e-n)<=Math.abs(e-t)?0:1}static clampToRange(n,t){return n<t[0]?t[0]:n>t[1]?t[1]:n}static uuid(){let n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const i=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?i:3&i|8).toString(16)})}static cssEscape(n){if(0===arguments.length)throw new TypeError("`cssEscape` requires an argument.");const t=String(n),e=t.length;let s,i=-1,a="";const c=t.charCodeAt(0);for(;++i<e;)s=t.charCodeAt(i),a+=0!==s?s>=1&&s<=31||127===s||0===i&&s>=48&&s<=57||1===i&&s>=48&&s<=57&&45===c?"\\"+s.toString(16)+" ":0===i&&1===e&&45===s||!(s>=128||45===s||95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122)?"\\"+t.charAt(i):t.charAt(i):"\ufffd";return a}static findNearestIndex(n,t,e=Oe()){let i=0,s=null==n?i:n.length;for(;i<s;){const a=i+s>>>1,c=e(n[a],a);null!==c&&c<t?i=a+1:s=a}return Math.round(i)}static getXYValues(n,t,e,i){const s=Ne.getScaleValues(n,e),a=Ne.getScaleValues(t,i),c={};return ln()(s)||(c.x=s),ln()(a)||(c.y=a),c}static getScaleValues(n,t){return n.reduce(function e(i,s){const a=kn(s,t);return Te()(a)||(i[s.id]=a),i},{})}static getInteractionValues(n,t){var e;return n?null!==(e=n[t])&&void 0!==e?e:Object.values(n)[0]:null}}class tn extends se.T{draw(n,t){}getDataPointPosition(n,t,e){var i,s;if(t<0||t>=n.data.length)return;const a=n.data[t];if(!(null===(i=n.accessors.data)||void 0===i?void 0:i.x)||!(null===(s=n.accessors.data)||void 0===s?void 0:s.y))throw new Error("Can't get dataPointPosition");return{x:e.x.convert(n.accessors.data.x(a,t,n.data,n)),y:e.y.convert(n.accessors.data.y(a,t,n.data,n))}}getDataPointIndex(n,t,e){if(Te()(t.x))return gt.Vg;const i=Ne.getClosestIndex(n.data,(s,a)=>{var c,f;return null===(f=null===(c=n.accessors.data)||void 0===c?void 0:c.x)||void 0===f?void 0:f.call(c,s,a,n.data,n)},t.x);if(Te()(i))throw new Error("Unable to get data point index");return i}}let yi=(()=>{class u extends tn{constructor(t={}){super(t),this.config=t,this.DEFAULT_CONFIG={transitionDuration:300,padding:1,barClass:"bar-outline",highlightStrategy:void 0,pointerEvents:!0,enableMinBarThickness:!0},this.barContainerClass="bar-container",this.config=vn()(this.config,this.DEFAULT_CONFIG)}draw(t,e){var i,s,a;const c=t.containers[Bt.n.data],f=t.dataSeries,b=f.accessors,E=this.getAttrsGenerator(f,t.scales),H=En(),ct=c.selectAll(`g.${this.barContainerClass}`).data(f.data);ct.exit().remove();const Pt=ct.enter().append("g").classed(this.barContainerClass,!0);Pt.append("rect").on("click",(Wt,Zt)=>{this.emitBarClick(t,Wt,Zt,e)}),Pt.merge(ct).property(H,(Wt,Zt)=>E(Wt,Zt)).select("rect").attr("class",(Wt,Zt)=>`${u.BAR_RECT_CLASS} ${this.config.barClass}${this.config.pointerEvents?" pointer-events":""}`+((Wt,Zt)=>{var we;return void 0!==(null===(we=b.data)||void 0===we?void 0:we.cssClass)&&" "+b.data.cssClass(Wt,Zt,f.data,f)||""})(Wt,Zt)).style("cursor",null!==(i=this.config.cursor)&&void 0!==i?i:"").style("stroke-width",null!==(a=null===(s=this.config)||void 0===s?void 0:s.strokeWidth)&&void 0!==a?a:"").style("fill",(Wt,Zt)=>{var we,Je;return b.data.color?b.data.color(Wt,Zt,f.data,f):null===(Je=(we=b.series).color)||void 0===Je?void 0:Je.call(we,f.id,f)}).attrs(function(){return H.get(this)}).select("rect").style("fill",(Wt,Zt)=>{var we,Je;return b.data.color?b.data.color(Wt,Zt,f.data,f):null===(Je=(we=b.series).color)||void 0===Je?void 0:Je.call(we,f.id,f)}).attrs(H.get),b.data.marker&&(Pt.append("g").classed("bar-icon",!0),Pt.merge(ct).select("g.bar-icon").html(function(Wt,Zt){var we,Je;const In=H.get(this);if(!In||Te()(null==In?void 0:In.height)||Te()(null==In?void 0:In.width))throw new Error("barSize is undefined");if(Math.min(In.height,In.width)-1>=u.MIN_BAR_SIZE_FOR_ICON)return null===(Je=(we=b.data).marker)||void 0===Je?void 0:Je.call(we,Wt,Zt,f.data,f)}).attr("transform",function(){const Wt=H.get(this);if(!Wt||Te()(null==Wt?void 0:Wt.height)||Te()(null==Wt?void 0:Wt.width))throw new Error("barAttrs is undefined");return`translate(${Wt.x+Wt.width/2}, ${Wt.y+Wt.height/2})`}))}getDataPointIndex(t,e,i){return this.config.highlightStrategy?this.config.highlightStrategy.getDataPointIndex(this,t,e,i):gt.Vg}highlightDataPoint(t,e,i){this.config.highlightStrategy&&this.config.highlightStrategy.highlightDataPoint(this,t,e,i)}getDataPointPosition(t,e,i){const s=t.data[e];return s&&this.getAttrsGenerator(t,i)(s,e)}getDataPoint(t,e,i){return{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:i,data:e,position:e?this.getDataPointPosition(t.dataSeries,i,t.scales):void 0}}filterDataByDomain(t){return t}getDomain(t,e,i,s){const a=e.accessors.data,c=i.toUpperCase(),f=b=>(E,H,ct)=>{var Pt;return null===(Pt=a[b+c])||void 0===Pt?void 0:Pt.call(a,E,H,Array.from(ct),e)};if(s.isContinuous())return t&&0!==t.length?[(0,On.VV)(t,f("start")),(0,On.Fp)(t,f("end"))]:it.iz;{const b=t&&t.length>0?t.map(f("start")):[],E=Math.max(...b.map(H=>ee()(H)?H.length:-1));return E>=0?Array.from(Array(E)).map((H,ct)=>{const Pt=b.map(Ut=>ct<Ut.length?Ut[ct]:[]);return Gt()(X()(Pt))}):[Gt()(b)]}}emitBarClick(t,e,i,s){s.next({eventName:gt.q7,data:this.getDataPoint(t,e,i)})}getAttrsGenerator(t,e){const i=t.accessors.data;return(s,a)=>{const c=this.getDimensions(i,s,a,t,e.x,"X"),f=this.getDimensions(i,s,a,t,e.y,"Y");return{x:c.start,width:c.thickness,y:f.start,height:f.thickness}}}getDimensions(t,e,i,s,a,c){let f,b;const E=t["thickness"+c],H=s.accessors.data["start"+c],ct=s.accessors.data["end"+c];if(b=null==E?void 0:E(e,i,s.data,s),Te()(b)){if(!H||!ct)throw new Error("Can't compute dimensions");const Pt=ie(a,H(e,i,s.data,s),0),Ut=ie(a,ct(e,i,s.data,s),1);if(f=Math.min(Pt,Ut),b=Math.abs(Pt-Ut),(0,it.oT)(a)){if(Te()(this.config.padding))throw new Error("Config is not defined");f+=this.config.padding,b-=2*this.config.padding}this.config.enableMinBarThickness&&(b=Math.max(b,u.MIN_BAR_THICKNESS))}else{if(!H)throw new Error("Can't compute dimensions");f=ie(a,H(e,i,s.data,s),.5)-b/2}return{start:f,thickness:b}}}return u.THICK=11,u.THIN=3,u.MIN_BAR_SIZE_FOR_ICON=10,u.MIN_BAR_THICKNESS=2,u.BAR_RECT_CLASS="bar",u})();const Di={stateStyles:{[Bt.L.default]:{opacity:0},[Bt.L.hidden]:{opacity:0},[Bt.L.deemphasized]:{opacity:0},[Bt.L.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},qi={stateStyles:{[Bt.L.default]:{opacity:.3},[Bt.L.hidden]:{opacity:0},[Bt.L.deemphasized]:{opacity:0},[Bt.L.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},ii={enabled:!1,clickable:!1},di="gauge-threshold-marker";class $i{constructor(){this.data={x:n=>n.x,y:n=>n.y}}}class fi extends $i{constructor(n=Ve(),t=$e()){super(),this.colorProvider=n,this.markerProvider=t,this.data.defined=(e,i)=>!e.hasOwnProperty("defined")||e.defined,this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}function ki(u){this._context=u}function Xi(u){return new ki(u)}ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(u,n){switch(u=+u,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(u,n):this._context.moveTo(u,n);break;case 1:this._point=2;default:this._context.lineTo(u,n)}}};var gi=o(73066),un=o(21456);function Pi(u){return u[0]}function tr(u){return u[1]}function Ri(){var u=Pi,n=tr,t=(0,un.Z)(!0),e=null,i=Xi,s=null;function a(c){var f,E,ct,b=c.length,H=!1;for(null==e&&(s=i(ct=(0,gi.Z)())),f=0;f<=b;++f)!(f<b&&t(E=c[f],f,c))===H&&((H=!H)?s.lineStart():s.lineEnd()),H&&s.point(+u(E,f,c),+n(E,f,c));if(ct)return s=null,ct+""||null}return a.x=function(c){return arguments.length?(u="function"==typeof c?c:(0,un.Z)(+c),a):u},a.y=function(c){return arguments.length?(n="function"==typeof c?c:(0,un.Z)(+c),a):n},a.defined=function(c){return arguments.length?(t="function"==typeof c?c:(0,un.Z)(!!c),a):t},a.curve=function(c){return arguments.length?(i=c,null!=e&&(s=i(e)),a):i},a.context=function(c){return arguments.length?(null==c?e=s=null:s=i(e=c),a):e},a}function si(u,n){const t=u.range().map(s=>s),e=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return n>=e&&n<=i}var en=o(13431);let wi=(()=>{class u{static manageMarker(t,e,i,s,a,c=ii){var f,b,E;if(!s)throw new Error("Container doesn't exist!");if(0===t.data.length)return void u.removeMarker(s);const H=t.accessors;i<0&&(i=t.data.length-1);const ct=t.data[i];if(!(null===(f=H.data)||void 0===f?void 0:f.x)||!H.data.y)throw new Error("Color or marker are undefined");const Pt=e.x.convert(H.data.x(ct,i,t.data,t)),Ut=e.y.convert(H.data.y(ct,i,t.data,t));if(void 0!==Pt&&void 0!==Ut&&si(e.x,Pt)&&si(e.y,Ut)){const Wt=t.id,Zt={index:i,data:ct,seriesId:Wt,position:{x:Pt,y:Ut},dataSeries:t};if(!(null===(b=H.series)||void 0===b?void 0:b.marker)||!(null===(E=H.series)||void 0===E?void 0:E.color))throw new Error("Color or marker are undefined");u.drawMarker(Zt,H.series.marker(Wt,t),H.series.color(Wt,t),s,a,u.DEFAULT_MARKER_CONTAINER_CLASS,c)}else u.removeMarker(s)}static drawMarker(t,e,i,s,a,c=u.DEFAULT_MARKER_CONTAINER_CLASS,f=ii){var b,E,H,ct,Pt;let Ut=s.select(`g.${c}`);const we={transform:`translate(${null===(b=null==t?void 0:t.position)||void 0===b?void 0:b.x}, ${null===(E=null==t?void 0:t.position)||void 0===E?void 0:E.y})`,cursor:"crosshair"};Ut.empty()&&(Ut=s.append("g").classed(`${c}${f.enabled?" pointer-events":""}${f.enabled&&f.clickable?" pointer-events-click":""}`,!0)),e.setColor(i),Ut.attrs(we),Ut.on("mouseenter",()=>{a.next({eventName:gt.gA,data:{interactionType:en.s.Hover,dataPoint:t}})}),Ut.on("mouseleave",()=>{a.next({eventName:gt.gA,data:{interactionType:en.s.Hover,dataPoint:Object.assign(Object.assign({},t),{index:gt.Vg})}})}),Ut.on("click",()=>{a.next({eventName:gt.gA,data:{interactionType:en.s.Click,dataPoint:t}})}),!Ut.selectAll("g > *").size()&&Ut.node()&&(null===(H=Ut.node())||void 0===H||H.appendChild(vt.fK2.getSvgFromString(e.getSvg())),Ut.select("path").classed(u.MARKER_PATH_CLASS,!0));const An=Ut.select("path").node();if(An&&f.enabled){const Ci=An.getBoundingClientRect();An.setAttribute("x",Math.ceil((null===(ct=null==t?void 0:t.position)||void 0===ct?void 0:ct.x)-Ci.width/2).toString()),An.setAttribute("y",Math.ceil((null===(Pt=null==t?void 0:t.position)||void 0===Pt?void 0:Pt.y)-Ci.height/2).toString())}}static removeMarker(t,e=u.DEFAULT_MARKER_CONTAINER_CLASS){t.select(`g.${e}`).remove()}}return u.DEFAULT_MARKER_CONTAINER_CLASS="marker",u.MARKER_PATH_CLASS="marker-path",u})(),Ui=(()=>{class u extends tn{constructor(t={}){super(t),this.config=t,this.DEFAULT_CONFIG={strokeWidth:2,curveType:Xi,interactive:!0,strokeStyle:"",strokeLinecap:"round",markerInteraction:ii,useEnhancedLineCaps:!1,enhancedLineCap:{radius:3}},this.config=vn()(this.config,this.DEFAULT_CONFIG)}static getStrokeStyleDashed(t){const e=2*t;return`${e},${e}`}static getStrokeStyleDotted(t){return`${t},${t}`}draw(t,e){var i,s,a,c,f;const b=t.containers[Bt.n.data],E=null===(s=(i=t.dataSeries.accessors.series).color)||void 0===s?void 0:s.call(i,t.dataSeries.id,t.dataSeries);let H=b.select("path.main");H.empty()&&(H=b.append("path").classed("main",!0).attrs({stroke:null!=E?E:null,"stroke-width":null!==(a=this.config.strokeWidth)&&void 0!==a?a:null,"stroke-dasharray":null!==(c=this.config.strokeStyle)&&void 0!==c?c:null,"stroke-linecap":null!==(f=this.config.strokeLinecap)&&void 0!==f?f:null,fill:"none"})),this.drawLine(t,H),this.config.interactionStrategy&&this.config.interactionStrategy.draw(this,t,e)}isInfiniteLineData(t){const e=t.dataSeries;return 1===e.data.length&&void 0===e.accessors.data.x(e.data[0],0,e.data,e)}drawLine(t,e){this.isInfiniteLineData(t)?this.drawInfiniteLine(t,e):this.drawStandardLine(t,e)}highlightDataPoint(t,e,i){if(!this.config.interactive)return;const s=t.dataSeries;!s.accessors.series.marker||wi.manageMarker(s,t.scales,e,t.containers[Bt.n.foreground],i,this.config.markerInteraction)}getRequiredLayers(){return[gt.rz[Bt.n.data],gt.rz[Bt.n.foreground],gt.rz[Bt.n.unclippedData]]}getDataPointPosition(t,e,i){return super.getDataPointPosition(t,e,i)}drawStandardLine(t,e){var i,s;const a=t.dataSeries,c=a.accessors;let f=!1;const b=a.data.filter((H,ct)=>{const Pt=void 0!==c.data.x(H,ct,a.data,a)&&void 0!==c.data.y(H,ct,a.data,a);return!Pt&&!f&&(console.warn("Data point",H,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x:",c.data.x),console.warn(" -> accessors.data.y:",c.data.y),f=!0),Pt});if(!this.config.curveType)throw new Error("curveType is not defined");const E=Ri().x((H,ct)=>t.scales.x.convert(c.data.x(H,ct,a.data,a))).y((H,ct)=>t.scales.y.convert(c.data.y(H,ct,a.data,a))).defined((H,ct)=>!c.data.defined||c.data.defined(H,ct,a.data,a)).curve(this.config.curveType);e.attr("d",null!==(i=E(b))&&void 0!==i?i:""),this.config.useEnhancedLineCaps&&this.updateLineCaps(b,t,(null===(s=this.config.enhancedLineCap)||void 0===s?void 0:s.fill)||e.attr("stroke"))}drawInfiniteLine(t,e){const i=t.dataSeries,a=t.scales.y.convert(i.accessors.data.y(i.data[0],0,i.data,i)),c=[[t.scales.x.range()[0],a],[t.scales.x.range()[1],a]],b=Ri().x(E=>E[0]).y(E=>E[1])(c);if(!b)throw new Error("Line cannot be computed");e.attr("shape-rendering","crispEdges").attr("d",b)}updateLineCaps(t,e,i){var s,a,c;const f=e.dataSeries,b=f.accessors,E=t.filter((Ut,Wt)=>{var Zt,we;return!(null===(Zt=null==b?void 0:b.data)||void 0===Zt?void 0:Zt.defined)||(null===(we=null==b?void 0:b.data)||void 0===we?void 0:we.defined(Ut,Wt,f.data,f))}),H=(Ut,Wt)=>e.scales.x.convert(b.data.x(Ut,Wt,f.data,f)),ct=(Ut,Wt)=>e.scales.y.convert(b.data.y(Ut,Wt,f.data,f)),Pt=e.containers[Bt.n.unclippedData].selectAll(`.${u.LINE_CAP_CLASS_NAME}`).data(E).attr("cx",H).attr("cy",ct);Pt.enter().append("circle").attr("class",u.LINE_CAP_CLASS_NAME).attr("r",null===(s=this.config.enhancedLineCap)||void 0===s?void 0:s.radius).attr("cx",H).attr("cy",ct).style("stroke-width",null===(a=this.config.enhancedLineCap)||void 0===a?void 0:a.strokeWidth).style("fill",i).style("stroke",null===(c=this.config.enhancedLineCap)||void 0===c?void 0:c.stroke),Pt.exit().remove()}}return u.UNCLIPPED_DATA_LAYER_NAME="unclipped-data",u.LINE_CAP_CLASS_NAME="nui-chart-line-cap",u})();var Ii=(()=>((Ii||(Ii={})).Grayscale="grayscale",Ii))();const Fi=`url("#${Ii.Grayscale}")`;class Gi{constructor(){this.data={active:n=>n.active},this.series={start:()=>null,end:()=>null,activeColor:()=>"magenta"}}}let lr=(()=>{class u extends tn{constructor(t={}){super(t),this.DEFAULT_CONFIG={},this.config=vn()(this.config,this.DEFAULT_CONFIG)}draw(t,e){const i=t.containers[Bt.n.unclippedData],s=t.dataSeries,a=t.scales,c=t.dataSeries.accessors;let f=i.select("rect");const b=s.data.length>0&&c.data.active(s.data[0],0,t.dataSeries.data,t.dataSeries),E=!b&&c.series.inactiveColor?c.series.inactiveColor:c.series.activeColor;f.empty()&&(f=i.append("rect").attrs({fill:E(s.id,s)}),!b&&!c.series.inactiveColor&&f.style("filter",Fi));const H=c.series.start(s.id,s),ct=c.series.end(s.id,s),Pt=null==ct?0:a.y.convert(ct),Wt=(null==H?a.y.range()[0]:Math.min(a.y.range()[0],a.y.convert(H)))-Pt;f.attrs({x:-2,y:Pt,height:Wt<0?0:Wt,width:2})}getDataPointIndex(t,e,i){return-1}getRequiredLayers(){return[gt.rz[Bt.n.unclippedData]]}}return u.SIDE_INDICATORS_LAYER="side-indicators",u})();var Li=(()=>{return(u=Li||(Li={})).Start="start",u.End="end",Li;var u})(),Oi=o(5e3);let ji=(()=>{class u{constructor(t){this.loggerService=t}injectThresholdsData(t,e){const i={};e.forEach(s=>s.entered=!1);for(let s=0;s<t.data.length;s++){const a=t.data[s],c=t.accessors.data.x(a,s,t.data,t),f=t.accessors.data.y(a,s,t.data,t);a.__thresholds={};const b=this.getZoneByXY(e,i,c,f);b&&(b.entered=!0,a.__thresholds.status=b.value)}}getBackgrounds(t,e,i,s,a={},c=ot()(Di)){let f;t.data.length>0&&void 0===t.data[0].__thresholds&&this.loggerService.warn("Thresholds metadata is not defined on provided data series",t);const b=xn(s);return b.data.thickness=E=>a[E.status],(0,it.oT)(i.x)?(f=ot()(t.data),b.data.start=t.accessors.data.x,b.data.end=t.accessors.data.x,b.data.color=E=>E.__thresholds&&E.__thresholds.status?s.get(E.__thresholds.status):"transparent",b.data.thickness=E=>a[E.__thresholds.status]):f=this.getBackgroundsDataForContinuousScale(t,e),{id:t.id+u.SERIES_ID_SUFFIX,data:f,accessors:b,scales:i,renderer:new yi(c),showInLegend:!1}}getBackgroundsDataForContinuousScale(t,e){var i;const s=[],a=this.getBreakPoints(t,e),c={};for(let f=0;f<a.length-1;f++){const b=a[f],E=a[f+1];if(!b||!E)throw new Error("p1 or p2 are undefined");const H={x:(b.x+E.x)/2,y:(b.y+E.y)/2},ct=this.getZoneByXY(e,c,H.x,H.y);if(ct){const Pt=s[s.length-1];Pt&&(null===(i=Pt.end)||void 0===i?void 0:i.valueOf())===b.x&&Pt.status===ct.value?Pt.end=new Date(E.x):s.push({status:ct.value,start:new Date(b.x),end:new Date(E.x)})}}return s}getBreakPoints(t,e){var i,s,a,c;const f=t.accessors.data;let b=[];for(let E=0;E<t.data.length-1;E++){const H=t.data[E],ct=t.data[E+1],Pt={x:f.x(H,E,t.data,t).valueOf(),y:f.y(H,E,t.data,t).valueOf()},Ut={x:f.x(ct,E+1,t.data,t).valueOf(),y:f.y(ct,E+1,t.data,t).valueOf()};for(let Wt=0;Wt<e.length;Wt++){const Zt=e[Wt],we=null===(s=(i=Zt.accessors.data).start)||void 0===s?void 0:s.call(i,Zt.data[0],0,Zt.data,Zt),Je=null===(c=(a=Zt.accessors.data).end)||void 0===c?void 0:c.call(a,Zt.data[0],0,Zt.data,Zt),In=[we,Je].map(An=>this.getCrossPointWithY(Pt,Ut,An)).filter(An=>An);[Pt,Ut].forEach(An=>{(An.y===we||An.y===Je)&&(An.isZoneEdge=!0)}),b=ue()(b,In,[Pt,Ut],(An,Ci)=>(null==An?void 0:An.x)===(null==Ci?void 0:Ci.x)&&(null==An?void 0:An.isZoneEdge)===(null==Ci?void 0:Ci.isZoneEdge))}}return Yt()(b,"x")}getThresholdZones(t,e,i){const s=new Fn;return s.data.start=a=>a.start,s.data.end=a=>a.end,s.series.color=(a,c)=>i.get(c.value),e.map((a,c)=>({id:t.id+"__"+a.status+"-"+c,value:a.status,data:[{start:a.start,end:a.end}],scales:t.scales,accessors:s}))}getThresholdLines(t){if(-1===t.findIndex(s=>s.entered))return[];const e={};function i(s,a,c){const f=s(a.data[0],0,a.data,a);void 0!==f&&void 0===e[f]&&(e[f]={series:a,accessor:s,zoneBoundary:c})}for(const s of t)s.accessors.data.start&&s.accessors.data.end&&(i(s.accessors.data.start,s,Li.Start),i(s.accessors.data.end,s,Li.End));return ye()(e).map(s=>this.getThresholdLine(s.series,s.accessor,s.zoneBoundary))}getThresholdLine(t,e,i=Li.Start){const s=new fi;s.data.y=e,s.series.color=t.accessors.series.color;const a=new Ui({interactive:!1,strokeWidth:1,strokeStyle:Ui.getStrokeStyleDashed(1),stateStyles:ot()(Di.stateStyles),ignoreForDomainCalculation:!0});return{id:`${t.id}__${i}__threshold-line`,data:t.data,value:t.value,accessors:s,renderer:a,scales:t.scales,showInLegend:!1}}getCrossPoint(t,e,i,s){const a_x=e.x-t.x,a_y=e.y-t.y,c_x=s.x-i.x,c_y=s.y-i.y,f=(-a_y*(t.x-i.x)+a_x*(t.y-i.y))/(-c_x*a_y+a_x*c_y),b=(c_x*(t.y-i.y)-c_y*(t.x-i.x))/(-c_x*a_y+a_x*c_y);if(f>=0&&f<=1&&b>=0&&b<=1)return{x:t.x+b*a_x,y:t.y+b*a_y}}getZoneByXY(t,e,i,s){var a,c;for(const f of t){e[f.id]||(e[f.id]=0);const b=this.moveZoneIndex(e[f.id],f,i);e[f.id]=b;const E=f.data[b],H=f.accessors.data,ct=null===(a=H.start)||void 0===a?void 0:a.call(H,E,b,f.data,f),Pt=null===(c=H.end)||void 0===c?void 0:c.call(H,E,b,f.data,f);if((void 0===ct||s>=ct)&&(void 0===Pt||s<=Pt))return f}return null}moveZoneIndex(t,e,i){for(;t<e.data.length-1&&e.accessors.data.x(e.data[t+1],t+1,e.data,e)<i;)t++;return t}getCrossPointWithY(t,e,i){return this.getCrossPoint(t,e,{x:t.x,y:i},{x:e.x,y:i})}getSideIndicators(t,e,i){const s=[],a=new lr(i||ot()(Di)),c=-1!==t.findIndex(f=>f.entered);for(const f of t){const b=new Gi;b.series={start:()=>{var H,ct;return null===(ct=(H=f.accessors.data).start)||void 0===ct?void 0:ct.call(H,f.data[0],0,f.data,f)},end:()=>{var H,ct;return null===(ct=(H=f.accessors.data).end)||void 0===ct?void 0:ct.call(H,f.data[0],0,f.data,f)},activeColor:()=>{var H,ct;return null===(ct=(H=f.accessors.series).color)||void 0===ct?void 0:ct.call(H,f.id,f)}},s.push({id:f.id+"__side-indicator",data:[{active:c}],accessors:b,scales:e,renderer:a,showInLegend:!1})}return s}}return u.SERIES_ID_SUFFIX="__thresholds-background",u.\u0275fac=function(t){return new(t||u)(Oi.LFG(vt.mQy))},u.\u0275prov=Oi.Yz7({token:u,factory:u.\u0275fac}),u})(),ur=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=Oi.oAB({type:u}),u.\u0275inj=Oi.cJS({providers:[At.v,ji],imports:[[vt.lam,vt.Ts3,vt.S6I,Y.U8]]}),u})();var Hi=o(42210);const pi="quantity",oi="remainder",Ai="threshold-markers";var Nn=(()=>{return(u=Nn||(Nn={})).Donut="donut",u.Horizontal="horizontal",u.Vertical="vertical",Nn;var u})(),Bn=(()=>{return(u=Bn||(Bn={}))[u.Small=10]="Small",u[u.Large=15]="Large",Bn;var u})(),bi=(()=>{return(u=bi||(bi={}))[u.Small=3]="Small",u[u.Large=4]="Large",bi;var u})(),Gn=(()=>{return(u=Gn||(Gn={})).Warning="warning",u.Critical="critical",Gn;var u})(),Qe=(()=>{return(u=Qe||(Qe={})).Remainder="var(--nui-color-semantic-unknown-bg-hover)",u.Ok="var(--nui-color-chart-one)",u.Warning="var(--nui-color-semantic-warning)",u.Critical="var(--nui-color-semantic-critical)",Qe;var u})();const ir={top:20,right:25,bottom:20,left:25};var Ye=o(35474),Cn=o.n(Ye),_i=o(61135),h=o(77579),_=o(82722),N=o(35281),q=o.n(N),Dt=o(45588),Ft=o.n(Dt),Tt=o(12498),Xt=o.n(Tt);function zt(u,n){n&&0!==n.length&&(ee()(n[0])?(u.domain(n[0]),(0,it.Il)(u)&&zt(u.innerScale,n.slice(1))):u.domain(n))}class Qt{constructor(n){this.chart=n,this._chartSeriesSet=[],this.dataIndex={},this._scalesIndexByKey={},this._scalesIndexById={}}get chartSeriesSet(){return this._chartSeriesSet}get scalesIndexByKey(){return this._scalesIndexByKey}get scalesIndexById(){return this._scalesIndexById}update(n){const t=q()(n.map(e=>e.id),(e,i,s)=>Ft()(s,e,i+1));t.length>0&&console.warn("Series set contains duplicate IDs:",t),this._chartSeriesSet=n||[],this.dataIndex=Xt()(this._chartSeriesSet,e=>e.id),this._scalesIndexByKey=this.buildScalesIndex(this._chartSeriesSet),this._scalesIndexById=Xt()(X()(ye()(this._scalesIndexByKey).map(e=>e.list)),e=>e.id)}getChartSeries(n){return this.dataIndex[n]}updateScaleDomain(n,t){var e,i;if(!n.isDomainFixed&&n.domainCalculator){const s=this.chartSeriesSet.filter(a=>a.scales[t]===n&&!a.renderer.config.ignoreForDomainCalculation).filter(a=>a.renderState!==Bt.L.hidden);if(s.length||(null===(i=null===(e=this.chart)||void 0===e?void 0:e.configuration)||void 0===i?void 0:i.updateDomainForEmptySeries)){const a=n.domainCalculator(s,t,n);zt(n,a)}}}buildScalesIndex(n){const t={};return Cn()(n,e=>{Cn()(Object.keys(e.scales),i=>{const s=e.scales[i];let a=t[i];a||(a={index:{},list:[]},t[i]=a),a.index[s.id]||(a.index[s.id]=s,a.list.push(s))})}),t}updateScaleDomains(){Cn()(Object.keys(this._scalesIndexByKey),n=>{Cn()(this._scalesIndexByKey[n].list,t=>{this.updateScaleDomain(t,n)})})}}var Jt=o(10866),be=o(64509),Re=o.n(be);class Ie{constructor(n,t){this.lasagna=n,this.dataManager=t,this.interactionDataPointsSubject=new h.x,this.rendererSubject=new h.x,this.highlightedDataPoints={},this.renderLayers={},this.layerIndex={},this.highlightDataPointSubscription=this.rendererSubject.subscribe(e=>{e.eventName===gt.Rj&&this.highlightDataPoint(e.data.seriesId,e.data.index)})}update(){const n={};Cn()(this.dataManager.chartSeriesSet,t=>{const e=this.getSeriesChildContainers(t.id);-1===Object.values(t.scales).findIndex(s=>{if(void 0===n[s.id]){const a=s.isDomainValid();a||console.warn("Invalid scale domain detected for scale:",s),n[s.id]=a}return!n[s.id]})&&t.renderer.draw({dataSeries:t,containers:e,scales:t.scales},this.rendererSubject)})}updateSeriesContainers(){this.layerIndex=this.buildLayerIndex(this.dataManager.chartSeriesSet),this.removeUnusedLayers(),this.addNeededLayers(),this.updateLayerContents()}emitInteractionDataPoints(n){let t=!1;const e=this.dataManager.chartSeriesSet.reduce((i,s)=>{const a={};Cn()(Object.keys(n.values),E=>{a[E]=Ne.getInteractionValues(n.values[E],s.scales[E].id)});let c=gt.Vg;s.data&&s.data.length>0&&(c=s.renderer.getDataPointIndex(s,a,s.scales));const f=s.renderer.getDataPointPosition(s,c,s.scales),b={seriesId:s.id,dataSeries:s,index:c,data:c>=0?s.data[c]:null,position:f};if(n.interactionType===en.s.MouseMove){const E=this.highlightedDataPoints[s.id];!Te()(c)&&(Te()(E)||c===gt.Vg||c!==E.index)&&(t=!0,this.rendererSubject.next({eventName:gt.Rj,data:b}))}return i[s.id]=b,i},{});(n.interactionType!==en.s.MouseMove||t)&&this.interactionDataPointsSubject.next({interactionType:n.interactionType,dataPoints:e}),t&&(this.highlightedDataPoints=e)}highlightDataPoint(n,t){const e=this.getSeriesChildContainers(n),i=this.dataManager.getChartSeries(n);i.renderer.highlightDataPoint({dataSeries:i,containers:e,scales:i.scales,parentContainer:this.renderLayers.data},t,this.rendererSubject)}setSeriesStates(n){Cn()(n,({seriesId:t,state:e})=>{const i=this.dataManager.getChartSeries(t);if(!i)return;const s=this.getSeriesChildContainers(t),a=i.renderer.getContainerStateStyles(e);Cn()(ye()(s),c=>{c.attrs(a)}),i.renderer.setSeriesState(s,e)})}destroy(){this.highlightDataPointSubscription&&this.highlightDataPointSubscription.unsubscribe(),this.rendererSubject&&this.rendererSubject.complete()}buildLayerIndex(n){const t={};return Cn()(n,e=>{Cn()(e.renderer.getRequiredLayers(),i=>{if(gt.rz[i.name]&&!Re()(gt.rz[i.name],i))throw new Error(`Custom definition detected for render layer "${i.name}". Custom layers must use a name not already taken by the predefined layer set.`);let s=t[i.name];s||(s={seriesUsing:[],layerDefinition:i},t[i.name]=s),s.seriesUsing.push(e)})}),t}removeUnusedLayers(){Cn()(Object.keys(this.renderLayers),n=>{this.layerIndex[n]||(this.lasagna.removeLayer(n),delete this.renderLayers[n])})}addNeededLayers(){Cn()(this.layerIndex,n=>{this.renderLayers[n.layerDefinition.name]||(this.renderLayers[n.layerDefinition.name]=this.lasagna.addLayer(n.layerDefinition))})}updateLayerContents(){Cn()(Object.keys(this.renderLayers),n=>{const e=this.renderLayers[n].selectAll("g.data-series-container").data(this.layerIndex[n].seriesUsing,i=>i.id).order();e.enter().append("g").attrs({id:i=>this.getChildContainerId(n,i.id),class:"data-series-container"}),e.exit().remove()})}getSeriesChildContainers(n){const t={};return Cn()(Object.keys(this.renderLayers),e=>{t[e]=this.renderLayers[e].selectAll(`#${e}-${Ne.cssEscape(n)}`)}),t}getChildContainerId(n,t){return n+"-"+t}}var Hn=o(47708);class Qn extends Hn.w{constructor(){super(...arguments),this.isChartInView=!0,this.destroy$=new h.x}initialize(){this.renderEngine=this.chart.getRenderEngine(),this.chart.getEventBus().getStream(gt.hk).pipe((0,_.R)(this.destroy$)).subscribe(n=>{this.lastInteractionValuesPayload=n.data,this.isChartInView&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)}),this.renderEngine.interactionDataPointsSubject.pipe((0,_.R)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(gt.C1).next({data:n})}),this.renderEngine.rendererSubject.pipe((0,_.R)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(n.eventName).next({data:n.data})}),this.chart.getEventBus().getStream(gt._7).pipe((0,_.R)(this.destroy$)).subscribe(n=>{this.isChartInView=n.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)})}update(){this.renderEngine.updateSeriesContainers(),this.renderEngine.update()}updateDimensions(){this.renderEngine.update()}destroy(){this.renderEngine.destroy(),this.destroy$.next(),this.destroy$.complete()}}class Mi{constructor(n,t){if(this.grid=n,this.configuration=t,this.eventBus=new Jt.N,this.updateSubject=new _i.X([]),this.updateDimensionsSubject=new h.x,this.seriesStatesSubject=new _i.X([]),this.plugins=[],!n)throw new Error("Grid has to be defined!");n.updateChartDimensionsSubject=this.updateDimensionsSubject,n.eventBus=this.eventBus}getEventBus(){return this.eventBus}getDataManager(){return this.dataManager}getRenderEngine(){return this.renderEngine}getGrid(){return this.grid}addPlugin(n){n.chart=this,this.plugins.push(n)}removePlugin(n){const t=this.plugins.findIndex(e=>e instanceof n);-1!==t&&(this.plugins[t].destroy(),this.plugins.splice(t,1))}addPlugins(...n){for(const t of n)this.addPlugin(t)}removePlugins(...n){for(const t of n)this.removePlugin(t)}hasPlugin(n){return-1!==this.plugins.findIndex(t=>t instanceof n)}build(n){this.element=n,this.target=(0,C.Z)(this.element).append("svg").attrs({class:"nui-chart",height:"100%",width:"100%"}),this.configureCssFilters(),this.buildGrid(),this.dataManager=this.buildDataManager(),this.renderEngine=this.buildRenderEngine(this.grid.getLasagna(),this.dataManager);const t=new Qn;t.chart=this,this.plugins.unshift(t);for(const i of this.getGrid().buildPlugins(this))this.addPlugin(i);this.initialize();const e=()=>(0,_.R)(this.getEventBus().getStream(gt.wu));this.updateSubject.pipe(e()).subscribe(i=>this.onUpdate(i)),this.updateDimensionsSubject.pipe(e()).subscribe(()=>this.onUpdateDimensions()),this.seriesStatesSubject.pipe(e()).subscribe(i=>this.onSetSeriesStates(i))}configureCssFilters(){var n,t;this.filterDefs=null===(n=this.target)||void 0===n?void 0:n.append("defs"),null===(t=this.filterDefs)||void 0===t||t.append("filter").attr("id",Ii.Grayscale).append("feColorMatrix").attr("type","matrix").attr("values","\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0      0      0      1 0\n")}buildDataManager(){return new Qt(this)}buildGrid(){this.target&&(this.grid.target(this.target),this.grid.build(),this.updateTargetDimensions(this.grid.config().dimension))}buildRenderEngine(n,t){return new Ie(n,t)}update(n){this.updateSubject.next(n)}updateDimensions(){this.updateDimensionsSubject.next()}initialize(){Cn()(this.plugins,n=>{n.initialize()})}destroy(){var n;this.eventBus.getStream(gt.wu).next({data:null}),this.eventBus.destroy(),this.plugins.forEach(t=>t.destroy()),null===(n=this.target)||void 0===n||n.remove(),this.target=void 0}setSeriesStates(n){this.seriesStatesSubject.next(n),this.eventBus.getStream(gt.GJ).next({data:n})}onUpdate(n){this.dataManager.update(n),this.grid.scales=this.dataManager.scalesIndexByKey,this.dataManager.updateScaleDomains(),this.grid.updateRanges(),this.plugins.forEach(t=>t.update())}onUpdateDimensions(){const n=this.grid.config().dimension;this.updateTargetDimensions(n);const t={};n.autoHeight&&(t.height=this.element.clientHeight),n.autoWidth&&(t.width=this.element.clientWidth),this.grid.updateDimensions(t),this.plugins.forEach(e=>e.updateDimensions())}updateTargetDimensions(n){var t,e;n.autoHeight||null===(t=this.target)||void 0===t||t.style("height",n.outerHeight()+"px"),n.autoWidth||null===(e=this.target)||void 0===e||e.style("width",n.outerWidth()+"px")}onSetSeriesStates(n){this.renderEngine.setSeriesStates(n)}}var cr=o(39646),hr=o(39300),yr=o(54004),br=o(63900),vi=(()=>{return(u=vi||(vi={})).ToggleSeries="ToggleSeries",u.ResetVisibleSeries="ResetVisibleSeries",u.EmphasizeSeries="EmphasizeSeries",vi;var u})();class dr{constructor(n,t,e=Bt.L.default,i=!0){this.seriesId=n,this.series=t,this.emphasisState=e,this.visible=i}get state(){return this.visible?this.emphasisState:Bt.L.hidden}}class l{constructor(n,t,e=function sn(){return new $n(Ve())}(),i=$e()){this.chart=n,this.palette=e,this.markers=i,this.isLegendActive=!1,this.inputSeriesSet=[],this.legendSeriesSet=[],this.chartAssistSubject=new h.x,this.toggleSeries=(s,a)=>{this.legendInteractionAssist.setGroupVisibility(s,a),this.update(this.inputSeriesSet,!1),this.chartAssistSubject.next({type:vi.ToggleSeries,payload:{seriesId:s,visible:a}})},this.resetVisibleSeries=()=>{this.legendInteractionAssist.resetSeries(),this.publishRenderStates(),this.chartAssistSubject.next({type:vi.ResetVisibleSeries,payload:{}})},this.emphasizeSeries=s=>{this.legendInteractionAssist.emphasizeSeries(s),this.publishRenderStates(),this.chartAssistSubject.next({type:vi.EmphasizeSeries,payload:{seriesId:s}})},this.getVisibleSeriesWithLegend=()=>this.legendSeriesSet.filter(s=>!this.isSeriesHidden(s.id)),this.configureChartEventSubscriptions(n.getEventBus()),t&&(this.seriesProcessor=t),this.legendInteractionAssist=new g(this),this.syncHandlerMap={[vi.EmphasizeSeries]:this.emphasizeSeries,[vi.ResetVisibleSeries]:this.resetVisibleSeries,[vi.ToggleSeries]:this.toggleSeries}}static getLabel(n,t,e,i,s){var a;if(!t||0===n.data.length)return null;const c=null===(a=n.accessors.data)||void 0===a?void 0:a[s||e];if(!c)return null;const f=t.index<0?n.data.length-1:t.index,E=c(n.data[f],f,n.data,n),H=n.scales[e];if(!H||!i)return E;const ct=H.formatters[i];return ct?ct(E):E}get renderStatesIndex(){return this.legendInteractionAssist.renderStatesIndex}legendLabelData$(n){return this.chart.getEventBus().getStream(gt.C1).asObservable().pipe((0,hr.h)(i=>i.data.interactionType===en.s.MouseMove),(0,yr.U)(i=>i.data.dataPoints[n.id])).pipe((0,br.w)(i=>(i=>i&&i.index>=0)(i)?(0,cr.of)(i.data):(0,cr.of)(n.data&&n.data.length?n.data[n.data.length-1]:null)))}seriesProcessor(n){return n}update(n,t=!0){this.inputSeriesSet=n;const e=this.seriesProcessor(n.map(s=>Object.assign(Object.assign({},s),{data:s.data||[]})));this.legendSeriesSet=e.filter(s=>s.showInLegend||void 0===s.showInLegend),t&&this.legendInteractionAssist.update(e);const i=e.map(s=>{var a;return Object.assign({renderState:null===(a=this.renderStatesIndex[s.id])||void 0===a?void 0:a.state},s)});this.chart.update(i),this.publishRenderStates()}isSeriesHidden(n){return this.legendInteractionAssist.isSeriesHidden(n)}seriesTrackByFn(n,t){return t.id}getHighlightedValue(n,t,e,i){if(this.highlightedDataPoints)return l.getLabel(n,this.highlightedDataPoints[n.id],t,e,i)}syncWithChartAssist(n){this.getVisibleSeriesWithLegendBackup=this.getVisibleSeriesWithLegend,this.getVisibleSeriesWithLegend=n.getVisibleSeriesWithLegend,this.syncSubscription=n.chartAssistSubject.pipe((0,_.R)(n.chart.getEventBus().getStream(gt.wu))).subscribe(t=>{const e=Object.keys(t.payload).map(i=>t.payload[i]);this.syncHandlerMap[t.type](...e)})}unsyncChartAssist(){this.getVisibleSeriesWithLegend=this.getVisibleSeriesWithLegendBackup,this.syncSubscription&&this.syncSubscription.unsubscribe()}configureChartEventSubscriptions(n){const t={[gt.C1]:e=>{e.interactionType===en.s.MouseMove&&(this.highlightedDataPoints=Object.assign({},e.dataPoints))},[gt.TC]:e=>{e.index>=0?this.emphasizeSeries(e.seriesId):this.resetVisibleSeries()},[gt.CC]:e=>{this.isLegendActive=e}};Cn()(Object.keys(t),e=>{n.getStream(e).subscribe(i=>{t[e](i.data),this.onEvent&&this.onEvent(i)})})}publishRenderStates(){this.chart.setSeriesStates(this.legendInteractionAssist.getSeriesStates())}}class g{constructor(n){this.chartAssist=n,this.seriesGroups={},this.renderStatesIndex={}}update(n){this.seriesGroups=this.getSeriesGroups(n),this.seriesIndex=Xt()(n,t=>t.id),this.resetSeries();for(const t of n.filter(e=>e.renderState))this.renderStatesIndex[t.id]=new dr(t.id,t,t.renderState===Bt.L.hidden?Bt.L.default:t.renderState,t.renderState!==Bt.L.hidden)}getSeriesStates(){return ye()(this.renderStatesIndex)}isSeriesHidden(n){const t=this.renderStatesIndex[n];return t&&!t.visible}getSeriesGroups(n){const t={};for(const e of n){const i=e.id.indexOf("__"),s=i>=0?e.id.substring(0,i):e.id;t[s]||(t[s]=[]),t[s].push(e.id)}return t}setGroupState(n,t){if(this.seriesGroups[n])for(const e of this.seriesGroups[n])this.setRenderState(e,t)}setGroupVisibility(n,t){if(this.seriesGroups[n])for(const e of this.seriesGroups[n])this.setVisibility(e,t)}emphasizeSeries(n){for(const t of Object.keys(this.seriesGroups))this.setGroupState(t,t===n?Bt.L.emphasized:Bt.L.deemphasized)}resetSeries(){const n=this.chartAssist.getVisibleSeriesWithLegend();if(1===n.length)this.emphasizeSeries(n[0].id);else for(const e of Object.keys(this.seriesGroups))this.setGroupState(e,Bt.L.default)}setRenderState(n,t){let e=this.renderStatesIndex[n];e?e.emphasisState=t:(e=new dr(n,this.seriesIndex[n],t),this.renderStatesIndex[n]=e)}setVisibility(n,t){let e=this.renderStatesIndex[n];e?e.visible=t:(e=new dr(n,this.seriesIndex[n],Bt.L.default,t),this.renderStatesIndex[n]=e)}}class p{constructor(){this._width=0,this._height=0,this.margin={top:0,right:0,bottom:0,left:0},this.padding={top:0,right:0,bottom:0,left:0},this.marginLocked={top:!1,right:!1,bottom:!1,left:!1},this.autoWidth=!0,this.autoHeight=!0}width(n){return void 0===n?this._width:(this._width=n,this)}height(n){return void 0===n?this._height:(this._height=n,this)}outerWidth(n){const t=this.margin.right+this.margin.left;return void 0===n?this._width+t:(this._width=Math.max(n-t,0),this)}outerHeight(n){const t=this.margin.top+this.margin.bottom;return void 0===n?this._height+t:(this._height=Math.max(n-t,0),this)}}function M(u,n){var t,e;const i=u.text(),s=i.split(""),a=u.text("").append("tspan").attr("class",`${gt.N0} ellipsis`).text("..."),c=u.insert("tspan",":first-child").attr("class",`${gt.N0} text`).text(i),f=n.ellipsisWidth+2*n.horizontalPadding,b=s.length;let E=((null===(t=null==c?void 0:c.node())||void 0===t?void 0:t.getComputedTextLength())||0)+2*n.horizontalPadding;for(;s.length&&(E>n.widthLimit||" "===s[s.length-1]);)s.pop(),c.text(s.join("")),E=f+((null===(e=null==c?void 0:c.node())||void 0===e?void 0:e.getComputedTextLength())||0);s.length===b&&a.remove()}class w{constructor(){this.visible=!0,this.gridTicks=!1,this.tickSize=5,this.tickLabel={horizontalPadding:0,overflowHandler:M},this.fit=!1,this._approximateTicks=5,this.padding=0}get approximateTicks(){return this._approximateTicks}set approximateTicks(n){this._approximateTicks=parseInt(n,10)}}class P{constructor(n){this.className=n,this.visible=!0}}class U{constructor(){this.interactive=!0,this.dimension=new p,this.borders={top:void 0,bottom:void 0,left:void 0,right:void 0},this.cursor="crosshair",this.disableRenderAreaHeightCorrection=!1,this.disableRenderAreaWidthCorrection=!1}}let j=(()=>{class u extends U{constructor(){super(),this.axis={top:new w,right:new w,bottom:new w,left:new w},this.interactionPlugins=!0,this.dimension.padding=Object.assign({},u.DEFAULT_PADDING),this.dimension.margin=Object.assign({},u.DEFAULT_MARGIN),this.borders.bottom=new P("nui-chart-border nui-chart-border--thick"),this.borders.left=new P("nui-chart-border nui-chart-border--thick"),this.borders.left.visible=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=0,this.axis.left.padding=10,this.axis.right.fit=!0,this.axis.right.tickSize=0,this.axis.right.padding=10,this.axis.bottom.tickLabel.horizontalPadding=5}}return u.DEFAULT_MARGIN={top:0,right:5,bottom:20,left:30},u.DEFAULT_PADDING={left:0,right:0,top:5,bottom:5},u})();var V=o(56859),mt=o(11094),ft=o.n(mt),tt=o(33816),Et=o.n(tt),dt=o(61746),F=o(66073);let yt=(()=>{class u{constructor(t,e,i,s){this.target=t,this.interactiveArea=e,this.gridMargin=s,this.active=new _i.X(!1),this.interaction=new _i.X({type:en.s.Click,coordinates:{x:0,y:0}}),this.isActive=!1,this.onMouseInteraction=a=>{var c,f;if(dt.B.target.classList.contains(gt.N0))return;let b=0,E=0;const H=parseInt(this.interactiveArea.attr("width"),10)||0,ct=parseInt(this.interactiveArea.attr("height"),10)||0;if(/firefox/i.test(navigator.userAgent)){let Ut=b+dt.B.offsetX-((null===(c=this.gridMargin)||void 0===c?void 0:c.left)||0);Ut=Ut>H?H:Ut,b=Ut<0?0:Ut;let Wt=E+dt.B.offsetY-((null===(f=this.gridMargin)||void 0===f?void 0:f.top)||0);Wt=Wt>ct?ct:Wt,E=Wt<0?0:Wt}else{const Ut=(0,F.Z)(dt.B.currentTarget),Wt=Ut[0]>H?H:Ut[0];b=Wt<0?0:Wt;const Zt=Ut[1]>ct?ct:Ut[1];E=Zt<0?0:Zt}this.interaction.next({type:a,coordinates:{x:b,y:E}})},this.onMouseOver=()=>{this.isActive||dt.B.target.classList.contains(gt.N0)||(this.isActive=!0,this.active.next(!0))},this.onMouseOut=()=>{if(!this.isActive)return;let a=dt.B.relatedTarget;for(;a;){if(a===this.target.node())return;a=a.parentNode}this.isActive=!1,this.active.next(!1)},this.onMouseEnter=()=>{this.onMouseOver()},this.onMouseLeave=()=>{this.onMouseOut()},this.interactiveArea.style("cursor",i).classed(u.CONTAINER_CLASS,!0),this.target.on("mouseover",this.onMouseOver).on("mouseout",this.onMouseOut).on(en.s.MouseDown,()=>this.onMouseInteraction(en.s.MouseDown)).on(en.s.MouseUp,()=>this.onMouseInteraction(en.s.MouseUp)).on(en.s.MouseMove,()=>this.onMouseInteraction(en.s.MouseMove)).on(en.s.Click,()=>this.onMouseInteraction(en.s.Click))}}return u.CONTAINER_CLASS="mouse-interactive-area",u})();var st=o(73943),Ot=o.n(st),Rt=o(93205),ae=o(91237),Le=o.n(ae);const He=(u,n,t)=>{const e=function We(u,n){return u.reduce((t,e)=>{for(const i of Object.keys(e.scales)){if(i===n)continue;const s=e.scales[i];!s.isDomainFixed||(t[i]||(t[i]=[]),-1===Le()(t[i],s)&&t[i].push(s))}return t},{})}(u,n);return function Fe(u,n){if(n.isContinuous()){const e=u.filter(a=>a!==it.iz);return 0===e.length?it.iz:[(0,V.VV$)(e.filter(a=>void 0!==typeof a[0]).map(a=>a[0])),(0,V.Fp7)(e.filter(a=>void 0!==typeof a[1]).map(a=>a[1]))]}const t=Math.max(...u.map(e=>e.length));return Array.from(Array(t)).map((e,i)=>{const s=u.map(a=>i<a.length?a[i]:[]);return Gt()(X()(s))})}(u.map(s=>{const a=Object.keys(e).reduce((c,f)=>{const b=s.scales[f];return b&&b.isContinuous()&&-1!==Le()(e[f],b)&&(c[f]=b),c},{});return s.renderer.getDomainOfFilteredData(s,a,n,s.scales[n])}),t)},Se=u=>(n,t,e)=>{const i=He(n,t,e);return[Math.min(i[0],u[0]),Math.max(i[1],u[1])]};class ge{constructor(n){this.domainCalculator=He,this.formatters={},this.isTimeseriesScale=!1,this.isReversed=!1,this._fixDomainValues=[],this.id=n||Ne.uuid(),this._d3Scale=this.createD3Scale()}get d3Scale(){return this._d3Scale}get fixDomainValues(){return this._fixDomainValues}setFixDomainValues(n){n.length>1&&(this.domain([n[0],n[n.length-1]]),this.isDomainFixed=!0),this._fixDomainValues=n}range(n){return n?(this._d3Scale.range(this.isReversed?n.reverse():n),this):this._d3Scale.range()}domain(n){return n?(this._d3Scale.domain(n),this):this._d3Scale.domain()}fixDomain(n){return this.domain(n),this.isDomainFixed=!0,this}isDomainValid(){return-1===this.domain().findIndex(n=>void 0===n)}reverse(){return this.reversed(!this.isReversed)}reversed(n){return void 0===n?this.isReversed:(this.isReversed=n,this)}}class De extends ge{constructor(n){super(n),this.formatters.tick=t=>null==t?void 0:t.toLocaleString()}createD3Scale(){return(0,Rt.BY)()}convert(n){return this._d3Scale(n)}invert(n){return this._d3Scale.invert(n)}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(n=>isNaN(n))}}class at extends ge{constructor(n){super(n),this.formatters.tick=t=>{if(Te()(t))throw new Error("Can't format bandFormatScale");return Ot()(t)}}createD3Scale(){return(0,V.tiA)()}convert(n,t=.5){return this._d3Scale(n)+t*this.bandwidth()}invert(n){const t=this._d3Scale.domain();if(this.range()[0]<this.range()[1]){const e=this.getRangeMidPoints(t.map(this._d3Scale));return t[(0,V.b4o)(e,n)]}{const e=this.getRangeMidPoints(t.map((i,s)=>this._d3Scale(t[t.length-1-s])));return t[t.length-1-(0,V.b4o)(e,n)]}}range(n){const t=n?super.range(n):super.range();return n&&this.innerScale&&this.innerScale.range([0,this.bandwidth()]),t}round(n){return n?(this._d3Scale.round(n),this):this._d3Scale.round()}padding(n){return this._d3Scale.paddingInner(n),this._d3Scale.paddingOuter(n/2),this}align(n){return n?(this._d3Scale.align(n),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}step(){return this.domain().length?Math.abs(this.range()[1]-this.range()[0])/this.domain().length:0}copyToLinear(){const n=new De;return n.domain(this.range()).range(this.range()),n}bandTicks(){const n=[],t=this.range()[0],e=this.step();for(let i=0;i<=this.domain().length;i++)n.push(t+i*e);return n}isContinuous(){return!1}getRangeMidPoints(n){return n.slice(1).map(t=>t-this._d3Scale.step()*this._d3Scale.paddingInner()/2)}}var xe=o(62516),Ee=o.n(xe);let cn=(()=>{class u extends Hn.w{constructor(t="title"){super(),this.formatterName=t,this.areLabelUpdatesEnabled=!0,this.isChartInView=!1,this.destroy$=new h.x}initialize(){this.interactionLabelLayer=this.chart.getGrid().getLasagna().addLayer({name:u.LAYER_NAME,order:901,clipped:!1}),this.chart.getEventBus().getStream(gt.hk).pipe((0,_.R)(this.destroy$)).subscribe(t=>{var e;if(null===(e=t.data.values)||void 0===e?void 0:e.y){const i=this.chart.getGrid(),s=Object.keys(t.data.values.y),a=i.scales.y.list[0];if(a.isTimeseriesScale&&!s.includes(a.id))return}this.lastInteractionValuesPayload=t.data,this.isChartInView&&this.handleLabelUpdate()}),this.chart.getEventBus().getStream(gt._7).pipe((0,_.R)(this.destroy$)).subscribe(t=>{this.isChartInView=t.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLabelUpdate()})}handleLabelUpdate(){const t=this.chart.getGrid();if(!(t instanceof qn))throw new Error(`${u.name} requires XYGrid`);const e=t.scales;if(!this.areLabelUpdatesEnabled||this.lastInteractionValuesPayload.interactionType!==en.s.MouseMove||ln()(e))return;const i=Ee()(e.x.index,{id:t.bottomScaleId});if(!i)throw new Error("xScale is not defined");const s=Ne.getInteractionValues(this.lastInteractionValuesPayload.values.x,i.id);this.updateLabel(i,ee()(s)?s.slice(0,s.length-1):s)}updateLabel(t,e){let i=this.interactionLabelLayer.select(`.${u.LAYER_NAME}`);if(i.empty()&&e)i=this.buildInteractionLabel(this.interactionLabelLayer);else if(!e)return void i.remove();const s=t.formatters[this.formatterName]||t.formatters.tick,a=null==s?void 0:s(e);if(!a)throw new Error("labelContent is not defined");const c=i.select("text").text(a);this.elBBox||(this.elBBox=c.node().getBBox());const f=this.chart.getGrid().config().dimension,b=f.height()-this.elBBox.y;c.attr("transform",`translate(0, ${b})`).style("text-anchor","middle");const H=this.elBBox.width+2*(this.elBBox.height+this.elBBox.y),ct=[H/2,f.width()-H/2],Pt=ie(t,e,.5),Ut=Ne.clampToRange(Pt,ct);i.attr("transform",`translate(${Ut},0)`).select("rect").attrs({transform:`translate(0,${b})`,x:-H/2,y:this.elBBox.y,width:H,height:this.elBBox.height})}destroy(){this.chart.getGrid().getLasagna().removeLayer(u.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}buildInteractionLabel(t){const e=t.append("g").attr("class",u.LAYER_NAME);return e.append("rect").attr("class",`${u.LAYER_NAME}__rect`),e.append("text").attr("class",`${u.LAYER_NAME}__text`),e}}return u.LAYER_NAME="interaction-label",u})(),fn=(()=>{class u extends Hn.w{constructor(){super(...arguments),this.isChartInView=!1,this.destroy$=new h.x}initialize(){this.interactionLineLayer=this.chart.getGrid().getLasagna().addLayer({name:"interaction-line",order:900,clipped:!0}),this.chart.getEventBus().getStream(gt.hk).pipe((0,_.R)(this.destroy$)).subscribe(t=>{this.lastInteractionValuesPayload=t.data,this.isChartInView&&this.handleLineUpdate()}),this.chart.getEventBus().getStream(gt._7).pipe((0,_.R)(this.destroy$)).subscribe(t=>{this.isChartInView=t.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLineUpdate()})}handleLineUpdate(){const t=this.chart.getGrid();if(!(t instanceof qn))throw new Error(`${u.name} requires XYGrid`);const e=t.scales;if(this.lastInteractionValuesPayload.interactionType!==en.s.MouseMove||ln()(e))return;const i=Ee()(e.x.index,{id:t.bottomScaleId});if(!i)throw new Error("xScale is not defined");const s=Ne.getInteractionValues(this.lastInteractionValuesPayload.values.x,i.id);this.updateLine(this.interactionLineLayer,i,s)}updateLine(t,e,i){const s=[];i&&s.push(i);const a=t.selectAll(`.${u.LAYER_NAME}`).data(s),c=b=>e.convert(b),f={class:u.LAYER_NAME,x1:c,y1:0,x2:c,y2:this.chart.getGrid().config().dimension.height()};a.enter().append("line").merge(a).attrs(f),a.exit().remove()}destroy(){this.chart.getGrid().getLasagna().removeLayer(u.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}}return u.LAYER_NAME="interaction-line",u})();class Jn extends Hn.w{constructor(n){super(),this.mouseInteractiveArea=n,this.destroy$=new h.x,this.interactionValuesActive=!0}initialize(){this.mouseInteractiveArea.active.pipe((0,_.R)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(gt.CC).next({data:n})}),this.chart.getEventBus().getStream(gt.CC).pipe((0,_.R)(this.destroy$)).subscribe(n=>{!n.data&&this.chart.getDataManager().chartSeriesSet&&this.highlightReset()}),this.chart.getEventBus().getStream(gt.N).pipe((0,_.R)(this.destroy$)).subscribe(n=>this.interactionValuesActive=n.data),this.mouseInteractiveArea.interaction.pipe((0,_.R)(this.destroy$)).subscribe(n=>{const t=this.chart.getGrid().scales;if(!ln()(t)){if(this.interactionValuesActive){const c=Ne.getXYValues(t.x.list,t.y.list,n.coordinates.x,n.coordinates.y);this.chart.getEventBus().getStream(gt.hk).next({data:{interactionType:n.type,values:c}})}this.chart.getEventBus().getStream(gt.DP).next({data:{interactionType:n.type,coordinates:n.coordinates}})}})}update(){this.highlightReset()}updateDimensions(){this.highlightReset()}destroy(){this.destroy$.next(),this.destroy$.complete()}highlightReset(){this.chart.getEventBus().getStream(gt.hk).next({data:{interactionType:en.s.MouseMove,values:{}}})}}var li=o(9120),Ni=o.n(li);let Ei=(()=>{class u{constructor(t,e){this.clipPath=e,this.layers=[],this.container=t.append("g").attr("class",`${u.CONTAINER_CLASS} pointer-events`)}addLayer(t){return this.layers=Ni()(this.layers.concat(t),"order"),this.update(),this.getLayerContainer(t.name)}removeLayer(t){const e=this.layers.findIndex(i=>i.name===t);-1!==e&&(this.layers.splice(e,1),this.update())}getLayerContainer(t){return this.container.select(`.${u.LAYER_CLASS}-${t}`)}getContainer(){return this.container}update(){const t=this.container.selectAll(`g.${u.LAYER_CLASS}`).data(this.layers,e=>e.name).order();t.enter().append("g").attrs({class:e=>`${u.LAYER_CLASS} ${u.LAYER_CLASS}-${e.name}`,"clip-path":e=>e.clipped?`url(#${this.clipPath})`:"","pointer-events":"none"}),t.exit().remove()}}return u.CONTAINER_CLASS="lasagna-container",u.LAYER_CLASS="lasagna-layer",u})();const jn=.5;let zn=(()=>{class u{constructor(){this.borders={},this.adjustRenderingArea=()=>{const t=this.config().dimension,e=this.config().disableRenderAreaHeightCorrection,i=this.config().disableRenderAreaWidthCorrection,s={width:Math.max(0,t.width()),height:Math.max(0,t.height()+(e?0:u.RENDER_AREA_HEIGHT_CORRECTION))};e||(s.y=-u.RENDER_AREA_HEIGHT_CORRECTION);const a=Object.assign(Object.assign({},s),{width:Math.max(0,t.width()-(i?0:u.RENDER_AREA_WIDTH_CORRECTION))});this.renderingAreaClipPath.attrs(s),this.renderingArea.attrs(a)}}getInteractiveArea(){return this.interactiveArea}getLasagna(){return this.lasagna}set scales(t){this._scales=t}get scales(){return this._scales}config(t){return void 0===t?this._config:(this._config=t,this)}target(t){return void 0===t?this._target:(this._target=t,this)}build(){if(!this.config()){const i=new U;this.config(i)}this.container=this._target.append("g").attrs({class:u.GRID_CLASS_NAME});const t=u.RENDERING_AREA_CLIP_PATH_PREFIX+Ne.uuid();this.lasagna=new Ei(this.container,t),this.renderingArea=this.buildRenderingArea(t),this.adjustRenderingArea(),this.gridElementsLayer=this.lasagna.addLayer({name:u.GRID_ELEMENTS_LAYER_NAME,order:100,clipped:!1});const e=this.buildBorders(this.gridElementsLayer);return e&&(this.borders=e),this}buildPlugins(t){return[]}update(){return ln()(this.scales)||(this.updateBorders(),this.adjustRenderingArea()),this}updateDimensions(t){const e=this.config().dimension;return t.width&&e.outerWidth(t.width-this.getOuterWidthDimensionCorrection()),t.height&&e.outerHeight(t.height),this.adjustRenderingArea(),this.updateRanges(),this}updateRanges(){return this.update(),this}getOuterWidthDimensionCorrection(){return u.TICK_DIMENSION_CORRECTION}buildBorders(t){if(!this.config()||!this.config().borders)return;const e=this.config().borders,i={},s=Object.keys(e);return Cn()(s,a=>{var c;e[a]&&(i[a]=null!==(c=this.createBorder(t,e[a]))&&void 0!==c?c:void 0)}),i}buildRenderingArea(t){return this.renderingAreaClipPath=this._target.append("clipPath").attr("id",t).append("rect"),this.lasagna.addLayer({name:u.RENDERING_AREA_LAYER_NAME,order:-1,clipped:!0}).append("rect").attrs({"pointer-events":"all",fill:"transparent"})}createBorder(t,e){const i=t.append("line").attr("class",e.className||u.DEFAULT_BORDER_CLASS_NAME);return e.width&&i.style("stroke-width",e.width),e.color&&i.style("stroke",e.color),i.node()}updateBottomBorder(){var t;if(!this.borders.bottom)throw new Error("BottomBorder is not defined");(0,C.Z)(this.borders.bottom).attrs({x1:0,y1:this.config().dimension.height()-jn,x2:this.config().dimension.width()+u.TICK_DIMENSION_CORRECTION,y2:this.config().dimension.height()-jn,class:this._config.borders.bottom.className||u.DEFAULT_BORDER_CLASS_NAME}).classed("hidden",!(null===(t=this._config.borders.bottom)||void 0===t?void 0:t.visible))}updateBorders(){var t,e,i;this.borders.bottom&&this.updateBottomBorder(),this.borders.top&&(0,C.Z)(this.borders.top).attrs({x1:0,y1:jn,x2:this.config().dimension.width()+u.TICK_DIMENSION_CORRECTION,y2:jn}).classed("hidden",!(null===(t=this._config.borders.top)||void 0===t?void 0:t.visible)),this.borders.right&&(0,C.Z)(this.borders.right).attrs({x1:this.config().dimension.width()-jn,y1:0,x2:this.config().dimension.width()-jn,y2:this.config().dimension.height()+u.TICK_DIMENSION_CORRECTION}).classed("hidden",!(null===(e=this._config.borders.right)||void 0===e?void 0:e.visible)),this.borders.left&&(0,C.Z)(this.borders.left).attrs({x1:jn,y1:0,x2:jn,y2:this.config().dimension.height()+u.TICK_DIMENSION_CORRECTION}).classed("hidden",!(null===(i=this._config.borders.left)||void 0===i?void 0:i.visible))}}return u.GRID_CLASS_NAME="nui-chart-grid",u.DEFAULT_BORDER_CLASS_NAME="nui-chart-border",u.RENDERING_AREA_CLIP_PATH_PREFIX="clip-path_",u.GRID_ELEMENTS_LAYER_NAME="grid-elements",u.RENDERING_AREA_LAYER_NAME="rendering-area",u.RENDER_AREA_HEIGHT_CORRECTION=1,u.RENDER_AREA_WIDTH_CORRECTION=1,u.TICK_DIMENSION_CORRECTION=1,u})(),qn=(()=>{class u extends zn{constructor(t){super(),this.axisX={},this.axisYLeft={},this.axisYRight={},this.gridY={},this.gridX={},this.handleTickLabelOverflowDebounceIndex={},this.isApproximatelyEqual=(e,i)=>Math.abs(e-i)<.1,this.config(t||new j)}get bottomScaleId(){return this._bottomScaleId?this._bottomScaleId:ln()(this.scales)?void 0:this.scales.x.list[0].id}set bottomScaleId(t){this._bottomScaleId=t}get leftScaleId(){return this._leftScaleId?this._leftScaleId:ln()(this.scales)?void 0:this.scales.y.list[0].id}set leftScaleId(t){this._leftScaleId=t}get rightScaleId(){return this._rightScaleId}set rightScaleId(t){this._rightScaleId=t}set scales(t){this._scales=t,this._scales&&Object.keys(this._scales).forEach(e=>{var i,s;let c,a=this.config().axis.left;"x"!==e&&"y"!==e||null===(s=null===(i=this._scales[e])||void 0===i?void 0:i.list)||void 0===s||s.filter(f=>f instanceof De).forEach(f=>{(null==f?void 0:f.id)===this.leftScaleId?(a=this.config().axis.left,c=V.y4O):(null==f?void 0:f.id)===this.rightScaleId?(a=this.config().axis.right,c=V.Khx):(null==f?void 0:f.id)===this.bottomScaleId&&(a=this.config().axis.bottom,c=V.LLu),f.domainCalculator&&!(0,it._v)(f.domainCalculator)&&a.gridTicks&&(f.__domainCalculatedWithTicks=!0,f.domainCalculator=((u,n,t)=>{const e=(i,s,a)=>{const c=t(i,s,a),f=ot()(a);zt(f,c);const E=n(f.d3Scale).scale().ticks(u.approximateTicks);if(E.length<=1)return c;const H=E[1]-E[0];return E[0]>c[0]&&(c[0]=E[0]-H),E[E.length-1]<c[1]&&(c[1]=E[E.length-1]+H),c};return e.domainWithTicks=!0,e})(a,c,f.domainCalculator))})})}get scales(){return this._scales}config(t){return void 0===t?this._config:(this._config=t,this)}build(){return super.build(),this.config().interactive&&(this.interactiveArea=this.renderingArea),this.buildAxes(this.gridElementsLayer),this.recalculateMargins(this.container),this.eventBus.getStream(gt.GJ).pipe((()=>(0,_.R)(this.eventBus.getStream(gt.wu)))()).subscribe(e=>{const i=this.handleSeriesStateChange(e);this.eventBus.getStream(gt.mg).next({data:i})}),this}handleSeriesStateChange(t){var e;if(!this.rightScaleId)return;const i=[{scaleId:this.leftScaleId,element:this.axisYLeft.group},{scaleId:this.rightScaleId,element:null===(e=this.axisYRight)||void 0===e?void 0:e.group}],s=this.calculateAxesStyles(t,i);for(const a of i)a.scaleId&&a.element.attrs(s[a.scaleId]);return s}calculateAxesStyles(t,e){const s=t.data.filter(a=>a.state===Bt.L.emphasized&&a.series).map(a=>a.series);if(s.length>0){const a=Gt()(s.map(c=>null==c?void 0:c.scales.y).filter(c=>!!c));if(a.length<=0)return{};for(const c of a)if(c.id===this.leftScaleId||c.id===this.rightScaleId)return e.reduce((f,b)=>(f[b.scaleId]={opacity:c.id===b.scaleId?1:.1},f),{});return{}}return e.reduce((a,c)=>(a[c.scaleId]={opacity:1},a),{})}buildPlugins(t){const e=[],i=this.config();return i.interactive&&e.push(new Jn(new yt(this.getLasagna().getContainer(),this.getInteractiveArea(),i.cursor,i.dimension.margin))),i.interactionPlugins&&(e.push(new fn),e.push(new cn)),e}update(){return super.update(),this.updateAxes(),this.handleMarginUpdate(),this}drawTicks(t,e,i,s){var a,c;if(t.visible){const f=s(i.d3Scale).ticks(t.approximateTicks).tickSize(0);let b;(null===(a=i.fixDomainValues)||void 0===a?void 0:a.length)&&f.tickValues(i.fixDomainValues),f.tickFormat(i.formatters.tick),e.labelGroup.call(f),i instanceof at?b=s(i.copyToLinear().d3Scale).tickSize(t.tickSize).tickValues(i.bandTicks()).tickFormat(()=>""):(b=s(i.d3Scale).tickSize(t.tickSize),(null===(c=i.fixDomainValues)||void 0===c?void 0:c.length)&&b.tickValues(i.fixDomainValues),b.tickFormat(()=>""),b.ticks(t.approximateTicks)),e.tickGroup.call(b),this.adjustAxisTicks(e.labelGroup,i)}else e.labelGroup.selectAll("*").remove(),e.tickGroup.selectAll("*").remove()}drawGrids(t,e,i,s,a){var c;const b=i(s.d3Scale).tickSize(a);(null===(c=s.fixDomainValues)||void 0===c?void 0:c.length)&&b.tickValues(s.fixDomainValues),b.tickFormat(()=>"").ticks(t.approximateTicks),t.gridTicks?e.tickGroup.call(b).selectAll(".tick line").classed("nui-zero-line",H=>0===H):e.tickGroup.selectAll("*").remove()}updateRanges(){if(ln()(this.scales))return this;const t=this.config().dimension,e=t.padding;return this.scales.x&&Cn()(this.scales.x.list,i=>{i.range([e.left,t.width()-e.right])}),this.scales.y&&Cn()(this.scales.y.list,i=>{i.range([t.height()-e.bottom,e.top])}),super.updateRanges(),this}updateXAxis(){const t=this.bottomScaleId?this.scales.x.index[this.bottomScaleId]:void 0,e=this.config().axis;if(!t)throw new Error("xScale is not defined");this.axisX.group.attr("transform",`translate(0, ${this.config().dimension.height()})`),this.axisX.labelGroup.attr("transform",`translate(0, ${e.bottom.tickSize})`),this.drawTicks(e.bottom,this.axisX,t,V.LLu),this.drawGrids(e.bottom,this.gridX,V.F5q,t,this.config().dimension.height()),this.gridX.tickGroup.attr("transform",`translate(0, ${this.config().dimension.height()})`)}updateYAxes(){const t=this.config().axis,e=this.leftScaleId?this.scales.y.index[this.leftScaleId]:void 0;if(!e)throw new Error("yLeftScale is not defined");if(this.axisYLeft.labelGroup.attr("transform",`translate(${-t.left.tickSize-t.left.padding}, 0)`),this.drawTicks(t.left,this.axisYLeft,e,V.y4O),this.drawGrids(t.left,this.gridY,V.Khx,e,this.config().dimension.width()),this.rightScaleId){const i=this.scales.y.index[this.rightScaleId],s=t.right.padding+this.config().dimension.width()+t.right.tickSize;this.axisYRight.labelGroup.attr("transform",`translate(${s}, 0)`),this.axisYRight.tickGroup.attr("transform",`translate(${this.config().dimension.width()}, 0)`),this.drawTicks(t.right,this.axisYRight,i,V.Khx)}}updateAxes(){!this.target()||(this.updateXAxis(),this.updateYAxes())}adjustAxisTicks(t,e){const i=[];t.attr("cursor","default"),t.selectAll("g").each(function(){(0,C.Z)(this).classed("sw-hidden",!1).classed("tick-hidden-text",!1),i.push(this)}),this.filterRepeatedElements(i).forEach(c=>{(0,C.Z)(c).classed("tick-hidden-text",!0)});const a=this.selectAllAxisLabels(t);a.forEach(c=>{const f=(0,C.Z)(c);if(f.select("text").attr("x",0).classed(gt.N0,!0),f.classed("pointer-events",!0),f.select("title").empty()){const b=f.data()[0],E=e.formatters.tick?e.formatters.tick(b):b;f.append("title").text(E)}}),this.handleTickLabelOverflow(t,e,a)}handleTickLabelOverflow(t,e,i){var s;const a=this.config().axis;if(e.id===this.bottomScaleId&&(e.isContinuous()||!a.bottom.tickLabel.overflowHandler))return void this.getElementsToHide(i,this._config.dimension.width(),!0).forEach(we=>{const Je=(0,C.Z)(we);Je.classed("tick-hidden-text",!0),Je.classed("pointer-events",!1)});(e.id===this.rightScaleId||e.id===this.leftScaleId)&&this.getElementsToHide(i,this._config.dimension.height(),!1).forEach(we=>{(0,C.Z)(we).classed("sw-hidden",!0)});const c=this.config().dimension.margin;let E,f=0,b=0,H=!1,ct=!1;const Pt=a.right.tickLabel.maxWidth,Ut=a.left.tickLabel.maxWidth;if(e.id===this.bottomScaleId){const Zt=a.bottom.tickLabel.maxWidth,we=e.bandwidth?e.bandwidth():this.getTickDistance(i);f=Te()(Zt)?we:we>Zt?Zt:we,b=a.bottom.tickLabel.horizontalPadding,E=a.bottom.tickLabel.overflowHandler}else if(e.id!==this.rightScaleId||a.right.fit)if(e.id!==this.leftScaleId||a.left.fit)if(e.id===this.rightScaleId&&a.right.fit&&!Te()(Pt))f=Pt,b=a.right.tickLabel.horizontalPadding,E=a.right.tickLabel.overflowHandler,ct=!0;else{if(e.id!==this.leftScaleId||!a.left.fit||Te()(Ut))return;f=Ut,b=a.left.tickLabel.horizontalPadding,E=a.left.tickLabel.overflowHandler,H=!0}else{const Zt=c.left-a.left.padding-a.left.tickSize;f=Te()(Ut)?Zt:Zt>Ut?Ut:Zt,b=a.left.tickLabel.horizontalPadding,E=a.left.tickLabel.overflowHandler}else{const Zt=c.right-a.right.padding-a.right.tickSize;f=Te()(Pt)?Zt:Zt>Pt?Pt:Zt,b=a.right.tickLabel.horizontalPadding,E=a.right.tickLabel.overflowHandler}if(!E)return;let Wt=0;if(t.select(".sample-ellipsis").empty()){const Zt=t.append("text");Wt=(null===(s=Zt.classed("sample-ellipsis",!0).attr("opacity",0).append("tspan").text("...").node())||void 0===s?void 0:s.getComputedTextLength())||0,Zt.remove()}this.handleTickLabelOverflowDebounceIndex[e.id]&&(clearTimeout(this.handleTickLabelOverflowDebounceIndex[e.id]),this.handleTickLabelOverflowDebounceIndex[e.id]=null),t.classed("tick-hidden-text",!0),i.forEach(Zt=>{(0,C.Z)(Zt).classed("pointer-events",!1)}),this.handleTickLabelOverflowDebounceIndex[e.id]=setTimeout(()=>{i.forEach(we=>{const Je=(0,C.Z)(we);Je.select("text").call(E,{widthLimit:f,horizontalPadding:b,ellipsisWidth:Wt}),Je.classed("pointer-events",!0)});const Zt=this._config.dimension.marginLocked;Zt&&(ct||H)&&(this.handleMarginUpdate(),Zt.right=ct,Zt.left=H),t.classed("tick-hidden-text",!1)},u.TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL)}selectAllAxisLabels(t){const e=[];return t.selectAll("g:not(.tick-hidden-text)").each(function(){e.push(this)}),e}getOuterWidthDimensionCorrection(){return this.config().axis.bottom.visible?zn.TICK_DIMENSION_CORRECTION:0}handleMarginUpdate(){const t=ft()(this._config.dimension.margin);this.recalculateMargins(this.container),this.reconcileMarginsWithDebounce(t)}hasRightYAxis(){var t;return this.config().axis.right.visible&&(null===(t=this.rightScaleId)||void 0===t?void 0:t.length)>0}buildAxes(t){this.gridY.tickGroup=t.append("g").classed("sw-axis sw-axis-grid sw-axis-gridY",!0),this.gridX.tickGroup=t.append("g").classed("sw-axis sw-axis-grid sw-axis-gridX",!0),this.axisX.group=t.append("g").classed("sw-axis sw-axis-x",!0),this.axisX.tickGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-ticks",!0),this.axisX.labelGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-labels",!0),this.axisYLeft.group=t.append("g").classed("sw-axis sw-axis-y sw-axis-y-left",!0),this.axisYLeft.tickGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYLeft.labelGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0),this.axisYRight.group=t.append("g").classed("sw-axis sw-axis-y sw-axis-y-right",!0),this.axisYRight.tickGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYRight.labelGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0)}filterRepeatedElements(t){const e=[t[0]];return t.reduce((i,s)=>{const a=(0,C.Z)(s).text();return a!==i&&e.push(s),a},t[0]&&(0,C.Z)(t[0]).text()),t.filter(i=>-1===e.indexOf(i))}getElementsToHide(t,e,i){const s=i?"width":"height",a=this.getTextMeasurement(t,s)<e,c=!!i&&this.getMaxTextWidth(t)<this.getTickDistance(t);if(i?a&&c:a)return[];const b=this.elementsFiltering(t,e,s);return t.filter(E=>-1===b.indexOf(E))}elementsFiltering(t,e,i){let s,a=2;const c=f=>"width"===i?this.getMaxTextWidth(f)>this.getTickDistance(f):this.getTextMeasurement(f,i)>e;do{if(s=t.filter((f,b)=>b%a==0),a++,1===s.length&&c(s))break}while(c(s));return s}getTextMeasurement(t,e){const i="width"===e?5:0;return t.reduce((s,a)=>s+a.getBoundingClientRect()[e]+i,0)}getMaxTextWidth(t){return 0===t.length?0:Math.max.apply(null,t.map(e=>e.getBoundingClientRect().width))}getTickDistance(t){if(0===t.length)return 0;let e=1/0;return t.map(s=>{const a=s.getAttribute("transform");if(Et()(a))throw new Error("tick transform is not defined");return parseFloat(a.slice(a.indexOf("(")+1,a.indexOf(",")))}).reduce((s,a)=>{const c=a-s;return c<e&&(e=c),a}),e}recalculateMargins(t){var e,i,s;if(!t)return;const a=this._config.dimension,c=this.config().axis,f=a.outerWidth(),b=a.outerHeight();!(null===(e=a.marginLocked)||void 0===e?void 0:e.left)&&c.left.fit&&c.left.visible&&(a.margin.left=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYLeft.labelGroup))+c.left.tickSize+c.left.padding),!(null===(i=a.marginLocked)||void 0===i?void 0:i.right)&&c.right.fit&&this.hasRightYAxis()&&(a.margin.right=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYRight.labelGroup))+c.right.tickSize+c.right.padding);const E=this.bottomScaleId&&this.scales?null===(s=this.scales.x)||void 0===s?void 0:s.index[this.bottomScaleId]:void 0;c.bottom.fit&&c.bottom.visible&&((null==E?void 0:E.isContinuous())||!c.bottom.tickLabel.overflowHandler)&&this.fitBottomAxis(a);const ct=a.margin.bottom;a.margin.top=a.margin.top,a.margin.bottom=ct,a.outerWidth(f),a.outerHeight(b);const Pt=this.config().dimension.margin.left,Ut=this.config().dimension.margin.top;t.attr("transform",`translate(${Pt}, ${Ut})`)}fitBottomAxis(t){var e,i,s;const a=null===(i=null===(e=this.scales)||void 0===e?void 0:e.x)||void 0===i?void 0:i.list[0].d3Scale;if(!a)return;let c=0,f=0;const b=this.axisX.labelGroup.select(".tick:not(.tick-hidden-text):last-child text").node();if(b){c=b.getBoundingClientRect().width,f=null!==(s=a(b.innerHTML))&&void 0!==s?s:0;const E=a.range()[1],H=c/2-Math.abs(E-f)/2;t.margin.right=H>0?H:0}}reconcileMarginsWithDebounce(t){this.reconcileMarginsDebounce&&(clearTimeout(this.reconcileMarginsDebounce),this.reconcileMarginsDebounce=null),this.reconcileMarginsDebounce=setTimeout(()=>{var e;this.areMarginsApproximatelyEqual(t,this._config.dimension.margin)||null===(e=this.updateChartDimensionsSubject)||void 0===e||e.next()},100)}areMarginsApproximatelyEqual(t,e){return this.isApproximatelyEqual(t.top,e.top)&&this.isApproximatelyEqual(t.right,e.right)&&this.isApproximatelyEqual(t.bottom,e.bottom)&&this.isApproximatelyEqual(t.left,e.left)}}return u.TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL=200,u})();const Ti="gauge-label",Zi="gauge-labels",fr="threshold-label";var wr=o(84524);function Lr(u,n){return n<u?-1:n>u?1:n>=u?0:NaN}function Or(u){return u}var Ki=o(6947);function er(){var u=Or,n=Lr,t=null,e=(0,un.Z)(0),i=(0,un.Z)(Ki.BZ),s=(0,un.Z)(0);function a(c){var f,E,H,we,An,b=c.length,ct=0,Pt=new Array(b),Ut=new Array(b),Wt=+e.apply(this,arguments),Zt=Math.min(Ki.BZ,Math.max(-Ki.BZ,i.apply(this,arguments)-Wt)),Je=Math.min(Math.abs(Zt)/b,s.apply(this,arguments)),In=Je*(Zt<0?-1:1);for(f=0;f<b;++f)(An=Ut[Pt[f]=f]=+u(c[f],f,c))>0&&(ct+=An);for(null!=n?Pt.sort(function(Ci,Vr){return n(Ut[Ci],Ut[Vr])}):null!=t&&Pt.sort(function(Ci,Vr){return t(c[Ci],c[Vr])}),f=0,H=ct?(Zt-b*In)/ct:0;f<b;++f,Wt=we)Ut[E=Pt[f]]={data:c[E],index:f,value:An=Ut[E],startAngle:Wt,endAngle:we=Wt+(An>0?An*H:0)+In,padAngle:Je};return Ut}return a.value=function(c){return arguments.length?(u="function"==typeof c?c:(0,un.Z)(+c),a):u},a.sortValues=function(c){return arguments.length?(n=c,t=null,a):n},a.sort=function(c){return arguments.length?(t=c,n=null,a):t},a.startAngle=function(c){return arguments.length?(e="function"==typeof c?c:(0,un.Z)(+c),a):e},a.endAngle=function(c){return arguments.length?(i="function"==typeof c?c:(0,un.Z)(+c),a):i},a.padAngle=function(c){return arguments.length?(s="function"==typeof c?c:(0,un.Z)(+c),a):s},a}class Yi{static generateThresholdArcData(n){if(!n.length)return[];const t=Yi.generateArcValues(n),e=[];return er().sort(null)(t).forEach((a,c)=>{c%2==1&&e.push(a)}),e}static generateArcValues(n){const t=Array(2*n.length-1).fill(0);return n.forEach((e,i)=>{t[2*i]=0===i?e.value:e.value-n[i-1].value}),t}}var Bi=o(33335);const Nr={markerRadius:bi.Large,enabled:!0};class _r extends Bi.E{constructor(n={}){super(n),this.config=n,this.config=vn()(this.config,Nr)}draw(n,t){const e=n.containers[Bt.n.data],i=ot()(this.config.enabled?n.dataSeries.data:[]);i.sort((f,b)=>f.value-b.value),this.segmentWidth=this.getSegmentWidth(n);const s=this.getInnerRadius(n.scales.r.range(),0),a=(0,wr.Z)().outerRadius(this.getOuterRadius(n.scales.r.range(),0)).innerRadius(s>=0?s:0),c=e.selectAll(`circle.${di}`).data(Yi.generateThresholdArcData(i));c.exit().remove(),c.enter().append("circle").attr("class",di).merge(c).attr("cx",f=>a.centroid(f)[0]).attr("cy",f=>a.centroid(f)[1]).attr("r",this.config.markerRadius).style("fill",(f,b)=>`var(--nui-color-${i[b].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getInnerRadius(n,t){if(Te()(this.segmentWidth))throw new Error("Can't compute inner radius");const e=n[1]-n[0]-this.segmentWidth;return e>=0?e:0}}let gr=(()=>{class u extends Hn.w{constructor(t={}){super(),this.config=t,this.DEFAULT_CONFIG={padding:5,formatterName:Ti,disableThresholdLabels:!1},this.destroy$=new h.x,this.config=vn()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:Zi,order:gt.rz[Bt.n.data].order,clipped:!1}),this.chart.getEventBus().getStream(gt.C1).pipe((0,_.R)(this.destroy$)).subscribe(t=>{const e=this.lasagnaLayer.select(`.${Zi}`);if(!e.empty()){const i=t.data.dataPoints,s=Object.keys(i).find((a,c)=>i[a].index===gt.hZ)?0:1;e.style("opacity",s)}})}update(){this.drawThresholdLabels()}updateDimensions(){this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}drawThresholdLabels(){var t,e;const i=this.chart.getDataManager().chartSeriesSet.find(ct=>ct.renderer instanceof _r);if(Te()(i))return void console.warn("Threshold series is undefined. As a result, threshold labels for the donut gauge will not be rendered.");let s=this.lasagnaLayer.select(`.${Zi}`);s.empty()&&(s=this.lasagnaLayer.append("svg:g").attr("class",Zi).style("opacity",0));const a=null==i?void 0:i.renderer,c=(null==a?void 0:a.getOuterRadius(null!==(t=null==i?void 0:i.scales.r.range())&&void 0!==t?t:[0,0],0))+this.config.padding;if(Te()(c))throw new Error("Radius is undefined");const f=(0,wr.Z)().outerRadius(c).innerRadius(c),b=null!==(e=null==i?void 0:i.scales.r.formatters[this.config.formatterName])&&void 0!==e?e:ct=>ct,E=ot()(this.config.disableThresholdLabels?[]:null==i?void 0:i.data);if(Te()(E))throw new Error("Gauge threshold series data is undefined");E.sort((ct,Pt)=>ct.value-Pt.value);const H=s.selectAll(`text.${fr}`).data(Yi.generateThresholdArcData(E));H.exit().remove(),H.enter().append("text").attr("class",fr).merge(H).attr("transform",ct=>`translate(${f.centroid(ct)})`).attr("title",(ct,Pt)=>b(E[Pt].value)).style("text-anchor",ct=>this.getTextAnchor(ct.startAngle)).style("dominant-baseline",ct=>this.getAlignmentBaseline(ct.startAngle)).text((ct,Pt)=>b(E[Pt].value))}getTextAnchor(t){const e=Math.cos(t-Math.PI/2);return e>.5?"start":e<-.5?"end":"middle"}getAlignmentBaseline(t){const e=Math.sin(t+Math.PI/2);return e>.5?"text-after-edge":e<-.5?"text-before-edge":"central"}}return u.MARGIN_DEFAULT=25,u})();class Ar extends Hn.w{constructor(n={}){super(),this.config=n,this.DEFAULT_CONFIG={padding:5,formatterName:Ti,disableThresholdLabels:!1,flippedLabels:!1},this.destroy$=new h.x,this.isHorizontal=!0,this.xTranslate=(t,e)=>{var i,s,a,c,f;if(this.isHorizontal){const b=this.thresholdsSeries,E=null===(c=null===(a=null===(s=null===(i=this.thresholdsSeries)||void 0===i?void 0:i.accessors)||void 0===s?void 0:s.data)||void 0===a?void 0:a.value)||void 0===c?void 0:c.call(a,t,e,null==b?void 0:b.data,b);return null===(f=this.thresholdsSeries)||void 0===f?void 0:f.scales.x.convert(E)}return this.getLabelOffset()},this.yTranslate=(t,e)=>{var i,s,a,c,f;if(this.isHorizontal)return this.getLabelOffset();const b=this.thresholdsSeries,E=null===(c=null===(a=null===(s=null===(i=this.thresholdsSeries)||void 0===i?void 0:i.accessors)||void 0===s?void 0:s.data)||void 0===a?void 0:a.value)||void 0===c?void 0:c.call(a,t,e,null==b?void 0:b.data,b);return null===(f=this.thresholdsSeries)||void 0===f?void 0:f.scales.y.convert(E)},this.config=vn()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:Zi,order:gt.rz[Bt.n.data].order,clipped:!1}),this.chart.getEventBus().getStream(gt.CC).pipe((0,_.R)(this.destroy$)).subscribe(n=>{const t=this.lasagnaLayer.select(`.${Zi}`);t.empty()||t.style("opacity",n.data?1:0)})}update(){this.updateData(),this.drawThresholdLabels()}updateDimensions(){this.updateData(),this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}updateData(){var n;this.thresholdsSeries=this.chart.getDataManager().chartSeriesSet.find(t=>t.id===Ai),this.isHorizontal=(null===(n=this.thresholdsSeries)||void 0===n?void 0:n.scales.x)instanceof De}drawThresholdLabels(){var n,t,e;if(Te()(this.thresholdsSeries))return void console.warn("Threshold series is undefined. As a result, threshold labels for the linear gauge will not be rendered.");let i=this.lasagnaLayer.select(`.${Zi}`);i.empty()&&(i=this.lasagnaLayer.append("svg:g").attr("class",Zi).style("opacity",0));const s=ot()(this.config.disableThresholdLabels?[]:null===(n=this.thresholdsSeries)||void 0===n?void 0:n.data);if(Te()(s))throw new Error("Gauge threshold series data is undefined");s.pop();const a=null!==(e=null===(t=this.thresholdsSeries)||void 0===t?void 0:t.scales[this.isHorizontal?"x":"y"].formatters[this.config.formatterName])&&void 0!==e?e:f=>f,c=i.selectAll(`text.${fr}`).data(s);c.exit().remove(),c.enter().append("text").attr("class",fr).merge(c).attr("transform",(f,b)=>`translate(${this.xTranslate(f,b)}, ${this.yTranslate(f,b)})`).attr("title",(f,b)=>a(s[b].value)).style("text-anchor",f=>this.getTextAnchor()).style("dominant-baseline",f=>this.getAlignmentBaseline()).text((f,b)=>a(s[b].value))}getLabelOffset(){let n=0;if(!this.config.flippedLabels){const e=this.chart.getGrid().config().dimension;n=this.isHorizontal?e.height():e.width()}let t=this.config.padding;return t=this.config.flippedLabels?-t:t,n+t}getTextAnchor(){return this.isHorizontal?"middle":this.config.flippedLabels?"end":"start"}getAlignmentBaseline(){return this.isHorizontal?this.config.flippedLabels?"text-after-edge":"hanging":"central"}}class pr extends mn{constructor(n,t){super(n,t),this.data=Object.assign(Object.assign({},this.data),{startX:(e,i,s,a)=>this.data.category(e,i,s,a),endX:(e,i,s,a)=>this.data.category(e,i,s,a),thicknessX:(e,i,s,a)=>this.data.thickness?this.data.thickness(e,i,s,a):void 0,startY:(e,i,s,a)=>this.data.start(e,i,s,a),endY:(e,i,s,a)=>this.data.end(e,i,s,a)})}}function vr(u,n=new De){const t=new at;let e;return u&&u.grouped&&(t.padding(.25),t.innerScale=new at),u&&u.horizontal?(t.reverse(),e={x:n,y:t}):e={x:t,y:n},e}const $r={markerRadius:bi.Large,enabled:!0};class rr extends yi{constructor(n={}){super(n),this.config=n,this.config=vn()(this.config,$r)}draw(n,t){const e=n.containers[Bt.n.unclippedData],i=n.dataSeries,s=i.accessors,a=ot()(this.config.enabled?i.data:[]);a.pop();const c=e.selectAll(`circle.${di}`).data(a);c.exit().remove(),c.enter().append("circle").attr("class",di).merge(c).attr("cx",(f,b)=>{var E,H;return n.scales.x.convert(null===(H=null===(E=null==s?void 0:s.data)||void 0===E?void 0:E.endX)||void 0===H?void 0:H.call(E,f,b,i.data,i))}).attr("cy",(f,b)=>{var E,H;return n.scales.y.convert(null===(H=null===(E=null==s?void 0:s.data)||void 0===E?void 0:E.endY)||void 0===H?void 0:H.call(E,f,b,i.data,i))}).attr("r",this.config.markerRadius).style("fill",(f,b)=>`var(--nui-color-${a[b].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getRequiredLayers(){return[gt.rz[Bt.n.unclippedData]]}}var mr=o(83223),Br=o.n(mr);function Tr(u,n){if(0===u.length)return u;const t=function kr(u,n="category"){return u.reduce((t,e)=>{const i=e.accessors.data[n],s=e.data.reduce((a,c,f)=>(a.push(null==i?void 0:i(c,f,e.data,e)),a),[]);return Br()(t,s,a=>a.valueOf())},[])}(u.filter(e=>Te()(e.preprocess)||e.preprocess));return u.reduce((e,i)=>{if(!Te()(i.preprocess)&&!i.preprocess)return e;const s=i.accessors.data.category,a=i.accessors.data.value;if(!a)throw new Error("valueAccessor is not defined");const c=i.data.reduce((b,E,H)=>Object.assign(Object.assign({},b),{[s(E,H,i.data,i)]:H}),{}),f=[];return t.forEach((b,E)=>{let H;if(void 0!==c[b]){H=i.data[c[b]];const ct={},Pt=n(i)?1:0;ct.start=e[E],e[E]+=(a(H,c[b],i.data,i)||0)*Pt,ct.end=e[E],H.__bar=ct,f.push(H)}}),i.data=f,e},Array(t.length).fill(0)),u}function Er(u){return Tr(u,n=>!this.isSeriesHidden(n.id))}class Sr{constructor(n=Ve()){this.colorProvider=n,this.data={value:t=>Number.isFinite(t)?t:t.value},this.series={color:this.colorProvider?this.colorProvider.get:void 0}}}class sr extends zn{constructor(){super(...arguments),this.adjustRenderingArea=()=>{const n=this.config().dimension,t={width:n.outerWidth(),height:n.outerHeight(),transform:`translate(${-n.outerWidth()/2}, ${-n.outerHeight()/2})`};this.renderingAreaClipPath.attrs(t),this.renderingArea.attrs(t)}}build(){return super.build(),this.recenter(),this}updateDimensions(n){const t=this.config().dimension;if(Te()(n.width)||t.outerWidth(n.width),Te()(n.height)||t.outerHeight(n.height),this.scales){const e=this.scales.r;e&&e.list[0].range([0,Math.min(t.width(),t.height())/2])}return this.adjustRenderingArea(),this.updateRanges(),setTimeout(()=>{this.recenter()}),this}recenter(){this.container.attrs({transform:`translate(${this.config().dimension.outerWidth()/2},${this.config().dimension.outerHeight()/2})`})}}function Dr(){const u=new U;return u.interactive=!1,(new sr).config(u)}function Pr(u,n){if(!u[0])return u;const t=er().sort(null),s=u[0].data.reduce((a,c)=>(a.push(u.map(f=>n(f)&&!f.excludeFromArcCalculation?f.accessors.data.value(f.data[a.length],a.length,f.data,f):0)),a),[]).map(a=>t(a));return u.map((a,c)=>Object.assign(Object.assign({},a),{data:!1===a.preprocess?a.data:s.map(f=>Object.assign(Object.assign({},f[c]),{data:a.data[0]}))}))}function Rr(u){return Pr(u,n=>!this.isSeriesHidden(n.id))}function Cr(){return{r:(new De).fixDomain(it.rX)}}let Xr=(()=>{class u{static createChartAssist(t,e,i){var s,a,c;const f=e===Nn.Donut?Dr():new qn(function Q(u,n=Bn.Large){const t=new j;return t.interactionPlugins=!1,t.disableRenderAreaHeightCorrection=!0,t.axis.bottom.visible=!1,t.axis.bottom.gridTicks=!1,t.axis.left.visible=!1,t.axis.left.gridTicks=!1,t.borders.left.visible=!1,t.borders.bottom.visible=!1,t.dimension=new p,u===Nn.Vertical?(t.dimension.autoWidth=!1,t.dimension.width(n)):(t.dimension.autoHeight=!1,t.dimension.height(n)),t}(e,t.linearThickness)),b=f.config(),E=new Mi(f),H=!ln()(null===(s=t.thresholds)||void 0===s?void 0:s.definitions)&&!(null===(a=t.thresholds)||void 0===a?void 0:a.disableMarkers);if(e===Nn.Donut)return H&&(E.addPlugin(null!=i?i:new gr),b.dimension.margin=u.getMarginForLabelClearance(t,e,b.dimension.margin)),new l(E,Rr);if(H){const ct=!!(null===(c=t.labels)||void 0===c?void 0:c.flipped);E.addPlugin(null!=i?i:new Ar({flippedLabels:ct})),b.dimension.margin=u.getMarginForLabelClearance(t,e,b.dimension.margin)}return new l(E,Er)}static assembleSeriesSet(t,e){var i,s;t.value=null!==(i=t.value)&&void 0!==i?i:0,t.max=null!==(s=t.max)&&void 0!==s?s:0;const a=u.clampConfigToRange(t),c=u.generateRenderingAttributes(a,e);let f,b=[];return a.thresholds&&(f=u.generateThresholdSeries(a,c),b.push(f)),b=[...u.generateQuantityAndRemainderSeriesSet(a,c,null==f?void 0:f.activeThreshold),...b],b}static update(t,e){var i,s;e.value=null!==(i=e.value)&&void 0!==i?i:0,e.max=null!==(s=e.max)&&void 0!==s?s:0;const a=u.clampConfigToRange(e),c=u.generateThresholdsData(a);return t.map(b=>{var E,H,ct;return b.id===pi?Object.assign(Object.assign({},b),{data:[{category:u.DATA_CATEGORY,value:a.value}],activeThreshold:c.activeThreshold,defaultColor:a.defaultQuantityColor||Qe.Ok}):b.id===oi?Object.assign(Object.assign({},b),{data:[{category:u.DATA_CATEGORY,value:a.max-a.value}]}):b.id===Ai?(b.renderer.config.enabled=!(null===(E=a.thresholds)||void 0===E?void 0:E.disableMarkers),b.renderer.config.markerRadius=null!==(ct=null===(H=a.thresholds)||void 0===H?void 0:H.markerRadius)&&void 0!==ct?ct:bi.Large,Object.assign(Object.assign({},b),c)):b})}static createStandardThresholdsConfig(t,e){return{definitions:{[Gn.Warning]:{id:Gn.Warning,value:t,enabled:!0,color:Qe.Warning},[Gn.Critical]:{id:Gn.Critical,value:e,enabled:!0,color:Qe.Critical}},reversed:!1,disableMarkers:!1,markerRadius:bi.Large}}static getMarginForLabelClearance(t,e,i){var s,a,c,f,b;if(e===Nn.Donut){const Ut=null!==(a=null===(s=t.labels)||void 0===s?void 0:s.clearance)&&void 0!==a?a:30,Wt=Math.max(...Object.values(i),Ut);return{top:Wt,right:Wt,bottom:Wt,left:Wt}}let E;const H=!!(null===(c=t.labels)||void 0===c?void 0:c.flipped);E=e===Nn.Horizontal?H?"top":"bottom":H?"left":"right";const ct=null!==(b=null===(f=t.labels)||void 0===f?void 0:f.clearance)&&void 0!==b?b:ir[E],Pt=Math.max(i[E],ct);return Object.assign(Object.assign({},i),{[E]:Pt})}static generateQuantityAndRemainderSeriesSet(t,e,i){return u.generateQuantityAndRemainderData(t).map(a=>{const{quantityAccessors:c,remainderAccessors:f,scales:b,mainRenderer:E}=e;return c.data&&(c.data.color=(H,ct,Pt,Ut)=>Ut.activeThreshold?Ut.activeThreshold.color:Ut.defaultColor),f.data&&(f.data.color=()=>t.remainderColor||Qe.Remainder),a.id===pi&&(a.activeThreshold=i,a.defaultColor=t.defaultQuantityColor||Qe.Ok),Object.assign(Object.assign({},a),{accessors:a.id===pi?c:f,scales:b,renderer:E})})}static generateThresholdSeries(t,e){const{quantityAccessors:i,scales:s,thresholdsRenderer:a}=e;return Object.assign(Object.assign({},u.generateThresholdsData(t)),{accessors:i,scales:s,renderer:a,excludeFromArcCalculation:!0,preprocess:!1})}static generateRenderingAttributes(t,e){const i=u.generateRenderingTools(t,e);return{quantityAccessors:i.quantityAccessorFunction(),remainderAccessors:i.remainderAccessorFunction(),mainRenderer:i.mainRendererFunction(),thresholdsRenderer:i.thresholdsRendererFunction(),scales:i.scaleFunction()}}static generateRenderingTools(t,e){var i,s,a;const c={enabled:!(null===(i=t.thresholds)||void 0===i?void 0:i.disableMarkers),markerRadius:null===(s=t.thresholds)||void 0===s?void 0:s.markerRadius},f=null===(a=t.labels)||void 0===a?void 0:a.formatter;return{[Nn.Donut]:{mainRendererFunction:()=>new Bi.E({strokeWidth:0,enableSeriesHighlighting:!1}),thresholdsRendererFunction:()=>new _r(c),quantityAccessorFunction:()=>new Sr,remainderAccessorFunction:()=>new Sr,scaleFunction:()=>{const E=Cr();return E.r.formatters[Ti]=f,E}},[Nn.Horizontal]:{mainRendererFunction:()=>new yi({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new rr(c),quantityAccessorFunction:()=>new Wn,remainderAccessorFunction:()=>new Wn,scaleFunction:()=>{const E=vr({horizontal:!0});return E.x.formatters[Ti]=f,E}},[Nn.Vertical]:{mainRendererFunction:()=>new yi({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new rr(c),quantityAccessorFunction:()=>new pr,remainderAccessorFunction:()=>new pr,scaleFunction:()=>{const E=vr();return E.y.formatters[Ti]=f,E}}}[e]}static generateQuantityAndRemainderData(t){return[{id:pi,data:[{category:u.DATA_CATEGORY,value:t.value}]},{id:oi,data:[{category:u.DATA_CATEGORY,value:t.max-t.value}]}]}static generateThresholdsData(t){if(!t.thresholds)throw new Error("Thresholds are not defined in the gauge config. Unable to generate threshold data.");const{thresholds:e,activeThreshold:i}=u.prepareThresholdsData(t);return{id:Ai,data:[...e,{id:"max",enabled:!0,category:u.DATA_CATEGORY,value:t.max,color:""}],activeThreshold:i}}static prepareThresholdsData(t){var e,i;const s=Object.values((null===(e=t.thresholds)||void 0===e?void 0:e.definitions)||[]).filter(c=>c.enabled).map(c=>{var f;return Object.assign(Object.assign({},c),{category:u.DATA_CATEGORY,hit:(null===(f=t.thresholds)||void 0===f?void 0:f.reversed)?c.value<t.value:c.value<=t.value})}).sort((c,f)=>c.value-f.value),a=(null===(i=t.thresholds)||void 0===i?void 0:i.reversed)?null==s?void 0:s.find(c=>!Te()(c.hit)&&!c.hit):null==s?void 0:s.slice().reverse().find(c=>c.hit);return{thresholds:s,activeThreshold:a}}static clampConfigToRange(t){var e;let i=t.value;t.value>t.max&&(console.warn(`Configured gauge value ${t.value} is greaterthan configured max ${t.max}. Clamping value to ${t.max}.`),i=t.max),t.value<0&&(console.warn(`Configured gauge value ${t.value} is less than 0. Clamping value to 0.`),i=0);const s=(null===(e=t.thresholds)||void 0===e?void 0:e.definitions)||{};return Object.keys(s||{}).forEach(a=>{const c=s[a];c&&(c.value>t.max&&(console.warn(`Configured threshold value ${c.value} for threshold ${a} is greaterthan configured max ${t.max}. Clamping value to ${t.max}.`),c.value=t.max),c.value<0&&(console.warn(`Configured threshold value ${c.value} is less than 0. Clamping value to 0.`),c.value=0))}),Object.assign(Object.assign({},t),{thresholds:Object.assign(Object.assign({},t.thresholds),{definitions:s}),value:i})}}return u.DATA_CATEGORY="gauge",u})();o(63629);class d{constructor(n,t){this.valueMap=n,this.defaultValue=t,this.get=e=>this.valueMap[e]||this.defaultValue,this.reset()}reset(){}}class I{constructor(n){this.element=document.createElement("path"),this.setAttributes({class:"nui-chart-element-marker nui-chart--path__outline","vector-effect":"non-scaling-stroke",d:n})}setColor(n){this.setAttributes({fill:n})}setAttributes(n){for(const t of Object.keys(n))this.element.setAttribute(t,n[t]);this.updateSvg()}getSvg(){return this.svg}updateSvg(){this.svg=this.element.outerHTML}}const S=(u,n)=>(t,e,i)=>n(u().concat(t),e,i);class _t extends ge{constructor(n){super(n),this.formatters.tick=t=>t}createD3Scale(){return(0,Rt.q2)()}convert(n){return this._d3Scale(n)}invert(n){const t=this._d3Scale.domain(),e=t.map(this._d3Scale).slice(0,-1).map(i=>i+this._d3Scale.step()/2);return t[(0,On.b4)(e,n)]}round(n){return n?(this._d3Scale.round(n),this):this._d3Scale.round()}padding(n){return this._d3Scale.padding(n),this}align(n){return n?(this._d3Scale.align(n),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}isContinuous(){return!1}}var wt=o(15439),Mt=o.n(wt);const kt=(u,n)=>new Intl.DateTimeFormat(Mt().locale(),n).format(u),me=u=>(0,V.Z_i)(u)<u?(u=>kt(u,{hour:"numeric",minute:"2-digit",second:"2-digit"}))(u):(0,V.rr1)(u)<u?(u=>kt(u,{hour:"numeric",minute:"2-digit"}))(u):(0,V.F0B)(u)<u?(u=>kt(u,{month:"short",day:"2-digit"}))(u):(0,V.jBk)(u)<u?(u=>kt(u,{month:"short"}))(u):(u=>kt(u,{year:"numeric"}))(u);class Sn extends ge{constructor(n){super(n),this.formatters.tick=me}createD3Scale(){return(0,Rt.Xf)()}convert(n){return this._d3Scale(n)}invert(n){const t=this._d3Scale.invert(n);return isNaN(t.getTime())?void 0:t}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(n=>isNaN(n.getTime()))}}function yn(u){const n=new Date(u.getFullYear(),0,1).getTimezoneOffset(),t=new Date(u.getFullYear(),6,1).getTimezoneOffset();return Math.max(n,t)!==u.getTimezoneOffset()}class Dn extends Sn{constructor(n,t){super(t),this.defaultTitleFormatter=e=>{const i=this.interval().asDays(),s=yn(e),a=yn(this.domain()[0]),c=!s&&a;let b=0;(c||s&&!a)&&i>=1&&(b=c?36e5:-36e5);const E=new Date(e.getTime()+b),H=i>=1?Mt()(E).add(i,"days").toDate():Mt()(E).add(this.interval()).toDate();return me(E)+" - "+me(H)},this.interval(n),this._bandScale=(0,Rt.ti)(),this.formatters.title=this.defaultTitleFormatter}interval(n){return n?(this._interval=n,this):this._interval}domain(n){if(n){if(0===n.length||n.length%2!=0)throw new Error("TimeIntervalScale domain has to be defined as a pair of [from, to] time values.");const t=Re()(n,it.iz),e=[];if(!t)for(let s=0;s+1<n.length;s+=2)e.push(...this.getBandsForInterval(n[s],n[s+1]));this._bandScale.domain(e);const i=t?n:[n[0],Mt()(n[1]).add(this.interval()).toDate()];return super.domain(i)}return super.domain()}range(n){return n?(this._bandScale.range(n),super.range(n)):super.range()}getBands(){return this._bandScale.domain()}convert(n,t=.5){const e=this.truncToInterval(n,this.interval());if(!e)throw new Error("Could not convert interval");const i=this._bandScale(e);return"number"==typeof i?i+t*this.bandwidth():super.convert(n)}invert(n){const t=super.invert(n);return this.truncToInterval(t,this.interval())}bandwidth(){return this._bandScale.bandwidth()}truncToInterval(n,t,e=!1){if(!n)return n;const i=yn(n),s=e?i:yn(this.domain()[0]),a=s&&!i,c=!s&&i,b=this.interval().asDays()>=1&&c?(0,wt.duration)(1,"hour").asMilliseconds():0,E=new Date(n.getTime()+b);let H=0;(a||c)&&(H=a?-60:60);const ct=6e4*(E.getTimezoneOffset()+H),Pt=E.getTime()-ct,Wt=Pt%t.asMilliseconds();return 0===Wt?E:new Date(Pt-Wt+ct)}isContinuous(){return!0}getBandsForInterval(n,t){const e=[];let i=this.truncToInterval(n,this.interval(),!0);if(!i)throw new Error("Could not get bands for interval");const s=this.interval().asMilliseconds(),a=this.interval().asDays(),c=yn(n),f=yn(t),b=!c&&f?(0,wt.duration)(1,"hour").asMilliseconds():0,E=a>=1?new Date(t.getTime()+b):t;for(;i<=E;)e.push(i),i=new Date(i.getTime()+s);return e}}class mi{constructor(n){}convert(){}invert(){}get d3Scale(){}range(n){}domain(n){}fixDomain(n){return null}isContinuous(){return!1}isDomainValid(){return!0}reverse(){}reversed(n){}}class ui extends j{constructor(){super(),this.dimension.padding.bottom=2}}class Zn extends j{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=5,this.axis.bottom.gridTicks=!1,this.axis.left.fit=!0,this.axis.bottom.tickSize=5,this.axis.left.tickSize=0,this.dimension.margin.right=0,this.dimension.padding.bottom=2}}class Kn extends j{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!1,this.axis.left.tickSize=0,this.axis.bottom.gridTicks=!0,this.axis.left.fit=!0,this.axis.bottom.fit=!0,this.axis.bottom.tickSize=0,this.axis.left.tickSize=5,this.dimension.padding.left=2,this.borders.left.visible=!0,this.borders.bottom.visible=!1}}class ti extends j{constructor(n={showBottomAxis:!0}){super(),this.interactive=!0,this.interactionPlugins=!1,n.showBottomAxis||(this.axis.bottom.visible=!1,this.borders.bottom.visible=!1),this.axis.left.visible=!1,this.axis.left.gridTicks=!1,this.borders.left.visible=!1,this.dimension.autoHeight=!1,this.dimension.margin.top=0,n.showBottomAxis||(this.dimension.margin.bottom=0),this.dimension.height(30)}}function ri(u=new j,n=!1,t=!0){return u.interactionPlugins=!1,u.axis.left.visible=!1,u.axis.left.gridTicks=!1,u.dimension.margin.left=5,u.dimension.margin.right=5,u.dimension.margin.bottom=n?u.dimension.margin.bottom:0,u.dimension.padding.top=5,u.dimension.padding.bottom=5,u.dimension.autoHeight=!1,u.dimension.height(36),t&&(u.borders.top=new P),n||(u.borders.bottom.visible=!1),u}var Be=o(37669),Un=o(44421);class ei extends Un.i{getAbsolutePosition(n){var t,e;const i=null===(e=null===(t=this.chart.target)||void 0===t?void 0:t.node())||void 0===e?void 0:e.parentNode;if(!i)throw new Error("Chart parent node is not defined");const s=Math.min(...n.map(b=>b.position.x)),a=Math.min(...n.map(b=>b.position.y)),c=i.offsetLeft+this.chart.getGrid().config().dimension.margin.left+s+this.chart.getGrid().config().dimension.width()/2;return{top:i.offsetTop+a+this.chart.getGrid().config().dimension.height()/2,left:c,height:0,width:0}}}var Yn=o(3645);const Me=[{x:"end",y:"center"},{x:"end",y:"bottom"},{x:"center",y:"bottom"},{x:"start",y:"bottom"},{x:"start",y:"center"},{x:"start",y:"top"},{x:"center",y:"top"},{x:"end",y:"top"}],Pn={start:"end",end:"start",top:"bottom",bottom:"top"};class wn extends Yn.n7{getTooltipPosition(n,t){const e=n.data,c=t.renderer.getOuterRadius(t.scales.r.range(),n.index)+this.tooltipPositionOffset,f=(e.startAngle+e.endAngle)/2-Math.PI/2;return{x:Math.cos(f)*c,y:Math.sin(f)*c,width:0,height:0,overlayPositions:[this.getOverlayPosition(f)]}}getAbsolutePosition(n,t){const e=super.getAbsolutePosition(n,t);return e.x+=this.chart.getGrid().config().dimension.width()/2,e.y+=this.chart.getGrid().config().dimension.height()/2,e}getOverlayPosition(n){const t=this.getSectionIndex(n,8);return{originX:Me[t].x,originY:Me[t].y,overlayX:this.opposite(Me[t].x),overlayY:this.opposite(Me[t].y)}}getSectionIndex(n,t){let e=Math.round(n/(2*Math.PI/t))%t;for(;e<0;)e+=t;return e}opposite(n){return Pn[n]||n}}class Vi extends Yn.n7{constructor(n){super()}}var xr=o(24099);let nr=(()=>{class u extends Hn.w{constructor(t={}){super(),this.config=t,this.destroy$=new h.x,this.brushStart=e=>{!Te()(this.brushStartX)||(this.chart.getEventBus().getStream(gt.N).next({data:!1}),this.brushStartX=e)},this.brushMove=e=>{if(Te()(this.brushStartX))return;const i=[this.brushStartX,e].sort((s,a)=>s-a);this.brush.move(this.brushElement,i)},this.brushEnd=e=>{if(Te()(this.brushStartX))return;const i=[this.brushStartX,e].sort((b,E)=>b-E);this.brushStartX=void 0,this.chart.getEventBus().getStream(gt.N).next({data:!0}),this.brush.move(this.brushElement,null);const s=this.grid.scales.x.list;if(!s||i[0]===i[1])return;let a=0;const c=this.grid.config();!c.disableRenderAreaWidthCorrection&&i[1]===c.dimension.width()-zn.RENDER_AREA_WIDTH_CORRECTION&&(a=zn.RENDER_AREA_WIDTH_CORRECTION);const f=s.reduce((b,E)=>(b[E.id]=[i[0],i[1]+a].map(H=>E.invert(H)),b),{});this.chart.getEventBus().getStream(gt.bd).next({data:f})},this.config=vn()(this.config,u.DEFAULT_CONFIG),this.interactionHandlerMap={[en.s.MouseDown]:this.brushStart,[en.s.MouseMove]:this.brushMove,[en.s.MouseUp]:this.brushEnd}}initialize(){this.grid=this.chart.getGrid(),this.zoomBrushLayer=this.grid.getLasagna().addLayer({name:u.LAYER_NAME,order:gt.rz[Bt.n.foreground].order+1,clipped:!0}),this.chart.getEventBus().getStream(gt.DP).pipe((0,_.R)(this.destroy$)).subscribe(t=>{if(t.broadcast&&!this.config.enableExternalEvents)return;const e=t.data;ln()(this.grid.scales)||ln()(e.coordinates)||!this.interactionHandlerMap[e.interactionType]||this.interactionHandlerMap[e.interactionType](e.coordinates&&e.coordinates.x)}),this.brush=(0,xr.Yu)(),this.brushElement=this.zoomBrushLayer.append("g").attr("class","brush"),this.chart.getGrid().getInteractiveArea().on("pointerdown",()=>dt.B.target.setPointerCapture(dt.B.pointerId)).on("pointerup",()=>dt.B.target.releasePointerCapture(dt.B.pointerId))}updateDimensions(){const t=this.grid.config().dimension;this.brush.extent([[0,0],[t.width(),t.height()]]),this.brush(this.zoomBrushLayer.select(".brush")),this.brushElement.select(".overlay").style("pointer-events","none"),this.brushElement.select(".selection").attr("stroke",null)}destroy(){this.grid.getLasagna().removeLayer(u.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}}return u.LAYER_NAME="zoom-brush",u.DEFAULT_CONFIG={enableExternalEvents:!1},u})();o(20406),o(4482);class Fr{constructor(n=!0,t=!0,e=new $n(xi),i=new rn(Tn)){this.showBottomAxis=n,this.showTopBorder=t,this.palette=e,this.markers=i,this.sparks=[],this.isLegendActive=!1,this.highlightedDataPoints={},this.gridConfig=ri(new j,!1,t),this.gridConfig.interactionPlugins=!1,this.lastGridConfig=ri(new j,n,t),this.lastGridConfig.interactionPlugins=!1}update(n){const t=n.map(e=>({id:e.id,chartSeriesSet:[e]}));this.updateSparks(t)}updateSparks(n){const t=ot()(n);this.sparks=t.map((e,i)=>{const s=i===t.length-1,a=e.id?this.sparks.findIndex(c=>c.id===e.id):-1;return-1!==a?e.chart=this.reconfigureChart(this.sparks[a].chart,s):(e.chart=e.chart||this.createChart(s),e.id=e.id||Ne.uuid()),e.chart.update(e.chartSeriesSet),e})}getHighlightedValue(n,t,e){return l.getLabel(n,this.highlightedDataPoints[n.id],t,e)}trackByFn(n,t){return null==t?void 0:t.id}setRenderState(n,t){}getVisibleSeriesWithLegend(){return[]}createChart(n){const t=new qn(n?this.lastGridConfig:this.gridConfig),e=new Mi(t);return(this.showTopBorder||this.showBottomAxis)&&e.addPlugin(new fn),n&&this.showBottomAxis&&e.addPlugin(new cn),this.configureEventSubscriptions(e.getEventBus()),e}configureEventSubscriptions(n){n.getStream(gt.C1).subscribe(t=>{if(t.data.interactionType===en.s.MouseMove){const e=t.data.dataPoints;Object.keys(e).forEach(i=>{this.highlightedDataPoints[i]=Object.assign({},e[i])})}}),n.getStream(gt.CC).subscribe(t=>{this.isLegendActive=t.data})}reconfigureChart(n,t){n.getGrid().config(t?this.lastGridConfig:this.gridConfig),n.updateDimensions();const e=n.hasPlugin(cn);if(t&&!e&&this.showBottomAxis){const i=new cn;n.addPlugin(i),i.initialize()}else!t&&e&&n.removePlugin(cn);return n}}o(88682),o(89657);class Wr{constructor(){this.series=void 0,this.data=void 0}}class Hr extends se.T{draw(n,t){}highlightDataPoint(n,t,e){}getRequiredLayers(){return[]}getDataPointPosition(n,t,e){}}function zr(u){const n=new qn;return n.config(u&&u.horizontal?new Kn:new Zn),n}function Zr(u,n,t){return u&&u.horizontal?new Wn(n,t):new pr(n,t)}var Yr=o(36397),Qi=o.n(Yr);class le{constructor(n,t=1,e){this.scaleKey=n,this.levels=t,this.selectedDataPointIdxFn=e}getDataPointIndex(n,t,e,i){const s=e[this.scaleKey];return void 0===s?gt.Vg:this.findDataPointByValue(t,s,this.scaleKey,i)}findDataPointByValue(n,t,e,i){var s,a;const c=e.toUpperCase(),f=n.accessors.data,b=f["start"+c],E=f["end"+c];if("string"==typeof t)return Qi()(n.data,(H,ct)=>t===(null==b?void 0:b(H,ct,n.data,n)));if(ee()(t))return Qi()(n.data,(H,ct)=>{const Pt=null==b?void 0:b(H,ct,n.data,n),Ut=Math.min(this.levels,t.length,Pt.length);for(let Wt=0;Wt<Ut;Wt++)if(t[Wt]!==Pt[Wt])return!1;return!0});if(t.valueOf){const H=t.valueOf();if(i&&(null===(s=i[e])||void 0===s?void 0:s.isContinuous())){let ct=Qi()(n.data,(Pt,Ut)=>H>=(null==b?void 0:b(Pt,Ut,n.data,n).valueOf())&&H<=(null==E?void 0:E(Pt,Ut,n.data,n).valueOf()));if(-1===ct&&void 0!==E)if((0,it.oT)(i[e])){const Pt=(Wt,Zt)=>null==b?void 0:b(Wt,Zt,n.data,n),Ut=Ne.findNearestIndex(n.data,t,Pt);ct=Ut>=n.data.length||Pt(n.data[Ut],Ut)>H?-1:Ut}else ct=null!==(a=Ne.getClosestIndex(n.data,(Pt,Ut)=>E(Pt,Ut,n.data,n),t))&&void 0!==a?a:-1;return ct}return Qi()(n.data,(ct,Pt)=>H>=(null==b?void 0:b(ct,Pt,n.data,n).valueOf())&&H<=(null==E?void 0:E(ct,Pt,n.data,n).valueOf()))}return gt.Vg}highlightDataPoint(n,t,e,i){const s=t.containers[Bt.n.data],a=n.getContainerStateStyles,c=Te()(this.selectedDataPointIdxFn)?gt.hZ:this.selectedDataPointIdxFn(t.dataSeries.id);s.selectAll(`g.${n.barContainerClass}`).each(function(f,b){let E;E=e===gt.Vg?b===c||c===gt.hZ?Bt.L.default:Bt.L.deemphasized:e===b||b===c?Bt.L.emphasized:Bt.L.deemphasized,(0,C.Z)(this).attrs(a(E))})}draw(n,t,e){}}class nn{constructor(n,t=1){this.scaleKey=n,this.levels=t}getDataPointIndex(n,t,e,i){const s=e[this.scaleKey];return void 0===s?gt.Vg:this.findDataPointByValue(t,s,this.scaleKey)}findDataPointByValue(n,t,e){const i=e.toUpperCase(),s=n.accessors.data,a=s["start"+i],c=s["end"+i];if("string"==typeof t)return Qi()(n.data,(f,b)=>t===(null==a?void 0:a(f,b,n.data,n)));if(ee()(t))return Qi()(n.data,(f,b)=>{const E=null==a?void 0:a(f,b,n.data,n),H=Math.min(this.levels,t.length,E.length);for(let ct=0;ct<H;ct++)if(t[ct]!==E[ct])return!1;return!0});if(t.valueOf){const f=t.valueOf();return Qi()(n.data,(b,E)=>f>=(null==a?void 0:a(b,E,n.data,n).valueOf())&&f<=(null==c?void 0:c(b,E,n.data,n).valueOf()))}return gt.Vg}highlightDataPoint(n,t,e,i){(e>=0||e===gt.Vg)&&i.next({eventName:gt.TC,data:n.getDataPoint(t,t.dataSeries.data[e],e)})}draw(n,t,e){}}class Ht extends Bi.E{getArc(n,t,e){return t.outerRadius(n[1]-n[0]).innerRadius(0)}}function ai(u,n,t){const e=u.accessors.data,i=u.data,s=null==e?void 0:e[n];if(!s)throw new Error("Accessor "+n+" not defined!");const a=s(i[0],0,i,u),c=s(i[i.length-1],i.length-1,i,u);if(!a||!c)throw new Error("First or last values not defined!");const f=new Dn(t);f.domain([f.truncToInterval(a,f.interval()),f.truncToInterval(c,f.interval())]);const b=f.getBands(),E=[];let H=0;for(let ct=0;ct<i.length;ct++){const Pt=s(i[ct],ct,i,u),Ut=f.truncToInterval(Pt,f.interval());if(Ut&&Ut>b[H])for(E.push(Object.assign(Object.assign({},i[ct-1]),{defined:!1})),E.push(Object.assign(Object.assign({},i[ct]),{defined:!1}));b[H]<Pt;)H++;E.push(i[ct]),H++}return E}class bn{constructor(){this.INTERACTION_MARGIN=8}draw(n,t,e){const i=t.containers[Bt.n.data];let s=i.select("path.interaction");if(Et()(n.config.strokeWidth))throw new Error("renderer.config.strokeWidth is not defined");s.empty()&&(s=i.append("path").classed("interaction",!0).classed("pointer-events pointer-events-click",!0).attrs({"stroke-width":n.config.strokeWidth+2*this.INTERACTION_MARGIN,stroke:"transparent",fill:"none"}).on("mouseenter",()=>{e.next({eventName:gt.TC,data:{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:0,data:t.dataSeries.data[0]}})}).on("mouseleave",()=>{e.next({eventName:gt.TC,data:{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:gt.hZ}})}).on("click",(a,c)=>{this.emitEvent(n,gt.Qi,en.s.Click,t,a,c,e)})),n.drawLine(t,s)}getDataPointIndex(n,t,e,i){}highlightDataPoint(n,t,e,i){}emitEvent(n,t,e,i,s,a,c){const f={seriesId:i.dataSeries.id,dataSeries:i.dataSeries,index:a,data:s,position:n.getDataPointPosition(i.dataSeries,a,i.scales)};c.next({eventName:t,data:{interactionType:e,payload:f}})}}class ci{constructor(){this.strokeWidth=1,this.interactive=!1,this.strokeStyle=Ui.getStrokeStyleDashed(1),this.useEnhancedLineCaps=!0}}function hi(){const u=new qn;return u.config(new ui),u}class Ir extends tn{constructor(n={}){super(n),this.config=n,this.DEFAULT_CONFIG={curveType:Xi,interactive:!0,areaClass:"nui-chart-area",markerInteraction:ii},this.config=vn()(this.config,this.DEFAULT_CONFIG)}draw(n,t){var e,i,s;const a=n.containers[Bt.n.data],c=n.dataSeries.accessors;let f=a.select(`path.${this.config.areaClass}`);if(f.empty()){if(!this.config.areaClass)throw new Error("areaClass is not defined");f=a.append("path").classed(this.config.areaClass,!0).attrs({fill:null===(i=(e=c.series).color)||void 0===i?void 0:i.call(e,n.dataSeries.id,n.dataSeries)}).style("stroke-width",null!==(s=this.config.strokeWidth)&&void 0!==s?s:1)}this.drawArea(n,f)}drawArea(n,t){var e;const i=n.dataSeries,s=i.accessors;let a=!1;const c=i.data.filter((b,E)=>{var H,ct,Pt,Ut,Wt,Zt,we,Je;const In=void 0!==(null===(ct=(H=s.data).absoluteX0)||void 0===ct?void 0:ct.call(H,b,E,i.data,i))&&void 0!==(null===(Ut=(Pt=s.data).absoluteX1)||void 0===Ut?void 0:Ut.call(Pt,b,E,i.data,i))&&void 0!==(null===(Zt=(Wt=s.data).absoluteY0)||void 0===Zt?void 0:Zt.call(Wt,b,E,i.data,i))&&void 0!==(null===(Je=(we=s.data).absoluteY1)||void 0===Je?void 0:Je.call(we,b,E,i.data,i));return!In&&!a&&(console.warn("Data point",b,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x0:",s.data.x0),console.warn(" -> accessors.data.y0:",s.data.y0),console.warn(" -> accessors.data.x1:",s.data.x1),console.warn(" -> accessors.data.y1:",s.data.y1),a=!0),In});if(!this.config.curveType)throw new Error("curveType is not defined");const f=function Ji(){var u=Pi,n=null,t=(0,un.Z)(0),e=tr,i=(0,un.Z)(!0),s=null,a=Xi,c=null;function f(E){var H,ct,Pt,Wt,we,Ut=E.length,Zt=!1,Je=new Array(Ut),In=new Array(Ut);for(null==s&&(c=a(we=(0,gi.Z)())),H=0;H<=Ut;++H){if(!(H<Ut&&i(Wt=E[H],H,E))===Zt)if(Zt=!Zt)ct=H,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),Pt=H-1;Pt>=ct;--Pt)c.point(Je[Pt],In[Pt]);c.lineEnd(),c.areaEnd()}Zt&&(Je[H]=+u(Wt,H,E),In[H]=+t(Wt,H,E),c.point(n?+n(Wt,H,E):Je[H],e?+e(Wt,H,E):In[H]))}if(we)return c=null,we+""||null}function b(){return Ri().defined(i).curve(a).context(s)}return f.x=function(E){return arguments.length?(u="function"==typeof E?E:(0,un.Z)(+E),n=null,f):u},f.x0=function(E){return arguments.length?(u="function"==typeof E?E:(0,un.Z)(+E),f):u},f.x1=function(E){return arguments.length?(n=null==E?null:"function"==typeof E?E:(0,un.Z)(+E),f):n},f.y=function(E){return arguments.length?(t="function"==typeof E?E:(0,un.Z)(+E),e=null,f):t},f.y0=function(E){return arguments.length?(t="function"==typeof E?E:(0,un.Z)(+E),f):t},f.y1=function(E){return arguments.length?(e=null==E?null:"function"==typeof E?E:(0,un.Z)(+E),f):e},f.lineX0=f.lineY0=function(){return b().x(u).y(t)},f.lineY1=function(){return b().x(u).y(e)},f.lineX1=function(){return b().x(n).y(t)},f.defined=function(E){return arguments.length?(i="function"==typeof E?E:(0,un.Z)(!!E),f):i},f.curve=function(E){return arguments.length?(a=E,null!=s&&(c=a(s)),f):a},f.context=function(E){return arguments.length?(null==E?s=c=null:c=a(s=E),f):s},f}().x0((b,E)=>{var H,ct;return this.safetyCheck(n.scales.x.convert(null===(ct=(H=s.data).absoluteX0)||void 0===ct?void 0:ct.call(H,b,E,i.data,i)))}).x1((b,E)=>{var H,ct;return this.safetyCheck(n.scales.x.convert(null===(ct=(H=s.data).absoluteX1)||void 0===ct?void 0:ct.call(H,b,E,i.data,i)))}).y0((b,E)=>{var H,ct;return this.safetyCheck(n.scales.y.convert(null===(ct=(H=s.data).absoluteY0)||void 0===ct?void 0:ct.call(H,b,E,i.data,i)))}).y1((b,E)=>{var H,ct;return this.safetyCheck(n.scales.y.convert(null===(ct=(H=s.data).absoluteY1)||void 0===ct?void 0:ct.call(H,b,E,i.data,i)))}).curve(this.config.curveType);t.attr("d",null!==(e=f(c))&&void 0!==e?e:"")}getDomain(n,t,e,i){if(!n||0===n.length)return it.iz;const s=t.accessors.data;if("x"!==e&&"y"!==e)return[void 0,void 0];const a=s[`absolute${e.toUpperCase()}0`],c=s[`absolute${e.toUpperCase()}1`];return[(0,On.VV)(n,(f,b,E)=>(0,On.VV)([null==a?void 0:a(f,b,E,t),null==c?void 0:c(f,b,E,t)])),(0,On.Fp)(n,(f,b,E)=>(0,On.Fp)([null==a?void 0:a(f,b,E,t),null==c?void 0:c(f,b,E,t)]))]}getRequiredLayers(){return[gt.rz[Bt.n.data],gt.rz[Bt.n.foreground]]}filterDataByDomain(n,t,e,i){const s=t.accessors.data[e+"0"],a=t.accessors.data[e+"1"];return n.filter((c,f)=>{const b=null==s?void 0:s(c,f,n,t),E=null==a?void 0:a(c,f,n,t);return Math.max(b,E)>=i[0]&&Math.min(b,E)<=i[1]})}highlightDataPoint(n,t,e){n.dataSeries.accessors.series.marker&&this.config.interactive&&wi.manageMarker(n.dataSeries,n.scales,t,n.containers[Bt.n.foreground],e,this.config.markerInteraction)}safetyCheck(n){return void 0===n||isNaN(n)?0:n}}function Qr(u){return function Kr(u,n){if(0===u.length)return u;const t={};for(const s of u){if(!1===s.preprocess)continue;const a=s.accessors.data.x,c=s.accessors.data.y0,f=s.accessors.data.y1,b=n(s)?1:0;s.data.forEach((E,H)=>{const ct=a(E,H,s.data,s),Pt=null==c?void 0:c(E,H,s.data,s),Wt=((null==f?void 0:f(E,H,s.data,s))-Pt)*b;let Zt=t[ct.valueOf()];void 0===Zt&&(Zt=0,t[ct.valueOf()]=Zt);const we=Zt+Wt;t[ct.valueOf()]=we,E.__stack_y={start:Zt,end:we}})}return u}(u,n=>!this.isSeriesHidden(n.id))}function qr(u){return function Jr(u,n){if(0===u.length)return u;const t={},e={};for(const a of u)ts("x","y",a,n,e);for(const a of u)es("x","y",a,n,t,e);return u}(u,n=>!this.isSeriesHidden(n.id))}function ts(u,n,t,e,i){const s=t.accessors.data[u],a=t.accessors.data[n+"0"],c=t.accessors.data[n+"1"],f=e(t)?1:0;t.data.forEach((b,E)=>{const H=s(b,E,t.data,t),ct=null==a?void 0:a(b,E,t.data,t),Ut=((null==c?void 0:c(b,E,t.data,t))-ct)*f;let Wt=i[H.valueOf()];void 0===Wt&&(Wt=0,i[H.valueOf()]=Wt),i[H.valueOf()]=Wt+Ut})}function es(u,n,t,e,i,s){const a=t.accessors.data[u],c=t.accessors.data[n+"0"],f=t.accessors.data[n+"1"],b=e(t)?1:0;t.data.forEach((E,H)=>{const ct=a(E,H,t.data,t),Pt=null==c?void 0:c(E,H,t.data,t),Wt=((null==f?void 0:f(E,H,t.data,t))-Pt)*b;let Zt=i[ct.valueOf()];void 0===Zt&&(Zt=0,i[ct.valueOf()]=Zt);const Je=Zt+Wt/s[ct.valueOf()]*100;i[ct.valueOf()]=Je,E["__stack_"+n]={start:Zt,end:Je}})}function ns(u,n){const t=new Fn(u,n);return t.data.x=e=>e.x,t.data.y=t.data.absoluteY1,t.data.y0=()=>0,t.data.y1=e=>e.y,t}function is(u=new j){return u.axis.left.visible=!1,u.axis.left.gridTicks=!1,u.dimension.padding.bottom=5,u.dimension.autoHeight=!1,u.dimension.height(20),u}function rs(u=new j){return u.axis.bottom.visible=!1,u.dimension.margin.bottom=0,u.dimension.padding.bottom=5,u}},33335:(It,pt,o)=>{"use strict";o.d(pt,{E:()=>$,G:()=>k});var v=o(84524),L=o(69754),m=o.n(L),O=o(34235),Y=o.n(O),B=o(92893),et=o(2158),C=o(13431),D=o(68208);const k={annularWidth:20,annularPadding:5,maxThickness:30,annularGrowth:.15,cursor:"default",enableSeriesHighlighting:!0,enableDataPointHighlighting:!0};class $ extends et.T{constructor(T={}){super(T),this.config=T,this.config=m()(this.config,k)}draw(T,A){const R=T.containers[D.n.data],J=T.dataSeries.data,z=T.dataSeries.accessors;this.segmentWidth=this.getSegmentWidth(T);const G=R.selectAll("path.arc").data(J);G.exit().remove(),G.enter().append("path").attr("class","arc pointer-events nui-chart--path__outline").style("stroke-width",this.config.strokeWidth).style("cursor",this.config.cursor).on("mouseenter",(ht,Z)=>{this.emitDataPointHighlight(T,ht,Z,A)}).on("mouseleave",(ht,Z)=>{this.emitDataPointHighlight(T,null,B.hZ,A)}).on("click",(ht,Z)=>{A.next({eventName:B.q7,data:{seriesId:T.dataSeries.id,index:Z,data:ht.data,position:this.getDataPointPosition(T.dataSeries,Z,T.scales)}})}).merge(G).attr("d",(ht,Z)=>this.getArc(T.scales.r.range(),(0,v.Z)(),Z)(ht)).attr("fill",(ht,Z)=>{var St,lt;return z.data.color?z.data.color(ht.data,Z,J,T.dataSeries):null===(lt=(St=z.series).color)||void 0===lt?void 0:lt.call(St,T.dataSeries.id,T.dataSeries)})}getDataPointPosition(T,A,R){if(A<0)return;const J=T.data[A],rt=this.getArc(R.r.range(),(0,v.Z)(),A).centroid(J);return{x:rt[0],y:rt[1],width:0,height:0}}getInnerRadius(T,A){if(Y()(this.segmentWidth)||Y()(this.config.annularPadding))throw new Error("Can't compute inner radius");const R=T[1]-T[0]-this.segmentWidth-A*(this.config.annularPadding+this.segmentWidth);return R>=0?R:0}getOuterRadius(T,A){if(Y()(this.segmentWidth)||Y()(this.config.annularPadding))throw new Error("Can't compute outer radius");const R=T[1]-T[0]-A*(this.config.annularPadding+this.segmentWidth);return R>=0?R:0}getArc(T,A,R){const J=this.getInnerRadius(T,R);return A.outerRadius(this.getOuterRadius(T,R)).innerRadius(J)}getSegmentWidth(T){return this.config.maxThickness&&this.config.annularGrowth?Math.min((T.scales.r.range()[1]-T.scales.r.range()[0])*this.config.annularGrowth,this.config.maxThickness):this.config.annularWidth}emitDataPointHighlight(T,A,R,J){const z=this.getDataPointPosition(T.dataSeries,R,T.scales),rt={seriesId:T.dataSeries.id,dataSeries:T.dataSeries,index:R,data:A,position:z};this.config.enableSeriesHighlighting&&J.next({eventName:B.TC,data:rt}),this.config.enableDataPointHighlighting&&J.next({eventName:B.Rj,data:rt}),J.next({eventName:B.C1,data:{interactionType:C.s.MouseMove,dataPoints:{[T.dataSeries.id]:rt}}})}}},68208:(It,pt,o)=>{"use strict";o.d(pt,{L:()=>v,n:()=>L});var v=(()=>{return(m=v||(v={})).hidden="hidden",m.deemphasized="deemphasized",m.emphasized="emphasized",m.default="default",v;var m})(),L=(()=>{return(m=L||(L={})).background="background",m.data="data",m.unclippedData="unclipped-data",m.foreground="foreground",L;var m})()},62225:(It,pt,o)=>{"use strict";function v(lt,vt){return lt<vt?-1:lt>vt?1:lt>=vt?0:NaN}function L(lt){return 1===lt.length&&(lt=function m(lt){return function(vt,At){return v(lt(vt),At)}}(lt)),{left:function(vt,At,ut,ot){for(null==ut&&(ut=0),null==ot&&(ot=vt.length);ut<ot;){var nt=ut+ot>>>1;lt(vt[nt],At)<0?ut=nt+1:ot=nt}return ut},right:function(vt,At,ut,ot){for(null==ut&&(ut=0),null==ot&&(ot=vt.length);ut<ot;){var nt=ut+ot>>>1;lt(vt[nt],At)>0?ot=nt:ut=nt+1}return ut}}}o.d(pt,{b4:()=>et,YF:()=>L,We:()=>C,Fp:()=>ht,VV:()=>Z,w6:()=>St,G9:()=>J,ly:()=>z,sd:()=>R});const et=L(v).right;function C(lt,vt){var ot,nt,Yt,At=lt.length,ut=-1;if(null==vt){for(;++ut<At;)if(null!=(ot=lt[ut])&&ot>=ot)for(nt=Yt=ot;++ut<At;)null!=(ot=lt[ut])&&(nt>ot&&(nt=ot),Yt<ot&&(Yt=ot))}else for(;++ut<At;)if(null!=(ot=vt(lt[ut],ut,lt))&&ot>=ot)for(nt=Yt=ot;++ut<At;)null!=(ot=vt(lt[ut],ut,lt))&&(nt>ot&&(nt=ot),Yt<ot&&(Yt=ot));return[nt,Yt]}var W=Math.sqrt(50),T=Math.sqrt(10),A=Math.sqrt(2);function R(lt,vt,At){var ut,nt,Yt,$t,ot=-1;if(At=+At,(lt=+lt)==(vt=+vt)&&At>0)return[lt];if((ut=vt<lt)&&(nt=lt,lt=vt,vt=nt),0===($t=J(lt,vt,At))||!isFinite($t))return[];if($t>0)for(lt=Math.ceil(lt/$t),vt=Math.floor(vt/$t),Yt=new Array(nt=Math.ceil(vt-lt+1));++ot<nt;)Yt[ot]=(lt+ot)*$t;else for(lt=Math.floor(lt*$t),vt=Math.ceil(vt*$t),Yt=new Array(nt=Math.ceil(lt-vt+1));++ot<nt;)Yt[ot]=(lt-ot)/$t;return ut&&Yt.reverse(),Yt}function J(lt,vt,At){var ut=(vt-lt)/Math.max(0,At),ot=Math.floor(Math.log(ut)/Math.LN10),nt=ut/Math.pow(10,ot);return ot>=0?(nt>=W?10:nt>=T?5:nt>=A?2:1)*Math.pow(10,ot):-Math.pow(10,-ot)/(nt>=W?10:nt>=T?5:nt>=A?2:1)}function z(lt,vt,At){var ut=Math.abs(vt-lt)/Math.max(0,At),ot=Math.pow(10,Math.floor(Math.log(ut)/Math.LN10)),nt=ut/ot;return nt>=W?ot*=10:nt>=T?ot*=5:nt>=A&&(ot*=2),vt<lt?-ot:ot}function ht(lt,vt){var ot,nt,At=lt.length,ut=-1;if(null==vt){for(;++ut<At;)if(null!=(ot=lt[ut])&&ot>=ot)for(nt=ot;++ut<At;)null!=(ot=lt[ut])&&ot>nt&&(nt=ot)}else for(;++ut<At;)if(null!=(ot=vt(lt[ut],ut,lt))&&ot>=ot)for(nt=ot;++ut<At;)null!=(ot=vt(lt[ut],ut,lt))&&ot>nt&&(nt=ot);return nt}function Z(lt,vt){var ot,nt,At=lt.length,ut=-1;if(null==vt){for(;++ut<At;)if(null!=(ot=lt[ut])&&ot>=ot)for(nt=ot;++ut<At;)null!=(ot=lt[ut])&&nt>ot&&(nt=ot)}else for(;++ut<At;)if(null!=(ot=vt(lt[ut],ut,lt))&&ot>=ot)for(nt=ot;++ut<At;)null!=(ot=vt(lt[ut],ut,lt))&&nt>ot&&(nt=ot);return nt}function St(lt,vt,At){lt=+lt,vt=+vt,At=(ot=arguments.length)<2?(vt=lt,lt=0,1):ot<3?1:+At;for(var ut=-1,ot=0|Math.max(0,Math.ceil((vt-lt)/At)),nt=new Array(ot);++ut<ot;)nt[ut]=lt+ut*At;return nt}},24099:(It,pt,o)=>{"use strict";o.d(pt,{Yu:()=>K});var v=o(25922),L=o(52016),m=o(61746);function Y(){m.B.preventDefault(),m.B.stopImmediatePropagation()}function B(Lt){var he=Lt.document.documentElement,Ae=(0,L.Z)(Lt).on("dragstart.drag",Y,!0);"onselectstart"in he?Ae.on("selectstart.drag",Y,!0):(he.__noselect=he.style.MozUserSelect,he.style.MozUserSelect="none")}function et(Lt,he){var Ae=Lt.document.documentElement,je=(0,L.Z)(Lt).on("dragstart.drag",null);he&&(je.on("click.drag",Y,!0),setTimeout(function(){je.on("click.drag",null)},0)),"onselectstart"in Ae?je.on("selectstart.drag",null):(Ae.style.MozUserSelect=Ae.__noselect,delete Ae.__noselect)}var C=o(82180),D=o(75819),k=o(25941),W=o(66073),T=o(64747);function A(Lt){return function(){return Lt}}function R(Lt,he,Ae){this.target=Lt,this.type=he,this.selection=Ae}function J(){m.B.stopImmediatePropagation()}function z(){m.B.preventDefault(),m.B.stopImmediatePropagation()}var rt={name:"drag"},G={name:"space"},ht={name:"handle"},Z={name:"center"};function St(Lt){return[+Lt[0],+Lt[1]]}function lt(Lt){return[St(Lt[0]),St(Lt[1])]}function vt(Lt){return function(he){return function $(Lt,he,Ae){arguments.length<3&&(Ae=he,he=(0,D.Z)().changedTouches);for(var Mn,je=0,gn=he?he.length:0;je<gn;++je)if((Mn=he[je]).identifier===Ae)return(0,k.Z)(Lt,Mn);return null}(he,m.B.touches,Lt)}}var At={name:"x",handles:["w","e"].map(ye),input:function(Lt,he){return null==Lt?null:[[+Lt[0],he[0][1]],[+Lt[1],he[1][1]]]},output:function(Lt){return Lt&&[Lt[0][0],Lt[1][0]]}},ut={name:"y",handles:["n","s"].map(ye),input:function(Lt,he){return null==Lt?null:[[he[0][0],+Lt[0]],[he[1][0],+Lt[1]]]},output:function(Lt){return Lt&&[Lt[0][1],Lt[1][1]]}},nt=(["n","w","e","s","nw","ne","sw","se"].map(ye),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Yt={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},$t={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ue={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ce={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ye(Lt){return{type:Lt}}function it(){return!m.B.ctrlKey&&!m.B.button}function Ct(){var Lt=this.ownerSVGElement||this;return Lt.hasAttribute("viewBox")?[[(Lt=Lt.viewBox.baseVal).x,Lt.y],[Lt.x+Lt.width,Lt.y+Lt.height]]:[[0,0],[Lt.width.baseVal.value,Lt.height.baseVal.value]]}function Vt(){return navigator.maxTouchPoints||"ontouchstart"in this}function ee(Lt){for(;!Lt.__brush;)if(!(Lt=Lt.parentNode))return;return Lt.__brush}function ke(Lt){return Lt[0][0]===Lt[1][0]||Lt[0][1]===Lt[1][1]}function K(){return function pe(Lt){var Vn,he=Ct,Ae=it,je=Vt,gn=!0,Mn=(0,v.Z)("start","brush","end"),Rn=6;function Xe(ne){var ve=ne.property("__brush",xi).selectAll(".overlay").data([ye("overlay")]);ve.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",nt.overlay).merge(ve).each(function(){var re=ee(this).extent;(0,L.Z)(this).attr("x",re[0][0]).attr("y",re[0][1]).attr("width",re[1][0]-re[0][0]).attr("height",re[1][1]-re[0][1])}),ne.selectAll(".selection").data([ye("selection")]).enter().append("rect").attr("class","selection").attr("cursor",nt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Ce=ne.selectAll(".handle").data(Lt.handles,function(re){return re.type});Ce.exit().remove(),Ce.enter().append("rect").attr("class",function(re){return"handle handle--"+re.type}).attr("cursor",function(re){return nt[re.type]}),ne.each(Ln).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",ni).filter(je).on("touchstart.brush",ni).on("touchmove.brush",Te).on("touchend.brush touchcancel.brush",Xn).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Ln(){var ne=(0,L.Z)(this),ve=ee(this).selection;ve?(ne.selectAll(".selection").style("display",null).attr("x",ve[0][0]).attr("y",ve[0][1]).attr("width",ve[1][0]-ve[0][0]).attr("height",ve[1][1]-ve[0][1]),ne.selectAll(".handle").style("display",null).attr("x",function(Ce){return"e"===Ce.type[Ce.type.length-1]?ve[1][0]-Rn/2:ve[0][0]-Rn/2}).attr("y",function(Ce){return"s"===Ce.type[0]?ve[1][1]-Rn/2:ve[0][1]-Rn/2}).attr("width",function(Ce){return"n"===Ce.type||"s"===Ce.type?ve[1][0]-ve[0][0]+Rn:Rn}).attr("height",function(Ce){return"e"===Ce.type||"w"===Ce.type?ve[1][1]-ve[0][1]+Rn:Rn})):ne.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function hn(ne,ve,Ce){var re=ne.__brush.emitter;return!re||Ce&&re.clean?new $n(ne,ve,Ce):re}function $n(ne,ve,Ce){this.that=ne,this.args=ve,this.state=ne.__brush,this.active=0,this.clean=Ce}function ni(){if((!Vn||m.B.touches)&&Ae.apply(this,arguments)){var sn,$e,pn,mn,an,xn,on,En,vn,X,bt,ne=this,ve=m.B.target.__data__.type,Ce="selection"===(gn&&m.B.metaKey?ve="overlay":ve)?rt:gn&&m.B.altKey?Z:ht,re=Lt===ut?null:ue[ve],Ze=Lt===At?null:ce[ve],_n=ee(ne),Tn=_n.extent,rn=_n.selection,Ve=Tn[0][0],Fn=Tn[0][1],Wn=Tn[1][0],On=Tn[1][1],ze=0,_e=0,dn=re&&Ze&&gn&&m.B.shiftKey,Gt=m.B.touches?vt(m.B.changedTouches[0].identifier):W.Z,gt=Gt(ne),jt=gt,ie=hn(ne,arguments,!0).beforestart();"overlay"===ve?(rn&&(vn=!0),_n.selection=rn=[[sn=Lt===ut?Ve:gt[0],pn=Lt===At?Fn:gt[1]],[an=Lt===ut?Wn:sn,on=Lt===At?On:pn]]):(sn=rn[0][0],pn=rn[0][1],an=rn[1][0],on=rn[1][1]),$e=sn,mn=pn,xn=an,En=on;var Bt=(0,L.Z)(ne).attr("pointer-events","none"),se=Bt.selectAll(".overlay").attr("cursor",nt[ve]);if(m.B.touches)ie.moved=Oe,ie.ended=ln;else{var Pe=(0,L.Z)(m.B.view).on("mousemove.brush",Oe,!0).on("mouseup.brush",ln,!0);gn&&Pe.on("keydown.brush",kn,!0).on("keyup.brush",Ne,!0),B(m.B.view)}J(),(0,T.e1)(ne),Ln.call(ne),ie.start()}function Oe(){var tn=Gt(ne);dn&&!X&&!bt&&(Math.abs(tn[0]-jt[0])>Math.abs(tn[1]-jt[1])?bt=!0:X=!0),jt=tn,vn=!0,z(),Ke()}function Ke(){var tn;switch(ze=jt[0]-gt[0],_e=jt[1]-gt[1],Ce){case G:case rt:re&&(ze=Math.max(Ve-sn,Math.min(Wn-an,ze)),$e=sn+ze,xn=an+ze),Ze&&(_e=Math.max(Fn-pn,Math.min(On-on,_e)),mn=pn+_e,En=on+_e);break;case ht:re<0?(ze=Math.max(Ve-sn,Math.min(Wn-sn,ze)),$e=sn+ze,xn=an):re>0&&(ze=Math.max(Ve-an,Math.min(Wn-an,ze)),$e=sn,xn=an+ze),Ze<0?(_e=Math.max(Fn-pn,Math.min(On-pn,_e)),mn=pn+_e,En=on):Ze>0&&(_e=Math.max(Fn-on,Math.min(On-on,_e)),mn=pn,En=on+_e);break;case Z:re&&($e=Math.max(Ve,Math.min(Wn,sn-ze*re)),xn=Math.max(Ve,Math.min(Wn,an+ze*re))),Ze&&(mn=Math.max(Fn,Math.min(On,pn-_e*Ze)),En=Math.max(Fn,Math.min(On,on+_e*Ze)))}xn<$e&&(re*=-1,tn=sn,sn=an,an=tn,tn=$e,$e=xn,xn=tn,ve in Yt&&se.attr("cursor",nt[ve=Yt[ve]])),En<mn&&(Ze*=-1,tn=pn,pn=on,on=tn,tn=mn,mn=En,En=tn,ve in $t&&se.attr("cursor",nt[ve=$t[ve]])),_n.selection&&(rn=_n.selection),X&&($e=rn[0][0],xn=rn[1][0]),bt&&(mn=rn[0][1],En=rn[1][1]),(rn[0][0]!==$e||rn[0][1]!==mn||rn[1][0]!==xn||rn[1][1]!==En)&&(_n.selection=[[$e,mn],[xn,En]],Ln.call(ne),ie.brush())}function ln(){if(J(),m.B.touches){if(m.B.touches.length)return;Vn&&clearTimeout(Vn),Vn=setTimeout(function(){Vn=null},500)}else et(m.B.view,vn),Pe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Bt.attr("pointer-events","all"),se.attr("cursor",nt.overlay),_n.selection&&(rn=_n.selection),ke(rn)&&(_n.selection=null,Ln.call(ne)),ie.end()}function kn(){switch(m.B.keyCode){case 16:dn=re&&Ze;break;case 18:Ce===ht&&(re&&(an=xn-ze*re,sn=$e+ze*re),Ze&&(on=En-_e*Ze,pn=mn+_e*Ze),Ce=Z,Ke());break;case 32:(Ce===ht||Ce===Z)&&(re<0?an=xn-ze:re>0&&(sn=$e-ze),Ze<0?on=En-_e:Ze>0&&(pn=mn-_e),Ce=G,se.attr("cursor",nt.selection),Ke());break;default:return}z()}function Ne(){switch(m.B.keyCode){case 16:dn&&(X=bt=dn=!1,Ke());break;case 18:Ce===Z&&(re<0?an=xn:re>0&&(sn=$e),Ze<0?on=En:Ze>0&&(pn=mn),Ce=ht,Ke());break;case 32:Ce===G&&(m.B.altKey?(re&&(an=xn-ze*re,sn=$e+ze*re),Ze&&(on=En-_e*Ze,pn=mn+_e*Ze),Ce=Z):(re<0?an=xn:re>0&&(sn=$e),Ze<0?on=En:Ze>0&&(pn=mn),Ce=ht),se.attr("cursor",nt[ve]),Ke());break;default:return}z()}}function Te(){hn(this,arguments).moved()}function Xn(){hn(this,arguments).ended()}function xi(){var ne=this.__brush||{selection:null};return ne.extent=lt(he.apply(this,arguments)),ne.dim=Lt,ne}return Xe.move=function(ne,ve){ne.selection?ne.on("start.brush",function(){hn(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){hn(this,arguments).end()}).tween("brush",function(){var Ce=this,re=Ce.__brush,Ze=hn(Ce,arguments),_n=re.selection,Tn=Lt.input("function"==typeof ve?ve.apply(this,arguments):ve,re.extent),rn=(0,C.Z)(_n,Tn);function Ve(sn){re.selection=1===sn&&null===Tn?null:rn(sn),Ln.call(Ce),Ze.brush()}return null!==_n&&null!==Tn?Ve:Ve(1)}):ne.each(function(){var Ce=this,re=arguments,Ze=Ce.__brush,_n=Lt.input("function"==typeof ve?ve.apply(Ce,re):ve,Ze.extent),Tn=hn(Ce,re).beforestart();(0,T.e1)(Ce),Ze.selection=null===_n?null:_n,Ln.call(Ce),Tn.start().brush().end()})},Xe.clear=function(ne){Xe.move(ne,null)},$n.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(ne){(0,m._H)(new R(Xe,ne,Lt.output(this.state.selection)),Mn.apply,Mn,[ne,this.that,this.args])}},Xe.extent=function(ne){return arguments.length?(he="function"==typeof ne?ne:A(lt(ne)),Xe):he},Xe.filter=function(ne){return arguments.length?(Ae="function"==typeof ne?ne:A(!!ne),Xe):Ae},Xe.touchable=function(ne){return arguments.length?(je="function"==typeof ne?ne:A(!!ne),Xe):je},Xe.handleSize=function(ne){return arguments.length?(Rn=+ne,Xe):Rn},Xe.keyModifiers=function(ne){return arguments.length?(gn=!!ne,Xe):gn},Xe.on=function(){var ne=Mn.on.apply(Mn,arguments);return ne===Mn?Xe:ne},Xe}(At)}},88097:(It,pt,o)=>{"use strict";o.d(pt,{UI:()=>O});var v="$";function L(){}function m(A,R){var J=new L;if(A instanceof L)A.each(function(Z,St){J.set(St,Z)});else if(Array.isArray(A)){var G,z=-1,rt=A.length;if(null==R)for(;++z<rt;)J.set(z,A[z]);else for(;++z<rt;)J.set(R(G=A[z],z,A),G)}else if(A)for(var ht in A)J.set(ht,A[ht]);return J}L.prototype=m.prototype={constructor:L,has:function(A){return v+A in this},get:function(A){return this[v+A]},set:function(A,R){return this[v+A]=R,this},remove:function(A){var R=v+A;return R in this&&delete this[R]},clear:function(){for(var A in this)A[0]===v&&delete this[A]},keys:function(){var A=[];for(var R in this)R[0]===v&&A.push(R.slice(1));return A},values:function(){var A=[];for(var R in this)R[0]===v&&A.push(this[R]);return A},entries:function(){var A=[];for(var R in this)R[0]===v&&A.push({key:R.slice(1),value:this[R]});return A},size:function(){var A=0;for(var R in this)R[0]===v&&++A;return A},empty:function(){for(var A in this)if(A[0]===v)return!1;return!0},each:function(A){for(var R in this)R[0]===v&&A(this[R],R.slice(1),this)}};const O=m;function k(){}var $=O.prototype;k.prototype=function W(A,R){var J=new k;if(A instanceof k)A.each(function(G){J.add(G)});else if(A){var z=-1,rt=A.length;if(null==R)for(;++z<rt;)J.add(A[z]);else for(;++z<rt;)J.add(R(A[z],z,A))}return J}.prototype={constructor:k,has:$.has,add:function(A){return this[v+(A+="")]=A,this},remove:$.remove,clear:$.clear,values:$.keys,size:$.size,empty:$.empty,each:$.each}},25922:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>et});var v={value:function(){}};function L(){for(var $,C=0,D=arguments.length,k={};C<D;++C){if(!($=arguments[C]+"")||$ in k||/[\s.]/.test($))throw new Error("illegal type: "+$);k[$]=[]}return new m(k)}function m(C){this._=C}function O(C,D){return C.trim().split(/^|\s+/).map(function(k){var $="",W=k.indexOf(".");if(W>=0&&($=k.slice(W+1),k=k.slice(0,W)),k&&!D.hasOwnProperty(k))throw new Error("unknown type: "+k);return{type:k,name:$}})}function Y(C,D){for(var W,k=0,$=C.length;k<$;++k)if((W=C[k]).name===D)return W.value}function B(C,D,k){for(var $=0,W=C.length;$<W;++$)if(C[$].name===D){C[$]=v,C=C.slice(0,$).concat(C.slice($+1));break}return null!=k&&C.push({name:D,value:k}),C}m.prototype=L.prototype={constructor:m,on:function(C,D){var W,k=this._,$=O(C+"",k),T=-1,A=$.length;if(!(arguments.length<2)){if(null!=D&&"function"!=typeof D)throw new Error("invalid callback: "+D);for(;++T<A;)if(W=(C=$[T]).type)k[W]=B(k[W],C.name,D);else if(null==D)for(W in k)k[W]=B(k[W],C.name,null);return this}for(;++T<A;)if((W=(C=$[T]).type)&&(W=Y(k[W],C.name)))return W},copy:function(){var C={},D=this._;for(var k in D)C[k]=D[k].slice();return new m(C)},call:function(C,D){if((W=arguments.length-2)>0)for(var W,T,k=new Array(W),$=0;$<W;++$)k[$]=arguments[$+2];if(!this._.hasOwnProperty(C))throw new Error("unknown type: "+C);for($=0,W=(T=this._[C]).length;$<W;++$)T[$].value.apply(D,k)},apply:function(C,D,k){if(!this._.hasOwnProperty(C))throw new Error("unknown type: "+C);for(var $=this._[C],W=0,T=$.length;W<T;++W)$[W].value.apply(D,k)}};const et=L},85961:(It,pt,o)=>{"use strict";function v(it,Ct,Vt){it.prototype=Ct.prototype=Vt,Vt.constructor=it}function L(it,Ct){var Vt=Object.create(it.prototype);for(var ee in Ct)Vt[ee]=Ct[ee];return Vt}function m(){}o.d(pt,{ZP:()=>ht,B8:()=>vt});var O=.7,Y=1/O,B="\\s*([+-]?\\d+)\\s*",et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D=/^#([0-9a-f]{3,8})$/,k=new RegExp("^rgb\\("+[B,B,B]+"\\)$"),$=new RegExp("^rgb\\("+[C,C,C]+"\\)$"),W=new RegExp("^rgba\\("+[B,B,B,et]+"\\)$"),T=new RegExp("^rgba\\("+[C,C,C,et]+"\\)$"),A=new RegExp("^hsl\\("+[et,C,C]+"\\)$"),R=new RegExp("^hsla\\("+[et,C,C,et]+"\\)$"),J={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function z(){return this.rgb().formatHex()}function G(){return this.rgb().formatRgb()}function ht(it){var Ct,Vt;return it=(it+"").trim().toLowerCase(),(Ct=D.exec(it))?(Vt=Ct[1].length,Ct=parseInt(Ct[1],16),6===Vt?Z(Ct):3===Vt?new At(Ct>>8&15|Ct>>4&240,Ct>>4&15|240&Ct,(15&Ct)<<4|15&Ct,1):8===Vt?St(Ct>>24&255,Ct>>16&255,Ct>>8&255,(255&Ct)/255):4===Vt?St(Ct>>12&15|Ct>>8&240,Ct>>8&15|Ct>>4&240,Ct>>4&15|240&Ct,((15&Ct)<<4|15&Ct)/255):null):(Ct=k.exec(it))?new At(Ct[1],Ct[2],Ct[3],1):(Ct=$.exec(it))?new At(255*Ct[1]/100,255*Ct[2]/100,255*Ct[3]/100,1):(Ct=W.exec(it))?St(Ct[1],Ct[2],Ct[3],Ct[4]):(Ct=T.exec(it))?St(255*Ct[1]/100,255*Ct[2]/100,255*Ct[3]/100,Ct[4]):(Ct=A.exec(it))?Yt(Ct[1],Ct[2]/100,Ct[3]/100,1):(Ct=R.exec(it))?Yt(Ct[1],Ct[2]/100,Ct[3]/100,Ct[4]):J.hasOwnProperty(it)?Z(J[it]):"transparent"===it?new At(NaN,NaN,NaN,0):null}function Z(it){return new At(it>>16&255,it>>8&255,255&it,1)}function St(it,Ct,Vt,ee){return ee<=0&&(it=Ct=Vt=NaN),new At(it,Ct,Vt,ee)}function lt(it){return it instanceof m||(it=ht(it)),it?new At((it=it.rgb()).r,it.g,it.b,it.opacity):new At}function vt(it,Ct,Vt,ee){return 1===arguments.length?lt(it):new At(it,Ct,Vt,null==ee?1:ee)}function At(it,Ct,Vt,ee){this.r=+it,this.g=+Ct,this.b=+Vt,this.opacity=+ee}function ut(){return"#"+nt(this.r)+nt(this.g)+nt(this.b)}function ot(){var it=this.opacity;return(1===(it=isNaN(it)?1:Math.max(0,Math.min(1,it)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===it?")":", "+it+")")}function nt(it){return((it=Math.max(0,Math.min(255,Math.round(it)||0)))<16?"0":"")+it.toString(16)}function Yt(it,Ct,Vt,ee){return ee<=0?it=Ct=Vt=NaN:Vt<=0||Vt>=1?it=Ct=NaN:Ct<=0&&(it=NaN),new ce(it,Ct,Vt,ee)}function $t(it){if(it instanceof ce)return new ce(it.h,it.s,it.l,it.opacity);if(it instanceof m||(it=ht(it)),!it)return new ce;if(it instanceof ce)return it;var Ct=(it=it.rgb()).r/255,Vt=it.g/255,ee=it.b/255,ke=Math.min(Ct,Vt,ee),qe=Math.max(Ct,Vt,ee),K=NaN,xt=qe-ke,Kt=(qe+ke)/2;return xt?(K=Ct===qe?(Vt-ee)/xt+6*(Vt<ee):Vt===qe?(ee-Ct)/xt+2:(Ct-Vt)/xt+4,xt/=Kt<.5?qe+ke:2-qe-ke,K*=60):xt=Kt>0&&Kt<1?0:K,new ce(K,xt,Kt,it.opacity)}function ce(it,Ct,Vt,ee){this.h=+it,this.s=+Ct,this.l=+Vt,this.opacity=+ee}function ye(it,Ct,Vt){return 255*(it<60?Ct+(Vt-Ct)*it/60:it<180?Vt:it<240?Ct+(Vt-Ct)*(240-it)/60:Ct)}v(m,ht,{copy:function(it){return Object.assign(new this.constructor,this,it)},displayable:function(){return this.rgb().displayable()},hex:z,formatHex:z,formatHsl:function rt(){return $t(this).formatHsl()},formatRgb:G,toString:G}),v(At,vt,L(m,{brighter:function(it){return it=null==it?Y:Math.pow(Y,it),new At(this.r*it,this.g*it,this.b*it,this.opacity)},darker:function(it){return it=null==it?O:Math.pow(O,it),new At(this.r*it,this.g*it,this.b*it,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ut,formatHex:ut,formatRgb:ot,toString:ot})),v(ce,function ue(it,Ct,Vt,ee){return 1===arguments.length?$t(it):new ce(it,Ct,Vt,null==ee?1:ee)},L(m,{brighter:function(it){return it=null==it?Y:Math.pow(Y,it),new ce(this.h,this.s,this.l*it,this.opacity)},darker:function(it){return it=null==it?O:Math.pow(O,it),new ce(this.h,this.s,this.l*it,this.opacity)},rgb:function(){var it=this.h%360+360*(this.h<0),Ct=isNaN(it)||isNaN(this.s)?0:this.s,Vt=this.l,ee=Vt+(Vt<.5?Vt:1-Vt)*Ct,ke=2*Vt-ee;return new At(ye(it>=240?it-240:it+120,ke,ee),ye(it,ke,ee),ye(it<120?it+240:it-120,ke,ee),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var it=this.opacity;return(1===(it=isNaN(it)?1:Math.max(0,Math.min(1,it)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===it?")":", "+it+")")}}))},47927:(It,pt,o)=>{"use strict";function v(L){return function(){return L}}o.d(pt,{Z:()=>v})},6738:(It,pt,o)=>{"use strict";function v(L,m){return L=+L,m=+m,function(O){return L*(1-O)+m*O}}o.d(pt,{Z:()=>v})},23534:(It,pt,o)=>{"use strict";o.d(pt,{ZP:()=>$});var v=o(85961);function L(R,J,z,rt,G){var ht=R*R,Z=ht*R;return((1-3*R+3*ht-Z)*J+(4-6*ht+3*Z)*z+(1+3*R+3*ht-3*Z)*rt+Z*G)/6}var Y=o(47927);function k(R,J){var z=J-R;return z?function B(R,J){return function(z){return R+z*J}}(R,z):(0,Y.Z)(isNaN(R)?J:R)}const $=function R(J){var z=function D(R){return 1==(R=+R)?k:function(J,z){return z-J?function et(R,J,z){return R=Math.pow(R,z),J=Math.pow(J,z)-R,z=1/z,function(rt){return Math.pow(R+rt*J,z)}}(J,z,R):(0,Y.Z)(isNaN(J)?z:J)}}(J);function rt(G,ht){var Z=z((G=(0,v.B8)(G)).r,(ht=(0,v.B8)(ht)).r),St=z(G.g,ht.g),lt=z(G.b,ht.b),vt=k(G.opacity,ht.opacity);return function(At){return G.r=Z(At),G.g=St(At),G.b=lt(At),G.opacity=vt(At),G+""}}return rt.gamma=R,rt}(1);function W(R){return function(J){var Z,St,z=J.length,rt=new Array(z),G=new Array(z),ht=new Array(z);for(Z=0;Z<z;++Z)St=(0,v.B8)(J[Z]),rt[Z]=St.r||0,G[Z]=St.g||0,ht[Z]=St.b||0;return rt=R(rt),G=R(G),ht=R(ht),St.opacity=1,function(lt){return St.r=rt(lt),St.g=G(lt),St.b=ht(lt),St+""}}}W(function m(R){var J=R.length-1;return function(z){var rt=z<=0?z=0:z>=1?(z=1,J-1):Math.floor(z*J),G=R[rt],ht=R[rt+1];return L((z-rt/J)*J,rt>0?R[rt-1]:2*G-ht,G,ht,rt<J-1?R[rt+2]:2*ht-G)}}),W(function O(R){var J=R.length;return function(z){var rt=Math.floor(((z%=1)<0?++z:z)*J);return L((z-rt/J)*J,R[(rt+J-1)%J],R[rt%J],R[(rt+1)%J],R[(rt+2)%J])}})},23096:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>B});var v=o(6738),L=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m=new RegExp(L.source,"g");function B(et,C){var k,$,W,D=L.lastIndex=m.lastIndex=0,T=-1,A=[],R=[];for(et+="",C+="";(k=L.exec(et))&&($=m.exec(C));)(W=$.index)>D&&(W=C.slice(D,W),A[T]?A[T]+=W:A[++T]=W),(k=k[0])===($=$[0])?A[T]?A[T]+=$:A[++T]=$:(A[++T]=null,R.push({i:T,x:(0,v.Z)(k,$)})),D=m.lastIndex;return D<C.length&&(W=C.slice(D),A[T]?A[T]+=W:A[++T]=W),A.length<2?R[0]?function Y(et){return function(C){return et(C)+""}}(R[0].x):function O(et){return function(){return et}}(C):(C=R.length,function(J){for(var rt,z=0;z<C;++z)A[(rt=R[z]).i]=rt.x(J);return A.join("")})}},82180:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>W});var v=o(85961),L=o(23534);function O(T,A){var G,R=A?A.length:0,J=T?Math.min(R,T.length):0,z=new Array(J),rt=new Array(R);for(G=0;G<J;++G)z[G]=W(T[G],A[G]);for(;G<R;++G)rt[G]=A[G];return function(ht){for(G=0;G<J;++G)rt[G]=z[G](ht);return rt}}function Y(T,A){var R=new Date;return T=+T,A=+A,function(J){return R.setTime(T*(1-J)+A*J),R}}var B=o(6738);function et(T,A){var z,R={},J={};for(z in(null===T||"object"!=typeof T)&&(T={}),(null===A||"object"!=typeof A)&&(A={}),A)z in T?R[z]=W(T[z],A[z]):J[z]=A[z];return function(rt){for(z in R)J[z]=R[z](rt);return J}}var C=o(23096),D=o(47927);function k(T,A){A||(A=[]);var z,R=T?Math.min(A.length,T.length):0,J=A.slice();return function(rt){for(z=0;z<R;++z)J[z]=T[z]*(1-rt)+A[z]*rt;return J}}function W(T,A){var J,R=typeof A;return null==A||"boolean"===R?(0,D.Z)(A):("number"===R?B.Z:"string"===R?(J=(0,v.ZP)(A))?(A=J,L.ZP):C.Z:A instanceof v.ZP?L.ZP:A instanceof Date?Y:function $(T){return ArrayBuffer.isView(T)&&!(T instanceof DataView)}(A)?k:Array.isArray(A)?O:"function"!=typeof A.valueOf&&"function"!=typeof A.toString||isNaN(A)?et:B.Z)(T,A)}},73066:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>et});var v=Math.PI,L=2*v,m=1e-6,O=L-m;function Y(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function B(){return new Y}Y.prototype=B.prototype={constructor:Y,moveTo:function(C,D){this._+="M"+(this._x0=this._x1=+C)+","+(this._y0=this._y1=+D)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(C,D){this._+="L"+(this._x1=+C)+","+(this._y1=+D)},quadraticCurveTo:function(C,D,k,$){this._+="Q"+ +C+","+ +D+","+(this._x1=+k)+","+(this._y1=+$)},bezierCurveTo:function(C,D,k,$,W,T){this._+="C"+ +C+","+ +D+","+ +k+","+ +$+","+(this._x1=+W)+","+(this._y1=+T)},arcTo:function(C,D,k,$,W){var T=this._x1,A=this._y1,R=(k=+k)-(C=+C),J=($=+$)-(D=+D),z=T-C,rt=A-D,G=z*z+rt*rt;if((W=+W)<0)throw new Error("negative radius: "+W);if(null===this._x1)this._+="M"+(this._x1=C)+","+(this._y1=D);else if(G>m)if(Math.abs(rt*R-J*z)>m&&W){var ht=k-T,Z=$-A,St=R*R+J*J,lt=ht*ht+Z*Z,vt=Math.sqrt(St),At=Math.sqrt(G),ut=W*Math.tan((v-Math.acos((St+G-lt)/(2*vt*At)))/2),ot=ut/At,nt=ut/vt;Math.abs(ot-1)>m&&(this._+="L"+(C+ot*z)+","+(D+ot*rt)),this._+="A"+W+","+W+",0,0,"+ +(rt*ht>z*Z)+","+(this._x1=C+nt*R)+","+(this._y1=D+nt*J)}else this._+="L"+(this._x1=C)+","+(this._y1=D)},arc:function(C,D,k,$,W,T){C=+C,D=+D,T=!!T;var A=(k=+k)*Math.cos($),R=k*Math.sin($),J=C+A,z=D+R,rt=1^T,G=T?$-W:W-$;if(k<0)throw new Error("negative radius: "+k);null===this._x1?this._+="M"+J+","+z:(Math.abs(this._x1-J)>m||Math.abs(this._y1-z)>m)&&(this._+="L"+J+","+z),k&&(G<0&&(G=G%L+L),G>O?this._+="A"+k+","+k+",0,1,"+rt+","+(C-A)+","+(D-R)+"A"+k+","+k+",0,1,"+rt+","+(this._x1=J)+","+(this._y1=z):G>m&&(this._+="A"+k+","+k+",0,"+ +(G>=v)+","+rt+","+(this._x1=C+k*Math.cos(W))+","+(this._y1=D+k*Math.sin(W))))},rect:function(C,D,k,$){this._+="M"+(this._x0=this._x1=+C)+","+(this._y0=this._y1=+D)+"h"+ +k+"v"+ +$+"h"+-k+"Z"},toString:function(){return this._}};const et=B},93205:(It,pt,o)=>{"use strict";o.d(pt,{ti:()=>k,BY:()=>Ln,q2:()=>W,Xf:()=>Mr});var v=o(62225);function L(r,d){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(d).domain(r)}return this}var O=o(88097),Y=Array.prototype,B=Y.map,et=Y.slice,C={name:"implicit"};function D(){var r=(0,O.UI)(),d=[],I=[],S=C;function _t(wt){var Mt=wt+"",kt=r.get(Mt);if(!kt){if(S!==C)return S;r.set(Mt,kt=d.push(wt))}return I[(kt-1)%I.length]}return _t.domain=function(wt){if(!arguments.length)return d.slice();d=[],r=(0,O.UI)();for(var Nt,oe,Mt=-1,kt=wt.length;++Mt<kt;)r.has(oe=(Nt=wt[Mt])+"")||r.set(oe,d.push(Nt));return _t},_t.range=function(wt){return arguments.length?(I=et.call(wt),_t):I.slice()},_t.unknown=function(wt){return arguments.length?(S=wt,_t):S},_t.copy=function(){return D(d,I).unknown(S)},L.apply(_t,arguments),_t}function k(){var _t,wt,r=D().unknown(void 0),d=r.domain,I=r.range,S=[0,1],Mt=!1,kt=0,Nt=0,oe=.5;function fe(){var qt=d().length,de=S[1]<S[0],me=S[de-0],Sn=S[1-de];_t=(Sn-me)/Math.max(1,qt-kt+2*Nt),Mt&&(_t=Math.floor(_t)),me+=(Sn-me-_t*(qt-kt))*oe,wt=_t*(1-kt),Mt&&(me=Math.round(me),wt=Math.round(wt));var yn=(0,v.w6)(qt).map(function(Dn){return me+_t*Dn});return I(de?yn.reverse():yn)}return delete r.unknown,r.domain=function(qt){return arguments.length?(d(qt),fe()):d()},r.range=function(qt){return arguments.length?(S=[+qt[0],+qt[1]],fe()):S.slice()},r.rangeRound=function(qt){return S=[+qt[0],+qt[1]],Mt=!0,fe()},r.bandwidth=function(){return wt},r.step=function(){return _t},r.round=function(qt){return arguments.length?(Mt=!!qt,fe()):Mt},r.padding=function(qt){return arguments.length?(kt=Math.min(1,Nt=+qt),fe()):kt},r.paddingInner=function(qt){return arguments.length?(kt=Math.min(1,qt),fe()):kt},r.paddingOuter=function(qt){return arguments.length?(Nt=+qt,fe()):Nt},r.align=function(qt){return arguments.length?(oe=Math.max(0,Math.min(1,qt)),fe()):oe},r.copy=function(){return k(d(),S).round(Mt).paddingInner(kt).paddingOuter(Nt).align(oe)},L.apply(fe(),arguments)}function $(r){var d=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return $(d())},r}function W(){return $(k.apply(null,arguments).paddingInner(1))}var T=o(82180),A=o(6738);function R(r,d){return r=+r,d=+d,function(I){return Math.round(r*(1-I)+d*I)}}function z(r){return+r}var rt=[0,1];function G(r){return r}function ht(r,d){return(d-=r=+r)?function(I){return(I-r)/d}:function J(r){return function(){return r}}(isNaN(d)?NaN:.5)}function Z(r){var S,d=r[0],I=r[r.length-1];return d>I&&(S=d,d=I,I=S),function(_t){return Math.max(d,Math.min(I,_t))}}function St(r,d,I){var S=r[0],_t=r[1],wt=d[0],Mt=d[1];return _t<S?(S=ht(_t,S),wt=I(Mt,wt)):(S=ht(S,_t),wt=I(wt,Mt)),function(kt){return wt(S(kt))}}function lt(r,d,I){var S=Math.min(r.length,d.length)-1,_t=new Array(S),wt=new Array(S),Mt=-1;for(r[S]<r[0]&&(r=r.slice().reverse(),d=d.slice().reverse());++Mt<S;)_t[Mt]=ht(r[Mt],r[Mt+1]),wt[Mt]=I(d[Mt],d[Mt+1]);return function(kt){var Nt=(0,v.b4)(r,kt,1,S)-1;return wt[Nt](_t[Nt](kt))}}function vt(r,d){return d.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function ut(r,d){return function At(){var S,_t,wt,kt,Nt,oe,r=rt,d=rt,I=T.Z,Mt=G;function fe(){return kt=Math.min(r.length,d.length)>2?lt:St,Nt=oe=null,qt}function qt(de){return isNaN(de=+de)?wt:(Nt||(Nt=kt(r.map(S),d,I)))(S(Mt(de)))}return qt.invert=function(de){return Mt(_t((oe||(oe=kt(d,r.map(S),A.Z)))(de)))},qt.domain=function(de){return arguments.length?(r=B.call(de,z),Mt===G||(Mt=Z(r)),fe()):r.slice()},qt.range=function(de){return arguments.length?(d=et.call(de),fe()):d.slice()},qt.rangeRound=function(de){return d=et.call(de),I=R,fe()},qt.clamp=function(de){return arguments.length?(Mt=de?Z(r):G,qt):Mt!==G},qt.interpolate=function(de){return arguments.length?(I=de,fe()):I},qt.unknown=function(de){return arguments.length?(wt=de,qt):wt},function(de,me){return S=de,_t=me,fe()}}()(r,d)}var ee,ot=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nt(r){if(!(d=ot.exec(r)))throw new Error("invalid format: "+r);var d;return new Yt({fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:d[6],comma:d[7],precision:d[8]&&d[8].slice(1),trim:d[9],type:d[10]})}function Yt(r){this.fill=void 0===r.fill?" ":r.fill+"",this.align=void 0===r.align?">":r.align+"",this.sign=void 0===r.sign?"-":r.sign+"",this.symbol=void 0===r.symbol?"":r.symbol+"",this.zero=!!r.zero,this.width=void 0===r.width?void 0:+r.width,this.comma=!!r.comma,this.precision=void 0===r.precision?void 0:+r.precision,this.trim=!!r.trim,this.type=void 0===r.type?"":r.type+""}function ue(r,d){if((I=(r=d?r.toExponential(d-1):r.toExponential()).indexOf("e"))<0)return null;var I,S=r.slice(0,I);return[S.length>1?S[0]+S.slice(2):S,+r.slice(I+1)]}function ce(r){return(r=ue(Math.abs(r)))?r[1]:NaN}function qe(r,d){var I=ue(r,d);if(!I)return r+"";var S=I[0],_t=I[1];return _t<0?"0."+new Array(-_t).join("0")+S:S.length>_t+1?S.slice(0,_t+1)+"."+S.slice(_t+1):S+new Array(_t-S.length+2).join("0")}nt.prototype=Yt.prototype,Yt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const K={"%":function(r,d){return(100*r).toFixed(d)},b:function(r){return Math.round(r).toString(2)},c:function(r){return r+""},d:function $t(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)},e:function(r,d){return r.toExponential(d)},f:function(r,d){return r.toFixed(d)},g:function(r,d){return r.toPrecision(d)},o:function(r){return Math.round(r).toString(8)},p:function(r,d){return qe(100*r,d)},r:qe,s:function ke(r,d){var I=ue(r,d);if(!I)return r+"";var S=I[0],_t=I[1],wt=_t-(ee=3*Math.max(-8,Math.min(8,Math.floor(_t/3))))+1,Mt=S.length;return wt===Mt?S:wt>Mt?S+new Array(wt-Mt+1).join("0"):wt>0?S.slice(0,wt)+"."+S.slice(wt):"0."+new Array(1-wt).join("0")+ue(r,Math.max(0,d+wt-1))[0]},X:function(r){return Math.round(r).toString(16).toUpperCase()},x:function(r){return Math.round(r).toString(16)}};function xt(r){return r}var he,Ae,je,Kt=Array.prototype.map,pe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Xe(r){var d=r.domain;return r.ticks=function(I){var S=d();return(0,v.sd)(S[0],S[S.length-1],null==I?10:I)},r.tickFormat=function(I,S){var _t=d();return function Vn(r,d,I,S){var wt,_t=(0,v.ly)(r,d,I);switch((S=nt(null==S?",f":S)).type){case"s":var Mt=Math.max(Math.abs(r),Math.abs(d));return null==S.precision&&!isNaN(wt=function ye(r,d){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ce(d)/3)))-ce(Math.abs(r)))}(_t,Mt))&&(S.precision=wt),je(S,Mt);case"":case"e":case"g":case"p":case"r":null==S.precision&&!isNaN(wt=function Mn(r,d){return r=Math.abs(r),d=Math.abs(d)-r,Math.max(0,ce(d)-ce(r))+1}(_t,Math.max(Math.abs(r),Math.abs(d))))&&(S.precision=wt-("e"===S.type));break;case"f":case"%":null==S.precision&&!isNaN(wt=function Rn(r){return Math.max(0,-ce(Math.abs(r)))}(_t))&&(S.precision=wt-2*("%"===S.type))}return Ae(S)}(_t[0],_t[_t.length-1],null==I?10:I,S)},r.nice=function(I){null==I&&(I=10);var Nt,S=d(),_t=0,wt=S.length-1,Mt=S[_t],kt=S[wt];return kt<Mt&&(Nt=Mt,Mt=kt,kt=Nt,Nt=_t,_t=wt,wt=Nt),(Nt=(0,v.G9)(Mt,kt,I))>0?(Mt=Math.floor(Mt/Nt)*Nt,kt=Math.ceil(kt/Nt)*Nt,Nt=(0,v.G9)(Mt,kt,I)):Nt<0&&(Mt=Math.ceil(Mt*Nt)/Nt,kt=Math.floor(kt*Nt)/Nt,Nt=(0,v.G9)(Mt,kt,I)),Nt>0?(S[_t]=Math.floor(Mt/Nt)*Nt,S[wt]=Math.ceil(kt/Nt)*Nt,d(S)):Nt<0&&(S[_t]=Math.ceil(Mt*Nt)/Nt,S[wt]=Math.floor(kt*Nt)/Nt,d(S)),r},r}function Ln(){var r=ut(G,G);return r.copy=function(){return vt(r,Ln())},L.apply(r,arguments),Xe(r)}!function gn(r){he=function Lt(r){var d=void 0===r.grouping||void 0===r.thousands?xt:function it(r,d){return function(I,S){for(var _t=I.length,wt=[],Mt=0,kt=r[0],Nt=0;_t>0&&kt>0&&(Nt+kt+1>S&&(kt=Math.max(1,S-Nt)),wt.push(I.substring(_t-=kt,_t+kt)),!((Nt+=kt+1)>S));)kt=r[Mt=(Mt+1)%r.length];return wt.reverse().join(d)}}(Kt.call(r.grouping,Number),r.thousands+""),I=void 0===r.currency?"":r.currency[0]+"",S=void 0===r.currency?"":r.currency[1]+"",_t=void 0===r.decimal?".":r.decimal+"",wt=void 0===r.numerals?xt:function Ct(r){return function(d){return d.replace(/[0-9]/g,function(I){return r[+I]})}}(Kt.call(r.numerals,String)),Mt=void 0===r.percent?"%":r.percent+"",kt=void 0===r.minus?"-":r.minus+"",Nt=void 0===r.nan?"NaN":r.nan+"";function oe(qt){var de=(qt=nt(qt)).fill,me=qt.align,Sn=qt.sign,yn=qt.symbol,Dn=qt.zero,mi=qt.width,ui=qt.comma,Zn=qt.precision,Kn=qt.trim,ti=qt.type;"n"===ti?(ui=!0,ti="g"):K[ti]||(void 0===Zn&&(Zn=12),Kn=!0,ti="g"),(Dn||"0"===de&&"="===me)&&(Dn=!0,de="0",me="=");var ri="$"===yn?I:"#"===yn&&/[boxX]/.test(ti)?"0"+ti.toLowerCase():"",Be="$"===yn?S:/[%p]/.test(ti)?Mt:"",Un=K[ti],ei=/[defgprs%]/.test(ti);function Yn(Me){var Vi,xr,nr,Pn=ri,wn=Be;if("c"===ti)wn=Un(Me)+wn,Me="";else{var ar=(Me=+Me)<0||1/Me<0;if(Me=isNaN(Me)?Nt:Un(Math.abs(Me),Zn),Kn&&(Me=function Vt(r){t:for(var _t,d=r.length,I=1,S=-1;I<d;++I)switch(r[I]){case".":S=_t=I;break;case"0":0===S&&(S=I),_t=I;break;default:if(!+r[I])break t;S>0&&(S=0)}return S>0?r.slice(0,S)+r.slice(_t+1):r}(Me)),ar&&0==+Me&&"+"!==Sn&&(ar=!1),Pn=(ar?"("===Sn?Sn:kt:"-"===Sn||"("===Sn?"":Sn)+Pn,wn=("s"===ti?pe[8+ee/3]:"")+wn+(ar&&"("===Sn?")":""),ei)for(Vi=-1,xr=Me.length;++Vi<xr;)if(48>(nr=Me.charCodeAt(Vi))||nr>57){wn=(46===nr?_t+Me.slice(Vi+1):Me.slice(Vi))+wn,Me=Me.slice(0,Vi);break}}ui&&!Dn&&(Me=d(Me,1/0));var or=Pn.length+Me.length+wn.length,Si=or<mi?new Array(mi-or+1).join(de):"";switch(ui&&Dn&&(Me=d(Si+Me,Si.length?mi-wn.length:1/0),Si=""),me){case"<":Me=Pn+Me+wn+Si;break;case"=":Me=Pn+Si+Me+wn;break;case"^":Me=Si.slice(0,or=Si.length>>1)+Pn+Me+wn+Si.slice(or);break;default:Me=Si+Pn+Me+wn}return wt(Me)}return Zn=void 0===Zn?6:/[gprs]/.test(ti)?Math.max(1,Math.min(21,Zn)):Math.max(0,Math.min(20,Zn)),Yn.toString=function(){return qt+""},Yn}return{format:oe,formatPrefix:function fe(qt,de){var me=oe(((qt=nt(qt)).type="f",qt)),Sn=3*Math.max(-8,Math.min(8,Math.floor(ce(de)/3))),yn=Math.pow(10,-Sn),Dn=pe[8+Sn/3];return function(mi){return me(yn*mi)+Dn}}}}(r),Ae=he.format,je=he.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var on=o(56513),En=o(14296),ze=o(8231),_e=o(67661);function vn(r){return(0,ze.Z)(function(d){d.setDate(d.getDate()-(d.getDay()+7-r)%7),d.setHours(0,0,0,0)},function(d,I){d.setDate(d.getDate()+7*I)},function(d,I){return(I-d-(I.getTimezoneOffset()-d.getTimezoneOffset())*_e.yB)/_e.iM})}var dn=vn(0),X=vn(1),gt=(vn(2),vn(3),vn(4)),Ne=(vn(5),vn(6),o(76371));const yi=(0,ze.Z)(function(r){r.setTime(r-r.getMilliseconds()-r.getSeconds()*_e.Ym-r.getMinutes()*_e.yB)},function(r,d){r.setTime(+r+d*_e.Y2)},function(r,d){return(d-r)/_e.Y2},function(r){return r.getHours()});var qi=o(47793);const di=(0,ze.Z)(function(r){r.setTime(r-r.getMilliseconds())},function(r,d){r.setTime(+r+d*_e.Ym)},function(r,d){return(d-r)/_e.Ym},function(r){return r.getUTCSeconds()});var fi=(0,ze.Z)(function(){},function(r,d){r.setTime(+r+d)},function(r,d){return d-r});fi.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?(0,ze.Z)(function(d){d.setTime(Math.floor(d/r)*r)},function(d,I){d.setTime(+d+I*r)},function(d,I){return(I-d)/r}):fi:null};const ki=fi;function gi(r){return(0,ze.Z)(function(d){d.setUTCDate(d.getUTCDate()-(d.getUTCDay()+7-r)%7),d.setUTCHours(0,0,0,0)},function(d,I){d.setUTCDate(d.getUTCDate()+7*I)},function(d,I){return(I-d)/_e.iM})}var un=gi(0),Pi=gi(1),si=(gi(2),gi(3),gi(4));const ji=(gi(5),gi(6),(0,ze.Z)(function(r){r.setUTCHours(0,0,0,0)},function(r,d){r.setUTCDate(r.getUTCDate()+d)},function(r,d){return(d-r)/_e.UD},function(r){return r.getUTCDate()-1}));var Hi=(0,ze.Z)(function(r){r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,d){r.setUTCFullYear(r.getUTCFullYear()+d)},function(r,d){return d.getUTCFullYear()-r.getUTCFullYear()},function(r){return r.getUTCFullYear()});Hi.every=function(r){return isFinite(r=Math.floor(r))&&r>0?(0,ze.Z)(function(d){d.setUTCFullYear(Math.floor(d.getUTCFullYear()/r)*r),d.setUTCMonth(0,1),d.setUTCHours(0,0,0,0)},function(d,I){d.setUTCFullYear(d.getUTCFullYear()+I*r)}):null};const pi=Hi;function Ai(r){if(0<=r.y&&r.y<100){var d=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return d.setFullYear(r.y),d}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function Nn(r){if(0<=r.y&&r.y<100){var d=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return d.setUTCFullYear(r.y),d}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Bn(r,d,I){return{y:r,m:d,d:I,H:0,M:0,S:0,L:0}}var qn,Ti,Gn={"-":"",_:" ",0:"0"},Qe=/^\s*\d+/,zi=/^%/,ir=/[\\^$*+?|[\]().{}]/g;function Ye(r,d,I){var S=r<0?"-":"",_t=(S?-r:r)+"",wt=_t.length;return S+(wt<I?new Array(I-wt+1).join(d)+_t:_t)}function Cn(r){return r.replace(ir,"\\$&")}function _i(r){return new RegExp("^(?:"+r.map(Cn).join("|")+")","i")}function h(r){for(var d={},I=-1,S=r.length;++I<S;)d[r[I].toLowerCase()]=I;return d}function _(r,d,I){var S=Qe.exec(d.slice(I,I+1));return S?(r.w=+S[0],I+S[0].length):-1}function N(r,d,I){var S=Qe.exec(d.slice(I,I+1));return S?(r.u=+S[0],I+S[0].length):-1}function q(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.U=+S[0],I+S[0].length):-1}function Dt(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.V=+S[0],I+S[0].length):-1}function Ft(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.W=+S[0],I+S[0].length):-1}function Tt(r,d,I){var S=Qe.exec(d.slice(I,I+4));return S?(r.y=+S[0],I+S[0].length):-1}function Xt(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.y=+S[0]+(+S[0]>68?1900:2e3),I+S[0].length):-1}function zt(r,d,I){var S=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(d.slice(I,I+6));return S?(r.Z=S[1]?0:-(S[2]+(S[3]||"00")),I+S[0].length):-1}function Qt(r,d,I){var S=Qe.exec(d.slice(I,I+1));return S?(r.q=3*S[0]-3,I+S[0].length):-1}function Jt(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.m=S[0]-1,I+S[0].length):-1}function be(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.d=+S[0],I+S[0].length):-1}function Re(r,d,I){var S=Qe.exec(d.slice(I,I+3));return S?(r.m=0,r.d=+S[0],I+S[0].length):-1}function Ie(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.H=+S[0],I+S[0].length):-1}function Hn(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.M=+S[0],I+S[0].length):-1}function Qn(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.S=+S[0],I+S[0].length):-1}function Mi(r,d,I){var S=Qe.exec(d.slice(I,I+3));return S?(r.L=+S[0],I+S[0].length):-1}function cr(r,d,I){var S=Qe.exec(d.slice(I,I+6));return S?(r.L=Math.floor(S[0]/1e3),I+S[0].length):-1}function hr(r,d,I){var S=zi.exec(d.slice(I,I+1));return S?I+S[0].length:-1}function yr(r,d,I){var S=Qe.exec(d.slice(I));return S?(r.Q=+S[0],I+S[0].length):-1}function br(r,d,I){var S=Qe.exec(d.slice(I));return S?(r.s=+S[0],I+S[0].length):-1}function vi(r,d){return Ye(r.getDate(),d,2)}function dr(r,d){return Ye(r.getHours(),d,2)}function l(r,d){return Ye(r.getHours()%12||12,d,2)}function g(r,d){return Ye(1+Ne.Z.count((0,on.Z)(r),r),d,3)}function p(r,d){return Ye(r.getMilliseconds(),d,3)}function M(r,d){return p(r,d)+"000"}function w(r,d){return Ye(r.getMonth()+1,d,2)}function P(r,d){return Ye(r.getMinutes(),d,2)}function U(r,d){return Ye(r.getSeconds(),d,2)}function j(r){var d=r.getDay();return 0===d?7:d}function Q(r,d){return Ye(dn.count((0,on.Z)(r)-1,r),d,2)}function V(r){var d=r.getDay();return d>=4||0===d?gt(r):gt.ceil(r)}function mt(r,d){return r=V(r),Ye(gt.count((0,on.Z)(r),r)+(4===(0,on.Z)(r).getDay()),d,2)}function ft(r){return r.getDay()}function tt(r,d){return Ye(X.count((0,on.Z)(r)-1,r),d,2)}function Et(r,d){return Ye(r.getFullYear()%100,d,2)}function dt(r,d){return Ye((r=V(r)).getFullYear()%100,d,2)}function F(r,d){return Ye(r.getFullYear()%1e4,d,4)}function yt(r,d){var I=r.getDay();return Ye((r=I>=4||0===I?gt(r):gt.ceil(r)).getFullYear()%1e4,d,4)}function st(r){var d=r.getTimezoneOffset();return(d>0?"-":(d*=-1,"+"))+Ye(d/60|0,"0",2)+Ye(d%60,"0",2)}function Ot(r,d){return Ye(r.getUTCDate(),d,2)}function Rt(r,d){return Ye(r.getUTCHours(),d,2)}function ae(r,d){return Ye(r.getUTCHours()%12||12,d,2)}function Le(r,d){return Ye(1+ji.count(pi(r),r),d,3)}function Fe(r,d){return Ye(r.getUTCMilliseconds(),d,3)}function We(r,d){return Fe(r,d)+"000"}function He(r,d){return Ye(r.getUTCMonth()+1,d,2)}function Se(r,d){return Ye(r.getUTCMinutes(),d,2)}function ge(r,d){return Ye(r.getUTCSeconds(),d,2)}function De(r){var d=r.getUTCDay();return 0===d?7:d}function at(r,d){return Ye(un.count(pi(r)-1,r),d,2)}function te(r){var d=r.getUTCDay();return d>=4||0===d?si(r):si.ceil(r)}function xe(r,d){return r=te(r),Ye(si.count(pi(r),r)+(4===pi(r).getUTCDay()),d,2)}function Ee(r){return r.getUTCDay()}function Ue(r,d){return Ye(Pi.count(pi(r)-1,r),d,2)}function cn(r,d){return Ye(r.getUTCFullYear()%100,d,2)}function fn(r,d){return Ye((r=te(r)).getUTCFullYear()%100,d,2)}function Jn(r,d){return Ye(r.getUTCFullYear()%1e4,d,4)}function li(r,d){var I=r.getUTCDay();return Ye((r=I>=4||0===I?si(r):si.ceil(r)).getUTCFullYear()%1e4,d,4)}function Ni(){return"+0000"}function Ei(){return"%"}function jn(r){return+r}function zn(r){return Math.floor(+r/1e3)}!function Lr(r){qn=function bi(r){var d=r.dateTime,I=r.date,S=r.time,_t=r.periods,wt=r.days,Mt=r.shortDays,kt=r.months,Nt=r.shortMonths,oe=_i(_t),fe=h(_t),qt=_i(wt),de=h(wt),me=_i(Mt),Sn=h(Mt),yn=_i(kt),Dn=h(kt),mi=_i(Nt),ui=h(Nt),Zn={a:function ar(le){return Mt[le.getDay()]},A:function or(le){return wt[le.getDay()]},b:function Si(le){return Nt[le.getMonth()]},B:function Fr(le){return kt[le.getMonth()]},c:null,d:vi,e:vi,f:M,g:dt,G:yt,H:dr,I:l,j:g,L:p,m:w,M:P,p:function Gr(le){return _t[+(le.getHours()>=12)]},q:function jr(le){return 1+~~(le.getMonth()/3)},Q:jn,s:zn,S:U,u:j,U:Q,V:mt,w:ft,W:tt,x:null,X:null,y:Et,Y:F,Z:st,"%":Ei},Kn={a:function Wr(le){return Mt[le.getUTCDay()]},A:function Hr(le){return wt[le.getUTCDay()]},b:function zr(le){return Nt[le.getUTCMonth()]},B:function Zr(le){return kt[le.getUTCMonth()]},c:null,d:Ot,e:Ot,f:We,g:fn,G:li,H:Rt,I:ae,j:Le,L:Fe,m:He,M:Se,p:function Yr(le){return _t[+(le.getUTCHours()>=12)]},q:function Qi(le){return 1+~~(le.getUTCMonth()/3)},Q:jn,s:zn,S:ge,u:De,U:at,V:xe,w:Ee,W:Ue,x:null,X:null,y:cn,Y:Jn,Z:Ni,"%":Ei},ti={a:function Yn(le,Ge,nn){var Ht=me.exec(Ge.slice(nn));return Ht?(le.w=Sn[Ht[0].toLowerCase()],nn+Ht[0].length):-1},A:function Me(le,Ge,nn){var Ht=qt.exec(Ge.slice(nn));return Ht?(le.w=de[Ht[0].toLowerCase()],nn+Ht[0].length):-1},b:function Pn(le,Ge,nn){var Ht=mi.exec(Ge.slice(nn));return Ht?(le.m=ui[Ht[0].toLowerCase()],nn+Ht[0].length):-1},B:function wn(le,Ge,nn){var Ht=yn.exec(Ge.slice(nn));return Ht?(le.m=Dn[Ht[0].toLowerCase()],nn+Ht[0].length):-1},c:function Vi(le,Ge,nn){return Un(le,d,Ge,nn)},d:be,e:be,f:cr,g:Xt,G:Tt,H:Ie,I:Ie,j:Re,L:Mi,m:Jt,M:Hn,p:function ei(le,Ge,nn){var Ht=oe.exec(Ge.slice(nn));return Ht?(le.p=fe[Ht[0].toLowerCase()],nn+Ht[0].length):-1},q:Qt,Q:yr,s:br,S:Qn,u:N,U:q,V:Dt,w:_,W:Ft,x:function xr(le,Ge,nn){return Un(le,I,Ge,nn)},X:function nr(le,Ge,nn){return Un(le,S,Ge,nn)},y:Xt,Y:Tt,Z:zt,"%":hr};function ri(le,Ge){return function(nn){var hi,Ji,Ir,Ht=[],ai=-1,bn=0,ci=le.length;for(nn instanceof Date||(nn=new Date(+nn));++ai<ci;)37===le.charCodeAt(ai)&&(Ht.push(le.slice(bn,ai)),null!=(Ji=Gn[hi=le.charAt(++ai)])?hi=le.charAt(++ai):Ji="e"===hi?" ":"0",(Ir=Ge[hi])&&(hi=Ir(nn,Ji)),Ht.push(hi),bn=ai+1);return Ht.push(le.slice(bn,ai)),Ht.join("")}}function Be(le,Ge){return function(nn){var bn,ci,Ht=Bn(1900,void 0,1);if(Un(Ht,le,nn+="",0)!=nn.length)return null;if("Q"in Ht)return new Date(Ht.Q);if("s"in Ht)return new Date(1e3*Ht.s+("L"in Ht?Ht.L:0));if(Ge&&!("Z"in Ht)&&(Ht.Z=0),"p"in Ht&&(Ht.H=Ht.H%12+12*Ht.p),void 0===Ht.m&&(Ht.m="q"in Ht?Ht.q:0),"V"in Ht){if(Ht.V<1||Ht.V>53)return null;"w"in Ht||(Ht.w=1),"Z"in Ht?(ci=(bn=Nn(Bn(Ht.y,0,1))).getUTCDay(),bn=ci>4||0===ci?Pi.ceil(bn):Pi(bn),bn=ji.offset(bn,7*(Ht.V-1)),Ht.y=bn.getUTCFullYear(),Ht.m=bn.getUTCMonth(),Ht.d=bn.getUTCDate()+(Ht.w+6)%7):(ci=(bn=Ai(Bn(Ht.y,0,1))).getDay(),bn=ci>4||0===ci?X.ceil(bn):X(bn),bn=Ne.Z.offset(bn,7*(Ht.V-1)),Ht.y=bn.getFullYear(),Ht.m=bn.getMonth(),Ht.d=bn.getDate()+(Ht.w+6)%7)}else("W"in Ht||"U"in Ht)&&("w"in Ht||(Ht.w="u"in Ht?Ht.u%7:"W"in Ht?1:0),ci="Z"in Ht?Nn(Bn(Ht.y,0,1)).getUTCDay():Ai(Bn(Ht.y,0,1)).getDay(),Ht.m=0,Ht.d="W"in Ht?(Ht.w+6)%7+7*Ht.W-(ci+5)%7:Ht.w+7*Ht.U-(ci+6)%7);return"Z"in Ht?(Ht.H+=Ht.Z/100|0,Ht.M+=Ht.Z%100,Nn(Ht)):Ai(Ht)}}function Un(le,Ge,nn,Ht){for(var hi,Ji,ai=0,bn=Ge.length,ci=nn.length;ai<bn;){if(Ht>=ci)return-1;if(37===(hi=Ge.charCodeAt(ai++))){if(hi=Ge.charAt(ai++),!(Ji=ti[hi in Gn?Ge.charAt(ai++):hi])||(Ht=Ji(le,nn,Ht))<0)return-1}else if(hi!=nn.charCodeAt(Ht++))return-1}return Ht}return Zn.x=ri(I,Zn),Zn.X=ri(S,Zn),Zn.c=ri(d,Zn),Kn.x=ri(I,Kn),Kn.X=ri(S,Kn),Kn.c=ri(d,Kn),{format:function(le){var Ge=ri(le+="",Zn);return Ge.toString=function(){return le},Ge},parse:function(le){var Ge=Be(le+="",!1);return Ge.toString=function(){return le},Ge},utcFormat:function(le){var Ge=ri(le+="",Kn);return Ge.toString=function(){return le},Ge},utcParse:function(le){var Ge=Be(le+="",!0);return Ge.toString=function(){return le},Ge}}}(r),Ti=qn.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var er=6e4,Yi=60*er,Bi=24*Yi,_r=30*Bi,gr=365*Bi;function Ar(r){return new Date(r)}function pr(r){return r instanceof Date?+r:+new Date(+r)}function vr(r,d,I,S,_t,wt,Mt,kt,Nt){var oe=ut(G,G),fe=oe.invert,qt=oe.domain,de=Nt(".%L"),me=Nt(":%S"),Sn=Nt("%I:%M"),yn=Nt("%I %p"),Dn=Nt("%a %d"),mi=Nt("%b %d"),ui=Nt("%B"),Zn=Nt("%Y"),Kn=[[Mt,1,1e3],[Mt,5,5e3],[Mt,15,15e3],[Mt,30,3e4],[wt,1,er],[wt,5,5*er],[wt,15,15*er],[wt,30,30*er],[_t,1,Yi],[_t,3,3*Yi],[_t,6,6*Yi],[_t,12,12*Yi],[S,1,Bi],[S,2,2*Bi],[I,1,6048e5],[d,1,_r],[d,3,3*_r],[r,1,gr]];function ti(Be){return(Mt(Be)<Be?de:wt(Be)<Be?me:_t(Be)<Be?Sn:S(Be)<Be?yn:d(Be)<Be?I(Be)<Be?Dn:mi:r(Be)<Be?ui:Zn)(Be)}function ri(Be,Un,ei,Yn){if(null==Be&&(Be=10),"number"==typeof Be){var Me=Math.abs(ei-Un)/Be,Pn=(0,v.YF)(function(wn){return wn[2]}).right(Kn,Me);Pn===Kn.length?(Yn=(0,v.ly)(Un/gr,ei/gr,Be),Be=r):Pn?(Yn=(Pn=Kn[Me/Kn[Pn-1][2]<Kn[Pn][2]/Me?Pn-1:Pn])[1],Be=Pn[0]):(Yn=Math.max((0,v.ly)(Un,ei,Be),1),Be=kt)}return null==Yn?Be:Be.every(Yn)}return oe.invert=function(Be){return new Date(fe(Be))},oe.domain=function(Be){return arguments.length?qt(B.call(Be,pr)):qt().map(Ar)},oe.ticks=function(Be,Un){var wn,ei=qt(),Yn=ei[0],Me=ei[ei.length-1],Pn=Me<Yn;return Pn&&(wn=Yn,Yn=Me,Me=wn),wn=(wn=ri(Be,Yn,Me,Un))?wn.range(Yn,Me+1):[],Pn?wn.reverse():wn},oe.tickFormat=function(Be,Un){return null==Un?ti:Nt(Un)},oe.nice=function(Be,Un){var ei=qt();return(Be=ri(Be,ei[0],ei[ei.length-1],Un))?qt(function Or(r,d){var Mt,I=0,S=(r=r.slice()).length-1,_t=r[I],wt=r[S];return wt<_t&&(Mt=I,I=S,S=Mt,Mt=_t,_t=wt,wt=Mt),r[I]=d.floor(_t),r[S]=d.ceil(wt),r}(ei,Be)):oe},oe.copy=function(){return vt(oe,vr(r,d,I,S,_t,wt,Mt,kt,Nt))},oe}function Mr(){return L.apply(vr(on.Z,En.Z,dn,Ne.Z,yi,qi.Z,di,ki,Ti).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},97905:(It,pt,o)=>{"use strict";function v(L){return function(){return this.matches(L)}}o.d(pt,{Z:()=>v})},66073:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>m});var v=o(75819),L=o(25941);function m(O){var Y=(0,v.Z)();return Y.changedTouches&&(Y=Y.changedTouches[0]),(0,L.Z)(O,Y)}},36175:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>L});var v=o(53517);function L(m){var O=m+="",Y=O.indexOf(":");return Y>=0&&"xmlns"!==(O=m.slice(0,Y))&&(m=m.slice(Y+1)),v.Z.hasOwnProperty(O)?{space:v.Z[O],local:m}:m}},53517:(It,pt,o)=>{"use strict";o.d(pt,{P:()=>v,Z:()=>L});var v="http://www.w3.org/1999/xhtml";const L={svg:"http://www.w3.org/2000/svg",xhtml:v,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},25941:(It,pt,o)=>{"use strict";function v(L,m){var O=L.ownerSVGElement||L;if(O.createSVGPoint){var Y=O.createSVGPoint();return Y.x=m.clientX,Y.y=m.clientY,[(Y=Y.matrixTransform(L.getScreenCTM().inverse())).x,Y.y]}var B=L.getBoundingClientRect();return[m.clientX-B.left-L.clientLeft,m.clientY-B.top-L.clientTop]}o.d(pt,{Z:()=>v})},52016:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>L});var v=o(73171);function L(m){return"string"==typeof m?new v.Y1([[document.querySelector(m)]],[document.documentElement]):new v.Y1([[m]],v.Jz)}},73171:(It,pt,o)=>{"use strict";o.d(pt,{Y1:()=>_e,ZP:()=>dn,Jz:()=>ze});var v=o(29742),m=o(32037),Y=o(97905);function et(X){return new Array(X.length)}function D(X,bt){this.ownerDocument=X.ownerDocument,this.namespaceURI=X.namespaceURI,this._next=null,this._parent=X,this.__data__=bt}function W(X,bt,Gt,gt,jt,ie){for(var se,Bt=0,Pe=bt.length,Oe=ie.length;Bt<Oe;++Bt)(se=bt[Bt])?(se.__data__=ie[Bt],gt[Bt]=se):Gt[Bt]=new D(X,ie[Bt]);for(;Bt<Pe;++Bt)(se=bt[Bt])&&(jt[Bt]=se)}function T(X,bt,Gt,gt,jt,ie,Bt){var se,Pe,Ne,Oe={},Ke=bt.length,ln=ie.length,kn=new Array(Ke);for(se=0;se<Ke;++se)(Pe=bt[se])&&(kn[se]=Ne="$"+Bt.call(Pe,Pe.__data__,se,bt),Ne in Oe?jt[se]=Pe:Oe[Ne]=Pe);for(se=0;se<ln;++se)(Pe=Oe[Ne="$"+Bt.call(X,ie[se],se,ie)])?(gt[se]=Pe,Pe.__data__=ie[se],Oe[Ne]=null):Gt[se]=new D(X,ie[se]);for(se=0;se<Ke;++se)(Pe=bt[se])&&Oe[kn[se]]===Pe&&(jt[se]=Pe)}function ht(X,bt){return X<bt?-1:X>bt?1:X>=bt?0:NaN}D.prototype={constructor:D,appendChild:function(X){return this._parent.insertBefore(X,this._next)},insertBefore:function(X,bt){return this._parent.insertBefore(X,bt)},querySelector:function(X){return this._parent.querySelector(X)},querySelectorAll:function(X){return this._parent.querySelectorAll(X)}};var ot=o(36175);function nt(X){return function(){this.removeAttribute(X)}}function Yt(X){return function(){this.removeAttributeNS(X.space,X.local)}}function $t(X,bt){return function(){this.setAttribute(X,bt)}}function ue(X,bt){return function(){this.setAttributeNS(X.space,X.local,bt)}}function ce(X,bt){return function(){var Gt=bt.apply(this,arguments);null==Gt?this.removeAttribute(X):this.setAttribute(X,Gt)}}function ye(X,bt){return function(){var Gt=bt.apply(this,arguments);null==Gt?this.removeAttributeNS(X.space,X.local):this.setAttributeNS(X.space,X.local,Gt)}}var Ct=o(24476);function Vt(X){return function(){delete this[X]}}function ee(X,bt){return function(){this[X]=bt}}function ke(X,bt){return function(){var Gt=bt.apply(this,arguments);null==Gt?delete this[X]:this[X]=Gt}}function K(X){return X.trim().split(/^|\s+/)}function xt(X){return X.classList||new Kt(X)}function Kt(X){this._node=X,this._names=K(X.getAttribute("class")||"")}function pe(X,bt){for(var Gt=xt(X),gt=-1,jt=bt.length;++gt<jt;)Gt.add(bt[gt])}function Lt(X,bt){for(var Gt=xt(X),gt=-1,jt=bt.length;++gt<jt;)Gt.remove(bt[gt])}function he(X){return function(){pe(this,X)}}function Ae(X){return function(){Lt(this,X)}}function je(X,bt){return function(){(bt.apply(this,arguments)?pe:Lt)(this,X)}}function Mn(){this.textContent=""}function Rn(X){return function(){this.textContent=X}}function Vn(X){return function(){var bt=X.apply(this,arguments);this.textContent=null==bt?"":bt}}function Ln(){this.innerHTML=""}function hn(X){return function(){this.innerHTML=X}}function $n(X){return function(){var bt=X.apply(this,arguments);this.innerHTML=null==bt?"":bt}}function Te(){this.nextSibling&&this.parentNode.appendChild(this)}function xi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Kt.prototype={add:function(X){this._names.indexOf(X)<0&&(this._names.push(X),this._node.setAttribute("class",this._names.join(" ")))},remove:function(X){var bt=this._names.indexOf(X);bt>=0&&(this._names.splice(bt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(X){return this._names.indexOf(X)>=0}};var ve=o(53517);function Ce(X){return function(){var bt=this.ownerDocument,Gt=this.namespaceURI;return Gt===ve.P&&bt.documentElement.namespaceURI===ve.P?bt.createElement(X):bt.createElementNS(Gt,X)}}function re(X){return function(){return this.ownerDocument.createElementNS(X.space,X.local)}}function Ze(X){var bt=(0,ot.Z)(X);return(bt.local?re:Ce)(bt)}function Tn(){return null}function Ve(){var X=this.parentNode;X&&X.removeChild(this)}function $e(){var X=this.cloneNode(!1),bt=this.parentNode;return bt?bt.insertBefore(X,this.nextSibling):X}function Fn(){var X=this.cloneNode(!0),bt=this.parentNode;return bt?bt.insertBefore(X,this.nextSibling):X}var Wn=o(61746),an=o(2442);function xn(X,bt,Gt){var gt=(0,an.Z)(X),jt=gt.CustomEvent;"function"==typeof jt?jt=new jt(bt,Gt):(jt=gt.document.createEvent("Event"),Gt?(jt.initEvent(bt,Gt.bubbles,Gt.cancelable),jt.detail=Gt.detail):jt.initEvent(bt,!1,!1)),X.dispatchEvent(jt)}function On(X,bt){return function(){return xn(this,X,bt)}}function on(X,bt){return function(){return xn(this,X,bt.apply(this,arguments))}}var ze=[null];function _e(X,bt){this._groups=X,this._parents=bt}function vn(){return new _e([[document.documentElement]],ze)}_e.prototype=vn.prototype={constructor:_e,select:function L(X){"function"!=typeof X&&(X=(0,v.Z)(X));for(var bt=this._groups,Gt=bt.length,gt=new Array(Gt),jt=0;jt<Gt;++jt)for(var Pe,Oe,ie=bt[jt],Bt=ie.length,se=gt[jt]=new Array(Bt),Ke=0;Ke<Bt;++Ke)(Pe=ie[Ke])&&(Oe=X.call(Pe,Pe.__data__,Ke,ie))&&("__data__"in Pe&&(Oe.__data__=Pe.__data__),se[Ke]=Oe);return new _e(gt,this._parents)},selectAll:function O(X){"function"!=typeof X&&(X=(0,m.Z)(X));for(var bt=this._groups,Gt=bt.length,gt=[],jt=[],ie=0;ie<Gt;++ie)for(var Pe,Bt=bt[ie],se=Bt.length,Oe=0;Oe<se;++Oe)(Pe=Bt[Oe])&&(gt.push(X.call(Pe,Pe.__data__,Oe,Bt)),jt.push(Pe));return new _e(gt,jt)},filter:function B(X){"function"!=typeof X&&(X=(0,Y.Z)(X));for(var bt=this._groups,Gt=bt.length,gt=new Array(Gt),jt=0;jt<Gt;++jt)for(var Pe,ie=bt[jt],Bt=ie.length,se=gt[jt]=[],Oe=0;Oe<Bt;++Oe)(Pe=ie[Oe])&&X.call(Pe,Pe.__data__,Oe,ie)&&se.push(Pe);return new _e(gt,this._parents)},data:function A(X,bt){if(!X)return Ne=new Array(this.size()),Oe=-1,this.each(function(ki){Ne[++Oe]=ki}),Ne;var Gt=bt?T:W,gt=this._parents,jt=this._groups;"function"!=typeof X&&(X=function k(X){return function(){return X}}(X));for(var ie=jt.length,Bt=new Array(ie),se=new Array(ie),Pe=new Array(ie),Oe=0;Oe<ie;++Oe){var Ke=gt[Oe],ln=jt[Oe],kn=ln.length,Ne=X.call(Ke,Ke&&Ke.__data__,Oe,gt),tn=Ne.length,yi=se[Oe]=new Array(tn),Di=Bt[Oe]=new Array(tn);Gt(Ke,ln,yi,Di,Pe[Oe]=new Array(kn),Ne,bt);for(var $i,fi,ii=0,di=0;ii<tn;++ii)if($i=yi[ii]){for(ii>=di&&(di=ii+1);!(fi=Di[di])&&++di<tn;);$i._next=fi||null}}return(Bt=new _e(Bt,gt))._enter=se,Bt._exit=Pe,Bt},enter:function C(){return new _e(this._enter||this._groups.map(et),this._parents)},exit:function R(){return new _e(this._exit||this._groups.map(et),this._parents)},join:function J(X,bt,Gt){var gt=this.enter(),jt=this,ie=this.exit();return gt="function"==typeof X?X(gt):gt.append(X+""),null!=bt&&(jt=bt(jt)),null==Gt?ie.remove():Gt(ie),gt&&jt?gt.merge(jt).order():jt},merge:function z(X){for(var bt=this._groups,Gt=X._groups,gt=bt.length,ie=Math.min(gt,Gt.length),Bt=new Array(gt),se=0;se<ie;++se)for(var kn,Pe=bt[se],Oe=Gt[se],Ke=Pe.length,ln=Bt[se]=new Array(Ke),Ne=0;Ne<Ke;++Ne)(kn=Pe[Ne]||Oe[Ne])&&(ln[Ne]=kn);for(;se<gt;++se)Bt[se]=bt[se];return new _e(Bt,this._parents)},order:function rt(){for(var X=this._groups,bt=-1,Gt=X.length;++bt<Gt;)for(var Bt,gt=X[bt],jt=gt.length-1,ie=gt[jt];--jt>=0;)(Bt=gt[jt])&&(ie&&4^Bt.compareDocumentPosition(ie)&&ie.parentNode.insertBefore(Bt,ie),ie=Bt);return this},sort:function G(X){function bt(ln,kn){return ln&&kn?X(ln.__data__,kn.__data__):!ln-!kn}X||(X=ht);for(var Gt=this._groups,gt=Gt.length,jt=new Array(gt),ie=0;ie<gt;++ie){for(var Oe,Bt=Gt[ie],se=Bt.length,Pe=jt[ie]=new Array(se),Ke=0;Ke<se;++Ke)(Oe=Bt[Ke])&&(Pe[Ke]=Oe);Pe.sort(bt)}return new _e(jt,this._parents).order()},call:function Z(){var X=arguments[0];return arguments[0]=this,X.apply(null,arguments),this},nodes:function St(){var X=new Array(this.size()),bt=-1;return this.each(function(){X[++bt]=this}),X},node:function lt(){for(var X=this._groups,bt=0,Gt=X.length;bt<Gt;++bt)for(var gt=X[bt],jt=0,ie=gt.length;jt<ie;++jt){var Bt=gt[jt];if(Bt)return Bt}return null},size:function vt(){var X=0;return this.each(function(){++X}),X},empty:function At(){return!this.node()},each:function ut(X){for(var bt=this._groups,Gt=0,gt=bt.length;Gt<gt;++Gt)for(var se,jt=bt[Gt],ie=0,Bt=jt.length;ie<Bt;++ie)(se=jt[ie])&&X.call(se,se.__data__,ie,jt);return this},attr:function it(X,bt){var Gt=(0,ot.Z)(X);if(arguments.length<2){var gt=this.node();return Gt.local?gt.getAttributeNS(Gt.space,Gt.local):gt.getAttribute(Gt)}return this.each((null==bt?Gt.local?Yt:nt:"function"==typeof bt?Gt.local?ye:ce:Gt.local?ue:$t)(Gt,bt))},style:Ct.Z,property:function qe(X,bt){return arguments.length>1?this.each((null==bt?Vt:"function"==typeof bt?ke:ee)(X,bt)):this.node()[X]},classed:function gn(X,bt){var Gt=K(X+"");if(arguments.length<2){for(var gt=xt(this.node()),jt=-1,ie=Gt.length;++jt<ie;)if(!gt.contains(Gt[jt]))return!1;return!0}return this.each(("function"==typeof bt?je:bt?he:Ae)(Gt,bt))},text:function Xe(X){return arguments.length?this.each(null==X?Mn:("function"==typeof X?Vn:Rn)(X)):this.node().textContent},html:function ni(X){return arguments.length?this.each(null==X?Ln:("function"==typeof X?$n:hn)(X)):this.node().innerHTML},raise:function Xn(){return this.each(Te)},lower:function ne(){return this.each(xi)},append:function _n(X){var bt="function"==typeof X?X:Ze(X);return this.select(function(){return this.appendChild(bt.apply(this,arguments))})},insert:function rn(X,bt){var Gt="function"==typeof X?X:Ze(X),gt=null==bt?Tn:"function"==typeof bt?bt:(0,v.Z)(bt);return this.select(function(){return this.insertBefore(Gt.apply(this,arguments),gt.apply(this,arguments)||null)})},remove:function sn(){return this.each(Ve)},clone:function pn(X){return this.select(X?Fn:$e)},datum:function mn(X){return arguments.length?this.property("__data__",X):this.node().__data__},on:Wn.ZP,dispatch:function En(X,bt){return this.each(("function"==typeof bt?on:On)(X,bt))}};const dn=vn},61746:(It,pt,o)=>{"use strict";o.d(pt,{B:()=>L,ZP:()=>D,_H:()=>k});var v={},L=null;function O($,W,T){return $=Y($,W,T),function(A){var R=A.relatedTarget;(!R||R!==this&&!(8&R.compareDocumentPosition(this)))&&$.call(this,A)}}function Y($,W,T){return function(A){var R=L;L=A;try{$.call(this,this.__data__,W,T)}finally{L=R}}}function B($){return $.trim().split(/^|\s+/).map(function(W){var T="",A=W.indexOf(".");return A>=0&&(T=W.slice(A+1),W=W.slice(0,A)),{type:W,name:T}})}function et($){return function(){var W=this.__on;if(W){for(var J,T=0,A=-1,R=W.length;T<R;++T)J=W[T],$.type&&J.type!==$.type||J.name!==$.name?W[++A]=J:this.removeEventListener(J.type,J.listener,J.capture);++A?W.length=A:delete this.__on}}}function C($,W,T){var A=v.hasOwnProperty($.type)?O:Y;return function(R,J,z){var G,rt=this.__on,ht=A(W,J,z);if(rt)for(var Z=0,St=rt.length;Z<St;++Z)if((G=rt[Z]).type===$.type&&G.name===$.name)return this.removeEventListener(G.type,G.listener,G.capture),this.addEventListener(G.type,G.listener=ht,G.capture=T),void(G.value=W);this.addEventListener($.type,ht,T),G={type:$.type,name:$.name,value:W,listener:ht,capture:T},rt?rt.push(G):this.__on=[G]}}function D($,W,T){var R,z,A=B($+""),J=A.length;if(!(arguments.length<2)){for(rt=W?C:et,null==T&&(T=!1),R=0;R<J;++R)this.each(rt(A[R],W,T));return this}var rt=this.node().__on;if(rt)for(var Z,G=0,ht=rt.length;G<ht;++G)for(R=0,Z=rt[G];R<J;++R)if((z=A[R]).type===Z.type&&z.name===Z.name)return Z.value}function k($,W,T,A){var R=L;$.sourceEvent=L,L=$;try{return W.apply(T,A)}finally{L=R}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(v={mouseenter:"mouseover",mouseleave:"mouseout"}))},24476:(It,pt,o)=>{"use strict";o.d(pt,{S:()=>B,Z:()=>Y});var v=o(2442);function L(et){return function(){this.style.removeProperty(et)}}function m(et,C,D){return function(){this.style.setProperty(et,C,D)}}function O(et,C,D){return function(){var k=C.apply(this,arguments);null==k?this.style.removeProperty(et):this.style.setProperty(et,k,D)}}function Y(et,C,D){return arguments.length>1?this.each((null==C?L:"function"==typeof C?O:m)(et,C,null==D?"":D)):B(this.node(),et)}function B(et,C){return et.style.getPropertyValue(C)||(0,v.Z)(et).getComputedStyle(et,null).getPropertyValue(C)}},29742:(It,pt,o)=>{"use strict";function v(){}function L(m){return null==m?v:function(){return this.querySelector(m)}}o.d(pt,{Z:()=>L})},32037:(It,pt,o)=>{"use strict";function v(){return[]}function L(m){return null==m?v:function(){return this.querySelectorAll(m)}}o.d(pt,{Z:()=>L})},75819:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>L});var v=o(61746);function L(){for(var O,m=v.B;O=m.sourceEvent;)m=O;return m}},2442:(It,pt,o)=>{"use strict";function v(L){return L.ownerDocument&&L.ownerDocument.defaultView||L.document&&L||L.defaultView}o.d(pt,{Z:()=>v})},84524:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>$});var v=o(73066),L=o(21456),m=o(6947);function O(W){return W.innerRadius}function Y(W){return W.outerRadius}function B(W){return W.startAngle}function et(W){return W.endAngle}function C(W){return W&&W.padAngle}function D(W,T,A,R,J,z,rt,G){var ht=A-W,Z=R-T,St=rt-J,lt=G-z,vt=lt*ht-St*Z;if(!(vt*vt<m.Ho))return[W+(vt=(St*(T-z)-lt*(W-J))/vt)*ht,T+vt*Z]}function k(W,T,A,R,J,z,rt){var G=W-A,ht=T-R,Z=(rt?z:-z)/(0,m._b)(G*G+ht*ht),St=Z*ht,lt=-Z*G,vt=W+St,At=T+lt,ut=A+St,ot=R+lt,nt=(vt+ut)/2,Yt=(At+ot)/2,$t=ut-vt,ue=ot-At,ce=$t*$t+ue*ue,ye=J-z,it=vt*ot-ut*At,Ct=(ue<0?-1:1)*(0,m._b)((0,m.Fp)(0,ye*ye*ce-it*it)),Vt=(it*ue-$t*Ct)/ce,ee=(-it*$t-ue*Ct)/ce,ke=(it*ue+$t*Ct)/ce,qe=(-it*$t+ue*Ct)/ce,K=Vt-nt,xt=ee-Yt,Kt=ke-nt,pe=qe-Yt;return K*K+xt*xt>Kt*Kt+pe*pe&&(Vt=ke,ee=qe),{cx:Vt,cy:ee,x01:-St,y01:-lt,x11:Vt*(J/ye-1),y11:ee*(J/ye-1)}}function $(){var W=O,T=Y,A=(0,L.Z)(0),R=null,J=B,z=et,rt=C,G=null;function ht(){var Z,St,lt=+W.apply(this,arguments),vt=+T.apply(this,arguments),At=J.apply(this,arguments)-m.ou,ut=z.apply(this,arguments)-m.ou,ot=(0,m.Wn)(ut-At),nt=ut>At;if(G||(G=Z=(0,v.Z)()),vt<lt&&(St=vt,vt=lt,lt=St),vt>m.Ho)if(ot>m.BZ-m.Ho)G.moveTo(vt*(0,m.mC)(At),vt*(0,m.O$)(At)),G.arc(0,0,vt,At,ut,!nt),lt>m.Ho&&(G.moveTo(lt*(0,m.mC)(ut),lt*(0,m.O$)(ut)),G.arc(0,0,lt,ut,At,nt));else{var K,xt,Yt=At,$t=ut,ue=At,ce=ut,ye=ot,it=ot,Ct=rt.apply(this,arguments)/2,Vt=Ct>m.Ho&&(R?+R.apply(this,arguments):(0,m._b)(lt*lt+vt*vt)),ee=(0,m.VV)((0,m.Wn)(vt-lt)/2,+A.apply(this,arguments)),ke=ee,qe=ee;if(Vt>m.Ho){var Kt=(0,m.ZR)(Vt/lt*(0,m.O$)(Ct)),pe=(0,m.ZR)(Vt/vt*(0,m.O$)(Ct));(ye-=2*Kt)>m.Ho?(ue+=Kt*=nt?1:-1,ce-=Kt):(ye=0,ue=ce=(At+ut)/2),(it-=2*pe)>m.Ho?(Yt+=pe*=nt?1:-1,$t-=pe):(it=0,Yt=$t=(At+ut)/2)}var Lt=vt*(0,m.mC)(Yt),he=vt*(0,m.O$)(Yt),Ae=lt*(0,m.mC)(ce),je=lt*(0,m.O$)(ce);if(ee>m.Ho){var Xe,gn=vt*(0,m.mC)($t),Mn=vt*(0,m.O$)($t),Rn=lt*(0,m.mC)(ue),Vn=lt*(0,m.O$)(ue);if(ot<m.pi&&(Xe=D(Lt,he,Rn,Vn,gn,Mn,Ae,je))){var Ln=Lt-Xe[0],hn=he-Xe[1],$n=gn-Xe[0],ni=Mn-Xe[1],Te=1/(0,m.O$)((0,m.Kh)((Ln*$n+hn*ni)/((0,m._b)(Ln*Ln+hn*hn)*(0,m._b)($n*$n+ni*ni)))/2),Xn=(0,m._b)(Xe[0]*Xe[0]+Xe[1]*Xe[1]);ke=(0,m.VV)(ee,(lt-Xn)/(Te-1)),qe=(0,m.VV)(ee,(vt-Xn)/(Te+1))}}it>m.Ho?qe>m.Ho?(K=k(Rn,Vn,Lt,he,vt,qe,nt),xt=k(gn,Mn,Ae,je,vt,qe,nt),G.moveTo(K.cx+K.x01,K.cy+K.y01),qe<ee?G.arc(K.cx,K.cy,qe,(0,m.fv)(K.y01,K.x01),(0,m.fv)(xt.y01,xt.x01),!nt):(G.arc(K.cx,K.cy,qe,(0,m.fv)(K.y01,K.x01),(0,m.fv)(K.y11,K.x11),!nt),G.arc(0,0,vt,(0,m.fv)(K.cy+K.y11,K.cx+K.x11),(0,m.fv)(xt.cy+xt.y11,xt.cx+xt.x11),!nt),G.arc(xt.cx,xt.cy,qe,(0,m.fv)(xt.y11,xt.x11),(0,m.fv)(xt.y01,xt.x01),!nt))):(G.moveTo(Lt,he),G.arc(0,0,vt,Yt,$t,!nt)):G.moveTo(Lt,he),lt>m.Ho&&ye>m.Ho?ke>m.Ho?(K=k(Ae,je,gn,Mn,lt,-ke,nt),xt=k(Lt,he,Rn,Vn,lt,-ke,nt),G.lineTo(K.cx+K.x01,K.cy+K.y01),ke<ee?G.arc(K.cx,K.cy,ke,(0,m.fv)(K.y01,K.x01),(0,m.fv)(xt.y01,xt.x01),!nt):(G.arc(K.cx,K.cy,ke,(0,m.fv)(K.y01,K.x01),(0,m.fv)(K.y11,K.x11),!nt),G.arc(0,0,lt,(0,m.fv)(K.cy+K.y11,K.cx+K.x11),(0,m.fv)(xt.cy+xt.y11,xt.cx+xt.x11),nt),G.arc(xt.cx,xt.cy,ke,(0,m.fv)(xt.y11,xt.x11),(0,m.fv)(xt.y01,xt.x01),!nt))):G.arc(0,0,lt,ce,ue,nt):G.lineTo(Ae,je)}else G.moveTo(0,0);if(G.closePath(),Z)return G=null,Z+""||null}return ht.centroid=function(){var Z=(+W.apply(this,arguments)+ +T.apply(this,arguments))/2,St=(+J.apply(this,arguments)+ +z.apply(this,arguments))/2-m.pi/2;return[(0,m.mC)(St)*Z,(0,m.O$)(St)*Z]},ht.innerRadius=function(Z){return arguments.length?(W="function"==typeof Z?Z:(0,L.Z)(+Z),ht):W},ht.outerRadius=function(Z){return arguments.length?(T="function"==typeof Z?Z:(0,L.Z)(+Z),ht):T},ht.cornerRadius=function(Z){return arguments.length?(A="function"==typeof Z?Z:(0,L.Z)(+Z),ht):A},ht.padRadius=function(Z){return arguments.length?(R=null==Z?null:"function"==typeof Z?Z:(0,L.Z)(+Z),ht):R},ht.startAngle=function(Z){return arguments.length?(J="function"==typeof Z?Z:(0,L.Z)(+Z),ht):J},ht.endAngle=function(Z){return arguments.length?(z="function"==typeof Z?Z:(0,L.Z)(+Z),ht):z},ht.padAngle=function(Z){return arguments.length?(rt="function"==typeof Z?Z:(0,L.Z)(+Z),ht):rt},ht.context=function(Z){return arguments.length?(G=null==Z?null:Z,ht):G},ht}},21456:(It,pt,o)=>{"use strict";function v(L){return function(){return L}}o.d(pt,{Z:()=>v})},6947:(It,pt,o)=>{"use strict";o.d(pt,{BZ:()=>$,Fp:()=>O,Ho:()=>C,Kh:()=>W,O$:()=>B,VV:()=>Y,Wn:()=>v,ZR:()=>T,_b:()=>et,fv:()=>L,mC:()=>m,ou:()=>k,pi:()=>D});var v=Math.abs,L=Math.atan2,m=Math.cos,O=Math.max,Y=Math.min,B=Math.sin,et=Math.sqrt,C=1e-12,D=Math.PI,k=D/2,$=2*D;function W(A){return A>1?0:A<-1?D:Math.acos(A)}function T(A){return A>=1?k:A<=-1?-k:Math.asin(A)}},76371:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>O});var v=o(8231),L=o(67661);const O=(0,v.Z)(function(B){B.setHours(0,0,0,0)},function(B,et){B.setDate(B.getDate()+et)},function(B,et){return(et-B-(et.getTimezoneOffset()-B.getTimezoneOffset())*L.yB)/L.UD},function(B){return B.getDate()-1})},67661:(It,pt,o)=>{"use strict";o.d(pt,{UD:()=>O,Y2:()=>m,Ym:()=>v,iM:()=>Y,yB:()=>L});var v=1e3,L=6e4,m=36e5,O=864e5,Y=6048e5},8231:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>m});var v=new Date,L=new Date;function m(O,Y,B,et){function C(D){return O(D=0===arguments.length?new Date:new Date(+D)),D}return C.floor=function(D){return O(D=new Date(+D)),D},C.ceil=function(D){return O(D=new Date(D-1)),Y(D,1),O(D),D},C.round=function(D){var k=C(D),$=C.ceil(D);return D-k<$-D?k:$},C.offset=function(D,k){return Y(D=new Date(+D),null==k?1:Math.floor(k)),D},C.range=function(D,k,$){var T,W=[];if(D=C.ceil(D),$=null==$?1:Math.floor($),!(D<k&&$>0))return W;do{W.push(T=new Date(+D)),Y(D,$),O(D)}while(T<D&&D<k);return W},C.filter=function(D){return m(function(k){if(k>=k)for(;O(k),!D(k);)k.setTime(k-1)},function(k,$){if(k>=k)if($<0)for(;++$<=0;)for(;Y(k,-1),!D(k););else for(;--$>=0;)for(;Y(k,1),!D(k););})},B&&(C.count=function(D,k){return v.setTime(+D),L.setTime(+k),O(v),O(L),Math.floor(B(v,L))},C.every=function(D){return D=Math.floor(D),isFinite(D)&&D>0?D>1?C.filter(et?function(k){return et(k)%D==0}:function(k){return C.count(0,k)%D==0}):C:null}),C}},47793:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>O});var v=o(8231),L=o(67661);const O=(0,v.Z)(function(B){B.setTime(B-B.getMilliseconds()-B.getSeconds()*L.Ym)},function(B,et){B.setTime(+B+et*L.yB)},function(B,et){return(et-B)/L.yB},function(B){return B.getMinutes()})},14296:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>m});const m=(0,o(8231).Z)(function(Y){Y.setDate(1),Y.setHours(0,0,0,0)},function(Y,B){Y.setMonth(Y.getMonth()+B)},function(Y,B){return B.getMonth()-Y.getMonth()+12*(B.getFullYear()-Y.getFullYear())},function(Y){return Y.getMonth()})},56513:(It,pt,o)=>{"use strict";o.d(pt,{Z:()=>m});var v=o(8231),L=(0,v.Z)(function(Y){Y.setMonth(0,1),Y.setHours(0,0,0,0)},function(Y,B){Y.setFullYear(Y.getFullYear()+B)},function(Y,B){return B.getFullYear()-Y.getFullYear()},function(Y){return Y.getFullYear()});L.every=function(Y){return isFinite(Y=Math.floor(Y))&&Y>0?(0,v.Z)(function(B){B.setFullYear(Math.floor(B.getFullYear()/Y)*Y),B.setMonth(0,1),B.setHours(0,0,0,0)},function(B,et){B.setFullYear(B.getFullYear()+et*Y)}):null};const m=L},49194:(It,pt,o)=>{"use strict";o.d(pt,{B7:()=>A,HT:()=>R,zO:()=>W});var Y,B,v=0,L=0,m=0,et=0,C=0,D=0,k="object"==typeof performance&&performance.now?performance:Date,$="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Z){setTimeout(Z,17)};function W(){return C||($(T),C=k.now()+D)}function T(){C=0}function A(){this._call=this._time=this._next=null}function R(Z,St,lt){var vt=new A;return vt.restart(Z,St,lt),vt}function z(){C=(et=k.now())+D,v=L=0;try{!function J(){W(),++v;for(var St,Z=Y;Z;)(St=C-Z._time)>=0&&Z._call.call(null,St),Z=Z._next;--v}()}finally{v=0,function G(){for(var Z,lt,St=Y,vt=1/0;St;)St._call?(vt>St._time&&(vt=St._time),Z=St,St=St._next):(lt=St._next,St._next=null,St=Z?Z._next=lt:Y=lt);B=Z,ht(vt)}(),C=0}}function rt(){var Z=k.now(),St=Z-et;St>1e3&&(D-=St,et=Z)}function ht(Z){v||(L&&(L=clearTimeout(L)),Z-C>24?(Z<1/0&&(L=setTimeout(z,Z-k.now()-D)),m&&(m=clearInterval(m))):(m||(et=k.now(),m=setInterval(rt,1e3)),v=1,$(z)))}A.prototype=R.prototype={constructor:A,restart:function(Z,St,lt){if("function"!=typeof Z)throw new TypeError("callback is not a function");lt=(null==lt?W():+lt)+(null==St?0:+St),!this._next&&B!==this&&(B?B._next=this:Y=this,B=this),this._call=Z,this._time=lt,ht()},stop:function(){this._call&&(this._call=null,this._time=1/0,ht())}}},64747:(It,pt,o)=>{"use strict";o.d(pt,{e1:()=>G,eR:()=>Ai});var v=o(73171),L=o(25922),m=o(49194);function O(h,_,N){var q=new m.B7;return q.restart(function(Dt){q.stop(),h(Dt+_)},_=null==_?0:+_,N),q}var Y=(0,L.Z)("start","end","cancel","interrupt"),B=[];function A(h,_,N,q,Dt,Ft){var Tt=h.__transition;if(Tt){if(N in Tt)return}else h.__transition={};!function rt(h,_,N){var Dt,q=h.__transition;function Tt(Qt){var Jt,be,Re,Ie;if(1!==N.state)return zt();for(Jt in q)if((Ie=q[Jt]).name===N.name){if(3===Ie.state)return O(Tt);4===Ie.state?(Ie.state=6,Ie.timer.stop(),Ie.on.call("interrupt",h,h.__data__,Ie.index,Ie.group),delete q[Jt]):+Jt<_&&(Ie.state=6,Ie.timer.stop(),Ie.on.call("cancel",h,h.__data__,Ie.index,Ie.group),delete q[Jt])}if(O(function(){3===N.state&&(N.state=4,N.timer.restart(Xt,N.delay,N.time),Xt(Qt))}),N.state=2,N.on.call("start",h,h.__data__,N.index,N.group),2===N.state){for(N.state=3,Dt=new Array(Re=N.tween.length),Jt=0,be=-1;Jt<Re;++Jt)(Ie=N.tween[Jt].value.call(h,h.__data__,N.index,N.group))&&(Dt[++be]=Ie);Dt.length=be+1}}function Xt(Qt){for(var Jt=Qt<N.duration?N.ease.call(null,Qt/N.duration):(N.timer.restart(zt),N.state=5,1),be=-1,Re=Dt.length;++be<Re;)Dt[be].call(h,Jt);5===N.state&&(N.on.call("end",h,h.__data__,N.index,N.group),zt())}function zt(){for(var Qt in N.state=6,N.timer.stop(),delete q[_],q)return;delete h.__transition}q[_]=N,N.timer=(0,m.HT)(function Ft(Qt){N.state=1,N.timer.restart(Tt,N.delay,N.time),N.delay<=Qt&&Tt(Qt-N.delay)},0,N.time)}(h,N,{name:_,index:q,group:Dt,on:Y,tween:B,time:Ft.time,delay:Ft.delay,duration:Ft.duration,ease:Ft.ease,timer:null,state:0})}function R(h,_){var N=z(h,_);if(N.state>0)throw new Error("too late; already scheduled");return N}function J(h,_){var N=z(h,_);if(N.state>3)throw new Error("too late; already running");return N}function z(h,_){var N=h.__transition;if(!N||!(N=N[_]))throw new Error("transition not found");return N}function G(h,_){var q,Dt,Tt,N=h.__transition,Ft=!0;if(N){for(Tt in _=null==_?null:_+"",N)(q=N[Tt]).name===_?(Dt=q.state>2&&q.state<5,q.state=6,q.timer.stop(),q.on.call(Dt?"interrupt":"cancel",h,h.__data__,q.index,q.group),delete N[Tt]):Ft=!1;Ft&&delete h.__transition}}var At,ut,ot,nt,Z=o(6738),St=180/Math.PI,lt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vt(h,_,N,q,Dt,Ft){var Tt,Xt,zt;return(Tt=Math.sqrt(h*h+_*_))&&(h/=Tt,_/=Tt),(zt=h*N+_*q)&&(N-=h*zt,q-=_*zt),(Xt=Math.sqrt(N*N+q*q))&&(N/=Xt,q/=Xt,zt/=Xt),h*q<_*N&&(h=-h,_=-_,zt=-zt,Tt=-Tt),{translateX:Dt,translateY:Ft,rotate:Math.atan2(_,h)*St,skewX:Math.atan(zt)*St,scaleX:Tt,scaleY:Xt}}function ue(h,_,N,q){function Dt(Qt){return Qt.length?Qt.pop()+" ":""}return function(Qt,Jt){var be=[],Re=[];return Qt=h(Qt),Jt=h(Jt),function Ft(Qt,Jt,be,Re,Ie,Hn){if(Qt!==be||Jt!==Re){var Qn=Ie.push("translate(",null,_,null,N);Hn.push({i:Qn-4,x:(0,Z.Z)(Qt,be)},{i:Qn-2,x:(0,Z.Z)(Jt,Re)})}else(be||Re)&&Ie.push("translate("+be+_+Re+N)}(Qt.translateX,Qt.translateY,Jt.translateX,Jt.translateY,be,Re),function Tt(Qt,Jt,be,Re){Qt!==Jt?(Qt-Jt>180?Jt+=360:Jt-Qt>180&&(Qt+=360),Re.push({i:be.push(Dt(be)+"rotate(",null,q)-2,x:(0,Z.Z)(Qt,Jt)})):Jt&&be.push(Dt(be)+"rotate("+Jt+q)}(Qt.rotate,Jt.rotate,be,Re),function Xt(Qt,Jt,be,Re){Qt!==Jt?Re.push({i:be.push(Dt(be)+"skewX(",null,q)-2,x:(0,Z.Z)(Qt,Jt)}):Jt&&be.push(Dt(be)+"skewX("+Jt+q)}(Qt.skewX,Jt.skewX,be,Re),function zt(Qt,Jt,be,Re,Ie,Hn){if(Qt!==be||Jt!==Re){var Qn=Ie.push(Dt(Ie)+"scale(",null,",",null,")");Hn.push({i:Qn-4,x:(0,Z.Z)(Qt,be)},{i:Qn-2,x:(0,Z.Z)(Jt,Re)})}else(1!==be||1!==Re)&&Ie.push(Dt(Ie)+"scale("+be+","+Re+")")}(Qt.scaleX,Qt.scaleY,Jt.scaleX,Jt.scaleY,be,Re),Qt=Jt=null,function(Ie){for(var Mi,Hn=-1,Qn=Re.length;++Hn<Qn;)be[(Mi=Re[Hn]).i]=Mi.x(Ie);return be.join("")}}}var ce=ue(function Yt(h){return"none"===h?lt:(At||(At=document.createElement("DIV"),ut=document.documentElement,ot=document.defaultView),At.style.transform=h,h=ot.getComputedStyle(ut.appendChild(At),null).getPropertyValue("transform"),ut.removeChild(At),vt(+(h=h.slice(7,-1).split(","))[0],+h[1],+h[2],+h[3],+h[4],+h[5]))},"px, ","px)","deg)"),ye=ue(function $t(h){return null!=h&&(nt||(nt=document.createElementNS("http://www.w3.org/2000/svg","g")),nt.setAttribute("transform",h),h=nt.transform.baseVal.consolidate())?vt((h=h.matrix).a,h.b,h.c,h.d,h.e,h.f):lt},", ",")",")"),it=o(36175);function Ct(h,_){var N,q;return function(){var Dt=J(this,h),Ft=Dt.tween;if(Ft!==N)for(var Tt=0,Xt=(q=N=Ft).length;Tt<Xt;++Tt)if(q[Tt].name===_){(q=q.slice()).splice(Tt,1);break}Dt.tween=q}}function Vt(h,_,N){var q,Dt;if("function"!=typeof N)throw new Error;return function(){var Ft=J(this,h),Tt=Ft.tween;if(Tt!==q){Dt=(q=Tt).slice();for(var Xt={name:_,value:N},zt=0,Qt=Dt.length;zt<Qt;++zt)if(Dt[zt].name===_){Dt[zt]=Xt;break}zt===Qt&&Dt.push(Xt)}Ft.tween=Dt}}function ke(h,_,N){var q=h._id;return h.each(function(){var Dt=J(this,q);(Dt.value||(Dt.value={}))[_]=N.apply(this,arguments)}),function(Dt){return z(Dt,q).value[_]}}function qe(h,_,N){h.prototype=_.prototype=N,N.constructor=h}function K(h,_){var N=Object.create(h.prototype);for(var q in _)N[q]=_[q];return N}function xt(){}var pe=1/.7,Lt="\\s*([+-]?\\d+)\\s*",he="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",je=/^#([0-9a-f]{3,8})$/,gn=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),Mn=new RegExp("^rgb\\("+[Ae,Ae,Ae]+"\\)$"),Rn=new RegExp("^rgba\\("+[Lt,Lt,Lt,he]+"\\)$"),Vn=new RegExp("^rgba\\("+[Ae,Ae,Ae,he]+"\\)$"),Xe=new RegExp("^hsl\\("+[he,Ae,Ae]+"\\)$"),Ln=new RegExp("^hsla\\("+[he,Ae,Ae,he]+"\\)$"),hn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $n(){return this.rgb().formatHex()}function Te(){return this.rgb().formatRgb()}function Xn(h){var _,N;return h=(h+"").trim().toLowerCase(),(_=je.exec(h))?(N=_[1].length,_=parseInt(_[1],16),6===N?xi(_):3===N?new re(_>>8&15|_>>4&240,_>>4&15|240&_,(15&_)<<4|15&_,1):8===N?ne(_>>24&255,_>>16&255,_>>8&255,(255&_)/255):4===N?ne(_>>12&15|_>>8&240,_>>8&15|_>>4&240,_>>4&15|240&_,((15&_)<<4|15&_)/255):null):(_=gn.exec(h))?new re(_[1],_[2],_[3],1):(_=Mn.exec(h))?new re(255*_[1]/100,255*_[2]/100,255*_[3]/100,1):(_=Rn.exec(h))?ne(_[1],_[2],_[3],_[4]):(_=Vn.exec(h))?ne(255*_[1]/100,255*_[2]/100,255*_[3]/100,_[4]):(_=Xe.exec(h))?rn(_[1],_[2]/100,_[3]/100,1):(_=Ln.exec(h))?rn(_[1],_[2]/100,_[3]/100,_[4]):hn.hasOwnProperty(h)?xi(hn[h]):"transparent"===h?new re(NaN,NaN,NaN,0):null}function xi(h){return new re(h>>16&255,h>>8&255,255&h,1)}function ne(h,_,N,q){return q<=0&&(h=_=N=NaN),new re(h,_,N,q)}function ve(h){return h instanceof xt||(h=Xn(h)),h?new re((h=h.rgb()).r,h.g,h.b,h.opacity):new re}function re(h,_,N,q){this.r=+h,this.g=+_,this.b=+N,this.opacity=+q}function Ze(){return"#"+Tn(this.r)+Tn(this.g)+Tn(this.b)}function _n(){var h=this.opacity;return(1===(h=isNaN(h)?1:Math.max(0,Math.min(1,h)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===h?")":", "+h+")")}function Tn(h){return((h=Math.max(0,Math.min(255,Math.round(h)||0)))<16?"0":"")+h.toString(16)}function rn(h,_,N,q){return q<=0?h=_=N=NaN:N<=0||N>=1?h=_=NaN:_<=0&&(h=NaN),new $e(h,_,N,q)}function Ve(h){if(h instanceof $e)return new $e(h.h,h.s,h.l,h.opacity);if(h instanceof xt||(h=Xn(h)),!h)return new $e;if(h instanceof $e)return h;var _=(h=h.rgb()).r/255,N=h.g/255,q=h.b/255,Dt=Math.min(_,N,q),Ft=Math.max(_,N,q),Tt=NaN,Xt=Ft-Dt,zt=(Ft+Dt)/2;return Xt?(Tt=_===Ft?(N-q)/Xt+6*(N<q):N===Ft?(q-_)/Xt+2:(_-N)/Xt+4,Xt/=zt<.5?Ft+Dt:2-Ft-Dt,Tt*=60):Xt=zt>0&&zt<1?0:Tt,new $e(Tt,Xt,zt,h.opacity)}function $e(h,_,N,q){this.h=+h,this.s=+_,this.l=+N,this.opacity=+q}function Fn(h,_,N){return 255*(h<60?_+(N-_)*h/60:h<180?N:h<240?_+(N-_)*(240-h)/60:_)}qe(xt,Xn,{copy:function(h){return Object.assign(new this.constructor,this,h)},displayable:function(){return this.rgb().displayable()},hex:$n,formatHex:$n,formatHsl:function ni(){return Ve(this).formatHsl()},formatRgb:Te,toString:Te}),qe(re,function Ce(h,_,N,q){return 1===arguments.length?ve(h):new re(h,_,N,null==q?1:q)},K(xt,{brighter:function(h){return h=null==h?pe:Math.pow(pe,h),new re(this.r*h,this.g*h,this.b*h,this.opacity)},darker:function(h){return h=null==h?.7:Math.pow(.7,h),new re(this.r*h,this.g*h,this.b*h,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ze,formatHex:Ze,formatRgb:_n,toString:_n})),qe($e,function sn(h,_,N,q){return 1===arguments.length?Ve(h):new $e(h,_,N,null==q?1:q)},K(xt,{brighter:function(h){return h=null==h?pe:Math.pow(pe,h),new $e(this.h,this.s,this.l*h,this.opacity)},darker:function(h){return h=null==h?.7:Math.pow(.7,h),new $e(this.h,this.s,this.l*h,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),_=isNaN(h)||isNaN(this.s)?0:this.s,N=this.l,q=N+(N<.5?N:1-N)*_,Dt=2*N-q;return new re(Fn(h>=240?h-240:h+120,Dt,q),Fn(h,Dt,q),Fn(h<120?h+240:h-120,Dt,q),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var h=this.opacity;return(1===(h=isNaN(h)?1:Math.max(0,Math.min(1,h)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===h?")":", "+h+")")}}));var pn=o(23534),mn=o(23096);function Wn(h,_){var N;return("number"==typeof _?Z.Z:_ instanceof Xn?pn.ZP:(N=Xn(_))?(_=N,pn.ZP):mn.Z)(h,_)}function an(h){return function(){this.removeAttribute(h)}}function xn(h){return function(){this.removeAttributeNS(h.space,h.local)}}function On(h,_,N){var q,Ft,Dt=N+"";return function(){var Tt=this.getAttribute(h);return Tt===Dt?null:Tt===q?Ft:Ft=_(q=Tt,N)}}function on(h,_,N){var q,Ft,Dt=N+"";return function(){var Tt=this.getAttributeNS(h.space,h.local);return Tt===Dt?null:Tt===q?Ft:Ft=_(q=Tt,N)}}function En(h,_,N){var q,Dt,Ft;return function(){var Tt,zt,Xt=N(this);return null==Xt?void this.removeAttribute(h):(Tt=this.getAttribute(h))===(zt=Xt+"")?null:Tt===q&&zt===Dt?Ft:(Dt=zt,Ft=_(q=Tt,Xt))}}function ze(h,_,N){var q,Dt,Ft;return function(){var Tt,zt,Xt=N(this);return null==Xt?void this.removeAttributeNS(h.space,h.local):(Tt=this.getAttributeNS(h.space,h.local))===(zt=Xt+"")?null:Tt===q&&zt===Dt?Ft:(Dt=zt,Ft=_(q=Tt,Xt))}}function vn(h,_){return function(N){this.setAttribute(h,_.call(this,N))}}function dn(h,_){return function(N){this.setAttributeNS(h.space,h.local,_.call(this,N))}}function X(h,_){var N,q;function Dt(){var Ft=_.apply(this,arguments);return Ft!==q&&(N=(q=Ft)&&dn(h,Ft)),N}return Dt._value=_,Dt}function bt(h,_){var N,q;function Dt(){var Ft=_.apply(this,arguments);return Ft!==q&&(N=(q=Ft)&&vn(h,Ft)),N}return Dt._value=_,Dt}function gt(h,_){return function(){R(this,h).delay=+_.apply(this,arguments)}}function jt(h,_){return _=+_,function(){R(this,h).delay=_}}function Bt(h,_){return function(){J(this,h).duration=+_.apply(this,arguments)}}function se(h,_){return _=+_,function(){J(this,h).duration=_}}function Oe(h,_){if("function"!=typeof _)throw new Error;return function(){J(this,h).ease=_}}var ln=o(97905);function yi(h,_,N){var q,Dt,Ft=function tn(h){return(h+"").trim().split(/^|\s+/).every(function(_){var N=_.indexOf(".");return N>=0&&(_=_.slice(0,N)),!_||"start"===_})}(_)?R:J;return function(){var Tt=Ft(this,h),Xt=Tt.on;Xt!==q&&(Dt=(q=Xt).copy()).on(_,N),Tt.on=Dt}}var di=o(29742),fi=o(32037),Xi=v.ZP.prototype.constructor,un=o(24476);function tr(h){return function(){this.style.removeProperty(h)}}function Ui(h,_,N){return function(q){this.style.setProperty(h,_.call(this,q),N)}}function Ii(h,_,N){var q,Dt;function Ft(){var Tt=_.apply(this,arguments);return Tt!==Dt&&(q=(Dt=Tt)&&Ui(h,Tt,N)),q}return Ft._value=_,Ft}function Li(h){return function(_){this.textContent=h.call(this,_)}}function Oi(h){var _,N;function q(){var Dt=h.apply(this,arguments);return Dt!==N&&(_=(N=Dt)&&Li(Dt)),_}return q._value=h,q}var pi=0;function oi(h,_,N,q){this._groups=h,this._parents=_,this._name=N,this._id=q}function Ai(h){return(0,v.ZP)().transition(h)}function Nn(){return++pi}var Bn=v.ZP.prototype;oi.prototype=Ai.prototype={constructor:oi,select:function $i(h){var _=this._name,N=this._id;"function"!=typeof h&&(h=(0,di.Z)(h));for(var q=this._groups,Dt=q.length,Ft=new Array(Dt),Tt=0;Tt<Dt;++Tt)for(var Jt,be,Xt=q[Tt],zt=Xt.length,Qt=Ft[Tt]=new Array(zt),Re=0;Re<zt;++Re)(Jt=Xt[Re])&&(be=h.call(Jt,Jt.__data__,Re,Xt))&&("__data__"in Jt&&(be.__data__=Jt.__data__),Qt[Re]=be,A(Qt[Re],_,N,Re,Qt,z(Jt,N)));return new oi(Ft,this._parents,_,N)},selectAll:function ki(h){var _=this._name,N=this._id;"function"!=typeof h&&(h=(0,fi.Z)(h));for(var q=this._groups,Dt=q.length,Ft=[],Tt=[],Xt=0;Xt<Dt;++Xt)for(var Jt,zt=q[Xt],Qt=zt.length,be=0;be<Qt;++be)if(Jt=zt[be]){for(var Ie,Re=h.call(Jt,Jt.__data__,be,zt),Hn=z(Jt,N),Qn=0,Mi=Re.length;Qn<Mi;++Qn)(Ie=Re[Qn])&&A(Ie,_,N,Qn,Re,Hn);Ft.push(Re),Tt.push(Jt)}return new oi(Ft,Tt,_,N)},filter:function kn(h){"function"!=typeof h&&(h=(0,ln.Z)(h));for(var _=this._groups,N=_.length,q=new Array(N),Dt=0;Dt<N;++Dt)for(var zt,Ft=_[Dt],Tt=Ft.length,Xt=q[Dt]=[],Qt=0;Qt<Tt;++Qt)(zt=Ft[Qt])&&h.call(zt,zt.__data__,Qt,Ft)&&Xt.push(zt);return new oi(q,this._parents,this._name,this._id)},merge:function Ne(h){if(h._id!==this._id)throw new Error;for(var _=this._groups,N=h._groups,q=_.length,Ft=Math.min(q,N.length),Tt=new Array(q),Xt=0;Xt<Ft;++Xt)for(var Re,zt=_[Xt],Qt=N[Xt],Jt=zt.length,be=Tt[Xt]=new Array(Jt),Ie=0;Ie<Jt;++Ie)(Re=zt[Ie]||Qt[Ie])&&(be[Ie]=Re);for(;Xt<q;++Xt)Tt[Xt]=_[Xt];return new oi(Tt,this._parents,this._name,this._id)},selection:function gi(){return new Xi(this._groups,this._parents)},transition:function ur(){for(var h=this._name,_=this._id,N=Nn(),q=this._groups,Dt=q.length,Ft=0;Ft<Dt;++Ft)for(var zt,Tt=q[Ft],Xt=Tt.length,Qt=0;Qt<Xt;++Qt)if(zt=Tt[Qt]){var Jt=z(zt,_);A(zt,h,N,Qt,Tt,{time:Jt.time+Jt.delay+Jt.duration,delay:0,duration:Jt.duration,ease:Jt.ease})}return new oi(q,this._parents,h,N)},call:Bn.call,nodes:Bn.nodes,node:Bn.node,size:Bn.size,empty:Bn.empty,each:Bn.each,on:function Di(h,_){var N=this._id;return arguments.length<2?z(this.node(),N).on.on(h):this.each(yi(N,h,_))},attr:function _e(h,_){var N=(0,it.Z)(h),q="transform"===N?ye:Wn;return this.attrTween(h,"function"==typeof _?(N.local?ze:En)(N,q,ke(this,"attr."+h,_)):null==_?(N.local?xn:an)(N):(N.local?on:On)(N,q,_))},attrTween:function Gt(h,_){var N="attr."+h;if(arguments.length<2)return(N=this.tween(N))&&N._value;if(null==_)return this.tween(N,null);if("function"!=typeof _)throw new Error;var q=(0,it.Z)(h);return this.tween(N,(q.local?X:bt)(q,_))},style:function wi(h,_,N){var q="transform"==(h+="")?ce:Wn;return null==_?this.styleTween(h,function Pi(h,_){var N,q,Dt;return function(){var Ft=(0,un.S)(this,h),Tt=(this.style.removeProperty(h),(0,un.S)(this,h));return Ft===Tt?null:Ft===N&&Tt===q?Dt:Dt=_(N=Ft,q=Tt)}}(h,q)).on("end.style."+h,tr(h)):"function"==typeof _?this.styleTween(h,function si(h,_,N){var q,Dt,Ft;return function(){var Tt=(0,un.S)(this,h),Xt=N(this),zt=Xt+"";return null==Xt&&(this.style.removeProperty(h),zt=Xt=(0,un.S)(this,h)),Tt===zt?null:Tt===q&&zt===Dt?Ft:(Dt=zt,Ft=_(q=Tt,Xt))}}(h,q,ke(this,"style."+h,_))).each(function en(h,_){var N,q,Dt,Xt,Ft="style."+_,Tt="end."+Ft;return function(){var zt=J(this,h),Qt=zt.on,Jt=null==zt.value[Ft]?Xt||(Xt=tr(_)):void 0;(Qt!==N||Dt!==Jt)&&(q=(N=Qt).copy()).on(Tt,Dt=Jt),zt.on=q}}(this._id,h)):this.styleTween(h,function Ri(h,_,N){var q,Ft,Dt=N+"";return function(){var Tt=(0,un.S)(this,h);return Tt===Dt?null:Tt===q?Ft:Ft=_(q=Tt,N)}}(h,q,_),N).on("end.style."+h,null)},styleTween:function Fi(h,_,N){var q="style."+(h+="");if(arguments.length<2)return(q=this.tween(q))&&q._value;if(null==_)return this.tween(q,null);if("function"!=typeof _)throw new Error;return this.tween(q,Ii(h,_,null==N?"":N))},text:function lr(h){return this.tween("text","function"==typeof h?function Gi(h){return function(){var _=h(this);this.textContent=null==_?"":_}}(ke(this,"text",h)):function Wi(h){return function(){this.textContent=h}}(null==h?"":h+""))},textTween:function ji(h){var _="text";if(arguments.length<1)return(_=this.tween(_))&&_._value;if(null==h)return this.tween(_,null);if("function"!=typeof h)throw new Error;return this.tween(_,Oi(h))},remove:function ii(){return this.on("end.remove",function qi(h){return function(){var _=this.parentNode;for(var N in this.__transition)if(+N!==h)return;_&&_.removeChild(this)}}(this._id))},tween:function ee(h,_){var N=this._id;if(h+="",arguments.length<2){for(var Tt,q=z(this.node(),N).tween,Dt=0,Ft=q.length;Dt<Ft;++Dt)if((Tt=q[Dt]).name===h)return Tt.value;return null}return this.each((null==_?Ct:Vt)(N,h,_))},delay:function ie(h){var _=this._id;return arguments.length?this.each(("function"==typeof h?gt:jt)(_,h)):z(this.node(),_).delay},duration:function Pe(h){var _=this._id;return arguments.length?this.each(("function"==typeof h?Bt:se)(_,h)):z(this.node(),_).duration},ease:function Ke(h){var _=this._id;return arguments.length?this.each(Oe(_,h)):z(this.node(),_).ease},end:function Hi(){var h,_,N=this,q=N._id,Dt=N.size();return new Promise(function(Ft,Tt){var Xt={value:Tt},zt={value:function(){0==--Dt&&Ft()}};N.each(function(){var Qt=J(this,q),Jt=Qt.on;Jt!==h&&((_=(h=Jt).copy())._.cancel.push(Xt),_._.interrupt.push(Xt),_._.end.push(zt)),Qt.on=_})})}};var zi={time:null,delay:0,duration:250,ease:function Qe(h){return((h*=2)<=1?h*h*h:(h-=2)*h*h+2)/2}};function ir(h,_){for(var N;!(N=h.__transition)||!(N=N[_]);)if(!(h=h.parentNode))return zi.time=(0,m.zO)(),zi;return N}v.ZP.prototype.interrupt=function ht(h){return this.each(function(){G(this,h)})},v.ZP.prototype.transition=function Ye(h){var _,N;h instanceof oi?(_=h._id,h=h._name):(_=Nn(),(N=zi).time=(0,m.zO)(),h=null==h?null:h+"");for(var q=this._groups,Dt=q.length,Ft=0;Ft<Dt;++Ft)for(var zt,Tt=q[Ft],Xt=Tt.length,Qt=0;Qt<Xt;++Qt)(zt=Tt[Qt])&&A(zt,h,_,Qt,Tt,N||ir(zt,_));return new oi(q,this._parents,h,_)}},56859:(It,pt,o)=>{"use strict";o.d(pt,{LLu:()=>ye,y4O:()=>it,Khx:()=>ce,F5q:()=>ue,b4o:()=>z.b4,Wem:()=>z.We,Hh:()=>Gt,A4v:()=>kn,Fp7:()=>z.Fp,VV$:()=>z.VV,tiA:()=>fi.ti,Ys:()=>ki.Z,rr1:()=>gi.Z,Z_i:()=>Xi.Z,F0B:()=>un.Z,jBk:()=>Pi.Z});var z=o(62225),rt=Array.prototype.slice;function G(l){return l}function At(l){return"translate("+(l+.5)+",0)"}function ut(l){return"translate(0,"+(l+.5)+")"}function ot(l){return function(g){return+l(g)}}function nt(l){var g=Math.max(0,l.bandwidth()-1)/2;return l.round()&&(g=Math.round(g)),function(p){return+l(p)+g}}function Yt(){return!this.__axis}function $t(l,g){var p=[],M=null,w=null,P=6,U=6,j=3,Q=1===l||4===l?-1:1,V=4===l||2===l?"x":"y",mt=1===l||3===l?At:ut;function ft(tt){var Et=null==M?g.ticks?g.ticks.apply(g,p):g.domain():M,dt=null==w?g.tickFormat?g.tickFormat.apply(g,p):G:w,F=Math.max(P,0)+j,yt=g.range(),st=+yt[0]+.5,Ot=+yt[yt.length-1]+.5,Rt=(g.bandwidth?nt:ot)(g.copy()),ae=tt.selection?tt.selection():tt,Le=ae.selectAll(".domain").data([null]),Fe=ae.selectAll(".tick").data(Et,g).order(),We=Fe.exit(),He=Fe.enter().append("g").attr("class","tick"),Se=Fe.select("line"),ge=Fe.select("text");Le=Le.merge(Le.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Fe=Fe.merge(He),Se=Se.merge(He.append("line").attr("stroke","currentColor").attr(V+"2",Q*P)),ge=ge.merge(He.append("text").attr("fill","currentColor").attr(V,Q*F).attr("dy",1===l?"0em":3===l?"0.71em":"0.32em")),tt!==ae&&(Le=Le.transition(tt),Fe=Fe.transition(tt),Se=Se.transition(tt),ge=ge.transition(tt),We=We.transition(tt).attr("opacity",1e-6).attr("transform",function(De){return isFinite(De=Rt(De))?mt(De):this.getAttribute("transform")}),He.attr("opacity",1e-6).attr("transform",function(De){var at=this.parentNode.__axis;return mt(at&&isFinite(at=at(De))?at:Rt(De))})),We.remove(),Le.attr("d",4===l||2==l?U?"M"+Q*U+","+st+"H0.5V"+Ot+"H"+Q*U:"M0.5,"+st+"V"+Ot:U?"M"+st+","+Q*U+"V0.5H"+Ot+"V"+Q*U:"M"+st+",0.5H"+Ot),Fe.attr("opacity",1).attr("transform",function(De){return mt(Rt(De))}),Se.attr(V+"2",Q*P),ge.attr(V,Q*F).text(dt),ae.filter(Yt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===l?"start":4===l?"end":"middle"),ae.each(function(){this.__axis=Rt})}return ft.scale=function(tt){return arguments.length?(g=tt,ft):g},ft.ticks=function(){return p=rt.call(arguments),ft},ft.tickArguments=function(tt){return arguments.length?(p=null==tt?[]:rt.call(tt),ft):p.slice()},ft.tickValues=function(tt){return arguments.length?(M=null==tt?null:rt.call(tt),ft):M&&M.slice()},ft.tickFormat=function(tt){return arguments.length?(w=tt,ft):w},ft.tickSize=function(tt){return arguments.length?(P=U=+tt,ft):P},ft.tickSizeInner=function(tt){return arguments.length?(P=+tt,ft):P},ft.tickSizeOuter=function(tt){return arguments.length?(U=+tt,ft):U},ft.tickPadding=function(tt){return arguments.length?(j=+tt,ft):j},ft}function ue(l){return $t(1,l)}function ce(l){return $t(2,l)}function ye(l){return $t(3,l)}function it(l){return $t(4,l)}o(24099),Math,Math,Math,Math;var Vn=o(88097);function ne(l){return function(){return l}}function ve(){return 1e-6*(Math.random()-.5)}function re(l,g,p,M){if(isNaN(g)||isNaN(p))return l;var w,ft,tt,Et,dt,F,yt,st,Ot,P=l._root,U={data:M},j=l._x0,Q=l._y0,V=l._x1,mt=l._y1;if(!P)return l._root=U,l;for(;P.length;)if((F=g>=(ft=(j+V)/2))?j=ft:V=ft,(yt=p>=(tt=(Q+mt)/2))?Q=tt:mt=tt,w=P,!(P=P[st=yt<<1|F]))return w[st]=U,l;if(Et=+l._x.call(null,P.data),dt=+l._y.call(null,P.data),g===Et&&p===dt)return U.next=P,w?w[st]=U:l._root=U,l;do{w=w?w[st]=new Array(4):l._root=new Array(4),(F=g>=(ft=(j+V)/2))?j=ft:V=ft,(yt=p>=(tt=(Q+mt)/2))?Q=tt:mt=tt}while((st=yt<<1|F)==(Ot=(dt>=tt)<<1|Et>=ft));return w[Ot]=P,w[st]=U,l}function Ve(l,g,p,M,w){this.node=l,this.x0=g,this.y0=p,this.x1=M,this.y1=w}function xn(l){return l[0]}function on(l){return l[1]}function ze(l,g,p){var M=new _e(null==g?xn:g,null==p?on:p,NaN,NaN,NaN,NaN);return null==l?M:M.addAll(l)}function _e(l,g,p,M,w,P){this._x=l,this._y=g,this._x0=p,this._y0=M,this._x1=w,this._y1=P,this._root=void 0}function vn(l){for(var g={data:l.data},p=g;l=l.next;)p=p.next={data:l.data};return g}var dn=ze.prototype=_e.prototype;function X(l){return l.x+l.vx}function bt(l){return l.y+l.vy}function Gt(l){var g,p,M=1,w=1;function P(){for(var Q,mt,ft,tt,Et,dt,F,V=g.length,yt=0;yt<w;++yt)for(mt=ze(g,X,bt).visitAfter(U),Q=0;Q<V;++Q)F=(dt=p[(ft=g[Q]).index])*dt,tt=ft.x+ft.vx,Et=ft.y+ft.vy,mt.visit(st);function st(Ot,Rt,ae,Le,Fe){var We=Ot.data,He=Ot.r,Se=dt+He;if(!We)return Rt>tt+Se||Le<tt-Se||ae>Et+Se||Fe<Et-Se;if(We.index>ft.index){var ge=tt-We.x-We.vx,De=Et-We.y-We.vy,at=ge*ge+De*De;at<Se*Se&&(0===ge&&(at+=(ge=ve())*ge),0===De&&(at+=(De=ve())*De),at=(Se-(at=Math.sqrt(at)))/at*M,ft.vx+=(ge*=at)*(Se=(He*=He)/(F+He)),ft.vy+=(De*=at)*Se,We.vx-=ge*(Se=1-Se),We.vy-=De*Se)}}}function U(Q){if(Q.data)return Q.r=p[Q.data.index];for(var V=Q.r=0;V<4;++V)Q[V]&&Q[V].r>Q.r&&(Q.r=Q[V].r)}function j(){if(g){var Q,mt,V=g.length;for(p=new Array(V),Q=0;Q<V;++Q)p[(mt=g[Q]).index]=+l(mt,Q,g)}}return"function"!=typeof l&&(l=ne(null==l?1:+l)),P.initialize=function(Q){g=Q,j()},P.iterations=function(Q){return arguments.length?(w=+Q,P):w},P.strength=function(Q){return arguments.length?(M=+Q,P):M},P.radius=function(Q){return arguments.length?(l="function"==typeof Q?Q:ne(+Q),j(),P):l},P}dn.copy=function(){var p,M,l=new _e(this._x,this._y,this._x0,this._y0,this._x1,this._y1),g=this._root;if(!g)return l;if(!g.length)return l._root=vn(g),l;for(p=[{source:g,target:l._root=new Array(4)}];g=p.pop();)for(var w=0;w<4;++w)(M=g.source[w])&&(M.length?p.push({source:M,target:g.target[w]=new Array(4)}):g.target[w]=vn(M));return l},dn.add=function Ce(l){var g=+this._x.call(null,l),p=+this._y.call(null,l);return re(this.cover(g,p),g,p,l)},dn.addAll=function Ze(l){var g,p,w,P,M=l.length,U=new Array(M),j=new Array(M),Q=1/0,V=1/0,mt=-1/0,ft=-1/0;for(p=0;p<M;++p)isNaN(w=+this._x.call(null,g=l[p]))||isNaN(P=+this._y.call(null,g))||(U[p]=w,j[p]=P,w<Q&&(Q=w),w>mt&&(mt=w),P<V&&(V=P),P>ft&&(ft=P));if(Q>mt||V>ft)return this;for(this.cover(Q,V).cover(mt,ft),p=0;p<M;++p)re(this,U[p],j[p],l[p]);return this},dn.cover=function _n(l,g){if(isNaN(l=+l)||isNaN(g=+g))return this;var p=this._x0,M=this._y0,w=this._x1,P=this._y1;if(isNaN(p))w=(p=Math.floor(l))+1,P=(M=Math.floor(g))+1;else{for(var Q,V,U=w-p,j=this._root;p>l||l>=w||M>g||g>=P;)switch(V=(g<M)<<1|l<p,Q=new Array(4),Q[V]=j,j=Q,U*=2,V){case 0:w=p+U,P=M+U;break;case 1:p=w-U,P=M+U;break;case 2:w=p+U,M=P-U;break;case 3:p=w-U,M=P-U}this._root&&this._root.length&&(this._root=j)}return this._x0=p,this._y0=M,this._x1=w,this._y1=P,this},dn.data=function Tn(){var l=[];return this.visit(function(g){if(!g.length)do{l.push(g.data)}while(g=g.next)}),l},dn.extent=function rn(l){return arguments.length?this.cover(+l[0][0],+l[0][1]).cover(+l[1][0],+l[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},dn.find=function sn(l,g,p){var M,U,j,Q,V,dt,F,w=this._x0,P=this._y0,mt=this._x1,ft=this._y1,tt=[],Et=this._root;for(Et&&tt.push(new Ve(Et,w,P,mt,ft)),null==p?p=1/0:(w=l-p,P=g-p,mt=l+p,ft=g+p,p*=p);dt=tt.pop();)if(!(!(Et=dt.node)||(U=dt.x0)>mt||(j=dt.y0)>ft||(Q=dt.x1)<w||(V=dt.y1)<P))if(Et.length){var yt=(U+Q)/2,st=(j+V)/2;tt.push(new Ve(Et[3],yt,st,Q,V),new Ve(Et[2],U,st,yt,V),new Ve(Et[1],yt,j,Q,st),new Ve(Et[0],U,j,yt,st)),(F=(g>=st)<<1|l>=yt)&&(dt=tt[tt.length-1],tt[tt.length-1]=tt[tt.length-1-F],tt[tt.length-1-F]=dt)}else{var Ot=l-+this._x.call(null,Et.data),Rt=g-+this._y.call(null,Et.data),ae=Ot*Ot+Rt*Rt;if(ae<p){var Le=Math.sqrt(p=ae);w=l-Le,P=g-Le,mt=l+Le,ft=g+Le,M=Et.data}}return M},dn.remove=function $e(l){if(isNaN(mt=+this._x.call(null,l))||isNaN(ft=+this._y.call(null,l)))return this;var g,M,w,P,mt,ft,tt,Et,dt,F,yt,st,p=this._root,U=this._x0,j=this._y0,Q=this._x1,V=this._y1;if(!p)return this;if(p.length)for(;;){if((dt=mt>=(tt=(U+Q)/2))?U=tt:Q=tt,(F=ft>=(Et=(j+V)/2))?j=Et:V=Et,g=p,!(p=p[yt=F<<1|dt]))return this;if(!p.length)break;(g[yt+1&3]||g[yt+2&3]||g[yt+3&3])&&(M=g,st=yt)}for(;p.data!==l;)if(w=p,!(p=p.next))return this;return(P=p.next)&&delete p.next,w?(P?w.next=P:delete w.next,this):g?(P?g[yt]=P:delete g[yt],(p=g[0]||g[1]||g[2]||g[3])&&p===(g[3]||g[2]||g[1]||g[0])&&!p.length&&(M?M[st]=p:this._root=p),this):(this._root=P,this)},dn.removeAll=function Fn(l){for(var g=0,p=l.length;g<p;++g)this.remove(l[g]);return this},dn.root=function pn(){return this._root},dn.size=function mn(){var l=0;return this.visit(function(g){if(!g.length)do{++l}while(g=g.next)}),l},dn.visit=function Wn(l){var p,w,P,U,j,Q,g=[],M=this._root;for(M&&g.push(new Ve(M,this._x0,this._y0,this._x1,this._y1));p=g.pop();)if(!l(M=p.node,P=p.x0,U=p.y0,j=p.x1,Q=p.y1)&&M.length){var V=(P+j)/2,mt=(U+Q)/2;(w=M[3])&&g.push(new Ve(w,V,mt,j,Q)),(w=M[2])&&g.push(new Ve(w,P,mt,V,Q)),(w=M[1])&&g.push(new Ve(w,V,U,j,mt)),(w=M[0])&&g.push(new Ve(w,P,U,V,mt))}return this},dn.visitAfter=function an(l){var M,g=[],p=[];for(this._root&&g.push(new Ve(this._root,this._x0,this._y0,this._x1,this._y1));M=g.pop();){var w=M.node;if(w.length){var P,U=M.x0,j=M.y0,Q=M.x1,V=M.y1,mt=(U+Q)/2,ft=(j+V)/2;(P=w[0])&&g.push(new Ve(P,U,j,mt,ft)),(P=w[1])&&g.push(new Ve(P,mt,j,Q,ft)),(P=w[2])&&g.push(new Ve(P,U,ft,mt,V)),(P=w[3])&&g.push(new Ve(P,mt,ft,Q,V))}p.push(M)}for(;M=p.pop();)l(M.node,M.x0,M.y0,M.x1,M.y1);return this},dn.x=function On(l){return arguments.length?(this._x=l,this):this._x},dn.y=function En(l){return arguments.length?(this._y=l,this):this._y};var Bt=o(25922),se=o(49194),ln=Math.PI*(3-Math.sqrt(5));function kn(l){var g,p=1,M=.001,w=1-Math.pow(M,1/300),P=0,U=.6,j=(0,Vn.UI)(),Q=(0,se.HT)(mt),V=(0,Bt.Z)("tick","end");function mt(){ft(),V.call("tick",g),p<M&&(Q.stop(),V.call("end",g))}function ft(dt){var F,st,yt=l.length;void 0===dt&&(dt=1);for(var Ot=0;Ot<dt;++Ot)for(p+=(P-p)*w,j.each(function(Rt){Rt(p)}),F=0;F<yt;++F)null==(st=l[F]).fx?st.x+=st.vx*=U:(st.x=st.fx,st.vx=0),null==st.fy?st.y+=st.vy*=U:(st.y=st.fy,st.vy=0);return g}function tt(){for(var yt,dt=0,F=l.length;dt<F;++dt){if((yt=l[dt]).index=dt,null!=yt.fx&&(yt.x=yt.fx),null!=yt.fy&&(yt.y=yt.fy),isNaN(yt.x)||isNaN(yt.y)){var st=10*Math.sqrt(dt),Ot=dt*ln;yt.x=st*Math.cos(Ot),yt.y=st*Math.sin(Ot)}(isNaN(yt.vx)||isNaN(yt.vy))&&(yt.vx=yt.vy=0)}}function Et(dt){return dt.initialize&&dt.initialize(l),dt}return null==l&&(l=[]),tt(),g={tick:ft,restart:function(){return Q.restart(mt),g},stop:function(){return Q.stop(),g},nodes:function(dt){return arguments.length?(l=dt,tt(),j.each(Et),g):l},alpha:function(dt){return arguments.length?(p=+dt,g):p},alphaMin:function(dt){return arguments.length?(M=+dt,g):M},alphaDecay:function(dt){return arguments.length?(w=+dt,g):+w},alphaTarget:function(dt){return arguments.length?(P=+dt,g):P},velocityDecay:function(dt){return arguments.length?(U=1-dt,g):1-U},force:function(dt,F){return arguments.length>1?(null==F?j.remove(dt):j.set(dt,Et(F)),g):j.get(dt)},find:function(dt,F,yt){var Rt,ae,Le,Fe,We,st=0,Ot=l.length;for(null==yt?yt=1/0:yt*=yt,st=0;st<Ot;++st)(Le=(Rt=dt-(Fe=l[st]).x)*Rt+(ae=F-Fe.y)*ae)<yt&&(We=Fe,yt=Le);return We},on:function(dt,F){return arguments.length>1?(V.on(dt,F),g):V.on(dt)}}}function tn(){return Math.random()}!function l(g){function p(M,w){return M=null==M?0:+M,w=null==w?1:+w,1===arguments.length?(w=M,M=0):w-=M,function(){return g()*w+M}}return p.source=l,p}(tn);const Di=function l(g){function p(M,w){var P,U;return M=null==M?0:+M,w=null==w?1:+w,function(){var j;if(null!=P)j=P,P=null;else do{P=2*g()-1,j=2*g()-1,U=P*P+j*j}while(!U||U>1);return M+w*j*Math.sqrt(-2*Math.log(U)/U)}}return p.source=l,p}(tn),ii=(function l(g){function p(){var M=Di.source(g).apply(this,arguments);return function(){return Math.exp(M())}}return p.source=l,p}(tn),function l(g){function p(M){return function(){for(var w=0,P=0;P<M;++P)w+=g();return w}}return p.source=l,p}(tn));(function l(g){function p(M){var w=ii.source(g)(M);return function(){return w()/M}}return p.source=l,p})(tn),function l(g){function p(M){return function(){return-Math.log(1-g())/M}}return p.source=l,p}(tn);var fi=o(93205),ki=o(52016),Xi=o(47793),gi=o(76371),un=o(14296),Pi=o(56513);function Ri(){this._=null}function si(l){l.U=l.C=l.L=l.R=l.P=l.N=null}function en(l,g){var p=g,M=g.R,w=p.U;w?w.L===p?w.L=M:w.R=M:l._=M,M.U=w,p.U=M,p.R=M.L,p.R&&(p.R.U=p),M.L=p}function wi(l,g){var p=g,M=g.L,w=p.U;w?w.L===p?w.L=M:w.R=M:l._=M,M.U=w,p.U=M,p.L=M.R,p.L&&(p.L.U=p),M.R=p}function Ui(l){for(;l.L;)l=l.L;return l}o(64747),Ri.prototype={constructor:Ri,insert:function(l,g){var p,M,w;if(l){if(g.P=l,g.N=l.N,l.N&&(l.N.P=g),l.N=g,l.R){for(l=l.R;l.L;)l=l.L;l.L=g}else l.R=g;p=l}else this._?(l=Ui(this._),g.P=null,g.N=l,l.P=l.L=g,p=l):(g.P=g.N=null,this._=g,p=null);for(g.L=g.R=null,g.U=p,g.C=!0,l=g;p&&p.C;)p===(M=p.U).L?(w=M.R)&&w.C?(p.C=w.C=!1,M.C=!0,l=M):(l===p.R&&(en(this,p),p=(l=p).U),p.C=!1,M.C=!0,wi(this,M)):(w=M.L)&&w.C?(p.C=w.C=!1,M.C=!0,l=M):(l===p.L&&(wi(this,p),p=(l=p).U),p.C=!1,M.C=!0,en(this,M)),p=l.U;this._.C=!1},remove:function(l){l.N&&(l.N.P=l.P),l.P&&(l.P.N=l.N),l.N=l.P=null;var p,P,U,g=l.U,M=l.L,w=l.R;if(P=M?w?Ui(w):M:w,g?g.L===l?g.L=P:g.R=P:this._=P,M&&w?(U=P.C,P.C=l.C,P.L=M,M.U=P,P!==w?(g=P.U,P.U=l.U,g.L=l=P.R,P.R=w,w.U=P):(P.U=g,g=P,l=P.R)):(U=l.C,l=P),l&&(l.U=g),!U){if(l&&l.C)return void(l.C=!1);do{if(l===this._)break;if(l===g.L){if((p=g.R).C&&(p.C=!1,g.C=!0,en(this,g),p=g.R),p.L&&p.L.C||p.R&&p.R.C){(!p.R||!p.R.C)&&(p.L.C=!1,p.C=!0,wi(this,p),p=g.R),p.C=g.C,g.C=p.R.C=!1,en(this,g),l=this._;break}}else if((p=g.L).C&&(p.C=!1,g.C=!0,wi(this,g),p=g.L),p.L&&p.L.C||p.R&&p.R.C){(!p.L||!p.L.C)&&(p.R.C=!1,p.C=!0,en(this,p),p=g.L),p.C=g.C,g.C=p.L.C=!1,wi(this,g),l=this._;break}p.C=!0,l=g,g=g.U}while(!l.C);l&&(l.C=!1)}}};const Ii=Ri;function Fi(l,g,p,M){var w=[null,null],P=zt.push(w)-1;return w.left=l,w.right=g,p&&Gi(w,l,g,p),M&&Gi(w,g,l,M),Tt[l.index].halfedges.push(P),Tt[g.index].halfedges.push(P),w}function Wi(l,g,p){var M=[g,p];return M.left=l,M}function Gi(l,g,p,M){l[0]||l[1]?l.left===p?l[1]=M:l[0]=M:(l[0]=M,l.left=g,l.right=p)}function lr(l,g,p,M,w){var F,P=l[0],U=l[1],j=P[0],Q=P[1],ft=0,tt=1,Et=U[0]-j,dt=U[1]-Q;if(F=g-j,Et||!(F>0)){if(F/=Et,Et<0){if(F<ft)return;F<tt&&(tt=F)}else if(Et>0){if(F>tt)return;F>ft&&(ft=F)}if(F=M-j,Et||!(F<0)){if(F/=Et,Et<0){if(F>tt)return;F>ft&&(ft=F)}else if(Et>0){if(F<ft)return;F<tt&&(tt=F)}if(F=p-Q,dt||!(F>0)){if(F/=dt,dt<0){if(F<ft)return;F<tt&&(tt=F)}else if(dt>0){if(F>tt)return;F>ft&&(ft=F)}if(F=w-Q,dt||!(F<0)){if(F/=dt,dt<0){if(F>tt)return;F>ft&&(ft=F)}else if(dt>0){if(F<ft)return;F<tt&&(tt=F)}return!(ft>0)&&!(tt<1)||(ft>0&&(l[0]=[j+ft*Et,Q+ft*dt]),tt<1&&(l[1]=[j+tt*Et,Q+tt*dt])),!0}}}}}function Li(l,g,p,M,w){var P=l[1];if(P)return!0;var F,yt,U=l[0],j=l.left,Q=l.right,V=j[0],mt=j[1],ft=Q[0],tt=Q[1],Et=(V+ft)/2;if(tt===mt){if(Et<g||Et>=M)return;if(V>ft){if(U){if(U[1]>=w)return}else U=[Et,p];P=[Et,w]}else{if(U){if(U[1]<p)return}else U=[Et,w];P=[Et,p]}}else if(yt=(mt+tt)/2-(F=(V-ft)/(tt-mt))*Et,F<-1||F>1)if(V>ft){if(U){if(U[1]>=w)return}else U=[(p-yt)/F,p];P=[(w-yt)/F,w]}else{if(U){if(U[1]<p)return}else U=[(w-yt)/F,w];P=[(p-yt)/F,p]}else if(mt<tt){if(U){if(U[0]>=M)return}else U=[g,F*g+yt];P=[M,F*M+yt]}else{if(U){if(U[0]<g)return}else U=[M,F*M+yt];P=[g,F*g+yt]}return l[0]=U,l[1]=P,!0}function ur(l,g){var p=l.site,M=g.left,w=g.right;return p===w&&(w=M,M=p),w?Math.atan2(w[1]-M[1],w[0]-M[0]):(p===M?(M=g[1],w=g[0]):(M=g[0],w=g[1]),Math.atan2(M[0]-w[0],w[1]-M[1]))}function Hi(l,g){return g[+(g.left!==l.site)]}function pi(l,g){return g[+(g.left===l.site)]}var Bn,Nn=[];function bi(){si(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gn(l){var g=l.P,p=l.N;if(g&&p){var M=g.site,w=l.site,P=p.site;if(M!==P){var U=w[0],j=w[1],Q=M[0]-U,V=M[1]-j,mt=P[0]-U,ft=P[1]-j,tt=2*(Q*ft-V*mt);if(!(tt>=-Dt)){var Et=Q*Q+V*V,dt=mt*mt+ft*ft,F=(ft*Et-V*dt)/tt,yt=(Q*dt-mt*Et)/tt,st=Nn.pop()||new bi;st.arc=l,st.site=w,st.x=F+U,st.y=(st.cy=yt+j)+Math.sqrt(F*F+yt*yt),l.circle=st;for(var Ot=null,Rt=Xt._;Rt;)if(st.y<Rt.y||st.y===Rt.y&&st.x<=Rt.x){if(!Rt.L){Ot=Rt.P;break}Rt=Rt.L}else{if(!Rt.R){Ot=Rt;break}Rt=Rt.R}Xt.insert(Ot,st),Ot||(Bn=st)}}}}function Qe(l){var g=l.circle;g&&(g.P||(Bn=g.N),Xt.remove(g),Nn.push(g),si(g),l.circle=null)}var zi=[];function ir(){si(this),this.edge=this.site=this.circle=null}function Ye(l){var g=zi.pop()||new ir;return g.site=l,g}function Cn(l){Qe(l),Ft.remove(l),zi.push(l),si(l)}function _i(l){var g=l.circle,p=g.x,M=g.cy,w=[p,M],P=l.P,U=l.N,j=[l];Cn(l);for(var Q=P;Q.circle&&Math.abs(p-Q.circle.x)<q&&Math.abs(M-Q.circle.cy)<q;)P=Q.P,j.unshift(Q),Cn(Q),Q=P;j.unshift(Q),Qe(Q);for(var V=U;V.circle&&Math.abs(p-V.circle.x)<q&&Math.abs(M-V.circle.cy)<q;)U=V.N,j.push(V),Cn(V),V=U;j.push(V),Qe(V);var ft,mt=j.length;for(ft=1;ft<mt;++ft)Gi((V=j[ft]).edge,(Q=j[ft-1]).site,V.site,w);(V=j[mt-1]).edge=Fi((Q=j[0]).site,V.site,null,w),Gn(Q),Gn(V)}function h(l){for(var M,w,P,U,g=l[0],p=l[1],j=Ft._;j;)if((P=_(j,p)-g)>q)j=j.L;else{if(!((U=g-N(j,p))>q)){P>-q?(M=j.P,w=j):U>-q?(M=j,w=j.N):M=w=j;break}if(!j.R){M=j;break}j=j.R}!function ji(l){Tt[l.index]={site:l,halfedges:[]}}(l);var Q=Ye(l);if(Ft.insert(M,Q),M||w){if(M===w)return Qe(M),w=Ye(M.site),Ft.insert(Q,w),Q.edge=w.edge=Fi(M.site,Q.site),Gn(M),void Gn(w);if(!w)return void(Q.edge=Fi(M.site,Q.site));Qe(M),Qe(w);var V=M.site,mt=V[0],ft=V[1],tt=l[0]-mt,Et=l[1]-ft,dt=w.site,F=dt[0]-mt,yt=dt[1]-ft,st=2*(tt*yt-Et*F),Ot=tt*tt+Et*Et,Rt=F*F+yt*yt,ae=[(yt*Ot-Et*Rt)/st+mt,(tt*Rt-F*Ot)/st+ft];Gi(w.edge,V,dt,ae),Q.edge=Fi(V,l,null,ae),w.edge=Fi(l,dt,null,ae),Gn(M),Gn(w)}}function _(l,g){var p=l.site,M=p[0],w=p[1],P=w-g;if(!P)return M;var U=l.P;if(!U)return-1/0;var j=(p=U.site)[0],Q=p[1],V=Q-g;if(!V)return j;var mt=j-M,ft=1/P-1/V,tt=mt/V;return ft?(-tt+Math.sqrt(tt*tt-2*ft*(mt*mt/(-2*V)-Q+V/2+w-P/2)))/ft+M:(M+j)/2}function N(l,g){var p=l.N;if(p)return _(p,g);var M=l.site;return M[1]===g?M[0]:1/0}var Ft,Tt,Xt,zt,q=1e-6,Dt=1e-12;function Qt(l,g,p){return(l[0]-p[0])*(g[1]-l[1])-(l[0]-g[0])*(p[1]-l[1])}function Jt(l,g){return g[1]-l[1]||g[0]-l[0]}function be(l,g){var M,w,P,p=l.sort(Jt).pop();for(zt=[],Tt=new Array(l.length),Ft=new Ii,Xt=new Ii;;)if(P=Bn,p&&(!P||p[1]<P.y||p[1]===P.y&&p[0]<P.x))(p[0]!==M||p[1]!==w)&&(h(p),M=p[0],w=p[1]),p=l.pop();else{if(!P)break;_i(P.arc)}if(function oi(){for(var p,M,w,P,l=0,g=Tt.length;l<g;++l)if((p=Tt[l])&&(P=(M=p.halfedges).length)){var U=new Array(P),j=new Array(P);for(w=0;w<P;++w)U[w]=w,j[w]=ur(p,zt[M[w]]);for(U.sort(function(Q,V){return j[V]-j[Q]}),w=0;w<P;++w)j[w]=M[U[w]];for(w=0;w<P;++w)M[w]=j[w]}}(),g){var U=+g[0][0],j=+g[0][1],Q=+g[1][0],V=+g[1][1];(function Oi(l,g,p,M){for(var P,w=zt.length;w--;)Li(P=zt[w],l,g,p,M)&&lr(P,l,g,p,M)&&(Math.abs(P[0][0]-P[1][0])>q||Math.abs(P[0][1]-P[1][1])>q)||delete zt[w]})(U,j,Q,V),function Ai(l,g,p,M){var P,U,j,Q,V,mt,ft,tt,Et,dt,F,yt,w=Tt.length,st=!0;for(P=0;P<w;++P)if(U=Tt[P]){for(j=U.site,Q=(V=U.halfedges).length;Q--;)zt[V[Q]]||V.splice(Q,1);for(Q=0,mt=V.length;Q<mt;)F=(dt=pi(U,zt[V[Q]]))[0],yt=dt[1],tt=(ft=Hi(U,zt[V[++Q%mt]]))[0],Et=ft[1],(Math.abs(F-tt)>q||Math.abs(yt-Et)>q)&&(V.splice(Q,0,zt.push(Wi(j,dt,Math.abs(F-l)<q&&M-yt>q?[l,Math.abs(tt-l)<q?Et:M]:Math.abs(yt-M)<q&&p-F>q?[Math.abs(Et-M)<q?tt:p,M]:Math.abs(F-p)<q&&yt-g>q?[p,Math.abs(tt-p)<q?Et:g]:Math.abs(yt-g)<q&&F-l>q?[Math.abs(Et-g)<q?tt:l,g]:null))-1),++mt);mt&&(st=!1)}if(st){var Ot,Rt,ae,Le=1/0;for(P=0,st=null;P<w;++P)(U=Tt[P])&&(ae=(Ot=(j=U.site)[0]-l)*Ot+(Rt=j[1]-g)*Rt)<Le&&(Le=ae,st=U);if(st){var Fe=[l,g],We=[l,M],He=[p,M],Se=[p,g];st.halfedges.push(zt.push(Wi(j=st.site,Fe,We))-1,zt.push(Wi(j,We,He))-1,zt.push(Wi(j,He,Se))-1,zt.push(Wi(j,Se,Fe))-1)}}for(P=0;P<w;++P)(U=Tt[P])&&(U.halfedges.length||delete Tt[P])}(U,j,Q,V)}this.edges=zt,this.cells=Tt,Ft=Xt=zt=Tt=null}function Ie(l,g,p){this.k=l,this.x=g,this.y=p}be.prototype={constructor:be,polygons:function(){var l=this.edges;return this.cells.map(function(g){var p=g.halfedges.map(function(M){return Hi(g,l[M])});return p.data=g.site.data,p})},triangles:function(){var l=[],g=this.edges;return this.cells.forEach(function(p,M){if(j=(P=p.halfedges).length)for(var P,j,Q,w=p.site,U=-1,V=g[P[j-1]],mt=V.left===w?V.right:V.left;++U<j;)Q=mt,mt=(V=g[P[U]]).left===w?V.right:V.left,Q&&mt&&M<Q.index&&M<mt.index&&Qt(w,Q,mt)<0&&l.push([w.data,Q.data,mt.data])}),l},links:function(){return this.edges.filter(function(l){return l.right}).map(function(l){return{source:l.left.data,target:l.right.data}})},find:function(l,g,p){for(var w,j,M=this,P=M._found||0,U=M.cells.length;!(j=M.cells[P]);)if(++P>=U)return null;var Q=l-j.site[0],V=g-j.site[1],mt=Q*Q+V*V;do{j=M.cells[w=P],P=null,j.halfedges.forEach(function(ft){var tt=M.edges[ft],Et=tt.left;if(Et!==j.site&&Et||(Et=tt.right)){var dt=l-Et[0],F=g-Et[1],yt=dt*dt+F*F;yt<mt&&(mt=yt,P=Et.index)}})}while(null!==P);return M._found=w,null==p||mt<=p*p?j.site:null}},Ie.prototype={constructor:Ie,scale:function(l){return 1===l?this:new Ie(this.k*l,this.x,this.y)},translate:function(l,g){return 0===l&0===g?this:new Ie(this.k,this.x+this.k*l,this.y+this.k*g)},apply:function(l){return[l[0]*this.k+this.x,l[1]*this.k+this.y]},applyX:function(l){return l*this.k+this.x},applyY:function(l){return l*this.k+this.y},invert:function(l){return[(l[0]-this.x)/this.k,(l[1]-this.y)/this.k]},invertX:function(l){return(l-this.x)/this.k},invertY:function(l){return(l-this.y)/this.k},rescaleX:function(l){return l.copy().domain(l.range().map(this.invertX,this).map(l.invert,l))},rescaleY:function(l){return l.copy().domain(l.range().map(this.invertY,this).map(l.invert,l))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Ie(1,0,0)},12706:It=>{It.exports=function pt(o,v,L,m){for(var O=-1,Y=null==o?0:o.length;++O<Y;){var B=o[O];v(m,B,L(B),o)}return m}},49276:(It,pt,o)=>{var v=o(85683),L=o(20217);It.exports=function m(O,Y,B){(void 0!==B&&!L(O[Y],B)||void 0===B&&!(Y in O))&&v(O,Y,B)}},96139:(It,pt,o)=>{var v=o(43132);It.exports=function L(m,O,Y,B){return v(m,function(et,C,D){O(B,et,Y(et),D)}),B}},2762:It=>{It.exports=function pt(o,v,L){var m;return L(o,function(O,Y,B){if(v(O,Y,B))return m=Y,!1}),m}},73842:(It,pt,o)=>{var v=o(2858),L=o(49276),m=o(30755),O=o(33675),Y=o(25940),B=o(16555),et=o(99351);It.exports=function C(D,k,$,W,T){D!==k&&m(k,function(A,R){if(T||(T=new v),Y(A))O(D,k,R,$,C,W,T);else{var J=W?W(et(D,R),A,R+"",D,k,T):void 0;void 0===J&&(J=A),L(D,R,J)}},B)}},33675:(It,pt,o)=>{var v=o(49276),L=o(19292),m=o(65208),O=o(99454),Y=o(4264),B=o(77151),et=o(21503),C=o(21330),D=o(80891),k=o(75946),$=o(25940),W=o(97614),T=o(48159),A=o(99351),R=o(8067);It.exports=function J(z,rt,G,ht,Z,St,lt){var vt=A(z,G),At=A(rt,G),ut=lt.get(At);if(ut)v(z,G,ut);else{var ot=St?St(vt,At,G+"",z,rt,lt):void 0,nt=void 0===ot;if(nt){var Yt=et(At),$t=!Yt&&D(At),ue=!Yt&&!$t&&T(At);ot=At,Yt||$t||ue?et(vt)?ot=vt:C(vt)?ot=O(vt):$t?(nt=!1,ot=L(At,!0)):ue?(nt=!1,ot=m(At,!0)):ot=[]:W(At)||B(At)?(ot=vt,B(vt)?ot=R(vt):(!$(vt)||k(vt))&&(ot=Y(At))):nt=!1}nt&&(lt.set(At,ot),Z(ot,At,ht,St,lt),lt.delete(At)),v(z,G,ot)}}},95286:(It,pt,o)=>{var v=o(14164);It.exports=function L(m,O){for(var Y=m.length;Y--&&v(O,m[Y],0)>-1;);return Y}},11146:(It,pt,o)=>{var v=o(14164);It.exports=function L(m,O){for(var Y=-1,B=m.length;++Y<B&&v(O,m[Y],0)>-1;);return Y}},41005:(It,pt,o)=>{var v=o(12706),L=o(96139),m=o(96517),O=o(21503);It.exports=function Y(B,et){return function(C,D){var k=O(C)?v:L,$=et?et():{};return k(C,B,m(D,2),$)}}},15082:(It,pt,o)=>{var v=o(73842),L=o(25940);It.exports=function m(O,Y,B,et,C,D){return L(O)&&L(Y)&&(D.set(Y,O),v(O,Y,void 0,m,D),D.delete(Y)),O}},99351:It=>{It.exports=function pt(o,v){if(("constructor"!==v||"function"!=typeof o[v])&&"__proto__"!=v)return o[v]}},69754:(It,pt,o)=>{var v=o(26999),L=o(23269),m=o(15082),O=o(25468),Y=L(function(B){return B.push(void 0,m),v(O,void 0,B)});It.exports=Y},58152:(It,pt,o)=>{var v=o(2762),L=o(45184),m=o(96517);It.exports=function O(Y,B){return v(Y,m(B,3),L)}},91237:(It,pt,o)=>{var v=o(14164),L=o(44401),m=Math.max;It.exports=function O(Y,B,et){var C=null==Y?0:Y.length;if(!C)return-1;var D=null==et?0:L(et);return D<0&&(D=m(C+D,0)),v(Y,B,D)}},12498:(It,pt,o)=>{var v=o(85683),m=o(41005)(function(O,Y,B){v(O,B,Y)});It.exports=m},25468:(It,pt,o)=>{var v=o(73842),m=o(84944)(function(O,Y,B,et){v(O,Y,B,et)});It.exports=m},38322:(It,pt,o)=>{var v=o(84633),L=o(96517),m=o(95495),O=o(6967);It.exports=function Y(B,et){if(null==B)return{};var C=v(O(B),function(D){return[D]});return et=L(et),m(B,C,function(D,k){return et(D,k[0])})}},12906:(It,pt,o)=>{var v=o(50686),L=o(6119),m=o(23269),O=o(93342),Y=m(function(B,et){if(null==B)return[];var C=et.length;return C>1&&O(B,et[0],et[1])?et=[]:C>2&&O(et[0],et[1],et[2])&&(et=[et[0]]),L(B,v(et,1),[])});It.exports=Y},8067:(It,pt,o)=>{var v=o(31989),L=o(16555);It.exports=function m(O){return v(O,L(O))}},34220:(It,pt,o)=>{var v=o(93935),L=o(83348),m=o(62329),O=o(95286),Y=o(11146),B=o(66007),et=o(73943);It.exports=function C(D,k,$){if((D=et(D))&&($||void 0===k))return L(D);if(!D||!(k=v(k)))return D;var W=B(D),T=B(k),A=Y(W,T),R=O(W,T)+1;return m(W,A,R).join("")}},79598:(It,pt,o)=>{var v=o(93935),L=o(62329),m=o(95286),O=o(66007),Y=o(73943),B=o(42760);It.exports=function et(C,D,k){if((C=Y(C))&&(k||void 0===D))return C.slice(0,B(C)+1);if(!C||!(D=v(D)))return C;var $=O(C),W=m($,O(D))+1;return L($,0,W).join("")}},41970:(It,pt,o)=>{var v=o(93935),L=o(62329),m=o(11146),O=o(66007),Y=o(73943),B=/^\s+/;It.exports=function et(C,D,k){if((C=Y(C))&&(k||void 0===D))return C.replace(B,"");if(!C||!(D=v(D)))return C;var $=O(C),W=m($,O(D));return L($,W).join("")}},83223:(It,pt,o)=>{var v=o(50686),L=o(96517),m=o(23269),O=o(80707),Y=o(21330),B=o(25809),et=m(function(C){var D=B(C);return Y(D)&&(D=void 0),O(v(C,1,Y,!0),L(D,2))});It.exports=et},30836:(It,pt,o)=>{var v=o(80707);It.exports=function L(m){return m&&m.length?v(m):[]}},8537:(It,pt,o)=>{"use strict";function v(K,xt,Kt){K.prototype=xt.prototype=Kt,Kt.constructor=K}function L(K,xt){var Kt=Object.create(K.prototype);for(var pe in xt)Kt[pe]=xt[pe];return Kt}function m(){}o.d(pt,{B8:()=>At});var O=.7,Y=1/O,B="\\s*([+-]?\\d+)\\s*",et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",C="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D=/^#([0-9a-f]{3,8})$/,k=new RegExp(`^rgb\\(${B},${B},${B}\\)$`),$=new RegExp(`^rgb\\(${C},${C},${C}\\)$`),W=new RegExp(`^rgba\\(${B},${B},${B},${et}\\)$`),T=new RegExp(`^rgba\\(${C},${C},${C},${et}\\)$`),A=new RegExp(`^hsl\\(${et},${C},${C}\\)$`),R=new RegExp(`^hsla\\(${et},${C},${C},${et}\\)$`),J={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function z(){return this.rgb().formatHex()}function ht(){return this.rgb().formatRgb()}function Z(K){var xt,Kt;return K=(K+"").trim().toLowerCase(),(xt=D.exec(K))?(Kt=xt[1].length,xt=parseInt(xt[1],16),6===Kt?St(xt):3===Kt?new ut(xt>>8&15|xt>>4&240,xt>>4&15|240&xt,(15&xt)<<4|15&xt,1):8===Kt?lt(xt>>24&255,xt>>16&255,xt>>8&255,(255&xt)/255):4===Kt?lt(xt>>12&15|xt>>8&240,xt>>8&15|xt>>4&240,xt>>4&15|240&xt,((15&xt)<<4|15&xt)/255):null):(xt=k.exec(K))?new ut(xt[1],xt[2],xt[3],1):(xt=$.exec(K))?new ut(255*xt[1]/100,255*xt[2]/100,255*xt[3]/100,1):(xt=W.exec(K))?lt(xt[1],xt[2],xt[3],xt[4]):(xt=T.exec(K))?lt(255*xt[1]/100,255*xt[2]/100,255*xt[3]/100,xt[4]):(xt=A.exec(K))?ye(xt[1],xt[2]/100,xt[3]/100,1):(xt=R.exec(K))?ye(xt[1],xt[2]/100,xt[3]/100,xt[4]):J.hasOwnProperty(K)?St(J[K]):"transparent"===K?new ut(NaN,NaN,NaN,0):null}function St(K){return new ut(K>>16&255,K>>8&255,255&K,1)}function lt(K,xt,Kt,pe){return pe<=0&&(K=xt=Kt=NaN),new ut(K,xt,Kt,pe)}function vt(K){return K instanceof m||(K=Z(K)),K?new ut((K=K.rgb()).r,K.g,K.b,K.opacity):new ut}function At(K,xt,Kt,pe){return 1===arguments.length?vt(K):new ut(K,xt,Kt,null==pe?1:pe)}function ut(K,xt,Kt,pe){this.r=+K,this.g=+xt,this.b=+Kt,this.opacity=+pe}function ot(){return`#${ce(this.r)}${ce(this.g)}${ce(this.b)}`}function Yt(){const K=$t(this.opacity);return`${1===K?"rgb(":"rgba("}${ue(this.r)}, ${ue(this.g)}, ${ue(this.b)}${1===K?")":`, ${K})`}`}function $t(K){return isNaN(K)?1:Math.max(0,Math.min(1,K))}function ue(K){return Math.max(0,Math.min(255,Math.round(K)||0))}function ce(K){return((K=ue(K))<16?"0":"")+K.toString(16)}function ye(K,xt,Kt,pe){return pe<=0?K=xt=Kt=NaN:Kt<=0||Kt>=1?K=xt=NaN:xt<=0&&(K=NaN),new Vt(K,xt,Kt,pe)}function it(K){if(K instanceof Vt)return new Vt(K.h,K.s,K.l,K.opacity);if(K instanceof m||(K=Z(K)),!K)return new Vt;if(K instanceof Vt)return K;var xt=(K=K.rgb()).r/255,Kt=K.g/255,pe=K.b/255,Lt=Math.min(xt,Kt,pe),he=Math.max(xt,Kt,pe),Ae=NaN,je=he-Lt,gn=(he+Lt)/2;return je?(Ae=xt===he?(Kt-pe)/je+6*(Kt<pe):Kt===he?(pe-xt)/je+2:(xt-Kt)/je+4,je/=gn<.5?he+Lt:2-he-Lt,Ae*=60):je=gn>0&&gn<1?0:Ae,new Vt(Ae,je,gn,K.opacity)}function Vt(K,xt,Kt,pe){this.h=+K,this.s=+xt,this.l=+Kt,this.opacity=+pe}function ee(K){return(K=(K||0)%360)<0?K+360:K}function ke(K){return Math.max(0,Math.min(1,K||0))}function qe(K,xt,Kt){return 255*(K<60?xt+(Kt-xt)*K/60:K<180?Kt:K<240?xt+(Kt-xt)*(240-K)/60:xt)}v(m,Z,{copy(K){return Object.assign(new this.constructor,this,K)},displayable(){return this.rgb().displayable()},hex:z,formatHex:z,formatHex8:function rt(){return this.rgb().formatHex8()},formatHsl:function G(){return it(this).formatHsl()},formatRgb:ht,toString:ht}),v(ut,At,L(m,{brighter(K){return K=null==K?Y:Math.pow(Y,K),new ut(this.r*K,this.g*K,this.b*K,this.opacity)},darker(K){return K=null==K?O:Math.pow(O,K),new ut(this.r*K,this.g*K,this.b*K,this.opacity)},rgb(){return this},clamp(){return new ut(ue(this.r),ue(this.g),ue(this.b),$t(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ot,formatHex:ot,formatHex8:function nt(){return`#${ce(this.r)}${ce(this.g)}${ce(this.b)}${ce(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Yt,toString:Yt})),v(Vt,function Ct(K,xt,Kt,pe){return 1===arguments.length?it(K):new Vt(K,xt,Kt,null==pe?1:pe)},L(m,{brighter(K){return K=null==K?Y:Math.pow(Y,K),new Vt(this.h,this.s,this.l*K,this.opacity)},darker(K){return K=null==K?O:Math.pow(O,K),new Vt(this.h,this.s,this.l*K,this.opacity)},rgb(){var K=this.h%360+360*(this.h<0),xt=isNaN(K)||isNaN(this.s)?0:this.s,Kt=this.l,pe=Kt+(Kt<.5?Kt:1-Kt)*xt,Lt=2*Kt-pe;return new ut(qe(K>=240?K-240:K+120,Lt,pe),qe(K,Lt,pe),qe(K<120?K+240:K-120,Lt,pe),this.opacity)},clamp(){return new Vt(ee(this.h),ke(this.s),ke(this.l),$t(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const K=$t(this.opacity);return`${1===K?"hsl(":"hsla("}${ee(this.h)}, ${100*ke(this.s)}%, ${100*ke(this.l)}%${1===K?")":`, ${K})`}`}}))}}]);