"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[104],{50104:(L,_,u)=>{u.r(_),u.d(_,{default:()=>P});var r=u(37691),y=u(48898),p=u(94611),s=u(48620),Z=u(48615),f=u(21617),C=u.n(f),e=u(94650),g=u(36895),v=u(53784),T=u(88682),w=u(89657),x=u(42210),S=u(24386);function A(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"nui-chart-donut-content",10)(2,"div",11),e._uU(3,"57"),e.qZA(),e.TgZ(4,"div",12),e._uU(5,"donuts"),e.qZA()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("plugin",t.donutContentPlugin)}}function D(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"nui-legend-series",13),e.NdJ("mouseenter",function(){const o=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.chartAssist.emphasizeSeries(o.id))})("isSelectedChange",function(a){const c=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.chartAssist.toggleSeries(c.id,a))}),e.ALo(1,"titlecase"),e._UZ(2,"nui-rich-legend-tile",14)(3,"nui-icon",15),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw();e.s9C("descriptionPrimary",e.lcZ(1,5,t.id)),e.Q6J("seriesRenderState",null==n.chartAssist.renderStatesIndex[t.id]?null:n.chartAssist.renderStatesIndex[t.id].state)("isSelected",!n.chartAssist.isSeriesHidden(t.id)),e.xp6(2),e.Q6J("value",null==t.data[0]?null:t.data[0].value),e.xp6(1),e.Q6J("icon",n.iconMap[t.id])}}function F(i,l){if(1&i&&(e.TgZ(0,"nui-radio",16),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t)," ")}}let E=(()=>{class i{constructor(){(0,r.Z)(this,"chartTypes",["horizontal bar","vertical bar","pie","donut"]),(0,r.Z)(this,"chartType",this.chartTypes[0]),(0,r.Z)(this,"categories",["down","critical","warning","unknown","ok","other"]),(0,r.Z)(this,"iconNames",["down","critical","warning","unknown","up","unmanaged"]),(0,r.Z)(this,"values",[24,16,7,6,97,4]),(0,r.Z)(this,"iconMap",C()(this.categories,this.iconNames.map(t=>`status_${t}`))),(0,r.Z)(this,"colorProvider",new s.oki(C()(this.categories,s.Sj$.filter((t,n)=>n%2==0)))),(0,r.Z)(this,"chartAssist",void 0),(0,r.Z)(this,"donutContentPlugin",void 0)}ngOnInit(){this.updateChartType()}updateChartType(){this.buildChart(),this.chartAssist.chart.updateDimensions(),this.updateChart()}buildChart(){switch(this.donutContentPlugin=void 0,this.chartType){case"horizontal bar":this.chartAssist=new s.doR(new s.kL2((0,s.skL)({horizontal:!0})));break;case"vertical bar":this.chartAssist=new s.doR(new s.kL2((0,s.skL)({horizontal:!1})));break;case"pie":this.chartAssist=new s.doR(new s.kL2((0,s.Y6Q)()),s.fy$);break;case"donut":this.donutContentPlugin=new s.iM,this.chartAssist=new s.doR(new s.kL2((0,s.Y6Q)()),s.fy$),this.chartAssist.chart.addPlugin(this.donutContentPlugin)}}getRenderer(){switch(this.chartType){case"horizontal bar":case"vertical bar":return new s.Z7w;case"pie":return new s.bOg;case"donut":return new s.E8N}}updateChart(){const t=this.getAccessors(),n=this.getRenderer(),a=this.getScales();if(!t||!n||!a)throw new Error("Accessors, renderer or scales are unavailable");this.chartAssist.update(this.getChartAssistSeries(this.categories,this.values,t,n,a))}getScales(){const t=new s.jS7,n=new s.f$s;switch(n.domainCalculator=(0,s._OB)([0,0]),this.chartType){case"horizontal bar":return{x:n,y:t};case"vertical bar":return{x:t,y:n};case"pie":case"donut":return(0,s._N$)()}}getAccessors(){switch(this.chartType){case"horizontal bar":return new s.HVr(this.colorProvider);case"vertical bar":return new s.a9F(this.colorProvider);case"pie":case"donut":{const t=new s.UDz;return t.series.color=this.colorProvider.get,t}}}getChartAssistSeries(t,n,a,o,c){return t.map((d,m)=>({id:d,data:[{category:d,value:n[m]||0}],accessors:a,renderer:o,scales:c}))}}return(0,r.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,r.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-chart-one-dimensional-data-example"]],decls:10,vars:8,consts:[[1,"nui-chart-layout"],[1,"chart",2,"position","relative"],[1,"w-100",3,"chart"],[4,"ngIf"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"plugin"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],["backgroundColor","transparent",3,"value"],[3,"icon"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"nui-chart",2),e.YNc(3,A,6,1,"ng-container",3),e.qZA(),e.TgZ(4,"div",4)(5,"nui-legend",5),e.NdJ("mouseleave",function(){return n.chartAssist.resetVisibleSeries()}),e.YNc(6,D,4,7,"nui-legend-series",6),e.qZA()(),e.TgZ(7,"div",7)(8,"nui-radio-group",8),e.NdJ("valueChange",function(o){return n.chartType=o})("valueChange",function(){return n.updateChartType()}),e.YNc(9,F,3,4,"nui-radio",9),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("chart",n.chartAssist.chart),e.xp6(1),e.Q6J("ngIf",n.donutContentPlugin),e.xp6(2),e.Q6J("active",n.chartAssist.isLegendActive)("interactive",!1),e.xp6(1),e.Q6J("ngForOf",n.chartAssist.legendSeriesSet)("ngForTrackBy",n.chartAssist.seriesTrackByFn),e.xp6(2),e.Q6J("value",n.chartType),e.xp6(1),e.Q6J("ngForOf",n.chartTypes))},dependencies:[g.sg,g.O5,v.F,T.k,w.w,x.x,S.k,p.oJW,p.UKb,p.wTj,g.rS],encapsulation:2})),i})();function Q(i,l){if(1&i&&(e.TgZ(0,"nui-radio",9),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t)," ")}}function J(i,l){if(1&i&&e._UZ(0,"nui-icon",13),2&i){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("icon",n.iconMap[t.id])}}function O(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"nui-legend-series",10),e.NdJ("mouseenter",function(){const o=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.chartAssist.emphasizeSeries(o.id))})("isSelectedChange",function(a){const c=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.chartAssist.toggleSeries(c.id,a))}),e.ALo(1,"titlecase"),e._UZ(2,"nui-rich-legend-tile",11),e.YNc(3,J,1,1,"nui-icon",12),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw();e.s9C("descriptionPrimary",e.lcZ(1,7,t.id)),e.Q6J("seriesRenderState",null==n.chartAssist.renderStatesIndex[t.id]?null:n.chartAssist.renderStatesIndex[t.id].state)("isSelected",!n.chartAssist.isSeriesHidden(t.id)),e.xp6(2),e.Q6J("value",n.accessors.data.value(t.data[0],0,null,null))("backgroundColor",n.chartAssist.palette.standardColors.get(t.id))("color",n.chartAssist.palette.textColors.get(t.id)),e.xp6(1),e.Q6J("ngIf",n.iconMap[t.id])}}function k(i,l){if(1&i&&(e.TgZ(0,"nui-radio",9),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t)," ")}}var h=(()=>{return(i=h||(h={})).StackedBar="stacked bar",i.GroupedBar="grouped bar",i.Line="line",h;var i})();const b=[{path:"1d",component:E},{path:"2d",component:(()=>{class i{constructor(){(0,r.Z)(this,"chartTypes",[h.StackedBar,h.GroupedBar,h.Line]),(0,r.Z)(this,"chartType",this.chartTypes[0]),(0,r.Z)(this,"mainCategoryOptions",["quarters","statuses"]),(0,r.Z)(this,"mainCategory",this.mainCategoryOptions[0]),(0,r.Z)(this,"statuses",["down","critical","warning","unknown","ok","other"]),(0,r.Z)(this,"quarters",["Q1","Q2","Q3","Q4"]),(0,r.Z)(this,"iconNames",["down","critical","warning","unknown","up","unmanaged"]),(0,r.Z)(this,"categories",void 0),(0,r.Z)(this,"subCategories",void 0),(0,r.Z)(this,"values",[[24,16,7,6,97,4],[13,8,5,17,5,25],[97,41,24,6,7,6],[45,87,23,48,24,9]]),(0,r.Z)(this,"valueAccessor",void 0),(0,r.Z)(this,"iconMap",C()(this.statuses,this.iconNames.map(t=>`status_${t}`))),(0,r.Z)(this,"palette",void 0),(0,r.Z)(this,"chartAssist",void 0),(0,r.Z)(this,"accessors",void 0),(0,r.Z)(this,"renderer",void 0),(0,r.Z)(this,"scales",void 0)}ngOnInit(){this.updateMainCategory()}updateMainCategory(){const t=new s.syg(new s.oki(C()(this.statuses,s.Sj$.filter((o,c)=>c%2==0)))),n=new s.syg(s.cpE),a=this.mainCategory===this.mainCategoryOptions[0];this.categories=a?this.statuses:this.quarters,this.subCategories=a?this.quarters:this.statuses,this.valueAccessor=a?(o,c)=>this.values[o][c]:(o,c)=>this.values[c][o],this.palette=a?n:t,this.updateChartType()}updateChartType(){this.buildChart(),this.updateChart()}buildChart(){const{grid:t,accessors:n,renderer:a,scales:o,preprocessor:c}=this.getChartAttributes(this.chartType);this.renderer=a,this.accessors=n,this.scales=o;const d=new s.kL2(t);d.addPlugin(new s.$fK),this.chartAssist=new s.doR(d,c,this.palette),this.chartType===h.StackedBar&&(this.chartAssist.seriesProcessor=s.knu)}updateChart(){this.chartAssist.update(this.buildChartSeries(this.categories,this.subCategories,this.valueAccessor))}buildChartSeries(t,n,a){return n.map((o,c)=>({id:o,name:o,data:t.map((d,m)=>({category:d,value:a(c,m)||0})),accessors:this.accessors,renderer:this.renderer,scales:this.scales}))}getChartAttributes(t){const n=this.getChartTools(t),a={grid:n.gridFunction(),accessors:n.accessorFunction(),renderer:n.rendererFunction(),scales:n.scaleFunction()};return n.preprocessor&&(a.preprocessor=n.preprocessor),a}getChartTools(t){return{[h.StackedBar]:{preprocessor:s.knu,gridFunction:s.skL,rendererFunction:()=>new s.Z7w({highlightStrategy:new s.Pkp("x")}),accessorFunction:()=>(0,s.Q6e)(void 0,this.palette.standardColors),scaleFunction:s.CQI},[h.GroupedBar]:{gridFunction:()=>(0,s.skL)({grouped:!0}),rendererFunction:()=>new s.Z7w({highlightStrategy:new s.Pkp("x")}),accessorFunction:()=>{const a=(0,s.Q6e)({grouped:!0},this.palette.standardColors);return a.data.category=(o,c,d,m)=>[o.category,m.name],a},scaleFunction:()=>(0,s.CQI)({grouped:!0})},[h.Line]:{gridFunction:()=>new s.Be5,rendererFunction:()=>new s.Med,accessorFunction:()=>{const a=new s.qxh(this.palette.standardColors);return a.data.x=o=>o.category,a.data.y=o=>o.value,a.data.value=o=>o.value,a},scaleFunction:()=>({x:(new s.jS7).fixDomain(this.categories),y:new s.f$s})}}[t]}}return(0,r.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,r.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-chart-two-dimensional-data-example"]],decls:13,vars:9,consts:[[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[3,"value"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["class","mt-1 ml-3",3,"icon",4,"ngIf"],[1,"mt-1","ml-3",3,"icon"]],template:function(t,n){1&t&&(e.TgZ(0,"h3"),e._uU(1," Legend by "),e.TgZ(2,"nui-radio-group",0),e.NdJ("valueChange",function(o){return n.mainCategory=o})("valueChange",function(){return n.updateMainCategory()}),e.YNc(3,Q,3,4,"nui-radio",1),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3),e._UZ(6,"nui-chart",4),e.qZA(),e.TgZ(7,"div",5)(8,"nui-legend",6),e.NdJ("mouseleave",function(){return n.chartAssist.resetVisibleSeries()}),e.YNc(9,O,4,9,"nui-legend-series",7),e.qZA()(),e.TgZ(10,"div",8)(11,"nui-radio-group",0),e.NdJ("valueChange",function(o){return n.chartType=o})("valueChange",function(){return n.updateChartType()}),e.YNc(12,k,3,4,"nui-radio",1),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("value",n.mainCategory),e.xp6(1),e.Q6J("ngForOf",n.mainCategoryOptions),e.xp6(3),e.Q6J("chart",n.chartAssist.chart),e.xp6(2),e.Q6J("active",n.chartAssist.isLegendActive)("interactive",!1),e.xp6(1),e.Q6J("ngForOf",n.chartAssist.legendSeriesSet)("ngForTrackBy",n.chartAssist.seriesTrackByFn),e.xp6(2),e.Q6J("value",n.chartType),e.xp6(1),e.Q6J("ngForOf",n.chartTypes))},dependencies:[g.sg,g.O5,v.F,T.k,w.w,x.x,p.oJW,p.UKb,p.wTj,g.rS],encapsulation:2})),i})()}];let P=(()=>{class i{}return(0,r.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,r.Z)(i,"\u0275mod",e.oAB({type:i})),(0,r.Z)(i,"\u0275inj",e.cJS({imports:[Z.l,s.$y4,p.Ts3,p.CUE,y.Bz.forChild(b)]})),i})()}}]);