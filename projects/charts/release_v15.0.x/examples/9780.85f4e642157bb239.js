"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[9780],{39780:(J,h,r)=>{r.r(h),r.d(h,{default:()=>b});var o=r(37691),m=r(48898),c=r(94611),a=r(73177),g=r(93840),f=r(76933),e=r(94650),p=r(36895),C=r(46743),v=r(83063),x=r(87373),T=r(13458),_=r(65804);function Z(i,l){1&i&&(e.TgZ(0,"div")(1,"div",11),e._uU(2,"57"),e.qZA(),e.TgZ(3,"div",12),e._uU(4,"donuts"),e.qZA()())}function S(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"nui-legend-series",13),e.NdJ("mouseenter",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.chartAssist.emphasizeSeries(u.id))})("isSelectedChange",function(s){const d=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.chartAssist.toggleSeries(d.id,s))}),e._UZ(1,"nui-rich-legend-tile",14),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw();e.Q6J("descriptionPrimary",t.name)("seriesRenderState",null==n.chartAssist.renderStatesIndex[t.id]?null:n.chartAssist.renderStatesIndex[t.id].state)("isSelected",!n.chartAssist.isSeriesHidden(t.id)),e.xp6(1),e.Q6J("value",n.chartAssist.getHighlightedValue(t,"y","value"))("backgroundColor",n.chartAssist.palette.standardColors.get(t.id))("color",n.chartAssist.palette.textColors.get(t.id))}}function A(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",15)(1,"h3"),e._uU(2,"Annular's params"),e.qZA(),e.TgZ(3,"p"),e._uU(4," Setting one of the parameters to 0 will force donut chart to use default annular width of 20px. Default width is also configurable. "),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Donut's width in percents"),e.qZA(),e.TgZ(7,"nui-textbox-number",16),e.NdJ("valueChange",function(s){e.CHM(t);const u=e.oxw();return e.KtG(u.updateWidth(s))}),e.qZA(),e.TgZ(8,"span"),e._uU(9,"Max donut's width in px"),e.qZA(),e.TgZ(10,"nui-textbox-number",17),e.NdJ("valueChange",function(s){e.CHM(t);const u=e.oxw();return e.KtG(u.updatemaxWidth(s))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("value",15)("maxValue",80),e.xp6(3),e.Q6J("value",t.renderer.config.maxThickness)}}const P=[{path:"",component:(()=>{class i{constructor(t){(0,o.Z)(this,"toastr",void 0),(0,o.Z)(this,"compact",!1),(0,o.Z)(this,"chart",new a.kL2(new a.lS)),(0,o.Z)(this,"chartAssist",new a.doR(this.chart)),(0,o.Z)(this,"contentPlugin",void 0),(0,o.Z)(this,"renderer",void 0),(0,o.Z)(this,"scales",void 0),(0,o.Z)(this,"interactive",!1),(0,o.Z)(this,"processSeries",n=>(0,a.GVi)(n,s=>!this.chartAssist.isSeriesHidden(s.id))),this.toastr=t}ngOnInit(){const t=new a.GFe;t.interactive=!1,this.chart.getGrid().config(t),this.scales={r:new a.f$s},this.scales.r.fixDomain([0,1]),this.chartAssist=new a.doR(this.chart,this.processSeries),this.contentPlugin=new a.iM,this.chart.addPlugin(this.contentPlugin),this.refreshPie(),this.chart.getEventBus().getStream("click").subscribe(n=>{this.toastr.info({title:"Event Published",message:`event: click; data: ${n.data}`,options:{timeOut:1500}})})}generateSeriesSet(t=1){const n=f.N.generateMockOrdinalSeriesSet(["Chrome","Firefox","Edge"],t);return n.forEach(s=>{s.id+=`-${Math.round(100*Math.random())}`}),n.map(s=>({...s,accessors:{data:{value:u=>u.value},series:{color:this.chartAssist.palette.standardColors.get}},scales:this.scales,renderer:this.renderer,showInLegend:!0}))}refreshPie(){this.renderer=new a.bOg,this.chartAssist.update(this.generateSeriesSet())}updateWidth(t){this.renderer.config.annularGrowth=t/100,this.updateDonut()}updatemaxWidth(t){this.renderer.config.maxThickness=t,this.updateDonut()}refreshPieInteraction(){this.interactive=!this.interactive,this.renderer.interaction=this.interactive?{arc:{mouseover:"",mouseout:"",click:""}}:void 0,this.chartAssist.update(this.generateSeriesSet())}refreshDonut(t){this.renderer=new a.E8N,this.chartAssist.update(this.generateSeriesSet(t)),setTimeout(()=>{this.chart.updateDimensions()},0)}showContent(){return!(this.renderer instanceof a.bOg)}updateDonut(){setTimeout(()=>{this.chart.updateDimensions()},0)}}return(0,o.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(c.klp))}),(0,o.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["nui-pie-chart-example"]],decls:21,vars:10,consts:[[1,"d-flex","flex-column"],[1,"d-flex","flex-fill","w-100","h-100",2,"position","relative"],[1,"flex-fill","w-100","h-100",3,"chart"],[3,"plugin"],[4,"ngIf"],[1,"d-flex","flex-column","pl-2"],["seriesUnitLabel","Share",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-group"],["nui-button","","type","button",3,"click"],["class","d-flex flex-column w-25",4,"ngIf"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],[1,"d-flex","flex-column","w-25"],[3,"value","maxValue","valueChange"],[3,"value","valueChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-expander")(2,"div",1),e._UZ(3,"nui-chart",2),e.TgZ(4,"nui-chart-donut-content",3),e.YNc(5,Z,5,0,"div",4),e.qZA(),e.TgZ(6,"div",5)(7,"nui-legend",6),e.NdJ("mouseleave",function(){return n.chartAssist.resetVisibleSeries()}),e.YNc(8,S,2,6,"nui-legend-series",7),e.qZA()()()(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return n.refreshDonut(1)}),e._uU(11," 1 circle donut "),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return n.refreshDonut(2)}),e._uU(13," 2 circle donut "),e.qZA(),e.TgZ(14,"button",9),e.NdJ("click",function(){return n.refreshPie()}),e._uU(15,"Pie"),e.qZA(),e.TgZ(16,"button",9),e.NdJ("click",function(){return n.refreshPieInteraction()}),e._uU(17," Refresh and toggle interaction "),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){return n.compact=!n.compact}),e._uU(19," Toggle Size "),e.qZA()()(),e.YNc(20,A,11,3,"div",10)),2&t&&(e.Udp("height",n.compact?"150px":"500px"),e.xp6(3),e.Q6J("chart",n.chart),e.xp6(1),e.Q6J("plugin",n.contentPlugin),e.xp6(1),e.Q6J("ngIf",n.showContent()),e.xp6(2),e.Q6J("active",n.chartAssist.isLegendActive)("interactive",!0),e.xp6(1),e.Q6J("ngForOf",n.chartAssist.legendSeriesSet)("ngForTrackBy",n.chartAssist.seriesTrackByFn),e.xp6(12),e.Q6J("ngIf",n.showContent()))},dependencies:[p.sg,p.O5,C.F,v.k,x.w,T.x,_.k,c.r0F,c.I5I,c.Fxv],encapsulation:2})),i})()}];let b=(()=>{class i{}return(0,o.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(i,"\u0275mod",e.oAB({type:i})),(0,o.Z)(i,"\u0275inj",e.cJS({imports:[g.l,a.$y4,c.Az_,c.LRI,c.YMY,m.Bz.forChild(P),c.Ld5]})),i})()}}]);