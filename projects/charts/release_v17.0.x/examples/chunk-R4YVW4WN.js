import{a as Q}from"./chunk-LAVCSVG6.js";import{A as L,Ea as g,Ia as K,J as N,M as o,Na as Y,R as z,Ra as q,S as G,W as d,Ya as J,d as b,e as B,fa as O,na as V,oa as F,pa as X,qa as j,w as H,z as W}from"./chunk-YA4MYKC2.js";import{Ka as R}from"./chunk-HL7NY4QC.js";import{n as A}from"./chunk-FWIJ3MN4.js";import{a as at}from"./chunk-RIV6QGH7.js";import{Fa as c,Ga as m,Ha as h,Va as E,bb as U,cb as f,db as w,fa as s,ga as D,pb as x,q as v,qb as M,tb as y,wa as P,ya as u,za as _}from"./chunk-VSZOZJXN.js";import{a as S,b as k,g as nt}from"./chunk-7KJRK3NW.js";var C=nt(at());function rt(t,n){if(t&1&&(c(0,"div",5),h(1,"nui-chart-marker",6),c(2,"span",7)(3,"strong"),f(4),x(5,"titlecase"),m()(),c(6,"span",7),f(7),m()()),t&2){let a=n.dataPoint,r=E();s(),u("marker",r.statusMarkers.get(a.data.status)),s(3),w(M(5,3,a.data.status)),s(3),w(" for "+a.data.value+" days")}}var e=function(t){return t.Unknown="unknown",t.Up="up",t.Warning="warning",t.Down="down",t.Critical="critical",t}(e||{}),wt=(()=>{class t{iconService;chart=new O(new j(new Y));tooltipsPlugin=new q({horizontal:!0});statusMarkers;constructor(a){this.iconService=a}ngOnInit(){this.statusMarkers=it(this.iconService),this.chart.addPlugin(this.tooltipsPlugin),this.chart.addPlugin(new F("labelFormatter")),this.chart.addPlugin(new X),this.chart.updateDimensions();let a=st(),r=G(a),l=10,p=new g(ot(this.iconService,l));r.data.thickness=i=>i.status===e.Up?d.THIN:d.THICK,r.data.marker=i=>p.get(i.status);let $=new d({highlightStrategy:new J("x")}),T=new V,I=new K;I.formatters.labelFormatter=i=>(0,C.default)(i).format("LL"),T.fixDomain(z.STATUS_DOMAIN);let tt={y:T,x:I};r.data.marker=i=>p.get(i.status);let et=ct().map(i=>k(S({},i),{accessors:r,renderer:$,scales:tt}));this.chart.update(et),this.chart.getEventBus().getStream(b).subscribe(console.log),this.chart.getEventBus().getStream(B).subscribe(console.log)}static \u0275fac=function(r){return new(r||t)(D(R))};static \u0275cmp=v({type:t,selectors:[["nui-status-chart-test"]],decls:7,vars:5,consts:[["tooltipTemplate",""],["id","nui-status-chart-with-icons",1,"container"],[1,"d-flex"],[1,"d-flex","w-100",3,"chart"],[3,"plugin","template"],[1,"p-1","d-flex","align-items-center"],[3,"marker"],[1,"pl-2"]],template:function(r,l){if(r&1&&(c(0,"div",1)(1,"charts-test-harness")(2,"div",2),h(3,"nui-chart",3)(4,"nui-chart-tooltips",4),P(5,rt,8,5,"ng-template",null,0,y),m()()()),r&2){let p=U(6);_("margin-top",50,"px"),s(3),u("chart",l.chart),s(),u("plugin",l.tooltipsPlugin)("template",p)}},dependencies:[Q,L,W,H,A],encapsulation:2})}return t})();function it(t){let n=a=>new N(t.getStatusIcon(a));return new g({[e.Unknown]:n(e.Unknown),[e.Up]:n(e.Up),[e.Warning]:n(e.Warning),[e.Down]:n(e.Down),[e.Critical]:n(e.Critical)})}function st(){return new g({[e.Unknown]:o[6],[e.Up]:o[8],[e.Warning]:o[4],[e.Down]:o[0],[e.Critical]:o[2]})}function ot(t,n){return{[e.Unknown]:t.getIconResized(t.getStatusIcon(e.Unknown),n),[e.Up]:t.getIconResized(t.getStatusIcon(e.Up),n),[e.Warning]:t.getIconResized(t.getStatusIcon(e.Warning),n),[e.Down]:t.getIconResized(t.getStatusIcon(e.Down),n),[e.Critical]:t.getIconResized(t.getStatusIcon(e.Critical),n)}}function ct(){return[{id:"1",name:"Series 1",data:[{status:e.Up,start:0,end:22},{status:e.Warning,start:22,end:39},{status:e.Unknown,start:39,end:59},{status:e.Down,start:59,end:109},{status:e.Critical,start:109,end:178},{status:e.Up,start:178,end:877},{status:e.Critical,start:877,end:980},{status:e.Warning,start:980,end:1e3}].map(t=>({value:t.end-t.start,status:t.status,start:Z(t.start),end:Z(t.end)}))}]}function Z(t){return(0,C.default)("1986-02-17").add({hours:t}).toDate()}export{wt as a};
