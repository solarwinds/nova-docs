import{A as R,Ea as x,Ia as _,J as U,Ja as F,M as p,Na as I,R as k,S as O,W as u,a as A,fa as w,na as W,qa as D}from"./chunk-YA4MYKC2.js";import{Da as V,Ka as y}from"./chunk-HL7NY4QC.js";import{a as N}from"./chunk-RIV6QGH7.js";import{Fa as m,Ga as h,Ha as g,cb as C,fa as v,ga as E,q as B,ya as T}from"./chunk-VSZOZJXN.js";import{a as S,b as f,g as b}from"./chunk-7KJRK3NW.js";var L=b(V()),d=b(N());var e=function(a){return a.Up="up",a.Warning="warning",a.Critical="critical",a}(e||{}),K=(()=>{class a{iconService;chartThreshold=new w(new D(new I));chartBand=new w(new D(new I));customMarkers;thresholdScales;bandScales;constructor(i){this.iconService=i;let n=t=>new U(this.iconService.getStatusIcon(t));this.customMarkers=new x({[e.Up]:n(e.Up),[e.Warning]:n(e.Warning),[e.Critical]:n(e.Critical)})}ngAfterViewInit(){this.chartThreshold.updateDimensions(),this.chartBand.updateDimensions();let i=new W;i.fixDomain(k.STATUS_DOMAIN);let n=new F(d.default.duration(100,"hours"));n.fixDomain([(0,d.default)().toDate(),(0,d.default)().add(1e3,"hours").toDate()]);let t=new _;t.formatters.labelFormatter=o=>(0,d.default)(o).format("LL"),this.thresholdScales={y:i,x:t},this.bandScales={y:i,x:n};let s=new u,r=O(new x(G()));r.data.thickness=o=>o.status===e.Up?u.THIN:u.THICK;let c=H({numberOfSeries:10,isRandom:!0}).map(o=>f(S({},o),{accessors:r,renderer:s,scales:this.thresholdScales})),l=H({numberOfSeries:1,isRandom:!1}).map(o=>f(S({},o),{accessors:r,renderer:s,scales:this.thresholdScales}));this.chartThreshold.update(c),this.chartThreshold.setSeriesStates(c.map(o=>({seriesId:o.id,state:A.deemphasized}))),this.chartBand.update(l)}static \u0275fac=function(n){return new(n||a)(E(y))};static \u0275cmp=B({type:a,selectors:[["nui-status-chart-test-example"]],decls:8,vars:2,consts:[[1,"nui-text-page"],[1,"d-flex","flex-column"],[1,"p-2",3,"chart"]],template:function(n,t){n&1&&(m(0,"p",0),C(1,"Threshold section example"),h(),m(2,"div",1),g(3,"nui-chart",2),h(),m(4,"p",0),C(5,"Band (Band'ish) scales on both scales"),h(),m(6,"div",1),g(7,"nui-chart",2),h()),n&2&&(v(3),T("chart",t.chartThreshold),v(4),T("chart",t.chartBand))},dependencies:[R],encapsulation:2})}return a})();function G(){return{[e.Up]:p[9],[e.Warning]:p[5],[e.Critical]:p[3]}}function H(a={numberOfSeries:1,isRandom:!0}){let M=t=>(0,d.default)().add({hours:t}).toDate(),i=t=>()=>{let s=0,r=[];for(;s<1e3;){let c=s+(t?Math.random()*100:100);c>=1e3&&(c=1e3);let l=Math.random();r.push({start:s,end:c,status:l>.5?e.Up:l>.2?e.Warning:e.Critical}),s=c}return r};return(0,L.default)(a.numberOfSeries).map(i(a.isRandom)).map((t,s)=>({id:"series-"+s,name:"Series "+s,data:t.map(r=>({value:r.end-r.start,status:r.status,start:M(r.start),end:M(r.end)}))}))}export{K as a};
