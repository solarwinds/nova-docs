import{$ as P,A as B,B as b,D as w,Ea as W,F as D,G as I,H as L,Ia as $,K as z,M as f,N as M,O as F,R as H,Ta as j,Z as R,_ as O,ma as V,na as N,p as k}from"./chunk-FM3MSO55.js";import{H as U,La as E}from"./chunk-JEEHY2QT.js";import{e as x,f as A}from"./chunk-FWIJ3MN4.js";import{a as X}from"./chunk-RIV6QGH7.js";import{Fa as h,Ga as u,Ha as m,Va as g,fa as l,ga as T,q as C,wa as d,xa as y,ya as a}from"./chunk-VSZOZJXN.js";import{a as S,b as v,g as _}from"./chunk-7KJRK3NW.js";var Z=_(U()),p=_(X());function J(e,r){if(e&1&&m(0,"nui-icon",8),e&2){let t=r.$implicit,i=g(3);a("icon",i.statusIcons[t])}}function Q(e,r){if(e&1&&(h(0,"nui-legend-series",5)(1,"nui-rich-legend-tile",6),d(2,J,1,1,"nui-icon",7),u()()),e&2){let t=r.$implicit,i=g(2);a("interactive",!1)("descriptionSecondary",t.name),l(),a("unitLabel",t.units)("value",i.chartAssist.getHighlightedValue(t,"y"))("backgroundColor",i.statusBgColors.get(i.chartAssist.getHighlightedValue(t,"status"))),y("data-title",i.chartAssist.getHighlightedValue(t,"status")),l(),a("ngIf",i.chartAssist.getHighlightedValue(t,"status"))}}function Y(e,r){if(e&1&&(h(0,"div",1),m(1,"nui-chart",2),h(2,"div",3),d(3,Q,3,7,"nui-legend-series",4),u()()),e&2){let t=r.$implicit;l(),a("chart",t.chart),l(2),a("ngIf",t.chartSeriesSet[0])}}var o=function(e){return e.Error="error",e.Warning="warning",e}(o||{}),me=(()=>{class e{thresholdsService;chartAssist;statusBgColors=new W({[o.Error]:q(f[2],.2),[o.Warning]:q(f[4],.3)},"transparent");statusIcons={[o.Error]:"status_critical",[o.Warning]:"status_warning"};renderer;accessors;xScale=new $;constructor(t){this.thresholdsService=t}ngOnInit(){this.chartAssist=new j,this.renderer=new O,this.accessors=new R(new L([z[0]]),new F([M[0]])),this.accessors.data.status=s=>(0,Z.default)(s,"__thresholds.status");let t=te(this.xScale,this.renderer,this.accessors),i=ee(),n=t.map(s=>{let c=this.thresholdsService.getThresholdZones(s,i,this.statusBgColors),G={x:s.scales.x,y:new N().fixDomain(H.STATUS_DOMAIN)};this.thresholdsService.injectThresholdsData(s,c);let K=this.thresholdsService.getBackgrounds(s,c,G,this.statusBgColors);return{id:s.id,chartSeriesSet:[s,K]}});this.chartAssist.updateSparks(n)}static \u0275fac=function(i){return new(i||e)(T(P))};static \u0275cmp=C({type:e,selectors:[["nui-thresholds-spark-example"]],decls:1,vars:2,consts:[["class","d-flex",4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex"],["nuiChartCollectionId","example-collection-id",1,"w-100",3,"chart"],[1,"d-flex","flex-column","pl-2"],[3,"interactive","descriptionSecondary",4,"ngIf"],[3,"interactive","descriptionSecondary"],[3,"unitLabel","value","backgroundColor"],["iconSize","small","leftEdge","",3,"icon",4,"ngIf"],["iconSize","small","leftEdge","",3,"icon"]],template:function(i,n){i&1&&d(0,Y,4,2,"div",0),i&2&&a("ngForOf",n.chartAssist.sparks)("ngForTrackBy",n.chartAssist.trackByFn)},dependencies:[x,A,w,D,B,b,E],encapsulation:2})}return e})();function ee(){return[{status:o.Error,start:90},{status:o.Warning,start:70,end:90}]}function te(e,r,t){let i=(0,p.default)([2016,11,25]),n=p.default.duration(1,"hours");return[{id:"shared-pool-size",name:"Shared pool size",units:"MB",values:[67,16,3,56,26,68,74,45,54,81,13,90,72,61,97,32,64,22,60,11,53,77,88,49,66]},{id:"buffer-cache-size",name:"Buffer cache size",units:"MB",values:[5,15,52,75,64,74,6,24,100,26,91,38,4,45,93,44,59,48,99,96,53,72,32,69,27]},{id:"pga-cache-size",name:"PGA cache size",units:"MB",values:[83,21,43,8,96,100,5,53,14,20,82,23,29,62,33,34,94,72,77,45,81,80,19,26,86]},{id:"db-logical-read-rate",name:"DB logical read rate",units:"%",values:[74,9,10,87,83,41,4,96,100,33,30,26,40,12,21,3,69,59,32,93,62,25,90,58,51]},{id:"buffer-cache-hit-ratio",name:"Buffer cache hit ratio",units:"rps",values:[55,78,26,35,4,37,88,64,71,40,45,9,30,51,72,44,75,39,67,24,19,1,59,11,25]},{id:"library-cache-hit-ratio",name:"Library cache hit ratio",units:"%",values:[71,57,1,3,23,4,79,54,10,29,36,99,34,75,94,24,26,50,73,64,96,12,59,95,97]}].map(c=>v(S({},c),{data:ie(c.values,i,n),scales:{x:e,y:new V},renderer:r,accessors:t}))}function ie(e,r,t){return e.map((i,n)=>({x:r.clone().add(p.default.duration(n*t.asMilliseconds())),y:i}))}function q(e,r){let t=I(e),i=k(t);return i.opacity=r,i.toString()}export{me as a};
