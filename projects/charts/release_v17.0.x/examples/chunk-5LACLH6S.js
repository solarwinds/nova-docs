import{a as p}from"./chunk-BLBAPCQI.js";import{A as u,B as _,Ia as I,Z as y,_ as A,fa as k,ga as R,la as d,ma as T,qa as b}from"./chunk-JLRCU3YI.js";import{Ma as w}from"./chunk-PJ4NWNDH.js";import{Lb as v,Ma as m,Ta as n,Ua as a,Va as h,gb as l,ja as c,mb as x,nb as E,ob as g,pa as S,qb as s,va as D}from"./chunk-YSXLQTCP.js";import{a as f,b as C}from"./chunk-B7O3QC5Z.js";var G=(()=>{class o{changeDetector;chartComponents;dataRenderer;xScale=new I;scales=[];charts=[];chartAssists=[];constructor(i){this.changeDetector=i}ngOnInit(){for(let t=0;t<3;++t)this.scales.push({x:this.xScale,y:new T}),this.charts.push(new k(new b));this.scales[1].y.domainCalculator=d([-40,160]),this.scales[2].y.domainCalculator=d([0,0]),this.dataRenderer=new A}ngAfterViewInit(){let i=p.generateMockTimeLineSeriesSet(2,40);this.chartComponents.forEach((t,e)=>{this.chartAssists.push(new R(this.charts[e])),this.chartAssists[e].update(this.generateChartAssistSeriesSet(i,e))}),this.changeDetector.detectChanges()}generateChartAssistSeriesSet(i,t){let e=new y;return i.map(r=>C(f({},r),{scales:this.scales[t],renderer:this.dataRenderer,accessors:e,showInLegend:!0}))}fixDomain(){let i=new Date("2017-02-15T16:00:00Z"),t=new Date("2017-02-15T16:14:29.909Z");this.xScale.fixDomain([i,t]),this.chartAssists.forEach(e=>{e.update(e.inputSeriesSet)})}resetDomain(){this.xScale.isDomainFixed=!1,this.chartAssists.forEach(i=>{i.update(i.inputSeriesSet)})}refresh(){let i=p.generateMockTimeLineSeriesSet(Math.floor(Math.random()*6),40);this.chartAssists.forEach((t,e)=>{t.update(this.generateChartAssistSeriesSet(i,e))})}static \u0275fac=function(t){return new(t||o)(S(v))};static \u0275cmp=D({type:o,selectors:[["nui-chart-domain-example"]],viewQuery:function(t,e){if(t&1&&x(u,5),t&2){let r;E(r=g())&&(e.chartComponents=r)}},standalone:!1,decls:19,vars:3,consts:[["height","150px",1,"d-flex","flex-column"],["nuiChartCollectionId","1",1,"w-100",3,"chart"],["nui-button","","type","button",3,"click"]],template:function(t,e){t&1&&(n(0,"h2"),s(1,"Automatic Y domain"),a(),n(2,"div",0),h(3,"nui-chart",1),a(),n(4,"h2"),s(5,"Automatic Y domain with inclusion of <-40, 160> interval"),a(),n(6,"div",0),h(7,"nui-chart",1),a(),n(8,"h2"),s(9,"Automatic Y domain with inclusion of the 0 value"),a(),n(10,"div",0),h(11,"nui-chart",1),a(),n(12,"div")(13,"button",2),l("click",function(){return e.refresh()}),s(14,"Refresh"),a(),n(15,"button",2),l("click",function(){return e.fixDomain()}),s(16,"Fix X domain"),a(),n(17,"button",2),l("click",function(){return e.resetDomain()}),s(18," Reset X domain "),a()()),t&2&&(c(3),m("chart",e.charts[0]),c(4),m("chart",e.charts[1]),c(4),m("chart",e.charts[2]))},dependencies:[u,_,w],encapsulation:2})}return o})();export{G as a};
