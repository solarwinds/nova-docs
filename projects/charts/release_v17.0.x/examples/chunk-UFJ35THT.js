import{$ as R,A as B,C as L,D as P,Ea as N,F,I,Ja as $,M as f,R as V,Z as b,_ as M,fa as H,ga as O,ma as Y,na as W,qa as z,z as Z}from"./chunk-FM3MSO55.js";import{e as k}from"./chunk-FWIJ3MN4.js";import{a as X}from"./chunk-RIV6QGH7.js";import{A as S,Fa as d,Ga as m,Ha as _,La as w,Ua as T,Va as p,fa as c,ga as D,q as A,wa as E,ya as n,z as g}from"./chunk-VSZOZJXN.js";import{a as x,b as y,g as U}from"./chunk-7KJRK3NW.js";var i=U(X());function q(e,j){if(e&1){let t=w();d(0,"nui-legend-series",6),T("mouseenter",function(){let r=g(t).$implicit,a=p();return S(a.chartAssist.emphasizeSeries(r.id))})("isSelectedChange",function(r){let a=g(t).$implicit,u=p();return S(u.chartAssist.toggleSeries(a.id,r))}),d(1,"nui-rich-legend-tile",7),_(2,"nui-chart-marker",8),m()()}if(e&2){let t=j.$implicit,s=p();n("descriptionPrimary",t.name)("seriesRenderState",s.chartAssist.renderStatesIndex[t.id]==null?null:s.chartAssist.renderStatesIndex[t.id].state)("isSelected",!s.chartAssist.isSeriesHidden(t.id)),c(),n("value",s.chartAssist.getHighlightedValue(t,"y"))("backgroundColor",s.chartAssist.palette.standardColors.get(t.id))("color",s.chartAssist.palette.textColors.get(t.id)),c(),n("marker",s.chartAssist.markers.get(t.id))("color",s.chartAssist.palette.standardColors.get(t.id))}}var o=function(e){return e.Error="error",e.Warning="warning",e}(o||{}),le=(()=>{class e{thresholdsService;chart=new H(new z);chartAssist=new O(this.chart);thresholdsPalette=new I(new N({[o.Error]:f[2],[o.Warning]:f[4]}));constructor(t){this.thresholdsService=t}ngOnInit(){let t=new b(this.chartAssist.palette.standardColors,this.chartAssist.markers),s=new M,r={x:new $((0,i.duration)(5,"minutes")),y:new Y};this.chart.getGrid().leftScaleId=r.y.id;let a={x:r.x,y:new W().fixDomain(V.STATUS_DOMAIN)},u=J(),C=K().map(l=>y(x({},l),{accessors:t,renderer:s,scales:r})),v=[];for(let l of C){let h=this.thresholdsService.getThresholdZones(l,u,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(l,h);let G=[this.thresholdsService.getBackgrounds(l,h,a,this.thresholdsPalette.backgroundColors),...this.thresholdsService.getThresholdLines(h),...this.thresholdsService.getSideIndicators(h,r)];v.push(...G)}this.chartAssist.update([...v,...C])}static \u0275fac=function(s){return new(s||e)(D(R))};static \u0275cmp=A({type:e,selectors:[["nui-thresholds-basic-example"]],decls:6,vars:5,consts:[[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],["seriesUnitLabel","sec",3,"mouseleave","active","interactive"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseenter","isSelectedChange","descriptionPrimary","seriesRenderState","isSelected"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(s,r){s&1&&(d(0,"div",0)(1,"div",1),_(2,"nui-chart",2),m(),d(3,"div",3)(4,"nui-legend",4),T("mouseleave",function(){return r.chartAssist.resetVisibleSeries()}),E(5,q,3,8,"nui-legend-series",5),m()()()),s&2&&(c(2),n("chart",r.chart),c(2),n("active",r.chartAssist.isLegendActive)("interactive",!0),c(),n("ngForOf",r.chartAssist.legendSeriesSet)("ngForTrackBy",r.chartAssist.seriesTrackByFn))},dependencies:[k,L,P,F,B,Z],encapsulation:2})}return e})();function J(){return[{status:o.Error,start:90},{status:o.Error,end:10},{status:o.Warning,start:70,end:90},{status:o.Warning,start:10,end:30}]}function K(){let e="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:(0,i.default)("2016-12-25T15:05:00Z",e).toDate(),y:30},{x:(0,i.default)("2016-12-25T15:10:00Z",e).toDate(),y:95},{x:(0,i.default)("2016-12-25T15:15:00Z",e).toDate(),y:15},{x:(0,i.default)("2016-12-25T15:20:00Z",e).toDate(),y:60},{x:(0,i.default)("2016-12-25T15:25:00Z",e).toDate(),y:35},{x:(0,i.default)("2016-12-25T15:30:00Z",e).toDate(),y:5},{x:(0,i.default)("2016-12-25T15:35:00Z",e).toDate(),y:60},{x:(0,i.default)("2016-12-25T15:40:00Z",e).toDate(),y:84},{x:(0,i.default)("2016-12-25T15:55:00Z",e).toDate(),y:86},{x:(0,i.default)("2016-12-25T16:00:00Z",e).toDate(),y:35}]}]}export{le as a};
