import{a as P}from"./chunk-MURQULBJ.js";import{a as R}from"./chunk-TNCQNR2U.js";import{a as L}from"./chunk-UUP2JMFA.js";import{Da as W,ca as V,ea as u,r as k}from"./chunk-FM3MSO55.js";import{Na as E,Rb as x,a as T,c as S,d as y,ib as w,ub as G}from"./chunk-JEEHY2QT.js";import{l as M}from"./chunk-FWIJ3MN4.js";import{Fa as t,Ga as i,Ha as s,Ua as g,cb as h,fa as o,fb as p,ga as f,gb as C,hb as b,pb as v,q as c,qb as _,ya as l}from"./chunk-VSZOZJXN.js";var N=(()=>{class m{themeSwitcher;unitConversionSvc;value=950;maxValue=2e3;thresholds;gaugeConfig;annularGrowth=k.annularGrowth;thickness=V.Large;donutSize=200;warningEnabled=!0;criticalEnabled=!0;thresholdMarkersEnabled=!0;reversed=!1;flipLabels=!1;lowThreshold=1e3;highThreshold=1500;valueStep=10;originalWithRefreshRoute;labelFormatter;constructor(a,d){this.themeSwitcher=a,this.unitConversionSvc=d,this.originalWithRefreshRoute=this.themeSwitcher.withRefreshRoute,this.themeSwitcher.withRefreshRoute=!1,this.labelFormatter=e=>{let r=this.unitConversionSvc.convert(parseFloat(e),1e3,2);return this.unitConversionSvc.getFullDisplay(r,"generic")},this.thresholds=W.createStandardThresholdsConfig(this.lowThreshold,this.highThreshold),this.gaugeConfig=this.getGaugeConfig()}ngOnDestroy(){this.themeSwitcher.withRefreshRoute=this.originalWithRefreshRoute}onReversedChange(a){this.reversed=a,this.gaugeConfig=this.getGaugeConfig()}onFlippedChange(a){this.flipLabels=a,this.gaugeConfig=this.getGaugeConfig()}onValueChange(a){this.value=a,this.gaugeConfig=this.getGaugeConfig()}onThicknessChange(a){this.thickness=a,this.gaugeConfig=this.getGaugeConfig()}onLowThresholdChange(a){this.lowThreshold=a,this.gaugeConfig=this.getGaugeConfig()}onHighThresholdChange(a){this.highThreshold=a,this.gaugeConfig=this.getGaugeConfig()}onWarningEnabledChange(a){this.warningEnabled=a,this.gaugeConfig=this.getGaugeConfig()}onCriticalEnabledChange(a){this.criticalEnabled=a,this.gaugeConfig=this.getGaugeConfig()}onEnableThresholdMarkersChange(a){this.thresholdMarkersEnabled=a,this.gaugeConfig=this.getGaugeConfig()}getGaugeConfig(){return this.updateThresholdsConfig(),{value:this.value,max:this.maxValue,thresholds:this.thresholds,labels:{formatter:this.labelFormatter,flipped:this.flipLabels},linearThickness:this.thickness}}updateThresholdsConfig(){this.warningEnabled&&(this.thresholds.definitions[u.Warning].value=this.reversed?this.highThreshold:this.lowThreshold),this.criticalEnabled&&(this.thresholds.definitions[u.Critical].value=this.reversed?this.lowThreshold:this.highThreshold),this.thresholds.definitions[u.Warning].enabled=this.warningEnabled,this.thresholds.definitions[u.Critical].enabled=this.criticalEnabled,this.thresholds.reversed=this.reversed,this.thresholds.disableMarkers=!this.thresholdMarkersEnabled}static \u0275fac=function(d){return new(d||m)(f(x),f(E))};static \u0275cmp=c({type:m,selectors:[["gauge-test-page"]],decls:67,vars:35,consts:[[1,"testing-region","d-flex","align-items-center","justify-content-around"],[3,"gaugeConfig","size","annularGrowth","annularWidth"],[3,"gaugeConfig"],[1,"d-flex","justify-content-center"],[1,"column"],[1,"mb-2"],["caption","Donut Annular Growth","hint","Set to zero to have the donut obey the manual thickness setting",3,"showOptionalText"],["type","number","customBoxWidth","75px",3,"ngModelChange","ngModel","minValue","step"],["for","donutSizeInput"],["type","number","customBoxWidth","75px","name","donutSizeInput",3,"ngModelChange","ngModel","minValue","step"],[1,"column","ml-5"],["for","valueInput"],["type","number","customBoxWidth","75px","name","valueInput",3,"ngModelChange","ngModel","minValue","maxValue","step"],["for","thicknessInput"],["type","number","customBoxWidth","75px","name","thicknessInput",3,"ngModelChange","ngModel","minValue"],["for","lowThresholdInput"],["type","number","customBoxWidth","75px","name","lowThresholdInput",3,"ngModelChange","ngModel","minValue","maxValue","step"],["for","highThresholdInput"],["type","number","customBoxWidth","75px","name","highThresholdInput",3,"ngModelChange","ngModel","minValue","maxValue","step"],[1,"ml-3"],[1,"d-flex","align-items-center"],["id","enable-warning","type","checkbox",1,"mb-2",3,"ngModelChange","ngModel"],["for","enable-warning",1,"px-3"],["id","enable-critical","type","checkbox",1,"mb-2",3,"ngModelChange","ngModel"],["for","enable-critical",1,"px-3"],["type","checkbox","id","enable-markers",1,"mb-2",3,"ngModelChange","ngModel"],["for","enable-markers",1,"px-3"],["id","reversed","type","checkbox",1,"mb-2",3,"ngModelChange","ngModel"],["for","reversed",1,"px-3"],["id","flip-labels","type","checkbox",1,"mb-2",3,"ngModelChange","ngModel"],["for","flip-labels",1,"px-3"],["type","checkbox","id","dark-theme",1,"mb-2",3,"ngModelChange","ngModel"],["for","dark-theme",1,"px-3"]],template:function(d,e){d&1&&(t(0,"div",0),s(1,"donut-gauge-prototype",1)(2,"linear-gauge-vertical-prototype",2)(3,"linear-gauge-horizontal-prototype",2),i(),t(4,"div",3)(5,"div",4)(6,"div",5)(7,"nui-form-field",6)(8,"nui-textbox-number",7),b("ngModelChange",function(n){return C(e.annularGrowth,n)||(e.annularGrowth=n),n}),i()()(),t(9,"div",5)(10,"label",8),h(11," Donut Size "),i(),s(12,"br"),t(13,"nui-textbox-number",9),b("ngModelChange",function(n){return C(e.donutSize,n)||(e.donutSize=n),n}),i()()(),t(14,"div",10)(15,"div",5)(16,"label",11),h(17," Value "),i(),s(18,"br"),t(19,"nui-textbox-number",12),g("ngModelChange",function(n){return e.onValueChange(n)}),i()(),t(20,"div",5)(21,"label",13),h(22," Thickness "),i(),s(23,"br"),t(24,"nui-textbox-number",14),g("ngModelChange",function(n){return e.onThicknessChange(n)}),i()(),t(25,"div",5)(26,"label",15),h(27," Low Threshold "),i(),s(28,"br"),t(29,"nui-textbox-number",16),g("ngModelChange",function(n){return e.onLowThresholdChange(n)}),i()(),t(30,"div",5)(31,"label",17),h(32," High Threshold "),i(),s(33,"br"),t(34,"nui-textbox-number",18),g("ngModelChange",function(n){return e.onHighThresholdChange(n)}),i()()(),t(35,"div",10)(36,"div",19)(37,"div",20)(38,"input",21),g("ngModelChange",function(n){return e.onWarningEnabledChange(n)}),i(),t(39,"label",22),h(40,"Warning Enabled"),i()()(),t(41,"div",19)(42,"div",20)(43,"input",23),b("ngModelChange",function(n){return C(e.criticalEnabled,n)||(e.criticalEnabled=n),n}),g("ngModelChange",function(n){return e.onCriticalEnabledChange(n)}),i(),t(44,"label",24),h(45,"Critical Enabled"),i()()(),t(46,"div",19)(47,"div",20)(48,"input",25),g("ngModelChange",function(n){return e.onEnableThresholdMarkersChange(n)}),i(),t(49,"label",26),h(50,"Markers Enabled"),i()()(),t(51,"div",19)(52,"div",20)(53,"input",27),g("ngModelChange",function(n){return e.onReversedChange(n)}),i(),t(54,"label",28),h(55,"Reversed"),i()()(),t(56,"div",19)(57,"div",20)(58,"input",29),g("ngModelChange",function(n){return e.onFlippedChange(n)}),i(),t(59,"label",30),h(60,"Flip Labels"),i()()(),t(61,"div",19)(62,"div",20)(63,"input",31),v(64,"async"),g("ngModelChange",function(n){return e.themeSwitcher.setDarkTheme(n)}),i(),t(65,"label",32),h(66,"Dark Theme"),i()()()()()),d&2&&(o(),l("gaugeConfig",e.gaugeConfig)("size",e.donutSize)("annularGrowth",e.annularGrowth)("annularWidth",e.thickness),o(),l("gaugeConfig",e.gaugeConfig),o(),l("gaugeConfig",e.gaugeConfig),o(4),l("showOptionalText",!1),o(),p("ngModel",e.annularGrowth),l("minValue",0)("step",.01),o(5),p("ngModel",e.donutSize),l("minValue",0)("step",25),o(6),l("ngModel",e.value)("minValue",0)("maxValue",e.maxValue)("step",e.valueStep),o(5),l("ngModel",e.thickness)("minValue",0),o(5),l("ngModel",e.lowThreshold)("minValue",0)("maxValue",e.highThreshold-e.valueStep)("step",e.valueStep),o(5),l("ngModel",e.highThreshold)("minValue",e.lowThreshold+e.valueStep)("maxValue",e.maxValue)("step",e.valueStep),o(4),l("ngModel",e.warningEnabled),o(5),p("ngModel",e.criticalEnabled),o(5),l("ngModel",e.thresholdMarkersEnabled),o(5),l("ngModel",e.reversed),o(5),l("ngModel",e.flipLabels),o(5),l("ngModel",_(64,33,e.themeSwitcher.isDarkModeEnabledSubject)))},dependencies:[G,w,T,S,y,R,L,P,M],styles:[".testing-region[_ngcontent-%COMP%]{height:500px}.column[_ngcontent-%COMP%]{width:200px}"]})}return m})();export{N as a};
