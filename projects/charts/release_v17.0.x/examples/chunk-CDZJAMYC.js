import{A as L,C as D,D as N,F as w,Ia as R,V as O,Y as k,cb as V,db as F,eb as X,fa as P,ga as b,gb as $,ma as G,z as y}from"./chunk-YA4MYKC2.js";import{e as Z}from"./chunk-FWIJ3MN4.js";import{a as Y}from"./chunk-RIV6QGH7.js";import{A as x,Fa as d,Ga as m,Ha as h,La as M,Ua as T,Va as A,fa as l,q as C,wa as f,ya as s,z as E}from"./chunk-VSZOZJXN.js";import{a as _,b as v,g as I}from"./chunk-7KJRK3NW.js";var t=I(Y());function H(e,g){if(e&1){let a=M();d(0,"nui-legend-series",8),T("mouseenter",function(){let i=E(a).$implicit,n=A();return x(n.chartAssist.emphasizeSeries(i.id))})("isSelectedChange",function(i){let n=E(a).$implicit,o=A();return x(o.chartAssist.toggleSeries(n.id,i))}),d(1,"nui-rich-legend-tile",9),h(2,"nui-chart-marker",10),m()()}if(e&2){let a=g.$implicit,r=A();s("descriptionPrimary",a.name)("seriesRenderState",r.chartAssist.renderStatesIndex[a.id]==null?null:r.chartAssist.renderStatesIndex[a.id].state)("isSelected",!r.chartAssist.isSeriesHidden(a.id)),l(),s("value",r.chartAssist.getHighlightedValue(a,"y",void 0,"y1"))("backgroundColor",r.chartAssist.palette.standardColors.get(a.id))("color",r.chartAssist.palette.textColors.get(a.id)),l(),s("marker",r.chartAssist.markers.get(a.id))("color",r.chartAssist.palette.standardColors.get(a.id))}}var te=(()=>{class e{chart;chartAssist;avgSeries;ngOnInit(){this.chart=new P(V()),this.chartAssist=new b(this.chart,X);let a=$();a.data.y1=u=>u.value;let r=new F,i={x:new R,y:new G},n=U(),o=B(n),c=new O({ignoreForDomainCalculation:!0}),p=new k;p.data.y=u=>u.value,this.avgSeries=v(_({},o),{accessors:p,renderer:c,scales:i,showInLegend:!1,preprocess:!1});let S=n.map(u=>v(_({},u),{accessors:a,renderer:r,scales:i}));S=[...S,this.avgSeries],this.chartAssist.update(S)}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=C({type:e,selectors:[["nui-legend-metadata-example"]],decls:8,vars:8,consts:()=>{let a;return a=$localize`:␟61ea8544898b6aa5ad0de8bb0646a91d96c5079c␟8898315550708254090:Mbps`,[[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],["seriesUnitLabel",a,3,"mouseleave","active","interactive"],[3,"mouseenter","interactive","descriptionPrimary"],["backgroundColor","var(--nui-color-brand-six)","color","var(--nui-color-text-light)",3,"value"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseenter","isSelectedChange","descriptionPrimary","seriesRenderState","isSelected"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]]},template:function(r,i){r&1&&(d(0,"div",0)(1,"div",1),h(2,"nui-chart",2),m(),d(3,"div",3)(4,"nui-legend",4),T("mouseleave",function(){return i.chartAssist.resetVisibleSeries()}),d(5,"nui-legend-series",5),T("mouseenter",function(){return i.chartAssist.resetVisibleSeries()}),h(6,"nui-rich-legend-tile",6),m(),f(7,H,3,8,"nui-legend-series",7),m()()()),r&2&&(l(2),s("chart",i.chart),l(2),s("active",i.chartAssist.isLegendActive)("interactive",!0),l(),s("interactive",!1)("descriptionPrimary",i.avgSeries.name),l(),s("value",i.chartAssist.getHighlightedValue(i.avgSeries,"y")),l(),s("ngForOf",i.chartAssist.legendSeriesSet)("ngForTrackBy",i.chartAssist.seriesTrackByFn))},dependencies:[Z,D,N,w,L,y],encapsulation:2})}return e})();function B(e){let g={id:"average",name:"Average Speed",data:[]},a=e.length;if(a===0)return g;let r=[],i=e[0].data?.length??0;for(let n=0;n<i;n++){let o=0;for(let c=0;c<a;c++){let p=e[c];o+=p?.data?.[n].value??0}o=o/a,r.push({x:e[0].data?.[n].x,value:o})}return v(_({},g),{data:r})}function U(){let e="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:(0,t.default)("2016-12-25T11:45:29.909Z",e),value:6},{x:(0,t.default)("2016-12-25T12:10:29.909Z",e),value:33},{x:(0,t.default)("2016-12-25T12:50:29.909Z",e),value:15},{x:(0,t.default)("2016-12-25T13:15:29.909Z",e),value:20},{x:(0,t.default)("2016-12-25T13:40:29.909Z",e),value:30},{x:(0,t.default)("2016-12-25T13:55:29.909Z",e),value:12},{x:(0,t.default)("2016-12-25T14:20:29.909Z",e),value:6},{x:(0,t.default)("2016-12-25T14:40:29.909Z",e),value:35},{x:(0,t.default)("2016-12-25T15:00:29.909Z",e),value:23},{x:(0,t.default)("2016-12-25T15:25:29.909Z",e),value:25},{x:(0,t.default)("2016-12-25T15:45:29.909Z",e),value:38},{x:(0,t.default)("2016-12-25T16:10:29.909Z",e),value:25},{x:(0,t.default)("2016-12-25T16:30:29.909Z",e),value:43},{x:(0,t.default)("2016-12-25T16:45:29.909Z",e),value:28}]},{id:"series-2",name:"Series 2",data:[{x:(0,t.default)("2016-12-25T11:45:29.909Z",e),value:12},{x:(0,t.default)("2016-12-25T12:10:29.909Z",e),value:65},{x:(0,t.default)("2016-12-25T12:50:29.909Z",e),value:30},{x:(0,t.default)("2016-12-25T13:15:29.909Z",e),value:40},{x:(0,t.default)("2016-12-25T13:40:29.909Z",e),value:60},{x:(0,t.default)("2016-12-25T13:55:29.909Z",e),value:23},{x:(0,t.default)("2016-12-25T14:20:29.909Z",e),value:12},{x:(0,t.default)("2016-12-25T14:40:29.909Z",e),value:70},{x:(0,t.default)("2016-12-25T15:00:29.909Z",e),value:45},{x:(0,t.default)("2016-12-25T15:25:29.909Z",e),value:50},{x:(0,t.default)("2016-12-25T15:45:29.909Z",e),value:75},{x:(0,t.default)("2016-12-25T16:10:29.909Z",e),value:50},{x:(0,t.default)("2016-12-25T16:30:29.909Z",e),value:85},{x:(0,t.default)("2016-12-25T16:45:29.909Z",e),value:55}]}]}export{te as a};
