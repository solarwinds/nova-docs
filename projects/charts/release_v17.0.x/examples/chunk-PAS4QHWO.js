import{A as F,Ia as K,Z as Y,_ as M,fa as L,ga as j,i as T,ma as G,o as V,q as c,qa as J,x as H,y as B}from"./chunk-YA4MYKC2.js";import{Ma as N,Pb as R,ab as O}from"./chunk-HL7NY4QC.js";import{e as D,f as b,p as A,q as Z}from"./chunk-FWIJ3MN4.js";import{a as $}from"./chunk-RIV6QGH7.js";import{A as P,Fa as a,Ga as o,Ha as f,La as C,Ua as _,Va as w,bb as E,cb as s,eb as u,fa as r,pb as h,q as k,qb as v,tb as S,wa as d,ya as l,z as y}from"./chunk-VSZOZJXN.js";import{a as x,b as I,g as X}from"./chunk-7KJRK3NW.js";var i=X($());function q(e,m){if(e&1){let t=C();a(0,"button",7),_("click",function(){y(t);let p=w();return P(p.onReset())}),s(1," Reset Popover "),o()}}function z(e,m){if(e&1&&(a(0,"div")(1,"div")(2,"strong"),s(3),o()(),a(4,"div")(5,"code"),s(6),h(7,"json"),o()(),a(8,"div")(9,"code"),s(10),h(11,"json"),o()()()),e&2){let t=m.$implicit;r(3),u("",t.key,":"),r(3),u("Data: ",v(7,3,t.value.data),""),r(4),u("Position: ",v(11,5,t.value.position),"")}}function Q(e,m){if(e&1&&(a(0,"div",8),d(1,z,12,7,"div",9),h(2,"keyvalue"),o()),e&2){let t=m.dataPoints;r(),l("ngForOf",v(2,1,t))}}var pe=(()=>{class e{chart;renderer=new M({markerInteraction:{enabled:!0}});scales={x:new K,y:new G};accessors;chartAssist;popoverPlugin;ngOnInit(){this.buildChart(),this.updateChart()}onReset(){let t={interactionType:c.Click,dataPoint:{index:V}};this.chart.getEventBus().getStream(T).next({data:t})}onToggleClickHandling(t){let n=this.renderer.config?.markerInteraction;n&&(n.clickable=t),this.buildChart(t?c.Click:c.Hover),this.updateChart()}buildChart(t=c.Hover){this.popoverPlugin=new H({eventStreamId:T,interactionType:t}),this.chart=new L(new J),this.chartAssist=new j(this.chart),this.accessors=new Y(this.chartAssist.palette.standardColors,this.chartAssist.markers),this.chart.addPlugin(this.popoverPlugin)}updateChart(){let t=U().map(n=>I(x({},n),{scales:this.scales,renderer:this.renderer,accessors:this.accessors}));this.chartAssist.update(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=k({type:e,selectors:[["ng-component"]],decls:9,vars:4,consts:[["popoverTemplate",""],["filenamePrefix","data-point-popovers-prototype","exampleTitle","Data Point Popovers Prototype"],[1,"d-flex",3,"chart"],[1,"my-3","d-flex","align-items-center"],[1,"ml-3","py-2",3,"valueChange"],["class","ml-3","type","button","displayStyle","action","nui-button","",3,"click",4,"ngIf"],[3,"plugin","template"],["type","button","displayStyle","action","nui-button","",1,"ml-3",3,"click"],[1,"p-3"],[4,"ngFor","ngForOf"]],template:function(n,p){if(n&1){let g=C();a(0,"nui-example-wrapper",1),f(1,"nui-chart",2),a(2,"div",3)(3,"nui-switch",4),_("valueChange",function(W){return y(g),P(p.onToggleClickHandling(W))}),s(4,"Enable Click Handling"),o(),d(5,q,2,0,"button",5),o(),f(6,"nui-chart-popover",6),d(7,Q,3,3,"ng-template",null,0,S),o()}if(n&2){let g=E(8);r(),l("chart",p.chart),r(4),l("ngIf",p.renderer.config.markerInteraction==null?null:p.renderer.config.markerInteraction.clickable),r(),l("plugin",p.popoverPlugin)("template",g)}},dependencies:[D,b,N,F,B,R,O,A,Z],encapsulation:2})}return e})();function U(){let e="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:(0,i.default)("2016-12-25T15:14:29.909Z",e),y:30},{x:(0,i.default)("2016-12-27T15:14:29.909Z",e),y:95},{x:(0,i.default)("2016-12-29T15:14:29.909Z",e),y:15},{x:(0,i.default)("2016-12-31T15:14:29.909Z",e),y:60},{x:(0,i.default)("2017-01-03T15:14:29.909Z",e),y:35}]},{id:"series-2",name:"Series 2",data:[{x:(0,i.default)("2016-12-25T15:14:29.909Z",e),y:60},{x:(0,i.default)("2016-12-26T15:14:29.909Z",e),y:40},{x:(0,i.default)("2016-12-28T15:14:29.909Z",e),y:70},{x:(0,i.default)("2016-12-31T15:14:29.909Z",e),y:45},{x:(0,i.default)("2017-01-01T15:14:29.909Z",e),y:80},{x:(0,i.default)("2017-01-03T15:14:29.909Z",e),y:90}]}]}export{pe as a};
