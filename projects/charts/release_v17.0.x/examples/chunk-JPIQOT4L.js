import{A as H,Ea as g,Ia as j,J as L,M as s,Na as K,R as N,Ra as Y,S as z,W as d,Ya as q,d as R,e as b,fa as G,na as O,oa as V,pa as F,qa as X,w as B,z as W}from"./chunk-YA4MYKC2.js";import{Ka as A}from"./chunk-HL7NY4QC.js";import{n as y}from"./chunk-FWIJ3MN4.js";import{a as et}from"./chunk-RIV6QGH7.js";import{Fa as l,Ga as u,Ha as m,Va as v,bb as D,cb as f,db as w,fa as o,ga as x,pb as _,q as E,qb as U,tb as M,wa as P,ya as p}from"./chunk-VSZOZJXN.js";import{a as T,b as k,g as tt}from"./chunk-7KJRK3NW.js";var C=tt(et());function nt(t,n){if(t&1&&(l(0,"div",4),m(1,"nui-chart-marker",5),l(2,"span",6)(3,"strong"),f(4),_(5,"titlecase"),u()(),l(6,"span",6),f(7),u()()),t&2){let a=n.dataPoint,r=v();o(),p("marker",r.tooltipsStatusMarkers.get(a.data.status)),o(3),w(U(5,3,a.data.status)),o(3),w(" for "+a.data.value+" days")}}var e=function(t){return t.Unknown="unknown",t.Up="up",t.Warning="warning",t.Down="down",t.Critical="critical",t}(e||{}),gt=(()=>{class t{iconService;chart=new G(new X(new K));tooltipsPlugin;tooltipsStatusMarkers;constructor(a){this.iconService=a}ngOnInit(){this.tooltipsStatusMarkers=at(this.iconService),this.tooltipsPlugin=new Y({horizontal:!0}),this.chart.addPlugin(this.tooltipsPlugin),this.chart.addPlugin(new V("labelFormatter")),this.chart.addPlugin(new F);let a=rt(),r=z(a);r.data.thickness=i=>i.status===e.Up?d.THIN:d.THICK;let c=10,h=new g(it(this.iconService,c));r.data.marker=i=>h.get(i.status);let Q=new d({highlightStrategy:new q("x")}),I=new O,S=new j,Z={x:S,y:I};S.formatters.labelFormatter=i=>(0,C.default)(i).format("LL"),I.fixDomain(N.STATUS_DOMAIN);let $=ot().map(i=>k(T({},i),{accessors:r,renderer:Q,scales:Z}));this.chart.update($),this.chart.getEventBus().getStream(R).subscribe(console.log),this.chart.getEventBus().getStream(b).subscribe(console.log)}static \u0275fac=function(r){return new(r||t)(x(A))};static \u0275cmp=E({type:t,selectors:[["nui-status-chart-example"]],decls:5,vars:3,consts:[["tooltipTemplate",""],["height","150px",1,"d-flex","flex-column"],[1,"p-2",3,"chart"],[3,"plugin","template"],[1,"p-1","d-flex","align-items-center"],[3,"marker"],[1,"pl-2"]],template:function(r,c){if(r&1&&(l(0,"div",1),m(1,"nui-chart",2),u(),m(2,"nui-chart-tooltips",3),P(3,nt,8,5,"ng-template",null,0,M)),r&2){let h=D(4);o(),p("chart",c.chart),o(),p("plugin",c.tooltipsPlugin)("template",h)}},dependencies:[H,W,B,y],encapsulation:2})}return t})();function at(t){let n=a=>new L(t.getStatusIcon(a));return new g({[e.Unknown]:n(e.Unknown),[e.Up]:n(e.Up),[e.Warning]:n(e.Warning),[e.Down]:n(e.Down),[e.Critical]:n(e.Critical)})}function rt(){return new g({[e.Unknown]:s[6],[e.Up]:s[8],[e.Warning]:s[4],[e.Down]:s[0],[e.Critical]:s[2]})}function it(t,n){return{[e.Unknown]:t.getIconResized(t.getStatusIcon(e.Unknown),n),[e.Up]:t.getIconResized(t.getStatusIcon(e.Up),n),[e.Warning]:t.getIconResized(t.getStatusIcon(e.Warning),n),[e.Down]:t.getIconResized(t.getStatusIcon(e.Down),n),[e.Critical]:t.getIconResized(t.getStatusIcon(e.Critical),n)}}function ot(){return[{id:"1",name:"Series 1",data:[{status:e.Up,start:0,end:22},{status:e.Warning,start:22,end:39},{status:e.Unknown,start:39,end:59},{status:e.Down,start:59,end:109},{status:e.Critical,start:109,end:178},{status:e.Up,start:178,end:877},{status:e.Critical,start:877,end:980},{status:e.Warning,start:980,end:1e3}].map(t=>({value:t.end-t.start,status:t.status,start:J(t.start),end:J(t.end)}))}]}function J(t){return(0,C.default)().add({hours:t}).toDate()}export{gt as a};
