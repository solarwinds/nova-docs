(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[491],{63629:(ht,tt,h)=>{"use strict";h.d(tt,{V:()=>A});var g=h(92893),E=h(42625),v=h(5e3);let A=(()=>{class Y{constructor(W,m){this.chartComponent=W,this.chartCollectionService=m}ngAfterViewInit(){this.chartCollectionService.getChartCollection(this.collectionId).addChart(this.chartComponent.chart)}}return Y.\u0275fac=function(W){return new(W||Y)(v.Y36(g.BD),v.Y36(E.v))},Y.\u0275dir=v.lG2({type:Y,selectors:[["","nuiChartCollectionId",""]],inputs:{collectionId:["nuiChartCollectionId","collectionId"]}}),Y})()},42625:(ht,tt,h)=>{"use strict";h.d(tt,{v:()=>Y});var g=h(34235),E=h.n(g),v=h(4482),A=h(5e3);let Y=(()=>{class L{constructor(){this.collections={}}getChartCollection(m){let b=this.collections[m];return E()(b)&&(b=new v.p,this.collections[m]=b),b}}return L.\u0275fac=function(m){return new(m||L)},L.\u0275prov=A.Yz7({token:L,factory:L.\u0275fac}),L})()},24386:(ht,tt,h)=>{"use strict";h.d(tt,{k:()=>L}),h(37669);var E=h(5e3),v=h(69808);function A(W,m){if(1&W&&(E.TgZ(0,"div",1),E.Hsn(1),E.qZA()),2&W){const b=E.oxw();E.Udp("top",b.contentPosition.top,"px")("left",b.contentPosition.left,"px")("height",b.contentPosition.height,"px")("width",b.contentPosition.width,"px")}}const Y=["*"];let L=(()=>{class W{ngOnChanges(b){var I;b.plugin&&(null===(I=this.contentPositionUpdateSubscription)||void 0===I||I.unsubscribe(),this.contentPositionUpdateSubscription=this.plugin.contentPositionUpdateSubject.subscribe(R=>{this.contentPosition=R}),this.plugin.chart.updateDimensions())}ngOnDestroy(){this.contentPositionUpdateSubscription&&this.contentPositionUpdateSubscription.unsubscribe()}}return W.\u0275fac=function(b){return new(b||W)},W.\u0275cmp=E.Xpm({type:W,selectors:[["nui-chart-donut-content"]],inputs:{plugin:"plugin"},features:[E.TTD],ngContentSelectors:Y,decls:1,vars:1,consts:[["class","nui-chart-donut-content d-flex justify-content-center align-items-center text-center",3,"top","left","height","width",4,"ngIf"],[1,"nui-chart-donut-content","d-flex","justify-content-center","align-items-center","text-center"]],template:function(b,I){1&b&&(E.F$t(),E.YNc(0,A,2,8,"div",0)),2&b&&E.Q6J("ngIf",I.plugin&&I.contentPosition)},directives:[v.O5],styles:[".nui-chart-donut-content[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;width:100%;height:100%;overflow:hidden;text-overflow:ellipsis}"]}),W})()},21679:(ht,tt,h)=>{"use strict";h.d(tt,{s:()=>W});var g=h(75946),E=h.n(g),v=h(61135),A=h(5e3);const Y=["svgContent"];let W=(()=>{class m{constructor(I){this.changeDetector=I,this.maxSize=20,this.height="10px",this.width="10px",this.svg=new v.X("")}ngAfterViewInit(){this.svg.subscribe(I=>{this.renderMarkerSvg(I)})}ngOnChanges(I){(I.marker||I.color)&&(I.color&&this.marker.setColor(this.color),this.marker&&this.marker.getSvg&&E()(this.marker.getSvg)&&this.svg.next(this.marker.getSvg()))}ngOnDestroy(){this.svg.complete()}renderMarkerSvg(I){const R=this.svgContent.nativeElement,S=`<line x1="-10" y1="0" x2="10" y2="0" style="stroke:${this.color};stroke-width:2" />`;R.innerHTML="",this.drawLine&&R.insertAdjacentHTML("beforeend",S),R.insertAdjacentHTML("beforeend",I),setTimeout(()=>{const O=R.getBBox();this.viewBox=`${O.x-3} ${O.y-3} ${O.width+6} ${O.height+6}`,this.width=Math.min(O.width+6,this.maxSize)+"px",this.height=Math.min(O.height+6,this.maxSize)+"px",this.changeDetector.markForCheck()})}}return m.\u0275fac=function(I){return new(I||m)(A.Y36(A.sBO))},m.\u0275cmp=A.Xpm({type:m,selectors:[["nui-chart-marker"]],viewQuery:function(I,R){if(1&I&&A.Gf(Y,5),2&I){let S;A.iGM(S=A.CRH())&&(R.svgContent=S.first)}},inputs:{marker:"marker",drawLine:"drawLine",color:"color",maxSize:"maxSize"},features:[A.TTD],decls:3,vars:3,consts:[["svgContent",""]],template:function(I,R){1&I&&(A.O4$(),A.TgZ(0,"svg"),A._UZ(1,"g",null,0),A.qZA()),2&I&&A.uIk("width",R.width)("height",R.height)("viewBox",R.viewBox)},styles:["[_nghost-%COMP%]{font-size:0}"]}),m})()},71004:(ht,tt,h)=>{"use strict";h.d(tt,{D:()=>R});var g=h(5e3),E=h(77579),v=h(82722),A=h(21046),L=(h(44421),h(69808));function W(S,O){1&S&&g.GkF(0)}const m=function(S){return{dataPoints:S}};function b(S,O){if(1&S&&g.YNc(0,W,1,0,"ng-container",3),2&S){const _=g.oxw(2);g.Q6J("ngTemplateOutlet",_.template)("ngTemplateOutletContext",g.VKq(2,m,_.plugin.dataPoints))}}function I(S,O){if(1&S&&(g.TgZ(0,"div"),g._UZ(1,"nui-popover",1),g.YNc(2,b,1,4,"ng-template",null,2,g.W1O),g.qZA()),2&S){const _=g.MAs(3),T=g.oxw();g.xp6(1),g.Udp("height",T.plugin.popoverTargetPosition.height,"px"),g.Q6J("unlimited",!0)("template",_)("openPopover",T.plugin.openPopoverSubject)("closePopover",T.plugin.closePopoverSubject)("hasPadding",!1)("container",T.element.nativeElement)("withGrowAfterOpen",!0)}}let R=(()=>{class S{constructor(_,T){this.changeDetector=_,this.element=T,this.update=new g.vpe,this.destroy$=new E.x,this.initPlugin$=new E.x}ngOnChanges(_){_.plugin&&!_.plugin.isFirstChange()&&this.initPlugin()}ngOnInit(){this.initPlugin()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.initPlugin$.complete()}initPlugin(){var _,T;this.initPlugin$.next(),null===(_=this.plugin)||void 0===_||_.openPopoverSubject.pipe((0,v.R)(this.initPlugin$),(0,v.R)(this.destroy$)).subscribe(()=>{this.changeDetector.markForCheck()}),null===(T=this.plugin)||void 0===T||T.updatePositionSubject.pipe((0,v.R)(this.initPlugin$),(0,v.R)(this.destroy$)).subscribe(X=>{var Q,V,H;null===(Q=this.popover)||void 0===Q||Q.resetSize(),this.element.nativeElement.style.left=X.left+X.width/2+"px",this.element.nativeElement.style.top=X.top+"px",null===(V=this.popover)||void 0===V||V.updatePosition(),this.update.next(null===(H=this.plugin)||void 0===H?void 0:H.dataPoints)})}}return S.\u0275fac=function(_){return new(_||S)(g.Y36(g.sBO),g.Y36(g.SBq))},S.\u0275cmp=g.Xpm({type:S,selectors:[["nui-chart-popover"]],viewQuery:function(_,T){if(1&_&&g.Gf(A.U$R,5),2&_){let X;g.iGM(X=g.CRH())&&(T.popover=X.first)}},inputs:{plugin:"plugin",template:"template"},outputs:{update:"update"},features:[g.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["trigger","openPopoverSubject","placement","top",1,"chart-popover__popover",3,"unlimited","template","openPopover","closePopover","hasPadding","container","withGrowAfterOpen"],["popoverTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(_,T){1&_&&g.YNc(0,I,4,9,"div",0),2&_&&g.Q6J("ngIf",T.plugin&&T.plugin.dataPoints)},directives:[L.O5,A.U$R,L.tP],styles:["[_nghost-%COMP%]{position:absolute}.chart-popover__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]}),S})()},40227:(ht,tt,h)=>{"use strict";function g(C){return function(){return C}}function E(){return 1e-6*(Math.random()-.5)}function A(C,B,N,q){if(isNaN(B)||isNaN(N))return C;var nt,Pt,vt,Ut,ft,dt,ut,yt,Yt,at=C._root,_t={data:q},Mt=C._x0,it=C._y0,Dt=C._x1,Rt=C._y1;if(!at)return C._root=_t,C;for(;at.length;)if((dt=B>=(Pt=(Mt+Dt)/2))?Mt=Pt:Dt=Pt,(ut=N>=(vt=(it+Rt)/2))?it=vt:Rt=vt,nt=at,!(at=at[yt=ut<<1|dt]))return nt[yt]=_t,C;if(Ut=+C._x.call(null,at.data),ft=+C._y.call(null,at.data),B===Ut&&N===ft)return _t.next=at,nt?nt[yt]=_t:C._root=_t,C;do{nt=nt?nt[yt]=new Array(4):C._root=new Array(4),(dt=B>=(Pt=(Mt+Dt)/2))?Mt=Pt:Dt=Pt,(ut=N>=(vt=(it+Rt)/2))?it=vt:Rt=vt}while((yt=ut<<1|dt)==(Yt=(ft>=vt)<<1|Ut>=Pt));return nt[Yt]=at,nt[yt]=_t,C}function b(C,B,N,q,nt){this.node=C,this.x0=B,this.y0=N,this.x1=q,this.y1=nt}function Q(C){return C[0]}function H(C){return C[1]}function D(C,B,N){var q=new st(null==B?Q:B,null==N?H:N,NaN,NaN,NaN,NaN);return null==C?q:q.addAll(C)}function st(C,B,N,q,nt,at){this._x=C,this._y=B,this._x0=N,this._y0=q,this._x1=nt,this._y1=at,this._root=void 0}function k(C){for(var B={data:C.data},N=B;C=C.next;)N=N.next={data:C.data};return B}h.d(tt,{K:()=>yn});var $=D.prototype=st.prototype;function ct(C){return C.x+C.vx}function Z(C){return C.y+C.vy}$.copy=function(){var N,q,C=new st(this._x,this._y,this._x0,this._y0,this._x1,this._y1),B=this._root;if(!B)return C;if(!B.length)return C._root=k(B),C;for(N=[{source:B,target:C._root=new Array(4)}];B=N.pop();)for(var nt=0;nt<4;++nt)(q=B.source[nt])&&(q.length?N.push({source:q,target:B.target[nt]=new Array(4)}):B.target[nt]=k(q));return C},$.add=function v(C){var B=+this._x.call(null,C),N=+this._y.call(null,C);return A(this.cover(B,N),B,N,C)},$.addAll=function Y(C){var B,N,nt,at,q=C.length,_t=new Array(q),Mt=new Array(q),it=1/0,Dt=1/0,Rt=-1/0,Pt=-1/0;for(N=0;N<q;++N)isNaN(nt=+this._x.call(null,B=C[N]))||isNaN(at=+this._y.call(null,B))||(_t[N]=nt,Mt[N]=at,nt<it&&(it=nt),nt>Rt&&(Rt=nt),at<Dt&&(Dt=at),at>Pt&&(Pt=at));if(it>Rt||Dt>Pt)return this;for(this.cover(it,Dt).cover(Rt,Pt),N=0;N<q;++N)A(this,_t[N],Mt[N],C[N]);return this},$.cover=function L(C,B){if(isNaN(C=+C)||isNaN(B=+B))return this;var N=this._x0,q=this._y0,nt=this._x1,at=this._y1;if(isNaN(N))nt=(N=Math.floor(C))+1,at=(q=Math.floor(B))+1;else{for(var it,Dt,_t=nt-N,Mt=this._root;N>C||C>=nt||q>B||B>=at;)switch(Dt=(B<q)<<1|C<N,it=new Array(4),it[Dt]=Mt,Mt=it,_t*=2,Dt){case 0:nt=N+_t,at=q+_t;break;case 1:N=nt-_t,at=q+_t;break;case 2:nt=N+_t,q=at-_t;break;case 3:N=nt-_t,q=at-_t}this._root&&this._root.length&&(this._root=Mt)}return this._x0=N,this._y0=q,this._x1=nt,this._y1=at,this},$.data=function W(){var C=[];return this.visit(function(B){if(!B.length)do{C.push(B.data)}while(B=B.next)}),C},$.extent=function m(C){return arguments.length?this.cover(+C[0][0],+C[0][1]).cover(+C[1][0],+C[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},$.find=function I(C,B,N){var q,_t,Mt,it,Dt,ft,dt,nt=this._x0,at=this._y0,Rt=this._x1,Pt=this._y1,vt=[],Ut=this._root;for(Ut&&vt.push(new b(Ut,nt,at,Rt,Pt)),null==N?N=1/0:(nt=C-N,at=B-N,Rt=C+N,Pt=B+N,N*=N);ft=vt.pop();)if(!(!(Ut=ft.node)||(_t=ft.x0)>Rt||(Mt=ft.y0)>Pt||(it=ft.x1)<nt||(Dt=ft.y1)<at))if(Ut.length){var ut=(_t+it)/2,yt=(Mt+Dt)/2;vt.push(new b(Ut[3],ut,yt,it,Dt),new b(Ut[2],_t,yt,ut,Dt),new b(Ut[1],ut,Mt,it,yt),new b(Ut[0],_t,Mt,ut,yt)),(dt=(B>=yt)<<1|C>=ut)&&(ft=vt[vt.length-1],vt[vt.length-1]=vt[vt.length-1-dt],vt[vt.length-1-dt]=ft)}else{var Yt=C-+this._x.call(null,Ut.data),p=B-+this._y.call(null,Ut.data),F=Yt*Yt+p*p;if(F<N){var gt=Math.sqrt(N=F);nt=C-gt,at=B-gt,Rt=C+gt,Pt=B+gt,q=Ut.data}}return q},$.remove=function R(C){if(isNaN(Rt=+this._x.call(null,C))||isNaN(Pt=+this._y.call(null,C)))return this;var B,q,nt,at,Rt,Pt,vt,Ut,ft,dt,ut,yt,N=this._root,_t=this._x0,Mt=this._y0,it=this._x1,Dt=this._y1;if(!N)return this;if(N.length)for(;;){if((ft=Rt>=(vt=(_t+it)/2))?_t=vt:it=vt,(dt=Pt>=(Ut=(Mt+Dt)/2))?Mt=Ut:Dt=Ut,B=N,!(N=N[ut=dt<<1|ft]))return this;if(!N.length)break;(B[ut+1&3]||B[ut+2&3]||B[ut+3&3])&&(q=B,yt=ut)}for(;N.data!==C;)if(nt=N,!(N=N.next))return this;return(at=N.next)&&delete N.next,nt?(at?nt.next=at:delete nt.next,this):B?(at?B[ut]=at:delete B[ut],(N=B[0]||B[1]||B[2]||B[3])&&N===(B[3]||B[2]||B[1]||B[0])&&!N.length&&(q?q[yt]=N:this._root=N),this):(this._root=at,this)},$.removeAll=function S(C){for(var B=0,N=C.length;B<N;++B)this.remove(C[B]);return this},$.root=function O(){return this._root},$.size=function _(){var C=0;return this.visit(function(B){if(!B.length)do{++C}while(B=B.next)}),C},$.visit=function T(C){var N,nt,at,_t,Mt,it,B=[],q=this._root;for(q&&B.push(new b(q,this._x0,this._y0,this._x1,this._y1));N=B.pop();)if(!C(q=N.node,at=N.x0,_t=N.y0,Mt=N.x1,it=N.y1)&&q.length){var Dt=(at+Mt)/2,Rt=(_t+it)/2;(nt=q[3])&&B.push(new b(nt,Dt,Rt,Mt,it)),(nt=q[2])&&B.push(new b(nt,at,Rt,Dt,it)),(nt=q[1])&&B.push(new b(nt,Dt,_t,Mt,Rt)),(nt=q[0])&&B.push(new b(nt,at,_t,Dt,Rt))}return this},$.visitAfter=function X(C){var q,B=[],N=[];for(this._root&&B.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));q=B.pop();){var nt=q.node;if(nt.length){var at,_t=q.x0,Mt=q.y0,it=q.x1,Dt=q.y1,Rt=(_t+it)/2,Pt=(Mt+Dt)/2;(at=nt[0])&&B.push(new b(at,_t,Mt,Rt,Pt)),(at=nt[1])&&B.push(new b(at,Rt,Mt,it,Pt)),(at=nt[2])&&B.push(new b(at,_t,Pt,Rt,Dt)),(at=nt[3])&&B.push(new b(at,Rt,Pt,it,Dt))}N.push(q)}for(;q=N.pop();)C(q.node,q.x0,q.y0,q.x1,q.y1);return this},$.x=function V(C){return arguments.length?(this._x=C,this):this._x},$.y=function j(C){return arguments.length?(this._y=C,this):this._y};var J=h(88097),ne=h(25922),se=h(49194),ue=Math.PI*(3-Math.sqrt(5)),M=h(52016),K=h(35474),Ot=h.n(K),Wt=h(64509),fe=h.n(Wt),Ae=h(33816),xe=h.n(Ae),ge=h(77579),Te=h(82722),He=(h(3645),h(47429)),he=h(41777),Ct=h(5e3),$e=h(69808);function qe(C,B){1&C&&Ct.GkF(0)}let tn=(()=>{class C{}return C.\u0275fac=function(N){return new(N||C)},C.\u0275cmp=Ct.Xpm({type:C,selectors:[["nui-chart-tooltip"]],inputs:{template:"template"},decls:3,vars:2,consts:[[1,"nui-chart-tooltip","px-2","py-1","nui-text-small"],[4,"ngTemplateOutlet"]],template:function(N,q){1&N&&(Ct.TgZ(0,"div")(1,"div",0),Ct.YNc(2,qe,1,0,"ng-container",1),Ct.qZA()()),2&N&&(Ct.xp6(1),Ct.Q6J("@tooltip",void 0),Ct.xp6(1),Ct.Q6J("ngTemplateOutlet",q.template))},directives:[$e.tP],styles:["[_nghost-%COMP%]{display:block;pointer-events:none}.nui-chart-tooltip[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-inverse,#111);color:var(--nui-color-text-inverse,#fff);line-height:normal}"],data:{animation:[(0,he.X$)("tooltip",[(0,he.eR)(":enter",[(0,he.oB)({opacity:0}),(0,he.jt)(300,(0,he.oB)({opacity:1}))]),(0,he.eR)(":leave",[(0,he.jt)(300,(0,he.oB)({opacity:0}))])])]},changeDetection:0}),C})();var Ke=h(91314);let en=(()=>{class C{constructor(N,q,nt,at){this.overlay=N,this.overlayPositionBuilder=q,this.scrollStrategyOptions=nt,this.elementRef=at}ngOnInit(){this.positionStrategy=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions(this.positions).withFlexibleDimensions(!1).withPush(!0),this.overlayRef=this.overlay.create({panelClass:"nui-chart-tooltip-pane",positionStrategy:this.positionStrategy,scrollStrategy:this.scrollStrategyOptions.close()}),this.openRemoteControl&&(this.openSubscription=this.openRemoteControl.subscribe(()=>{this.show()})),this.closeRemoteControl&&(this.closeSubscription=this.closeRemoteControl.subscribe(()=>{this.hide()}))}show(){this.overlayRef.hasAttached()?this.positionStrategy.apply():this.overlayRef.attach(new He.C5(tn)).instance.template=this.template}hide(){this.overlayRef.detach()}ngOnDestroy(){this.hide(),this.openSubscription&&this.openSubscription.unsubscribe(),this.closeSubscription&&this.closeSubscription.unsubscribe()}getOverlayElement(){return this.overlayRef.overlayElement}}return C.\u0275fac=function(N){return new(N||C)(Ct.Y36(Ke.aV),Ct.Y36(Ke.wJ),Ct.Y36(Ke.uw),Ct.Y36(Ct.SBq))},C.\u0275dir=Ct.lG2({type:C,selectors:[["","nuiChartTooltip",""]],inputs:{template:"template",openRemoteControl:"openRemoteControl",closeRemoteControl:"closeRemoteControl",positions:"positions"}}),C})();function un(C,B){1&C&&Ct.GkF(0)}const Pn=function(C){return{dataPoint:C}};function In(C,B){if(1&C&&Ct.YNc(0,un,1,0,"ng-container",4),2&C){const N=Ct.oxw().$implicit,q=Ct.oxw(2);Ct.Q6J("ngTemplateOutlet",q.template)("ngTemplateOutletContext",Ct.VKq(2,Pn,N.value))}}function On(C,B){if(1&C&&Ct._UZ(0,"div",5),2&C){const N=Ct.oxw().$implicit,q=Ct.MAs(2),nt=Ct.oxw(2);Ct.Udp("left",nt.plugin.dataPointPositions[N.key].x,"px")("top",nt.plugin.dataPointPositions[N.key].y,"px")("height",nt.plugin.dataPointPositions[N.key].height,"px")("width",nt.plugin.dataPointPositions[N.key].width,"px"),Ct.Q6J("template",q)("openRemoteControl",nt.openTooltips)("closeRemoteControl",nt.closeTooltips)("positions",nt.plugin.dataPointPositions[N.key].overlayPositions),Ct.uIk("series-id",N.key)}}function Rn(C,B){if(1&C&&(Ct.TgZ(0,"div"),Ct.YNc(1,In,1,4,"ng-template",null,2,Ct.W1O),Ct.YNc(3,On,1,13,"div",3),Ct.qZA()),2&C){const N=B.$implicit,q=Ct.oxw(2);Ct.xp6(3),Ct.Q6J("ngIf",q.plugin.dataPointPositions[N.key])}}function nn(C,B){if(1&C&&(Ct.TgZ(0,"div"),Ct.YNc(1,Rn,4,1,"div",1),Ct.ALo(2,"keyvalue"),Ct.qZA()),2&C){const N=Ct.oxw();Ct.xp6(1),Ct.Q6J("ngForOf",Ct.lcZ(2,2,N.plugin.dataPoints))("ngForTrackBy",N.trackByFn)}}let yn=(()=>{class C{constructor(N){this.changeDetector=N,this.openTooltips=new ge.x,this.closeTooltips=new ge.x,this.unsubscribe$=new ge.x,this.tooltipDirectivesIndex={},this.closePending=!1,this.isOpen=!1}ngOnChanges(N){!N.plugin||!N.plugin.currentValue||(this.unsubscribe$.next(),this.plugin.showSubject.pipe((0,Te.R)(this.unsubscribe$)).subscribe(()=>this.handleOpen()),this.plugin.hideSubject.pipe((0,Te.R)(this.unsubscribe$)).subscribe(()=>this.handleClose()))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}trackByFn(N,q){return q.value.seriesId}handleOpen(){this.changeDetector.detectChanges();const N={};this.tooltips.forEach(nt=>{var at;const _t=null!==(at=nt.elementRef.nativeElement.getAttribute("series-id"))&&void 0!==at?at:void 0;if(!_t)throw new Error("SeriesId is not defined");N[_t]=nt});const q=!fe()(N,this.tooltipDirectivesIndex);this.closePending||q||!this.isOpen?(clearTimeout(this.openTimeout),this.openTimeout=setTimeout(()=>{this.openTooltips.next(),clearTimeout(this.collisionTimeout),this.collisionTimeout=setTimeout(()=>{this.avoidTooltipCollisions(),this.isOpen=!0})})):(this.openTooltips.next(),this.avoidTooltipCollisions(),this.isOpen=!0)}handleClose(){this.simulation&&this.simulation.stop(),this.closePending=!0,clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(()=>{this.closeTooltips.next(),this.closePending=!1,this.isOpen=!1})}avoidTooltipCollisions(){const N={};this.tooltips.forEach(q=>{var nt;const at=q.getOverlayElement(),_t=null!==(nt=q.elementRef.nativeElement.getAttribute("series-id"))&&void 0!==nt?nt:void 0;if(!_t)throw new Error("SeriesId is not defined");this.tooltipDirectivesIndex[_t]=q,N[_t]={x:at.offsetLeft,y:at.offsetTop,width:at.clientWidth,height:at.clientHeight}}),this.simulation&&this.simulation.stop(),this.simulation=this.startSimulation(this.tooltipDirectivesIndex,N)}startSimulation(N,q){const nt=Object.keys(q).map(Mt=>{const it=q[Mt];if(xe()(it.height)||xe()(it.width))throw new Error("Position height or width are not defined");const Dt={seriesId:Mt,x:it.x,y:it.y,radius:this.isVertical()?it.height/2:it.width/2};return this.isVertical()?Dt.fx=it.x:Dt.fy=it.y,Dt}),at=function U(C){var B,N,q=1,nt=1;function at(){for(var it,Rt,Pt,vt,Ut,ft,dt,Dt=B.length,ut=0;ut<nt;++ut)for(Rt=D(B,ct,Z).visitAfter(_t),it=0;it<Dt;++it)dt=(ft=N[(Pt=B[it]).index])*ft,vt=Pt.x+Pt.vx,Ut=Pt.y+Pt.vy,Rt.visit(yt);function yt(Yt,p,F,gt,bt){var mt=Yt.data,Tt=Yt.r,wt=ft+Tt;if(!mt)return p>vt+wt||gt<vt-wt||F>Ut+wt||bt<Ut-wt;if(mt.index>Pt.index){var St=vt-mt.x-mt.vx,kt=Ut-mt.y-mt.vy,Bt=St*St+kt*kt;Bt<wt*wt&&(0===St&&(Bt+=(St=E())*St),0===kt&&(Bt+=(kt=E())*kt),Bt=(wt-(Bt=Math.sqrt(Bt)))/Bt*q,Pt.vx+=(St*=Bt)*(wt=(Tt*=Tt)/(dt+Tt)),Pt.vy+=(kt*=Bt)*wt,mt.vx-=St*(wt=1-wt),mt.vy-=kt*wt)}}}function _t(it){if(it.data)return it.r=N[it.data.index];for(var Dt=it.r=0;Dt<4;++Dt)it[Dt]&&it[Dt].r>it.r&&(it.r=it[Dt].r)}function Mt(){if(B){var it,Rt,Dt=B.length;for(N=new Array(Dt),it=0;it<Dt;++it)N[(Rt=B[it]).index]=+C(Rt,it,B)}}return"function"!=typeof C&&(C=g(null==C?1:+C)),at.initialize=function(it){B=it,Mt()},at.iterations=function(it){return arguments.length?(nt=+it,at):nt},at.strength=function(it){return arguments.length?(q=+it,at):q},at.radius=function(it){return arguments.length?(C="function"==typeof it?it:g(+it),Mt(),at):C},at}(Mt=>Mt.radius).strength(.5).iterations(20),_t=function le(C){var B,N=1,q=.001,nt=1-Math.pow(q,1/300),at=0,_t=.6,Mt=(0,J.UI)(),it=(0,se.HT)(Rt),Dt=(0,ne.Z)("tick","end");function Rt(){Pt(),Dt.call("tick",B),N<q&&(it.stop(),Dt.call("end",B))}function Pt(ft){var dt,yt,ut=C.length;void 0===ft&&(ft=1);for(var Yt=0;Yt<ft;++Yt)for(N+=(at-N)*nt,Mt.each(function(p){p(N)}),dt=0;dt<ut;++dt)null==(yt=C[dt]).fx?yt.x+=yt.vx*=_t:(yt.x=yt.fx,yt.vx=0),null==yt.fy?yt.y+=yt.vy*=_t:(yt.y=yt.fy,yt.vy=0);return B}function vt(){for(var ut,ft=0,dt=C.length;ft<dt;++ft){if((ut=C[ft]).index=ft,null!=ut.fx&&(ut.x=ut.fx),null!=ut.fy&&(ut.y=ut.fy),isNaN(ut.x)||isNaN(ut.y)){var yt=10*Math.sqrt(ft),Yt=ft*ue;ut.x=yt*Math.cos(Yt),ut.y=yt*Math.sin(Yt)}(isNaN(ut.vx)||isNaN(ut.vy))&&(ut.vx=ut.vy=0)}}function Ut(ft){return ft.initialize&&ft.initialize(C),ft}return null==C&&(C=[]),vt(),B={tick:Pt,restart:function(){return it.restart(Rt),B},stop:function(){return it.stop(),B},nodes:function(ft){return arguments.length?(C=ft,vt(),Mt.each(Ut),B):C},alpha:function(ft){return arguments.length?(N=+ft,B):N},alphaMin:function(ft){return arguments.length?(q=+ft,B):q},alphaDecay:function(ft){return arguments.length?(nt=+ft,B):+nt},alphaTarget:function(ft){return arguments.length?(at=+ft,B):at},velocityDecay:function(ft){return arguments.length?(_t=1-ft,B):1-_t},force:function(ft,dt){return arguments.length>1?(null==dt?Mt.remove(ft):Mt.set(ft,Ut(dt)),B):Mt.get(ft)},find:function(ft,dt,ut){var p,F,gt,bt,mt,yt=0,Yt=C.length;for(null==ut?ut=1/0:ut*=ut,yt=0;yt<Yt;++yt)(gt=(p=ft-(bt=C[yt]).x)*p+(F=dt-bt.y)*F)<ut&&(mt=bt,ut=gt);return mt},on:function(ft,dt){return arguments.length>1?(Dt.on(ft,dt),B):Dt.on(ft)}}}(nt).alphaDecay(.3).force("collisionForce",at);return _t.on("tick",()=>{Ot()(nt,Mt=>{(0,M.Z)(N[Mt.seriesId].getOverlayElement()).style(this.isVertical()?"top":"left",(this.isVertical()?Mt.y:Mt.x)+"px")})}),_t}isVertical(){return"right"===this.plugin.orientation}}return C.\u0275fac=function(N){return new(N||C)(Ct.Y36(Ct.sBO))},C.\u0275cmp=Ct.Xpm({type:C,selectors:[["nui-chart-tooltips"]],viewQuery:function(N,q){if(1&N&&Ct.Gf(en,5),2&N){let nt;Ct.iGM(nt=Ct.CRH())&&(q.tooltips=nt)}},inputs:{plugin:"plugin",template:"template"},features:[Ct.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["tooltipTemplate",""],["nuiChartTooltip","","class","chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions","left","top","height","width",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nuiChartTooltip","",1,"chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions"]],template:function(N,q){1&N&&Ct.YNc(0,nn,3,4,"div",0),2&N&&Ct.Q6J("ngIf",q.plugin&&q.plugin.dataPoints)},directives:[$e.O5,$e.sg,$e.tP,en],pipes:[$e.Nd],styles:[".chart-tooltips__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]}),C})()},42210:(ht,tt,h)=>{"use strict";h.d(tt,{x:()=>Y});var g=h(5e3),E=h(20406),v=h.n(E),A=h(92893);let Y=(()=>{class L{constructor(m,b,I){this.elRef=m,this.ngZone=b,this.cd=I,this.redraw=()=>{this.chart.updateDimensions(),this.cd.detectChanges()},this.intersectionObserverCallback=(R,S)=>{const O={isChartInView:R[0].isIntersecting};this.chart.getEventBus().getStream(A._7).next({data:O})}}ngOnInit(){this.intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback),this.intersectionObserver.observe(this.elRef.nativeElement)}ngOnChanges(m){if(m.chart){const b=m.chart.previousValue;b&&b.destroy(),this.chart&&(this.chart.build(this.elRef.nativeElement),this.redraw())}}ngAfterContentInit(){this.chart.getEventBus().getStream(A._5).subscribe(()=>{this.chart.updateDimensions()})}ngAfterViewInit(){this.resizeHandler=v()(()=>this.redraw(),10),this.resizeObserver=new ResizeObserver(()=>{this.ngZone.run(()=>this.resizeHandler())}),this.ngZone.runOutsideAngular(()=>{var m;return null===(m=this.resizeObserver)||void 0===m?void 0:m.observe(this.elRef.nativeElement)})}ngOnDestroy(){var m,b,I;null===(m=this.intersectionObserver)||void 0===m||m.unobserve(this.elRef.nativeElement),null===(b=this.resizeObserver)||void 0===b||b.unobserve(this.elRef.nativeElement),null===(I=this.chart)||void 0===I||I.destroy()}}return L.\u0275fac=function(m){return new(m||L)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(g.sBO))},L.\u0275cmp=g.Xpm({type:L,selectors:[["nui-chart"]],inputs:{chart:"chart"},features:[g._Bn([{provide:A.BD,useExisting:(0,g.Gpc)(()=>L)}]),g.TTD],decls:0,vars:0,template:function(m,b){},encapsulation:2}),L})()},92893:(ht,tt,h)=>{"use strict";h.d(tt,{BD:()=>H,C1:()=>R,CC:()=>v,DP:()=>L,GJ:()=>Q,N:()=>A,N0:()=>k,Qi:()=>I,Rj:()=>W,TC:()=>b,Vg:()=>st,_5:()=>T,_7:()=>X,bd:()=>_,gA:()=>S,hZ:()=>D,hk:()=>Y,mg:()=>V,q7:()=>m,rz:()=>j,wu:()=>O});var g=h(5e3),E=h(68208);const v="mouse_active",A="interaction_values_active",Y="interaction_values",L="interaction_coordinates",W="highlight_data_point",m="select_data_point",b="highlight_series",I="interaction_series",R="interaction_data_points",S="interaction_data_point",O="destroy",_="set_domain",T="refresh",X="chart_view_status",Q="series_state_change",V="axes_style_change",H=new g.OlP("chart_component"),j={[E.n.background]:{name:E.n.background,order:0,clipped:!0},[E.n.data]:{name:E.n.data,order:50,clipped:!0},[E.n.unclippedData]:{name:E.n.unclippedData,order:51,clipped:!1},[E.n.foreground]:{name:E.n.foreground,order:1e3,clipped:!1}},D=-1,st=-2,k="ignore-interaction"},4482:(ht,tt,h)=>{"use strict";h.d(tt,{p:()=>b});var g=h(35474),E=h.n(g),v=h(58152),A=h.n(v),Y=h(34235),L=h.n(Y),W=h(92893),m=h(10866);class b{constructor(){this.lastIndex=-1,this.events=[W.hk,W.DP,W.CC,W._5],this.charts={},this.subscriptions={}}addChart(R){const S=(++this.lastIndex).toString();this.charts[S]=R,this.eventBus||this.initializeEventBus(),E()(this.events,O=>{this.subscribe(S,R.getEventBus().getStream(O),_=>{var T;_.broadcast||null===(T=this.eventBus)||void 0===T||T.getStream(O).next({chartIndex:S,event:_})})}),this.subscribe(S,R.getEventBus().getStream(W.wu),O=>{this.removeChart(R),0===Object.keys(this.charts).length&&this.destroy()})}removeChart(R){const S=this.getChartKey(R);if(L()(S))throw new Error("Chart not registered!");this.unsubscribeChart(S),delete this.charts[S]}destroy(){var R;null===(R=this.eventBus)||void 0===R||R.destroy(),this.eventBus=void 0}initializeEventBus(){this.eventBus=new m.N;for(const R of this.events)this.eventBus.getStream(R).subscribe(S=>{for(const O of Object.keys(this.charts))O!==S.chartIndex&&(S.event.broadcast=!0,this.charts[O].getEventBus().getStream(R).next(S.event))})}subscribe(R,S,O){const _=S.subscribe(O);let T=this.subscriptions[R];L()(T)&&(T=[],this.subscriptions[R]=T),T.push(_)}unsubscribeChart(R){E()(this.subscriptions[R],S=>{S.unsubscribe()}),delete this.subscriptions[R]}getChartKey(R){return A()(this.charts,S=>S===R)}}},47708:(ht,tt,h)=>{"use strict";h.d(tt,{w:()=>g});class g{constructor(){}initialize(){}update(){}updateDimensions(){}destroy(){}}},10866:(ht,tt,h)=>{"use strict";h.d(tt,{N:()=>A});var g=h(35474),E=h.n(g),v=h(77579);class A{constructor(){this.streams={}}getStream(L){return this.streams[L]||(this.streams[L]=new v.x),this.streams[L]}destroy(){E()(Object.keys(this.streams),L=>{this.streams[L].complete()})}}},2158:(ht,tt,h)=>{"use strict";h.d(tt,{T:()=>R});var g=h(62225),E=h(69754),v=h.n(E),A=h(35474),Y=h.n(A),L=h(8817),W=h.n(L),m=h(92893),b=h(68208),I=h(28249);class R{constructor(O={}){this.config=O,this.interaction={},this.getContainerStateStyles=_=>{if(!this.config.stateStyles)throw new Error("stateStyles property is not defined");return this.config.stateStyles[_||b.L.default]},this.config=v()(this.config,R.DEFAULT_CONFIG)}getDataPointIndex(O,_,T){return m.hZ}highlightDataPoint(O,_,T){}setSeriesState(O,_){}setDataPointState(O,_){}getDomainOfFilteredData(O,_,T,X){let Q=O.data;for(const V of Object.keys(_)){const H=_[V];!H.isDomainFixed||!H.isContinuous()||(Q=this.filterDataByDomain(Q,O,V,H.domain()))}return this.getDomain(Q,O,T,X)}getDomain(O,_,T,X){return O&&0!==O.length?(0,g.We)(O,(Q,V,H)=>{var j,D;return null===(D=null===(j=_.accessors.data)||void 0===j?void 0:j[T])||void 0===D?void 0:D.call(j,Q,V,Array.from(H),_)}):I.iz}filterDataByDomain(O,_,T,X){var Q;const V=null===(Q=_.accessors.data)||void 0===Q?void 0:Q[T];return O.filter((H,j)=>{const D=V(H,j,O,_);return D>=X[0]&&D<=X[1]})}getRequiredLayers(){return[m.rz[b.n.data]]}setupInteraction(O,_,T,X,Q){const V=W()(this.interaction,O,{})[_];!V||Y()(V,H=>{T.on(_,()=>{const j=T.node().getBoundingClientRect();X.next({eventName:H,data:Object.assign(Object.assign({},Q),{position:j})})})})}}R.DEFAULT_CONFIG={stateStyles:{[b.L.default]:{opacity:1},[b.L.hidden]:{opacity:0},[b.L.deemphasized]:{opacity:.1},[b.L.emphasized]:{opacity:1}}}},28249:(ht,tt,h)=>{"use strict";h.d(tt,{Il:()=>Y,_v:()=>v,iz:()=>g,oT:()=>A,rX:()=>E});const g=[0,0],E=[0,1];function v(L){return!!L.domainWithTicks}function A(L){return"function"==typeof L.bandwidth}function Y(L){return void 0!==L.innerScale}},13431:(ht,tt,h)=>{"use strict";h.d(tt,{s:()=>g});var g=(()=>{return(E=g||(g={})).Click="click",E.Hover="hover",E.MouseDown="mousedown",E.MouseEnter="mouseenter",E.MouseLeave="mouseleave",E.MouseMove="mousemove",E.MouseUp="mouseup",g;var E})()},37669:(ht,tt,h)=>{"use strict";h.d(tt,{i:()=>L});var g=h(34235),E=h.n(g),v=h(77579),A=h(33335),Y=h(47708);class L extends Y.w{constructor(){super(...arguments),this.contentPositionUpdateSubject=new v.x,this.contentPosition={top:0,left:0,width:0,height:0}}updateDimensions(){const m=this.chart.getDataManager().chartSeriesSet.reduce((b,I)=>I.renderer instanceof A.E&&!E()(b)?Math.min(b,I.renderer.getInnerRadius(I.scales.r.range(),I.data.length-1)):b,1/0);if(E()(m))throw new Error("Radius is undefined");this.contentPosition=this.getContentPosition(m),this.contentPositionUpdateSubject.next(this.contentPosition)}destroy(){this.contentPositionUpdateSubject.complete()}getContentPosition(m){const b=[this.chart.getGrid().config().dimension.outerHeight()/2,this.chart.getGrid().config().dimension.outerWidth()/2];return{top:b[0]-m/Math.sqrt(2),left:b[1]-m/Math.sqrt(2),width:m*Math.sqrt(2),height:m*Math.sqrt(2)}}}},44421:(ht,tt,h)=>{"use strict";h.d(tt,{i:()=>S});var g=h(69754),E=h.n(g),v=h(38322),A=h.n(v),Y=h(90377),L=h.n(Y),W=h(77579),m=h(82722),b=h(92893),I=h(47708),R=h(13431);class S extends I.w{constructor(_={}){super(),this.config=_,this.updatePositionSubject=new W.x,this.openPopoverSubject=new W.x,this.closePopoverSubject=new W.x,this.popoverTargetPosition={top:0,left:0,width:0,height:0},this.DEFAULT_CONFIG={eventStreamId:b.C1,interactionType:R.s.MouseMove},this.isOpen=!1,this.destroy$=new W.x,this.config=E()(this.config,this.DEFAULT_CONFIG)}initialize(){this.chart.getEventBus().getStream(this.config.eventStreamId).pipe((0,m.R)(this.destroy$)).subscribe(_=>{var T;if(_.data.interactionType===this.config.interactionType){const X=null!==(T=_.data.dataPoints)&&void 0!==T?T:{[_.data.dataPoint.seriesId]:_.data.dataPoint};this.processDataPoints(X)}})}destroy(){this.updatePositionSubject&&this.updatePositionSubject.complete(),this.openPopoverSubject&&this.openPopoverSubject.complete(),this.closePopoverSubject&&this.closePopoverSubject.complete(),this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}getAbsolutePosition(_){var T,X;const Q=null===(X=null===(T=this.chart.target)||void 0===T?void 0:T.node())||void 0===X?void 0:X.parentNode;if(!Q)throw new Error("Chart parent node is not defined");const V=Math.min(..._.map(D=>D.position.x)),H=Q.offsetLeft+this.chart.getGrid().config().dimension.margin.left+V;return{top:Q.offsetTop+this.chart.getGrid().config().dimension.margin.top,left:H,height:Q.offsetHeight,width:Math.max(..._.map(D=>D.position.x+(D.position.width||0)))-V}}processDataPoints(_){const T=A()(_,Q=>Q.index>=0&&Q.position),X=L()(T);X.length>0?(this.popoverTargetPosition=this.getAbsolutePosition(X),this.dataPoints=T,setTimeout(()=>{this.updatePositionSubject.next(this.popoverTargetPosition),this.isOpen||(this.isOpen=!0,this.openPopoverSubject.next())})):setTimeout(()=>{this.closePopoverSubject.next(),this.isOpen=!1})}}},3645:(ht,tt,h)=>{"use strict";h.d(tt,{n7:()=>X});var g=h(35474),E=h.n(g),v=h(38322),A=h.n(v),Y=h(90377),L=h.n(Y),W=h(77579),m=h(82722),b=h(92893),I=h(68208),R=h(47708),S=h(13431);class X extends R.w{constructor(V=10,H="right"){var Q;super(),this.tooltipPositionOffset=V,this.orientation=H,this.dataPointPositions={},this.showSubject=new W.x,this.hideSubject=new W.x,this.isChartInView=!1,this.destroy$=new W.x,this.seriesVisibilityMap={},"right"===H?this.overlaySetup=[{originX:"end",originY:"top",overlayX:"start",overlayY:"center",offsetX:Q=V},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-Q}]:"top"===H&&(this.overlaySetup=(Q=>[{originX:"end",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-Q},{originX:"end",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:Q}])(V))}initialize(){this.chart.getEventBus().getStream(b.C1).pipe((0,m.R)(this.destroy$)).subscribe(V=>{V.data.interactionType===S.s.MouseMove&&this.isChartInView&&this.processHighlightedDataPoints(V.data.dataPoints)}),this.chart.getEventBus().getStream(b.GJ).pipe((0,m.R)(this.destroy$)).subscribe(V=>{V.data.forEach(H=>{this.seriesVisibilityMap[H.seriesId]=H.state!==I.L.hidden})}),this.chart.getEventBus().getStream(b._7).pipe((0,m.R)(this.destroy$)).subscribe(V=>{this.isChartInView=V.data.isChartInView,this.isChartInView||this.hideSubject.next()})}destroy(){this.destroy$.next(),this.destroy$.complete()}processHighlightedDataPoints(V){var H,j;const D=A()(V,Z=>Z.index>=0&&Z.position&&!1!==this.seriesVisibilityMap[Z.seriesId]);if(0===L()(D).length)return void this.hideSubject.next();this.dataPoints=D;const st=null===(j=null===(H=this.chart.target)||void 0===H?void 0:H.node())||void 0===j?void 0:j.parentNode;if(!st)throw new Error("Chart parent node is not defined");const k=st.getBoundingClientRect(),$=st.offsetParent.getBoundingClientRect(),ct={x:k.left-$.left,y:k.top-$.top};E()(Object.keys(this.dataPoints),Z=>{const U=this.dataPoints[Z],J=this.chart.getDataManager().getChartSeries(U.seriesId),Ft=this.getTooltipPosition(U,J);this.dataPointPositions[Z]=this.getAbsolutePosition(Ft,ct)}),this.showSubject.next()}getTooltipPosition(V,H){var j,D;if(!V.position)throw new Error("Unable to get tooltip position");return{x:V.position.x,y:V.position.y,height:(null===(j=V.position)||void 0===j?void 0:j.height)||1,width:(null===(D=V.position)||void 0===D?void 0:D.width)||1,overlayPositions:this.overlaySetup}}getAbsolutePosition(V,H){return Object.assign({},V,{x:H.x+this.chart.getGrid().config().dimension.margin.left+V.x,y:H.y+this.chart.getGrid().config().dimension.margin.top+V.y})}}},88682:(ht,tt,h)=>{"use strict";h.d(tt,{k:()=>Q});var g=h(5e3),E=h(71973),v=h.n(E),A=h(68208),Y=h(32938),L=h(53784),W=h(69808);const m=["projectedDescription"];function b(V,H){if(1&V&&(g.TgZ(0,"div",11),g._uU(1),g.qZA()),2&V){const j=g.oxw(2);g.Q6J("title",j.descriptionPrimary),g.xp6(1),g.hij(" ",j.descriptionPrimary," ")}}function I(V,H){if(1&V&&(g.TgZ(0,"div",12),g._uU(1),g.qZA()),2&V){const j=g.oxw(2);g.Q6J("title",j.descriptionSecondary),g.xp6(1),g.hij(" ",j.descriptionSecondary," ")}}function R(V,H){if(1&V&&(g.TgZ(0,"div",8),g.YNc(1,b,2,2,"div",9),g.YNc(2,I,2,2,"div",10),g.qZA()),2&V){const j=g.oxw();g.xp6(1),g.Q6J("ngIf",!!j.descriptionPrimary),g.xp6(1),g.Q6J("ngIf",!!j.descriptionSecondary)}}function S(V,H){1&V&&(g.TgZ(0,"div",13,14),g.Hsn(2,1),g.qZA())}const O=["*",[["","description",""]]],_=function(V){return[V]},T=["*","[description]"];let Q=(()=>{class V{constructor(j){this.legend=j,this.isSelected=!0,this.isSelectedChange=new g.vpe,this.isHorizontalClassApplied=!1,this._active=!1}set active(j){this._active=j}set interactive(j){this._interactive=j}get interactive(){return this._interactive}set seriesRenderState(j){this._seriesRenderState=j}get seriesRenderState(){return this._seriesRenderState||A.L.default}get isInteractiveClassApplied(){return this._interactive}get isActiveClassApplied(){return this._active&&this.seriesRenderState!==A.L.hidden}ngAfterContentInit(){var j;this.legend&&(this.legend.activeChanged.subscribe(D=>this._active=D),this.icon=this.icon||this.legend.seriesIcon,this._active=this.legend.active,this.interactive=null!==(j=this.interactive)&&void 0!==j?j:this.legend.interactive,this.isHorizontalClassApplied=this.legend.orientation===Y.I.horizontal)}onClick(){this.interactive&&this.isSelectedChange.next(!this.isSelected)}hasInputDescription(){return!v()(this.descriptionPrimary)||!v()(this.descriptionSecondary)}hasProjectedDescription(){return!!this.projectedDescription&&0!==this.projectedDescription.nativeElement.children.length}}return V.\u0275fac=function(j){return new(j||V)(g.Y36(L.F,9))},V.\u0275cmp=g.Xpm({type:V,selectors:[["nui-legend-series"]],viewQuery:function(j,D){if(1&j&&g.Gf(m,5),2&j){let st;g.iGM(st=g.CRH())&&(D.projectedDescription=st.first)}},hostAttrs:[1,"nui-legend-series"],hostVars:6,hostBindings:function(j,D){1&j&&g.NdJ("click",function(){return D.onClick()}),2&j&&g.ekj("nui-legend-series--interactive",D.isInteractiveClassApplied)("nui-legend-series--horizontal",D.isHorizontalClassApplied)("inverse",D.isActiveClassApplied)},inputs:{active:"active",interactive:"interactive",isSelected:"isSelected",descriptionPrimary:"descriptionPrimary",descriptionSecondary:"descriptionSecondary",icon:"icon",color:"color",seriesRenderState:"seriesRenderState"},outputs:{isSelectedChange:"isSelectedChange"},ngContentSelectors:T,decls:10,vars:9,consts:[[1,"d-flex",3,"ngClass"],[1,"nui-legend-series__tile-wrapper"],[1,"nui-legend-series__tile"],[1,"nui-legend-series__checkbox-wrapper"],[1,"nui-legend-series__checkbox-mark"],[1,"nui-legend-series__checkbox-glyph"],["class","description-container nui-text-small d-flex flex-column justify-content-center",4,"ngIf","ngIfElse"],["descriptionTemplate",""],[1,"description-container","nui-text-small","d-flex","flex-column","justify-content-center"],["class","description description-primary",3,"title",4,"ngIf"],["class","description description-secondary",3,"title",4,"ngIf"],[1,"description","description-primary",3,"title"],[1,"description","description-secondary",3,"title"],[1,"d-flex"],["projectedDescription",""]],template:function(j,D){if(1&j&&(g.F$t(O),g.TgZ(0,"div",0)(1,"div",1)(2,"div",2),g.Hsn(3),g.qZA(),g.TgZ(4,"div",3)(5,"div",4),g._UZ(6,"i",5),g.qZA()()(),g.YNc(7,R,3,2,"div",6),g.qZA(),g.YNc(8,S,3,0,"ng-template",null,7,g.W1O)),2&j){const st=g.MAs(9);g.ekj("nui-legend-series--deselected",!D.isSelected),g.Q6J("ngClass",g.VKq(7,_,"nui-legend-series--state-"+D.seriesRenderState)),g.xp6(4),g.ekj("nui-legend-series__checkbox--checked",D.isSelected),g.xp6(3),g.Q6J("ngIf",D.hasInputDescription())("ngIfElse",st)}},directives:[W.mk,W.O5],encapsulation:2,changeDetection:0}),V})()},89657:(ht,tt,h)=>{"use strict";h.d(tt,{w:()=>_});var g=h(33816),E=h.n(g),v=h(88682),A=h(5e3),Y=h(53784),L=h(69808);function W(T,X){if(1&T&&(A.TgZ(0,"div",10),A._uU(1),A.qZA()),2&T){const Q=A.oxw();A.xp6(1),A.hij(" ",Q.value," ")}}function m(T,X){if(1&T&&(A.TgZ(0,"div",11),A._uU(1),A.qZA()),2&T){const Q=A.oxw();A.xp6(1),A.hij(" ",Q.unitLabel," ")}}function b(T,X){1&T&&A.Hsn(0,3)}function I(T,X){1&T&&A.Hsn(0,4)}const R=["*",[["","leftEdge",""]],[["","rightEdge",""]],[["","top",""]],[["","bottom",""]]],S=function(T){return{"background-color":T}},O=["*","[leftEdge]","[rightEdge]","[top]","[bottom]"];let _=(()=>{class T{constructor(Q,V,H){this.legendSeries=Q,this.legend=V,this.changeDetector=H}ngAfterContentInit(){this.legend&&(this.unitLabel=this.unitLabel||this.legend.seriesUnitLabel,this.backgroundColor=this.backgroundColor||this.legend.seriesColor||"white")}ngAfterViewInit(){this.legendSeries&&(this.seriesHasAdditionalContent=this.legendSeries.hasInputDescription()||this.legendSeries.hasProjectedDescription(),this.changeDetector.detectChanges())}hasInputValue(){return!E()(this.value)}hasInputUnitLabel(){return!E()(this.unitLabel)}}return T.\u0275fac=function(Q){return new(Q||T)(A.Y36(v.k,1),A.Y36(Y.F,9),A.Y36(A.sBO))},T.\u0275cmp=A.Xpm({type:T,selectors:[["nui-rich-legend-tile"]],inputs:{unitLabel:"unitLabel",value:"value",backgroundColor:"backgroundColor",color:"color"},ngContentSelectors:O,decls:15,vars:13,consts:[[1,"nui-rich-legend-tile"],[1,"nui-rich-legend-tile__tilebox","d-flex","justify-content-center","align-items-end","flex-column",3,"ngStyle"],["class","nui-rich-legend-tile__tilebox-value nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],["class","nui-rich-legend-tile__tilebox-unit nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],[1,"nui-rich-legend-tile__icon"],["icon",""],[1,"nui-rich-legend-tile__point-marker"],["rightEdge",""],["projectedTopContent",""],["projectedBottomContent",""],[1,"nui-rich-legend-tile__tilebox-value","nui-rich-legend-tile__ellipsified"],[1,"nui-rich-legend-tile__tilebox-unit","nui-rich-legend-tile__ellipsified"]],template:function(Q,V){if(1&Q&&(A.F$t(R),A.TgZ(0,"div",0)(1,"div",1),A.YNc(2,W,2,1,"div",2),A.YNc(3,m,2,1,"div",3),A.Hsn(4),A.qZA(),A.TgZ(5,"div",4,5),A.Hsn(7,1),A.qZA(),A.TgZ(8,"div",6,7),A.Hsn(10,2),A.qZA()(),A.YNc(11,b,1,0,"ng-template",null,8,A.W1O),A.YNc(13,I,1,0,"ng-template",null,9,A.W1O)),2&Q){const H=A.MAs(9),j=A.MAs(12),D=A.MAs(14);A.ekj("nui-rich-legend-tile--has-point-marker",H.children.length>0)("nui-rich-legend-tile--series-has-additional-content",V.seriesHasAdditionalContent),A.xp6(1),A.Udp("color",V.color),A.Q6J("ngStyle",A.VKq(11,S,V.backgroundColor)),A.xp6(1),A.Q6J("ngIf",V.hasInputValue())("ngIfElse",j),A.xp6(1),A.Q6J("ngIf",V.hasInputUnitLabel())("ngIfElse",D)}},directives:[L.PC,L.O5],styles:[".nui-rich-legend-tile[_ngcontent-%COMP%]{position:relative;width:60px;height:100%;line-height:18px}.nui-rich-legend-tile[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:empty{display:none}.nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px;background-color:var(--nui-color-bg-light,#fff)}.nui-rich-legend-tile__ellipsified[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]{text-align:right;font-weight:600}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]:not(:last-child){margin-bottom:-3px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]{text-align:right;font-size:11px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]:not(:first-child){margin-top:-3px}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%], .nui-rich-legend-tile__icon[_ngcontent-%COMP%]{position:absolute;line-height:0;top:50%;pointer-events:none}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.nui-rich-legend-tile__icon[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}.nui-rich-legend-tile--has-point-marker.nui-rich-legend-tile--series-has-additional-content[_ngcontent-%COMP%]{margin-right:5px}.nui-rich-legend-tile--has-point-marker[_ngcontent-%COMP%]   .nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{padding-right:7px}"]}),T})()},53784:(ht,tt,h)=>{"use strict";h.d(tt,{F:()=>A});var g=h(5e3),E=h(32938);const v=["*"];let A=(()=>{class Y{constructor(){this.activeChanged=new g.vpe,this.active=!1,this.interactive=!1,this.orientation=E.I.vertical}ngOnChanges(W){W.active&&this.activeChanged.emit(this.active)}ngOnDestroy(){this.activeChanged.complete()}}return Y.\u0275fac=function(W){return new(W||Y)},Y.\u0275cmp=g.Xpm({type:Y,selectors:[["nui-legend"]],hostAttrs:[1,"d-inline-block"],inputs:{active:"active",interactive:"interactive",orientation:"orientation",seriesColor:"seriesColor",seriesIcon:"seriesIcon",seriesUnitLabel:"seriesUnitLabel"},features:[g.TTD],ngContentSelectors:v,decls:2,vars:2,consts:[[1,"nui-legend","d-flex","flex-wrap"]],template:function(W,m){1&W&&(g.F$t(),g.TgZ(0,"div",0),g.Hsn(1),g.qZA()),2&W&&g.ekj("flex-column","vertical"===m.orientation)},encapsulation:2}),Y})()},32938:(ht,tt,h)=>{"use strict";h.d(tt,{I:()=>g});var g=(()=>{return(E=g||(g={})).vertical="vertical",E.horizontal="horizontal",g;var E})()},87083:(ht,tt,h)=>{"use strict";h.d(tt,{mgU:()=>pt.mg,EYF:()=>Mr,QtU:()=>Wf,jS7:()=>rr,TVc:()=>_o,Pkp:()=>Of,U$N:()=>bo,Z7w:()=>ri,TrQ:()=>Rf,mEc:()=>af,cEY:()=>hf,gyj:()=>Ui,WSY:()=>Cr,cpE:()=>Er,qo6:()=>xc,lQw:()=>yc,_7T:()=>pt._7,kL2:()=>Nr,doR:()=>Fn,xH4:()=>kc.x,iM:()=>of.i,syg:()=>wr,i4F:()=>wo.i,n7o:()=>ss.n7,Vg0:()=>pt.Vg,hZk:()=>pt.hZ,GYO:()=>yi.G,nW9:()=>ao,V8c:()=>Ze,WYw:()=>Zd,GFe:()=>Fi,Rj$:()=>pt.Rj,TC6:()=>pt.TC,HVr:()=>ni,C1c:()=>pt.C1,gA9:()=>pt.gA,Qii:()=>pt.Qi,hkV:()=>pt.hk,$fK:()=>zn,koE:()=>Jr,s_5:()=>de.s,qxh:()=>Is,Med:()=>Ri,t31:()=>kf,DKr:()=>oo,f$s:()=>Vn,CCM:()=>pt.CC,oki:()=>jd,tCZ:()=>Bf,bbc:()=>Tf,XqW:()=>Sf,eQn:()=>rf,$y4:()=>Nc,VXE:()=>Kd,bOg:()=>Lf,Yu5:()=>Qd,UDz:()=>es,lS:()=>fo,QLC:()=>lf,E8N:()=>yi.E,zv$:()=>uf,nTW:()=>$t.L,q7O:()=>pt.q7,GJE:()=>pt.GJ,bdF:()=>pt.bd,NVM:()=>Ar,jpW:()=>_r,ruA:()=>Mf,ta5:()=>gn,G6f:()=>fn,H38:()=>ai,s1E:()=>kn,FUO:()=>Es,Wki:()=>Pc,yaz:()=>Us,lTH:()=>yo,FBd:()=>xo,tIi:()=>De,a9F:()=>or,Ofn:()=>Ps,Be5:()=>Mn,c_e:()=>je,CJs:()=>ii,Rbc:()=>Af,nuZ:()=>Uf,Q6e:()=>Pf,skL:()=>Df,CQI:()=>ts,qqc:()=>Nf,OQi:()=>Bn,Ks6:()=>Xd,S2P:()=>Qr,_OB:()=>Id,ruO:()=>yr,fy$:()=>vo,Y6Q:()=>go,GVi:()=>po,_N$:()=>mo,fjP:()=>rs,knu:()=>ho,aCj:()=>$f,mIe:()=>Zf,HAP:()=>Vf,kxS:()=>uo,s_I:()=>Ms,M6V:()=>jf,fWz:()=>Kf}),h(24386),h(40227),h(71004),h(21679);var Y=h(91314),L=h(73171),W=h(25922),m=h(49194);function b(t,e,n){var i=new m.B7;return i.restart(function(r){i.stop(),t(r+e)},e=null==e?0:+e,n),i}var I=(0,W.Z)("start","end","cancel","interrupt"),R=[];function H(t,e,n,i,r,s){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function k(t,e,n){var r,i=t.__transition;function a(c){var u,d,f,w;if(1!==n.state)return l();for(u in i)if((w=i[u]).name===n.name){if(3===w.state)return b(a);4===w.state?(w.state=6,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete i[u]):+u<e&&(w.state=6,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete i[u])}if(b(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(w=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++d]=w);r.length=d+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=5,1),d=-1,f=r.length;++d<f;)r[d].call(t,u);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var c in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=(0,m.HT)(function s(c){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:r,on:I,tween:R,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function j(t,e){var n=st(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function D(t,e){var n=st(t,e);if(n.state>3)throw new Error("too late; already running");return n}function st(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function $(t,e){var i,r,a,n=t.__transition,s=!0;if(n){for(a in e=null==e?null:e+"",n)(i=n[a]).name===e?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[a]):s=!1;s&&delete t.__transition}}function Z(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Nt,Gt,ne,se,U=180/Math.PI,J={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ft(t,e,n,i,r,s){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,l/=o),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*U,skewX:Math.atan(l)*U,scaleX:a,scaleY:o}}function Jt(t,e,n,i){function r(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],f=[];return c=t(c),u=t(u),function s(c,u,d,f,w,z){if(c!==d||u!==f){var G=w.push("translate(",null,e,null,n);z.push({i:G-4,x:Z(c,d)},{i:G-2,x:Z(u,f)})}else(d||f)&&w.push("translate("+d+e+f+n)}(c.translateX,c.translateY,u.translateX,u.translateY,d,f),function a(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(r(d)+"rotate(",null,i)-2,x:Z(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}(c.rotate,u.rotate,d,f),function o(c,u,d,f){c!==u?f.push({i:d.push(r(d)+"skewX(",null,i)-2,x:Z(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}(c.skewX,u.skewX,d,f),function l(c,u,d,f,w,z){if(c!==d||u!==f){var G=w.push(r(w)+"scale(",null,",",null,")");z.push({i:G-4,x:Z(c,d)},{i:G-2,x:Z(u,f)})}else(1!==d||1!==f)&&w.push(r(w)+"scale("+d+","+f+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(w){for(var P,z=-1,G=f.length;++z<G;)d[(P=f[z]).i]=P.x(w);return d.join("")}}}var ue=Jt(function oe(t){return"none"===t?J:(Nt||(Nt=document.createElement("DIV"),Gt=document.documentElement,ne=document.defaultView),Nt.style.transform=t,t=ne.getComputedStyle(Gt.appendChild(Nt),null).getPropertyValue("transform"),Gt.removeChild(Nt),Ft(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),le=Jt(function re(t){return null!=t&&(se||(se=document.createElementNS("http://www.w3.org/2000/svg","g")),se.setAttribute("transform",t),t=se.transform.baseVal.consolidate())?Ft((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):J},", ",")",")"),_e=h(36175);function M(t,e){var n,i;return function(){var r=D(this,t),s=r.tween;if(s!==n)for(var a=0,o=(i=n=s).length;a<o;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}r.tween=i}}function K(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var s=D(this,t),a=s.tween;if(a!==i){r=(i=a).slice();for(var o={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=o;break}l===c&&r.push(o)}s.tween=r}}function Wt(t,e,n){var i=t._id;return t.each(function(){var r=D(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return st(r,i).value[e]}}function fe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ae(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function xe(){}var Te=1/.7,We="\\s*([+-]?\\d+)\\s*",He="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",he="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ct=/^#([0-9a-f]{3,8})$/,$e=new RegExp("^rgb\\("+[We,We,We]+"\\)$"),qe=new RegExp("^rgb\\("+[he,he,he]+"\\)$"),tn=new RegExp("^rgba\\("+[We,We,We,He]+"\\)$"),Ke=new RegExp("^rgba\\("+[he,he,he,He]+"\\)$"),en=new RegExp("^hsl\\("+[He,he,he]+"\\)$"),un=new RegExp("^hsla\\("+[He,he,he,He]+"\\)$"),Pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function In(){return this.rgb().formatHex()}function Rn(){return this.rgb().formatRgb()}function nn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ct.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?yn(e):3===n?new q(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?C(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?C(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=$e.exec(t))?new q(e[1],e[2],e[3],1):(e=qe.exec(t))?new q(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=tn.exec(t))?C(e[1],e[2],e[3],e[4]):(e=Ke.exec(t))?C(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=en.exec(t))?Mt(e[1],e[2]/100,e[3]/100,1):(e=un.exec(t))?Mt(e[1],e[2]/100,e[3]/100,e[4]):Pn.hasOwnProperty(t)?yn(Pn[t]):"transparent"===t?new q(NaN,NaN,NaN,0):null}function yn(t){return new q(t>>16&255,t>>8&255,255&t,1)}function C(t,e,n,i){return i<=0&&(t=e=n=NaN),new q(t,e,n,i)}function B(t){return t instanceof xe||(t=nn(t)),t?new q((t=t.rgb()).r,t.g,t.b,t.opacity):new q}function q(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function nt(){return"#"+_t(this.r)+_t(this.g)+_t(this.b)}function at(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function _t(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Mt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,i)}function it(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof xe||(t=nn(t)),!t)return new Rt;if(t instanceof Rt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),a=NaN,o=s-r,l=(s+r)/2;return o?(a=e===s?(n-i)/o+6*(n<i):n===s?(i-e)/o+2:(e-n)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new Rt(a,o,l,t.opacity)}function Rt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Pt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function vt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ut(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ft(){}fe(xe,nn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:In,formatHex:In,formatHsl:function On(){return it(this).formatHsl()},formatRgb:Rn,toString:Rn}),fe(q,function N(t,e,n,i){return 1===arguments.length?B(t):new q(t,e,n,null==i?1:i)},Ae(xe,{brighter:function(t){return t=null==t?Te:Math.pow(Te,t),new q(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new q(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nt,formatHex:nt,formatRgb:at,toString:at})),fe(Rt,function Dt(t,e,n,i){return 1===arguments.length?it(t):new Rt(t,e,n,null==i?1:i)},Ae(xe,{brighter:function(t){return t=null==t?Te:Math.pow(Te,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new q(Pt(t>=240?t-240:t+120,r,i),Pt(t,r,i),Pt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ut=1/.7,yt="\\s*([+-]?\\d+)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",p="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F=/^#([0-9a-f]{3,8})$/,gt=new RegExp("^rgb\\("+[yt,yt,yt]+"\\)$"),bt=new RegExp("^rgb\\("+[p,p,p]+"\\)$"),mt=new RegExp("^rgba\\("+[yt,yt,yt,Yt]+"\\)$"),Tt=new RegExp("^rgba\\("+[p,p,p,Yt]+"\\)$"),wt=new RegExp("^hsl\\("+[Yt,p,p]+"\\)$"),St=new RegExp("^hsla\\("+[Yt,p,p,Yt]+"\\)$"),kt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bt(){return this.rgb().formatHex()}function Ye(){return this.rgb().formatRgb()}function Oe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=F.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?be(e):3===n?new Ne(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?rn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?rn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=gt.exec(t))?new Ne(e[1],e[2],e[3],1):(e=bt.exec(t))?new Ne(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=mt.exec(t))?rn(e[1],e[2],e[3],e[4]):(e=Tt.exec(t))?rn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=wt.exec(t))?Jn(e[1],e[2]/100,e[3]/100,1):(e=St.exec(t))?Jn(e[1],e[2]/100,e[3]/100,e[4]):kt.hasOwnProperty(t)?be(kt[t]):"transparent"===t?new Ne(NaN,NaN,NaN,0):null}function be(t){return new Ne(t>>16&255,t>>8&255,255&t,1)}function rn(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ne(t,e,n,i)}function Ei(t){return t instanceof ft||(t=Oe(t)),t?new Ne((t=t.rgb()).r,t.g,t.b,t.opacity):new Ne}function _n(t,e,n,i){return 1===arguments.length?Ei(t):new Ne(t,e,n,null==i?1:i)}function Ne(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function hn(){return"#"+Ln(this.r)+Ln(this.g)+Ln(this.b)}function bn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ln(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Jn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qe(t,e,n,i)}function Ci(t){if(t instanceof Qe)return new Qe(t.h,t.s,t.l,t.opacity);if(t instanceof ft||(t=Oe(t)),!t)return new Qe;if(t instanceof Qe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),a=NaN,o=s-r,l=(s+r)/2;return o?(a=e===s?(n-i)/o+6*(n<i):n===s?(i-e)/o+2:(e-n)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new Qe(a,o,l,t.opacity)}function Qe(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function fr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function fs(t,e,n,i,r){var s=t*t,a=s*t;return((1-3*t+3*s-a)*e+(4-6*s+3*a)*n+(1+3*t+3*s-3*a)*i+a*r)/6}function gr(t){return function(){return t}}function ps(t,e){var n=e-t;return n?function gs(t,e){return function(n){return t+n*e}}(t,n):gr(isNaN(t)?e:t)}vt(ft,Oe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Bt,formatHex:Bt,formatHsl:function pe(){return Ci(this).formatHsl()},formatRgb:Ye,toString:Ye}),vt(Ne,_n,Ut(ft,{brighter:function(t){return t=null==t?ut:Math.pow(ut,t),new Ne(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ne(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hn,formatHex:hn,formatRgb:bn,toString:bn})),vt(Qe,function So(t,e,n,i){return 1===arguments.length?Ci(t):new Qe(t,e,n,null==i?1:i)},Ut(ft,{brighter:function(t){return t=null==t?ut:Math.pow(ut,t),new Qe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Qe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Ne(fr(t>=240?t-240:t+120,r,i),fr(t,r,i),fr(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Ai=function t(e){var n=function Oo(t){return 1==(t=+t)?ps:function(e,n){return n-e?function Io(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):gr(isNaN(e)?n:e)}}(e);function i(r,s){var a=n((r=_n(r)).r,(s=_n(s)).r),o=n(r.g,s.g),l=n(r.b,s.b),c=ps(r.opacity,s.opacity);return function(u){return r.r=a(u),r.g=o(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=t,i}(1);function vs(t){return function(e){var a,o,n=e.length,i=new Array(n),r=new Array(n),s=new Array(n);for(a=0;a<n;++a)o=_n(e[a]),i[a]=o.r||0,r[a]=o.g||0,s[a]=o.b||0;return i=t(i),r=t(r),s=t(s),o.opacity=1,function(l){return o.r=i(l),o.g=r(l),o.b=s(l),o+""}}}vs(function Do(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],s=t[i+1];return fs((n-i/e)*e,i>0?t[i-1]:2*r-s,r,s,i<e-1?t[i+2]:2*s-r)}}),vs(function Po(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e);return fs((n-i/e)*e,t[(i+e-1)%e],t[i%e],t[(i+1)%e],t[(i+2)%e])}});var pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vr=new RegExp(pr.source,"g");function ms(t,e){var i,r,s,n=pr.lastIndex=vr.lastIndex=0,a=-1,o=[],l=[];for(t+="",e+="";(i=pr.exec(t))&&(r=vr.exec(e));)(s=r.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:Z(i,r)})),n=vr.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?function Lo(t){return function(e){return t(e)+""}}(l[0].x):function Ro(t){return function(){return t}}(e):(e=l.length,function(c){for(var d,u=0;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function xs(t,e){var n;return("number"==typeof e?Z:e instanceof nn?Ai:(n=nn(e))?(e=n,Ai):ms)(t,e)}function No(t){return function(){this.removeAttribute(t)}}function ko(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bo(t,e,n){var i,s,r=n+"";return function(){var a=this.getAttribute(t);return a===r?null:a===i?s:s=e(i=a,n)}}function Uo(t,e,n){var i,s,r=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===r?null:a===i?s:s=e(i=a,n)}}function Fo(t,e,n){var i,r,s;return function(){var a,l,o=n(this);return null==o?void this.removeAttribute(t):(a=this.getAttribute(t))===(l=o+"")?null:a===i&&l===r?s:(r=l,s=e(i=a,o))}}function Wo(t,e,n){var i,r,s;return function(){var a,l,o=n(this);return null==o?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(l=o+"")?null:a===i&&l===r?s:(r=l,s=e(i=a,o))}}function $o(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Yo(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Vo(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Yo(t,s)),n}return r._value=e,r}function zo(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&$o(t,s)),n}return r._value=e,r}function Zo(t,e){return function(){j(this,t).delay=+e.apply(this,arguments)}}function jo(t,e){return e=+e,function(){j(this,t).delay=e}}function Xo(t,e){return function(){D(this,t).duration=+e.apply(this,arguments)}}function Qo(t,e){return e=+e,function(){D(this,t).duration=e}}function qo(t,e){if("function"!=typeof e)throw new Error;return function(){D(this,t).ease=e}}var el=h(97905);function sl(t,e,n){var i,r,s=function rl(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(e)?j:D;return function(){var a=s(this,t),o=a.on;o!==i&&(r=(i=o).copy()).on(e,n),a.on=r}}var cl=h(29742),hl=h(32037),fl=L.ZP.prototype.constructor,qn=h(24476);function ys(t){return function(){this.style.removeProperty(t)}}function _l(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function bl(t,e,n){var i,r;function s(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&_l(t,a,n)),i}return s._value=e,s}function Ml(t){return function(e){this.textContent=t.call(this,e)}}function Tl(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Ml(r)),e}return i._value=t,i}var Il=0;function sn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function mr(t){return(0,L.ZP)().transition(t)}function _s(){return++Il}var Nn=L.ZP.prototype;sn.prototype=mr.prototype={constructor:sn,select:function ul(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,cl.Z)(t));for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a)for(var u,d,o=i[a],l=o.length,c=s[a]=new Array(l),f=0;f<l;++f)(u=o[f])&&(d=t.call(u,u.__data__,f,o))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,H(c[f],e,n,f,c,st(u,n)));return new sn(s,this._parents,e,n)},selectAll:function dl(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,hl.Z)(t));for(var i=this._groups,r=i.length,s=[],a=[],o=0;o<r;++o)for(var u,l=i[o],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var w,f=t.call(u,u.__data__,d,l),z=st(u,n),G=0,P=f.length;G<P;++G)(w=f[G])&&H(w,e,n,G,f,z);s.push(f),a.push(u)}return new sn(s,a,e,n)},filter:function nl(t){"function"!=typeof t&&(t=(0,el.Z)(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var l,s=e[r],a=s.length,o=i[r]=[],c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new sn(i,this._parents,this._name,this._id)},merge:function il(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,s=Math.min(i,n.length),a=new Array(i),o=0;o<s;++o)for(var f,l=e[o],c=n[o],u=l.length,d=a[o]=new Array(u),w=0;w<u;++w)(f=l[w]||c[w])&&(d[w]=f);for(;o<i;++o)a[o]=e[o];return new sn(a,this._parents,this._name,this._id)},selection:function gl(){return new fl(this._groups,this._parents)},transition:function Dl(){for(var t=this._name,e=this._id,n=_s(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l,a=i[s],o=a.length,c=0;c<o;++c)if(l=a[c]){var u=st(l,e);H(l,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new sn(i,this._parents,t,n)},call:Nn.call,nodes:Nn.nodes,node:Nn.node,size:Nn.size,empty:Nn.empty,each:Nn.each,on:function al(t,e){var n=this._id;return arguments.length<2?st(this.node(),n).on.on(t):this.each(sl(n,t,e))},attr:function Ho(t,e){var n=(0,_e.Z)(t),i="transform"===n?le:xs;return this.attrTween(t,"function"==typeof e?(n.local?Wo:Fo)(n,i,Wt(this,"attr."+t,e)):null==e?(n.local?ko:No)(n):(n.local?Uo:Bo)(n,i,e))},attrTween:function Go(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=(0,_e.Z)(t);return this.tween(n,(i.local?Vo:zo)(i,e))},style:function yl(t,e,n){var i="transform"==(t+="")?ue:xs;return null==e?this.styleTween(t,function pl(t,e){var n,i,r;return function(){var s=(0,qn.S)(this,t),a=(this.style.removeProperty(t),(0,qn.S)(this,t));return s===a?null:s===n&&a===i?r:r=e(n=s,i=a)}}(t,i)).on("end.style."+t,ys(t)):"function"==typeof e?this.styleTween(t,function ml(t,e,n){var i,r,s;return function(){var a=(0,qn.S)(this,t),o=n(this),l=o+"";return null==o&&(this.style.removeProperty(t),l=o=(0,qn.S)(this,t)),a===l?null:a===i&&l===r?s:(r=l,s=e(i=a,o))}}(t,i,Wt(this,"style."+t,e))).each(function xl(t,e){var n,i,r,o,s="style."+e,a="end."+s;return function(){var l=D(this,t),c=l.on,u=null==l.value[s]?o||(o=ys(e)):void 0;(c!==n||r!==u)&&(i=(n=c).copy()).on(a,r=u),l.on=i}}(this._id,t)):this.styleTween(t,function vl(t,e,n){var i,s,r=n+"";return function(){var a=(0,qn.S)(this,t);return a===r?null:a===i?s:s=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function wl(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,bl(t,e,null==n?"":n))},text:function Al(t){return this.tween("text","function"==typeof t?function Cl(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Wt(this,"text",t)):function El(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function Sl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Tl(t))},remove:function ll(){return this.on("end.remove",function ol(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function Ot(t,e){var n=this._id;if(t+="",arguments.length<2){for(var a,i=st(this.node(),n).tween,r=0,s=i.length;r<s;++r)if((a=i[r]).name===t)return a.value;return null}return this.each((null==e?M:K)(n,t,e))},delay:function Ko(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Zo:jo)(e,t)):st(this.node(),e).delay},duration:function Jo(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xo:Qo)(e,t)):st(this.node(),e).duration},ease:function tl(t){var e=this._id;return arguments.length?this.each(qo(e,t)):st(this.node(),e).ease},end:function Pl(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){0==--r&&s()}};n.each(function(){var c=D(this,i),u=c.on;u!==t&&((e=(t=u).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e})})}};var xr={time:null,delay:0,duration:250,ease:function Ol(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Rl(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return xr.time=(0,m.zO)(),xr;return n}L.ZP.prototype.interrupt=function ct(t){return this.each(function(){$(this,t)})},L.ZP.prototype.transition=function Ll(t){var e,n;t instanceof sn?(e=t._id,t=t._name):(e=_s(),(n=xr).time=(0,m.zO)(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l,a=i[s],o=a.length,c=0;c<o;++c)(l=a[c])&&H(l,t,e,c,a,n||Rl(l,e));return new sn(i,this._parents,t,e)};var ce=h(52016);function kl(t,e){return t.each(function(){var n=e.apply(this,arguments),i=(0,ce.Z)(this);for(var r in n)i.attr(r,n[r])})}function Bl(t,e){for(var n in e)t.attr(n,e[n]);return t}function Fl(t,e,n){return t.each(function(){var i=e.apply(this,arguments),r=(0,ce.Z)(this);for(var s in i)r.style(s,i[s],n)})}function Wl(t,e,n){for(var i in e)t.style(i,e[i],n);return t}function $l(t,e){return t.each(function(){var n=e.apply(this,arguments),i=(0,ce.Z)(this);for(var r in n)i.property(r,n[r])})}function Yl(t,e){for(var n in e)t.property(n,e[n]);return t}function zl(t,e){return t.each(function(){var n=e.apply(this,arguments),i=(0,ce.Z)(this).transition(t);for(var r in n)i.attr(r,n[r])})}function Gl(t,e){for(var n in e)t.attr(n,e[n]);return t}function jl(t,e,n){return t.each(function(){var i=e.apply(this,arguments),r=(0,ce.Z)(this).transition(t);for(var s in i)r.style(s,i[s],n)})}function Kl(t,e,n){for(var i in e)t.style(i,e[i],n);return t}L.ZP.prototype.attrs=function Ul(t){return("function"==typeof t?kl:Bl)(this,t)},L.ZP.prototype.styles=function Hl(t,e){return("function"==typeof t?Fl:Wl)(this,t,null==e?"":e)},L.ZP.prototype.properties=function Vl(t){return("function"==typeof t?$l:Yl)(this,t)},mr.prototype.attrs=function Zl(t){return("function"==typeof t?zl:Gl)(this,t)},mr.prototype.styles=function Xl(t,e){return("function"==typeof t?jl:Kl)(this,t,null==e?"":e)};var ti=h(21046),Ql=h(42625),Jl=h(90733),Je=h.n(Jl),ql=h(12906),tc=h.n(ql),ec=h(78442),nc=h.n(ec),ic=h(90377),Mi=h.n(ic),Ve=h(28249),Ti=h(8537),rc=h(21503),dn=h.n(rc),sc=h(70420),ac=h.n(sc),oc=h(34220),lc=h.n(oc),cc=h(79598),uc=h.n(cc),hc=h(41970),dc=h.n(hc);function yr(t){if(!ac()(t,"var("))return t;const e=lc()(uc()(dc()(t,"var("),")"));return getComputedStyle(document.body).getPropertyValue(e)}class bs{constructor(e,n){this.sourceProvider=e,this.fn=n,this.get=i=>{const r=this.sourceProvider.get(i);if(!r)throw new Error("clr is not defined");let s=this.processedColors[r];return s||(s=this.fn(r),this.processedColors[r]=s),s},this.reset()}reset(){this.processedColors={}}}class ws{constructor(e){this.values=e,this.get=n=>{let i=this.providedValues[n];if(!i){const r=++this.lastUsedIndex%this.values.length;i=this.values[r],this.providedValues[n]=i}return i},this.reset()}reset(){this.providedValues={},this.lastUsedIndex=-1}}class _r extends ws{constructor(e){super(e),this.colors=e}}const br=1/12.92;class vc extends bs{constructor(e,n){super(e,i=>{const r=yr(i),s=(0,Ti.B8)(r),a=this.getContrastRatio(s,(0,Ti.B8)(n.light));return this.getContrastRatio(s,(0,Ti.B8)(n.dark))>a?n.dark:n.light})}getContrastRatio(e,n){const i=this.getRelativeLuminance(e),r=this.getRelativeLuminance(n);let s,a;return i>r?(s=i,a=r):(s=r,a=i),(s+.05)/(a+.05)}getRelativeLuminance(e){const n=e.r/255,i=e.g/255,r=e.b/255;return.2126*(n<=.03928?n*br:this.adjustGamma(n))+.7152*(i<=.03928?i*br:this.adjustGamma(i))+.0722*(r<=.03928?r*br:this.adjustGamma(r))}adjustGamma(e){return Math.pow((e+.055)/1.055,2.4)}}class wr{constructor(e,n={backgroundOpacity:.15}){this._standardColors=dn()(e)?new _r(e):e,this._textColors=new vc(this.standardColors,{light:"white",dark:"black"}),this._backgroundColors=new bs(this.standardColors,i=>{const r=yr(i),s=(0,Ti.B8)(r);return s.opacity=n.backgroundOpacity,s.toString()})}get standardColors(){return this._standardColors}get backgroundColors(){return this._backgroundColors}get textColors(){return this._textColors}}var mc=h(34235),qt=h.n(mc);class Es{constructor(e){this.svg=e}getSvg(){return this.styledSvg||this.svg}setColor(e){this.styledSvg=qt()(e)?e:`<g fill="${e}">${this.svg}</g>`}}const Er=["var(--nui-color-chart-one)","var(--nui-color-chart-two)","var(--nui-color-chart-three)","var(--nui-color-chart-four)","var(--nui-color-chart-five)","var(--nui-color-chart-six)","var(--nui-color-chart-seven)","var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"],xc=["var(--nui-color-chart-one)","var(--nui-color-chart-one-light)","var(--nui-color-chart-two)","var(--nui-color-chart-two-light)","var(--nui-color-chart-three)","var(--nui-color-chart-three-light)","var(--nui-color-chart-four)","var(--nui-color-chart-four-light)","var(--nui-color-chart-five)","var(--nui-color-chart-five-light)","var(--nui-color-chart-six)","var(--nui-color-chart-six-light)","var(--nui-color-chart-seven)","var(--nui-color-chart-seven-light)","var(--nui-color-chart-eight)","var(--nui-color-chart-eight-light)","var(--nui-color-chart-nine)","var(--nui-color-chart-nine-light)","var(--nui-color-chart-ten)","var(--nui-color-chart-ten-light)"],yc=["var(--nui-color-semantic-down)","var(--nui-color-semantic-critical)","var(--nui-color-semantic-warning)","var(--nui-color-semantic-unknown)","var(--nui-color-semantic-ok)","var(--nui-color-semantic-info)"],Cs=["m0 0m-4 0a4 4 0 1 0 8 0 4 4 0 1 0-8 0z","m-4,-4l8,0l0,8l-8,0l0,-8z","m0-4 4 8-8 0z","m0-4.95 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8 0z","m0-3.805 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703z"],Cr=[...Cs.map(t=>`<path class="nui-chart--path__outline" d="${t}"></path>`),...["m0 2c1.105 0 2-.895 2-2 0-1.105-.895-2-2-2-1.105 0-2 .895-2 2 0 1.105.895 2 2 2zm0 2c-2.209 0-4-1.791-4-4 0-2.209 1.791-4 4-4 2.209 0 4 1.791 4 4 0 2.209-1.791 4-4 4z","m-2-2 0 4 4 0 0-4-4 0zm-2-2 8 0 0 8-8 0 0-8z","m0-4-4 8 8.001 0-4.001-8zm0 3.354 1.573 3.146-3.145 0 1.572-3.146z","m0-2.121-2.121 2.121 2.121 2.121 2.121-2.121-2.121-2.121zm0-2.828 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8.001 0-4.001 8zm0-3.354 1.573-3.146-3.145 0 1.572 3.146z","m0-1.951-2.237 1.626.855 2.63 2.766 0 .855-2.63-2.237-1.626zm0-1.854 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703 4.001-2.907z"].map((t,e)=>`<path class="nui-chart--path__outline-fill" stroke="none" d="${Cs[e]}"></path>\n            <path class="nui-chart--path__outline" d="${t}"></path>`)].map(t=>new Es(t));class Ar extends ws{constructor(e){super(e),this.markers=e}}function ei(){return new _r(Er)}function Si(){return new Ar(Cr)}class Mr{constructor(e=ei(),n=Si()){this.colorProvider=e,this.markerProvider=n,this.data={x:(i,r,s,a)=>i.x,x0:(i,r,s,a)=>this.data.x(i,r,s,a),x1:(i,r,s,a)=>this.data.x(i,r,s,a),y:(i,r,s,a)=>i.y,y0:(i,r,s,a)=>this.data.y(i,r,s,a),y1:(i,r,s,a)=>this.data.y(i,r,s,a),absoluteX0:(i,r,s,a)=>{var o,l;return null!==(l=null===(o=i.__stack_x)||void 0===o?void 0:o.start)&&void 0!==l?l:this.data.x0(i,r,s,a)},absoluteX1:(i,r,s,a)=>{var o,l;return null!==(l=null===(o=i.__stack_x)||void 0===o?void 0:o.end)&&void 0!==l?l:this.data.x1(i,r,s,a)},absoluteY0:(i,r,s,a)=>{var o,l;return null!==(l=null===(o=i.__stack_y)||void 0===o?void 0:o.start)&&void 0!==l?l:this.data.y0(i,r,s,a)},absoluteY1:(i,r,s,a)=>{var o,l;return null!==(l=null===(o=i.__stack_y)||void 0===o?void 0:o.end)&&void 0!==l?l:this.data.y1(i,r,s,a)}},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}class As extends class wc{constructor(){}}{constructor(e=ei(),n=Si()){super(),this.colorProvider=e,this.markerProvider=n,this.data={value:i=>i.value,category:(i,r,s,a)=>i.category?i.category:this.series.category?this.series.category(a.id,a):null,start:(i,r,s,a)=>{if(i.__bar)return i.__bar.start;if(void 0!==i.start)return i.start;const o=this.getSingleValue(i,r,s,a);return Number.isFinite(o)?Math.min(0,o):null},end:(i,r,s,a)=>{if(i.__bar)return i.__bar.end;if(void 0!==i.end)return i.end;const o=this.getSingleValue(i,r,s,a);return Number.isFinite(o)?Math.max(0,o):null}},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0,category:(i,r)=>r.name||r.id}}getSingleValue(e,n,i,r){let s;return this.data.value&&(s=this.data.value(e,n,i,r),void 0===s&&(s=e)),s}}class ni extends As{constructor(e,n){super(e,n),this.data=Object.assign(Object.assign({},this.data),{startX:(i,r,s,a)=>this.data.start(i,r,s,a),endX:(i,r,s,a)=>this.data.end(i,r,s,a),startY:(i,r,s,a)=>this.data.category(i,r,s,a),endY:(i,r,s,a)=>this.data.category(i,r,s,a),thicknessY:(i,r,s,a)=>this.data.thickness?this.data.thickness(i,r,s,a):void 0})}}class kn{constructor(e){this.barAccessors=e,e.data.status=n=>n.status}get data(){return this.barAccessors.data}get series(){return this.barAccessors.series}}function Ms(t,e){const n=new kn(new ni(t,e));return n.data.color=(i,r,s,a)=>t.get(n.data.status(i,r,s,a)),n.data.category=()=>kn.STATUS_CATEGORY,n}kn.STATUS_CATEGORY="status",kn.STATUS_DOMAIN=[kn.STATUS_CATEGORY];var we=h(62225),Ec=0;function Ts(){return new Tr}function Tr(){this._="@"+(++Ec).toString(36)}Tr.prototype=Ts.prototype={constructor:Tr,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Cc=h(69754),an=h.n(Cc),Ac=h(22274),Sr=h.n(Ac),Mc=h(30836),Di=h.n(Mc),pt=h(92893);function Bn(t,e,n=.5,i=Number.MAX_VALUE){if(!t)return 0;if(!(0,Ve.oT)(t))return t.convert(e);const r=t;if(!dn()(e))return r.convert(e,n);const s=e;return 1===s.length||!r.innerScale||i<=1?r.convert(s[0],n):r.convert(s[0],0)+Bn(r.innerScale,s.slice(1),n,i-1)}var $t=h(68208),Ss=h(2158),Tc=h(32608),Sc=h.n(Tc),Dc=h(71973),Ge=h.n(Dc);function Ds(t,e){if(!t)return 0;const n=t.invert(e);if(!(0,Ve.oT)(t)||qt()(n))return n;if(!t.innerScale)return n;const r=Ds(t.innerScale,e-t.convert(n,0));return dn()(r)?[n,...r]:[n,r]}class De{static getValueAccessor(e,n){const i=e(n,0);if("number"==typeof i||"string"==typeof i)return e;if(i.valueOf&&"number"==typeof i.valueOf())return(r,s)=>e(r,s).valueOf();throw new Error("Value in the data series does not return numeric valueOf().")}static getClosestIndex(e,n,i){if(1===e.length)return 0;if(0===e.length)return;const r=De.getValueAccessor(n,e[0]);if("string"==typeof i)return e.findIndex(o=>r(o,0)===i);let s=this.findNearestIndex(e,i,n);return s=s>0?s-1:s,s=s>=e.length-1&&1!==e.length?e.length-2:s,s+De.getCloser(r(e[s],s),r(e[s+1],s+1),i)}static getCloser(e,n,i){return Math.abs(i-e)<=Math.abs(i-n)?0:1}static clampToRange(e,n){return e<n[0]?n[0]:e>n[1]?n[1]:e}static uuid(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===i?r:3&r|8).toString(16)})}static cssEscape(e){if(0===arguments.length)throw new TypeError("`cssEscape` requires an argument.");const n=String(e),i=n.length;let s,r=-1,a="";const o=n.charCodeAt(0);for(;++r<i;)s=n.charCodeAt(r),a+=0!==s?s>=1&&s<=31||127===s||0===r&&s>=48&&s<=57||1===r&&s>=48&&s<=57&&45===o?"\\"+s.toString(16)+" ":0===r&&1===i&&45===s||!(s>=128||45===s||95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122)?"\\"+n.charAt(r):n.charAt(r):"\ufffd";return a}static findNearestIndex(e,n,i=Sc()){let r=0,s=null==e?r:e.length;for(;r<s;){const a=r+s>>>1,o=i(e[a],a);null!==o&&o<n?r=a+1:s=a}return Math.round(r)}static getXYValues(e,n,i,r){const s=De.getScaleValues(e,i),a=De.getScaleValues(n,r),o={};return Ge()(s)||(o.x=s),Ge()(a)||(o.y=a),o}static getScaleValues(e,n){return e.reduce(function i(r,s){const a=Ds(s,n);return qt()(a)||(r[s.id]=a),r},{})}static getInteractionValues(e,n){var i;return e?null!==(i=e[n])&&void 0!==i?i:Object.values(e)[0]:null}}class ii extends Ss.T{draw(e,n){}getDataPointPosition(e,n,i){var r,s;if(n<0||n>=e.data.length)return;const a=e.data[n];if(!(null===(r=e.accessors.data)||void 0===r?void 0:r.x)||!(null===(s=e.accessors.data)||void 0===s?void 0:s.y))throw new Error("Can't get dataPointPosition");return{x:i.x.convert(e.accessors.data.x(a,n,e.data,e)),y:i.y.convert(e.accessors.data.y(a,n,e.data,e))}}getDataPointIndex(e,n,i){if(qt()(n.x))return pt.Vg;const r=De.getClosestIndex(e.data,(s,a)=>{var o,l;return null===(l=null===(o=e.accessors.data)||void 0===o?void 0:o.x)||void 0===l?void 0:l.call(o,s,a,e.data,e)},n.x);if(qt()(r))throw new Error("Unable to get data point index");return r}}let ri=(()=>{class t extends ii{constructor(n={}){super(n),this.config=n,this.DEFAULT_CONFIG={transitionDuration:300,padding:1,barClass:"bar-outline",highlightStrategy:void 0,pointerEvents:!0,enableMinBarThickness:!0},this.barContainerClass="bar-container",this.config=an()(this.config,this.DEFAULT_CONFIG)}draw(n,i){var r,s,a;const o=n.containers[$t.n.data],l=n.dataSeries,c=l.accessors,u=this.getAttrsGenerator(l,n.scales),d=Ts(),f=o.selectAll(`g.${this.barContainerClass}`).data(l.data);f.exit().remove();const w=f.enter().append("g").classed(this.barContainerClass,!0);w.append("rect").on("click",(G,P)=>{this.emitBarClick(n,G,P,i)}),w.merge(f).property(d,(G,P)=>u(G,P)).select("rect").attr("class",(G,P)=>`${t.BAR_RECT_CLASS} ${this.config.barClass}${this.config.pointerEvents?" pointer-events":""}`+((G,P)=>{var et;return void 0!==(null===(et=c.data)||void 0===et?void 0:et.cssClass)&&" "+c.data.cssClass(G,P,l.data,l)||""})(G,P)).style("cursor",null!==(r=this.config.cursor)&&void 0!==r?r:"").style("stroke-width",null!==(a=null===(s=this.config)||void 0===s?void 0:s.strokeWidth)&&void 0!==a?a:"").style("fill",(G,P)=>{var et,rt;return c.data.color?c.data.color(G,P,l.data,l):null===(rt=(et=c.series).color)||void 0===rt?void 0:rt.call(et,l.id,l)}).attrs(function(){return d.get(this)}).select("rect").style("fill",(G,P)=>{var et,rt;return c.data.color?c.data.color(G,P,l.data,l):null===(rt=(et=c.series).color)||void 0===rt?void 0:rt.call(et,l.id,l)}).attrs(d.get),c.data.marker&&(w.append("g").classed("bar-icon",!0),w.merge(f).select("g.bar-icon").html(function(G,P){var et,rt;const lt=d.get(this);if(!lt||qt()(null==lt?void 0:lt.height)||qt()(null==lt?void 0:lt.width))throw new Error("barSize is undefined");if(Math.min(lt.height,lt.width)-1>=t.MIN_BAR_SIZE_FOR_ICON)return null===(rt=(et=c.data).marker)||void 0===rt?void 0:rt.call(et,G,P,l.data,l)}).attr("transform",function(){const G=d.get(this);if(!G||qt()(null==G?void 0:G.height)||qt()(null==G?void 0:G.width))throw new Error("barAttrs is undefined");return`translate(${G.x+G.width/2}, ${G.y+G.height/2})`}))}getDataPointIndex(n,i,r){return this.config.highlightStrategy?this.config.highlightStrategy.getDataPointIndex(this,n,i,r):pt.Vg}highlightDataPoint(n,i,r){this.config.highlightStrategy&&this.config.highlightStrategy.highlightDataPoint(this,n,i,r)}getDataPointPosition(n,i,r){const s=n.data[i];return s&&this.getAttrsGenerator(n,r)(s,i)}getDataPoint(n,i,r){return{seriesId:n.dataSeries.id,dataSeries:n.dataSeries,index:r,data:i,position:i?this.getDataPointPosition(n.dataSeries,r,n.scales):void 0}}filterDataByDomain(n){return n}getDomain(n,i,r,s){const a=i.accessors.data,o=r.toUpperCase(),l=c=>(u,d,f)=>{var w;return null===(w=a[c+o])||void 0===w?void 0:w.call(a,u,d,Array.from(f),i)};if(s.isContinuous())return n&&0!==n.length?[(0,we.VV)(n,l("start")),(0,we.Fp)(n,l("end"))]:Ve.iz;{const c=n&&n.length>0?n.map(l("start")):[],u=Math.max(...c.map(d=>dn()(d)?d.length:-1));return u>=0?Array.from(Array(u)).map((d,f)=>{const w=c.map(z=>f<z.length?z[f]:[]);return Di()(Sr()(w))}):[Di()(c)]}}emitBarClick(n,i,r,s){s.next({eventName:pt.q7,data:this.getDataPoint(n,i,r)})}getAttrsGenerator(n,i){const r=n.accessors.data;return(s,a)=>{const o=this.getDimensions(r,s,a,n,i.x,"X"),l=this.getDimensions(r,s,a,n,i.y,"Y");return{x:o.start,width:o.thickness,y:l.start,height:l.thickness}}}getDimensions(n,i,r,s,a,o){let l,c;const u=n["thickness"+o],d=s.accessors.data["start"+o],f=s.accessors.data["end"+o];if(c=null==u?void 0:u(i,r,s.data,s),qt()(c)){if(!d||!f)throw new Error("Can't compute dimensions");const w=Bn(a,d(i,r,s.data,s),0),z=Bn(a,f(i,r,s.data,s),1);if(l=Math.min(w,z),c=Math.abs(w-z),(0,Ve.oT)(a)){if(qt()(this.config.padding))throw new Error("Config is not defined");l+=this.config.padding,c-=2*this.config.padding}this.config.enableMinBarThickness&&(c=Math.max(c,t.MIN_BAR_THICKNESS))}else{if(!d)throw new Error("Can't compute dimensions");l=Bn(a,d(i,r,s.data,s),.5)-c/2}return{start:l,thickness:c}}}return t.THICK=11,t.THIN=3,t.MIN_BAR_SIZE_FOR_ICON=10,t.MIN_BAR_THICKNESS=2,t.BAR_RECT_CLASS="bar",t})();const Pr={stateStyles:{[$t.L.default]:{opacity:0},[$t.L.hidden]:{opacity:0},[$t.L.deemphasized]:{opacity:0},[$t.L.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},Pc={stateStyles:{[$t.L.default]:{opacity:.3},[$t.L.hidden]:{opacity:0},[$t.L.deemphasized]:{opacity:0},[$t.L.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},Pi={enabled:!1,clickable:!1},Ii="gauge-threshold-marker";class Ps{constructor(){this.data={x:e=>e.x,y:e=>e.y}}}class Is extends Ps{constructor(e=ei(),n=Si()){super(),this.colorProvider=e,this.markerProvider=n,this.data.defined=(i,r)=>!i.hasOwnProperty("defined")||i.defined,this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}function Os(t){this._context=t}function Oi(t){return new Os(t)}Os.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Rs=h(73066),Me=h(21456);function Ls(t){return t[0]}function Ns(t){return t[1]}function Ir(){var t=Ls,e=Ns,n=(0,Me.Z)(!0),i=null,r=Oi,s=null;function a(o){var l,u,f,c=o.length,d=!1;for(null==i&&(s=r(f=(0,Rs.Z)())),l=0;l<=c;++l)!(l<c&&n(u=o[l],l,o))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+t(u,l,o),+e(u,l,o));if(f)return s=null,f+""||null}return a.x=function(o){return arguments.length?(t="function"==typeof o?o:(0,Me.Z)(+o),a):t},a.y=function(o){return arguments.length?(e="function"==typeof o?o:(0,Me.Z)(+o),a):e},a.defined=function(o){return arguments.length?(n="function"==typeof o?o:(0,Me.Z)(!!o),a):n},a.curve=function(o){return arguments.length?(r=o,null!=i&&(s=r(i)),a):r},a.context=function(o){return arguments.length?(null==o?i=s=null:s=r(i=o),a):i},a}function ks(t,e){const n=t.range().map(s=>s),i=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return e>=i&&e<=r}var de=h(13431);let Bs=(()=>{class t{static manageMarker(n,i,r,s,a,o=Pi){var l,c,u;if(!s)throw new Error("Container doesn't exist!");if(0===n.data.length)return void t.removeMarker(s);const d=n.accessors;r<0&&(r=n.data.length-1);const f=n.data[r];if(!(null===(l=d.data)||void 0===l?void 0:l.x)||!d.data.y)throw new Error("Color or marker are undefined");const w=i.x.convert(d.data.x(f,r,n.data,n)),z=i.y.convert(d.data.y(f,r,n.data,n));if(void 0!==w&&void 0!==z&&ks(i.x,w)&&ks(i.y,z)){const G=n.id,P={index:r,data:f,seriesId:G,position:{x:w,y:z},dataSeries:n};if(!(null===(c=d.series)||void 0===c?void 0:c.marker)||!(null===(u=d.series)||void 0===u?void 0:u.color))throw new Error("Color or marker are undefined");t.drawMarker(P,d.series.marker(G,n),d.series.color(G,n),s,a,t.DEFAULT_MARKER_CONTAINER_CLASS,o)}else t.removeMarker(s)}static drawMarker(n,i,r,s,a,o=t.DEFAULT_MARKER_CONTAINER_CLASS,l=Pi){var c,u,d,f,w;let z=s.select(`g.${o}`);const et={transform:`translate(${null===(c=null==n?void 0:n.position)||void 0===c?void 0:c.x}, ${null===(u=null==n?void 0:n.position)||void 0===u?void 0:u.y})`,cursor:"crosshair"};z.empty()&&(z=s.append("g").classed(`${o}${l.enabled?" pointer-events":""}${l.enabled&&l.clickable?" pointer-events-click":""}`,!0)),i.setColor(r),z.attrs(et),z.on("mouseenter",()=>{a.next({eventName:pt.gA,data:{interactionType:de.s.Hover,dataPoint:n}})}),z.on("mouseleave",()=>{a.next({eventName:pt.gA,data:{interactionType:de.s.Hover,dataPoint:Object.assign(Object.assign({},n),{index:pt.Vg})}})}),z.on("click",()=>{a.next({eventName:pt.gA,data:{interactionType:de.s.Click,dataPoint:n}})}),!z.selectAll("g > *").size()&&z.node()&&(null===(d=z.node())||void 0===d||d.appendChild(ti.fK2.getSvgFromString(i.getSvg())),z.select("path").classed(t.MARKER_PATH_CLASS,!0));const xt=z.select("path").node();if(xt&&l.enabled){const Lt=xt.getBoundingClientRect();xt.setAttribute("x",Math.ceil((null===(f=null==n?void 0:n.position)||void 0===f?void 0:f.x)-Lt.width/2).toString()),xt.setAttribute("y",Math.ceil((null===(w=null==n?void 0:n.position)||void 0===w?void 0:w.y)-Lt.height/2).toString())}}static removeMarker(n,i=t.DEFAULT_MARKER_CONTAINER_CLASS){n.select(`g.${i}`).remove()}}return t.DEFAULT_MARKER_CONTAINER_CLASS="marker",t.MARKER_PATH_CLASS="marker-path",t})(),Ri=(()=>{class t extends ii{constructor(n={}){super(n),this.config=n,this.DEFAULT_CONFIG={strokeWidth:2,curveType:Oi,interactive:!0,strokeStyle:"",strokeLinecap:"round",markerInteraction:Pi,useEnhancedLineCaps:!1,enhancedLineCap:{radius:3}},this.config=an()(this.config,this.DEFAULT_CONFIG)}static getStrokeStyleDashed(n){const i=2*n;return`${i},${i}`}static getStrokeStyleDotted(n){return`${n},${n}`}draw(n,i){var r,s,a,o,l;const c=n.containers[$t.n.data],u=null===(s=(r=n.dataSeries.accessors.series).color)||void 0===s?void 0:s.call(r,n.dataSeries.id,n.dataSeries);let d=c.select("path.main");d.empty()&&(d=c.append("path").classed("main",!0).attrs({stroke:null!=u?u:null,"stroke-width":null!==(a=this.config.strokeWidth)&&void 0!==a?a:null,"stroke-dasharray":null!==(o=this.config.strokeStyle)&&void 0!==o?o:null,"stroke-linecap":null!==(l=this.config.strokeLinecap)&&void 0!==l?l:null,fill:"none"})),this.drawLine(n,d),this.config.interactionStrategy&&this.config.interactionStrategy.draw(this,n,i)}isInfiniteLineData(n){const i=n.dataSeries;return 1===i.data.length&&void 0===i.accessors.data.x(i.data[0],0,i.data,i)}drawLine(n,i){this.isInfiniteLineData(n)?this.drawInfiniteLine(n,i):this.drawStandardLine(n,i)}highlightDataPoint(n,i,r){if(!this.config.interactive)return;const s=n.dataSeries;!s.accessors.series.marker||Bs.manageMarker(s,n.scales,i,n.containers[$t.n.foreground],r,this.config.markerInteraction)}getRequiredLayers(){return[pt.rz[$t.n.data],pt.rz[$t.n.foreground],pt.rz[$t.n.unclippedData]]}getDataPointPosition(n,i,r){return super.getDataPointPosition(n,i,r)}drawStandardLine(n,i){var r,s;const a=n.dataSeries,o=a.accessors;let l=!1;const c=a.data.filter((d,f)=>{const w=void 0!==o.data.x(d,f,a.data,a)&&void 0!==o.data.y(d,f,a.data,a);return!w&&!l&&(console.warn("Data point",d,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x:",o.data.x),console.warn(" -> accessors.data.y:",o.data.y),l=!0),w});if(!this.config.curveType)throw new Error("curveType is not defined");const u=Ir().x((d,f)=>n.scales.x.convert(o.data.x(d,f,a.data,a))).y((d,f)=>n.scales.y.convert(o.data.y(d,f,a.data,a))).defined((d,f)=>!o.data.defined||o.data.defined(d,f,a.data,a)).curve(this.config.curveType);i.attr("d",null!==(r=u(c))&&void 0!==r?r:""),this.config.useEnhancedLineCaps&&this.updateLineCaps(c,n,(null===(s=this.config.enhancedLineCap)||void 0===s?void 0:s.fill)||i.attr("stroke"))}drawInfiniteLine(n,i){const r=n.dataSeries,a=n.scales.y.convert(r.accessors.data.y(r.data[0],0,r.data,r)),o=[[n.scales.x.range()[0],a],[n.scales.x.range()[1],a]],c=Ir().x(u=>u[0]).y(u=>u[1])(o);if(!c)throw new Error("Line cannot be computed");i.attr("shape-rendering","crispEdges").attr("d",c)}updateLineCaps(n,i,r){var s,a,o;const l=i.dataSeries,c=l.accessors,u=n.filter((z,G)=>{var P,et;return!(null===(P=null==c?void 0:c.data)||void 0===P?void 0:P.defined)||(null===(et=null==c?void 0:c.data)||void 0===et?void 0:et.defined(z,G,l.data,l))}),d=(z,G)=>i.scales.x.convert(c.data.x(z,G,l.data,l)),f=(z,G)=>i.scales.y.convert(c.data.y(z,G,l.data,l)),w=i.containers[$t.n.unclippedData].selectAll(`.${t.LINE_CAP_CLASS_NAME}`).data(u).attr("cx",d).attr("cy",f);w.enter().append("circle").attr("class",t.LINE_CAP_CLASS_NAME).attr("r",null===(s=this.config.enhancedLineCap)||void 0===s?void 0:s.radius).attr("cx",d).attr("cy",f).style("stroke-width",null===(a=this.config.enhancedLineCap)||void 0===a?void 0:a.strokeWidth).style("fill",r).style("stroke",null===(o=this.config.enhancedLineCap)||void 0===o?void 0:o.stroke),w.exit().remove()}}return t.UNCLIPPED_DATA_LAYER_NAME="unclipped-data",t.LINE_CAP_CLASS_NAME="nui-chart-line-cap",t})();var si=(()=>((si||(si={})).Grayscale="grayscale",si))();const Ic=`url("#${si.Grayscale}")`;class Rc{constructor(){this.data={active:e=>e.active},this.series={start:()=>null,end:()=>null,activeColor:()=>"magenta"}}}let Lc=(()=>{class t extends ii{constructor(n={}){super(n),this.DEFAULT_CONFIG={},this.config=an()(this.config,this.DEFAULT_CONFIG)}draw(n,i){const r=n.containers[$t.n.unclippedData],s=n.dataSeries,a=n.scales,o=n.dataSeries.accessors;let l=r.select("rect");const c=s.data.length>0&&o.data.active(s.data[0],0,n.dataSeries.data,n.dataSeries),u=!c&&o.series.inactiveColor?o.series.inactiveColor:o.series.activeColor;l.empty()&&(l=r.append("rect").attrs({fill:u(s.id,s)}),!c&&!o.series.inactiveColor&&l.style("filter",Ic));const d=o.series.start(s.id,s),f=o.series.end(s.id,s),w=null==f?0:a.y.convert(f),G=(null==d?a.y.range()[0]:Math.min(a.y.range()[0],a.y.convert(d)))-w;l.attrs({x:-2,y:w,height:G<0?0:G,width:2})}getDataPointIndex(n,i,r){return-1}getRequiredLayers(){return[pt.rz[$t.n.unclippedData]]}}return t.SIDE_INDICATORS_LAYER="side-indicators",t})();var Un=(()=>{return(t=Un||(Un={})).Start="start",t.End="end",Un;var t})(),Li=h(5e3);let Us=(()=>{class t{constructor(n){this.loggerService=n}injectThresholdsData(n,i){const r={};i.forEach(s=>s.entered=!1);for(let s=0;s<n.data.length;s++){const a=n.data[s],o=n.accessors.data.x(a,s,n.data,n),l=n.accessors.data.y(a,s,n.data,n);a.__thresholds={};const c=this.getZoneByXY(i,r,o,l);c&&(c.entered=!0,a.__thresholds.status=c.value)}}getBackgrounds(n,i,r,s,a={},o=Je()(Pr)){let l;n.data.length>0&&void 0===n.data[0].__thresholds&&this.loggerService.warn("Thresholds metadata is not defined on provided data series",n);const c=Ms(s);return c.data.thickness=u=>a[u.status],(0,Ve.oT)(r.x)?(l=Je()(n.data),c.data.start=n.accessors.data.x,c.data.end=n.accessors.data.x,c.data.color=u=>u.__thresholds&&u.__thresholds.status?s.get(u.__thresholds.status):"transparent",c.data.thickness=u=>a[u.__thresholds.status]):l=this.getBackgroundsDataForContinuousScale(n,i),{id:n.id+t.SERIES_ID_SUFFIX,data:l,accessors:c,scales:r,renderer:new ri(o),showInLegend:!1}}getBackgroundsDataForContinuousScale(n,i){var r;const s=[],a=this.getBreakPoints(n,i),o={};for(let l=0;l<a.length-1;l++){const c=a[l],u=a[l+1];if(!c||!u)throw new Error("p1 or p2 are undefined");const d={x:(c.x+u.x)/2,y:(c.y+u.y)/2},f=this.getZoneByXY(i,o,d.x,d.y);if(f){const w=s[s.length-1];w&&(null===(r=w.end)||void 0===r?void 0:r.valueOf())===c.x&&w.status===f.value?w.end=new Date(u.x):s.push({status:f.value,start:new Date(c.x),end:new Date(u.x)})}}return s}getBreakPoints(n,i){var r,s,a,o;const l=n.accessors.data;let c=[];for(let u=0;u<n.data.length-1;u++){const d=n.data[u],f=n.data[u+1],w={x:l.x(d,u,n.data,n).valueOf(),y:l.y(d,u,n.data,n).valueOf()},z={x:l.x(f,u+1,n.data,n).valueOf(),y:l.y(f,u+1,n.data,n).valueOf()};for(let G=0;G<i.length;G++){const P=i[G],et=null===(s=(r=P.accessors.data).start)||void 0===s?void 0:s.call(r,P.data[0],0,P.data,P),rt=null===(o=(a=P.accessors.data).end)||void 0===o?void 0:o.call(a,P.data[0],0,P.data,P),lt=[et,rt].map(xt=>this.getCrossPointWithY(w,z,xt)).filter(xt=>xt);[w,z].forEach(xt=>{(xt.y===et||xt.y===rt)&&(xt.isZoneEdge=!0)}),c=nc()(c,lt,[w,z],(xt,Lt)=>(null==xt?void 0:xt.x)===(null==Lt?void 0:Lt.x)&&(null==xt?void 0:xt.isZoneEdge)===(null==Lt?void 0:Lt.isZoneEdge))}}return tc()(c,"x")}getThresholdZones(n,i,r){const s=new Mr;return s.data.start=a=>a.start,s.data.end=a=>a.end,s.series.color=(a,o)=>r.get(o.value),i.map((a,o)=>({id:n.id+"__"+a.status+"-"+o,value:a.status,data:[{start:a.start,end:a.end}],scales:n.scales,accessors:s}))}getThresholdLines(n){if(-1===n.findIndex(s=>s.entered))return[];const i={};function r(s,a,o){const l=s(a.data[0],0,a.data,a);void 0!==l&&void 0===i[l]&&(i[l]={series:a,accessor:s,zoneBoundary:o})}for(const s of n)s.accessors.data.start&&s.accessors.data.end&&(r(s.accessors.data.start,s,Un.Start),r(s.accessors.data.end,s,Un.End));return Mi()(i).map(s=>this.getThresholdLine(s.series,s.accessor,s.zoneBoundary))}getThresholdLine(n,i,r=Un.Start){const s=new Is;s.data.y=i,s.series.color=n.accessors.series.color;const a=new Ri({interactive:!1,strokeWidth:1,strokeStyle:Ri.getStrokeStyleDashed(1),stateStyles:Je()(Pr.stateStyles),ignoreForDomainCalculation:!0});return{id:`${n.id}__${r}__threshold-line`,data:n.data,value:n.value,accessors:s,renderer:a,scales:n.scales,showInLegend:!1}}getCrossPoint(n,i,r,s){const a_x=i.x-n.x,a_y=i.y-n.y,o_x=s.x-r.x,o_y=s.y-r.y,l=(-a_y*(n.x-r.x)+a_x*(n.y-r.y))/(-o_x*a_y+a_x*o_y),c=(o_x*(n.y-r.y)-o_y*(n.x-r.x))/(-o_x*a_y+a_x*o_y);if(l>=0&&l<=1&&c>=0&&c<=1)return{x:n.x+c*a_x,y:n.y+c*a_y}}getZoneByXY(n,i,r,s){var a,o;for(const l of n){i[l.id]||(i[l.id]=0);const c=this.moveZoneIndex(i[l.id],l,r);i[l.id]=c;const u=l.data[c],d=l.accessors.data,f=null===(a=d.start)||void 0===a?void 0:a.call(d,u,c,l.data,l),w=null===(o=d.end)||void 0===o?void 0:o.call(d,u,c,l.data,l);if((void 0===f||s>=f)&&(void 0===w||s<=w))return l}return null}moveZoneIndex(n,i,r){for(;n<i.data.length-1&&i.accessors.data.x(i.data[n+1],n+1,i.data,i)<r;)n++;return n}getCrossPointWithY(n,i,r){return this.getCrossPoint(n,i,{x:n.x,y:r},{x:i.x,y:r})}getSideIndicators(n,i,r){const s=[],a=new Lc(r||Je()(Pr)),o=-1!==n.findIndex(l=>l.entered);for(const l of n){const c=new Rc;c.series={start:()=>{var d,f;return null===(f=(d=l.accessors.data).start)||void 0===f?void 0:f.call(d,l.data[0],0,l.data,l)},end:()=>{var d,f;return null===(f=(d=l.accessors.data).end)||void 0===f?void 0:f.call(d,l.data[0],0,l.data,l)},activeColor:()=>{var d,f;return null===(f=(d=l.accessors.series).color)||void 0===f?void 0:f.call(d,l.id,l)}},s.push({id:l.id+"__side-indicator",data:[{active:o}],accessors:c,scales:i,renderer:a,showInLegend:!1})}return s}}return t.SERIES_ID_SUFFIX="__thresholds-background",t.\u0275fac=function(n){return new(n||t)(Li.LFG(ti.mQy))},t.\u0275prov=Li.Yz7({token:t,factory:t.\u0275fac}),t})(),Nc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Li.oAB({type:t}),t.\u0275inj=Li.cJS({providers:[Ql.v,Us],imports:[[ti.lam,ti.Ts3,ti.S6I,Y.U8]]}),t})();var kc=h(42210);const Ni="quantity",Fs="remainder",Or="threshold-markers";var Ze=(()=>{return(t=Ze||(Ze={})).Donut="donut",t.Horizontal="horizontal",t.Vertical="vertical",Ze;var t})(),ai=(()=>{return(t=ai||(ai={}))[t.Small=10]="Small",t[t.Large=15]="Large",ai;var t})(),fn=(()=>{return(t=fn||(fn={}))[t.Small=3]="Small",t[t.Large=4]="Large",fn;var t})(),gn=(()=>{return(t=gn||(gn={})).Warning="warning",t.Critical="critical",gn;var t})(),pn=(()=>{return(t=pn||(pn={})).Remainder="var(--nui-color-semantic-unknown-bg-hover)",t.Ok="var(--nui-color-chart-one)",t.Warning="var(--nui-color-semantic-warning)",t.Critical="var(--nui-color-semantic-critical)",pn;var t})();const Uc={top:20,right:25,bottom:20,left:25};var Fc=h(35474),Se=h.n(Fc),ki=h(61135),Xe=h(77579),Pe=h(82722),Wc=h(35281),Hc=h.n(Wc),$c=h(45588),Yc=h.n($c),Vc=h(12498),Rr=h.n(Vc);function Lr(t,e){e&&0!==e.length&&(dn()(e[0])?(t.domain(e[0]),(0,Ve.Il)(t)&&Lr(t.innerScale,e.slice(1))):t.domain(e))}class zc{constructor(e){this.chart=e,this._chartSeriesSet=[],this.dataIndex={},this._scalesIndexByKey={},this._scalesIndexById={}}get chartSeriesSet(){return this._chartSeriesSet}get scalesIndexByKey(){return this._scalesIndexByKey}get scalesIndexById(){return this._scalesIndexById}update(e){const n=Hc()(e.map(i=>i.id),(i,r,s)=>Yc()(s,i,r+1));n.length>0&&console.warn("Series set contains duplicate IDs:",n),this._chartSeriesSet=e||[],this.dataIndex=Rr()(this._chartSeriesSet,i=>i.id),this._scalesIndexByKey=this.buildScalesIndex(this._chartSeriesSet),this._scalesIndexById=Rr()(Sr()(Mi()(this._scalesIndexByKey).map(i=>i.list)),i=>i.id)}getChartSeries(e){return this.dataIndex[e]}updateScaleDomain(e,n){var i,r;if(!e.isDomainFixed&&e.domainCalculator){const s=this.chartSeriesSet.filter(a=>a.scales[n]===e&&!a.renderer.config.ignoreForDomainCalculation).filter(a=>a.renderState!==$t.L.hidden);if(s.length||(null===(r=null===(i=this.chart)||void 0===i?void 0:i.configuration)||void 0===r?void 0:r.updateDomainForEmptySeries)){const a=e.domainCalculator(s,n,e);Lr(e,a)}}}buildScalesIndex(e){const n={};return Se()(e,i=>{Se()(Object.keys(i.scales),r=>{const s=i.scales[r];let a=n[r];a||(a={index:{},list:[]},n[r]=a),a.index[s.id]||(a.index[s.id]=s,a.list.push(s))})}),n}updateScaleDomains(){Se()(Object.keys(this._scalesIndexByKey),e=>{Se()(this._scalesIndexByKey[e].list,n=>{this.updateScaleDomain(n,e)})})}}var Gc=h(10866),Zc=h(64509),Ws=h.n(Zc);class jc{constructor(e,n){this.lasagna=e,this.dataManager=n,this.interactionDataPointsSubject=new Xe.x,this.rendererSubject=new Xe.x,this.highlightedDataPoints={},this.renderLayers={},this.layerIndex={},this.highlightDataPointSubscription=this.rendererSubject.subscribe(i=>{i.eventName===pt.Rj&&this.highlightDataPoint(i.data.seriesId,i.data.index)})}update(){const e={};Se()(this.dataManager.chartSeriesSet,n=>{const i=this.getSeriesChildContainers(n.id);-1===Object.values(n.scales).findIndex(s=>{if(void 0===e[s.id]){const a=s.isDomainValid();a||console.warn("Invalid scale domain detected for scale:",s),e[s.id]=a}return!e[s.id]})&&n.renderer.draw({dataSeries:n,containers:i,scales:n.scales},this.rendererSubject)})}updateSeriesContainers(){this.layerIndex=this.buildLayerIndex(this.dataManager.chartSeriesSet),this.removeUnusedLayers(),this.addNeededLayers(),this.updateLayerContents()}emitInteractionDataPoints(e){let n=!1;const i=this.dataManager.chartSeriesSet.reduce((r,s)=>{const a={};Se()(Object.keys(e.values),u=>{a[u]=De.getInteractionValues(e.values[u],s.scales[u].id)});let o=pt.Vg;s.data&&s.data.length>0&&(o=s.renderer.getDataPointIndex(s,a,s.scales));const l=s.renderer.getDataPointPosition(s,o,s.scales),c={seriesId:s.id,dataSeries:s,index:o,data:o>=0?s.data[o]:null,position:l};if(e.interactionType===de.s.MouseMove){const u=this.highlightedDataPoints[s.id];!qt()(o)&&(qt()(u)||o===pt.Vg||o!==u.index)&&(n=!0,this.rendererSubject.next({eventName:pt.Rj,data:c}))}return r[s.id]=c,r},{});(e.interactionType!==de.s.MouseMove||n)&&this.interactionDataPointsSubject.next({interactionType:e.interactionType,dataPoints:i}),n&&(this.highlightedDataPoints=i)}highlightDataPoint(e,n){const i=this.getSeriesChildContainers(e),r=this.dataManager.getChartSeries(e);r.renderer.highlightDataPoint({dataSeries:r,containers:i,scales:r.scales},n,this.rendererSubject)}setSeriesStates(e){Se()(e,({seriesId:n,state:i})=>{const r=this.dataManager.getChartSeries(n);if(!r)return;const s=this.getSeriesChildContainers(n),a=r.renderer.getContainerStateStyles(i);Se()(Mi()(s),o=>{o.attrs(a)}),r.renderer.setSeriesState(s,i)})}destroy(){this.highlightDataPointSubscription&&this.highlightDataPointSubscription.unsubscribe(),this.rendererSubject&&this.rendererSubject.complete()}buildLayerIndex(e){const n={};return Se()(e,i=>{Se()(i.renderer.getRequiredLayers(),r=>{if(pt.rz[r.name]&&!Ws()(pt.rz[r.name],r))throw new Error(`Custom definition detected for render layer "${r.name}". Custom layers must use a name not already taken by the predefined layer set.`);let s=n[r.name];s||(s={seriesUsing:[],layerDefinition:r},n[r.name]=s),s.seriesUsing.push(i)})}),n}removeUnusedLayers(){Se()(Object.keys(this.renderLayers),e=>{this.layerIndex[e]||(this.lasagna.removeLayer(e),delete this.renderLayers[e])})}addNeededLayers(){Se()(this.layerIndex,e=>{this.renderLayers[e.layerDefinition.name]||(this.renderLayers[e.layerDefinition.name]=this.lasagna.addLayer(e.layerDefinition))})}updateLayerContents(){Se()(Object.keys(this.renderLayers),e=>{const i=this.renderLayers[e].selectAll("g.data-series-container").data(this.layerIndex[e].seriesUsing,r=>r.id).order();i.enter().append("g").attrs({id:r=>this.getChildContainerId(e,r.id),class:"data-series-container"}),i.exit().remove()})}getSeriesChildContainers(e){const n={};return Se()(Object.keys(this.renderLayers),i=>{n[i]=this.renderLayers[i].selectAll(`#${i}-${De.cssEscape(e)}`)}),n}getChildContainerId(e,n){return e+"-"+n}}var wn=h(47708);class Kc extends wn.w{constructor(){super(...arguments),this.isChartInView=!0,this.destroy$=new Xe.x}initialize(){this.renderEngine=this.chart.getRenderEngine(),this.chart.getEventBus().getStream(pt.hk).pipe((0,Pe.R)(this.destroy$)).subscribe(e=>{this.lastInteractionValuesPayload=e.data,this.isChartInView&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)}),this.renderEngine.interactionDataPointsSubject.pipe((0,Pe.R)(this.destroy$)).subscribe(e=>{this.chart.getEventBus().getStream(pt.C1).next({data:e})}),this.renderEngine.rendererSubject.pipe((0,Pe.R)(this.destroy$)).subscribe(e=>{this.chart.getEventBus().getStream(e.eventName).next({data:e.data})}),this.chart.getEventBus().getStream(pt._7).pipe((0,Pe.R)(this.destroy$)).subscribe(e=>{this.isChartInView=e.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)})}update(){this.renderEngine.updateSeriesContainers(),this.renderEngine.update()}updateDimensions(){this.renderEngine.update()}destroy(){this.renderEngine.destroy(),this.destroy$.next(),this.destroy$.complete()}}class Nr{constructor(e,n){if(this.grid=e,this.configuration=n,this.eventBus=new Gc.N,this.updateSubject=new ki.X([]),this.updateDimensionsSubject=new Xe.x,this.seriesStatesSubject=new ki.X([]),this.plugins=[],!e)throw new Error("Grid has to be defined!");e.updateChartDimensionsSubject=this.updateDimensionsSubject,e.eventBus=this.eventBus}getEventBus(){return this.eventBus}getDataManager(){return this.dataManager}getRenderEngine(){return this.renderEngine}getGrid(){return this.grid}addPlugin(e){e.chart=this,this.plugins.push(e)}removePlugin(e){const n=this.plugins.findIndex(i=>i instanceof e);-1!==n&&(this.plugins[n].destroy(),this.plugins.splice(n,1))}addPlugins(...e){for(const n of e)this.addPlugin(n)}removePlugins(...e){for(const n of e)this.removePlugin(n)}hasPlugin(e){return-1!==this.plugins.findIndex(n=>n instanceof e)}build(e){this.element=e,this.target=(0,ce.Z)(this.element).append("svg").attrs({class:"nui-chart",height:"100%",width:"100%"}),this.configureCssFilters(),this.buildGrid(),this.dataManager=this.buildDataManager(),this.renderEngine=this.buildRenderEngine(this.grid.getLasagna(),this.dataManager);const n=new Kc;n.chart=this,this.plugins.unshift(n);for(const r of this.getGrid().buildPlugins(this))this.addPlugin(r);this.initialize();const i=()=>(0,Pe.R)(this.getEventBus().getStream(pt.wu));this.updateSubject.pipe(i()).subscribe(r=>this.onUpdate(r)),this.updateDimensionsSubject.pipe(i()).subscribe(()=>this.onUpdateDimensions()),this.seriesStatesSubject.pipe(i()).subscribe(r=>this.onSetSeriesStates(r))}configureCssFilters(){var e,n;this.filterDefs=null===(e=this.target)||void 0===e?void 0:e.append("defs"),null===(n=this.filterDefs)||void 0===n||n.append("filter").attr("id",si.Grayscale).append("feColorMatrix").attr("type","matrix").attr("values","\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0      0      0      1 0\n")}buildDataManager(){return new zc(this)}buildGrid(){this.target&&(this.grid.target(this.target),this.grid.build(),this.updateTargetDimensions(this.grid.config().dimension))}buildRenderEngine(e,n){return new jc(e,n)}update(e){this.updateSubject.next(e)}updateDimensions(){this.updateDimensionsSubject.next()}initialize(){Se()(this.plugins,e=>{e.initialize()})}destroy(){var e;this.eventBus.getStream(pt.wu).next({data:null}),this.eventBus.destroy(),this.plugins.forEach(n=>n.destroy()),null===(e=this.target)||void 0===e||e.remove(),this.target=void 0}setSeriesStates(e){this.seriesStatesSubject.next(e),this.eventBus.getStream(pt.GJ).next({data:e})}onUpdate(e){this.dataManager.update(e),this.grid.scales=this.dataManager.scalesIndexByKey,this.dataManager.updateScaleDomains(),this.grid.updateRanges(),this.plugins.forEach(n=>n.update())}onUpdateDimensions(){const e=this.grid.config().dimension;this.updateTargetDimensions(e);const n={};e.autoHeight&&(n.height=this.element.clientHeight),e.autoWidth&&(n.width=this.element.clientWidth),this.grid.updateDimensions(n),this.plugins.forEach(i=>i.updateDimensions())}updateTargetDimensions(e){var n,i;e.autoHeight||null===(n=this.target)||void 0===n||n.style("height",e.outerHeight()+"px"),e.autoWidth||null===(i=this.target)||void 0===i||i.style("width",e.outerWidth()+"px")}onSetSeriesStates(e){this.renderEngine.setSeriesStates(e)}}var Hs=h(39646),Xc=h(39300),Qc=h(54004),Jc=h(63900),on=(()=>{return(t=on||(on={})).ToggleSeries="ToggleSeries",t.ResetVisibleSeries="ResetVisibleSeries",t.EmphasizeSeries="EmphasizeSeries",on;var t})();class kr{constructor(e,n,i=$t.L.default,r=!0){this.seriesId=e,this.series=n,this.emphasisState=i,this.visible=r}get state(){return this.visible?this.emphasisState:$t.L.hidden}}class Fn{constructor(e,n,i=function bc(){return new wr(ei())}(),r=Si()){this.chart=e,this.palette=i,this.markers=r,this.isLegendActive=!1,this.inputSeriesSet=[],this.legendSeriesSet=[],this.chartAssistSubject=new Xe.x,this.toggleSeries=(s,a)=>{this.legendInteractionAssist.setGroupVisibility(s,a),this.update(this.inputSeriesSet,!1),this.chartAssistSubject.next({type:on.ToggleSeries,payload:{seriesId:s,visible:a}})},this.resetVisibleSeries=()=>{this.legendInteractionAssist.resetSeries(),this.publishRenderStates(),this.chartAssistSubject.next({type:on.ResetVisibleSeries,payload:{}})},this.emphasizeSeries=s=>{this.legendInteractionAssist.emphasizeSeries(s),this.publishRenderStates(),this.chartAssistSubject.next({type:on.EmphasizeSeries,payload:{seriesId:s}})},this.getVisibleSeriesWithLegend=()=>this.legendSeriesSet.filter(s=>!this.isSeriesHidden(s.id)),this.configureChartEventSubscriptions(e.getEventBus()),n&&(this.seriesProcessor=n),this.legendInteractionAssist=new qc(this),this.syncHandlerMap={[on.EmphasizeSeries]:this.emphasizeSeries,[on.ResetVisibleSeries]:this.resetVisibleSeries,[on.ToggleSeries]:this.toggleSeries}}static getLabel(e,n,i,r,s){var a;if(!n||0===e.data.length)return null;const o=null===(a=e.accessors.data)||void 0===a?void 0:a[s||i];if(!o)return null;const l=n.index<0?e.data.length-1:n.index,u=o(e.data[l],l,e.data,e),d=e.scales[i];if(!d||!r)return u;const f=d.formatters[r];return f?f(u):u}get renderStatesIndex(){return this.legendInteractionAssist.renderStatesIndex}legendLabelData$(e){return this.chart.getEventBus().getStream(pt.C1).asObservable().pipe((0,Xc.h)(r=>r.data.interactionType===de.s.MouseMove),(0,Qc.U)(r=>r.data.dataPoints[e.id])).pipe((0,Jc.w)(r=>(r=>r&&r.index>=0)(r)?(0,Hs.of)(r.data):(0,Hs.of)(e.data&&e.data.length?e.data[e.data.length-1]:null)))}seriesProcessor(e){return e}update(e,n=!0){this.inputSeriesSet=e;const i=this.seriesProcessor(e.map(s=>Object.assign(Object.assign({},s),{data:s.data||[]})));this.legendSeriesSet=i.filter(s=>s.showInLegend||void 0===s.showInLegend),n&&this.legendInteractionAssist.update(i);const r=i.map(s=>{var a;return Object.assign({renderState:null===(a=this.renderStatesIndex[s.id])||void 0===a?void 0:a.state},s)});this.chart.update(r),this.publishRenderStates()}isSeriesHidden(e){return this.legendInteractionAssist.isSeriesHidden(e)}seriesTrackByFn(e,n){return n.id}getHighlightedValue(e,n,i,r){if(this.highlightedDataPoints)return Fn.getLabel(e,this.highlightedDataPoints[e.id],n,i,r)}syncWithChartAssist(e){this.getVisibleSeriesWithLegendBackup=this.getVisibleSeriesWithLegend,this.getVisibleSeriesWithLegend=e.getVisibleSeriesWithLegend,this.syncSubscription=e.chartAssistSubject.pipe((0,Pe.R)(e.chart.getEventBus().getStream(pt.wu))).subscribe(n=>{const i=Object.keys(n.payload).map(r=>n.payload[r]);this.syncHandlerMap[n.type](...i)})}unsyncChartAssist(){this.getVisibleSeriesWithLegend=this.getVisibleSeriesWithLegendBackup,this.syncSubscription&&this.syncSubscription.unsubscribe()}configureChartEventSubscriptions(e){const n={[pt.C1]:i=>{i.interactionType===de.s.MouseMove&&(this.highlightedDataPoints=Object.assign({},i.dataPoints))},[pt.TC]:i=>{i.index>=0?this.emphasizeSeries(i.seriesId):this.resetVisibleSeries()},[pt.CC]:i=>{this.isLegendActive=i}};Se()(Object.keys(n),i=>{e.getStream(i).subscribe(r=>{n[i](r.data),this.onEvent&&this.onEvent(r)})})}publishRenderStates(){this.chart.setSeriesStates(this.legendInteractionAssist.getSeriesStates())}}class qc{constructor(e){this.chartAssist=e,this.seriesGroups={},this.renderStatesIndex={}}update(e){this.seriesGroups=this.getSeriesGroups(e),this.seriesIndex=Rr()(e,n=>n.id),this.resetSeries();for(const n of e.filter(i=>i.renderState))this.renderStatesIndex[n.id]=new kr(n.id,n,n.renderState===$t.L.hidden?$t.L.default:n.renderState,n.renderState!==$t.L.hidden)}getSeriesStates(){return Mi()(this.renderStatesIndex)}isSeriesHidden(e){const n=this.renderStatesIndex[e];return n&&!n.visible}getSeriesGroups(e){const n={};for(const i of e){const r=i.id.indexOf("__"),s=r>=0?i.id.substring(0,r):i.id;n[s]||(n[s]=[]),n[s].push(i.id)}return n}setGroupState(e,n){if(this.seriesGroups[e])for(const i of this.seriesGroups[e])this.setRenderState(i,n)}setGroupVisibility(e,n){if(this.seriesGroups[e])for(const i of this.seriesGroups[e])this.setVisibility(i,n)}emphasizeSeries(e){for(const n of Object.keys(this.seriesGroups))this.setGroupState(n,n===e?$t.L.emphasized:$t.L.deemphasized)}resetSeries(){const e=this.chartAssist.getVisibleSeriesWithLegend();if(1===e.length)this.emphasizeSeries(e[0].id);else for(const i of Object.keys(this.seriesGroups))this.setGroupState(i,$t.L.default)}setRenderState(e,n){let i=this.renderStatesIndex[e];i?i.emphasisState=n:(i=new kr(e,this.seriesIndex[e],n),this.renderStatesIndex[e]=i)}setVisibility(e,n){let i=this.renderStatesIndex[e];i?i.visible=n:(i=new kr(e,this.seriesIndex[e],$t.L.default,n),this.renderStatesIndex[e]=i)}}class $s{constructor(){this._width=0,this._height=0,this.margin={top:0,right:0,bottom:0,left:0},this.padding={top:0,right:0,bottom:0,left:0},this.marginLocked={top:!1,right:!1,bottom:!1,left:!1},this.autoWidth=!0,this.autoHeight=!0}width(e){return void 0===e?this._width:(this._width=e,this)}height(e){return void 0===e?this._height:(this._height=e,this)}outerWidth(e){const n=this.margin.right+this.margin.left;return void 0===e?this._width+n:(this._width=Math.max(e-n,0),this)}outerHeight(e){const n=this.margin.top+this.margin.bottom;return void 0===e?this._height+n:(this._height=Math.max(e-n,0),this)}}function tu(t,e){var n,i;const r=t.text(),s=r.split(""),a=t.text("").append("tspan").attr("class",`${pt.N0} ellipsis`).text("..."),o=t.insert("tspan",":first-child").attr("class",`${pt.N0} text`).text(r),l=e.ellipsisWidth+2*e.horizontalPadding,c=s.length;let u=((null===(n=null==o?void 0:o.node())||void 0===n?void 0:n.getComputedTextLength())||0)+2*e.horizontalPadding;for(;s.length&&(u>e.widthLimit||" "===s[s.length-1]);)s.pop(),o.text(s.join("")),u=l+((null===(i=null==o?void 0:o.node())||void 0===i?void 0:i.getComputedTextLength())||0);s.length===c&&a.remove()}class Bi{constructor(){this.visible=!0,this.gridTicks=!1,this.tickSize=5,this.tickLabel={horizontalPadding:0,overflowHandler:tu},this.fit=!1,this._approximateTicks=5,this.padding=0}get approximateTicks(){return this._approximateTicks}set approximateTicks(e){this._approximateTicks=parseInt(e,10)}}class Ui{constructor(e){this.className=e,this.visible=!0}}class Fi{constructor(){this.interactive=!0,this.dimension=new $s,this.borders={top:void 0,bottom:void 0,left:void 0,right:void 0},this.cursor="crosshair",this.disableRenderAreaHeightCorrection=!1,this.disableRenderAreaWidthCorrection=!1}}let je=(()=>{class t extends Fi{constructor(){super(),this.axis={top:new Bi,right:new Bi,bottom:new Bi,left:new Bi},this.interactionPlugins=!0,this.dimension.padding=Object.assign({},t.DEFAULT_PADDING),this.dimension.margin=Object.assign({},t.DEFAULT_MARGIN),this.borders.bottom=new Ui("nui-chart-border nui-chart-border--thick"),this.borders.left=new Ui("nui-chart-border nui-chart-border--thick"),this.borders.left.visible=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=0,this.axis.left.padding=10,this.axis.right.fit=!0,this.axis.right.tickSize=0,this.axis.right.padding=10,this.axis.bottom.tickLabel.horizontalPadding=5}}return t.DEFAULT_MARGIN={top:0,right:5,bottom:20,left:30},t.DEFAULT_PADDING={left:0,right:0,top:5,bottom:5},t})();var Br=Array.prototype.slice;function nu(t){return t}function iu(t){return"translate("+(t+.5)+",0)"}function ru(t){return"translate(0,"+(t+.5)+")"}function su(t){return function(e){return+t(e)}}function au(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function ou(){return!this.__axis}function $i(t,e){var n=[],i=null,r=null,s=6,a=6,o=3,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",u=1===t||3===t?iu:ru;function d(f){var w=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,z=null==r?e.tickFormat?e.tickFormat.apply(e,n):nu:r,G=Math.max(s,0)+o,P=e.range(),et=+P[0]+.5,rt=+P[P.length-1]+.5,lt=(e.bandwidth?au:su)(e.copy()),xt=f.selection?f.selection():f,Lt=xt.selectAll(".domain").data([null]),Kt=xt.selectAll(".tick").data(w,e).order(),At=Kt.exit(),te=Kt.enter().append("g").attr("class","tick"),Vt=Kt.select("line"),Zt=Kt.select("text");Lt=Lt.merge(Lt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Kt=Kt.merge(te),Vt=Vt.merge(te.append("line").attr("stroke","currentColor").attr(c+"2",l*s)),Zt=Zt.merge(te.append("text").attr("fill","currentColor").attr(c,l*G).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==xt&&(Lt=Lt.transition(f),Kt=Kt.transition(f),Vt=Vt.transition(f),Zt=Zt.transition(f),At=At.transition(f).attr("opacity",1e-6).attr("transform",function(It){return isFinite(It=lt(It))?u(It):this.getAttribute("transform")}),te.attr("opacity",1e-6).attr("transform",function(It){var Ht=this.parentNode.__axis;return u(Ht&&isFinite(Ht=Ht(It))?Ht:lt(It))})),At.remove(),Lt.attr("d",4===t||2==t?a?"M"+l*a+","+et+"H0.5V"+rt+"H"+l*a:"M0.5,"+et+"V"+rt:a?"M"+et+","+l*a+"V0.5H"+rt+"V"+l*a:"M"+et+",0.5H"+rt),Kt.attr("opacity",1).attr("transform",function(It){return u(lt(It))}),Vt.attr(c+"2",l*s),Zt.attr(c,l*G).text(z),xt.filter(ou).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),xt.each(function(){this.__axis=lt})}return d.scale=function(f){return arguments.length?(e=f,d):e},d.ticks=function(){return n=Br.call(arguments),d},d.tickArguments=function(f){return arguments.length?(n=null==f?[]:Br.call(f),d):n.slice()},d.tickValues=function(f){return arguments.length?(i=null==f?null:Br.call(f),d):i&&i.slice()},d.tickFormat=function(f){return arguments.length?(r=f,d):r},d.tickSize=function(f){return arguments.length?(s=a=+f,d):s},d.tickSizeInner=function(f){return arguments.length?(s=+f,d):s},d.tickSizeOuter=function(f){return arguments.length?(a=+f,d):a},d.tickPadding=function(f){return arguments.length?(o=+f,d):o},d}function lu(t){return $i(1,t)}function Fr(t){return $i(2,t)}function Vs(t){return $i(3,t)}function zs(t){return $i(4,t)}var cu=h(11094),uu=h.n(cu),hu=h(33816),Gs=h.n(hu),Qt=h(61746);function Zs(){for(var e,t=Qt.B;e=t.sourceEvent;)t=e;return t}function js(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function Ks(t){var e=Zs();return e.changedTouches&&(e=e.changedTouches[0]),js(t,e)}let du=(()=>{class t{constructor(n,i,r,s){this.target=n,this.interactiveArea=i,this.gridMargin=s,this.active=new ki.X(!1),this.interaction=new ki.X({type:de.s.Click,coordinates:{x:0,y:0}}),this.isActive=!1,this.onMouseInteraction=a=>{var o,l;if(Qt.B.target.classList.contains(pt.N0))return;let c=0,u=0;const d=parseInt(this.interactiveArea.attr("width"),10)||0,f=parseInt(this.interactiveArea.attr("height"),10)||0;if(/firefox/i.test(navigator.userAgent)){let z=c+Qt.B.offsetX-((null===(o=this.gridMargin)||void 0===o?void 0:o.left)||0);z=z>d?d:z,c=z<0?0:z;let G=u+Qt.B.offsetY-((null===(l=this.gridMargin)||void 0===l?void 0:l.top)||0);G=G>f?f:G,u=G<0?0:G}else{const z=Ks(Qt.B.currentTarget),G=z[0]>d?d:z[0];c=G<0?0:G;const P=z[1]>f?f:z[1];u=P<0?0:P}this.interaction.next({type:a,coordinates:{x:c,y:u}})},this.onMouseOver=()=>{this.isActive||Qt.B.target.classList.contains(pt.N0)||(this.isActive=!0,this.active.next(!0))},this.onMouseOut=()=>{if(!this.isActive)return;let a=Qt.B.relatedTarget;for(;a;){if(a===this.target.node())return;a=a.parentNode}this.isActive=!1,this.active.next(!1)},this.onMouseEnter=()=>{this.onMouseOver()},this.onMouseLeave=()=>{this.onMouseOut()},this.interactiveArea.style("cursor",r).classed(t.CONTAINER_CLASS,!0),this.target.on("mouseover",this.onMouseOver).on("mouseout",this.onMouseOut).on(de.s.MouseDown,()=>this.onMouseInteraction(de.s.MouseDown)).on(de.s.MouseUp,()=>this.onMouseInteraction(de.s.MouseUp)).on(de.s.MouseMove,()=>this.onMouseInteraction(de.s.MouseMove)).on(de.s.Click,()=>this.onMouseInteraction(de.s.Click))}}return t.CONTAINER_CLASS="mouse-interactive-area",t})();function Yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Xs=h(88097),Qs=Array.prototype,Js=Qs.map,Wr=Qs.slice,qs={name:"implicit"};function ta(){var t=(0,Xs.UI)(),e=[],n=[],i=qs;function r(s){var a=s+"",o=t.get(a);if(!o){if(i!==qs)return i;t.set(a,o=e.push(s))}return n[(o-1)%n.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],t=(0,Xs.UI)();for(var l,c,a=-1,o=s.length;++a<o;)t.has(c=(l=s[a])+"")||t.set(c,e.push(l));return r},r.range=function(s){return arguments.length?(n=Wr.call(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return ta(e,n).unknown(i)},Yi.apply(r,arguments),r}function Vi(){var r,s,t=ta().unknown(void 0),e=t.domain,n=t.range,i=[0,1],a=!1,o=0,l=0,c=.5;function u(){var d=e().length,f=i[1]<i[0],w=i[f-0],z=i[1-f];r=(z-w)/Math.max(1,d-o+2*l),a&&(r=Math.floor(r)),w+=(z-w-r*(d-o))*c,s=r*(1-o),a&&(w=Math.round(w),s=Math.round(s));var G=(0,we.w6)(d).map(function(P){return w+r*P});return n(f?G.reverse():G)}return delete t.unknown,t.domain=function(d){return arguments.length?(e(d),u()):e()},t.range=function(d){return arguments.length?(i=[+d[0],+d[1]],u()):i.slice()},t.rangeRound=function(d){return i=[+d[0],+d[1]],a=!0,u()},t.bandwidth=function(){return s},t.step=function(){return r},t.round=function(d){return arguments.length?(a=!!d,u()):a},t.padding=function(d){return arguments.length?(o=Math.min(1,l=+d),u()):o},t.paddingInner=function(d){return arguments.length?(o=Math.min(1,d),u()):o},t.paddingOuter=function(d){return arguments.length?(l=+d,u()):l},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),u()):c},t.copy=function(){return Vi(e(),i).round(a).paddingInner(o).paddingOuter(l).align(c)},Yi.apply(u(),arguments)}function ea(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ea(e())},t}function na(t,e){var a,n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),s=new Array(n);for(a=0;a<i;++a)r[a]=zi(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function gu(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function pu(t,e){var r,n={},i={};for(r in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)r in t?n[r]=zi(t[r],e[r]):i[r]=e[r];return function(s){for(r in n)i[r]=n[r](s);return i}}function vu(t,e){e||(e=[]);var r,n=t?Math.min(e.length,t.length):0,i=e.slice();return function(s){for(r=0;r<n;++r)i[r]=t[r]*(1-s)+e[r]*s;return i}}function zi(t,e){var i,n=typeof e;return null==e||"boolean"===n?gr(e):("number"===n?Z:"string"===n?(i=Oe(e))?(e=i,Ai):ms:e instanceof Oe?Ai:e instanceof Date?gu:function mu(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?vu:Array.isArray(e)?na:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?pu:Z)(t,e)}function xu(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _u(t){return+t}var ia=[0,1];function vn(t){return t}function Hr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function yu(t){return function(){return t}}(isNaN(e)?NaN:.5)}function ra(t){var i,e=t[0],n=t[t.length-1];return e>n&&(i=e,e=n,n=i),function(r){return Math.max(e,Math.min(n,r))}}function bu(t,e,n){var i=t[0],r=t[1],s=e[0],a=e[1];return r<i?(i=Hr(r,i),s=n(a,s)):(i=Hr(i,r),s=n(s,a)),function(o){return s(i(o))}}function wu(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=Hr(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=(0,we.b4)(t,o,1,i)-1;return s[l](r[l](o))}}function sa(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function aa(t,e){return function Eu(){var i,r,s,o,l,c,t=ia,e=ia,n=zi,a=vn;function u(){return o=Math.min(t.length,e.length)>2?wu:bu,l=c=null,d}function d(f){return isNaN(f=+f)?s:(l||(l=o(t.map(i),e,n)))(i(a(f)))}return d.invert=function(f){return a(r((c||(c=o(e,t.map(i),Z)))(f)))},d.domain=function(f){return arguments.length?(t=Js.call(f,_u),a===vn||(a=ra(t)),u()):t.slice()},d.range=function(f){return arguments.length?(e=Wr.call(f),u()):e.slice()},d.rangeRound=function(f){return e=Wr.call(f),n=xu,u()},d.clamp=function(f){return arguments.length?(a=f?ra(t):vn,d):a!==vn},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,w){return i=f,r=w,u()}}()(t,e)}var oa,Cu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gi(t){if(!(e=Cu.exec(t)))throw new Error("invalid format: "+t);var e;return new $r({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function $r(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Zi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Wn(t){return(t=Zi(Math.abs(t)))?t[1]:NaN}function la(t,e){var n=Zi(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Gi.prototype=$r.prototype,$r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ca={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function Au(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return la(100*t,e)},r:la,s:function Pu(t,e){var n=Zi(t,e);if(!n)return t+"";var i=n[0],r=n[1],s=r-(oa=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Zi(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ua(t){return t}var ji,fa,ga,ha=Array.prototype.map,da=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ku(t){var e=t.domain;return t.ticks=function(n){var i=e();return(0,we.sd)(i[0],i[i.length-1],null==n?10:n)},t.tickFormat=function(n,i){var r=e();return function Nu(t,e,n,i){var s,r=(0,we.ly)(t,e,n);switch((i=Gi(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null==i.precision&&!isNaN(s=function Mu(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wn(e)/3)))-Wn(Math.abs(t)))}(r,a))&&(i.precision=s),ga(i,a);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(s=function Ru(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wn(e)-Wn(t))+1}(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=s-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(s=function Lu(t){return Math.max(0,-Wn(Math.abs(t)))}(r))&&(i.precision=s-2*("%"===i.type))}return fa(i)}(r[0],r[r.length-1],null==n?10:n,i)},t.nice=function(n){null==n&&(n=10);var l,i=e(),r=0,s=i.length-1,a=i[r],o=i[s];return o<a&&(l=a,a=o,o=l,l=r,r=s,s=l),(l=(0,we.G9)(a,o,n))>0?(a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l,l=(0,we.G9)(a,o,n)):l<0&&(a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l,l=(0,we.G9)(a,o,n)),l>0?(i[r]=Math.floor(a/l)*l,i[s]=Math.ceil(o/l)*l,e(i)):l<0&&(i[r]=Math.ceil(a*l)/l,i[s]=Math.floor(o*l)/l,e(i)),t},t}function pa(){var t=aa(vn,vn);return t.copy=function(){return sa(t,pa())},Yi.apply(t,arguments),ku(t)}!function Ou(t){ji=function Iu(t){var e=void 0===t.grouping||void 0===t.thousands?ua:function Tu(t,e){return function(n,i){for(var r=n.length,s=[],a=0,o=t[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(n.substring(r-=o,r+o)),!((l+=o+1)>i));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}(ha.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",r=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?ua:function Su(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}(ha.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",o=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function c(d){var f=(d=Gi(d)).fill,w=d.align,z=d.sign,G=d.symbol,P=d.zero,et=d.width,rt=d.comma,lt=d.precision,xt=d.trim,Lt=d.type;"n"===Lt?(rt=!0,Lt="g"):ca[Lt]||(void 0===lt&&(lt=12),xt=!0,Lt="g"),(P||"0"===f&&"="===w)&&(P=!0,f="0",w="=");var Kt="$"===G?n:"#"===G&&/[boxX]/.test(Lt)?"0"+Lt.toLowerCase():"",At="$"===G?i:/[%p]/.test(Lt)?a:"",te=ca[Lt],Vt=/[defgprs%]/.test(Lt);function Zt(It){var Be,ye,me,Ht=Kt,zt=At;if("c"===Lt)zt=te(It)+zt,It="";else{var ze=(It=+It)<0||1/It<0;if(It=isNaN(It)?l:te(Math.abs(It),lt),xt&&(It=function Du(t){t:for(var r,e=t.length,n=1,i=-1;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":0===i&&(i=n),r=n;break;default:if(!+t[n])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(r+1):t}(It)),ze&&0==+It&&"+"!==z&&(ze=!1),Ht=(ze?"("===z?z:o:"-"===z||"("===z?"":z)+Ht,zt=("s"===Lt?da[8+oa/3]:"")+zt+(ze&&"("===z?")":""),Vt)for(Be=-1,ye=It.length;++Be<ye;)if(48>(me=It.charCodeAt(Be))||me>57){zt=(46===me?r+It.slice(Be+1):It.slice(Be))+zt,It=It.slice(0,Be);break}}rt&&!P&&(It=e(It,1/0));var ve=Ht.length+It.length+zt.length,ae=ve<et?new Array(et-ve+1).join(f):"";switch(rt&&P&&(It=e(ae+It,ae.length?et-zt.length:1/0),ae=""),w){case"<":It=Ht+It+zt+ae;break;case"=":It=Ht+ae+It+zt;break;case"^":It=ae.slice(0,ve=ae.length>>1)+Ht+It+zt+ae.slice(ve);break;default:It=ae+Ht+It+zt}return s(It)}return lt=void 0===lt?6:/[gprs]/.test(Lt)?Math.max(1,Math.min(21,lt)):Math.max(0,Math.min(20,lt)),Zt.toString=function(){return d+""},Zt}return{format:c,formatPrefix:function u(d,f){var w=c(((d=Gi(d)).type="f",d)),z=3*Math.max(-8,Math.min(8,Math.floor(Wn(f)/3))),G=Math.pow(10,-z),P=da[8+z/3];return function(et){return w(G*et)+P}}}}(t),fa=ji.format,ga=ji.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Yr=new Date,Vr=new Date;function ke(t,e,n,i){function r(s){return t(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=function(s){return t(s=new Date(+s)),s},r.ceil=function(s){return t(s=new Date(s-1)),e(s,1),t(s),s},r.round=function(s){var a=r(s),o=r.ceil(s);return s-a<o-s?a:o},r.offset=function(s,a){return e(s=new Date(+s),null==a?1:Math.floor(a)),s},r.range=function(s,a,o){var c,l=[];if(s=r.ceil(s),o=null==o?1:Math.floor(o),!(s<a&&o>0))return l;do{l.push(c=new Date(+s)),e(s,o),t(s)}while(c<s&&s<a);return l},r.filter=function(s){return ke(function(a){if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},function(a,o){if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););})},n&&(r.count=function(s,a){return Yr.setTime(+s),Vr.setTime(+a),t(Yr),t(Vr),Math.floor(n(Yr,Vr))},r.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?function(a){return i(a)%s==0}:function(a){return r.count(0,a)%s==0}):r:null}),r}var zr=ke(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});zr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ke(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};const En=zr;const Ca=ke(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});var li=6e4,Ta=6048e5;function Cn(t){return ke(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+7*n)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*li)/Ta})}var Gr=Cn(0),Xi=Cn(1),Hn=(Cn(2),Cn(3),Cn(4));const Qi=(Cn(5),Cn(6),ke(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*li)/864e5},function(t){return t.getDate()-1}));const ih=ke(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*li)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()});const Ia=ke(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*li)},function(t,e){return(e-t)/li},function(t){return t.getMinutes()});const rh=ke(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()});var Ji=ke(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Ji.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ke(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Ji:null};const sh=Ji;function An(t){return ke(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+7*n)},function(e,n){return(n-e)/Ta})}var Ra=An(0),qi=An(1),$n=(An(2),An(3),An(4));const Na=(An(5),An(6),ke(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}));var Zr=ke(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Zr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ke(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};const ci=Zr;function jr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ui(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Yn,Xa,ka={"-":"",_:" ",0:"0"},Ie=/^\s*\d+/,hh=/^%/,dh=/[\\^$*+?|[\]().{}]/g;function ie(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(e)+r:r)}function fh(t){return t.replace(dh,"\\$&")}function hi(t){return new RegExp("^(?:"+t.map(fh).join("|")+")","i")}function di(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function gh(t,e,n){var i=Ie.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function ph(t,e,n){var i=Ie.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function vh(t,e,n){var i=Ie.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function mh(t,e,n){var i=Ie.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function xh(t,e,n){var i=Ie.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Ba(t,e,n){var i=Ie.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ua(t,e,n){var i=Ie.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function yh(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function _h(t,e,n){var i=Ie.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function bh(t,e,n){var i=Ie.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Fa(t,e,n){var i=Ie.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function wh(t,e,n){var i=Ie.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Wa(t,e,n){var i=Ie.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Eh(t,e,n){var i=Ie.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Ch(t,e,n){var i=Ie.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Ah(t,e,n){var i=Ie.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Mh(t,e,n){var i=Ie.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Th(t,e,n){var i=hh.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Sh(t,e,n){var i=Ie.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function Dh(t,e,n){var i=Ie.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function Ha(t,e){return ie(t.getDate(),e,2)}function Ph(t,e){return ie(t.getHours(),e,2)}function Ih(t,e){return ie(t.getHours()%12||12,e,2)}function Oh(t,e){return ie(1+Qi.count(En(t),t),e,3)}function $a(t,e){return ie(t.getMilliseconds(),e,3)}function Rh(t,e){return $a(t,e)+"000"}function Lh(t,e){return ie(t.getMonth()+1,e,2)}function Nh(t,e){return ie(t.getMinutes(),e,2)}function kh(t,e){return ie(t.getSeconds(),e,2)}function Bh(t){var e=t.getDay();return 0===e?7:e}function Uh(t,e){return ie(Gr.count(En(t)-1,t),e,2)}function Ya(t){var e=t.getDay();return e>=4||0===e?Hn(t):Hn.ceil(t)}function Fh(t,e){return t=Ya(t),ie(Hn.count(En(t),t)+(4===En(t).getDay()),e,2)}function Wh(t){return t.getDay()}function Hh(t,e){return ie(Xi.count(En(t)-1,t),e,2)}function $h(t,e){return ie(t.getFullYear()%100,e,2)}function Yh(t,e){return ie((t=Ya(t)).getFullYear()%100,e,2)}function Vh(t,e){return ie(t.getFullYear()%1e4,e,4)}function zh(t,e){var n=t.getDay();return ie((t=n>=4||0===n?Hn(t):Hn.ceil(t)).getFullYear()%1e4,e,4)}function Gh(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ie(e/60|0,"0",2)+ie(e%60,"0",2)}function Va(t,e){return ie(t.getUTCDate(),e,2)}function Zh(t,e){return ie(t.getUTCHours(),e,2)}function jh(t,e){return ie(t.getUTCHours()%12||12,e,2)}function Kh(t,e){return ie(1+Na.count(ci(t),t),e,3)}function za(t,e){return ie(t.getUTCMilliseconds(),e,3)}function Xh(t,e){return za(t,e)+"000"}function Qh(t,e){return ie(t.getUTCMonth()+1,e,2)}function Jh(t,e){return ie(t.getUTCMinutes(),e,2)}function qh(t,e){return ie(t.getUTCSeconds(),e,2)}function td(t){var e=t.getUTCDay();return 0===e?7:e}function ed(t,e){return ie(Ra.count(ci(t)-1,t),e,2)}function Ga(t){var e=t.getUTCDay();return e>=4||0===e?$n(t):$n.ceil(t)}function nd(t,e){return t=Ga(t),ie($n.count(ci(t),t)+(4===ci(t).getUTCDay()),e,2)}function id(t){return t.getUTCDay()}function rd(t,e){return ie(qi.count(ci(t)-1,t),e,2)}function sd(t,e){return ie(t.getUTCFullYear()%100,e,2)}function ad(t,e){return ie((t=Ga(t)).getUTCFullYear()%100,e,2)}function od(t,e){return ie(t.getUTCFullYear()%1e4,e,4)}function ld(t,e){var n=t.getUTCDay();return ie((t=n>=4||0===n?$n(t):$n.ceil(t)).getUTCFullYear()%1e4,e,4)}function cd(){return"+0000"}function Za(){return"%"}function ja(t){return+t}function Ka(t){return Math.floor(+t/1e3)}!function fd(t){Yn=function uh(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=hi(r),u=di(r),d=hi(s),f=di(s),w=hi(a),z=di(a),G=hi(o),P=di(o),et=hi(l),rt=di(l),lt={a:function ze(Et){return a[Et.getDay()]},A:function ve(Et){return s[Et.getDay()]},b:function ae(Et){return l[Et.getMonth()]},B:function Ee(Et){return o[Et.getMonth()]},c:null,d:Ha,e:Ha,f:Rh,g:Yh,G:zh,H:Ph,I:Ih,j:Oh,L:$a,m:Lh,M:Nh,p:function Ce(Et){return r[+(Et.getHours()>=12)]},q:function wi(Et){return 1+~~(Et.getMonth()/3)},Q:ja,s:Ka,S:kh,u:Bh,U:Uh,V:Fh,w:Wh,W:Hh,x:null,X:null,y:$h,Y:Vh,Z:Gh,"%":Za},xt={a:function Kn(Et){return a[Et.getUTCDay()]},A:function Xn(Et){return s[Et.getUTCDay()]},b:function Qn(Et){return l[Et.getUTCMonth()]},B:function dr(Et){return o[Et.getUTCMonth()]},c:null,d:Va,e:Va,f:Xh,g:ad,G:ld,H:Zh,I:jh,j:Kh,L:za,m:Qh,M:Jh,p:function Sn(Et){return r[+(Et.getUTCHours()>=12)]},q:function Dn(Et){return 1+~~(Et.getUTCMonth()/3)},Q:ja,s:Ka,S:qh,u:td,U:ed,V:nd,w:id,W:rd,x:null,X:null,y:sd,Y:od,Z:cd,"%":Za},Lt={a:function Zt(Et,jt,Xt){var ot=w.exec(jt.slice(Xt));return ot?(Et.w=z[ot[0].toLowerCase()],Xt+ot[0].length):-1},A:function It(Et,jt,Xt){var ot=d.exec(jt.slice(Xt));return ot?(Et.w=f[ot[0].toLowerCase()],Xt+ot[0].length):-1},b:function Ht(Et,jt,Xt){var ot=et.exec(jt.slice(Xt));return ot?(Et.m=rt[ot[0].toLowerCase()],Xt+ot[0].length):-1},B:function zt(Et,jt,Xt){var ot=G.exec(jt.slice(Xt));return ot?(Et.m=P[ot[0].toLowerCase()],Xt+ot[0].length):-1},c:function Be(Et,jt,Xt){return te(Et,e,jt,Xt)},d:Fa,e:Fa,f:Mh,g:Ua,G:Ba,H:Wa,I:Wa,j:wh,L:Ah,m:bh,M:Eh,p:function Vt(Et,jt,Xt){var ot=c.exec(jt.slice(Xt));return ot?(Et.p=u[ot[0].toLowerCase()],Xt+ot[0].length):-1},q:_h,Q:Sh,s:Dh,S:Ch,u:ph,U:vh,V:mh,w:gh,W:xh,x:function ye(Et,jt,Xt){return te(Et,n,jt,Xt)},X:function me(Et,jt,Xt){return te(Et,i,jt,Xt)},y:Ua,Y:Ba,Z:yh,"%":Th};function Kt(Et,jt){return function(Xt){var Ue,cn,Fe,ot=[],Re=-1,ee=0,Le=Et.length;for(Xt instanceof Date||(Xt=new Date(+Xt));++Re<Le;)37===Et.charCodeAt(Re)&&(ot.push(Et.slice(ee,Re)),null!=(cn=ka[Ue=Et.charAt(++Re)])?Ue=Et.charAt(++Re):cn="e"===Ue?" ":"0",(Fe=jt[Ue])&&(Ue=Fe(Xt,cn)),ot.push(Ue),ee=Re+1);return ot.push(Et.slice(ee,Re)),ot.join("")}}function At(Et,jt){return function(Xt){var ee,Le,ot=ui(1900,void 0,1);if(te(ot,Et,Xt+="",0)!=Xt.length)return null;if("Q"in ot)return new Date(ot.Q);if("s"in ot)return new Date(1e3*ot.s+("L"in ot?ot.L:0));if(jt&&!("Z"in ot)&&(ot.Z=0),"p"in ot&&(ot.H=ot.H%12+12*ot.p),void 0===ot.m&&(ot.m="q"in ot?ot.q:0),"V"in ot){if(ot.V<1||ot.V>53)return null;"w"in ot||(ot.w=1),"Z"in ot?(Le=(ee=Kr(ui(ot.y,0,1))).getUTCDay(),ee=Le>4||0===Le?qi.ceil(ee):qi(ee),ee=Na.offset(ee,7*(ot.V-1)),ot.y=ee.getUTCFullYear(),ot.m=ee.getUTCMonth(),ot.d=ee.getUTCDate()+(ot.w+6)%7):(Le=(ee=jr(ui(ot.y,0,1))).getDay(),ee=Le>4||0===Le?Xi.ceil(ee):Xi(ee),ee=Qi.offset(ee,7*(ot.V-1)),ot.y=ee.getFullYear(),ot.m=ee.getMonth(),ot.d=ee.getDate()+(ot.w+6)%7)}else("W"in ot||"U"in ot)&&("w"in ot||(ot.w="u"in ot?ot.u%7:"W"in ot?1:0),Le="Z"in ot?Kr(ui(ot.y,0,1)).getUTCDay():jr(ui(ot.y,0,1)).getDay(),ot.m=0,ot.d="W"in ot?(ot.w+6)%7+7*ot.W-(Le+5)%7:ot.w+7*ot.U-(Le+6)%7);return"Z"in ot?(ot.H+=ot.Z/100|0,ot.M+=ot.Z%100,Kr(ot)):jr(ot)}}function te(Et,jt,Xt,ot){for(var Ue,cn,Re=0,ee=jt.length,Le=Xt.length;Re<ee;){if(ot>=Le)return-1;if(37===(Ue=jt.charCodeAt(Re++))){if(Ue=jt.charAt(Re++),!(cn=Lt[Ue in ka?jt.charAt(Re++):Ue])||(ot=cn(Et,Xt,ot))<0)return-1}else if(Ue!=Xt.charCodeAt(ot++))return-1}return ot}return lt.x=Kt(n,lt),lt.X=Kt(i,lt),lt.c=Kt(e,lt),xt.x=Kt(n,xt),xt.X=Kt(i,xt),xt.c=Kt(e,xt),{format:function(Et){var jt=Kt(Et+="",lt);return jt.toString=function(){return Et},jt},parse:function(Et){var jt=At(Et+="",!1);return jt.toString=function(){return Et},jt},utcFormat:function(Et){var jt=Kt(Et+="",xt);return jt.toString=function(){return Et},jt},utcParse:function(Et){var jt=At(Et+="",!0);return jt.toString=function(){return Et},jt}}}(t),Xa=Yn.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var gi=6e4,pi=60*gi,vi=24*pi,Qa=30*vi,Xr=365*vi;function vd(t){return new Date(t)}function md(t){return t instanceof Date?+t:+new Date(+t)}function Ja(t,e,n,i,r,s,a,o,l){var c=aa(vn,vn),u=c.invert,d=c.domain,f=l(".%L"),w=l(":%S"),z=l("%I:%M"),G=l("%I %p"),P=l("%a %d"),et=l("%b %d"),rt=l("%B"),lt=l("%Y"),xt=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[s,1,gi],[s,5,5*gi],[s,15,15*gi],[s,30,30*gi],[r,1,pi],[r,3,3*pi],[r,6,6*pi],[r,12,12*pi],[i,1,vi],[i,2,2*vi],[n,1,6048e5],[e,1,Qa],[e,3,3*Qa],[t,1,Xr]];function Lt(At){return(a(At)<At?f:s(At)<At?w:r(At)<At?z:i(At)<At?G:e(At)<At?n(At)<At?P:et:t(At)<At?rt:lt)(At)}function Kt(At,te,Vt,Zt){if(null==At&&(At=10),"number"==typeof At){var It=Math.abs(Vt-te)/At,Ht=(0,we.YF)(function(zt){return zt[2]}).right(xt,It);Ht===xt.length?(Zt=(0,we.ly)(te/Xr,Vt/Xr,At),At=t):Ht?(Zt=(Ht=xt[It/xt[Ht-1][2]<xt[Ht][2]/It?Ht-1:Ht])[1],At=Ht[0]):(Zt=Math.max((0,we.ly)(te,Vt,At),1),At=o)}return null==Zt?At:At.every(Zt)}return c.invert=function(At){return new Date(u(At))},c.domain=function(At){return arguments.length?d(Js.call(At,md)):d().map(vd)},c.ticks=function(At,te){var zt,Vt=d(),Zt=Vt[0],It=Vt[Vt.length-1],Ht=It<Zt;return Ht&&(zt=Zt,Zt=It,It=zt),zt=(zt=Kt(At,Zt,It,te))?zt.range(Zt,It+1):[],Ht?zt.reverse():zt},c.tickFormat=function(At,te){return null==te?Lt:l(te)},c.nice=function(At,te){var Vt=d();return(At=Kt(At,Vt[0],Vt[Vt.length-1],te))?d(function gd(t,e){var a,n=0,i=(t=t.slice()).length-1,r=t[n],s=t[i];return s<r&&(a=n,n=i,i=a,a=r,r=s,s=a),t[n]=e.floor(r),t[i]=e.ceil(s),t}(Vt,At)):c},c.copy=function(){return sa(c,Ja(t,e,n,i,r,s,a,o,l))},c}var Md=h(73943),Td=h.n(Md),Sd=h(91237),eo=h.n(Sd);const Qr=(t,e,n)=>{const i=function Pd(t,e){return t.reduce((n,i)=>{for(const r of Object.keys(i.scales)){if(r===e)continue;const s=i.scales[r];!s.isDomainFixed||(n[r]||(n[r]=[]),-1===eo()(n[r],s)&&n[r].push(s))}return n},{})}(t,e);return function Dd(t,e){if(e.isContinuous()){const i=t.filter(a=>a!==Ve.iz);return 0===i.length?Ve.iz:[(0,we.VV)(i.filter(a=>void 0!==typeof a[0]).map(a=>a[0])),(0,we.Fp)(i.filter(a=>void 0!==typeof a[1]).map(a=>a[1]))]}const n=Math.max(...t.map(i=>i.length));return Array.from(Array(n)).map((i,r)=>{const s=t.map(a=>r<a.length?a[r]:[]);return Di()(Sr()(s))})}(t.map(s=>{const a=Object.keys(i).reduce((o,l)=>{const c=s.scales[l];return c&&c.isContinuous()&&-1!==eo()(i[l],c)&&(o[l]=c),o},{});return s.renderer.getDomainOfFilteredData(s,a,e,s.scales[e])}),n)},Id=t=>(e,n,i)=>{const r=Qr(e,n,i);return[Math.min(r[0],t[0]),Math.max(r[1],t[1])]};class ir{constructor(e){this.domainCalculator=Qr,this.formatters={},this.isReversed=!1,this.id=e||De.uuid(),this._d3Scale=this.createD3Scale()}get d3Scale(){return this._d3Scale}range(e){return e?(this._d3Scale.range(this.isReversed?e.reverse():e),this):this._d3Scale.range()}domain(e){return e?(this._d3Scale.domain(e),this):this._d3Scale.domain()}fixDomain(e){return this.domain(e),this.isDomainFixed=!0,this}isDomainValid(){return-1===this.domain().findIndex(e=>void 0===e)}reverse(){return this.reversed(!this.isReversed)}reversed(e){return void 0===e?this.isReversed:(this.isReversed=e,this)}}class Vn extends ir{constructor(e){super(e),this.formatters.tick=n=>null==n?void 0:n.toLocaleString()}createD3Scale(){return pa()}convert(e){return this._d3Scale(e)}invert(e){return this._d3Scale.invert(e)}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(e=>isNaN(e))}}class rr extends ir{constructor(e){super(e),this.formatters.tick=n=>{if(qt()(n))throw new Error("Can't format bandFormatScale");return Td()(n)}}createD3Scale(){return Vi()}convert(e,n=.5){return this._d3Scale(e)+n*this.bandwidth()}invert(e){const n=this._d3Scale.domain();if(this.range()[0]<this.range()[1]){const i=this.getRangeMidPoints(n.map(this._d3Scale));return n[(0,we.b4)(i,e)]}{const i=this.getRangeMidPoints(n.map((r,s)=>this._d3Scale(n[n.length-1-s])));return n[n.length-1-(0,we.b4)(i,e)]}}range(e){const n=e?super.range(e):super.range();return e&&this.innerScale&&this.innerScale.range([0,this.bandwidth()]),n}round(e){return e?(this._d3Scale.round(e),this):this._d3Scale.round()}padding(e){return this._d3Scale.paddingInner(e),this._d3Scale.paddingOuter(e/2),this}align(e){return e?(this._d3Scale.align(e),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}step(){return this.domain().length?Math.abs(this.range()[1]-this.range()[0])/this.domain().length:0}copyToLinear(){const e=new Vn;return e.domain(this.range()).range(this.range()),e}bandTicks(){const e=[],n=this.range()[0],i=this.step();for(let r=0;r<=this.domain().length;r++)e.push(n+r*i);return e}isContinuous(){return!1}getRangeMidPoints(e){return e.slice(1).map(n=>n-this._d3Scale.step()*this._d3Scale.paddingInner()/2)}}var Rd=h(62516),no=h.n(Rd);let zn=(()=>{class t extends wn.w{constructor(n="title"){super(),this.formatterName=n,this.areLabelUpdatesEnabled=!0,this.isChartInView=!1,this.destroy$=new Xe.x}initialize(){this.interactionLabelLayer=this.chart.getGrid().getLasagna().addLayer({name:t.LAYER_NAME,order:901,clipped:!1}),this.chart.getEventBus().getStream(pt.hk).pipe((0,Pe.R)(this.destroy$)).subscribe(n=>{this.lastInteractionValuesPayload=n.data,this.isChartInView&&this.handleLabelUpdate()}),this.chart.getEventBus().getStream(pt._7).pipe((0,Pe.R)(this.destroy$)).subscribe(n=>{this.isChartInView=n.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLabelUpdate()})}handleLabelUpdate(){const n=this.chart.getGrid();if(!(n instanceof Mn))throw new Error(`${t.name} requires XYGrid`);const i=n.scales;if(!this.areLabelUpdatesEnabled||this.lastInteractionValuesPayload.interactionType!==de.s.MouseMove||Ge()(i))return;const r=no()(i.x.index,{id:n.bottomScaleId});if(!r)throw new Error("xScale is not defined");const s=De.getInteractionValues(this.lastInteractionValuesPayload.values.x,r.id);this.updateLabel(r,dn()(s)?s.slice(0,s.length-1):s)}updateLabel(n,i){let r=this.interactionLabelLayer.select(`.${t.LAYER_NAME}`);if(r.empty()&&i)r=this.buildInteractionLabel(this.interactionLabelLayer);else if(!i)return void r.remove();const s=n.formatters[this.formatterName]||n.formatters.tick,a=null==s?void 0:s(i);if(!a)throw new Error("labelContent is not defined");const o=r.select("text").text(a),l=o.node().getBBox(),c=this.chart.getGrid().config().dimension,u=c.height()-l.y;o.attr("transform",`translate(0, ${u})`).style("text-anchor","middle");const f=l.width+2*(l.height+l.y),w=[f/2,c.width()-f/2],z=Bn(n,i,.5),G=De.clampToRange(z,w);r.attr("transform",`translate(${G},0)`).select("rect").attrs({transform:`translate(0,${u})`,x:-f/2,y:l.y,width:f,height:l.height})}destroy(){this.chart.getGrid().getLasagna().removeLayer(t.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}buildInteractionLabel(n){const i=n.append("g").attr("class",t.LAYER_NAME);return i.append("rect").attr("class",`${t.LAYER_NAME}__rect`),i.append("text").attr("class",`${t.LAYER_NAME}__text`),i}}return t.LAYER_NAME="interaction-label",t})(),Jr=(()=>{class t extends wn.w{constructor(){super(...arguments),this.isChartInView=!1,this.destroy$=new Xe.x}initialize(){this.interactionLineLayer=this.chart.getGrid().getLasagna().addLayer({name:"interaction-line",order:900,clipped:!0}),this.chart.getEventBus().getStream(pt.hk).pipe((0,Pe.R)(this.destroy$)).subscribe(n=>{this.lastInteractionValuesPayload=n.data,this.isChartInView&&this.handleLineUpdate()}),this.chart.getEventBus().getStream(pt._7).pipe((0,Pe.R)(this.destroy$)).subscribe(n=>{this.isChartInView=n.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLineUpdate()})}handleLineUpdate(){const n=this.chart.getGrid();if(!(n instanceof Mn))throw new Error(`${t.name} requires XYGrid`);const i=n.scales;if(this.lastInteractionValuesPayload.interactionType!==de.s.MouseMove||Ge()(i))return;const r=no()(i.x.index,{id:n.bottomScaleId});if(!r)throw new Error("xScale is not defined");const s=De.getInteractionValues(this.lastInteractionValuesPayload.values.x,r.id);this.updateLine(this.interactionLineLayer,r,s)}updateLine(n,i,r){const s=[];r&&s.push(r);const a=n.selectAll(`.${t.LAYER_NAME}`).data(s),o=c=>i.convert(c),l={class:t.LAYER_NAME,x1:o,y1:0,x2:o,y2:this.chart.getGrid().config().dimension.height()};a.enter().append("line").merge(a).attrs(l),a.exit().remove()}destroy(){this.chart.getGrid().getLasagna().removeLayer(t.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}}return t.LAYER_NAME="interaction-line",t})();class Nd extends wn.w{constructor(e){super(),this.mouseInteractiveArea=e,this.destroy$=new Xe.x,this.interactionValuesActive=!0}initialize(){this.mouseInteractiveArea.active.pipe((0,Pe.R)(this.destroy$)).subscribe(e=>{this.chart.getEventBus().getStream(pt.CC).next({data:e})}),this.chart.getEventBus().getStream(pt.CC).pipe((0,Pe.R)(this.destroy$)).subscribe(e=>{!e.data&&this.chart.getDataManager().chartSeriesSet&&this.highlightReset()}),this.chart.getEventBus().getStream(pt.N).pipe((0,Pe.R)(this.destroy$)).subscribe(e=>this.interactionValuesActive=e.data),this.mouseInteractiveArea.interaction.pipe((0,Pe.R)(this.destroy$)).subscribe(e=>{const n=this.chart.getGrid().scales;if(!Ge()(n)){if(this.interactionValuesActive){const o=De.getXYValues(n.x.list,n.y.list,e.coordinates.x,e.coordinates.y);this.chart.getEventBus().getStream(pt.hk).next({data:{interactionType:e.type,values:o}})}this.chart.getEventBus().getStream(pt.DP).next({data:{interactionType:e.type,coordinates:e.coordinates}})}})}update(){this.highlightReset()}updateDimensions(){this.highlightReset()}destroy(){this.destroy$.next(),this.destroy$.complete()}highlightReset(){this.chart.getEventBus().getStream(pt.hk).next({data:{interactionType:de.s.MouseMove,values:{}}})}}var kd=h(9120),Bd=h.n(kd);let Ud=(()=>{class t{constructor(n,i){this.clipPath=i,this.layers=[],this.container=n.append("g").attr("class",`${t.CONTAINER_CLASS} pointer-events`)}addLayer(n){return this.layers=Bd()(this.layers.concat(n),"order"),this.update(),this.getLayerContainer(n.name)}removeLayer(n){const i=this.layers.findIndex(r=>r.name===n);-1!==i&&(this.layers.splice(i,1),this.update())}getLayerContainer(n){return this.container.select(`.${t.LAYER_CLASS}-${n}`)}getContainer(){return this.container}update(){const n=this.container.selectAll(`g.${t.LAYER_CLASS}`).data(this.layers,i=>i.name).order();n.enter().append("g").attrs({class:i=>`${t.LAYER_CLASS} ${t.LAYER_CLASS}-${i.name}`,"clip-path":i=>i.clipped?`url(#${this.clipPath})`:"","pointer-events":"none"}),n.exit().remove()}}return t.CONTAINER_CLASS="lasagna-container",t.LAYER_CLASS="lasagna-layer",t})();const mn=.5;let mi=(()=>{class t{constructor(){this.borders={},this.adjustRenderingArea=()=>{const n=this.config().dimension,i=this.config().disableRenderAreaHeightCorrection,r=this.config().disableRenderAreaWidthCorrection,s={width:Math.max(0,n.width()),height:Math.max(0,n.height()+(i?0:t.RENDER_AREA_HEIGHT_CORRECTION))};i||(s.y=-t.RENDER_AREA_HEIGHT_CORRECTION);const a=Object.assign(Object.assign({},s),{width:Math.max(0,n.width()-(r?0:t.RENDER_AREA_WIDTH_CORRECTION))});this.renderingAreaClipPath.attrs(s),this.renderingArea.attrs(a)}}getInteractiveArea(){return this.interactiveArea}getLasagna(){return this.lasagna}set scales(n){this._scales=n}get scales(){return this._scales}config(n){return void 0===n?this._config:(this._config=n,this)}target(n){return void 0===n?this._target:(this._target=n,this)}build(){if(!this.config()){const r=new Fi;this.config(r)}this.container=this._target.append("g").attrs({class:t.GRID_CLASS_NAME});const n=t.RENDERING_AREA_CLIP_PATH_PREFIX+De.uuid();this.lasagna=new Ud(this.container,n),this.renderingArea=this.buildRenderingArea(n),this.adjustRenderingArea(),this.gridElementsLayer=this.lasagna.addLayer({name:t.GRID_ELEMENTS_LAYER_NAME,order:100,clipped:!1});const i=this.buildBorders(this.gridElementsLayer);return i&&(this.borders=i),this}buildPlugins(n){return[]}update(){return Ge()(this.scales)||(this.updateBorders(),this.adjustRenderingArea()),this}updateDimensions(n){const i=this.config().dimension;return n.width&&i.outerWidth(n.width-this.getOuterWidthDimensionCorrection()),n.height&&i.outerHeight(n.height),this.adjustRenderingArea(),this.updateRanges(),this}updateRanges(){return this.update(),this}getOuterWidthDimensionCorrection(){return t.TICK_DIMENSION_CORRECTION}buildBorders(n){if(!this.config()||!this.config().borders)return;const i=this.config().borders,r={},s=Object.keys(i);return Se()(s,a=>{var o;i[a]&&(r[a]=null!==(o=this.createBorder(n,i[a]))&&void 0!==o?o:void 0)}),r}buildRenderingArea(n){return this.renderingAreaClipPath=this._target.append("clipPath").attr("id",n).append("rect"),this.lasagna.addLayer({name:t.RENDERING_AREA_LAYER_NAME,order:-1,clipped:!0}).append("rect").attrs({"pointer-events":"all",fill:"transparent"})}createBorder(n,i){const r=n.append("line").attr("class",i.className||t.DEFAULT_BORDER_CLASS_NAME);return i.width&&r.style("stroke-width",i.width),i.color&&r.style("stroke",i.color),r.node()}updateBottomBorder(){var n;if(!this.borders.bottom)throw new Error("BottomBorder is not defined");(0,ce.Z)(this.borders.bottom).attrs({x1:0,y1:this.config().dimension.height()-mn,x2:this.config().dimension.width()+t.TICK_DIMENSION_CORRECTION,y2:this.config().dimension.height()-mn}).classed("hidden",!(null===(n=this._config.borders.bottom)||void 0===n?void 0:n.visible))}updateBorders(){var n,i,r;this.borders.bottom&&this.updateBottomBorder(),this.borders.top&&(0,ce.Z)(this.borders.top).attrs({x1:0,y1:mn,x2:this.config().dimension.width()+t.TICK_DIMENSION_CORRECTION,y2:mn}).classed("hidden",!(null===(n=this._config.borders.top)||void 0===n?void 0:n.visible)),this.borders.right&&(0,ce.Z)(this.borders.right).attrs({x1:this.config().dimension.width()-mn,y1:0,x2:this.config().dimension.width()-mn,y2:this.config().dimension.height()+t.TICK_DIMENSION_CORRECTION}).classed("hidden",!(null===(i=this._config.borders.right)||void 0===i?void 0:i.visible)),this.borders.left&&(0,ce.Z)(this.borders.left).attrs({x1:mn,y1:0,x2:mn,y2:this.config().dimension.height()+t.TICK_DIMENSION_CORRECTION}).classed("hidden",!(null===(r=this._config.borders.left)||void 0===r?void 0:r.visible))}}return t.GRID_CLASS_NAME="nui-chart-grid",t.DEFAULT_BORDER_CLASS_NAME="nui-chart-border",t.RENDERING_AREA_CLIP_PATH_PREFIX="clip-path_",t.GRID_ELEMENTS_LAYER_NAME="grid-elements",t.RENDERING_AREA_LAYER_NAME="rendering-area",t.RENDER_AREA_HEIGHT_CORRECTION=1,t.RENDER_AREA_WIDTH_CORRECTION=1,t.TICK_DIMENSION_CORRECTION=1,t})(),Mn=(()=>{class t extends mi{constructor(n){super(),this.axisX={},this.axisYLeft={},this.axisYRight={},this.gridY={},this.gridX={},this.handleTickLabelOverflowDebounceIndex={},this.isApproximatelyEqual=(i,r)=>Math.abs(i-r)<.1,this.config(n||new je)}get bottomScaleId(){return this._bottomScaleId?this._bottomScaleId:Ge()(this.scales)?void 0:this.scales.x.list[0].id}set bottomScaleId(n){this._bottomScaleId=n}get leftScaleId(){return this._leftScaleId?this._leftScaleId:Ge()(this.scales)?void 0:this.scales.y.list[0].id}set leftScaleId(n){this._leftScaleId=n}get rightScaleId(){return this._rightScaleId}set rightScaleId(n){this._rightScaleId=n}set scales(n){this._scales=n,this._scales&&Object.keys(this._scales).forEach(i=>{var r,s;let o,a=this.config().axis.left;"x"!==i&&"y"!==i||null===(s=null===(r=this._scales[i])||void 0===r?void 0:r.list)||void 0===s||s.filter(l=>l instanceof Vn).forEach(l=>{(null==l?void 0:l.id)===this.leftScaleId?(a=this.config().axis.left,o=zs):(null==l?void 0:l.id)===this.rightScaleId?(a=this.config().axis.right,o=Fr):(null==l?void 0:l.id)===this.bottomScaleId&&(a=this.config().axis.bottom,o=Vs),l.domainCalculator&&!(0,Ve._v)(l.domainCalculator)&&a.gridTicks&&(l.__domainCalculatedWithTicks=!0,l.domainCalculator=((t,e,n)=>{const i=(r,s,a)=>{const o=n(r,s,a),l=Je()(a);Lr(l,o);const u=e(l.d3Scale).scale().ticks(t.approximateTicks);if(u.length<=1)return o;const d=u[1]-u[0];return u[0]>o[0]&&(o[0]=u[0]-d),u[u.length-1]<o[1]&&(o[1]=u[u.length-1]+d),o};return i.domainWithTicks=!0,i})(a,o,l.domainCalculator))})})}get scales(){return this._scales}config(n){return void 0===n?this._config:(this._config=n,this)}build(){return super.build(),this.config().interactive&&(this.interactiveArea=this.renderingArea),this.buildAxes(this.gridElementsLayer),this.recalculateMargins(this.container),this.eventBus.getStream(pt.GJ).pipe((()=>(0,Pe.R)(this.eventBus.getStream(pt.wu)))()).subscribe(i=>{const r=this.handleSeriesStateChange(i);this.eventBus.getStream(pt.mg).next({data:r})}),this}handleSeriesStateChange(n){var i;if(!this.rightScaleId)return;const r=[{scaleId:this.leftScaleId,element:this.axisYLeft.group},{scaleId:this.rightScaleId,element:null===(i=this.axisYRight)||void 0===i?void 0:i.group}],s=this.calculateAxesStyles(n,r);for(const a of r)a.scaleId&&a.element.attrs(s[a.scaleId]);return s}calculateAxesStyles(n,i){const s=n.data.filter(a=>a.state===$t.L.emphasized&&a.series).map(a=>a.series);if(s.length>0){const a=Di()(s.map(o=>null==o?void 0:o.scales.y).filter(o=>!!o));if(a.length<=0)return{};for(const o of a)if(o.id===this.leftScaleId||o.id===this.rightScaleId)return i.reduce((l,c)=>(l[c.scaleId]={opacity:o.id===c.scaleId?1:.1},l),{});return{}}return i.reduce((a,o)=>(a[o.scaleId]={opacity:1},a),{})}buildPlugins(n){const i=[],r=this.config();return r.interactive&&i.push(new Nd(new du(this.getLasagna().getContainer(),this.getInteractiveArea(),r.cursor,r.dimension.margin))),r.interactionPlugins&&(i.push(new Jr),i.push(new zn)),i}update(){return super.update(),this.updateAxes(),this.handleMarginUpdate(),this}drawTicks(n,i,r,s){if(n.visible){const a=s(r.d3Scale).ticks(n.approximateTicks).tickSize(0).tickFormat(r.formatters.tick);let o;i.labelGroup.call(a),r instanceof rr?o=s(r.copyToLinear().d3Scale).tickSize(n.tickSize).tickValues(r.bandTicks()).tickFormat(()=>""):(o=s(r.d3Scale).tickSize(n.tickSize).tickFormat(()=>""),o.ticks(n.approximateTicks)),i.tickGroup.call(o),this.adjustAxisTicks(i.labelGroup,r)}else i.labelGroup.selectAll("*").remove(),i.tickGroup.selectAll("*").remove()}drawGrids(n,i,r,s,a){const l=r(s.d3Scale).tickSize(a).tickFormat(()=>"").ticks(n.approximateTicks);n.gridTicks?i.tickGroup.call(l).selectAll(".tick line").classed("nui-zero-line",u=>0===u):i.tickGroup.selectAll("*").remove()}updateRanges(){if(Ge()(this.scales))return this;const n=this.config().dimension,i=n.padding;return this.scales.x&&Se()(this.scales.x.list,r=>{r.range([i.left,n.width()-i.right])}),this.scales.y&&Se()(this.scales.y.list,r=>{r.range([n.height()-i.bottom,i.top])}),super.updateRanges(),this}updateXAxis(){const n=this.bottomScaleId?this.scales.x.index[this.bottomScaleId]:void 0,i=this.config().axis;if(!n)throw new Error("xScale is not defined");this.axisX.group.attr("transform",`translate(0, ${this.config().dimension.height()})`),this.axisX.labelGroup.attr("transform",`translate(0, ${i.bottom.tickSize})`),this.drawTicks(i.bottom,this.axisX,n,Vs),this.drawGrids(i.bottom,this.gridX,lu,n,this.config().dimension.height()),this.gridX.tickGroup.attr("transform",`translate(0, ${this.config().dimension.height()})`)}updateYAxes(){const n=this.config().axis,i=this.leftScaleId?this.scales.y.index[this.leftScaleId]:void 0;if(!i)throw new Error("yLeftScale is not defined");if(this.axisYLeft.labelGroup.attr("transform",`translate(${-n.left.tickSize-n.left.padding}, 0)`),this.drawTicks(n.left,this.axisYLeft,i,zs),this.drawGrids(n.left,this.gridY,Fr,i,this.config().dimension.width()),this.rightScaleId){const r=this.scales.y.index[this.rightScaleId],s=n.right.padding+this.config().dimension.width()+n.right.tickSize;this.axisYRight.labelGroup.attr("transform",`translate(${s}, 0)`),this.axisYRight.tickGroup.attr("transform",`translate(${this.config().dimension.width()}, 0)`),this.drawTicks(n.right,this.axisYRight,r,Fr)}}updateAxes(){!this.target()||(this.updateXAxis(),this.updateYAxes())}adjustAxisTicks(n,i){const r=[];n.attr("cursor","default"),n.selectAll("g").each(function(){(0,ce.Z)(this).classed("sw-hidden",!1).classed("tick-hidden-text",!1),r.push(this)}),this.filterRepeatedElements(r).forEach(o=>{(0,ce.Z)(o).classed("tick-hidden-text",!0)});const a=this.selectAllAxisLabels(n);a.forEach(o=>{const l=(0,ce.Z)(o);if(l.select("text").attr("x",0).classed(pt.N0,!0),l.classed("pointer-events",!0),l.select("title").empty()){const c=l.data()[0],u=i.formatters.tick?i.formatters.tick(c):c;l.append("title").text(u)}}),this.handleTickLabelOverflow(n,i,a)}handleTickLabelOverflow(n,i,r){var s;const a=this.config().axis;if(i.id===this.bottomScaleId&&(i.isContinuous()||!a.bottom.tickLabel.overflowHandler))return void this.getElementsToHide(r,this._config.dimension.width(),!0).forEach(et=>{const rt=(0,ce.Z)(et);rt.classed("tick-hidden-text",!0),rt.classed("pointer-events",!1)});(i.id===this.rightScaleId||i.id===this.leftScaleId)&&this.getElementsToHide(r,this._config.dimension.height(),!1).forEach(et=>{(0,ce.Z)(et).classed("sw-hidden",!0)});const o=this.config().dimension.margin;let u,l=0,c=0,d=!1,f=!1;const w=a.right.tickLabel.maxWidth,z=a.left.tickLabel.maxWidth;if(i.id===this.bottomScaleId){const P=a.bottom.tickLabel.maxWidth,et=i.bandwidth?i.bandwidth():this.getTickDistance(r);l=qt()(P)?et:et>P?P:et,c=a.bottom.tickLabel.horizontalPadding,u=a.bottom.tickLabel.overflowHandler}else if(i.id!==this.rightScaleId||a.right.fit)if(i.id!==this.leftScaleId||a.left.fit)if(i.id===this.rightScaleId&&a.right.fit&&!qt()(w))l=w,c=a.right.tickLabel.horizontalPadding,u=a.right.tickLabel.overflowHandler,f=!0;else{if(i.id!==this.leftScaleId||!a.left.fit||qt()(z))return;l=z,c=a.left.tickLabel.horizontalPadding,u=a.left.tickLabel.overflowHandler,d=!0}else{const P=o.left-a.left.padding-a.left.tickSize;l=qt()(z)?P:P>z?z:P,c=a.left.tickLabel.horizontalPadding,u=a.left.tickLabel.overflowHandler}else{const P=o.right-a.right.padding-a.right.tickSize;l=qt()(w)?P:P>w?w:P,c=a.right.tickLabel.horizontalPadding,u=a.right.tickLabel.overflowHandler}if(!u)return;let G=0;if(n.select(".sample-ellipsis").empty()){const P=n.append("text");G=(null===(s=P.classed("sample-ellipsis",!0).attr("opacity",0).append("tspan").text("...").node())||void 0===s?void 0:s.getComputedTextLength())||0,P.remove()}this.handleTickLabelOverflowDebounceIndex[i.id]&&(clearTimeout(this.handleTickLabelOverflowDebounceIndex[i.id]),this.handleTickLabelOverflowDebounceIndex[i.id]=null),n.classed("tick-hidden-text",!0),r.forEach(P=>{(0,ce.Z)(P).classed("pointer-events",!1)}),this.handleTickLabelOverflowDebounceIndex[i.id]=setTimeout(()=>{r.forEach(et=>{const rt=(0,ce.Z)(et);rt.select("text").call(u,{widthLimit:l,horizontalPadding:c,ellipsisWidth:G}),rt.classed("pointer-events",!0)});const P=this._config.dimension.marginLocked;P&&(f||d)&&(this.handleMarginUpdate(),P.right=f,P.left=d),n.classed("tick-hidden-text",!1)},t.TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL)}selectAllAxisLabels(n){const i=[];return n.selectAll("g:not(.tick-hidden-text)").each(function(){i.push(this)}),i}getOuterWidthDimensionCorrection(){return this.config().axis.bottom.visible?mi.TICK_DIMENSION_CORRECTION:0}handleMarginUpdate(){const n=uu()(this._config.dimension.margin);this.recalculateMargins(this.container),this.reconcileMarginsWithDebounce(n)}hasRightYAxis(){var n;return this.config().axis.right.visible&&(null===(n=this.rightScaleId)||void 0===n?void 0:n.length)>0}buildAxes(n){this.gridY.tickGroup=n.append("g").classed("sw-axis sw-axis-grid sw-axis-gridY",!0),this.gridX.tickGroup=n.append("g").classed("sw-axis sw-axis-grid sw-axis-gridX",!0),this.axisX.group=n.append("g").classed("sw-axis sw-axis-x",!0),this.axisX.tickGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-ticks",!0),this.axisX.labelGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-labels",!0),this.axisYLeft.group=n.append("g").classed("sw-axis sw-axis-y sw-axis-y-left",!0),this.axisYLeft.tickGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYLeft.labelGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0),this.axisYRight.group=n.append("g").classed("sw-axis sw-axis-y sw-axis-y-right",!0),this.axisYRight.tickGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYRight.labelGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0)}filterRepeatedElements(n){const i=[n[0]];return n.reduce((r,s)=>{const a=(0,ce.Z)(s).text();return a!==r&&i.push(s),a},n[0]&&(0,ce.Z)(n[0]).text()),n.filter(r=>-1===i.indexOf(r))}getElementsToHide(n,i,r){const s=r?"width":"height",a=this.getTextMeasurement(n,s)<i,o=!!r&&this.getMaxTextWidth(n)<this.getTickDistance(n);if(r?a&&o:a)return[];const c=this.elementsFiltering(n,i,s);return n.filter(u=>-1===c.indexOf(u))}elementsFiltering(n,i,r){let s,a=2;const o=l=>"width"===r?this.getMaxTextWidth(l)>this.getTickDistance(l):this.getTextMeasurement(l,r)>i;do{if(s=n.filter((l,c)=>c%a==0),a++,1===s.length&&o(s))break}while(o(s));return s}getTextMeasurement(n,i){const r="width"===i?5:0;return n.reduce((s,a)=>s+a.getBoundingClientRect()[i]+r,0)}getMaxTextWidth(n){return 0===n.length?0:Math.max.apply(null,n.map(i=>i.getBoundingClientRect().width))}getTickDistance(n){if(0===n.length)return 0;let i=1/0;return n.map(s=>{const a=s.getAttribute("transform");if(Gs()(a))throw new Error("tick transform is not defined");return parseFloat(a.slice(a.indexOf("(")+1,a.indexOf(",")))}).reduce((s,a)=>{const o=a-s;return o<i&&(i=o),a}),i}recalculateMargins(n){var i,r,s;if(!n)return;const a=this._config.dimension,o=this.config().axis,l=a.outerWidth(),c=a.outerHeight();!(null===(i=a.marginLocked)||void 0===i?void 0:i.left)&&o.left.fit&&o.left.visible&&(a.margin.left=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYLeft.labelGroup))+o.left.tickSize+o.left.padding),!(null===(r=a.marginLocked)||void 0===r?void 0:r.right)&&o.right.fit&&this.hasRightYAxis()&&(a.margin.right=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYRight.labelGroup))+o.right.tickSize+o.right.padding);const u=this.bottomScaleId&&this.scales?null===(s=this.scales.x)||void 0===s?void 0:s.index[this.bottomScaleId]:void 0;o.bottom.fit&&o.bottom.visible&&((null==u?void 0:u.isContinuous())||!o.bottom.tickLabel.overflowHandler)&&this.fitBottomAxis(a);const f=a.margin.bottom;a.margin.top=a.margin.top,a.margin.bottom=f,a.outerWidth(l),a.outerHeight(c);const w=this.config().dimension.margin.left,z=this.config().dimension.margin.top;n.attr("transform",`translate(${w}, ${z})`)}fitBottomAxis(n){var i,r,s;const a=null===(r=null===(i=this.scales)||void 0===i?void 0:i.x)||void 0===r?void 0:r.list[0].d3Scale;if(!a)return;let o=0,l=0;const c=this.axisX.labelGroup.select(".tick:not(.tick-hidden-text):last-child text").node();if(c){o=c.getBoundingClientRect().width,l=null!==(s=a(c.innerHTML))&&void 0!==s?s:0;const u=a.range()[1],d=o/2-Math.abs(u-l)/2;n.margin.right=d>0?d:0}}reconcileMarginsWithDebounce(n){this.reconcileMarginsDebounce&&(clearTimeout(this.reconcileMarginsDebounce),this.reconcileMarginsDebounce=null),this.reconcileMarginsDebounce=setTimeout(()=>{var i;this.areMarginsApproximatelyEqual(n,this._config.dimension.margin)||null===(i=this.updateChartDimensionsSubject)||void 0===i||i.next()},100)}areMarginsApproximatelyEqual(n,i){return this.isApproximatelyEqual(n.top,i.top)&&this.isApproximatelyEqual(n.right,i.right)&&this.isApproximatelyEqual(n.bottom,i.bottom)&&this.isApproximatelyEqual(n.left,i.left)}}return t.TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL=200,t})();const xi="gauge-label",xn="gauge-labels",sr="threshold-label";var io=h(84524);function Fd(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Wd(t){return t}var qr=h(6947);function ro(){var t=Wd,e=Fd,n=null,i=(0,Me.Z)(0),r=(0,Me.Z)(qr.BZ),s=(0,Me.Z)(0);function a(o){var l,u,d,et,xt,c=o.length,f=0,w=new Array(c),z=new Array(c),G=+i.apply(this,arguments),P=Math.min(qr.BZ,Math.max(-qr.BZ,r.apply(this,arguments)-G)),rt=Math.min(Math.abs(P)/c,s.apply(this,arguments)),lt=rt*(P<0?-1:1);for(l=0;l<c;++l)(xt=z[w[l]=l]=+t(o[l],l,o))>0&&(f+=xt);for(null!=e?w.sort(function(Lt,Kt){return e(z[Lt],z[Kt])}):null!=n&&w.sort(function(Lt,Kt){return n(o[Lt],o[Kt])}),l=0,d=f?(P-c*lt)/f:0;l<c;++l,G=et)z[u=w[l]]={data:o[u],index:l,value:xt=z[u],startAngle:G,endAngle:et=G+(xt>0?xt*d:0)+lt,padAngle:rt};return z}return a.value=function(o){return arguments.length?(t="function"==typeof o?o:(0,Me.Z)(+o),a):t},a.sortValues=function(o){return arguments.length?(e=o,n=null,a):e},a.sort=function(o){return arguments.length?(n=o,e=null,a):n},a.startAngle=function(o){return arguments.length?(i="function"==typeof o?o:(0,Me.Z)(+o),a):i},a.endAngle=function(o){return arguments.length?(r="function"==typeof o?o:(0,Me.Z)(+o),a):r},a.padAngle=function(o){return arguments.length?(s="function"==typeof o?o:(0,Me.Z)(+o),a):s},a}class ar{static generateThresholdArcData(e){if(!e.length)return[];const n=ar.generateArcValues(e),i=[];return ro().sort(null)(n).forEach((a,o)=>{o%2==1&&i.push(a)}),i}static generateArcValues(e){const n=Array(2*e.length-1).fill(0);return e.forEach((i,r)=>{n[2*r]=0===r?i.value:i.value-e[r-1].value}),n}}var yi=h(33335);const Hd={markerRadius:fn.Large,enabled:!0};class so extends yi.E{constructor(e={}){super(e),this.config=e,this.config=an()(this.config,Hd)}draw(e,n){const i=e.containers[$t.n.data],r=Je()(this.config.enabled?e.dataSeries.data:[]);r.sort((l,c)=>l.value-c.value),this.segmentWidth=this.getSegmentWidth(e);const s=this.getInnerRadius(e.scales.r.range(),0),a=(0,io.Z)().outerRadius(this.getOuterRadius(e.scales.r.range(),0)).innerRadius(s>=0?s:0),o=i.selectAll(`circle.${Ii}`).data(ar.generateThresholdArcData(r));o.exit().remove(),o.enter().append("circle").attr("class",Ii).merge(o).attr("cx",l=>a.centroid(l)[0]).attr("cy",l=>a.centroid(l)[1]).attr("r",this.config.markerRadius).style("fill",(l,c)=>`var(--nui-color-${r[c].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getInnerRadius(e,n){if(qt()(this.segmentWidth))throw new Error("Can't compute inner radius");const i=e[1]-e[0]-this.segmentWidth;return i>=0?i:0}}let ao=(()=>{class t extends wn.w{constructor(n={}){super(),this.config=n,this.DEFAULT_CONFIG={padding:5,formatterName:xi,disableThresholdLabels:!1},this.destroy$=new Xe.x,this.config=an()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:xn,order:pt.rz[$t.n.data].order,clipped:!1}),this.chart.getEventBus().getStream(pt.C1).pipe((0,Pe.R)(this.destroy$)).subscribe(n=>{const i=this.lasagnaLayer.select(`.${xn}`);if(!i.empty()){const r=n.data.dataPoints,s=Object.keys(r).find((a,o)=>r[a].index===pt.hZ)?0:1;i.style("opacity",s)}})}update(){this.drawThresholdLabels()}updateDimensions(){this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}drawThresholdLabels(){var n,i;const r=this.chart.getDataManager().chartSeriesSet.find(f=>f.renderer instanceof so);if(qt()(r))return void console.warn("Threshold series is undefined. As a result, threshold labels for the donut gauge will not be rendered.");let s=this.lasagnaLayer.select(`.${xn}`);s.empty()&&(s=this.lasagnaLayer.append("svg:g").attr("class",xn).style("opacity",0));const a=null==r?void 0:r.renderer,o=(null==a?void 0:a.getOuterRadius(null!==(n=null==r?void 0:r.scales.r.range())&&void 0!==n?n:[0,0],0))+this.config.padding;if(qt()(o))throw new Error("Radius is undefined");const l=(0,io.Z)().outerRadius(o).innerRadius(o),c=null!==(i=null==r?void 0:r.scales.r.formatters[this.config.formatterName])&&void 0!==i?i:f=>f,u=Je()(this.config.disableThresholdLabels?[]:null==r?void 0:r.data);if(qt()(u))throw new Error("Gauge threshold series data is undefined");u.sort((f,w)=>f.value-w.value);const d=s.selectAll(`text.${sr}`).data(ar.generateThresholdArcData(u));d.exit().remove(),d.enter().append("text").attr("class",sr).merge(d).attr("transform",f=>`translate(${l.centroid(f)})`).attr("title",(f,w)=>c(u[w].value)).style("text-anchor",f=>this.getTextAnchor(f.startAngle)).style("dominant-baseline",f=>this.getAlignmentBaseline(f.startAngle)).text((f,w)=>c(u[w].value))}getTextAnchor(n){const i=Math.cos(n-Math.PI/2);return i>.5?"start":i<-.5?"end":"middle"}getAlignmentBaseline(n){const i=Math.sin(n+Math.PI/2);return i>.5?"text-after-edge":i<-.5?"text-before-edge":"central"}}return t.MARGIN_DEFAULT=25,t})();class oo extends wn.w{constructor(e={}){super(),this.config=e,this.DEFAULT_CONFIG={padding:5,formatterName:xi,disableThresholdLabels:!1,flippedLabels:!1},this.destroy$=new Xe.x,this.isHorizontal=!0,this.xTranslate=(n,i)=>{var r,s,a,o,l;if(this.isHorizontal){const c=this.thresholdsSeries,u=null===(o=null===(a=null===(s=null===(r=this.thresholdsSeries)||void 0===r?void 0:r.accessors)||void 0===s?void 0:s.data)||void 0===a?void 0:a.value)||void 0===o?void 0:o.call(a,n,i,null==c?void 0:c.data,c);return null===(l=this.thresholdsSeries)||void 0===l?void 0:l.scales.x.convert(u)}return this.getLabelOffset()},this.yTranslate=(n,i)=>{var r,s,a,o,l;if(this.isHorizontal)return this.getLabelOffset();const c=this.thresholdsSeries,u=null===(o=null===(a=null===(s=null===(r=this.thresholdsSeries)||void 0===r?void 0:r.accessors)||void 0===s?void 0:s.data)||void 0===a?void 0:a.value)||void 0===o?void 0:o.call(a,n,i,null==c?void 0:c.data,c);return null===(l=this.thresholdsSeries)||void 0===l?void 0:l.scales.y.convert(u)},this.config=an()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:xn,order:pt.rz[$t.n.data].order,clipped:!1}),this.chart.getEventBus().getStream(pt.CC).pipe((0,Pe.R)(this.destroy$)).subscribe(e=>{const n=this.lasagnaLayer.select(`.${xn}`);n.empty()||n.style("opacity",e.data?1:0)})}update(){this.updateData(),this.drawThresholdLabels()}updateDimensions(){this.updateData(),this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}updateData(){var e;this.thresholdsSeries=this.chart.getDataManager().chartSeriesSet.find(n=>n.id===Or),this.isHorizontal=(null===(e=this.thresholdsSeries)||void 0===e?void 0:e.scales.x)instanceof Vn}drawThresholdLabels(){var e,n,i;if(qt()(this.thresholdsSeries))return void console.warn("Threshold series is undefined. As a result, threshold labels for the linear gauge will not be rendered.");let r=this.lasagnaLayer.select(`.${xn}`);r.empty()&&(r=this.lasagnaLayer.append("svg:g").attr("class",xn).style("opacity",0));const s=Je()(this.config.disableThresholdLabels?[]:null===(e=this.thresholdsSeries)||void 0===e?void 0:e.data);if(qt()(s))throw new Error("Gauge threshold series data is undefined");s.pop();const a=null!==(i=null===(n=this.thresholdsSeries)||void 0===n?void 0:n.scales[this.isHorizontal?"x":"y"].formatters[this.config.formatterName])&&void 0!==i?i:l=>l,o=r.selectAll(`text.${sr}`).data(s);o.exit().remove(),o.enter().append("text").attr("class",sr).merge(o).attr("transform",(l,c)=>`translate(${this.xTranslate(l,c)}, ${this.yTranslate(l,c)})`).attr("title",(l,c)=>a(s[c].value)).style("text-anchor",l=>this.getTextAnchor()).style("dominant-baseline",l=>this.getAlignmentBaseline()).text((l,c)=>a(s[c].value))}getLabelOffset(){let e=0;if(!this.config.flippedLabels){const i=this.chart.getGrid().config().dimension;e=this.isHorizontal?i.height():i.width()}let n=this.config.padding;return n=this.config.flippedLabels?-n:n,e+n}getTextAnchor(){return this.isHorizontal?"middle":this.config.flippedLabels?"end":"start"}getAlignmentBaseline(){return this.isHorizontal?this.config.flippedLabels?"text-after-edge":"hanging":"central"}}class or extends As{constructor(e,n){super(e,n),this.data=Object.assign(Object.assign({},this.data),{startX:(i,r,s,a)=>this.data.category(i,r,s,a),endX:(i,r,s,a)=>this.data.category(i,r,s,a),thicknessX:(i,r,s,a)=>this.data.thickness?this.data.thickness(i,r,s,a):void 0,startY:(i,r,s,a)=>this.data.start(i,r,s,a),endY:(i,r,s,a)=>this.data.end(i,r,s,a)})}}function ts(t,e=new Vn){const n=new rr;let i;return t&&t.grouped&&(n.padding(.25),n.innerScale=new rr),t&&t.horizontal?(n.reverse(),i={x:e,y:n}):i={x:n,y:e},i}const $d={markerRadius:fn.Large,enabled:!0};class co extends ri{constructor(e={}){super(e),this.config=e,this.config=an()(this.config,$d)}draw(e,n){const i=e.containers[$t.n.unclippedData],r=e.dataSeries,s=r.accessors,a=Je()(this.config.enabled?r.data:[]);a.pop();const o=i.selectAll(`circle.${Ii}`).data(a);o.exit().remove(),o.enter().append("circle").attr("class",Ii).merge(o).attr("cx",(l,c)=>{var u,d;return e.scales.x.convert(null===(d=null===(u=null==s?void 0:s.data)||void 0===u?void 0:u.endX)||void 0===d?void 0:d.call(u,l,c,r.data,r))}).attr("cy",(l,c)=>{var u,d;return e.scales.y.convert(null===(d=null===(u=null==s?void 0:s.data)||void 0===u?void 0:u.endY)||void 0===d?void 0:d.call(u,l,c,r.data,r))}).attr("r",this.config.markerRadius).style("fill",(l,c)=>`var(--nui-color-${a[c].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getRequiredLayers(){return[pt.rz[$t.n.unclippedData]]}}var Yd=h(83223),Vd=h.n(Yd);function uo(t,e){if(0===t.length)return t;const n=function zd(t,e="category"){return t.reduce((n,i)=>{const r=i.accessors.data[e],s=i.data.reduce((a,o,l)=>(a.push(null==r?void 0:r(o,l,i.data,i)),a),[]);return Vd()(n,s,a=>a.valueOf())},[])}(t);return t.reduce((r,s)=>{if(!qt()(s.preprocess)&&!s.preprocess)return r;const a=s.accessors.data.category,o=s.accessors.data.value;if(!o)throw new Error("valueAccessor is not defined");const l=s.data.reduce((u,d,f)=>Object.assign(Object.assign({},u),{[a(d,f,s.data,s)]:f}),{}),c=[];return n.forEach((u,d)=>{let f;if(void 0!==l[u]){f=s.data[l[u]];const w={},z=e(s)?1:0;w.start=r[d],r[d]+=(o(f,l[u],s.data,s)||0)*z,w.end=r[d],f.__bar=w,c.push(f)}}),s.data=c,r},Array(n.length).fill(0)),t}function ho(t){return uo(t,e=>!this.isSeriesHidden(e.id))}class es{constructor(e=ei()){this.colorProvider=e,this.data={value:n=>Number.isFinite(n)?n:n.value},this.series={color:this.colorProvider?this.colorProvider.get:void 0}}}class fo extends mi{constructor(){super(...arguments),this.adjustRenderingArea=()=>{const e=this.config().dimension,n={width:e.outerWidth(),height:e.outerHeight(),transform:`translate(${-e.outerWidth()/2}, ${-e.outerHeight()/2})`};this.renderingAreaClipPath.attrs(n),this.renderingArea.attrs(n)}}build(){return super.build(),this.recenter(),this}updateDimensions(e){const n=this.config().dimension;if(qt()(e.width)||n.outerWidth(e.width),qt()(e.height)||n.outerHeight(e.height),this.scales){const i=this.scales.r;i&&i.list[0].range([0,Math.min(n.width(),n.height())/2])}return this.adjustRenderingArea(),this.updateRanges(),setTimeout(()=>{this.recenter()}),this}recenter(){this.container.attrs({transform:`translate(${this.config().dimension.outerWidth()/2},${this.config().dimension.outerHeight()/2})`})}}function go(){const t=new Fi;return t.interactive=!1,(new fo).config(t)}function po(t,e){if(!t[0])return t;const n=ro().sort(null),s=t[0].data.reduce((a,o)=>(a.push(t.map(l=>e(l)&&!l.excludeFromArcCalculation?l.accessors.data.value(l.data[a.length],a.length,l.data,l):0)),a),[]).map(a=>n(a));return t.map((a,o)=>Object.assign(Object.assign({},a),{data:!1===a.preprocess?a.data:s.map(l=>Object.assign(Object.assign({},l[o]),{data:a.data[0]}))}))}function vo(t){return po(t,e=>!this.isSeriesHidden(e.id))}function mo(){return{r:(new Vn).fixDomain(Ve.rX)}}let Zd=(()=>{class t{static createChartAssist(n,i,r){var s,a,o;const l=i===Ze.Donut?go():new Mn(function eu(t,e=ai.Large){const n=new je;return n.interactionPlugins=!1,n.disableRenderAreaHeightCorrection=!0,n.axis.bottom.visible=!1,n.axis.bottom.gridTicks=!1,n.axis.left.visible=!1,n.axis.left.gridTicks=!1,n.borders.left.visible=!1,n.borders.bottom.visible=!1,n.dimension=new $s,t===Ze.Vertical?(n.dimension.autoWidth=!1,n.dimension.width(e)):(n.dimension.autoHeight=!1,n.dimension.height(e)),n}(i,n.linearThickness)),c=l.config(),u=new Nr(l),d=!Ge()(null===(s=n.thresholds)||void 0===s?void 0:s.definitions)&&!(null===(a=n.thresholds)||void 0===a?void 0:a.disableMarkers);if(i===Ze.Donut)return d&&(u.addPlugin(null!=r?r:new ao),c.dimension.margin=t.getMarginForLabelClearance(n,i,c.dimension.margin)),new Fn(u,vo);if(d){const f=!!(null===(o=n.labels)||void 0===o?void 0:o.flipped);u.addPlugin(null!=r?r:new oo({flippedLabels:f})),c.dimension.margin=t.getMarginForLabelClearance(n,i,c.dimension.margin)}return new Fn(u,ho)}static assembleSeriesSet(n,i){var r,s;n.value=null!==(r=n.value)&&void 0!==r?r:0,n.max=null!==(s=n.max)&&void 0!==s?s:0;const a=t.clampConfigToRange(n),o=t.generateRenderingAttributes(a,i);let l,c=[];return a.thresholds&&(l=t.generateThresholdSeries(a,o),c.push(l)),c=[...t.generateQuantityAndRemainderSeriesSet(a,o,null==l?void 0:l.activeThreshold),...c],c}static update(n,i){var r,s;i.value=null!==(r=i.value)&&void 0!==r?r:0,i.max=null!==(s=i.max)&&void 0!==s?s:0;const a=t.clampConfigToRange(i),o=t.generateThresholdsData(a);return n.map(c=>{var u,d,f;return c.id===Ni?Object.assign(Object.assign({},c),{data:[{category:t.DATA_CATEGORY,value:a.value}],activeThreshold:o.activeThreshold,defaultColor:a.defaultQuantityColor||pn.Ok}):c.id===Fs?Object.assign(Object.assign({},c),{data:[{category:t.DATA_CATEGORY,value:a.max-a.value}]}):c.id===Or?(c.renderer.config.enabled=!(null===(u=a.thresholds)||void 0===u?void 0:u.disableMarkers),c.renderer.config.markerRadius=null!==(f=null===(d=a.thresholds)||void 0===d?void 0:d.markerRadius)&&void 0!==f?f:fn.Large,Object.assign(Object.assign({},c),o)):c})}static createStandardThresholdsConfig(n,i){return{definitions:{[gn.Warning]:{id:gn.Warning,value:n,enabled:!0,color:pn.Warning},[gn.Critical]:{id:gn.Critical,value:i,enabled:!0,color:pn.Critical}},reversed:!1,disableMarkers:!1,markerRadius:fn.Large}}static getMarginForLabelClearance(n,i,r){var s,a,o,l,c;if(i===Ze.Donut){const z=null!==(a=null===(s=n.labels)||void 0===s?void 0:s.clearance)&&void 0!==a?a:30,G=Math.max(...Object.values(r),z);return{top:G,right:G,bottom:G,left:G}}let u;const d=!!(null===(o=n.labels)||void 0===o?void 0:o.flipped);u=i===Ze.Horizontal?d?"top":"bottom":d?"left":"right";const f=null!==(c=null===(l=n.labels)||void 0===l?void 0:l.clearance)&&void 0!==c?c:Uc[u],w=Math.max(r[u],f);return Object.assign(Object.assign({},r),{[u]:w})}static generateQuantityAndRemainderSeriesSet(n,i,r){return t.generateQuantityAndRemainderData(n).map(a=>{const{quantityAccessors:o,remainderAccessors:l,scales:c,mainRenderer:u}=i;return o.data&&(o.data.color=(d,f,w,z)=>z.activeThreshold?z.activeThreshold.color:z.defaultColor),l.data&&(l.data.color=()=>n.remainderColor||pn.Remainder),a.id===Ni&&(a.activeThreshold=r,a.defaultColor=n.defaultQuantityColor||pn.Ok),Object.assign(Object.assign({},a),{accessors:a.id===Ni?o:l,scales:c,renderer:u})})}static generateThresholdSeries(n,i){const{quantityAccessors:r,scales:s,thresholdsRenderer:a}=i;return Object.assign(Object.assign({},t.generateThresholdsData(n)),{accessors:r,scales:s,renderer:a,excludeFromArcCalculation:!0,preprocess:!1})}static generateRenderingAttributes(n,i){const r=t.generateRenderingTools(n,i);return{quantityAccessors:r.quantityAccessorFunction(),remainderAccessors:r.remainderAccessorFunction(),mainRenderer:r.mainRendererFunction(),thresholdsRenderer:r.thresholdsRendererFunction(),scales:r.scaleFunction()}}static generateRenderingTools(n,i){var r,s,a;const o={enabled:!(null===(r=n.thresholds)||void 0===r?void 0:r.disableMarkers),markerRadius:null===(s=n.thresholds)||void 0===s?void 0:s.markerRadius},l=null===(a=n.labels)||void 0===a?void 0:a.formatter;return{[Ze.Donut]:{mainRendererFunction:()=>new yi.E({strokeWidth:0,enableSeriesHighlighting:!1}),thresholdsRendererFunction:()=>new so(o),quantityAccessorFunction:()=>new es,remainderAccessorFunction:()=>new es,scaleFunction:()=>{const u=mo();return u.r.formatters[xi]=l,u}},[Ze.Horizontal]:{mainRendererFunction:()=>new ri({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new co(o),quantityAccessorFunction:()=>new ni,remainderAccessorFunction:()=>new ni,scaleFunction:()=>{const u=ts({horizontal:!0});return u.x.formatters[xi]=l,u}},[Ze.Vertical]:{mainRendererFunction:()=>new ri({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new co(o),quantityAccessorFunction:()=>new or,remainderAccessorFunction:()=>new or,scaleFunction:()=>{const u=ts();return u.y.formatters[xi]=l,u}}}[i]}static generateQuantityAndRemainderData(n){return[{id:Ni,data:[{category:t.DATA_CATEGORY,value:n.value}]},{id:Fs,data:[{category:t.DATA_CATEGORY,value:n.max-n.value}]}]}static generateThresholdsData(n){if(!n.thresholds)throw new Error("Thresholds are not defined in the gauge config. Unable to generate threshold data.");const{thresholds:i,activeThreshold:r}=t.prepareThresholdsData(n);return{id:Or,data:[...i,{id:"max",enabled:!0,category:t.DATA_CATEGORY,value:n.max,color:""}],activeThreshold:r}}static prepareThresholdsData(n){var i,r;const s=Object.values((null===(i=n.thresholds)||void 0===i?void 0:i.definitions)||[]).filter(o=>o.enabled).map(o=>{var l;return Object.assign(Object.assign({},o),{category:t.DATA_CATEGORY,hit:(null===(l=n.thresholds)||void 0===l?void 0:l.reversed)?o.value<n.value:o.value<=n.value})}).sort((o,l)=>o.value-l.value),a=(null===(r=n.thresholds)||void 0===r?void 0:r.reversed)?null==s?void 0:s.find(o=>!qt()(o.hit)&&!o.hit):null==s?void 0:s.slice().reverse().find(o=>o.hit);return{thresholds:s,activeThreshold:a}}static clampConfigToRange(n){var i;let r=n.value;n.value>n.max&&(console.warn(`Configured gauge value ${n.value} is greaterthan configured max ${n.max}. Clamping value to ${n.max}.`),r=n.max),n.value<0&&(console.warn(`Configured gauge value ${n.value} is less than 0. Clamping value to 0.`),r=0);const s=(null===(i=n.thresholds)||void 0===i?void 0:i.definitions)||{};return Object.keys(s||{}).forEach(a=>{const o=s[a];o&&(o.value>n.max&&(console.warn(`Configured threshold value ${o.value} for threshold ${a} is greaterthan configured max ${n.max}. Clamping value to ${n.max}.`),o.value=n.max),o.value<0&&(console.warn(`Configured threshold value ${o.value} is less than 0. Clamping value to 0.`),o.value=0))}),Object.assign(Object.assign({},n),{thresholds:Object.assign(Object.assign({},n.thresholds),{definitions:s}),value:r})}}return t.DATA_CATEGORY="gauge",t})();h(63629);class jd{constructor(e,n){this.valueMap=e,this.defaultValue=n,this.get=i=>this.valueMap[i]||this.defaultValue,this.reset()}reset(){}}class Kd{constructor(e){this.element=document.createElement("path"),this.setAttributes({class:"nui-chart-element-marker nui-chart--path__outline","vector-effect":"non-scaling-stroke",d:e})}setColor(e){this.setAttributes({fill:e})}setAttributes(e){for(const n of Object.keys(e))this.element.setAttribute(n,e[n]);this.updateSvg()}getSvg(){return this.svg}updateSvg(){this.svg=this.element.outerHTML}}const Xd=(t,e)=>(n,i,r)=>e(t().concat(n),i,r);class Qd extends ir{constructor(e){super(e),this.formatters.tick=n=>n}createD3Scale(){return function fu(){return ea(Vi.apply(null,arguments).paddingInner(1))}()}convert(e){return this._d3Scale(e)}invert(e){const n=this._d3Scale.domain(),i=n.map(this._d3Scale).slice(0,-1).map(r=>r+this._d3Scale.step()/2);return n[(0,we.b4)(i,e)]}round(e){return e?(this._d3Scale.round(e),this):this._d3Scale.round()}padding(e){return this._d3Scale.padding(e),this}align(e){return e?(this._d3Scale.align(e),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}isContinuous(){return!1}}var ns=h(15439),lr=h.n(ns);const _i=(t,e)=>new Intl.DateTimeFormat(lr().locale(),e).format(t),Jd=t=>_i(t,{hour:"numeric",minute:"2-digit",second:"2-digit"}),qd=t=>_i(t,{hour:"numeric",minute:"2-digit"}),tf=t=>_i(t,{month:"short",day:"2-digit"}),ef=t=>_i(t,{month:"short"}),nf=t=>_i(t,{year:"numeric"}),is=t=>(Ia(t)<t?Jd:Qi(t)<t?qd:Ca(t)<t?tf:En(t)<t?ef:nf)(t);class xo extends ir{constructor(e){super(e),this.formatters.tick=is}createD3Scale(){return function xd(){return Yi.apply(Ja(En,Ca,Gr,Qi,ih,Ia,rh,sh,Xa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}()}convert(e){return this._d3Scale(e)}invert(e){const n=this._d3Scale.invert(e);return isNaN(n.getTime())?void 0:n}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(e=>isNaN(e.getTime()))}}function Gn(t){const e=new Date(t.getFullYear(),0,1).getTimezoneOffset(),n=new Date(t.getFullYear(),6,1).getTimezoneOffset();return Math.max(e,n)!==t.getTimezoneOffset()}class yo extends xo{constructor(e,n){super(n),this.defaultTitleFormatter=i=>{const r=this.interval().asDays(),s=Gn(i),a=Gn(this.domain()[0]),o=!s&&a;let c=0;(o||s&&!a)&&r>=1&&(c=o?36e5:-36e5);const u=new Date(i.getTime()+c),d=r>=1?lr()(u).add(r,"days").toDate():lr()(u).add(this.interval()).toDate();return is(u)+" - "+is(d)},this.interval(e),this._bandScale=Vi(),this.formatters.title=this.defaultTitleFormatter}interval(e){return e?(this._interval=e,this):this._interval}domain(e){if(e){if(0===e.length||e.length%2!=0)throw new Error("TimeIntervalScale domain has to be defined as a pair of [from, to] time values.");const n=Ws()(e,Ve.iz),i=[];if(!n)for(let s=0;s+1<e.length;s+=2)i.push(...this.getBandsForInterval(e[s],e[s+1]));this._bandScale.domain(i);const r=n?e:[e[0],lr()(e[1]).add(this.interval()).toDate()];return super.domain(r)}return super.domain()}range(e){return e?(this._bandScale.range(e),super.range(e)):super.range()}getBands(){return this._bandScale.domain()}convert(e,n=.5){const i=this.truncToInterval(e,this.interval());if(!i)throw new Error("Could not convert interval");const r=this._bandScale(i);return"number"==typeof r?r+n*this.bandwidth():super.convert(e)}invert(e){const n=super.invert(e);return this.truncToInterval(n,this.interval())}bandwidth(){return this._bandScale.bandwidth()}truncToInterval(e,n,i=!1){if(!e)return e;const r=Gn(e),s=i?r:Gn(this.domain()[0]),a=s&&!r,o=!s&&r,c=this.interval().asDays()>=1&&o?(0,ns.duration)(1,"hour").asMilliseconds():0,u=new Date(e.getTime()+c);let d=0;(a||o)&&(d=a?-60:60);const f=6e4*(u.getTimezoneOffset()+d),w=u.getTime()-f,G=w%n.asMilliseconds();return 0===G?u:new Date(w-G+f)}isContinuous(){return!0}getBandsForInterval(e,n){const i=[];let r=this.truncToInterval(e,this.interval(),!0);if(!r)throw new Error("Could not get bands for interval");const s=this.interval().asMilliseconds(),a=this.interval().asDays(),o=Gn(e),l=Gn(n),c=!o&&l?(0,ns.duration)(1,"hour").asMilliseconds():0,u=a>=1?new Date(n.getTime()+c):n;for(;r<=u;)i.push(r),r=new Date(r.getTime()+s);return i}}class rf{constructor(e){}convert(){}invert(){}get d3Scale(){}range(e){}domain(e){}fixDomain(e){return null}isContinuous(){return!1}isDomainValid(){return!0}reverse(){}reversed(e){}}class sf extends je{constructor(){super(),this.dimension.padding.bottom=2}}class _o extends je{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=5,this.axis.bottom.gridTicks=!1,this.axis.left.fit=!0,this.axis.bottom.tickSize=5,this.axis.left.tickSize=0,this.dimension.margin.right=0,this.dimension.padding.bottom=2}}class bo extends je{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!1,this.axis.left.tickSize=0,this.axis.bottom.gridTicks=!0,this.axis.left.fit=!0,this.axis.bottom.fit=!0,this.axis.bottom.tickSize=0,this.axis.left.tickSize=5,this.dimension.padding.left=2,this.borders.left.visible=!0,this.borders.bottom.visible=!1}}class af extends je{constructor(e={showBottomAxis:!0}){super(),this.interactive=!0,this.interactionPlugins=!1,e.showBottomAxis||(this.axis.bottom.visible=!1,this.borders.bottom.visible=!1),this.axis.left.visible=!1,this.axis.left.gridTicks=!1,this.borders.left.visible=!1,this.dimension.autoHeight=!1,this.dimension.margin.top=0,e.showBottomAxis||(this.dimension.margin.bottom=0),this.dimension.height(30)}}function rs(t=new je,e=!1,n=!0){return t.interactionPlugins=!1,t.axis.left.visible=!1,t.axis.left.gridTicks=!1,t.dimension.margin.left=5,t.dimension.margin.right=5,t.dimension.margin.bottom=e?t.dimension.margin.bottom:0,t.dimension.padding.top=5,t.dimension.padding.bottom=5,t.dimension.autoHeight=!1,t.dimension.height(36),n&&(t.borders.top=new Ui),e||(t.borders.bottom.visible=!1),t}var of=h(37669),wo=h(44421);class lf extends wo.i{getAbsolutePosition(e){var n,i;const r=null===(i=null===(n=this.chart.target)||void 0===n?void 0:n.node())||void 0===i?void 0:i.parentNode;if(!r)throw new Error("Chart parent node is not defined");const s=Math.min(...e.map(c=>c.position.x)),a=Math.min(...e.map(c=>c.position.y)),o=r.offsetLeft+this.chart.getGrid().config().dimension.margin.left+s+this.chart.getGrid().config().dimension.width()/2;return{top:r.offsetTop+a+this.chart.getGrid().config().dimension.height()/2,left:o,height:0,width:0}}}var ss=h(3645);const cr=[{x:"end",y:"center"},{x:"end",y:"bottom"},{x:"center",y:"bottom"},{x:"start",y:"bottom"},{x:"start",y:"center"},{x:"start",y:"top"},{x:"center",y:"top"},{x:"end",y:"top"}],cf={start:"end",end:"start",top:"bottom",bottom:"top"};class uf extends ss.n7{getTooltipPosition(e,n){const i=e.data,o=n.renderer.getOuterRadius(n.scales.r.range(),e.index)+this.tooltipPositionOffset,l=(i.startAngle+i.endAngle)/2-Math.PI/2;return{x:Math.cos(l)*o,y:Math.sin(l)*o,width:0,height:0,overlayPositions:[this.getOverlayPosition(l)]}}getAbsolutePosition(e,n){const i=super.getAbsolutePosition(e,n);return i.x+=this.chart.getGrid().config().dimension.width()/2,i.y+=this.chart.getGrid().config().dimension.height()/2,i}getOverlayPosition(e){const n=this.getSectionIndex(e,8);return{originX:cr[n].x,originY:cr[n].y,overlayX:this.opposite(cr[n].x),overlayY:this.opposite(cr[n].y)}}getSectionIndex(e,n){let i=Math.round(e/(2*Math.PI/n))%n;for(;i<0;)i+=n;return i}opposite(e){return cf[e]||e}}class hf extends ss.n7{constructor(e){super()}}function as(){Qt.B.preventDefault(),Qt.B.stopImmediatePropagation()}function df(t){var e=t.document.documentElement,n=(0,ce.Z)(t).on("dragstart.drag",as,!0);"onselectstart"in e?n.on("selectstart.drag",as,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ff(t,e){var n=t.document.documentElement,i=(0,ce.Z)(t).on("dragstart.drag",null);e&&(i.on("click.drag",as,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function os(t){return function(){return t}}function pf(t,e,n){this.target=t,this.type=e,this.selection=n}function Eo(){Qt.B.stopImmediatePropagation()}function ls(){Qt.B.preventDefault(),Qt.B.stopImmediatePropagation()}var Co={name:"drag"},cs={name:"space"},Zn={name:"handle"},jn={name:"center"};function Ao(t){return[+t[0],+t[1]]}function us(t){return[Ao(t[0]),Ao(t[1])]}function vf(t){return function(e){return function gf(t,e,n){arguments.length<3&&(n=e,e=Zs().changedTouches);for(var s,i=0,r=e?e.length:0;i<r;++i)if((s=e[i]).identifier===n)return js(t,s);return null}(e,Qt.B.touches,t)}}var ur={name:"x",handles:["w","e"].map(bi),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},hr={name:"y",handles:["n","s"].map(bi),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ln=(["n","w","e","s","nw","ne","sw","se"].map(bi),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Mo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},To={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},xf={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},yf={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function bi(t){return{type:t}}function _f(){return!Qt.B.ctrlKey&&!Qt.B.button}function bf(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function wf(){return navigator.maxTouchPoints||"ontouchstart"in this}function hs(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ef(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}let Af=(()=>{class t extends wn.w{constructor(n={}){super(),this.config=n,this.destroy$=new Xe.x,this.brushStart=i=>{!qt()(this.brushStartX)||(this.chart.getEventBus().getStream(pt.N).next({data:!1}),this.brushStartX=i)},this.brushMove=i=>{if(qt()(this.brushStartX))return;const r=[this.brushStartX,i].sort((s,a)=>s-a);this.brush.move(this.brushElement,r)},this.brushEnd=i=>{if(qt()(this.brushStartX))return;const r=[this.brushStartX,i].sort((c,u)=>c-u);this.brushStartX=void 0,this.chart.getEventBus().getStream(pt.N).next({data:!0}),this.brush.move(this.brushElement,null);const s=this.grid.scales.x.list;if(!s||r[0]===r[1])return;let a=0;const o=this.grid.config();!o.disableRenderAreaWidthCorrection&&r[1]===o.dimension.width()-mi.RENDER_AREA_WIDTH_CORRECTION&&(a=mi.RENDER_AREA_WIDTH_CORRECTION);const l=s.reduce((c,u)=>(c[u.id]=[r[0],r[1]+a].map(d=>u.invert(d)),c),{});this.chart.getEventBus().getStream(pt.bd).next({data:l})},this.config=an()(this.config,t.DEFAULT_CONFIG),this.interactionHandlerMap={[de.s.MouseDown]:this.brushStart,[de.s.MouseMove]:this.brushMove,[de.s.MouseUp]:this.brushEnd}}initialize(){this.grid=this.chart.getGrid(),this.zoomBrushLayer=this.grid.getLasagna().addLayer({name:t.LAYER_NAME,order:pt.rz[$t.n.foreground].order+1,clipped:!0}),this.chart.getEventBus().getStream(pt.DP).pipe((0,Pe.R)(this.destroy$)).subscribe(n=>{if(n.broadcast&&!this.config.enableExternalEvents)return;const i=n.data;Ge()(this.grid.scales)||Ge()(i.coordinates)||!this.interactionHandlerMap[i.interactionType]||this.interactionHandlerMap[i.interactionType](i.coordinates&&i.coordinates.x)}),this.brush=function Cf(){return function ds(t){var o,e=bf,n=_f,i=wf,r=!0,s=(0,W.Z)("start","brush","end"),a=6;function l(P){var et=P.property("__brush",G).selectAll(".overlay").data([bi("overlay")]);et.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ln.overlay).merge(et).each(function(){var lt=hs(this).extent;(0,ce.Z)(this).attr("x",lt[0][0]).attr("y",lt[0][1]).attr("width",lt[1][0]-lt[0][0]).attr("height",lt[1][1]-lt[0][1])}),P.selectAll(".selection").data([bi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ln.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var rt=P.selectAll(".handle").data(t.handles,function(lt){return lt.type});rt.exit().remove(),rt.enter().append("rect").attr("class",function(lt){return"handle handle--"+lt.type}).attr("cursor",function(lt){return ln[lt.type]}),P.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",w).on("touchend.brush touchcancel.brush",z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var P=(0,ce.Z)(this),et=hs(this).selection;et?(P.selectAll(".selection").style("display",null).attr("x",et[0][0]).attr("y",et[0][1]).attr("width",et[1][0]-et[0][0]).attr("height",et[1][1]-et[0][1]),P.selectAll(".handle").style("display",null).attr("x",function(rt){return"e"===rt.type[rt.type.length-1]?et[1][0]-a/2:et[0][0]-a/2}).attr("y",function(rt){return"s"===rt.type[0]?et[1][1]-a/2:et[0][1]-a/2}).attr("width",function(rt){return"n"===rt.type||"s"===rt.type?et[1][0]-et[0][0]+a:a}).attr("height",function(rt){return"e"===rt.type||"w"===rt.type?et[1][1]-et[0][1]+a:a})):P.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(P,et,rt){var lt=P.__brush.emitter;return!lt||rt&&lt.clean?new d(P,et,rt):lt}function d(P,et,rt){this.that=P,this.args=et,this.state=P.__brush,this.active=0,this.clean=rt}function f(){if((!o||Qt.B.touches)&&n.apply(this,arguments)){var Vt,Zt,Ht,zt,ye,me,ve,ae,wi,Xn,Qn,P=this,et=Qt.B.target.__data__.type,rt="selection"===(r&&Qt.B.metaKey?et="overlay":et)?Co:r&&Qt.B.altKey?jn:Zn,lt=t===hr?null:xf[et],xt=t===ur?null:yf[et],Lt=hs(P),Kt=Lt.extent,At=Lt.selection,te=Kt[0][0],It=Kt[0][1],Be=Kt[1][0],ze=Kt[1][1],Ee=0,Ce=0,Kn=lt&&xt&&r&&Qt.B.shiftKey,dr=Qt.B.touches?vf(Qt.B.changedTouches[0].identifier):Ks,Sn=dr(P),Dn=Sn,Et=u(P,arguments,!0).beforestart();"overlay"===et?(At&&(wi=!0),Lt.selection=At=[[Vt=t===hr?te:Sn[0],Ht=t===ur?It:Sn[1]],[ye=t===hr?Be:Vt,ve=t===ur?ze:Ht]]):(Vt=At[0][0],Ht=At[0][1],ye=At[1][0],ve=At[1][1]),Zt=Vt,zt=Ht,me=ye,ae=ve;var jt=(0,ce.Z)(P).attr("pointer-events","none"),Xt=jt.selectAll(".overlay").attr("cursor",ln[et]);if(Qt.B.touches)Et.moved=Re,Et.ended=Le;else{var ot=(0,ce.Z)(Qt.B.view).on("mousemove.brush",Re,!0).on("mouseup.brush",Le,!0);r&&ot.on("keydown.brush",Ue,!0).on("keyup.brush",cn,!0),df(Qt.B.view)}Eo(),$(P),c.call(P),Et.start()}function Re(){var Fe=dr(P);Kn&&!Xn&&!Qn&&(Math.abs(Fe[0]-Dn[0])>Math.abs(Fe[1]-Dn[1])?Qn=!0:Xn=!0),Dn=Fe,wi=!0,ls(),ee()}function ee(){var Fe;switch(Ee=Dn[0]-Sn[0],Ce=Dn[1]-Sn[1],rt){case cs:case Co:lt&&(Ee=Math.max(te-Vt,Math.min(Be-ye,Ee)),Zt=Vt+Ee,me=ye+Ee),xt&&(Ce=Math.max(It-Ht,Math.min(ze-ve,Ce)),zt=Ht+Ce,ae=ve+Ce);break;case Zn:lt<0?(Ee=Math.max(te-Vt,Math.min(Be-Vt,Ee)),Zt=Vt+Ee,me=ye):lt>0&&(Ee=Math.max(te-ye,Math.min(Be-ye,Ee)),Zt=Vt,me=ye+Ee),xt<0?(Ce=Math.max(It-Ht,Math.min(ze-Ht,Ce)),zt=Ht+Ce,ae=ve):xt>0&&(Ce=Math.max(It-ve,Math.min(ze-ve,Ce)),zt=Ht,ae=ve+Ce);break;case jn:lt&&(Zt=Math.max(te,Math.min(Be,Vt-Ee*lt)),me=Math.max(te,Math.min(Be,ye+Ee*lt))),xt&&(zt=Math.max(It,Math.min(ze,Ht-Ce*xt)),ae=Math.max(It,Math.min(ze,ve+Ce*xt)))}me<Zt&&(lt*=-1,Fe=Vt,Vt=ye,ye=Fe,Fe=Zt,Zt=me,me=Fe,et in Mo&&Xt.attr("cursor",ln[et=Mo[et]])),ae<zt&&(xt*=-1,Fe=Ht,Ht=ve,ve=Fe,Fe=zt,zt=ae,ae=Fe,et in To&&Xt.attr("cursor",ln[et=To[et]])),Lt.selection&&(At=Lt.selection),Xn&&(Zt=At[0][0],me=At[1][0]),Qn&&(zt=At[0][1],ae=At[1][1]),(At[0][0]!==Zt||At[0][1]!==zt||At[1][0]!==me||At[1][1]!==ae)&&(Lt.selection=[[Zt,zt],[me,ae]],c.call(P),Et.brush())}function Le(){if(Eo(),Qt.B.touches){if(Qt.B.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else ff(Qt.B.view,wi),ot.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);jt.attr("pointer-events","all"),Xt.attr("cursor",ln.overlay),Lt.selection&&(At=Lt.selection),Ef(At)&&(Lt.selection=null,c.call(P)),Et.end()}function Ue(){switch(Qt.B.keyCode){case 16:Kn=lt&&xt;break;case 18:rt===Zn&&(lt&&(ye=me-Ee*lt,Vt=Zt+Ee*lt),xt&&(ve=ae-Ce*xt,Ht=zt+Ce*xt),rt=jn,ee());break;case 32:(rt===Zn||rt===jn)&&(lt<0?ye=me-Ee:lt>0&&(Vt=Zt-Ee),xt<0?ve=ae-Ce:xt>0&&(Ht=zt-Ce),rt=cs,Xt.attr("cursor",ln.selection),ee());break;default:return}ls()}function cn(){switch(Qt.B.keyCode){case 16:Kn&&(Xn=Qn=Kn=!1,ee());break;case 18:rt===jn&&(lt<0?ye=me:lt>0&&(Vt=Zt),xt<0?ve=ae:xt>0&&(Ht=zt),rt=Zn,ee());break;case 32:rt===cs&&(Qt.B.altKey?(lt&&(ye=me-Ee*lt,Vt=Zt+Ee*lt),xt&&(ve=ae-Ce*xt,Ht=zt+Ce*xt),rt=jn):(lt<0?ye=me:lt>0&&(Vt=Zt),xt<0?ve=ae:xt>0&&(Ht=zt),rt=Zn),Xt.attr("cursor",ln[et]),ee());break;default:return}ls()}}function w(){u(this,arguments).moved()}function z(){u(this,arguments).ended()}function G(){var P=this.__brush||{selection:null};return P.extent=us(e.apply(this,arguments)),P.dim=t,P}return l.move=function(P,et){P.selection?P.on("start.brush",function(){u(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){u(this,arguments).end()}).tween("brush",function(){var rt=this,lt=rt.__brush,xt=u(rt,arguments),Lt=lt.selection,Kt=t.input("function"==typeof et?et.apply(this,arguments):et,lt.extent),At=zi(Lt,Kt);function te(Vt){lt.selection=1===Vt&&null===Kt?null:At(Vt),c.call(rt),xt.brush()}return null!==Lt&&null!==Kt?te:te(1)}):P.each(function(){var rt=this,lt=arguments,xt=rt.__brush,Lt=t.input("function"==typeof et?et.apply(rt,lt):et,xt.extent),Kt=u(rt,lt).beforestart();$(rt),xt.selection=null===Lt?null:Lt,c.call(rt),Kt.start().brush().end()})},l.clear=function(P){l.move(P,null)},d.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(P){(0,Qt._H)(new pf(l,P,t.output(this.state.selection)),s.apply,s,[P,this.that,this.args])}},l.extent=function(P){return arguments.length?(e="function"==typeof P?P:os(us(P)),l):e},l.filter=function(P){return arguments.length?(n="function"==typeof P?P:os(!!P),l):n},l.touchable=function(P){return arguments.length?(i="function"==typeof P?P:os(!!P),l):i},l.handleSize=function(P){return arguments.length?(a=+P,l):a},l.keyModifiers=function(P){return arguments.length?(r=!!P,l):r},l.on=function(){var P=s.on.apply(s,arguments);return P===s?l:P},l}(ur)}(),this.brushElement=this.zoomBrushLayer.append("g").attr("class","brush"),this.chart.getGrid().getInteractiveArea().on("pointerdown",()=>Qt.B.target.setPointerCapture(Qt.B.pointerId)).on("pointerup",()=>Qt.B.target.releasePointerCapture(Qt.B.pointerId))}updateDimensions(){const n=this.grid.config().dimension;this.brush.extent([[0,0],[n.width(),n.height()]]),this.brush(this.zoomBrushLayer.select(".brush")),this.brushElement.select(".overlay").style("pointer-events","none"),this.brushElement.select(".selection").attr("stroke",null)}destroy(){this.grid.getLasagna().removeLayer(t.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}}return t.LAYER_NAME="zoom-brush",t.DEFAULT_CONFIG={enableExternalEvents:!1},t})();h(4482);class Mf{constructor(e=!0,n=!0,i=new wr(Er),r=new Ar(Cr)){this.showBottomAxis=e,this.showTopBorder=n,this.palette=i,this.markers=r,this.sparks=[],this.isLegendActive=!1,this.highlightedDataPoints={},this.gridConfig=rs(new je,!1,n),this.gridConfig.interactionPlugins=!1,this.lastGridConfig=rs(new je,e,n),this.lastGridConfig.interactionPlugins=!1}update(e){const n=e.map(i=>({id:i.id,chartSeriesSet:[i]}));this.updateSparks(n)}updateSparks(e){const n=Je()(e);this.sparks=n.map((i,r)=>{const s=r===n.length-1,a=i.id?this.sparks.findIndex(o=>o.id===i.id):-1;return-1!==a?i.chart=this.reconfigureChart(this.sparks[a].chart,s):(i.chart=i.chart||this.createChart(s),i.id=i.id||De.uuid()),i.chart.update(i.chartSeriesSet),i})}getHighlightedValue(e,n,i){return Fn.getLabel(e,this.highlightedDataPoints[e.id],n,i)}trackByFn(e,n){return n.id}setRenderState(e,n){}getVisibleSeriesWithLegend(){return[]}createChart(e){const n=new Mn(e?this.lastGridConfig:this.gridConfig),i=new Nr(n);return(this.showTopBorder||this.showBottomAxis)&&i.addPlugin(new Jr),e&&this.showBottomAxis&&i.addPlugin(new zn),this.configureEventSubscriptions(i.getEventBus()),i}configureEventSubscriptions(e){e.getStream(pt.C1).subscribe(n=>{if(n.data.interactionType===de.s.MouseMove){const i=n.data.dataPoints;Object.keys(i).forEach(r=>{this.highlightedDataPoints[r]=Object.assign({},i[r])})}}),e.getStream(pt.CC).subscribe(n=>{this.isLegendActive=n.data})}reconfigureChart(e,n){e.getGrid().config(n?this.lastGridConfig:this.gridConfig),e.updateDimensions();const i=e.hasPlugin(zn);if(n&&!i&&this.showBottomAxis){const r=new zn;e.addPlugin(r),r.initialize()}else!n&&i&&e.removePlugin(zn);return e}}h(88682),h(89657);class Tf{constructor(){this.series=void 0,this.data=void 0}}class Sf extends Ss.T{draw(e,n){}highlightDataPoint(e,n,i){}getRequiredLayers(){return[]}getDataPointPosition(e,n,i){}}function Df(t){const e=new Mn;return e.config(t&&t.horizontal?new bo:new _o),e}function Pf(t,e,n){return t&&t.horizontal?new ni(e,n):new or(e,n)}var If=h(36397),Tn=h.n(If);class Of{constructor(e,n=1,i){this.scaleKey=e,this.levels=n,this.selectedDataPointIdxFn=i}getDataPointIndex(e,n,i,r){const s=i[this.scaleKey];return void 0===s?pt.Vg:this.findDataPointByValue(n,s,this.scaleKey,r)}findDataPointByValue(e,n,i,r){var s,a;const o=i.toUpperCase(),l=e.accessors.data,c=l["start"+o],u=l["end"+o];if("string"==typeof n)return Tn()(e.data,(d,f)=>n===(null==c?void 0:c(d,f,e.data,e)));if(dn()(n))return Tn()(e.data,(d,f)=>{const w=null==c?void 0:c(d,f,e.data,e),z=Math.min(this.levels,n.length,w.length);for(let G=0;G<z;G++)if(n[G]!==w[G])return!1;return!0});if(n.valueOf){const d=n.valueOf();if(r&&(null===(s=r[i])||void 0===s?void 0:s.isContinuous())){let f=Tn()(e.data,(w,z)=>d>=(null==c?void 0:c(w,z,e.data,e).valueOf())&&d<=(null==u?void 0:u(w,z,e.data,e).valueOf()));if(-1===f&&void 0!==u)if((0,Ve.oT)(r[i])){const w=(G,P)=>null==c?void 0:c(G,P,e.data,e),z=De.findNearestIndex(e.data,n,w);f=z>=e.data.length||w(e.data[z],z)>d?-1:z}else f=null!==(a=De.getClosestIndex(e.data,(w,z)=>u(w,z,e.data,e),n))&&void 0!==a?a:-1;return f}return Tn()(e.data,(f,w)=>d>=(null==c?void 0:c(f,w,e.data,e).valueOf())&&d<=(null==u?void 0:u(f,w,e.data,e).valueOf()))}return pt.Vg}highlightDataPoint(e,n,i,r){const s=n.containers[$t.n.data],a=e.getContainerStateStyles,o=qt()(this.selectedDataPointIdxFn)?pt.hZ:this.selectedDataPointIdxFn(n.dataSeries.id);s.selectAll(`g.${e.barContainerClass}`).each(function(l,c){let u;u=i===pt.Vg?c===o||o===pt.hZ?$t.L.default:$t.L.deemphasized:i===c||c===o?$t.L.emphasized:$t.L.deemphasized,(0,ce.Z)(this).attrs(a(u))})}draw(e,n,i){}}class Rf{constructor(e,n=1){this.scaleKey=e,this.levels=n}getDataPointIndex(e,n,i,r){const s=i[this.scaleKey];return void 0===s?pt.Vg:this.findDataPointByValue(n,s,this.scaleKey)}findDataPointByValue(e,n,i){const r=i.toUpperCase(),s=e.accessors.data,a=s["start"+r],o=s["end"+r];if("string"==typeof n)return Tn()(e.data,(l,c)=>n===(null==a?void 0:a(l,c,e.data,e)));if(dn()(n))return Tn()(e.data,(l,c)=>{const u=null==a?void 0:a(l,c,e.data,e),d=Math.min(this.levels,n.length,u.length);for(let f=0;f<d;f++)if(n[f]!==u[f])return!1;return!0});if(n.valueOf){const l=n.valueOf();return Tn()(e.data,(c,u)=>l>=(null==a?void 0:a(c,u,e.data,e).valueOf())&&l<=(null==o?void 0:o(c,u,e.data,e).valueOf()))}return pt.Vg}highlightDataPoint(e,n,i,r){(i>=0||i===pt.Vg)&&r.next({eventName:pt.TC,data:e.getDataPoint(n,n.dataSeries.data[i],i)})}draw(e,n,i){}}class Lf extends yi.E{getArc(e,n,i){return n.outerRadius(e[1]-e[0]).innerRadius(0)}}function Nf(t,e,n){const i=t.accessors.data,r=t.data,s=null==i?void 0:i[e];if(!s)throw new Error("Accessor "+e+" not defined!");const a=s(r[0],0,r,t),o=s(r[r.length-1],r.length-1,r,t);if(!a||!o)throw new Error("First or last values not defined!");const l=new yo(n);l.domain([l.truncToInterval(a,l.interval()),l.truncToInterval(o,l.interval())]);const c=l.getBands(),u=[];let d=0;for(let f=0;f<r.length;f++){const w=s(r[f],f,r,t),z=l.truncToInterval(w,l.interval());if(z&&z>c[d])for(u.push(Object.assign(Object.assign({},r[f-1]),{defined:!1})),u.push(Object.assign(Object.assign({},r[f]),{defined:!1}));c[d]<w;)d++;u.push(r[f]),d++}return u}class kf{constructor(){this.INTERACTION_MARGIN=8}draw(e,n,i){const r=n.containers[$t.n.data];let s=r.select("path.interaction");if(Gs()(e.config.strokeWidth))throw new Error("renderer.config.strokeWidth is not defined");s.empty()&&(s=r.append("path").classed("interaction",!0).classed("pointer-events pointer-events-click",!0).attrs({"stroke-width":e.config.strokeWidth+2*this.INTERACTION_MARGIN,stroke:"transparent",fill:"none"}).on("mouseenter",()=>{i.next({eventName:pt.TC,data:{seriesId:n.dataSeries.id,dataSeries:n.dataSeries,index:0,data:n.dataSeries.data[0]}})}).on("mouseleave",()=>{i.next({eventName:pt.TC,data:{seriesId:n.dataSeries.id,dataSeries:n.dataSeries,index:pt.hZ}})}).on("click",(a,o)=>{this.emitEvent(e,pt.Qi,de.s.Click,n,a,o,i)})),e.drawLine(n,s)}getDataPointIndex(e,n,i,r){}highlightDataPoint(e,n,i,r){}emitEvent(e,n,i,r,s,a,o){const l={seriesId:r.dataSeries.id,dataSeries:r.dataSeries,index:a,data:s,position:e.getDataPointPosition(r.dataSeries,a,r.scales)};o.next({eventName:n,data:{interactionType:i,payload:l}})}}class Bf{constructor(){this.strokeWidth=1,this.interactive=!1,this.strokeStyle=Ri.getStrokeStyleDashed(1),this.useEnhancedLineCaps=!0}}function Uf(){const t=new Mn;return t.config(new sf),t}class Wf extends ii{constructor(e={}){super(e),this.config=e,this.DEFAULT_CONFIG={curveType:Oi,interactive:!0,areaClass:"nui-chart-area",markerInteraction:Pi},this.config=an()(this.config,this.DEFAULT_CONFIG)}draw(e,n){var i,r,s;const a=e.containers[$t.n.data],o=e.dataSeries.accessors;let l=a.select(`path.${this.config.areaClass}`);if(l.empty()){if(!this.config.areaClass)throw new Error("areaClass is not defined");l=a.append("path").classed(this.config.areaClass,!0).attrs({fill:null===(r=(i=o.series).color)||void 0===r?void 0:r.call(i,e.dataSeries.id,e.dataSeries)}).style("stroke-width",null!==(s=this.config.strokeWidth)&&void 0!==s?s:1)}this.drawArea(e,l)}drawArea(e,n){var i;const r=e.dataSeries,s=r.accessors;let a=!1;const o=r.data.filter((c,u)=>{var d,f,w,z,G,P,et,rt;const lt=void 0!==(null===(f=(d=s.data).absoluteX0)||void 0===f?void 0:f.call(d,c,u,r.data,r))&&void 0!==(null===(z=(w=s.data).absoluteX1)||void 0===z?void 0:z.call(w,c,u,r.data,r))&&void 0!==(null===(P=(G=s.data).absoluteY0)||void 0===P?void 0:P.call(G,c,u,r.data,r))&&void 0!==(null===(rt=(et=s.data).absoluteY1)||void 0===rt?void 0:rt.call(et,c,u,r.data,r));return!lt&&!a&&(console.warn("Data point",c,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x0:",s.data.x0),console.warn(" -> accessors.data.y0:",s.data.y0),console.warn(" -> accessors.data.x1:",s.data.x1),console.warn(" -> accessors.data.y1:",s.data.y1),a=!0),lt});if(!this.config.curveType)throw new Error("curveType is not defined");const l=function Ff(){var t=Ls,e=null,n=(0,Me.Z)(0),i=Ns,r=(0,Me.Z)(!0),s=null,a=Oi,o=null;function l(u){var d,f,w,G,et,z=u.length,P=!1,rt=new Array(z),lt=new Array(z);for(null==s&&(o=a(et=(0,Rs.Z)())),d=0;d<=z;++d){if(!(d<z&&r(G=u[d],d,u))===P)if(P=!P)f=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),w=d-1;w>=f;--w)o.point(rt[w],lt[w]);o.lineEnd(),o.areaEnd()}P&&(rt[d]=+t(G,d,u),lt[d]=+n(G,d,u),o.point(e?+e(G,d,u):rt[d],i?+i(G,d,u):lt[d]))}if(et)return o=null,et+""||null}function c(){return Ir().defined(r).curve(a).context(s)}return l.x=function(u){return arguments.length?(t="function"==typeof u?u:(0,Me.Z)(+u),e=null,l):t},l.x0=function(u){return arguments.length?(t="function"==typeof u?u:(0,Me.Z)(+u),l):t},l.x1=function(u){return arguments.length?(e=null==u?null:"function"==typeof u?u:(0,Me.Z)(+u),l):e},l.y=function(u){return arguments.length?(n="function"==typeof u?u:(0,Me.Z)(+u),i=null,l):n},l.y0=function(u){return arguments.length?(n="function"==typeof u?u:(0,Me.Z)(+u),l):n},l.y1=function(u){return arguments.length?(i=null==u?null:"function"==typeof u?u:(0,Me.Z)(+u),l):i},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(i)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(u){return arguments.length?(r="function"==typeof u?u:(0,Me.Z)(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,null!=s&&(o=a(s)),l):a},l.context=function(u){return arguments.length?(null==u?s=o=null:o=a(s=u),l):s},l}().x0((c,u)=>{var d,f;return this.safetyCheck(e.scales.x.convert(null===(f=(d=s.data).absoluteX0)||void 0===f?void 0:f.call(d,c,u,r.data,r)))}).x1((c,u)=>{var d,f;return this.safetyCheck(e.scales.x.convert(null===(f=(d=s.data).absoluteX1)||void 0===f?void 0:f.call(d,c,u,r.data,r)))}).y0((c,u)=>{var d,f;return this.safetyCheck(e.scales.y.convert(null===(f=(d=s.data).absoluteY0)||void 0===f?void 0:f.call(d,c,u,r.data,r)))}).y1((c,u)=>{var d,f;return this.safetyCheck(e.scales.y.convert(null===(f=(d=s.data).absoluteY1)||void 0===f?void 0:f.call(d,c,u,r.data,r)))}).curve(this.config.curveType);n.attr("d",null!==(i=l(o))&&void 0!==i?i:"")}getDomain(e,n,i,r){if(!e||0===e.length)return Ve.iz;const s=n.accessors.data;if("x"!==i&&"y"!==i)return[void 0,void 0];const a=s[`absolute${i.toUpperCase()}0`],o=s[`absolute${i.toUpperCase()}1`];return[(0,we.VV)(e,(l,c,u)=>(0,we.VV)([null==a?void 0:a(l,c,u,n),null==o?void 0:o(l,c,u,n)])),(0,we.Fp)(e,(l,c,u)=>(0,we.Fp)([null==a?void 0:a(l,c,u,n),null==o?void 0:o(l,c,u,n)]))]}getRequiredLayers(){return[pt.rz[$t.n.data],pt.rz[$t.n.foreground]]}filterDataByDomain(e,n,i,r){const s=n.accessors.data[i+"0"],a=n.accessors.data[i+"1"];return e.filter((o,l)=>{const c=null==s?void 0:s(o,l,e,n),u=null==a?void 0:a(o,l,e,n);return Math.max(c,u)>=r[0]&&Math.min(c,u)<=r[1]})}highlightDataPoint(e,n,i){e.dataSeries.accessors.series.marker&&this.config.interactive&&Bs.manageMarker(e.dataSeries,e.scales,n,e.containers[$t.n.foreground],i,this.config.markerInteraction)}safetyCheck(e){return isNaN(e)||void 0===e?0:e}}function $f(t){return function Hf(t,e){if(0===t.length)return t;const n={};for(const s of t){if(!1===s.preprocess)continue;const a=s.accessors.data.x,o=s.accessors.data.y0,l=s.accessors.data.y1,c=e(s)?1:0;s.data.forEach((u,d)=>{const f=a(u,d,s.data,s),w=null==o?void 0:o(u,d,s.data,s),G=((null==l?void 0:l(u,d,s.data,s))-w)*c;let P=n[f.valueOf()];void 0===P&&(P=0,n[f.valueOf()]=P);const et=P+G;n[f.valueOf()]=et,u.__stack_y={start:P,end:et}})}return t}(t,e=>!this.isSeriesHidden(e.id))}function Vf(t){return function Yf(t,e){if(0===t.length)return t;const n={},i={};for(const a of t)zf("x","y",a,e,i);for(const a of t)Gf("x","y",a,e,n,i);return t}(t,e=>!this.isSeriesHidden(e.id))}function zf(t,e,n,i,r){const s=n.accessors.data[t],a=n.accessors.data[e+"0"],o=n.accessors.data[e+"1"],l=i(n)?1:0;n.data.forEach((c,u)=>{const d=s(c,u,n.data,n),f=null==a?void 0:a(c,u,n.data,n),z=((null==o?void 0:o(c,u,n.data,n))-f)*l;let G=r[d.valueOf()];void 0===G&&(G=0,r[d.valueOf()]=G),r[d.valueOf()]=G+z})}function Gf(t,e,n,i,r,s){const a=n.accessors.data[t],o=n.accessors.data[e+"0"],l=n.accessors.data[e+"1"],c=i(n)?1:0;n.data.forEach((u,d)=>{const f=a(u,d,n.data,n),w=null==o?void 0:o(u,d,n.data,n),G=((null==l?void 0:l(u,d,n.data,n))-w)*c;let P=r[f.valueOf()];void 0===P&&(P=0,r[f.valueOf()]=P);const rt=P+G/s[f.valueOf()]*100;r[f.valueOf()]=rt,u["__stack_"+e]={start:P,end:rt}})}function Zf(t,e){const n=new Mr(t,e);return n.data.x=i=>i.x,n.data.y=n.data.absoluteY1,n.data.y0=()=>0,n.data.y1=i=>i.y,n}function jf(t=new je){return t.axis.left.visible=!1,t.axis.left.gridTicks=!1,t.dimension.padding.bottom=5,t.dimension.autoHeight=!1,t.dimension.height(20),t}function Kf(t=new je){return t.axis.bottom.visible=!1,t.dimension.margin.bottom=0,t.dimension.padding.bottom=5,t}},33335:(ht,tt,h)=>{"use strict";h.d(tt,{E:()=>R,G:()=>I});var g=h(84524),E=h(69754),v=h.n(E),A=h(34235),Y=h.n(A),L=h(92893),W=h(2158),m=h(13431),b=h(68208);const I={annularWidth:20,annularPadding:5,maxThickness:30,annularGrowth:.15,cursor:"default",enableSeriesHighlighting:!0,enableDataPointHighlighting:!0};class R extends W.T{constructor(O={}){super(O),this.config=O,this.config=v()(this.config,I)}draw(O,_){const T=O.containers[b.n.data],X=O.dataSeries.data,Q=O.dataSeries.accessors;this.segmentWidth=this.getSegmentWidth(O);const H=T.selectAll("path.arc").data(X);H.exit().remove(),H.enter().append("path").attr("class","arc pointer-events nui-chart--path__outline").style("stroke-width",this.config.strokeWidth).style("cursor",this.config.cursor).on("mouseenter",(j,D)=>{this.emitDataPointHighlight(O,j,D,_)}).on("mouseleave",(j,D)=>{this.emitDataPointHighlight(O,null,L.hZ,_)}).on("click",(j,D)=>{_.next({eventName:L.q7,data:{seriesId:O.dataSeries.id,index:D,data:j.data,position:this.getDataPointPosition(O.dataSeries,D,O.scales)}})}).merge(H).attr("d",(j,D)=>this.getArc(O.scales.r.range(),(0,g.Z)(),D)(j)).attr("fill",(j,D)=>{var st,k;return Q.data.color?Q.data.color(j.data,D,X,O.dataSeries):null===(k=(st=Q.series).color)||void 0===k?void 0:k.call(st,O.dataSeries.id,O.dataSeries)})}getDataPointPosition(O,_,T){if(_<0)return;const X=O.data[_],V=this.getArc(T.r.range(),(0,g.Z)(),_).centroid(X);return{x:V[0],y:V[1],width:0,height:0}}getInnerRadius(O,_){if(Y()(this.segmentWidth)||Y()(this.config.annularPadding))throw new Error("Can't compute inner radius");const T=O[1]-O[0]-this.segmentWidth-_*(this.config.annularPadding+this.segmentWidth);return T>=0?T:0}getOuterRadius(O,_){if(Y()(this.segmentWidth)||Y()(this.config.annularPadding))throw new Error("Can't compute outer radius");const T=O[1]-O[0]-_*(this.config.annularPadding+this.segmentWidth);return T>=0?T:0}getArc(O,_,T){const X=this.getInnerRadius(O,T);return _.outerRadius(this.getOuterRadius(O,T)).innerRadius(X)}getSegmentWidth(O){return this.config.maxThickness&&this.config.annularGrowth?Math.min((O.scales.r.range()[1]-O.scales.r.range()[0])*this.config.annularGrowth,this.config.maxThickness):this.config.annularWidth}emitDataPointHighlight(O,_,T,X){const Q=this.getDataPointPosition(O.dataSeries,T,O.scales),V={seriesId:O.dataSeries.id,dataSeries:O.dataSeries,index:T,data:_,position:Q};this.config.enableSeriesHighlighting&&X.next({eventName:L.TC,data:V}),this.config.enableDataPointHighlighting&&X.next({eventName:L.Rj,data:V}),X.next({eventName:L.C1,data:{interactionType:m.s.MouseMove,dataPoints:{[O.dataSeries.id]:V}}})}}},68208:(ht,tt,h)=>{"use strict";h.d(tt,{L:()=>g,n:()=>E});var g=(()=>{return(v=g||(g={})).hidden="hidden",v.deemphasized="deemphasized",v.emphasized="emphasized",v.default="default",g;var v})(),E=(()=>{return(v=E||(E={})).background="background",v.data="data",v.unclippedData="unclipped-data",v.foreground="foreground",E;var v})()},62225:(ht,tt,h)=>{"use strict";function g(k,$){return k<$?-1:k>$?1:k>=$?0:NaN}function E(k){return 1===k.length&&(k=function v(k){return function($,ct){return g(k($),ct)}}(k)),{left:function($,ct,Z,U){for(null==Z&&(Z=0),null==U&&(U=$.length);Z<U;){var J=Z+U>>>1;k($[J],ct)<0?Z=J+1:U=J}return Z},right:function($,ct,Z,U){for(null==Z&&(Z=0),null==U&&(U=$.length);Z<U;){var J=Z+U>>>1;k($[J],ct)>0?U=J:Z=J+1}return Z}}}h.d(tt,{b4:()=>W,YF:()=>E,We:()=>m,Fp:()=>j,VV:()=>D,w6:()=>st,G9:()=>X,ly:()=>Q,sd:()=>T});const W=E(g).right;function m(k,$){var U,J,Ft,ct=k.length,Z=-1;if(null==$){for(;++Z<ct;)if(null!=(U=k[Z])&&U>=U)for(J=Ft=U;++Z<ct;)null!=(U=k[Z])&&(J>U&&(J=U),Ft<U&&(Ft=U))}else for(;++Z<ct;)if(null!=(U=$(k[Z],Z,k))&&U>=U)for(J=Ft=U;++Z<ct;)null!=(U=$(k[Z],Z,k))&&(J>U&&(J=U),Ft<U&&(Ft=U));return[J,Ft]}var S=Math.sqrt(50),O=Math.sqrt(10),_=Math.sqrt(2);function T(k,$,ct){var Z,J,Ft,Nt,U=-1;if(ct=+ct,(k=+k)==($=+$)&&ct>0)return[k];if((Z=$<k)&&(J=k,k=$,$=J),0===(Nt=X(k,$,ct))||!isFinite(Nt))return[];if(Nt>0)for(k=Math.ceil(k/Nt),$=Math.floor($/Nt),Ft=new Array(J=Math.ceil($-k+1));++U<J;)Ft[U]=(k+U)*Nt;else for(k=Math.floor(k*Nt),$=Math.ceil($*Nt),Ft=new Array(J=Math.ceil(k-$+1));++U<J;)Ft[U]=(k-U)/Nt;return Z&&Ft.reverse(),Ft}function X(k,$,ct){var Z=($-k)/Math.max(0,ct),U=Math.floor(Math.log(Z)/Math.LN10),J=Z/Math.pow(10,U);return U>=0?(J>=S?10:J>=O?5:J>=_?2:1)*Math.pow(10,U):-Math.pow(10,-U)/(J>=S?10:J>=O?5:J>=_?2:1)}function Q(k,$,ct){var Z=Math.abs($-k)/Math.max(0,ct),U=Math.pow(10,Math.floor(Math.log(Z)/Math.LN10)),J=Z/U;return J>=S?U*=10:J>=O?U*=5:J>=_&&(U*=2),$<k?-U:U}function j(k,$){var U,J,ct=k.length,Z=-1;if(null==$){for(;++Z<ct;)if(null!=(U=k[Z])&&U>=U)for(J=U;++Z<ct;)null!=(U=k[Z])&&U>J&&(J=U)}else for(;++Z<ct;)if(null!=(U=$(k[Z],Z,k))&&U>=U)for(J=U;++Z<ct;)null!=(U=$(k[Z],Z,k))&&U>J&&(J=U);return J}function D(k,$){var U,J,ct=k.length,Z=-1;if(null==$){for(;++Z<ct;)if(null!=(U=k[Z])&&U>=U)for(J=U;++Z<ct;)null!=(U=k[Z])&&J>U&&(J=U)}else for(;++Z<ct;)if(null!=(U=$(k[Z],Z,k))&&U>=U)for(J=U;++Z<ct;)null!=(U=$(k[Z],Z,k))&&J>U&&(J=U);return J}function st(k,$,ct){k=+k,$=+$,ct=(U=arguments.length)<2?($=k,k=0,1):U<3?1:+ct;for(var Z=-1,U=0|Math.max(0,Math.ceil(($-k)/ct)),J=new Array(U);++Z<U;)J[Z]=k+Z*ct;return J}},88097:(ht,tt,h)=>{"use strict";h.d(tt,{UI:()=>A});var g="$";function E(){}function v(_,T){var X=new E;if(_ instanceof E)_.each(function(D,st){X.set(st,D)});else if(Array.isArray(_)){var H,Q=-1,V=_.length;if(null==T)for(;++Q<V;)X.set(Q,_[Q]);else for(;++Q<V;)X.set(T(H=_[Q],Q,_),H)}else if(_)for(var j in _)X.set(j,_[j]);return X}E.prototype=v.prototype={constructor:E,has:function(_){return g+_ in this},get:function(_){return this[g+_]},set:function(_,T){return this[g+_]=T,this},remove:function(_){var T=g+_;return T in this&&delete this[T]},clear:function(){for(var _ in this)_[0]===g&&delete this[_]},keys:function(){var _=[];for(var T in this)T[0]===g&&_.push(T.slice(1));return _},values:function(){var _=[];for(var T in this)T[0]===g&&_.push(this[T]);return _},entries:function(){var _=[];for(var T in this)T[0]===g&&_.push({key:T.slice(1),value:this[T]});return _},size:function(){var _=0;for(var T in this)T[0]===g&&++_;return _},empty:function(){for(var _ in this)if(_[0]===g)return!1;return!0},each:function(_){for(var T in this)T[0]===g&&_(this[T],T.slice(1),this)}};const A=v;function I(){}var R=A.prototype;I.prototype=function S(_,T){var X=new I;if(_ instanceof I)_.each(function(H){X.add(H)});else if(_){var Q=-1,V=_.length;if(null==T)for(;++Q<V;)X.add(_[Q]);else for(;++Q<V;)X.add(T(_[Q],Q,_))}return X}.prototype={constructor:I,has:R.has,add:function(_){return this[g+(_+="")]=_,this},remove:R.remove,clear:R.clear,values:R.keys,size:R.size,empty:R.empty,each:R.each}},25922:(ht,tt,h)=>{"use strict";h.d(tt,{Z:()=>W});var g={value:function(){}};function E(){for(var R,m=0,b=arguments.length,I={};m<b;++m){if(!(R=arguments[m]+"")||R in I||/[\s.]/.test(R))throw new Error("illegal type: "+R);I[R]=[]}return new v(I)}function v(m){this._=m}function A(m,b){return m.trim().split(/^|\s+/).map(function(I){var R="",S=I.indexOf(".");if(S>=0&&(R=I.slice(S+1),I=I.slice(0,S)),I&&!b.hasOwnProperty(I))throw new Error("unknown type: "+I);return{type:I,name:R}})}function Y(m,b){for(var S,I=0,R=m.length;I<R;++I)if((S=m[I]).name===b)return S.value}function L(m,b,I){for(var R=0,S=m.length;R<S;++R)if(m[R].name===b){m[R]=g,m=m.slice(0,R).concat(m.slice(R+1));break}return null!=I&&m.push({name:b,value:I}),m}v.prototype=E.prototype={constructor:v,on:function(m,b){var S,I=this._,R=A(m+"",I),O=-1,_=R.length;if(!(arguments.length<2)){if(null!=b&&"function"!=typeof b)throw new Error("invalid callback: "+b);for(;++O<_;)if(S=(m=R[O]).type)I[S]=L(I[S],m.name,b);else if(null==b)for(S in I)I[S]=L(I[S],m.name,null);return this}for(;++O<_;)if((S=(m=R[O]).type)&&(S=Y(I[S],m.name)))return S},copy:function(){var m={},b=this._;for(var I in b)m[I]=b[I].slice();return new v(m)},call:function(m,b){if((S=arguments.length-2)>0)for(var S,O,I=new Array(S),R=0;R<S;++R)I[R]=arguments[R+2];if(!this._.hasOwnProperty(m))throw new Error("unknown type: "+m);for(R=0,S=(O=this._[m]).length;R<S;++R)O[R].value.apply(b,I)},apply:function(m,b,I){if(!this._.hasOwnProperty(m))throw new Error("unknown type: "+m);for(var R=this._[m],S=0,O=R.length;S<O;++S)R[S].value.apply(b,I)}};const W=E},73066:(ht,tt,h)=>{"use strict";h.d(tt,{Z:()=>W});var g=Math.PI,E=2*g,v=1e-6,A=E-v;function Y(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function L(){return new Y}Y.prototype=L.prototype={constructor:Y,moveTo:function(m,b){this._+="M"+(this._x0=this._x1=+m)+","+(this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(m,b){this._+="L"+(this._x1=+m)+","+(this._y1=+b)},quadraticCurveTo:function(m,b,I,R){this._+="Q"+ +m+","+ +b+","+(this._x1=+I)+","+(this._y1=+R)},bezierCurveTo:function(m,b,I,R,S,O){this._+="C"+ +m+","+ +b+","+ +I+","+ +R+","+(this._x1=+S)+","+(this._y1=+O)},arcTo:function(m,b,I,R,S){var O=this._x1,_=this._y1,T=(I=+I)-(m=+m),X=(R=+R)-(b=+b),Q=O-m,V=_-b,H=Q*Q+V*V;if((S=+S)<0)throw new Error("negative radius: "+S);if(null===this._x1)this._+="M"+(this._x1=m)+","+(this._y1=b);else if(H>v)if(Math.abs(V*T-X*Q)>v&&S){var j=I-O,D=R-_,st=T*T+X*X,k=j*j+D*D,$=Math.sqrt(st),ct=Math.sqrt(H),Z=S*Math.tan((g-Math.acos((st+H-k)/(2*$*ct)))/2),U=Z/ct,J=Z/$;Math.abs(U-1)>v&&(this._+="L"+(m+U*Q)+","+(b+U*V)),this._+="A"+S+","+S+",0,0,"+ +(V*j>Q*D)+","+(this._x1=m+J*T)+","+(this._y1=b+J*X)}else this._+="L"+(this._x1=m)+","+(this._y1=b)},arc:function(m,b,I,R,S,O){m=+m,b=+b,O=!!O;var _=(I=+I)*Math.cos(R),T=I*Math.sin(R),X=m+_,Q=b+T,V=1^O,H=O?R-S:S-R;if(I<0)throw new Error("negative radius: "+I);null===this._x1?this._+="M"+X+","+Q:(Math.abs(this._x1-X)>v||Math.abs(this._y1-Q)>v)&&(this._+="L"+X+","+Q),I&&(H<0&&(H=H%E+E),H>A?this._+="A"+I+","+I+",0,1,"+V+","+(m-_)+","+(b-T)+"A"+I+","+I+",0,1,"+V+","+(this._x1=X)+","+(this._y1=Q):H>v&&(this._+="A"+I+","+I+",0,"+ +(H>=g)+","+V+","+(this._x1=m+I*Math.cos(S))+","+(this._y1=b+I*Math.sin(S))))},rect:function(m,b,I,R){this._+="M"+(this._x0=this._x1=+m)+","+(this._y0=this._y1=+b)+"h"+ +I+"v"+ +R+"h"+-I+"Z"},toString:function(){return this._}};const W=L},97905:(ht,tt,h)=>{"use strict";function g(E){return function(){return this.matches(E)}}h.d(tt,{Z:()=>g})},36175:(ht,tt,h)=>{"use strict";h.d(tt,{Z:()=>E});var g=h(53517);function E(v){var A=v+="",Y=A.indexOf(":");return Y>=0&&"xmlns"!==(A=v.slice(0,Y))&&(v=v.slice(Y+1)),g.Z.hasOwnProperty(A)?{space:g.Z[A],local:v}:v}},53517:(ht,tt,h)=>{"use strict";h.d(tt,{P:()=>g,Z:()=>E});var g="http://www.w3.org/1999/xhtml";const E={svg:"http://www.w3.org/2000/svg",xhtml:g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},52016:(ht,tt,h)=>{"use strict";h.d(tt,{Z:()=>E});var g=h(73171);function E(v){return"string"==typeof v?new g.Y1([[document.querySelector(v)]],[document.documentElement]):new g.Y1([[v]],g.Jz)}},73171:(ht,tt,h)=>{"use strict";h.d(tt,{Y1:()=>ut,ZP:()=>Yt,Jz:()=>dt});var g=h(29742),v=h(32037),Y=h(97905);function W(p){return new Array(p.length)}function b(p,F){this.ownerDocument=p.ownerDocument,this.namespaceURI=p.namespaceURI,this._next=null,this._parent=p,this.__data__=F}function S(p,F,gt,bt,mt,Tt){for(var St,wt=0,kt=F.length,Bt=Tt.length;wt<Bt;++wt)(St=F[wt])?(St.__data__=Tt[wt],bt[wt]=St):gt[wt]=new b(p,Tt[wt]);for(;wt<kt;++wt)(St=F[wt])&&(mt[wt]=St)}function O(p,F,gt,bt,mt,Tt,wt){var St,kt,be,Bt={},pe=F.length,Ye=Tt.length,Oe=new Array(pe);for(St=0;St<pe;++St)(kt=F[St])&&(Oe[St]=be="$"+wt.call(kt,kt.__data__,St,F),be in Bt?mt[St]=kt:Bt[be]=kt);for(St=0;St<Ye;++St)(kt=Bt[be="$"+wt.call(p,Tt[St],St,Tt)])?(bt[St]=kt,kt.__data__=Tt[St],Bt[be]=null):gt[St]=new b(p,Tt[St]);for(St=0;St<pe;++St)(kt=F[St])&&Bt[Oe[St]]===kt&&(mt[St]=kt)}function j(p,F){return p<F?-1:p>F?1:p>=F?0:NaN}b.prototype={constructor:b,appendChild:function(p){return this._parent.insertBefore(p,this._next)},insertBefore:function(p,F){return this._parent.insertBefore(p,F)},querySelector:function(p){return this._parent.querySelector(p)},querySelectorAll:function(p){return this._parent.querySelectorAll(p)}};var U=h(36175);function J(p){return function(){this.removeAttribute(p)}}function Ft(p){return function(){this.removeAttributeNS(p.space,p.local)}}function Nt(p,F){return function(){this.setAttribute(p,F)}}function Gt(p,F){return function(){this.setAttributeNS(p.space,p.local,F)}}function ne(p,F){return function(){var gt=F.apply(this,arguments);null==gt?this.removeAttribute(p):this.setAttribute(p,gt)}}function se(p,F){return function(){var gt=F.apply(this,arguments);null==gt?this.removeAttributeNS(p.space,p.local):this.setAttributeNS(p.space,p.local,gt)}}var re=h(24476);function Jt(p){return function(){delete this[p]}}function ue(p,F){return function(){this[p]=F}}function le(p,F){return function(){var gt=F.apply(this,arguments);null==gt?delete this[p]:this[p]=gt}}function M(p){return p.trim().split(/^|\s+/)}function K(p){return p.classList||new Ot(p)}function Ot(p){this._node=p,this._names=M(p.getAttribute("class")||"")}function Wt(p,F){for(var gt=K(p),bt=-1,mt=F.length;++bt<mt;)gt.add(F[bt])}function fe(p,F){for(var gt=K(p),bt=-1,mt=F.length;++bt<mt;)gt.remove(F[bt])}function Ae(p){return function(){Wt(this,p)}}function xe(p){return function(){fe(this,p)}}function ge(p,F){return function(){(F.apply(this,arguments)?Wt:fe)(this,p)}}function We(){this.textContent=""}function He(p){return function(){this.textContent=p}}function he(p){return function(){var F=p.apply(this,arguments);this.textContent=null==F?"":F}}function $e(){this.innerHTML=""}function qe(p){return function(){this.innerHTML=p}}function tn(p){return function(){var F=p.apply(this,arguments);this.innerHTML=null==F?"":F}}function en(){this.nextSibling&&this.parentNode.appendChild(this)}function Pn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Ot.prototype={add:function(p){this._names.indexOf(p)<0&&(this._names.push(p),this._node.setAttribute("class",this._names.join(" ")))},remove:function(p){var F=this._names.indexOf(p);F>=0&&(this._names.splice(F,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(p){return this._names.indexOf(p)>=0}};var On=h(53517);function Rn(p){return function(){var F=this.ownerDocument,gt=this.namespaceURI;return gt===On.P&&F.documentElement.namespaceURI===On.P?F.createElement(p):F.createElementNS(gt,p)}}function nn(p){return function(){return this.ownerDocument.createElementNS(p.space,p.local)}}function yn(p){var F=(0,U.Z)(p);return(F.local?nn:Rn)(F)}function B(){return null}function q(){var p=this.parentNode;p&&p.removeChild(this)}function at(){var p=this.cloneNode(!1),F=this.parentNode;return F?F.insertBefore(p,this.nextSibling):p}function _t(){var p=this.cloneNode(!0),F=this.parentNode;return F?F.insertBefore(p,this.nextSibling):p}var Dt=h(61746),Rt=h(2442);function Pt(p,F,gt){var bt=(0,Rt.Z)(p),mt=bt.CustomEvent;"function"==typeof mt?mt=new mt(F,gt):(mt=bt.document.createEvent("Event"),gt?(mt.initEvent(F,gt.bubbles,gt.cancelable),mt.detail=gt.detail):mt.initEvent(F,!1,!1)),p.dispatchEvent(mt)}function vt(p,F){return function(){return Pt(this,p,F)}}function Ut(p,F){return function(){return Pt(this,p,F.apply(this,arguments))}}var dt=[null];function ut(p,F){this._groups=p,this._parents=F}function yt(){return new ut([[document.documentElement]],dt)}ut.prototype=yt.prototype={constructor:ut,select:function E(p){"function"!=typeof p&&(p=(0,g.Z)(p));for(var F=this._groups,gt=F.length,bt=new Array(gt),mt=0;mt<gt;++mt)for(var kt,Bt,Tt=F[mt],wt=Tt.length,St=bt[mt]=new Array(wt),pe=0;pe<wt;++pe)(kt=Tt[pe])&&(Bt=p.call(kt,kt.__data__,pe,Tt))&&("__data__"in kt&&(Bt.__data__=kt.__data__),St[pe]=Bt);return new ut(bt,this._parents)},selectAll:function A(p){"function"!=typeof p&&(p=(0,v.Z)(p));for(var F=this._groups,gt=F.length,bt=[],mt=[],Tt=0;Tt<gt;++Tt)for(var kt,wt=F[Tt],St=wt.length,Bt=0;Bt<St;++Bt)(kt=wt[Bt])&&(bt.push(p.call(kt,kt.__data__,Bt,wt)),mt.push(kt));return new ut(bt,mt)},filter:function L(p){"function"!=typeof p&&(p=(0,Y.Z)(p));for(var F=this._groups,gt=F.length,bt=new Array(gt),mt=0;mt<gt;++mt)for(var kt,Tt=F[mt],wt=Tt.length,St=bt[mt]=[],Bt=0;Bt<wt;++Bt)(kt=Tt[Bt])&&p.call(kt,kt.__data__,Bt,Tt)&&St.push(kt);return new ut(bt,this._parents)},data:function _(p,F){if(!p)return be=new Array(this.size()),Bt=-1,this.each(function(Ci){be[++Bt]=Ci}),be;var gt=F?O:S,bt=this._parents,mt=this._groups;"function"!=typeof p&&(p=function I(p){return function(){return p}}(p));for(var Tt=mt.length,wt=new Array(Tt),St=new Array(Tt),kt=new Array(Tt),Bt=0;Bt<Tt;++Bt){var pe=bt[Bt],Ye=mt[Bt],Oe=Ye.length,be=p.call(pe,pe&&pe.__data__,Bt,bt),rn=be.length,Ei=St[Bt]=new Array(rn),_n=wt[Bt]=new Array(rn);gt(pe,Ye,Ei,_n,kt[Bt]=new Array(Oe),be,F);for(var Ln,Jn,hn=0,bn=0;hn<rn;++hn)if(Ln=Ei[hn]){for(hn>=bn&&(bn=hn+1);!(Jn=_n[bn])&&++bn<rn;);Ln._next=Jn||null}}return(wt=new ut(wt,bt))._enter=St,wt._exit=kt,wt},enter:function m(){return new ut(this._enter||this._groups.map(W),this._parents)},exit:function T(){return new ut(this._exit||this._groups.map(W),this._parents)},join:function X(p,F,gt){var bt=this.enter(),mt=this,Tt=this.exit();return bt="function"==typeof p?p(bt):bt.append(p+""),null!=F&&(mt=F(mt)),null==gt?Tt.remove():gt(Tt),bt&&mt?bt.merge(mt).order():mt},merge:function Q(p){for(var F=this._groups,gt=p._groups,bt=F.length,Tt=Math.min(bt,gt.length),wt=new Array(bt),St=0;St<Tt;++St)for(var Oe,kt=F[St],Bt=gt[St],pe=kt.length,Ye=wt[St]=new Array(pe),be=0;be<pe;++be)(Oe=kt[be]||Bt[be])&&(Ye[be]=Oe);for(;St<bt;++St)wt[St]=F[St];return new ut(wt,this._parents)},order:function V(){for(var p=this._groups,F=-1,gt=p.length;++F<gt;)for(var wt,bt=p[F],mt=bt.length-1,Tt=bt[mt];--mt>=0;)(wt=bt[mt])&&(Tt&&4^wt.compareDocumentPosition(Tt)&&Tt.parentNode.insertBefore(wt,Tt),Tt=wt);return this},sort:function H(p){function F(Ye,Oe){return Ye&&Oe?p(Ye.__data__,Oe.__data__):!Ye-!Oe}p||(p=j);for(var gt=this._groups,bt=gt.length,mt=new Array(bt),Tt=0;Tt<bt;++Tt){for(var Bt,wt=gt[Tt],St=wt.length,kt=mt[Tt]=new Array(St),pe=0;pe<St;++pe)(Bt=wt[pe])&&(kt[pe]=Bt);kt.sort(F)}return new ut(mt,this._parents).order()},call:function D(){var p=arguments[0];return arguments[0]=this,p.apply(null,arguments),this},nodes:function st(){var p=new Array(this.size()),F=-1;return this.each(function(){p[++F]=this}),p},node:function k(){for(var p=this._groups,F=0,gt=p.length;F<gt;++F)for(var bt=p[F],mt=0,Tt=bt.length;mt<Tt;++mt){var wt=bt[mt];if(wt)return wt}return null},size:function $(){var p=0;return this.each(function(){++p}),p},empty:function ct(){return!this.node()},each:function Z(p){for(var F=this._groups,gt=0,bt=F.length;gt<bt;++gt)for(var St,mt=F[gt],Tt=0,wt=mt.length;Tt<wt;++Tt)(St=mt[Tt])&&p.call(St,St.__data__,Tt,mt);return this},attr:function oe(p,F){var gt=(0,U.Z)(p);if(arguments.length<2){var bt=this.node();return gt.local?bt.getAttributeNS(gt.space,gt.local):bt.getAttribute(gt)}return this.each((null==F?gt.local?Ft:J:"function"==typeof F?gt.local?se:ne:gt.local?Gt:Nt)(gt,F))},style:re.Z,property:function _e(p,F){return arguments.length>1?this.each((null==F?Jt:"function"==typeof F?le:ue)(p,F)):this.node()[p]},classed:function Te(p,F){var gt=M(p+"");if(arguments.length<2){for(var bt=K(this.node()),mt=-1,Tt=gt.length;++mt<Tt;)if(!bt.contains(gt[mt]))return!1;return!0}return this.each(("function"==typeof F?ge:F?Ae:xe)(gt,F))},text:function Ct(p){return arguments.length?this.each(null==p?We:("function"==typeof p?he:He)(p)):this.node().textContent},html:function Ke(p){return arguments.length?this.each(null==p?$e:("function"==typeof p?tn:qe)(p)):this.node().innerHTML},raise:function un(){return this.each(en)},lower:function In(){return this.each(Pn)},append:function C(p){var F="function"==typeof p?p:yn(p);return this.select(function(){return this.appendChild(F.apply(this,arguments))})},insert:function N(p,F){var gt="function"==typeof p?p:yn(p),bt=null==F?B:"function"==typeof F?F:(0,g.Z)(F);return this.select(function(){return this.insertBefore(gt.apply(this,arguments),bt.apply(this,arguments)||null)})},remove:function nt(){return this.each(q)},clone:function Mt(p){return this.select(p?_t:at)},datum:function it(p){return arguments.length?this.property("__data__",p):this.node().__data__},on:Dt.ZP,dispatch:function ft(p,F){return this.each(("function"==typeof F?Ut:vt)(p,F))}};const Yt=yt},61746:(ht,tt,h)=>{"use strict";h.d(tt,{B:()=>E,ZP:()=>b,_H:()=>I});var g={},E=null;function A(R,S,O){return R=Y(R,S,O),function(_){var T=_.relatedTarget;(!T||T!==this&&!(8&T.compareDocumentPosition(this)))&&R.call(this,_)}}function Y(R,S,O){return function(_){var T=E;E=_;try{R.call(this,this.__data__,S,O)}finally{E=T}}}function L(R){return R.trim().split(/^|\s+/).map(function(S){var O="",_=S.indexOf(".");return _>=0&&(O=S.slice(_+1),S=S.slice(0,_)),{type:S,name:O}})}function W(R){return function(){var S=this.__on;if(S){for(var X,O=0,_=-1,T=S.length;O<T;++O)X=S[O],R.type&&X.type!==R.type||X.name!==R.name?S[++_]=X:this.removeEventListener(X.type,X.listener,X.capture);++_?S.length=_:delete this.__on}}}function m(R,S,O){var _=g.hasOwnProperty(R.type)?A:Y;return function(T,X,Q){var H,V=this.__on,j=_(S,X,Q);if(V)for(var D=0,st=V.length;D<st;++D)if((H=V[D]).type===R.type&&H.name===R.name)return this.removeEventListener(H.type,H.listener,H.capture),this.addEventListener(H.type,H.listener=j,H.capture=O),void(H.value=S);this.addEventListener(R.type,j,O),H={type:R.type,name:R.name,value:S,listener:j,capture:O},V?V.push(H):this.__on=[H]}}function b(R,S,O){var T,Q,_=L(R+""),X=_.length;if(!(arguments.length<2)){for(V=S?m:W,null==O&&(O=!1),T=0;T<X;++T)this.each(V(_[T],S,O));return this}var V=this.node().__on;if(V)for(var D,H=0,j=V.length;H<j;++H)for(T=0,D=V[H];T<X;++T)if((Q=_[T]).type===D.type&&Q.name===D.name)return D.value}function I(R,S,O,_){var T=E;R.sourceEvent=E,E=R;try{return S.apply(O,_)}finally{E=T}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(g={mouseenter:"mouseover",mouseleave:"mouseout"}))},24476:(ht,tt,h)=>{"use strict";h.d(tt,{S:()=>L,Z:()=>Y});var g=h(2442);function E(W){return function(){this.style.removeProperty(W)}}function v(W,m,b){return function(){this.style.setProperty(W,m,b)}}function A(W,m,b){return function(){var I=m.apply(this,arguments);null==I?this.style.removeProperty(W):this.style.setProperty(W,I,b)}}function Y(W,m,b){return arguments.length>1?this.each((null==m?E:"function"==typeof m?A:v)(W,m,null==b?"":b)):L(this.node(),W)}function L(W,m){return W.style.getPropertyValue(m)||(0,g.Z)(W).getComputedStyle(W,null).getPropertyValue(m)}},29742:(ht,tt,h)=>{"use strict";function g(){}function E(v){return null==v?g:function(){return this.querySelector(v)}}h.d(tt,{Z:()=>E})},32037:(ht,tt,h)=>{"use strict";function g(){return[]}function E(v){return null==v?g:function(){return this.querySelectorAll(v)}}h.d(tt,{Z:()=>E})},2442:(ht,tt,h)=>{"use strict";function g(E){return E.ownerDocument&&E.ownerDocument.defaultView||E.document&&E||E.defaultView}h.d(tt,{Z:()=>g})},84524:(ht,tt,h)=>{"use strict";h.d(tt,{Z:()=>R});var g=h(73066),E=h(21456),v=h(6947);function A(S){return S.innerRadius}function Y(S){return S.outerRadius}function L(S){return S.startAngle}function W(S){return S.endAngle}function m(S){return S&&S.padAngle}function b(S,O,_,T,X,Q,V,H){var j=_-S,D=T-O,st=V-X,k=H-Q,$=k*j-st*D;if(!($*$<v.Ho))return[S+($=(st*(O-Q)-k*(S-X))/$)*j,O+$*D]}function I(S,O,_,T,X,Q,V){var H=S-_,j=O-T,D=(V?Q:-Q)/(0,v._b)(H*H+j*j),st=D*j,k=-D*H,$=S+st,ct=O+k,Z=_+st,U=T+k,J=($+Z)/2,Ft=(ct+U)/2,Nt=Z-$,Gt=U-ct,ne=Nt*Nt+Gt*Gt,se=X-Q,oe=$*U-Z*ct,re=(Gt<0?-1:1)*(0,v._b)((0,v.Fp)(0,se*se*ne-oe*oe)),Jt=(oe*Gt-Nt*re)/ne,ue=(-oe*Nt-Gt*re)/ne,le=(oe*Gt+Nt*re)/ne,_e=(-oe*Nt+Gt*re)/ne,M=Jt-J,K=ue-Ft,Ot=le-J,Wt=_e-Ft;return M*M+K*K>Ot*Ot+Wt*Wt&&(Jt=le,ue=_e),{cx:Jt,cy:ue,x01:-st,y01:-k,x11:Jt*(X/se-1),y11:ue*(X/se-1)}}function R(){var S=A,O=Y,_=(0,E.Z)(0),T=null,X=L,Q=W,V=m,H=null;function j(){var D,st,k=+S.apply(this,arguments),$=+O.apply(this,arguments),ct=X.apply(this,arguments)-v.ou,Z=Q.apply(this,arguments)-v.ou,U=(0,v.Wn)(Z-ct),J=Z>ct;if(H||(H=D=(0,g.Z)()),$<k&&(st=$,$=k,k=st),$>v.Ho)if(U>v.BZ-v.Ho)H.moveTo($*(0,v.mC)(ct),$*(0,v.O$)(ct)),H.arc(0,0,$,ct,Z,!J),k>v.Ho&&(H.moveTo(k*(0,v.mC)(Z),k*(0,v.O$)(Z)),H.arc(0,0,k,Z,ct,J));else{var M,K,Ft=ct,Nt=Z,Gt=ct,ne=Z,se=U,oe=U,re=V.apply(this,arguments)/2,Jt=re>v.Ho&&(T?+T.apply(this,arguments):(0,v._b)(k*k+$*$)),ue=(0,v.VV)((0,v.Wn)($-k)/2,+_.apply(this,arguments)),le=ue,_e=ue;if(Jt>v.Ho){var Ot=(0,v.ZR)(Jt/k*(0,v.O$)(re)),Wt=(0,v.ZR)(Jt/$*(0,v.O$)(re));(se-=2*Ot)>v.Ho?(Gt+=Ot*=J?1:-1,ne-=Ot):(se=0,Gt=ne=(ct+Z)/2),(oe-=2*Wt)>v.Ho?(Ft+=Wt*=J?1:-1,Nt-=Wt):(oe=0,Ft=Nt=(ct+Z)/2)}var fe=$*(0,v.mC)(Ft),Ae=$*(0,v.O$)(Ft),xe=k*(0,v.mC)(ne),ge=k*(0,v.O$)(ne);if(ue>v.Ho){var Ct,Te=$*(0,v.mC)(Nt),We=$*(0,v.O$)(Nt),He=k*(0,v.mC)(Gt),he=k*(0,v.O$)(Gt);if(U<v.pi&&(Ct=b(fe,Ae,He,he,Te,We,xe,ge))){var $e=fe-Ct[0],qe=Ae-Ct[1],tn=Te-Ct[0],Ke=We-Ct[1],en=1/(0,v.O$)((0,v.Kh)(($e*tn+qe*Ke)/((0,v._b)($e*$e+qe*qe)*(0,v._b)(tn*tn+Ke*Ke)))/2),un=(0,v._b)(Ct[0]*Ct[0]+Ct[1]*Ct[1]);le=(0,v.VV)(ue,(k-un)/(en-1)),_e=(0,v.VV)(ue,($-un)/(en+1))}}oe>v.Ho?_e>v.Ho?(M=I(He,he,fe,Ae,$,_e,J),K=I(Te,We,xe,ge,$,_e,J),H.moveTo(M.cx+M.x01,M.cy+M.y01),_e<ue?H.arc(M.cx,M.cy,_e,(0,v.fv)(M.y01,M.x01),(0,v.fv)(K.y01,K.x01),!J):(H.arc(M.cx,M.cy,_e,(0,v.fv)(M.y01,M.x01),(0,v.fv)(M.y11,M.x11),!J),H.arc(0,0,$,(0,v.fv)(M.cy+M.y11,M.cx+M.x11),(0,v.fv)(K.cy+K.y11,K.cx+K.x11),!J),H.arc(K.cx,K.cy,_e,(0,v.fv)(K.y11,K.x11),(0,v.fv)(K.y01,K.x01),!J))):(H.moveTo(fe,Ae),H.arc(0,0,$,Ft,Nt,!J)):H.moveTo(fe,Ae),k>v.Ho&&se>v.Ho?le>v.Ho?(M=I(xe,ge,Te,We,k,-le,J),K=I(fe,Ae,He,he,k,-le,J),H.lineTo(M.cx+M.x01,M.cy+M.y01),le<ue?H.arc(M.cx,M.cy,le,(0,v.fv)(M.y01,M.x01),(0,v.fv)(K.y01,K.x01),!J):(H.arc(M.cx,M.cy,le,(0,v.fv)(M.y01,M.x01),(0,v.fv)(M.y11,M.x11),!J),H.arc(0,0,k,(0,v.fv)(M.cy+M.y11,M.cx+M.x11),(0,v.fv)(K.cy+K.y11,K.cx+K.x11),J),H.arc(K.cx,K.cy,le,(0,v.fv)(K.y11,K.x11),(0,v.fv)(K.y01,K.x01),!J))):H.arc(0,0,k,ne,Gt,J):H.lineTo(xe,ge)}else H.moveTo(0,0);if(H.closePath(),D)return H=null,D+""||null}return j.centroid=function(){var D=(+S.apply(this,arguments)+ +O.apply(this,arguments))/2,st=(+X.apply(this,arguments)+ +Q.apply(this,arguments))/2-v.pi/2;return[(0,v.mC)(st)*D,(0,v.O$)(st)*D]},j.innerRadius=function(D){return arguments.length?(S="function"==typeof D?D:(0,E.Z)(+D),j):S},j.outerRadius=function(D){return arguments.length?(O="function"==typeof D?D:(0,E.Z)(+D),j):O},j.cornerRadius=function(D){return arguments.length?(_="function"==typeof D?D:(0,E.Z)(+D),j):_},j.padRadius=function(D){return arguments.length?(T=null==D?null:"function"==typeof D?D:(0,E.Z)(+D),j):T},j.startAngle=function(D){return arguments.length?(X="function"==typeof D?D:(0,E.Z)(+D),j):X},j.endAngle=function(D){return arguments.length?(Q="function"==typeof D?D:(0,E.Z)(+D),j):Q},j.padAngle=function(D){return arguments.length?(V="function"==typeof D?D:(0,E.Z)(+D),j):V},j.context=function(D){return arguments.length?(H=null==D?null:D,j):H},j}},21456:(ht,tt,h)=>{"use strict";function g(E){return function(){return E}}h.d(tt,{Z:()=>g})},6947:(ht,tt,h)=>{"use strict";h.d(tt,{BZ:()=>R,Fp:()=>A,Ho:()=>m,Kh:()=>S,O$:()=>L,VV:()=>Y,Wn:()=>g,ZR:()=>O,_b:()=>W,fv:()=>E,mC:()=>v,ou:()=>I,pi:()=>b});var g=Math.abs,E=Math.atan2,v=Math.cos,A=Math.max,Y=Math.min,L=Math.sin,W=Math.sqrt,m=1e-12,b=Math.PI,I=b/2,R=2*b;function S(_){return _>1?0:_<-1?b:Math.acos(_)}function O(_){return _>=1?I:_<=-1?-I:Math.asin(_)}},49194:(ht,tt,h)=>{"use strict";h.d(tt,{B7:()=>_,HT:()=>T,zO:()=>S});var Y,L,g=0,E=0,v=0,W=0,m=0,b=0,I="object"==typeof performance&&performance.now?performance:Date,R="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(D){setTimeout(D,17)};function S(){return m||(R(O),m=I.now()+b)}function O(){m=0}function _(){this._call=this._time=this._next=null}function T(D,st,k){var $=new _;return $.restart(D,st,k),$}function Q(){m=(W=I.now())+b,g=E=0;try{!function X(){S(),++g;for(var st,D=Y;D;)(st=m-D._time)>=0&&D._call.call(null,st),D=D._next;--g}()}finally{g=0,function H(){for(var D,k,st=Y,$=1/0;st;)st._call?($>st._time&&($=st._time),D=st,st=st._next):(k=st._next,st._next=null,st=D?D._next=k:Y=k);L=D,j($)}(),m=0}}function V(){var D=I.now(),st=D-W;st>1e3&&(b-=st,W=D)}function j(D){g||(E&&(E=clearTimeout(E)),D-m>24?(D<1/0&&(E=setTimeout(Q,D-I.now()-b)),v&&(v=clearInterval(v))):(v||(W=I.now(),v=setInterval(V,1e3)),g=1,R(Q)))}_.prototype=T.prototype={constructor:_,restart:function(D,st,k){if("function"!=typeof D)throw new TypeError("callback is not a function");k=(null==k?S():+k)+(null==st?0:+st),!this._next&&L!==this&&(L?L._next=this:Y=this,L=this),this._call=D,this._time=k,j()},stop:function(){this._call&&(this._call=null,this._time=1/0,j())}}},12706:ht=>{ht.exports=function tt(h,g,E,v){for(var A=-1,Y=null==h?0:h.length;++A<Y;){var L=h[A];g(v,L,E(L),h)}return v}},49276:(ht,tt,h)=>{var g=h(85683),E=h(20217);ht.exports=function v(A,Y,L){(void 0!==L&&!E(A[Y],L)||void 0===L&&!(Y in A))&&g(A,Y,L)}},96139:(ht,tt,h)=>{var g=h(43132);ht.exports=function E(v,A,Y,L){return g(v,function(W,m,b){A(L,W,Y(W),b)}),L}},2762:ht=>{ht.exports=function tt(h,g,E){var v;return E(h,function(A,Y,L){if(g(A,Y,L))return v=Y,!1}),v}},73842:(ht,tt,h)=>{var g=h(2858),E=h(49276),v=h(30755),A=h(33675),Y=h(25940),L=h(16555),W=h(99351);ht.exports=function m(b,I,R,S,O){b!==I&&v(I,function(_,T){if(O||(O=new g),Y(_))A(b,I,T,R,m,S,O);else{var X=S?S(W(b,T),_,T+"",b,I,O):void 0;void 0===X&&(X=_),E(b,T,X)}},L)}},33675:(ht,tt,h)=>{var g=h(49276),E=h(19292),v=h(65208),A=h(99454),Y=h(4264),L=h(77151),W=h(21503),m=h(21330),b=h(80891),I=h(75946),R=h(25940),S=h(97614),O=h(48159),_=h(99351),T=h(8067);ht.exports=function X(Q,V,H,j,D,st,k){var $=_(Q,H),ct=_(V,H),Z=k.get(ct);if(Z)g(Q,H,Z);else{var U=st?st($,ct,H+"",Q,V,k):void 0,J=void 0===U;if(J){var Ft=W(ct),Nt=!Ft&&b(ct),Gt=!Ft&&!Nt&&O(ct);U=ct,Ft||Nt||Gt?W($)?U=$:m($)?U=A($):Nt?(J=!1,U=E(ct,!0)):Gt?(J=!1,U=v(ct,!0)):U=[]:S(ct)||L(ct)?(U=$,L($)?U=T($):(!R($)||I($))&&(U=Y(ct))):J=!1}J&&(k.set(ct,U),D(U,ct,j,st,k),k.delete(ct)),g(Q,H,U)}}},95286:(ht,tt,h)=>{var g=h(14164);ht.exports=function E(v,A){for(var Y=v.length;Y--&&g(A,v[Y],0)>-1;);return Y}},11146:(ht,tt,h)=>{var g=h(14164);ht.exports=function E(v,A){for(var Y=-1,L=v.length;++Y<L&&g(A,v[Y],0)>-1;);return Y}},41005:(ht,tt,h)=>{var g=h(12706),E=h(96139),v=h(96517),A=h(21503);ht.exports=function Y(L,W){return function(m,b){var I=A(m)?g:E,R=W?W():{};return I(m,L,v(b,2),R)}}},15082:(ht,tt,h)=>{var g=h(73842),E=h(25940);ht.exports=function v(A,Y,L,W,m,b){return E(A)&&E(Y)&&(b.set(Y,A),g(A,Y,void 0,v,b),b.delete(Y)),A}},99351:ht=>{ht.exports=function tt(h,g){if(("constructor"!==g||"function"!=typeof h[g])&&"__proto__"!=g)return h[g]}},69754:(ht,tt,h)=>{var g=h(26999),E=h(23269),v=h(15082),A=h(25468),Y=E(function(L){return L.push(void 0,v),g(A,void 0,L)});ht.exports=Y},58152:(ht,tt,h)=>{var g=h(2762),E=h(45184),v=h(96517);ht.exports=function A(Y,L){return g(Y,v(L,3),E)}},91237:(ht,tt,h)=>{var g=h(14164),E=h(44401),v=Math.max;ht.exports=function A(Y,L,W){var m=null==Y?0:Y.length;if(!m)return-1;var b=null==W?0:E(W);return b<0&&(b=v(m+b,0)),g(Y,L,b)}},12498:(ht,tt,h)=>{var g=h(85683),v=h(41005)(function(A,Y,L){g(A,L,Y)});ht.exports=v},25468:(ht,tt,h)=>{var g=h(73842),v=h(84944)(function(A,Y,L,W){g(A,Y,L,W)});ht.exports=v},38322:(ht,tt,h)=>{var g=h(84633),E=h(96517),v=h(95495),A=h(6967);ht.exports=function Y(L,W){if(null==L)return{};var m=g(A(L),function(b){return[b]});return W=E(W),v(L,m,function(b,I){return W(b,I[0])})}},12906:(ht,tt,h)=>{var g=h(50686),E=h(6119),v=h(23269),A=h(93342),Y=v(function(L,W){if(null==L)return[];var m=W.length;return m>1&&A(L,W[0],W[1])?W=[]:m>2&&A(W[0],W[1],W[2])&&(W=[W[0]]),E(L,g(W,1),[])});ht.exports=Y},8067:(ht,tt,h)=>{var g=h(31989),E=h(16555);ht.exports=function v(A){return g(A,E(A))}},34220:(ht,tt,h)=>{var g=h(93935),E=h(83348),v=h(62329),A=h(95286),Y=h(11146),L=h(66007),W=h(73943);ht.exports=function m(b,I,R){if((b=W(b))&&(R||void 0===I))return E(b);if(!b||!(I=g(I)))return b;var S=L(b),O=L(I),_=Y(S,O),T=A(S,O)+1;return v(S,_,T).join("")}},79598:(ht,tt,h)=>{var g=h(93935),E=h(62329),v=h(95286),A=h(66007),Y=h(73943),L=h(42760);ht.exports=function W(m,b,I){if((m=Y(m))&&(I||void 0===b))return m.slice(0,L(m)+1);if(!m||!(b=g(b)))return m;var R=A(m),S=v(R,A(b))+1;return E(R,0,S).join("")}},41970:(ht,tt,h)=>{var g=h(93935),E=h(62329),v=h(11146),A=h(66007),Y=h(73943),L=/^\s+/;ht.exports=function W(m,b,I){if((m=Y(m))&&(I||void 0===b))return m.replace(L,"");if(!m||!(b=g(b)))return m;var R=A(m),S=v(R,A(b));return E(R,S).join("")}},83223:(ht,tt,h)=>{var g=h(50686),E=h(96517),v=h(23269),A=h(80707),Y=h(21330),L=h(25809),W=v(function(m){var b=L(m);return Y(b)&&(b=void 0),A(g(m,1,Y,!0),E(b,2))});ht.exports=W},30836:(ht,tt,h)=>{var g=h(80707);ht.exports=function E(v){return v&&v.length?g(v):[]}},8537:(ht,tt,h)=>{"use strict";function g(M,K,Ot){M.prototype=K.prototype=Ot,Ot.constructor=M}function E(M,K){var Ot=Object.create(M.prototype);for(var Wt in K)Ot[Wt]=K[Wt];return Ot}function v(){}h.d(tt,{B8:()=>ct});var A=.7,Y=1/A,L="\\s*([+-]?\\d+)\\s*",W="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",m="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b=/^#([0-9a-f]{3,8})$/,I=new RegExp(`^rgb\\(${L},${L},${L}\\)$`),R=new RegExp(`^rgb\\(${m},${m},${m}\\)$`),S=new RegExp(`^rgba\\(${L},${L},${L},${W}\\)$`),O=new RegExp(`^rgba\\(${m},${m},${m},${W}\\)$`),_=new RegExp(`^hsl\\(${W},${m},${m}\\)$`),T=new RegExp(`^hsla\\(${W},${m},${m},${W}\\)$`),X={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Q(){return this.rgb().formatHex()}function j(){return this.rgb().formatRgb()}function D(M){var K,Ot;return M=(M+"").trim().toLowerCase(),(K=b.exec(M))?(Ot=K[1].length,K=parseInt(K[1],16),6===Ot?st(K):3===Ot?new Z(K>>8&15|K>>4&240,K>>4&15|240&K,(15&K)<<4|15&K,1):8===Ot?k(K>>24&255,K>>16&255,K>>8&255,(255&K)/255):4===Ot?k(K>>12&15|K>>8&240,K>>8&15|K>>4&240,K>>4&15|240&K,((15&K)<<4|15&K)/255):null):(K=I.exec(M))?new Z(K[1],K[2],K[3],1):(K=R.exec(M))?new Z(255*K[1]/100,255*K[2]/100,255*K[3]/100,1):(K=S.exec(M))?k(K[1],K[2],K[3],K[4]):(K=O.exec(M))?k(255*K[1]/100,255*K[2]/100,255*K[3]/100,K[4]):(K=_.exec(M))?se(K[1],K[2]/100,K[3]/100,1):(K=T.exec(M))?se(K[1],K[2]/100,K[3]/100,K[4]):X.hasOwnProperty(M)?st(X[M]):"transparent"===M?new Z(NaN,NaN,NaN,0):null}function st(M){return new Z(M>>16&255,M>>8&255,255&M,1)}function k(M,K,Ot,Wt){return Wt<=0&&(M=K=Ot=NaN),new Z(M,K,Ot,Wt)}function $(M){return M instanceof v||(M=D(M)),M?new Z((M=M.rgb()).r,M.g,M.b,M.opacity):new Z}function ct(M,K,Ot,Wt){return 1===arguments.length?$(M):new Z(M,K,Ot,null==Wt?1:Wt)}function Z(M,K,Ot,Wt){this.r=+M,this.g=+K,this.b=+Ot,this.opacity=+Wt}function U(){return`#${ne(this.r)}${ne(this.g)}${ne(this.b)}`}function Ft(){const M=Nt(this.opacity);return`${1===M?"rgb(":"rgba("}${Gt(this.r)}, ${Gt(this.g)}, ${Gt(this.b)}${1===M?")":`, ${M})`}`}function Nt(M){return isNaN(M)?1:Math.max(0,Math.min(1,M))}function Gt(M){return Math.max(0,Math.min(255,Math.round(M)||0))}function ne(M){return((M=Gt(M))<16?"0":"")+M.toString(16)}function se(M,K,Ot,Wt){return Wt<=0?M=K=Ot=NaN:Ot<=0||Ot>=1?M=K=NaN:K<=0&&(M=NaN),new Jt(M,K,Ot,Wt)}function oe(M){if(M instanceof Jt)return new Jt(M.h,M.s,M.l,M.opacity);if(M instanceof v||(M=D(M)),!M)return new Jt;if(M instanceof Jt)return M;var K=(M=M.rgb()).r/255,Ot=M.g/255,Wt=M.b/255,fe=Math.min(K,Ot,Wt),Ae=Math.max(K,Ot,Wt),xe=NaN,ge=Ae-fe,Te=(Ae+fe)/2;return ge?(xe=K===Ae?(Ot-Wt)/ge+6*(Ot<Wt):Ot===Ae?(Wt-K)/ge+2:(K-Ot)/ge+4,ge/=Te<.5?Ae+fe:2-Ae-fe,xe*=60):ge=Te>0&&Te<1?0:xe,new Jt(xe,ge,Te,M.opacity)}function Jt(M,K,Ot,Wt){this.h=+M,this.s=+K,this.l=+Ot,this.opacity=+Wt}function ue(M){return(M=(M||0)%360)<0?M+360:M}function le(M){return Math.max(0,Math.min(1,M||0))}function _e(M,K,Ot){return 255*(M<60?K+(Ot-K)*M/60:M<180?Ot:M<240?K+(Ot-K)*(240-M)/60:K)}g(v,D,{copy(M){return Object.assign(new this.constructor,this,M)},displayable(){return this.rgb().displayable()},hex:Q,formatHex:Q,formatHex8:function V(){return this.rgb().formatHex8()},formatHsl:function H(){return oe(this).formatHsl()},formatRgb:j,toString:j}),g(Z,ct,E(v,{brighter(M){return M=null==M?Y:Math.pow(Y,M),new Z(this.r*M,this.g*M,this.b*M,this.opacity)},darker(M){return M=null==M?A:Math.pow(A,M),new Z(this.r*M,this.g*M,this.b*M,this.opacity)},rgb(){return this},clamp(){return new Z(Gt(this.r),Gt(this.g),Gt(this.b),Nt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U,formatHex:U,formatHex8:function J(){return`#${ne(this.r)}${ne(this.g)}${ne(this.b)}${ne(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ft,toString:Ft})),g(Jt,function re(M,K,Ot,Wt){return 1===arguments.length?oe(M):new Jt(M,K,Ot,null==Wt?1:Wt)},E(v,{brighter(M){return M=null==M?Y:Math.pow(Y,M),new Jt(this.h,this.s,this.l*M,this.opacity)},darker(M){return M=null==M?A:Math.pow(A,M),new Jt(this.h,this.s,this.l*M,this.opacity)},rgb(){var M=this.h%360+360*(this.h<0),K=isNaN(M)||isNaN(this.s)?0:this.s,Ot=this.l,Wt=Ot+(Ot<.5?Ot:1-Ot)*K,fe=2*Ot-Wt;return new Z(_e(M>=240?M-240:M+120,fe,Wt),_e(M,fe,Wt),_e(M<120?M+240:M-120,fe,Wt),this.opacity)},clamp(){return new Jt(ue(this.h),le(this.s),le(this.l),Nt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const M=Nt(this.opacity);return`${1===M?"hsl(":"hsla("}${ue(this.h)}, ${100*le(this.s)}%, ${100*le(this.l)}%${1===M?")":`, ${M})`}`}}))}}]);