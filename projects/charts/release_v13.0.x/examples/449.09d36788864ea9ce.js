"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[449],{66449:(b,u,r)=>{r.r(u),r.d(u,{PieChartExampleModule:()=>Z});var p=r(76697),a=r(75148),o=r(90971),m=r(57378),g=r(29594),e=r(5e3),f=r(42210),C=r(24386),d=r(69808),_=r(53784),v=r(88682),x=r(89657);function T(i,c){1&i&&(e.TgZ(0,"div")(1,"div",11),e._uU(2,"57"),e.qZA(),e.TgZ(3,"div",12),e._uU(4,"donuts"),e.qZA()())}function S(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"nui-legend-series",13),e.NdJ("mouseenter",function(){const l=e.CHM(t).$implicit;return e.oxw().chartAssist.emphasizeSeries(l.id)})("isSelectedChange",function(s){const h=e.CHM(t).$implicit;return e.oxw().chartAssist.toggleSeries(h.id,s)}),e._UZ(1,"nui-rich-legend-tile",14),e.qZA()}if(2&i){const t=c.$implicit,n=e.oxw();e.Q6J("descriptionPrimary",t.name)("seriesRenderState",null==n.chartAssist.renderStatesIndex[t.id]?null:n.chartAssist.renderStatesIndex[t.id].state)("isSelected",!n.chartAssist.isSeriesHidden(t.id)),e.xp6(1),e.Q6J("value",n.chartAssist.getHighlightedValue(t,"y","value"))("backgroundColor",n.chartAssist.palette.standardColors.get(t.id))("color",n.chartAssist.palette.textColors.get(t.id))}}function A(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",15)(1,"h3"),e._uU(2,"Annular's params"),e.qZA(),e.TgZ(3,"p"),e._uU(4," Setting one of the parameters to 0 will force donut chart to use default annular width of 20px. Default width is also configurable. "),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Donut's width in percents"),e.qZA(),e.TgZ(7,"nui-textbox-number",16),e.NdJ("valueChange",function(s){return e.CHM(t),e.oxw().updateWidth(s)}),e.qZA(),e.TgZ(8,"span"),e._uU(9,"Max donut's width in px"),e.qZA(),e.TgZ(10,"nui-textbox-number",17),e.NdJ("valueChange",function(s){return e.CHM(t),e.oxw().updatemaxWidth(s)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("value",15)("maxValue",80),e.xp6(3),e.Q6J("value",t.renderer.config.maxThickness)}}const P=[{path:"",component:(()=>{class i{constructor(t){this.toastr=t,this.compact=!1,this.chart=new o.kL2(new o.lS),this.chartAssist=new o.doR(this.chart),this.interactive=!1,this.processSeries=n=>(0,o.GVi)(n,s=>!this.chartAssist.isSeriesHidden(s.id))}ngOnInit(){const t=new o.GFe;t.interactive=!1,this.chart.getGrid().config(t),this.scales={r:new o.f$s},this.scales.r.fixDomain([0,1]),this.chartAssist=new o.doR(this.chart,this.processSeries),this.contentPlugin=new o.iM,this.chart.addPlugin(this.contentPlugin),this.refreshPie(),this.chart.getEventBus().getStream("click").subscribe(n=>{this.toastr.info({title:"Event Published",message:`event: click; data: ${n.data}`,options:{timeOut:1500}})})}generateSeriesSet(t=1){const n=g.N.generateMockOrdinalSeriesSet(["Chrome","Firefox","Edge"],t);return n.forEach(s=>{s.id+=`-${Math.round(100*Math.random())}`}),n.map(s=>Object.assign(Object.assign({},s),{accessors:{data:{value:l=>l.value},series:{color:this.chartAssist.palette.standardColors.get}},scales:this.scales,renderer:this.renderer,showInLegend:!0}))}refreshPie(){this.renderer=new o.bOg,this.chartAssist.update(this.generateSeriesSet())}updateWidth(t){this.renderer.config.annularGrowth=t/100,this.updateDonut()}updatemaxWidth(t){this.renderer.config.maxThickness=t,this.updateDonut()}refreshPieInteraction(){this.interactive=!this.interactive,this.renderer.interaction=this.interactive?{arc:{mouseover:"",mouseout:"",click:""}}:void 0,this.chartAssist.update(this.generateSeriesSet())}refreshDonut(t){this.renderer=new o.E8N,this.chartAssist.update(this.generateSeriesSet(t)),setTimeout(()=>{this.chart.updateDimensions()},0)}showContent(){return!(this.renderer instanceof o.bOg)}updateDonut(){setTimeout(()=>{this.chart.updateDimensions()},0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.klp))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nui-pie-chart-example"]],decls:21,vars:10,consts:[[1,"d-flex","flex-column"],[1,"d-flex","flex-fill","w-100","h-100",2,"position","relative"],[1,"flex-fill","w-100","h-100",3,"chart"],[3,"plugin"],[4,"ngIf"],[1,"d-flex","flex-column","pl-2"],["seriesUnitLabel","Share",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-group"],["nui-button","","type","button",3,"click"],["class","d-flex flex-column w-25",4,"ngIf"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],[1,"d-flex","flex-column","w-25"],[3,"value","maxValue","valueChange"],[3,"value","valueChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nui-expander")(2,"div",1),e._UZ(3,"nui-chart",2),e.TgZ(4,"nui-chart-donut-content",3),e.YNc(5,T,5,0,"div",4),e.qZA(),e.TgZ(6,"div",5)(7,"nui-legend",6),e.NdJ("mouseleave",function(){return n.chartAssist.resetVisibleSeries()}),e.YNc(8,S,2,6,"nui-legend-series",7),e.qZA()()()(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return n.refreshDonut(1)}),e._uU(11," 1 circle donut "),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return n.refreshDonut(2)}),e._uU(13," 2 circle donut "),e.qZA(),e.TgZ(14,"button",9),e.NdJ("click",function(){return n.refreshPie()}),e._uU(15,"Pie"),e.qZA(),e.TgZ(16,"button",9),e.NdJ("click",function(){return n.refreshPieInteraction()}),e._uU(17," Refresh and toggle interaction "),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){return n.compact=!n.compact}),e._uU(19," Toggle Size "),e.qZA()()(),e.YNc(20,A,11,3,"div",10)),2&t&&(e.Udp("height",n.compact?"150px":"500px"),e.xp6(3),e.Q6J("chart",n.chart),e.xp6(1),e.Q6J("plugin",n.contentPlugin),e.xp6(1),e.Q6J("ngIf",n.showContent()),e.xp6(2),e.Q6J("active",n.chartAssist.isLegendActive)("interactive",!0),e.xp6(1),e.Q6J("ngForOf",n.chartAssist.legendSeriesSet)("ngForTrackBy",n.chartAssist.seriesTrackByFn),e.xp6(12),e.Q6J("ngIf",n.showContent()))},directives:[a.Fxv,f.x,C.k,d.O5,_.F,d.sg,v.k,x.w,a.r0F,a.I5I],encapsulation:2}),i})()}];let Z=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.l,o.$y4,a.Az_,a.LRI,a.YMY,p.Bz.forChild(P),a.Ld5]]}),i})()}}]);