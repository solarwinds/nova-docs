(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"68rf":function(t,e,n){"use strict";n.r(e);var a=n("5+WD"),r=n("tyNb"),o=n("Rr1A"),i=n("gKry"),c=n("s1Ul"),s=n("fXoL"),d=n("VJLA"),l=n.n(d),p=n("HHUD");let h=(()=>{class t{constructor(){this.chartConfig={horizontal:!0},this.chart=new i.q(Object(i.xb)(this.chartConfig))}ngOnInit(){const t=Object(i.wb)(this.chartConfig),e=Object(i.yb)(this.chartConfig),n=new i.g({highlightStrategy:new i.e("x")});this.chart.addPlugin(new i.J);const a=new i.Q(l()(["connect","dns","send","ttfb","cdownload"],i.m));t.data.color=t=>a.get(t.type),e.x.formatters.tick=t=>Number(t/1e3).toFixed(1)+"s",e.y.padding(.5),this.chart.update([{id:"1",name:"Category 1",data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:178}]},{id:"2",name:"Category 2",data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:788}]},{id:"3",name:"Category 3",data:[{type:"connect",start:178,end:222},{type:"dns",start:222,end:239},{type:"send",start:239,end:259},{type:"ttfb",start:259,end:309},{type:"cdownload",start:309,end:578}]},{id:"4",name:"Category 4",data:[{type:"connect",start:578,end:590},{type:"dns",start:590,end:799},{type:"send",start:799,end:888},{type:"ttfb",start:888,end:900},{type:"cdownload",start:900,end:990}]}].map(a=>Object.assign(Object.assign({},a),{accessors:t,scales:e,renderer:n})))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Jb({type:t,selectors:[["nui-waterfall-chart-simple-example"]],decls:1,vars:1,consts:[[1,"d-flex",3,"chart"]],template:function(t,e){1&t&&s.Qb(0,"nui-chart",0),2&t&&s.tc("chart",e.chart)},directives:[p.a],encapsulation:2}),t})();var b=n("+rOU"),f=n("rDax"),g=n("ofXK"),m=n("MArq");const u=["templatePortalGrid"],w=["gridChartPlaceholder"];function y(t,e){1&t&&s.Qb(0,"div",11)}function v(t,e){if(1&t&&(s.Vb(0,"div",5),s.Qb(1,"nui-icon",6),s.Vb(2,"div",7),s.Vb(3,"span"),s.Nc(4),s.Ub(),s.Ub(),s.Vb(5,"div",8),s.Lc(6,y,1,0,"div",9),s.Qb(7,"nui-chart",10),s.Ub(),s.Ub()),2&t){const t=e.$implicit,n=e.first,a=s.nc();s.Db(1),s.uc("icon",t.icon),s.Db(1),s.Kc("width",a.rowSize,"px"),s.Db(2),s.Oc(t.url),s.Db(2),s.tc("ngIf",n),s.Db(1),s.tc("chart",t.chart)}}function C(t,e){if(1&t&&s.Qb(0,"nui-chart",10),2&t){const t=s.nc();s.tc("chart",t.gridChart)}}let x=(()=>{class t{constructor(t,e,n,a){var r;this.overlay=t,this.overlayPositionBuilder=e,this._viewContainerRef=n,this.scrollStrategyOptions=a,this.seriesChartConfig=new i.i({showBottomAxis:!1}),this.iconSize=20,this.rowSize=200,this.palette=new i.u(new i.Q({connect:i.m[0],dns:i.m[1],send:i.m[2],ttfb:i.m[3],cdownload:i.m[4]})),this.gridChart=new i.q(new i.sb),this.listItems=[{url:"http://www.google.com",size:924,icon:"xml-file",chart:new i.q(new i.sb(r=this.seriesChartConfig)),data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:178}]},{url:"http://www2.google.com",size:924,icon:"xml-file",chart:new i.q(new i.sb(r)),data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:788}]},{url:"http://www.google.com/cat.png",size:3333,icon:"image",chart:new i.q(new i.sb(r)),data:[{type:"connect",start:178,end:222},{type:"dns",start:222,end:239},{type:"send",start:239,end:259},{type:"ttfb",start:259,end:309},{type:"cdownload",start:309,end:578}]},{url:"http://www.google.com/revenge.png",size:3333,icon:"image",chart:new i.q(new i.sb(r)),data:[{type:"connect",start:578,end:590},{type:"dns",start:590,end:799},{type:"send",start:799,end:888},{type:"ttfb",start:888,end:900},{type:"cdownload",start:900,end:990}]}]}updateGridPosition(){this.overlayRef.updatePosition()}ngOnInit(){this.gridChart.addPlugin(new i.ub),this.gridChart.getEventBus().getStream(i.gb).subscribe(t=>{const e=t.data;this.listItems.forEach(t=>{this.scales.x.fixDomain(e[this.scales.x.id]),t.chart.updateDimensions()})})}ngAfterViewInit(){this.templatePortal=new b.e(this.templatePortalGrid,this._viewContainerRef),this.positionStrategy=this.overlayPositionBuilder.connectedTo(this.gridChartPlaceholder,{originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}).withLockedPosition(!0),this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,scrollStrategy:this.scrollStrategyOptions.reposition()});const t=new i.c,e=new i.O;e.fixDomain([0,1e3]),t.fixDomain(["cat1"]),this.scales={x:e,y:t},this.scales.x.formatters.tick=t=>Number(t/1e3).toFixed(1)+"s";const n=new i.g({highlightStrategy:new i.e("x")}),a=new i.D;a.data.color=t=>this.palette.standardColors.get(t.type);let r=0;this.listItems.forEach(t=>{const e=[{id:"series-1",name:"Series 1",data:t.data.map(t=>({value:t.end-t.start,start:t.start,end:t.end,category:"cat1",type:t.type})),accessors:a,scales:this.scales,renderer:n}];t.chart.update(e),r=t.chart.getGrid().config().dimension.width()});const o=this.gridChart.getGrid().config();o.dimension.height(this.listItems.length*this.seriesChartConfig.dimension.height()),o.dimension.width(r),o.dimension.autoHeight=!1,o.axis.left.visible=!1,o.axis.left.gridTicks=!1,o.axis.bottom.gridTicks=!0,this.gridChart.update([{id:"i am grid",name:"i am grid",data:[],accessors:new i.S,scales:this.scales,renderer:new i.T}]),this.gridChart.updateDimensions(),this.overlayRef.attach(this.templatePortal)}drop(t){Object(a.g)(this.listItems,t.previousIndex,t.currentIndex)}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(f.a),s.Pb(f.e),s.Pb(s.R),s.Pb(f.f))},t.\u0275cmp=s.Jb({type:t,selectors:[["nui-waterfall-chart-advanced-example"]],viewQuery:function(t,e){var n;1&t&&(s.Qc(u,!0),s.Qc(w,!0)),2&t&&(s.Ac(n=s.kc())&&(e.templatePortalGrid=n.first),s.Ac(n=s.kc())&&(e.gridChartPlaceholder=n.first))},hostBindings:function(t,e){1&t&&s.jc("click",(function(){return e.updateGridPosition()}),!1,s.Dc)},decls:7,vars:3,consts:[[1,"chart","mb-5"],["gridChartPlaceholder",""],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["class","d-flex flex-row align-items-center waterfall-chart-list-item","cdkDrag","",4,"ngFor","ngForOf"],["templatePortalGrid",""],["cdkDrag","",1,"d-flex","flex-row","align-items-center","waterfall-chart-list-item"],[1,"p-1",3,"icon"],[1,"p-1",2,"overflow","hidden"],[1,"d-flex"],["class","d-flex h-100",4,"ngIf"],["nuiChartCollectionId","1",1,"d-flex",3,"chart"],[1,"d-flex","h-100"]],template:function(t,e){1&t&&(s.Vb(0,"div",0),s.Qb(1,"div",null,1),s.Vb(3,"div",2),s.jc("cdkDropListDropped",(function(t){return e.drop(t)})),s.Lc(4,v,8,6,"div",3),s.Ub(),s.Ub(),s.Lc(5,C,1,1,"ng-template",null,4,s.Mc)),2&t&&(s.Db(1),s.Kc("margin-left",e.rowSize+e.iconSize,"px"),s.Db(3),s.tc("ngForOf",e.listItems))},directives:[a.d,g.o,a.a,o.k,g.p,p.a,m.a],styles:['.nui-dnd-hover-state[_ngcontent-%COMP%]{background:#f2f2f2}.nui-dnd-preview[_ngcontent-%COMP%], .nui-dnd-raised-state[_ngcontent-%COMP%]{z-index:1;box-sizing:border-box;box-shadow:0 2px 10px 0 var(--nui-shadow-color,rgba(17,17,17,.3))}.nui-dnd-preview[_ngcontent-%COMP%]{border:1px solid #d9d9d9;background:#f2f2f2}.nui-dnd-dropzone.nui-dnd-dropzone--active[_ngcontent-%COMP%]{border:4px dashed #999!important}.nui-dnd-dropzone.nui-dnd-dropzone--drop-allowed[_ngcontent-%COMP%]{cursor:move;border:4px solid #00c4d2!important;background-color:rgba(0,196,210,.2)}.nui-dnd-dropzone.nui-dnd-dropzone--drop-not-allowed[_ngcontent-%COMP%]{cursor:move;border:4px solid #dd2c00!important;background-color:rgba(221,44,0,.2)}.nui-dnd-dropzone[_ngcontent-%COMP%]   .centered-overlay[_ngcontent-%COMP%], .nui-dnd-dropzone[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.nui-dnd-dropzone[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{border-radius:50%;content:"";display:block;height:40px;width:40px;z-index:-1}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-permanent[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{background-color:#fff}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-permanent[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   polygon[_ngcontent-%COMP%]{fill:#111}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{background-color:#00c4d2}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   polygon[_ngcontent-%COMP%]{-webkit-clip-path:circle(5px);clip-path:circle(5px);fill:#fff}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-not-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{background-color:#dd2c00}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-not-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{-webkit-clip-path:circle(5px);clip-path:circle(5px);fill:#fff}.waterfall-chart-list-item[_ngcontent-%COMP%]:hover{background-color:var(--nui-color-selected,rgba(0,196,210,.1))}.waterfall-chart-list-item[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-content,#fff)}']}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Jb({type:t,selectors:[["nui-chart-docs-waterfall"]],decls:82,vars:1,consts:[["filenamePrefix","waterfall-chart-simple","exampleTitle","Simple Waterfall Chart"],["type","warning",3,"allowDismiss"],["href","../classes/Chart.html","target","_blank"],["href","../classes/XYGrid.html","target","_blank"],["href","../classes/BarStatusGridConfig.html","target","_blank"],["href","https://material.angular.io/cdk/overlay/overview","target","_blank"],["href","https://material.angular.io/cdk/portal/overview","target","_blank"],["href","../classes/HorizontalBarAccessors.html","target","_blank"],["href","../classes/BandScale.html","target","_blank"],["href","../classes/BandScale.html#padding","target","_blank"],["filenamePrefix","waterfall-chart-advanced","exampleTitle","Advanced Waterfall Chart"]],template:function(t,e){1&t&&(s.Vb(0,"h1"),s.Nc(1,"Waterfall Charts"),s.Ub(),s.Vb(2,"p"),s.Nc(3," A Waterfall Chart is a chart that shows a certain category events on the timeline.\n"),s.Ub(),s.Vb(4,"h2"),s.Nc(5,"Simple Waterfall Chart"),s.Ub(),s.Vb(6,"p"),s.Nc(7," To build a simple Waterfall chart follow the instructions in the example source code:\n"),s.Ub(),s.Vb(8,"nui-example-wrapper",0),s.Qb(9,"nui-waterfall-chart-simple-example"),s.Ub(),s.Vb(10,"h2"),s.Nc(11,"Advanced Waterfall Chart"),s.Ub(),s.Vb(12,"nui-message",1),s.Vb(13,"strong"),s.Nc(14,"Caution!!!"),s.Ub(),s.Nc(15," Example below is provided as a proof of concept and is not meant to be used in production code.\n"),s.Ub(),s.Vb(16,"p"),s.Nc(17," It is possible to build fancy waterfall charts with more complex functionality, like the one below. Each series provides a separate instance of bar chart that is rendered inside grid, which is a separate empty chart positioned using CDK Overlay on top of bar charts.\n"),s.Ub(),s.Vb(18,"p"),s.Nc(19," To build an advanced Waterfall chart below follow the instructions:\n"),s.Ub(),s.Vb(20,"ol"),s.Vb(21,"li"),s.Nc(22," Make sure your series provide a new instance of "),s.Vb(23,"code"),s.Vb(24,"a",2),s.Nc(25,"Chart"),s.Ub(),s.Ub(),s.Nc(26," with an instance of "),s.Vb(27,"code"),s.Vb(28,"a",3),s.Nc(29,"XYGrid"),s.Ub(),s.Ub(),s.Nc(30," passed in as an argument. "),s.Vb(31,"code"),s.Nc(32,"new "),s.Vb(33,"a",4),s.Nc(34,"BarStatusGridConfig"),s.Ub(),s.Nc(35,"()"),s.Ub(),s.Nc(36," config instance goes as an argument to "),s.Vb(37,"code"),s.Nc(38,"XYGrid"),s.Ub(),s.Nc(39," with the "),s.Vb(40,"code"),s.Nc(41,"showBottomAxis"),s.Ub(),s.Nc(42," option set to "),s.Vb(43,"code"),s.Nc(44,"false"),s.Ub(),s.Nc(45,". "),s.Ub(),s.Vb(46,"li"),s.Nc(47," Instantiate and configure a "),s.Vb(48,"code"),s.Vb(49,"a",3),s.Nc(50,"XYGrid"),s.Ub(),s.Ub(),s.Ub(),s.Vb(51,"li"),s.Nc(52," Instantiate and configure an "),s.Vb(53,"code"),s.Vb(54,"a",5),s.Nc(55,"Overlay"),s.Ub(),s.Ub(),s.Nc(56," and corresponding "),s.Vb(57,"code"),s.Vb(58,"a",6),s.Nc(59,"Portal"),s.Ub(),s.Ub(),s.Nc(60," to attach the grid to a correct point of the first series on the page. "),s.Ub(),s.Vb(61,"li"),s.Nc(62," Instantiate "),s.Vb(63,"code"),s.Vb(64,"a",7),s.Nc(65,"HorizontalBarAccessors"),s.Ub(),s.Ub(),s.Nc(66,". Using the accessor, assign the color or the bar to the corresponding data type retrieved from the "),s.Vb(67,"code"),s.Nc(68,"ChartPalette"),s.Ub(),s.Nc(69,". "),s.Ub(),s.Vb(70,"li"),s.Nc(71," Configure the thickness of the bar using the "),s.Vb(72,"code"),s.Vb(73,"a",8),s.Nc(74,"BandScale"),s.Ub(),s.Ub(),s.Nc(75," method "),s.Vb(76,"code"),s.Vb(77,"a",9),s.Nc(78,"padding"),s.Ub(),s.Ub(),s.Nc(79,". "),s.Ub(),s.Ub(),s.Vb(80,"nui-example-wrapper",10),s.Qb(81,"nui-waterfall-chart-advanced-example"),s.Ub()),2&t&&(s.Db(12),s.tc("allowDismiss",!1))},directives:[o.h,h,o.o,x],encapsulation:2}),t})();var O=n("W+IT");let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Jb({type:t,selectors:[["waterfall-chart-test-component"]],decls:6,vars:2,consts:[[1,"container"],[1,"d-flex","flex-row"],["id","nui-waterfall-chart-simple",1,"w-100","mb-5"],["id","nui-waterfall-chart-advanced",1,"w-100","mt-5"]],template:function(t,e){1&t&&(s.Vb(0,"div",0),s.Vb(1,"charts-test-harness"),s.Vb(2,"div",1),s.Qb(3,"nui-waterfall-chart-simple-example",2),s.Ub(),s.Vb(4,"div",1),s.Qb(5,"nui-waterfall-chart-advanced-example",3),s.Ub(),s.Ub(),s.Ub()),2&t&&s.Kc("margin-top",50,"px")},directives:[O.a,h,x],encapsulation:2}),t})();n.d(e,"ChartDocsWaterfallModule",(function(){return _}));const V=[{path:"",component:P,data:{srlc:{stage:o.R.beta},showThemeSwitcher:!0}},{path:"simple",component:h,data:{srlc:{hideIndicator:!0}}},{path:"advanced",component:x,data:{srlc:{hideIndicator:!0}}},{path:"test",component:U,data:{srlc:{hideIndicator:!0}}}];let _=(()=>{class t{}return t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({factory:function(e){return new(e||t)},providers:[{provide:o.e,useFactory:()=>n("Gh7m")}],imports:[[a.f,o.z,o.w,c.a,i.V,o.B,r.e.forChild(V)]]}),t})()},Gh7m:function(t,e,n){var a={"./chart-docs-waterfall.component.html":"gRjP","./chart-docs-waterfall.component.ts":"u/6E","./chart-docs-waterfall.module.ts":"hNHc","./waterfall-advanced-charts/waterfall-chart-advanced.example.component.html":"NmR+","./waterfall-advanced-charts/waterfall-chart-advanced.example.component.less":"X7MK","./waterfall-advanced-charts/waterfall-chart-advanced.example.component.ts":"nuLn","./waterfall-chart-simple/waterfall-chart-simple.example.component.html":"Ipb4","./waterfall-chart-simple/waterfall-chart-simple.example.component.ts":"nLao","./waterfall-test/waterfall-chart-test.component.html":"a/lW","./waterfall-test/waterfall-chart-test.component.ts":"4H1E"};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id="Gh7m"}}]);