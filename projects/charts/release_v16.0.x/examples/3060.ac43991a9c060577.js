"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[3060],{83060:(j,h,r)=>{r.r(h),r.d(h,{default:()=>P});var m=r(97474),c=r(29091),o=r(36735),p=r(65164),g=r(30822),e=r(99019),d=r(54739),f=r(93078),v=r(60598),C=r(29261),S=r(8410),_=r(45558);function x(i,l){1&i&&(e.j41(0,"div")(1,"div",11),e.EFF(2,"57"),e.k0s(),e.j41(3,"div",12),e.EFF(4,"donuts"),e.k0s()())}function T(i,l){if(1&i){const t=e.RV6();e.j41(0,"nui-legend-series",13),e.bIt("mouseenter",function(){const a=e.eBV(t).$implicit,u=e.XpG();return e.Njj(u.chartAssist.emphasizeSeries(a.id))})("isSelectedChange",function(n){const u=e.eBV(t).$implicit,k=e.XpG();return e.Njj(k.chartAssist.toggleSeries(u.id,n))}),e.nrm(1,"nui-rich-legend-tile",14),e.k0s()}if(2&i){const t=l.$implicit,s=e.XpG();e.Y8G("descriptionPrimary",t.name)("seriesRenderState",null==s.chartAssist.renderStatesIndex[t.id]?null:s.chartAssist.renderStatesIndex[t.id].state)("isSelected",!s.chartAssist.isSeriesHidden(t.id)),e.R7$(1),e.Y8G("value",s.chartAssist.getHighlightedValue(t,"y","value"))("backgroundColor",s.chartAssist.palette.standardColors.get(t.id))("color",s.chartAssist.palette.textColors.get(t.id))}}function b(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",15)(1,"h3"),e.EFF(2,"Annular's params"),e.k0s(),e.j41(3,"p"),e.EFF(4," Setting one of the parameters to 0 will force donut chart to use default annular width of 20px. Default width is also configurable. "),e.k0s(),e.j41(5,"span"),e.EFF(6,"Donut's width in percents"),e.k0s(),e.j41(7,"nui-textbox-number",16),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.updateWidth(n))}),e.k0s(),e.j41(8,"span"),e.EFF(9,"Max donut's width in px"),e.k0s(),e.j41(10,"nui-textbox-number",17),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.updatemaxWidth(n))}),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(7),e.Y8G("value",15)("maxValue",80),e.R7$(3),e.Y8G("value",t.renderer.config.maxThickness)}}const F=[{path:"",component:(()=>{class i{toastr;compact=!1;chart=new o.t1X(new o.Q8j);chartAssist=new o.Wiz(this.chart);contentPlugin;renderer;scales;interactive=!1;constructor(t){this.toastr=t}ngOnInit(){const t=new o.FhS;t.interactive=!1,this.chart.getGrid().config(t),this.scales={r:new o.kck},this.scales.r.fixDomain([0,1]),this.chartAssist=new o.Wiz(this.chart,this.processSeries),this.contentPlugin=new o.XhJ,this.chart.addPlugin(this.contentPlugin),this.refreshPie(),this.chart.getEventBus().getStream("click").subscribe(s=>{this.toastr.info({title:"Event Published",message:`event: click; data: ${s.data}`,options:{timeOut:1500}})})}processSeries=t=>(0,o.xMI)(t,s=>!this.chartAssist.isSeriesHidden(s.id));generateSeriesSet(t=1){const s=g.i.generateMockOrdinalSeriesSet(["Chrome","Firefox","Edge"],t);return s.forEach(n=>{n.id+=`-${Math.round(100*Math.random())}`}),s.map(n=>({...n,accessors:{data:{value:a=>a.value},series:{color:this.chartAssist.palette.standardColors.get}},scales:this.scales,renderer:this.renderer,showInLegend:!0}))}refreshPie(){this.renderer=new o.Gh8,this.chartAssist.update(this.generateSeriesSet())}updateWidth(t){this.renderer.config.annularGrowth=t/100,this.updateDonut()}updatemaxWidth(t){this.renderer.config.maxThickness=t,this.updateDonut()}refreshPieInteraction(){this.interactive=!this.interactive,this.renderer.interaction=this.interactive?{arc:{mouseover:"",mouseout:"",click:""}}:void 0,this.chartAssist.update(this.generateSeriesSet())}refreshDonut(t){this.renderer=new o.n7t,this.chartAssist.update(this.generateSeriesSet(t)),setTimeout(()=>{this.chart.updateDimensions()},0)}showContent(){return!(this.renderer instanceof o.Gh8)}updateDonut(){setTimeout(()=>{this.chart.updateDimensions()},0)}static \u0275fac=function(s){return new(s||i)(e.rXU(c.fwc))};static \u0275cmp=e.VBU({type:i,selectors:[["nui-pie-chart-example"]],decls:21,vars:10,consts:[[1,"d-flex","flex-column"],[1,"d-flex","flex-fill","w-100","h-100",2,"position","relative"],[1,"flex-fill","w-100","h-100",3,"chart"],[3,"plugin"],[4,"ngIf"],[1,"d-flex","flex-column","pl-2"],["seriesUnitLabel","Share",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-group"],["nui-button","","type","button",3,"click"],["class","d-flex flex-column w-25",4,"ngIf"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],[1,"d-flex","flex-column","w-25"],[3,"value","maxValue","valueChange"],[3,"value","valueChange"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"nui-expander")(2,"div",1),e.nrm(3,"nui-chart",2),e.j41(4,"nui-chart-donut-content",3),e.DNE(5,x,5,0,"div",4),e.k0s(),e.j41(6,"div",5)(7,"nui-legend",6),e.bIt("mouseleave",function(){return n.chartAssist.resetVisibleSeries()}),e.DNE(8,T,2,6,"nui-legend-series",7),e.k0s()()()(),e.j41(9,"div",8)(10,"button",9),e.bIt("click",function(){return n.refreshDonut(1)}),e.EFF(11," 1 circle donut "),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return n.refreshDonut(2)}),e.EFF(13," 2 circle donut "),e.k0s(),e.j41(14,"button",9),e.bIt("click",function(){return n.refreshPie()}),e.EFF(15,"Pie"),e.k0s(),e.j41(16,"button",9),e.bIt("click",function(){return n.refreshPieInteraction()}),e.EFF(17," Refresh and toggle interaction "),e.k0s(),e.j41(18,"button",9),e.bIt("click",function(){return n.compact=!n.compact}),e.EFF(19," Toggle Size "),e.k0s()()(),e.DNE(20,b,11,3,"div",10)),2&s&&(e.xc7("height",n.compact?"150px":"500px"),e.R7$(3),e.Y8G("chart",n.chart),e.R7$(1),e.Y8G("plugin",n.contentPlugin),e.R7$(1),e.Y8G("ngIf",n.showContent()),e.R7$(2),e.Y8G("active",n.chartAssist.isLegendActive)("interactive",!0),e.R7$(1),e.Y8G("ngForOf",n.chartAssist.legendSeriesSet)("ngForTrackBy",n.chartAssist.seriesTrackByFn),e.R7$(12),e.Y8G("ngIf",n.showContent()))},dependencies:[d.Sq,d.bT,f.f,v.q,C.L,S.Q,_.t,c.Qpp,c.VkH,c.PJO],encapsulation:2})}return i})()}];let P=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[p.r,o.StF,c.dfW,c.W1E,c.vrM,m.iI.forChild(F),c.yYQ]})}return i})()}}]);