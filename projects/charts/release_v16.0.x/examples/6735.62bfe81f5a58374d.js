(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[6735],{78634:(Tt,ut,a)=>{"use strict";a.d(ut,{p:()=>J});var g=a(20021),P=a(33634),m=a(99019);let J=(()=>{class I{chartComponent;chartCollectionService;collectionId;constructor(et,_){this.chartComponent=et,this.chartCollectionService=_}ngOnChanges(et){const _=et.collectionId;_&&(_.previousValue&&this.chartCollectionService.getChartCollection(_.previousValue).removeChart(this.chartComponent.chart),_.currentValue&&this.chartCollectionService.getChartCollection(_.currentValue).addChart(this.chartComponent.chart))}static \u0275fac=function(_){return new(_||I)(m.rXU(g.fI),m.rXU(P.y))};static \u0275dir=m.FsC({type:I,selectors:[["","nuiChartCollectionId",""]],inputs:{collectionId:["nuiChartCollectionId","collectionId"]},features:[m.OA$]})}return I})()},33634:(Tt,ut,a)=>{"use strict";a.d(ut,{y:()=>I});var g=a(64755),P=a.n(g),m=a(57219),J=a(99019);let I=(()=>{class F{collections={};getChartCollection(_){let S=this.collections[_];return P()(S)&&(S=new m.f,this.collections[_]=S),S}static \u0275fac=function(S){return new(S||F)};static \u0275prov=J.jDH({token:F,factory:F.\u0275fac})}return F})()},45558:(Tt,ut,a)=>{"use strict";a.d(ut,{t:()=>F}),a(76830);var P=a(99019),m=a(54739);function J(et,_){if(1&et&&(P.j41(0,"div",1),P.SdG(1),P.k0s()),2&et){const S=P.XpG();P.xc7("top",S.contentPosition.top,"px")("left",S.contentPosition.left,"px")("height",S.contentPosition.height,"px")("width",S.contentPosition.width,"px")}}const I=["*"];let F=(()=>{class et{plugin;contentPosition;contentPositionUpdateSubscription;ngOnChanges(S){S.plugin&&(this.contentPositionUpdateSubscription?.unsubscribe(),this.contentPositionUpdateSubscription=this.plugin.contentPositionUpdateSubject.subscribe(O=>{this.contentPosition=O}),this.plugin.chart.updateDimensions())}ngOnDestroy(){this.contentPositionUpdateSubscription&&this.contentPositionUpdateSubscription.unsubscribe()}static \u0275fac=function(O){return new(O||et)};static \u0275cmp=P.VBU({type:et,selectors:[["nui-chart-donut-content"]],inputs:{plugin:"plugin"},features:[P.OA$],ngContentSelectors:I,decls:1,vars:1,consts:[["class","nui-chart-donut-content d-flex justify-content-center align-items-center text-center",3,"top","left","height","width",4,"ngIf"],[1,"nui-chart-donut-content","d-flex","justify-content-center","align-items-center","text-center"]],template:function(O,G){1&O&&(P.NAR(),P.DNE(0,J,2,8,"div",0)),2&O&&P.Y8G("ngIf",G.plugin&&G.contentPosition)},dependencies:[m.bT],styles:[".nui-chart-donut-content[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;width:100%;height:100%;overflow:hidden;text-overflow:ellipsis}"]})}return et})()},43846:(Tt,ut,a)=>{"use strict";a.d(ut,{C:()=>et});var g=a(72535),P=a.n(g),m=a(60142),J=a(99019);const I=["svgContent"];let et=(()=>{class _{changeDetector;marker;drawLine;color;maxSize=20;svgContent;viewBox;height="10px";width="10px";svg=new m.t("");constructor(O){this.changeDetector=O}ngAfterViewInit(){this.svg.subscribe(O=>{this.renderMarkerSvg(O)})}ngOnChanges(O){(O.marker||O.color)&&(O.color&&this.marker.setColor(this.color),this.marker&&this.marker.getSvg&&P()(this.marker.getSvg)&&this.svg.next(this.marker.getSvg()))}ngOnDestroy(){this.svg.complete()}renderMarkerSvg(O){const G=this.svgContent.nativeElement,U=`<line x1="-10" y1="0" x2="10" y2="0" style="stroke:${this.color};stroke-width:2" />`;G.innerHTML="",this.drawLine&&G.insertAdjacentHTML("beforeend",U),G.insertAdjacentHTML("beforeend",O),setTimeout(()=>{const C=G.getBBox();this.viewBox=`${C.x-3} ${C.y-3} ${C.width+6} ${C.height+6}`,this.width=Math.min(C.width+6,this.maxSize)+"px",this.height=Math.min(C.height+6,this.maxSize)+"px",this.changeDetector.markForCheck()})}static \u0275fac=function(G){return new(G||_)(J.rXU(J.gRc))};static \u0275cmp=J.VBU({type:_,selectors:[["nui-chart-marker"]],viewQuery:function(G,U){if(1&G&&J.GBs(I,5),2&G){let C;J.mGM(C=J.lsd())&&(U.svgContent=C.first)}},inputs:{marker:"marker",drawLine:"drawLine",color:"color",maxSize:"maxSize"},features:[J.OA$],decls:3,vars:3,consts:[["svgContent",""]],template:function(G,U){1&G&&(J.qSk(),J.j41(0,"svg"),J.nrm(1,"g",null,0),J.k0s()),2&G&&J.BMQ("width",U.width)("height",U.height)("viewBox",U.viewBox)},styles:["[_nghost-%COMP%]{font-size:0}"]})}return _})()},19290:(Tt,ut,a)=>{"use strict";a.d(ut,{x:()=>G});var g=a(99019),P=a(52667),m=a(76211),J=a(29091),F=(a(91449),a(54739));function et(U,C){1&U&&g.eu8(0)}const _=function(U){return{dataPoints:U}};function S(U,C){if(1&U&&g.DNE(0,et,1,0,"ng-container",3),2&U){const E=g.XpG(2);g.Y8G("ngTemplateOutlet",E.template)("ngTemplateOutletContext",g.eq3(2,_,E.plugin.dataPoints))}}function O(U,C){if(1&U&&(g.j41(0,"div"),g.nrm(1,"nui-popover",1),g.DNE(2,S,1,4,"ng-template",null,2,g.C5r),g.k0s()),2&U){const E=g.sdS(3),R=g.XpG();g.R7$(1),g.xc7("height",R.plugin.popoverTargetPosition.height,"px"),g.Y8G("unlimited",!0)("template",E)("openPopover",R.plugin.openPopoverSubject)("closePopover",R.plugin.closePopoverSubject)("hasPadding",!1)("container",R.element.nativeElement)("withGrowAfterOpen",!0)}}let G=(()=>{class U{changeDetector;element;plugin;template;update=new g.bkB;popover;destroy$=new P.B;initPlugin$=new P.B;constructor(E,R){this.changeDetector=E,this.element=R}ngOnChanges(E){E.plugin&&!E.plugin.isFirstChange()&&this.initPlugin()}ngOnInit(){this.initPlugin()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.initPlugin$.complete()}initPlugin(){this.initPlugin$.next(),this.plugin?.openPopoverSubject.pipe((0,m.Q)(this.initPlugin$),(0,m.Q)(this.destroy$)).subscribe(()=>{this.changeDetector.markForCheck()}),this.plugin?.updatePositionSubject.pipe((0,m.Q)(this.initPlugin$),(0,m.Q)(this.destroy$)).subscribe(E=>{this.popover?.resetSize(),this.element.nativeElement.style.left=E.left+E.width/2+"px",this.element.nativeElement.style.top=E.top+"px",this.popover?.updatePosition(),this.update.next(this.plugin?.dataPoints)})}static \u0275fac=function(R){return new(R||U)(g.rXU(g.gRc),g.rXU(g.aKT))};static \u0275cmp=g.VBU({type:U,selectors:[["nui-chart-popover"]],viewQuery:function(R,Z){if(1&R&&g.GBs(J.r3H,5),2&R){let W;g.mGM(W=g.lsd())&&(Z.popover=W.first)}},inputs:{plugin:"plugin",template:"template"},outputs:{update:"update"},features:[g.OA$],decls:1,vars:1,consts:[[4,"ngIf"],["trigger","openPopoverSubject","placement","top",1,"chart-popover__popover",3,"unlimited","template","openPopover","closePopover","hasPadding","container","withGrowAfterOpen"],["popoverTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(R,Z){1&R&&g.DNE(0,O,4,9,"div",0),2&R&&g.Y8G("ngIf",Z.plugin&&Z.plugin.dataPoints)},dependencies:[F.bT,F.T3,J.r3H],styles:["[_nghost-%COMP%]{position:absolute}.chart-popover__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]})}return U})()},20871:(Tt,ut,a)=>{"use strict";a.d(ut,{q:()=>wt});var g=a(82883),P=a(79394),m=a.n(P),J=a(86759),I=a.n(J),F=a(74740),et=a.n(F),_=a(52667),S=a(76211),G=(a(30043),a(56737)),U=a(27227),C=a(99019),E=a(54739);function R(ct,at){1&ct&&C.eu8(0)}let Z=(()=>{class ct{template;static \u0275fac=function(kt){return new(kt||ct)};static \u0275cmp=C.VBU({type:ct,selectors:[["nui-chart-tooltip"]],inputs:{template:"template"},decls:3,vars:2,consts:[[1,"nui-chart-tooltip","px-2","py-1","nui-text-small"],[4,"ngTemplateOutlet"]],template:function(kt,Ut){1&kt&&(C.j41(0,"div")(1,"div",0),C.DNE(2,R,1,0,"ng-container",1),C.k0s()()),2&kt&&(C.R7$(1),C.Y8G("@tooltip",void 0),C.R7$(1),C.Y8G("ngTemplateOutlet",Ut.template))},dependencies:[E.T3],styles:["[_nghost-%COMP%]{display:block;pointer-events:none}.nui-chart-tooltip[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-inverse,#111);color:var(--nui-color-text-inverse,#fff);line-height:normal}"],data:{animation:[(0,U.hZ)("tooltip",[(0,U.kY)(":enter",[(0,U.iF)({opacity:0}),(0,U.i0)(300,(0,U.iF)({opacity:1}))]),(0,U.kY)(":leave",[(0,U.i0)(300,(0,U.iF)({opacity:0}))])])]},changeDetection:0})}return ct})();var W=a(78721);let nt=(()=>{class ct{overlay;overlayPositionBuilder;scrollStrategyOptions;elementRef;template;openRemoteControl;closeRemoteControl;positions;overlayRef;openSubscription;closeSubscription;positionStrategy;constructor(rt,kt,Ut,ee){this.overlay=rt,this.overlayPositionBuilder=kt,this.scrollStrategyOptions=Ut,this.elementRef=ee}ngOnInit(){this.positionStrategy=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions(this.positions).withFlexibleDimensions(!1).withPush(!0),this.overlayRef=this.overlay.create({panelClass:"nui-chart-tooltip-pane",positionStrategy:this.positionStrategy,scrollStrategy:this.scrollStrategyOptions.close()}),this.openRemoteControl&&(this.openSubscription=this.openRemoteControl.subscribe(()=>{this.show()})),this.closeRemoteControl&&(this.closeSubscription=this.closeRemoteControl.subscribe(()=>{this.hide()}))}show(){this.overlayRef.hasAttached()?this.positionStrategy.apply():this.overlayRef.attach(new G.A8(Z)).instance.template=this.template}hide(){this.overlayRef.detach()}ngOnDestroy(){this.hide(),this.openSubscription&&this.openSubscription.unsubscribe(),this.closeSubscription&&this.closeSubscription.unsubscribe()}getOverlayElement(){return this.overlayRef.overlayElement}static \u0275fac=function(kt){return new(kt||ct)(C.rXU(W.hJ),C.rXU(W.lF),C.rXU(W.Tv),C.rXU(C.aKT))};static \u0275dir=C.FsC({type:ct,selectors:[["","nuiChartTooltip",""]],inputs:{template:"template",openRemoteControl:"openRemoteControl",closeRemoteControl:"closeRemoteControl",positions:"positions"}})}return ct})();function $(ct,at){1&ct&&C.eu8(0)}const ht=function(ct){return{dataPoint:ct}};function j(ct,at){if(1&ct&&C.DNE(0,$,1,0,"ng-container",4),2&ct){const rt=C.XpG().$implicit,kt=C.XpG(2);C.Y8G("ngTemplateOutlet",kt.template)("ngTemplateOutletContext",C.eq3(2,ht,rt.value))}}function _t(ct,at){if(1&ct&&C.nrm(0,"div",5),2&ct){const rt=C.XpG().$implicit,kt=C.sdS(2),Ut=C.XpG(2);C.xc7("left",Ut.plugin.dataPointPositions[rt.key].x,"px")("top",Ut.plugin.dataPointPositions[rt.key].y,"px")("height",Ut.plugin.dataPointPositions[rt.key].height,"px")("width",Ut.plugin.dataPointPositions[rt.key].width,"px"),C.Y8G("template",kt)("openRemoteControl",Ut.openTooltips)("closeRemoteControl",Ut.closeTooltips)("positions",Ut.plugin.dataPointPositions[rt.key].overlayPositions),C.BMQ("series-id",rt.key)}}function it(ct,at){if(1&ct&&(C.j41(0,"div"),C.DNE(1,j,1,4,"ng-template",null,2,C.C5r),C.DNE(3,_t,1,13,"div",3),C.k0s()),2&ct){const rt=at.$implicit,kt=C.XpG(2);C.R7$(3),C.Y8G("ngIf",kt.plugin.dataPointPositions[rt.key])}}function ft(ct,at){if(1&ct&&(C.j41(0,"div"),C.DNE(1,it,4,1,"div",1),C.nI1(2,"keyvalue"),C.k0s()),2&ct){const rt=C.XpG();C.R7$(1),C.Y8G("ngForOf",C.bMT(2,2,rt.plugin.dataPoints))("ngForTrackBy",rt.trackByFn)}}let wt=(()=>{class ct{changeDetector;plugin;template;tooltips;openTooltips=new _.B;closeTooltips=new _.B;unsubscribe$=new _.B;simulation;tooltipDirectivesIndex={};closePending=!1;isOpen=!1;openTimeout;collisionTimeout;closeTimeout;constructor(rt){this.changeDetector=rt}ngOnChanges(rt){rt.plugin&&rt.plugin.currentValue&&(this.unsubscribe$.next(),this.plugin.showSubject.pipe((0,S.Q)(this.unsubscribe$)).subscribe(()=>this.handleOpen()),this.plugin.hideSubject.pipe((0,S.Q)(this.unsubscribe$)).subscribe(()=>this.handleClose()))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}trackByFn(rt,kt){return kt.value.seriesId}handleOpen(){this.changeDetector.detectChanges();const rt={};this.tooltips.forEach(Ut=>{const ee=Ut.elementRef.nativeElement.getAttribute("series-id")??void 0;if(!ee)throw new Error("SeriesId is not defined");rt[ee]=Ut});const kt=!I()(rt,this.tooltipDirectivesIndex);this.closePending||kt||!this.isOpen?(clearTimeout(this.openTimeout),this.openTimeout=window.setTimeout(()=>{this.openTooltips.next(),clearTimeout(this.collisionTimeout),this.collisionTimeout=window.setTimeout(()=>{this.avoidTooltipCollisions(),this.isOpen=!0})})):(this.openTooltips.next(),this.avoidTooltipCollisions(),this.isOpen=!0)}handleClose(){this.simulation&&this.simulation.stop(),this.closePending=!0,clearTimeout(this.closeTimeout),this.closeTimeout=window.setTimeout(()=>{this.closeTooltips.next(),this.closePending=!1,this.isOpen=!1})}avoidTooltipCollisions(){const rt={};this.tooltips.forEach(kt=>{const Ut=kt.getOverlayElement(),ee=kt.elementRef.nativeElement.getAttribute("series-id")??void 0;if(!ee)throw new Error("SeriesId is not defined");this.tooltipDirectivesIndex[ee]=kt,rt[ee]={x:Ut.offsetLeft,y:Ut.offsetTop,width:Ut.clientWidth,height:Ut.clientHeight}}),this.simulation&&this.simulation.stop(),this.simulation=this.startSimulation(this.tooltipDirectivesIndex,rt)}startSimulation(rt,kt){const Ut=Object.keys(kt).map(Ee=>{const ie=kt[Ee];if(et()(ie.height)||et()(ie.width))throw new Error("Position height or width are not defined");const Re={seriesId:Ee,x:ie.x,y:ie.y,radius:this.isVertical()?ie.height/2:ie.width/2};return this.isVertical()?Re.fx=ie.x:Re.fy=ie.y,Re}),ee=(0,g.eRw)(Ee=>Ee.radius).strength(.5).iterations(20),Te=(0,g.tXi)(Ut).alphaDecay(.3).force("collisionForce",ee);return Te.on("tick",()=>{m()(Ut,Ee=>{(0,g.Ltv)(rt[Ee.seriesId].getOverlayElement()).style(this.isVertical()?"top":"left",(this.isVertical()?Ee.y:Ee.x)+"px")})}),Te}isVertical(){return"right"===this.plugin.orientation}static \u0275fac=function(kt){return new(kt||ct)(C.rXU(C.gRc))};static \u0275cmp=C.VBU({type:ct,selectors:[["nui-chart-tooltips"]],viewQuery:function(kt,Ut){if(1&kt&&C.GBs(nt,5),2&kt){let ee;C.mGM(ee=C.lsd())&&(Ut.tooltips=ee)}},inputs:{plugin:"plugin",template:"template"},features:[C.OA$],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["tooltipTemplate",""],["nuiChartTooltip","","class","chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions","left","top","height","width",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nuiChartTooltip","",1,"chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions"]],template:function(kt,Ut){1&kt&&C.DNE(0,ft,3,4,"div",0),2&kt&&C.Y8G("ngIf",Ut.plugin&&Ut.plugin.dataPoints)},dependencies:[E.Sq,E.bT,E.T3,nt,E.lG],styles:[".chart-tooltips__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]})}return ct})()},8410:(Tt,ut,a)=>{"use strict";a.d(ut,{Q:()=>F});var g=a(99019),P=a(32432),m=a.n(P),J=a(20021);a(86655);let F=(()=>{class et{elRef;ngZone;cd;chart;resizeObserver;resizeHandler;intersectionObserver;constructor(S,O,G){this.elRef=S,this.ngZone=O,this.cd=G}ngOnInit(){this.intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback),this.intersectionObserver.observe(this.elRef.nativeElement)}ngOnChanges(S){if(S.chart){const O=S.chart.previousValue;O&&O.destroy(),this.chart&&(this.chart.build(this.elRef.nativeElement),this.redraw())}}ngAfterContentInit(){this.chart.getEventBus().getStream(J.Vl).subscribe(()=>{this.chart.updateDimensions()})}ngAfterViewInit(){this.resizeHandler=m()(()=>this.redraw(),10),this.resizeObserver=new ResizeObserver(()=>{this.ngZone.run(()=>this.resizeHandler())}),this.ngZone.runOutsideAngular(()=>this.resizeObserver?.observe(this.elRef.nativeElement))}ngOnDestroy(){this.intersectionObserver?.unobserve(this.elRef.nativeElement),this.resizeObserver?.unobserve(this.elRef.nativeElement),this.chart?.destroy()}redraw=()=>{this.chart.updateDimensions(),this.cd.detectChanges()};intersectionObserverCallback=S=>{const O={isChartInView:S[0].isIntersecting};this.chart.getEventBus().getStream(J.Bp).next({data:O})};static \u0275fac=function(O){return new(O||et)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(g.gRc))};static \u0275cmp=g.VBU({type:et,selectors:[["nui-chart"]],inputs:{chart:"chart"},features:[g.Jv_([{provide:J.fI,useExisting:(0,g.Rfq)(()=>et)}]),g.OA$],decls:0,vars:0,template:function(O,G){},encapsulation:2})}return et})()},20021:(Tt,ut,a)=>{"use strict";a.d(ut,{A2:()=>C,Bp:()=>Z,C8:()=>m,Dc:()=>_t,E7:()=>W,Ec:()=>J,G8:()=>ht,GM:()=>F,Gu:()=>nt,JM:()=>G,JQ:()=>I,LP:()=>j,Nf:()=>E,VJ:()=>it,Vl:()=>R,_X:()=>O,cC:()=>et,cg:()=>U,fI:()=>$,mZ:()=>S,mu:()=>_});var g=a(99019),P=a(5438);const m="mouse_active",J="interaction_values_active",I="interaction_values",F="interaction_coordinates",et="highlight_data_point",_="select_data_point",S="highlight_series",O="interaction_series",G="interaction_data_points",U="interaction_data_point",C="destroy",E="set_domain",R="refresh",Z="chart_view_status",W="series_state_change",nt="axes_style_change",$=new g.nKC("chart_component"),ht={[P.r.background]:{name:P.r.background,order:0,clipped:!0},[P.r.data]:{name:P.r.data,order:50,clipped:!0},[P.r.unclippedData]:{name:P.r.unclippedData,order:51,clipped:!1},[P.r.foreground]:{name:P.r.foreground,order:1e3,clipped:!1}},j=-1,_t=-2,it="ignore-interaction"},57219:(Tt,ut,a)=>{"use strict";a.d(ut,{f:()=>S});var g=a(79394),P=a.n(g),m=a(40437),J=a.n(m),I=a(64755),F=a.n(I),et=a(20021),_=a(78829);class S{lastIndex=-1;events=[et.JQ,et.GM,et.C8,et.Vl];charts={};subscriptions={};eventBus;constructor(){}addChart(G){const U=(++this.lastIndex).toString();this.charts[U]=G,this.eventBus||this.initializeEventBus(),P()(this.events,C=>{this.subscribe(U,G.getEventBus().getStream(C),E=>{E.broadcast||this.eventBus?.getStream(C).next({chartIndex:U,event:E})})}),this.subscribe(U,G.getEventBus().getStream(et.A2),C=>{this.removeChart(G),0===Object.keys(this.charts).length&&this.destroy()})}removeChart(G){const U=this.getChartKey(G);if(F()(U))throw new Error("Chart not registered!");this.unsubscribeChart(U),delete this.charts[U]}destroy(){this.eventBus?.destroy(),this.eventBus=void 0}initializeEventBus(){this.eventBus=new _.l;for(const G of this.events)this.eventBus.getStream(G).subscribe(U=>{for(const C of Object.keys(this.charts))C!==U.chartIndex&&(U.event.broadcast=!0,this.charts[C].getEventBus().getStream(G).next(U.event))})}subscribe(G,U,C){const E=U.subscribe(C);let R=this.subscriptions[G];F()(R)&&(R=[],this.subscriptions[G]=R),R.push(E)}unsubscribeChart(G){P()(this.subscriptions[G],U=>{U.unsubscribe()}),delete this.subscriptions[G]}getChartKey(G){return J()(this.charts,U=>U===G)}}},91880:(Tt,ut,a)=>{"use strict";a.d(ut,{y:()=>g});class g{constructor(){}chart;initialize(){}update(){}updateDimensions(){}destroy(){}}},78829:(Tt,ut,a)=>{"use strict";a.d(ut,{l:()=>J});var g=a(79394),P=a.n(g),m=a(52667);class J{streams={};getStream(F){return this.streams[F]||(this.streams[F]=new m.B),this.streams[F]}destroy(){P()(Object.keys(this.streams),F=>{this.streams[F].complete()})}}},71443:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>G});var g=a(82883),P=a(41895),m=a.n(P),J=a(79394),I=a.n(J),F=a(30379),et=a.n(F),_=a(20021),S=a(5438),O=a(58493);class G{config;static DEFAULT_CONFIG={stateStyles:{[S.M.default]:{opacity:1},[S.M.hidden]:{opacity:0},[S.M.deemphasized]:{opacity:.1},[S.M.emphasized]:{opacity:1}}};constructor(C={}){this.config=C,this.config=m()(this.config,G.DEFAULT_CONFIG)}interaction={};getDataPointIndex(C,E,R){return _.LP}highlightDataPoint(C,E,R){}getContainerStateStyles=C=>{if(!this.config.stateStyles)throw new Error("stateStyles property is not defined");return this.config.stateStyles[C||S.M.default]};setSeriesState(C,E){}setDataPointState(C,E){}getDomainOfFilteredData(C,E,R,Z){let W=C.data;for(const nt of Object.keys(E)){const $=E[nt];!$.isDomainFixed||!$.isContinuous()||(W=this.filterDataByDomain(W,C,nt,$.domain()))}return this.getDomain(W,C,R,Z)}getDomain(C,E,R,Z){return C&&0!==C.length?(0,g.Xxv)(C,(W,nt,$)=>E.accessors.data?.[R]?.(W,nt,Array.from($),E)):O.tO}filterDataByDomain(C,E,R,Z){const W=E.accessors.data?.[R];return C.filter((nt,$)=>{const ht=W(nt,$,C,E);return ht>=Z[0]&&ht<=Z[1]})}getRequiredLayers(){return[_.G8[S.r.data]]}setupInteraction(C,E,R,Z,W){const nt=et()(this.interaction,C,{})[E];nt&&I()(nt,$=>{R.on(E,()=>{const ht=R.node().getBoundingClientRect();Z.next({eventName:$,data:{...W,position:ht}})})})}}},58493:(Tt,ut,a)=>{"use strict";a.d(ut,{Db:()=>P,Zo:()=>m,tO:()=>g,y_:()=>J,z7:()=>I});const g=[0,0],P=[0,1];function m(F){return!!F.domainWithTicks}function J(F){return"function"==typeof F.bandwidth}function I(F){return typeof F.innerScale<"u"}},86655:(Tt,ut,a)=>{"use strict";a.d(ut,{X:()=>g});var g=function(P){return P.Click="click",P.Hover="hover",P.MouseDown="mousedown",P.MouseEnter="mouseenter",P.MouseLeave="mouseleave",P.MouseMove="mousemove",P.MouseUp="mouseup",P}(g||{})},76830:(Tt,ut,a)=>{"use strict";a.d(ut,{X:()=>F});var g=a(64755),P=a.n(g),m=a(52667),J=a(22118),I=a(91880);class F extends I.y{contentPositionUpdateSubject=new m.B;contentPosition={top:0,left:0,width:0,height:0};updateDimensions(){const _=this.chart.getDataManager().chartSeriesSet.reduce((S,O)=>O.renderer instanceof J.n&&!P()(S)?Math.min(S,O.renderer.getInnerRadius(O.scales.r.range(),O.data.length-1)):S,1/0);if(P()(_))throw new Error("Radius is undefined");this.contentPosition=this.getContentPosition(_),this.contentPositionUpdateSubject.next(this.contentPosition)}destroy(){this.contentPositionUpdateSubject.complete()}getContentPosition(_){const S=[this.chart.getGrid().config().dimension.outerHeight()/2,this.chart.getGrid().config().dimension.outerWidth()/2];return{top:S[0]-_/Math.sqrt(2),left:S[1]-_/Math.sqrt(2),width:_*Math.sqrt(2),height:_*Math.sqrt(2)}}}},91449:(Tt,ut,a)=>{"use strict";a.d(ut,{D:()=>U});var g=a(41895),P=a.n(g),m=a(51807),J=a.n(m),I=a(45161),F=a.n(I),et=a(52667),_=a(76211),S=a(20021),O=a(91880),G=a(86655);class U extends O.y{config;dataPoints;updatePositionSubject=new et.B;openPopoverSubject=new et.B;closePopoverSubject=new et.B;popoverTargetPosition={top:0,left:0,width:0,height:0};DEFAULT_CONFIG={eventStreamId:S.JM,interactionType:G.X.MouseMove};isOpen=!1;destroy$=new et.B;constructor(E={}){super(),this.config=E,this.config=P()(this.config,this.DEFAULT_CONFIG)}initialize(){this.chart.getEventBus().getStream(this.config.eventStreamId).pipe((0,_.Q)(this.destroy$)).subscribe(E=>{E.data.interactionType===this.config.interactionType&&this.processDataPoints(E.data.dataPoints??{[E.data.dataPoint.seriesId]:E.data.dataPoint})})}destroy(){this.updatePositionSubject&&this.updatePositionSubject.complete(),this.openPopoverSubject&&this.openPopoverSubject.complete(),this.closePopoverSubject&&this.closePopoverSubject.complete(),this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}getAbsolutePosition(E){const R=this.chart.target?.node()?.parentNode;if(!R)throw new Error("Chart parent node is not defined");const Z=Math.min(...E.map($=>$.position.x)),W=R.offsetLeft+this.chart.getGrid().config().dimension.margin.left+Z;return{top:R.offsetTop+this.chart.getGrid().config().dimension.margin.top,left:W,height:R.offsetHeight,width:Math.max(...E.map($=>$.position.x+($.position.width||0)))-Z}}processDataPoints(E){const R=J()(E,W=>W.index>=0&&W.position),Z=F()(R);Z.length>0?(this.popoverTargetPosition=this.getAbsolutePosition(Z),this.dataPoints=R,setTimeout(()=>{this.updatePositionSubject.next(this.popoverTargetPosition),this.isOpen||(this.isOpen=!0,this.openPopoverSubject.next())})):setTimeout(()=>{this.closePopoverSubject.next(),this.isOpen=!1})}}},30043:(Tt,ut,a)=>{"use strict";a.d(ut,{o7:()=>Z});var g=a(79394),P=a.n(g),m=a(51807),J=a.n(m),I=a(45161),F=a.n(I),et=a(52667),_=a(76211),S=a(20021),O=a(5438),G=a(91880),U=a(86655);class Z extends G.y{tooltipPositionOffset;orientation;dataPoints;dataPointPositions={};showSubject=new et.B;hideSubject=new et.B;overlaySetup;isChartInView=!1;destroy$=new et.B;seriesVisibilityMap={};constructor(nt=10,$="right"){var W;super(),this.tooltipPositionOffset=nt,this.orientation=$,"right"===$?this.overlaySetup=[{originX:"end",originY:"top",overlayX:"start",overlayY:"center",offsetX:W=nt},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-W}]:"top"===$&&(this.overlaySetup=(W=>[{originX:"end",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-W},{originX:"end",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:W}])(nt))}initialize(){this.chart.getEventBus().getStream(S.JM).pipe((0,_.Q)(this.destroy$)).subscribe(nt=>{nt.data.interactionType===U.X.MouseMove&&this.isChartInView&&this.processHighlightedDataPoints(nt.data.dataPoints)}),this.chart.getEventBus().getStream(S.E7).pipe((0,_.Q)(this.destroy$)).subscribe(nt=>{nt.data.forEach($=>{this.seriesVisibilityMap[$.seriesId]=$.state!==O.M.hidden})}),this.chart.getEventBus().getStream(S.Bp).pipe((0,_.Q)(this.destroy$)).subscribe(nt=>{this.isChartInView=nt.data.isChartInView,this.isChartInView||this.hideSubject.next()})}destroy(){this.destroy$.next(),this.destroy$.complete()}processHighlightedDataPoints(nt){const $=J()(nt,ft=>ft.index>=0&&ft.position&&!1!==this.seriesVisibilityMap[ft.seriesId]);if(0===F()($).length)return void this.hideSubject.next();this.dataPoints=$;const ht=this.chart.target?.node()?.parentNode;if(!ht)throw new Error("Chart parent node is not defined");const j=ht.getBoundingClientRect(),_t=ht.offsetParent.getBoundingClientRect(),it={x:j.left-_t.left,y:j.top-_t.top};P()(Object.keys(this.dataPoints),ft=>{const wt=this.dataPoints[ft],ct=this.chart.getDataManager().getChartSeries(wt.seriesId),at=this.getTooltipPosition(wt,ct);this.dataPointPositions[ft]=this.getAbsolutePosition(at,it)}),this.showSubject.next()}getTooltipPosition(nt,$){if(!nt.position)throw new Error("Unable to get tooltip position");return{x:nt.position.x,y:nt.position.y,height:nt.position?.height||1,width:nt.position?.width||1,overlayPositions:this.overlaySetup}}getAbsolutePosition(nt,$){return Object.assign({},nt,{x:$.x+this.chart.getGrid().config().dimension.margin.left+nt.x,y:$.y+this.chart.getGrid().config().dimension.margin.top+nt.y})}}},60598:(Tt,ut,a)=>{"use strict";a.d(ut,{q:()=>W});var g=a(99019),P=a(43930),m=a.n(P),J=a(5438),I=a(93078),F=a(80317),et=a(54739);const _=["projectedDescription"];function S(nt,$){if(1&nt&&(g.j41(0,"div",12),g.EFF(1),g.k0s()),2&nt){const ht=g.XpG(2);g.Y8G("title",ht.descriptionPrimary),g.R7$(1),g.SpI(" ",ht.descriptionPrimary," ")}}function O(nt,$){if(1&nt&&(g.j41(0,"div",13),g.EFF(1),g.k0s()),2&nt){const ht=g.XpG(2);g.Y8G("title",ht.descriptionSecondary),g.R7$(1),g.SpI(" ",ht.descriptionSecondary," ")}}function G(nt,$){if(1&nt&&(g.j41(0,"div",9),g.DNE(1,S,2,2,"div",10),g.DNE(2,O,2,2,"div",11),g.k0s()),2&nt){const ht=g.XpG();g.R7$(1),g.Y8G("ngIf",!!ht.descriptionPrimary),g.R7$(1),g.Y8G("ngIf",!!ht.descriptionSecondary)}}function U(nt,$){1&nt&&(g.j41(0,"div",14,15),g.SdG(2,2),g.k0s())}const C=["*",[["","legendMenu",""]],[["","description",""]]],E=function(nt){return[nt]},R=["*","[legendMenu]","[description]"];let W=(()=>{class nt{legend;set active(ht){this._active=ht}set interactive(ht){this._interactive=ht}get interactive(){return this._interactive}isSelected=!0;isSelectedChange=new g.bkB;descriptionPrimary;descriptionSecondary;icon;color;set seriesRenderState(ht){this._seriesRenderState=ht}get seriesRenderState(){return this._seriesRenderState||J.M.default}projectedDescription;get isInteractiveClassApplied(){return this._interactive}isHorizontalClassApplied=!1;get isActiveClassApplied(){return this._active&&this.seriesRenderState!==J.M.hidden}_seriesRenderState;_active=!1;_interactive;constructor(ht){this.legend=ht}ngAfterContentInit(){this.legend&&(this.legend.activeChanged.subscribe(ht=>this._active=ht),this.icon=this.icon||this.legend.seriesIcon,this._active=this.legend.active,this.interactive=this.interactive??this.legend.interactive,this.isHorizontalClassApplied=this.legend.orientation===F.g.horizontal)}onClick(){this.interactive&&this.isSelectedChange.next(!this.isSelected)}hasInputDescription(){return!m()(this.descriptionPrimary)||!m()(this.descriptionSecondary)}hasProjectedDescription(){return!!this.projectedDescription&&0!==this.projectedDescription.nativeElement.children.length}static \u0275fac=function(j){return new(j||nt)(g.rXU(I.f,9))};static \u0275cmp=g.VBU({type:nt,selectors:[["nui-legend-series"]],viewQuery:function(j,_t){if(1&j&&g.GBs(_,5),2&j){let it;g.mGM(it=g.lsd())&&(_t.projectedDescription=it.first)}},hostAttrs:[1,"nui-legend-series"],hostVars:6,hostBindings:function(j,_t){1&j&&g.bIt("click",function(){return _t.onClick()}),2&j&&g.AVh("nui-legend-series--interactive",_t.isInteractiveClassApplied)("nui-legend-series--horizontal",_t.isHorizontalClassApplied)("inverse",_t.isActiveClassApplied)},inputs:{active:"active",interactive:"interactive",isSelected:"isSelected",descriptionPrimary:"descriptionPrimary",descriptionSecondary:"descriptionSecondary",icon:"icon",color:"color",seriesRenderState:"seriesRenderState"},outputs:{isSelectedChange:"isSelectedChange"},ngContentSelectors:R,decls:12,vars:9,consts:[[1,"d-flex",3,"ngClass"],[1,"nui-legend-series__tile-wrapper"],[1,"nui-legend-series__tile"],[1,"nui-legend-series__checkbox-wrapper"],[1,"nui-legend-series__checkbox-mark"],[1,"nui-legend-series__checkbox-glyph"],["class","description-container nui-text-small d-flex flex-column justify-content-center",4,"ngIf","ngIfElse"],[1,"legend-menu"],["descriptionTemplate",""],[1,"description-container","nui-text-small","d-flex","flex-column","justify-content-center"],["class","description description-primary",3,"title",4,"ngIf"],["class","description description-secondary",3,"title",4,"ngIf"],[1,"description","description-primary",3,"title"],[1,"description","description-secondary",3,"title"],[1,"d-flex"],["projectedDescription",""]],template:function(j,_t){if(1&j&&(g.NAR(C),g.j41(0,"div",0)(1,"div",1)(2,"div",2),g.SdG(3),g.k0s(),g.j41(4,"div",3)(5,"div",4),g.nrm(6,"i",5),g.k0s()()(),g.DNE(7,G,3,2,"div",6),g.j41(8,"div",7),g.SdG(9,1),g.k0s()(),g.DNE(10,U,3,0,"ng-template",null,8,g.C5r)),2&j){const it=g.sdS(11);g.AVh("nui-legend-series--deselected",!_t.isSelected),g.Y8G("ngClass",g.eq3(7,E,"nui-legend-series--state-"+_t.seriesRenderState)),g.R7$(4),g.AVh("nui-legend-series__checkbox--checked",_t.isSelected),g.R7$(3),g.Y8G("ngIf",_t.hasInputDescription())("ngIfElse",it)}},dependencies:[et.YU,et.bT],encapsulation:2,changeDetection:0})}return nt})()},29261:(Tt,ut,a)=>{"use strict";a.d(ut,{L:()=>E});var g=a(74740),P=a.n(g),m=a(60598),J=a(93078),I=a(99019),F=a(54739);function et(R,Z){if(1&R&&(I.j41(0,"div",10),I.EFF(1),I.k0s()),2&R){const W=I.XpG();I.R7$(1),I.SpI(" ",W.value," ")}}function _(R,Z){if(1&R&&(I.j41(0,"div",11),I.EFF(1),I.k0s()),2&R){const W=I.XpG();I.R7$(1),I.SpI(" ",W.unitLabel," ")}}function S(R,Z){1&R&&I.SdG(0,3)}function O(R,Z){1&R&&I.SdG(0,4)}const G=["*",[["","leftEdge",""]],[["","rightEdge",""]],[["","top",""]],[["","bottom",""]]],U=function(R){return{"background-color":R}},C=["*","[leftEdge]","[rightEdge]","[top]","[bottom]"];let E=(()=>{class R{legendSeries;legend;changeDetector;unitLabel;value;backgroundColor;color;seriesHasAdditionalContent;constructor(W,nt,$){this.legendSeries=W,this.legend=nt,this.changeDetector=$}ngAfterContentInit(){this.legend&&(this.unitLabel=this.unitLabel||this.legend.seriesUnitLabel,this.backgroundColor=this.backgroundColor||this.legend.seriesColor||"white")}ngAfterViewInit(){this.legendSeries&&(this.seriesHasAdditionalContent=this.legendSeries.hasInputDescription()||this.legendSeries.hasProjectedDescription(),this.changeDetector.detectChanges())}hasInputValue(){return!P()(this.value)}hasInputUnitLabel(){return!P()(this.unitLabel)}static \u0275fac=function(nt){return new(nt||R)(I.rXU(m.q,1),I.rXU(J.f,9),I.rXU(I.gRc))};static \u0275cmp=I.VBU({type:R,selectors:[["nui-rich-legend-tile"]],inputs:{unitLabel:"unitLabel",value:"value",backgroundColor:"backgroundColor",color:"color"},ngContentSelectors:C,decls:15,vars:13,consts:[[1,"nui-rich-legend-tile"],[1,"nui-rich-legend-tile__tilebox","d-flex","justify-content-center","align-items-end","flex-column",3,"ngStyle"],["class","nui-rich-legend-tile__tilebox-value nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],["class","nui-rich-legend-tile__tilebox-unit nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],[1,"nui-rich-legend-tile__icon"],["icon",""],[1,"nui-rich-legend-tile__point-marker"],["rightEdge",""],["projectedTopContent",""],["projectedBottomContent",""],[1,"nui-rich-legend-tile__tilebox-value","nui-rich-legend-tile__ellipsified"],[1,"nui-rich-legend-tile__tilebox-unit","nui-rich-legend-tile__ellipsified"]],template:function(nt,$){if(1&nt&&(I.NAR(G),I.j41(0,"div",0)(1,"div",1),I.DNE(2,et,2,1,"div",2),I.DNE(3,_,2,1,"div",3),I.SdG(4),I.k0s(),I.j41(5,"div",4,5),I.SdG(7,1),I.k0s(),I.j41(8,"div",6,7),I.SdG(10,2),I.k0s()(),I.DNE(11,S,1,0,"ng-template",null,8,I.C5r),I.DNE(13,O,1,0,"ng-template",null,9,I.C5r)),2&nt){const ht=I.sdS(9),j=I.sdS(12),_t=I.sdS(14);I.AVh("nui-rich-legend-tile--has-point-marker",ht.children.length>0)("nui-rich-legend-tile--series-has-additional-content",$.seriesHasAdditionalContent),I.R7$(1),I.xc7("color",$.color),I.Y8G("ngStyle",I.eq3(11,U,$.backgroundColor)),I.R7$(1),I.Y8G("ngIf",$.hasInputValue())("ngIfElse",j),I.R7$(1),I.Y8G("ngIf",$.hasInputUnitLabel())("ngIfElse",_t)}},dependencies:[F.bT,F.B3],styles:[".nui-rich-legend-tile[_ngcontent-%COMP%]{position:relative;width:60px;height:100%;line-height:18px}.nui-rich-legend-tile[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:empty{display:none}.nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px;background-color:var(--nui-color-bg-light,#fff)}.nui-rich-legend-tile__ellipsified[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]{text-align:right;font-weight:600}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]:not(:last-child){margin-bottom:-3px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]{text-align:right;font-size:11px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]:not(:first-child){margin-top:-3px}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%], .nui-rich-legend-tile__icon[_ngcontent-%COMP%]{position:absolute;line-height:0;top:50%;pointer-events:none}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.nui-rich-legend-tile__icon[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}.nui-rich-legend-tile--has-point-marker.nui-rich-legend-tile--series-has-additional-content[_ngcontent-%COMP%]{margin-right:5px}.nui-rich-legend-tile--has-point-marker[_ngcontent-%COMP%]   .nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{padding-right:7px}"]})}return R})()},93078:(Tt,ut,a)=>{"use strict";a.d(ut,{f:()=>J});var g=a(99019),P=a(80317);const m=["*"];let J=(()=>{class I{activeChanged=new g.bkB;active=!1;interactive=!1;orientation=P.g.vertical;seriesColor;seriesIcon;seriesUnitLabel;ngOnChanges(et){et.active&&this.activeChanged.emit(this.active)}ngOnDestroy(){this.activeChanged.complete()}static \u0275fac=function(_){return new(_||I)};static \u0275cmp=g.VBU({type:I,selectors:[["nui-legend"]],hostAttrs:[1,"d-inline-block"],inputs:{active:"active",interactive:"interactive",orientation:"orientation",seriesColor:"seriesColor",seriesIcon:"seriesIcon",seriesUnitLabel:"seriesUnitLabel"},features:[g.OA$],ngContentSelectors:m,decls:2,vars:2,consts:[[1,"nui-legend","d-flex","flex-wrap"]],template:function(_,S){1&_&&(g.NAR(),g.j41(0,"div",0),g.SdG(1),g.k0s()),2&_&&g.AVh("flex-column","vertical"===S.orientation)},encapsulation:2})}return I})()},80317:(Tt,ut,a)=>{"use strict";a.d(ut,{g:()=>g});var g=function(P){return P.vertical="vertical",P.horizontal="horizontal",P}(g||{})},36735:(Tt,ut,a)=>{"use strict";a.d(ut,{Gu0:()=>lt.Gu,iK5:()=>Vn,jiB:()=>Qr,SOQ:()=>tt,a_S:()=>kn,tVU:()=>We,Yje:()=>Gn,TDW:()=>$n,Y5k:()=>Bt,M4m:()=>Qn,LfY:()=>Li,jHN:()=>w,L8y:()=>Tn,z3U:()=>pi,sjD:()=>qt,qY0:()=>oe,Bpw:()=>lt.Bp,t1X:()=>Vi,Wiz:()=>o,Qeh:()=>Xi.Q,XhJ:()=>Pe.X,Shf:()=>Hn,DCW:()=>On.D,o71:()=>Un.o7,Dc9:()=>lt.Dc,LPd:()=>lt.LP,x6A:()=>wi.x,iLt:()=>er,FpW:()=>ti,kFs:()=>$r,FhS:()=>N,cCe:()=>lt.cC,mZ2:()=>lt.mZ,W99:()=>Xn,JM:()=>lt.JM,cgj:()=>lt.cg,_Xr:()=>lt._X,JQI:()=>lt.JQ,srA:()=>rn,Y44:()=>an,X82:()=>Ct.X,fpW:()=>hi,Epf:()=>Ht,L0i:()=>li,Bjg:()=>br,kck:()=>Me,C8o:()=>lt.C8,W91:()=>u,UR3:()=>ui,dHF:()=>Ur,yhi:()=>Fr,FIy:()=>di,StF:()=>Er,YRY:()=>D,Gh8:()=>si,RM$:()=>yt,gWC:()=>wr,Q8j:()=>Yi,QhA:()=>Zn,n7t:()=>wi.n,dwm:()=>An,M_X:()=>Lt.M,mur:()=>lt.mu,E7X:()=>lt.E7,Nfs:()=>lt.Nf,Pbz:()=>tn,QLZ:()=>bn,HBo:()=>kr,Vli:()=>ri,i14:()=>Ti,i$B:()=>fi,bPO:()=>en,jqT:()=>ai,Pid:()=>Gi,k5S:()=>mi,P$m:()=>wn,UAQ:()=>_n,QYz:()=>we,gFO:()=>nr,owv:()=>Oi,SFt:()=>Kn,qw7:()=>H,Xhp:()=>je,jnT:()=>zi,mi4:()=>ki,QSe:()=>Wr,_ZX:()=>Xr,ByE:()=>ir,Nyk:()=>yn,C6k:()=>Kt,eZC:()=>M,WJA:()=>Ne,zk6:()=>be,XNn:()=>Ue,EQA:()=>Tr,Msv:()=>Dr,xMI:()=>Sr,rbX:()=>Ar,_YP:()=>ei,t$z:()=>xr,rqY:()=>Jr,v92:()=>is,D2W:()=>ts,J8c:()=>_r,dg1:()=>gn,dWj:()=>rs,ISM:()=>ss}),a(45558),a(20871),a(19290),a(43846);var I=a(78721),F=a(21655),et=a(72625),_=a(14221);function S(c,n){return c.each(function(){var t=n.apply(this,arguments),e=(0,_.A)(this);for(var r in t)e.attr(r,t[r])})}function O(c,n){for(var t in n)c.attr(t,n[t]);return c}function U(c,n,t){return c.each(function(){var e=n.apply(this,arguments),r=(0,_.A)(this);for(var s in e)r.style(s,e[s],t)})}function C(c,n,t){for(var e in n)c.style(e,n[e],t);return c}function R(c,n){return c.each(function(){var t=n.apply(this,arguments),e=(0,_.A)(this);for(var r in t)e.property(r,t[r])})}function Z(c,n){for(var t in n)c.property(t,n[t]);return c}function nt(c,n){return c.each(function(){var t=n.apply(this,arguments),e=(0,_.A)(this).transition(c);for(var r in t)e.attr(r,t[r])})}function $(c,n){for(var t in n)c.attr(t,n[t]);return c}function j(c,n,t){return c.each(function(){var e=n.apply(this,arguments),r=(0,_.A)(this).transition(c);for(var s in e)r.style(s,e[s],t)})}function _t(c,n,t){for(var e in n)c.style(e,n[e],t);return c}F.Ay.prototype.attrs=function G(c){return("function"==typeof c?S:O)(this,c)},F.Ay.prototype.styles=function E(c,n){return("function"==typeof c?U:C)(this,c,n??"")},F.Ay.prototype.properties=function W(c){return("function"==typeof c?R:Z)(this,c)},et.kY.prototype.attrs=function ht(c){return("function"==typeof c?nt:$)(this,c)},et.kY.prototype.styles=function it(c,n){return("function"==typeof c?j:_t)(this,c,n??"")};var ft=a(29091),wt=a(33634),ct=a(70716),at=a.n(ct),rt=a(53674),kt=a.n(rt),Ut=a(64460),ee=a.n(Ut),Te=a(45161),Ee=a.n(Te),ie=a(58493),Re=a(13793),Xe=a(29142),ke=a.n(Xe),Ke=a(3762),xn=a.n(Ke),K=a(28603),At=a.n(K),te=a(40626),fe=a.n(te),It=a(30383),ae=a.n(It);function Ue(c){if(!xn()(c,"var("))return c;const n=At()(fe()(ae()(c,"var("),")"));return getComputedStyle(document.body).getPropertyValue(n)}class $e{sourceProvider;fn;processedColors;constructor(n,t){this.sourceProvider=n,this.fn=t,this.reset()}get=n=>{const t=this.sourceProvider.get(n);if(!t)throw new Error("clr is not defined");let e=this.processedColors[t];return e||(e=this.fn(t),this.processedColors[t]=e),e};reset(){this.processedColors={}}}class on{values;providedValues;lastUsedIndex;constructor(n){this.values=n,this.reset()}get=n=>{let t=this.providedValues[n];if(!t){const e=++this.lastUsedIndex%this.values.length;t=this.values[e],this.providedValues[n]=t}return t};reset(){this.providedValues={},this.lastUsedIndex=-1}}class bn extends on{colors;constructor(n){super(n),this.colors=n}}const Rn=1/12.92;class cn extends $e{constructor(n,t){super(n,e=>{const r=Ue(e),s=(0,Re.Qh)(r),l=this.getContrastRatio(s,(0,Re.Qh)(t.light));return this.getContrastRatio(s,(0,Re.Qh)(t.dark))>l?t.dark:t.light})}getContrastRatio(n,t){const e=this.getRelativeLuminance(n),r=this.getRelativeLuminance(t);let s,l;return e>r?(s=e,l=r):(s=r,l=e),(s+.05)/(l+.05)}getRelativeLuminance(n){const t=n.r/255,e=n.g/255,r=n.b/255;return.2126*(t<=.03928?t*Rn:this.adjustGamma(t))+.7152*(e<=.03928?e*Rn:this.adjustGamma(e))+.0722*(r<=.03928?r*Rn:this.adjustGamma(r))}adjustGamma(n){return Math.pow((n+.055)/1.055,2.4)}}class Hn{_standardColors;_textColors;_backgroundColors;constructor(n,t={backgroundOpacity:.15}){this._standardColors=ke()(n)?new bn(n):n,this._textColors=new cn(this.standardColors,{light:"white",dark:"black"}),this._backgroundColors=new $e(this.standardColors,e=>{const r=Ue(e),s=(0,Re.Qh)(r);return s.opacity=t.backgroundOpacity,s.toString()})}get standardColors(){return this._standardColors}get backgroundColors(){return this._backgroundColors}get textColors(){return this._textColors}}var Jn=a(64755),Ce=a.n(Jn);class ai{svg;styledSvg;constructor(n){this.svg=n}getSvg(){return this.styledSvg||this.svg}setColor(n){this.styledSvg=Ce()(n)?n:`<g fill="${n}">${this.svg}</g>`}}const pi=["var(--nui-color-chart-one)","var(--nui-color-chart-two)","var(--nui-color-chart-three)","var(--nui-color-chart-four)","var(--nui-color-chart-five)","var(--nui-color-chart-six)","var(--nui-color-chart-seven)","var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"],qt=["var(--nui-color-chart-one)","var(--nui-color-chart-one-light)","var(--nui-color-chart-two)","var(--nui-color-chart-two-light)","var(--nui-color-chart-three)","var(--nui-color-chart-three-light)","var(--nui-color-chart-four)","var(--nui-color-chart-four-light)","var(--nui-color-chart-five)","var(--nui-color-chart-five-light)","var(--nui-color-chart-six)","var(--nui-color-chart-six-light)","var(--nui-color-chart-seven)","var(--nui-color-chart-seven-light)","var(--nui-color-chart-eight)","var(--nui-color-chart-eight-light)","var(--nui-color-chart-nine)","var(--nui-color-chart-nine-light)","var(--nui-color-chart-ten)","var(--nui-color-chart-ten-light)"],oe=["var(--nui-color-semantic-down)","var(--nui-color-semantic-down-bg)","var(--nui-color-semantic-critical)","var(--nui-color-semantic-critical-bg)","var(--nui-color-semantic-warning)","var(--nui-color-semantic-warning-bg)","var(--nui-color-semantic-unknown)","var(--nui-color-semantic-unknown-bg)","var(--nui-color-semantic-ok)","var(--nui-color-semantic-ok-bg)","var(--nui-color-semantic-info)","var(--nui-color-semantic-info-bg)","var(--nui-color-chart-ten-light)","var(--nui-color-chart-ten)"],ze=["m0 0m-4 0a4 4 0 1 0 8 0 4 4 0 1 0-8 0z","m-4,-4l8,0l0,8l-8,0l0,-8z","m0-4 4 8-8 0z","m0-4.95 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8 0z","m0-3.805 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703z"],Tn=[...ze.map(c=>`<path class="nui-chart--path__outline" d="${c}"></path>`),...["m0 2c1.105 0 2-.895 2-2 0-1.105-.895-2-2-2-1.105 0-2 .895-2 2 0 1.105.895 2 2 2zm0 2c-2.209 0-4-1.791-4-4 0-2.209 1.791-4 4-4 2.209 0 4 1.791 4 4 0 2.209-1.791 4-4 4z","m-2-2 0 4 4 0 0-4-4 0zm-2-2 8 0 0 8-8 0 0-8z","m0-4-4 8 8.001 0-4.001-8zm0 3.354 1.573 3.146-3.145 0 1.572-3.146z","m0-2.121-2.121 2.121 2.121 2.121 2.121-2.121-2.121-2.121zm0-2.828 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8.001 0-4.001 8zm0-3.354 1.573-3.146-3.145 0 1.572 3.146z","m0-1.951-2.237 1.626.855 2.63 2.766 0 .855-2.63-2.237-1.626zm0-1.854 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703 4.001-2.907z"].map((c,n)=>`<path class="nui-chart--path__outline-fill" stroke="none" d="${ze[n]}"></path>\n            <path class="nui-chart--path__outline" d="${c}"></path>`)].map(c=>new ai(c));class tn extends on{markers;constructor(n){super(n),this.markers=n}}function He(){return new bn(pi)}function ln(){return new tn(Tn)}class Vn{colorProvider;markerProvider;data;series;constructor(n=He(),t=ln()){this.colorProvider=n,this.markerProvider=t,this.data={x:(e,r,s,l)=>e.x,x0:(e,r,s,l)=>this.data.x(e,r,s,l),x1:(e,r,s,l)=>this.data.x(e,r,s,l),y:(e,r,s,l)=>e.y,y0:(e,r,s,l)=>this.data.y(e,r,s,l),y1:(e,r,s,l)=>this.data.y(e,r,s,l),absoluteX0:(e,r,s,l)=>e.__stack_x?.start??this.data.x0(e,r,s,l),absoluteX1:(e,r,s,l)=>e.__stack_x?.end??this.data.x1(e,r,s,l),absoluteY0:(e,r,s,l)=>e.__stack_y?.start??this.data.y0(e,r,s,l),absoluteY1:(e,r,s,l)=>e.__stack_y?.end??this.data.y1(e,r,s,l)},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}class dn{data;series;constructor(){}}class fn extends dn{colorProvider;markerProvider;data;series;constructor(n=He(),t=ln()){super(),this.colorProvider=n,this.markerProvider=t,this.data={value:e=>e.value,category:(e,r,s,l)=>e.category?e.category:this.series.category?this.series.category(l.id,l):null,start:(e,r,s,l)=>{if(e.__bar)return e.__bar.start;if(typeof e.start<"u")return e.start;const f=this.getSingleValue(e,r,s,l);return Number.isFinite(f)?Math.min(0,f):null},end:(e,r,s,l)=>{if(e.__bar)return e.__bar.end;if(typeof e.end<"u")return e.end;const f=this.getSingleValue(e,r,s,l);return Number.isFinite(f)?Math.max(0,f):null}},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0,category:(e,r)=>r.name||r.id}}getSingleValue(n,t,e,r){let s;return this.data.value&&(s=this.data.value(n,t,e,r),typeof s>"u"&&(s=n)),s}}class Xn extends fn{constructor(n,t){super(n,t),this.data={...this.data,startX:(e,r,s,l)=>this.data.start(e,r,s,l),endX:(e,r,s,l)=>this.data.end(e,r,s,l),startY:(e,r,s,l)=>this.data.category(e,r,s,l),endY:(e,r,s,l)=>this.data.category(e,r,s,l),thicknessY:(e,r,s,l)=>this.data.thickness?this.data.thickness(e,r,s,l):void 0}}}class en{barAccessors;static STATUS_CATEGORY="status";static STATUS_DOMAIN=[en.STATUS_CATEGORY];get data(){return this.barAccessors.data}get series(){return this.barAccessors.series}constructor(n){this.barAccessors=n,n.data.status=t=>t.status}}function gn(c,n){const t=new en(new Xn(c,n));return t.data.color=(e,r,s,l)=>c.get(t.data.status(e,r,s,l)),t.data.category=()=>en.STATUS_CATEGORY,t}var Cn=a(46043),Je=0;function pn(){return new Be}function Be(){this._="@"+(++Je).toString(36)}Be.prototype=pn.prototype={constructor:Be,get:function(c){for(var n=this._;!(n in c);)if(!(c=c.parentNode))return;return c[n]},set:function(c,n){return c[this._]=n},remove:function(c){return this._ in c&&delete c[this._]},toString:function(){return this._}};var ge=a(41895),un=a.n(ge),sn=a(27025),z=a.n(sn),vt=a(64230),Ft=a.n(vt),lt=a(20021);const Wt=.5;function Kt(c,n,t=Wt,e=Number.MAX_VALUE){if(!c)return 0;if(!(0,ie.y_)(c))return c.convert(n);const r=c;if(!ke()(n))return r.convert(n,t);const s=n;return 1===s.length||!r.innerScale||e<=1?r.convert(s[0],t):r.convert(s[0],0)+Kt(r.innerScale,s.slice(1),t,e-1)}var Lt=a(5438),Qt=a(71443),_e=a(91877),Se=a.n(_e),Ye=a(43930),nn=a.n(Ye);function hn(c,n){if(!c)return 0;const t=c.invert(n);if(!(0,ie.y_)(c)||Ce()(t))return t;if(!c.innerScale)return t;const r=hn(c.innerScale,n-c.convert(t,0));return ke()(r)?[t,...r]:[t,r]}class we{static getValueAccessor(n,t){const e=n(t,0);if("number"==typeof e||"string"==typeof e)return n;if(e.valueOf&&"number"==typeof e.valueOf())return(r,s)=>n(r,s).valueOf();throw new Error("Value in the data series does not return numeric valueOf().")}static getClosestIndex(n,t,e){if(1===n.length)return 0;if(0===n.length)return;const r=we.getValueAccessor(t,n[0]);if("string"==typeof e)return n.findIndex(f=>r(f,0)===e);let s=this.findNearestIndex(n,e,t);return s=s>0?s-1:s,s=s>=n.length-1&&1!==n.length?n.length-2:s,s+we.getCloser(r(n[s],s),r(n[s+1],s+1),e)}static getCloser(n,t,e){return Math.abs(e-n)<=Math.abs(e-t)?0:1}static clampToRange(n,t){return n<t[0]?t[0]:n>t[1]?t[1]:n}static uuid(){let n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?r:3&r|8).toString(16)})}static cssEscape(n){if(0===arguments.length)throw new TypeError("`cssEscape` requires an argument.");const t=String(n),e=t.length;let s,r=-1,l="";const f=t.charCodeAt(0);for(;++r<e;)s=t.charCodeAt(r),l+=0!==s?s>=1&&s<=31||127===s||0===r&&s>=48&&s<=57||1===r&&s>=48&&s<=57&&45===f?"\\"+s.toString(16)+" ":0===r&&1===e&&45===s||!(s>=128||45===s||95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122)?"\\"+t.charAt(r):t.charAt(r):"\ufffd";return l}static findNearestIndex(n,t,e=Se()){let r=0,s=null==n?r:n.length;for(;r<s;){const l=r+s>>>1,f=e(n[l],l);null!==f&&f<t?r=l+1:s=l}return Math.round(r)}static getXYValues(n,t,e,r){const s=we.getScaleValues(n,e),l=we.getScaleValues(t,r),f={};return nn()(s)||(f.x=s),nn()(l)||(f.y=l),f}static getScaleValues(n,t){return n.reduce(function e(r,s){const l=hn(s,t);return Ce()(l)||(r[s.id]=l),r},{})}static getInteractionValues(n,t){return n?n[t]??Object.values(n)[0]:null}}class je extends Qt.A{draw(n,t){}getDataPointPosition(n,t,e){if(t<0||t>=n.data.length)return;const r=n.data[t];if(!n.accessors.data?.x||!n.accessors.data?.y)throw new Error("Can't get dataPointPosition");return{x:e.x.convert(n.accessors.data.x(r,t,n.data,n)),y:e.y.convert(n.accessors.data.y(r,t,n.data,n))}}getDataPointIndex(n,t,e){if(Ce()(t.x))return lt.Dc;const r=we.getClosestIndex(n.data,(s,l)=>n.accessors.data?.x?.(s,l,n.data,n),t.x);if(Ce()(r))throw new Error("Unable to get data point index");return r}}let $n=(()=>{class c extends je{config;constructor(t={}){super(t),this.config=t,this.config=un()(this.config,this.DEFAULT_CONFIG)}static THICK=11;static THIN=3;static MIN_BAR_SIZE_FOR_ICON=10;static MIN_BAR_THICKNESS=2;static BAR_RECT_CLASS="bar";DEFAULT_CONFIG={transitionDuration:300,padding:1,barClass:"bar-outline",highlightStrategy:void 0,pointerEvents:!0,enableMinBarThickness:!0};barContainerClass="bar-container";draw(t,e){const r=t.containers[Lt.r.data],s=t.dataSeries,l=s.accessors,f=this.getAttrsGenerator(s,t.scales),p=pn(),T=r.selectAll(`g.${this.barContainerClass}`).data(s.data);T.exit().remove();const L=T.enter().append("g").classed(this.barContainerClass,!0);L.append("rect").on("click",(Mt,jt)=>{this.emitBarClick(t,Mt,jt,e)}),L.merge(T).property(p,(Mt,jt)=>f(Mt,jt)).select("rect").attr("class",(Mt,jt)=>`${c.BAR_RECT_CLASS} ${this.config.barClass}${this.config.pointerEvents?" pointer-events":""}`+((Mt,jt)=>typeof l.data?.cssClass<"u"&&" "+l.data.cssClass(Mt,jt,s.data,s)||"")(Mt,jt)).style("cursor",this.config.cursor??"").style("stroke-width",this.config?.strokeWidth??"").style("fill",(Mt,jt)=>l.data.color?l.data.color(Mt,jt,s.data,s):l.series.color?.(s.id,s)).attrs(function(){return p.get(this)}).select("rect").style("fill",(Mt,jt)=>l.data.color?l.data.color(Mt,jt,s.data,s):l.series.color?.(s.id,s)).attrs(p.get),l.data.marker&&(L.append("g").classed("bar-icon",!0),L.merge(T).select("g.bar-icon").html(function(Mt,jt){const me=p.get(this);if(!me||Ce()(me?.height)||Ce()(me?.width))throw new Error("barSize is undefined");if(Math.min(me.height,me.width)-1>=c.MIN_BAR_SIZE_FOR_ICON)return l.data.marker?.(Mt,jt,s.data,s)}).attr("transform",function(){const Mt=p.get(this);if(!Mt||Ce()(Mt?.height)||Ce()(Mt?.width))throw new Error("barAttrs is undefined");return`translate(${Mt.x+Mt.width/2}, ${Mt.y+Mt.height/2})`}))}getDataPointIndex(t,e,r){return this.config.highlightStrategy?this.config.highlightStrategy.getDataPointIndex(this,t,e,r):lt.Dc}highlightDataPoint(t,e,r){this.config.highlightStrategy&&this.config.highlightStrategy.highlightDataPoint(this,t,e,r)}getDataPointPosition(t,e,r){const s=t.data[e];return s&&this.getAttrsGenerator(t,r)(s,e)}getDataPoint(t,e,r){return{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:r,data:e,position:e?this.getDataPointPosition(t.dataSeries,r,t.scales):void 0}}filterDataByDomain(t){return t}getDomain(t,e,r,s){const l=e.accessors.data,f=r.toUpperCase(),p=T=>(L,dt,Mt)=>l[T+f]?.(L,dt,Array.from(Mt),e);if(s.isContinuous())return t&&0!==t.length?[(0,Cn.jk)(t,p("start")),(0,Cn.T9)(t,p("end"))]:ie.tO;{const T=t&&t.length>0?t.map(p("start")):[],L=Math.max(...T.map(dt=>ke()(dt)?dt.length:-1));return L>=0?Array.from(Array(L)).map((dt,Mt)=>{const jt=T.map(me=>Mt<me.length?me[Mt]:[]);return Ft()(z()(jt))}):[Ft()(T)]}}emitBarClick(t,e,r,s){s.next({eventName:lt.mu,data:this.getDataPoint(t,e,r)})}getAttrsGenerator(t,e){const r=t.accessors.data;return(s,l)=>{const f=this.getDimensions(r,s,l,t,e.x,"X"),p=this.getDimensions(r,s,l,t,e.y,"Y");return{x:f.start,width:f.thickness,y:p.start,height:p.thickness}}}getDimensions(t,e,r,s,l,f){let p,T;const L=t["thickness"+f],dt=s.accessors.data["start"+f],Mt=s.accessors.data["end"+f];if(T=L?.(e,r,s.data,s),Ce()(T)){if(!dt||!Mt)throw new Error("Can't compute dimensions");const jt=Kt(l,dt(e,r,s.data,s),0),me=Kt(l,Mt(e,r,s.data,s),1);if(p=Math.min(jt,me),T=Math.abs(jt-me),(0,ie.y_)(l)){if(Ce()(this.config.padding))throw new Error("Config is not defined");p+=this.config.padding,T-=2*this.config.padding}this.config.enableMinBarThickness&&(T=Math.max(T,c.MIN_BAR_THICKNESS))}else{if(!dt)throw new Error("Can't compute dimensions");p=Kt(l,dt(e,r,s.data,s),.5)-T/2}return{start:p,thickness:T}}}return c})();const Di={stateStyles:{[Lt.M.default]:{opacity:0},[Lt.M.hidden]:{opacity:0},[Lt.M.deemphasized]:{opacity:0},[Lt.M.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},Gi={stateStyles:{[Lt.M.default]:{opacity:.3},[Lt.M.hidden]:{opacity:0},[Lt.M.deemphasized]:{opacity:0},[Lt.M.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},qn={enabled:!1,clickable:!1},ni="gauge-threshold-marker";class Oi{data={x:n=>n.x,y:n=>n.y}}class hi extends Oi{colorProvider;markerProvider;series;constructor(n=He(),t=ln()){super(),this.colorProvider=n,this.markerProvider=t,this.data.defined=(e,r)=>!e.hasOwnProperty("defined")||e.defined,this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}function Si(c){this._context=c}function Fi(c){return new Si(c)}Si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(c,n){switch(c=+c,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,n):this._context.moveTo(c,n);break;case 1:this._point=2;default:this._context.lineTo(c,n)}}};var b=a(5285),k=a(70480);function Y(c){return c[0]}function pt(c){return c[1]}function St(){var c=Y,n=pt,t=(0,k.A)(!0),e=null,r=Fi,s=null;function l(f){var p,L,Mt,T=f.length,dt=!1;for(null==e&&(s=r(Mt=(0,b.A)())),p=0;p<=T;++p)!(p<T&&t(L=f[p],p,f))===dt&&((dt=!dt)?s.lineStart():s.lineEnd()),dt&&s.point(+c(L,p,f),+n(L,p,f));if(Mt)return s=null,Mt+""||null}return l.x=function(f){return arguments.length?(c="function"==typeof f?f:(0,k.A)(+f),l):c},l.y=function(f){return arguments.length?(n="function"==typeof f?f:(0,k.A)(+f),l):n},l.defined=function(f){return arguments.length?(t="function"==typeof f?f:(0,k.A)(!!f),l):t},l.curve=function(f){return arguments.length?(r=f,null!=e&&(s=r(e)),l):r},l.context=function(f){return arguments.length?(null==f?e=s=null:s=r(e=f),l):e},l}function Nt(c,n){const t=c.range().map(s=>s),e=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return n>=e&&n<=r}var Ct=a(86655);let Gt=(()=>{class c{static DEFAULT_MARKER_CONTAINER_CLASS="marker";static MARKER_PATH_CLASS="marker-path";static manageMarker(t,e,r,s,l,f=qn){if(!s)throw new Error("Container doesn't exist!");if(0===t.data.length)return void c.removeMarker(s);const p=t.accessors;r<0&&(r=t.data.length-1);const T=t.data[r];if(!p.data?.x||!p.data.y)throw new Error("Color or marker are undefined");const L=e.x.convert(p.data.x(T,r,t.data,t)),dt=e.y.convert(p.data.y(T,r,t.data,t));if(typeof L<"u"&&typeof dt<"u"&&Nt(e.x,L)&&Nt(e.y,dt)){const Mt=t.id,jt={index:r,data:T,seriesId:Mt,position:{x:L,y:dt},dataSeries:t};if(!p.series?.marker||!p.series?.color)throw new Error("Color or marker are undefined");c.drawMarker(jt,p.series.marker(Mt,t),p.series.color(Mt,t),s,l,c.DEFAULT_MARKER_CONTAINER_CLASS,f)}else c.removeMarker(s)}static drawMarker(t,e,r,s,l,f=c.DEFAULT_MARKER_CONTAINER_CLASS,p=qn){let T=s.select(`g.${f}`);const L=t?.position?.x,dt=t?.position?.y,Mt={transform:`translate(${L}, ${dt})`,cursor:"crosshair"};T.empty()&&(T=s.append("g").classed(`${f}${p.enabled?" pointer-events":""}${p.enabled&&p.clickable?" pointer-events-click":""}`,!0)),e.setColor(r),T.attrs(Mt),T.on("mouseenter",()=>{l.next({eventName:lt.cg,data:{interactionType:Ct.X.Hover,dataPoint:t}})}),T.on("mouseleave",()=>{l.next({eventName:lt.cg,data:{interactionType:Ct.X.Hover,dataPoint:{...t,index:lt.Dc}}})}),T.on("click",()=>{l.next({eventName:lt.cg,data:{interactionType:Ct.X.Click,dataPoint:t}})}),!T.selectAll("g > *").size()&&T.node()&&(T.node()?.appendChild(ft.a04.getSvgFromString(e.getSvg())),T.select("path").classed(c.MARKER_PATH_CLASS,!0));const se=T.select("path").node();if(se&&p.enabled){const ye=se.getBoundingClientRect();se.setAttribute("x",Math.ceil(t?.position?.x-ye.width/2).toString()),se.setAttribute("y",Math.ceil(t?.position?.y-ye.height/2).toString())}}static removeMarker(t,e=c.DEFAULT_MARKER_CONTAINER_CLASS){t.select(`g.${e}`).remove()}}return c})(),Ht=(()=>{class c extends je{config;static UNCLIPPED_DATA_LAYER_NAME="unclipped-data";static LINE_CAP_CLASS_NAME="nui-chart-line-cap";static getStrokeStyleDashed(t){const e=2*t;return`${e},${e}`}static getStrokeStyleDotted(t){return`${t},${t}`}DEFAULT_CONFIG={strokeWidth:2,curveType:Fi,interactive:!0,strokeStyle:"",strokeLinecap:"round",markerInteraction:qn,useEnhancedLineCaps:!1,enhancedLineCap:{radius:3}};constructor(t={}){super(t),this.config=t,this.config=un()(this.config,this.DEFAULT_CONFIG)}draw(t,e){const r=t.containers[Lt.r.data],s=t.dataSeries.accessors.series.color?.(t.dataSeries.id,t.dataSeries);let l=r.select("path.main");l.empty()&&(l=r.append("path").classed("main",!0).attrs({stroke:s??null,"stroke-width":this.config.strokeWidth??null,"stroke-dasharray":this.config.strokeStyle??null,"stroke-linecap":this.config.strokeLinecap??null,fill:"none"})),this.drawLine(t,l),this.config.interactionStrategy&&this.config.interactionStrategy.draw(this,t,e)}isInfiniteLineData(t){const e=t.dataSeries;return 1===e.data.length&&typeof e.accessors.data.x(e.data[0],0,e.data,e)>"u"}drawLine(t,e){this.isInfiniteLineData(t)?this.drawInfiniteLine(t,e):this.drawStandardLine(t,e)}highlightDataPoint(t,e,r){if(!this.config.interactive)return;const s=t.dataSeries;s.accessors.series.marker&&Gt.manageMarker(s,t.scales,e,t.containers[Lt.r.foreground],r,this.config.markerInteraction)}getRequiredLayers(){return[lt.G8[Lt.r.data],lt.G8[Lt.r.foreground],lt.G8[Lt.r.unclippedData]]}getDataPointPosition(t,e,r){return super.getDataPointPosition(t,e,r)}drawStandardLine(t,e){const r=t.dataSeries,s=r.accessors;let l=!1;const f=r.data.filter((T,L)=>{const dt=typeof s.data.x(T,L,r.data,r)<"u"&&typeof s.data.y(T,L,r.data,r)<"u";return!dt&&!l&&(console.warn("Data point",T,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x:",s.data.x),console.warn(" -> accessors.data.y:",s.data.y),l=!0),dt});if(!this.config.curveType)throw new Error("curveType is not defined");const p=St().x((T,L)=>t.scales.x.convert(s.data.x(T,L,r.data,r))).y((T,L)=>t.scales.y.convert(s.data.y(T,L,r.data,r))).defined((T,L)=>!s.data.defined||s.data.defined(T,L,r.data,r)).curve(this.config.curveType);e.attr("d",p(f)??""),this.config.useEnhancedLineCaps&&this.updateLineCaps(f,t,this.config.enhancedLineCap?.fill||e.attr("stroke"))}drawInfiniteLine(t,e){const r=t.dataSeries,l=t.scales.y.convert(r.accessors.data.y(r.data[0],0,r.data,r)),f=[[t.scales.x.range()[0],l],[t.scales.x.range()[1],l]],T=St().x(L=>L[0]).y(L=>L[1])(f);if(!T)throw new Error("Line cannot be computed");e.attr("shape-rendering","crispEdges").attr("d",T)}updateLineCaps(t,e,r){const s=e.dataSeries,l=s.accessors,f=t.filter((dt,Mt)=>!l?.data?.defined||l?.data?.defined(dt,Mt,s.data,s)),p=(dt,Mt)=>e.scales.x.convert(l.data.x(dt,Mt,s.data,s)),T=(dt,Mt)=>e.scales.y.convert(l.data.y(dt,Mt,s.data,s)),L=e.containers[Lt.r.unclippedData].selectAll(`.${c.LINE_CAP_CLASS_NAME}`).data(f).attr("cx",p).attr("cy",T);L.enter().append("circle").attr("class",c.LINE_CAP_CLASS_NAME).attr("r",this.config.enhancedLineCap?.radius).attr("cx",p).attr("cy",T).style("stroke-width",this.config.enhancedLineCap?.strokeWidth).style("fill",r).style("stroke",this.config.enhancedLineCap?.stroke),L.exit().remove()}}return c})();var zt=function(c){return c.Grayscale="grayscale",c}(zt||{});const Xt=`url("#${zt.Grayscale}")`;class xe{data;series;constructor(){this.data={active:n=>n.active},this.series={start:()=>null,end:()=>null,activeColor:()=>"magenta"}}}let Fe=(()=>class c extends je{static SIDE_INDICATORS_LAYER="side-indicators";DEFAULT_CONFIG={};constructor(t={}){super(t),this.config=un()(this.config,this.DEFAULT_CONFIG)}draw(t,e){const r=t.containers[Lt.r.unclippedData],s=t.dataSeries,l=t.scales,f=t.dataSeries.accessors;let p=r.select("rect");const T=s.data.length>0&&f.data.active(s.data[0],0,t.dataSeries.data,t.dataSeries),L=!T&&f.series.inactiveColor?f.series.inactiveColor:f.series.activeColor;p.empty()&&(p=r.append("rect").attrs({fill:L(s.id,s)}),!T&&!f.series.inactiveColor&&p.style("filter",Xt));const dt=f.series.start(s.id,s),Mt=f.series.end(s.id,s),jt=null==Mt?0:l.y.convert(Mt),se=(null==dt?l.y.range()[0]:Math.min(l.y.range()[0],l.y.convert(dt)))-jt;p.attrs({x:-2,y:jt,height:se<0?0:se,width:2})}getDataPointIndex(t,e,r){return-1}getRequiredLayers(){return[lt.G8[Lt.r.unclippedData]]}})();var ii=function(c){return c.Start="start",c.End="end",c}(ii||{}),In=a(99019);let mi=(()=>{class c{loggerService;static SERIES_ID_SUFFIX="__thresholds-background";constructor(t){this.loggerService=t}injectThresholdsData(t,e){const r={};e.forEach(s=>s.entered=!1);for(let s=0;s<t.data.length;s++){const l=t.data[s],f=t.accessors.data.x(l,s,t.data,t),p=t.accessors.data.y(l,s,t.data,t);l.__thresholds={};const T=this.getZoneByXY(e,r,f,p);T&&(T.entered=!0,l.__thresholds.status=T.value)}}getBackgrounds(t,e,r,s,l={},f=at()(Di)){let p;t.data.length>0&&typeof t.data[0].__thresholds>"u"&&this.loggerService.warn("Thresholds metadata is not defined on provided data series",t);const T=gn(s);return T.data.thickness=L=>l[L.status],(0,ie.y_)(r.x)?(p=at()(t.data),T.data.start=t.accessors.data.x,T.data.end=t.accessors.data.x,T.data.color=L=>L.__thresholds&&L.__thresholds.status?s.get(L.__thresholds.status):"transparent",T.data.thickness=L=>l[L.__thresholds.status]):p=this.getBackgroundsDataForContinuousScale(t,e),{id:t.id+c.SERIES_ID_SUFFIX,data:p,accessors:T,scales:r,renderer:new $n(f),showInLegend:!1}}getBackgroundsDataForContinuousScale(t,e){const r=[],s=this.getBreakPoints(t,e),l={};for(let f=0;f<s.length-1;f++){const p=s[f],T=s[f+1];if(!p||!T)throw new Error("p1 or p2 are undefined");const L={x:(p.x+T.x)/2,y:(p.y+T.y)/2},dt=this.getZoneByXY(e,l,L.x,L.y);if(dt){const Mt=r[r.length-1];Mt&&Mt.end?.valueOf()===p.x&&Mt.status===dt.value?Mt.end=new Date(T.x):r.push({status:dt.value,start:new Date(p.x),end:new Date(T.x)})}}return r}getBreakPoints(t,e){const r=t.accessors.data;let s=[];for(let l=0;l<t.data.length-1;l++){const f=t.data[l],p=t.data[l+1],T={x:r.x(f,l,t.data,t).valueOf(),y:r.y(f,l,t.data,t).valueOf()},L={x:r.x(p,l+1,t.data,t).valueOf(),y:r.y(p,l+1,t.data,t).valueOf()};for(let dt=0;dt<e.length;dt++){const Mt=e[dt],jt=Mt.accessors.data.start?.(Mt.data[0],0,Mt.data,Mt),me=Mt.accessors.data.end?.(Mt.data[0],0,Mt.data,Mt),se=[jt,me].map(ye=>this.getCrossPointWithY(T,L,ye)).filter(ye=>ye);[T,L].forEach(ye=>{(ye.y===jt||ye.y===me)&&(ye.isZoneEdge=!0)}),s=ee()(s,se,[T,L],(ye,Nn)=>ye?.x===Nn?.x&&ye?.isZoneEdge===Nn?.isZoneEdge)}}return kt()(s,"x")}getThresholdZones(t,e,r){const s=new Vn;return s.data.start=l=>l.start,s.data.end=l=>l.end,s.series.color=(l,f)=>r.get(f.value),e.map((l,f)=>({id:t.id+"__"+l.status+"-"+f,value:l.status,data:[{start:l.start,end:l.end}],scales:t.scales,accessors:s}))}getThresholdLines(t){if(-1===t.findIndex(s=>s.entered))return[];const e={};function r(s,l,f){const p=s(l.data[0],0,l.data,l);typeof p<"u"&&typeof e[p]>"u"&&(e[p]={series:l,accessor:s,zoneBoundary:f})}for(const s of t)s.accessors.data.start&&s.accessors.data.end&&(r(s.accessors.data.start,s,ii.Start),r(s.accessors.data.end,s,ii.End));return Ee()(e).map(s=>this.getThresholdLine(s.series,s.accessor,s.zoneBoundary))}getThresholdLine(t,e,r=ii.Start){const s=new hi;s.data.y=e,s.series.color=t.accessors.series.color;const l=new Ht({interactive:!1,strokeWidth:1,strokeStyle:Ht.getStrokeStyleDashed(1),stateStyles:at()(Di.stateStyles),ignoreForDomainCalculation:!0});return{id:`${t.id}__${r}__threshold-line`,data:t.data,value:t.value,accessors:s,renderer:l,scales:t.scales,showInLegend:!1}}getCrossPoint(t,e,r,s){const l_x=e.x-t.x,l_y=e.y-t.y,f_x=s.x-r.x,f_y=s.y-r.y,p=(-l_y*(t.x-r.x)+l_x*(t.y-r.y))/(-f_x*l_y+l_x*f_y),T=(f_x*(t.y-r.y)-f_y*(t.x-r.x))/(-f_x*l_y+l_x*f_y);if(p>=0&&p<=1&&T>=0&&T<=1)return{x:t.x+T*l_x,y:t.y+T*l_y}}getZoneByXY(t,e,r,s){for(const l of t){e[l.id]||(e[l.id]=0);const f=this.moveZoneIndex(e[l.id],l,r);e[l.id]=f;const p=l.data[f],T=l.accessors.data,L=T.start?.(p,f,l.data,l),dt=T.end?.(p,f,l.data,l);if((typeof L>"u"||s>=L)&&(typeof dt>"u"||s<=dt))return l}return null}moveZoneIndex(t,e,r){for(;t<e.data.length-1&&e.accessors.data.x(e.data[t+1],t+1,e.data,e)<r;)t++;return t}getCrossPointWithY(t,e,r){return this.getCrossPoint(t,e,{x:t.x,y:r},{x:e.x,y:r})}getSideIndicators(t,e,r){const s=[],l=new Fe(r||at()(Di)),f=-1!==t.findIndex(p=>p.entered);for(const p of t){const T=new xe;T.series={start:()=>p.accessors.data.start?.(p.data[0],0,p.data,p),end:()=>p.accessors.data.end?.(p.data[0],0,p.data,p),activeColor:()=>p.accessors.series.color?.(p.id,p)},s.push({id:p.id+"__side-indicator",data:[{active:f}],accessors:T,scales:e,renderer:l,showInLegend:!1})}return s}static \u0275fac=function(e){return new(e||c)(In.KVO(ft.gPJ))};static \u0275prov=In.jDH({token:c,factory:c.\u0275fac})}return c})(),Er=(()=>{class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=In.$C({type:c});static \u0275inj=In.G2t({providers:[wt.y,mi],imports:[ft.WrP,ft.s6u,ft.W0p,I.z_]})}return c})();var Xi=a(8410);const vi="quantity",cr="remainder",Ni="threshold-markers";var ti=function(c){return c.Donut="donut",c.Horizontal="horizontal",c.Vertical="vertical",c}(ti||{}),fi=function(c){return c[c.Small=10]="Small",c[c.Large=15]="Large",c}(fi||{}),Ti=function(c){return c[c.Small=3]="Small",c[c.Large=4]="Large",c}(Ti||{}),ri=function(c){return c.Warning="warning",c.Critical="critical",c}(ri||{}),qe=function(c){return c.Remainder="var(--nui-color-semantic-unknown-bg-hover)",c.Ok="var(--nui-color-chart-one)",c.Warning="var(--nui-color-semantic-warning)",c.Critical="var(--nui-color-semantic-critical)",c}(qe||{});const lr={top:20,right:25,bottom:20,left:25};var Ve=a(79394),Mn=a.n(Ve),yi=a(60142),Wn=a(52667),Pn=a(76211),ur=a(205),mn=a.n(ur),hr=a(59526),Pi=a.n(hr),Yn=a(97861),xi=a.n(Yn);function Ln(c,n){n&&0!==n.length&&(ke()(n[0])?(c.domain(n[0]),(0,ie.z7)(c)&&Ln(c.innerScale,n.slice(1))):c.domain(n))}class dr{chart;_chartSeriesSet=[];dataIndex={};_scalesIndexByKey={};_scalesIndexById={};get chartSeriesSet(){return this._chartSeriesSet}get scalesIndexByKey(){return this._scalesIndexByKey}get scalesIndexById(){return this._scalesIndexById}constructor(n){this.chart=n}update(n){const t=mn()(n.map(e=>e.id),(e,r,s)=>Pi()(s,e,r+1));t.length>0&&console.warn("Series set contains duplicate IDs:",t),this._chartSeriesSet=n||[],this.dataIndex=xi()(this._chartSeriesSet,e=>e.id),this._scalesIndexByKey=this.buildScalesIndex(this._chartSeriesSet),this._scalesIndexById=xi()(z()(Ee()(this._scalesIndexByKey).map(e=>e.list)),e=>e.id)}getChartSeries(n){return this.dataIndex[n]}updateScaleDomain(n,t){if(!n.isDomainFixed&&n.domainCalculator){const e=this.chartSeriesSet.filter(r=>r.scales[t]===n&&!r.renderer.config.ignoreForDomainCalculation).filter(r=>r.renderState!==Lt.M.hidden);if(e.length||this.chart?.configuration?.updateDomainForEmptySeries){const r=n.domainCalculator(e,t,n);Ln(n,r)}}}buildScalesIndex(n){const t={};return Mn()(n,e=>{Mn()(Object.keys(e.scales),r=>{const s=e.scales[r];let l=t[r];l||(l={index:{},list:[]},t[r]=l),l.index[s.id]||(l.index[s.id]=s,l.list.push(s))})}),t}updateScaleDomains(){Mn()(Object.keys(this._scalesIndexByKey),n=>{Mn()(this._scalesIndexByKey[n].list,t=>{this.updateScaleDomain(t,n)})})}}var fr=a(78829),Hi=a(86759),gr=a.n(Hi);class bi{lasagna;dataManager;interactionDataPointsSubject=new Wn.B;rendererSubject=new Wn.B;highlightDataPointSubscription;highlightedDataPoints={};renderLayers={};layerIndex={};constructor(n,t){this.lasagna=n,this.dataManager=t,this.highlightDataPointSubscription=this.rendererSubject.subscribe(e=>{e.eventName===lt.cC&&this.highlightDataPoint(e.data.seriesId,e.data.index)})}update(){const n={};Mn()(this.dataManager.chartSeriesSet,t=>{const e=this.getSeriesChildContainers(t.id);-1===Object.values(t.scales).findIndex(s=>{if(typeof n[s.id]>"u"){const l=s.isDomainValid();l||console.warn("Invalid scale domain detected for scale:",s),n[s.id]=l}return!n[s.id]})&&t.renderer.draw({dataSeries:t,containers:e,scales:t.scales},this.rendererSubject)})}updateSeriesContainers(){this.layerIndex=this.buildLayerIndex(this.dataManager.chartSeriesSet),this.removeUnusedLayers(),this.addNeededLayers(),this.updateLayerContents()}emitInteractionDataPoints(n){let t=!1;const e=this.dataManager.chartSeriesSet.reduce((r,s)=>{const l={};Mn()(Object.keys(n.values),L=>{l[L]=we.getInteractionValues(n.values[L],s.scales[L].id)});let f=lt.Dc;s.data&&s.data.length>0&&(f=s.renderer.getDataPointIndex(s,l,s.scales));const p=s.renderer.getDataPointPosition(s,f,s.scales),T={seriesId:s.id,dataSeries:s,index:f,data:f>=0?s.data[f]:null,position:p};if(n.interactionType===Ct.X.MouseMove){const L=this.highlightedDataPoints[s.id];!Ce()(f)&&(Ce()(L)||f===lt.Dc||f!==L.index)&&(t=!0,this.rendererSubject.next({eventName:lt.cC,data:T}))}return r[s.id]=T,r},{});(n.interactionType!==Ct.X.MouseMove||t)&&this.interactionDataPointsSubject.next({interactionType:n.interactionType,dataPoints:e}),t&&(this.highlightedDataPoints=e)}highlightDataPoint(n,t){const e=this.getSeriesChildContainers(n),r=this.dataManager.getChartSeries(n);r.renderer.highlightDataPoint({dataSeries:r,containers:e,scales:r.scales,parentContainer:this.renderLayers.data},t,this.rendererSubject)}setSeriesStates(n){Mn()(n,({seriesId:t,state:e})=>{const r=this.dataManager.getChartSeries(t);if(!r)return;const s=this.getSeriesChildContainers(t),l=r.renderer.getContainerStateStyles(e);Mn()(Ee()(s),f=>{f.attrs(l)}),r.renderer.setSeriesState(s,e)})}destroy(){this.highlightDataPointSubscription&&this.highlightDataPointSubscription.unsubscribe(),this.rendererSubject&&this.rendererSubject.complete()}buildLayerIndex(n){const t={};return Mn()(n,e=>{Mn()(e.renderer.getRequiredLayers(),r=>{if(lt.G8[r.name]&&!gr()(lt.G8[r.name],r))throw new Error(`Custom definition detected for render layer "${r.name}". Custom layers must use a name not already taken by the predefined layer set.`);let s=t[r.name];s||(s={seriesUsing:[],layerDefinition:r},t[r.name]=s),s.seriesUsing.push(e)})}),t}removeUnusedLayers(){Mn()(Object.keys(this.renderLayers),n=>{this.layerIndex[n]||(this.lasagna.removeLayer(n),delete this.renderLayers[n])})}addNeededLayers(){Mn()(this.layerIndex,n=>{this.renderLayers[n.layerDefinition.name]||(this.renderLayers[n.layerDefinition.name]=this.lasagna.addLayer(n.layerDefinition))})}updateLayerContents(){Mn()(Object.keys(this.renderLayers),n=>{const e=this.renderLayers[n].selectAll("g.data-series-container").data(this.layerIndex[n].seriesUsing,r=>r.id).order();e.enter().append("g").attrs({id:r=>this.getChildContainerId(n,r.id),class:"data-series-container"}),e.exit().remove()})}getSeriesChildContainers(n){const t={};return Mn()(Object.keys(this.renderLayers),e=>{t[e]=this.renderLayers[e].selectAll(`#${e}-${we.cssEscape(n)}`)}),t}getChildContainerId(n,t){return n+"-"+t}}var Mi=a(91880);class pr extends Mi.y{renderEngine;isChartInView=!0;lastInteractionValuesPayload;destroy$=new Wn.B;initialize(){this.renderEngine=this.chart.getRenderEngine(),this.chart.getEventBus().getStream(lt.JQ).pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{this.lastInteractionValuesPayload=n.data,this.isChartInView&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)}),this.renderEngine.interactionDataPointsSubject.pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(lt.JM).next({data:n})}),this.renderEngine.rendererSubject.pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(n.eventName).next({data:n.data})}),this.chart.getEventBus().getStream(lt.Bp).pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{this.isChartInView=n.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)})}update(){this.renderEngine.updateSeriesContainers(),this.renderEngine.update()}updateDimensions(){this.renderEngine.update()}destroy(){this.renderEngine.destroy(),this.destroy$.next(),this.destroy$.complete()}}class Vi{grid;configuration;eventBus=new fr.l;element;target;filterDefs;dataManager;renderEngine;updateSubject=new yi.t([]);updateDimensionsSubject=new Wn.B;seriesStatesSubject=new yi.t([]);plugins=[];constructor(n,t){if(this.grid=n,this.configuration=t,!n)throw new Error("Grid has to be defined!");n.updateChartDimensionsSubject=this.updateDimensionsSubject,n.eventBus=this.eventBus}getEventBus(){return this.eventBus}getDataManager(){return this.dataManager}getRenderEngine(){return this.renderEngine}getGrid(){return this.grid}addPlugin(n){n.chart=this,this.plugins.push(n)}removePlugin(n){const t=this.plugins.findIndex(e=>e instanceof n);-1!==t&&(this.plugins[t].destroy(),this.plugins.splice(t,1))}addPlugins(...n){for(const t of n)this.addPlugin(t)}removePlugins(...n){for(const t of n)this.removePlugin(t)}hasPlugin(n){return-1!==this.plugins.findIndex(t=>t instanceof n)}build(n){this.element=n,this.target=(0,_.A)(this.element).append("svg").attrs({class:"nui-chart",height:"100%",width:"100%"}),this.configureCssFilters(),this.buildGrid(),this.dataManager=this.buildDataManager(),this.renderEngine=this.buildRenderEngine(this.grid.getLasagna(),this.dataManager);const t=new pr;t.chart=this,this.plugins.unshift(t);for(const r of this.getGrid().buildPlugins(this))this.addPlugin(r);this.initialize();const e=()=>(0,Pn.Q)(this.getEventBus().getStream(lt.A2));this.updateSubject.pipe(e()).subscribe(r=>this.onUpdate(r)),this.updateDimensionsSubject.pipe(e()).subscribe(()=>this.onUpdateDimensions()),this.seriesStatesSubject.pipe(e()).subscribe(r=>this.onSetSeriesStates(r))}configureCssFilters(){this.filterDefs=this.target?.append("defs"),this.filterDefs?.append("filter").attr("id",zt.Grayscale).append("feColorMatrix").attr("type","matrix").attr("values","\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0      0      0      1 0\n")}buildDataManager(){return new dr(this)}buildGrid(){this.target&&(this.grid.target(this.target),this.grid.build(),this.updateTargetDimensions(this.grid.config().dimension))}buildRenderEngine(n,t){return new bi(n,t)}update(n){this.updateSubject.next(n)}updateDimensions(){this.updateDimensionsSubject.next()}initialize(){Mn()(this.plugins,n=>{n.initialize()})}destroy(){this.eventBus.getStream(lt.A2).next({data:null}),this.eventBus.destroy(),this.plugins.forEach(n=>n.destroy()),this.target?.remove(),this.target=void 0}setSeriesStates(n){this.seriesStatesSubject.next(n),this.eventBus.getStream(lt.E7).next({data:n})}onUpdate(n){this.dataManager.update(n),this.grid.scales=this.dataManager.scalesIndexByKey,this.dataManager.updateScaleDomains(),this.grid.updateRanges(),this.plugins.forEach(t=>t.update())}onUpdateDimensions(){const n=this.grid.config().dimension;this.updateTargetDimensions(n);const t={};n.autoHeight&&(t.height=this.element.clientHeight),n.autoWidth&&(t.width=this.element.clientWidth),this.grid.updateDimensions(t),this.plugins.forEach(e=>e.updateDimensions())}updateTargetDimensions(n){n.autoHeight||this.target?.style("height",n.outerHeight()+"px"),n.autoWidth||this.target?.style("width",n.outerWidth()+"px")}onSetSeriesStates(n){this.renderEngine.setSeriesStates(n)}}var Zi=a(23007),Ji=a(67370),mr=a(51044),vr=a(79668),Ai=function(c){return c.ToggleSeries="ToggleSeries",c.ResetVisibleSeries="ResetVisibleSeries",c.EmphasizeSeries="EmphasizeSeries",c}(Ai||{});class qi{seriesId;series;emphasisState;visible;constructor(n,t,e=Lt.M.default,r=!0){this.seriesId=n,this.series=t,this.emphasisState=e,this.visible=r}get state(){return this.visible?this.emphasisState:Lt.M.hidden}}class o{chart;palette;markers;static getLabel(n,t,e,r,s){if(!t||0===n.data.length)return null;const l=n.accessors.data?.[s||e];if(!l)return null;const f=t.index<0?n.data.length-1:t.index,T=l(n.data[f],f,n.data,n),L=n.scales[e];if(!L||!r)return T;const dt=L.formatters[r];return dt?dt(T):T}highlightedDataPoints;isLegendActive=!1;inputSeriesSet=[];legendSeriesSet=[];chartAssistSubject=new Wn.B;syncHandlerMap;getVisibleSeriesWithLegendBackup;syncSubscription;legendInteractionAssist;onEvent;constructor(n,t,e=function Ze(){return new Hn(He())}(),r=ln()){this.chart=n,this.palette=e,this.markers=r,this.configureChartEventSubscriptions(n.getEventBus()),t&&(this.seriesProcessor=t),this.legendInteractionAssist=new h(this),this.syncHandlerMap={[Ai.EmphasizeSeries]:this.emphasizeSeries,[Ai.ResetVisibleSeries]:this.resetVisibleSeries,[Ai.ToggleSeries]:this.toggleSeries}}get renderStatesIndex(){return this.legendInteractionAssist.renderStatesIndex}legendLabelData$(n){return this.chart.getEventBus().getStream(lt.JM).asObservable().pipe((0,Ji.p)(r=>r.data.interactionType===Ct.X.MouseMove),(0,mr.T)(r=>r.data.dataPoints[n.id])).pipe((0,vr.n)(r=>(r=>r&&r.index>=0)(r)?(0,Zi.of)(r.data):(0,Zi.of)(n.data&&n.data.length?n.data[n.data.length-1]:null)))}seriesProcessor(n){return n}update(n,t=!0){this.inputSeriesSet=n;const e=this.seriesProcessor(n.map(s=>({...s,data:s.data||[]})));this.legendSeriesSet=e.filter(s=>s.showInLegend||typeof s.showInLegend>"u"),t&&this.legendInteractionAssist.update(e);const r=e.map(s=>Object.assign({renderState:this.renderStatesIndex[s.id]?.state},s));this.chart.update(r),this.publishRenderStates()}toggleSeries=(n,t)=>{this.legendInteractionAssist.setGroupVisibility(n,t),this.update(this.inputSeriesSet,!1),this.chartAssistSubject.next({type:Ai.ToggleSeries,payload:{seriesId:n,visible:t}})};resetVisibleSeries=()=>{this.legendInteractionAssist.resetSeries(),this.publishRenderStates(),this.chartAssistSubject.next({type:Ai.ResetVisibleSeries,payload:{}})};emphasizeSeries=n=>{this.legendInteractionAssist.emphasizeSeries(n),this.publishRenderStates(),this.chartAssistSubject.next({type:Ai.EmphasizeSeries,payload:{seriesId:n}})};isSeriesHidden(n){return this.legendInteractionAssist.isSeriesHidden(n)}seriesTrackByFn(n,t){return t.id}getHighlightedValue(n,t,e,r){if(this.highlightedDataPoints)return o.getLabel(n,this.highlightedDataPoints[n.id],t,e,r)}getVisibleSeriesWithLegend=()=>this.legendSeriesSet.filter(n=>!this.isSeriesHidden(n.id));syncWithChartAssist(n){this.getVisibleSeriesWithLegendBackup=this.getVisibleSeriesWithLegend,this.getVisibleSeriesWithLegend=n.getVisibleSeriesWithLegend,this.syncSubscription=n.chartAssistSubject.pipe((0,Pn.Q)(n.chart.getEventBus().getStream(lt.A2))).subscribe(t=>{const e=Object.keys(t.payload).map(r=>t.payload[r]);this.syncHandlerMap[t.type](...e)})}unsyncChartAssist(){this.getVisibleSeriesWithLegend=this.getVisibleSeriesWithLegendBackup,this.syncSubscription&&this.syncSubscription.unsubscribe()}configureChartEventSubscriptions(n){const t={[lt.JM]:e=>{e.interactionType===Ct.X.MouseMove&&(this.highlightedDataPoints=Object.assign({},e.dataPoints))},[lt.mZ]:e=>{e.index>=0?this.emphasizeSeries(e.seriesId):this.resetVisibleSeries()},[lt.C8]:e=>{this.isLegendActive=e}};Mn()(Object.keys(t),e=>{n.getStream(e).subscribe(r=>{t[e](r.data),this.onEvent&&this.onEvent(r)})})}publishRenderStates(){this.chart.setSeriesStates(this.legendInteractionAssist.getSeriesStates())}}class h{chartAssist;seriesGroups={};seriesIndex;renderStatesIndex={};constructor(n){this.chartAssist=n}update(n){this.seriesGroups=this.getSeriesGroups(n),this.seriesIndex=xi()(n,t=>t.id),this.resetSeries();for(const t of n.filter(e=>e.renderState))this.renderStatesIndex[t.id]=new qi(t.id,t,t.renderState===Lt.M.hidden?Lt.M.default:t.renderState,t.renderState!==Lt.M.hidden)}getSeriesStates(){return Ee()(this.renderStatesIndex)}isSeriesHidden(n){const t=this.renderStatesIndex[n];return t&&!t.visible}getSeriesGroups(n){const t={};for(const e of n){const r=e.id.indexOf("__"),s=r>=0?e.id.substring(0,r):e.id;t[s]||(t[s]=[]),t[s].push(e.id)}return t}setGroupState(n,t){if(this.seriesGroups[n])for(const e of this.seriesGroups[n])this.setRenderState(e,t)}setGroupVisibility(n,t){if(this.seriesGroups[n])for(const e of this.seriesGroups[n])this.setVisibility(e,t)}emphasizeSeries(n){for(const t of Object.keys(this.seriesGroups))this.setGroupState(t,t===n?Lt.M.emphasized:Lt.M.deemphasized)}resetSeries(){const n=this.chartAssist.getVisibleSeriesWithLegend();if(1===n.length)this.emphasizeSeries(n[0].id);else for(const e of Object.keys(this.seriesGroups))this.setGroupState(e,Lt.M.default)}setRenderState(n,t){let e=this.renderStatesIndex[n];e?e.emphasisState=t:(e=new qi(n,this.seriesIndex[n],t),this.renderStatesIndex[n]=e)}setVisibility(n,t){let e=this.renderStatesIndex[n];e?e.visible=t:(e=new qi(n,this.seriesIndex[n],Lt.M.default,t),this.renderStatesIndex[n]=e)}}class d{_width=0;_height=0;margin={top:0,right:0,bottom:0,left:0};padding={top:0,right:0,bottom:0,left:0};marginLocked={top:!1,right:!1,bottom:!1,left:!1};autoWidth=!0;autoHeight=!0;width(n){return void 0===n?this._width:(this._width=n,this)}height(n){return void 0===n?this._height:(this._height=n,this)}outerWidth(n){const t=this.margin.right+this.margin.left;return void 0===n?this._width+t:(this._width=Math.max(n-t,0),this)}outerHeight(n){const t=this.margin.top+this.margin.bottom;return void 0===n?this._height+t:(this._height=Math.max(n-t,0),this)}}function A(c,n){const t=c.text(),e=t.split(""),r=c.text("").append("tspan").attr("class",`${lt.VJ} ellipsis`).text("..."),s=c.insert("tspan",":first-child").attr("class",`${lt.VJ} text`).text(t),l=n.ellipsisWidth+2*n.horizontalPadding,f=e.length;let p=(s?.node()?.getComputedTextLength()||0)+2*n.horizontalPadding;for(;e.length&&(p>n.widthLimit||" "===e[e.length-1]);)e.pop(),s.text(e.join("")),p=l+(s?.node()?.getComputedTextLength()||0);e.length===f&&r.remove()}class v{visible=!0;gridTicks=!1;tickSize=5;tickLabel={horizontalPadding:0,overflowHandler:A};fit=!1;_approximateTicks=5;get approximateTicks(){return this._approximateTicks}set approximateTicks(n){this._approximateTicks=parseInt(n,10)}padding=0}class w{className;color;width;visible=!0;constructor(n){this.className=n}}class N{interactive=!0;dimension=new d;borders={top:void 0,bottom:void 0,left:void 0,right:void 0};cursor="crosshair";disableRenderAreaHeightCorrection=!1;disableRenderAreaWidthCorrection=!1}let H=(()=>{class c extends N{static DEFAULT_MARGIN={top:0,right:5,bottom:20,left:30};static DEFAULT_PADDING={left:0,right:0,top:5,bottom:5};axis={top:new v,right:new v,bottom:new v,left:new v};interactionPlugins=!0;constructor(){super(),this.dimension.padding=Object.assign({},c.DEFAULT_PADDING),this.dimension.margin=Object.assign({},c.DEFAULT_MARGIN),this.borders.bottom=new w("nui-chart-border nui-chart-border--thick"),this.borders.left=new w("nui-chart-border nui-chart-border--thick"),this.borders.left.visible=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=0,this.axis.left.padding=10,this.axis.right.fit=!0,this.axis.right.tickSize=0,this.axis.right.padding=10,this.axis.bottom.tickLabel.horizontalPadding=5}}return c})();var X=a(82883),gt=a(13070),ot=a.n(gt),Q=a(74740),xt=a.n(Q),st=a(89403),B=a(72546);let mt=(()=>{class c{target;interactiveArea;gridMargin;static CONTAINER_CLASS="mouse-interactive-area";active=new yi.t(!1);interaction=new yi.t({type:Ct.X.Click,coordinates:{x:0,y:0}});isActive=!1;constructor(t,e,r,s){this.target=t,this.interactiveArea=e,this.gridMargin=s,this.interactiveArea.style("cursor",r).classed(c.CONTAINER_CLASS,!0),this.target.on("mouseover",this.onMouseOver).on("mouseout",this.onMouseOut).on(Ct.X.MouseDown,()=>this.onMouseInteraction(Ct.X.MouseDown)).on(Ct.X.MouseUp,()=>this.onMouseInteraction(Ct.X.MouseUp)).on(Ct.X.MouseMove,()=>this.onMouseInteraction(Ct.X.MouseMove)).on(Ct.X.Click,()=>this.onMouseInteraction(Ct.X.Click))}onMouseInteraction=t=>{if(st.f0.target.classList.contains(lt.VJ))return;let e=0,r=0;const s=parseInt(this.interactiveArea.attr("width"),10)||0,l=parseInt(this.interactiveArea.attr("height"),10)||0;if(/firefox/i.test(navigator.userAgent)){let p=e+st.f0.offsetX-(this.gridMargin?.left||0);p=p>s?s:p,e=p<0?0:p;let T=r+st.f0.offsetY-(this.gridMargin?.top||0);T=T>l?l:T,r=T<0?0:T}else{const p=(0,B.A)(st.f0.currentTarget),T=p[0]>s?s:p[0];e=T<0?0:T;const L=p[1]>l?l:p[1];r=L<0?0:L}this.interaction.next({type:t,coordinates:{x:e,y:r}})};onMouseOver=()=>{this.isActive||st.f0.target.classList.contains(lt.VJ)||(this.isActive=!0,this.active.next(!0))};onMouseOut=()=>{if(!this.isActive)return;let t=st.f0.relatedTarget;for(;t;){if(t===this.target.node())return;t=t.parentNode}this.isActive=!1,this.active.next(!1)};onMouseEnter=()=>{this.onMouseOver()};onMouseLeave=()=>{this.onMouseOut()}}return c})();var q=a(41387),Pt=a.n(q),Dt=a(16354),Zt=a(95478),De=a.n(Zt);const Ne=(c,n,t)=>{const e=function Oe(c,n){return c.reduce((t,e)=>{for(const r of Object.keys(e.scales)){if(r===n)continue;const s=e.scales[r];s.isDomainFixed&&(t[r]||(t[r]=[]),-1===De()(t[r],s)&&t[r].push(s))}return t},{})}(c,n);return function Le(c,n){if(n.isContinuous()){const e=c.filter(l=>l!==ie.tO);return 0===e.length?ie.tO:[(0,X.jkA)(e.filter(l=>void 0!==typeof l[0]).map(l=>l[0])),(0,X.T9B)(e.filter(l=>void 0!==typeof l[1]).map(l=>l[1]))]}const t=Math.max(...c.map(e=>e.length));return Array.from(Array(t)).map((e,r)=>{const s=c.map(l=>r<l.length?l[r]:[]);return Ft()(z()(s))})}(c.map(s=>{const l=Object.keys(e).reduce((f,p)=>{const T=s.scales[p];return T&&T.isContinuous()&&-1!==De()(e[p],T)&&(f[p]=T),f},{});return s.renderer.getDomainOfFilteredData(s,l,n,s.scales[n])}),t)},be=c=>(n,t,e)=>{const r=Ne(n,t,e);return[Math.min(r[0],c[0]),Math.max(r[1],c[1])]};class ce{id;domainCalculator=Ne;formatters={};isDomainFixed;scaleUnits;isTimeseriesScale=!1;isReversed=!1;_fixDomainValues=[];_d3Scale;constructor(n){this.id=n||we.uuid(),this._d3Scale=this.createD3Scale()}get d3Scale(){return this._d3Scale}get fixDomainValues(){return this._fixDomainValues}setFixDomainValues(n){n.length>1&&(this.domain([n[0],n[n.length-1]]),this.isDomainFixed=!0),this._fixDomainValues=n}range(n){return n?(this._d3Scale.range(this.isReversed?n.reverse():n),this):this._d3Scale.range()}domain(n){return n?(this._d3Scale.domain(n),this):this._d3Scale.domain()}fixDomain(n){return this.domain(n),this.isDomainFixed=!0,this}isDomainValid(){return-1===this.domain().findIndex(n=>void 0===n)}reverse(){return this.reversed(!this.isReversed)}reversed(n){return typeof n>"u"?this.isReversed:(this.isReversed=n,this)}}class Me extends ce{constructor(n){super(n),this.formatters.tick=t=>t?.toLocaleString()}createD3Scale(){return(0,Dt.m4)()}convert(n){return this._d3Scale(n)}invert(n){return this._d3Scale.invert(n)}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(n=>isNaN(n))}}class tt extends ce{innerScale;constructor(n){super(n),this.formatters.tick=t=>{if(Ce()(t))throw new Error("Can't format bandFormatScale");return Pt()(t)}}createD3Scale(){return(0,X.WH)()}convert(n,t=Wt){return this._d3Scale(n)+t*this.bandwidth()}invert(n){const t=this._d3Scale.domain();if(this.range()[0]<this.range()[1]){const e=this.getRangeMidPoints(t.map(this._d3Scale));return t[(0,X.h1l)(e,n)]}{const e=this.getRangeMidPoints(t.map((r,s)=>this._d3Scale(t[t.length-1-s])));return t[t.length-1-(0,X.h1l)(e,n)]}}range(n){const t=n?super.range(n):super.range();return n&&this.innerScale&&this.innerScale.range([0,this.bandwidth()]),t}round(n){return n?(this._d3Scale.round(n),this):this._d3Scale.round()}padding(n){return this._d3Scale.paddingInner(n),this._d3Scale.paddingOuter(n/2),this}align(n){return n?(this._d3Scale.align(n),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}step(){return this.domain().length?Math.abs(this.range()[1]-this.range()[0])/this.domain().length:0}copyToLinear(){const n=new Me;return n.domain(this.range()).range(this.range()),n}bandTicks(){const n=[],t=this.range()[0],e=this.step();for(let r=0;r<=this.domain().length;r++)n.push(t+r*e);return n}isContinuous(){return!1}getRangeMidPoints(n){return n.slice(1).map(t=>t-this._d3Scale.step()*this._d3Scale.paddingInner()/2)}}var de=a(40336),pe=a.n(de);let rn=(()=>{class c extends Mi.y{formatterName;static LAYER_NAME="interaction-label";areLabelUpdatesEnabled=!0;isChartInView=!1;lastInteractionValuesPayload;interactionLabelLayer;destroy$=new Wn.B;elBBox;constructor(t="title"){super(),this.formatterName=t}initialize(){this.interactionLabelLayer=this.chart.getGrid().getLasagna().addLayer({name:c.LAYER_NAME,order:901,clipped:!1}),this.chart.getEventBus().getStream(lt.JQ).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{if(t.data.values?.y){const e=this.chart.getGrid(),r=Object.keys(t.data.values.y),s=e.scales.y.list[0];if(s.isTimeseriesScale&&!r.includes(s.id))return}this.lastInteractionValuesPayload=t.data,this.isChartInView&&this.handleLabelUpdate()}),this.chart.getEventBus().getStream(lt.Bp).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{this.isChartInView=t.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLabelUpdate()})}handleLabelUpdate(){const t=this.chart.getGrid();if(!(t instanceof Kn))throw new Error(`${c.name} requires XYGrid`);const e=t.scales;if(!this.areLabelUpdatesEnabled||this.lastInteractionValuesPayload.interactionType!==Ct.X.MouseMove||nn()(e))return;const r=pe()(e.x.index,{id:t.bottomScaleId});if(!r)throw new Error("xScale is not defined");const s=we.getInteractionValues(this.lastInteractionValuesPayload.values.x,r.id);this.updateLabel(r,ke()(s)?s.slice(0,s.length-1):s)}updateLabel(t,e){let r=this.interactionLabelLayer.select(`.${c.LAYER_NAME}`);if(r.empty()&&e)r=this.buildInteractionLabel(this.interactionLabelLayer);else if(!e)return void r.remove();const l=(t.formatters[this.formatterName]||t.formatters.tick)?.(e);if(!l)throw new Error("labelContent is not defined");const f=r.select("text").text(l);this.elBBox||(this.elBBox=f.node().getBBox());const p=this.chart.getGrid().config().dimension,T=p.height()-this.elBBox.y;f.attr("transform",`translate(0, ${T})`).style("text-anchor","middle");const dt=this.elBBox.width+2*(this.elBBox.height+this.elBBox.y),Mt=[dt/2,p.width()-dt/2],jt=Kt(t,e,.5),me=we.clampToRange(jt,Mt);r.attr("transform",`translate(${me},0)`).select("rect").attrs({transform:`translate(0,${T})`,x:-dt/2,y:this.elBBox.y,width:dt,height:this.elBBox.height})}destroy(){this.chart.getGrid().getLasagna().removeLayer(c.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}buildInteractionLabel(t){const e=t.append("g").attr("class",c.LAYER_NAME);return e.append("rect").attr("class",`${c.LAYER_NAME}__rect`),e.append("text").attr("class",`${c.LAYER_NAME}__text`),e}}return c})(),an=(()=>{class c extends Mi.y{static LAYER_NAME="interaction-line";isChartInView=!1;lastInteractionValuesPayload;interactionLineLayer;destroy$=new Wn.B;initialize(){this.interactionLineLayer=this.chart.getGrid().getLasagna().addLayer({name:"interaction-line",order:900,clipped:!0}),this.chart.getEventBus().getStream(lt.JQ).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{this.lastInteractionValuesPayload=t.data,this.isChartInView&&this.handleLineUpdate()}),this.chart.getEventBus().getStream(lt.Bp).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{this.isChartInView=t.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLineUpdate()})}handleLineUpdate(){const t=this.chart.getGrid();if(!(t instanceof Kn))throw new Error(`${c.name} requires XYGrid`);const e=t.scales;if(this.lastInteractionValuesPayload.interactionType!==Ct.X.MouseMove||nn()(e))return;const r=pe()(e.x.index,{id:t.bottomScaleId});if(!r)throw new Error("xScale is not defined");const s=we.getInteractionValues(this.lastInteractionValuesPayload.values.x,r.id);this.updateLine(this.interactionLineLayer,r,s)}updateLine(t,e,r){const s=[];r&&s.push(r);const l=t.selectAll(`.${c.LAYER_NAME}`).data(s),f=T=>e.convert(T),p={class:c.LAYER_NAME,x1:f,y1:0,x2:f,y2:this.chart.getGrid().config().dimension.height()};l.enter().append("line").merge(l).attrs(p),l.exit().remove()}destroy(){this.chart.getGrid().getLasagna().removeLayer(c.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}}return c})();class jn extends Mi.y{mouseInteractiveArea;destroy$=new Wn.B;interactionValuesActive=!0;constructor(n){super(),this.mouseInteractiveArea=n}initialize(){this.mouseInteractiveArea.active.pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(lt.C8).next({data:n})}),this.chart.getEventBus().getStream(lt.C8).pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{!n.data&&this.chart.getDataManager().chartSeriesSet&&this.highlightReset()}),this.chart.getEventBus().getStream(lt.Ec).pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>this.interactionValuesActive=n.data),this.mouseInteractiveArea.interaction.pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{const t=this.chart.getGrid().scales;if(!nn()(t)){if(this.interactionValuesActive){const f=we.getXYValues(t.x.list,t.y.list,n.coordinates.x,n.coordinates.y);this.chart.getEventBus().getStream(lt.JQ).next({data:{interactionType:n.type,values:f}})}this.chart.getEventBus().getStream(lt.GM).next({data:{interactionType:n.type,coordinates:n.coordinates}})}})}update(){this.highlightReset()}updateDimensions(){this.highlightReset()}destroy(){this.destroy$.next(),this.destroy$.complete()}highlightReset(){this.chart.getEventBus().getStream(lt.JQ).next({data:{interactionType:Ct.X.MouseMove,values:{}}})}}var oi=a(72270),_i=a.n(oi);let gi=(()=>{class c{clipPath;static CONTAINER_CLASS="lasagna-container";static LAYER_CLASS="lasagna-layer";layers=[];container;constructor(t,e){this.clipPath=e,this.container=t.append("g").attr("class",`${c.CONTAINER_CLASS} pointer-events`)}addLayer(t){return this.layers=_i()(this.layers.concat(t),"order"),this.update(),this.getLayerContainer(t.name)}removeLayer(t){const e=this.layers.findIndex(r=>r.name===t);-1!==e&&(this.layers.splice(e,1),this.update())}getLayerContainer(t){return this.container.select(`.${c.LAYER_CLASS}-${t}`)}getContainer(){return this.container}update(){const t=this.container.selectAll(`g.${c.LAYER_CLASS}`).data(this.layers,e=>e.name).order();t.enter().append("g").attrs({class:e=>`${c.LAYER_CLASS} ${c.LAYER_CLASS}-${e.name}`,"clip-path":e=>e.clipped?`url(#${this.clipPath})`:"","pointer-events":"none"}),t.exit().remove()}}return c})();const zn=.5;let Bn=(()=>{class c{static GRID_CLASS_NAME="nui-chart-grid";static DEFAULT_BORDER_CLASS_NAME="nui-chart-border";static RENDERING_AREA_CLIP_PATH_PREFIX="clip-path_";static GRID_ELEMENTS_LAYER_NAME="grid-elements";static RENDERING_AREA_LAYER_NAME="rendering-area";static RENDER_AREA_HEIGHT_CORRECTION=1;static RENDER_AREA_WIDTH_CORRECTION=1;static TICK_DIMENSION_CORRECTION=1;updateChartDimensionsSubject;eventBus;container;renderingAreaClipPath;renderingArea;interactiveArea;lasagna;gridElementsLayer;borders={};_scales;_config;_target;getInteractiveArea(){return this.interactiveArea}getLasagna(){return this.lasagna}set scales(t){this._scales=t}get scales(){return this._scales}config(t){return void 0===t?this._config:(this._config=t,this)}target(t){return void 0===t?this._target:(this._target=t,this)}build(){if(!this.config()){const r=new N;this.config(r)}this.container=this._target.append("g").attrs({class:c.GRID_CLASS_NAME});const t=c.RENDERING_AREA_CLIP_PATH_PREFIX+we.uuid();this.lasagna=new gi(this.container,t),this.renderingArea=this.buildRenderingArea(t),this.adjustRenderingArea(),this.gridElementsLayer=this.lasagna.addLayer({name:c.GRID_ELEMENTS_LAYER_NAME,order:100,clipped:!1});const e=this.buildBorders(this.gridElementsLayer);return e&&(this.borders=e),this}buildPlugins(t){return[]}update(){return nn()(this.scales)||(this.updateBorders(),this.adjustRenderingArea()),this}updateDimensions(t){const e=this.config().dimension;return t.width&&e.outerWidth(t.width-this.getOuterWidthDimensionCorrection()),t.height&&e.outerHeight(t.height),this.adjustRenderingArea(),this.updateRanges(),this}updateRanges(){return this.update(),this}getOuterWidthDimensionCorrection(){return c.TICK_DIMENSION_CORRECTION}buildBorders(t){if(!this.config()||!this.config().borders)return;const e=this.config().borders,r={},s=Object.keys(e);return Mn()(s,l=>{e[l]&&(r[l]=this.createBorder(t,e[l])??void 0)}),r}adjustRenderingArea=()=>{const t=this.config().dimension,e=this.config().disableRenderAreaHeightCorrection,r=this.config().disableRenderAreaWidthCorrection,s={width:Math.max(0,t.width()),height:Math.max(0,t.height()+(e?0:c.RENDER_AREA_HEIGHT_CORRECTION))};e||(s.y=-c.RENDER_AREA_HEIGHT_CORRECTION);const l={...s,width:Math.max(0,t.width()-(r?0:c.RENDER_AREA_WIDTH_CORRECTION))};this.renderingAreaClipPath.attrs(s),this.renderingArea.attrs(l)};buildRenderingArea(t){return this.renderingAreaClipPath=this._target.append("clipPath").attr("id",t).append("rect"),this.lasagna.addLayer({name:c.RENDERING_AREA_LAYER_NAME,order:-1,clipped:!0}).append("rect").attrs({"pointer-events":"all",fill:"transparent"})}createBorder(t,e){const r=t.append("line").attr("class",e.className||c.DEFAULT_BORDER_CLASS_NAME);return e.width&&r.style("stroke-width",e.width),e.color&&r.style("stroke",e.color),r.node()}updateBottomBorder(){if(!this.borders.bottom)throw new Error("BottomBorder is not defined");(0,_.A)(this.borders.bottom).attrs({x1:0,y1:this.config().dimension.height()-zn,x2:this.config().dimension.width()+c.TICK_DIMENSION_CORRECTION,y2:this.config().dimension.height()-zn,class:this._config.borders.bottom.className||c.DEFAULT_BORDER_CLASS_NAME}).classed("hidden",!this._config.borders.bottom?.visible)}updateBorders(){this.borders.bottom&&this.updateBottomBorder(),this.borders.top&&(0,_.A)(this.borders.top).attrs({x1:0,y1:zn,x2:this.config().dimension.width()+c.TICK_DIMENSION_CORRECTION,y2:zn}).classed("hidden",!this._config.borders.top?.visible),this.borders.right&&(0,_.A)(this.borders.right).attrs({x1:this.config().dimension.width()-zn,y1:0,x2:this.config().dimension.width()-zn,y2:this.config().dimension.height()+c.TICK_DIMENSION_CORRECTION}).classed("hidden",!this._config.borders.right?.visible),this.borders.left&&(0,_.A)(this.borders.left).attrs({x1:zn,y1:0,x2:zn,y2:this.config().dimension.height()+c.TICK_DIMENSION_CORRECTION}).classed("hidden",!this._config.borders.left?.visible)}}return c})(),Kn=(()=>{class c extends Bn{static TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL=200;axisX={};axisYLeft={};axisYRight={};gridY={};gridX={};_bottomScaleId;_leftScaleId;_rightScaleId;reconcileMarginsDebounce;handleTickLabelOverflowDebounceIndex={};get bottomScaleId(){return this._bottomScaleId?this._bottomScaleId:nn()(this.scales)?void 0:this.scales.x.list[0].id}set bottomScaleId(t){this._bottomScaleId=t}get leftScaleId(){return this._leftScaleId?this._leftScaleId:nn()(this.scales)?void 0:this.scales.y.list[0].id}set leftScaleId(t){this._leftScaleId=t}get rightScaleId(){return this._rightScaleId}set rightScaleId(t){this._rightScaleId=t}set scales(t){this._scales=t,this._scales&&Object.keys(this._scales).forEach(e=>{let s,r=this.config().axis.left;"x"!==e&&"y"!==e||this._scales[e]?.list?.filter(l=>l instanceof Me).forEach(l=>{l?.id===this.leftScaleId?(r=this.config().axis.left,s=X.V4s):l?.id===this.rightScaleId?(r=this.config().axis.right,s=X.eH3):l?.id===this.bottomScaleId&&(r=this.config().axis.bottom,s=X.l78),l.domainCalculator&&!(0,ie.Zo)(l.domainCalculator)&&r.gridTicks&&(l.__domainCalculatedWithTicks=!0,l.domainCalculator=((c,n,t)=>{const e=(r,s,l)=>{const f=t(r,s,l),p=at()(l);Ln(p,f);const L=n(p.d3Scale).scale().ticks(c.approximateTicks);if(L.length<=1)return f;const dt=L[1]-L[0];return L[0]>f[0]&&(f[0]=L[0]-dt),L[L.length-1]<f[1]&&(f[1]=L[L.length-1]+dt),f};return e.domainWithTicks=!0,e})(r,s,l.domainCalculator))})})}get scales(){return this._scales}config(t){return void 0===t?this._config:(this._config=t,this)}constructor(t){super(),this.config(t||new H)}build(){return super.build(),this.config().interactive&&(this.interactiveArea=this.renderingArea),this.buildAxes(this.gridElementsLayer),this.recalculateMargins(this.container),this.eventBus.getStream(lt.E7).pipe((()=>(0,Pn.Q)(this.eventBus.getStream(lt.A2)))()).subscribe(e=>{const r=this.handleSeriesStateChange(e);this.eventBus.getStream(lt.Gu).next({data:r})}),this}handleSeriesStateChange(t){if(!this.rightScaleId)return;const e=[{scaleId:this.leftScaleId,element:this.axisYLeft.group},{scaleId:this.rightScaleId,element:this.axisYRight?.group}],r=this.calculateAxesStyles(t,e);for(const s of e)s.scaleId&&s.element.attrs(r[s.scaleId]);return r}calculateAxesStyles(t,e){const s=t.data.filter(l=>l.state===Lt.M.emphasized&&l.series).map(l=>l.series);if(s.length>0){const l=Ft()(s.map(f=>f?.scales.y).filter(f=>!!f));if(l.length<=0)return{};for(const f of l)if(f.id===this.leftScaleId||f.id===this.rightScaleId)return e.reduce((p,T)=>(p[T.scaleId]={opacity:f.id===T.scaleId?1:.1},p),{});return{}}return e.reduce((l,f)=>(l[f.scaleId]={opacity:1},l),{})}buildPlugins(t){const e=[],r=this.config();return r.interactive&&e.push(new jn(new mt(this.getLasagna().getContainer(),this.getInteractiveArea(),r.cursor,r.dimension.margin))),r.interactionPlugins&&(e.push(new an),e.push(new rn)),e}update(){return super.update(),this.updateAxes(),this.handleMarginUpdate(),this}drawTicks(t,e,r,s){if(t.visible){const l=s(r.d3Scale).ticks(t.approximateTicks).tickSize(0);let f;r.fixDomainValues?.length&&l.tickValues(r.fixDomainValues),l.tickFormat(r.formatters.tick),e.labelGroup.call(l),r instanceof tt?f=s(r.copyToLinear().d3Scale).tickSize(t.tickSize).tickValues(r.bandTicks()).tickFormat(()=>""):(f=s(r.d3Scale).tickSize(t.tickSize),r.fixDomainValues?.length&&f.tickValues(r.fixDomainValues),f.tickFormat(()=>""),f.ticks(t.approximateTicks)),e.tickGroup.call(f),this.adjustAxisTicks(e.labelGroup,r)}else e.labelGroup.selectAll("*").remove(),e.tickGroup.selectAll("*").remove()}drawGrids(t,e,r,s,l){const p=r(s.d3Scale).tickSize(l);s.fixDomainValues?.length&&p.tickValues(s.fixDomainValues),p.tickFormat(()=>"").ticks(t.approximateTicks),t.gridTicks?e.tickGroup.call(p).selectAll(".tick line").classed("nui-zero-line",L=>0===L):e.tickGroup.selectAll("*").remove()}updateRanges(){if(nn()(this.scales))return this;const t=this.config().dimension,e=t.padding;return this.scales.x&&Mn()(this.scales.x.list,r=>{r.range([e.left,t.width()-e.right])}),this.scales.y&&Mn()(this.scales.y.list,r=>{r.range([t.height()-e.bottom,e.top])}),super.updateRanges(),this}updateXAxis(){const t=this.bottomScaleId?this.scales.x.index[this.bottomScaleId]:void 0,e=this.config().axis;if(!t)throw new Error("xScale is not defined");this.axisX.group.attr("transform",`translate(0, ${this.config().dimension.height()})`),this.axisX.labelGroup.attr("transform",`translate(0, ${e.bottom.tickSize})`),this.drawTicks(e.bottom,this.axisX,t,X.l78),this.drawGrids(e.bottom,this.gridX,X.tlR,t,this.config().dimension.height()),this.gridX.tickGroup.attr("transform",`translate(0, ${this.config().dimension.height()})`)}updateYAxes(){const t=this.config().axis,e=this.leftScaleId?this.scales.y.index[this.leftScaleId]:void 0;if(!e)throw new Error("yLeftScale is not defined");if(this.axisYLeft.labelGroup.attr("transform",`translate(${-t.left.tickSize-t.left.padding}, 0)`),this.drawTicks(t.left,this.axisYLeft,e,X.V4s),this.drawGrids(t.left,this.gridY,X.eH3,e,this.config().dimension.width()),this.rightScaleId){const r=this.scales.y.index[this.rightScaleId],s=t.right.padding+this.config().dimension.width()+t.right.tickSize;this.axisYRight.labelGroup.attr("transform",`translate(${s}, 0)`),this.axisYRight.tickGroup.attr("transform",`translate(${this.config().dimension.width()}, 0)`),this.drawTicks(t.right,this.axisYRight,r,X.eH3)}}updateAxes(){this.target()&&(this.updateXAxis(),this.updateYAxes())}adjustAxisTicks(t,e){const r=[];t.attr("cursor","default"),t.selectAll("g").each(function(){(0,_.A)(this).classed("sw-hidden",!1).classed("tick-hidden-text",!1),r.push(this)}),this.filterRepeatedElements(r).forEach(f=>{(0,_.A)(f).classed("tick-hidden-text",!0)});const l=this.selectAllAxisLabels(t);l.forEach(f=>{const p=(0,_.A)(f);if(p.select("text").attr("x",0).classed(lt.VJ,!0),p.classed("pointer-events",!0),p.select("title").empty()){const T=p.data()[0],L=e.formatters.tick?e.formatters.tick(T):T;p.append("title").text(L)}}),this.handleTickLabelOverflow(t,e,l)}handleTickLabelOverflow(t,e,r){const s=this.config().axis;if(e.id===this.bottomScaleId&&(e.isContinuous()||!s.bottom.tickLabel.overflowHandler))return void this.getElementsToHide(r,this._config.dimension.width(),!0).forEach(ye=>{const Nn=(0,_.A)(ye);Nn.classed("tick-hidden-text",!0),Nn.classed("pointer-events",!1)});(e.id===this.rightScaleId||e.id===this.leftScaleId)&&this.getElementsToHide(r,this._config.dimension.height(),!1).forEach(ye=>{(0,_.A)(ye).classed("sw-hidden",!0)});const l=this.config().dimension.margin;let T,f=0,p=0,L=!1,dt=!1;const Mt=s.right.tickLabel.maxWidth,jt=s.left.tickLabel.maxWidth;if(e.id===this.bottomScaleId){const se=s.bottom.tickLabel.maxWidth,ye=e.bandwidth?e.bandwidth():this.getTickDistance(r);f=Ce()(se)?ye:ye>se?se:ye,p=s.bottom.tickLabel.horizontalPadding,T=s.bottom.tickLabel.overflowHandler}else if(e.id!==this.rightScaleId||s.right.fit)if(e.id!==this.leftScaleId||s.left.fit)if(e.id===this.rightScaleId&&s.right.fit&&!Ce()(Mt))f=Mt,p=s.right.tickLabel.horizontalPadding,T=s.right.tickLabel.overflowHandler,dt=!0;else{if(e.id!==this.leftScaleId||!s.left.fit||Ce()(jt))return;f=jt,p=s.left.tickLabel.horizontalPadding,T=s.left.tickLabel.overflowHandler,L=!0}else{const se=l.left-s.left.padding-s.left.tickSize;f=Ce()(jt)?se:se>jt?jt:se,p=s.left.tickLabel.horizontalPadding,T=s.left.tickLabel.overflowHandler}else{const se=l.right-s.right.padding-s.right.tickSize;f=Ce()(Mt)?se:se>Mt?Mt:se,p=s.right.tickLabel.horizontalPadding,T=s.right.tickLabel.overflowHandler}if(!T)return;let me=0;if(t.select(".sample-ellipsis").empty()){const se=t.append("text");me=se.classed("sample-ellipsis",!0).attr("opacity",0).append("tspan").text("...").node()?.getComputedTextLength()||0,se.remove()}this.handleTickLabelOverflowDebounceIndex[e.id]&&(clearTimeout(this.handleTickLabelOverflowDebounceIndex[e.id]),this.handleTickLabelOverflowDebounceIndex[e.id]=null),t.classed("tick-hidden-text",!0),r.forEach(se=>{(0,_.A)(se).classed("pointer-events",!1)}),this.handleTickLabelOverflowDebounceIndex[e.id]=setTimeout(()=>{r.forEach(ye=>{const Nn=(0,_.A)(ye);Nn.select("text").call(T,{widthLimit:f,horizontalPadding:p,ellipsisWidth:me}),Nn.classed("pointer-events",!0)});const se=this._config.dimension.marginLocked;se&&(dt||L)&&(this.handleMarginUpdate(),se.right=dt,se.left=L),t.classed("tick-hidden-text",!1)},c.TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL)}selectAllAxisLabels(t){const e=[];return t.selectAll("g:not(.tick-hidden-text)").each(function(){e.push(this)}),e}getOuterWidthDimensionCorrection(){return this.config().axis.bottom.visible?Bn.TICK_DIMENSION_CORRECTION:0}handleMarginUpdate(){const t=ot()(this._config.dimension.margin);this.recalculateMargins(this.container),this.reconcileMarginsWithDebounce(t)}hasRightYAxis(){return this.config().axis.right.visible&&this.rightScaleId?.length>0}buildAxes(t){this.gridY.tickGroup=t.append("g").classed("sw-axis sw-axis-grid sw-axis-gridY",!0),this.gridX.tickGroup=t.append("g").classed("sw-axis sw-axis-grid sw-axis-gridX",!0),this.axisX.group=t.append("g").classed("sw-axis sw-axis-x",!0),this.axisX.tickGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-ticks",!0),this.axisX.labelGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-labels",!0),this.axisYLeft.group=t.append("g").classed("sw-axis sw-axis-y sw-axis-y-left",!0),this.axisYLeft.tickGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYLeft.labelGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0),this.axisYRight.group=t.append("g").classed("sw-axis sw-axis-y sw-axis-y-right",!0),this.axisYRight.tickGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYRight.labelGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0)}filterRepeatedElements(t){const e=[t[0]];return t.reduce((r,s)=>{const l=(0,_.A)(s).text();return l!==r&&e.push(s),l},t[0]&&(0,_.A)(t[0]).text()),t.filter(r=>-1===e.indexOf(r))}getElementsToHide(t,e,r){const s=r?"width":"height",l=this.getTextMeasurement(t,s)<e,f=!!r&&this.getMaxTextWidth(t)<this.getTickDistance(t);if(r?l&&f:l)return[];const T=this.elementsFiltering(t,e,s);return t.filter(L=>-1===T.indexOf(L))}elementsFiltering(t,e,r){let s,l=2;const f=p=>"width"===r?this.getMaxTextWidth(p)>this.getTickDistance(p):this.getTextMeasurement(p,r)>e;do{if(s=t.filter((p,T)=>T%l==0),l++,1===s.length&&f(s))break}while(f(s));return s}getTextMeasurement(t,e){const r="width"===e?5:0;return t.reduce((s,l)=>s+l.getBoundingClientRect()[e]+r,0)}getMaxTextWidth(t){return 0===t.length?0:Math.max.apply(null,t.map(e=>e.getBoundingClientRect().width))}getTickDistance(t){if(0===t.length)return 0;let e=1/0;return t.map(s=>{const l=s.getAttribute("transform");if(xt()(l))throw new Error("tick transform is not defined");return parseFloat(l.slice(l.indexOf("(")+1,l.indexOf(",")))}).reduce((s,l)=>{const f=l-s;return f<e&&(e=f),l}),e}recalculateMargins(t){if(!t)return;const e=this._config.dimension,r=this.config().axis,s=e.outerWidth(),l=e.outerHeight();!e.marginLocked?.left&&r.left.fit&&r.left.visible&&(e.margin.left=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYLeft.labelGroup))+r.left.tickSize+r.left.padding),!e.marginLocked?.right&&r.right.fit&&this.hasRightYAxis()&&(e.margin.right=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYRight.labelGroup))+r.right.tickSize+r.right.padding);const f=this.bottomScaleId&&this.scales?this.scales.x?.index[this.bottomScaleId]:void 0;r.bottom.fit&&r.bottom.visible&&(f?.isContinuous()||!r.bottom.tickLabel.overflowHandler)&&this.fitBottomAxis(e);const T=e.margin.bottom;e.margin.top=e.margin.top,e.margin.bottom=T,e.outerWidth(s),e.outerHeight(l);const L=this.config().dimension.margin.left,dt=this.config().dimension.margin.top;t.attr("transform",`translate(${L}, ${dt})`)}fitBottomAxis(t){const e=this.scales?.x?.list[0].d3Scale;if(!e)return;let r=0,s=0;const l=this.axisX.labelGroup.select(".tick:not(.tick-hidden-text):last-child text").node();if(l){r=l.getBoundingClientRect().width,s=e(l.innerHTML)??0;const f=e.range()[1],p=r/2-Math.abs(f-s)/2;t.margin.right=p>0?p:0}}reconcileMarginsWithDebounce(t){this.reconcileMarginsDebounce&&(clearTimeout(this.reconcileMarginsDebounce),this.reconcileMarginsDebounce=null),this.reconcileMarginsDebounce=setTimeout(()=>{this.areMarginsApproximatelyEqual(t,this._config.dimension.margin)||this.updateChartDimensionsSubject?.next()},100)}isApproximatelyEqual=(t,e)=>Math.abs(t-e)<.1;areMarginsApproximatelyEqual(t,e){return this.isApproximatelyEqual(t.top,e.top)&&this.isApproximatelyEqual(t.right,e.right)&&this.isApproximatelyEqual(t.bottom,e.bottom)&&this.isApproximatelyEqual(t.left,e.left)}}return c})();const Ei="gauge-label",Ri="gauge-labels",tr="threshold-label";var Cr=a(79450);function Rr(c,n){return n<c?-1:n>c?1:n>=c?0:NaN}function Ir(c){return c}var Bi=a(99042);function Wi(){var c=Ir,n=Rr,t=null,e=(0,k.A)(0),r=(0,k.A)(Bi.FA),s=(0,k.A)(0);function l(f){var p,L,dt,Nn,or,T=f.length,Mt=0,jt=new Array(T),me=new Array(T),se=+e.apply(this,arguments),ye=Math.min(Bi.FA,Math.max(-Bi.FA,r.apply(this,arguments)-se)),Ui=Math.min(Math.abs(ye)/T,s.apply(this,arguments)),ar=Ui*(ye<0?-1:1);for(p=0;p<T;++p)(or=me[jt[p]=p]=+c(f[p],p,f))>0&&(Mt+=or);for(null!=n?jt.sort(function(Gr,Hr){return n(me[Gr],me[Hr])}):null!=t&&jt.sort(function(Gr,Hr){return t(f[Gr],f[Hr])}),p=0,dt=Mt?(ye-T*ar)/Mt:0;p<T;++p,se=Nn)me[L=jt[p]]={data:f[L],index:p,value:or=me[L],startAngle:se,endAngle:Nn=se+(or>0?or*dt:0)+ar,padAngle:Ui};return me}return l.value=function(f){return arguments.length?(c="function"==typeof f?f:(0,k.A)(+f),l):c},l.sortValues=function(f){return arguments.length?(n=f,t=null,l):n},l.sort=function(f){return arguments.length?(t=f,n=null,l):t},l.startAngle=function(f){return arguments.length?(e="function"==typeof f?f:(0,k.A)(+f),l):e},l.endAngle=function(f){return arguments.length?(r="function"==typeof f?f:(0,k.A)(+f),l):r},l.padAngle=function(f){return arguments.length?(s="function"==typeof f?f:(0,k.A)(+f),l):s},l}class Ii{static generateThresholdArcData(n){if(!n.length)return[];const t=Ii.generateArcValues(n),e=[];return Wi().sort(null)(t).forEach((l,f)=>{f%2==1&&e.push(l)}),e}static generateArcValues(n){const t=Array(2*n.length-1).fill(0);return n.forEach((e,r)=>{t[2*r]=0===r?e.value:e.value-n[r-1].value}),t}}var wi=a(22118);const Lr={markerRadius:Ti.Large,enabled:!0};class yr extends wi.n{config;constructor(n={}){super(n),this.config=n,this.config=un()(this.config,Lr)}draw(n,t){const e=n.containers[Lt.r.data],r=at()(this.config.enabled?n.dataSeries.data:[]);r.sort((p,T)=>p.value-T.value),this.segmentWidth=this.getSegmentWidth(n);const s=this.getInnerRadius(n.scales.r.range(),0),l=(0,Cr.A)().outerRadius(this.getOuterRadius(n.scales.r.range(),0)).innerRadius(s>=0?s:0),f=e.selectAll(`circle.${ni}`).data(Ii.generateThresholdArcData(r));f.exit().remove(),f.enter().append("circle").attr("class",ni).merge(f).attr("cx",p=>l.centroid(p)[0]).attr("cy",p=>l.centroid(p)[1]).attr("r",this.config.markerRadius).style("fill",(p,T)=>`var(--nui-color-${r[T].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getInnerRadius(n,t){if(Ce()(this.segmentWidth))throw new Error("Can't compute inner radius");const e=n[1]-n[0]-this.segmentWidth;return e>=0?e:0}}let er=(()=>class c extends Mi.y{config;static MARGIN_DEFAULT=25;DEFAULT_CONFIG={padding:5,formatterName:Ei,disableThresholdLabels:!1};destroy$=new Wn.B;lasagnaLayer;constructor(t={}){super(),this.config=t,this.config=un()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:Ri,order:lt.G8[Lt.r.data].order,clipped:!1}),this.chart.getEventBus().getStream(lt.JM).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{const e=this.lasagnaLayer.select(`.${Ri}`);if(!e.empty()){const r=t.data.dataPoints,s=Object.keys(r).find((l,f)=>r[l].index===lt.LP)?0:1;e.style("opacity",s)}})}update(){this.drawThresholdLabels()}updateDimensions(){this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}drawThresholdLabels(){const t=this.chart.getDataManager().chartSeriesSet.find(L=>L.renderer instanceof yr);if(Ce()(t))return void console.warn("Threshold series is undefined. As a result, threshold labels for the donut gauge will not be rendered.");let e=this.lasagnaLayer.select(`.${Ri}`);e.empty()&&(e=this.lasagnaLayer.append("svg:g").attr("class",Ri).style("opacity",0));const s=t?.renderer?.getOuterRadius(t?.scales.r.range()??[0,0],0)+this.config.padding;if(Ce()(s))throw new Error("Radius is undefined");const l=(0,Cr.A)().outerRadius(s).innerRadius(s),f=t?.scales.r.formatters[this.config.formatterName]??(L=>L),p=at()(this.config.disableThresholdLabels?[]:t?.data);if(Ce()(p))throw new Error("Gauge threshold series data is undefined");p.sort((L,dt)=>L.value-dt.value);const T=e.selectAll(`text.${tr}`).data(Ii.generateThresholdArcData(p));T.exit().remove(),T.enter().append("text").attr("class",tr).merge(T).attr("transform",L=>`translate(${l.centroid(L)})`).attr("title",(L,dt)=>f(p[dt].value)).style("text-anchor",L=>this.getTextAnchor(L.startAngle)).style("dominant-baseline",L=>this.getAlignmentBaseline(L.startAngle)).text((L,dt)=>f(p[dt].value))}getTextAnchor(t){const e=Math.cos(t-Math.PI/2);return e>.5?"start":e<-.5?"end":"middle"}getAlignmentBaseline(t){const e=Math.sin(t+Math.PI/2);return e>.5?"text-after-edge":e<-.5?"text-before-edge":"central"}})();class br extends Mi.y{config;DEFAULT_CONFIG={padding:5,formatterName:Ei,disableThresholdLabels:!1,flippedLabels:!1};destroy$=new Wn.B;lasagnaLayer;isHorizontal=!0;thresholdsSeries;constructor(n={}){super(),this.config=n,this.config=un()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:Ri,order:lt.G8[Lt.r.data].order,clipped:!1}),this.chart.getEventBus().getStream(lt.C8).pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{const t=this.lasagnaLayer.select(`.${Ri}`);t.empty()||t.style("opacity",n.data?1:0)})}update(){this.updateData(),this.drawThresholdLabels()}updateDimensions(){this.updateData(),this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}updateData(){this.thresholdsSeries=this.chart.getDataManager().chartSeriesSet.find(n=>n.id===Ni),this.isHorizontal=this.thresholdsSeries?.scales.x instanceof Me}drawThresholdLabels(){if(Ce()(this.thresholdsSeries))return void console.warn("Threshold series is undefined. As a result, threshold labels for the linear gauge will not be rendered.");let n=this.lasagnaLayer.select(`.${Ri}`);n.empty()&&(n=this.lasagnaLayer.append("svg:g").attr("class",Ri).style("opacity",0));const t=at()(this.config.disableThresholdLabels?[]:this.thresholdsSeries?.data);if(Ce()(t))throw new Error("Gauge threshold series data is undefined");t.pop();const e=this.thresholdsSeries?.scales[this.isHorizontal?"x":"y"].formatters[this.config.formatterName]??(s=>s),r=n.selectAll(`text.${tr}`).data(t);r.exit().remove(),r.enter().append("text").attr("class",tr).merge(r).attr("transform",(s,l)=>`translate(${this.xTranslate(s,l)}, ${this.yTranslate(s,l)})`).attr("title",(s,l)=>e(t[l].value)).style("text-anchor",s=>this.getTextAnchor()).style("dominant-baseline",s=>this.getAlignmentBaseline()).text((s,l)=>e(t[l].value))}xTranslate=(n,t)=>{if(this.isHorizontal){const e=this.thresholdsSeries,r=this.thresholdsSeries?.accessors?.data?.value?.(n,t,e?.data,e);return this.thresholdsSeries?.scales.x.convert(r)}return this.getLabelOffset()};yTranslate=(n,t)=>{if(this.isHorizontal)return this.getLabelOffset();const e=this.thresholdsSeries,r=this.thresholdsSeries?.accessors?.data?.value?.(n,t,e?.data,e);return this.thresholdsSeries?.scales.y.convert(r)};getLabelOffset(){let n=0;if(!this.config.flippedLabels){const e=this.chart.getGrid().config().dimension;n=this.isHorizontal?e.height():e.width()}let t=this.config.padding;return t=this.config.flippedLabels?-t:t,n+t}getTextAnchor(){return this.isHorizontal?"middle":this.config.flippedLabels?"end":"start"}getAlignmentBaseline(){return this.isHorizontal?this.config.flippedLabels?"text-after-edge":"hanging":"central"}}class nr extends fn{constructor(n,t){super(n,t),this.data={...this.data,startX:(e,r,s,l)=>this.data.category(e,r,s,l),endX:(e,r,s,l)=>this.data.category(e,r,s,l),thicknessX:(e,r,s,l)=>this.data.thickness?this.data.thickness(e,r,s,l):void 0,startY:(e,r,s,l)=>this.data.start(e,r,s,l),endY:(e,r,s,l)=>this.data.end(e,r,s,l)}}}function ir(c,n=new Me){const t=new tt;let e;return c&&c.grouped&&(t.padding(.25),t.innerScale=new tt),c&&c.horizontal?(t.reverse(),e={x:n,y:t}):e={x:t,y:n},e}const Vr={markerRadius:Ti.Large,enabled:!0};class $i extends $n{config;constructor(n={}){super(n),this.config=n,this.config=un()(this.config,Vr)}draw(n,t){const e=n.containers[Lt.r.unclippedData],r=n.dataSeries,s=r.accessors,l=at()(this.config.enabled?r.data:[]);l.pop();const f=e.selectAll(`circle.${ni}`).data(l);f.exit().remove(),f.enter().append("circle").attr("class",ni).merge(f).attr("cx",(p,T)=>n.scales.x.convert(s?.data?.endX?.(p,T,r.data,r))).attr("cy",(p,T)=>n.scales.y.convert(s?.data?.endY?.(p,T,r.data,r))).attr("r",this.config.markerRadius).style("fill",(p,T)=>`var(--nui-color-${l[T].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getRequiredLayers(){return[lt.G8[Lt.r.unclippedData]]}}var rr=a(97333),Or=a.n(rr);function _r(c,n){if(0===c.length)return c;const t=function Nr(c,n="category"){return c.reduce((t,e)=>{const r=e.accessors.data[n],s=e.data.reduce((l,f,p)=>(l.push(r?.(f,p,e.data,e)),l),[]);return Or()(t,s,l=>l.valueOf())},[])}(c.filter(e=>Ce()(e.preprocess)||e.preprocess));return c.reduce((e,r)=>{if(!Ce()(r.preprocess)&&!r.preprocess)return e;const s=r.accessors.data.category,l=r.accessors.data.value;if(!l)throw new Error("valueAccessor is not defined");const f=r.data.reduce((T,L,dt)=>({...T,[s(L,dt,r.data,r)]:dt}),{}),p=[];return t.forEach((T,L)=>{let dt;if(void 0!==f[T]){dt=r.data[f[T]];const Mt={},jt=n(r)?1:0;Mt.start=e[L],e[L]+=(l(dt,f[T],r.data,r)||0)*jt,Mt.end=e[L],dt.__bar=Mt,p.push(dt)}}),r.data=p,e},Array(t.length).fill(0)),c}function xr(c){return _r(c,n=>!this.isSeriesHidden(n.id))}class wr{colorProvider;data;series;constructor(n=He()){this.colorProvider=n,this.data={value:t=>Number.isFinite(t)?t:t.value},this.series={color:this.colorProvider?this.colorProvider.get:void 0}}}class Yi extends Bn{build(){return super.build(),this.recenter(),this}updateDimensions(n){const t=this.config().dimension;if(Ce()(n.width)||t.outerWidth(n.width),Ce()(n.height)||t.outerHeight(n.height),this.scales){const e=this.scales.r;e&&e.list[0].range([0,Math.min(t.width(),t.height())/2])}return this.adjustRenderingArea(),this.updateRanges(),setTimeout(()=>{this.recenter()}),this}adjustRenderingArea=()=>{const n=this.config().dimension,t={width:n.outerWidth(),height:n.outerHeight(),transform:`translate(${-n.outerWidth()/2}, ${-n.outerHeight()/2})`};this.renderingAreaClipPath.attrs(t),this.renderingArea.attrs(t)};recenter(){this.container.attrs({transform:`translate(${this.config().dimension.outerWidth()/2},${this.config().dimension.outerHeight()/2})`})}}function Dr(){const c=new N;return c.interactive=!1,(new Yi).config(c)}function Sr(c,n){if(!c[0])return c;const t=Wi().sort(null),s=c[0].data.reduce((l,f)=>(l.push(c.map(p=>n(p)&&!p.excludeFromArcCalculation?p.accessors.data.value(p.data[l.length],l.length,p.data,p):0)),l),[]).map(l=>t(l));return c.map((l,f)=>({...l,data:!1===l.preprocess?l.data:s.map(p=>({...p[f],data:l.data[0]}))}))}function Tr(c){return Sr(c,n=>!this.isSeriesHidden(n.id))}function Ar(){return{r:(new Me).fixDomain(ie.Db)}}let $r=(()=>{class c{static DATA_CATEGORY="gauge";static createChartAssist(t,e,r){const s=e===ti.Donut?Dr():new Kn(function V(c,n=fi.Large){const t=new H;return t.interactionPlugins=!1,t.disableRenderAreaHeightCorrection=!0,t.axis.bottom.visible=!1,t.axis.bottom.gridTicks=!1,t.axis.left.visible=!1,t.axis.left.gridTicks=!1,t.borders.left.visible=!1,t.borders.bottom.visible=!1,t.dimension=new d,c===ti.Vertical?(t.dimension.autoWidth=!1,t.dimension.width(n)):(t.dimension.autoHeight=!1,t.dimension.height(n)),t}(e,t.linearThickness)),l=s.config(),f=new Vi(s),p=!nn()(t.thresholds?.definitions)&&!t.thresholds?.disableMarkers;return e===ti.Donut?(p&&(f.addPlugin(r??new er),l.dimension.margin=c.getMarginForLabelClearance(t,e,l.dimension.margin)),new o(f,Tr)):(p&&(f.addPlugin(r??new br({flippedLabels:!!t.labels?.flipped})),l.dimension.margin=c.getMarginForLabelClearance(t,e,l.dimension.margin)),new o(f,xr))}static assembleSeriesSet(t,e){t.value=t.value??0,t.max=t.max??0;const r=c.clampConfigToRange(t),s=c.generateRenderingAttributes(r,e);let l,f=[];return r.thresholds&&(l=c.generateThresholdSeries(r,s),f.push(l)),f=[...c.generateQuantityAndRemainderSeriesSet(r,s,l?.activeThreshold),...f],f}static update(t,e){e.value=e.value??0,e.max=e.max??0;const r=c.clampConfigToRange(e),s=c.generateThresholdsData(r);return t.map(f=>f.id===vi?{...f,data:[{category:c.DATA_CATEGORY,value:r.value}],activeThreshold:s.activeThreshold,defaultColor:r.defaultQuantityColor||qe.Ok}:f.id===cr?{...f,data:[{category:c.DATA_CATEGORY,value:r.max-r.value}]}:f.id===Ni?(f.renderer.config.enabled=!r.thresholds?.disableMarkers,f.renderer.config.markerRadius=r.thresholds?.markerRadius??Ti.Large,{...f,...s}):f)}static createStandardThresholdsConfig(t,e){return{definitions:{[ri.Warning]:{id:ri.Warning,value:t,enabled:!0,color:qe.Warning},[ri.Critical]:{id:ri.Critical,value:e,enabled:!0,color:qe.Critical}},reversed:!1,disableMarkers:!1,markerRadius:Ti.Large}}static getMarginForLabelClearance(t,e,r){if(e===ti.Donut){const T=t.labels?.clearance??30,L=Math.max(...Object.values(r),T);return{top:L,right:L,bottom:L,left:L}}let s;const l=!!t.labels?.flipped;s=e===ti.Horizontal?l?"top":"bottom":l?"left":"right";const p=Math.max(r[s],t.labels?.clearance??lr[s]);return{...r,[s]:p}}static generateQuantityAndRemainderSeriesSet(t,e,r){return c.generateQuantityAndRemainderData(t).map(l=>{const{quantityAccessors:f,remainderAccessors:p,scales:T,mainRenderer:L}=e;return f.data&&(f.data.color=(dt,Mt,jt,me)=>me.activeThreshold?me.activeThreshold.color:me.defaultColor),p.data&&(p.data.color=()=>t.remainderColor||qe.Remainder),l.id===vi&&(l.activeThreshold=r,l.defaultColor=t.defaultQuantityColor||qe.Ok),{...l,accessors:l.id===vi?f:p,scales:T,renderer:L}})}static generateThresholdSeries(t,e){const{quantityAccessors:r,scales:s,thresholdsRenderer:l}=e;return{...c.generateThresholdsData(t),accessors:r,scales:s,renderer:l,excludeFromArcCalculation:!0,preprocess:!1}}static generateRenderingAttributes(t,e){const r=c.generateRenderingTools(t,e);return{quantityAccessors:r.quantityAccessorFunction(),remainderAccessors:r.remainderAccessorFunction(),mainRenderer:r.mainRendererFunction(),thresholdsRenderer:r.thresholdsRendererFunction(),scales:r.scaleFunction()}}static generateRenderingTools(t,e){const r={enabled:!t.thresholds?.disableMarkers,markerRadius:t.thresholds?.markerRadius},s=t.labels?.formatter;return{[ti.Donut]:{mainRendererFunction:()=>new wi.n({strokeWidth:0,enableSeriesHighlighting:!1}),thresholdsRendererFunction:()=>new yr(r),quantityAccessorFunction:()=>new wr,remainderAccessorFunction:()=>new wr,scaleFunction:()=>{const f=Ar();return f.r.formatters[Ei]=s,f}},[ti.Horizontal]:{mainRendererFunction:()=>new $n({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new $i(r),quantityAccessorFunction:()=>new Xn,remainderAccessorFunction:()=>new Xn,scaleFunction:()=>{const f=ir({horizontal:!0});return f.x.formatters[Ei]=s,f}},[ti.Vertical]:{mainRendererFunction:()=>new $n({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new $i(r),quantityAccessorFunction:()=>new nr,remainderAccessorFunction:()=>new nr,scaleFunction:()=>{const f=ir();return f.y.formatters[Ei]=s,f}}}[e]}static generateQuantityAndRemainderData(t){return[{id:vi,data:[{category:c.DATA_CATEGORY,value:t.value}]},{id:cr,data:[{category:c.DATA_CATEGORY,value:t.max-t.value}]}]}static generateThresholdsData(t){if(!t.thresholds)throw new Error("Thresholds are not defined in the gauge config. Unable to generate threshold data.");const{thresholds:e,activeThreshold:r}=c.prepareThresholdsData(t);return{id:Ni,data:[...e,{id:"max",enabled:!0,category:c.DATA_CATEGORY,value:t.max,color:""}],activeThreshold:r}}static prepareThresholdsData(t){const e=Object.values(t.thresholds?.definitions||[]).filter(s=>s.enabled).map(s=>({...s,category:c.DATA_CATEGORY,hit:t.thresholds?.reversed?s.value<t.value:s.value<=t.value})).sort((s,l)=>s.value-l.value),r=t.thresholds?.reversed?e?.find(s=>!Ce()(s.hit)&&!s.hit):e?.slice().reverse().find(s=>s.hit);return{thresholds:e,activeThreshold:r}}static clampConfigToRange(t){let e=t.value;t.value>t.max&&(console.warn(`Configured gauge value ${t.value} is greaterthan configured max ${t.max}. Clamping value to ${t.max}.`),e=t.max),t.value<0&&(console.warn(`Configured gauge value ${t.value} is less than 0. Clamping value to 0.`),e=0);const r=t.thresholds?.definitions||{};return Object.keys(r||{}).forEach(s=>{const l=r[s];l&&(l.value>t.max&&(console.warn(`Configured threshold value ${l.value} for threshold ${s} is greaterthan configured max ${t.max}. Clamping value to ${t.max}.`),l.value=t.max),l.value<0&&(console.warn(`Configured threshold value ${l.value} is less than 0. Clamping value to 0.`),l.value=0))}),{...t,thresholds:{...t.thresholds,definitions:r},value:e}}}return c})();a(78634);class u{valueMap;defaultValue;constructor(n,t){this.valueMap=n,this.defaultValue=t,this.reset()}get=n=>this.valueMap[n]||this.defaultValue;reset(){}}class D{element;svg;constructor(n){this.element=document.createElement("path"),this.setAttributes({class:"nui-chart-element-marker nui-chart--path__outline","vector-effect":"non-scaling-stroke",d:n})}setColor(n){this.setAttributes({fill:n})}setAttributes(n){for(const t of Object.keys(n))this.element.setAttribute(t,n[t]);this.updateSvg()}getSvg(){return this.svg}updateSvg(){this.svg=this.element.outerHTML}}const M=(c,n)=>(t,e,r)=>n(c().concat(t),e,r);class yt extends ce{constructor(n){super(n),this.formatters.tick=t=>t}createD3Scale(){return(0,Dt.hq)()}convert(n){return this._d3Scale(n)}invert(n){const t=this._d3Scale.domain(),e=t.map(this._d3Scale).slice(0,-1).map(r=>r+this._d3Scale.step()/2);return t[(0,Cn.h1)(e,n)]}round(n){return n?(this._d3Scale.round(n),this):this._d3Scale.round()}padding(n){return this._d3Scale.padding(n),this}align(n){return n?(this._d3Scale.align(n),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}isContinuous(){return!1}}var Et=a(28508),bt=a.n(Et);const Ot=(c,n)=>new Intl.DateTimeFormat(bt().locale(),n).format(c),ue=c=>(0,X.wXd)(c)<c?(c=>Ot(c,{hour:"numeric",minute:"2-digit",second:"2-digit"}))(c):(0,X.UAC)(c)<c?(c=>Ot(c,{hour:"numeric",minute:"2-digit"}))(c):(0,X.Ui6)(c)<c?(c=>Ot(c,{month:"short",day:"2-digit"}))(c):(0,X.hed)(c)<c?(c=>Ot(c,{month:"short"}))(c):(c=>Ot(c,{year:"numeric"}))(c);class _n extends ce{constructor(n){super(n),this.formatters.tick=ue}createD3Scale(){return(0,Dt.w7)()}convert(n){return this._d3Scale(n)}invert(n){const t=this._d3Scale.invert(n);return isNaN(t.getTime())?void 0:t}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(n=>isNaN(n.getTime()))}}function vn(c){const n=new Date(c.getFullYear(),0,1).getTimezoneOffset(),t=new Date(c.getFullYear(),6,1).getTimezoneOffset();return Math.max(n,t)!==c.getTimezoneOffset()}class wn extends _n{_bandScale;_interval;constructor(n,t){super(t),this.interval(n),this._bandScale=(0,Dt.WH)(),this.formatters.title=this.defaultTitleFormatter}interval(n){return n?(this._interval=n,this):this._interval}domain(n){if(n){if(0===n.length||n.length%2!=0)throw new Error("TimeIntervalScale domain has to be defined as a pair of [from, to] time values.");const t=gr()(n,ie.tO),e=[];if(!t)for(let s=0;s+1<n.length;s+=2)e.push(...this.getBandsForInterval(n[s],n[s+1]));this._bandScale.domain(e);const r=t?n:[n[0],bt()(n[1]).add(this.interval()).toDate()];return super.domain(r)}return super.domain()}range(n){return n?(this._bandScale.range(n),super.range(n)):super.range()}getBands(){return this._bandScale.domain()}convert(n,t=Wt){const e=this.truncToInterval(n,this.interval());if(!e)throw new Error("Could not convert interval");const r=this._bandScale(e);return"number"==typeof r?r+t*this.bandwidth():super.convert(n)}invert(n){const t=super.invert(n);return this.truncToInterval(t,this.interval())}bandwidth(){return this._bandScale.bandwidth()}truncToInterval(n,t,e=!1){if(!n)return n;const r=vn(n),s=e?r:vn(this.domain()[0]),l=s&&!r,f=!s&&r,T=this.interval().asDays()>=1&&f?(0,Et.duration)(1,"hour").asMilliseconds():0,L=new Date(n.getTime()+T);let dt=0;(l||f)&&(dt=l?-60:60);const Mt=6e4*(L.getTimezoneOffset()+dt),jt=L.getTime()-Mt,se=jt%t.asMilliseconds();return 0===se?L:new Date(jt-se+Mt)}isContinuous(){return!0}defaultTitleFormatter=n=>{const t=this.interval().asDays(),e=vn(n),r=vn(this.domain()[0]),s=!e&&r;let f=0;(s||e&&!r)&&t>=1&&(f=s?36e5:-36e5);const p=new Date(n.getTime()+f),T=t>=1?bt()(p).add(t,"days").toDate():bt()(p).add(this.interval()).toDate();return ue(p)+" - "+ue(T)};getBandsForInterval(n,t){const e=[];let r=this.truncToInterval(n,this.interval(),!0);if(!r)throw new Error("Could not get bands for interval");const s=this.interval().asMilliseconds(),l=this.interval().asDays(),f=vn(n),p=vn(t),T=!f&&p?(0,Et.duration)(1,"hour").asMilliseconds():0,L=l>=1?new Date(t.getTime()+T):t;for(;r<=L;)e.push(r),r=new Date(r.getTime()+s);return e}}class di{id;formatters;isDomainFixed;constructor(n){}convert(){}invert(){}get d3Scale(){}range(n){}domain(n){}fixDomain(n){return null}isContinuous(){return!1}isDomainValid(){return!0}reverse(){}reversed(n){}}class ci extends H{constructor(){super(),this.dimension.padding.bottom=2}}class kn extends H{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=5,this.axis.bottom.gridTicks=!1,this.axis.left.fit=!0,this.axis.bottom.tickSize=5,this.axis.left.tickSize=0,this.dimension.margin.right=0,this.dimension.padding.bottom=2}}class Gn extends H{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!1,this.axis.left.tickSize=0,this.axis.bottom.gridTicks=!0,this.axis.left.fit=!0,this.axis.bottom.fit=!0,this.axis.bottom.tickSize=0,this.axis.left.tickSize=5,this.dimension.padding.left=2,this.borders.left.visible=!0,this.borders.bottom.visible=!1}}class Qn extends H{constructor(n={showBottomAxis:!0}){super(),this.interactive=!0,this.interactionPlugins=!1,n.showBottomAxis||(this.axis.bottom.visible=!1,this.borders.bottom.visible=!1),this.axis.left.visible=!1,this.axis.left.gridTicks=!1,this.borders.left.visible=!1,this.dimension.autoHeight=!1,this.dimension.margin.top=0,n.showBottomAxis||(this.dimension.margin.bottom=0),this.dimension.height(30)}}function ei(c=new H,n=!1,t=!0){return c.interactionPlugins=!1,c.axis.left.visible=!1,c.axis.left.gridTicks=!1,c.dimension.margin.left=5,c.dimension.margin.right=5,c.dimension.margin.bottom=n?c.dimension.margin.bottom:0,c.dimension.padding.top=5,c.dimension.padding.bottom=5,c.dimension.autoHeight=!1,c.dimension.height(36),t&&(c.borders.top=new w),n||(c.borders.bottom.visible=!1),c}var Pe=a(76830),On=a(91449);class Zn extends On.D{getAbsolutePosition(n){const t=this.chart.target?.node()?.parentNode;if(!t)throw new Error("Chart parent node is not defined");const e=Math.min(...n.map(f=>f.position.x)),r=Math.min(...n.map(f=>f.position.y)),s=t.offsetLeft+this.chart.getGrid().config().dimension.margin.left+e+this.chart.getGrid().config().dimension.width()/2;return{top:t.offsetTop+r+this.chart.getGrid().config().dimension.height()/2,left:s,height:0,width:0}}}var Un=a(30043);const Ae=[{x:"end",y:"center"},{x:"end",y:"bottom"},{x:"center",y:"bottom"},{x:"start",y:"bottom"},{x:"start",y:"center"},{x:"start",y:"top"},{x:"center",y:"top"},{x:"end",y:"top"}],Dn={start:"end",end:"start",top:"bottom",bottom:"top"};class An extends Un.o7{getTooltipPosition(n,t){const e=n.data,f=t.renderer.getOuterRadius(t.scales.r.range(),n.index)+this.tooltipPositionOffset,p=(e.startAngle+e.endAngle)/2-Math.PI/2;return{x:Math.cos(p)*f,y:Math.sin(p)*f,width:0,height:0,overlayPositions:[this.getOverlayPosition(p)]}}getAbsolutePosition(n,t){const e=super.getAbsolutePosition(n,t);return e.x+=this.chart.getGrid().config().dimension.width()/2,e.y+=this.chart.getGrid().config().dimension.height()/2,e}getOverlayPosition(n){const t=this.getSectionIndex(n,8);return{originX:Ae[t].x,originY:Ae[t].y,overlayX:this.opposite(Ae[t].x),overlayY:this.opposite(Ae[t].y)}}getSectionIndex(n,t){let e=Math.round(n/(2*Math.PI/t))%t;for(;e<0;)e+=t;return e}opposite(n){return Dn[n]||n}}class Li extends Un.o7{constructor(n){super()}}var sr=a(19725);let zi=(()=>{class c extends Mi.y{config;static LAYER_NAME="zoom-brush";static DEFAULT_CONFIG={enableExternalEvents:!1};grid;brush;zoomBrushLayer;brushElement;destroy$=new Wn.B;brushStartX;interactionHandlerMap;constructor(t={}){super(),this.config=t,this.config=un()(this.config,c.DEFAULT_CONFIG),this.interactionHandlerMap={[Ct.X.MouseDown]:this.brushStart,[Ct.X.MouseMove]:this.brushMove,[Ct.X.MouseUp]:this.brushEnd}}initialize(){this.grid=this.chart.getGrid(),this.zoomBrushLayer=this.grid.getLasagna().addLayer({name:c.LAYER_NAME,order:lt.G8[Lt.r.foreground].order+1,clipped:!0}),this.chart.getEventBus().getStream(lt.GM).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{if(t.broadcast&&!this.config.enableExternalEvents)return;const e=t.data;nn()(this.grid.scales)||nn()(e.coordinates)||!this.interactionHandlerMap[e.interactionType]||this.interactionHandlerMap[e.interactionType](e.coordinates&&e.coordinates.x)}),this.brush=(0,sr.n5)(),this.brushElement=this.zoomBrushLayer.append("g").attr("class","brush"),this.chart.getGrid().getInteractiveArea().on("pointerdown",()=>st.f0.target.setPointerCapture(st.f0.pointerId)).on("pointerup",()=>st.f0.target.releasePointerCapture(st.f0.pointerId))}updateDimensions(){const t=this.grid.config().dimension;this.brush.extent([[0,0],[t.width(),t.height()]]),this.brush(this.zoomBrushLayer.select(".brush")),this.brushElement.select(".overlay").style("pointer-events","none"),this.brushElement.select(".selection").attr("stroke",null)}destroy(){this.grid.getLasagna().removeLayer(c.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}brushStart=t=>{Ce()(this.brushStartX)&&(this.chart.getEventBus().getStream(lt.Ec).next({data:!1}),this.brushStartX=t)};brushMove=t=>{if(Ce()(this.brushStartX))return;const e=[this.brushStartX,t].sort((r,s)=>r-s);this.brush.move(this.brushElement,e)};brushEnd=t=>{if(Ce()(this.brushStartX))return;const e=[this.brushStartX,t].sort((p,T)=>p-T);this.brushStartX=void 0,this.chart.getEventBus().getStream(lt.Ec).next({data:!0}),this.brush.move(this.brushElement,null);const r=this.grid.scales.x.list;if(!r||e[0]===e[1])return;let s=0;const l=this.grid.config();!l.disableRenderAreaWidthCorrection&&e[1]===l.dimension.width()-Bn.RENDER_AREA_WIDTH_CORRECTION&&(s=Bn.RENDER_AREA_WIDTH_CORRECTION);const f=r.reduce((p,T)=>(p[T.id]=[e[0],e[1]+s].map(L=>T.invert(L)),p),{});this.chart.getEventBus().getStream(lt.Nf).next({data:f})}}return c})();a(32432),a(57219);class kr{showBottomAxis;showTopBorder;palette;markers;sparks=[];isLegendActive=!1;gridConfig;lastGridConfig;highlightedDataPoints={};constructor(n=!0,t=!0,e=new Hn(pi),r=new tn(Tn)){this.showBottomAxis=n,this.showTopBorder=t,this.palette=e,this.markers=r,this.gridConfig=ei(new H,!1,t),this.gridConfig.interactionPlugins=!1,this.lastGridConfig=ei(new H,n,t),this.lastGridConfig.interactionPlugins=!1}update(n){const t=n.map(e=>({id:e.id,chartSeriesSet:[e]}));this.updateSparks(t)}updateSparks(n){const t=at()(n);this.sparks=t.map((e,r)=>{const s=r===t.length-1,l=e.id?this.sparks.findIndex(f=>f.id===e.id):-1;return-1!==l?e.chart=this.reconfigureChart(this.sparks[l].chart,s):(e.chart=e.chart||this.createChart(s),e.id=e.id||we.uuid()),e.chart.update(e.chartSeriesSet),e})}getHighlightedValue(n,t,e){return o.getLabel(n,this.highlightedDataPoints[n.id],t,e)}trackByFn(n,t){return t?.id}setRenderState(n,t){}getVisibleSeriesWithLegend(){return[]}createChart(n){const t=new Kn(n?this.lastGridConfig:this.gridConfig),e=new Vi(t);return(this.showTopBorder||this.showBottomAxis)&&e.addPlugin(new an),n&&this.showBottomAxis&&e.addPlugin(new rn),this.configureEventSubscriptions(e.getEventBus()),e}configureEventSubscriptions(n){n.getStream(lt.JM).subscribe(t=>{if(t.data.interactionType===Ct.X.MouseMove){const e=t.data.dataPoints;Object.keys(e).forEach(r=>{this.highlightedDataPoints[r]=Object.assign({},e[r])})}}),n.getStream(lt.C8).subscribe(t=>{this.isLegendActive=t.data})}reconfigureChart(n,t){n.getGrid().config(t?this.lastGridConfig:this.gridConfig),n.updateDimensions();const e=n.hasPlugin(rn);if(t&&!e&&this.showBottomAxis){const r=new rn;n.addPlugin(r),r.initialize()}else!t&&e&&n.removePlugin(rn);return n}}a(60598),a(29261),a(93078);class Ur{series;data;constructor(){this.series=void 0,this.data=void 0}}class Fr extends Qt.A{draw(n,t){}highlightDataPoint(n,t,e){}getRequiredLayers(){return[]}getDataPointPosition(n,t,e){}}function Xr(c){const n=new Kn;return n.config(c&&c.horizontal?new Gn:new kn),n}function Wr(c,n,t){return c&&c.horizontal?new Xn(n,t):new nr(n,t)}var zr=a(35482),Yt=a.n(zr);class We{scaleKey;levels;selectedDataPointIdxFn;constructor(n,t=1,e){this.scaleKey=n,this.levels=t,this.selectedDataPointIdxFn=e}getDataPointIndex(n,t,e,r){const s=e[this.scaleKey];return typeof s>"u"?lt.Dc:this.findDataPointByValue(t,s,this.scaleKey,r)}findDataPointByValue(n,t,e,r){const s=e.toUpperCase(),l=n.accessors.data,f=l["start"+s],p=l["end"+s];if("string"==typeof t)return Yt()(n.data,(T,L)=>t===f?.(T,L,n.data,n));if(ke()(t))return Yt()(n.data,(T,L)=>{const dt=f?.(T,L,n.data,n),Mt=Math.min(this.levels,t.length,dt.length);for(let jt=0;jt<Mt;jt++)if(t[jt]!==dt[jt])return!1;return!0});if(t.valueOf){const T=t.valueOf();if(r&&r[e]?.isContinuous()){let L=Yt()(n.data,(dt,Mt)=>T>=f?.(dt,Mt,n.data,n).valueOf()&&T<=p?.(dt,Mt,n.data,n).valueOf());if(-1===L&&typeof p<"u")if((0,ie.y_)(r[e])){const dt=(jt,me)=>f?.(jt,me,n.data,n),Mt=we.findNearestIndex(n.data,t,dt);L=Mt>=n.data.length||dt(n.data[Mt],Mt)>T?-1:Mt}else L=we.getClosestIndex(n.data,(dt,Mt)=>p(dt,Mt,n.data,n),t)??-1;return L}return Yt()(n.data,(L,dt)=>T>=f?.(L,dt,n.data,n).valueOf()&&T<=p?.(L,dt,n.data,n).valueOf())}return lt.Dc}highlightDataPoint(n,t,e,r){const s=t.containers[Lt.r.data],l=n.getContainerStateStyles,f=Ce()(this.selectedDataPointIdxFn)?lt.LP:this.selectedDataPointIdxFn(t.dataSeries.id);s.selectAll(`g.${n.barContainerClass}`).each(function(p,T){let L;L=e===lt.Dc?T===f||f===lt.LP?Lt.M.default:Lt.M.deemphasized:e===T||T===f?Lt.M.emphasized:Lt.M.deemphasized,(0,_.A)(this).attrs(l(L))})}draw(n,t,e){}}class Bt{scaleKey;levels;constructor(n,t=1){this.scaleKey=n,this.levels=t}getDataPointIndex(n,t,e,r){const s=e[this.scaleKey];return typeof s>"u"?lt.Dc:this.findDataPointByValue(t,s,this.scaleKey)}findDataPointByValue(n,t,e){const r=e.toUpperCase(),s=n.accessors.data,l=s["start"+r],f=s["end"+r];if("string"==typeof t)return Yt()(n.data,(p,T)=>t===l?.(p,T,n.data,n));if(ke()(t))return Yt()(n.data,(p,T)=>{const L=l?.(p,T,n.data,n),dt=Math.min(this.levels,t.length,L.length);for(let Mt=0;Mt<dt;Mt++)if(t[Mt]!==L[Mt])return!1;return!0});if(t.valueOf){const p=t.valueOf();return Yt()(n.data,(T,L)=>p>=l?.(T,L,n.data,n).valueOf()&&p<=f?.(T,L,n.data,n).valueOf())}return lt.Dc}highlightDataPoint(n,t,e,r){(e>=0||e===lt.Dc)&&r.next({eventName:lt.mZ,data:n.getDataPoint(t,t.dataSeries.data[e],e)})}draw(n,t,e){}}class si extends wi.n{getArc(n,t,e){return t.outerRadius(n[1]-n[0]).innerRadius(0)}}function yn(c,n,t){const e=c.accessors.data,r=c.data,s=e?.[n];if(!s)throw new Error("Accessor "+n+" not defined!");const l=s(r[0],0,r,c),f=s(r[r.length-1],r.length-1,r,c);if(!l||!f)throw new Error("First or last values not defined!");const p=new wn(t);p.domain([p.truncToInterval(l,p.interval()),p.truncToInterval(f,p.interval())]);const T=p.getBands(),L=[];let dt=0;for(let Mt=0;Mt<r.length;Mt++){const jt=s(r[Mt],Mt,r,c),me=p.truncToInterval(jt,p.interval());if(me&&me>T[dt])for(L.push({...r[Mt-1],defined:!1}),L.push({...r[Mt],defined:!1});T[dt]<jt;)dt++;L.push(r[Mt]),dt++}return L}class li{INTERACTION_MARGIN=8;draw(n,t,e){const r=t.containers[Lt.r.data];let s=r.select("path.interaction");if(xt()(n.config.strokeWidth))throw new Error("renderer.config.strokeWidth is not defined");s.empty()&&(s=r.append("path").classed("interaction",!0).classed("pointer-events pointer-events-click",!0).attrs({"stroke-width":n.config.strokeWidth+2*this.INTERACTION_MARGIN,stroke:"transparent",fill:"none"}).on("mouseenter",()=>{e.next({eventName:lt.mZ,data:{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:0,data:t.dataSeries.data[0]}})}).on("mouseleave",()=>{e.next({eventName:lt.mZ,data:{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:lt.LP}})}).on("click",(l,f)=>{this.emitEvent(n,lt._X,Ct.X.Click,t,l,f,e)})),n.drawLine(t,s)}getDataPointIndex(n,t,e,r){}highlightDataPoint(n,t,e,r){}emitEvent(n,t,e,r,s,l,f){const p={seriesId:r.dataSeries.id,dataSeries:r.dataSeries,index:l,data:s,position:n.getDataPointPosition(r.dataSeries,l,r.scales)};f.next({eventName:t,data:{interactionType:e,payload:p}})}}class ui{strokeWidth=1;interactive=!1;strokeStyle=Ht.getStrokeStyleDashed(1);useEnhancedLineCaps=!0}function ki(){const c=new Kn;return c.config(new ci),c}class Qr extends je{config;DEFAULT_CONFIG={curveType:Fi,interactive:!0,areaClass:"nui-chart-area",markerInteraction:qn};constructor(n={}){super(n),this.config=n,this.config=un()(this.config,this.DEFAULT_CONFIG)}draw(n,t){const e=n.containers[Lt.r.data],r=n.dataSeries.accessors;let s=e.select(`path.${this.config.areaClass}`);if(s.empty()){if(!this.config.areaClass)throw new Error("areaClass is not defined");s=e.append("path").classed(this.config.areaClass,!0).attrs({fill:r.series.color?.(n.dataSeries.id,n.dataSeries)}).style("stroke-width",this.config.strokeWidth??1)}this.drawArea(n,s)}drawArea(n,t){const e=n.dataSeries,r=e.accessors;let s=!1;const l=e.data.filter((p,T)=>{const L=typeof r.data.absoluteX0?.(p,T,e.data,e)<"u"&&typeof r.data.absoluteX1?.(p,T,e.data,e)<"u"&&typeof r.data.absoluteY0?.(p,T,e.data,e)<"u"&&typeof r.data.absoluteY1?.(p,T,e.data,e)<"u";return!L&&!s&&(console.warn("Data point",p,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x0:",r.data.x0),console.warn(" -> accessors.data.y0:",r.data.y0),console.warn(" -> accessors.data.x1:",r.data.x1),console.warn(" -> accessors.data.y1:",r.data.y1),s=!0),L});if(!this.config.curveType)throw new Error("curveType is not defined");const f=function Pr(){var c=Y,n=null,t=(0,k.A)(0),e=pt,r=(0,k.A)(!0),s=null,l=Fi,f=null;function p(L){var dt,Mt,jt,se,Nn,me=L.length,ye=!1,Ui=new Array(me),ar=new Array(me);for(null==s&&(f=l(Nn=(0,b.A)())),dt=0;dt<=me;++dt){if(!(dt<me&&r(se=L[dt],dt,L))===ye)if(ye=!ye)Mt=dt,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),jt=dt-1;jt>=Mt;--jt)f.point(Ui[jt],ar[jt]);f.lineEnd(),f.areaEnd()}ye&&(Ui[dt]=+c(se,dt,L),ar[dt]=+t(se,dt,L),f.point(n?+n(se,dt,L):Ui[dt],e?+e(se,dt,L):ar[dt]))}if(Nn)return f=null,Nn+""||null}function T(){return St().defined(r).curve(l).context(s)}return p.x=function(L){return arguments.length?(c="function"==typeof L?L:(0,k.A)(+L),n=null,p):c},p.x0=function(L){return arguments.length?(c="function"==typeof L?L:(0,k.A)(+L),p):c},p.x1=function(L){return arguments.length?(n=null==L?null:"function"==typeof L?L:(0,k.A)(+L),p):n},p.y=function(L){return arguments.length?(t="function"==typeof L?L:(0,k.A)(+L),e=null,p):t},p.y0=function(L){return arguments.length?(t="function"==typeof L?L:(0,k.A)(+L),p):t},p.y1=function(L){return arguments.length?(e=null==L?null:"function"==typeof L?L:(0,k.A)(+L),p):e},p.lineX0=p.lineY0=function(){return T().x(c).y(t)},p.lineY1=function(){return T().x(c).y(e)},p.lineX1=function(){return T().x(n).y(t)},p.defined=function(L){return arguments.length?(r="function"==typeof L?L:(0,k.A)(!!L),p):r},p.curve=function(L){return arguments.length?(l=L,null!=s&&(f=l(s)),p):l},p.context=function(L){return arguments.length?(null==L?s=f=null:f=l(s=L),p):s},p}().x0((p,T)=>this.safetyCheck(n.scales.x.convert(r.data.absoluteX0?.(p,T,e.data,e)))).x1((p,T)=>this.safetyCheck(n.scales.x.convert(r.data.absoluteX1?.(p,T,e.data,e)))).y0((p,T)=>this.safetyCheck(n.scales.y.convert(r.data.absoluteY0?.(p,T,e.data,e)))).y1((p,T)=>this.safetyCheck(n.scales.y.convert(r.data.absoluteY1?.(p,T,e.data,e)))).curve(this.config.curveType);t.attr("d",f(l)??"")}getDomain(n,t,e,r){if(!n||0===n.length)return ie.tO;const s=t.accessors.data;if("x"!==e&&"y"!==e)return[void 0,void 0];const l=s[`absolute${e.toUpperCase()}0`],f=s[`absolute${e.toUpperCase()}1`];return[(0,Cn.jk)(n,(p,T,L)=>(0,Cn.jk)([l?.(p,T,L,t),f?.(p,T,L,t)])),(0,Cn.T9)(n,(p,T,L)=>(0,Cn.T9)([l?.(p,T,L,t),f?.(p,T,L,t)]))]}getRequiredLayers(){return[lt.G8[Lt.r.data],lt.G8[Lt.r.foreground]]}filterDataByDomain(n,t,e,r){const s=t.accessors.data[e+"0"],l=t.accessors.data[e+"1"];return n.filter((f,p)=>{const T=s?.(f,p,n,t),L=l?.(f,p,n,t);return Math.max(T,L)>=r[0]&&Math.min(T,L)<=r[1]})}highlightDataPoint(n,t,e){n.dataSeries.accessors.series.marker&&this.config.interactive&&Gt.manageMarker(n.dataSeries,n.scales,t,n.containers[Lt.r.foreground],e,this.config.markerInteraction)}safetyCheck(n){return typeof n>"u"||isNaN(n)?0:n}}function Jr(c){return function Zr(c,n){if(0===c.length)return c;const t={};for(const s of c){if(!1===s.preprocess)continue;const l=s.accessors.data.x,f=s.accessors.data.y0,p=s.accessors.data.y1,T=n(s)?1:0;s.data.forEach((L,dt)=>{const Mt=l(L,dt,s.data,s),jt=f?.(L,dt,s.data,s),se=(p?.(L,dt,s.data,s)-jt)*T;let ye=t[Mt.valueOf()];typeof ye>"u"&&(ye=0,t[Mt.valueOf()]=ye);const Nn=ye+se;t[Mt.valueOf()]=Nn,L.__stack_y={start:ye,end:Nn}})}return c}(c,n=>!this.isSeriesHidden(n.id))}function ts(c){return function qr(c,n){if(0===c.length)return c;const t={},e={};for(const l of c)es("x","y",l,n,e);for(const l of c)ns("x","y",l,n,t,e);return c}(c,n=>!this.isSeriesHidden(n.id))}function es(c,n,t,e,r){const s=t.accessors.data[c],l=t.accessors.data[n+"0"],f=t.accessors.data[n+"1"],p=e(t)?1:0;t.data.forEach((T,L)=>{const dt=s(T,L,t.data,t),Mt=l?.(T,L,t.data,t),me=(f?.(T,L,t.data,t)-Mt)*p;let se=r[dt.valueOf()];typeof se>"u"&&(se=0,r[dt.valueOf()]=se),r[dt.valueOf()]=se+me})}function ns(c,n,t,e,r,s){const l=t.accessors.data[c],f=t.accessors.data[n+"0"],p=t.accessors.data[n+"1"],T=e(t)?1:0;t.data.forEach((L,dt)=>{const Mt=l(L,dt,t.data,t),jt=f?.(L,dt,t.data,t),se=(p?.(L,dt,t.data,t)-jt)*T;let ye=r[Mt.valueOf()];typeof ye>"u"&&(ye=0,r[Mt.valueOf()]=ye);const Ui=ye+se/s[Mt.valueOf()]*100;r[Mt.valueOf()]=Ui,L["__stack_"+n]={start:ye,end:Ui}})}function is(c,n){const t=new Vn(c,n);return t.data.x=e=>e.x,t.data.y=t.data.absoluteY1,t.data.y0=()=>0,t.data.y1=e=>e.y,t}function rs(c=new H){return c.axis.left.visible=!1,c.axis.left.gridTicks=!1,c.dimension.padding.bottom=5,c.dimension.autoHeight=!1,c.dimension.height(20),c}function ss(c=new H){return c.axis.bottom.visible=!1,c.dimension.margin.bottom=0,c.dimension.padding.bottom=5,c}},22118:(Tt,ut,a)=>{"use strict";a.d(ut,{n:()=>G,x:()=>O});var g=a(79450),P=a(41895),m=a.n(P),J=a(64755),I=a.n(J),F=a(20021),et=a(71443),_=a(86655),S=a(5438);const O={annularWidth:20,annularPadding:5,maxThickness:30,annularGrowth:.15,cursor:"default",enableSeriesHighlighting:!0,enableDataPointHighlighting:!0};class G extends et.A{config;segmentWidth;constructor(C={}){super(C),this.config=C,this.config=m()(this.config,O)}draw(C,E){const R=C.containers[S.r.data],Z=C.dataSeries.data,W=C.dataSeries.accessors;this.segmentWidth=this.getSegmentWidth(C);const $=R.selectAll("path.arc").data(Z);$.exit().remove(),$.enter().append("path").attr("class","arc pointer-events nui-chart--path__outline").style("stroke-width",this.config.strokeWidth).style("cursor",this.config.cursor).on("mouseenter",(ht,j)=>{this.emitDataPointHighlight(C,ht,j,E)}).on("mouseleave",(ht,j)=>{this.emitDataPointHighlight(C,null,F.LP,E)}).on("click",(ht,j)=>{E.next({eventName:F.mu,data:{seriesId:C.dataSeries.id,index:j,data:ht.data,position:this.getDataPointPosition(C.dataSeries,j,C.scales)}})}).merge($).attr("d",(ht,j)=>this.getArc(C.scales.r.range(),(0,g.A)(),j)(ht)).attr("fill",(ht,j)=>W.data.color?W.data.color(ht.data,j,Z,C.dataSeries):W.series.color?.(C.dataSeries.id,C.dataSeries))}getDataPointPosition(C,E,R){if(E<0)return;const Z=C.data[E],nt=this.getArc(R.r.range(),(0,g.A)(),E).centroid(Z);return{x:nt[0],y:nt[1],width:0,height:0}}getInnerRadius(C,E){if(I()(this.segmentWidth)||I()(this.config.annularPadding))throw new Error("Can't compute inner radius");const R=C[1]-C[0]-this.segmentWidth-E*(this.config.annularPadding+this.segmentWidth);return R>=0?R:0}getOuterRadius(C,E){if(I()(this.segmentWidth)||I()(this.config.annularPadding))throw new Error("Can't compute outer radius");const R=C[1]-C[0]-E*(this.config.annularPadding+this.segmentWidth);return R>=0?R:0}getArc(C,E,R){const Z=this.getInnerRadius(C,R);return E.outerRadius(this.getOuterRadius(C,R)).innerRadius(Z)}getSegmentWidth(C){return this.config.maxThickness&&this.config.annularGrowth?Math.min((C.scales.r.range()[1]-C.scales.r.range()[0])*this.config.annularGrowth,this.config.maxThickness):this.config.annularWidth}emitDataPointHighlight(C,E,R,Z){const W=this.getDataPointPosition(C.dataSeries,R,C.scales),nt={seriesId:C.dataSeries.id,dataSeries:C.dataSeries,index:R,data:E,position:W};this.config.enableSeriesHighlighting&&Z.next({eventName:F.mZ,data:nt}),this.config.enableDataPointHighlighting&&Z.next({eventName:F.cC,data:nt}),Z.next({eventName:F.JM,data:{interactionType:_.X.MouseMove,dataPoints:{[C.dataSeries.id]:nt}}})}}},5438:(Tt,ut,a)=>{"use strict";a.d(ut,{M:()=>g,r:()=>P});var g=function(m){return m.hidden="hidden",m.deemphasized="deemphasized",m.emphasized="emphasized",m.default="default",m}(g||{}),P=function(m){return m.background="background",m.data="data",m.unclippedData="unclipped-data",m.foreground="foreground",m}(P||{})},46043:(Tt,ut,a)=>{"use strict";function g(it,ft){return it<ft?-1:it>ft?1:it>=ft?0:NaN}function P(it){return 1===it.length&&(it=function m(it){return function(ft,wt){return g(it(ft),wt)}}(it)),{left:function(ft,wt,ct,at){for(null==ct&&(ct=0),null==at&&(at=ft.length);ct<at;){var rt=ct+at>>>1;it(ft[rt],wt)<0?ct=rt+1:at=rt}return ct},right:function(ft,wt,ct,at){for(null==ct&&(ct=0),null==at&&(at=ft.length);ct<at;){var rt=ct+at>>>1;it(ft[rt],wt)>0?at=rt:ct=rt+1}return ct}}}a.d(ut,{h1:()=>et,yl:()=>P,Xx:()=>_,T9:()=>ht,jk:()=>j,y1:()=>_t,lq:()=>Z,sG:()=>W,Zc:()=>R});const et=P(g).right;function _(it,ft){var at,rt,kt,wt=it.length,ct=-1;if(null==ft){for(;++ct<wt;)if(null!=(at=it[ct])&&at>=at)for(rt=kt=at;++ct<wt;)null!=(at=it[ct])&&(rt>at&&(rt=at),kt<at&&(kt=at))}else for(;++ct<wt;)if(null!=(at=ft(it[ct],ct,it))&&at>=at)for(rt=kt=at;++ct<wt;)null!=(at=ft(it[ct],ct,it))&&(rt>at&&(rt=at),kt<at&&(kt=at));return[rt,kt]}var U=Math.sqrt(50),C=Math.sqrt(10),E=Math.sqrt(2);function R(it,ft,wt){var ct,rt,kt,Ut,at=-1;if(wt=+wt,(it=+it)==(ft=+ft)&&wt>0)return[it];if((ct=ft<it)&&(rt=it,it=ft,ft=rt),0===(Ut=Z(it,ft,wt))||!isFinite(Ut))return[];if(Ut>0)for(it=Math.ceil(it/Ut),ft=Math.floor(ft/Ut),kt=new Array(rt=Math.ceil(ft-it+1));++at<rt;)kt[at]=(it+at)*Ut;else for(it=Math.floor(it*Ut),ft=Math.ceil(ft*Ut),kt=new Array(rt=Math.ceil(it-ft+1));++at<rt;)kt[at]=(it-at)/Ut;return ct&&kt.reverse(),kt}function Z(it,ft,wt){var ct=(ft-it)/Math.max(0,wt),at=Math.floor(Math.log(ct)/Math.LN10),rt=ct/Math.pow(10,at);return at>=0?(rt>=U?10:rt>=C?5:rt>=E?2:1)*Math.pow(10,at):-Math.pow(10,-at)/(rt>=U?10:rt>=C?5:rt>=E?2:1)}function W(it,ft,wt){var ct=Math.abs(ft-it)/Math.max(0,wt),at=Math.pow(10,Math.floor(Math.log(ct)/Math.LN10)),rt=ct/at;return rt>=U?at*=10:rt>=C?at*=5:rt>=E&&(at*=2),ft<it?-at:at}function ht(it,ft){var at,rt,wt=it.length,ct=-1;if(null==ft){for(;++ct<wt;)if(null!=(at=it[ct])&&at>=at)for(rt=at;++ct<wt;)null!=(at=it[ct])&&at>rt&&(rt=at)}else for(;++ct<wt;)if(null!=(at=ft(it[ct],ct,it))&&at>=at)for(rt=at;++ct<wt;)null!=(at=ft(it[ct],ct,it))&&at>rt&&(rt=at);return rt}function j(it,ft){var at,rt,wt=it.length,ct=-1;if(null==ft){for(;++ct<wt;)if(null!=(at=it[ct])&&at>=at)for(rt=at;++ct<wt;)null!=(at=it[ct])&&rt>at&&(rt=at)}else for(;++ct<wt;)if(null!=(at=ft(it[ct],ct,it))&&at>=at)for(rt=at;++ct<wt;)null!=(at=ft(it[ct],ct,it))&&rt>at&&(rt=at);return rt}function _t(it,ft,wt){it=+it,ft=+ft,wt=(at=arguments.length)<2?(ft=it,it=0,1):at<3?1:+wt;for(var ct=-1,at=0|Math.max(0,Math.ceil((ft-it)/wt)),rt=new Array(at);++ct<at;)rt[ct]=it+ct*wt;return rt}},19725:(Tt,ut,a)=>{"use strict";a.d(ut,{n5:()=>K});var g=a(4171),P=a(14221),m=a(89403);function I(){m.f0.preventDefault(),m.f0.stopImmediatePropagation()}var _=a(70963),S=a(86358),O=a(60859),U=a(72546),C=a(72625);function E(It){return function(){return It}}function R(It,ae,Ue){this.target=It,this.type=ae,this.selection=Ue}function Z(){m.f0.stopImmediatePropagation()}function W(){m.f0.preventDefault(),m.f0.stopImmediatePropagation()}var nt={name:"drag"},$={name:"space"},ht={name:"handle"},j={name:"center"};function _t(It){return[+It[0],+It[1]]}function it(It){return[_t(It[0]),_t(It[1])]}var wt={name:"x",handles:["w","e"].map(Ee),input:function(It,ae){return null==It?null:[[+It[0],ae[0][1]],[+It[1],ae[1][1]]]},output:function(It){return It&&[It[0][0],It[1][0]]}},ct={name:"y",handles:["n","s"].map(Ee),input:function(It,ae){return null==It?null:[[ae[0][0],+It[0]],[ae[1][0],+It[1]]]},output:function(It){return It&&[It[0][1],It[1][1]]}},rt=(["n","w","e","s","nw","ne","sw","se"].map(Ee),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),kt={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ut={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ee={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Te={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ee(It){return{type:It}}function ie(){return!m.f0.ctrlKey&&!m.f0.button}function Re(){var It=this.ownerSVGElement||this;return It.hasAttribute("viewBox")?[[(It=It.viewBox.baseVal).x,It.y],[It.x+It.width,It.y+It.height]]:[[0,0],[It.width.baseVal.value,It.height.baseVal.value]]}function Xe(){return navigator.maxTouchPoints||"ontouchstart"in this}function ke(It){for(;!It.__brush;)if(!(It=It.parentNode))return;return It.__brush}function K(){return function fe(It){var Fn,ae=Re,Ue=ie,$e=Xe,on=!0,bn=(0,g.A)("start","brush","end"),Sn=6;function Ge(qt){var le=qt.property("__brush",pi).selectAll(".overlay").data([Ee("overlay")]);le.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",rt.overlay).merge(le).each(function(){var oe=ke(this).extent;(0,P.A)(this).attr("x",oe[0][0]).attr("y",oe[0][1]).attr("width",oe[1][0]-oe[0][0]).attr("height",oe[1][1]-oe[0][1])}),qt.selectAll(".selection").data([Ee("selection")]).enter().append("rect").attr("class","selection").attr("cursor",rt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var ve=qt.selectAll(".handle").data(It.handles,function(oe){return oe.type});ve.exit().remove(),ve.enter().append("rect").attr("class",function(oe){return"handle handle--"+oe.type}).attr("cursor",function(oe){return rt[oe.type]}),qt.each(Rn).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",Jn).filter($e).on("touchstart.brush",Jn).on("touchmove.brush",Ce).on("touchend.brush touchcancel.brush",ai).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Rn(){var qt=(0,P.A)(this),le=ke(this).selection;le?(qt.selectAll(".selection").style("display",null).attr("x",le[0][0]).attr("y",le[0][1]).attr("width",le[1][0]-le[0][0]).attr("height",le[1][1]-le[0][1]),qt.selectAll(".handle").style("display",null).attr("x",function(ve){return"e"===ve.type[ve.type.length-1]?le[1][0]-Sn/2:le[0][0]-Sn/2}).attr("y",function(ve){return"s"===ve.type[0]?le[1][1]-Sn/2:le[0][1]-Sn/2}).attr("width",function(ve){return"n"===ve.type||"s"===ve.type?le[1][0]-le[0][0]+Sn:Sn}).attr("height",function(ve){return"e"===ve.type||"w"===ve.type?le[1][1]-le[0][1]+Sn:Sn})):qt.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function cn(qt,le,ve){var oe=qt.__brush.emitter;return!oe||ve&&oe.clean?new Hn(qt,le,ve):oe}function Hn(qt,le,ve){this.that=qt,this.args=le,this.state=qt.__brush,this.active=0,this.clean=ve}function Jn(){if((!Fn||m.f0.touches)&&Ue.apply(this,arguments)){var Ze,ln,dn,fn,en,gn,Je,pn,un,z,vt,qt=this,le=m.f0.target.__data__.type,ve="selection"===(on&&m.f0.metaKey?le="overlay":le)?nt:on&&m.f0.altKey?j:ht,oe=It===ct?null:ee[le],ze=It===wt?null:Te[le],En=ke(qt),Tn=En.extent,tn=En.selection,He=Tn[0][0],Vn=Tn[0][1],Xn=Tn[1][0],Cn=Tn[1][1],Be=0,ge=0,sn=oe&&ze&&on&&m.f0.shiftKey,Ft=m.f0.touches?function ft(It){return function(ae){return function G(It,ae,Ue){arguments.length<3&&(Ue=ae,ae=(0,S.A)().changedTouches);for(var bn,$e=0,on=ae?ae.length:0;$e<on;++$e)if((bn=ae[$e]).identifier===Ue)return(0,O.A)(It,bn);return null}(ae,m.f0.touches,It)}}(m.f0.changedTouches[0].identifier):U.A,lt=Ft(qt),Wt=lt,Kt=cn(qt,arguments,!0).beforestart();"overlay"===le?(tn&&(un=!0),En.selection=tn=[[Ze=It===ct?He:lt[0],dn=It===wt?Vn:lt[1]],[en=It===ct?Xn:Ze,Je=It===wt?Cn:dn]]):(Ze=tn[0][0],dn=tn[0][1],en=tn[1][0],Je=tn[1][1]),ln=Ze,fn=dn,gn=en,pn=Je;var Lt=(0,P.A)(qt).attr("pointer-events","none"),Qt=Lt.selectAll(".overlay").attr("cursor",rt[le]);if(m.f0.touches)Kt.moved=Se,Kt.ended=nn;else{var _e=(0,P.A)(m.f0.view).on("mousemove.brush",Se,!0).on("mouseup.brush",nn,!0);on&&_e.on("keydown.brush",function hn(){switch(m.f0.keyCode){case 16:sn=oe&&ze;break;case 18:ve===ht&&(oe&&(en=gn-Be*oe,Ze=ln+Be*oe),ze&&(Je=pn-ge*ze,dn=fn+ge*ze),ve=j,Ye());break;case 32:(ve===ht||ve===j)&&(oe<0?en=gn-Be:oe>0&&(Ze=ln-Be),ze<0?Je=pn-ge:ze>0&&(dn=fn-ge),ve=$,Qt.attr("cursor",rt.selection),Ye());break;default:return}W()},!0).on("keyup.brush",function we(){switch(m.f0.keyCode){case 16:sn&&(z=vt=sn=!1,Ye());break;case 18:ve===j&&(oe<0?en=gn:oe>0&&(Ze=ln),ze<0?Je=pn:ze>0&&(dn=fn),ve=ht,Ye());break;case 32:ve===$&&(m.f0.altKey?(oe&&(en=gn-Be*oe,Ze=ln+Be*oe),ze&&(Je=pn-ge*ze,dn=fn+ge*ze),ve=j):(oe<0?en=gn:oe>0&&(Ze=ln),ze<0?Je=pn:ze>0&&(dn=fn),ve=ht),Qt.attr("cursor",rt[le]),Ye());break;default:return}W()},!0),function F(It){var ae=It.document.documentElement,Ue=(0,P.A)(It).on("dragstart.drag",I,!0);"onselectstart"in ae?Ue.on("selectstart.drag",I,!0):(ae.__noselect=ae.style.MozUserSelect,ae.style.MozUserSelect="none")}(m.f0.view)}Z(),(0,C.G)(qt),Rn.call(qt),Kt.start()}function Se(){var je=Ft(qt);sn&&!z&&!vt&&(Math.abs(je[0]-Wt[0])>Math.abs(je[1]-Wt[1])?vt=!0:z=!0),Wt=je,un=!0,W(),Ye()}function Ye(){var je;switch(Be=Wt[0]-lt[0],ge=Wt[1]-lt[1],ve){case $:case nt:oe&&(Be=Math.max(He-Ze,Math.min(Xn-en,Be)),ln=Ze+Be,gn=en+Be),ze&&(ge=Math.max(Vn-dn,Math.min(Cn-Je,ge)),fn=dn+ge,pn=Je+ge);break;case ht:oe<0?(Be=Math.max(He-Ze,Math.min(Xn-Ze,Be)),ln=Ze+Be,gn=en):oe>0&&(Be=Math.max(He-en,Math.min(Xn-en,Be)),ln=Ze,gn=en+Be),ze<0?(ge=Math.max(Vn-dn,Math.min(Cn-dn,ge)),fn=dn+ge,pn=Je):ze>0&&(ge=Math.max(Vn-Je,Math.min(Cn-Je,ge)),fn=dn,pn=Je+ge);break;case j:oe&&(ln=Math.max(He,Math.min(Xn,Ze-Be*oe)),gn=Math.max(He,Math.min(Xn,en+Be*oe))),ze&&(fn=Math.max(Vn,Math.min(Cn,dn-ge*ze)),pn=Math.max(Vn,Math.min(Cn,Je+ge*ze)))}gn<ln&&(oe*=-1,je=Ze,Ze=en,en=je,je=ln,ln=gn,gn=je,le in kt&&Qt.attr("cursor",rt[le=kt[le]])),pn<fn&&(ze*=-1,je=dn,dn=Je,Je=je,je=fn,fn=pn,pn=je,le in Ut&&Qt.attr("cursor",rt[le=Ut[le]])),En.selection&&(tn=En.selection),z&&(ln=tn[0][0],gn=tn[1][0]),vt&&(fn=tn[0][1],pn=tn[1][1]),(tn[0][0]!==ln||tn[0][1]!==fn||tn[1][0]!==gn||tn[1][1]!==pn)&&(En.selection=[[ln,fn],[gn,pn]],Rn.call(qt),Kt.brush())}function nn(){if(Z(),m.f0.touches){if(m.f0.touches.length)return;Fn&&clearTimeout(Fn),Fn=setTimeout(function(){Fn=null},500)}else(function et(It,ae){var Ue=It.document.documentElement,$e=(0,P.A)(It).on("dragstart.drag",null);ae&&($e.on("click.drag",I,!0),setTimeout(function(){$e.on("click.drag",null)},0)),"onselectstart"in Ue?$e.on("selectstart.drag",null):(Ue.style.MozUserSelect=Ue.__noselect,delete Ue.__noselect)})(m.f0.view,un),_e.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Lt.attr("pointer-events","all"),Qt.attr("cursor",rt.overlay),En.selection&&(tn=En.selection),function Ke(It){return It[0][0]===It[1][0]||It[0][1]===It[1][1]}(tn)&&(En.selection=null,Rn.call(qt)),Kt.end()}}function Ce(){cn(this,arguments).moved()}function ai(){cn(this,arguments).ended()}function pi(){var qt=this.__brush||{selection:null};return qt.extent=it(ae.apply(this,arguments)),qt.dim=It,qt}return Ge.move=function(qt,le){qt.selection?qt.on("start.brush",function(){cn(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){cn(this,arguments).end()}).tween("brush",function(){var ve=this,oe=ve.__brush,ze=cn(ve,arguments),En=oe.selection,Tn=It.input("function"==typeof le?le.apply(this,arguments):le,oe.extent),tn=(0,_.A)(En,Tn);function He(Ze){oe.selection=1===Ze&&null===Tn?null:tn(Ze),Rn.call(ve),ze.brush()}return null!==En&&null!==Tn?He:He(1)}):qt.each(function(){var ve=this,oe=arguments,ze=ve.__brush,En=It.input("function"==typeof le?le.apply(ve,oe):le,ze.extent),Tn=cn(ve,oe).beforestart();(0,C.G)(ve),ze.selection=null===En?null:En,Rn.call(ve),Tn.start().brush().end()})},Ge.clear=function(qt){Ge.move(qt,null)},Hn.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(qt){(0,m.ex)(new R(Ge,qt,It.output(this.state.selection)),bn.apply,bn,[qt,this.that,this.args])}},Ge.extent=function(qt){return arguments.length?(ae="function"==typeof qt?qt:E(it(qt)),Ge):ae},Ge.filter=function(qt){return arguments.length?(Ue="function"==typeof qt?qt:E(!!qt),Ge):Ue},Ge.touchable=function(qt){return arguments.length?($e="function"==typeof qt?qt:E(!!qt),Ge):$e},Ge.handleSize=function(qt){return arguments.length?(Sn=+qt,Ge):Sn},Ge.keyModifiers=function(qt){return arguments.length?(on=!!qt,Ge):on},Ge.on=function(){var qt=bn.on.apply(bn,arguments);return qt===bn?Ge:qt},Ge}(wt)}},54537:(Tt,ut,a)=>{"use strict";a.d(ut,{Tj:()=>J});var g="$";function P(){}function m(E,R){var Z=new P;if(E instanceof P)E.each(function(j,_t){Z.set(_t,j)});else if(Array.isArray(E)){var $,W=-1,nt=E.length;if(null==R)for(;++W<nt;)Z.set(W,E[W]);else for(;++W<nt;)Z.set(R($=E[W],W,E),$)}else if(E)for(var ht in E)Z.set(ht,E[ht]);return Z}P.prototype=m.prototype={constructor:P,has:function(E){return g+E in this},get:function(E){return this[g+E]},set:function(E,R){return this[g+E]=R,this},remove:function(E){var R=g+E;return R in this&&delete this[R]},clear:function(){for(var E in this)E[0]===g&&delete this[E]},keys:function(){var E=[];for(var R in this)R[0]===g&&E.push(R.slice(1));return E},values:function(){var E=[];for(var R in this)R[0]===g&&E.push(this[R]);return E},entries:function(){var E=[];for(var R in this)R[0]===g&&E.push({key:R.slice(1),value:this[R]});return E},size:function(){var E=0;for(var R in this)R[0]===g&&++E;return E},empty:function(){for(var E in this)if(E[0]===g)return!1;return!0},each:function(E){for(var R in this)R[0]===g&&E(this[R],R.slice(1),this)}};const J=m;function O(){}var G=J.prototype;O.prototype=function U(E,R){var Z=new O;if(E instanceof O)E.each(function($){Z.add($)});else if(E){var W=-1,nt=E.length;if(null==R)for(;++W<nt;)Z.add(E[W]);else for(;++W<nt;)Z.add(R(E[W],W,E))}return Z}.prototype={constructor:O,has:G.has,add:function(E){return this[g+(E+="")]=E,this},remove:G.remove,clear:G.clear,values:G.keys,size:G.size,empty:G.empty,each:G.each}},4171:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>et});var g={value:function(){}};function P(){for(var G,_=0,S=arguments.length,O={};_<S;++_){if(!(G=arguments[_]+"")||G in O||/[\s.]/.test(G))throw new Error("illegal type: "+G);O[G]=[]}return new m(O)}function m(_){this._=_}function I(_,S){for(var U,O=0,G=_.length;O<G;++O)if((U=_[O]).name===S)return U.value}function F(_,S,O){for(var G=0,U=_.length;G<U;++G)if(_[G].name===S){_[G]=g,_=_.slice(0,G).concat(_.slice(G+1));break}return null!=O&&_.push({name:S,value:O}),_}m.prototype=P.prototype={constructor:m,on:function(_,S){var U,O=this._,G=function J(_,S){return _.trim().split(/^|\s+/).map(function(O){var G="",U=O.indexOf(".");if(U>=0&&(G=O.slice(U+1),O=O.slice(0,U)),O&&!S.hasOwnProperty(O))throw new Error("unknown type: "+O);return{type:O,name:G}})}(_+"",O),C=-1,E=G.length;if(!(arguments.length<2)){if(null!=S&&"function"!=typeof S)throw new Error("invalid callback: "+S);for(;++C<E;)if(U=(_=G[C]).type)O[U]=F(O[U],_.name,S);else if(null==S)for(U in O)O[U]=F(O[U],_.name,null);return this}for(;++C<E;)if((U=(_=G[C]).type)&&(U=I(O[U],_.name)))return U},copy:function(){var _={},S=this._;for(var O in S)_[O]=S[O].slice();return new m(_)},call:function(_,S){if((U=arguments.length-2)>0)for(var U,C,O=new Array(U),G=0;G<U;++G)O[G]=arguments[G+2];if(!this._.hasOwnProperty(_))throw new Error("unknown type: "+_);for(G=0,U=(C=this._[_]).length;G<U;++G)C[G].value.apply(S,O)},apply:function(_,S,O){if(!this._.hasOwnProperty(_))throw new Error("unknown type: "+_);for(var G=this._[_],U=0,C=G.length;U<C;++U)G[U].value.apply(S,O)}};const et=P},79770:(Tt,ut,a)=>{"use strict";function g(P){return function(){return P}}a.d(ut,{A:()=>g})},71411:(Tt,ut,a)=>{"use strict";function g(P,m){return P=+P,m=+m,function(J){return P*(1-J)+m*J}}a.d(ut,{A:()=>g})},90433:(Tt,ut,a)=>{"use strict";a.d(ut,{Ay:()=>G});var g=a(13793);function P(R,Z,W,nt,$){var ht=R*R,j=ht*R;return((1-3*R+3*ht-j)*Z+(4-6*ht+3*j)*W+(1+3*R+3*ht-3*j)*nt+j*$)/6}var I=a(79770);function O(R,Z){var W=Z-R;return W?function F(R,Z){return function(W){return R+W*Z}}(R,W):(0,I.A)(isNaN(R)?Z:R)}const G=function R(Z){var W=function S(R){return 1==(R=+R)?O:function(Z,W){return W-Z?function et(R,Z,W){return R=Math.pow(R,W),Z=Math.pow(Z,W)-R,W=1/W,function(nt){return Math.pow(R+nt*Z,W)}}(Z,W,R):(0,I.A)(isNaN(Z)?W:Z)}}(Z);function nt($,ht){var j=W(($=(0,g.Qh)($)).r,(ht=(0,g.Qh)(ht)).r),_t=W($.g,ht.g),it=W($.b,ht.b),ft=O($.opacity,ht.opacity);return function(wt){return $.r=j(wt),$.g=_t(wt),$.b=it(wt),$.opacity=ft(wt),$+""}}return nt.gamma=R,nt}(1);function U(R){return function(Z){var j,_t,W=Z.length,nt=new Array(W),$=new Array(W),ht=new Array(W);for(j=0;j<W;++j)_t=(0,g.Qh)(Z[j]),nt[j]=_t.r||0,$[j]=_t.g||0,ht[j]=_t.b||0;return nt=R(nt),$=R($),ht=R(ht),_t.opacity=1,function(it){return _t.r=nt(it),_t.g=$(it),_t.b=ht(it),_t+""}}}U(function m(R){var Z=R.length-1;return function(W){var nt=W<=0?W=0:W>=1?(W=1,Z-1):Math.floor(W*Z),$=R[nt],ht=R[nt+1];return P((W-nt/Z)*Z,nt>0?R[nt-1]:2*$-ht,$,ht,nt<Z-1?R[nt+2]:2*ht-$)}}),U(function J(R){var Z=R.length;return function(W){var nt=Math.floor(((W%=1)<0?++W:W)*Z);return P((W-nt/Z)*Z,R[(nt+Z-1)%Z],R[nt%Z],R[(nt+1)%Z],R[(nt+2)%Z])}})},73067:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>F});var g=a(71411),P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m=new RegExp(P.source,"g");function F(et,_){var O,G,U,S=P.lastIndex=m.lastIndex=0,C=-1,E=[],R=[];for(et+="",_+="";(O=P.exec(et))&&(G=m.exec(_));)(U=G.index)>S&&(U=_.slice(S,U),E[C]?E[C]+=U:E[++C]=U),(O=O[0])===(G=G[0])?E[C]?E[C]+=G:E[++C]=G:(E[++C]=null,R.push({i:C,x:(0,g.A)(O,G)})),S=m.lastIndex;return S<_.length&&(U=_.slice(S),E[C]?E[C]+=U:E[++C]=U),E.length<2?R[0]?function I(et){return function(_){return et(_)+""}}(R[0].x):function J(et){return function(){return et}}(_):(_=R.length,function(Z){for(var nt,W=0;W<_;++W)E[(nt=R[W]).i]=nt.x(Z);return E.join("")})}},70963:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>U});var g=a(13793),P=a(90433);function J(C,E){var $,R=E?E.length:0,Z=C?Math.min(R,C.length):0,W=new Array(Z),nt=new Array(R);for($=0;$<Z;++$)W[$]=U(C[$],E[$]);for(;$<R;++$)nt[$]=E[$];return function(ht){for($=0;$<Z;++$)nt[$]=W[$](ht);return nt}}function I(C,E){var R=new Date;return C=+C,E=+E,function(Z){return R.setTime(C*(1-Z)+E*Z),R}}var F=a(71411);function et(C,E){var W,R={},Z={};for(W in(null===C||"object"!=typeof C)&&(C={}),(null===E||"object"!=typeof E)&&(E={}),E)W in C?R[W]=U(C[W],E[W]):Z[W]=E[W];return function(nt){for(W in R)Z[W]=R[W](nt);return Z}}var _=a(73067),S=a(79770);function O(C,E){E||(E=[]);var W,R=C?Math.min(E.length,C.length):0,Z=E.slice();return function(nt){for(W=0;W<R;++W)Z[W]=C[W]*(1-nt)+E[W]*nt;return Z}}function U(C,E){var Z,R=typeof E;return null==E||"boolean"===R?(0,S.A)(E):("number"===R?F.A:"string"===R?(Z=(0,g.Ay)(E))?(E=Z,P.Ay):_.A:E instanceof g.Ay?P.Ay:E instanceof Date?I:function G(C){return ArrayBuffer.isView(C)&&!(C instanceof DataView)}(E)?O:Array.isArray(E)?J:"function"!=typeof E.valueOf&&"function"!=typeof E.toString||isNaN(E)?et:F.A)(C,E)}},5285:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>et});var g=Math.PI,P=2*g,m=1e-6,J=P-m;function I(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function F(){return new I}I.prototype=F.prototype={constructor:I,moveTo:function(_,S){this._+="M"+(this._x0=this._x1=+_)+","+(this._y0=this._y1=+S)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(_,S){this._+="L"+(this._x1=+_)+","+(this._y1=+S)},quadraticCurveTo:function(_,S,O,G){this._+="Q"+ +_+","+ +S+","+(this._x1=+O)+","+(this._y1=+G)},bezierCurveTo:function(_,S,O,G,U,C){this._+="C"+ +_+","+ +S+","+ +O+","+ +G+","+(this._x1=+U)+","+(this._y1=+C)},arcTo:function(_,S,O,G,U){var C=this._x1,E=this._y1,R=(O=+O)-(_=+_),Z=(G=+G)-(S=+S),W=C-_,nt=E-S,$=W*W+nt*nt;if((U=+U)<0)throw new Error("negative radius: "+U);if(null===this._x1)this._+="M"+(this._x1=_)+","+(this._y1=S);else if($>m)if(Math.abs(nt*R-Z*W)>m&&U){var ht=O-C,j=G-E,_t=R*R+Z*Z,it=ht*ht+j*j,ft=Math.sqrt(_t),wt=Math.sqrt($),ct=U*Math.tan((g-Math.acos((_t+$-it)/(2*ft*wt)))/2),at=ct/wt,rt=ct/ft;Math.abs(at-1)>m&&(this._+="L"+(_+at*W)+","+(S+at*nt)),this._+="A"+U+","+U+",0,0,"+ +(nt*ht>W*j)+","+(this._x1=_+rt*R)+","+(this._y1=S+rt*Z)}else this._+="L"+(this._x1=_)+","+(this._y1=S)},arc:function(_,S,O,G,U,C){_=+_,S=+S,C=!!C;var E=(O=+O)*Math.cos(G),R=O*Math.sin(G),Z=_+E,W=S+R,nt=1^C,$=C?G-U:U-G;if(O<0)throw new Error("negative radius: "+O);null===this._x1?this._+="M"+Z+","+W:(Math.abs(this._x1-Z)>m||Math.abs(this._y1-W)>m)&&(this._+="L"+Z+","+W),O&&($<0&&($=$%P+P),$>J?this._+="A"+O+","+O+",0,1,"+nt+","+(_-E)+","+(S-R)+"A"+O+","+O+",0,1,"+nt+","+(this._x1=Z)+","+(this._y1=W):$>m&&(this._+="A"+O+","+O+",0,"+ +($>=g)+","+nt+","+(this._x1=_+O*Math.cos(U))+","+(this._y1=S+O*Math.sin(U))))},rect:function(_,S,O,G){this._+="M"+(this._x0=this._x1=+_)+","+(this._y0=this._y1=+S)+"h"+ +O+"v"+ +G+"h"+-O+"Z"},toString:function(){return this._}};const et=F},16354:(Tt,ut,a)=>{"use strict";a.d(ut,{WH:()=>O,m4:()=>Rn,hq:()=>U,w7:()=>Mr});var g=a(46043);function P(i,u){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(u).domain(i)}return this}var J=a(54537),I=Array.prototype,F=I.map,et=I.slice,_={name:"implicit"};function S(){var i=(0,J.Tj)(),u=[],D=[],M=_;function yt(Et){var bt=Et+"",Ot=i.get(bt);if(!Ot){if(M!==_)return M;i.set(bt,Ot=u.push(Et))}return D[(Ot-1)%D.length]}return yt.domain=function(Et){if(!arguments.length)return u.slice();u=[],i=(0,J.Tj)();for(var Rt,Jt,bt=-1,Ot=Et.length;++bt<Ot;)i.has(Jt=(Rt=Et[bt])+"")||i.set(Jt,u.push(Rt));return yt},yt.range=function(Et){return arguments.length?(D=et.call(Et),yt):D.slice()},yt.unknown=function(Et){return arguments.length?(M=Et,yt):M},yt.copy=function(){return S(u,D).unknown(M)},P.apply(yt,arguments),yt}function O(){var yt,Et,i=S().unknown(void 0),u=i.domain,D=i.range,M=[0,1],bt=!1,Ot=0,Rt=0,Jt=.5;function re(){var Vt=u().length,ne=M[1]<M[0],ue=M[ne-0],_n=M[1-ne];yt=(_n-ue)/Math.max(1,Vt-Ot+2*Rt),bt&&(yt=Math.floor(yt)),ue+=(_n-ue-yt*(Vt-Ot))*Jt,Et=yt*(1-Ot),bt&&(ue=Math.round(ue),Et=Math.round(Et));var vn=(0,g.y1)(Vt).map(function(wn){return ue+yt*wn});return D(ne?vn.reverse():vn)}return delete i.unknown,i.domain=function(Vt){return arguments.length?(u(Vt),re()):u()},i.range=function(Vt){return arguments.length?(M=[+Vt[0],+Vt[1]],re()):M.slice()},i.rangeRound=function(Vt){return M=[+Vt[0],+Vt[1]],bt=!0,re()},i.bandwidth=function(){return Et},i.step=function(){return yt},i.round=function(Vt){return arguments.length?(bt=!!Vt,re()):bt},i.padding=function(Vt){return arguments.length?(Ot=Math.min(1,Rt=+Vt),re()):Ot},i.paddingInner=function(Vt){return arguments.length?(Ot=Math.min(1,Vt),re()):Ot},i.paddingOuter=function(Vt){return arguments.length?(Rt=+Vt,re()):Rt},i.align=function(Vt){return arguments.length?(Jt=Math.max(0,Math.min(1,Vt)),re()):Jt},i.copy=function(){return O(u(),M).round(bt).paddingInner(Ot).paddingOuter(Rt).align(Jt)},P.apply(re(),arguments)}function G(i){var u=i.copy;return i.padding=i.paddingOuter,delete i.paddingInner,delete i.paddingOuter,i.copy=function(){return G(u())},i}function U(){return G(O.apply(null,arguments).paddingInner(1))}var C=a(70963),E=a(71411);function R(i,u){return i=+i,u=+u,function(D){return Math.round(i*(1-D)+u*D)}}function W(i){return+i}var nt=[0,1];function $(i){return i}function ht(i,u){return(u-=i=+i)?function(D){return(D-i)/u}:function Z(i){return function(){return i}}(isNaN(u)?NaN:.5)}function j(i){var M,u=i[0],D=i[i.length-1];return u>D&&(M=u,u=D,D=M),function(yt){return Math.max(u,Math.min(D,yt))}}function _t(i,u,D){var M=i[0],yt=i[1],Et=u[0],bt=u[1];return yt<M?(M=ht(yt,M),Et=D(bt,Et)):(M=ht(M,yt),Et=D(Et,bt)),function(Ot){return Et(M(Ot))}}function it(i,u,D){var M=Math.min(i.length,u.length)-1,yt=new Array(M),Et=new Array(M),bt=-1;for(i[M]<i[0]&&(i=i.slice().reverse(),u=u.slice().reverse());++bt<M;)yt[bt]=ht(i[bt],i[bt+1]),Et[bt]=D(u[bt],u[bt+1]);return function(Ot){var Rt=(0,g.h1)(i,Ot,1,M)-1;return Et[Rt](yt[Rt](Ot))}}function ft(i,u){return u.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function ct(i,u){return function wt(){var M,yt,Et,Ot,Rt,Jt,i=nt,u=nt,D=C.A,bt=$;function re(){return Ot=Math.min(i.length,u.length)>2?it:_t,Rt=Jt=null,Vt}function Vt(ne){return isNaN(ne=+ne)?Et:(Rt||(Rt=Ot(i.map(M),u,D)))(M(bt(ne)))}return Vt.invert=function(ne){return bt(yt((Jt||(Jt=Ot(u,i.map(M),E.A)))(ne)))},Vt.domain=function(ne){return arguments.length?(i=F.call(ne,W),bt===$||(bt=j(i)),re()):i.slice()},Vt.range=function(ne){return arguments.length?(u=et.call(ne),re()):u.slice()},Vt.rangeRound=function(ne){return u=et.call(ne),D=R,re()},Vt.clamp=function(ne){return arguments.length?(bt=ne?j(i):$,Vt):bt!==$},Vt.interpolate=function(ne){return arguments.length?(D=ne,re()):D},Vt.unknown=function(ne){return arguments.length?(Et=ne,Vt):Et},function(ne,ue){return M=ne,yt=ue,re()}}()(i,u)}var ke,at=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rt(i){if(!(u=at.exec(i)))throw new Error("invalid format: "+i);var u;return new kt({fill:u[1],align:u[2],sign:u[3],symbol:u[4],zero:u[5],width:u[6],comma:u[7],precision:u[8]&&u[8].slice(1),trim:u[9],type:u[10]})}function kt(i){this.fill=void 0===i.fill?" ":i.fill+"",this.align=void 0===i.align?">":i.align+"",this.sign=void 0===i.sign?"-":i.sign+"",this.symbol=void 0===i.symbol?"":i.symbol+"",this.zero=!!i.zero,this.width=void 0===i.width?void 0:+i.width,this.comma=!!i.comma,this.precision=void 0===i.precision?void 0:+i.precision,this.trim=!!i.trim,this.type=void 0===i.type?"":i.type+""}function ee(i,u){if((D=(i=u?i.toExponential(u-1):i.toExponential()).indexOf("e"))<0)return null;var D,M=i.slice(0,D);return[M.length>1?M[0]+M.slice(2):M,+i.slice(D+1)]}function Te(i){return(i=ee(Math.abs(i)))?i[1]:NaN}function xn(i,u){var D=ee(i,u);if(!D)return i+"";var M=D[0],yt=D[1];return yt<0?"0."+new Array(-yt).join("0")+M:M.length>yt+1?M.slice(0,yt+1)+"."+M.slice(yt+1):M+new Array(yt-M.length+2).join("0")}rt.prototype=kt.prototype,kt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const K={"%":function(i,u){return(100*i).toFixed(u)},b:function(i){return Math.round(i).toString(2)},c:function(i){return i+""},d:function Ut(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)},e:function(i,u){return i.toExponential(u)},f:function(i,u){return i.toFixed(u)},g:function(i,u){return i.toPrecision(u)},o:function(i){return Math.round(i).toString(8)},p:function(i,u){return xn(100*i,u)},r:xn,s:function Ke(i,u){var D=ee(i,u);if(!D)return i+"";var M=D[0],yt=D[1],Et=yt-(ke=3*Math.max(-8,Math.min(8,Math.floor(yt/3))))+1,bt=M.length;return Et===bt?M:Et>bt?M+new Array(Et-bt+1).join("0"):Et>0?M.slice(0,Et)+"."+M.slice(Et):"0."+new Array(1-Et).join("0")+ee(i,Math.max(0,u+Et-1))[0]},X:function(i){return Math.round(i).toString(16).toUpperCase()},x:function(i){return Math.round(i).toString(16)}};function At(i){return i}var ae,Ue,$e,te=Array.prototype.map,fe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Rn(){var i=ct($,$);return i.copy=function(){return ft(i,Rn())},P.apply(i,arguments),function Ge(i){var u=i.domain;return i.ticks=function(D){var M=u();return(0,g.Zc)(M[0],M[M.length-1],D??10)},i.tickFormat=function(D,M){var yt=u();return function Fn(i,u,D,M){var Et,yt=(0,g.sG)(i,u,D);switch((M=rt(M??",f")).type){case"s":var bt=Math.max(Math.abs(i),Math.abs(u));return null==M.precision&&!isNaN(Et=function Ee(i,u){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Te(u)/3)))-Te(Math.abs(i)))}(yt,bt))&&(M.precision=Et),$e(M,bt);case"":case"e":case"g":case"p":case"r":null==M.precision&&!isNaN(Et=function bn(i,u){return i=Math.abs(i),u=Math.abs(u)-i,Math.max(0,Te(u)-Te(i))+1}(yt,Math.max(Math.abs(i),Math.abs(u))))&&(M.precision=Et-("e"===M.type));break;case"f":case"%":null==M.precision&&!isNaN(Et=function Sn(i){return Math.max(0,-Te(Math.abs(i)))}(yt))&&(M.precision=Et-2*("%"===M.type))}return Ue(M)}(yt[0],yt[yt.length-1],D??10,M)},i.nice=function(D){null==D&&(D=10);var Rt,M=u(),yt=0,Et=M.length-1,bt=M[yt],Ot=M[Et];return Ot<bt&&(Rt=bt,bt=Ot,Ot=Rt,Rt=yt,yt=Et,Et=Rt),(Rt=(0,g.lq)(bt,Ot,D))>0?(bt=Math.floor(bt/Rt)*Rt,Ot=Math.ceil(Ot/Rt)*Rt,Rt=(0,g.lq)(bt,Ot,D)):Rt<0&&(bt=Math.ceil(bt*Rt)/Rt,Ot=Math.floor(Ot*Rt)/Rt,Rt=(0,g.lq)(bt,Ot,D)),Rt>0?(M[yt]=Math.floor(bt/Rt)*Rt,M[Et]=Math.ceil(Ot/Rt)*Rt,u(M)):Rt<0&&(M[yt]=Math.ceil(bt*Rt)/Rt,M[Et]=Math.floor(Ot*Rt)/Rt,u(M)),i},i}(i)}!function on(i){ae=function It(i){var u=void 0===i.grouping||void 0===i.thousands?At:function ie(i,u){return function(D,M){for(var yt=D.length,Et=[],bt=0,Ot=i[0],Rt=0;yt>0&&Ot>0&&(Rt+Ot+1>M&&(Ot=Math.max(1,M-Rt)),Et.push(D.substring(yt-=Ot,yt+Ot)),!((Rt+=Ot+1)>M));)Ot=i[bt=(bt+1)%i.length];return Et.reverse().join(u)}}(te.call(i.grouping,Number),i.thousands+""),D=void 0===i.currency?"":i.currency[0]+"",M=void 0===i.currency?"":i.currency[1]+"",yt=void 0===i.decimal?".":i.decimal+"",Et=void 0===i.numerals?At:function Re(i){return function(u){return u.replace(/[0-9]/g,function(D){return i[+D]})}}(te.call(i.numerals,String)),bt=void 0===i.percent?"%":i.percent+"",Ot=void 0===i.minus?"-":i.minus+"",Rt=void 0===i.nan?"NaN":i.nan+"";function Jt(Vt){var ne=(Vt=rt(Vt)).fill,ue=Vt.align,_n=Vt.sign,vn=Vt.symbol,wn=Vt.zero,di=Vt.width,ci=Vt.comma,kn=Vt.precision,Gn=Vt.trim,Qn=Vt.type;"n"===Qn?(ci=!0,Qn="g"):K[Qn]||(void 0===kn&&(kn=12),Gn=!0,Qn="g"),(wn||"0"===ne&&"="===ue)&&(wn=!0,ne="0",ue="=");var ei="$"===vn?D:"#"===vn&&/[boxX]/.test(Qn)?"0"+Qn.toLowerCase():"",Pe="$"===vn?M:/[%p]/.test(Qn)?bt:"",On=K[Qn],Zn=/[defgprs%]/.test(Qn);function Un(Ae){var Li,sr,zi,Dn=ei,An=Pe;if("c"===Qn)An=On(Ae)+An,Ae="";else{var ji=(Ae=+Ae)<0||1/Ae<0;if(Ae=isNaN(Ae)?Rt:On(Math.abs(Ae),kn),Gn&&(Ae=function Xe(i){t:for(var yt,u=i.length,D=1,M=-1;D<u;++D)switch(i[D]){case".":M=yt=D;break;case"0":0===M&&(M=D),yt=D;break;default:if(!+i[D])break t;M>0&&(M=0)}return M>0?i.slice(0,M)+i.slice(yt+1):i}(Ae)),ji&&0==+Ae&&"+"!==_n&&(ji=!1),Dn=(ji?"("===_n?_n:Ot:"-"===_n||"("===_n?"":_n)+Dn,An=("s"===Qn?fe[8+ke/3]:"")+An+(ji&&"("===_n?")":""),Zn)for(Li=-1,sr=Ae.length;++Li<sr;)if(48>(zi=Ae.charCodeAt(Li))||zi>57){An=(46===zi?yt+Ae.slice(Li+1):Ae.slice(Li))+An,Ae=Ae.slice(0,Li);break}}ci&&!wn&&(Ae=u(Ae,1/0));var Ki=Dn.length+Ae.length+An.length,Ci=Ki<di?new Array(di-Ki+1).join(ne):"";switch(ci&&wn&&(Ae=u(Ci+Ae,Ci.length?di-An.length:1/0),Ci=""),ue){case"<":Ae=Dn+Ae+An+Ci;break;case"=":Ae=Dn+Ci+Ae+An;break;case"^":Ae=Ci.slice(0,Ki=Ci.length>>1)+Dn+Ae+An+Ci.slice(Ki);break;default:Ae=Ci+Dn+Ae+An}return Et(Ae)}return kn=void 0===kn?6:/[gprs]/.test(Qn)?Math.max(1,Math.min(21,kn)):Math.max(0,Math.min(20,kn)),Un.toString=function(){return Vt+""},Un}return{format:Jt,formatPrefix:function re(Vt,ne){var ue=Jt(((Vt=rt(Vt)).type="f",Vt)),_n=3*Math.max(-8,Math.min(8,Math.floor(Te(ne)/3))),vn=Math.pow(10,-_n),wn=fe[8+_n/3];return function(di){return ue(vn*di)+wn}}}}(i),Ue=ae.format,$e=ae.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Je=a(97833),pn=a(53052),Be=a(9061),ge=a(17772);function un(i){return(0,Be.A)(function(u){u.setDate(u.getDate()-(u.getDay()+7-i)%7),u.setHours(0,0,0,0)},function(u,D){u.setDate(u.getDate()+7*D)},function(u,D){return(D-u-(D.getTimezoneOffset()-u.getTimezoneOffset())*ge.rR)/ge.Fq})}var sn=un(0),z=un(1),lt=(un(2),un(3),un(4)),we=(un(5),un(6),a(6476));const $n=(0,Be.A)(function(i){i.setTime(i-i.getMilliseconds()-i.getSeconds()*ge.Tt-i.getMinutes()*ge.rR)},function(i,u){i.setTime(+i+u*ge.JJ)},function(i,u){return(u-i)/ge.JJ},function(i){return i.getHours()});var Gi=a(42472);const ni=(0,Be.A)(function(i){i.setTime(i-i.getMilliseconds())},function(i,u){i.setTime(+i+u*ge.Tt)},function(i,u){return(u-i)/ge.Tt},function(i){return i.getUTCSeconds()});var hi=(0,Be.A)(function(){},function(i,u){i.setTime(+i+u)},function(i,u){return u-i});hi.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?(0,Be.A)(function(u){u.setTime(Math.floor(u/i)*i)},function(u,D){u.setTime(+u+D*i)},function(u,D){return(D-u)/i}):hi:null};const Si=hi;function b(i){return(0,Be.A)(function(u){u.setUTCDate(u.getUTCDate()-(u.getUTCDay()+7-i)%7),u.setUTCHours(0,0,0,0)},function(u,D){u.setUTCDate(u.getUTCDate()+7*D)},function(u,D){return(D-u)/ge.Fq})}var k=b(0),Y=b(1),Nt=(b(2),b(3),b(4));const mi=(b(5),b(6),(0,Be.A)(function(i){i.setUTCHours(0,0,0,0)},function(i,u){i.setUTCDate(i.getUTCDate()+u)},function(i,u){return(u-i)/ge.Nm},function(i){return i.getUTCDate()-1}));var Xi=(0,Be.A)(function(i){i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,u){i.setUTCFullYear(i.getUTCFullYear()+u)},function(i,u){return u.getUTCFullYear()-i.getUTCFullYear()},function(i){return i.getUTCFullYear()});Xi.every=function(i){return isFinite(i=Math.floor(i))&&i>0?(0,Be.A)(function(u){u.setUTCFullYear(Math.floor(u.getUTCFullYear()/i)*i),u.setUTCMonth(0,1),u.setUTCHours(0,0,0,0)},function(u,D){u.setUTCFullYear(u.getUTCFullYear()+D*i)}):null};const vi=Xi;function Ni(i){if(0<=i.y&&i.y<100){var u=new Date(-1,i.m,i.d,i.H,i.M,i.S,i.L);return u.setFullYear(i.y),u}return new Date(i.y,i.m,i.d,i.H,i.M,i.S,i.L)}function ti(i){if(0<=i.y&&i.y<100){var u=new Date(Date.UTC(-1,i.m,i.d,i.H,i.M,i.S,i.L));return u.setUTCFullYear(i.y),u}return new Date(Date.UTC(i.y,i.m,i.d,i.H,i.M,i.S,i.L))}function fi(i,u,D){return{y:i,m:u,d:D,H:0,M:0,S:0,L:0}}var Kn,Ei,ri={"-":"",_:" ",0:"0"},qe=/^\s*\d+/,Qi=/^%/,lr=/[\\^$*+?|[\]().{}]/g;function Ve(i,u,D){var M=i<0?"-":"",yt=(M?-i:i)+"",Et=yt.length;return M+(Et<D?new Array(D-Et+1).join(u)+yt:yt)}function Mn(i){return i.replace(lr,"\\$&")}function yi(i){return new RegExp("^(?:"+i.map(Mn).join("|")+")","i")}function Wn(i){for(var u={},D=-1,M=i.length;++D<M;)u[i[D].toLowerCase()]=D;return u}function Pn(i,u,D){var M=qe.exec(u.slice(D,D+1));return M?(i.w=+M[0],D+M[0].length):-1}function ur(i,u,D){var M=qe.exec(u.slice(D,D+1));return M?(i.u=+M[0],D+M[0].length):-1}function mn(i,u,D){var M=qe.exec(u.slice(D,D+2));return M?(i.U=+M[0],D+M[0].length):-1}function hr(i,u,D){var M=qe.exec(u.slice(D,D+2));return M?(i.V=+M[0],D+M[0].length):-1}function Pi(i,u,D){var M=qe.exec(u.slice(D,D+2));return M?(i.W=+M[0],D+M[0].length):-1}function Yn(i,u,D){var M=qe.exec(u.slice(D,D+4));return M?(i.y=+M[0],D+M[0].length):-1}function xi(i,u,D){var M=qe.exec(u.slice(D,D+2));return M?(i.y=+M[0]+(+M[0]>68?1900:2e3),D+M[0].length):-1}function Ln(i,u,D){var M=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(u.slice(D,D+6));return M?(i.Z=M[1]?0:-(M[2]+(M[3]||"00")),D+M[0].length):-1}function dr(i,u,D){var M=qe.exec(u.slice(D,D+1));return M?(i.q=3*M[0]-3,D+M[0].length):-1}function fr(i,u,D){var M=qe.exec(u.slice(D,D+2));return M?(i.m=M[0]-1,D+M[0].length):-1}function Hi(i,u,D){var M=qe.exec(u.slice(D,D+2));return M?(i.d=+M[0],D+M[0].length):-1}function gr(i,u,D){var M=qe.exec(u.slice(D,D+3));return M?(i.m=0,i.d=+M[0],D+M[0].length):-1}function bi(i,u,D){var M=qe.exec(u.slice(D,D+2));return M?(i.H=+M[0],D+M[0].length):-1}function Mi(i,u,D){var M=qe.exec(u.slice(D,D+2));return M?(i.M=+M[0],D+M[0].length):-1}function pr(i,u,D){var M=qe.exec(u.slice(D,D+2));return M?(i.S=+M[0],D+M[0].length):-1}function Vi(i,u,D){var M=qe.exec(u.slice(D,D+3));return M?(i.L=+M[0],D+M[0].length):-1}function Zi(i,u,D){var M=qe.exec(u.slice(D,D+6));return M?(i.L=Math.floor(M[0]/1e3),D+M[0].length):-1}function Ji(i,u,D){var M=Qi.exec(u.slice(D,D+1));return M?D+M[0].length:-1}function mr(i,u,D){var M=qe.exec(u.slice(D));return M?(i.Q=+M[0],D+M[0].length):-1}function vr(i,u,D){var M=qe.exec(u.slice(D));return M?(i.s=+M[0],D+M[0].length):-1}function Ai(i,u){return Ve(i.getDate(),u,2)}function qi(i,u){return Ve(i.getHours(),u,2)}function o(i,u){return Ve(i.getHours()%12||12,u,2)}function h(i,u){return Ve(1+we.A.count((0,Je.A)(i),i),u,3)}function d(i,u){return Ve(i.getMilliseconds(),u,3)}function A(i,u){return d(i,u)+"000"}function v(i,u){return Ve(i.getMonth()+1,u,2)}function w(i,u){return Ve(i.getMinutes(),u,2)}function N(i,u){return Ve(i.getSeconds(),u,2)}function H(i){var u=i.getDay();return 0===u?7:u}function V(i,u){return Ve(sn.count((0,Je.A)(i)-1,i),u,2)}function X(i){var u=i.getDay();return u>=4||0===u?lt(i):lt.ceil(i)}function gt(i,u){return i=X(i),Ve(lt.count((0,Je.A)(i),i)+(4===(0,Je.A)(i).getDay()),u,2)}function ot(i){return i.getDay()}function Q(i,u){return Ve(z.count((0,Je.A)(i)-1,i),u,2)}function xt(i,u){return Ve(i.getFullYear()%100,u,2)}function st(i,u){return Ve((i=X(i)).getFullYear()%100,u,2)}function B(i,u){return Ve(i.getFullYear()%1e4,u,4)}function mt(i,u){var D=i.getDay();return Ve((i=D>=4||0===D?lt(i):lt.ceil(i)).getFullYear()%1e4,u,4)}function q(i){var u=i.getTimezoneOffset();return(u>0?"-":(u*=-1,"+"))+Ve(u/60|0,"0",2)+Ve(u%60,"0",2)}function Pt(i,u){return Ve(i.getUTCDate(),u,2)}function Dt(i,u){return Ve(i.getUTCHours(),u,2)}function Zt(i,u){return Ve(i.getUTCHours()%12||12,u,2)}function De(i,u){return Ve(1+mi.count(vi(i),i),u,3)}function Le(i,u){return Ve(i.getUTCMilliseconds(),u,3)}function Oe(i,u){return Le(i,u)+"000"}function Ne(i,u){return Ve(i.getUTCMonth()+1,u,2)}function be(i,u){return Ve(i.getUTCMinutes(),u,2)}function ce(i,u){return Ve(i.getUTCSeconds(),u,2)}function Me(i){var u=i.getUTCDay();return 0===u?7:u}function tt(i,u){return Ve(k.count(vi(i)-1,i),u,2)}function $t(i){var u=i.getUTCDay();return u>=4||0===u?Nt(i):Nt.ceil(i)}function de(i,u){return i=$t(i),Ve(Nt.count(vi(i),i)+(4===vi(i).getUTCDay()),u,2)}function pe(i){return i.getUTCDay()}function Ie(i,u){return Ve(Y.count(vi(i)-1,i),u,2)}function rn(i,u){return Ve(i.getUTCFullYear()%100,u,2)}function an(i,u){return Ve((i=$t(i)).getUTCFullYear()%100,u,2)}function jn(i,u){return Ve(i.getUTCFullYear()%1e4,u,4)}function oi(i,u){var D=i.getUTCDay();return Ve((i=D>=4||0===D?Nt(i):Nt.ceil(i)).getUTCFullYear()%1e4,u,4)}function _i(){return"+0000"}function gi(){return"%"}function zn(i){return+i}function Bn(i){return Math.floor(+i/1e3)}!function Rr(i){Kn=function Ti(i){var u=i.dateTime,D=i.date,M=i.time,yt=i.periods,Et=i.days,bt=i.shortDays,Ot=i.months,Rt=i.shortMonths,Jt=yi(yt),re=Wn(yt),Vt=yi(Et),ne=Wn(Et),ue=yi(bt),_n=Wn(bt),vn=yi(Ot),wn=Wn(Ot),di=yi(Rt),ci=Wn(Rt),kn={a:function ji(Yt){return bt[Yt.getDay()]},A:function Ki(Yt){return Et[Yt.getDay()]},b:function Ci(Yt){return Rt[Yt.getMonth()]},B:function kr(Yt){return Ot[Yt.getMonth()]},c:null,d:Ai,e:Ai,f:A,g:st,G:mt,H:qi,I:o,j:h,L:d,m:v,M:w,p:function Yr(Yt){return yt[+(Yt.getHours()>=12)]},q:function jr(Yt){return 1+~~(Yt.getMonth()/3)},Q:zn,s:Bn,S:N,u:H,U:V,V:gt,w:ot,W:Q,x:null,X:null,y:xt,Y:B,Z:q,"%":gi},Gn={a:function Kr(Yt){return bt[Yt.getUTCDay()]},A:function Ur(Yt){return Et[Yt.getUTCDay()]},b:function Fr(Yt){return Rt[Yt.getUTCMonth()]},B:function Xr(Yt){return Ot[Yt.getUTCMonth()]},c:null,d:Pt,e:Pt,f:Oe,g:an,G:oi,H:Dt,I:Zt,j:De,L:Le,m:Ne,M:be,p:function Wr(Yt){return yt[+(Yt.getUTCHours()>=12)]},q:function zr(Yt){return 1+~~(Yt.getUTCMonth()/3)},Q:zn,s:Bn,S:ce,u:Me,U:tt,V:de,w:pe,W:Ie,x:null,X:null,y:rn,Y:jn,Z:_i,"%":gi},Qn={a:function Un(Yt,We,Qe){var Bt=ue.exec(We.slice(Qe));return Bt?(Yt.w=_n[Bt[0].toLowerCase()],Qe+Bt[0].length):-1},A:function Ae(Yt,We,Qe){var Bt=Vt.exec(We.slice(Qe));return Bt?(Yt.w=ne[Bt[0].toLowerCase()],Qe+Bt[0].length):-1},b:function Dn(Yt,We,Qe){var Bt=di.exec(We.slice(Qe));return Bt?(Yt.m=ci[Bt[0].toLowerCase()],Qe+Bt[0].length):-1},B:function An(Yt,We,Qe){var Bt=vn.exec(We.slice(Qe));return Bt?(Yt.m=wn[Bt[0].toLowerCase()],Qe+Bt[0].length):-1},c:function Li(Yt,We,Qe){return On(Yt,u,We,Qe)},d:Hi,e:Hi,f:Zi,g:xi,G:Yn,H:bi,I:bi,j:gr,L:Vi,m:fr,M:Mi,p:function Zn(Yt,We,Qe){var Bt=Jt.exec(We.slice(Qe));return Bt?(Yt.p=re[Bt[0].toLowerCase()],Qe+Bt[0].length):-1},q:dr,Q:mr,s:vr,S:pr,u:ur,U:mn,V:hr,w:Pn,W:Pi,x:function sr(Yt,We,Qe){return On(Yt,D,We,Qe)},X:function zi(Yt,We,Qe){return On(Yt,M,We,Qe)},y:xi,Y:Yn,Z:Ln,"%":Ji};function ei(Yt,We){return function(Qe){var ui,ki,Pr,Bt=[],si=-1,yn=0,li=Yt.length;for(Qe instanceof Date||(Qe=new Date(+Qe));++si<li;)37===Yt.charCodeAt(si)&&(Bt.push(Yt.slice(yn,si)),null!=(ki=ri[ui=Yt.charAt(++si)])?ui=Yt.charAt(++si):ki="e"===ui?" ":"0",(Pr=We[ui])&&(ui=Pr(Qe,ki)),Bt.push(ui),yn=si+1);return Bt.push(Yt.slice(yn,si)),Bt.join("")}}function Pe(Yt,We){return function(Qe){var yn,li,Bt=fi(1900,void 0,1);if(On(Bt,Yt,Qe+="",0)!=Qe.length)return null;if("Q"in Bt)return new Date(Bt.Q);if("s"in Bt)return new Date(1e3*Bt.s+("L"in Bt?Bt.L:0));if(We&&!("Z"in Bt)&&(Bt.Z=0),"p"in Bt&&(Bt.H=Bt.H%12+12*Bt.p),void 0===Bt.m&&(Bt.m="q"in Bt?Bt.q:0),"V"in Bt){if(Bt.V<1||Bt.V>53)return null;"w"in Bt||(Bt.w=1),"Z"in Bt?(li=(yn=ti(fi(Bt.y,0,1))).getUTCDay(),yn=li>4||0===li?Y.ceil(yn):Y(yn),yn=mi.offset(yn,7*(Bt.V-1)),Bt.y=yn.getUTCFullYear(),Bt.m=yn.getUTCMonth(),Bt.d=yn.getUTCDate()+(Bt.w+6)%7):(li=(yn=Ni(fi(Bt.y,0,1))).getDay(),yn=li>4||0===li?z.ceil(yn):z(yn),yn=we.A.offset(yn,7*(Bt.V-1)),Bt.y=yn.getFullYear(),Bt.m=yn.getMonth(),Bt.d=yn.getDate()+(Bt.w+6)%7)}else("W"in Bt||"U"in Bt)&&("w"in Bt||(Bt.w="u"in Bt?Bt.u%7:"W"in Bt?1:0),li="Z"in Bt?ti(fi(Bt.y,0,1)).getUTCDay():Ni(fi(Bt.y,0,1)).getDay(),Bt.m=0,Bt.d="W"in Bt?(Bt.w+6)%7+7*Bt.W-(li+5)%7:Bt.w+7*Bt.U-(li+6)%7);return"Z"in Bt?(Bt.H+=Bt.Z/100|0,Bt.M+=Bt.Z%100,ti(Bt)):Ni(Bt)}}function On(Yt,We,Qe,Bt){for(var ui,ki,si=0,yn=We.length,li=Qe.length;si<yn;){if(Bt>=li)return-1;if(37===(ui=We.charCodeAt(si++))){if(ui=We.charAt(si++),!(ki=Qn[ui in ri?We.charAt(si++):ui])||(Bt=ki(Yt,Qe,Bt))<0)return-1}else if(ui!=Qe.charCodeAt(Bt++))return-1}return Bt}return kn.x=ei(D,kn),kn.X=ei(M,kn),kn.c=ei(u,kn),Gn.x=ei(D,Gn),Gn.X=ei(M,Gn),Gn.c=ei(u,Gn),{format:function(Yt){var We=ei(Yt+="",kn);return We.toString=function(){return Yt},We},parse:function(Yt){var We=Pe(Yt+="",!1);return We.toString=function(){return Yt},We},utcFormat:function(Yt){var We=ei(Yt+="",Gn);return We.toString=function(){return Yt},We},utcParse:function(Yt){var We=Pe(Yt+="",!0);return We.toString=function(){return Yt},We}}}(i),Ei=Kn.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Bi=1e3,Wi=60*Bi,Ii=60*Wi,wi=24*Ii,Lr=7*wi,yr=30*wi,er=365*wi;function br(i){return new Date(i)}function nr(i){return i instanceof Date?+i:+new Date(+i)}function ir(i,u,D,M,yt,Et,bt,Ot,Rt){var Jt=ct($,$),re=Jt.invert,Vt=Jt.domain,ne=Rt(".%L"),ue=Rt(":%S"),_n=Rt("%I:%M"),vn=Rt("%I %p"),wn=Rt("%a %d"),di=Rt("%b %d"),ci=Rt("%B"),kn=Rt("%Y"),Gn=[[bt,1,Bi],[bt,5,5*Bi],[bt,15,15*Bi],[bt,30,30*Bi],[Et,1,Wi],[Et,5,5*Wi],[Et,15,15*Wi],[Et,30,30*Wi],[yt,1,Ii],[yt,3,3*Ii],[yt,6,6*Ii],[yt,12,12*Ii],[M,1,wi],[M,2,2*wi],[D,1,Lr],[u,1,yr],[u,3,3*yr],[i,1,er]];function Qn(Pe){return(bt(Pe)<Pe?ne:Et(Pe)<Pe?ue:yt(Pe)<Pe?_n:M(Pe)<Pe?vn:u(Pe)<Pe?D(Pe)<Pe?wn:di:i(Pe)<Pe?ci:kn)(Pe)}function ei(Pe,On,Zn,Un){if(null==Pe&&(Pe=10),"number"==typeof Pe){var Ae=Math.abs(Zn-On)/Pe,Dn=(0,g.yl)(function(An){return An[2]}).right(Gn,Ae);Dn===Gn.length?(Un=(0,g.sG)(On/er,Zn/er,Pe),Pe=i):Dn?(Un=(Dn=Gn[Ae/Gn[Dn-1][2]<Gn[Dn][2]/Ae?Dn-1:Dn])[1],Pe=Dn[0]):(Un=Math.max((0,g.sG)(On,Zn,Pe),1),Pe=Ot)}return null==Un?Pe:Pe.every(Un)}return Jt.invert=function(Pe){return new Date(re(Pe))},Jt.domain=function(Pe){return arguments.length?Vt(F.call(Pe,nr)):Vt().map(br)},Jt.ticks=function(Pe,On){var An,Zn=Vt(),Un=Zn[0],Ae=Zn[Zn.length-1],Dn=Ae<Un;return Dn&&(An=Un,Un=Ae,Ae=An),An=(An=ei(Pe,Un,Ae,On))?An.range(Un,Ae+1):[],Dn?An.reverse():An},Jt.tickFormat=function(Pe,On){return null==On?Qn:Rt(On)},Jt.nice=function(Pe,On){var Zn=Vt();return(Pe=ei(Pe,Zn[0],Zn[Zn.length-1],On))?Vt(function Ir(i,u){var bt,D=0,M=(i=i.slice()).length-1,yt=i[D],Et=i[M];return Et<yt&&(bt=D,D=M,M=bt,bt=yt,yt=Et,Et=bt),i[D]=u.floor(yt),i[M]=u.ceil(Et),i}(Zn,Pe)):Jt},Jt.copy=function(){return ft(Jt,ir(i,u,D,M,yt,Et,bt,Ot,Rt))},Jt}function Mr(){return P.apply(ir(Je.A,pn.A,sn,we.A,$n,Gi.A,ni,Si,Ei).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},81583:(Tt,ut,a)=>{"use strict";function g(P){return function(){return this.matches(P)}}a.d(ut,{A:()=>g})},72546:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>m});var g=a(86358),P=a(60859);function m(J){var I=(0,g.A)();return I.changedTouches&&(I=I.changedTouches[0]),(0,P.A)(J,I)}},53738:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>P});var g=a(82937);function P(m){var J=m+="",I=J.indexOf(":");return I>=0&&"xmlns"!==(J=m.slice(0,I))&&(m=m.slice(I+1)),g.A.hasOwnProperty(J)?{space:g.A[J],local:m}:m}},82937:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>P,g:()=>g});var g="http://www.w3.org/1999/xhtml";const P={svg:"http://www.w3.org/2000/svg",xhtml:g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},60859:(Tt,ut,a)=>{"use strict";function g(P,m){var J=P.ownerSVGElement||P;if(J.createSVGPoint){var I=J.createSVGPoint();return I.x=m.clientX,I.y=m.clientY,[(I=I.matrixTransform(P.getScreenCTM().inverse())).x,I.y]}var F=P.getBoundingClientRect();return[m.clientX-F.left-P.clientLeft,m.clientY-F.top-P.clientTop]}a.d(ut,{A:()=>g})},14221:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>P});var g=a(21655);function P(m){return"string"==typeof m?new g.LN([[document.querySelector(m)]],[document.documentElement]):new g.LN([[m]],g.zr)}},21655:(Tt,ut,a)=>{"use strict";a.d(ut,{LN:()=>ge,Ay:()=>sn,zr:()=>Be});var g=a(49676),m=a(67941),I=a(81583);function et(z){return new Array(z.length)}function S(z,vt){this.ownerDocument=z.ownerDocument,this.namespaceURI=z.namespaceURI,this._next=null,this._parent=z,this.__data__=vt}S.prototype={constructor:S,appendChild:function(z){return this._parent.insertBefore(z,this._next)},insertBefore:function(z,vt){return this._parent.insertBefore(z,vt)},querySelector:function(z){return this._parent.querySelector(z)},querySelectorAll:function(z){return this._parent.querySelectorAll(z)}};function U(z,vt,Ft,lt,Wt,Kt){for(var Qt,Lt=0,_e=vt.length,Se=Kt.length;Lt<Se;++Lt)(Qt=vt[Lt])?(Qt.__data__=Kt[Lt],lt[Lt]=Qt):Ft[Lt]=new S(z,Kt[Lt]);for(;Lt<_e;++Lt)(Qt=vt[Lt])&&(Wt[Lt]=Qt)}function C(z,vt,Ft,lt,Wt,Kt,Lt){var Qt,_e,we,Se={},Ye=vt.length,nn=Kt.length,hn=new Array(Ye);for(Qt=0;Qt<Ye;++Qt)(_e=vt[Qt])&&(hn[Qt]=we="$"+Lt.call(_e,_e.__data__,Qt,vt),we in Se?Wt[Qt]=_e:Se[we]=_e);for(Qt=0;Qt<nn;++Qt)(_e=Se[we="$"+Lt.call(z,Kt[Qt],Qt,Kt)])?(lt[Qt]=_e,_e.__data__=Kt[Qt],Se[we]=null):Ft[Qt]=new S(z,Kt[Qt]);for(Qt=0;Qt<Ye;++Qt)(_e=vt[Qt])&&Se[hn[Qt]]===_e&&(Wt[Qt]=_e)}function ht(z,vt){return z<vt?-1:z>vt?1:z>=vt?0:NaN}var at=a(53738);function rt(z){return function(){this.removeAttribute(z)}}function kt(z){return function(){this.removeAttributeNS(z.space,z.local)}}function Ut(z,vt){return function(){this.setAttribute(z,vt)}}function ee(z,vt){return function(){this.setAttributeNS(z.space,z.local,vt)}}function Te(z,vt){return function(){var Ft=vt.apply(this,arguments);null==Ft?this.removeAttribute(z):this.setAttribute(z,Ft)}}function Ee(z,vt){return function(){var Ft=vt.apply(this,arguments);null==Ft?this.removeAttributeNS(z.space,z.local):this.setAttributeNS(z.space,z.local,Ft)}}var Re=a(99517);function Xe(z){return function(){delete this[z]}}function ke(z,vt){return function(){this[z]=vt}}function Ke(z,vt){return function(){var Ft=vt.apply(this,arguments);null==Ft?delete this[z]:this[z]=Ft}}function K(z){return z.trim().split(/^|\s+/)}function At(z){return z.classList||new te(z)}function te(z){this._node=z,this._names=K(z.getAttribute("class")||"")}function fe(z,vt){for(var Ft=At(z),lt=-1,Wt=vt.length;++lt<Wt;)Ft.add(vt[lt])}function It(z,vt){for(var Ft=At(z),lt=-1,Wt=vt.length;++lt<Wt;)Ft.remove(vt[lt])}function ae(z){return function(){fe(this,z)}}function Ue(z){return function(){It(this,z)}}function $e(z,vt){return function(){(vt.apply(this,arguments)?fe:It)(this,z)}}function bn(){this.textContent=""}function Sn(z){return function(){this.textContent=z}}function Fn(z){return function(){var vt=z.apply(this,arguments);this.textContent=vt??""}}function Rn(){this.innerHTML=""}function cn(z){return function(){this.innerHTML=z}}function Hn(z){return function(){var vt=z.apply(this,arguments);this.innerHTML=vt??""}}function Ce(){this.nextSibling&&this.parentNode.appendChild(this)}function pi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}te.prototype={add:function(z){this._names.indexOf(z)<0&&(this._names.push(z),this._node.setAttribute("class",this._names.join(" ")))},remove:function(z){var vt=this._names.indexOf(z);vt>=0&&(this._names.splice(vt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(z){return this._names.indexOf(z)>=0}};var le=a(82937);function ve(z){return function(){var vt=this.ownerDocument,Ft=this.namespaceURI;return Ft===le.g&&vt.documentElement.namespaceURI===le.g?vt.createElement(z):vt.createElementNS(Ft,z)}}function oe(z){return function(){return this.ownerDocument.createElementNS(z.space,z.local)}}function ze(z){var vt=(0,at.A)(z);return(vt.local?oe:ve)(vt)}function Tn(){return null}function He(){var z=this.parentNode;z&&z.removeChild(this)}function ln(){var z=this.cloneNode(!1),vt=this.parentNode;return vt?vt.insertBefore(z,this.nextSibling):z}function Vn(){var z=this.cloneNode(!0),vt=this.parentNode;return vt?vt.insertBefore(z,this.nextSibling):z}var Xn=a(89403),en=a(74529);function gn(z,vt,Ft){var lt=(0,en.A)(z),Wt=lt.CustomEvent;"function"==typeof Wt?Wt=new Wt(vt,Ft):(Wt=lt.document.createEvent("Event"),Ft?(Wt.initEvent(vt,Ft.bubbles,Ft.cancelable),Wt.detail=Ft.detail):Wt.initEvent(vt,!1,!1)),z.dispatchEvent(Wt)}function Cn(z,vt){return function(){return gn(this,z,vt)}}function Je(z,vt){return function(){return gn(this,z,vt.apply(this,arguments))}}var Be=[null];function ge(z,vt){this._groups=z,this._parents=vt}function un(){return new ge([[document.documentElement]],Be)}ge.prototype=un.prototype={constructor:ge,select:function P(z){"function"!=typeof z&&(z=(0,g.A)(z));for(var vt=this._groups,Ft=vt.length,lt=new Array(Ft),Wt=0;Wt<Ft;++Wt)for(var _e,Se,Kt=vt[Wt],Lt=Kt.length,Qt=lt[Wt]=new Array(Lt),Ye=0;Ye<Lt;++Ye)(_e=Kt[Ye])&&(Se=z.call(_e,_e.__data__,Ye,Kt))&&("__data__"in _e&&(Se.__data__=_e.__data__),Qt[Ye]=Se);return new ge(lt,this._parents)},selectAll:function J(z){"function"!=typeof z&&(z=(0,m.A)(z));for(var vt=this._groups,Ft=vt.length,lt=[],Wt=[],Kt=0;Kt<Ft;++Kt)for(var _e,Lt=vt[Kt],Qt=Lt.length,Se=0;Se<Qt;++Se)(_e=Lt[Se])&&(lt.push(z.call(_e,_e.__data__,Se,Lt)),Wt.push(_e));return new ge(lt,Wt)},filter:function F(z){"function"!=typeof z&&(z=(0,I.A)(z));for(var vt=this._groups,Ft=vt.length,lt=new Array(Ft),Wt=0;Wt<Ft;++Wt)for(var _e,Kt=vt[Wt],Lt=Kt.length,Qt=lt[Wt]=[],Se=0;Se<Lt;++Se)(_e=Kt[Se])&&z.call(_e,_e.__data__,Se,Kt)&&Qt.push(_e);return new ge(lt,this._parents)},data:function E(z,vt){if(!z)return we=new Array(this.size()),Se=-1,this.each(function(Si){we[++Se]=Si}),we;var Ft=vt?C:U,lt=this._parents,Wt=this._groups;"function"!=typeof z&&(z=function O(z){return function(){return z}}(z));for(var Kt=Wt.length,Lt=new Array(Kt),Qt=new Array(Kt),_e=new Array(Kt),Se=0;Se<Kt;++Se){var Ye=lt[Se],nn=Wt[Se],hn=nn.length,we=z.call(Ye,Ye&&Ye.__data__,Se,lt),je=we.length,$n=Qt[Se]=new Array(je),Di=Lt[Se]=new Array(je);Ft(Ye,nn,$n,Di,_e[Se]=new Array(hn),we,vt);for(var Oi,hi,qn=0,ni=0;qn<je;++qn)if(Oi=$n[qn]){for(qn>=ni&&(ni=qn+1);!(hi=Di[ni])&&++ni<je;);Oi._next=hi||null}}return(Lt=new ge(Lt,lt))._enter=Qt,Lt._exit=_e,Lt},enter:function _(){return new ge(this._enter||this._groups.map(et),this._parents)},exit:function R(){return new ge(this._exit||this._groups.map(et),this._parents)},join:function Z(z,vt,Ft){var lt=this.enter(),Wt=this,Kt=this.exit();return lt="function"==typeof z?z(lt):lt.append(z+""),null!=vt&&(Wt=vt(Wt)),null==Ft?Kt.remove():Ft(Kt),lt&&Wt?lt.merge(Wt).order():Wt},merge:function W(z){for(var vt=this._groups,Ft=z._groups,lt=vt.length,Kt=Math.min(lt,Ft.length),Lt=new Array(lt),Qt=0;Qt<Kt;++Qt)for(var hn,_e=vt[Qt],Se=Ft[Qt],Ye=_e.length,nn=Lt[Qt]=new Array(Ye),we=0;we<Ye;++we)(hn=_e[we]||Se[we])&&(nn[we]=hn);for(;Qt<lt;++Qt)Lt[Qt]=vt[Qt];return new ge(Lt,this._parents)},order:function nt(){for(var z=this._groups,vt=-1,Ft=z.length;++vt<Ft;)for(var Lt,lt=z[vt],Wt=lt.length-1,Kt=lt[Wt];--Wt>=0;)(Lt=lt[Wt])&&(Kt&&4^Lt.compareDocumentPosition(Kt)&&Kt.parentNode.insertBefore(Lt,Kt),Kt=Lt);return this},sort:function $(z){function vt(nn,hn){return nn&&hn?z(nn.__data__,hn.__data__):!nn-!hn}z||(z=ht);for(var Ft=this._groups,lt=Ft.length,Wt=new Array(lt),Kt=0;Kt<lt;++Kt){for(var Se,Lt=Ft[Kt],Qt=Lt.length,_e=Wt[Kt]=new Array(Qt),Ye=0;Ye<Qt;++Ye)(Se=Lt[Ye])&&(_e[Ye]=Se);_e.sort(vt)}return new ge(Wt,this._parents).order()},call:function j(){var z=arguments[0];return arguments[0]=this,z.apply(null,arguments),this},nodes:function _t(){var z=new Array(this.size()),vt=-1;return this.each(function(){z[++vt]=this}),z},node:function it(){for(var z=this._groups,vt=0,Ft=z.length;vt<Ft;++vt)for(var lt=z[vt],Wt=0,Kt=lt.length;Wt<Kt;++Wt){var Lt=lt[Wt];if(Lt)return Lt}return null},size:function ft(){var z=0;return this.each(function(){++z}),z},empty:function wt(){return!this.node()},each:function ct(z){for(var vt=this._groups,Ft=0,lt=vt.length;Ft<lt;++Ft)for(var Qt,Wt=vt[Ft],Kt=0,Lt=Wt.length;Kt<Lt;++Kt)(Qt=Wt[Kt])&&z.call(Qt,Qt.__data__,Kt,Wt);return this},attr:function ie(z,vt){var Ft=(0,at.A)(z);if(arguments.length<2){var lt=this.node();return Ft.local?lt.getAttributeNS(Ft.space,Ft.local):lt.getAttribute(Ft)}return this.each((null==vt?Ft.local?kt:rt:"function"==typeof vt?Ft.local?Ee:Te:Ft.local?ee:Ut)(Ft,vt))},style:Re.A,property:function xn(z,vt){return arguments.length>1?this.each((null==vt?Xe:"function"==typeof vt?Ke:ke)(z,vt)):this.node()[z]},classed:function on(z,vt){var Ft=K(z+"");if(arguments.length<2){for(var lt=At(this.node()),Wt=-1,Kt=Ft.length;++Wt<Kt;)if(!lt.contains(Ft[Wt]))return!1;return!0}return this.each(("function"==typeof vt?$e:vt?ae:Ue)(Ft,vt))},text:function Ge(z){return arguments.length?this.each(null==z?bn:("function"==typeof z?Fn:Sn)(z)):this.node().textContent},html:function Jn(z){return arguments.length?this.each(null==z?Rn:("function"==typeof z?Hn:cn)(z)):this.node().innerHTML},raise:function ai(){return this.each(Ce)},lower:function qt(){return this.each(pi)},append:function En(z){var vt="function"==typeof z?z:ze(z);return this.select(function(){return this.appendChild(vt.apply(this,arguments))})},insert:function tn(z,vt){var Ft="function"==typeof z?z:ze(z),lt=null==vt?Tn:"function"==typeof vt?vt:(0,g.A)(vt);return this.select(function(){return this.insertBefore(Ft.apply(this,arguments),lt.apply(this,arguments)||null)})},remove:function Ze(){return this.each(He)},clone:function dn(z){return this.select(z?Vn:ln)},datum:function fn(z){return arguments.length?this.property("__data__",z):this.node().__data__},on:Xn.Ay,dispatch:function pn(z,vt){return this.each(("function"==typeof vt?Je:Cn)(z,vt))}};const sn=un},89403:(Tt,ut,a)=>{"use strict";a.d(ut,{Ay:()=>S,ex:()=>O,f0:()=>P});var g={},P=null;function J(G,U,C){return G=I(G,U,C),function(E){var R=E.relatedTarget;(!R||R!==this&&!(8&R.compareDocumentPosition(this)))&&G.call(this,E)}}function I(G,U,C){return function(E){var R=P;P=E;try{G.call(this,this.__data__,U,C)}finally{P=R}}}function et(G){return function(){var U=this.__on;if(U){for(var Z,C=0,E=-1,R=U.length;C<R;++C)Z=U[C],G.type&&Z.type!==G.type||Z.name!==G.name?U[++E]=Z:this.removeEventListener(Z.type,Z.listener,Z.capture);++E?U.length=E:delete this.__on}}}function _(G,U,C){var E=g.hasOwnProperty(G.type)?J:I;return function(R,Z,W){var $,nt=this.__on,ht=E(U,Z,W);if(nt)for(var j=0,_t=nt.length;j<_t;++j)if(($=nt[j]).type===G.type&&$.name===G.name)return this.removeEventListener($.type,$.listener,$.capture),this.addEventListener($.type,$.listener=ht,$.capture=C),void($.value=U);this.addEventListener(G.type,ht,C),$={type:G.type,name:G.name,value:U,listener:ht,capture:C},nt?nt.push($):this.__on=[$]}}function S(G,U,C){var R,W,E=function F(G){return G.trim().split(/^|\s+/).map(function(U){var C="",E=U.indexOf(".");return E>=0&&(C=U.slice(E+1),U=U.slice(0,E)),{type:U,name:C}})}(G+""),Z=E.length;if(!(arguments.length<2)){for(nt=U?_:et,null==C&&(C=!1),R=0;R<Z;++R)this.each(nt(E[R],U,C));return this}var nt=this.node().__on;if(nt)for(var j,$=0,ht=nt.length;$<ht;++$)for(R=0,j=nt[$];R<Z;++R)if((W=E[R]).type===j.type&&W.name===j.name)return j.value}function O(G,U,C,E){var R=P;G.sourceEvent=P,P=G;try{return U.apply(C,E)}finally{P=R}}typeof document<"u"&&("onmouseenter"in document.documentElement||(g={mouseenter:"mouseover",mouseleave:"mouseout"}))},99517:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>I,j:()=>F});var g=a(74529);function P(et){return function(){this.style.removeProperty(et)}}function m(et,_,S){return function(){this.style.setProperty(et,_,S)}}function J(et,_,S){return function(){var O=_.apply(this,arguments);null==O?this.style.removeProperty(et):this.style.setProperty(et,O,S)}}function I(et,_,S){return arguments.length>1?this.each((null==_?P:"function"==typeof _?J:m)(et,_,S??"")):F(this.node(),et)}function F(et,_){return et.style.getPropertyValue(_)||(0,g.A)(et).getComputedStyle(et,null).getPropertyValue(_)}},49676:(Tt,ut,a)=>{"use strict";function g(){}function P(m){return null==m?g:function(){return this.querySelector(m)}}a.d(ut,{A:()=>P})},67941:(Tt,ut,a)=>{"use strict";function g(){return[]}function P(m){return null==m?g:function(){return this.querySelectorAll(m)}}a.d(ut,{A:()=>P})},86358:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>P});var g=a(89403);function P(){for(var J,m=g.f0;J=m.sourceEvent;)m=J;return m}},74529:(Tt,ut,a)=>{"use strict";function g(P){return P.ownerDocument&&P.ownerDocument.defaultView||P.document&&P||P.defaultView}a.d(ut,{A:()=>g})},79450:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>G});var g=a(5285),P=a(70480),m=a(99042);function J(U){return U.innerRadius}function I(U){return U.outerRadius}function F(U){return U.startAngle}function et(U){return U.endAngle}function _(U){return U&&U.padAngle}function O(U,C,E,R,Z,W,nt){var $=U-E,ht=C-R,j=(nt?W:-W)/(0,m.RZ)($*$+ht*ht),_t=j*ht,it=-j*$,ft=U+_t,wt=C+it,ct=E+_t,at=R+it,rt=(ft+ct)/2,kt=(wt+at)/2,Ut=ct-ft,ee=at-wt,Te=Ut*Ut+ee*ee,Ee=Z-W,ie=ft*at-ct*wt,Re=(ee<0?-1:1)*(0,m.RZ)((0,m.T9)(0,Ee*Ee*Te-ie*ie)),Xe=(ie*ee-Ut*Re)/Te,ke=(-ie*Ut-ee*Re)/Te,Ke=(ie*ee+Ut*Re)/Te,xn=(-ie*Ut+ee*Re)/Te,K=Xe-rt,At=ke-kt,te=Ke-rt,fe=xn-kt;return K*K+At*At>te*te+fe*fe&&(Xe=Ke,ke=xn),{cx:Xe,cy:ke,x01:-_t,y01:-it,x11:Xe*(Z/Ee-1),y11:ke*(Z/Ee-1)}}function G(){var U=J,C=I,E=(0,P.A)(0),R=null,Z=F,W=et,nt=_,$=null;function ht(){var j,_t,it=+U.apply(this,arguments),ft=+C.apply(this,arguments),wt=Z.apply(this,arguments)-m.TW,ct=W.apply(this,arguments)-m.TW,at=(0,m.tn)(ct-wt),rt=ct>wt;if($||($=j=(0,g.A)()),ft<it&&(_t=ft,ft=it,it=_t),ft>m.Ni)if(at>m.FA-m.Ni)$.moveTo(ft*(0,m.gn)(wt),ft*(0,m.F8)(wt)),$.arc(0,0,ft,wt,ct,!rt),it>m.Ni&&($.moveTo(it*(0,m.gn)(ct),it*(0,m.F8)(ct)),$.arc(0,0,it,ct,wt,rt));else{var K,At,kt=wt,Ut=ct,ee=wt,Te=ct,Ee=at,ie=at,Re=nt.apply(this,arguments)/2,Xe=Re>m.Ni&&(R?+R.apply(this,arguments):(0,m.RZ)(it*it+ft*ft)),ke=(0,m.jk)((0,m.tn)(ft-it)/2,+E.apply(this,arguments)),Ke=ke,xn=ke;if(Xe>m.Ni){var te=(0,m.qR)(Xe/it*(0,m.F8)(Re)),fe=(0,m.qR)(Xe/ft*(0,m.F8)(Re));(Ee-=2*te)>m.Ni?(ee+=te*=rt?1:-1,Te-=te):(Ee=0,ee=Te=(wt+ct)/2),(ie-=2*fe)>m.Ni?(kt+=fe*=rt?1:-1,Ut-=fe):(ie=0,kt=Ut=(wt+ct)/2)}var It=ft*(0,m.gn)(kt),ae=ft*(0,m.F8)(kt),Ue=it*(0,m.gn)(Te),$e=it*(0,m.F8)(Te);if(ke>m.Ni){var Ge,on=ft*(0,m.gn)(Ut),bn=ft*(0,m.F8)(Ut),Sn=it*(0,m.gn)(ee),Fn=it*(0,m.F8)(ee);if(at<m.pi&&(Ge=function S(U,C,E,R,Z,W,nt,$){var ht=E-U,j=R-C,_t=nt-Z,it=$-W,ft=it*ht-_t*j;if(!(ft*ft<m.Ni))return[U+(ft=(_t*(C-W)-it*(U-Z))/ft)*ht,C+ft*j]}(It,ae,Sn,Fn,on,bn,Ue,$e))){var Rn=It-Ge[0],cn=ae-Ge[1],Hn=on-Ge[0],Jn=bn-Ge[1],Ce=1/(0,m.F8)((0,m.HQ)((Rn*Hn+cn*Jn)/((0,m.RZ)(Rn*Rn+cn*cn)*(0,m.RZ)(Hn*Hn+Jn*Jn)))/2),ai=(0,m.RZ)(Ge[0]*Ge[0]+Ge[1]*Ge[1]);Ke=(0,m.jk)(ke,(it-ai)/(Ce-1)),xn=(0,m.jk)(ke,(ft-ai)/(Ce+1))}}ie>m.Ni?xn>m.Ni?(K=O(Sn,Fn,It,ae,ft,xn,rt),At=O(on,bn,Ue,$e,ft,xn,rt),$.moveTo(K.cx+K.x01,K.cy+K.y01),xn<ke?$.arc(K.cx,K.cy,xn,(0,m.FP)(K.y01,K.x01),(0,m.FP)(At.y01,At.x01),!rt):($.arc(K.cx,K.cy,xn,(0,m.FP)(K.y01,K.x01),(0,m.FP)(K.y11,K.x11),!rt),$.arc(0,0,ft,(0,m.FP)(K.cy+K.y11,K.cx+K.x11),(0,m.FP)(At.cy+At.y11,At.cx+At.x11),!rt),$.arc(At.cx,At.cy,xn,(0,m.FP)(At.y11,At.x11),(0,m.FP)(At.y01,At.x01),!rt))):($.moveTo(It,ae),$.arc(0,0,ft,kt,Ut,!rt)):$.moveTo(It,ae),it>m.Ni&&Ee>m.Ni?Ke>m.Ni?(K=O(Ue,$e,on,bn,it,-Ke,rt),At=O(It,ae,Sn,Fn,it,-Ke,rt),$.lineTo(K.cx+K.x01,K.cy+K.y01),Ke<ke?$.arc(K.cx,K.cy,Ke,(0,m.FP)(K.y01,K.x01),(0,m.FP)(At.y01,At.x01),!rt):($.arc(K.cx,K.cy,Ke,(0,m.FP)(K.y01,K.x01),(0,m.FP)(K.y11,K.x11),!rt),$.arc(0,0,it,(0,m.FP)(K.cy+K.y11,K.cx+K.x11),(0,m.FP)(At.cy+At.y11,At.cx+At.x11),rt),$.arc(At.cx,At.cy,Ke,(0,m.FP)(At.y11,At.x11),(0,m.FP)(At.y01,At.x01),!rt))):$.arc(0,0,it,Te,ee,rt):$.lineTo(Ue,$e)}else $.moveTo(0,0);if($.closePath(),j)return $=null,j+""||null}return ht.centroid=function(){var j=(+U.apply(this,arguments)+ +C.apply(this,arguments))/2,_t=(+Z.apply(this,arguments)+ +W.apply(this,arguments))/2-m.pi/2;return[(0,m.gn)(_t)*j,(0,m.F8)(_t)*j]},ht.innerRadius=function(j){return arguments.length?(U="function"==typeof j?j:(0,P.A)(+j),ht):U},ht.outerRadius=function(j){return arguments.length?(C="function"==typeof j?j:(0,P.A)(+j),ht):C},ht.cornerRadius=function(j){return arguments.length?(E="function"==typeof j?j:(0,P.A)(+j),ht):E},ht.padRadius=function(j){return arguments.length?(R=null==j?null:"function"==typeof j?j:(0,P.A)(+j),ht):R},ht.startAngle=function(j){return arguments.length?(Z="function"==typeof j?j:(0,P.A)(+j),ht):Z},ht.endAngle=function(j){return arguments.length?(W="function"==typeof j?j:(0,P.A)(+j),ht):W},ht.padAngle=function(j){return arguments.length?(nt="function"==typeof j?j:(0,P.A)(+j),ht):nt},ht.context=function(j){return arguments.length?($=j??null,ht):$},ht}},70480:(Tt,ut,a)=>{"use strict";function g(P){return function(){return P}}a.d(ut,{A:()=>g})},99042:(Tt,ut,a)=>{"use strict";a.d(ut,{F8:()=>F,FA:()=>G,FP:()=>P,HQ:()=>U,Ni:()=>_,RZ:()=>et,T9:()=>J,TW:()=>O,gn:()=>m,jk:()=>I,pi:()=>S,qR:()=>C,tn:()=>g});var g=Math.abs,P=Math.atan2,m=Math.cos,J=Math.max,I=Math.min,F=Math.sin,et=Math.sqrt,_=1e-12,S=Math.PI,O=S/2,G=2*S;function U(E){return E>1?0:E<-1?S:Math.acos(E)}function C(E){return E>=1?O:E<=-1?-O:Math.asin(E)}},6476:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>J});var g=a(9061),P=a(17772);const J=(0,g.A)(function(F){F.setHours(0,0,0,0)},function(F,et){F.setDate(F.getDate()+et)},function(F,et){return(et-F-(et.getTimezoneOffset()-F.getTimezoneOffset())*P.rR)/P.Nm},function(F){return F.getDate()-1})},17772:(Tt,ut,a)=>{"use strict";a.d(ut,{Fq:()=>I,JJ:()=>m,Nm:()=>J,Tt:()=>g,rR:()=>P});var g=1e3,P=6e4,m=36e5,J=864e5,I=6048e5},9061:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>m});var g=new Date,P=new Date;function m(J,I,F,et){function _(S){return J(S=0===arguments.length?new Date:new Date(+S)),S}return _.floor=function(S){return J(S=new Date(+S)),S},_.ceil=function(S){return J(S=new Date(S-1)),I(S,1),J(S),S},_.round=function(S){var O=_(S),G=_.ceil(S);return S-O<G-S?O:G},_.offset=function(S,O){return I(S=new Date(+S),null==O?1:Math.floor(O)),S},_.range=function(S,O,G){var C,U=[];if(S=_.ceil(S),G=null==G?1:Math.floor(G),!(S<O&&G>0))return U;do{U.push(C=new Date(+S)),I(S,G),J(S)}while(C<S&&S<O);return U},_.filter=function(S){return m(function(O){if(O>=O)for(;J(O),!S(O);)O.setTime(O-1)},function(O,G){if(O>=O)if(G<0)for(;++G<=0;)for(;I(O,-1),!S(O););else for(;--G>=0;)for(;I(O,1),!S(O););})},F&&(_.count=function(S,O){return g.setTime(+S),P.setTime(+O),J(g),J(P),Math.floor(F(g,P))},_.every=function(S){return S=Math.floor(S),isFinite(S)&&S>0?S>1?_.filter(et?function(O){return et(O)%S==0}:function(O){return _.count(0,O)%S==0}):_:null}),_}},42472:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>J});var g=a(9061),P=a(17772);const J=(0,g.A)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*P.Tt)},function(F,et){F.setTime(+F+et*P.rR)},function(F,et){return(et-F)/P.rR},function(F){return F.getMinutes()})},53052:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>m});const m=(0,a(9061).A)(function(I){I.setDate(1),I.setHours(0,0,0,0)},function(I,F){I.setMonth(I.getMonth()+F)},function(I,F){return F.getMonth()-I.getMonth()+12*(F.getFullYear()-I.getFullYear())},function(I){return I.getMonth()})},97833:(Tt,ut,a)=>{"use strict";a.d(ut,{A:()=>m});var g=a(9061),P=(0,g.A)(function(I){I.setMonth(0,1),I.setHours(0,0,0,0)},function(I,F){I.setFullYear(I.getFullYear()+F)},function(I,F){return F.getFullYear()-I.getFullYear()},function(I){return I.getFullYear()});P.every=function(I){return isFinite(I=Math.floor(I))&&I>0?(0,g.A)(function(F){F.setFullYear(Math.floor(F.getFullYear()/I)*I),F.setMonth(0,1),F.setHours(0,0,0,0)},function(F,et){F.setFullYear(F.getFullYear()+et*I)}):null};const m=P},89191:(Tt,ut,a)=>{"use strict";a.d(ut,{M4:()=>E,O1:()=>R,tB:()=>U});var I,F,g=0,P=0,m=0,J=1e3,et=0,_=0,S=0,O="object"==typeof performance&&performance.now?performance:Date,G="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(j){setTimeout(j,17)};function U(){return _||(G(C),_=O.now()+S)}function C(){_=0}function E(){this._call=this._time=this._next=null}function R(j,_t,it){var ft=new E;return ft.restart(j,_t,it),ft}function W(){_=(et=O.now())+S,g=P=0;try{!function Z(){U(),++g;for(var _t,j=I;j;)(_t=_-j._time)>=0&&j._call.call(null,_t),j=j._next;--g}()}finally{g=0,function $(){for(var j,it,_t=I,ft=1/0;_t;)_t._call?(ft>_t._time&&(ft=_t._time),j=_t,_t=_t._next):(it=_t._next,_t._next=null,_t=j?j._next=it:I=it);F=j,ht(ft)}(),_=0}}function nt(){var j=O.now(),_t=j-et;_t>J&&(S-=_t,et=j)}function ht(j){g||(P&&(P=clearTimeout(P)),j-_>24?(j<1/0&&(P=setTimeout(W,j-O.now()-S)),m&&(m=clearInterval(m))):(m||(et=O.now(),m=setInterval(nt,J)),g=1,G(W)))}E.prototype=R.prototype={constructor:E,restart:function(j,_t,it){if("function"!=typeof j)throw new TypeError("callback is not a function");it=(null==it?U():+it)+(null==_t?0:+_t),!this._next&&F!==this&&(F?F._next=this:I=this,F=this),this._call=j,this._time=it,ht()},stop:function(){this._call&&(this._call=null,this._time=1/0,ht())}}},72625:(Tt,ut,a)=>{"use strict";a.d(ut,{G:()=>$,kY:()=>we});var g=a(21655),P=a(4171),m=a(89191);function J(b,k,Y){var pt=new m.M4;return pt.restart(function(St){pt.stop(),b(St+k)},k=null==k?0:+k,Y),pt}var I=(0,P.A)("start","end","cancel","interrupt"),F=[],et=0,S=2,O=3,U=5,C=6;function E(b,k,Y,pt,St,Nt){var Ct=b.__transition;if(Ct){if(Y in Ct)return}else b.__transition={};!function nt(b,k,Y){var St,pt=b.__transition;function Ct(zt){var Xt,he,xe,Fe;if(1!==Y.state)return Ht();for(Xt in pt)if((Fe=pt[Xt]).name===Y.name){if(Fe.state===O)return J(Ct);4===Fe.state?(Fe.state=C,Fe.timer.stop(),Fe.on.call("interrupt",b,b.__data__,Fe.index,Fe.group),delete pt[Xt]):+Xt<k&&(Fe.state=C,Fe.timer.stop(),Fe.on.call("cancel",b,b.__data__,Fe.index,Fe.group),delete pt[Xt])}if(J(function(){Y.state===O&&(Y.state=4,Y.timer.restart(Gt,Y.delay,Y.time),Gt(zt))}),Y.state=S,Y.on.call("start",b,b.__data__,Y.index,Y.group),Y.state===S){for(Y.state=O,St=new Array(xe=Y.tween.length),Xt=0,he=-1;Xt<xe;++Xt)(Fe=Y.tween[Xt].value.call(b,b.__data__,Y.index,Y.group))&&(St[++he]=Fe);St.length=he+1}}function Gt(zt){for(var Xt=zt<Y.duration?Y.ease.call(null,zt/Y.duration):(Y.timer.restart(Ht),Y.state=U,1),he=-1,xe=St.length;++he<xe;)St[he].call(b,Xt);Y.state===U&&(Y.on.call("end",b,b.__data__,Y.index,Y.group),Ht())}function Ht(){for(var zt in Y.state=C,Y.timer.stop(),delete pt[k],pt)return;delete b.__transition}pt[k]=Y,Y.timer=(0,m.O1)(function Nt(zt){Y.state=1,Y.timer.restart(Ct,Y.delay,Y.time),Y.delay<=zt&&Ct(zt-Y.delay)},0,Y.time)}(b,Y,{name:k,index:pt,group:St,on:I,tween:F,time:Nt.time,delay:Nt.delay,duration:Nt.duration,ease:Nt.ease,timer:null,state:et})}function R(b,k){var Y=W(b,k);if(Y.state>et)throw new Error("too late; already scheduled");return Y}function Z(b,k){var Y=W(b,k);if(Y.state>O)throw new Error("too late; already running");return Y}function W(b,k){var Y=b.__transition;if(!Y||!(Y=Y[k]))throw new Error("transition not found");return Y}function $(b,k){var pt,St,Ct,Y=b.__transition,Nt=!0;if(Y){for(Ct in k=null==k?null:k+"",Y)(pt=Y[Ct]).name===k?(St=pt.state>S&&pt.state<U,pt.state=C,pt.timer.stop(),pt.on.call(St?"interrupt":"cancel",b,b.__data__,pt.index,pt.group),delete Y[Ct]):Nt=!1;Nt&&delete b.__transition}}var wt,ct,at,rt,j=a(71411),_t=180/Math.PI,it={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ft(b,k,Y,pt,St,Nt){var Ct,Gt,Ht;return(Ct=Math.sqrt(b*b+k*k))&&(b/=Ct,k/=Ct),(Ht=b*Y+k*pt)&&(Y-=b*Ht,pt-=k*Ht),(Gt=Math.sqrt(Y*Y+pt*pt))&&(Y/=Gt,pt/=Gt,Ht/=Gt),b*pt<k*Y&&(b=-b,k=-k,Ht=-Ht,Ct=-Ct),{translateX:St,translateY:Nt,rotate:Math.atan2(k,b)*_t,skewX:Math.atan(Ht)*_t,scaleX:Ct,scaleY:Gt}}function ee(b,k,Y,pt){function St(zt){return zt.length?zt.pop()+" ":""}return function(zt,Xt){var he=[],xe=[];return zt=b(zt),Xt=b(Xt),function Nt(zt,Xt,he,xe,Fe,ii){if(zt!==he||Xt!==xe){var In=Fe.push("translate(",null,k,null,Y);ii.push({i:In-4,x:(0,j.A)(zt,he)},{i:In-2,x:(0,j.A)(Xt,xe)})}else(he||xe)&&Fe.push("translate("+he+k+xe+Y)}(zt.translateX,zt.translateY,Xt.translateX,Xt.translateY,he,xe),function Ct(zt,Xt,he,xe){zt!==Xt?(zt-Xt>180?Xt+=360:Xt-zt>180&&(zt+=360),xe.push({i:he.push(St(he)+"rotate(",null,pt)-2,x:(0,j.A)(zt,Xt)})):Xt&&he.push(St(he)+"rotate("+Xt+pt)}(zt.rotate,Xt.rotate,he,xe),function Gt(zt,Xt,he,xe){zt!==Xt?xe.push({i:he.push(St(he)+"skewX(",null,pt)-2,x:(0,j.A)(zt,Xt)}):Xt&&he.push(St(he)+"skewX("+Xt+pt)}(zt.skewX,Xt.skewX,he,xe),function Ht(zt,Xt,he,xe,Fe,ii){if(zt!==he||Xt!==xe){var In=Fe.push(St(Fe)+"scale(",null,",",null,")");ii.push({i:In-4,x:(0,j.A)(zt,he)},{i:In-2,x:(0,j.A)(Xt,xe)})}else(1!==he||1!==xe)&&Fe.push(St(Fe)+"scale("+he+","+xe+")")}(zt.scaleX,zt.scaleY,Xt.scaleX,Xt.scaleY,he,xe),zt=Xt=null,function(Fe){for(var mi,ii=-1,In=xe.length;++ii<In;)he[(mi=xe[ii]).i]=mi.x(Fe);return he.join("")}}}var Te=ee(function kt(b){return"none"===b?it:(wt||(wt=document.createElement("DIV"),ct=document.documentElement,at=document.defaultView),wt.style.transform=b,b=at.getComputedStyle(ct.appendChild(wt),null).getPropertyValue("transform"),ct.removeChild(wt),ft(+(b=b.slice(7,-1).split(","))[0],+b[1],+b[2],+b[3],+b[4],+b[5]))},"px, ","px)","deg)"),Ee=ee(function Ut(b){return null!=b&&(rt||(rt=document.createElementNS("http://www.w3.org/2000/svg","g")),rt.setAttribute("transform",b),b=rt.transform.baseVal.consolidate())?ft((b=b.matrix).a,b.b,b.c,b.d,b.e,b.f):it},", ",")",")"),ie=a(53738);function Re(b,k){var Y,pt;return function(){var St=Z(this,b),Nt=St.tween;if(Nt!==Y)for(var Ct=0,Gt=(pt=Y=Nt).length;Ct<Gt;++Ct)if(pt[Ct].name===k){(pt=pt.slice()).splice(Ct,1);break}St.tween=pt}}function Xe(b,k,Y){var pt,St;if("function"!=typeof Y)throw new Error;return function(){var Nt=Z(this,b),Ct=Nt.tween;if(Ct!==pt){St=(pt=Ct).slice();for(var Gt={name:k,value:Y},Ht=0,zt=St.length;Ht<zt;++Ht)if(St[Ht].name===k){St[Ht]=Gt;break}Ht===zt&&St.push(Gt)}Nt.tween=St}}function Ke(b,k,Y){var pt=b._id;return b.each(function(){var St=Z(this,pt);(St.value||(St.value={}))[k]=Y.apply(this,arguments)}),function(St){return W(St,pt).value[k]}}var xn=a(13793),K=a(90433),At=a(73067);function te(b,k){var Y;return("number"==typeof k?j.A:k instanceof xn.Ay?K.Ay:(Y=(0,xn.Ay)(k))?(k=Y,K.Ay):At.A)(b,k)}function fe(b){return function(){this.removeAttribute(b)}}function It(b){return function(){this.removeAttributeNS(b.space,b.local)}}function ae(b,k,Y){var pt,Nt,St=Y+"";return function(){var Ct=this.getAttribute(b);return Ct===St?null:Ct===pt?Nt:Nt=k(pt=Ct,Y)}}function Ue(b,k,Y){var pt,Nt,St=Y+"";return function(){var Ct=this.getAttributeNS(b.space,b.local);return Ct===St?null:Ct===pt?Nt:Nt=k(pt=Ct,Y)}}function $e(b,k,Y){var pt,St,Nt;return function(){var Ct,Ht,Gt=Y(this);return null==Gt?void this.removeAttribute(b):(Ct=this.getAttribute(b))===(Ht=Gt+"")?null:Ct===pt&&Ht===St?Nt:(St=Ht,Nt=k(pt=Ct,Gt))}}function on(b,k,Y){var pt,St,Nt;return function(){var Ct,Ht,Gt=Y(this);return null==Gt?void this.removeAttributeNS(b.space,b.local):(Ct=this.getAttributeNS(b.space,b.local))===(Ht=Gt+"")?null:Ct===pt&&Ht===St?Nt:(St=Ht,Nt=k(pt=Ct,Gt))}}function Ge(b,k){var Y,pt;function St(){var Nt=k.apply(this,arguments);return Nt!==pt&&(Y=(pt=Nt)&&function Fn(b,k){return function(Y){this.setAttributeNS(b.space,b.local,k.call(this,Y))}}(b,Nt)),Y}return St._value=k,St}function Rn(b,k){var Y,pt;function St(){var Nt=k.apply(this,arguments);return Nt!==pt&&(Y=(pt=Nt)&&function Sn(b,k){return function(Y){this.setAttribute(b,k.call(this,Y))}}(b,Nt)),Y}return St._value=k,St}function Hn(b,k){return function(){R(this,b).delay=+k.apply(this,arguments)}}function Jn(b,k){return k=+k,function(){R(this,b).delay=k}}function ai(b,k){return function(){Z(this,b).duration=+k.apply(this,arguments)}}function pi(b,k){return k=+k,function(){Z(this,b).duration=k}}var oe=a(81583),Vn=a(49676),fn=a(67941),en=g.Ay.prototype.constructor,Cn=a(99517);function pn(b){return function(){this.style.removeProperty(b)}}var nn=0;function hn(b,k,Y,pt){this._groups=b,this._parents=k,this._name=Y,this._id=pt}function we(b){return(0,g.Ay)().transition(b)}function je(){return++nn}var $n=g.Ay.prototype;hn.prototype=we.prototype={constructor:hn,select:function dn(b){var k=this._name,Y=this._id;"function"!=typeof b&&(b=(0,Vn.A)(b));for(var pt=this._groups,St=pt.length,Nt=new Array(St),Ct=0;Ct<St;++Ct)for(var Xt,he,Gt=pt[Ct],Ht=Gt.length,zt=Nt[Ct]=new Array(Ht),xe=0;xe<Ht;++xe)(Xt=Gt[xe])&&(he=b.call(Xt,Xt.__data__,xe,Gt))&&("__data__"in Xt&&(he.__data__=Xt.__data__),zt[xe]=he,E(zt[xe],k,Y,xe,zt,W(Xt,Y)));return new hn(Nt,this._parents,k,Y)},selectAll:function Xn(b){var k=this._name,Y=this._id;"function"!=typeof b&&(b=(0,fn.A)(b));for(var pt=this._groups,St=pt.length,Nt=[],Ct=[],Gt=0;Gt<St;++Gt)for(var Xt,Ht=pt[Gt],zt=Ht.length,he=0;he<zt;++he)if(Xt=Ht[he]){for(var Fe,xe=b.call(Xt,Xt.__data__,he,Ht),ii=W(Xt,Y),In=0,mi=xe.length;In<mi;++In)(Fe=xe[In])&&E(Fe,k,Y,In,xe,ii);Nt.push(xe),Ct.push(Xt)}return new hn(Nt,Ct,k,Y)},filter:function ze(b){"function"!=typeof b&&(b=(0,oe.A)(b));for(var k=this._groups,Y=k.length,pt=new Array(Y),St=0;St<Y;++St)for(var Ht,Nt=k[St],Ct=Nt.length,Gt=pt[St]=[],zt=0;zt<Ct;++zt)(Ht=Nt[zt])&&b.call(Ht,Ht.__data__,zt,Nt)&&Gt.push(Ht);return new hn(pt,this._parents,this._name,this._id)},merge:function En(b){if(b._id!==this._id)throw new Error;for(var k=this._groups,Y=b._groups,pt=k.length,Nt=Math.min(pt,Y.length),Ct=new Array(pt),Gt=0;Gt<Nt;++Gt)for(var xe,Ht=k[Gt],zt=Y[Gt],Xt=Ht.length,he=Ct[Gt]=new Array(Xt),Fe=0;Fe<Xt;++Fe)(xe=Ht[Fe]||zt[Fe])&&(he[Fe]=xe);for(;Gt<pt;++Gt)Ct[Gt]=k[Gt];return new hn(Ct,this._parents,this._name,this._id)},selection:function gn(){return new en(this._groups,this._parents)},transition:function Se(){for(var b=this._name,k=this._id,Y=je(),pt=this._groups,St=pt.length,Nt=0;Nt<St;++Nt)for(var Ht,Ct=pt[Nt],Gt=Ct.length,zt=0;zt<Gt;++zt)if(Ht=Ct[zt]){var Xt=W(Ht,k);E(Ht,b,Y,zt,Ct,{time:Xt.time+Xt.delay+Xt.duration,delay:0,duration:Xt.duration,ease:Xt.ease})}return new hn(pt,this._parents,b,Y)},call:$n.call,nodes:$n.nodes,node:$n.node,size:$n.size,empty:$n.empty,each:$n.each,on:function He(b,k){var Y=this._id;return arguments.length<2?W(this.node(),Y).on.on(b):this.each(function tn(b,k,Y){var pt,St,Nt=function Tn(b){return(b+"").trim().split(/^|\s+/).every(function(k){var Y=k.indexOf(".");return Y>=0&&(k=k.slice(0,Y)),!k||"start"===k})}(k)?R:Z;return function(){var Ct=Nt(this,b),Gt=Ct.on;Gt!==pt&&(St=(pt=Gt).copy()).on(k,Y),Ct.on=St}}(Y,b,k))},attr:function bn(b,k){var Y=(0,ie.A)(b),pt="transform"===Y?Ee:te;return this.attrTween(b,"function"==typeof k?(Y.local?on:$e)(Y,pt,Ke(this,"attr."+b,k)):null==k?(Y.local?It:fe)(Y):(Y.local?Ue:ae)(Y,pt,k))},attrTween:function cn(b,k){var Y="attr."+b;if(arguments.length<2)return(Y=this.tween(Y))&&Y._value;if(null==k)return this.tween(Y,null);if("function"!=typeof k)throw new Error;var pt=(0,ie.A)(b);return this.tween(Y,(pt.local?Ge:Rn)(pt,k))},style:function sn(b,k,Y){var pt="transform"==(b+="")?Te:te;return null==k?this.styleTween(b,function Je(b,k){var Y,pt,St;return function(){var Nt=(0,Cn.j)(this,b),Ct=(this.style.removeProperty(b),(0,Cn.j)(this,b));return Nt===Ct?null:Nt===Y&&Ct===pt?St:St=k(Y=Nt,pt=Ct)}}(b,pt)).on("end.style."+b,pn(b)):"function"==typeof k?this.styleTween(b,function ge(b,k,Y){var pt,St,Nt;return function(){var Ct=(0,Cn.j)(this,b),Gt=Y(this),Ht=Gt+"";return null==Gt&&(this.style.removeProperty(b),Ht=Gt=(0,Cn.j)(this,b)),Ct===Ht?null:Ct===pt&&Ht===St?Nt:(St=Ht,Nt=k(pt=Ct,Gt))}}(b,pt,Ke(this,"style."+b,k))).each(function un(b,k){var Y,pt,St,Gt,Nt="style."+k,Ct="end."+Nt;return function(){var Ht=Z(this,b),zt=Ht.on,Xt=null==Ht.value[Nt]?Gt||(Gt=pn(k)):void 0;(zt!==Y||St!==Xt)&&(pt=(Y=zt).copy()).on(Ct,St=Xt),Ht.on=pt}}(this._id,b)):this.styleTween(b,function Be(b,k,Y){var pt,Nt,St=Y+"";return function(){var Ct=(0,Cn.j)(this,b);return Ct===St?null:Ct===pt?Nt:Nt=k(pt=Ct,Y)}}(b,pt,k),Y).on("end.style."+b,null)},styleTween:function Ft(b,k,Y){var pt="style."+(b+="");if(arguments.length<2)return(pt=this.tween(pt))&&pt._value;if(null==k)return this.tween(pt,null);if("function"!=typeof k)throw new Error;return this.tween(pt,function vt(b,k,Y){var pt,St;function Nt(){var Ct=k.apply(this,arguments);return Ct!==St&&(pt=(St=Ct)&&function z(b,k,Y){return function(pt){this.style.setProperty(b,k.call(this,pt),Y)}}(b,Ct,Y)),pt}return Nt._value=k,Nt}(b,k,Y??""))},text:function Kt(b){return this.tween("text","function"==typeof b?function Wt(b){return function(){var k=b(this);this.textContent=k??""}}(Ke(this,"text",b)):function lt(b){return function(){this.textContent=b}}(null==b?"":b+""))},textTween:function _e(b){var k="text";if(arguments.length<1)return(k=this.tween(k))&&k._value;if(null==b)return this.tween(k,null);if("function"!=typeof b)throw new Error;return this.tween(k,function Qt(b){var k,Y;function pt(){var St=b.apply(this,arguments);return St!==Y&&(k=(Y=St)&&function Lt(b){return function(k){this.textContent=b.call(this,k)}}(St)),k}return pt._value=b,pt}(b))},remove:function ln(){return this.on("end.remove",function Ze(b){return function(){var k=this.parentNode;for(var Y in this.__transition)if(+Y!==b)return;k&&k.removeChild(this)}}(this._id))},tween:function ke(b,k){var Y=this._id;if(b+="",arguments.length<2){for(var Ct,pt=W(this.node(),Y).tween,St=0,Nt=pt.length;St<Nt;++St)if((Ct=pt[St]).name===b)return Ct.value;return null}return this.each((null==k?Re:Xe)(Y,b,k))},delay:function Ce(b){var k=this._id;return arguments.length?this.each(("function"==typeof b?Hn:Jn)(k,b)):W(this.node(),k).delay},duration:function qt(b){var k=this._id;return arguments.length?this.each(("function"==typeof b?ai:pi)(k,b)):W(this.node(),k).duration},ease:function ve(b){var k=this._id;return arguments.length?this.each(function le(b,k){if("function"!=typeof k)throw new Error;return function(){Z(this,b).ease=k}}(k,b)):W(this.node(),k).ease},end:function Ye(){var b,k,Y=this,pt=Y._id,St=Y.size();return new Promise(function(Nt,Ct){var Gt={value:Ct},Ht={value:function(){0==--St&&Nt()}};Y.each(function(){var zt=Z(this,pt),Xt=zt.on;Xt!==b&&((k=(b=Xt).copy())._.cancel.push(Gt),k._.interrupt.push(Gt),k._.end.push(Ht)),zt.on=k})})}};var ni={time:null,delay:0,duration:250,ease:function qn(b){return((b*=2)<=1?b*b*b:(b-=2)*b*b+2)/2}};function Oi(b,k){for(var Y;!(Y=b.__transition)||!(Y=Y[k]);)if(!(b=b.parentNode))return ni.time=(0,m.tB)(),ni;return Y}g.Ay.prototype.interrupt=function ht(b){return this.each(function(){$(this,b)})},g.Ay.prototype.transition=function hi(b){var k,Y;b instanceof hn?(k=b._id,b=b._name):(k=je(),(Y=ni).time=(0,m.tB)(),b=null==b?null:b+"");for(var pt=this._groups,St=pt.length,Nt=0;Nt<St;++Nt)for(var Ht,Ct=pt[Nt],Gt=Ct.length,zt=0;zt<Gt;++zt)(Ht=Ct[zt])&&E(Ht,b,k,zt,Ct,Y||Oi(Ht,k));return new hn(pt,this._parents,b,k)}},82883:(Tt,ut,a)=>{"use strict";a.d(ut,{l78:()=>Ee,V4s:()=>ie,eH3:()=>Te,tlR:()=>ee,h1l:()=>W.h1,Xxv:()=>W.Xx,eRw:()=>Ft,tXi:()=>hn,T9B:()=>W.T9,jkA:()=>W.jk,WH:()=>hi.WH,Ltv:()=>Si.A,UAC:()=>b.A,wXd:()=>Fi.A,Ui6:()=>k.A,hed:()=>Y.A});var W=a(46043),nt=Array.prototype.slice;function $(o){return o}var ht=1,j=2,_t=3,it=4,ft=1e-6;function wt(o){return"translate("+(o+.5)+",0)"}function ct(o){return"translate(0,"+(o+.5)+")"}function at(o){return function(h){return+o(h)}}function rt(o){var h=Math.max(0,o.bandwidth()-1)/2;return o.round()&&(h=Math.round(h)),function(d){return+o(d)+h}}function kt(){return!this.__axis}function Ut(o,h){var d=[],A=null,v=null,w=6,N=6,H=3,V=o===ht||o===it?-1:1,X=o===it||o===j?"x":"y",gt=o===ht||o===_t?wt:ct;function ot(Q){var xt=A??(h.ticks?h.ticks.apply(h,d):h.domain()),st=v??(h.tickFormat?h.tickFormat.apply(h,d):$),B=Math.max(w,0)+H,mt=h.range(),q=+mt[0]+.5,Pt=+mt[mt.length-1]+.5,Dt=(h.bandwidth?rt:at)(h.copy()),Zt=Q.selection?Q.selection():Q,De=Zt.selectAll(".domain").data([null]),Le=Zt.selectAll(".tick").data(xt,h).order(),Oe=Le.exit(),Ne=Le.enter().append("g").attr("class","tick"),be=Le.select("line"),ce=Le.select("text");De=De.merge(De.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Le=Le.merge(Ne),be=be.merge(Ne.append("line").attr("stroke","currentColor").attr(X+"2",V*w)),ce=ce.merge(Ne.append("text").attr("fill","currentColor").attr(X,V*B).attr("dy",o===ht?"0em":o===_t?"0.71em":"0.32em")),Q!==Zt&&(De=De.transition(Q),Le=Le.transition(Q),be=be.transition(Q),ce=ce.transition(Q),Oe=Oe.transition(Q).attr("opacity",ft).attr("transform",function(Me){return isFinite(Me=Dt(Me))?gt(Me):this.getAttribute("transform")}),Ne.attr("opacity",ft).attr("transform",function(Me){var tt=this.parentNode.__axis;return gt(tt&&isFinite(tt=tt(Me))?tt:Dt(Me))})),Oe.remove(),De.attr("d",o===it||o==j?N?"M"+V*N+","+q+"H0.5V"+Pt+"H"+V*N:"M0.5,"+q+"V"+Pt:N?"M"+q+","+V*N+"V0.5H"+Pt+"V"+V*N:"M"+q+",0.5H"+Pt),Le.attr("opacity",1).attr("transform",function(Me){return gt(Dt(Me))}),be.attr(X+"2",V*w),ce.attr(X,V*B).text(st),Zt.filter(kt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",o===j?"start":o===it?"end":"middle"),Zt.each(function(){this.__axis=Dt})}return ot.scale=function(Q){return arguments.length?(h=Q,ot):h},ot.ticks=function(){return d=nt.call(arguments),ot},ot.tickArguments=function(Q){return arguments.length?(d=null==Q?[]:nt.call(Q),ot):d.slice()},ot.tickValues=function(Q){return arguments.length?(A=null==Q?null:nt.call(Q),ot):A&&A.slice()},ot.tickFormat=function(Q){return arguments.length?(v=Q,ot):v},ot.tickSize=function(Q){return arguments.length?(w=N=+Q,ot):w},ot.tickSizeInner=function(Q){return arguments.length?(w=+Q,ot):w},ot.tickSizeOuter=function(Q){return arguments.length?(N=+Q,ot):N},ot.tickPadding=function(Q){return arguments.length?(H=+Q,ot):H},ot}function ee(o){return Ut(ht,o)}function Te(o){return Ut(j,o)}function Ee(o){return Ut(_t,o)}function ie(o){return Ut(it,o)}a(19725),Math,Math,Math,Math;var Fn=a(54537);function qt(o){return function(){return o}}function le(){return 1e-6*(Math.random()-.5)}function oe(o,h,d,A){if(isNaN(h)||isNaN(d))return o;var v,ot,Q,xt,st,B,mt,q,Pt,w=o._root,N={data:A},H=o._x0,V=o._y0,X=o._x1,gt=o._y1;if(!w)return o._root=N,o;for(;w.length;)if((B=h>=(ot=(H+X)/2))?H=ot:X=ot,(mt=d>=(Q=(V+gt)/2))?V=Q:gt=Q,v=w,!(w=w[q=mt<<1|B]))return v[q]=N,o;if(xt=+o._x.call(null,w.data),st=+o._y.call(null,w.data),h===xt&&d===st)return N.next=w,v?v[q]=N:o._root=N,o;do{v=v?v[q]=new Array(4):o._root=new Array(4),(B=h>=(ot=(H+X)/2))?H=ot:X=ot,(mt=d>=(Q=(V+gt)/2))?V=Q:gt=Q}while((q=mt<<1|B)==(Pt=(st>=Q)<<1|xt>=ot));return v[Pt]=w,v[q]=N,o}function He(o,h,d,A,v){this.node=o,this.x0=h,this.y0=d,this.x1=A,this.y1=v}function gn(o){return o[0]}function Je(o){return o[1]}function Be(o,h,d){var A=new ge(h??gn,d??Je,NaN,NaN,NaN,NaN);return null==o?A:A.addAll(o)}function ge(o,h,d,A,v,w){this._x=o,this._y=h,this._x0=d,this._y0=A,this._x1=v,this._y1=w,this._root=void 0}function un(o){for(var h={data:o.data},d=h;o=o.next;)d=d.next={data:o.data};return h}var sn=Be.prototype=ge.prototype;function z(o){return o.x+o.vx}function vt(o){return o.y+o.vy}function Ft(o){var h,d,A=1,v=1;function w(){for(var V,gt,ot,Q,xt,st,B,X=h.length,mt=0;mt<v;++mt)for(gt=Be(h,z,vt).visitAfter(N),V=0;V<X;++V)B=(st=d[(ot=h[V]).index])*st,Q=ot.x+ot.vx,xt=ot.y+ot.vy,gt.visit(q);function q(Pt,Dt,Zt,De,Le){var Oe=Pt.data,Ne=Pt.r,be=st+Ne;if(!Oe)return Dt>Q+be||De<Q-be||Zt>xt+be||Le<xt-be;if(Oe.index>ot.index){var ce=Q-Oe.x-Oe.vx,Me=xt-Oe.y-Oe.vy,tt=ce*ce+Me*Me;tt<be*be&&(0===ce&&(tt+=(ce=le())*ce),0===Me&&(tt+=(Me=le())*Me),tt=(be-(tt=Math.sqrt(tt)))/tt*A,ot.vx+=(ce*=tt)*(be=(Ne*=Ne)/(B+Ne)),ot.vy+=(Me*=tt)*be,Oe.vx-=ce*(be=1-be),Oe.vy-=Me*be)}}}function N(V){if(V.data)return V.r=d[V.data.index];for(var X=V.r=0;X<4;++X)V[X]&&V[X].r>V.r&&(V.r=V[X].r)}function H(){if(h){var V,gt,X=h.length;for(d=new Array(X),V=0;V<X;++V)d[(gt=h[V]).index]=+o(gt,V,h)}}return"function"!=typeof o&&(o=qt(null==o?1:+o)),w.initialize=function(V){h=V,H()},w.iterations=function(V){return arguments.length?(v=+V,w):v},w.strength=function(V){return arguments.length?(A=+V,w):A},w.radius=function(V){return arguments.length?(o="function"==typeof V?V:qt(+V),H(),w):o},w}sn.copy=function(){var d,A,o=new ge(this._x,this._y,this._x0,this._y0,this._x1,this._y1),h=this._root;if(!h)return o;if(!h.length)return o._root=un(h),o;for(d=[{source:h,target:o._root=new Array(4)}];h=d.pop();)for(var v=0;v<4;++v)(A=h.source[v])&&(A.length?d.push({source:A,target:h.target[v]=new Array(4)}):h.target[v]=un(A));return o},sn.add=function ve(o){var h=+this._x.call(null,o),d=+this._y.call(null,o);return oe(this.cover(h,d),h,d,o)},sn.addAll=function ze(o){var h,d,v,w,A=o.length,N=new Array(A),H=new Array(A),V=1/0,X=1/0,gt=-1/0,ot=-1/0;for(d=0;d<A;++d)isNaN(v=+this._x.call(null,h=o[d]))||isNaN(w=+this._y.call(null,h))||(N[d]=v,H[d]=w,v<V&&(V=v),v>gt&&(gt=v),w<X&&(X=w),w>ot&&(ot=w));if(V>gt||X>ot)return this;for(this.cover(V,X).cover(gt,ot),d=0;d<A;++d)oe(this,N[d],H[d],o[d]);return this},sn.cover=function En(o,h){if(isNaN(o=+o)||isNaN(h=+h))return this;var d=this._x0,A=this._y0,v=this._x1,w=this._y1;if(isNaN(d))v=(d=Math.floor(o))+1,w=(A=Math.floor(h))+1;else{for(var V,X,N=v-d,H=this._root;d>o||o>=v||A>h||h>=w;)switch(X=(h<A)<<1|o<d,V=new Array(4),V[X]=H,H=V,N*=2,X){case 0:v=d+N,w=A+N;break;case 1:d=v-N,w=A+N;break;case 2:v=d+N,A=w-N;break;case 3:d=v-N,A=w-N}this._root&&this._root.length&&(this._root=H)}return this._x0=d,this._y0=A,this._x1=v,this._y1=w,this},sn.data=function Tn(){var o=[];return this.visit(function(h){if(!h.length)do{o.push(h.data)}while(h=h.next)}),o},sn.extent=function tn(o){return arguments.length?this.cover(+o[0][0],+o[0][1]).cover(+o[1][0],+o[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},sn.find=function Ze(o,h,d){var A,N,H,V,X,st,B,v=this._x0,w=this._y0,gt=this._x1,ot=this._y1,Q=[],xt=this._root;for(xt&&Q.push(new He(xt,v,w,gt,ot)),null==d?d=1/0:(v=o-d,w=h-d,gt=o+d,ot=h+d,d*=d);st=Q.pop();)if(!(!(xt=st.node)||(N=st.x0)>gt||(H=st.y0)>ot||(V=st.x1)<v||(X=st.y1)<w))if(xt.length){var mt=(N+V)/2,q=(H+X)/2;Q.push(new He(xt[3],mt,q,V,X),new He(xt[2],N,q,mt,X),new He(xt[1],mt,H,V,q),new He(xt[0],N,H,mt,q)),(B=(h>=q)<<1|o>=mt)&&(st=Q[Q.length-1],Q[Q.length-1]=Q[Q.length-1-B],Q[Q.length-1-B]=st)}else{var Pt=o-+this._x.call(null,xt.data),Dt=h-+this._y.call(null,xt.data),Zt=Pt*Pt+Dt*Dt;if(Zt<d){var De=Math.sqrt(d=Zt);v=o-De,w=h-De,gt=o+De,ot=h+De,A=xt.data}}return A},sn.remove=function ln(o){if(isNaN(gt=+this._x.call(null,o))||isNaN(ot=+this._y.call(null,o)))return this;var h,A,v,w,gt,ot,Q,xt,st,B,mt,q,d=this._root,N=this._x0,H=this._y0,V=this._x1,X=this._y1;if(!d)return this;if(d.length)for(;;){if((st=gt>=(Q=(N+V)/2))?N=Q:V=Q,(B=ot>=(xt=(H+X)/2))?H=xt:X=xt,h=d,!(d=d[mt=B<<1|st]))return this;if(!d.length)break;(h[mt+1&3]||h[mt+2&3]||h[mt+3&3])&&(A=h,q=mt)}for(;d.data!==o;)if(v=d,!(d=d.next))return this;return(w=d.next)&&delete d.next,v?(w?v.next=w:delete v.next,this):h?(w?h[mt]=w:delete h[mt],(d=h[0]||h[1]||h[2]||h[3])&&d===(h[3]||h[2]||h[1]||h[0])&&!d.length&&(A?A[q]=d:this._root=d),this):(this._root=w,this)},sn.removeAll=function Vn(o){for(var h=0,d=o.length;h<d;++h)this.remove(o[h]);return this},sn.root=function dn(){return this._root},sn.size=function fn(){var o=0;return this.visit(function(h){if(!h.length)do{++o}while(h=h.next)}),o},sn.visit=function Xn(o){var d,v,w,N,H,V,h=[],A=this._root;for(A&&h.push(new He(A,this._x0,this._y0,this._x1,this._y1));d=h.pop();)if(!o(A=d.node,w=d.x0,N=d.y0,H=d.x1,V=d.y1)&&A.length){var X=(w+H)/2,gt=(N+V)/2;(v=A[3])&&h.push(new He(v,X,gt,H,V)),(v=A[2])&&h.push(new He(v,w,gt,X,V)),(v=A[1])&&h.push(new He(v,X,N,H,gt)),(v=A[0])&&h.push(new He(v,w,N,X,gt))}return this},sn.visitAfter=function en(o){var A,h=[],d=[];for(this._root&&h.push(new He(this._root,this._x0,this._y0,this._x1,this._y1));A=h.pop();){var v=A.node;if(v.length){var w,N=A.x0,H=A.y0,V=A.x1,X=A.y1,gt=(N+V)/2,ot=(H+X)/2;(w=v[0])&&h.push(new He(w,N,H,gt,ot)),(w=v[1])&&h.push(new He(w,gt,H,V,ot)),(w=v[2])&&h.push(new He(w,N,ot,gt,X)),(w=v[3])&&h.push(new He(w,gt,ot,V,X))}d.push(A)}for(;A=d.pop();)o(A.node,A.x0,A.y0,A.x1,A.y1);return this},sn.x=function Cn(o){return arguments.length?(this._x=o,this):this._x},sn.y=function pn(o){return arguments.length?(this._y=o,this):this._y};var Lt=a(4171),Qt=a(89191),Ye=10,nn=Math.PI*(3-Math.sqrt(5));function hn(o){var h,d=1,A=.001,v=1-Math.pow(A,1/300),w=0,N=.6,H=(0,Fn.Tj)(),V=(0,Qt.O1)(gt),X=(0,Lt.A)("tick","end");function gt(){ot(),X.call("tick",h),d<A&&(V.stop(),X.call("end",h))}function ot(st){var B,q,mt=o.length;void 0===st&&(st=1);for(var Pt=0;Pt<st;++Pt)for(d+=(w-d)*v,H.each(function(Dt){Dt(d)}),B=0;B<mt;++B)null==(q=o[B]).fx?q.x+=q.vx*=N:(q.x=q.fx,q.vx=0),null==q.fy?q.y+=q.vy*=N:(q.y=q.fy,q.vy=0);return h}function Q(){for(var mt,st=0,B=o.length;st<B;++st){if((mt=o[st]).index=st,null!=mt.fx&&(mt.x=mt.fx),null!=mt.fy&&(mt.y=mt.fy),isNaN(mt.x)||isNaN(mt.y)){var q=Ye*Math.sqrt(st),Pt=st*nn;mt.x=q*Math.cos(Pt),mt.y=q*Math.sin(Pt)}(isNaN(mt.vx)||isNaN(mt.vy))&&(mt.vx=mt.vy=0)}}function xt(st){return st.initialize&&st.initialize(o),st}return null==o&&(o=[]),Q(),h={tick:ot,restart:function(){return V.restart(gt),h},stop:function(){return V.stop(),h},nodes:function(st){return arguments.length?(o=st,Q(),H.each(xt),h):o},alpha:function(st){return arguments.length?(d=+st,h):d},alphaMin:function(st){return arguments.length?(A=+st,h):A},alphaDecay:function(st){return arguments.length?(v=+st,h):+v},alphaTarget:function(st){return arguments.length?(w=+st,h):w},velocityDecay:function(st){return arguments.length?(N=1-st,h):1-N},force:function(st,B){return arguments.length>1?(null==B?H.remove(st):H.set(st,xt(B)),h):H.get(st)},find:function(st,B,mt){var Dt,Zt,De,Le,Oe,q=0,Pt=o.length;for(null==mt?mt=1/0:mt*=mt,q=0;q<Pt;++q)(De=(Dt=st-(Le=o[q]).x)*Dt+(Zt=B-Le.y)*Zt)<mt&&(Oe=Le,mt=De);return Oe},on:function(st,B){return arguments.length>1?(X.on(st,B),h):X.on(st)}}}function je(){return Math.random()}!function o(h){function d(A,v){return A=null==A?0:+A,v=null==v?1:+v,1===arguments.length?(v=A,A=0):v-=A,function(){return h()*v+A}}return d.source=o,d}(je);const Di=function o(h){function d(A,v){var w,N;return A=null==A?0:+A,v=null==v?1:+v,function(){var H;if(null!=w)H=w,w=null;else do{w=2*h()-1,H=2*h()-1,N=w*w+H*H}while(!N||N>1);return A+v*H*Math.sqrt(-2*Math.log(N)/N)}}return d.source=o,d}(je),qn=(function o(h){function d(){var A=Di.source(h).apply(this,arguments);return function(){return Math.exp(A())}}return d.source=o,d}(je),function o(h){function d(A){return function(){for(var v=0,w=0;w<A;++w)v+=h();return v}}return d.source=o,d}(je));(function o(h){function d(A){var v=qn.source(h)(A);return function(){return v()/A}}return d.source=o,d})(je),function o(h){function d(A){return function(){return-Math.log(1-h())/A}}return d.source=o,d}(je);var hi=a(16354),Si=a(14221),Fi=a(42472),b=a(6476),k=a(53052),Y=a(97833);function St(){this._=null}function Nt(o){o.U=o.C=o.L=o.R=o.P=o.N=null}function Ct(o,h){var d=h,A=h.R,v=d.U;v?v.L===d?v.L=A:v.R=A:o._=A,A.U=v,d.U=A,d.R=A.L,d.R&&(d.R.U=d),A.L=d}function Gt(o,h){var d=h,A=h.L,v=d.U;v?v.L===d?v.L=A:v.R=A:o._=A,A.U=v,d.U=A,d.L=A.R,d.L&&(d.L.U=d),A.R=d}function Ht(o){for(;o.L;)o=o.L;return o}a(72625),St.prototype={constructor:St,insert:function(o,h){var d,A,v;if(o){if(h.P=o,h.N=o.N,o.N&&(o.N.P=h),o.N=h,o.R){for(o=o.R;o.L;)o=o.L;o.L=h}else o.R=h;d=o}else this._?(o=Ht(this._),h.P=null,h.N=o,o.P=o.L=h,d=o):(h.P=h.N=null,this._=h,d=null);for(h.L=h.R=null,h.U=d,h.C=!0,o=h;d&&d.C;)d===(A=d.U).L?(v=A.R)&&v.C?(d.C=v.C=!1,A.C=!0,o=A):(o===d.R&&(Ct(this,d),d=(o=d).U),d.C=!1,A.C=!0,Gt(this,A)):(v=A.L)&&v.C?(d.C=v.C=!1,A.C=!0,o=A):(o===d.L&&(Gt(this,d),d=(o=d).U),d.C=!1,A.C=!0,Ct(this,A)),d=o.U;this._.C=!1},remove:function(o){o.N&&(o.N.P=o.P),o.P&&(o.P.N=o.N),o.N=o.P=null;var d,w,N,h=o.U,A=o.L,v=o.R;if(w=A?v?Ht(v):A:v,h?h.L===o?h.L=w:h.R=w:this._=w,A&&v?(N=w.C,w.C=o.C,w.L=A,A.U=w,w!==v?(h=w.U,w.U=o.U,h.L=o=w.R,w.R=v,v.U=w):(w.U=h,h=w,o=w.R)):(N=o.C,o=w),o&&(o.U=h),!N){if(o&&o.C)return void(o.C=!1);do{if(o===this._)break;if(o===h.L){if((d=h.R).C&&(d.C=!1,h.C=!0,Ct(this,h),d=h.R),d.L&&d.L.C||d.R&&d.R.C){(!d.R||!d.R.C)&&(d.L.C=!1,d.C=!0,Gt(this,d),d=h.R),d.C=h.C,h.C=d.R.C=!1,Ct(this,h),o=this._;break}}else if((d=h.L).C&&(d.C=!1,h.C=!0,Gt(this,h),d=h.L),d.L&&d.L.C||d.R&&d.R.C){(!d.L||!d.L.C)&&(d.R.C=!1,d.C=!0,Ct(this,d),d=h.L),d.C=h.C,h.C=d.L.C=!1,Gt(this,h),o=this._;break}d.C=!0,o=h,h=h.U}while(!o.C);o&&(o.C=!1)}}};const zt=St;function Xt(o,h,d,A){var v=[null,null],w=Ln.push(v)-1;return v.left=o,v.right=h,d&&xe(v,o,h,d),A&&xe(v,h,o,A),Yn[o.index].halfedges.push(w),Yn[h.index].halfedges.push(w),v}function he(o,h,d){var A=[h,d];return A.left=o,A}function xe(o,h,d,A){o[0]||o[1]?o.left===d?o[1]=A:o[0]=A:(o[0]=A,o.left=h,o.right=d)}function Fe(o,h,d,A,v){var B,w=o[0],N=o[1],H=w[0],V=w[1],ot=0,Q=1,xt=N[0]-H,st=N[1]-V;if(B=h-H,xt||!(B>0)){if(B/=xt,xt<0){if(B<ot)return;B<Q&&(Q=B)}else if(xt>0){if(B>Q)return;B>ot&&(ot=B)}if(B=A-H,xt||!(B<0)){if(B/=xt,xt<0){if(B>Q)return;B>ot&&(ot=B)}else if(xt>0){if(B<ot)return;B<Q&&(Q=B)}if(B=d-V,st||!(B>0)){if(B/=st,st<0){if(B<ot)return;B<Q&&(Q=B)}else if(st>0){if(B>Q)return;B>ot&&(ot=B)}if(B=v-V,st||!(B<0)){if(B/=st,st<0){if(B>Q)return;B>ot&&(ot=B)}else if(st>0){if(B<ot)return;B<Q&&(Q=B)}return!(ot>0)&&!(Q<1)||(ot>0&&(o[0]=[H+ot*xt,V+ot*st]),Q<1&&(o[1]=[H+Q*xt,V+Q*st])),!0}}}}}function ii(o,h,d,A,v){var w=o[1];if(w)return!0;var B,mt,N=o[0],H=o.left,V=o.right,X=H[0],gt=H[1],ot=V[0],Q=V[1],xt=(X+ot)/2;if(Q===gt){if(xt<h||xt>=A)return;if(X>ot){if(N){if(N[1]>=v)return}else N=[xt,d];w=[xt,v]}else{if(N){if(N[1]<d)return}else N=[xt,v];w=[xt,d]}}else if(mt=(gt+Q)/2-(B=(X-ot)/(Q-gt))*xt,B<-1||B>1)if(X>ot){if(N){if(N[1]>=v)return}else N=[(d-mt)/B,d];w=[(v-mt)/B,v]}else{if(N){if(N[1]<d)return}else N=[(v-mt)/B,v];w=[(d-mt)/B,d]}else if(gt<Q){if(N){if(N[0]>=A)return}else N=[h,B*h+mt];w=[A,B*A+mt]}else{if(N){if(N[0]<h)return}else N=[A,B*A+mt];w=[h,B*h+mt]}return o[0]=N,o[1]=w,!0}function Er(o,h){var d=o.site,A=h.left,v=h.right;return d===v&&(v=A,A=d),v?Math.atan2(v[1]-A[1],v[0]-A[0]):(d===A?(A=h[1],v=h[0]):(A=h[0],v=h[1]),Math.atan2(A[0]-v[0],v[1]-A[1]))}function Xi(o,h){return h[+(h.left!==o.site)]}function vi(o,h){return h[+(h.left===o.site)]}var fi,ti=[];function Ti(){Nt(this),this.x=this.y=this.arc=this.site=this.cy=null}function ri(o){var h=o.P,d=o.N;if(h&&d){var A=h.site,v=o.site,w=d.site;if(A!==w){var N=v[0],H=v[1],V=A[0]-N,X=A[1]-H,gt=w[0]-N,ot=w[1]-H,Q=2*(V*ot-X*gt);if(!(Q>=-hr)){var xt=V*V+X*X,st=gt*gt+ot*ot,B=(ot*xt-X*st)/Q,mt=(V*st-gt*xt)/Q,q=ti.pop()||new Ti;q.arc=o,q.site=v,q.x=B+N,q.y=(q.cy=mt+H)+Math.sqrt(B*B+mt*mt),o.circle=q;for(var Pt=null,Dt=xi._;Dt;)if(q.y<Dt.y||q.y===Dt.y&&q.x<=Dt.x){if(!Dt.L){Pt=Dt.P;break}Dt=Dt.L}else{if(!Dt.R){Pt=Dt;break}Dt=Dt.R}xi.insert(Pt,q),Pt||(fi=q)}}}}function qe(o){var h=o.circle;h&&(h.P||(fi=h.N),xi.remove(h),ti.push(h),Nt(h),o.circle=null)}var Qi=[];function lr(){Nt(this),this.edge=this.site=this.circle=null}function Ve(o){var h=Qi.pop()||new lr;return h.site=o,h}function Mn(o){qe(o),Pi.remove(o),Qi.push(o),Nt(o)}function yi(o){var h=o.circle,d=h.x,A=h.cy,v=[d,A],w=o.P,N=o.N,H=[o];Mn(o);for(var V=w;V.circle&&Math.abs(d-V.circle.x)<mn&&Math.abs(A-V.circle.cy)<mn;)w=V.P,H.unshift(V),Mn(V),V=w;H.unshift(V),qe(V);for(var X=N;X.circle&&Math.abs(d-X.circle.x)<mn&&Math.abs(A-X.circle.cy)<mn;)N=X.N,H.push(X),Mn(X),X=N;H.push(X),qe(X);var ot,gt=H.length;for(ot=1;ot<gt;++ot)xe((X=H[ot]).edge,(V=H[ot-1]).site,X.site,v);(X=H[gt-1]).edge=Xt((V=H[0]).site,X.site,null,v),ri(V),ri(X)}function Wn(o){for(var A,v,w,N,h=o[0],d=o[1],H=Pi._;H;)if((w=Pn(H,d)-h)>mn)H=H.L;else{if(!((N=h-ur(H,d))>mn)){w>-mn?(A=H.P,v=H):N>-mn?(A=H,v=H.N):A=v=H;break}if(!H.R){A=H;break}H=H.R}!function mi(o){Yn[o.index]={site:o,halfedges:[]}}(o);var V=Ve(o);if(Pi.insert(A,V),A||v){if(A===v)return qe(A),v=Ve(A.site),Pi.insert(V,v),V.edge=v.edge=Xt(A.site,V.site),ri(A),void ri(v);if(!v)return void(V.edge=Xt(A.site,V.site));qe(A),qe(v);var X=A.site,gt=X[0],ot=X[1],Q=o[0]-gt,xt=o[1]-ot,st=v.site,B=st[0]-gt,mt=st[1]-ot,q=2*(Q*mt-xt*B),Pt=Q*Q+xt*xt,Dt=B*B+mt*mt,Zt=[(mt*Pt-xt*Dt)/q+gt,(Q*Dt-B*Pt)/q+ot];xe(v.edge,X,st,Zt),V.edge=Xt(X,o,null,Zt),v.edge=Xt(o,st,null,Zt),ri(A),ri(v)}}function Pn(o,h){var d=o.site,A=d[0],v=d[1],w=v-h;if(!w)return A;var N=o.P;if(!N)return-1/0;var H=(d=N.site)[0],V=d[1],X=V-h;if(!X)return H;var gt=H-A,ot=1/w-1/X,Q=gt/X;return ot?(-Q+Math.sqrt(Q*Q-2*ot*(gt*gt/(-2*X)-V+X/2+v-w/2)))/ot+A:(A+H)/2}function ur(o,h){var d=o.N;if(d)return Pn(d,h);var A=o.site;return A[1]===h?A[0]:1/0}var Pi,Yn,xi,Ln,mn=1e-6,hr=1e-12;function dr(o,h,d){return(o[0]-d[0])*(h[1]-o[1])-(o[0]-h[0])*(d[1]-o[1])}function fr(o,h){return h[1]-o[1]||h[0]-o[0]}function Hi(o,h){var A,v,w,d=o.sort(fr).pop();for(Ln=[],Yn=new Array(o.length),Pi=new zt,xi=new zt;;)if(w=fi,d&&(!w||d[1]<w.y||d[1]===w.y&&d[0]<w.x))(d[0]!==A||d[1]!==v)&&(Wn(d),A=d[0],v=d[1]),d=o.pop();else{if(!w)break;yi(w.arc)}if(function cr(){for(var d,A,v,w,o=0,h=Yn.length;o<h;++o)if((d=Yn[o])&&(w=(A=d.halfedges).length)){var N=new Array(w),H=new Array(w);for(v=0;v<w;++v)N[v]=v,H[v]=Er(d,Ln[A[v]]);for(N.sort(function(V,X){return H[X]-H[V]}),v=0;v<w;++v)H[v]=A[N[v]];for(v=0;v<w;++v)A[v]=H[v]}}(),h){var N=+h[0][0],H=+h[0][1],V=+h[1][0],X=+h[1][1];(function In(o,h,d,A){for(var w,v=Ln.length;v--;)ii(w=Ln[v],o,h,d,A)&&Fe(w,o,h,d,A)&&(Math.abs(w[0][0]-w[1][0])>mn||Math.abs(w[0][1]-w[1][1])>mn)||delete Ln[v]})(N,H,V,X),function Ni(o,h,d,A){var w,N,H,V,X,gt,ot,Q,xt,st,B,mt,v=Yn.length,q=!0;for(w=0;w<v;++w)if(N=Yn[w]){for(H=N.site,V=(X=N.halfedges).length;V--;)Ln[X[V]]||X.splice(V,1);for(V=0,gt=X.length;V<gt;)B=(st=vi(N,Ln[X[V]]))[0],mt=st[1],Q=(ot=Xi(N,Ln[X[++V%gt]]))[0],xt=ot[1],(Math.abs(B-Q)>mn||Math.abs(mt-xt)>mn)&&(X.splice(V,0,Ln.push(he(H,st,Math.abs(B-o)<mn&&A-mt>mn?[o,Math.abs(Q-o)<mn?xt:A]:Math.abs(mt-A)<mn&&d-B>mn?[Math.abs(xt-A)<mn?Q:d,A]:Math.abs(B-d)<mn&&mt-h>mn?[d,Math.abs(Q-d)<mn?xt:h]:Math.abs(mt-h)<mn&&B-o>mn?[Math.abs(xt-h)<mn?Q:o,h]:null))-1),++gt);gt&&(q=!1)}if(q){var Pt,Dt,Zt,De=1/0;for(w=0,q=null;w<v;++w)(N=Yn[w])&&(Zt=(Pt=(H=N.site)[0]-o)*Pt+(Dt=H[1]-h)*Dt)<De&&(De=Zt,q=N);if(q){var Le=[o,h],Oe=[o,A],Ne=[d,A],be=[d,h];q.halfedges.push(Ln.push(he(H=q.site,Le,Oe))-1,Ln.push(he(H,Oe,Ne))-1,Ln.push(he(H,Ne,be))-1,Ln.push(he(H,be,Le))-1)}}for(w=0;w<v;++w)(N=Yn[w])&&(N.halfedges.length||delete Yn[w])}(N,H,V,X)}this.edges=Ln,this.cells=Yn,Pi=xi=Ln=Yn=null}function bi(o,h,d){this.k=o,this.x=h,this.y=d}Hi.prototype={constructor:Hi,polygons:function(){var o=this.edges;return this.cells.map(function(h){var d=h.halfedges.map(function(A){return Xi(h,o[A])});return d.data=h.site.data,d})},triangles:function(){var o=[],h=this.edges;return this.cells.forEach(function(d,A){if(H=(w=d.halfedges).length)for(var w,H,V,v=d.site,N=-1,X=h[w[H-1]],gt=X.left===v?X.right:X.left;++N<H;)V=gt,gt=(X=h[w[N]]).left===v?X.right:X.left,V&&gt&&A<V.index&&A<gt.index&&dr(v,V,gt)<0&&o.push([v.data,V.data,gt.data])}),o},links:function(){return this.edges.filter(function(o){return o.right}).map(function(o){return{source:o.left.data,target:o.right.data}})},find:function(o,h,d){for(var v,H,A=this,w=A._found||0,N=A.cells.length;!(H=A.cells[w]);)if(++w>=N)return null;var V=o-H.site[0],X=h-H.site[1],gt=V*V+X*X;do{H=A.cells[v=w],w=null,H.halfedges.forEach(function(ot){var Q=A.edges[ot],xt=Q.left;if(xt!==H.site&&xt||(xt=Q.right)){var st=o-xt[0],B=h-xt[1],mt=st*st+B*B;mt<gt&&(gt=mt,w=xt.index)}})}while(null!==w);return A._found=v,null==d||gt<=d*d?H.site:null}},bi.prototype={constructor:bi,scale:function(o){return 1===o?this:new bi(this.k*o,this.x,this.y)},translate:function(o,h){return 0===o&0===h?this:new bi(this.k,this.x+this.k*o,this.y+this.k*h)},apply:function(o){return[o[0]*this.k+this.x,o[1]*this.k+this.y]},applyX:function(o){return o*this.k+this.x},applyY:function(o){return o*this.k+this.y},invert:function(o){return[(o[0]-this.x)/this.k,(o[1]-this.y)/this.k]},invertX:function(o){return(o-this.x)/this.k},invertY:function(o){return(o-this.y)/this.k},rescaleX:function(o){return o.copy().domain(o.range().map(this.invertX,this).map(o.invert,o))},rescaleY:function(o){return o.copy().domain(o.range().map(this.invertY,this).map(o.invert,o))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new bi(1,0,0)},55228:Tt=>{Tt.exports=function ut(a,g,P,m){for(var J=-1,I=null==a?0:a.length;++J<I;){var F=a[J];g(m,F,P(F),a)}return m}},37930:(Tt,ut,a)=>{var g=a(21713),P=a(35565);Tt.exports=function m(J,I,F){(void 0!==F&&!P(J[I],F)||void 0===F&&!(I in J))&&g(J,I,F)}},62578:(Tt,ut,a)=>{var g=a(36506);Tt.exports=function P(m,J,I,F){return g(m,function(et,_,S){J(F,et,I(et),S)}),F}},74381:Tt=>{Tt.exports=function ut(a,g,P){var m;return P(a,function(J,I,F){if(g(J,I,F))return m=I,!1}),m}},2075:(Tt,ut,a)=>{var g=a(79980),P=a(37930),m=a(59412),J=a(78757),I=a(39148),F=a(84680),et=a(25611);Tt.exports=function _(S,O,G,U,C){S!==O&&m(O,function(E,R){if(C||(C=new g),I(E))J(S,O,R,G,_,U,C);else{var Z=U?U(et(S,R),E,R+"",S,O,C):void 0;void 0===Z&&(Z=E),P(S,R,Z)}},F)}},78757:(Tt,ut,a)=>{var g=a(37930),P=a(52587),m=a(60616),J=a(58242),I=a(16892),F=a(75123),et=a(29142),_=a(33086),S=a(77997),O=a(72535),G=a(39148),U=a(17832),C=a(78074),E=a(25611),R=a(66767);Tt.exports=function Z(W,nt,$,ht,j,_t,it){var ft=E(W,$),wt=E(nt,$),ct=it.get(wt);if(ct)g(W,$,ct);else{var at=_t?_t(ft,wt,$+"",W,nt,it):void 0,rt=void 0===at;if(rt){var kt=et(wt),Ut=!kt&&S(wt),ee=!kt&&!Ut&&C(wt);at=wt,kt||Ut||ee?et(ft)?at=ft:_(ft)?at=J(ft):Ut?(rt=!1,at=P(wt,!0)):ee?(rt=!1,at=m(wt,!0)):at=[]:U(wt)||F(wt)?(at=ft,F(ft)?at=R(ft):(!G(ft)||O(ft))&&(at=I(wt))):rt=!1}rt&&(it.set(wt,at),j(at,wt,ht,_t,it),it.delete(wt)),g(W,$,at)}}},16806:(Tt,ut,a)=>{var g=a(34606);Tt.exports=function P(m,J){for(var I=m.length;I--&&g(J,m[I],0)>-1;);return I}},82257:(Tt,ut,a)=>{var g=a(34606);Tt.exports=function P(m,J){for(var I=-1,F=m.length;++I<F&&g(J,m[I],0)>-1;);return I}},33763:(Tt,ut,a)=>{var g=a(55228),P=a(62578),m=a(39078),J=a(29142);Tt.exports=function I(F,et){return function(_,S){var O=J(_)?g:P,G=et?et():{};return O(_,F,m(S,2),G)}}},86059:(Tt,ut,a)=>{var g=a(2075),P=a(39148);Tt.exports=function m(J,I,F,et,_,S){return P(J)&&P(I)&&(S.set(I,J),g(J,I,void 0,m,S),S.delete(I)),J}},25611:Tt=>{Tt.exports=function ut(a,g){if(("constructor"!==g||"function"!=typeof a[g])&&"__proto__"!=g)return a[g]}},41895:(Tt,ut,a)=>{var g=a(90304),P=a(25897),m=a(86059),J=a(22251),I=P(function(F){return F.push(void 0,m),g(J,void 0,F)});Tt.exports=I},40437:(Tt,ut,a)=>{var g=a(74381),P=a(74594),m=a(39078);Tt.exports=function J(I,F){return g(I,m(F,3),P)}},95478:(Tt,ut,a)=>{var g=a(34606),P=a(51578),m=Math.max;Tt.exports=function J(I,F,et){var _=null==I?0:I.length;if(!_)return-1;var S=null==et?0:P(et);return S<0&&(S=m(_+S,0)),g(I,F,S)}},97861:(Tt,ut,a)=>{var g=a(21713),m=a(33763)(function(J,I,F){g(J,F,I)});Tt.exports=m},22251:(Tt,ut,a)=>{var g=a(2075),m=a(10552)(function(J,I,F,et){g(J,I,F,et)});Tt.exports=m},51807:(Tt,ut,a)=>{var g=a(1335),P=a(39078),m=a(70039),J=a(66930);Tt.exports=function I(F,et){if(null==F)return{};var _=g(J(F),function(S){return[S]});return et=P(et),m(F,_,function(S,O){return et(S,O[0])})}},53674:(Tt,ut,a)=>{var g=a(63017),P=a(24390),m=a(25897),J=a(13927),I=m(function(F,et){if(null==F)return[];var _=et.length;return _>1&&J(F,et[0],et[1])?et=[]:_>2&&J(et[0],et[1],et[2])&&(et=[et[0]]),P(F,g(et,1),[])});Tt.exports=I},66767:(Tt,ut,a)=>{var g=a(20088),P=a(84680);Tt.exports=function m(J){return g(J,P(J))}},28603:(Tt,ut,a)=>{var g=a(9059),P=a(73955),m=a(43939),J=a(16806),I=a(82257),F=a(19261),et=a(41387);Tt.exports=function _(S,O,G){if((S=et(S))&&(G||void 0===O))return P(S);if(!S||!(O=g(O)))return S;var U=F(S),C=F(O),E=I(U,C),R=J(U,C)+1;return m(U,E,R).join("")}},40626:(Tt,ut,a)=>{var g=a(9059),P=a(43939),m=a(16806),J=a(19261),I=a(41387),F=a(3809);Tt.exports=function et(_,S,O){if((_=I(_))&&(O||void 0===S))return _.slice(0,F(_)+1);if(!_||!(S=g(S)))return _;var G=J(_),U=m(G,J(S))+1;return P(G,0,U).join("")}},30383:(Tt,ut,a)=>{var g=a(9059),P=a(43939),m=a(82257),J=a(19261),I=a(41387),F=/^\s+/;Tt.exports=function et(_,S,O){if((_=I(_))&&(O||void 0===S))return _.replace(F,"");if(!_||!(S=g(S)))return _;var G=J(_),U=m(G,J(S));return P(G,U).join("")}},97333:(Tt,ut,a)=>{var g=a(63017),P=a(39078),m=a(25897),J=a(36718),I=a(33086),F=a(22311),et=m(function(_){var S=F(_);return I(S)&&(S=void 0),J(g(_,1,I,!0),P(S,2))});Tt.exports=et},64230:(Tt,ut,a)=>{var g=a(36718);Tt.exports=function P(m){return m&&m.length?g(m):[]}},13793:(Tt,ut,a)=>{"use strict";function g(K,At,te){K.prototype=At.prototype=te,te.constructor=K}function P(K,At){var te=Object.create(K.prototype);for(var fe in At)te[fe]=At[fe];return te}function m(){}a.d(ut,{Ay:()=>j,Qh:()=>wt});var J=.7,I=1/J,F="\\s*([+-]?\\d+)\\s*",et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S=/^#([0-9a-f]{3,8})$/,O=new RegExp(`^rgb\\(${F},${F},${F}\\)$`),G=new RegExp(`^rgb\\(${_},${_},${_}\\)$`),U=new RegExp(`^rgba\\(${F},${F},${F},${et}\\)$`),C=new RegExp(`^rgba\\(${_},${_},${_},${et}\\)$`),E=new RegExp(`^hsl\\(${et},${_},${_}\\)$`),R=new RegExp(`^hsla\\(${et},${_},${_},${et}\\)$`),Z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function W(){return this.rgb().formatHex()}function ht(){return this.rgb().formatRgb()}function j(K){var At,te;return K=(K+"").trim().toLowerCase(),(At=S.exec(K))?(te=At[1].length,At=parseInt(At[1],16),6===te?_t(At):3===te?new ct(At>>8&15|At>>4&240,At>>4&15|240&At,(15&At)<<4|15&At,1):8===te?it(At>>24&255,At>>16&255,At>>8&255,(255&At)/255):4===te?it(At>>12&15|At>>8&240,At>>8&15|At>>4&240,At>>4&15|240&At,((15&At)<<4|15&At)/255):null):(At=O.exec(K))?new ct(At[1],At[2],At[3],1):(At=G.exec(K))?new ct(255*At[1]/100,255*At[2]/100,255*At[3]/100,1):(At=U.exec(K))?it(At[1],At[2],At[3],At[4]):(At=C.exec(K))?it(255*At[1]/100,255*At[2]/100,255*At[3]/100,At[4]):(At=E.exec(K))?Ee(At[1],At[2]/100,At[3]/100,1):(At=R.exec(K))?Ee(At[1],At[2]/100,At[3]/100,At[4]):Z.hasOwnProperty(K)?_t(Z[K]):"transparent"===K?new ct(NaN,NaN,NaN,0):null}function _t(K){return new ct(K>>16&255,K>>8&255,255&K,1)}function it(K,At,te,fe){return fe<=0&&(K=At=te=NaN),new ct(K,At,te,fe)}function wt(K,At,te,fe){return 1===arguments.length?function ft(K){return K instanceof m||(K=j(K)),K?new ct((K=K.rgb()).r,K.g,K.b,K.opacity):new ct}(K):new ct(K,At,te,fe??1)}function ct(K,At,te,fe){this.r=+K,this.g=+At,this.b=+te,this.opacity=+fe}function at(){return`#${Te(this.r)}${Te(this.g)}${Te(this.b)}`}function kt(){const K=Ut(this.opacity);return`${1===K?"rgb(":"rgba("}${ee(this.r)}, ${ee(this.g)}, ${ee(this.b)}${1===K?")":`, ${K})`}`}function Ut(K){return isNaN(K)?1:Math.max(0,Math.min(1,K))}function ee(K){return Math.max(0,Math.min(255,Math.round(K)||0))}function Te(K){return((K=ee(K))<16?"0":"")+K.toString(16)}function Ee(K,At,te,fe){return fe<=0?K=At=te=NaN:te<=0||te>=1?K=At=NaN:At<=0&&(K=NaN),new Xe(K,At,te,fe)}function ie(K){if(K instanceof Xe)return new Xe(K.h,K.s,K.l,K.opacity);if(K instanceof m||(K=j(K)),!K)return new Xe;if(K instanceof Xe)return K;var At=(K=K.rgb()).r/255,te=K.g/255,fe=K.b/255,It=Math.min(At,te,fe),ae=Math.max(At,te,fe),Ue=NaN,$e=ae-It,on=(ae+It)/2;return $e?(Ue=At===ae?(te-fe)/$e+6*(te<fe):te===ae?(fe-At)/$e+2:(At-te)/$e+4,$e/=on<.5?ae+It:2-ae-It,Ue*=60):$e=on>0&&on<1?0:Ue,new Xe(Ue,$e,on,K.opacity)}function Xe(K,At,te,fe){this.h=+K,this.s=+At,this.l=+te,this.opacity=+fe}function ke(K){return(K=(K||0)%360)<0?K+360:K}function Ke(K){return Math.max(0,Math.min(1,K||0))}function xn(K,At,te){return 255*(K<60?At+(te-At)*K/60:K<180?te:K<240?At+(te-At)*(240-K)/60:At)}g(m,j,{copy(K){return Object.assign(new this.constructor,this,K)},displayable(){return this.rgb().displayable()},hex:W,formatHex:W,formatHex8:function nt(){return this.rgb().formatHex8()},formatHsl:function $(){return ie(this).formatHsl()},formatRgb:ht,toString:ht}),g(ct,wt,P(m,{brighter(K){return K=null==K?I:Math.pow(I,K),new ct(this.r*K,this.g*K,this.b*K,this.opacity)},darker(K){return K=null==K?J:Math.pow(J,K),new ct(this.r*K,this.g*K,this.b*K,this.opacity)},rgb(){return this},clamp(){return new ct(ee(this.r),ee(this.g),ee(this.b),Ut(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:at,formatHex:at,formatHex8:function rt(){return`#${Te(this.r)}${Te(this.g)}${Te(this.b)}${Te(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:kt,toString:kt})),g(Xe,function Re(K,At,te,fe){return 1===arguments.length?ie(K):new Xe(K,At,te,fe??1)},P(m,{brighter(K){return K=null==K?I:Math.pow(I,K),new Xe(this.h,this.s,this.l*K,this.opacity)},darker(K){return K=null==K?J:Math.pow(J,K),new Xe(this.h,this.s,this.l*K,this.opacity)},rgb(){var K=this.h%360+360*(this.h<0),At=isNaN(K)||isNaN(this.s)?0:this.s,te=this.l,fe=te+(te<.5?te:1-te)*At,It=2*te-fe;return new ct(xn(K>=240?K-240:K+120,It,fe),xn(K,It,fe),xn(K<120?K+240:K-120,It,fe),this.opacity)},clamp(){return new Xe(ke(this.h),Ke(this.s),Ke(this.l),Ut(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const K=Ut(this.opacity);return`${1===K?"hsl(":"hsla("}${ke(this.h)}, ${100*Ke(this.s)}%, ${100*Ke(this.l)}%${1===K?")":`, ${K})`}`}}))}}]);