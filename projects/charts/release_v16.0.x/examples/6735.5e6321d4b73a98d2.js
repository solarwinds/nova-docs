(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[6735],{78634:(Pt,ht,a)=>{"use strict";a.d(ht,{p:()=>Q});var g=a(20021),T=a(33634),p=a(99019);let Q=(()=>{class I{chartComponent;chartCollectionService;collectionId;constructor(nt,b){this.chartComponent=nt,this.chartCollectionService=b}ngOnChanges(nt){const b=nt.collectionId;b&&(b.previousValue&&this.chartCollectionService.getChartCollection(b.previousValue).removeChart(this.chartComponent.chart),b.currentValue&&this.chartCollectionService.getChartCollection(b.currentValue).addChart(this.chartComponent.chart))}static \u0275fac=function(b){return new(b||I)(p.rXU(g.fI),p.rXU(T.y))};static \u0275dir=p.FsC({type:I,selectors:[["","nuiChartCollectionId",""]],inputs:{collectionId:["nuiChartCollectionId","collectionId"]},features:[p.OA$]})}return I})()},33634:(Pt,ht,a)=>{"use strict";a.d(ht,{y:()=>I});var g=a(64755),T=a.n(g),p=a(57219),Q=a(99019);let I=(()=>{class F{collections={};getChartCollection(b){let S=this.collections[b];return T()(S)&&(S=new p.f,this.collections[b]=S),S}static \u0275fac=function(S){return new(S||F)};static \u0275prov=Q.jDH({token:F,factory:F.\u0275fac})}return F})()},45558:(Pt,ht,a)=>{"use strict";a.d(ht,{t:()=>F}),a(76830);var T=a(99019),p=a(54739);function Q(nt,b){if(1&nt&&(T.j41(0,"div",1),T.SdG(1),T.k0s()),2&nt){const S=T.XpG();T.xc7("top",S.contentPosition.top,"px")("left",S.contentPosition.left,"px")("height",S.contentPosition.height,"px")("width",S.contentPosition.width,"px")}}const I=["*"];let F=(()=>{class nt{plugin;contentPosition;contentPositionUpdateSubscription;ngOnChanges(S){S.plugin&&(this.contentPositionUpdateSubscription?.unsubscribe(),this.contentPositionUpdateSubscription=this.plugin.contentPositionUpdateSubject.subscribe(O=>{this.contentPosition=O}),this.plugin.chart.updateDimensions())}ngOnDestroy(){this.contentPositionUpdateSubscription&&this.contentPositionUpdateSubscription.unsubscribe()}static \u0275fac=function(O){return new(O||nt)};static \u0275cmp=T.VBU({type:nt,selectors:[["nui-chart-donut-content"]],inputs:{plugin:"plugin"},features:[T.OA$],ngContentSelectors:I,decls:1,vars:1,consts:[["class","nui-chart-donut-content d-flex justify-content-center align-items-center text-center",3,"top","left","height","width",4,"ngIf"],[1,"nui-chart-donut-content","d-flex","justify-content-center","align-items-center","text-center"]],template:function(O,z){1&O&&(T.NAR(),T.DNE(0,Q,2,8,"div",0)),2&O&&T.Y8G("ngIf",z.plugin&&z.contentPosition)},dependencies:[p.bT],styles:[".nui-chart-donut-content[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;width:100%;height:100%;overflow:hidden;text-overflow:ellipsis}"]})}return nt})()},43846:(Pt,ht,a)=>{"use strict";a.d(ht,{C:()=>nt});var g=a(72535),T=a.n(g),p=a(60142),Q=a(99019);const I=["svgContent"];let nt=(()=>{class b{changeDetector;marker;drawLine;color;maxSize=20;svgContent;viewBox;height="10px";width="10px";svg=new p.t("");constructor(O){this.changeDetector=O}ngAfterViewInit(){this.svg.subscribe(O=>{this.renderMarkerSvg(O)})}ngOnChanges(O){(O.marker||O.color)&&(O.color&&this.marker.setColor(this.color),this.marker&&this.marker.getSvg&&T()(this.marker.getSvg)&&this.svg.next(this.marker.getSvg()))}ngOnDestroy(){this.svg.complete()}renderMarkerSvg(O){const z=this.svgContent.nativeElement,N=`<line x1="-10" y1="0" x2="10" y2="0" style="stroke:${this.color};stroke-width:2" />`;z.innerHTML="",this.drawLine&&z.insertAdjacentHTML("beforeend",N),z.insertAdjacentHTML("beforeend",O),setTimeout(()=>{const C=z.getBBox();this.viewBox=`${C.x-3} ${C.y-3} ${C.width+6} ${C.height+6}`,this.width=Math.min(C.width+6,this.maxSize)+"px",this.height=Math.min(C.height+6,this.maxSize)+"px",this.changeDetector.markForCheck()})}static \u0275fac=function(z){return new(z||b)(Q.rXU(Q.gRc))};static \u0275cmp=Q.VBU({type:b,selectors:[["nui-chart-marker"]],viewQuery:function(z,N){if(1&z&&Q.GBs(I,5),2&z){let C;Q.mGM(C=Q.lsd())&&(N.svgContent=C.first)}},inputs:{marker:"marker",drawLine:"drawLine",color:"color",maxSize:"maxSize"},features:[Q.OA$],decls:3,vars:3,consts:[["svgContent",""]],template:function(z,N){1&z&&(Q.qSk(),Q.j41(0,"svg"),Q.nrm(1,"g",null,0),Q.k0s()),2&z&&Q.BMQ("width",N.width)("height",N.height)("viewBox",N.viewBox)},styles:["[_nghost-%COMP%]{font-size:0}"]})}return b})()},19290:(Pt,ht,a)=>{"use strict";a.d(ht,{x:()=>z});var g=a(99019),T=a(52667),p=a(76211),Q=a(29091),F=(a(91449),a(54739));function nt(N,C){1&N&&g.eu8(0)}const b=function(N){return{dataPoints:N}};function S(N,C){if(1&N&&g.DNE(0,nt,1,0,"ng-container",3),2&N){const A=g.XpG(2);g.Y8G("ngTemplateOutlet",A.template)("ngTemplateOutletContext",g.eq3(2,b,A.plugin.dataPoints))}}function O(N,C){if(1&N&&(g.j41(0,"div"),g.nrm(1,"nui-popover",1),g.DNE(2,S,1,4,"ng-template",null,2,g.C5r),g.k0s()),2&N){const A=g.sdS(3),P=g.XpG();g.R7$(1),g.xc7("height",P.plugin.popoverTargetPosition.height,"px"),g.Y8G("unlimited",!0)("template",A)("openPopover",P.plugin.openPopoverSubject)("closePopover",P.plugin.closePopoverSubject)("hasPadding",!1)("container",P.element.nativeElement)("withGrowAfterOpen",!0)}}let z=(()=>{class N{changeDetector;element;plugin;template;update=new g.bkB;popover;destroy$=new T.B;initPlugin$=new T.B;constructor(A,P){this.changeDetector=A,this.element=P}ngOnChanges(A){A.plugin&&!A.plugin.isFirstChange()&&this.initPlugin()}ngOnInit(){this.initPlugin()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.initPlugin$.complete()}initPlugin(){this.initPlugin$.next(),this.plugin?.openPopoverSubject.pipe((0,p.Q)(this.initPlugin$),(0,p.Q)(this.destroy$)).subscribe(()=>{this.changeDetector.markForCheck()}),this.plugin?.updatePositionSubject.pipe((0,p.Q)(this.initPlugin$),(0,p.Q)(this.destroy$)).subscribe(A=>{this.popover?.resetSize(),this.element.nativeElement.style.left=A.left+A.width/2+"px",this.element.nativeElement.style.top=A.top+"px",this.popover?.updatePosition(),this.update.next(this.plugin?.dataPoints)})}static \u0275fac=function(P){return new(P||N)(g.rXU(g.gRc),g.rXU(g.aKT))};static \u0275cmp=g.VBU({type:N,selectors:[["nui-chart-popover"]],viewQuery:function(P,Z){if(1&P&&g.GBs(Q.r3H,5),2&P){let X;g.mGM(X=g.lsd())&&(Z.popover=X.first)}},inputs:{plugin:"plugin",template:"template"},outputs:{update:"update"},features:[g.OA$],decls:1,vars:1,consts:[[4,"ngIf"],["trigger","openPopoverSubject","placement","top",1,"chart-popover__popover",3,"unlimited","template","openPopover","closePopover","hasPadding","container","withGrowAfterOpen"],["popoverTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(P,Z){1&P&&g.DNE(0,O,4,9,"div",0),2&P&&g.Y8G("ngIf",Z.plugin&&Z.plugin.dataPoints)},dependencies:[F.bT,F.T3,Q.r3H],styles:["[_nghost-%COMP%]{position:absolute}.chart-popover__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]})}return N})()},20871:(Pt,ht,a)=>{"use strict";a.d(ht,{q:()=>Mt});var g=a(82883),T=a(79394),p=a.n(T),Q=a(86759),I=a.n(Q),F=a(74740),nt=a.n(F),b=a(52667),S=a(76211),z=(a(30043),a(56737)),N=a(27227),C=a(99019),A=a(54739);function P(lt,at){1&lt&&C.eu8(0)}let Z=(()=>{class lt{template;static \u0275fac=function(Ft){return new(Ft||lt)};static \u0275cmp=C.VBU({type:lt,selectors:[["nui-chart-tooltip"]],inputs:{template:"template"},decls:3,vars:2,consts:[[1,"nui-chart-tooltip","px-2","py-1","nui-text-small"],[4,"ngTemplateOutlet"]],template:function(Ft,Xt){1&Ft&&(C.j41(0,"div")(1,"div",0),C.DNE(2,P,1,0,"ng-container",1),C.k0s()()),2&Ft&&(C.R7$(1),C.Y8G("@tooltip",void 0),C.R7$(1),C.Y8G("ngTemplateOutlet",Xt.template))},dependencies:[A.T3],styles:["[_nghost-%COMP%]{display:block;pointer-events:none}.nui-chart-tooltip[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-inverse,#111);color:var(--nui-color-text-inverse,#fff);line-height:normal}"],data:{animation:[(0,N.hZ)("tooltip",[(0,N.kY)(":enter",[(0,N.iF)({opacity:0}),(0,N.i0)(300,(0,N.iF)({opacity:1}))]),(0,N.kY)(":leave",[(0,N.i0)(300,(0,N.iF)({opacity:0}))])])]},changeDetection:0})}return lt})();var X=a(78721);let it=(()=>{class lt{overlay;overlayPositionBuilder;scrollStrategyOptions;elementRef;template;openRemoteControl;closeRemoteControl;positions;overlayRef;openSubscription;closeSubscription;positionStrategy;constructor(st,Ft,Xt,se){this.overlay=st,this.overlayPositionBuilder=Ft,this.scrollStrategyOptions=Xt,this.elementRef=se}ngOnInit(){this.positionStrategy=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions(this.positions).withFlexibleDimensions(!1).withPush(!0),this.overlayRef=this.overlay.create({panelClass:"nui-chart-tooltip-pane",positionStrategy:this.positionStrategy,scrollStrategy:this.scrollStrategyOptions.close()}),this.openRemoteControl&&(this.openSubscription=this.openRemoteControl.subscribe(()=>{this.show()})),this.closeRemoteControl&&(this.closeSubscription=this.closeRemoteControl.subscribe(()=>{this.hide()}))}show(){this.overlayRef.hasAttached()?this.positionStrategy.apply():this.overlayRef.attach(new z.A8(Z)).instance.template=this.template}hide(){this.overlayRef.detach()}ngOnDestroy(){this.hide(),this.openSubscription&&this.openSubscription.unsubscribe(),this.closeSubscription&&this.closeSubscription.unsubscribe()}getOverlayElement(){return this.overlayRef.overlayElement}static \u0275fac=function(Ft){return new(Ft||lt)(C.rXU(X.hJ),C.rXU(X.lF),C.rXU(X.Tv),C.rXU(C.aKT))};static \u0275dir=C.FsC({type:lt,selectors:[["","nuiChartTooltip",""]],inputs:{template:"template",openRemoteControl:"openRemoteControl",closeRemoteControl:"closeRemoteControl",positions:"positions"}})}return lt})();function Y(lt,at){1&lt&&C.eu8(0)}const dt=function(lt){return{dataPoint:lt}};function j(lt,at){if(1&lt&&C.DNE(0,Y,1,0,"ng-container",4),2&lt){const st=C.XpG().$implicit,Ft=C.XpG(2);C.Y8G("ngTemplateOutlet",Ft.template)("ngTemplateOutletContext",C.eq3(2,dt,st.value))}}function Dt(lt,at){if(1&lt&&C.nrm(0,"div",5),2&lt){const st=C.XpG().$implicit,Ft=C.sdS(2),Xt=C.XpG(2);C.xc7("left",Xt.plugin.dataPointPositions[st.key].x,"px")("top",Xt.plugin.dataPointPositions[st.key].y,"px")("height",Xt.plugin.dataPointPositions[st.key].height,"px")("width",Xt.plugin.dataPointPositions[st.key].width,"px"),C.Y8G("template",Ft)("openRemoteControl",Xt.openTooltips)("closeRemoteControl",Xt.closeTooltips)("positions",Xt.plugin.dataPointPositions[st.key].overlayPositions),C.BMQ("series-id",st.key)}}function rt(lt,at){if(1&lt&&(C.j41(0,"div"),C.DNE(1,j,1,4,"ng-template",null,2,C.C5r),C.DNE(3,Dt,1,13,"div",3),C.k0s()),2&lt){const st=at.$implicit,Ft=C.XpG(2);C.R7$(3),C.Y8G("ngIf",Ft.plugin.dataPointPositions[st.key])}}function ft(lt,at){if(1&lt&&(C.j41(0,"div"),C.DNE(1,rt,4,1,"div",1),C.nI1(2,"keyvalue"),C.k0s()),2&lt){const st=C.XpG();C.R7$(1),C.Y8G("ngForOf",C.bMT(2,2,st.plugin.dataPoints))("ngForTrackBy",st.trackByFn)}}let Mt=(()=>{class lt{changeDetector;plugin;template;tooltips;openTooltips=new b.B;closeTooltips=new b.B;unsubscribe$=new b.B;simulation;tooltipDirectivesIndex={};closePending=!1;isOpen=!1;openTimeout;collisionTimeout;closeTimeout;constructor(st){this.changeDetector=st}ngOnChanges(st){st.plugin&&st.plugin.currentValue&&(this.unsubscribe$.next(),this.plugin.showSubject.pipe((0,S.Q)(this.unsubscribe$)).subscribe(()=>this.handleOpen()),this.plugin.hideSubject.pipe((0,S.Q)(this.unsubscribe$)).subscribe(()=>this.handleClose()))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}trackByFn(st,Ft){return Ft.value.seriesId}handleOpen(){this.changeDetector.detectChanges();const st={};this.tooltips.forEach(Xt=>{const se=Xt.elementRef.nativeElement.getAttribute("series-id")??void 0;if(!se)throw new Error("SeriesId is not defined");st[se]=Xt});const Ft=!I()(st,this.tooltipDirectivesIndex);this.closePending||Ft||!this.isOpen?(clearTimeout(this.openTimeout),this.openTimeout=window.setTimeout(()=>{this.openTooltips.next(),clearTimeout(this.collisionTimeout),this.collisionTimeout=window.setTimeout(()=>{this.avoidTooltipCollisions(),this.isOpen=!0})})):(this.openTooltips.next(),this.avoidTooltipCollisions(),this.isOpen=!0)}handleClose(){this.simulation&&this.simulation.stop(),this.closePending=!0,clearTimeout(this.closeTimeout),this.closeTimeout=window.setTimeout(()=>{this.closeTooltips.next(),this.closePending=!1,this.isOpen=!1})}avoidTooltipCollisions(){const st={};this.tooltips.forEach(Ft=>{const Xt=Ft.getOverlayElement(),se=Ft.elementRef.nativeElement.getAttribute("series-id")??void 0;if(!se)throw new Error("SeriesId is not defined");this.tooltipDirectivesIndex[se]=Ft,st[se]={x:Xt.offsetLeft,y:Xt.offsetTop,width:Xt.clientWidth,height:Xt.clientHeight}}),this.simulation&&this.simulation.stop(),this.simulation=this.startSimulation(this.tooltipDirectivesIndex,st)}startSimulation(st,Ft){const Xt=Object.keys(Ft).map(ve=>{const q=Ft[ve];if(nt()(q.height)||nt()(q.width))throw new Error("Position height or width are not defined");const bt={seriesId:ve,x:q.x,y:q.y,radius:this.isVertical()?q.height/2:q.width/2};return this.isVertical()?bt.fx=q.x:bt.fy=q.y,bt}),se=(0,g.eRw)(ve=>ve.radius).strength(.5).iterations(20),ue=(0,g.tXi)(Xt).alphaDecay(.3).force("collisionForce",se);return ue.on("tick",()=>{p()(Xt,ve=>{(0,g.Ltv)(st[ve.seriesId].getOverlayElement()).style(this.isVertical()?"top":"left",(this.isVertical()?ve.y:ve.x)+"px")})}),ue}isVertical(){return"right"===this.plugin.orientation}static \u0275fac=function(Ft){return new(Ft||lt)(C.rXU(C.gRc))};static \u0275cmp=C.VBU({type:lt,selectors:[["nui-chart-tooltips"]],viewQuery:function(Ft,Xt){if(1&Ft&&C.GBs(it,5),2&Ft){let se;C.mGM(se=C.lsd())&&(Xt.tooltips=se)}},inputs:{plugin:"plugin",template:"template"},features:[C.OA$],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["tooltipTemplate",""],["nuiChartTooltip","","class","chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions","left","top","height","width",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nuiChartTooltip","",1,"chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions"]],template:function(Ft,Xt){1&Ft&&C.DNE(0,ft,3,4,"div",0),2&Ft&&C.Y8G("ngIf",Xt.plugin&&Xt.plugin.dataPoints)},dependencies:[A.Sq,A.bT,A.T3,it,A.lG],styles:[".chart-tooltips__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]})}return lt})()},8410:(Pt,ht,a)=>{"use strict";a.d(ht,{Q:()=>F});var g=a(99019),T=a(32432),p=a.n(T),Q=a(20021);a(86655);let F=(()=>{class nt{elRef;ngZone;cd;chart;resizeObserver;resizeHandler;intersectionObserver;constructor(S,O,z){this.elRef=S,this.ngZone=O,this.cd=z}ngOnInit(){this.intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback),this.intersectionObserver.observe(this.elRef.nativeElement)}ngOnChanges(S){if(S.chart){const O=S.chart.previousValue;O&&O.destroy(),this.chart&&(this.chart.build(this.elRef.nativeElement),this.redraw())}}ngAfterContentInit(){this.chart.getEventBus().getStream(Q.Vl).subscribe(()=>{this.chart.updateDimensions()})}ngAfterViewInit(){this.resizeHandler=p()(()=>this.redraw(),10),this.resizeObserver=new ResizeObserver(()=>{this.ngZone.run(()=>this.resizeHandler())}),this.ngZone.runOutsideAngular(()=>this.resizeObserver?.observe(this.elRef.nativeElement))}ngOnDestroy(){this.intersectionObserver?.unobserve(this.elRef.nativeElement),this.resizeObserver?.unobserve(this.elRef.nativeElement),this.chart?.destroy()}redraw=()=>{this.chart.updateDimensions(),this.cd.detectChanges()};intersectionObserverCallback=S=>{const O={isChartInView:S[0].isIntersecting};this.chart.getEventBus().getStream(Q.Bp).next({data:O})};static \u0275fac=function(O){return new(O||nt)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(g.gRc))};static \u0275cmp=g.VBU({type:nt,selectors:[["nui-chart"]],inputs:{chart:"chart"},features:[g.Jv_([{provide:Q.fI,useExisting:(0,g.Rfq)(()=>nt)}]),g.OA$],decls:0,vars:0,template:function(O,z){},encapsulation:2})}return nt})()},20021:(Pt,ht,a)=>{"use strict";a.d(ht,{A2:()=>C,Bp:()=>Z,C8:()=>p,Dc:()=>Dt,E7:()=>X,Ec:()=>Q,G8:()=>dt,GM:()=>F,Gu:()=>it,JM:()=>z,JQ:()=>I,LP:()=>j,Nf:()=>A,VJ:()=>rt,Vl:()=>P,_X:()=>O,cC:()=>nt,cg:()=>N,fI:()=>Y,mZ:()=>S,mu:()=>b});var g=a(99019),T=a(5438);const p="mouse_active",Q="interaction_values_active",I="interaction_values",F="interaction_coordinates",nt="highlight_data_point",b="select_data_point",S="highlight_series",O="interaction_series",z="interaction_data_points",N="interaction_data_point",C="destroy",A="set_domain",P="refresh",Z="chart_view_status",X="series_state_change",it="axes_style_change",Y=new g.nKC("chart_component"),dt={[T.r.background]:{name:T.r.background,order:0,clipped:!0},[T.r.data]:{name:T.r.data,order:50,clipped:!0},[T.r.unclippedData]:{name:T.r.unclippedData,order:51,clipped:!1},[T.r.foreground]:{name:T.r.foreground,order:1e3,clipped:!1}},j=-1,Dt=-2,rt="ignore-interaction"},57219:(Pt,ht,a)=>{"use strict";a.d(ht,{f:()=>S});var g=a(79394),T=a.n(g),p=a(40437),Q=a.n(p),I=a(64755),F=a.n(I),nt=a(20021),b=a(78829);class S{lastIndex=-1;events=[nt.JQ,nt.GM,nt.C8,nt.Vl];charts={};subscriptions={};eventBus;constructor(){}addChart(z){const N=(++this.lastIndex).toString();this.charts[N]=z,this.eventBus||this.initializeEventBus(),T()(this.events,C=>{this.subscribe(N,z.getEventBus().getStream(C),A=>{A.broadcast||this.eventBus?.getStream(C).next({chartIndex:N,event:A})})}),this.subscribe(N,z.getEventBus().getStream(nt.A2),C=>{this.removeChart(z),0===Object.keys(this.charts).length&&this.destroy()})}removeChart(z){const N=this.getChartKey(z);if(F()(N))throw new Error("Chart not registered!");this.unsubscribeChart(N),delete this.charts[N]}destroy(){this.eventBus?.destroy(),this.eventBus=void 0}initializeEventBus(){this.eventBus=new b.l;for(const z of this.events)this.eventBus.getStream(z).subscribe(N=>{for(const C of Object.keys(this.charts))C!==N.chartIndex&&(N.event.broadcast=!0,this.charts[C].getEventBus().getStream(z).next(N.event))})}subscribe(z,N,C){const A=N.subscribe(C);let P=this.subscriptions[z];F()(P)&&(P=[],this.subscriptions[z]=P),P.push(A)}unsubscribeChart(z){T()(this.subscriptions[z],N=>{N.unsubscribe()}),delete this.subscriptions[z]}getChartKey(z){return Q()(this.charts,N=>N===z)}}},91880:(Pt,ht,a)=>{"use strict";a.d(ht,{y:()=>g});class g{constructor(){}chart;initialize(){}update(){}updateDimensions(){}destroy(){}}},78829:(Pt,ht,a)=>{"use strict";a.d(ht,{l:()=>Q});var g=a(79394),T=a.n(g),p=a(52667);class Q{streams={};getStream(F){return this.streams[F]||(this.streams[F]=new p.B),this.streams[F]}destroy(){T()(Object.keys(this.streams),F=>{this.streams[F].complete()})}}},71443:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>z});var g=a(82883),T=a(41895),p=a.n(T),Q=a(79394),I=a.n(Q),F=a(30379),nt=a.n(F),b=a(20021),S=a(5438),O=a(58493);class z{config;static DEFAULT_CONFIG={stateStyles:{[S.M.default]:{opacity:1},[S.M.hidden]:{opacity:0},[S.M.deemphasized]:{opacity:.1},[S.M.emphasized]:{opacity:1}}};constructor(C={}){this.config=C,this.config=p()(this.config,z.DEFAULT_CONFIG)}interaction={};getDataPointIndex(C,A,P){return b.LP}highlightDataPoint(C,A,P){}getContainerStateStyles=C=>{if(!this.config.stateStyles)throw new Error("stateStyles property is not defined");return this.config.stateStyles[C||S.M.default]};setSeriesState(C,A){}setDataPointState(C,A){}getDomainOfFilteredData(C,A,P,Z){let X=C.data;for(const it of Object.keys(A)){const Y=A[it];!Y.isDomainFixed||!Y.isContinuous()||(X=this.filterDataByDomain(X,C,it,Y.domain()))}return this.getDomain(X,C,P,Z)}getDomain(C,A,P,Z){return C&&0!==C.length?(0,g.Xxv)(C,(X,it,Y)=>A.accessors.data?.[P]?.(X,it,Array.from(Y),A)):O.tO}filterDataByDomain(C,A,P,Z){const X=A.accessors.data?.[P];return C.filter((it,Y)=>{const dt=X(it,Y,C,A);return dt>=Z[0]&&dt<=Z[1]})}getRequiredLayers(){return[b.G8[S.r.data]]}setupInteraction(C,A,P,Z,X){const it=nt()(this.interaction,C,{})[A];it&&I()(it,Y=>{P.on(A,()=>{const dt=P.node().getBoundingClientRect();Z.next({eventName:Y,data:{...X,position:dt}})})})}}},58493:(Pt,ht,a)=>{"use strict";a.d(ht,{Db:()=>T,Zo:()=>p,tO:()=>g,y_:()=>Q,z7:()=>I});const g=[0,0],T=[0,1];function p(F){return!!F.domainWithTicks}function Q(F){return"function"==typeof F.bandwidth}function I(F){return typeof F.innerScale<"u"}},86655:(Pt,ht,a)=>{"use strict";a.d(ht,{X:()=>g});var g=function(T){return T.Click="click",T.Hover="hover",T.MouseDown="mousedown",T.MouseEnter="mouseenter",T.MouseLeave="mouseleave",T.MouseMove="mousemove",T.MouseUp="mouseup",T}(g||{})},76830:(Pt,ht,a)=>{"use strict";a.d(ht,{X:()=>F});var g=a(64755),T=a.n(g),p=a(52667),Q=a(22118),I=a(91880);class F extends I.y{contentPositionUpdateSubject=new p.B;contentPosition={top:0,left:0,width:0,height:0};updateDimensions(){const b=this.chart.getDataManager().chartSeriesSet.reduce((S,O)=>O.renderer instanceof Q.n&&!T()(S)?Math.min(S,O.renderer.getInnerRadius(O.scales.r.range(),O.data.length-1)):S,1/0);if(T()(b))throw new Error("Radius is undefined");this.contentPosition=this.getContentPosition(b),this.contentPositionUpdateSubject.next(this.contentPosition)}destroy(){this.contentPositionUpdateSubject.complete()}getContentPosition(b){const S=[this.chart.getGrid().config().dimension.outerHeight()/2,this.chart.getGrid().config().dimension.outerWidth()/2];return{top:S[0]-b/Math.sqrt(2),left:S[1]-b/Math.sqrt(2),width:b*Math.sqrt(2),height:b*Math.sqrt(2)}}}},91449:(Pt,ht,a)=>{"use strict";a.d(ht,{D:()=>N});var g=a(41895),T=a.n(g),p=a(51807),Q=a.n(p),I=a(45161),F=a.n(I),nt=a(52667),b=a(76211),S=a(20021),O=a(91880),z=a(86655);class N extends O.y{config;dataPoints;updatePositionSubject=new nt.B;openPopoverSubject=new nt.B;closePopoverSubject=new nt.B;popoverTargetPosition={top:0,left:0,width:0,height:0};DEFAULT_CONFIG={eventStreamId:S.JM,interactionType:z.X.MouseMove};isOpen=!1;destroy$=new nt.B;constructor(A={}){super(),this.config=A,this.config=T()(this.config,this.DEFAULT_CONFIG)}initialize(){this.chart.getEventBus().getStream(this.config.eventStreamId).pipe((0,b.Q)(this.destroy$)).subscribe(A=>{A.data.interactionType===this.config.interactionType&&this.processDataPoints(A.data.dataPoints??{[A.data.dataPoint.seriesId]:A.data.dataPoint})})}destroy(){this.updatePositionSubject&&this.updatePositionSubject.complete(),this.openPopoverSubject&&this.openPopoverSubject.complete(),this.closePopoverSubject&&this.closePopoverSubject.complete(),this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}getAbsolutePosition(A){const P=this.chart.target?.node()?.parentNode;if(!P)throw new Error("Chart parent node is not defined");const Z=Math.min(...A.map(Y=>Y.position.x)),X=P.offsetLeft+this.chart.getGrid().config().dimension.margin.left+Z;return{top:P.offsetTop+this.chart.getGrid().config().dimension.margin.top,left:X,height:P.offsetHeight,width:Math.max(...A.map(Y=>Y.position.x+(Y.position.width||0)))-Z}}processDataPoints(A){const P=Q()(A,X=>X.index>=0&&X.position),Z=F()(P);Z.length>0?(this.popoverTargetPosition=this.getAbsolutePosition(Z),this.dataPoints=P,setTimeout(()=>{this.updatePositionSubject.next(this.popoverTargetPosition),this.isOpen||(this.isOpen=!0,this.openPopoverSubject.next())})):setTimeout(()=>{this.closePopoverSubject.next(),this.isOpen=!1})}}},30043:(Pt,ht,a)=>{"use strict";a.d(ht,{o7:()=>Z});var g=a(79394),T=a.n(g),p=a(51807),Q=a.n(p),I=a(45161),F=a.n(I),nt=a(52667),b=a(76211),S=a(20021),O=a(5438),z=a(91880),N=a(86655);class Z extends z.y{tooltipPositionOffset;orientation;dataPoints;dataPointPositions={};showSubject=new nt.B;hideSubject=new nt.B;overlaySetup;isChartInView=!1;destroy$=new nt.B;seriesVisibilityMap={};constructor(it=10,Y="right"){var X;super(),this.tooltipPositionOffset=it,this.orientation=Y,"right"===Y?this.overlaySetup=[{originX:"end",originY:"top",overlayX:"start",overlayY:"center",offsetX:X=it},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-X}]:"top"===Y&&(this.overlaySetup=(X=>[{originX:"end",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-X},{originX:"end",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:X}])(it))}initialize(){this.chart.getEventBus().getStream(S.JM).pipe((0,b.Q)(this.destroy$)).subscribe(it=>{it.data.interactionType===N.X.MouseMove&&this.isChartInView&&this.processHighlightedDataPoints(it.data.dataPoints)}),this.chart.getEventBus().getStream(S.E7).pipe((0,b.Q)(this.destroy$)).subscribe(it=>{it.data.forEach(Y=>{this.seriesVisibilityMap[Y.seriesId]=Y.state!==O.M.hidden})}),this.chart.getEventBus().getStream(S.Bp).pipe((0,b.Q)(this.destroy$)).subscribe(it=>{this.isChartInView=it.data.isChartInView,this.isChartInView||this.hideSubject.next()})}destroy(){this.destroy$.next(),this.destroy$.complete()}processHighlightedDataPoints(it){const Y=Q()(it,ft=>ft.index>=0&&ft.position&&!1!==this.seriesVisibilityMap[ft.seriesId]);if(0===F()(Y).length)return void this.hideSubject.next();this.dataPoints=Y;const dt=this.chart.target?.node()?.parentNode;if(!dt)throw new Error("Chart parent node is not defined");const j=dt.getBoundingClientRect(),Dt=dt.offsetParent.getBoundingClientRect(),rt={x:j.left-Dt.left,y:j.top-Dt.top};T()(Object.keys(this.dataPoints),ft=>{const Mt=this.dataPoints[ft],lt=this.chart.getDataManager().getChartSeries(Mt.seriesId),at=this.getTooltipPosition(Mt,lt);this.dataPointPositions[ft]=this.getAbsolutePosition(at,rt)}),this.showSubject.next()}getTooltipPosition(it,Y){if(!it.position)throw new Error("Unable to get tooltip position");return{x:it.position.x,y:it.position.y,height:it.position?.height||1,width:it.position?.width||1,overlayPositions:this.overlaySetup}}getAbsolutePosition(it,Y){return Object.assign({},it,{x:Y.x+this.chart.getGrid().config().dimension.margin.left+it.x,y:Y.y+this.chart.getGrid().config().dimension.margin.top+it.y})}}},60598:(Pt,ht,a)=>{"use strict";a.d(ht,{q:()=>X});var g=a(99019),T=a(43930),p=a.n(T),Q=a(5438),I=a(93078),F=a(80317),nt=a(54739);const b=["projectedDescription"];function S(it,Y){if(1&it&&(g.j41(0,"div",12),g.EFF(1),g.k0s()),2&it){const dt=g.XpG(2);g.Y8G("title",dt.descriptionPrimary),g.R7$(1),g.SpI(" ",dt.descriptionPrimary," ")}}function O(it,Y){if(1&it&&(g.j41(0,"div",13),g.EFF(1),g.k0s()),2&it){const dt=g.XpG(2);g.Y8G("title",dt.descriptionSecondary),g.R7$(1),g.SpI(" ",dt.descriptionSecondary," ")}}function z(it,Y){if(1&it&&(g.j41(0,"div",9),g.DNE(1,S,2,2,"div",10),g.DNE(2,O,2,2,"div",11),g.k0s()),2&it){const dt=g.XpG();g.R7$(1),g.Y8G("ngIf",!!dt.descriptionPrimary),g.R7$(1),g.Y8G("ngIf",!!dt.descriptionSecondary)}}function N(it,Y){1&it&&(g.j41(0,"div",14,15),g.SdG(2,2),g.k0s())}const C=["*",[["","legendMenu",""]],[["","description",""]]],A=function(it){return[it]},P=["*","[legendMenu]","[description]"];let X=(()=>{class it{legend;set active(dt){this._active=dt}set interactive(dt){this._interactive=dt}get interactive(){return this._interactive}isSelected=!0;isSelectedChange=new g.bkB;descriptionPrimary;descriptionSecondary;icon;color;set seriesRenderState(dt){this._seriesRenderState=dt}get seriesRenderState(){return this._seriesRenderState||Q.M.default}projectedDescription;get isInteractiveClassApplied(){return this._interactive}isHorizontalClassApplied=!1;get isActiveClassApplied(){return this._active&&this.seriesRenderState!==Q.M.hidden}_seriesRenderState;_active=!1;_interactive;constructor(dt){this.legend=dt}ngAfterContentInit(){this.legend&&(this.legend.activeChanged.subscribe(dt=>this._active=dt),this.icon=this.icon||this.legend.seriesIcon,this._active=this.legend.active,this.interactive=this.interactive??this.legend.interactive,this.isHorizontalClassApplied=this.legend.orientation===F.g.horizontal)}onClick(){this.interactive&&this.isSelectedChange.next(!this.isSelected)}hasInputDescription(){return!p()(this.descriptionPrimary)||!p()(this.descriptionSecondary)}hasProjectedDescription(){return!!this.projectedDescription&&0!==this.projectedDescription.nativeElement.children.length}static \u0275fac=function(j){return new(j||it)(g.rXU(I.f,9))};static \u0275cmp=g.VBU({type:it,selectors:[["nui-legend-series"]],viewQuery:function(j,Dt){if(1&j&&g.GBs(b,5),2&j){let rt;g.mGM(rt=g.lsd())&&(Dt.projectedDescription=rt.first)}},hostAttrs:[1,"nui-legend-series"],hostVars:6,hostBindings:function(j,Dt){1&j&&g.bIt("click",function(){return Dt.onClick()}),2&j&&g.AVh("nui-legend-series--interactive",Dt.isInteractiveClassApplied)("nui-legend-series--horizontal",Dt.isHorizontalClassApplied)("inverse",Dt.isActiveClassApplied)},inputs:{active:"active",interactive:"interactive",isSelected:"isSelected",descriptionPrimary:"descriptionPrimary",descriptionSecondary:"descriptionSecondary",icon:"icon",color:"color",seriesRenderState:"seriesRenderState"},outputs:{isSelectedChange:"isSelectedChange"},ngContentSelectors:P,decls:12,vars:9,consts:[[1,"d-flex",3,"ngClass"],[1,"nui-legend-series__tile-wrapper"],[1,"nui-legend-series__tile"],[1,"nui-legend-series__checkbox-wrapper"],[1,"nui-legend-series__checkbox-mark"],[1,"nui-legend-series__checkbox-glyph"],["class","description-container nui-text-small d-flex flex-column justify-content-center",4,"ngIf","ngIfElse"],[1,"legend-menu"],["descriptionTemplate",""],[1,"description-container","nui-text-small","d-flex","flex-column","justify-content-center"],["class","description description-primary",3,"title",4,"ngIf"],["class","description description-secondary",3,"title",4,"ngIf"],[1,"description","description-primary",3,"title"],[1,"description","description-secondary",3,"title"],[1,"d-flex"],["projectedDescription",""]],template:function(j,Dt){if(1&j&&(g.NAR(C),g.j41(0,"div",0)(1,"div",1)(2,"div",2),g.SdG(3),g.k0s(),g.j41(4,"div",3)(5,"div",4),g.nrm(6,"i",5),g.k0s()()(),g.DNE(7,z,3,2,"div",6),g.j41(8,"div",7),g.SdG(9,1),g.k0s()(),g.DNE(10,N,3,0,"ng-template",null,8,g.C5r)),2&j){const rt=g.sdS(11);g.AVh("nui-legend-series--deselected",!Dt.isSelected),g.Y8G("ngClass",g.eq3(7,A,"nui-legend-series--state-"+Dt.seriesRenderState)),g.R7$(4),g.AVh("nui-legend-series__checkbox--checked",Dt.isSelected),g.R7$(3),g.Y8G("ngIf",Dt.hasInputDescription())("ngIfElse",rt)}},dependencies:[nt.YU,nt.bT],encapsulation:2,changeDetection:0})}return it})()},29261:(Pt,ht,a)=>{"use strict";a.d(ht,{L:()=>A});var g=a(74740),T=a.n(g),p=a(60598),Q=a(93078),I=a(99019),F=a(54739);function nt(P,Z){if(1&P&&(I.j41(0,"div",10),I.EFF(1),I.k0s()),2&P){const X=I.XpG();I.R7$(1),I.SpI(" ",X.value," ")}}function b(P,Z){if(1&P&&(I.j41(0,"div",11),I.EFF(1),I.k0s()),2&P){const X=I.XpG();I.R7$(1),I.SpI(" ",X.unitLabel," ")}}function S(P,Z){1&P&&I.SdG(0,3)}function O(P,Z){1&P&&I.SdG(0,4)}const z=["*",[["","leftEdge",""]],[["","rightEdge",""]],[["","top",""]],[["","bottom",""]]],N=function(P){return{"background-color":P}},C=["*","[leftEdge]","[rightEdge]","[top]","[bottom]"];let A=(()=>{class P{legendSeries;legend;changeDetector;unitLabel;value;backgroundColor;color;seriesHasAdditionalContent;constructor(X,it,Y){this.legendSeries=X,this.legend=it,this.changeDetector=Y}ngAfterContentInit(){this.legend&&(this.unitLabel=this.unitLabel||this.legend.seriesUnitLabel,this.backgroundColor=this.backgroundColor||this.legend.seriesColor||"white")}ngAfterViewInit(){this.legendSeries&&(this.seriesHasAdditionalContent=this.legendSeries.hasInputDescription()||this.legendSeries.hasProjectedDescription(),this.changeDetector.detectChanges())}hasInputValue(){return!T()(this.value)}hasInputUnitLabel(){return!T()(this.unitLabel)}static \u0275fac=function(it){return new(it||P)(I.rXU(p.q,1),I.rXU(Q.f,9),I.rXU(I.gRc))};static \u0275cmp=I.VBU({type:P,selectors:[["nui-rich-legend-tile"]],inputs:{unitLabel:"unitLabel",value:"value",backgroundColor:"backgroundColor",color:"color"},ngContentSelectors:C,decls:15,vars:13,consts:[[1,"nui-rich-legend-tile"],[1,"nui-rich-legend-tile__tilebox","d-flex","justify-content-center","align-items-end","flex-column",3,"ngStyle"],["class","nui-rich-legend-tile__tilebox-value nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],["class","nui-rich-legend-tile__tilebox-unit nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],[1,"nui-rich-legend-tile__icon"],["icon",""],[1,"nui-rich-legend-tile__point-marker"],["rightEdge",""],["projectedTopContent",""],["projectedBottomContent",""],[1,"nui-rich-legend-tile__tilebox-value","nui-rich-legend-tile__ellipsified"],[1,"nui-rich-legend-tile__tilebox-unit","nui-rich-legend-tile__ellipsified"]],template:function(it,Y){if(1&it&&(I.NAR(z),I.j41(0,"div",0)(1,"div",1),I.DNE(2,nt,2,1,"div",2),I.DNE(3,b,2,1,"div",3),I.SdG(4),I.k0s(),I.j41(5,"div",4,5),I.SdG(7,1),I.k0s(),I.j41(8,"div",6,7),I.SdG(10,2),I.k0s()(),I.DNE(11,S,1,0,"ng-template",null,8,I.C5r),I.DNE(13,O,1,0,"ng-template",null,9,I.C5r)),2&it){const dt=I.sdS(9),j=I.sdS(12),Dt=I.sdS(14);I.AVh("nui-rich-legend-tile--has-point-marker",dt.children.length>0)("nui-rich-legend-tile--series-has-additional-content",Y.seriesHasAdditionalContent),I.R7$(1),I.xc7("color",Y.color),I.Y8G("ngStyle",I.eq3(11,N,Y.backgroundColor)),I.R7$(1),I.Y8G("ngIf",Y.hasInputValue())("ngIfElse",j),I.R7$(1),I.Y8G("ngIf",Y.hasInputUnitLabel())("ngIfElse",Dt)}},dependencies:[F.bT,F.B3],styles:[".nui-rich-legend-tile[_ngcontent-%COMP%]{position:relative;width:60px;height:100%;line-height:18px}.nui-rich-legend-tile[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:empty{display:none}.nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px;background-color:var(--nui-color-bg-light,#fff)}.nui-rich-legend-tile__ellipsified[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]{text-align:right;font-weight:600}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]:not(:last-child){margin-bottom:-3px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]{text-align:right;font-size:11px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]:not(:first-child){margin-top:-3px}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%], .nui-rich-legend-tile__icon[_ngcontent-%COMP%]{position:absolute;line-height:0;top:50%;pointer-events:none}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.nui-rich-legend-tile__icon[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}.nui-rich-legend-tile--has-point-marker.nui-rich-legend-tile--series-has-additional-content[_ngcontent-%COMP%]{margin-right:5px}.nui-rich-legend-tile--has-point-marker[_ngcontent-%COMP%]   .nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{padding-right:7px}"]})}return P})()},93078:(Pt,ht,a)=>{"use strict";a.d(ht,{f:()=>Q});var g=a(99019),T=a(80317);const p=["*"];let Q=(()=>{class I{activeChanged=new g.bkB;active=!1;interactive=!1;orientation=T.g.vertical;seriesColor;seriesIcon;seriesUnitLabel;ngOnChanges(nt){nt.active&&this.activeChanged.emit(this.active)}ngOnDestroy(){this.activeChanged.complete()}static \u0275fac=function(b){return new(b||I)};static \u0275cmp=g.VBU({type:I,selectors:[["nui-legend"]],hostAttrs:[1,"d-inline-block"],inputs:{active:"active",interactive:"interactive",orientation:"orientation",seriesColor:"seriesColor",seriesIcon:"seriesIcon",seriesUnitLabel:"seriesUnitLabel"},features:[g.OA$],ngContentSelectors:p,decls:2,vars:2,consts:[[1,"nui-legend","d-flex","flex-wrap"]],template:function(b,S){1&b&&(g.NAR(),g.j41(0,"div",0),g.SdG(1),g.k0s()),2&b&&g.AVh("flex-column","vertical"===S.orientation)},encapsulation:2})}return I})()},80317:(Pt,ht,a)=>{"use strict";a.d(ht,{g:()=>g});var g=function(T){return T.vertical="vertical",T.horizontal="horizontal",T}(g||{})},36735:(Pt,ht,a)=>{"use strict";a.d(ht,{Gu0:()=>ut.Gu,iK5:()=>$n,jiB:()=>Qr,SOQ:()=>et,a_S:()=>kn,tVU:()=>ze,Yje:()=>Hn,TDW:()=>Vn,Y5k:()=>Ut,M4m:()=>Qn,LfY:()=>Li,jHN:()=>_,L8y:()=>Tn,z3U:()=>pi,sjD:()=>re,qY0:()=>he,Bpw:()=>ut.Bp,t1X:()=>$i,Wiz:()=>o,Qeh:()=>Xi.Q,XhJ:()=>Le.X,Shf:()=>Gn,DCW:()=>On.D,o71:()=>Un.o7,Dc9:()=>ut.Dc,LPd:()=>ut.LP,x6A:()=>_i.x,iLt:()=>er,FpW:()=>ti,kFs:()=>Vr,FhS:()=>B,cCe:()=>ut.cC,mZ2:()=>ut.mZ,W99:()=>Xn,JM:()=>ut.JM,cgj:()=>ut.cg,_Xr:()=>ut._X,JQI:()=>ut.JQ,srA:()=>sn,Y44:()=>on,X82:()=>wt.X,fpW:()=>hi,Epf:()=>Yt,L0i:()=>li,Bjg:()=>Cr,kck:()=>De,C8o:()=>ut.C8,W91:()=>u,UR3:()=>ui,dHF:()=>Ur,yhi:()=>Fr,FIy:()=>di,StF:()=>Er,YRY:()=>D,Gh8:()=>si,RM$:()=>xt,gWC:()=>_r,Q8j:()=>Yi,QhA:()=>Zn,n7t:()=>_i.n,dwm:()=>An,M_X:()=>Nt.M,mur:()=>ut.mu,E7X:()=>ut.E7,Nfs:()=>ut.Nf,Pbz:()=>en,QLZ:()=>Cn,HBo:()=>kr,Vli:()=>ri,i14:()=>Ti,i$B:()=>fi,bPO:()=>nn,jqT:()=>ai,Pid:()=>Hi,k5S:()=>mi,P$m:()=>_n,UAQ:()=>Mn,QYz:()=>Pe,gFO:()=>nr,owv:()=>Oi,SFt:()=>Kn,qw7:()=>G,Xhp:()=>Ke,jnT:()=>zi,mi4:()=>ki,QSe:()=>Wr,_ZX:()=>Xr,ByE:()=>ir,Nyk:()=>xn,C6k:()=>te,eZC:()=>M,WJA:()=>Ue,zk6:()=>Se,XNn:()=>Xe,EQA:()=>Tr,Msv:()=>Sr,xMI:()=>Dr,rbX:()=>Ar,_YP:()=>ei,t$z:()=>xr,rqY:()=>Jr,v92:()=>is,D2W:()=>ts,J8c:()=>Mr,dg1:()=>pn,dWj:()=>rs,ISM:()=>ss}),a(45558),a(20871),a(19290),a(43846);var I=a(78721),F=a(21655),nt=a(72625),b=a(14221);function S(c,n){return c.each(function(){var t=n.apply(this,arguments),e=(0,b.A)(this);for(var r in t)e.attr(r,t[r])})}function O(c,n){for(var t in n)c.attr(t,n[t]);return c}function N(c,n,t){return c.each(function(){var e=n.apply(this,arguments),r=(0,b.A)(this);for(var s in e)r.style(s,e[s],t)})}function C(c,n,t){for(var e in n)c.style(e,n[e],t);return c}function P(c,n){return c.each(function(){var t=n.apply(this,arguments),e=(0,b.A)(this);for(var r in t)e.property(r,t[r])})}function Z(c,n){for(var t in n)c.property(t,n[t]);return c}function it(c,n){return c.each(function(){var t=n.apply(this,arguments),e=(0,b.A)(this).transition(c);for(var r in t)e.attr(r,t[r])})}function Y(c,n){for(var t in n)c.attr(t,n[t]);return c}function j(c,n,t){return c.each(function(){var e=n.apply(this,arguments),r=(0,b.A)(this).transition(c);for(var s in e)r.style(s,e[s],t)})}function Dt(c,n,t){for(var e in n)c.style(e,n[e],t);return c}F.Ay.prototype.attrs=function z(c){return("function"==typeof c?S:O)(this,c)},F.Ay.prototype.styles=function A(c,n){return("function"==typeof c?N:C)(this,c,n??"")},F.Ay.prototype.properties=function X(c){return("function"==typeof c?P:Z)(this,c)},nt.kY.prototype.attrs=function dt(c){return("function"==typeof c?it:Y)(this,c)},nt.kY.prototype.styles=function rt(c,n){return("function"==typeof c?j:Dt)(this,c,n??"")};var ft=a(29091),Mt=a(33634),lt=a(70716),at=a.n(lt),st=a(53674),Ft=a.n(st),Xt=a(64460),se=a.n(Xt),ue=a(45161),ve=a.n(ue),q=a(58493),bt=a(81218),Wt=a(29142),Zt=a.n(Wt),Oe=a(3762),Qe=a.n(Oe),$=a(28603),At=a.n($),Kt=a(40626),ye=a.n(Kt),Ot=a(30383),le=a.n(Ot);function Xe(c){if(!Qe()(c,"var("))return c;const n=At()(ye()(le()(c,"var("),")"));return getComputedStyle(document.body).getPropertyValue(n)}class Ye{sourceProvider;fn;processedColors;constructor(n,t){this.sourceProvider=n,this.fn=t,this.reset()}get=n=>{const t=this.sourceProvider.get(n);if(!t)throw new Error("clr is not defined");let e=this.processedColors[t];return e||(e=this.fn(t),this.processedColors[t]=e),e};reset(){this.processedColors={}}}class cn{values;providedValues;lastUsedIndex;constructor(n){this.values=n,this.reset()}get=n=>{let t=this.providedValues[n];if(!t){const e=++this.lastUsedIndex%this.values.length;t=this.values[e],this.providedValues[n]=t}return t};reset(){this.providedValues={},this.lastUsedIndex=-1}}class Cn extends cn{colors;constructor(n){super(n),this.colors=n}}const Rn=1/12.92;class ln extends Ye{constructor(n,t){super(n,e=>{const r=Xe(e),s=(0,bt.Qh)(r),l=this.getContrastRatio(s,(0,bt.Qh)(t.light));return this.getContrastRatio(s,(0,bt.Qh)(t.dark))>l?t.dark:t.light})}getContrastRatio(n,t){const e=this.getRelativeLuminance(n),r=this.getRelativeLuminance(t);let s,l;return e>r?(s=e,l=r):(s=r,l=e),(s+.05)/(l+.05)}getRelativeLuminance(n){const t=n.r/255,e=n.g/255,r=n.b/255;return.2126*(t<=.03928?t*Rn:this.adjustGamma(t))+.7152*(e<=.03928?e*Rn:this.adjustGamma(e))+.0722*(r<=.03928?r*Rn:this.adjustGamma(r))}adjustGamma(n){return Math.pow((n+.055)/1.055,2.4)}}class Gn{_standardColors;_textColors;_backgroundColors;constructor(n,t={backgroundOpacity:.15}){this._standardColors=Zt()(n)?new Cn(n):n,this._textColors=new ln(this.standardColors,{light:"white",dark:"black"}),this._backgroundColors=new Ye(this.standardColors,e=>{const r=Xe(e),s=(0,bt.Qh)(r);return s.opacity=t.backgroundOpacity,s.toString()})}get standardColors(){return this._standardColors}get backgroundColors(){return this._backgroundColors}get textColors(){return this._textColors}}var Jn=a(64755),_e=a.n(Jn);class ai{svg;styledSvg;constructor(n){this.svg=n}getSvg(){return this.styledSvg||this.svg}setColor(n){this.styledSvg=_e()(n)?n:`<g fill="${n}">${this.svg}</g>`}}const pi=["var(--nui-color-chart-one)","var(--nui-color-chart-two)","var(--nui-color-chart-three)","var(--nui-color-chart-four)","var(--nui-color-chart-five)","var(--nui-color-chart-six)","var(--nui-color-chart-seven)","var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"],re=["var(--nui-color-chart-one)","var(--nui-color-chart-one-light)","var(--nui-color-chart-two)","var(--nui-color-chart-two-light)","var(--nui-color-chart-three)","var(--nui-color-chart-three-light)","var(--nui-color-chart-four)","var(--nui-color-chart-four-light)","var(--nui-color-chart-five)","var(--nui-color-chart-five-light)","var(--nui-color-chart-six)","var(--nui-color-chart-six-light)","var(--nui-color-chart-seven)","var(--nui-color-chart-seven-light)","var(--nui-color-chart-eight)","var(--nui-color-chart-eight-light)","var(--nui-color-chart-nine)","var(--nui-color-chart-nine-light)","var(--nui-color-chart-ten)","var(--nui-color-chart-ten-light)"],he=["var(--nui-color-semantic-down)","var(--nui-color-semantic-down-bg)","var(--nui-color-semantic-critical)","var(--nui-color-semantic-critical-bg)","var(--nui-color-semantic-warning)","var(--nui-color-semantic-warning-bg)","var(--nui-color-semantic-unknown)","var(--nui-color-semantic-unknown-bg)","var(--nui-color-semantic-ok)","var(--nui-color-semantic-ok-bg)","var(--nui-color-semantic-info)","var(--nui-color-semantic-info-bg)","var(--nui-color-chart-ten-light)","var(--nui-color-chart-ten)"],He=["m0 0m-4 0a4 4 0 1 0 8 0 4 4 0 1 0-8 0z","m-4,-4l8,0l0,8l-8,0l0,-8z","m0-4 4 8-8 0z","m0-4.95 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8 0z","m0-3.805 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703z"],Tn=[...He.map(c=>`<path class="nui-chart--path__outline" d="${c}"></path>`),...["m0 2c1.105 0 2-.895 2-2 0-1.105-.895-2-2-2-1.105 0-2 .895-2 2 0 1.105.895 2 2 2zm0 2c-2.209 0-4-1.791-4-4 0-2.209 1.791-4 4-4 2.209 0 4 1.791 4 4 0 2.209-1.791 4-4 4z","m-2-2 0 4 4 0 0-4-4 0zm-2-2 8 0 0 8-8 0 0-8z","m0-4-4 8 8.001 0-4.001-8zm0 3.354 1.573 3.146-3.145 0 1.572-3.146z","m0-2.121-2.121 2.121 2.121 2.121 2.121-2.121-2.121-2.121zm0-2.828 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8.001 0-4.001 8zm0-3.354 1.573-3.146-3.145 0 1.572 3.146z","m0-1.951-2.237 1.626.855 2.63 2.766 0 .855-2.63-2.237-1.626zm0-1.854 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703 4.001-2.907z"].map((c,n)=>`<path class="nui-chart--path__outline-fill" stroke="none" d="${He[n]}"></path>\n            <path class="nui-chart--path__outline" d="${c}"></path>`)].map(c=>new ai(c));class en extends cn{markers;constructor(n){super(n),this.markers=n}}function $e(){return new Cn(pi)}function un(){return new en(Tn)}class $n{colorProvider;markerProvider;data;series;constructor(n=$e(),t=un()){this.colorProvider=n,this.markerProvider=t,this.data={x:(e,r,s,l)=>e.x,x0:(e,r,s,l)=>this.data.x(e,r,s,l),x1:(e,r,s,l)=>this.data.x(e,r,s,l),y:(e,r,s,l)=>e.y,y0:(e,r,s,l)=>this.data.y(e,r,s,l),y1:(e,r,s,l)=>this.data.y(e,r,s,l),absoluteX0:(e,r,s,l)=>e.__stack_x?.start??this.data.x0(e,r,s,l),absoluteX1:(e,r,s,l)=>e.__stack_x?.end??this.data.x1(e,r,s,l),absoluteY0:(e,r,s,l)=>e.__stack_y?.start??this.data.y0(e,r,s,l),absoluteY1:(e,r,s,l)=>e.__stack_y?.end??this.data.y1(e,r,s,l)},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}class fn{data;series;constructor(){}}class gn extends fn{colorProvider;markerProvider;data;series;constructor(n=$e(),t=un()){super(),this.colorProvider=n,this.markerProvider=t,this.data={value:e=>e.value,category:(e,r,s,l)=>e.category?e.category:this.series.category?this.series.category(l.id,l):null,start:(e,r,s,l)=>{if(e.__bar)return e.__bar.start;if(typeof e.start<"u")return e.start;const f=this.getSingleValue(e,r,s,l);return Number.isFinite(f)?Math.min(0,f):null},end:(e,r,s,l)=>{if(e.__bar)return e.__bar.end;if(typeof e.end<"u")return e.end;const f=this.getSingleValue(e,r,s,l);return Number.isFinite(f)?Math.max(0,f):null}},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0,category:(e,r)=>r.name||r.id}}getSingleValue(n,t,e,r){let s;return this.data.value&&(s=this.data.value(n,t,e,r),typeof s>"u"&&(s=n)),s}}class Xn extends gn{constructor(n,t){super(n,t),this.data={...this.data,startX:(e,r,s,l)=>this.data.start(e,r,s,l),endX:(e,r,s,l)=>this.data.end(e,r,s,l),startY:(e,r,s,l)=>this.data.category(e,r,s,l),endY:(e,r,s,l)=>this.data.category(e,r,s,l),thicknessY:(e,r,s,l)=>this.data.thickness?this.data.thickness(e,r,s,l):void 0}}}class nn{barAccessors;static STATUS_CATEGORY="status";static STATUS_DOMAIN=[nn.STATUS_CATEGORY];get data(){return this.barAccessors.data}get series(){return this.barAccessors.series}constructor(n){this.barAccessors=n,n.data.status=t=>t.status}}function pn(c,n){const t=new nn(new Xn(c,n));return t.data.color=(e,r,s,l)=>c.get(t.data.status(e,r,s,l)),t.data.category=()=>nn.STATUS_CATEGORY,t}var bn=a(46043),qe=0;function mn(){return new Fe}function Fe(){this._="@"+(++qe).toString(36)}Fe.prototype=mn.prototype={constructor:Fe,get:function(c){for(var n=this._;!(n in c);)if(!(c=c.parentNode))return;return c[n]},set:function(c,n){return c[this._]=n},remove:function(c){return this._ in c&&delete c[this._]},toString:function(){return this._}};var xe=a(41895),hn=a.n(xe),an=a(27025),H=a.n(an),yt=a(64230),zt=a.n(yt),ut=a(20021);const Gt=.5;function te(c,n,t=Gt,e=Number.MAX_VALUE){if(!c)return 0;if(!(0,q.y_)(c))return c.convert(n);const r=c;if(!Zt()(n))return r.convert(n,t);const s=n;return 1===s.length||!r.innerScale||e<=1?r.convert(s[0],t):r.convert(s[0],0)+te(r.innerScale,s.slice(1),t,e-1)}var Nt=a(5438),ee=a(71443),Te=a(91877),Ie=a.n(Te),je=a(43930),rn=a.n(je);function dn(c,n){if(!c)return 0;const t=c.invert(n);if(!(0,q.y_)(c)||_e()(t))return t;if(!c.innerScale)return t;const r=dn(c.innerScale,n-c.convert(t,0));return Zt()(r)?[t,...r]:[t,r]}class Pe{static getValueAccessor(n,t){const e=n(t,0);if("number"==typeof e||"string"==typeof e)return n;if(e.valueOf&&"number"==typeof e.valueOf())return(r,s)=>n(r,s).valueOf();throw new Error("Value in the data series does not return numeric valueOf().")}static getClosestIndex(n,t,e){if(1===n.length)return 0;if(0===n.length)return;const r=Pe.getValueAccessor(t,n[0]);if("string"==typeof e)return n.findIndex(f=>r(f,0)===e);let s=this.findNearestIndex(n,e,t);return s=s>0?s-1:s,s=s>=n.length-1&&1!==n.length?n.length-2:s,s+Pe.getCloser(r(n[s],s),r(n[s+1],s+1),e)}static getCloser(n,t,e){return Math.abs(e-n)<=Math.abs(e-t)?0:1}static clampToRange(n,t){return n<t[0]?t[0]:n>t[1]?t[1]:n}static uuid(){let n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?r:3&r|8).toString(16)})}static cssEscape(n){if(0===arguments.length)throw new TypeError("`cssEscape` requires an argument.");const t=String(n),e=t.length;let s,r=-1,l="";const f=t.charCodeAt(0);for(;++r<e;)s=t.charCodeAt(r),l+=0!==s?s>=1&&s<=31||127===s||0===r&&s>=48&&s<=57||1===r&&s>=48&&s<=57&&45===f?"\\"+s.toString(16)+" ":0===r&&1===e&&45===s||!(s>=128||45===s||95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122)?"\\"+t.charAt(r):t.charAt(r):"\ufffd";return l}static findNearestIndex(n,t,e=Ie()){let r=0,s=null==n?r:n.length;for(;r<s;){const l=r+s>>>1,f=e(n[l],l);null!==f&&f<t?r=l+1:s=l}return Math.round(r)}static getXYValues(n,t,e,r){const s=Pe.getScaleValues(n,e),l=Pe.getScaleValues(t,r),f={};return rn()(s)||(f.x=s),rn()(l)||(f.y=l),f}static getScaleValues(n,t){return n.reduce(function e(r,s){const l=dn(s,t);return _e()(l)||(r[s.id]=l),r},{})}static getInteractionValues(n,t){return n?n[t]??Object.values(n)[0]:null}}class Ke extends ee.A{draw(n,t){}getDataPointPosition(n,t,e){if(t<0||t>=n.data.length)return;const r=n.data[t];if(!n.accessors.data?.x||!n.accessors.data?.y)throw new Error("Can't get dataPointPosition");return{x:e.x.convert(n.accessors.data.x(r,t,n.data,n)),y:e.y.convert(n.accessors.data.y(r,t,n.data,n))}}getDataPointIndex(n,t,e){if(_e()(t.x))return ut.Dc;const r=Pe.getClosestIndex(n.data,(s,l)=>n.accessors.data?.x?.(s,l,n.data,n),t.x);if(_e()(r))throw new Error("Unable to get data point index");return r}}let Vn=(()=>{class c extends Ke{config;constructor(t={}){super(t),this.config=t,this.config=hn()(this.config,this.DEFAULT_CONFIG)}static THICK=11;static THIN=3;static MIN_BAR_SIZE_FOR_ICON=10;static MIN_BAR_THICKNESS=2;static BAR_RECT_CLASS="bar";DEFAULT_CONFIG={transitionDuration:300,padding:1,barClass:"bar-outline",highlightStrategy:void 0,pointerEvents:!0,enableMinBarThickness:!0};barContainerClass="bar-container";draw(t,e){const r=t.containers[Nt.r.data],s=t.dataSeries,l=s.accessors,f=this.getAttrsGenerator(s,t.scales),m=mn(),R=r.selectAll(`g.${this.barContainerClass}`).data(s.data);R.exit().remove();const L=R.enter().append("g").classed(this.barContainerClass,!0);L.append("rect").on("click",(St,qt)=>{this.emitBarClick(t,St,qt,e)}),L.merge(R).property(m,(St,qt)=>f(St,qt)).select("rect").attr("class",(St,qt)=>`${c.BAR_RECT_CLASS} ${this.config.barClass}${this.config.pointerEvents?" pointer-events":""}`+((St,qt)=>typeof l.data?.cssClass<"u"&&" "+l.data.cssClass(St,qt,s.data,s)||"")(St,qt)).style("cursor",this.config.cursor??"").style("stroke-width",this.config?.strokeWidth??"").style("fill",(St,qt)=>l.data.color?l.data.color(St,qt,s.data,s):l.series.color?.(s.id,s)).attrs(function(){return m.get(this)}).select("rect").style("fill",(St,qt)=>l.data.color?l.data.color(St,qt,s.data,s):l.series.color?.(s.id,s)).attrs(m.get),l.data.marker&&(L.append("g").classed("bar-icon",!0),L.merge(R).select("g.bar-icon").html(function(St,qt){const Ee=m.get(this);if(!Ee||_e()(Ee?.height)||_e()(Ee?.width))throw new Error("barSize is undefined");if(Math.min(Ee.height,Ee.width)-1>=c.MIN_BAR_SIZE_FOR_ICON)return l.data.marker?.(St,qt,s.data,s)}).attr("transform",function(){const St=m.get(this);if(!St||_e()(St?.height)||_e()(St?.width))throw new Error("barAttrs is undefined");return`translate(${St.x+St.width/2}, ${St.y+St.height/2})`}))}getDataPointIndex(t,e,r){return this.config.highlightStrategy?this.config.highlightStrategy.getDataPointIndex(this,t,e,r):ut.Dc}highlightDataPoint(t,e,r){this.config.highlightStrategy&&this.config.highlightStrategy.highlightDataPoint(this,t,e,r)}getDataPointPosition(t,e,r){const s=t.data[e];return s&&this.getAttrsGenerator(t,r)(s,e)}getDataPoint(t,e,r){return{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:r,data:e,position:e?this.getDataPointPosition(t.dataSeries,r,t.scales):void 0}}filterDataByDomain(t){return t}getDomain(t,e,r,s){const l=e.accessors.data,f=r.toUpperCase(),m=R=>(L,gt,St)=>l[R+f]?.(L,gt,Array.from(St),e);if(s.isContinuous())return t&&0!==t.length?[(0,bn.jk)(t,m("start")),(0,bn.T9)(t,m("end"))]:q.tO;{const R=t&&t.length>0?t.map(m("start")):[],L=Math.max(...R.map(gt=>Zt()(gt)?gt.length:-1));return L>=0?Array.from(Array(L)).map((gt,St)=>{const qt=R.map(Ee=>St<Ee.length?Ee[St]:[]);return zt()(H()(qt))}):[zt()(R)]}}emitBarClick(t,e,r,s){s.next({eventName:ut.mu,data:this.getDataPoint(t,e,r)})}getAttrsGenerator(t,e){const r=t.accessors.data;return(s,l)=>{const f=this.getDimensions(r,s,l,t,e.x,"X"),m=this.getDimensions(r,s,l,t,e.y,"Y");return{x:f.start,width:f.thickness,y:m.start,height:m.thickness}}}getDimensions(t,e,r,s,l,f){let m,R;const L=t["thickness"+f],gt=s.accessors.data["start"+f],St=s.accessors.data["end"+f];if(R=L?.(e,r,s.data,s),_e()(R)){if(!gt||!St)throw new Error("Can't compute dimensions");const qt=te(l,gt(e,r,s.data,s),0),Ee=te(l,St(e,r,s.data,s),1);if(m=Math.min(qt,Ee),R=Math.abs(qt-Ee),(0,q.y_)(l)){if(_e()(this.config.padding))throw new Error("Config is not defined");m+=this.config.padding,R-=2*this.config.padding}this.config.enableMinBarThickness&&(R=Math.max(R,c.MIN_BAR_THICKNESS))}else{if(!gt)throw new Error("Can't compute dimensions");m=te(l,gt(e,r,s.data,s),.5)-R/2}return{start:m,thickness:R}}}return c})();const Si={stateStyles:{[Nt.M.default]:{opacity:0},[Nt.M.hidden]:{opacity:0},[Nt.M.deemphasized]:{opacity:0},[Nt.M.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},Hi={stateStyles:{[Nt.M.default]:{opacity:.3},[Nt.M.hidden]:{opacity:0},[Nt.M.deemphasized]:{opacity:0},[Nt.M.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},qn={enabled:!1,clickable:!1},ni="gauge-threshold-marker";class Oi{data={x:n=>n.x,y:n=>n.y}}class hi extends Oi{colorProvider;markerProvider;series;constructor(n=$e(),t=un()){super(),this.colorProvider=n,this.markerProvider=t,this.data.defined=(e,r)=>!e.hasOwnProperty("defined")||e.defined,this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}function Di(c){this._context=c}function Fi(c){return new Di(c)}Di.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(c,n){switch(c=+c,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,n):this._context.moveTo(c,n);break;case 1:this._point=2;default:this._context.lineTo(c,n)}}};var w=a(5285),U=a(70480);function K(c){return c[0]}function mt(c){return c[1]}function Rt(){var c=K,n=mt,t=(0,U.A)(!0),e=null,r=Fi,s=null;function l(f){var m,L,St,R=f.length,gt=!1;for(null==e&&(s=r(St=(0,w.A)())),m=0;m<=R;++m)!(m<R&&t(L=f[m],m,f))===gt&&((gt=!gt)?s.lineStart():s.lineEnd()),gt&&s.point(+c(L,m,f),+n(L,m,f));if(St)return s=null,St+""||null}return l.x=function(f){return arguments.length?(c="function"==typeof f?f:(0,U.A)(+f),l):c},l.y=function(f){return arguments.length?(n="function"==typeof f?f:(0,U.A)(+f),l):n},l.defined=function(f){return arguments.length?(t="function"==typeof f?f:(0,U.A)(!!f),l):t},l.curve=function(f){return arguments.length?(r=f,null!=e&&(s=r(e)),l):r},l.context=function(f){return arguments.length?(null==f?e=s=null:s=r(e=f),l):e},l}function kt(c,n){const t=c.range().map(s=>s),e=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return n>=e&&n<=r}var wt=a(86655);let Vt=(()=>{class c{static DEFAULT_MARKER_CONTAINER_CLASS="marker";static MARKER_PATH_CLASS="marker-path";static manageMarker(t,e,r,s,l,f=qn){if(!s)throw new Error("Container doesn't exist!");if(0===t.data.length)return void c.removeMarker(s);const m=t.accessors;r<0&&(r=t.data.length-1);const R=t.data[r];if(!m.data?.x||!m.data.y)throw new Error("Color or marker are undefined");const L=e.x.convert(m.data.x(R,r,t.data,t)),gt=e.y.convert(m.data.y(R,r,t.data,t));if(typeof L<"u"&&typeof gt<"u"&&kt(e.x,L)&&kt(e.y,gt)){const St=t.id,qt={index:r,data:R,seriesId:St,position:{x:L,y:gt},dataSeries:t};if(!m.series?.marker||!m.series?.color)throw new Error("Color or marker are undefined");c.drawMarker(qt,m.series.marker(St,t),m.series.color(St,t),s,l,c.DEFAULT_MARKER_CONTAINER_CLASS,f)}else c.removeMarker(s)}static drawMarker(t,e,r,s,l,f=c.DEFAULT_MARKER_CONTAINER_CLASS,m=qn){let R=s.select(`g.${f}`);const L=t?.position?.x,gt=t?.position?.y,St={transform:`translate(${L}, ${gt})`,cursor:"crosshair"};R.empty()&&(R=s.append("g").classed(`${f}${m.enabled?" pointer-events":""}${m.enabled&&m.clickable?" pointer-events-click":""}`,!0)),e.setColor(r),R.attrs(St),R.on("mouseenter",()=>{l.next({eventName:ut.cg,data:{interactionType:wt.X.Hover,dataPoint:t}})}),R.on("mouseleave",()=>{l.next({eventName:ut.cg,data:{interactionType:wt.X.Hover,dataPoint:{...t,index:ut.Dc}}})}),R.on("click",()=>{l.next({eventName:ut.cg,data:{interactionType:wt.X.Click,dataPoint:t}})}),!R.selectAll("g > *").size()&&R.node()&&(R.node()?.appendChild(ft.a04.getSvgFromString(e.getSvg())),R.select("path").classed(c.MARKER_PATH_CLASS,!0));const ce=R.select("path").node();if(ce&&m.enabled){const Ce=ce.getBoundingClientRect();ce.setAttribute("x",Math.ceil(t?.position?.x-Ce.width/2).toString()),ce.setAttribute("y",Math.ceil(t?.position?.y-Ce.height/2).toString())}}static removeMarker(t,e=c.DEFAULT_MARKER_CONTAINER_CLASS){t.select(`g.${e}`).remove()}}return c})(),Yt=(()=>{class c extends Ke{config;static UNCLIPPED_DATA_LAYER_NAME="unclipped-data";static LINE_CAP_CLASS_NAME="nui-chart-line-cap";static getStrokeStyleDashed(t){const e=2*t;return`${e},${e}`}static getStrokeStyleDotted(t){return`${t},${t}`}DEFAULT_CONFIG={strokeWidth:2,curveType:Fi,interactive:!0,strokeStyle:"",strokeLinecap:"round",markerInteraction:qn,useEnhancedLineCaps:!1,enhancedLineCap:{radius:3}};constructor(t={}){super(t),this.config=t,this.config=hn()(this.config,this.DEFAULT_CONFIG)}draw(t,e){const r=t.containers[Nt.r.data],s=t.dataSeries.accessors.series.color?.(t.dataSeries.id,t.dataSeries);let l=r.select("path.main");l.empty()&&(l=r.append("path").classed("main",!0).attrs({stroke:s??null,"stroke-width":this.config.strokeWidth??null,"stroke-dasharray":this.config.strokeStyle??null,"stroke-linecap":this.config.strokeLinecap??null,fill:"none"})),this.drawLine(t,l),this.config.interactionStrategy&&this.config.interactionStrategy.draw(this,t,e)}isInfiniteLineData(t){const e=t.dataSeries;return 1===e.data.length&&typeof e.accessors.data.x(e.data[0],0,e.data,e)>"u"}drawLine(t,e){this.isInfiniteLineData(t)?this.drawInfiniteLine(t,e):this.drawStandardLine(t,e)}highlightDataPoint(t,e,r){if(!this.config.interactive)return;const s=t.dataSeries;s.accessors.series.marker&&Vt.manageMarker(s,t.scales,e,t.containers[Nt.r.foreground],r,this.config.markerInteraction)}getRequiredLayers(){return[ut.G8[Nt.r.data],ut.G8[Nt.r.foreground],ut.G8[Nt.r.unclippedData]]}getDataPointPosition(t,e,r){return super.getDataPointPosition(t,e,r)}drawStandardLine(t,e){const r=t.dataSeries,s=r.accessors;let l=!1;const f=r.data.filter((R,L)=>{const gt=typeof s.data.x(R,L,r.data,r)<"u"&&typeof s.data.y(R,L,r.data,r)<"u";return!gt&&!l&&(console.warn("Data point",R,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x:",s.data.x),console.warn(" -> accessors.data.y:",s.data.y),l=!0),gt});if(!this.config.curveType)throw new Error("curveType is not defined");const m=Rt().x((R,L)=>t.scales.x.convert(s.data.x(R,L,r.data,r))).y((R,L)=>t.scales.y.convert(s.data.y(R,L,r.data,r))).defined((R,L)=>!s.data.defined||s.data.defined(R,L,r.data,r)).curve(this.config.curveType);e.attr("d",m(f)??""),this.config.useEnhancedLineCaps&&this.updateLineCaps(f,t,this.config.enhancedLineCap?.fill||e.attr("stroke"))}drawInfiniteLine(t,e){const r=t.dataSeries,l=t.scales.y.convert(r.accessors.data.y(r.data[0],0,r.data,r)),f=[[t.scales.x.range()[0],l],[t.scales.x.range()[1],l]],R=Rt().x(L=>L[0]).y(L=>L[1])(f);if(!R)throw new Error("Line cannot be computed");e.attr("shape-rendering","crispEdges").attr("d",R)}updateLineCaps(t,e,r){const s=e.dataSeries,l=s.accessors,f=t.filter((gt,St)=>!l?.data?.defined||l?.data?.defined(gt,St,s.data,s)),m=(gt,St)=>e.scales.x.convert(l.data.x(gt,St,s.data,s)),R=(gt,St)=>e.scales.y.convert(l.data.y(gt,St,s.data,s)),L=e.containers[Nt.r.unclippedData].selectAll(`.${c.LINE_CAP_CLASS_NAME}`).data(f).attr("cx",m).attr("cy",R);L.enter().append("circle").attr("class",c.LINE_CAP_CLASS_NAME).attr("r",this.config.enhancedLineCap?.radius).attr("cx",m).attr("cy",R).style("stroke-width",this.config.enhancedLineCap?.strokeWidth).style("fill",r).style("stroke",this.config.enhancedLineCap?.stroke),L.exit().remove()}}return c})();var $t=function(c){return c.Grayscale="grayscale",c}($t||{});const Ht=`url("#${$t.Grayscale}")`;class we{data;series;constructor(){this.data={active:n=>n.active},this.series={start:()=>null,end:()=>null,activeColor:()=>"magenta"}}}let We=(()=>class c extends Ke{static SIDE_INDICATORS_LAYER="side-indicators";DEFAULT_CONFIG={};constructor(t={}){super(t),this.config=hn()(this.config,this.DEFAULT_CONFIG)}draw(t,e){const r=t.containers[Nt.r.unclippedData],s=t.dataSeries,l=t.scales,f=t.dataSeries.accessors;let m=r.select("rect");const R=s.data.length>0&&f.data.active(s.data[0],0,t.dataSeries.data,t.dataSeries),L=!R&&f.series.inactiveColor?f.series.inactiveColor:f.series.activeColor;m.empty()&&(m=r.append("rect").attrs({fill:L(s.id,s)}),!R&&!f.series.inactiveColor&&m.style("filter",Ht));const gt=f.series.start(s.id,s),St=f.series.end(s.id,s),qt=null==St?0:l.y.convert(St),ce=(null==gt?l.y.range()[0]:Math.min(l.y.range()[0],l.y.convert(gt)))-qt;m.attrs({x:-2,y:qt,height:ce<0?0:ce,width:2})}getDataPointIndex(t,e,r){return-1}getRequiredLayers(){return[ut.G8[Nt.r.unclippedData]]}})();var ii=function(c){return c.Start="start",c.End="end",c}(ii||{}),In=a(99019);let mi=(()=>{class c{loggerService;static SERIES_ID_SUFFIX="__thresholds-background";constructor(t){this.loggerService=t}injectThresholdsData(t,e){const r={};e.forEach(s=>s.entered=!1);for(let s=0;s<t.data.length;s++){const l=t.data[s],f=t.accessors.data.x(l,s,t.data,t),m=t.accessors.data.y(l,s,t.data,t);l.__thresholds={};const R=this.getZoneByXY(e,r,f,m);R&&(R.entered=!0,l.__thresholds.status=R.value)}}getBackgrounds(t,e,r,s,l={},f=at()(Si)){let m;t.data.length>0&&typeof t.data[0].__thresholds>"u"&&this.loggerService.warn("Thresholds metadata is not defined on provided data series",t);const R=pn(s);return R.data.thickness=L=>l[L.status],(0,q.y_)(r.x)?(m=at()(t.data),R.data.start=t.accessors.data.x,R.data.end=t.accessors.data.x,R.data.color=L=>L.__thresholds&&L.__thresholds.status?s.get(L.__thresholds.status):"transparent",R.data.thickness=L=>l[L.__thresholds.status]):m=this.getBackgroundsDataForContinuousScale(t,e),{id:t.id+c.SERIES_ID_SUFFIX,data:m,accessors:R,scales:r,renderer:new Vn(f),showInLegend:!1}}getBackgroundsDataForContinuousScale(t,e){const r=[],s=this.getBreakPoints(t,e),l={};for(let f=0;f<s.length-1;f++){const m=s[f],R=s[f+1];if(!m||!R)throw new Error("p1 or p2 are undefined");const L={x:(m.x+R.x)/2,y:(m.y+R.y)/2},gt=this.getZoneByXY(e,l,L.x,L.y);if(gt){const St=r[r.length-1];St&&St.end?.valueOf()===m.x&&St.status===gt.value?St.end=new Date(R.x):r.push({status:gt.value,start:new Date(m.x),end:new Date(R.x)})}}return r}getBreakPoints(t,e){const r=t.accessors.data;let s=[];for(let l=0;l<t.data.length-1;l++){const f=t.data[l],m=t.data[l+1],R={x:r.x(f,l,t.data,t).valueOf(),y:r.y(f,l,t.data,t).valueOf()},L={x:r.x(m,l+1,t.data,t).valueOf(),y:r.y(m,l+1,t.data,t).valueOf()};for(let gt=0;gt<e.length;gt++){const St=e[gt],qt=St.accessors.data.start?.(St.data[0],0,St.data,St),Ee=St.accessors.data.end?.(St.data[0],0,St.data,St),ce=[qt,Ee].map(Ce=>this.getCrossPointWithY(R,L,Ce)).filter(Ce=>Ce);[R,L].forEach(Ce=>{(Ce.y===qt||Ce.y===Ee)&&(Ce.isZoneEdge=!0)}),s=se()(s,ce,[R,L],(Ce,Nn)=>Ce?.x===Nn?.x&&Ce?.isZoneEdge===Nn?.isZoneEdge)}}return Ft()(s,"x")}getThresholdZones(t,e,r){const s=new $n;return s.data.start=l=>l.start,s.data.end=l=>l.end,s.series.color=(l,f)=>r.get(f.value),e.map((l,f)=>({id:t.id+"__"+l.status+"-"+f,value:l.status,data:[{start:l.start,end:l.end}],scales:t.scales,accessors:s}))}getThresholdLines(t){if(-1===t.findIndex(s=>s.entered))return[];const e={};function r(s,l,f){const m=s(l.data[0],0,l.data,l);typeof m<"u"&&typeof e[m]>"u"&&(e[m]={series:l,accessor:s,zoneBoundary:f})}for(const s of t)s.accessors.data.start&&s.accessors.data.end&&(r(s.accessors.data.start,s,ii.Start),r(s.accessors.data.end,s,ii.End));return ve()(e).map(s=>this.getThresholdLine(s.series,s.accessor,s.zoneBoundary))}getThresholdLine(t,e,r=ii.Start){const s=new hi;s.data.y=e,s.series.color=t.accessors.series.color;const l=new Yt({interactive:!1,strokeWidth:1,strokeStyle:Yt.getStrokeStyleDashed(1),stateStyles:at()(Si.stateStyles),ignoreForDomainCalculation:!0});return{id:`${t.id}__${r}__threshold-line`,data:t.data,value:t.value,accessors:s,renderer:l,scales:t.scales,showInLegend:!1}}getCrossPoint(t,e,r,s){const l_x=e.x-t.x,l_y=e.y-t.y,f_x=s.x-r.x,f_y=s.y-r.y,m=(-l_y*(t.x-r.x)+l_x*(t.y-r.y))/(-f_x*l_y+l_x*f_y),R=(f_x*(t.y-r.y)-f_y*(t.x-r.x))/(-f_x*l_y+l_x*f_y);if(m>=0&&m<=1&&R>=0&&R<=1)return{x:t.x+R*l_x,y:t.y+R*l_y}}getZoneByXY(t,e,r,s){for(const l of t){e[l.id]||(e[l.id]=0);const f=this.moveZoneIndex(e[l.id],l,r);e[l.id]=f;const m=l.data[f],R=l.accessors.data,L=R.start?.(m,f,l.data,l),gt=R.end?.(m,f,l.data,l);if((typeof L>"u"||s>=L)&&(typeof gt>"u"||s<=gt))return l}return null}moveZoneIndex(t,e,r){for(;t<e.data.length-1&&e.accessors.data.x(e.data[t+1],t+1,e.data,e)<r;)t++;return t}getCrossPointWithY(t,e,r){return this.getCrossPoint(t,e,{x:t.x,y:r},{x:e.x,y:r})}getSideIndicators(t,e,r){const s=[],l=new We(r||at()(Si)),f=-1!==t.findIndex(m=>m.entered);for(const m of t){const R=new we;R.series={start:()=>m.accessors.data.start?.(m.data[0],0,m.data,m),end:()=>m.accessors.data.end?.(m.data[0],0,m.data,m),activeColor:()=>m.accessors.series.color?.(m.id,m)},s.push({id:m.id+"__side-indicator",data:[{active:f}],accessors:R,scales:e,renderer:l,showInLegend:!1})}return s}static \u0275fac=function(e){return new(e||c)(In.KVO(ft.gPJ))};static \u0275prov=In.jDH({token:c,factory:c.\u0275fac})}return c})(),Er=(()=>{class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=In.$C({type:c});static \u0275inj=In.G2t({providers:[Mt.y,mi],imports:[ft.WrP,ft.s6u,ft.W0p,I.z_]})}return c})();var Xi=a(8410);const vi="quantity",cr="remainder",Ni="threshold-markers";var ti=function(c){return c.Donut="donut",c.Horizontal="horizontal",c.Vertical="vertical",c}(ti||{}),fi=function(c){return c[c.Small=10]="Small",c[c.Large=15]="Large",c}(fi||{}),Ti=function(c){return c[c.Small=3]="Small",c[c.Large=4]="Large",c}(Ti||{}),ri=function(c){return c.Warning="warning",c.Critical="critical",c}(ri||{}),tn=function(c){return c.Remainder="var(--nui-color-semantic-unknown-bg-hover)",c.Ok="var(--nui-color-chart-one)",c.Warning="var(--nui-color-semantic-warning)",c.Critical="var(--nui-color-semantic-critical)",c}(tn||{});const lr={top:20,right:25,bottom:20,left:25};var Ve=a(79394),wn=a.n(Ve),yi=a(60142),Wn=a(52667),Pn=a(76211),ur=a(205),vn=a.n(ur),hr=a(59526),Pi=a.n(hr),Yn=a(97861),xi=a.n(Yn);function Ln(c,n){n&&0!==n.length&&(Zt()(n[0])?(c.domain(n[0]),(0,q.z7)(c)&&Ln(c.innerScale,n.slice(1))):c.domain(n))}class dr{chart;_chartSeriesSet=[];dataIndex={};_scalesIndexByKey={};_scalesIndexById={};get chartSeriesSet(){return this._chartSeriesSet}get scalesIndexByKey(){return this._scalesIndexByKey}get scalesIndexById(){return this._scalesIndexById}constructor(n){this.chart=n}update(n){const t=vn()(n.map(e=>e.id),(e,r,s)=>Pi()(s,e,r+1));t.length>0&&console.warn("Series set contains duplicate IDs:",t),this._chartSeriesSet=n||[],this.dataIndex=xi()(this._chartSeriesSet,e=>e.id),this._scalesIndexByKey=this.buildScalesIndex(this._chartSeriesSet),this._scalesIndexById=xi()(H()(ve()(this._scalesIndexByKey).map(e=>e.list)),e=>e.id)}getChartSeries(n){return this.dataIndex[n]}updateScaleDomain(n,t){if(!n.isDomainFixed&&n.domainCalculator){const e=this.chartSeriesSet.filter(r=>r.scales[t]===n&&!r.renderer.config.ignoreForDomainCalculation).filter(r=>r.renderState!==Nt.M.hidden);if(e.length||this.chart?.configuration?.updateDomainForEmptySeries){const r=n.domainCalculator(e,t,n);Ln(n,r)}}}buildScalesIndex(n){const t={};return wn()(n,e=>{wn()(Object.keys(e.scales),r=>{const s=e.scales[r];let l=t[r];l||(l={index:{},list:[]},t[r]=l),l.index[s.id]||(l.index[s.id]=s,l.list.push(s))})}),t}updateScaleDomains(){wn()(Object.keys(this._scalesIndexByKey),n=>{wn()(this._scalesIndexByKey[n].list,t=>{this.updateScaleDomain(t,n)})})}}var fr=a(78829),Gi=a(86759),gr=a.n(Gi);class Ci{lasagna;dataManager;interactionDataPointsSubject=new Wn.B;rendererSubject=new Wn.B;highlightDataPointSubscription;highlightedDataPoints={};renderLayers={};layerIndex={};constructor(n,t){this.lasagna=n,this.dataManager=t,this.highlightDataPointSubscription=this.rendererSubject.subscribe(e=>{e.eventName===ut.cC&&this.highlightDataPoint(e.data.seriesId,e.data.index)})}update(){const n={};wn()(this.dataManager.chartSeriesSet,t=>{const e=this.getSeriesChildContainers(t.id);-1===Object.values(t.scales).findIndex(s=>{if(typeof n[s.id]>"u"){const l=s.isDomainValid();l||console.warn("Invalid scale domain detected for scale:",s),n[s.id]=l}return!n[s.id]})&&t.renderer.draw({dataSeries:t,containers:e,scales:t.scales},this.rendererSubject)})}updateSeriesContainers(){this.layerIndex=this.buildLayerIndex(this.dataManager.chartSeriesSet),this.removeUnusedLayers(),this.addNeededLayers(),this.updateLayerContents()}emitInteractionDataPoints(n){let t=!1;const e=this.dataManager.chartSeriesSet.reduce((r,s)=>{const l={};wn()(Object.keys(n.values),L=>{l[L]=Pe.getInteractionValues(n.values[L],s.scales[L].id)});let f=ut.Dc;s.data&&s.data.length>0&&(f=s.renderer.getDataPointIndex(s,l,s.scales));const m=s.renderer.getDataPointPosition(s,f,s.scales),R={seriesId:s.id,dataSeries:s,index:f,data:f>=0?s.data[f]:null,position:m};if(n.interactionType===wt.X.MouseMove){const L=this.highlightedDataPoints[s.id];!_e()(f)&&(_e()(L)||f===ut.Dc||f!==L.index)&&(t=!0,this.rendererSubject.next({eventName:ut.cC,data:R}))}return r[s.id]=R,r},{});(n.interactionType!==wt.X.MouseMove||t)&&this.interactionDataPointsSubject.next({interactionType:n.interactionType,dataPoints:e}),t&&(this.highlightedDataPoints=e)}highlightDataPoint(n,t){const e=this.getSeriesChildContainers(n),r=this.dataManager.getChartSeries(n);r.renderer.highlightDataPoint({dataSeries:r,containers:e,scales:r.scales,parentContainer:this.renderLayers.data},t,this.rendererSubject)}setSeriesStates(n){wn()(n,({seriesId:t,state:e})=>{const r=this.dataManager.getChartSeries(t);if(!r)return;const s=this.getSeriesChildContainers(t),l=r.renderer.getContainerStateStyles(e);wn()(ve()(s),f=>{f.attrs(l)}),r.renderer.setSeriesState(s,e)})}destroy(){this.highlightDataPointSubscription&&this.highlightDataPointSubscription.unsubscribe(),this.rendererSubject&&this.rendererSubject.complete()}buildLayerIndex(n){const t={};return wn()(n,e=>{wn()(e.renderer.getRequiredLayers(),r=>{if(ut.G8[r.name]&&!gr()(ut.G8[r.name],r))throw new Error(`Custom definition detected for render layer "${r.name}". Custom layers must use a name not already taken by the predefined layer set.`);let s=t[r.name];s||(s={seriesUsing:[],layerDefinition:r},t[r.name]=s),s.seriesUsing.push(e)})}),t}removeUnusedLayers(){wn()(Object.keys(this.renderLayers),n=>{this.layerIndex[n]||(this.lasagna.removeLayer(n),delete this.renderLayers[n])})}addNeededLayers(){wn()(this.layerIndex,n=>{this.renderLayers[n.layerDefinition.name]||(this.renderLayers[n.layerDefinition.name]=this.lasagna.addLayer(n.layerDefinition))})}updateLayerContents(){wn()(Object.keys(this.renderLayers),n=>{const e=this.renderLayers[n].selectAll("g.data-series-container").data(this.layerIndex[n].seriesUsing,r=>r.id).order();e.enter().append("g").attrs({id:r=>this.getChildContainerId(n,r.id),class:"data-series-container"}),e.exit().remove()})}getSeriesChildContainers(n){const t={};return wn()(Object.keys(this.renderLayers),e=>{t[e]=this.renderLayers[e].selectAll(`#${e}-${Pe.cssEscape(n)}`)}),t}getChildContainerId(n,t){return n+"-"+t}}var wi=a(91880);class pr extends wi.y{renderEngine;isChartInView=!0;lastInteractionValuesPayload;destroy$=new Wn.B;initialize(){this.renderEngine=this.chart.getRenderEngine(),this.chart.getEventBus().getStream(ut.JQ).pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{this.lastInteractionValuesPayload=n.data,this.isChartInView&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)}),this.renderEngine.interactionDataPointsSubject.pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(ut.JM).next({data:n})}),this.renderEngine.rendererSubject.pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(n.eventName).next({data:n.data})}),this.chart.getEventBus().getStream(ut.Bp).pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{this.isChartInView=n.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)})}update(){this.renderEngine.updateSeriesContainers(),this.renderEngine.update()}updateDimensions(){this.renderEngine.update()}destroy(){this.renderEngine.destroy(),this.destroy$.next(),this.destroy$.complete()}}class $i{grid;configuration;eventBus=new fr.l;element;target;filterDefs;dataManager;renderEngine;updateSubject=new yi.t([]);updateDimensionsSubject=new Wn.B;seriesStatesSubject=new yi.t([]);plugins=[];constructor(n,t){if(this.grid=n,this.configuration=t,!n)throw new Error("Grid has to be defined!");n.updateChartDimensionsSubject=this.updateDimensionsSubject,n.eventBus=this.eventBus}getEventBus(){return this.eventBus}getDataManager(){return this.dataManager}getRenderEngine(){return this.renderEngine}getGrid(){return this.grid}addPlugin(n){n.chart=this,this.plugins.push(n)}removePlugin(n){const t=this.plugins.findIndex(e=>e instanceof n);-1!==t&&(this.plugins[t].destroy(),this.plugins.splice(t,1))}addPlugins(...n){for(const t of n)this.addPlugin(t)}removePlugins(...n){for(const t of n)this.removePlugin(t)}hasPlugin(n){return-1!==this.plugins.findIndex(t=>t instanceof n)}build(n){this.element=n,this.target=(0,b.A)(this.element).append("svg").attrs({class:"nui-chart",height:"100%",width:"100%"}),this.configureCssFilters(),this.buildGrid(),this.dataManager=this.buildDataManager(),this.renderEngine=this.buildRenderEngine(this.grid.getLasagna(),this.dataManager);const t=new pr;t.chart=this,this.plugins.unshift(t);for(const r of this.getGrid().buildPlugins(this))this.addPlugin(r);this.initialize();const e=()=>(0,Pn.Q)(this.getEventBus().getStream(ut.A2));this.updateSubject.pipe(e()).subscribe(r=>this.onUpdate(r)),this.updateDimensionsSubject.pipe(e()).subscribe(()=>this.onUpdateDimensions()),this.seriesStatesSubject.pipe(e()).subscribe(r=>this.onSetSeriesStates(r))}configureCssFilters(){this.filterDefs=this.target?.append("defs"),this.filterDefs?.append("filter").attr("id",$t.Grayscale).append("feColorMatrix").attr("type","matrix").attr("values","\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0      0      0      1 0\n")}buildDataManager(){return new dr(this)}buildGrid(){this.target&&(this.grid.target(this.target),this.grid.build(),this.updateTargetDimensions(this.grid.config().dimension))}buildRenderEngine(n,t){return new Ci(n,t)}update(n){this.updateSubject.next(n)}updateDimensions(){this.updateDimensionsSubject.next()}initialize(){wn()(this.plugins,n=>{n.initialize()})}destroy(){this.eventBus.getStream(ut.A2).next({data:null}),this.eventBus.destroy(),this.plugins.forEach(n=>n.destroy()),this.target?.remove(),this.target=void 0}setSeriesStates(n){this.seriesStatesSubject.next(n),this.eventBus.getStream(ut.E7).next({data:n})}onUpdate(n){this.dataManager.update(n),this.grid.scales=this.dataManager.scalesIndexByKey,this.dataManager.updateScaleDomains(),this.grid.updateRanges(),this.plugins.forEach(t=>t.update())}onUpdateDimensions(){const n=this.grid.config().dimension;this.updateTargetDimensions(n);const t={};n.autoHeight&&(t.height=this.element.clientHeight),n.autoWidth&&(t.width=this.element.clientWidth),this.grid.updateDimensions(t),this.plugins.forEach(e=>e.updateDimensions())}updateTargetDimensions(n){n.autoHeight||this.target?.style("height",n.outerHeight()+"px"),n.autoWidth||this.target?.style("width",n.outerWidth()+"px")}onSetSeriesStates(n){this.renderEngine.setSeriesStates(n)}}var Zi=a(23007),Ji=a(67370),mr=a(51044),vr=a(79668),Ai=function(c){return c.ToggleSeries="ToggleSeries",c.ResetVisibleSeries="ResetVisibleSeries",c.EmphasizeSeries="EmphasizeSeries",c}(Ai||{});class qi{seriesId;series;emphasisState;visible;constructor(n,t,e=Nt.M.default,r=!0){this.seriesId=n,this.series=t,this.emphasisState=e,this.visible=r}get state(){return this.visible?this.emphasisState:Nt.M.hidden}}class o{chart;palette;markers;static getLabel(n,t,e,r,s){if(!t||0===n.data.length)return null;const l=n.accessors.data?.[s||e];if(!l)return null;const f=t.index<0?n.data.length-1:t.index,R=l(n.data[f],f,n.data,n),L=n.scales[e];if(!L||!r)return R;const gt=L.formatters[r];return gt?gt(R):R}highlightedDataPoints;isLegendActive=!1;inputSeriesSet=[];legendSeriesSet=[];chartAssistSubject=new Wn.B;syncHandlerMap;getVisibleSeriesWithLegendBackup;syncSubscription;legendInteractionAssist;onEvent;constructor(n,t,e=function Je(){return new Gn($e())}(),r=un()){this.chart=n,this.palette=e,this.markers=r,this.configureChartEventSubscriptions(n.getEventBus()),t&&(this.seriesProcessor=t),this.legendInteractionAssist=new h(this),this.syncHandlerMap={[Ai.EmphasizeSeries]:this.emphasizeSeries,[Ai.ResetVisibleSeries]:this.resetVisibleSeries,[Ai.ToggleSeries]:this.toggleSeries}}get renderStatesIndex(){return this.legendInteractionAssist.renderStatesIndex}legendLabelData$(n){return this.chart.getEventBus().getStream(ut.JM).asObservable().pipe((0,Ji.p)(r=>r.data.interactionType===wt.X.MouseMove),(0,mr.T)(r=>r.data.dataPoints[n.id])).pipe((0,vr.n)(r=>(r=>r&&r.index>=0)(r)?(0,Zi.of)(r.data):(0,Zi.of)(n.data&&n.data.length?n.data[n.data.length-1]:null)))}seriesProcessor(n){return n}update(n,t=!0){this.inputSeriesSet=n;const e=this.seriesProcessor(n.map(s=>({...s,data:s.data||[]})));this.legendSeriesSet=e.filter(s=>s.showInLegend||typeof s.showInLegend>"u"),t&&this.legendInteractionAssist.update(e);const r=e.map(s=>Object.assign({renderState:this.renderStatesIndex[s.id]?.state},s));this.chart.update(r),this.publishRenderStates()}toggleSeries=(n,t)=>{this.legendInteractionAssist.setGroupVisibility(n,t),this.update(this.inputSeriesSet,!1),this.chartAssistSubject.next({type:Ai.ToggleSeries,payload:{seriesId:n,visible:t}})};resetVisibleSeries=()=>{this.legendInteractionAssist.resetSeries(),this.publishRenderStates(),this.chartAssistSubject.next({type:Ai.ResetVisibleSeries,payload:{}})};emphasizeSeries=n=>{this.legendInteractionAssist.emphasizeSeries(n),this.publishRenderStates(),this.chartAssistSubject.next({type:Ai.EmphasizeSeries,payload:{seriesId:n}})};isSeriesHidden(n){return this.legendInteractionAssist.isSeriesHidden(n)}seriesTrackByFn(n,t){return t.id}getHighlightedValue(n,t,e,r){if(this.highlightedDataPoints)return o.getLabel(n,this.highlightedDataPoints[n.id],t,e,r)}getVisibleSeriesWithLegend=()=>this.legendSeriesSet.filter(n=>!this.isSeriesHidden(n.id));syncWithChartAssist(n){this.getVisibleSeriesWithLegendBackup=this.getVisibleSeriesWithLegend,this.getVisibleSeriesWithLegend=n.getVisibleSeriesWithLegend,this.syncSubscription=n.chartAssistSubject.pipe((0,Pn.Q)(n.chart.getEventBus().getStream(ut.A2))).subscribe(t=>{const e=Object.keys(t.payload).map(r=>t.payload[r]);this.syncHandlerMap[t.type](...e)})}unsyncChartAssist(){this.getVisibleSeriesWithLegend=this.getVisibleSeriesWithLegendBackup,this.syncSubscription&&this.syncSubscription.unsubscribe()}configureChartEventSubscriptions(n){const t={[ut.JM]:e=>{e.interactionType===wt.X.MouseMove&&(this.highlightedDataPoints=Object.assign({},e.dataPoints))},[ut.mZ]:e=>{e.index>=0?this.emphasizeSeries(e.seriesId):this.resetVisibleSeries()},[ut.C8]:e=>{this.isLegendActive=e}};wn()(Object.keys(t),e=>{n.getStream(e).subscribe(r=>{t[e](r.data),this.onEvent&&this.onEvent(r)})})}publishRenderStates(){this.chart.setSeriesStates(this.legendInteractionAssist.getSeriesStates())}}class h{chartAssist;seriesGroups={};seriesIndex;renderStatesIndex={};constructor(n){this.chartAssist=n}update(n){this.seriesGroups=this.getSeriesGroups(n),this.seriesIndex=xi()(n,t=>t.id),this.resetSeries();for(const t of n.filter(e=>e.renderState))this.renderStatesIndex[t.id]=new qi(t.id,t,t.renderState===Nt.M.hidden?Nt.M.default:t.renderState,t.renderState!==Nt.M.hidden)}getSeriesStates(){return ve()(this.renderStatesIndex)}isSeriesHidden(n){const t=this.renderStatesIndex[n];return t&&!t.visible}getSeriesGroups(n){const t={};for(const e of n){const r=e.id.indexOf("__"),s=r>=0?e.id.substring(0,r):e.id;t[s]||(t[s]=[]),t[s].push(e.id)}return t}setGroupState(n,t){if(this.seriesGroups[n])for(const e of this.seriesGroups[n])this.setRenderState(e,t)}setGroupVisibility(n,t){if(this.seriesGroups[n])for(const e of this.seriesGroups[n])this.setVisibility(e,t)}emphasizeSeries(n){for(const t of Object.keys(this.seriesGroups))this.setGroupState(t,t===n?Nt.M.emphasized:Nt.M.deemphasized)}resetSeries(){const n=this.chartAssist.getVisibleSeriesWithLegend();if(1===n.length)this.emphasizeSeries(n[0].id);else for(const e of Object.keys(this.seriesGroups))this.setGroupState(e,Nt.M.default)}setRenderState(n,t){let e=this.renderStatesIndex[n];e?e.emphasisState=t:(e=new qi(n,this.seriesIndex[n],t),this.renderStatesIndex[n]=e)}setVisibility(n,t){let e=this.renderStatesIndex[n];e?e.visible=t:(e=new qi(n,this.seriesIndex[n],Nt.M.default,t),this.renderStatesIndex[n]=e)}}class d{_width=0;_height=0;margin={top:0,right:0,bottom:0,left:0};padding={top:0,right:0,bottom:0,left:0};marginLocked={top:!1,right:!1,bottom:!1,left:!1};autoWidth=!0;autoHeight=!0;width(n){return void 0===n?this._width:(this._width=n,this)}height(n){return void 0===n?this._height:(this._height=n,this)}outerWidth(n){const t=this.margin.right+this.margin.left;return void 0===n?this._width+t:(this._width=Math.max(n-t,0),this)}outerHeight(n){const t=this.margin.top+this.margin.bottom;return void 0===n?this._height+t:(this._height=Math.max(n-t,0),this)}}function E(c,n){const t=c.text(),e=t.split(""),r=c.text("").append("tspan").attr("class",`${ut.VJ} ellipsis`).text("..."),s=c.insert("tspan",":first-child").attr("class",`${ut.VJ} text`).text(t),l=n.ellipsisWidth+2*n.horizontalPadding,f=e.length;let m=(s?.node()?.getComputedTextLength()||0)+2*n.horizontalPadding;for(;e.length&&(m>n.widthLimit||" "===e[e.length-1]);)e.pop(),s.text(e.join("")),m=l+(s?.node()?.getComputedTextLength()||0);e.length===f&&r.remove()}class v{visible=!0;gridTicks=!1;tickSize=5;tickLabel={horizontalPadding:0,overflowHandler:E};fit=!1;_approximateTicks=5;get approximateTicks(){return this._approximateTicks}set approximateTicks(n){this._approximateTicks=parseInt(n,10)}padding=0}class _{className;color;width;visible=!0;constructor(n){this.className=n}}class B{interactive=!0;dimension=new d;borders={top:void 0,bottom:void 0,left:void 0,right:void 0};cursor="crosshair";disableRenderAreaHeightCorrection=!1;disableRenderAreaWidthCorrection=!1}let G=(()=>{class c extends B{static DEFAULT_MARGIN={top:0,right:5,bottom:20,left:30};static DEFAULT_PADDING={left:0,right:0,top:5,bottom:5};axis={top:new v,right:new v,bottom:new v,left:new v};interactionPlugins=!0;constructor(){super(),this.dimension.padding=Object.assign({},c.DEFAULT_PADDING),this.dimension.margin=Object.assign({},c.DEFAULT_MARGIN),this.borders.bottom=new _("nui-chart-border nui-chart-border--thick"),this.borders.left=new _("nui-chart-border nui-chart-border--thick"),this.borders.left.visible=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=0,this.axis.left.padding=10,this.axis.right.fit=!0,this.axis.right.tickSize=0,this.axis.right.padding=10,this.axis.bottom.tickLabel.horizontalPadding=5}}return c})();var W=a(82883),pt=a(13070),ct=a.n(pt),J=a(74740),Et=a.n(J),ot=a(89403),k=a(72546);let vt=(()=>{class c{target;interactiveArea;gridMargin;static CONTAINER_CLASS="mouse-interactive-area";active=new yi.t(!1);interaction=new yi.t({type:wt.X.Click,coordinates:{x:0,y:0}});isActive=!1;constructor(t,e,r,s){this.target=t,this.interactiveArea=e,this.gridMargin=s,this.interactiveArea.style("cursor",r).classed(c.CONTAINER_CLASS,!0),this.target.on("mouseover",this.onMouseOver).on("mouseout",this.onMouseOut).on(wt.X.MouseDown,()=>this.onMouseInteraction(wt.X.MouseDown)).on(wt.X.MouseUp,()=>this.onMouseInteraction(wt.X.MouseUp)).on(wt.X.MouseMove,()=>this.onMouseInteraction(wt.X.MouseMove)).on(wt.X.Click,()=>this.onMouseInteraction(wt.X.Click))}onMouseInteraction=t=>{if(ot.f0.target.classList.contains(ut.VJ))return;let e=0,r=0;const s=parseInt(this.interactiveArea.attr("width"),10)||0,l=parseInt(this.interactiveArea.attr("height"),10)||0;if(/firefox/i.test(navigator.userAgent)){let m=e+ot.f0.offsetX-(this.gridMargin?.left||0);m=m>s?s:m,e=m<0?0:m;let R=r+ot.f0.offsetY-(this.gridMargin?.top||0);R=R>l?l:R,r=R<0?0:R}else{const m=(0,k.A)(ot.f0.currentTarget),R=m[0]>s?s:m[0];e=R<0?0:R;const L=m[1]>l?l:m[1];r=L<0?0:L}this.interaction.next({type:t,coordinates:{x:e,y:r}})};onMouseOver=()=>{this.isActive||ot.f0.target.classList.contains(ut.VJ)||(this.isActive=!0,this.active.next(!0))};onMouseOut=()=>{if(!this.isActive)return;let t=ot.f0.relatedTarget;for(;t;){if(t===this.target.node())return;t=t.parentNode}this.isActive=!1,this.active.next(!1)};onMouseEnter=()=>{this.onMouseOver()};onMouseLeave=()=>{this.onMouseOut()}}return c})();var tt=a(41387),It=a.n(tt),Tt=a(16354),ne=a(95478),Re=a.n(ne);const Ue=(c,n,t)=>{const e=function ke(c,n){return c.reduce((t,e)=>{for(const r of Object.keys(e.scales)){if(r===n)continue;const s=e.scales[r];s.isDomainFixed&&(t[r]||(t[r]=[]),-1===Re()(t[r],s)&&t[r].push(s))}return t},{})}(c,n);return function Be(c,n){if(n.isContinuous()){const e=c.filter(l=>l!==q.tO);return 0===e.length?q.tO:[(0,W.jkA)(e.filter(l=>void 0!==typeof l[0]).map(l=>l[0])),(0,W.T9B)(e.filter(l=>void 0!==typeof l[1]).map(l=>l[1]))]}const t=Math.max(...c.map(e=>e.length));return Array.from(Array(t)).map((e,r)=>{const s=c.map(l=>r<l.length?l[r]:[]);return zt()(H()(s))})}(c.map(s=>{const l=Object.keys(e).reduce((f,m)=>{const R=s.scales[m];return R&&R.isContinuous()&&-1!==Re()(e[m],R)&&(f[m]=R),f},{});return s.renderer.getDomainOfFilteredData(s,l,n,s.scales[n])}),t)},Se=c=>(n,t,e)=>{const r=Ue(n,t,e);return[Math.min(r[0],c[0]),Math.max(r[1],c[1])]};class de{id;domainCalculator=Ue;formatters={};isDomainFixed;scaleUnits;isTimeseriesScale=!1;isReversed=!1;_fixDomainValues=[];_d3Scale;constructor(n){this.id=n||Pe.uuid(),this._d3Scale=this.createD3Scale()}get d3Scale(){return this._d3Scale}get fixDomainValues(){return this._fixDomainValues}setFixDomainValues(n){n.length>1&&(this.domain([n[0],n[n.length-1]]),this.isDomainFixed=!0),this._fixDomainValues=n}range(n){return n?(this._d3Scale.range(this.isReversed?n.reverse():n),this):this._d3Scale.range()}domain(n){return n?(this._d3Scale.domain(n),this):this._d3Scale.domain()}fixDomain(n){return this.domain(n),this.isDomainFixed=!0,this}isDomainValid(){return-1===this.domain().findIndex(n=>void 0===n)}reverse(){return this.reversed(!this.isReversed)}reversed(n){return typeof n>"u"?this.isReversed:(this.isReversed=n,this)}}class De extends de{constructor(n){super(n),this.formatters.tick=t=>t?.toLocaleString()}createD3Scale(){return(0,Tt.m4)()}convert(n){return this._d3Scale(n)}invert(n){return this._d3Scale.invert(n)}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(n=>isNaN(n))}}class et extends de{innerScale;constructor(n){super(n),this.formatters.tick=t=>{if(_e()(t))throw new Error("Can't format bandFormatScale");return It()(t)}}createD3Scale(){return(0,W.WH)()}convert(n,t=Gt){return this._d3Scale(n)+t*this.bandwidth()}invert(n){const t=this._d3Scale.domain();if(this.range()[0]<this.range()[1]){const e=this.getRangeMidPoints(t.map(this._d3Scale));return t[(0,W.h1l)(e,n)]}{const e=this.getRangeMidPoints(t.map((r,s)=>this._d3Scale(t[t.length-1-s])));return t[t.length-1-(0,W.h1l)(e,n)]}}range(n){const t=n?super.range(n):super.range();return n&&this.innerScale&&this.innerScale.range([0,this.bandwidth()]),t}round(n){return n?(this._d3Scale.round(n),this):this._d3Scale.round()}padding(n){return this._d3Scale.paddingInner(n),this._d3Scale.paddingOuter(n/2),this}align(n){return n?(this._d3Scale.align(n),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}step(){return this.domain().length?Math.abs(this.range()[1]-this.range()[0])/this.domain().length:0}copyToLinear(){const n=new De;return n.domain(this.range()).range(this.range()),n}bandTicks(){const n=[],t=this.range()[0],e=this.step();for(let r=0;r<=this.domain().length;r++)n.push(t+r*e);return n}isContinuous(){return!1}getRangeMidPoints(n){return n.slice(1).map(t=>t-this._d3Scale.step()*this._d3Scale.paddingInner()/2)}}var me=a(40336),Ae=a.n(me);let sn=(()=>{class c extends wi.y{formatterName;static LAYER_NAME="interaction-label";areLabelUpdatesEnabled=!0;isChartInView=!1;lastInteractionValuesPayload;interactionLabelLayer;destroy$=new Wn.B;elBBox;constructor(t="title"){super(),this.formatterName=t}initialize(){this.interactionLabelLayer=this.chart.getGrid().getLasagna().addLayer({name:c.LAYER_NAME,order:901,clipped:!1}),this.chart.getEventBus().getStream(ut.JQ).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{if(t.data.values?.y){const e=this.chart.getGrid(),r=Object.keys(t.data.values.y),s=e.scales.y.list[0];if(s.isTimeseriesScale&&!r.includes(s.id))return}this.lastInteractionValuesPayload=t.data,this.isChartInView&&this.handleLabelUpdate()}),this.chart.getEventBus().getStream(ut.Bp).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{this.isChartInView=t.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLabelUpdate()})}handleLabelUpdate(){const t=this.chart.getGrid();if(!(t instanceof Kn))throw new Error(`${c.name} requires XYGrid`);const e=t.scales;if(!this.areLabelUpdatesEnabled||this.lastInteractionValuesPayload.interactionType!==wt.X.MouseMove||rn()(e))return;const r=Ae()(e.x.index,{id:t.bottomScaleId});if(!r)throw new Error("xScale is not defined");const s=Pe.getInteractionValues(this.lastInteractionValuesPayload.values.x,r.id);this.updateLabel(r,Zt()(s)?s.slice(0,s.length-1):s)}updateLabel(t,e){let r=this.interactionLabelLayer.select(`.${c.LAYER_NAME}`);if(r.empty()&&e)r=this.buildInteractionLabel(this.interactionLabelLayer);else if(!e)return void r.remove();const l=(t.formatters[this.formatterName]||t.formatters.tick)?.(e);if(!l)throw new Error("labelContent is not defined");const f=r.select("text").text(l);this.elBBox||(this.elBBox=f.node().getBBox());const m=this.chart.getGrid().config().dimension,R=m.height()-this.elBBox.y;f.attr("transform",`translate(0, ${R})`).style("text-anchor","middle");const gt=this.elBBox.width+2*(this.elBBox.height+this.elBBox.y),St=[gt/2,m.width()-gt/2],qt=te(t,e,.5),Ee=Pe.clampToRange(qt,St);r.attr("transform",`translate(${Ee},0)`).select("rect").attrs({transform:`translate(0,${R})`,x:-gt/2,y:this.elBBox.y,width:gt,height:this.elBBox.height})}destroy(){this.chart.getGrid().getLasagna().removeLayer(c.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}buildInteractionLabel(t){const e=t.append("g").attr("class",c.LAYER_NAME);return e.append("rect").attr("class",`${c.LAYER_NAME}__rect`),e.append("text").attr("class",`${c.LAYER_NAME}__text`),e}}return c})(),on=(()=>{class c extends wi.y{static LAYER_NAME="interaction-line";isChartInView=!1;lastInteractionValuesPayload;interactionLineLayer;destroy$=new Wn.B;initialize(){this.interactionLineLayer=this.chart.getGrid().getLasagna().addLayer({name:"interaction-line",order:900,clipped:!0}),this.chart.getEventBus().getStream(ut.JQ).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{this.lastInteractionValuesPayload=t.data,this.isChartInView&&this.handleLineUpdate()}),this.chart.getEventBus().getStream(ut.Bp).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{this.isChartInView=t.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLineUpdate()})}handleLineUpdate(){const t=this.chart.getGrid();if(!(t instanceof Kn))throw new Error(`${c.name} requires XYGrid`);const e=t.scales;if(this.lastInteractionValuesPayload.interactionType!==wt.X.MouseMove||rn()(e))return;const r=Ae()(e.x.index,{id:t.bottomScaleId});if(!r)throw new Error("xScale is not defined");const s=Pe.getInteractionValues(this.lastInteractionValuesPayload.values.x,r.id);this.updateLine(this.interactionLineLayer,r,s)}updateLine(t,e,r){const s=[];r&&s.push(r);const l=t.selectAll(`.${c.LAYER_NAME}`).data(s),f=R=>e.convert(R),m={class:c.LAYER_NAME,x1:f,y1:0,x2:f,y2:this.chart.getGrid().config().dimension.height()};l.enter().append("line").merge(l).attrs(m),l.exit().remove()}destroy(){this.chart.getGrid().getLasagna().removeLayer(c.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}}return c})();class jn extends wi.y{mouseInteractiveArea;destroy$=new Wn.B;interactionValuesActive=!0;constructor(n){super(),this.mouseInteractiveArea=n}initialize(){this.mouseInteractiveArea.active.pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{this.chart.getEventBus().getStream(ut.C8).next({data:n})}),this.chart.getEventBus().getStream(ut.C8).pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{!n.data&&this.chart.getDataManager().chartSeriesSet&&this.highlightReset()}),this.chart.getEventBus().getStream(ut.Ec).pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>this.interactionValuesActive=n.data),this.mouseInteractiveArea.interaction.pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{const t=this.chart.getGrid().scales;if(!rn()(t)){if(this.interactionValuesActive){const f=Pe.getXYValues(t.x.list,t.y.list,n.coordinates.x,n.coordinates.y);this.chart.getEventBus().getStream(ut.JQ).next({data:{interactionType:n.type,values:f}})}this.chart.getEventBus().getStream(ut.GM).next({data:{interactionType:n.type,coordinates:n.coordinates}})}})}update(){this.highlightReset()}updateDimensions(){this.highlightReset()}destroy(){this.destroy$.next(),this.destroy$.complete()}highlightReset(){this.chart.getEventBus().getStream(ut.JQ).next({data:{interactionType:wt.X.MouseMove,values:{}}})}}var oi=a(72270),Mi=a.n(oi);let gi=(()=>{class c{clipPath;static CONTAINER_CLASS="lasagna-container";static LAYER_CLASS="lasagna-layer";layers=[];container;constructor(t,e){this.clipPath=e,this.container=t.append("g").attr("class",`${c.CONTAINER_CLASS} pointer-events`)}addLayer(t){return this.layers=Mi()(this.layers.concat(t),"order"),this.update(),this.getLayerContainer(t.name)}removeLayer(t){const e=this.layers.findIndex(r=>r.name===t);-1!==e&&(this.layers.splice(e,1),this.update())}getLayerContainer(t){return this.container.select(`.${c.LAYER_CLASS}-${t}`)}getContainer(){return this.container}update(){const t=this.container.selectAll(`g.${c.LAYER_CLASS}`).data(this.layers,e=>e.name).order();t.enter().append("g").attrs({class:e=>`${c.LAYER_CLASS} ${c.LAYER_CLASS}-${e.name}`,"clip-path":e=>e.clipped?`url(#${this.clipPath})`:"","pointer-events":"none"}),t.exit().remove()}}return c})();const zn=.5;let Bn=(()=>{class c{static GRID_CLASS_NAME="nui-chart-grid";static DEFAULT_BORDER_CLASS_NAME="nui-chart-border";static RENDERING_AREA_CLIP_PATH_PREFIX="clip-path_";static GRID_ELEMENTS_LAYER_NAME="grid-elements";static RENDERING_AREA_LAYER_NAME="rendering-area";static RENDER_AREA_HEIGHT_CORRECTION=1;static RENDER_AREA_WIDTH_CORRECTION=1;static TICK_DIMENSION_CORRECTION=1;updateChartDimensionsSubject;eventBus;container;renderingAreaClipPath;renderingArea;interactiveArea;lasagna;gridElementsLayer;borders={};_scales;_config;_target;getInteractiveArea(){return this.interactiveArea}getLasagna(){return this.lasagna}set scales(t){this._scales=t}get scales(){return this._scales}config(t){return void 0===t?this._config:(this._config=t,this)}target(t){return void 0===t?this._target:(this._target=t,this)}build(){if(!this.config()){const r=new B;this.config(r)}this.container=this._target.append("g").attrs({class:c.GRID_CLASS_NAME});const t=c.RENDERING_AREA_CLIP_PATH_PREFIX+Pe.uuid();this.lasagna=new gi(this.container,t),this.renderingArea=this.buildRenderingArea(t),this.adjustRenderingArea(),this.gridElementsLayer=this.lasagna.addLayer({name:c.GRID_ELEMENTS_LAYER_NAME,order:100,clipped:!1});const e=this.buildBorders(this.gridElementsLayer);return e&&(this.borders=e),this}buildPlugins(t){return[]}update(){return rn()(this.scales)||(this.updateBorders(),this.adjustRenderingArea()),this}updateDimensions(t){const e=this.config().dimension;return t.width&&e.outerWidth(t.width-this.getOuterWidthDimensionCorrection()),t.height&&e.outerHeight(t.height),this.adjustRenderingArea(),this.updateRanges(),this}updateRanges(){return this.update(),this}getOuterWidthDimensionCorrection(){return c.TICK_DIMENSION_CORRECTION}buildBorders(t){if(!this.config()||!this.config().borders)return;const e=this.config().borders,r={},s=Object.keys(e);return wn()(s,l=>{e[l]&&(r[l]=this.createBorder(t,e[l])??void 0)}),r}adjustRenderingArea=()=>{const t=this.config().dimension,e=this.config().disableRenderAreaHeightCorrection,r=this.config().disableRenderAreaWidthCorrection,s={width:Math.max(0,t.width()),height:Math.max(0,t.height()+(e?0:c.RENDER_AREA_HEIGHT_CORRECTION))};e||(s.y=-c.RENDER_AREA_HEIGHT_CORRECTION);const l={...s,width:Math.max(0,t.width()-(r?0:c.RENDER_AREA_WIDTH_CORRECTION))};this.renderingAreaClipPath.attrs(s),this.renderingArea.attrs(l)};buildRenderingArea(t){return this.renderingAreaClipPath=this._target.append("clipPath").attr("id",t).append("rect"),this.lasagna.addLayer({name:c.RENDERING_AREA_LAYER_NAME,order:-1,clipped:!0}).append("rect").attrs({"pointer-events":"all",fill:"transparent"})}createBorder(t,e){const r=t.append("line").attr("class",e.className||c.DEFAULT_BORDER_CLASS_NAME);return e.width&&r.style("stroke-width",e.width),e.color&&r.style("stroke",e.color),r.node()}updateBottomBorder(){if(!this.borders.bottom)throw new Error("BottomBorder is not defined");(0,b.A)(this.borders.bottom).attrs({x1:0,y1:this.config().dimension.height()-zn,x2:this.config().dimension.width()+c.TICK_DIMENSION_CORRECTION,y2:this.config().dimension.height()-zn,class:this._config.borders.bottom.className||c.DEFAULT_BORDER_CLASS_NAME}).classed("hidden",!this._config.borders.bottom?.visible)}updateBorders(){this.borders.bottom&&this.updateBottomBorder(),this.borders.top&&(0,b.A)(this.borders.top).attrs({x1:0,y1:zn,x2:this.config().dimension.width()+c.TICK_DIMENSION_CORRECTION,y2:zn}).classed("hidden",!this._config.borders.top?.visible),this.borders.right&&(0,b.A)(this.borders.right).attrs({x1:this.config().dimension.width()-zn,y1:0,x2:this.config().dimension.width()-zn,y2:this.config().dimension.height()+c.TICK_DIMENSION_CORRECTION}).classed("hidden",!this._config.borders.right?.visible),this.borders.left&&(0,b.A)(this.borders.left).attrs({x1:zn,y1:0,x2:zn,y2:this.config().dimension.height()+c.TICK_DIMENSION_CORRECTION}).classed("hidden",!this._config.borders.left?.visible)}}return c})(),Kn=(()=>{class c extends Bn{static TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL=200;axisX={};axisYLeft={};axisYRight={};gridY={};gridX={};_bottomScaleId;_leftScaleId;_rightScaleId;reconcileMarginsDebounce;handleTickLabelOverflowDebounceIndex={};get bottomScaleId(){return this._bottomScaleId?this._bottomScaleId:rn()(this.scales)?void 0:this.scales.x.list[0].id}set bottomScaleId(t){this._bottomScaleId=t}get leftScaleId(){return this._leftScaleId?this._leftScaleId:rn()(this.scales)?void 0:this.scales.y.list[0].id}set leftScaleId(t){this._leftScaleId=t}get rightScaleId(){return this._rightScaleId}set rightScaleId(t){this._rightScaleId=t}set scales(t){this._scales=t,this._scales&&Object.keys(this._scales).forEach(e=>{let s,r=this.config().axis.left;"x"!==e&&"y"!==e||this._scales[e]?.list?.filter(l=>l instanceof De).forEach(l=>{l?.id===this.leftScaleId?(r=this.config().axis.left,s=W.V4s):l?.id===this.rightScaleId?(r=this.config().axis.right,s=W.eH3):l?.id===this.bottomScaleId&&(r=this.config().axis.bottom,s=W.l78),l.domainCalculator&&!(0,q.Zo)(l.domainCalculator)&&r.gridTicks&&(l.__domainCalculatedWithTicks=!0,l.domainCalculator=((c,n,t)=>{const e=(r,s,l)=>{const f=t(r,s,l),m=at()(l);Ln(m,f);const L=n(m.d3Scale).scale().ticks(c.approximateTicks);if(L.length<=1)return f;const gt=L[1]-L[0];return L[0]>f[0]&&(f[0]=L[0]-gt),L[L.length-1]<f[1]&&(f[1]=L[L.length-1]+gt),f};return e.domainWithTicks=!0,e})(r,s,l.domainCalculator))})})}get scales(){return this._scales}config(t){return void 0===t?this._config:(this._config=t,this)}constructor(t){super(),this.config(t||new G)}build(){return super.build(),this.config().interactive&&(this.interactiveArea=this.renderingArea),this.buildAxes(this.gridElementsLayer),this.recalculateMargins(this.container),this.eventBus.getStream(ut.E7).pipe((()=>(0,Pn.Q)(this.eventBus.getStream(ut.A2)))()).subscribe(e=>{const r=this.handleSeriesStateChange(e);this.eventBus.getStream(ut.Gu).next({data:r})}),this}handleSeriesStateChange(t){if(!this.rightScaleId)return;const e=[{scaleId:this.leftScaleId,element:this.axisYLeft.group},{scaleId:this.rightScaleId,element:this.axisYRight?.group}],r=this.calculateAxesStyles(t,e);for(const s of e)s.scaleId&&s.element.attrs(r[s.scaleId]);return r}calculateAxesStyles(t,e){const s=t.data.filter(l=>l.state===Nt.M.emphasized&&l.series).map(l=>l.series);if(s.length>0){const l=zt()(s.map(f=>f?.scales.y).filter(f=>!!f));if(l.length<=0)return{};for(const f of l)if(f.id===this.leftScaleId||f.id===this.rightScaleId)return e.reduce((m,R)=>(m[R.scaleId]={opacity:f.id===R.scaleId?1:.1},m),{});return{}}return e.reduce((l,f)=>(l[f.scaleId]={opacity:1},l),{})}buildPlugins(t){const e=[],r=this.config();return r.interactive&&e.push(new jn(new vt(this.getLasagna().getContainer(),this.getInteractiveArea(),r.cursor,r.dimension.margin))),r.interactionPlugins&&(e.push(new on),e.push(new sn)),e}update(){return super.update(),this.updateAxes(),this.handleMarginUpdate(),this}drawTicks(t,e,r,s){if(t.visible){const l=s(r.d3Scale).ticks(t.approximateTicks).tickSize(0);let f;r.fixDomainValues?.length&&l.tickValues(r.fixDomainValues),l.tickFormat(r.formatters.tick),e.labelGroup.call(l),r instanceof et?f=s(r.copyToLinear().d3Scale).tickSize(t.tickSize).tickValues(r.bandTicks()).tickFormat(()=>""):(f=s(r.d3Scale).tickSize(t.tickSize),r.fixDomainValues?.length&&f.tickValues(r.fixDomainValues),f.tickFormat(()=>""),f.ticks(t.approximateTicks)),e.tickGroup.call(f),this.adjustAxisTicks(e.labelGroup,r)}else e.labelGroup.selectAll("*").remove(),e.tickGroup.selectAll("*").remove()}drawGrids(t,e,r,s,l){const m=r(s.d3Scale).tickSize(l);s.fixDomainValues?.length&&m.tickValues(s.fixDomainValues),m.tickFormat(()=>"").ticks(t.approximateTicks),t.gridTicks?e.tickGroup.call(m).selectAll(".tick line").classed("nui-zero-line",L=>0===L):e.tickGroup.selectAll("*").remove()}updateRanges(){if(rn()(this.scales))return this;const t=this.config().dimension,e=t.padding;return this.scales.x&&wn()(this.scales.x.list,r=>{r.range([e.left,t.width()-e.right])}),this.scales.y&&wn()(this.scales.y.list,r=>{r.range([t.height()-e.bottom,e.top])}),super.updateRanges(),this}updateXAxis(){const t=this.bottomScaleId?this.scales.x.index[this.bottomScaleId]:void 0,e=this.config().axis;if(!t)throw new Error("xScale is not defined");this.axisX.group.attr("transform",`translate(0, ${this.config().dimension.height()})`),this.axisX.labelGroup.attr("transform",`translate(0, ${e.bottom.tickSize})`),this.drawTicks(e.bottom,this.axisX,t,W.l78),this.drawGrids(e.bottom,this.gridX,W.tlR,t,this.config().dimension.height()),this.gridX.tickGroup.attr("transform",`translate(0, ${this.config().dimension.height()})`)}updateYAxes(){const t=this.config().axis,e=this.leftScaleId?this.scales.y.index[this.leftScaleId]:void 0;if(!e)throw new Error("yLeftScale is not defined");if(this.axisYLeft.labelGroup.attr("transform",`translate(${-t.left.tickSize-t.left.padding}, 0)`),this.drawTicks(t.left,this.axisYLeft,e,W.V4s),this.drawGrids(t.left,this.gridY,W.eH3,e,this.config().dimension.width()),this.rightScaleId){const r=this.scales.y.index[this.rightScaleId],s=t.right.padding+this.config().dimension.width()+t.right.tickSize;this.axisYRight.labelGroup.attr("transform",`translate(${s}, 0)`),this.axisYRight.tickGroup.attr("transform",`translate(${this.config().dimension.width()}, 0)`),this.drawTicks(t.right,this.axisYRight,r,W.eH3)}}updateAxes(){this.target()&&(this.updateXAxis(),this.updateYAxes())}adjustAxisTicks(t,e){const r=[];t.attr("cursor","default"),t.selectAll("g").each(function(){(0,b.A)(this).classed("sw-hidden",!1).classed("tick-hidden-text",!1),r.push(this)}),this.filterRepeatedElements(r).forEach(f=>{(0,b.A)(f).classed("tick-hidden-text",!0)});const l=this.selectAllAxisLabels(t);l.forEach(f=>{const m=(0,b.A)(f);if(m.select("text").attr("x",0).classed(ut.VJ,!0),m.classed("pointer-events",!0),m.select("title").empty()){const R=m.data()[0],L=e.formatters.tick?e.formatters.tick(R):R;m.append("title").text(L)}}),this.handleTickLabelOverflow(t,e,l)}handleTickLabelOverflow(t,e,r){const s=this.config().axis;if(e.id===this.bottomScaleId&&(e.isContinuous()||!s.bottom.tickLabel.overflowHandler))return void this.getElementsToHide(r,this._config.dimension.width(),!0).forEach(Ce=>{const Nn=(0,b.A)(Ce);Nn.classed("tick-hidden-text",!0),Nn.classed("pointer-events",!1)});(e.id===this.rightScaleId||e.id===this.leftScaleId)&&this.getElementsToHide(r,this._config.dimension.height(),!1).forEach(Ce=>{(0,b.A)(Ce).classed("sw-hidden",!0)});const l=this.config().dimension.margin;let R,f=0,m=0,L=!1,gt=!1;const St=s.right.tickLabel.maxWidth,qt=s.left.tickLabel.maxWidth;if(e.id===this.bottomScaleId){const ce=s.bottom.tickLabel.maxWidth,Ce=e.bandwidth?e.bandwidth():this.getTickDistance(r);f=_e()(ce)?Ce:Ce>ce?ce:Ce,m=s.bottom.tickLabel.horizontalPadding,R=s.bottom.tickLabel.overflowHandler}else if(e.id!==this.rightScaleId||s.right.fit)if(e.id!==this.leftScaleId||s.left.fit)if(e.id===this.rightScaleId&&s.right.fit&&!_e()(St))f=St,m=s.right.tickLabel.horizontalPadding,R=s.right.tickLabel.overflowHandler,gt=!0;else{if(e.id!==this.leftScaleId||!s.left.fit||_e()(qt))return;f=qt,m=s.left.tickLabel.horizontalPadding,R=s.left.tickLabel.overflowHandler,L=!0}else{const ce=l.left-s.left.padding-s.left.tickSize;f=_e()(qt)?ce:ce>qt?qt:ce,m=s.left.tickLabel.horizontalPadding,R=s.left.tickLabel.overflowHandler}else{const ce=l.right-s.right.padding-s.right.tickSize;f=_e()(St)?ce:ce>St?St:ce,m=s.right.tickLabel.horizontalPadding,R=s.right.tickLabel.overflowHandler}if(!R)return;let Ee=0;if(t.select(".sample-ellipsis").empty()){const ce=t.append("text");Ee=ce.classed("sample-ellipsis",!0).attr("opacity",0).append("tspan").text("...").node()?.getComputedTextLength()||0,ce.remove()}this.handleTickLabelOverflowDebounceIndex[e.id]&&(clearTimeout(this.handleTickLabelOverflowDebounceIndex[e.id]),this.handleTickLabelOverflowDebounceIndex[e.id]=null),t.classed("tick-hidden-text",!0),r.forEach(ce=>{(0,b.A)(ce).classed("pointer-events",!1)}),this.handleTickLabelOverflowDebounceIndex[e.id]=setTimeout(()=>{r.forEach(Ce=>{const Nn=(0,b.A)(Ce);Nn.select("text").call(R,{widthLimit:f,horizontalPadding:m,ellipsisWidth:Ee}),Nn.classed("pointer-events",!0)});const ce=this._config.dimension.marginLocked;ce&&(gt||L)&&(this.handleMarginUpdate(),ce.right=gt,ce.left=L),t.classed("tick-hidden-text",!1)},c.TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL)}selectAllAxisLabels(t){const e=[];return t.selectAll("g:not(.tick-hidden-text)").each(function(){e.push(this)}),e}getOuterWidthDimensionCorrection(){return this.config().axis.bottom.visible?Bn.TICK_DIMENSION_CORRECTION:0}handleMarginUpdate(){const t=ct()(this._config.dimension.margin);this.recalculateMargins(this.container),this.reconcileMarginsWithDebounce(t)}hasRightYAxis(){return this.config().axis.right.visible&&this.rightScaleId?.length>0}buildAxes(t){this.gridY.tickGroup=t.append("g").classed("sw-axis sw-axis-grid sw-axis-gridY",!0),this.gridX.tickGroup=t.append("g").classed("sw-axis sw-axis-grid sw-axis-gridX",!0),this.axisX.group=t.append("g").classed("sw-axis sw-axis-x",!0),this.axisX.tickGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-ticks",!0),this.axisX.labelGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-labels",!0),this.axisYLeft.group=t.append("g").classed("sw-axis sw-axis-y sw-axis-y-left",!0),this.axisYLeft.tickGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYLeft.labelGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0),this.axisYRight.group=t.append("g").classed("sw-axis sw-axis-y sw-axis-y-right",!0),this.axisYRight.tickGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYRight.labelGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0)}filterRepeatedElements(t){const e=[t[0]];return t.reduce((r,s)=>{const l=(0,b.A)(s).text();return l!==r&&e.push(s),l},t[0]&&(0,b.A)(t[0]).text()),t.filter(r=>-1===e.indexOf(r))}getElementsToHide(t,e,r){const s=r?"width":"height",l=this.getTextMeasurement(t,s)<e,f=!!r&&this.getMaxTextWidth(t)<this.getTickDistance(t);if(r?l&&f:l)return[];const R=this.elementsFiltering(t,e,s);return t.filter(L=>-1===R.indexOf(L))}elementsFiltering(t,e,r){let s,l=2;const f=m=>"width"===r?this.getMaxTextWidth(m)>this.getTickDistance(m):this.getTextMeasurement(m,r)>e;do{if(s=t.filter((m,R)=>R%l==0),l++,1===s.length&&f(s))break}while(f(s));return s}getTextMeasurement(t,e){const r="width"===e?5:0;return t.reduce((s,l)=>s+l.getBoundingClientRect()[e]+r,0)}getMaxTextWidth(t){return 0===t.length?0:Math.max.apply(null,t.map(e=>e.getBoundingClientRect().width))}getTickDistance(t){if(0===t.length)return 0;let e=1/0;return t.map(s=>{const l=s.getAttribute("transform");if(Et()(l))throw new Error("tick transform is not defined");return parseFloat(l.slice(l.indexOf("(")+1,l.indexOf(",")))}).reduce((s,l)=>{const f=l-s;return f<e&&(e=f),l}),e}recalculateMargins(t){if(!t)return;const e=this._config.dimension,r=this.config().axis,s=e.outerWidth(),l=e.outerHeight();!e.marginLocked?.left&&r.left.fit&&r.left.visible&&(e.margin.left=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYLeft.labelGroup))+r.left.tickSize+r.left.padding),!e.marginLocked?.right&&r.right.fit&&this.hasRightYAxis()&&(e.margin.right=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYRight.labelGroup))+r.right.tickSize+r.right.padding);const f=this.bottomScaleId&&this.scales?this.scales.x?.index[this.bottomScaleId]:void 0;r.bottom.fit&&r.bottom.visible&&(f?.isContinuous()||!r.bottom.tickLabel.overflowHandler)&&this.fitBottomAxis(e);const R=e.margin.bottom;e.margin.top=e.margin.top,e.margin.bottom=R,e.outerWidth(s),e.outerHeight(l);const L=this.config().dimension.margin.left,gt=this.config().dimension.margin.top;t.attr("transform",`translate(${L}, ${gt})`)}fitBottomAxis(t){const e=this.scales?.x?.list[0].d3Scale;if(!e)return;let r=0,s=0;const l=this.axisX.labelGroup.select(".tick:not(.tick-hidden-text):last-child text").node();if(l){r=l.getBoundingClientRect().width,s=e(l.innerHTML)??0;const f=e.range()[1],m=r/2-Math.abs(f-s)/2;t.margin.right=m>0?m:0}}reconcileMarginsWithDebounce(t){this.reconcileMarginsDebounce&&(clearTimeout(this.reconcileMarginsDebounce),this.reconcileMarginsDebounce=null),this.reconcileMarginsDebounce=setTimeout(()=>{this.areMarginsApproximatelyEqual(t,this._config.dimension.margin)||this.updateChartDimensionsSubject?.next()},100)}isApproximatelyEqual=(t,e)=>Math.abs(t-e)<.1;areMarginsApproximatelyEqual(t,e){return this.isApproximatelyEqual(t.top,e.top)&&this.isApproximatelyEqual(t.right,e.right)&&this.isApproximatelyEqual(t.bottom,e.bottom)&&this.isApproximatelyEqual(t.left,e.left)}}return c})();const Ei="gauge-label",Ri="gauge-labels",tr="threshold-label";var br=a(79450);function Rr(c,n){return n<c?-1:n>c?1:n>=c?0:NaN}function Ir(c){return c}var Bi=a(99042);function Wi(){var c=Ir,n=Rr,t=null,e=(0,U.A)(0),r=(0,U.A)(Bi.FA),s=(0,U.A)(0);function l(f){var m,L,gt,Nn,or,R=f.length,St=0,qt=new Array(R),Ee=new Array(R),ce=+e.apply(this,arguments),Ce=Math.min(Bi.FA,Math.max(-Bi.FA,r.apply(this,arguments)-ce)),Ui=Math.min(Math.abs(Ce)/R,s.apply(this,arguments)),ar=Ui*(Ce<0?-1:1);for(m=0;m<R;++m)(or=Ee[qt[m]=m]=+c(f[m],m,f))>0&&(St+=or);for(null!=n?qt.sort(function(Hr,Gr){return n(Ee[Hr],Ee[Gr])}):null!=t&&qt.sort(function(Hr,Gr){return t(f[Hr],f[Gr])}),m=0,gt=St?(Ce-R*ar)/St:0;m<R;++m,ce=Nn)Ee[L=qt[m]]={data:f[L],index:m,value:or=Ee[L],startAngle:ce,endAngle:Nn=ce+(or>0?or*gt:0)+ar,padAngle:Ui};return Ee}return l.value=function(f){return arguments.length?(c="function"==typeof f?f:(0,U.A)(+f),l):c},l.sortValues=function(f){return arguments.length?(n=f,t=null,l):n},l.sort=function(f){return arguments.length?(t=f,n=null,l):t},l.startAngle=function(f){return arguments.length?(e="function"==typeof f?f:(0,U.A)(+f),l):e},l.endAngle=function(f){return arguments.length?(r="function"==typeof f?f:(0,U.A)(+f),l):r},l.padAngle=function(f){return arguments.length?(s="function"==typeof f?f:(0,U.A)(+f),l):s},l}class Ii{static generateThresholdArcData(n){if(!n.length)return[];const t=Ii.generateArcValues(n),e=[];return Wi().sort(null)(t).forEach((l,f)=>{f%2==1&&e.push(l)}),e}static generateArcValues(n){const t=Array(2*n.length-1).fill(0);return n.forEach((e,r)=>{t[2*r]=0===r?e.value:e.value-n[r-1].value}),t}}var _i=a(22118);const Lr={markerRadius:Ti.Large,enabled:!0};class yr extends _i.n{config;constructor(n={}){super(n),this.config=n,this.config=hn()(this.config,Lr)}draw(n,t){const e=n.containers[Nt.r.data],r=at()(this.config.enabled?n.dataSeries.data:[]);r.sort((m,R)=>m.value-R.value),this.segmentWidth=this.getSegmentWidth(n);const s=this.getInnerRadius(n.scales.r.range(),0),l=(0,br.A)().outerRadius(this.getOuterRadius(n.scales.r.range(),0)).innerRadius(s>=0?s:0),f=e.selectAll(`circle.${ni}`).data(Ii.generateThresholdArcData(r));f.exit().remove(),f.enter().append("circle").attr("class",ni).merge(f).attr("cx",m=>l.centroid(m)[0]).attr("cy",m=>l.centroid(m)[1]).attr("r",this.config.markerRadius).style("fill",(m,R)=>`var(--nui-color-${r[R].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getInnerRadius(n,t){if(_e()(this.segmentWidth))throw new Error("Can't compute inner radius");const e=n[1]-n[0]-this.segmentWidth;return e>=0?e:0}}let er=(()=>class c extends wi.y{config;static MARGIN_DEFAULT=25;DEFAULT_CONFIG={padding:5,formatterName:Ei,disableThresholdLabels:!1};destroy$=new Wn.B;lasagnaLayer;constructor(t={}){super(),this.config=t,this.config=hn()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:Ri,order:ut.G8[Nt.r.data].order,clipped:!1}),this.chart.getEventBus().getStream(ut.JM).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{const e=this.lasagnaLayer.select(`.${Ri}`);if(!e.empty()){const r=t.data.dataPoints,s=Object.keys(r).find((l,f)=>r[l].index===ut.LP)?0:1;e.style("opacity",s)}})}update(){this.drawThresholdLabels()}updateDimensions(){this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}drawThresholdLabels(){const t=this.chart.getDataManager().chartSeriesSet.find(L=>L.renderer instanceof yr);if(_e()(t))return void console.warn("Threshold series is undefined. As a result, threshold labels for the donut gauge will not be rendered.");let e=this.lasagnaLayer.select(`.${Ri}`);e.empty()&&(e=this.lasagnaLayer.append("svg:g").attr("class",Ri).style("opacity",0));const s=t?.renderer?.getOuterRadius(t?.scales.r.range()??[0,0],0)+this.config.padding;if(_e()(s))throw new Error("Radius is undefined");const l=(0,br.A)().outerRadius(s).innerRadius(s),f=t?.scales.r.formatters[this.config.formatterName]??(L=>L),m=at()(this.config.disableThresholdLabels?[]:t?.data);if(_e()(m))throw new Error("Gauge threshold series data is undefined");m.sort((L,gt)=>L.value-gt.value);const R=e.selectAll(`text.${tr}`).data(Ii.generateThresholdArcData(m));R.exit().remove(),R.enter().append("text").attr("class",tr).merge(R).attr("transform",L=>`translate(${l.centroid(L)})`).attr("title",(L,gt)=>f(m[gt].value)).style("text-anchor",L=>this.getTextAnchor(L.startAngle)).style("dominant-baseline",L=>this.getAlignmentBaseline(L.startAngle)).text((L,gt)=>f(m[gt].value))}getTextAnchor(t){const e=Math.cos(t-Math.PI/2);return e>.5?"start":e<-.5?"end":"middle"}getAlignmentBaseline(t){const e=Math.sin(t+Math.PI/2);return e>.5?"text-after-edge":e<-.5?"text-before-edge":"central"}})();class Cr extends wi.y{config;DEFAULT_CONFIG={padding:5,formatterName:Ei,disableThresholdLabels:!1,flippedLabels:!1};destroy$=new Wn.B;lasagnaLayer;isHorizontal=!0;thresholdsSeries;constructor(n={}){super(),this.config=n,this.config=hn()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:Ri,order:ut.G8[Nt.r.data].order,clipped:!1}),this.chart.getEventBus().getStream(ut.C8).pipe((0,Pn.Q)(this.destroy$)).subscribe(n=>{const t=this.lasagnaLayer.select(`.${Ri}`);t.empty()||t.style("opacity",n.data?1:0)})}update(){this.updateData(),this.drawThresholdLabels()}updateDimensions(){this.updateData(),this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}updateData(){this.thresholdsSeries=this.chart.getDataManager().chartSeriesSet.find(n=>n.id===Ni),this.isHorizontal=this.thresholdsSeries?.scales.x instanceof De}drawThresholdLabels(){if(_e()(this.thresholdsSeries))return void console.warn("Threshold series is undefined. As a result, threshold labels for the linear gauge will not be rendered.");let n=this.lasagnaLayer.select(`.${Ri}`);n.empty()&&(n=this.lasagnaLayer.append("svg:g").attr("class",Ri).style("opacity",0));const t=at()(this.config.disableThresholdLabels?[]:this.thresholdsSeries?.data);if(_e()(t))throw new Error("Gauge threshold series data is undefined");t.pop();const e=this.thresholdsSeries?.scales[this.isHorizontal?"x":"y"].formatters[this.config.formatterName]??(s=>s),r=n.selectAll(`text.${tr}`).data(t);r.exit().remove(),r.enter().append("text").attr("class",tr).merge(r).attr("transform",(s,l)=>`translate(${this.xTranslate(s,l)}, ${this.yTranslate(s,l)})`).attr("title",(s,l)=>e(t[l].value)).style("text-anchor",s=>this.getTextAnchor()).style("dominant-baseline",s=>this.getAlignmentBaseline()).text((s,l)=>e(t[l].value))}xTranslate=(n,t)=>{if(this.isHorizontal){const e=this.thresholdsSeries,r=this.thresholdsSeries?.accessors?.data?.value?.(n,t,e?.data,e);return this.thresholdsSeries?.scales.x.convert(r)}return this.getLabelOffset()};yTranslate=(n,t)=>{if(this.isHorizontal)return this.getLabelOffset();const e=this.thresholdsSeries,r=this.thresholdsSeries?.accessors?.data?.value?.(n,t,e?.data,e);return this.thresholdsSeries?.scales.y.convert(r)};getLabelOffset(){let n=0;if(!this.config.flippedLabels){const e=this.chart.getGrid().config().dimension;n=this.isHorizontal?e.height():e.width()}let t=this.config.padding;return t=this.config.flippedLabels?-t:t,n+t}getTextAnchor(){return this.isHorizontal?"middle":this.config.flippedLabels?"end":"start"}getAlignmentBaseline(){return this.isHorizontal?this.config.flippedLabels?"text-after-edge":"hanging":"central"}}class nr extends gn{constructor(n,t){super(n,t),this.data={...this.data,startX:(e,r,s,l)=>this.data.category(e,r,s,l),endX:(e,r,s,l)=>this.data.category(e,r,s,l),thicknessX:(e,r,s,l)=>this.data.thickness?this.data.thickness(e,r,s,l):void 0,startY:(e,r,s,l)=>this.data.start(e,r,s,l),endY:(e,r,s,l)=>this.data.end(e,r,s,l)}}}function ir(c,n=new De){const t=new et;let e;return c&&c.grouped&&(t.padding(.25),t.innerScale=new et),c&&c.horizontal?(t.reverse(),e={x:n,y:t}):e={x:t,y:n},e}const $r={markerRadius:Ti.Large,enabled:!0};class Vi extends Vn{config;constructor(n={}){super(n),this.config=n,this.config=hn()(this.config,$r)}draw(n,t){const e=n.containers[Nt.r.unclippedData],r=n.dataSeries,s=r.accessors,l=at()(this.config.enabled?r.data:[]);l.pop();const f=e.selectAll(`circle.${ni}`).data(l);f.exit().remove(),f.enter().append("circle").attr("class",ni).merge(f).attr("cx",(m,R)=>n.scales.x.convert(s?.data?.endX?.(m,R,r.data,r))).attr("cy",(m,R)=>n.scales.y.convert(s?.data?.endY?.(m,R,r.data,r))).attr("r",this.config.markerRadius).style("fill",(m,R)=>`var(--nui-color-${l[R].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getRequiredLayers(){return[ut.G8[Nt.r.unclippedData]]}}var rr=a(97333),Or=a.n(rr);function Mr(c,n){if(0===c.length)return c;const t=function Nr(c,n="category"){return c.reduce((t,e)=>{const r=e.accessors.data[n],s=e.data.reduce((l,f,m)=>(l.push(r?.(f,m,e.data,e)),l),[]);return Or()(t,s,l=>l.valueOf())},[])}(c.filter(e=>_e()(e.preprocess)||e.preprocess));return c.reduce((e,r)=>{if(!_e()(r.preprocess)&&!r.preprocess)return e;const s=r.accessors.data.category,l=r.accessors.data.value;if(!l)throw new Error("valueAccessor is not defined");const f=r.data.reduce((R,L,gt)=>({...R,[s(L,gt,r.data,r)]:gt}),{}),m=[];return t.forEach((R,L)=>{let gt;if(void 0!==f[R]){gt=r.data[f[R]];const St={},qt=n(r)?1:0;St.start=e[L],e[L]+=(l(gt,f[R],r.data,r)||0)*qt,St.end=e[L],gt.__bar=St,m.push(gt)}}),r.data=m,e},Array(t.length).fill(0)),c}function xr(c){return Mr(c,n=>!this.isSeriesHidden(n.id))}class _r{colorProvider;data;series;constructor(n=$e()){this.colorProvider=n,this.data={value:t=>Number.isFinite(t)?t:t.value},this.series={color:this.colorProvider?this.colorProvider.get:void 0}}}class Yi extends Bn{build(){return super.build(),this.recenter(),this}updateDimensions(n){const t=this.config().dimension;if(_e()(n.width)||t.outerWidth(n.width),_e()(n.height)||t.outerHeight(n.height),this.scales){const e=this.scales.r;e&&e.list[0].range([0,Math.min(t.width(),t.height())/2])}return this.adjustRenderingArea(),this.updateRanges(),setTimeout(()=>{this.recenter()}),this}adjustRenderingArea=()=>{const n=this.config().dimension,t={width:n.outerWidth(),height:n.outerHeight(),transform:`translate(${-n.outerWidth()/2}, ${-n.outerHeight()/2})`};this.renderingAreaClipPath.attrs(t),this.renderingArea.attrs(t)};recenter(){this.container.attrs({transform:`translate(${this.config().dimension.outerWidth()/2},${this.config().dimension.outerHeight()/2})`})}}function Sr(){const c=new B;return c.interactive=!1,(new Yi).config(c)}function Dr(c,n){if(!c[0])return c;const t=Wi().sort(null),s=c[0].data.reduce((l,f)=>(l.push(c.map(m=>n(m)&&!m.excludeFromArcCalculation?m.accessors.data.value(m.data[l.length],l.length,m.data,m):0)),l),[]).map(l=>t(l));return c.map((l,f)=>({...l,data:!1===l.preprocess?l.data:s.map(m=>({...m[f],data:l.data[0]}))}))}function Tr(c){return Dr(c,n=>!this.isSeriesHidden(n.id))}function Ar(){return{r:(new De).fixDomain(q.Db)}}let Vr=(()=>{class c{static DATA_CATEGORY="gauge";static createChartAssist(t,e,r){const s=e===ti.Donut?Sr():new Kn(function V(c,n=fi.Large){const t=new G;return t.interactionPlugins=!1,t.disableRenderAreaHeightCorrection=!0,t.axis.bottom.visible=!1,t.axis.bottom.gridTicks=!1,t.axis.left.visible=!1,t.axis.left.gridTicks=!1,t.borders.left.visible=!1,t.borders.bottom.visible=!1,t.dimension=new d,c===ti.Vertical?(t.dimension.autoWidth=!1,t.dimension.width(n)):(t.dimension.autoHeight=!1,t.dimension.height(n)),t}(e,t.linearThickness)),l=s.config(),f=new $i(s),m=!rn()(t.thresholds?.definitions)&&!t.thresholds?.disableMarkers;return e===ti.Donut?(m&&(f.addPlugin(r??new er),l.dimension.margin=c.getMarginForLabelClearance(t,e,l.dimension.margin)),new o(f,Tr)):(m&&(f.addPlugin(r??new Cr({flippedLabels:!!t.labels?.flipped})),l.dimension.margin=c.getMarginForLabelClearance(t,e,l.dimension.margin)),new o(f,xr))}static assembleSeriesSet(t,e){t.value=t.value??0,t.max=t.max??0;const r=c.clampConfigToRange(t),s=c.generateRenderingAttributes(r,e);let l,f=[];return r.thresholds&&(l=c.generateThresholdSeries(r,s),f.push(l)),f=[...c.generateQuantityAndRemainderSeriesSet(r,s,l?.activeThreshold),...f],f}static update(t,e){e.value=e.value??0,e.max=e.max??0;const r=c.clampConfigToRange(e),s=c.generateThresholdsData(r);return t.map(f=>f.id===vi?{...f,data:[{category:c.DATA_CATEGORY,value:r.value}],activeThreshold:s.activeThreshold,defaultColor:r.defaultQuantityColor||tn.Ok}:f.id===cr?{...f,data:[{category:c.DATA_CATEGORY,value:r.max-r.value}]}:f.id===Ni?(f.renderer.config.enabled=!r.thresholds?.disableMarkers,f.renderer.config.markerRadius=r.thresholds?.markerRadius??Ti.Large,{...f,...s}):f)}static createStandardThresholdsConfig(t,e){return{definitions:{[ri.Warning]:{id:ri.Warning,value:t,enabled:!0,color:tn.Warning},[ri.Critical]:{id:ri.Critical,value:e,enabled:!0,color:tn.Critical}},reversed:!1,disableMarkers:!1,markerRadius:Ti.Large}}static getMarginForLabelClearance(t,e,r){if(e===ti.Donut){const R=t.labels?.clearance??30,L=Math.max(...Object.values(r),R);return{top:L,right:L,bottom:L,left:L}}let s;const l=!!t.labels?.flipped;s=e===ti.Horizontal?l?"top":"bottom":l?"left":"right";const m=Math.max(r[s],t.labels?.clearance??lr[s]);return{...r,[s]:m}}static generateQuantityAndRemainderSeriesSet(t,e,r){return c.generateQuantityAndRemainderData(t).map(l=>{const{quantityAccessors:f,remainderAccessors:m,scales:R,mainRenderer:L}=e;return f.data&&(f.data.color=(gt,St,qt,Ee)=>Ee.activeThreshold?Ee.activeThreshold.color:Ee.defaultColor),m.data&&(m.data.color=()=>t.remainderColor||tn.Remainder),l.id===vi&&(l.activeThreshold=r,l.defaultColor=t.defaultQuantityColor||tn.Ok),{...l,accessors:l.id===vi?f:m,scales:R,renderer:L}})}static generateThresholdSeries(t,e){const{quantityAccessors:r,scales:s,thresholdsRenderer:l}=e;return{...c.generateThresholdsData(t),accessors:r,scales:s,renderer:l,excludeFromArcCalculation:!0,preprocess:!1}}static generateRenderingAttributes(t,e){const r=c.generateRenderingTools(t,e);return{quantityAccessors:r.quantityAccessorFunction(),remainderAccessors:r.remainderAccessorFunction(),mainRenderer:r.mainRendererFunction(),thresholdsRenderer:r.thresholdsRendererFunction(),scales:r.scaleFunction()}}static generateRenderingTools(t,e){const r={enabled:!t.thresholds?.disableMarkers,markerRadius:t.thresholds?.markerRadius},s=t.labels?.formatter;return{[ti.Donut]:{mainRendererFunction:()=>new _i.n({strokeWidth:0,enableSeriesHighlighting:!1}),thresholdsRendererFunction:()=>new yr(r),quantityAccessorFunction:()=>new _r,remainderAccessorFunction:()=>new _r,scaleFunction:()=>{const f=Ar();return f.r.formatters[Ei]=s,f}},[ti.Horizontal]:{mainRendererFunction:()=>new Vn({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new Vi(r),quantityAccessorFunction:()=>new Xn,remainderAccessorFunction:()=>new Xn,scaleFunction:()=>{const f=ir({horizontal:!0});return f.x.formatters[Ei]=s,f}},[ti.Vertical]:{mainRendererFunction:()=>new Vn({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new Vi(r),quantityAccessorFunction:()=>new nr,remainderAccessorFunction:()=>new nr,scaleFunction:()=>{const f=ir();return f.y.formatters[Ei]=s,f}}}[e]}static generateQuantityAndRemainderData(t){return[{id:vi,data:[{category:c.DATA_CATEGORY,value:t.value}]},{id:cr,data:[{category:c.DATA_CATEGORY,value:t.max-t.value}]}]}static generateThresholdsData(t){if(!t.thresholds)throw new Error("Thresholds are not defined in the gauge config. Unable to generate threshold data.");const{thresholds:e,activeThreshold:r}=c.prepareThresholdsData(t);return{id:Ni,data:[...e,{id:"max",enabled:!0,category:c.DATA_CATEGORY,value:t.max,color:""}],activeThreshold:r}}static prepareThresholdsData(t){const e=Object.values(t.thresholds?.definitions||[]).filter(s=>s.enabled).map(s=>({...s,category:c.DATA_CATEGORY,hit:t.thresholds?.reversed?s.value<t.value:s.value<=t.value})).sort((s,l)=>s.value-l.value),r=t.thresholds?.reversed?e?.find(s=>!_e()(s.hit)&&!s.hit):e?.slice().reverse().find(s=>s.hit);return{thresholds:e,activeThreshold:r}}static clampConfigToRange(t){let e=t.value;t.value>t.max&&(console.warn(`Configured gauge value ${t.value} is greaterthan configured max ${t.max}. Clamping value to ${t.max}.`),e=t.max),t.value<0&&(console.warn(`Configured gauge value ${t.value} is less than 0. Clamping value to 0.`),e=0);const r=t.thresholds?.definitions||{};return Object.keys(r||{}).forEach(s=>{const l=r[s];l&&(l.value>t.max&&(console.warn(`Configured threshold value ${l.value} for threshold ${s} is greaterthan configured max ${t.max}. Clamping value to ${t.max}.`),l.value=t.max),l.value<0&&(console.warn(`Configured threshold value ${l.value} is less than 0. Clamping value to 0.`),l.value=0))}),{...t,thresholds:{...t.thresholds,definitions:r},value:e}}}return c})();a(78634);class u{valueMap;defaultValue;constructor(n,t){this.valueMap=n,this.defaultValue=t,this.reset()}get=n=>this.valueMap[n]||this.defaultValue;reset(){}}class D{element;svg;constructor(n){this.element=document.createElement("path"),this.setAttributes({class:"nui-chart-element-marker nui-chart--path__outline","vector-effect":"non-scaling-stroke",d:n})}setColor(n){this.setAttributes({fill:n})}setAttributes(n){for(const t of Object.keys(n))this.element.setAttribute(t,n[t]);this.updateSvg()}getSvg(){return this.svg}updateSvg(){this.svg=this.element.outerHTML}}const M=(c,n)=>(t,e,r)=>n(c().concat(t),e,r);class xt extends de{constructor(n){super(n),this.formatters.tick=t=>t}createD3Scale(){return(0,Tt.hq)()}convert(n){return this._d3Scale(n)}invert(n){const t=this._d3Scale.domain(),e=t.map(this._d3Scale).slice(0,-1).map(r=>r+this._d3Scale.step()/2);return t[(0,bn.h1)(e,n)]}round(n){return n?(this._d3Scale.round(n),this):this._d3Scale.round()}padding(n){return this._d3Scale.padding(n),this}align(n){return n?(this._d3Scale.align(n),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}isContinuous(){return!1}}var Ct=a(28508),_t=a.n(Ct);const Bt=(c,n)=>new Intl.DateTimeFormat(_t().locale(),n).format(c),ge=c=>(0,W.wXd)(c)<c?(c=>Bt(c,{hour:"numeric",minute:"2-digit",second:"2-digit"}))(c):(0,W.UAC)(c)<c?(c=>Bt(c,{hour:"numeric",minute:"2-digit"}))(c):(0,W.Ui6)(c)<c?(c=>Bt(c,{month:"short",day:"2-digit"}))(c):(0,W.hed)(c)<c?(c=>Bt(c,{month:"short"}))(c):(c=>Bt(c,{year:"numeric"}))(c);class Mn extends de{constructor(n){super(n),this.formatters.tick=ge}createD3Scale(){return(0,Tt.w7)()}convert(n){return this._d3Scale(n)}invert(n){const t=this._d3Scale.invert(n);return isNaN(t.getTime())?void 0:t}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(n=>isNaN(n.getTime()))}}function yn(c){const n=new Date(c.getFullYear(),0,1).getTimezoneOffset(),t=new Date(c.getFullYear(),6,1).getTimezoneOffset();return Math.max(n,t)!==c.getTimezoneOffset()}class _n extends Mn{_bandScale;_interval;constructor(n,t){super(t),this.interval(n),this._bandScale=(0,Tt.WH)(),this.formatters.title=this.defaultTitleFormatter}interval(n){return n?(this._interval=n,this):this._interval}domain(n){if(n){if(0===n.length||n.length%2!=0)throw new Error("TimeIntervalScale domain has to be defined as a pair of [from, to] time values.");const t=gr()(n,q.tO),e=[];if(!t)for(let s=0;s+1<n.length;s+=2)e.push(...this.getBandsForInterval(n[s],n[s+1]));this._bandScale.domain(e);const r=t?n:[n[0],_t()(n[1]).add(this.interval()).toDate()];return super.domain(r)}return super.domain()}range(n){return n?(this._bandScale.range(n),super.range(n)):super.range()}getBands(){return this._bandScale.domain()}convert(n,t=Gt){const e=this.truncToInterval(n,this.interval());if(!e)throw new Error("Could not convert interval");const r=this._bandScale(e);return"number"==typeof r?r+t*this.bandwidth():super.convert(n)}invert(n){const t=super.invert(n);return this.truncToInterval(t,this.interval())}bandwidth(){return this._bandScale.bandwidth()}truncToInterval(n,t,e=!1){if(!n)return n;const r=yn(n),s=e?r:yn(this.domain()[0]),l=s&&!r,f=!s&&r,R=this.interval().asDays()>=1&&f?(0,Ct.duration)(1,"hour").asMilliseconds():0,L=new Date(n.getTime()+R);let gt=0;(l||f)&&(gt=l?-60:60);const St=6e4*(L.getTimezoneOffset()+gt),qt=L.getTime()-St,ce=qt%t.asMilliseconds();return 0===ce?L:new Date(qt-ce+St)}isContinuous(){return!0}defaultTitleFormatter=n=>{const t=this.interval().asDays(),e=yn(n),r=yn(this.domain()[0]),s=!e&&r;let f=0;(s||e&&!r)&&t>=1&&(f=s?36e5:-36e5);const m=new Date(n.getTime()+f),R=t>=1?_t()(m).add(t,"days").toDate():_t()(m).add(this.interval()).toDate();return ge(m)+" - "+ge(R)};getBandsForInterval(n,t){const e=[];let r=this.truncToInterval(n,this.interval(),!0);if(!r)throw new Error("Could not get bands for interval");const s=this.interval().asMilliseconds(),l=this.interval().asDays(),f=yn(n),m=yn(t),R=!f&&m?(0,Ct.duration)(1,"hour").asMilliseconds():0,L=l>=1?new Date(t.getTime()+R):t;for(;r<=L;)e.push(r),r=new Date(r.getTime()+s);return e}}class di{id;formatters;isDomainFixed;constructor(n){}convert(){}invert(){}get d3Scale(){}range(n){}domain(n){}fixDomain(n){return null}isContinuous(){return!1}isDomainValid(){return!0}reverse(){}reversed(n){}}class ci extends G{constructor(){super(),this.dimension.padding.bottom=2}}class kn extends G{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=5,this.axis.bottom.gridTicks=!1,this.axis.left.fit=!0,this.axis.bottom.tickSize=5,this.axis.left.tickSize=0,this.dimension.margin.right=0,this.dimension.padding.bottom=2}}class Hn extends G{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!1,this.axis.left.tickSize=0,this.axis.bottom.gridTicks=!0,this.axis.left.fit=!0,this.axis.bottom.fit=!0,this.axis.bottom.tickSize=0,this.axis.left.tickSize=5,this.dimension.padding.left=2,this.borders.left.visible=!0,this.borders.bottom.visible=!1}}class Qn extends G{constructor(n={showBottomAxis:!0}){super(),this.interactive=!0,this.interactionPlugins=!1,n.showBottomAxis||(this.axis.bottom.visible=!1,this.borders.bottom.visible=!1),this.axis.left.visible=!1,this.axis.left.gridTicks=!1,this.borders.left.visible=!1,this.dimension.autoHeight=!1,this.dimension.margin.top=0,n.showBottomAxis||(this.dimension.margin.bottom=0),this.dimension.height(30)}}function ei(c=new G,n=!1,t=!0){return c.interactionPlugins=!1,c.axis.left.visible=!1,c.axis.left.gridTicks=!1,c.dimension.margin.left=5,c.dimension.margin.right=5,c.dimension.margin.bottom=n?c.dimension.margin.bottom:0,c.dimension.padding.top=5,c.dimension.padding.bottom=5,c.dimension.autoHeight=!1,c.dimension.height(36),t&&(c.borders.top=new _),n||(c.borders.bottom.visible=!1),c}var Le=a(76830),On=a(91449);class Zn extends On.D{getAbsolutePosition(n){const t=this.chart.target?.node()?.parentNode;if(!t)throw new Error("Chart parent node is not defined");const e=Math.min(...n.map(f=>f.position.x)),r=Math.min(...n.map(f=>f.position.y)),s=t.offsetLeft+this.chart.getGrid().config().dimension.margin.left+e+this.chart.getGrid().config().dimension.width()/2;return{top:t.offsetTop+r+this.chart.getGrid().config().dimension.height()/2,left:s,height:0,width:0}}}var Un=a(30043);const Me=[{x:"end",y:"center"},{x:"end",y:"bottom"},{x:"center",y:"bottom"},{x:"start",y:"bottom"},{x:"start",y:"center"},{x:"start",y:"top"},{x:"center",y:"top"},{x:"end",y:"top"}],Sn={start:"end",end:"start",top:"bottom",bottom:"top"};class An extends Un.o7{getTooltipPosition(n,t){const e=n.data,f=t.renderer.getOuterRadius(t.scales.r.range(),n.index)+this.tooltipPositionOffset,m=(e.startAngle+e.endAngle)/2-Math.PI/2;return{x:Math.cos(m)*f,y:Math.sin(m)*f,width:0,height:0,overlayPositions:[this.getOverlayPosition(m)]}}getAbsolutePosition(n,t){const e=super.getAbsolutePosition(n,t);return e.x+=this.chart.getGrid().config().dimension.width()/2,e.y+=this.chart.getGrid().config().dimension.height()/2,e}getOverlayPosition(n){const t=this.getSectionIndex(n,8);return{originX:Me[t].x,originY:Me[t].y,overlayX:this.opposite(Me[t].x),overlayY:this.opposite(Me[t].y)}}getSectionIndex(n,t){let e=Math.round(n/(2*Math.PI/t))%t;for(;e<0;)e+=t;return e}opposite(n){return Sn[n]||n}}class Li extends Un.o7{constructor(n){super()}}var sr=a(19725);let zi=(()=>{class c extends wi.y{config;static LAYER_NAME="zoom-brush";static DEFAULT_CONFIG={enableExternalEvents:!1};grid;brush;zoomBrushLayer;brushElement;destroy$=new Wn.B;brushStartX;interactionHandlerMap;constructor(t={}){super(),this.config=t,this.config=hn()(this.config,c.DEFAULT_CONFIG),this.interactionHandlerMap={[wt.X.MouseDown]:this.brushStart,[wt.X.MouseMove]:this.brushMove,[wt.X.MouseUp]:this.brushEnd}}initialize(){this.grid=this.chart.getGrid(),this.zoomBrushLayer=this.grid.getLasagna().addLayer({name:c.LAYER_NAME,order:ut.G8[Nt.r.foreground].order+1,clipped:!0}),this.chart.getEventBus().getStream(ut.GM).pipe((0,Pn.Q)(this.destroy$)).subscribe(t=>{if(t.broadcast&&!this.config.enableExternalEvents)return;const e=t.data;rn()(this.grid.scales)||rn()(e.coordinates)||!this.interactionHandlerMap[e.interactionType]||this.interactionHandlerMap[e.interactionType](e.coordinates&&e.coordinates.x)}),this.brush=(0,sr.n5)(),this.brushElement=this.zoomBrushLayer.append("g").attr("class","brush"),this.chart.getGrid().getInteractiveArea().on("pointerdown",()=>ot.f0.target.setPointerCapture(ot.f0.pointerId)).on("pointerup",()=>ot.f0.target.releasePointerCapture(ot.f0.pointerId))}updateDimensions(){const t=this.grid.config().dimension;this.brush.extent([[0,0],[t.width(),t.height()]]),this.brush(this.zoomBrushLayer.select(".brush")),this.brushElement.select(".overlay").style("pointer-events","none"),this.brushElement.select(".selection").attr("stroke",null)}destroy(){this.grid.getLasagna().removeLayer(c.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}brushStart=t=>{_e()(this.brushStartX)&&(this.chart.getEventBus().getStream(ut.Ec).next({data:!1}),this.brushStartX=t)};brushMove=t=>{if(_e()(this.brushStartX))return;const e=[this.brushStartX,t].sort((r,s)=>r-s);this.brush.move(this.brushElement,e)};brushEnd=t=>{if(_e()(this.brushStartX))return;const e=[this.brushStartX,t].sort((m,R)=>m-R);this.brushStartX=void 0,this.chart.getEventBus().getStream(ut.Ec).next({data:!0}),this.brush.move(this.brushElement,null);const r=this.grid.scales.x.list;if(!r||e[0]===e[1])return;let s=0;const l=this.grid.config();!l.disableRenderAreaWidthCorrection&&e[1]===l.dimension.width()-Bn.RENDER_AREA_WIDTH_CORRECTION&&(s=Bn.RENDER_AREA_WIDTH_CORRECTION);const f=r.reduce((m,R)=>(m[R.id]=[e[0],e[1]+s].map(L=>R.invert(L)),m),{});this.chart.getEventBus().getStream(ut.Nf).next({data:f})}}return c})();a(32432),a(57219);class kr{showBottomAxis;showTopBorder;palette;markers;sparks=[];isLegendActive=!1;gridConfig;lastGridConfig;highlightedDataPoints={};constructor(n=!0,t=!0,e=new Gn(pi),r=new en(Tn)){this.showBottomAxis=n,this.showTopBorder=t,this.palette=e,this.markers=r,this.gridConfig=ei(new G,!1,t),this.gridConfig.interactionPlugins=!1,this.lastGridConfig=ei(new G,n,t),this.lastGridConfig.interactionPlugins=!1}update(n){const t=n.map(e=>({id:e.id,chartSeriesSet:[e]}));this.updateSparks(t)}updateSparks(n){const t=at()(n);this.sparks=t.map((e,r)=>{const s=r===t.length-1,l=e.id?this.sparks.findIndex(f=>f.id===e.id):-1;return-1!==l?e.chart=this.reconfigureChart(this.sparks[l].chart,s):(e.chart=e.chart||this.createChart(s),e.id=e.id||Pe.uuid()),e.chart.update(e.chartSeriesSet),e})}getHighlightedValue(n,t,e){return o.getLabel(n,this.highlightedDataPoints[n.id],t,e)}trackByFn(n,t){return t?.id}setRenderState(n,t){}getVisibleSeriesWithLegend(){return[]}createChart(n){const t=new Kn(n?this.lastGridConfig:this.gridConfig),e=new $i(t);return(this.showTopBorder||this.showBottomAxis)&&e.addPlugin(new on),n&&this.showBottomAxis&&e.addPlugin(new sn),this.configureEventSubscriptions(e.getEventBus()),e}configureEventSubscriptions(n){n.getStream(ut.JM).subscribe(t=>{if(t.data.interactionType===wt.X.MouseMove){const e=t.data.dataPoints;Object.keys(e).forEach(r=>{this.highlightedDataPoints[r]=Object.assign({},e[r])})}}),n.getStream(ut.C8).subscribe(t=>{this.isLegendActive=t.data})}reconfigureChart(n,t){n.getGrid().config(t?this.lastGridConfig:this.gridConfig),n.updateDimensions();const e=n.hasPlugin(sn);if(t&&!e&&this.showBottomAxis){const r=new sn;n.addPlugin(r),r.initialize()}else!t&&e&&n.removePlugin(sn);return n}}a(60598),a(29261),a(93078);class Ur{series;data;constructor(){this.series=void 0,this.data=void 0}}class Fr extends ee.A{draw(n,t){}highlightDataPoint(n,t,e){}getRequiredLayers(){return[]}getDataPointPosition(n,t,e){}}function Xr(c){const n=new Kn;return n.config(c&&c.horizontal?new Hn:new kn),n}function Wr(c,n,t){return c&&c.horizontal?new Xn(n,t):new nr(n,t)}var zr=a(35482),Jt=a.n(zr);class ze{scaleKey;levels;selectedDataPointIdxFn;constructor(n,t=1,e){this.scaleKey=n,this.levels=t,this.selectedDataPointIdxFn=e}getDataPointIndex(n,t,e,r){const s=e[this.scaleKey];return typeof s>"u"?ut.Dc:this.findDataPointByValue(t,s,this.scaleKey,r)}findDataPointByValue(n,t,e,r){const s=e.toUpperCase(),l=n.accessors.data,f=l["start"+s],m=l["end"+s];if("string"==typeof t)return Jt()(n.data,(R,L)=>t===f?.(R,L,n.data,n));if(Zt()(t))return Jt()(n.data,(R,L)=>{const gt=f?.(R,L,n.data,n),St=Math.min(this.levels,t.length,gt.length);for(let qt=0;qt<St;qt++)if(t[qt]!==gt[qt])return!1;return!0});if(t.valueOf){const R=t.valueOf();if(r&&r[e]?.isContinuous()){let L=Jt()(n.data,(gt,St)=>R>=f?.(gt,St,n.data,n).valueOf()&&R<=m?.(gt,St,n.data,n).valueOf());if(-1===L&&typeof m<"u")if((0,q.y_)(r[e])){const gt=(qt,Ee)=>f?.(qt,Ee,n.data,n),St=Pe.findNearestIndex(n.data,t,gt);L=St>=n.data.length||gt(n.data[St],St)>R?-1:St}else L=Pe.getClosestIndex(n.data,(gt,St)=>m(gt,St,n.data,n),t)??-1;return L}return Jt()(n.data,(L,gt)=>R>=f?.(L,gt,n.data,n).valueOf()&&R<=m?.(L,gt,n.data,n).valueOf())}return ut.Dc}highlightDataPoint(n,t,e,r){const s=t.containers[Nt.r.data],l=n.getContainerStateStyles,f=_e()(this.selectedDataPointIdxFn)?ut.LP:this.selectedDataPointIdxFn(t.dataSeries.id);s.selectAll(`g.${n.barContainerClass}`).each(function(m,R){let L;L=e===ut.Dc?R===f||f===ut.LP?Nt.M.default:Nt.M.deemphasized:e===R||R===f?Nt.M.emphasized:Nt.M.deemphasized,(0,b.A)(this).attrs(l(L))})}draw(n,t,e){}}class Ut{scaleKey;levels;constructor(n,t=1){this.scaleKey=n,this.levels=t}getDataPointIndex(n,t,e,r){const s=e[this.scaleKey];return typeof s>"u"?ut.Dc:this.findDataPointByValue(t,s,this.scaleKey)}findDataPointByValue(n,t,e){const r=e.toUpperCase(),s=n.accessors.data,l=s["start"+r],f=s["end"+r];if("string"==typeof t)return Jt()(n.data,(m,R)=>t===l?.(m,R,n.data,n));if(Zt()(t))return Jt()(n.data,(m,R)=>{const L=l?.(m,R,n.data,n),gt=Math.min(this.levels,t.length,L.length);for(let St=0;St<gt;St++)if(t[St]!==L[St])return!1;return!0});if(t.valueOf){const m=t.valueOf();return Jt()(n.data,(R,L)=>m>=l?.(R,L,n.data,n).valueOf()&&m<=f?.(R,L,n.data,n).valueOf())}return ut.Dc}highlightDataPoint(n,t,e,r){(e>=0||e===ut.Dc)&&r.next({eventName:ut.mZ,data:n.getDataPoint(t,t.dataSeries.data[e],e)})}draw(n,t,e){}}class si extends _i.n{getArc(n,t,e){return t.outerRadius(n[1]-n[0]).innerRadius(0)}}function xn(c,n,t){const e=c.accessors.data,r=c.data,s=e?.[n];if(!s)throw new Error("Accessor "+n+" not defined!");const l=s(r[0],0,r,c),f=s(r[r.length-1],r.length-1,r,c);if(!l||!f)throw new Error("First or last values not defined!");const m=new _n(t);m.domain([m.truncToInterval(l,m.interval()),m.truncToInterval(f,m.interval())]);const R=m.getBands(),L=[];let gt=0;for(let St=0;St<r.length;St++){const qt=s(r[St],St,r,c),Ee=m.truncToInterval(qt,m.interval());if(Ee&&Ee>R[gt])for(L.push({...r[St-1],defined:!1}),L.push({...r[St],defined:!1});R[gt]<qt;)gt++;L.push(r[St]),gt++}return L}class li{INTERACTION_MARGIN=8;draw(n,t,e){const r=t.containers[Nt.r.data];let s=r.select("path.interaction");if(Et()(n.config.strokeWidth))throw new Error("renderer.config.strokeWidth is not defined");s.empty()&&(s=r.append("path").classed("interaction",!0).classed("pointer-events pointer-events-click",!0).attrs({"stroke-width":n.config.strokeWidth+2*this.INTERACTION_MARGIN,stroke:"transparent",fill:"none"}).on("mouseenter",()=>{e.next({eventName:ut.mZ,data:{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:0,data:t.dataSeries.data[0]}})}).on("mouseleave",()=>{e.next({eventName:ut.mZ,data:{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:ut.LP}})}).on("click",(l,f)=>{this.emitEvent(n,ut._X,wt.X.Click,t,l,f,e)})),n.drawLine(t,s)}getDataPointIndex(n,t,e,r){}highlightDataPoint(n,t,e,r){}emitEvent(n,t,e,r,s,l,f){const m={seriesId:r.dataSeries.id,dataSeries:r.dataSeries,index:l,data:s,position:n.getDataPointPosition(r.dataSeries,l,r.scales)};f.next({eventName:t,data:{interactionType:e,payload:m}})}}class ui{strokeWidth=1;interactive=!1;strokeStyle=Yt.getStrokeStyleDashed(1);useEnhancedLineCaps=!0}function ki(){const c=new Kn;return c.config(new ci),c}class Qr extends Ke{config;DEFAULT_CONFIG={curveType:Fi,interactive:!0,areaClass:"nui-chart-area",markerInteraction:qn};constructor(n={}){super(n),this.config=n,this.config=hn()(this.config,this.DEFAULT_CONFIG)}draw(n,t){const e=n.containers[Nt.r.data],r=n.dataSeries.accessors;let s=e.select(`path.${this.config.areaClass}`);if(s.empty()){if(!this.config.areaClass)throw new Error("areaClass is not defined");s=e.append("path").classed(this.config.areaClass,!0).attrs({fill:r.series.color?.(n.dataSeries.id,n.dataSeries)}).style("stroke-width",this.config.strokeWidth??1)}this.drawArea(n,s)}drawArea(n,t){const e=n.dataSeries,r=e.accessors;let s=!1;const l=e.data.filter((m,R)=>{const L=typeof r.data.absoluteX0?.(m,R,e.data,e)<"u"&&typeof r.data.absoluteX1?.(m,R,e.data,e)<"u"&&typeof r.data.absoluteY0?.(m,R,e.data,e)<"u"&&typeof r.data.absoluteY1?.(m,R,e.data,e)<"u";return!L&&!s&&(console.warn("Data point",m,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x0:",r.data.x0),console.warn(" -> accessors.data.y0:",r.data.y0),console.warn(" -> accessors.data.x1:",r.data.x1),console.warn(" -> accessors.data.y1:",r.data.y1),s=!0),L});if(!this.config.curveType)throw new Error("curveType is not defined");const f=function Pr(){var c=K,n=null,t=(0,U.A)(0),e=mt,r=(0,U.A)(!0),s=null,l=Fi,f=null;function m(L){var gt,St,qt,ce,Nn,Ee=L.length,Ce=!1,Ui=new Array(Ee),ar=new Array(Ee);for(null==s&&(f=l(Nn=(0,w.A)())),gt=0;gt<=Ee;++gt){if(!(gt<Ee&&r(ce=L[gt],gt,L))===Ce)if(Ce=!Ce)St=gt,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),qt=gt-1;qt>=St;--qt)f.point(Ui[qt],ar[qt]);f.lineEnd(),f.areaEnd()}Ce&&(Ui[gt]=+c(ce,gt,L),ar[gt]=+t(ce,gt,L),f.point(n?+n(ce,gt,L):Ui[gt],e?+e(ce,gt,L):ar[gt]))}if(Nn)return f=null,Nn+""||null}function R(){return Rt().defined(r).curve(l).context(s)}return m.x=function(L){return arguments.length?(c="function"==typeof L?L:(0,U.A)(+L),n=null,m):c},m.x0=function(L){return arguments.length?(c="function"==typeof L?L:(0,U.A)(+L),m):c},m.x1=function(L){return arguments.length?(n=null==L?null:"function"==typeof L?L:(0,U.A)(+L),m):n},m.y=function(L){return arguments.length?(t="function"==typeof L?L:(0,U.A)(+L),e=null,m):t},m.y0=function(L){return arguments.length?(t="function"==typeof L?L:(0,U.A)(+L),m):t},m.y1=function(L){return arguments.length?(e=null==L?null:"function"==typeof L?L:(0,U.A)(+L),m):e},m.lineX0=m.lineY0=function(){return R().x(c).y(t)},m.lineY1=function(){return R().x(c).y(e)},m.lineX1=function(){return R().x(n).y(t)},m.defined=function(L){return arguments.length?(r="function"==typeof L?L:(0,U.A)(!!L),m):r},m.curve=function(L){return arguments.length?(l=L,null!=s&&(f=l(s)),m):l},m.context=function(L){return arguments.length?(null==L?s=f=null:f=l(s=L),m):s},m}().x0((m,R)=>this.safetyCheck(n.scales.x.convert(r.data.absoluteX0?.(m,R,e.data,e)))).x1((m,R)=>this.safetyCheck(n.scales.x.convert(r.data.absoluteX1?.(m,R,e.data,e)))).y0((m,R)=>this.safetyCheck(n.scales.y.convert(r.data.absoluteY0?.(m,R,e.data,e)))).y1((m,R)=>this.safetyCheck(n.scales.y.convert(r.data.absoluteY1?.(m,R,e.data,e)))).curve(this.config.curveType);t.attr("d",f(l)??"")}getDomain(n,t,e,r){if(!n||0===n.length)return q.tO;const s=t.accessors.data;if("x"!==e&&"y"!==e)return[void 0,void 0];const l=s[`absolute${e.toUpperCase()}0`],f=s[`absolute${e.toUpperCase()}1`];return[(0,bn.jk)(n,(m,R,L)=>(0,bn.jk)([l?.(m,R,L,t),f?.(m,R,L,t)])),(0,bn.T9)(n,(m,R,L)=>(0,bn.T9)([l?.(m,R,L,t),f?.(m,R,L,t)]))]}getRequiredLayers(){return[ut.G8[Nt.r.data],ut.G8[Nt.r.foreground]]}filterDataByDomain(n,t,e,r){const s=t.accessors.data[e+"0"],l=t.accessors.data[e+"1"];return n.filter((f,m)=>{const R=s?.(f,m,n,t),L=l?.(f,m,n,t);return Math.max(R,L)>=r[0]&&Math.min(R,L)<=r[1]})}highlightDataPoint(n,t,e){n.dataSeries.accessors.series.marker&&this.config.interactive&&Vt.manageMarker(n.dataSeries,n.scales,t,n.containers[Nt.r.foreground],e,this.config.markerInteraction)}safetyCheck(n){return typeof n>"u"||isNaN(n)?0:n}}function Jr(c){return function Zr(c,n){if(0===c.length)return c;const t={};for(const s of c){if(!1===s.preprocess)continue;const l=s.accessors.data.x,f=s.accessors.data.y0,m=s.accessors.data.y1,R=n(s)?1:0;s.data.forEach((L,gt)=>{const St=l(L,gt,s.data,s),qt=f?.(L,gt,s.data,s),ce=(m?.(L,gt,s.data,s)-qt)*R;let Ce=t[St.valueOf()];typeof Ce>"u"&&(Ce=0,t[St.valueOf()]=Ce);const Nn=Ce+ce;t[St.valueOf()]=Nn,L.__stack_y={start:Ce,end:Nn}})}return c}(c,n=>!this.isSeriesHidden(n.id))}function ts(c){return function qr(c,n){if(0===c.length)return c;const t={},e={};for(const l of c)es("x","y",l,n,e);for(const l of c)ns("x","y",l,n,t,e);return c}(c,n=>!this.isSeriesHidden(n.id))}function es(c,n,t,e,r){const s=t.accessors.data[c],l=t.accessors.data[n+"0"],f=t.accessors.data[n+"1"],m=e(t)?1:0;t.data.forEach((R,L)=>{const gt=s(R,L,t.data,t),St=l?.(R,L,t.data,t),Ee=(f?.(R,L,t.data,t)-St)*m;let ce=r[gt.valueOf()];typeof ce>"u"&&(ce=0,r[gt.valueOf()]=ce),r[gt.valueOf()]=ce+Ee})}function ns(c,n,t,e,r,s){const l=t.accessors.data[c],f=t.accessors.data[n+"0"],m=t.accessors.data[n+"1"],R=e(t)?1:0;t.data.forEach((L,gt)=>{const St=l(L,gt,t.data,t),qt=f?.(L,gt,t.data,t),ce=(m?.(L,gt,t.data,t)-qt)*R;let Ce=r[St.valueOf()];typeof Ce>"u"&&(Ce=0,r[St.valueOf()]=Ce);const Ui=Ce+ce/s[St.valueOf()]*100;r[St.valueOf()]=Ui,L["__stack_"+n]={start:Ce,end:Ui}})}function is(c,n){const t=new $n(c,n);return t.data.x=e=>e.x,t.data.y=t.data.absoluteY1,t.data.y0=()=>0,t.data.y1=e=>e.y,t}function rs(c=new G){return c.axis.left.visible=!1,c.axis.left.gridTicks=!1,c.dimension.padding.bottom=5,c.dimension.autoHeight=!1,c.dimension.height(20),c}function ss(c=new G){return c.axis.bottom.visible=!1,c.dimension.margin.bottom=0,c.dimension.padding.bottom=5,c}},22118:(Pt,ht,a)=>{"use strict";a.d(ht,{n:()=>z,x:()=>O});var g=a(79450),T=a(41895),p=a.n(T),Q=a(64755),I=a.n(Q),F=a(20021),nt=a(71443),b=a(86655),S=a(5438);const O={annularWidth:20,annularPadding:5,maxThickness:30,annularGrowth:.15,cursor:"default",enableSeriesHighlighting:!0,enableDataPointHighlighting:!0};class z extends nt.A{config;segmentWidth;constructor(C={}){super(C),this.config=C,this.config=p()(this.config,O)}draw(C,A){const P=C.containers[S.r.data],Z=C.dataSeries.data,X=C.dataSeries.accessors;this.segmentWidth=this.getSegmentWidth(C);const Y=P.selectAll("path.arc").data(Z);Y.exit().remove(),Y.enter().append("path").attr("class","arc pointer-events nui-chart--path__outline").style("stroke-width",this.config.strokeWidth).style("cursor",this.config.cursor).on("mouseenter",(dt,j)=>{this.emitDataPointHighlight(C,dt,j,A)}).on("mouseleave",(dt,j)=>{this.emitDataPointHighlight(C,null,F.LP,A)}).on("click",(dt,j)=>{A.next({eventName:F.mu,data:{seriesId:C.dataSeries.id,index:j,data:dt.data,position:this.getDataPointPosition(C.dataSeries,j,C.scales)}})}).merge(Y).attr("d",(dt,j)=>this.getArc(C.scales.r.range(),(0,g.A)(),j)(dt)).attr("fill",(dt,j)=>X.data.color?X.data.color(dt.data,j,Z,C.dataSeries):X.series.color?.(C.dataSeries.id,C.dataSeries))}getDataPointPosition(C,A,P){if(A<0)return;const Z=C.data[A],it=this.getArc(P.r.range(),(0,g.A)(),A).centroid(Z);return{x:it[0],y:it[1],width:0,height:0}}getInnerRadius(C,A){if(I()(this.segmentWidth)||I()(this.config.annularPadding))throw new Error("Can't compute inner radius");const P=C[1]-C[0]-this.segmentWidth-A*(this.config.annularPadding+this.segmentWidth);return P>=0?P:0}getOuterRadius(C,A){if(I()(this.segmentWidth)||I()(this.config.annularPadding))throw new Error("Can't compute outer radius");const P=C[1]-C[0]-A*(this.config.annularPadding+this.segmentWidth);return P>=0?P:0}getArc(C,A,P){const Z=this.getInnerRadius(C,P);return A.outerRadius(this.getOuterRadius(C,P)).innerRadius(Z)}getSegmentWidth(C){return this.config.maxThickness&&this.config.annularGrowth?Math.min((C.scales.r.range()[1]-C.scales.r.range()[0])*this.config.annularGrowth,this.config.maxThickness):this.config.annularWidth}emitDataPointHighlight(C,A,P,Z){const X=this.getDataPointPosition(C.dataSeries,P,C.scales),it={seriesId:C.dataSeries.id,dataSeries:C.dataSeries,index:P,data:A,position:X};this.config.enableSeriesHighlighting&&Z.next({eventName:F.mZ,data:it}),this.config.enableDataPointHighlighting&&Z.next({eventName:F.cC,data:it}),Z.next({eventName:F.JM,data:{interactionType:b.X.MouseMove,dataPoints:{[C.dataSeries.id]:it}}})}}},5438:(Pt,ht,a)=>{"use strict";a.d(ht,{M:()=>g,r:()=>T});var g=function(p){return p.hidden="hidden",p.deemphasized="deemphasized",p.emphasized="emphasized",p.default="default",p}(g||{}),T=function(p){return p.background="background",p.data="data",p.unclippedData="unclipped-data",p.foreground="foreground",p}(T||{})},46043:(Pt,ht,a)=>{"use strict";function g(rt,ft){return rt<ft?-1:rt>ft?1:rt>=ft?0:NaN}function T(rt){return 1===rt.length&&(rt=function p(rt){return function(ft,Mt){return g(rt(ft),Mt)}}(rt)),{left:function(ft,Mt,lt,at){for(null==lt&&(lt=0),null==at&&(at=ft.length);lt<at;){var st=lt+at>>>1;rt(ft[st],Mt)<0?lt=st+1:at=st}return lt},right:function(ft,Mt,lt,at){for(null==lt&&(lt=0),null==at&&(at=ft.length);lt<at;){var st=lt+at>>>1;rt(ft[st],Mt)>0?at=st:lt=st+1}return lt}}}a.d(ht,{h1:()=>nt,yl:()=>T,Xx:()=>b,T9:()=>dt,jk:()=>j,y1:()=>Dt,lq:()=>Z,sG:()=>X,Zc:()=>P});const nt=T(g).right;function b(rt,ft){var at,st,Ft,Mt=rt.length,lt=-1;if(null==ft){for(;++lt<Mt;)if(null!=(at=rt[lt])&&at>=at)for(st=Ft=at;++lt<Mt;)null!=(at=rt[lt])&&(st>at&&(st=at),Ft<at&&(Ft=at))}else for(;++lt<Mt;)if(null!=(at=ft(rt[lt],lt,rt))&&at>=at)for(st=Ft=at;++lt<Mt;)null!=(at=ft(rt[lt],lt,rt))&&(st>at&&(st=at),Ft<at&&(Ft=at));return[st,Ft]}var N=Math.sqrt(50),C=Math.sqrt(10),A=Math.sqrt(2);function P(rt,ft,Mt){var lt,st,Ft,Xt,at=-1;if(Mt=+Mt,(rt=+rt)==(ft=+ft)&&Mt>0)return[rt];if((lt=ft<rt)&&(st=rt,rt=ft,ft=st),0===(Xt=Z(rt,ft,Mt))||!isFinite(Xt))return[];if(Xt>0)for(rt=Math.ceil(rt/Xt),ft=Math.floor(ft/Xt),Ft=new Array(st=Math.ceil(ft-rt+1));++at<st;)Ft[at]=(rt+at)*Xt;else for(rt=Math.floor(rt*Xt),ft=Math.ceil(ft*Xt),Ft=new Array(st=Math.ceil(rt-ft+1));++at<st;)Ft[at]=(rt-at)/Xt;return lt&&Ft.reverse(),Ft}function Z(rt,ft,Mt){var lt=(ft-rt)/Math.max(0,Mt),at=Math.floor(Math.log(lt)/Math.LN10),st=lt/Math.pow(10,at);return at>=0?(st>=N?10:st>=C?5:st>=A?2:1)*Math.pow(10,at):-Math.pow(10,-at)/(st>=N?10:st>=C?5:st>=A?2:1)}function X(rt,ft,Mt){var lt=Math.abs(ft-rt)/Math.max(0,Mt),at=Math.pow(10,Math.floor(Math.log(lt)/Math.LN10)),st=lt/at;return st>=N?at*=10:st>=C?at*=5:st>=A&&(at*=2),ft<rt?-at:at}function dt(rt,ft){var at,st,Mt=rt.length,lt=-1;if(null==ft){for(;++lt<Mt;)if(null!=(at=rt[lt])&&at>=at)for(st=at;++lt<Mt;)null!=(at=rt[lt])&&at>st&&(st=at)}else for(;++lt<Mt;)if(null!=(at=ft(rt[lt],lt,rt))&&at>=at)for(st=at;++lt<Mt;)null!=(at=ft(rt[lt],lt,rt))&&at>st&&(st=at);return st}function j(rt,ft){var at,st,Mt=rt.length,lt=-1;if(null==ft){for(;++lt<Mt;)if(null!=(at=rt[lt])&&at>=at)for(st=at;++lt<Mt;)null!=(at=rt[lt])&&st>at&&(st=at)}else for(;++lt<Mt;)if(null!=(at=ft(rt[lt],lt,rt))&&at>=at)for(st=at;++lt<Mt;)null!=(at=ft(rt[lt],lt,rt))&&st>at&&(st=at);return st}function Dt(rt,ft,Mt){rt=+rt,ft=+ft,Mt=(at=arguments.length)<2?(ft=rt,rt=0,1):at<3?1:+Mt;for(var lt=-1,at=0|Math.max(0,Math.ceil((ft-rt)/Mt)),st=new Array(at);++lt<at;)st[lt]=rt+lt*Mt;return st}},19725:(Pt,ht,a)=>{"use strict";a.d(ht,{n5:()=>$});var g=a(4171),T=a(14221),p=a(89403);function I(){p.f0.preventDefault(),p.f0.stopImmediatePropagation()}var b=a(70963),S=a(86358),O=a(60859),N=a(72546),C=a(72625);function A(Ot){return function(){return Ot}}function P(Ot,le,Xe){this.target=Ot,this.type=le,this.selection=Xe}function Z(){p.f0.stopImmediatePropagation()}function X(){p.f0.preventDefault(),p.f0.stopImmediatePropagation()}var it={name:"drag"},Y={name:"space"},dt={name:"handle"},j={name:"center"};function Dt(Ot){return[+Ot[0],+Ot[1]]}function rt(Ot){return[Dt(Ot[0]),Dt(Ot[1])]}var Mt={name:"x",handles:["w","e"].map(ve),input:function(Ot,le){return null==Ot?null:[[+Ot[0],le[0][1]],[+Ot[1],le[1][1]]]},output:function(Ot){return Ot&&[Ot[0][0],Ot[1][0]]}},lt={name:"y",handles:["n","s"].map(ve),input:function(Ot,le){return null==Ot?null:[[le[0][0],+Ot[0]],[le[1][0],+Ot[1]]]},output:function(Ot){return Ot&&[Ot[0][1],Ot[1][1]]}},st=(["n","w","e","s","nw","ne","sw","se"].map(ve),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Ft={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Xt={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},se={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ue={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ve(Ot){return{type:Ot}}function q(){return!p.f0.ctrlKey&&!p.f0.button}function bt(){var Ot=this.ownerSVGElement||this;return Ot.hasAttribute("viewBox")?[[(Ot=Ot.viewBox.baseVal).x,Ot.y],[Ot.x+Ot.width,Ot.y+Ot.height]]:[[0,0],[Ot.width.baseVal.value,Ot.height.baseVal.value]]}function Wt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zt(Ot){for(;!Ot.__brush;)if(!(Ot=Ot.parentNode))return;return Ot.__brush}function $(){return function ye(Ot){var Fn,le=bt,Xe=q,Ye=Wt,cn=!0,Cn=(0,g.A)("start","brush","end"),Dn=6;function Ge(re){var fe=re.property("__brush",pi).selectAll(".overlay").data([ve("overlay")]);fe.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",st.overlay).merge(fe).each(function(){var he=Zt(this).extent;(0,T.A)(this).attr("x",he[0][0]).attr("y",he[0][1]).attr("width",he[1][0]-he[0][0]).attr("height",he[1][1]-he[0][1])}),re.selectAll(".selection").data([ve("selection")]).enter().append("rect").attr("class","selection").attr("cursor",st.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var be=re.selectAll(".handle").data(Ot.handles,function(he){return he.type});be.exit().remove(),be.enter().append("rect").attr("class",function(he){return"handle handle--"+he.type}).attr("cursor",function(he){return st[he.type]}),re.each(Rn).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",Jn).filter(Ye).on("touchstart.brush",Jn).on("touchmove.brush",_e).on("touchend.brush touchcancel.brush",ai).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Rn(){var re=(0,T.A)(this),fe=Zt(this).selection;fe?(re.selectAll(".selection").style("display",null).attr("x",fe[0][0]).attr("y",fe[0][1]).attr("width",fe[1][0]-fe[0][0]).attr("height",fe[1][1]-fe[0][1]),re.selectAll(".handle").style("display",null).attr("x",function(be){return"e"===be.type[be.type.length-1]?fe[1][0]-Dn/2:fe[0][0]-Dn/2}).attr("y",function(be){return"s"===be.type[0]?fe[1][1]-Dn/2:fe[0][1]-Dn/2}).attr("width",function(be){return"n"===be.type||"s"===be.type?fe[1][0]-fe[0][0]+Dn:Dn}).attr("height",function(be){return"e"===be.type||"w"===be.type?fe[1][1]-fe[0][1]+Dn:Dn})):re.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function ln(re,fe,be){var he=re.__brush.emitter;return!he||be&&he.clean?new Gn(re,fe,be):he}function Gn(re,fe,be){this.that=re,this.args=fe,this.state=re.__brush,this.active=0,this.clean=be}function Jn(){if((!Fn||p.f0.touches)&&Xe.apply(this,arguments)){var Je,un,fn,gn,nn,pn,qe,mn,hn,H,yt,re=this,fe=p.f0.target.__data__.type,be="selection"===(cn&&p.f0.metaKey?fe="overlay":fe)?it:cn&&p.f0.altKey?j:dt,he=Ot===lt?null:se[fe],He=Ot===Mt?null:ue[fe],En=Zt(re),Tn=En.extent,en=En.selection,$e=Tn[0][0],$n=Tn[0][1],Xn=Tn[1][0],bn=Tn[1][1],Fe=0,xe=0,an=he&&He&&cn&&p.f0.shiftKey,zt=p.f0.touches?function ft(Ot){return function(le){return function z(Ot,le,Xe){arguments.length<3&&(Xe=le,le=(0,S.A)().changedTouches);for(var Cn,Ye=0,cn=le?le.length:0;Ye<cn;++Ye)if((Cn=le[Ye]).identifier===Xe)return(0,O.A)(Ot,Cn);return null}(le,p.f0.touches,Ot)}}(p.f0.changedTouches[0].identifier):N.A,ut=zt(re),Gt=ut,te=ln(re,arguments,!0).beforestart();"overlay"===fe?(en&&(hn=!0),En.selection=en=[[Je=Ot===lt?$e:ut[0],fn=Ot===Mt?$n:ut[1]],[nn=Ot===lt?Xn:Je,qe=Ot===Mt?bn:fn]]):(Je=en[0][0],fn=en[0][1],nn=en[1][0],qe=en[1][1]),un=Je,gn=fn,pn=nn,mn=qe;var Nt=(0,T.A)(re).attr("pointer-events","none"),ee=Nt.selectAll(".overlay").attr("cursor",st[fe]);if(p.f0.touches)te.moved=Ie,te.ended=rn;else{var Te=(0,T.A)(p.f0.view).on("mousemove.brush",Ie,!0).on("mouseup.brush",rn,!0);cn&&Te.on("keydown.brush",function dn(){switch(p.f0.keyCode){case 16:an=he&&He;break;case 18:be===dt&&(he&&(nn=pn-Fe*he,Je=un+Fe*he),He&&(qe=mn-xe*He,fn=gn+xe*He),be=j,je());break;case 32:(be===dt||be===j)&&(he<0?nn=pn-Fe:he>0&&(Je=un-Fe),He<0?qe=mn-xe:He>0&&(fn=gn-xe),be=Y,ee.attr("cursor",st.selection),je());break;default:return}X()},!0).on("keyup.brush",function Pe(){switch(p.f0.keyCode){case 16:an&&(H=yt=an=!1,je());break;case 18:be===j&&(he<0?nn=pn:he>0&&(Je=un),He<0?qe=mn:He>0&&(fn=gn),be=dt,je());break;case 32:be===Y&&(p.f0.altKey?(he&&(nn=pn-Fe*he,Je=un+Fe*he),He&&(qe=mn-xe*He,fn=gn+xe*He),be=j):(he<0?nn=pn:he>0&&(Je=un),He<0?qe=mn:He>0&&(fn=gn),be=dt),ee.attr("cursor",st[fe]),je());break;default:return}X()},!0),function F(Ot){var le=Ot.document.documentElement,Xe=(0,T.A)(Ot).on("dragstart.drag",I,!0);"onselectstart"in le?Xe.on("selectstart.drag",I,!0):(le.__noselect=le.style.MozUserSelect,le.style.MozUserSelect="none")}(p.f0.view)}Z(),(0,C.G)(re),Rn.call(re),te.start()}function Ie(){var Ke=zt(re);an&&!H&&!yt&&(Math.abs(Ke[0]-Gt[0])>Math.abs(Ke[1]-Gt[1])?yt=!0:H=!0),Gt=Ke,hn=!0,X(),je()}function je(){var Ke;switch(Fe=Gt[0]-ut[0],xe=Gt[1]-ut[1],be){case Y:case it:he&&(Fe=Math.max($e-Je,Math.min(Xn-nn,Fe)),un=Je+Fe,pn=nn+Fe),He&&(xe=Math.max($n-fn,Math.min(bn-qe,xe)),gn=fn+xe,mn=qe+xe);break;case dt:he<0?(Fe=Math.max($e-Je,Math.min(Xn-Je,Fe)),un=Je+Fe,pn=nn):he>0&&(Fe=Math.max($e-nn,Math.min(Xn-nn,Fe)),un=Je,pn=nn+Fe),He<0?(xe=Math.max($n-fn,Math.min(bn-fn,xe)),gn=fn+xe,mn=qe):He>0&&(xe=Math.max($n-qe,Math.min(bn-qe,xe)),gn=fn,mn=qe+xe);break;case j:he&&(un=Math.max($e,Math.min(Xn,Je-Fe*he)),pn=Math.max($e,Math.min(Xn,nn+Fe*he))),He&&(gn=Math.max($n,Math.min(bn,fn-xe*He)),mn=Math.max($n,Math.min(bn,qe+xe*He)))}pn<un&&(he*=-1,Ke=Je,Je=nn,nn=Ke,Ke=un,un=pn,pn=Ke,fe in Ft&&ee.attr("cursor",st[fe=Ft[fe]])),mn<gn&&(He*=-1,Ke=fn,fn=qe,qe=Ke,Ke=gn,gn=mn,mn=Ke,fe in Xt&&ee.attr("cursor",st[fe=Xt[fe]])),En.selection&&(en=En.selection),H&&(un=en[0][0],pn=en[1][0]),yt&&(gn=en[0][1],mn=en[1][1]),(en[0][0]!==un||en[0][1]!==gn||en[1][0]!==pn||en[1][1]!==mn)&&(En.selection=[[un,gn],[pn,mn]],Rn.call(re),te.brush())}function rn(){if(Z(),p.f0.touches){if(p.f0.touches.length)return;Fn&&clearTimeout(Fn),Fn=setTimeout(function(){Fn=null},500)}else(function nt(Ot,le){var Xe=Ot.document.documentElement,Ye=(0,T.A)(Ot).on("dragstart.drag",null);le&&(Ye.on("click.drag",I,!0),setTimeout(function(){Ye.on("click.drag",null)},0)),"onselectstart"in Xe?Ye.on("selectstart.drag",null):(Xe.style.MozUserSelect=Xe.__noselect,delete Xe.__noselect)})(p.f0.view,hn),Te.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Nt.attr("pointer-events","all"),ee.attr("cursor",st.overlay),En.selection&&(en=En.selection),function Oe(Ot){return Ot[0][0]===Ot[1][0]||Ot[0][1]===Ot[1][1]}(en)&&(En.selection=null,Rn.call(re)),te.end()}}function _e(){ln(this,arguments).moved()}function ai(){ln(this,arguments).ended()}function pi(){var re=this.__brush||{selection:null};return re.extent=rt(le.apply(this,arguments)),re.dim=Ot,re}return Ge.move=function(re,fe){re.selection?re.on("start.brush",function(){ln(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){ln(this,arguments).end()}).tween("brush",function(){var be=this,he=be.__brush,He=ln(be,arguments),En=he.selection,Tn=Ot.input("function"==typeof fe?fe.apply(this,arguments):fe,he.extent),en=(0,b.A)(En,Tn);function $e(Je){he.selection=1===Je&&null===Tn?null:en(Je),Rn.call(be),He.brush()}return null!==En&&null!==Tn?$e:$e(1)}):re.each(function(){var be=this,he=arguments,He=be.__brush,En=Ot.input("function"==typeof fe?fe.apply(be,he):fe,He.extent),Tn=ln(be,he).beforestart();(0,C.G)(be),He.selection=null===En?null:En,Rn.call(be),Tn.start().brush().end()})},Ge.clear=function(re){Ge.move(re,null)},Gn.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(re){(0,p.ex)(new P(Ge,re,Ot.output(this.state.selection)),Cn.apply,Cn,[re,this.that,this.args])}},Ge.extent=function(re){return arguments.length?(le="function"==typeof re?re:A(rt(re)),Ge):le},Ge.filter=function(re){return arguments.length?(Xe="function"==typeof re?re:A(!!re),Ge):Xe},Ge.touchable=function(re){return arguments.length?(Ye="function"==typeof re?re:A(!!re),Ge):Ye},Ge.handleSize=function(re){return arguments.length?(Dn=+re,Ge):Dn},Ge.keyModifiers=function(re){return arguments.length?(cn=!!re,Ge):cn},Ge.on=function(){var re=Cn.on.apply(Cn,arguments);return re===Cn?Ge:re},Ge}(Mt)}},54537:(Pt,ht,a)=>{"use strict";a.d(ht,{Tj:()=>Q});var g="$";function T(){}function p(A,P){var Z=new T;if(A instanceof T)A.each(function(j,Dt){Z.set(Dt,j)});else if(Array.isArray(A)){var Y,X=-1,it=A.length;if(null==P)for(;++X<it;)Z.set(X,A[X]);else for(;++X<it;)Z.set(P(Y=A[X],X,A),Y)}else if(A)for(var dt in A)Z.set(dt,A[dt]);return Z}T.prototype=p.prototype={constructor:T,has:function(A){return g+A in this},get:function(A){return this[g+A]},set:function(A,P){return this[g+A]=P,this},remove:function(A){var P=g+A;return P in this&&delete this[P]},clear:function(){for(var A in this)A[0]===g&&delete this[A]},keys:function(){var A=[];for(var P in this)P[0]===g&&A.push(P.slice(1));return A},values:function(){var A=[];for(var P in this)P[0]===g&&A.push(this[P]);return A},entries:function(){var A=[];for(var P in this)P[0]===g&&A.push({key:P.slice(1),value:this[P]});return A},size:function(){var A=0;for(var P in this)P[0]===g&&++A;return A},empty:function(){for(var A in this)if(A[0]===g)return!1;return!0},each:function(A){for(var P in this)P[0]===g&&A(this[P],P.slice(1),this)}};const Q=p;function O(){}var z=Q.prototype;O.prototype=function N(A,P){var Z=new O;if(A instanceof O)A.each(function(Y){Z.add(Y)});else if(A){var X=-1,it=A.length;if(null==P)for(;++X<it;)Z.add(A[X]);else for(;++X<it;)Z.add(P(A[X],X,A))}return Z}.prototype={constructor:O,has:z.has,add:function(A){return this[g+(A+="")]=A,this},remove:z.remove,clear:z.clear,values:z.keys,size:z.size,empty:z.empty,each:z.each}},64233:(Pt,ht,a)=>{"use strict";function g(q,bt,Wt){q.prototype=bt.prototype=Wt,Wt.constructor=q}function T(q,bt){var Wt=Object.create(q.prototype);for(var Zt in bt)Wt[Zt]=bt[Zt];return Wt}function p(){}a.d(ht,{Ay:()=>dt,Qh:()=>ft});var Q=.7,I=1/Q,F="\\s*([+-]?\\d+)\\s*",nt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S=/^#([0-9a-f]{3,8})$/,O=new RegExp("^rgb\\("+[F,F,F]+"\\)$"),z=new RegExp("^rgb\\("+[b,b,b]+"\\)$"),N=new RegExp("^rgba\\("+[F,F,F,nt]+"\\)$"),C=new RegExp("^rgba\\("+[b,b,b,nt]+"\\)$"),A=new RegExp("^hsl\\("+[nt,b,b]+"\\)$"),P=new RegExp("^hsla\\("+[nt,b,b,nt]+"\\)$"),Z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function X(){return this.rgb().formatHex()}function Y(){return this.rgb().formatRgb()}function dt(q){var bt,Wt;return q=(q+"").trim().toLowerCase(),(bt=S.exec(q))?(Wt=bt[1].length,bt=parseInt(bt[1],16),6===Wt?j(bt):3===Wt?new Mt(bt>>8&15|bt>>4&240,bt>>4&15|240&bt,(15&bt)<<4|15&bt,1):8===Wt?Dt(bt>>24&255,bt>>16&255,bt>>8&255,(255&bt)/255):4===Wt?Dt(bt>>12&15|bt>>8&240,bt>>8&15|bt>>4&240,bt>>4&15|240&bt,((15&bt)<<4|15&bt)/255):null):(bt=O.exec(q))?new Mt(bt[1],bt[2],bt[3],1):(bt=z.exec(q))?new Mt(255*bt[1]/100,255*bt[2]/100,255*bt[3]/100,1):(bt=N.exec(q))?Dt(bt[1],bt[2],bt[3],bt[4]):(bt=C.exec(q))?Dt(255*bt[1]/100,255*bt[2]/100,255*bt[3]/100,bt[4]):(bt=A.exec(q))?Ft(bt[1],bt[2]/100,bt[3]/100,1):(bt=P.exec(q))?Ft(bt[1],bt[2]/100,bt[3]/100,bt[4]):Z.hasOwnProperty(q)?j(Z[q]):"transparent"===q?new Mt(NaN,NaN,NaN,0):null}function j(q){return new Mt(q>>16&255,q>>8&255,255&q,1)}function Dt(q,bt,Wt,Zt){return Zt<=0&&(q=bt=Wt=NaN),new Mt(q,bt,Wt,Zt)}function ft(q,bt,Wt,Zt){return 1===arguments.length?function rt(q){return q instanceof p||(q=dt(q)),q?new Mt((q=q.rgb()).r,q.g,q.b,q.opacity):new Mt}(q):new Mt(q,bt,Wt,Zt??1)}function Mt(q,bt,Wt,Zt){this.r=+q,this.g=+bt,this.b=+Wt,this.opacity=+Zt}function lt(){return"#"+st(this.r)+st(this.g)+st(this.b)}function at(){var q=this.opacity;return(1===(q=isNaN(q)?1:Math.max(0,Math.min(1,q)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===q?")":", "+q+")")}function st(q){return((q=Math.max(0,Math.min(255,Math.round(q)||0)))<16?"0":"")+q.toString(16)}function Ft(q,bt,Wt,Zt){return Zt<=0?q=bt=Wt=NaN:Wt<=0||Wt>=1?q=bt=NaN:bt<=0&&(q=NaN),new ue(q,bt,Wt,Zt)}function Xt(q){if(q instanceof ue)return new ue(q.h,q.s,q.l,q.opacity);if(q instanceof p||(q=dt(q)),!q)return new ue;if(q instanceof ue)return q;var bt=(q=q.rgb()).r/255,Wt=q.g/255,Zt=q.b/255,Oe=Math.min(bt,Wt,Zt),Qe=Math.max(bt,Wt,Zt),$=NaN,At=Qe-Oe,Kt=(Qe+Oe)/2;return At?($=bt===Qe?(Wt-Zt)/At+6*(Wt<Zt):Wt===Qe?(Zt-bt)/At+2:(bt-Wt)/At+4,At/=Kt<.5?Qe+Oe:2-Qe-Oe,$*=60):At=Kt>0&&Kt<1?0:$,new ue($,At,Kt,q.opacity)}function ue(q,bt,Wt,Zt){this.h=+q,this.s=+bt,this.l=+Wt,this.opacity=+Zt}function ve(q,bt,Wt){return 255*(q<60?bt+(Wt-bt)*q/60:q<180?Wt:q<240?bt+(Wt-bt)*(240-q)/60:bt)}g(p,dt,{copy:function(q){return Object.assign(new this.constructor,this,q)},displayable:function(){return this.rgb().displayable()},hex:X,formatHex:X,formatHsl:function it(){return Xt(this).formatHsl()},formatRgb:Y,toString:Y}),g(Mt,ft,T(p,{brighter:function(q){return q=null==q?I:Math.pow(I,q),new Mt(this.r*q,this.g*q,this.b*q,this.opacity)},darker:function(q){return q=null==q?Q:Math.pow(Q,q),new Mt(this.r*q,this.g*q,this.b*q,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lt,formatHex:lt,formatRgb:at,toString:at})),g(ue,function se(q,bt,Wt,Zt){return 1===arguments.length?Xt(q):new ue(q,bt,Wt,Zt??1)},T(p,{brighter:function(q){return q=null==q?I:Math.pow(I,q),new ue(this.h,this.s,this.l*q,this.opacity)},darker:function(q){return q=null==q?Q:Math.pow(Q,q),new ue(this.h,this.s,this.l*q,this.opacity)},rgb:function(){var q=this.h%360+360*(this.h<0),bt=isNaN(q)||isNaN(this.s)?0:this.s,Wt=this.l,Zt=Wt+(Wt<.5?Wt:1-Wt)*bt,Oe=2*Wt-Zt;return new Mt(ve(q>=240?q-240:q+120,Oe,Zt),ve(q,Oe,Zt),ve(q<120?q+240:q-120,Oe,Zt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var q=this.opacity;return(1===(q=isNaN(q)?1:Math.max(0,Math.min(1,q)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===q?")":", "+q+")")}}))},4171:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>nt});var g={value:function(){}};function T(){for(var z,b=0,S=arguments.length,O={};b<S;++b){if(!(z=arguments[b]+"")||z in O||/[\s.]/.test(z))throw new Error("illegal type: "+z);O[z]=[]}return new p(O)}function p(b){this._=b}function I(b,S){for(var N,O=0,z=b.length;O<z;++O)if((N=b[O]).name===S)return N.value}function F(b,S,O){for(var z=0,N=b.length;z<N;++z)if(b[z].name===S){b[z]=g,b=b.slice(0,z).concat(b.slice(z+1));break}return null!=O&&b.push({name:S,value:O}),b}p.prototype=T.prototype={constructor:p,on:function(b,S){var N,O=this._,z=function Q(b,S){return b.trim().split(/^|\s+/).map(function(O){var z="",N=O.indexOf(".");if(N>=0&&(z=O.slice(N+1),O=O.slice(0,N)),O&&!S.hasOwnProperty(O))throw new Error("unknown type: "+O);return{type:O,name:z}})}(b+"",O),C=-1,A=z.length;if(!(arguments.length<2)){if(null!=S&&"function"!=typeof S)throw new Error("invalid callback: "+S);for(;++C<A;)if(N=(b=z[C]).type)O[N]=F(O[N],b.name,S);else if(null==S)for(N in O)O[N]=F(O[N],b.name,null);return this}for(;++C<A;)if((N=(b=z[C]).type)&&(N=I(O[N],b.name)))return N},copy:function(){var b={},S=this._;for(var O in S)b[O]=S[O].slice();return new p(b)},call:function(b,S){if((N=arguments.length-2)>0)for(var N,C,O=new Array(N),z=0;z<N;++z)O[z]=arguments[z+2];if(!this._.hasOwnProperty(b))throw new Error("unknown type: "+b);for(z=0,N=(C=this._[b]).length;z<N;++z)C[z].value.apply(S,O)},apply:function(b,S,O){if(!this._.hasOwnProperty(b))throw new Error("unknown type: "+b);for(var z=this._[b],N=0,C=z.length;N<C;++N)z[N].value.apply(S,O)}};const nt=T},79770:(Pt,ht,a)=>{"use strict";function g(T){return function(){return T}}a.d(ht,{A:()=>g})},71411:(Pt,ht,a)=>{"use strict";function g(T,p){return T=+T,p=+p,function(Q){return T*(1-Q)+p*Q}}a.d(ht,{A:()=>g})},90433:(Pt,ht,a)=>{"use strict";a.d(ht,{Ay:()=>z});var g=a(64233);function T(P,Z,X,it,Y){var dt=P*P,j=dt*P;return((1-3*P+3*dt-j)*Z+(4-6*dt+3*j)*X+(1+3*P+3*dt-3*j)*it+j*Y)/6}var I=a(79770);function O(P,Z){var X=Z-P;return X?function F(P,Z){return function(X){return P+X*Z}}(P,X):(0,I.A)(isNaN(P)?Z:P)}const z=function P(Z){var X=function S(P){return 1==(P=+P)?O:function(Z,X){return X-Z?function nt(P,Z,X){return P=Math.pow(P,X),Z=Math.pow(Z,X)-P,X=1/X,function(it){return Math.pow(P+it*Z,X)}}(Z,X,P):(0,I.A)(isNaN(Z)?X:Z)}}(Z);function it(Y,dt){var j=X((Y=(0,g.Qh)(Y)).r,(dt=(0,g.Qh)(dt)).r),Dt=X(Y.g,dt.g),rt=X(Y.b,dt.b),ft=O(Y.opacity,dt.opacity);return function(Mt){return Y.r=j(Mt),Y.g=Dt(Mt),Y.b=rt(Mt),Y.opacity=ft(Mt),Y+""}}return it.gamma=P,it}(1);function N(P){return function(Z){var j,Dt,X=Z.length,it=new Array(X),Y=new Array(X),dt=new Array(X);for(j=0;j<X;++j)Dt=(0,g.Qh)(Z[j]),it[j]=Dt.r||0,Y[j]=Dt.g||0,dt[j]=Dt.b||0;return it=P(it),Y=P(Y),dt=P(dt),Dt.opacity=1,function(rt){return Dt.r=it(rt),Dt.g=Y(rt),Dt.b=dt(rt),Dt+""}}}N(function p(P){var Z=P.length-1;return function(X){var it=X<=0?X=0:X>=1?(X=1,Z-1):Math.floor(X*Z),Y=P[it],dt=P[it+1];return T((X-it/Z)*Z,it>0?P[it-1]:2*Y-dt,Y,dt,it<Z-1?P[it+2]:2*dt-Y)}}),N(function Q(P){var Z=P.length;return function(X){var it=Math.floor(((X%=1)<0?++X:X)*Z);return T((X-it/Z)*Z,P[(it+Z-1)%Z],P[it%Z],P[(it+1)%Z],P[(it+2)%Z])}})},73067:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>F});var g=a(71411),T=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p=new RegExp(T.source,"g");function F(nt,b){var O,z,N,S=T.lastIndex=p.lastIndex=0,C=-1,A=[],P=[];for(nt+="",b+="";(O=T.exec(nt))&&(z=p.exec(b));)(N=z.index)>S&&(N=b.slice(S,N),A[C]?A[C]+=N:A[++C]=N),(O=O[0])===(z=z[0])?A[C]?A[C]+=z:A[++C]=z:(A[++C]=null,P.push({i:C,x:(0,g.A)(O,z)})),S=p.lastIndex;return S<b.length&&(N=b.slice(S),A[C]?A[C]+=N:A[++C]=N),A.length<2?P[0]?function I(nt){return function(b){return nt(b)+""}}(P[0].x):function Q(nt){return function(){return nt}}(b):(b=P.length,function(Z){for(var it,X=0;X<b;++X)A[(it=P[X]).i]=it.x(Z);return A.join("")})}},70963:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>N});var g=a(64233),T=a(90433);function Q(C,A){var Y,P=A?A.length:0,Z=C?Math.min(P,C.length):0,X=new Array(Z),it=new Array(P);for(Y=0;Y<Z;++Y)X[Y]=N(C[Y],A[Y]);for(;Y<P;++Y)it[Y]=A[Y];return function(dt){for(Y=0;Y<Z;++Y)it[Y]=X[Y](dt);return it}}function I(C,A){var P=new Date;return C=+C,A=+A,function(Z){return P.setTime(C*(1-Z)+A*Z),P}}var F=a(71411);function nt(C,A){var X,P={},Z={};for(X in(null===C||"object"!=typeof C)&&(C={}),(null===A||"object"!=typeof A)&&(A={}),A)X in C?P[X]=N(C[X],A[X]):Z[X]=A[X];return function(it){for(X in P)Z[X]=P[X](it);return Z}}var b=a(73067),S=a(79770);function O(C,A){A||(A=[]);var X,P=C?Math.min(A.length,C.length):0,Z=A.slice();return function(it){for(X=0;X<P;++X)Z[X]=C[X]*(1-it)+A[X]*it;return Z}}function N(C,A){var Z,P=typeof A;return null==A||"boolean"===P?(0,S.A)(A):("number"===P?F.A:"string"===P?(Z=(0,g.Ay)(A))?(A=Z,T.Ay):b.A:A instanceof g.Ay?T.Ay:A instanceof Date?I:function z(C){return ArrayBuffer.isView(C)&&!(C instanceof DataView)}(A)?O:Array.isArray(A)?Q:"function"!=typeof A.valueOf&&"function"!=typeof A.toString||isNaN(A)?nt:F.A)(C,A)}},5285:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>nt});var g=Math.PI,T=2*g,p=1e-6,Q=T-p;function I(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function F(){return new I}I.prototype=F.prototype={constructor:I,moveTo:function(b,S){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+S)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(b,S){this._+="L"+(this._x1=+b)+","+(this._y1=+S)},quadraticCurveTo:function(b,S,O,z){this._+="Q"+ +b+","+ +S+","+(this._x1=+O)+","+(this._y1=+z)},bezierCurveTo:function(b,S,O,z,N,C){this._+="C"+ +b+","+ +S+","+ +O+","+ +z+","+(this._x1=+N)+","+(this._y1=+C)},arcTo:function(b,S,O,z,N){var C=this._x1,A=this._y1,P=(O=+O)-(b=+b),Z=(z=+z)-(S=+S),X=C-b,it=A-S,Y=X*X+it*it;if((N=+N)<0)throw new Error("negative radius: "+N);if(null===this._x1)this._+="M"+(this._x1=b)+","+(this._y1=S);else if(Y>p)if(Math.abs(it*P-Z*X)>p&&N){var dt=O-C,j=z-A,Dt=P*P+Z*Z,rt=dt*dt+j*j,ft=Math.sqrt(Dt),Mt=Math.sqrt(Y),lt=N*Math.tan((g-Math.acos((Dt+Y-rt)/(2*ft*Mt)))/2),at=lt/Mt,st=lt/ft;Math.abs(at-1)>p&&(this._+="L"+(b+at*X)+","+(S+at*it)),this._+="A"+N+","+N+",0,0,"+ +(it*dt>X*j)+","+(this._x1=b+st*P)+","+(this._y1=S+st*Z)}else this._+="L"+(this._x1=b)+","+(this._y1=S)},arc:function(b,S,O,z,N,C){b=+b,S=+S,C=!!C;var A=(O=+O)*Math.cos(z),P=O*Math.sin(z),Z=b+A,X=S+P,it=1^C,Y=C?z-N:N-z;if(O<0)throw new Error("negative radius: "+O);null===this._x1?this._+="M"+Z+","+X:(Math.abs(this._x1-Z)>p||Math.abs(this._y1-X)>p)&&(this._+="L"+Z+","+X),O&&(Y<0&&(Y=Y%T+T),Y>Q?this._+="A"+O+","+O+",0,1,"+it+","+(b-A)+","+(S-P)+"A"+O+","+O+",0,1,"+it+","+(this._x1=Z)+","+(this._y1=X):Y>p&&(this._+="A"+O+","+O+",0,"+ +(Y>=g)+","+it+","+(this._x1=b+O*Math.cos(N))+","+(this._y1=S+O*Math.sin(N))))},rect:function(b,S,O,z){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+S)+"h"+ +O+"v"+ +z+"h"+-O+"Z"},toString:function(){return this._}};const nt=F},16354:(Pt,ht,a)=>{"use strict";a.d(ht,{WH:()=>O,m4:()=>Rn,hq:()=>N,w7:()=>wr});var g=a(46043);function T(i,u){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(u).domain(i)}return this}var Q=a(54537),I=Array.prototype,F=I.map,nt=I.slice,b={name:"implicit"};function S(){var i=(0,Q.Tj)(),u=[],D=[],M=b;function xt(Ct){var _t=Ct+"",Bt=i.get(_t);if(!Bt){if(M!==b)return M;i.set(_t,Bt=u.push(Ct))}return D[(Bt-1)%D.length]}return xt.domain=function(Ct){if(!arguments.length)return u.slice();u=[],i=(0,Q.Tj)();for(var Lt,ie,_t=-1,Bt=Ct.length;++_t<Bt;)i.has(ie=(Lt=Ct[_t])+"")||i.set(ie,u.push(Lt));return xt},xt.range=function(Ct){return arguments.length?(D=nt.call(Ct),xt):D.slice()},xt.unknown=function(Ct){return arguments.length?(M=Ct,xt):M},xt.copy=function(){return S(u,D).unknown(M)},T.apply(xt,arguments),xt}function O(){var xt,Ct,i=S().unknown(void 0),u=i.domain,D=i.range,M=[0,1],_t=!1,Bt=0,Lt=0,ie=.5;function oe(){var jt=u().length,ae=M[1]<M[0],ge=M[ae-0],Mn=M[1-ae];xt=(Mn-ge)/Math.max(1,jt-Bt+2*Lt),_t&&(xt=Math.floor(xt)),ge+=(Mn-ge-xt*(jt-Bt))*ie,Ct=xt*(1-Bt),_t&&(ge=Math.round(ge),Ct=Math.round(Ct));var yn=(0,g.y1)(jt).map(function(_n){return ge+xt*_n});return D(ae?yn.reverse():yn)}return delete i.unknown,i.domain=function(jt){return arguments.length?(u(jt),oe()):u()},i.range=function(jt){return arguments.length?(M=[+jt[0],+jt[1]],oe()):M.slice()},i.rangeRound=function(jt){return M=[+jt[0],+jt[1]],_t=!0,oe()},i.bandwidth=function(){return Ct},i.step=function(){return xt},i.round=function(jt){return arguments.length?(_t=!!jt,oe()):_t},i.padding=function(jt){return arguments.length?(Bt=Math.min(1,Lt=+jt),oe()):Bt},i.paddingInner=function(jt){return arguments.length?(Bt=Math.min(1,jt),oe()):Bt},i.paddingOuter=function(jt){return arguments.length?(Lt=+jt,oe()):Lt},i.align=function(jt){return arguments.length?(ie=Math.max(0,Math.min(1,jt)),oe()):ie},i.copy=function(){return O(u(),M).round(_t).paddingInner(Bt).paddingOuter(Lt).align(ie)},T.apply(oe(),arguments)}function z(i){var u=i.copy;return i.padding=i.paddingOuter,delete i.paddingInner,delete i.paddingOuter,i.copy=function(){return z(u())},i}function N(){return z(O.apply(null,arguments).paddingInner(1))}var C=a(70963),A=a(71411);function P(i,u){return i=+i,u=+u,function(D){return Math.round(i*(1-D)+u*D)}}function X(i){return+i}var it=[0,1];function Y(i){return i}function dt(i,u){return(u-=i=+i)?function(D){return(D-i)/u}:function Z(i){return function(){return i}}(isNaN(u)?NaN:.5)}function j(i){var M,u=i[0],D=i[i.length-1];return u>D&&(M=u,u=D,D=M),function(xt){return Math.max(u,Math.min(D,xt))}}function Dt(i,u,D){var M=i[0],xt=i[1],Ct=u[0],_t=u[1];return xt<M?(M=dt(xt,M),Ct=D(_t,Ct)):(M=dt(M,xt),Ct=D(Ct,_t)),function(Bt){return Ct(M(Bt))}}function rt(i,u,D){var M=Math.min(i.length,u.length)-1,xt=new Array(M),Ct=new Array(M),_t=-1;for(i[M]<i[0]&&(i=i.slice().reverse(),u=u.slice().reverse());++_t<M;)xt[_t]=dt(i[_t],i[_t+1]),Ct[_t]=D(u[_t],u[_t+1]);return function(Bt){var Lt=(0,g.h1)(i,Bt,1,M)-1;return Ct[Lt](xt[Lt](Bt))}}function ft(i,u){return u.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function lt(i,u){return function Mt(){var M,xt,Ct,Bt,Lt,ie,i=it,u=it,D=C.A,_t=Y;function oe(){return Bt=Math.min(i.length,u.length)>2?rt:Dt,Lt=ie=null,jt}function jt(ae){return isNaN(ae=+ae)?Ct:(Lt||(Lt=Bt(i.map(M),u,D)))(M(_t(ae)))}return jt.invert=function(ae){return _t(xt((ie||(ie=Bt(u,i.map(M),A.A)))(ae)))},jt.domain=function(ae){return arguments.length?(i=F.call(ae,X),_t===Y||(_t=j(i)),oe()):i.slice()},jt.range=function(ae){return arguments.length?(u=nt.call(ae),oe()):u.slice()},jt.rangeRound=function(ae){return u=nt.call(ae),D=P,oe()},jt.clamp=function(ae){return arguments.length?(_t=ae?j(i):Y,jt):_t!==Y},jt.interpolate=function(ae){return arguments.length?(D=ae,oe()):D},jt.unknown=function(ae){return arguments.length?(Ct=ae,jt):Ct},function(ae,ge){return M=ae,xt=ge,oe()}}()(i,u)}var Zt,at=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function st(i){if(!(u=at.exec(i)))throw new Error("invalid format: "+i);var u;return new Ft({fill:u[1],align:u[2],sign:u[3],symbol:u[4],zero:u[5],width:u[6],comma:u[7],precision:u[8]&&u[8].slice(1),trim:u[9],type:u[10]})}function Ft(i){this.fill=void 0===i.fill?" ":i.fill+"",this.align=void 0===i.align?">":i.align+"",this.sign=void 0===i.sign?"-":i.sign+"",this.symbol=void 0===i.symbol?"":i.symbol+"",this.zero=!!i.zero,this.width=void 0===i.width?void 0:+i.width,this.comma=!!i.comma,this.precision=void 0===i.precision?void 0:+i.precision,this.trim=!!i.trim,this.type=void 0===i.type?"":i.type+""}function se(i,u){if((D=(i=u?i.toExponential(u-1):i.toExponential()).indexOf("e"))<0)return null;var D,M=i.slice(0,D);return[M.length>1?M[0]+M.slice(2):M,+i.slice(D+1)]}function ue(i){return(i=se(Math.abs(i)))?i[1]:NaN}function Qe(i,u){var D=se(i,u);if(!D)return i+"";var M=D[0],xt=D[1];return xt<0?"0."+new Array(-xt).join("0")+M:M.length>xt+1?M.slice(0,xt+1)+"."+M.slice(xt+1):M+new Array(xt-M.length+2).join("0")}st.prototype=Ft.prototype,Ft.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const $={"%":function(i,u){return(100*i).toFixed(u)},b:function(i){return Math.round(i).toString(2)},c:function(i){return i+""},d:function Xt(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)},e:function(i,u){return i.toExponential(u)},f:function(i,u){return i.toFixed(u)},g:function(i,u){return i.toPrecision(u)},o:function(i){return Math.round(i).toString(8)},p:function(i,u){return Qe(100*i,u)},r:Qe,s:function Oe(i,u){var D=se(i,u);if(!D)return i+"";var M=D[0],xt=D[1],Ct=xt-(Zt=3*Math.max(-8,Math.min(8,Math.floor(xt/3))))+1,_t=M.length;return Ct===_t?M:Ct>_t?M+new Array(Ct-_t+1).join("0"):Ct>0?M.slice(0,Ct)+"."+M.slice(Ct):"0."+new Array(1-Ct).join("0")+se(i,Math.max(0,u+Ct-1))[0]},X:function(i){return Math.round(i).toString(16).toUpperCase()},x:function(i){return Math.round(i).toString(16)}};function At(i){return i}var le,Xe,Ye,Kt=Array.prototype.map,ye=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Rn(){var i=lt(Y,Y);return i.copy=function(){return ft(i,Rn())},T.apply(i,arguments),function Ge(i){var u=i.domain;return i.ticks=function(D){var M=u();return(0,g.Zc)(M[0],M[M.length-1],D??10)},i.tickFormat=function(D,M){var xt=u();return function Fn(i,u,D,M){var Ct,xt=(0,g.sG)(i,u,D);switch((M=st(M??",f")).type){case"s":var _t=Math.max(Math.abs(i),Math.abs(u));return null==M.precision&&!isNaN(Ct=function ve(i,u){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ue(u)/3)))-ue(Math.abs(i)))}(xt,_t))&&(M.precision=Ct),Ye(M,_t);case"":case"e":case"g":case"p":case"r":null==M.precision&&!isNaN(Ct=function Cn(i,u){return i=Math.abs(i),u=Math.abs(u)-i,Math.max(0,ue(u)-ue(i))+1}(xt,Math.max(Math.abs(i),Math.abs(u))))&&(M.precision=Ct-("e"===M.type));break;case"f":case"%":null==M.precision&&!isNaN(Ct=function Dn(i){return Math.max(0,-ue(Math.abs(i)))}(xt))&&(M.precision=Ct-2*("%"===M.type))}return Xe(M)}(xt[0],xt[xt.length-1],D??10,M)},i.nice=function(D){null==D&&(D=10);var Lt,M=u(),xt=0,Ct=M.length-1,_t=M[xt],Bt=M[Ct];return Bt<_t&&(Lt=_t,_t=Bt,Bt=Lt,Lt=xt,xt=Ct,Ct=Lt),(Lt=(0,g.lq)(_t,Bt,D))>0?(_t=Math.floor(_t/Lt)*Lt,Bt=Math.ceil(Bt/Lt)*Lt,Lt=(0,g.lq)(_t,Bt,D)):Lt<0&&(_t=Math.ceil(_t*Lt)/Lt,Bt=Math.floor(Bt*Lt)/Lt,Lt=(0,g.lq)(_t,Bt,D)),Lt>0?(M[xt]=Math.floor(_t/Lt)*Lt,M[Ct]=Math.ceil(Bt/Lt)*Lt,u(M)):Lt<0&&(M[xt]=Math.ceil(_t*Lt)/Lt,M[Ct]=Math.floor(Bt*Lt)/Lt,u(M)),i},i}(i)}!function cn(i){le=function Ot(i){var u=void 0===i.grouping||void 0===i.thousands?At:function q(i,u){return function(D,M){for(var xt=D.length,Ct=[],_t=0,Bt=i[0],Lt=0;xt>0&&Bt>0&&(Lt+Bt+1>M&&(Bt=Math.max(1,M-Lt)),Ct.push(D.substring(xt-=Bt,xt+Bt)),!((Lt+=Bt+1)>M));)Bt=i[_t=(_t+1)%i.length];return Ct.reverse().join(u)}}(Kt.call(i.grouping,Number),i.thousands+""),D=void 0===i.currency?"":i.currency[0]+"",M=void 0===i.currency?"":i.currency[1]+"",xt=void 0===i.decimal?".":i.decimal+"",Ct=void 0===i.numerals?At:function bt(i){return function(u){return u.replace(/[0-9]/g,function(D){return i[+D]})}}(Kt.call(i.numerals,String)),_t=void 0===i.percent?"%":i.percent+"",Bt=void 0===i.minus?"-":i.minus+"",Lt=void 0===i.nan?"NaN":i.nan+"";function ie(jt){var ae=(jt=st(jt)).fill,ge=jt.align,Mn=jt.sign,yn=jt.symbol,_n=jt.zero,di=jt.width,ci=jt.comma,kn=jt.precision,Hn=jt.trim,Qn=jt.type;"n"===Qn?(ci=!0,Qn="g"):$[Qn]||(void 0===kn&&(kn=12),Hn=!0,Qn="g"),(_n||"0"===ae&&"="===ge)&&(_n=!0,ae="0",ge="=");var ei="$"===yn?D:"#"===yn&&/[boxX]/.test(Qn)?"0"+Qn.toLowerCase():"",Le="$"===yn?M:/[%p]/.test(Qn)?_t:"",On=$[Qn],Zn=/[defgprs%]/.test(Qn);function Un(Me){var Li,sr,zi,Sn=ei,An=Le;if("c"===Qn)An=On(Me)+An,Me="";else{var ji=(Me=+Me)<0||1/Me<0;if(Me=isNaN(Me)?Lt:On(Math.abs(Me),kn),Hn&&(Me=function Wt(i){t:for(var xt,u=i.length,D=1,M=-1;D<u;++D)switch(i[D]){case".":M=xt=D;break;case"0":0===M&&(M=D),xt=D;break;default:if(!+i[D])break t;M>0&&(M=0)}return M>0?i.slice(0,M)+i.slice(xt+1):i}(Me)),ji&&0==+Me&&"+"!==Mn&&(ji=!1),Sn=(ji?"("===Mn?Mn:Bt:"-"===Mn||"("===Mn?"":Mn)+Sn,An=("s"===Qn?ye[8+Zt/3]:"")+An+(ji&&"("===Mn?")":""),Zn)for(Li=-1,sr=Me.length;++Li<sr;)if(48>(zi=Me.charCodeAt(Li))||zi>57){An=(46===zi?xt+Me.slice(Li+1):Me.slice(Li))+An,Me=Me.slice(0,Li);break}}ci&&!_n&&(Me=u(Me,1/0));var Ki=Sn.length+Me.length+An.length,bi=Ki<di?new Array(di-Ki+1).join(ae):"";switch(ci&&_n&&(Me=u(bi+Me,bi.length?di-An.length:1/0),bi=""),ge){case"<":Me=Sn+Me+An+bi;break;case"=":Me=Sn+bi+Me+An;break;case"^":Me=bi.slice(0,Ki=bi.length>>1)+Sn+Me+An+bi.slice(Ki);break;default:Me=bi+Sn+Me+An}return Ct(Me)}return kn=void 0===kn?6:/[gprs]/.test(Qn)?Math.max(1,Math.min(21,kn)):Math.max(0,Math.min(20,kn)),Un.toString=function(){return jt+""},Un}return{format:ie,formatPrefix:function oe(jt,ae){var ge=ie(((jt=st(jt)).type="f",jt)),Mn=3*Math.max(-8,Math.min(8,Math.floor(ue(ae)/3))),yn=Math.pow(10,-Mn),_n=ye[8+Mn/3];return function(di){return ge(yn*di)+_n}}}}(i),Xe=le.format,Ye=le.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var qe=a(97833),mn=a(53052),Fe=a(9061),xe=a(17772);function hn(i){return(0,Fe.A)(function(u){u.setDate(u.getDate()-(u.getDay()+7-i)%7),u.setHours(0,0,0,0)},function(u,D){u.setDate(u.getDate()+7*D)},function(u,D){return(D-u-(D.getTimezoneOffset()-u.getTimezoneOffset())*xe.rR)/xe.Fq})}var an=hn(0),H=hn(1),ut=(hn(2),hn(3),hn(4)),Pe=(hn(5),hn(6),a(6476));const Vn=(0,Fe.A)(function(i){i.setTime(i-i.getMilliseconds()-i.getSeconds()*xe.Tt-i.getMinutes()*xe.rR)},function(i,u){i.setTime(+i+u*xe.JJ)},function(i,u){return(u-i)/xe.JJ},function(i){return i.getHours()});var Hi=a(42472);const ni=(0,Fe.A)(function(i){i.setTime(i-i.getMilliseconds())},function(i,u){i.setTime(+i+u*xe.Tt)},function(i,u){return(u-i)/xe.Tt},function(i){return i.getUTCSeconds()});var hi=(0,Fe.A)(function(){},function(i,u){i.setTime(+i+u)},function(i,u){return u-i});hi.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?(0,Fe.A)(function(u){u.setTime(Math.floor(u/i)*i)},function(u,D){u.setTime(+u+D*i)},function(u,D){return(D-u)/i}):hi:null};const Di=hi;function w(i){return(0,Fe.A)(function(u){u.setUTCDate(u.getUTCDate()-(u.getUTCDay()+7-i)%7),u.setUTCHours(0,0,0,0)},function(u,D){u.setUTCDate(u.getUTCDate()+7*D)},function(u,D){return(D-u)/xe.Fq})}var U=w(0),K=w(1),kt=(w(2),w(3),w(4));const mi=(w(5),w(6),(0,Fe.A)(function(i){i.setUTCHours(0,0,0,0)},function(i,u){i.setUTCDate(i.getUTCDate()+u)},function(i,u){return(u-i)/xe.Nm},function(i){return i.getUTCDate()-1}));var Xi=(0,Fe.A)(function(i){i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,u){i.setUTCFullYear(i.getUTCFullYear()+u)},function(i,u){return u.getUTCFullYear()-i.getUTCFullYear()},function(i){return i.getUTCFullYear()});Xi.every=function(i){return isFinite(i=Math.floor(i))&&i>0?(0,Fe.A)(function(u){u.setUTCFullYear(Math.floor(u.getUTCFullYear()/i)*i),u.setUTCMonth(0,1),u.setUTCHours(0,0,0,0)},function(u,D){u.setUTCFullYear(u.getUTCFullYear()+D*i)}):null};const vi=Xi;function Ni(i){if(0<=i.y&&i.y<100){var u=new Date(-1,i.m,i.d,i.H,i.M,i.S,i.L);return u.setFullYear(i.y),u}return new Date(i.y,i.m,i.d,i.H,i.M,i.S,i.L)}function ti(i){if(0<=i.y&&i.y<100){var u=new Date(Date.UTC(-1,i.m,i.d,i.H,i.M,i.S,i.L));return u.setUTCFullYear(i.y),u}return new Date(Date.UTC(i.y,i.m,i.d,i.H,i.M,i.S,i.L))}function fi(i,u,D){return{y:i,m:u,d:D,H:0,M:0,S:0,L:0}}var Kn,Ei,ri={"-":"",_:" ",0:"0"},tn=/^\s*\d+/,Qi=/^%/,lr=/[\\^$*+?|[\]().{}]/g;function Ve(i,u,D){var M=i<0?"-":"",xt=(M?-i:i)+"",Ct=xt.length;return M+(Ct<D?new Array(D-Ct+1).join(u)+xt:xt)}function wn(i){return i.replace(lr,"\\$&")}function yi(i){return new RegExp("^(?:"+i.map(wn).join("|")+")","i")}function Wn(i){for(var u={},D=-1,M=i.length;++D<M;)u[i[D].toLowerCase()]=D;return u}function Pn(i,u,D){var M=tn.exec(u.slice(D,D+1));return M?(i.w=+M[0],D+M[0].length):-1}function ur(i,u,D){var M=tn.exec(u.slice(D,D+1));return M?(i.u=+M[0],D+M[0].length):-1}function vn(i,u,D){var M=tn.exec(u.slice(D,D+2));return M?(i.U=+M[0],D+M[0].length):-1}function hr(i,u,D){var M=tn.exec(u.slice(D,D+2));return M?(i.V=+M[0],D+M[0].length):-1}function Pi(i,u,D){var M=tn.exec(u.slice(D,D+2));return M?(i.W=+M[0],D+M[0].length):-1}function Yn(i,u,D){var M=tn.exec(u.slice(D,D+4));return M?(i.y=+M[0],D+M[0].length):-1}function xi(i,u,D){var M=tn.exec(u.slice(D,D+2));return M?(i.y=+M[0]+(+M[0]>68?1900:2e3),D+M[0].length):-1}function Ln(i,u,D){var M=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(u.slice(D,D+6));return M?(i.Z=M[1]?0:-(M[2]+(M[3]||"00")),D+M[0].length):-1}function dr(i,u,D){var M=tn.exec(u.slice(D,D+1));return M?(i.q=3*M[0]-3,D+M[0].length):-1}function fr(i,u,D){var M=tn.exec(u.slice(D,D+2));return M?(i.m=M[0]-1,D+M[0].length):-1}function Gi(i,u,D){var M=tn.exec(u.slice(D,D+2));return M?(i.d=+M[0],D+M[0].length):-1}function gr(i,u,D){var M=tn.exec(u.slice(D,D+3));return M?(i.m=0,i.d=+M[0],D+M[0].length):-1}function Ci(i,u,D){var M=tn.exec(u.slice(D,D+2));return M?(i.H=+M[0],D+M[0].length):-1}function wi(i,u,D){var M=tn.exec(u.slice(D,D+2));return M?(i.M=+M[0],D+M[0].length):-1}function pr(i,u,D){var M=tn.exec(u.slice(D,D+2));return M?(i.S=+M[0],D+M[0].length):-1}function $i(i,u,D){var M=tn.exec(u.slice(D,D+3));return M?(i.L=+M[0],D+M[0].length):-1}function Zi(i,u,D){var M=tn.exec(u.slice(D,D+6));return M?(i.L=Math.floor(M[0]/1e3),D+M[0].length):-1}function Ji(i,u,D){var M=Qi.exec(u.slice(D,D+1));return M?D+M[0].length:-1}function mr(i,u,D){var M=tn.exec(u.slice(D));return M?(i.Q=+M[0],D+M[0].length):-1}function vr(i,u,D){var M=tn.exec(u.slice(D));return M?(i.s=+M[0],D+M[0].length):-1}function Ai(i,u){return Ve(i.getDate(),u,2)}function qi(i,u){return Ve(i.getHours(),u,2)}function o(i,u){return Ve(i.getHours()%12||12,u,2)}function h(i,u){return Ve(1+Pe.A.count((0,qe.A)(i),i),u,3)}function d(i,u){return Ve(i.getMilliseconds(),u,3)}function E(i,u){return d(i,u)+"000"}function v(i,u){return Ve(i.getMonth()+1,u,2)}function _(i,u){return Ve(i.getMinutes(),u,2)}function B(i,u){return Ve(i.getSeconds(),u,2)}function G(i){var u=i.getDay();return 0===u?7:u}function V(i,u){return Ve(an.count((0,qe.A)(i)-1,i),u,2)}function W(i){var u=i.getDay();return u>=4||0===u?ut(i):ut.ceil(i)}function pt(i,u){return i=W(i),Ve(ut.count((0,qe.A)(i),i)+(4===(0,qe.A)(i).getDay()),u,2)}function ct(i){return i.getDay()}function J(i,u){return Ve(H.count((0,qe.A)(i)-1,i),u,2)}function Et(i,u){return Ve(i.getFullYear()%100,u,2)}function ot(i,u){return Ve((i=W(i)).getFullYear()%100,u,2)}function k(i,u){return Ve(i.getFullYear()%1e4,u,4)}function vt(i,u){var D=i.getDay();return Ve((i=D>=4||0===D?ut(i):ut.ceil(i)).getFullYear()%1e4,u,4)}function tt(i){var u=i.getTimezoneOffset();return(u>0?"-":(u*=-1,"+"))+Ve(u/60|0,"0",2)+Ve(u%60,"0",2)}function It(i,u){return Ve(i.getUTCDate(),u,2)}function Tt(i,u){return Ve(i.getUTCHours(),u,2)}function ne(i,u){return Ve(i.getUTCHours()%12||12,u,2)}function Re(i,u){return Ve(1+mi.count(vi(i),i),u,3)}function Be(i,u){return Ve(i.getUTCMilliseconds(),u,3)}function ke(i,u){return Be(i,u)+"000"}function Ue(i,u){return Ve(i.getUTCMonth()+1,u,2)}function Se(i,u){return Ve(i.getUTCMinutes(),u,2)}function de(i,u){return Ve(i.getUTCSeconds(),u,2)}function De(i){var u=i.getUTCDay();return 0===u?7:u}function et(i,u){return Ve(U.count(vi(i)-1,i),u,2)}function Qt(i){var u=i.getUTCDay();return u>=4||0===u?kt(i):kt.ceil(i)}function me(i,u){return i=Qt(i),Ve(kt.count(vi(i),i)+(4===vi(i).getUTCDay()),u,2)}function Ae(i){return i.getUTCDay()}function Ne(i,u){return Ve(K.count(vi(i)-1,i),u,2)}function sn(i,u){return Ve(i.getUTCFullYear()%100,u,2)}function on(i,u){return Ve((i=Qt(i)).getUTCFullYear()%100,u,2)}function jn(i,u){return Ve(i.getUTCFullYear()%1e4,u,4)}function oi(i,u){var D=i.getUTCDay();return Ve((i=D>=4||0===D?kt(i):kt.ceil(i)).getUTCFullYear()%1e4,u,4)}function Mi(){return"+0000"}function gi(){return"%"}function zn(i){return+i}function Bn(i){return Math.floor(+i/1e3)}!function Rr(i){Kn=function Ti(i){var u=i.dateTime,D=i.date,M=i.time,xt=i.periods,Ct=i.days,_t=i.shortDays,Bt=i.months,Lt=i.shortMonths,ie=yi(xt),oe=Wn(xt),jt=yi(Ct),ae=Wn(Ct),ge=yi(_t),Mn=Wn(_t),yn=yi(Bt),_n=Wn(Bt),di=yi(Lt),ci=Wn(Lt),kn={a:function ji(Jt){return _t[Jt.getDay()]},A:function Ki(Jt){return Ct[Jt.getDay()]},b:function bi(Jt){return Lt[Jt.getMonth()]},B:function kr(Jt){return Bt[Jt.getMonth()]},c:null,d:Ai,e:Ai,f:E,g:ot,G:vt,H:qi,I:o,j:h,L:d,m:v,M:_,p:function Yr(Jt){return xt[+(Jt.getHours()>=12)]},q:function jr(Jt){return 1+~~(Jt.getMonth()/3)},Q:zn,s:Bn,S:B,u:G,U:V,V:pt,w:ct,W:J,x:null,X:null,y:Et,Y:k,Z:tt,"%":gi},Hn={a:function Kr(Jt){return _t[Jt.getUTCDay()]},A:function Ur(Jt){return Ct[Jt.getUTCDay()]},b:function Fr(Jt){return Lt[Jt.getUTCMonth()]},B:function Xr(Jt){return Bt[Jt.getUTCMonth()]},c:null,d:It,e:It,f:ke,g:on,G:oi,H:Tt,I:ne,j:Re,L:Be,m:Ue,M:Se,p:function Wr(Jt){return xt[+(Jt.getUTCHours()>=12)]},q:function zr(Jt){return 1+~~(Jt.getUTCMonth()/3)},Q:zn,s:Bn,S:de,u:De,U:et,V:me,w:Ae,W:Ne,x:null,X:null,y:sn,Y:jn,Z:Mi,"%":gi},Qn={a:function Un(Jt,ze,Ze){var Ut=ge.exec(ze.slice(Ze));return Ut?(Jt.w=Mn[Ut[0].toLowerCase()],Ze+Ut[0].length):-1},A:function Me(Jt,ze,Ze){var Ut=jt.exec(ze.slice(Ze));return Ut?(Jt.w=ae[Ut[0].toLowerCase()],Ze+Ut[0].length):-1},b:function Sn(Jt,ze,Ze){var Ut=di.exec(ze.slice(Ze));return Ut?(Jt.m=ci[Ut[0].toLowerCase()],Ze+Ut[0].length):-1},B:function An(Jt,ze,Ze){var Ut=yn.exec(ze.slice(Ze));return Ut?(Jt.m=_n[Ut[0].toLowerCase()],Ze+Ut[0].length):-1},c:function Li(Jt,ze,Ze){return On(Jt,u,ze,Ze)},d:Gi,e:Gi,f:Zi,g:xi,G:Yn,H:Ci,I:Ci,j:gr,L:$i,m:fr,M:wi,p:function Zn(Jt,ze,Ze){var Ut=ie.exec(ze.slice(Ze));return Ut?(Jt.p=oe[Ut[0].toLowerCase()],Ze+Ut[0].length):-1},q:dr,Q:mr,s:vr,S:pr,u:ur,U:vn,V:hr,w:Pn,W:Pi,x:function sr(Jt,ze,Ze){return On(Jt,D,ze,Ze)},X:function zi(Jt,ze,Ze){return On(Jt,M,ze,Ze)},y:xi,Y:Yn,Z:Ln,"%":Ji};function ei(Jt,ze){return function(Ze){var ui,ki,Pr,Ut=[],si=-1,xn=0,li=Jt.length;for(Ze instanceof Date||(Ze=new Date(+Ze));++si<li;)37===Jt.charCodeAt(si)&&(Ut.push(Jt.slice(xn,si)),null!=(ki=ri[ui=Jt.charAt(++si)])?ui=Jt.charAt(++si):ki="e"===ui?" ":"0",(Pr=ze[ui])&&(ui=Pr(Ze,ki)),Ut.push(ui),xn=si+1);return Ut.push(Jt.slice(xn,si)),Ut.join("")}}function Le(Jt,ze){return function(Ze){var xn,li,Ut=fi(1900,void 0,1);if(On(Ut,Jt,Ze+="",0)!=Ze.length)return null;if("Q"in Ut)return new Date(Ut.Q);if("s"in Ut)return new Date(1e3*Ut.s+("L"in Ut?Ut.L:0));if(ze&&!("Z"in Ut)&&(Ut.Z=0),"p"in Ut&&(Ut.H=Ut.H%12+12*Ut.p),void 0===Ut.m&&(Ut.m="q"in Ut?Ut.q:0),"V"in Ut){if(Ut.V<1||Ut.V>53)return null;"w"in Ut||(Ut.w=1),"Z"in Ut?(li=(xn=ti(fi(Ut.y,0,1))).getUTCDay(),xn=li>4||0===li?K.ceil(xn):K(xn),xn=mi.offset(xn,7*(Ut.V-1)),Ut.y=xn.getUTCFullYear(),Ut.m=xn.getUTCMonth(),Ut.d=xn.getUTCDate()+(Ut.w+6)%7):(li=(xn=Ni(fi(Ut.y,0,1))).getDay(),xn=li>4||0===li?H.ceil(xn):H(xn),xn=Pe.A.offset(xn,7*(Ut.V-1)),Ut.y=xn.getFullYear(),Ut.m=xn.getMonth(),Ut.d=xn.getDate()+(Ut.w+6)%7)}else("W"in Ut||"U"in Ut)&&("w"in Ut||(Ut.w="u"in Ut?Ut.u%7:"W"in Ut?1:0),li="Z"in Ut?ti(fi(Ut.y,0,1)).getUTCDay():Ni(fi(Ut.y,0,1)).getDay(),Ut.m=0,Ut.d="W"in Ut?(Ut.w+6)%7+7*Ut.W-(li+5)%7:Ut.w+7*Ut.U-(li+6)%7);return"Z"in Ut?(Ut.H+=Ut.Z/100|0,Ut.M+=Ut.Z%100,ti(Ut)):Ni(Ut)}}function On(Jt,ze,Ze,Ut){for(var ui,ki,si=0,xn=ze.length,li=Ze.length;si<xn;){if(Ut>=li)return-1;if(37===(ui=ze.charCodeAt(si++))){if(ui=ze.charAt(si++),!(ki=Qn[ui in ri?ze.charAt(si++):ui])||(Ut=ki(Jt,Ze,Ut))<0)return-1}else if(ui!=Ze.charCodeAt(Ut++))return-1}return Ut}return kn.x=ei(D,kn),kn.X=ei(M,kn),kn.c=ei(u,kn),Hn.x=ei(D,Hn),Hn.X=ei(M,Hn),Hn.c=ei(u,Hn),{format:function(Jt){var ze=ei(Jt+="",kn);return ze.toString=function(){return Jt},ze},parse:function(Jt){var ze=Le(Jt+="",!1);return ze.toString=function(){return Jt},ze},utcFormat:function(Jt){var ze=ei(Jt+="",Hn);return ze.toString=function(){return Jt},ze},utcParse:function(Jt){var ze=Le(Jt+="",!0);return ze.toString=function(){return Jt},ze}}}(i),Ei=Kn.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Bi=1e3,Wi=60*Bi,Ii=60*Wi,_i=24*Ii,Lr=7*_i,yr=30*_i,er=365*_i;function Cr(i){return new Date(i)}function nr(i){return i instanceof Date?+i:+new Date(+i)}function ir(i,u,D,M,xt,Ct,_t,Bt,Lt){var ie=lt(Y,Y),oe=ie.invert,jt=ie.domain,ae=Lt(".%L"),ge=Lt(":%S"),Mn=Lt("%I:%M"),yn=Lt("%I %p"),_n=Lt("%a %d"),di=Lt("%b %d"),ci=Lt("%B"),kn=Lt("%Y"),Hn=[[_t,1,Bi],[_t,5,5*Bi],[_t,15,15*Bi],[_t,30,30*Bi],[Ct,1,Wi],[Ct,5,5*Wi],[Ct,15,15*Wi],[Ct,30,30*Wi],[xt,1,Ii],[xt,3,3*Ii],[xt,6,6*Ii],[xt,12,12*Ii],[M,1,_i],[M,2,2*_i],[D,1,Lr],[u,1,yr],[u,3,3*yr],[i,1,er]];function Qn(Le){return(_t(Le)<Le?ae:Ct(Le)<Le?ge:xt(Le)<Le?Mn:M(Le)<Le?yn:u(Le)<Le?D(Le)<Le?_n:di:i(Le)<Le?ci:kn)(Le)}function ei(Le,On,Zn,Un){if(null==Le&&(Le=10),"number"==typeof Le){var Me=Math.abs(Zn-On)/Le,Sn=(0,g.yl)(function(An){return An[2]}).right(Hn,Me);Sn===Hn.length?(Un=(0,g.sG)(On/er,Zn/er,Le),Le=i):Sn?(Un=(Sn=Hn[Me/Hn[Sn-1][2]<Hn[Sn][2]/Me?Sn-1:Sn])[1],Le=Sn[0]):(Un=Math.max((0,g.sG)(On,Zn,Le),1),Le=Bt)}return null==Un?Le:Le.every(Un)}return ie.invert=function(Le){return new Date(oe(Le))},ie.domain=function(Le){return arguments.length?jt(F.call(Le,nr)):jt().map(Cr)},ie.ticks=function(Le,On){var An,Zn=jt(),Un=Zn[0],Me=Zn[Zn.length-1],Sn=Me<Un;return Sn&&(An=Un,Un=Me,Me=An),An=(An=ei(Le,Un,Me,On))?An.range(Un,Me+1):[],Sn?An.reverse():An},ie.tickFormat=function(Le,On){return null==On?Qn:Lt(On)},ie.nice=function(Le,On){var Zn=jt();return(Le=ei(Le,Zn[0],Zn[Zn.length-1],On))?jt(function Ir(i,u){var _t,D=0,M=(i=i.slice()).length-1,xt=i[D],Ct=i[M];return Ct<xt&&(_t=D,D=M,M=_t,_t=xt,xt=Ct,Ct=_t),i[D]=u.floor(xt),i[M]=u.ceil(Ct),i}(Zn,Le)):ie},ie.copy=function(){return ft(ie,ir(i,u,D,M,xt,Ct,_t,Bt,Lt))},ie}function wr(){return T.apply(ir(qe.A,mn.A,an,Pe.A,Vn,Hi.A,ni,Di,Ei).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},81583:(Pt,ht,a)=>{"use strict";function g(T){return function(){return this.matches(T)}}a.d(ht,{A:()=>g})},72546:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>p});var g=a(86358),T=a(60859);function p(Q){var I=(0,g.A)();return I.changedTouches&&(I=I.changedTouches[0]),(0,T.A)(Q,I)}},53738:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>T});var g=a(82937);function T(p){var Q=p+="",I=Q.indexOf(":");return I>=0&&"xmlns"!==(Q=p.slice(0,I))&&(p=p.slice(I+1)),g.A.hasOwnProperty(Q)?{space:g.A[Q],local:p}:p}},82937:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>T,g:()=>g});var g="http://www.w3.org/1999/xhtml";const T={svg:"http://www.w3.org/2000/svg",xhtml:g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},60859:(Pt,ht,a)=>{"use strict";function g(T,p){var Q=T.ownerSVGElement||T;if(Q.createSVGPoint){var I=Q.createSVGPoint();return I.x=p.clientX,I.y=p.clientY,[(I=I.matrixTransform(T.getScreenCTM().inverse())).x,I.y]}var F=T.getBoundingClientRect();return[p.clientX-F.left-T.clientLeft,p.clientY-F.top-T.clientTop]}a.d(ht,{A:()=>g})},14221:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>T});var g=a(21655);function T(p){return"string"==typeof p?new g.LN([[document.querySelector(p)]],[document.documentElement]):new g.LN([[p]],g.zr)}},21655:(Pt,ht,a)=>{"use strict";a.d(ht,{LN:()=>xe,Ay:()=>an,zr:()=>Fe});var g=a(49676),p=a(67941),I=a(81583);function nt(H){return new Array(H.length)}function S(H,yt){this.ownerDocument=H.ownerDocument,this.namespaceURI=H.namespaceURI,this._next=null,this._parent=H,this.__data__=yt}S.prototype={constructor:S,appendChild:function(H){return this._parent.insertBefore(H,this._next)},insertBefore:function(H,yt){return this._parent.insertBefore(H,yt)},querySelector:function(H){return this._parent.querySelector(H)},querySelectorAll:function(H){return this._parent.querySelectorAll(H)}};function N(H,yt,zt,ut,Gt,te){for(var ee,Nt=0,Te=yt.length,Ie=te.length;Nt<Ie;++Nt)(ee=yt[Nt])?(ee.__data__=te[Nt],ut[Nt]=ee):zt[Nt]=new S(H,te[Nt]);for(;Nt<Te;++Nt)(ee=yt[Nt])&&(Gt[Nt]=ee)}function C(H,yt,zt,ut,Gt,te,Nt){var ee,Te,Pe,Ie={},je=yt.length,rn=te.length,dn=new Array(je);for(ee=0;ee<je;++ee)(Te=yt[ee])&&(dn[ee]=Pe="$"+Nt.call(Te,Te.__data__,ee,yt),Pe in Ie?Gt[ee]=Te:Ie[Pe]=Te);for(ee=0;ee<rn;++ee)(Te=Ie[Pe="$"+Nt.call(H,te[ee],ee,te)])?(ut[ee]=Te,Te.__data__=te[ee],Ie[Pe]=null):zt[ee]=new S(H,te[ee]);for(ee=0;ee<je;++ee)(Te=yt[ee])&&Ie[dn[ee]]===Te&&(Gt[ee]=Te)}function dt(H,yt){return H<yt?-1:H>yt?1:H>=yt?0:NaN}var at=a(53738);function st(H){return function(){this.removeAttribute(H)}}function Ft(H){return function(){this.removeAttributeNS(H.space,H.local)}}function Xt(H,yt){return function(){this.setAttribute(H,yt)}}function se(H,yt){return function(){this.setAttributeNS(H.space,H.local,yt)}}function ue(H,yt){return function(){var zt=yt.apply(this,arguments);null==zt?this.removeAttribute(H):this.setAttribute(H,zt)}}function ve(H,yt){return function(){var zt=yt.apply(this,arguments);null==zt?this.removeAttributeNS(H.space,H.local):this.setAttributeNS(H.space,H.local,zt)}}var bt=a(99517);function Wt(H){return function(){delete this[H]}}function Zt(H,yt){return function(){this[H]=yt}}function Oe(H,yt){return function(){var zt=yt.apply(this,arguments);null==zt?delete this[H]:this[H]=zt}}function $(H){return H.trim().split(/^|\s+/)}function At(H){return H.classList||new Kt(H)}function Kt(H){this._node=H,this._names=$(H.getAttribute("class")||"")}function ye(H,yt){for(var zt=At(H),ut=-1,Gt=yt.length;++ut<Gt;)zt.add(yt[ut])}function Ot(H,yt){for(var zt=At(H),ut=-1,Gt=yt.length;++ut<Gt;)zt.remove(yt[ut])}function le(H){return function(){ye(this,H)}}function Xe(H){return function(){Ot(this,H)}}function Ye(H,yt){return function(){(yt.apply(this,arguments)?ye:Ot)(this,H)}}function Cn(){this.textContent=""}function Dn(H){return function(){this.textContent=H}}function Fn(H){return function(){var yt=H.apply(this,arguments);this.textContent=yt??""}}function Rn(){this.innerHTML=""}function ln(H){return function(){this.innerHTML=H}}function Gn(H){return function(){var yt=H.apply(this,arguments);this.innerHTML=yt??""}}function _e(){this.nextSibling&&this.parentNode.appendChild(this)}function pi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Kt.prototype={add:function(H){this._names.indexOf(H)<0&&(this._names.push(H),this._node.setAttribute("class",this._names.join(" ")))},remove:function(H){var yt=this._names.indexOf(H);yt>=0&&(this._names.splice(yt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(H){return this._names.indexOf(H)>=0}};var fe=a(82937);function be(H){return function(){var yt=this.ownerDocument,zt=this.namespaceURI;return zt===fe.g&&yt.documentElement.namespaceURI===fe.g?yt.createElement(H):yt.createElementNS(zt,H)}}function he(H){return function(){return this.ownerDocument.createElementNS(H.space,H.local)}}function He(H){var yt=(0,at.A)(H);return(yt.local?he:be)(yt)}function Tn(){return null}function $e(){var H=this.parentNode;H&&H.removeChild(this)}function un(){var H=this.cloneNode(!1),yt=this.parentNode;return yt?yt.insertBefore(H,this.nextSibling):H}function $n(){var H=this.cloneNode(!0),yt=this.parentNode;return yt?yt.insertBefore(H,this.nextSibling):H}var Xn=a(89403),nn=a(74529);function pn(H,yt,zt){var ut=(0,nn.A)(H),Gt=ut.CustomEvent;"function"==typeof Gt?Gt=new Gt(yt,zt):(Gt=ut.document.createEvent("Event"),zt?(Gt.initEvent(yt,zt.bubbles,zt.cancelable),Gt.detail=zt.detail):Gt.initEvent(yt,!1,!1)),H.dispatchEvent(Gt)}function bn(H,yt){return function(){return pn(this,H,yt)}}function qe(H,yt){return function(){return pn(this,H,yt.apply(this,arguments))}}var Fe=[null];function xe(H,yt){this._groups=H,this._parents=yt}function hn(){return new xe([[document.documentElement]],Fe)}xe.prototype=hn.prototype={constructor:xe,select:function T(H){"function"!=typeof H&&(H=(0,g.A)(H));for(var yt=this._groups,zt=yt.length,ut=new Array(zt),Gt=0;Gt<zt;++Gt)for(var Te,Ie,te=yt[Gt],Nt=te.length,ee=ut[Gt]=new Array(Nt),je=0;je<Nt;++je)(Te=te[je])&&(Ie=H.call(Te,Te.__data__,je,te))&&("__data__"in Te&&(Ie.__data__=Te.__data__),ee[je]=Ie);return new xe(ut,this._parents)},selectAll:function Q(H){"function"!=typeof H&&(H=(0,p.A)(H));for(var yt=this._groups,zt=yt.length,ut=[],Gt=[],te=0;te<zt;++te)for(var Te,Nt=yt[te],ee=Nt.length,Ie=0;Ie<ee;++Ie)(Te=Nt[Ie])&&(ut.push(H.call(Te,Te.__data__,Ie,Nt)),Gt.push(Te));return new xe(ut,Gt)},filter:function F(H){"function"!=typeof H&&(H=(0,I.A)(H));for(var yt=this._groups,zt=yt.length,ut=new Array(zt),Gt=0;Gt<zt;++Gt)for(var Te,te=yt[Gt],Nt=te.length,ee=ut[Gt]=[],Ie=0;Ie<Nt;++Ie)(Te=te[Ie])&&H.call(Te,Te.__data__,Ie,te)&&ee.push(Te);return new xe(ut,this._parents)},data:function A(H,yt){if(!H)return Pe=new Array(this.size()),Ie=-1,this.each(function(Di){Pe[++Ie]=Di}),Pe;var zt=yt?C:N,ut=this._parents,Gt=this._groups;"function"!=typeof H&&(H=function O(H){return function(){return H}}(H));for(var te=Gt.length,Nt=new Array(te),ee=new Array(te),Te=new Array(te),Ie=0;Ie<te;++Ie){var je=ut[Ie],rn=Gt[Ie],dn=rn.length,Pe=H.call(je,je&&je.__data__,Ie,ut),Ke=Pe.length,Vn=ee[Ie]=new Array(Ke),Si=Nt[Ie]=new Array(Ke);zt(je,rn,Vn,Si,Te[Ie]=new Array(dn),Pe,yt);for(var Oi,hi,qn=0,ni=0;qn<Ke;++qn)if(Oi=Vn[qn]){for(qn>=ni&&(ni=qn+1);!(hi=Si[ni])&&++ni<Ke;);Oi._next=hi||null}}return(Nt=new xe(Nt,ut))._enter=ee,Nt._exit=Te,Nt},enter:function b(){return new xe(this._enter||this._groups.map(nt),this._parents)},exit:function P(){return new xe(this._exit||this._groups.map(nt),this._parents)},join:function Z(H,yt,zt){var ut=this.enter(),Gt=this,te=this.exit();return ut="function"==typeof H?H(ut):ut.append(H+""),null!=yt&&(Gt=yt(Gt)),null==zt?te.remove():zt(te),ut&&Gt?ut.merge(Gt).order():Gt},merge:function X(H){for(var yt=this._groups,zt=H._groups,ut=yt.length,te=Math.min(ut,zt.length),Nt=new Array(ut),ee=0;ee<te;++ee)for(var dn,Te=yt[ee],Ie=zt[ee],je=Te.length,rn=Nt[ee]=new Array(je),Pe=0;Pe<je;++Pe)(dn=Te[Pe]||Ie[Pe])&&(rn[Pe]=dn);for(;ee<ut;++ee)Nt[ee]=yt[ee];return new xe(Nt,this._parents)},order:function it(){for(var H=this._groups,yt=-1,zt=H.length;++yt<zt;)for(var Nt,ut=H[yt],Gt=ut.length-1,te=ut[Gt];--Gt>=0;)(Nt=ut[Gt])&&(te&&4^Nt.compareDocumentPosition(te)&&te.parentNode.insertBefore(Nt,te),te=Nt);return this},sort:function Y(H){function yt(rn,dn){return rn&&dn?H(rn.__data__,dn.__data__):!rn-!dn}H||(H=dt);for(var zt=this._groups,ut=zt.length,Gt=new Array(ut),te=0;te<ut;++te){for(var Ie,Nt=zt[te],ee=Nt.length,Te=Gt[te]=new Array(ee),je=0;je<ee;++je)(Ie=Nt[je])&&(Te[je]=Ie);Te.sort(yt)}return new xe(Gt,this._parents).order()},call:function j(){var H=arguments[0];return arguments[0]=this,H.apply(null,arguments),this},nodes:function Dt(){var H=new Array(this.size()),yt=-1;return this.each(function(){H[++yt]=this}),H},node:function rt(){for(var H=this._groups,yt=0,zt=H.length;yt<zt;++yt)for(var ut=H[yt],Gt=0,te=ut.length;Gt<te;++Gt){var Nt=ut[Gt];if(Nt)return Nt}return null},size:function ft(){var H=0;return this.each(function(){++H}),H},empty:function Mt(){return!this.node()},each:function lt(H){for(var yt=this._groups,zt=0,ut=yt.length;zt<ut;++zt)for(var ee,Gt=yt[zt],te=0,Nt=Gt.length;te<Nt;++te)(ee=Gt[te])&&H.call(ee,ee.__data__,te,Gt);return this},attr:function q(H,yt){var zt=(0,at.A)(H);if(arguments.length<2){var ut=this.node();return zt.local?ut.getAttributeNS(zt.space,zt.local):ut.getAttribute(zt)}return this.each((null==yt?zt.local?Ft:st:"function"==typeof yt?zt.local?ve:ue:zt.local?se:Xt)(zt,yt))},style:bt.A,property:function Qe(H,yt){return arguments.length>1?this.each((null==yt?Wt:"function"==typeof yt?Oe:Zt)(H,yt)):this.node()[H]},classed:function cn(H,yt){var zt=$(H+"");if(arguments.length<2){for(var ut=At(this.node()),Gt=-1,te=zt.length;++Gt<te;)if(!ut.contains(zt[Gt]))return!1;return!0}return this.each(("function"==typeof yt?Ye:yt?le:Xe)(zt,yt))},text:function Ge(H){return arguments.length?this.each(null==H?Cn:("function"==typeof H?Fn:Dn)(H)):this.node().textContent},html:function Jn(H){return arguments.length?this.each(null==H?Rn:("function"==typeof H?Gn:ln)(H)):this.node().innerHTML},raise:function ai(){return this.each(_e)},lower:function re(){return this.each(pi)},append:function En(H){var yt="function"==typeof H?H:He(H);return this.select(function(){return this.appendChild(yt.apply(this,arguments))})},insert:function en(H,yt){var zt="function"==typeof H?H:He(H),ut=null==yt?Tn:"function"==typeof yt?yt:(0,g.A)(yt);return this.select(function(){return this.insertBefore(zt.apply(this,arguments),ut.apply(this,arguments)||null)})},remove:function Je(){return this.each($e)},clone:function fn(H){return this.select(H?$n:un)},datum:function gn(H){return arguments.length?this.property("__data__",H):this.node().__data__},on:Xn.Ay,dispatch:function mn(H,yt){return this.each(("function"==typeof yt?qe:bn)(H,yt))}};const an=hn},89403:(Pt,ht,a)=>{"use strict";a.d(ht,{Ay:()=>S,ex:()=>O,f0:()=>T});var g={},T=null;function Q(z,N,C){return z=I(z,N,C),function(A){var P=A.relatedTarget;(!P||P!==this&&!(8&P.compareDocumentPosition(this)))&&z.call(this,A)}}function I(z,N,C){return function(A){var P=T;T=A;try{z.call(this,this.__data__,N,C)}finally{T=P}}}function nt(z){return function(){var N=this.__on;if(N){for(var Z,C=0,A=-1,P=N.length;C<P;++C)Z=N[C],z.type&&Z.type!==z.type||Z.name!==z.name?N[++A]=Z:this.removeEventListener(Z.type,Z.listener,Z.capture);++A?N.length=A:delete this.__on}}}function b(z,N,C){var A=g.hasOwnProperty(z.type)?Q:I;return function(P,Z,X){var Y,it=this.__on,dt=A(N,Z,X);if(it)for(var j=0,Dt=it.length;j<Dt;++j)if((Y=it[j]).type===z.type&&Y.name===z.name)return this.removeEventListener(Y.type,Y.listener,Y.capture),this.addEventListener(Y.type,Y.listener=dt,Y.capture=C),void(Y.value=N);this.addEventListener(z.type,dt,C),Y={type:z.type,name:z.name,value:N,listener:dt,capture:C},it?it.push(Y):this.__on=[Y]}}function S(z,N,C){var P,X,A=function F(z){return z.trim().split(/^|\s+/).map(function(N){var C="",A=N.indexOf(".");return A>=0&&(C=N.slice(A+1),N=N.slice(0,A)),{type:N,name:C}})}(z+""),Z=A.length;if(!(arguments.length<2)){for(it=N?b:nt,null==C&&(C=!1),P=0;P<Z;++P)this.each(it(A[P],N,C));return this}var it=this.node().__on;if(it)for(var j,Y=0,dt=it.length;Y<dt;++Y)for(P=0,j=it[Y];P<Z;++P)if((X=A[P]).type===j.type&&X.name===j.name)return j.value}function O(z,N,C,A){var P=T;z.sourceEvent=T,T=z;try{return N.apply(C,A)}finally{T=P}}typeof document<"u"&&("onmouseenter"in document.documentElement||(g={mouseenter:"mouseover",mouseleave:"mouseout"}))},99517:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>I,j:()=>F});var g=a(74529);function T(nt){return function(){this.style.removeProperty(nt)}}function p(nt,b,S){return function(){this.style.setProperty(nt,b,S)}}function Q(nt,b,S){return function(){var O=b.apply(this,arguments);null==O?this.style.removeProperty(nt):this.style.setProperty(nt,O,S)}}function I(nt,b,S){return arguments.length>1?this.each((null==b?T:"function"==typeof b?Q:p)(nt,b,S??"")):F(this.node(),nt)}function F(nt,b){return nt.style.getPropertyValue(b)||(0,g.A)(nt).getComputedStyle(nt,null).getPropertyValue(b)}},49676:(Pt,ht,a)=>{"use strict";function g(){}function T(p){return null==p?g:function(){return this.querySelector(p)}}a.d(ht,{A:()=>T})},67941:(Pt,ht,a)=>{"use strict";function g(){return[]}function T(p){return null==p?g:function(){return this.querySelectorAll(p)}}a.d(ht,{A:()=>T})},86358:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>T});var g=a(89403);function T(){for(var Q,p=g.f0;Q=p.sourceEvent;)p=Q;return p}},74529:(Pt,ht,a)=>{"use strict";function g(T){return T.ownerDocument&&T.ownerDocument.defaultView||T.document&&T||T.defaultView}a.d(ht,{A:()=>g})},79450:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>z});var g=a(5285),T=a(70480),p=a(99042);function Q(N){return N.innerRadius}function I(N){return N.outerRadius}function F(N){return N.startAngle}function nt(N){return N.endAngle}function b(N){return N&&N.padAngle}function O(N,C,A,P,Z,X,it){var Y=N-A,dt=C-P,j=(it?X:-X)/(0,p.RZ)(Y*Y+dt*dt),Dt=j*dt,rt=-j*Y,ft=N+Dt,Mt=C+rt,lt=A+Dt,at=P+rt,st=(ft+lt)/2,Ft=(Mt+at)/2,Xt=lt-ft,se=at-Mt,ue=Xt*Xt+se*se,ve=Z-X,q=ft*at-lt*Mt,bt=(se<0?-1:1)*(0,p.RZ)((0,p.T9)(0,ve*ve*ue-q*q)),Wt=(q*se-Xt*bt)/ue,Zt=(-q*Xt-se*bt)/ue,Oe=(q*se+Xt*bt)/ue,Qe=(-q*Xt+se*bt)/ue,$=Wt-st,At=Zt-Ft,Kt=Oe-st,ye=Qe-Ft;return $*$+At*At>Kt*Kt+ye*ye&&(Wt=Oe,Zt=Qe),{cx:Wt,cy:Zt,x01:-Dt,y01:-rt,x11:Wt*(Z/ve-1),y11:Zt*(Z/ve-1)}}function z(){var N=Q,C=I,A=(0,T.A)(0),P=null,Z=F,X=nt,it=b,Y=null;function dt(){var j,Dt,rt=+N.apply(this,arguments),ft=+C.apply(this,arguments),Mt=Z.apply(this,arguments)-p.TW,lt=X.apply(this,arguments)-p.TW,at=(0,p.tn)(lt-Mt),st=lt>Mt;if(Y||(Y=j=(0,g.A)()),ft<rt&&(Dt=ft,ft=rt,rt=Dt),ft>p.Ni)if(at>p.FA-p.Ni)Y.moveTo(ft*(0,p.gn)(Mt),ft*(0,p.F8)(Mt)),Y.arc(0,0,ft,Mt,lt,!st),rt>p.Ni&&(Y.moveTo(rt*(0,p.gn)(lt),rt*(0,p.F8)(lt)),Y.arc(0,0,rt,lt,Mt,st));else{var $,At,Ft=Mt,Xt=lt,se=Mt,ue=lt,ve=at,q=at,bt=it.apply(this,arguments)/2,Wt=bt>p.Ni&&(P?+P.apply(this,arguments):(0,p.RZ)(rt*rt+ft*ft)),Zt=(0,p.jk)((0,p.tn)(ft-rt)/2,+A.apply(this,arguments)),Oe=Zt,Qe=Zt;if(Wt>p.Ni){var Kt=(0,p.qR)(Wt/rt*(0,p.F8)(bt)),ye=(0,p.qR)(Wt/ft*(0,p.F8)(bt));(ve-=2*Kt)>p.Ni?(se+=Kt*=st?1:-1,ue-=Kt):(ve=0,se=ue=(Mt+lt)/2),(q-=2*ye)>p.Ni?(Ft+=ye*=st?1:-1,Xt-=ye):(q=0,Ft=Xt=(Mt+lt)/2)}var Ot=ft*(0,p.gn)(Ft),le=ft*(0,p.F8)(Ft),Xe=rt*(0,p.gn)(ue),Ye=rt*(0,p.F8)(ue);if(Zt>p.Ni){var Ge,cn=ft*(0,p.gn)(Xt),Cn=ft*(0,p.F8)(Xt),Dn=rt*(0,p.gn)(se),Fn=rt*(0,p.F8)(se);if(at<p.pi&&(Ge=function S(N,C,A,P,Z,X,it,Y){var dt=A-N,j=P-C,Dt=it-Z,rt=Y-X,ft=rt*dt-Dt*j;if(!(ft*ft<p.Ni))return[N+(ft=(Dt*(C-X)-rt*(N-Z))/ft)*dt,C+ft*j]}(Ot,le,Dn,Fn,cn,Cn,Xe,Ye))){var Rn=Ot-Ge[0],ln=le-Ge[1],Gn=cn-Ge[0],Jn=Cn-Ge[1],_e=1/(0,p.F8)((0,p.HQ)((Rn*Gn+ln*Jn)/((0,p.RZ)(Rn*Rn+ln*ln)*(0,p.RZ)(Gn*Gn+Jn*Jn)))/2),ai=(0,p.RZ)(Ge[0]*Ge[0]+Ge[1]*Ge[1]);Oe=(0,p.jk)(Zt,(rt-ai)/(_e-1)),Qe=(0,p.jk)(Zt,(ft-ai)/(_e+1))}}q>p.Ni?Qe>p.Ni?($=O(Dn,Fn,Ot,le,ft,Qe,st),At=O(cn,Cn,Xe,Ye,ft,Qe,st),Y.moveTo($.cx+$.x01,$.cy+$.y01),Qe<Zt?Y.arc($.cx,$.cy,Qe,(0,p.FP)($.y01,$.x01),(0,p.FP)(At.y01,At.x01),!st):(Y.arc($.cx,$.cy,Qe,(0,p.FP)($.y01,$.x01),(0,p.FP)($.y11,$.x11),!st),Y.arc(0,0,ft,(0,p.FP)($.cy+$.y11,$.cx+$.x11),(0,p.FP)(At.cy+At.y11,At.cx+At.x11),!st),Y.arc(At.cx,At.cy,Qe,(0,p.FP)(At.y11,At.x11),(0,p.FP)(At.y01,At.x01),!st))):(Y.moveTo(Ot,le),Y.arc(0,0,ft,Ft,Xt,!st)):Y.moveTo(Ot,le),rt>p.Ni&&ve>p.Ni?Oe>p.Ni?($=O(Xe,Ye,cn,Cn,rt,-Oe,st),At=O(Ot,le,Dn,Fn,rt,-Oe,st),Y.lineTo($.cx+$.x01,$.cy+$.y01),Oe<Zt?Y.arc($.cx,$.cy,Oe,(0,p.FP)($.y01,$.x01),(0,p.FP)(At.y01,At.x01),!st):(Y.arc($.cx,$.cy,Oe,(0,p.FP)($.y01,$.x01),(0,p.FP)($.y11,$.x11),!st),Y.arc(0,0,rt,(0,p.FP)($.cy+$.y11,$.cx+$.x11),(0,p.FP)(At.cy+At.y11,At.cx+At.x11),st),Y.arc(At.cx,At.cy,Oe,(0,p.FP)(At.y11,At.x11),(0,p.FP)(At.y01,At.x01),!st))):Y.arc(0,0,rt,ue,se,st):Y.lineTo(Xe,Ye)}else Y.moveTo(0,0);if(Y.closePath(),j)return Y=null,j+""||null}return dt.centroid=function(){var j=(+N.apply(this,arguments)+ +C.apply(this,arguments))/2,Dt=(+Z.apply(this,arguments)+ +X.apply(this,arguments))/2-p.pi/2;return[(0,p.gn)(Dt)*j,(0,p.F8)(Dt)*j]},dt.innerRadius=function(j){return arguments.length?(N="function"==typeof j?j:(0,T.A)(+j),dt):N},dt.outerRadius=function(j){return arguments.length?(C="function"==typeof j?j:(0,T.A)(+j),dt):C},dt.cornerRadius=function(j){return arguments.length?(A="function"==typeof j?j:(0,T.A)(+j),dt):A},dt.padRadius=function(j){return arguments.length?(P=null==j?null:"function"==typeof j?j:(0,T.A)(+j),dt):P},dt.startAngle=function(j){return arguments.length?(Z="function"==typeof j?j:(0,T.A)(+j),dt):Z},dt.endAngle=function(j){return arguments.length?(X="function"==typeof j?j:(0,T.A)(+j),dt):X},dt.padAngle=function(j){return arguments.length?(it="function"==typeof j?j:(0,T.A)(+j),dt):it},dt.context=function(j){return arguments.length?(Y=j??null,dt):Y},dt}},70480:(Pt,ht,a)=>{"use strict";function g(T){return function(){return T}}a.d(ht,{A:()=>g})},99042:(Pt,ht,a)=>{"use strict";a.d(ht,{F8:()=>F,FA:()=>z,FP:()=>T,HQ:()=>N,Ni:()=>b,RZ:()=>nt,T9:()=>Q,TW:()=>O,gn:()=>p,jk:()=>I,pi:()=>S,qR:()=>C,tn:()=>g});var g=Math.abs,T=Math.atan2,p=Math.cos,Q=Math.max,I=Math.min,F=Math.sin,nt=Math.sqrt,b=1e-12,S=Math.PI,O=S/2,z=2*S;function N(A){return A>1?0:A<-1?S:Math.acos(A)}function C(A){return A>=1?O:A<=-1?-O:Math.asin(A)}},6476:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>Q});var g=a(9061),T=a(17772);const Q=(0,g.A)(function(F){F.setHours(0,0,0,0)},function(F,nt){F.setDate(F.getDate()+nt)},function(F,nt){return(nt-F-(nt.getTimezoneOffset()-F.getTimezoneOffset())*T.rR)/T.Nm},function(F){return F.getDate()-1})},17772:(Pt,ht,a)=>{"use strict";a.d(ht,{Fq:()=>I,JJ:()=>p,Nm:()=>Q,Tt:()=>g,rR:()=>T});var g=1e3,T=6e4,p=36e5,Q=864e5,I=6048e5},9061:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>p});var g=new Date,T=new Date;function p(Q,I,F,nt){function b(S){return Q(S=0===arguments.length?new Date:new Date(+S)),S}return b.floor=function(S){return Q(S=new Date(+S)),S},b.ceil=function(S){return Q(S=new Date(S-1)),I(S,1),Q(S),S},b.round=function(S){var O=b(S),z=b.ceil(S);return S-O<z-S?O:z},b.offset=function(S,O){return I(S=new Date(+S),null==O?1:Math.floor(O)),S},b.range=function(S,O,z){var C,N=[];if(S=b.ceil(S),z=null==z?1:Math.floor(z),!(S<O&&z>0))return N;do{N.push(C=new Date(+S)),I(S,z),Q(S)}while(C<S&&S<O);return N},b.filter=function(S){return p(function(O){if(O>=O)for(;Q(O),!S(O);)O.setTime(O-1)},function(O,z){if(O>=O)if(z<0)for(;++z<=0;)for(;I(O,-1),!S(O););else for(;--z>=0;)for(;I(O,1),!S(O););})},F&&(b.count=function(S,O){return g.setTime(+S),T.setTime(+O),Q(g),Q(T),Math.floor(F(g,T))},b.every=function(S){return S=Math.floor(S),isFinite(S)&&S>0?S>1?b.filter(nt?function(O){return nt(O)%S==0}:function(O){return b.count(0,O)%S==0}):b:null}),b}},42472:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>Q});var g=a(9061),T=a(17772);const Q=(0,g.A)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*T.Tt)},function(F,nt){F.setTime(+F+nt*T.rR)},function(F,nt){return(nt-F)/T.rR},function(F){return F.getMinutes()})},53052:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>p});const p=(0,a(9061).A)(function(I){I.setDate(1),I.setHours(0,0,0,0)},function(I,F){I.setMonth(I.getMonth()+F)},function(I,F){return F.getMonth()-I.getMonth()+12*(F.getFullYear()-I.getFullYear())},function(I){return I.getMonth()})},97833:(Pt,ht,a)=>{"use strict";a.d(ht,{A:()=>p});var g=a(9061),T=(0,g.A)(function(I){I.setMonth(0,1),I.setHours(0,0,0,0)},function(I,F){I.setFullYear(I.getFullYear()+F)},function(I,F){return F.getFullYear()-I.getFullYear()},function(I){return I.getFullYear()});T.every=function(I){return isFinite(I=Math.floor(I))&&I>0?(0,g.A)(function(F){F.setFullYear(Math.floor(F.getFullYear()/I)*I),F.setMonth(0,1),F.setHours(0,0,0,0)},function(F,nt){F.setFullYear(F.getFullYear()+nt*I)}):null};const p=T},89191:(Pt,ht,a)=>{"use strict";a.d(ht,{M4:()=>A,O1:()=>P,tB:()=>N});var I,F,g=0,T=0,p=0,Q=1e3,nt=0,b=0,S=0,O="object"==typeof performance&&performance.now?performance:Date,z="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(j){setTimeout(j,17)};function N(){return b||(z(C),b=O.now()+S)}function C(){b=0}function A(){this._call=this._time=this._next=null}function P(j,Dt,rt){var ft=new A;return ft.restart(j,Dt,rt),ft}function X(){b=(nt=O.now())+S,g=T=0;try{!function Z(){N(),++g;for(var Dt,j=I;j;)(Dt=b-j._time)>=0&&j._call.call(null,Dt),j=j._next;--g}()}finally{g=0,function Y(){for(var j,rt,Dt=I,ft=1/0;Dt;)Dt._call?(ft>Dt._time&&(ft=Dt._time),j=Dt,Dt=Dt._next):(rt=Dt._next,Dt._next=null,Dt=j?j._next=rt:I=rt);F=j,dt(ft)}(),b=0}}function it(){var j=O.now(),Dt=j-nt;Dt>Q&&(S-=Dt,nt=j)}function dt(j){g||(T&&(T=clearTimeout(T)),j-b>24?(j<1/0&&(T=setTimeout(X,j-O.now()-S)),p&&(p=clearInterval(p))):(p||(nt=O.now(),p=setInterval(it,Q)),g=1,z(X)))}A.prototype=P.prototype={constructor:A,restart:function(j,Dt,rt){if("function"!=typeof j)throw new TypeError("callback is not a function");rt=(null==rt?N():+rt)+(null==Dt?0:+Dt),!this._next&&F!==this&&(F?F._next=this:I=this,F=this),this._call=j,this._time=rt,dt()},stop:function(){this._call&&(this._call=null,this._time=1/0,dt())}}},72625:(Pt,ht,a)=>{"use strict";a.d(ht,{G:()=>Y,kY:()=>Pe});var g=a(21655),T=a(4171),p=a(89191);function Q(w,U,K){var mt=new p.M4;return mt.restart(function(Rt){mt.stop(),w(Rt+U)},U=null==U?0:+U,K),mt}var I=(0,T.A)("start","end","cancel","interrupt"),F=[],nt=0,S=2,O=3,N=5,C=6;function A(w,U,K,mt,Rt,kt){var wt=w.__transition;if(wt){if(K in wt)return}else w.__transition={};!function it(w,U,K){var Rt,mt=w.__transition;function wt($t){var Ht,pe,we,We;if(1!==K.state)return Yt();for(Ht in mt)if((We=mt[Ht]).name===K.name){if(We.state===O)return Q(wt);4===We.state?(We.state=C,We.timer.stop(),We.on.call("interrupt",w,w.__data__,We.index,We.group),delete mt[Ht]):+Ht<U&&(We.state=C,We.timer.stop(),We.on.call("cancel",w,w.__data__,We.index,We.group),delete mt[Ht])}if(Q(function(){K.state===O&&(K.state=4,K.timer.restart(Vt,K.delay,K.time),Vt($t))}),K.state=S,K.on.call("start",w,w.__data__,K.index,K.group),K.state===S){for(K.state=O,Rt=new Array(we=K.tween.length),Ht=0,pe=-1;Ht<we;++Ht)(We=K.tween[Ht].value.call(w,w.__data__,K.index,K.group))&&(Rt[++pe]=We);Rt.length=pe+1}}function Vt($t){for(var Ht=$t<K.duration?K.ease.call(null,$t/K.duration):(K.timer.restart(Yt),K.state=N,1),pe=-1,we=Rt.length;++pe<we;)Rt[pe].call(w,Ht);K.state===N&&(K.on.call("end",w,w.__data__,K.index,K.group),Yt())}function Yt(){for(var $t in K.state=C,K.timer.stop(),delete mt[U],mt)return;delete w.__transition}mt[U]=K,K.timer=(0,p.O1)(function kt($t){K.state=1,K.timer.restart(wt,K.delay,K.time),K.delay<=$t&&wt($t-K.delay)},0,K.time)}(w,K,{name:U,index:mt,group:Rt,on:I,tween:F,time:kt.time,delay:kt.delay,duration:kt.duration,ease:kt.ease,timer:null,state:nt})}function P(w,U){var K=X(w,U);if(K.state>nt)throw new Error("too late; already scheduled");return K}function Z(w,U){var K=X(w,U);if(K.state>O)throw new Error("too late; already running");return K}function X(w,U){var K=w.__transition;if(!K||!(K=K[U]))throw new Error("transition not found");return K}function Y(w,U){var mt,Rt,wt,K=w.__transition,kt=!0;if(K){for(wt in U=null==U?null:U+"",K)(mt=K[wt]).name===U?(Rt=mt.state>S&&mt.state<N,mt.state=C,mt.timer.stop(),mt.on.call(Rt?"interrupt":"cancel",w,w.__data__,mt.index,mt.group),delete K[wt]):kt=!1;kt&&delete w.__transition}}var Mt,lt,at,st,j=a(71411),Dt=180/Math.PI,rt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ft(w,U,K,mt,Rt,kt){var wt,Vt,Yt;return(wt=Math.sqrt(w*w+U*U))&&(w/=wt,U/=wt),(Yt=w*K+U*mt)&&(K-=w*Yt,mt-=U*Yt),(Vt=Math.sqrt(K*K+mt*mt))&&(K/=Vt,mt/=Vt,Yt/=Vt),w*mt<U*K&&(w=-w,U=-U,Yt=-Yt,wt=-wt),{translateX:Rt,translateY:kt,rotate:Math.atan2(U,w)*Dt,skewX:Math.atan(Yt)*Dt,scaleX:wt,scaleY:Vt}}function se(w,U,K,mt){function Rt($t){return $t.length?$t.pop()+" ":""}return function($t,Ht){var pe=[],we=[];return $t=w($t),Ht=w(Ht),function kt($t,Ht,pe,we,We,ii){if($t!==pe||Ht!==we){var In=We.push("translate(",null,U,null,K);ii.push({i:In-4,x:(0,j.A)($t,pe)},{i:In-2,x:(0,j.A)(Ht,we)})}else(pe||we)&&We.push("translate("+pe+U+we+K)}($t.translateX,$t.translateY,Ht.translateX,Ht.translateY,pe,we),function wt($t,Ht,pe,we){$t!==Ht?($t-Ht>180?Ht+=360:Ht-$t>180&&($t+=360),we.push({i:pe.push(Rt(pe)+"rotate(",null,mt)-2,x:(0,j.A)($t,Ht)})):Ht&&pe.push(Rt(pe)+"rotate("+Ht+mt)}($t.rotate,Ht.rotate,pe,we),function Vt($t,Ht,pe,we){$t!==Ht?we.push({i:pe.push(Rt(pe)+"skewX(",null,mt)-2,x:(0,j.A)($t,Ht)}):Ht&&pe.push(Rt(pe)+"skewX("+Ht+mt)}($t.skewX,Ht.skewX,pe,we),function Yt($t,Ht,pe,we,We,ii){if($t!==pe||Ht!==we){var In=We.push(Rt(We)+"scale(",null,",",null,")");ii.push({i:In-4,x:(0,j.A)($t,pe)},{i:In-2,x:(0,j.A)(Ht,we)})}else(1!==pe||1!==we)&&We.push(Rt(We)+"scale("+pe+","+we+")")}($t.scaleX,$t.scaleY,Ht.scaleX,Ht.scaleY,pe,we),$t=Ht=null,function(We){for(var mi,ii=-1,In=we.length;++ii<In;)pe[(mi=we[ii]).i]=mi.x(We);return pe.join("")}}}var ue=se(function Ft(w){return"none"===w?rt:(Mt||(Mt=document.createElement("DIV"),lt=document.documentElement,at=document.defaultView),Mt.style.transform=w,w=at.getComputedStyle(lt.appendChild(Mt),null).getPropertyValue("transform"),lt.removeChild(Mt),ft(+(w=w.slice(7,-1).split(","))[0],+w[1],+w[2],+w[3],+w[4],+w[5]))},"px, ","px)","deg)"),ve=se(function Xt(w){return null!=w&&(st||(st=document.createElementNS("http://www.w3.org/2000/svg","g")),st.setAttribute("transform",w),w=st.transform.baseVal.consolidate())?ft((w=w.matrix).a,w.b,w.c,w.d,w.e,w.f):rt},", ",")",")"),q=a(53738);function bt(w,U){var K,mt;return function(){var Rt=Z(this,w),kt=Rt.tween;if(kt!==K)for(var wt=0,Vt=(mt=K=kt).length;wt<Vt;++wt)if(mt[wt].name===U){(mt=mt.slice()).splice(wt,1);break}Rt.tween=mt}}function Wt(w,U,K){var mt,Rt;if("function"!=typeof K)throw new Error;return function(){var kt=Z(this,w),wt=kt.tween;if(wt!==mt){Rt=(mt=wt).slice();for(var Vt={name:U,value:K},Yt=0,$t=Rt.length;Yt<$t;++Yt)if(Rt[Yt].name===U){Rt[Yt]=Vt;break}Yt===$t&&Rt.push(Vt)}kt.tween=Rt}}function Oe(w,U,K){var mt=w._id;return w.each(function(){var Rt=Z(this,mt);(Rt.value||(Rt.value={}))[U]=K.apply(this,arguments)}),function(Rt){return X(Rt,mt).value[U]}}var Qe=a(64233),$=a(90433),At=a(73067);function Kt(w,U){var K;return("number"==typeof U?j.A:U instanceof Qe.Ay?$.Ay:(K=(0,Qe.Ay)(U))?(U=K,$.Ay):At.A)(w,U)}function ye(w){return function(){this.removeAttribute(w)}}function Ot(w){return function(){this.removeAttributeNS(w.space,w.local)}}function le(w,U,K){var mt,kt,Rt=K+"";return function(){var wt=this.getAttribute(w);return wt===Rt?null:wt===mt?kt:kt=U(mt=wt,K)}}function Xe(w,U,K){var mt,kt,Rt=K+"";return function(){var wt=this.getAttributeNS(w.space,w.local);return wt===Rt?null:wt===mt?kt:kt=U(mt=wt,K)}}function Ye(w,U,K){var mt,Rt,kt;return function(){var wt,Yt,Vt=K(this);return null==Vt?void this.removeAttribute(w):(wt=this.getAttribute(w))===(Yt=Vt+"")?null:wt===mt&&Yt===Rt?kt:(Rt=Yt,kt=U(mt=wt,Vt))}}function cn(w,U,K){var mt,Rt,kt;return function(){var wt,Yt,Vt=K(this);return null==Vt?void this.removeAttributeNS(w.space,w.local):(wt=this.getAttributeNS(w.space,w.local))===(Yt=Vt+"")?null:wt===mt&&Yt===Rt?kt:(Rt=Yt,kt=U(mt=wt,Vt))}}function Ge(w,U){var K,mt;function Rt(){var kt=U.apply(this,arguments);return kt!==mt&&(K=(mt=kt)&&function Fn(w,U){return function(K){this.setAttributeNS(w.space,w.local,U.call(this,K))}}(w,kt)),K}return Rt._value=U,Rt}function Rn(w,U){var K,mt;function Rt(){var kt=U.apply(this,arguments);return kt!==mt&&(K=(mt=kt)&&function Dn(w,U){return function(K){this.setAttribute(w,U.call(this,K))}}(w,kt)),K}return Rt._value=U,Rt}function Gn(w,U){return function(){P(this,w).delay=+U.apply(this,arguments)}}function Jn(w,U){return U=+U,function(){P(this,w).delay=U}}function ai(w,U){return function(){Z(this,w).duration=+U.apply(this,arguments)}}function pi(w,U){return U=+U,function(){Z(this,w).duration=U}}var he=a(81583),$n=a(49676),gn=a(67941),nn=g.Ay.prototype.constructor,bn=a(99517);function mn(w){return function(){this.style.removeProperty(w)}}var rn=0;function dn(w,U,K,mt){this._groups=w,this._parents=U,this._name=K,this._id=mt}function Pe(w){return(0,g.Ay)().transition(w)}function Ke(){return++rn}var Vn=g.Ay.prototype;dn.prototype=Pe.prototype={constructor:dn,select:function fn(w){var U=this._name,K=this._id;"function"!=typeof w&&(w=(0,$n.A)(w));for(var mt=this._groups,Rt=mt.length,kt=new Array(Rt),wt=0;wt<Rt;++wt)for(var Ht,pe,Vt=mt[wt],Yt=Vt.length,$t=kt[wt]=new Array(Yt),we=0;we<Yt;++we)(Ht=Vt[we])&&(pe=w.call(Ht,Ht.__data__,we,Vt))&&("__data__"in Ht&&(pe.__data__=Ht.__data__),$t[we]=pe,A($t[we],U,K,we,$t,X(Ht,K)));return new dn(kt,this._parents,U,K)},selectAll:function Xn(w){var U=this._name,K=this._id;"function"!=typeof w&&(w=(0,gn.A)(w));for(var mt=this._groups,Rt=mt.length,kt=[],wt=[],Vt=0;Vt<Rt;++Vt)for(var Ht,Yt=mt[Vt],$t=Yt.length,pe=0;pe<$t;++pe)if(Ht=Yt[pe]){for(var We,we=w.call(Ht,Ht.__data__,pe,Yt),ii=X(Ht,K),In=0,mi=we.length;In<mi;++In)(We=we[In])&&A(We,U,K,In,we,ii);kt.push(we),wt.push(Ht)}return new dn(kt,wt,U,K)},filter:function He(w){"function"!=typeof w&&(w=(0,he.A)(w));for(var U=this._groups,K=U.length,mt=new Array(K),Rt=0;Rt<K;++Rt)for(var Yt,kt=U[Rt],wt=kt.length,Vt=mt[Rt]=[],$t=0;$t<wt;++$t)(Yt=kt[$t])&&w.call(Yt,Yt.__data__,$t,kt)&&Vt.push(Yt);return new dn(mt,this._parents,this._name,this._id)},merge:function En(w){if(w._id!==this._id)throw new Error;for(var U=this._groups,K=w._groups,mt=U.length,kt=Math.min(mt,K.length),wt=new Array(mt),Vt=0;Vt<kt;++Vt)for(var we,Yt=U[Vt],$t=K[Vt],Ht=Yt.length,pe=wt[Vt]=new Array(Ht),We=0;We<Ht;++We)(we=Yt[We]||$t[We])&&(pe[We]=we);for(;Vt<mt;++Vt)wt[Vt]=U[Vt];return new dn(wt,this._parents,this._name,this._id)},selection:function pn(){return new nn(this._groups,this._parents)},transition:function Ie(){for(var w=this._name,U=this._id,K=Ke(),mt=this._groups,Rt=mt.length,kt=0;kt<Rt;++kt)for(var Yt,wt=mt[kt],Vt=wt.length,$t=0;$t<Vt;++$t)if(Yt=wt[$t]){var Ht=X(Yt,U);A(Yt,w,K,$t,wt,{time:Ht.time+Ht.delay+Ht.duration,delay:0,duration:Ht.duration,ease:Ht.ease})}return new dn(mt,this._parents,w,K)},call:Vn.call,nodes:Vn.nodes,node:Vn.node,size:Vn.size,empty:Vn.empty,each:Vn.each,on:function $e(w,U){var K=this._id;return arguments.length<2?X(this.node(),K).on.on(w):this.each(function en(w,U,K){var mt,Rt,kt=function Tn(w){return(w+"").trim().split(/^|\s+/).every(function(U){var K=U.indexOf(".");return K>=0&&(U=U.slice(0,K)),!U||"start"===U})}(U)?P:Z;return function(){var wt=kt(this,w),Vt=wt.on;Vt!==mt&&(Rt=(mt=Vt).copy()).on(U,K),wt.on=Rt}}(K,w,U))},attr:function Cn(w,U){var K=(0,q.A)(w),mt="transform"===K?ve:Kt;return this.attrTween(w,"function"==typeof U?(K.local?cn:Ye)(K,mt,Oe(this,"attr."+w,U)):null==U?(K.local?Ot:ye)(K):(K.local?Xe:le)(K,mt,U))},attrTween:function ln(w,U){var K="attr."+w;if(arguments.length<2)return(K=this.tween(K))&&K._value;if(null==U)return this.tween(K,null);if("function"!=typeof U)throw new Error;var mt=(0,q.A)(w);return this.tween(K,(mt.local?Ge:Rn)(mt,U))},style:function an(w,U,K){var mt="transform"==(w+="")?ue:Kt;return null==U?this.styleTween(w,function qe(w,U){var K,mt,Rt;return function(){var kt=(0,bn.j)(this,w),wt=(this.style.removeProperty(w),(0,bn.j)(this,w));return kt===wt?null:kt===K&&wt===mt?Rt:Rt=U(K=kt,mt=wt)}}(w,mt)).on("end.style."+w,mn(w)):"function"==typeof U?this.styleTween(w,function xe(w,U,K){var mt,Rt,kt;return function(){var wt=(0,bn.j)(this,w),Vt=K(this),Yt=Vt+"";return null==Vt&&(this.style.removeProperty(w),Yt=Vt=(0,bn.j)(this,w)),wt===Yt?null:wt===mt&&Yt===Rt?kt:(Rt=Yt,kt=U(mt=wt,Vt))}}(w,mt,Oe(this,"style."+w,U))).each(function hn(w,U){var K,mt,Rt,Vt,kt="style."+U,wt="end."+kt;return function(){var Yt=Z(this,w),$t=Yt.on,Ht=null==Yt.value[kt]?Vt||(Vt=mn(U)):void 0;($t!==K||Rt!==Ht)&&(mt=(K=$t).copy()).on(wt,Rt=Ht),Yt.on=mt}}(this._id,w)):this.styleTween(w,function Fe(w,U,K){var mt,kt,Rt=K+"";return function(){var wt=(0,bn.j)(this,w);return wt===Rt?null:wt===mt?kt:kt=U(mt=wt,K)}}(w,mt,U),K).on("end.style."+w,null)},styleTween:function zt(w,U,K){var mt="style."+(w+="");if(arguments.length<2)return(mt=this.tween(mt))&&mt._value;if(null==U)return this.tween(mt,null);if("function"!=typeof U)throw new Error;return this.tween(mt,function yt(w,U,K){var mt,Rt;function kt(){var wt=U.apply(this,arguments);return wt!==Rt&&(mt=(Rt=wt)&&function H(w,U,K){return function(mt){this.style.setProperty(w,U.call(this,mt),K)}}(w,wt,K)),mt}return kt._value=U,kt}(w,U,K??""))},text:function te(w){return this.tween("text","function"==typeof w?function Gt(w){return function(){var U=w(this);this.textContent=U??""}}(Oe(this,"text",w)):function ut(w){return function(){this.textContent=w}}(null==w?"":w+""))},textTween:function Te(w){var U="text";if(arguments.length<1)return(U=this.tween(U))&&U._value;if(null==w)return this.tween(U,null);if("function"!=typeof w)throw new Error;return this.tween(U,function ee(w){var U,K;function mt(){var Rt=w.apply(this,arguments);return Rt!==K&&(U=(K=Rt)&&function Nt(w){return function(U){this.textContent=w.call(this,U)}}(Rt)),U}return mt._value=w,mt}(w))},remove:function un(){return this.on("end.remove",function Je(w){return function(){var U=this.parentNode;for(var K in this.__transition)if(+K!==w)return;U&&U.removeChild(this)}}(this._id))},tween:function Zt(w,U){var K=this._id;if(w+="",arguments.length<2){for(var wt,mt=X(this.node(),K).tween,Rt=0,kt=mt.length;Rt<kt;++Rt)if((wt=mt[Rt]).name===w)return wt.value;return null}return this.each((null==U?bt:Wt)(K,w,U))},delay:function _e(w){var U=this._id;return arguments.length?this.each(("function"==typeof w?Gn:Jn)(U,w)):X(this.node(),U).delay},duration:function re(w){var U=this._id;return arguments.length?this.each(("function"==typeof w?ai:pi)(U,w)):X(this.node(),U).duration},ease:function be(w){var U=this._id;return arguments.length?this.each(function fe(w,U){if("function"!=typeof U)throw new Error;return function(){Z(this,w).ease=U}}(U,w)):X(this.node(),U).ease},end:function je(){var w,U,K=this,mt=K._id,Rt=K.size();return new Promise(function(kt,wt){var Vt={value:wt},Yt={value:function(){0==--Rt&&kt()}};K.each(function(){var $t=Z(this,mt),Ht=$t.on;Ht!==w&&((U=(w=Ht).copy())._.cancel.push(Vt),U._.interrupt.push(Vt),U._.end.push(Yt)),$t.on=U})})}};var ni={time:null,delay:0,duration:250,ease:function qn(w){return((w*=2)<=1?w*w*w:(w-=2)*w*w+2)/2}};function Oi(w,U){for(var K;!(K=w.__transition)||!(K=K[U]);)if(!(w=w.parentNode))return ni.time=(0,p.tB)(),ni;return K}g.Ay.prototype.interrupt=function dt(w){return this.each(function(){Y(this,w)})},g.Ay.prototype.transition=function hi(w){var U,K;w instanceof dn?(U=w._id,w=w._name):(U=Ke(),(K=ni).time=(0,p.tB)(),w=null==w?null:w+"");for(var mt=this._groups,Rt=mt.length,kt=0;kt<Rt;++kt)for(var Yt,wt=mt[kt],Vt=wt.length,$t=0;$t<Vt;++$t)(Yt=wt[$t])&&A(Yt,w,U,$t,wt,K||Oi(Yt,U));return new dn(mt,this._parents,w,U)}},82883:(Pt,ht,a)=>{"use strict";a.d(ht,{l78:()=>ve,V4s:()=>q,eH3:()=>ue,tlR:()=>se,h1l:()=>X.h1,Xxv:()=>X.Xx,eRw:()=>zt,tXi:()=>dn,T9B:()=>X.T9,jkA:()=>X.jk,WH:()=>hi.WH,Ltv:()=>Di.A,UAC:()=>w.A,wXd:()=>Fi.A,Ui6:()=>U.A,hed:()=>K.A});var X=a(46043),it=Array.prototype.slice;function Y(o){return o}var dt=1,j=2,Dt=3,rt=4,ft=1e-6;function Mt(o){return"translate("+(o+.5)+",0)"}function lt(o){return"translate(0,"+(o+.5)+")"}function at(o){return function(h){return+o(h)}}function st(o){var h=Math.max(0,o.bandwidth()-1)/2;return o.round()&&(h=Math.round(h)),function(d){return+o(d)+h}}function Ft(){return!this.__axis}function Xt(o,h){var d=[],E=null,v=null,_=6,B=6,G=3,V=o===dt||o===rt?-1:1,W=o===rt||o===j?"x":"y",pt=o===dt||o===Dt?Mt:lt;function ct(J){var Et=E??(h.ticks?h.ticks.apply(h,d):h.domain()),ot=v??(h.tickFormat?h.tickFormat.apply(h,d):Y),k=Math.max(_,0)+G,vt=h.range(),tt=+vt[0]+.5,It=+vt[vt.length-1]+.5,Tt=(h.bandwidth?st:at)(h.copy()),ne=J.selection?J.selection():J,Re=ne.selectAll(".domain").data([null]),Be=ne.selectAll(".tick").data(Et,h).order(),ke=Be.exit(),Ue=Be.enter().append("g").attr("class","tick"),Se=Be.select("line"),de=Be.select("text");Re=Re.merge(Re.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Be=Be.merge(Ue),Se=Se.merge(Ue.append("line").attr("stroke","currentColor").attr(W+"2",V*_)),de=de.merge(Ue.append("text").attr("fill","currentColor").attr(W,V*k).attr("dy",o===dt?"0em":o===Dt?"0.71em":"0.32em")),J!==ne&&(Re=Re.transition(J),Be=Be.transition(J),Se=Se.transition(J),de=de.transition(J),ke=ke.transition(J).attr("opacity",ft).attr("transform",function(De){return isFinite(De=Tt(De))?pt(De):this.getAttribute("transform")}),Ue.attr("opacity",ft).attr("transform",function(De){var et=this.parentNode.__axis;return pt(et&&isFinite(et=et(De))?et:Tt(De))})),ke.remove(),Re.attr("d",o===rt||o==j?B?"M"+V*B+","+tt+"H0.5V"+It+"H"+V*B:"M0.5,"+tt+"V"+It:B?"M"+tt+","+V*B+"V0.5H"+It+"V"+V*B:"M"+tt+",0.5H"+It),Be.attr("opacity",1).attr("transform",function(De){return pt(Tt(De))}),Se.attr(W+"2",V*_),de.attr(W,V*k).text(ot),ne.filter(Ft).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",o===j?"start":o===rt?"end":"middle"),ne.each(function(){this.__axis=Tt})}return ct.scale=function(J){return arguments.length?(h=J,ct):h},ct.ticks=function(){return d=it.call(arguments),ct},ct.tickArguments=function(J){return arguments.length?(d=null==J?[]:it.call(J),ct):d.slice()},ct.tickValues=function(J){return arguments.length?(E=null==J?null:it.call(J),ct):E&&E.slice()},ct.tickFormat=function(J){return arguments.length?(v=J,ct):v},ct.tickSize=function(J){return arguments.length?(_=B=+J,ct):_},ct.tickSizeInner=function(J){return arguments.length?(_=+J,ct):_},ct.tickSizeOuter=function(J){return arguments.length?(B=+J,ct):B},ct.tickPadding=function(J){return arguments.length?(G=+J,ct):G},ct}function se(o){return Xt(dt,o)}function ue(o){return Xt(j,o)}function ve(o){return Xt(Dt,o)}function q(o){return Xt(rt,o)}a(19725),Math,Math,Math,Math;var Fn=a(54537);function re(o){return function(){return o}}function fe(){return 1e-6*(Math.random()-.5)}function he(o,h,d,E){if(isNaN(h)||isNaN(d))return o;var v,ct,J,Et,ot,k,vt,tt,It,_=o._root,B={data:E},G=o._x0,V=o._y0,W=o._x1,pt=o._y1;if(!_)return o._root=B,o;for(;_.length;)if((k=h>=(ct=(G+W)/2))?G=ct:W=ct,(vt=d>=(J=(V+pt)/2))?V=J:pt=J,v=_,!(_=_[tt=vt<<1|k]))return v[tt]=B,o;if(Et=+o._x.call(null,_.data),ot=+o._y.call(null,_.data),h===Et&&d===ot)return B.next=_,v?v[tt]=B:o._root=B,o;do{v=v?v[tt]=new Array(4):o._root=new Array(4),(k=h>=(ct=(G+W)/2))?G=ct:W=ct,(vt=d>=(J=(V+pt)/2))?V=J:pt=J}while((tt=vt<<1|k)==(It=(ot>=J)<<1|Et>=ct));return v[It]=_,v[tt]=B,o}function $e(o,h,d,E,v){this.node=o,this.x0=h,this.y0=d,this.x1=E,this.y1=v}function pn(o){return o[0]}function qe(o){return o[1]}function Fe(o,h,d){var E=new xe(h??pn,d??qe,NaN,NaN,NaN,NaN);return null==o?E:E.addAll(o)}function xe(o,h,d,E,v,_){this._x=o,this._y=h,this._x0=d,this._y0=E,this._x1=v,this._y1=_,this._root=void 0}function hn(o){for(var h={data:o.data},d=h;o=o.next;)d=d.next={data:o.data};return h}var an=Fe.prototype=xe.prototype;function H(o){return o.x+o.vx}function yt(o){return o.y+o.vy}function zt(o){var h,d,E=1,v=1;function _(){for(var V,pt,ct,J,Et,ot,k,W=h.length,vt=0;vt<v;++vt)for(pt=Fe(h,H,yt).visitAfter(B),V=0;V<W;++V)k=(ot=d[(ct=h[V]).index])*ot,J=ct.x+ct.vx,Et=ct.y+ct.vy,pt.visit(tt);function tt(It,Tt,ne,Re,Be){var ke=It.data,Ue=It.r,Se=ot+Ue;if(!ke)return Tt>J+Se||Re<J-Se||ne>Et+Se||Be<Et-Se;if(ke.index>ct.index){var de=J-ke.x-ke.vx,De=Et-ke.y-ke.vy,et=de*de+De*De;et<Se*Se&&(0===de&&(et+=(de=fe())*de),0===De&&(et+=(De=fe())*De),et=(Se-(et=Math.sqrt(et)))/et*E,ct.vx+=(de*=et)*(Se=(Ue*=Ue)/(k+Ue)),ct.vy+=(De*=et)*Se,ke.vx-=de*(Se=1-Se),ke.vy-=De*Se)}}}function B(V){if(V.data)return V.r=d[V.data.index];for(var W=V.r=0;W<4;++W)V[W]&&V[W].r>V.r&&(V.r=V[W].r)}function G(){if(h){var V,pt,W=h.length;for(d=new Array(W),V=0;V<W;++V)d[(pt=h[V]).index]=+o(pt,V,h)}}return"function"!=typeof o&&(o=re(null==o?1:+o)),_.initialize=function(V){h=V,G()},_.iterations=function(V){return arguments.length?(v=+V,_):v},_.strength=function(V){return arguments.length?(E=+V,_):E},_.radius=function(V){return arguments.length?(o="function"==typeof V?V:re(+V),G(),_):o},_}an.copy=function(){var d,E,o=new xe(this._x,this._y,this._x0,this._y0,this._x1,this._y1),h=this._root;if(!h)return o;if(!h.length)return o._root=hn(h),o;for(d=[{source:h,target:o._root=new Array(4)}];h=d.pop();)for(var v=0;v<4;++v)(E=h.source[v])&&(E.length?d.push({source:E,target:h.target[v]=new Array(4)}):h.target[v]=hn(E));return o},an.add=function be(o){var h=+this._x.call(null,o),d=+this._y.call(null,o);return he(this.cover(h,d),h,d,o)},an.addAll=function He(o){var h,d,v,_,E=o.length,B=new Array(E),G=new Array(E),V=1/0,W=1/0,pt=-1/0,ct=-1/0;for(d=0;d<E;++d)isNaN(v=+this._x.call(null,h=o[d]))||isNaN(_=+this._y.call(null,h))||(B[d]=v,G[d]=_,v<V&&(V=v),v>pt&&(pt=v),_<W&&(W=_),_>ct&&(ct=_));if(V>pt||W>ct)return this;for(this.cover(V,W).cover(pt,ct),d=0;d<E;++d)he(this,B[d],G[d],o[d]);return this},an.cover=function En(o,h){if(isNaN(o=+o)||isNaN(h=+h))return this;var d=this._x0,E=this._y0,v=this._x1,_=this._y1;if(isNaN(d))v=(d=Math.floor(o))+1,_=(E=Math.floor(h))+1;else{for(var V,W,B=v-d,G=this._root;d>o||o>=v||E>h||h>=_;)switch(W=(h<E)<<1|o<d,V=new Array(4),V[W]=G,G=V,B*=2,W){case 0:v=d+B,_=E+B;break;case 1:d=v-B,_=E+B;break;case 2:v=d+B,E=_-B;break;case 3:d=v-B,E=_-B}this._root&&this._root.length&&(this._root=G)}return this._x0=d,this._y0=E,this._x1=v,this._y1=_,this},an.data=function Tn(){var o=[];return this.visit(function(h){if(!h.length)do{o.push(h.data)}while(h=h.next)}),o},an.extent=function en(o){return arguments.length?this.cover(+o[0][0],+o[0][1]).cover(+o[1][0],+o[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},an.find=function Je(o,h,d){var E,B,G,V,W,ot,k,v=this._x0,_=this._y0,pt=this._x1,ct=this._y1,J=[],Et=this._root;for(Et&&J.push(new $e(Et,v,_,pt,ct)),null==d?d=1/0:(v=o-d,_=h-d,pt=o+d,ct=h+d,d*=d);ot=J.pop();)if(!(!(Et=ot.node)||(B=ot.x0)>pt||(G=ot.y0)>ct||(V=ot.x1)<v||(W=ot.y1)<_))if(Et.length){var vt=(B+V)/2,tt=(G+W)/2;J.push(new $e(Et[3],vt,tt,V,W),new $e(Et[2],B,tt,vt,W),new $e(Et[1],vt,G,V,tt),new $e(Et[0],B,G,vt,tt)),(k=(h>=tt)<<1|o>=vt)&&(ot=J[J.length-1],J[J.length-1]=J[J.length-1-k],J[J.length-1-k]=ot)}else{var It=o-+this._x.call(null,Et.data),Tt=h-+this._y.call(null,Et.data),ne=It*It+Tt*Tt;if(ne<d){var Re=Math.sqrt(d=ne);v=o-Re,_=h-Re,pt=o+Re,ct=h+Re,E=Et.data}}return E},an.remove=function un(o){if(isNaN(pt=+this._x.call(null,o))||isNaN(ct=+this._y.call(null,o)))return this;var h,E,v,_,pt,ct,J,Et,ot,k,vt,tt,d=this._root,B=this._x0,G=this._y0,V=this._x1,W=this._y1;if(!d)return this;if(d.length)for(;;){if((ot=pt>=(J=(B+V)/2))?B=J:V=J,(k=ct>=(Et=(G+W)/2))?G=Et:W=Et,h=d,!(d=d[vt=k<<1|ot]))return this;if(!d.length)break;(h[vt+1&3]||h[vt+2&3]||h[vt+3&3])&&(E=h,tt=vt)}for(;d.data!==o;)if(v=d,!(d=d.next))return this;return(_=d.next)&&delete d.next,v?(_?v.next=_:delete v.next,this):h?(_?h[vt]=_:delete h[vt],(d=h[0]||h[1]||h[2]||h[3])&&d===(h[3]||h[2]||h[1]||h[0])&&!d.length&&(E?E[tt]=d:this._root=d),this):(this._root=_,this)},an.removeAll=function $n(o){for(var h=0,d=o.length;h<d;++h)this.remove(o[h]);return this},an.root=function fn(){return this._root},an.size=function gn(){var o=0;return this.visit(function(h){if(!h.length)do{++o}while(h=h.next)}),o},an.visit=function Xn(o){var d,v,_,B,G,V,h=[],E=this._root;for(E&&h.push(new $e(E,this._x0,this._y0,this._x1,this._y1));d=h.pop();)if(!o(E=d.node,_=d.x0,B=d.y0,G=d.x1,V=d.y1)&&E.length){var W=(_+G)/2,pt=(B+V)/2;(v=E[3])&&h.push(new $e(v,W,pt,G,V)),(v=E[2])&&h.push(new $e(v,_,pt,W,V)),(v=E[1])&&h.push(new $e(v,W,B,G,pt)),(v=E[0])&&h.push(new $e(v,_,B,W,pt))}return this},an.visitAfter=function nn(o){var E,h=[],d=[];for(this._root&&h.push(new $e(this._root,this._x0,this._y0,this._x1,this._y1));E=h.pop();){var v=E.node;if(v.length){var _,B=E.x0,G=E.y0,V=E.x1,W=E.y1,pt=(B+V)/2,ct=(G+W)/2;(_=v[0])&&h.push(new $e(_,B,G,pt,ct)),(_=v[1])&&h.push(new $e(_,pt,G,V,ct)),(_=v[2])&&h.push(new $e(_,B,ct,pt,W)),(_=v[3])&&h.push(new $e(_,pt,ct,V,W))}d.push(E)}for(;E=d.pop();)o(E.node,E.x0,E.y0,E.x1,E.y1);return this},an.x=function bn(o){return arguments.length?(this._x=o,this):this._x},an.y=function mn(o){return arguments.length?(this._y=o,this):this._y};var Nt=a(4171),ee=a(89191),je=10,rn=Math.PI*(3-Math.sqrt(5));function dn(o){var h,d=1,E=.001,v=1-Math.pow(E,1/300),_=0,B=.6,G=(0,Fn.Tj)(),V=(0,ee.O1)(pt),W=(0,Nt.A)("tick","end");function pt(){ct(),W.call("tick",h),d<E&&(V.stop(),W.call("end",h))}function ct(ot){var k,tt,vt=o.length;void 0===ot&&(ot=1);for(var It=0;It<ot;++It)for(d+=(_-d)*v,G.each(function(Tt){Tt(d)}),k=0;k<vt;++k)null==(tt=o[k]).fx?tt.x+=tt.vx*=B:(tt.x=tt.fx,tt.vx=0),null==tt.fy?tt.y+=tt.vy*=B:(tt.y=tt.fy,tt.vy=0);return h}function J(){for(var vt,ot=0,k=o.length;ot<k;++ot){if((vt=o[ot]).index=ot,null!=vt.fx&&(vt.x=vt.fx),null!=vt.fy&&(vt.y=vt.fy),isNaN(vt.x)||isNaN(vt.y)){var tt=je*Math.sqrt(ot),It=ot*rn;vt.x=tt*Math.cos(It),vt.y=tt*Math.sin(It)}(isNaN(vt.vx)||isNaN(vt.vy))&&(vt.vx=vt.vy=0)}}function Et(ot){return ot.initialize&&ot.initialize(o),ot}return null==o&&(o=[]),J(),h={tick:ct,restart:function(){return V.restart(pt),h},stop:function(){return V.stop(),h},nodes:function(ot){return arguments.length?(o=ot,J(),G.each(Et),h):o},alpha:function(ot){return arguments.length?(d=+ot,h):d},alphaMin:function(ot){return arguments.length?(E=+ot,h):E},alphaDecay:function(ot){return arguments.length?(v=+ot,h):+v},alphaTarget:function(ot){return arguments.length?(_=+ot,h):_},velocityDecay:function(ot){return arguments.length?(B=1-ot,h):1-B},force:function(ot,k){return arguments.length>1?(null==k?G.remove(ot):G.set(ot,Et(k)),h):G.get(ot)},find:function(ot,k,vt){var Tt,ne,Re,Be,ke,tt=0,It=o.length;for(null==vt?vt=1/0:vt*=vt,tt=0;tt<It;++tt)(Re=(Tt=ot-(Be=o[tt]).x)*Tt+(ne=k-Be.y)*ne)<vt&&(ke=Be,vt=Re);return ke},on:function(ot,k){return arguments.length>1?(W.on(ot,k),h):W.on(ot)}}}function Ke(){return Math.random()}!function o(h){function d(E,v){return E=null==E?0:+E,v=null==v?1:+v,1===arguments.length?(v=E,E=0):v-=E,function(){return h()*v+E}}return d.source=o,d}(Ke);const Si=function o(h){function d(E,v){var _,B;return E=null==E?0:+E,v=null==v?1:+v,function(){var G;if(null!=_)G=_,_=null;else do{_=2*h()-1,G=2*h()-1,B=_*_+G*G}while(!B||B>1);return E+v*G*Math.sqrt(-2*Math.log(B)/B)}}return d.source=o,d}(Ke),qn=(function o(h){function d(){var E=Si.source(h).apply(this,arguments);return function(){return Math.exp(E())}}return d.source=o,d}(Ke),function o(h){function d(E){return function(){for(var v=0,_=0;_<E;++_)v+=h();return v}}return d.source=o,d}(Ke));(function o(h){function d(E){var v=qn.source(h)(E);return function(){return v()/E}}return d.source=o,d})(Ke),function o(h){function d(E){return function(){return-Math.log(1-h())/E}}return d.source=o,d}(Ke);var hi=a(16354),Di=a(14221),Fi=a(42472),w=a(6476),U=a(53052),K=a(97833);function Rt(){this._=null}function kt(o){o.U=o.C=o.L=o.R=o.P=o.N=null}function wt(o,h){var d=h,E=h.R,v=d.U;v?v.L===d?v.L=E:v.R=E:o._=E,E.U=v,d.U=E,d.R=E.L,d.R&&(d.R.U=d),E.L=d}function Vt(o,h){var d=h,E=h.L,v=d.U;v?v.L===d?v.L=E:v.R=E:o._=E,E.U=v,d.U=E,d.L=E.R,d.L&&(d.L.U=d),E.R=d}function Yt(o){for(;o.L;)o=o.L;return o}a(72625),Rt.prototype={constructor:Rt,insert:function(o,h){var d,E,v;if(o){if(h.P=o,h.N=o.N,o.N&&(o.N.P=h),o.N=h,o.R){for(o=o.R;o.L;)o=o.L;o.L=h}else o.R=h;d=o}else this._?(o=Yt(this._),h.P=null,h.N=o,o.P=o.L=h,d=o):(h.P=h.N=null,this._=h,d=null);for(h.L=h.R=null,h.U=d,h.C=!0,o=h;d&&d.C;)d===(E=d.U).L?(v=E.R)&&v.C?(d.C=v.C=!1,E.C=!0,o=E):(o===d.R&&(wt(this,d),d=(o=d).U),d.C=!1,E.C=!0,Vt(this,E)):(v=E.L)&&v.C?(d.C=v.C=!1,E.C=!0,o=E):(o===d.L&&(Vt(this,d),d=(o=d).U),d.C=!1,E.C=!0,wt(this,E)),d=o.U;this._.C=!1},remove:function(o){o.N&&(o.N.P=o.P),o.P&&(o.P.N=o.N),o.N=o.P=null;var d,_,B,h=o.U,E=o.L,v=o.R;if(_=E?v?Yt(v):E:v,h?h.L===o?h.L=_:h.R=_:this._=_,E&&v?(B=_.C,_.C=o.C,_.L=E,E.U=_,_!==v?(h=_.U,_.U=o.U,h.L=o=_.R,_.R=v,v.U=_):(_.U=h,h=_,o=_.R)):(B=o.C,o=_),o&&(o.U=h),!B){if(o&&o.C)return void(o.C=!1);do{if(o===this._)break;if(o===h.L){if((d=h.R).C&&(d.C=!1,h.C=!0,wt(this,h),d=h.R),d.L&&d.L.C||d.R&&d.R.C){(!d.R||!d.R.C)&&(d.L.C=!1,d.C=!0,Vt(this,d),d=h.R),d.C=h.C,h.C=d.R.C=!1,wt(this,h),o=this._;break}}else if((d=h.L).C&&(d.C=!1,h.C=!0,Vt(this,h),d=h.L),d.L&&d.L.C||d.R&&d.R.C){(!d.L||!d.L.C)&&(d.R.C=!1,d.C=!0,wt(this,d),d=h.L),d.C=h.C,h.C=d.L.C=!1,Vt(this,h),o=this._;break}d.C=!0,o=h,h=h.U}while(!o.C);o&&(o.C=!1)}}};const $t=Rt;function Ht(o,h,d,E){var v=[null,null],_=Ln.push(v)-1;return v.left=o,v.right=h,d&&we(v,o,h,d),E&&we(v,h,o,E),Yn[o.index].halfedges.push(_),Yn[h.index].halfedges.push(_),v}function pe(o,h,d){var E=[h,d];return E.left=o,E}function we(o,h,d,E){o[0]||o[1]?o.left===d?o[1]=E:o[0]=E:(o[0]=E,o.left=h,o.right=d)}function We(o,h,d,E,v){var k,_=o[0],B=o[1],G=_[0],V=_[1],ct=0,J=1,Et=B[0]-G,ot=B[1]-V;if(k=h-G,Et||!(k>0)){if(k/=Et,Et<0){if(k<ct)return;k<J&&(J=k)}else if(Et>0){if(k>J)return;k>ct&&(ct=k)}if(k=E-G,Et||!(k<0)){if(k/=Et,Et<0){if(k>J)return;k>ct&&(ct=k)}else if(Et>0){if(k<ct)return;k<J&&(J=k)}if(k=d-V,ot||!(k>0)){if(k/=ot,ot<0){if(k<ct)return;k<J&&(J=k)}else if(ot>0){if(k>J)return;k>ct&&(ct=k)}if(k=v-V,ot||!(k<0)){if(k/=ot,ot<0){if(k>J)return;k>ct&&(ct=k)}else if(ot>0){if(k<ct)return;k<J&&(J=k)}return!(ct>0)&&!(J<1)||(ct>0&&(o[0]=[G+ct*Et,V+ct*ot]),J<1&&(o[1]=[G+J*Et,V+J*ot])),!0}}}}}function ii(o,h,d,E,v){var _=o[1];if(_)return!0;var k,vt,B=o[0],G=o.left,V=o.right,W=G[0],pt=G[1],ct=V[0],J=V[1],Et=(W+ct)/2;if(J===pt){if(Et<h||Et>=E)return;if(W>ct){if(B){if(B[1]>=v)return}else B=[Et,d];_=[Et,v]}else{if(B){if(B[1]<d)return}else B=[Et,v];_=[Et,d]}}else if(vt=(pt+J)/2-(k=(W-ct)/(J-pt))*Et,k<-1||k>1)if(W>ct){if(B){if(B[1]>=v)return}else B=[(d-vt)/k,d];_=[(v-vt)/k,v]}else{if(B){if(B[1]<d)return}else B=[(v-vt)/k,v];_=[(d-vt)/k,d]}else if(pt<J){if(B){if(B[0]>=E)return}else B=[h,k*h+vt];_=[E,k*E+vt]}else{if(B){if(B[0]<h)return}else B=[E,k*E+vt];_=[h,k*h+vt]}return o[0]=B,o[1]=_,!0}function Er(o,h){var d=o.site,E=h.left,v=h.right;return d===v&&(v=E,E=d),v?Math.atan2(v[1]-E[1],v[0]-E[0]):(d===E?(E=h[1],v=h[0]):(E=h[0],v=h[1]),Math.atan2(E[0]-v[0],v[1]-E[1]))}function Xi(o,h){return h[+(h.left!==o.site)]}function vi(o,h){return h[+(h.left===o.site)]}var fi,ti=[];function Ti(){kt(this),this.x=this.y=this.arc=this.site=this.cy=null}function ri(o){var h=o.P,d=o.N;if(h&&d){var E=h.site,v=o.site,_=d.site;if(E!==_){var B=v[0],G=v[1],V=E[0]-B,W=E[1]-G,pt=_[0]-B,ct=_[1]-G,J=2*(V*ct-W*pt);if(!(J>=-hr)){var Et=V*V+W*W,ot=pt*pt+ct*ct,k=(ct*Et-W*ot)/J,vt=(V*ot-pt*Et)/J,tt=ti.pop()||new Ti;tt.arc=o,tt.site=v,tt.x=k+B,tt.y=(tt.cy=vt+G)+Math.sqrt(k*k+vt*vt),o.circle=tt;for(var It=null,Tt=xi._;Tt;)if(tt.y<Tt.y||tt.y===Tt.y&&tt.x<=Tt.x){if(!Tt.L){It=Tt.P;break}Tt=Tt.L}else{if(!Tt.R){It=Tt;break}Tt=Tt.R}xi.insert(It,tt),It||(fi=tt)}}}}function tn(o){var h=o.circle;h&&(h.P||(fi=h.N),xi.remove(h),ti.push(h),kt(h),o.circle=null)}var Qi=[];function lr(){kt(this),this.edge=this.site=this.circle=null}function Ve(o){var h=Qi.pop()||new lr;return h.site=o,h}function wn(o){tn(o),Pi.remove(o),Qi.push(o),kt(o)}function yi(o){var h=o.circle,d=h.x,E=h.cy,v=[d,E],_=o.P,B=o.N,G=[o];wn(o);for(var V=_;V.circle&&Math.abs(d-V.circle.x)<vn&&Math.abs(E-V.circle.cy)<vn;)_=V.P,G.unshift(V),wn(V),V=_;G.unshift(V),tn(V);for(var W=B;W.circle&&Math.abs(d-W.circle.x)<vn&&Math.abs(E-W.circle.cy)<vn;)B=W.N,G.push(W),wn(W),W=B;G.push(W),tn(W);var ct,pt=G.length;for(ct=1;ct<pt;++ct)we((W=G[ct]).edge,(V=G[ct-1]).site,W.site,v);(W=G[pt-1]).edge=Ht((V=G[0]).site,W.site,null,v),ri(V),ri(W)}function Wn(o){for(var E,v,_,B,h=o[0],d=o[1],G=Pi._;G;)if((_=Pn(G,d)-h)>vn)G=G.L;else{if(!((B=h-ur(G,d))>vn)){_>-vn?(E=G.P,v=G):B>-vn?(E=G,v=G.N):E=v=G;break}if(!G.R){E=G;break}G=G.R}!function mi(o){Yn[o.index]={site:o,halfedges:[]}}(o);var V=Ve(o);if(Pi.insert(E,V),E||v){if(E===v)return tn(E),v=Ve(E.site),Pi.insert(V,v),V.edge=v.edge=Ht(E.site,V.site),ri(E),void ri(v);if(!v)return void(V.edge=Ht(E.site,V.site));tn(E),tn(v);var W=E.site,pt=W[0],ct=W[1],J=o[0]-pt,Et=o[1]-ct,ot=v.site,k=ot[0]-pt,vt=ot[1]-ct,tt=2*(J*vt-Et*k),It=J*J+Et*Et,Tt=k*k+vt*vt,ne=[(vt*It-Et*Tt)/tt+pt,(J*Tt-k*It)/tt+ct];we(v.edge,W,ot,ne),V.edge=Ht(W,o,null,ne),v.edge=Ht(o,ot,null,ne),ri(E),ri(v)}}function Pn(o,h){var d=o.site,E=d[0],v=d[1],_=v-h;if(!_)return E;var B=o.P;if(!B)return-1/0;var G=(d=B.site)[0],V=d[1],W=V-h;if(!W)return G;var pt=G-E,ct=1/_-1/W,J=pt/W;return ct?(-J+Math.sqrt(J*J-2*ct*(pt*pt/(-2*W)-V+W/2+v-_/2)))/ct+E:(E+G)/2}function ur(o,h){var d=o.N;if(d)return Pn(d,h);var E=o.site;return E[1]===h?E[0]:1/0}var Pi,Yn,xi,Ln,vn=1e-6,hr=1e-12;function dr(o,h,d){return(o[0]-d[0])*(h[1]-o[1])-(o[0]-h[0])*(d[1]-o[1])}function fr(o,h){return h[1]-o[1]||h[0]-o[0]}function Gi(o,h){var E,v,_,d=o.sort(fr).pop();for(Ln=[],Yn=new Array(o.length),Pi=new $t,xi=new $t;;)if(_=fi,d&&(!_||d[1]<_.y||d[1]===_.y&&d[0]<_.x))(d[0]!==E||d[1]!==v)&&(Wn(d),E=d[0],v=d[1]),d=o.pop();else{if(!_)break;yi(_.arc)}if(function cr(){for(var d,E,v,_,o=0,h=Yn.length;o<h;++o)if((d=Yn[o])&&(_=(E=d.halfedges).length)){var B=new Array(_),G=new Array(_);for(v=0;v<_;++v)B[v]=v,G[v]=Er(d,Ln[E[v]]);for(B.sort(function(V,W){return G[W]-G[V]}),v=0;v<_;++v)G[v]=E[B[v]];for(v=0;v<_;++v)E[v]=G[v]}}(),h){var B=+h[0][0],G=+h[0][1],V=+h[1][0],W=+h[1][1];(function In(o,h,d,E){for(var _,v=Ln.length;v--;)ii(_=Ln[v],o,h,d,E)&&We(_,o,h,d,E)&&(Math.abs(_[0][0]-_[1][0])>vn||Math.abs(_[0][1]-_[1][1])>vn)||delete Ln[v]})(B,G,V,W),function Ni(o,h,d,E){var _,B,G,V,W,pt,ct,J,Et,ot,k,vt,v=Yn.length,tt=!0;for(_=0;_<v;++_)if(B=Yn[_]){for(G=B.site,V=(W=B.halfedges).length;V--;)Ln[W[V]]||W.splice(V,1);for(V=0,pt=W.length;V<pt;)k=(ot=vi(B,Ln[W[V]]))[0],vt=ot[1],J=(ct=Xi(B,Ln[W[++V%pt]]))[0],Et=ct[1],(Math.abs(k-J)>vn||Math.abs(vt-Et)>vn)&&(W.splice(V,0,Ln.push(pe(G,ot,Math.abs(k-o)<vn&&E-vt>vn?[o,Math.abs(J-o)<vn?Et:E]:Math.abs(vt-E)<vn&&d-k>vn?[Math.abs(Et-E)<vn?J:d,E]:Math.abs(k-d)<vn&&vt-h>vn?[d,Math.abs(J-d)<vn?Et:h]:Math.abs(vt-h)<vn&&k-o>vn?[Math.abs(Et-h)<vn?J:o,h]:null))-1),++pt);pt&&(tt=!1)}if(tt){var It,Tt,ne,Re=1/0;for(_=0,tt=null;_<v;++_)(B=Yn[_])&&(ne=(It=(G=B.site)[0]-o)*It+(Tt=G[1]-h)*Tt)<Re&&(Re=ne,tt=B);if(tt){var Be=[o,h],ke=[o,E],Ue=[d,E],Se=[d,h];tt.halfedges.push(Ln.push(pe(G=tt.site,Be,ke))-1,Ln.push(pe(G,ke,Ue))-1,Ln.push(pe(G,Ue,Se))-1,Ln.push(pe(G,Se,Be))-1)}}for(_=0;_<v;++_)(B=Yn[_])&&(B.halfedges.length||delete Yn[_])}(B,G,V,W)}this.edges=Ln,this.cells=Yn,Pi=xi=Ln=Yn=null}function Ci(o,h,d){this.k=o,this.x=h,this.y=d}Gi.prototype={constructor:Gi,polygons:function(){var o=this.edges;return this.cells.map(function(h){var d=h.halfedges.map(function(E){return Xi(h,o[E])});return d.data=h.site.data,d})},triangles:function(){var o=[],h=this.edges;return this.cells.forEach(function(d,E){if(G=(_=d.halfedges).length)for(var _,G,V,v=d.site,B=-1,W=h[_[G-1]],pt=W.left===v?W.right:W.left;++B<G;)V=pt,pt=(W=h[_[B]]).left===v?W.right:W.left,V&&pt&&E<V.index&&E<pt.index&&dr(v,V,pt)<0&&o.push([v.data,V.data,pt.data])}),o},links:function(){return this.edges.filter(function(o){return o.right}).map(function(o){return{source:o.left.data,target:o.right.data}})},find:function(o,h,d){for(var v,G,E=this,_=E._found||0,B=E.cells.length;!(G=E.cells[_]);)if(++_>=B)return null;var V=o-G.site[0],W=h-G.site[1],pt=V*V+W*W;do{G=E.cells[v=_],_=null,G.halfedges.forEach(function(ct){var J=E.edges[ct],Et=J.left;if(Et!==G.site&&Et||(Et=J.right)){var ot=o-Et[0],k=h-Et[1],vt=ot*ot+k*k;vt<pt&&(pt=vt,_=Et.index)}})}while(null!==_);return E._found=v,null==d||pt<=d*d?G.site:null}},Ci.prototype={constructor:Ci,scale:function(o){return 1===o?this:new Ci(this.k*o,this.x,this.y)},translate:function(o,h){return 0===o&0===h?this:new Ci(this.k,this.x+this.k*o,this.y+this.k*h)},apply:function(o){return[o[0]*this.k+this.x,o[1]*this.k+this.y]},applyX:function(o){return o*this.k+this.x},applyY:function(o){return o*this.k+this.y},invert:function(o){return[(o[0]-this.x)/this.k,(o[1]-this.y)/this.k]},invertX:function(o){return(o-this.x)/this.k},invertY:function(o){return(o-this.y)/this.k},rescaleX:function(o){return o.copy().domain(o.range().map(this.invertX,this).map(o.invert,o))},rescaleY:function(o){return o.copy().domain(o.range().map(this.invertY,this).map(o.invert,o))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Ci(1,0,0)},55228:Pt=>{Pt.exports=function ht(a,g,T,p){for(var Q=-1,I=null==a?0:a.length;++Q<I;){var F=a[Q];g(p,F,T(F),a)}return p}},37930:(Pt,ht,a)=>{var g=a(21713),T=a(35565);Pt.exports=function p(Q,I,F){(void 0!==F&&!T(Q[I],F)||void 0===F&&!(I in Q))&&g(Q,I,F)}},62578:(Pt,ht,a)=>{var g=a(36506);Pt.exports=function T(p,Q,I,F){return g(p,function(nt,b,S){Q(F,nt,I(nt),S)}),F}},74381:Pt=>{Pt.exports=function ht(a,g,T){var p;return T(a,function(Q,I,F){if(g(Q,I,F))return p=I,!1}),p}},2075:(Pt,ht,a)=>{var g=a(79980),T=a(37930),p=a(59412),Q=a(78757),I=a(39148),F=a(84680),nt=a(25611);Pt.exports=function b(S,O,z,N,C){S!==O&&p(O,function(A,P){if(C||(C=new g),I(A))Q(S,O,P,z,b,N,C);else{var Z=N?N(nt(S,P),A,P+"",S,O,C):void 0;void 0===Z&&(Z=A),T(S,P,Z)}},F)}},78757:(Pt,ht,a)=>{var g=a(37930),T=a(52587),p=a(60616),Q=a(58242),I=a(16892),F=a(75123),nt=a(29142),b=a(33086),S=a(77997),O=a(72535),z=a(39148),N=a(17832),C=a(78074),A=a(25611),P=a(66767);Pt.exports=function Z(X,it,Y,dt,j,Dt,rt){var ft=A(X,Y),Mt=A(it,Y),lt=rt.get(Mt);if(lt)g(X,Y,lt);else{var at=Dt?Dt(ft,Mt,Y+"",X,it,rt):void 0,st=void 0===at;if(st){var Ft=nt(Mt),Xt=!Ft&&S(Mt),se=!Ft&&!Xt&&C(Mt);at=Mt,Ft||Xt||se?nt(ft)?at=ft:b(ft)?at=Q(ft):Xt?(st=!1,at=T(Mt,!0)):se?(st=!1,at=p(Mt,!0)):at=[]:N(Mt)||F(Mt)?(at=ft,F(ft)?at=P(ft):(!z(ft)||O(ft))&&(at=I(Mt))):st=!1}st&&(rt.set(Mt,at),j(at,Mt,dt,Dt,rt),rt.delete(Mt)),g(X,Y,at)}}},16806:(Pt,ht,a)=>{var g=a(34606);Pt.exports=function T(p,Q){for(var I=p.length;I--&&g(Q,p[I],0)>-1;);return I}},82257:(Pt,ht,a)=>{var g=a(34606);Pt.exports=function T(p,Q){for(var I=-1,F=p.length;++I<F&&g(Q,p[I],0)>-1;);return I}},33763:(Pt,ht,a)=>{var g=a(55228),T=a(62578),p=a(39078),Q=a(29142);Pt.exports=function I(F,nt){return function(b,S){var O=Q(b)?g:T,z=nt?nt():{};return O(b,F,p(S,2),z)}}},86059:(Pt,ht,a)=>{var g=a(2075),T=a(39148);Pt.exports=function p(Q,I,F,nt,b,S){return T(Q)&&T(I)&&(S.set(I,Q),g(Q,I,void 0,p,S),S.delete(I)),Q}},25611:Pt=>{Pt.exports=function ht(a,g){if(("constructor"!==g||"function"!=typeof a[g])&&"__proto__"!=g)return a[g]}},41895:(Pt,ht,a)=>{var g=a(90304),T=a(25897),p=a(86059),Q=a(22251),I=T(function(F){return F.push(void 0,p),g(Q,void 0,F)});Pt.exports=I},40437:(Pt,ht,a)=>{var g=a(74381),T=a(74594),p=a(39078);Pt.exports=function Q(I,F){return g(I,p(F,3),T)}},95478:(Pt,ht,a)=>{var g=a(34606),T=a(51578),p=Math.max;Pt.exports=function Q(I,F,nt){var b=null==I?0:I.length;if(!b)return-1;var S=null==nt?0:T(nt);return S<0&&(S=p(b+S,0)),g(I,F,S)}},97861:(Pt,ht,a)=>{var g=a(21713),p=a(33763)(function(Q,I,F){g(Q,F,I)});Pt.exports=p},22251:(Pt,ht,a)=>{var g=a(2075),p=a(10552)(function(Q,I,F,nt){g(Q,I,F,nt)});Pt.exports=p},51807:(Pt,ht,a)=>{var g=a(1335),T=a(39078),p=a(70039),Q=a(66930);Pt.exports=function I(F,nt){if(null==F)return{};var b=g(Q(F),function(S){return[S]});return nt=T(nt),p(F,b,function(S,O){return nt(S,O[0])})}},53674:(Pt,ht,a)=>{var g=a(63017),T=a(24390),p=a(25897),Q=a(13927),I=p(function(F,nt){if(null==F)return[];var b=nt.length;return b>1&&Q(F,nt[0],nt[1])?nt=[]:b>2&&Q(nt[0],nt[1],nt[2])&&(nt=[nt[0]]),T(F,g(nt,1),[])});Pt.exports=I},66767:(Pt,ht,a)=>{var g=a(20088),T=a(84680);Pt.exports=function p(Q){return g(Q,T(Q))}},28603:(Pt,ht,a)=>{var g=a(9059),T=a(73955),p=a(43939),Q=a(16806),I=a(82257),F=a(19261),nt=a(41387);Pt.exports=function b(S,O,z){if((S=nt(S))&&(z||void 0===O))return T(S);if(!S||!(O=g(O)))return S;var N=F(S),C=F(O),A=I(N,C),P=Q(N,C)+1;return p(N,A,P).join("")}},40626:(Pt,ht,a)=>{var g=a(9059),T=a(43939),p=a(16806),Q=a(19261),I=a(41387),F=a(3809);Pt.exports=function nt(b,S,O){if((b=I(b))&&(O||void 0===S))return b.slice(0,F(b)+1);if(!b||!(S=g(S)))return b;var z=Q(b),N=p(z,Q(S))+1;return T(z,0,N).join("")}},30383:(Pt,ht,a)=>{var g=a(9059),T=a(43939),p=a(82257),Q=a(19261),I=a(41387),F=/^\s+/;Pt.exports=function nt(b,S,O){if((b=I(b))&&(O||void 0===S))return b.replace(F,"");if(!b||!(S=g(S)))return b;var z=Q(b),N=p(z,Q(S));return T(z,N).join("")}},97333:(Pt,ht,a)=>{var g=a(63017),T=a(39078),p=a(25897),Q=a(36718),I=a(33086),F=a(22311),nt=p(function(b){var S=F(b);return I(S)&&(S=void 0),Q(g(b,1,I,!0),T(S,2))});Pt.exports=nt},64230:(Pt,ht,a)=>{var g=a(36718);Pt.exports=function T(p){return p&&p.length?g(p):[]}},81218:(Pt,ht,a)=>{"use strict";function g($,At,Kt){$.prototype=At.prototype=Kt,Kt.constructor=$}function T($,At){var Kt=Object.create($.prototype);for(var ye in At)Kt[ye]=At[ye];return Kt}function p(){}a.d(ht,{Qh:()=>Mt});var Q=.7,I=1/Q,F="\\s*([+-]?\\d+)\\s*",nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",b="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S=/^#([0-9a-f]{3,8})$/,O=new RegExp(`^rgb\\(${F},${F},${F}\\)$`),z=new RegExp(`^rgb\\(${b},${b},${b}\\)$`),N=new RegExp(`^rgba\\(${F},${F},${F},${nt}\\)$`),C=new RegExp(`^rgba\\(${b},${b},${b},${nt}\\)$`),A=new RegExp(`^hsl\\(${nt},${b},${b}\\)$`),P=new RegExp(`^hsla\\(${nt},${b},${b},${nt}\\)$`),Z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function X(){return this.rgb().formatHex()}function dt(){return this.rgb().formatRgb()}function j($){var At,Kt;return $=($+"").trim().toLowerCase(),(At=S.exec($))?(Kt=At[1].length,At=parseInt(At[1],16),6===Kt?Dt(At):3===Kt?new lt(At>>8&15|At>>4&240,At>>4&15|240&At,(15&At)<<4|15&At,1):8===Kt?rt(At>>24&255,At>>16&255,At>>8&255,(255&At)/255):4===Kt?rt(At>>12&15|At>>8&240,At>>8&15|At>>4&240,At>>4&15|240&At,((15&At)<<4|15&At)/255):null):(At=O.exec($))?new lt(At[1],At[2],At[3],1):(At=z.exec($))?new lt(255*At[1]/100,255*At[2]/100,255*At[3]/100,1):(At=N.exec($))?rt(At[1],At[2],At[3],At[4]):(At=C.exec($))?rt(255*At[1]/100,255*At[2]/100,255*At[3]/100,At[4]):(At=A.exec($))?ve(At[1],At[2]/100,At[3]/100,1):(At=P.exec($))?ve(At[1],At[2]/100,At[3]/100,At[4]):Z.hasOwnProperty($)?Dt(Z[$]):"transparent"===$?new lt(NaN,NaN,NaN,0):null}function Dt($){return new lt($>>16&255,$>>8&255,255&$,1)}function rt($,At,Kt,ye){return ye<=0&&($=At=Kt=NaN),new lt($,At,Kt,ye)}function Mt($,At,Kt,ye){return 1===arguments.length?function ft($){return $ instanceof p||($=j($)),$?new lt(($=$.rgb()).r,$.g,$.b,$.opacity):new lt}($):new lt($,At,Kt,ye??1)}function lt($,At,Kt,ye){this.r=+$,this.g=+At,this.b=+Kt,this.opacity=+ye}function at(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}`}function Ft(){const $=Xt(this.opacity);return`${1===$?"rgb(":"rgba("}${se(this.r)}, ${se(this.g)}, ${se(this.b)}${1===$?")":`, ${$})`}`}function Xt($){return isNaN($)?1:Math.max(0,Math.min(1,$))}function se($){return Math.max(0,Math.min(255,Math.round($)||0))}function ue($){return(($=se($))<16?"0":"")+$.toString(16)}function ve($,At,Kt,ye){return ye<=0?$=At=Kt=NaN:Kt<=0||Kt>=1?$=At=NaN:At<=0&&($=NaN),new Wt($,At,Kt,ye)}function q($){if($ instanceof Wt)return new Wt($.h,$.s,$.l,$.opacity);if($ instanceof p||($=j($)),!$)return new Wt;if($ instanceof Wt)return $;var At=($=$.rgb()).r/255,Kt=$.g/255,ye=$.b/255,Ot=Math.min(At,Kt,ye),le=Math.max(At,Kt,ye),Xe=NaN,Ye=le-Ot,cn=(le+Ot)/2;return Ye?(Xe=At===le?(Kt-ye)/Ye+6*(Kt<ye):Kt===le?(ye-At)/Ye+2:(At-Kt)/Ye+4,Ye/=cn<.5?le+Ot:2-le-Ot,Xe*=60):Ye=cn>0&&cn<1?0:Xe,new Wt(Xe,Ye,cn,$.opacity)}function Wt($,At,Kt,ye){this.h=+$,this.s=+At,this.l=+Kt,this.opacity=+ye}function Zt($){return($=($||0)%360)<0?$+360:$}function Oe($){return Math.max(0,Math.min(1,$||0))}function Qe($,At,Kt){return 255*($<60?At+(Kt-At)*$/60:$<180?Kt:$<240?At+(Kt-At)*(240-$)/60:At)}g(p,j,{copy($){return Object.assign(new this.constructor,this,$)},displayable(){return this.rgb().displayable()},hex:X,formatHex:X,formatHex8:function it(){return this.rgb().formatHex8()},formatHsl:function Y(){return q(this).formatHsl()},formatRgb:dt,toString:dt}),g(lt,Mt,T(p,{brighter($){return $=null==$?I:Math.pow(I,$),new lt(this.r*$,this.g*$,this.b*$,this.opacity)},darker($){return $=null==$?Q:Math.pow(Q,$),new lt(this.r*$,this.g*$,this.b*$,this.opacity)},rgb(){return this},clamp(){return new lt(se(this.r),se(this.g),se(this.b),Xt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:at,formatHex:at,formatHex8:function st(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}${ue(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ft,toString:Ft})),g(Wt,function bt($,At,Kt,ye){return 1===arguments.length?q($):new Wt($,At,Kt,ye??1)},T(p,{brighter($){return $=null==$?I:Math.pow(I,$),new Wt(this.h,this.s,this.l*$,this.opacity)},darker($){return $=null==$?Q:Math.pow(Q,$),new Wt(this.h,this.s,this.l*$,this.opacity)},rgb(){var $=this.h%360+360*(this.h<0),At=isNaN($)||isNaN(this.s)?0:this.s,Kt=this.l,ye=Kt+(Kt<.5?Kt:1-Kt)*At,Ot=2*Kt-ye;return new lt(Qe($>=240?$-240:$+120,Ot,ye),Qe($,Ot,ye),Qe($<120?$+240:$-120,Ot,ye),this.opacity)},clamp(){return new Wt(Zt(this.h),Oe(this.s),Oe(this.l),Xt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const $=Xt(this.opacity);return`${1===$?"hsl(":"hsla("}${Zt(this.h)}, ${100*Oe(this.s)}%, ${100*Oe(this.l)}%${1===$?")":`, ${$})`}`}}))}}]);