"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[5351],{85351:(j,C,c)=>{c.r(C),c.d(C,{default:()=>O});var f=c(97474),d=c(29091),a=c(36735),y=c(65164),w=c(75931),g=c.n(w),e=c(99019),p=c(54739),_=c(93078),v=c(60598),T=c(29261),S=c(8410),D=c(45558);function F(i,u){if(1&i&&(e.qex(0),e.j41(1,"nui-chart-donut-content",10)(2,"div",11),e.EFF(3,"57"),e.k0s(),e.j41(4,"div",12),e.EFF(5,"donuts"),e.k0s()(),e.bVm()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("plugin",t.donutContentPlugin)}}function A(i,u){if(1&i){const t=e.RV6();e.j41(0,"nui-legend-series",13),e.bIt("mouseenter",function(){const r=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.chartAssist.emphasizeSeries(r.id))})("isSelectedChange",function(s){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.chartAssist.toggleSeries(o.id,s))}),e.nI1(1,"titlecase"),e.nrm(2,"nui-rich-legend-tile",14)(3,"nui-icon",15),e.k0s()}if(2&i){const t=u.$implicit,n=e.XpG();e.FS9("descriptionPrimary",e.bMT(1,5,t.id)),e.Y8G("seriesRenderState",null==n.chartAssist.renderStatesIndex[t.id]?null:n.chartAssist.renderStatesIndex[t.id].state)("isSelected",!n.chartAssist.isSeriesHidden(t.id)),e.R7$(2),e.Y8G("value",null==t.data[0]?null:t.data[0].value),e.R7$(1),e.Y8G("icon",n.iconMap[t.id])}}function b(i,u){if(1&i&&(e.j41(0,"nui-radio",16),e.EFF(1),e.nI1(2,"titlecase"),e.k0s()),2&i){const t=u.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,t)," ")}}let E=(()=>{class i{chartTypes=["horizontal bar","vertical bar","pie","donut"];chartType=this.chartTypes[0];categories=["down","critical","warning","unknown","ok","other"];iconNames=["down","critical","warning","unknown","up","unmanaged"];values=[24,16,7,6,97,4];iconMap=g()(this.categories,this.iconNames.map(t=>`status_${t}`));colorProvider=new a.W91(g()(this.categories,a.qY0.filter((t,n)=>n%2==0)));chartAssist;donutContentPlugin;ngOnInit(){this.updateChartType()}updateChartType(){this.buildChart(),this.chartAssist.chart.updateDimensions(),this.updateChart()}buildChart(){switch(this.donutContentPlugin=void 0,this.chartType){case"horizontal bar":this.chartAssist=new a.Wiz(new a.t1X((0,a._ZX)({horizontal:!0})));break;case"vertical bar":this.chartAssist=new a.Wiz(new a.t1X((0,a._ZX)({horizontal:!1})));break;case"pie":this.chartAssist=new a.Wiz(new a.t1X((0,a.Msv)()),a.EQA);break;case"donut":this.donutContentPlugin=new a.XhJ,this.chartAssist=new a.Wiz(new a.t1X((0,a.Msv)()),a.EQA),this.chartAssist.chart.addPlugin(this.donutContentPlugin)}}getRenderer(){switch(this.chartType){case"horizontal bar":case"vertical bar":return new a.TDW;case"pie":return new a.Gh8;case"donut":return new a.n7t}}updateChart(){const t=this.getAccessors(),n=this.getRenderer(),s=this.getScales();if(!t||!n||!s)throw new Error("Accessors, renderer or scales are unavailable");this.chartAssist.update(this.getChartAssistSeries(this.categories,this.values,t,n,s))}getScales(){const t=new a.SOQ,n=new a.kck;switch(n.domainCalculator=(0,a.zk6)([0,0]),this.chartType){case"horizontal bar":return{x:n,y:t};case"vertical bar":return{x:t,y:n};case"pie":case"donut":return(0,a.rbX)()}}getAccessors(){switch(this.chartType){case"horizontal bar":return new a.W99(this.colorProvider);case"vertical bar":return new a.gFO(this.colorProvider);case"pie":case"donut":{const t=new a.gWC;return t.series.color=this.colorProvider.get,t}}}getChartAssistSeries(t,n,s,r,o){return t.map((l,m)=>({id:l,data:[{category:l,value:n[m]||0}],accessors:s,renderer:r,scales:o}))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.VBU({type:i,selectors:[["nui-chart-one-dimensional-data-example"]],decls:10,vars:8,consts:[[1,"nui-chart-layout"],[1,"chart",2,"position","relative"],[1,"w-100",3,"chart"],[4,"ngIf"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"plugin"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],["backgroundColor","transparent",3,"value"],[3,"icon"],[3,"value"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"nui-chart",2),e.DNE(3,F,6,1,"ng-container",3),e.k0s(),e.j41(4,"div",4)(5,"nui-legend",5),e.bIt("mouseleave",function(){return s.chartAssist.resetVisibleSeries()}),e.DNE(6,A,4,7,"nui-legend-series",6),e.k0s()(),e.j41(7,"div",7)(8,"nui-radio-group",8),e.bIt("valueChange",function(o){return s.chartType=o})("valueChange",function(){return s.updateChartType()}),e.DNE(9,b,3,4,"nui-radio",9),e.k0s()()()),2&n&&(e.R7$(2),e.Y8G("chart",s.chartAssist.chart),e.R7$(1),e.Y8G("ngIf",s.donutContentPlugin),e.R7$(2),e.Y8G("active",s.chartAssist.isLegendActive)("interactive",!1),e.R7$(1),e.Y8G("ngForOf",s.chartAssist.legendSeriesSet)("ngForTrackBy",s.chartAssist.seriesTrackByFn),e.R7$(2),e.Y8G("value",s.chartType),e.R7$(1),e.Y8G("ngForOf",s.chartTypes))},dependencies:[p.Sq,p.bT,_.f,v.q,T.L,S.Q,D.t,d.RlV,d.v2Q,d.Y2P,p.PV],encapsulation:2})}return i})();function x(i,u){if(1&i&&(e.j41(0,"nui-radio",9),e.EFF(1),e.nI1(2,"titlecase"),e.k0s()),2&i){const t=u.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,t)," ")}}function G(i,u){if(1&i&&e.nrm(0,"nui-icon",13),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("icon",n.iconMap[t.id])}}function $(i,u){if(1&i){const t=e.RV6();e.j41(0,"nui-legend-series",10),e.bIt("mouseenter",function(){const r=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.chartAssist.emphasizeSeries(r.id))})("isSelectedChange",function(s){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.chartAssist.toggleSeries(o.id,s))}),e.nI1(1,"titlecase"),e.nrm(2,"nui-rich-legend-tile",11),e.DNE(3,G,1,1,"nui-icon",12),e.k0s()}if(2&i){const t=u.$implicit,n=e.XpG();e.FS9("descriptionPrimary",e.bMT(1,7,t.id)),e.Y8G("seriesRenderState",null==n.chartAssist.renderStatesIndex[t.id]?null:n.chartAssist.renderStatesIndex[t.id].state)("isSelected",!n.chartAssist.isSeriesHidden(t.id)),e.R7$(2),e.Y8G("value",n.accessors.data.value(t.data[0],0,null,null))("backgroundColor",n.chartAssist.palette.standardColors.get(t.id))("color",n.chartAssist.palette.textColors.get(t.id)),e.R7$(1),e.Y8G("ngIf",n.iconMap[t.id])}}function k(i,u){if(1&i&&(e.j41(0,"nui-radio",9),e.EFF(1),e.nI1(2,"titlecase"),e.k0s()),2&i){const t=u.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,t)," ")}}var h=function(i){return i.StackedBar="stacked bar",i.GroupedBar="grouped bar",i.Line="line",i}(h||{});const R=[{path:"1d",component:E},{path:"2d",component:(()=>{class i{chartTypes=[h.StackedBar,h.GroupedBar,h.Line];chartType=this.chartTypes[0];mainCategoryOptions=["quarters","statuses"];mainCategory=this.mainCategoryOptions[0];statuses=["down","critical","warning","unknown","ok","other"];quarters=["Q1","Q2","Q3","Q4"];iconNames=["down","critical","warning","unknown","up","unmanaged"];categories;subCategories;values=[[24,16,7,6,97,4],[13,8,5,17,5,25],[97,41,24,6,7,6],[45,87,23,48,24,9]];valueAccessor;iconMap=g()(this.statuses,this.iconNames.map(t=>`status_${t}`));palette;chartAssist;accessors;renderer;scales;ngOnInit(){this.updateMainCategory()}updateMainCategory(){const t=new a.Shf(new a.W91(g()(this.statuses,a.qY0.filter((r,o)=>o%2==0)))),n=new a.Shf(a.z3U),s=this.mainCategory===this.mainCategoryOptions[0];this.categories=s?this.statuses:this.quarters,this.subCategories=s?this.quarters:this.statuses,this.valueAccessor=s?(r,o)=>this.values[r][o]:(r,o)=>this.values[o][r],this.palette=s?n:t,this.updateChartType()}updateChartType(){this.buildChart(),this.updateChart()}buildChart(){const{grid:t,accessors:n,renderer:s,scales:r,preprocessor:o}=this.getChartAttributes(this.chartType);this.renderer=s,this.accessors=n,this.scales=r;const l=new a.t1X(t);l.addPlugin(new a.srA),this.chartAssist=new a.Wiz(l,o,this.palette),this.chartType===h.StackedBar&&(this.chartAssist.seriesProcessor=a.t$z)}updateChart(){this.chartAssist.update(this.buildChartSeries(this.categories,this.subCategories,this.valueAccessor))}buildChartSeries(t,n,s){return n.map((r,o)=>({id:r,name:r,data:t.map((l,m)=>({category:l,value:s(o,m)||0})),accessors:this.accessors,renderer:this.renderer,scales:this.scales}))}getChartAttributes(t){const n=this.getChartTools(t),s={grid:n.gridFunction(),accessors:n.accessorFunction(),renderer:n.rendererFunction(),scales:n.scaleFunction()};return n.preprocessor&&(s.preprocessor=n.preprocessor),s}getChartTools(t){return{[h.StackedBar]:{preprocessor:a.t$z,gridFunction:a._ZX,rendererFunction:()=>new a.TDW({highlightStrategy:new a.tVU("x")}),accessorFunction:()=>(0,a.QSe)(void 0,this.palette.standardColors),scaleFunction:a.ByE},[h.GroupedBar]:{gridFunction:()=>(0,a._ZX)({grouped:!0}),rendererFunction:()=>new a.TDW({highlightStrategy:new a.tVU("x")}),accessorFunction:()=>{const s=(0,a.QSe)({grouped:!0},this.palette.standardColors);return s.data.category=(r,o,l,m)=>[r.category,m.name],s},scaleFunction:()=>(0,a.ByE)({grouped:!0})},[h.Line]:{gridFunction:()=>new a.SFt,rendererFunction:()=>new a.Epf,accessorFunction:()=>{const s=new a.fpW(this.palette.standardColors);return s.data.x=r=>r.category,s.data.y=r=>r.value,s.data.value=r=>r.value,s},scaleFunction:()=>({x:(new a.SOQ).fixDomain(this.categories),y:new a.kck})}}[t]}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.VBU({type:i,selectors:[["nui-chart-two-dimensional-data-example"]],decls:13,vars:9,consts:[[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[3,"value"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["class","mt-1 ml-3",3,"icon",4,"ngIf"],[1,"mt-1","ml-3",3,"icon"]],template:function(n,s){1&n&&(e.j41(0,"h3"),e.EFF(1," Legend by "),e.j41(2,"nui-radio-group",0),e.bIt("valueChange",function(o){return s.mainCategory=o})("valueChange",function(){return s.updateMainCategory()}),e.DNE(3,x,3,4,"nui-radio",1),e.k0s()(),e.j41(4,"div",2)(5,"div",3),e.nrm(6,"nui-chart",4),e.k0s(),e.j41(7,"div",5)(8,"nui-legend",6),e.bIt("mouseleave",function(){return s.chartAssist.resetVisibleSeries()}),e.DNE(9,$,4,9,"nui-legend-series",7),e.k0s()(),e.j41(10,"div",8)(11,"nui-radio-group",0),e.bIt("valueChange",function(o){return s.chartType=o})("valueChange",function(){return s.updateChartType()}),e.DNE(12,k,3,4,"nui-radio",1),e.k0s()()()),2&n&&(e.R7$(2),e.Y8G("value",s.mainCategory),e.R7$(1),e.Y8G("ngForOf",s.mainCategoryOptions),e.R7$(3),e.Y8G("chart",s.chartAssist.chart),e.R7$(2),e.Y8G("active",s.chartAssist.isLegendActive)("interactive",!1),e.R7$(1),e.Y8G("ngForOf",s.chartAssist.legendSeriesSet)("ngForTrackBy",s.chartAssist.seriesTrackByFn),e.R7$(2),e.Y8G("value",s.chartType),e.R7$(1),e.Y8G("ngForOf",s.chartTypes))},dependencies:[p.Sq,p.bT,_.f,v.q,T.L,S.Q,d.RlV,d.v2Q,d.Y2P,p.PV],encapsulation:2})}return i})()}];let O=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[y.r,a.StF,d.s6u,d.Wtx,f.iI.forChild(R)]})}return i})()}}]);