function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"6biZ":function(t,e,n){"use strict";n.r(e);var r,a=n("5+WD"),i=n("tyNb"),o=n("Rr1A"),s=n("gKry"),c=n("s1Ul"),d=n("WjpJ"),l=n.n(d),p=n("wd/R"),u=n.n(p),h=n("fXoL"),f=n("HHUD"),g=function(t){return t.Up="up",t.Warning="warning",t.Critical="critical",t}({}),b=((r=function(){function t(e){var n,r=this;_classCallCheck(this,t),this.iconService=e,this.chartThreshold=new s.q(new s.vb(new s.i)),this.chartBand=new s.q(new s.vb(new s.i));var a=function(t){return new s.ob(r.iconService.getStatusIcon(t))};this.customMarkers=new s.S((_defineProperty(n={},g.Up,a(g.Up)),_defineProperty(n,g.Warning,a(g.Warning)),_defineProperty(n,g.Critical,a(g.Critical)),n))}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t,e=this;this.chartThreshold.updateDimensions(),this.chartBand.updateDimensions();var n=new s.c;n.fixDomain(s.nb.STATUS_DOMAIN);var r=new s.rb(u.a.duration(100,"hours"));r.fixDomain([u()().toDate(),u()().add(1e3,"hours").toDate()]);var a=new s.sb;a.formatters.labelFormatter=function(t){return u()(t).format("LL")},this.thresholdScales={y:n,x:a},this.bandScales={y:n,x:r};var i=new s.g,o=Object(s.Rb)(new s.S((_defineProperty(t={},g.Up,s.o[4]),_defineProperty(t,g.Warning,s.o[2]),_defineProperty(t,g.Critical,s.o[1]),t)));o.data.thickness=function(t){return t.status===g.Up?s.g.THIN:s.g.THICK};var c=m({numberOfSeries:10,isRandom:!0}).map((function(t){return Object.assign(Object.assign({},t),{accessors:o,renderer:i,scales:e.thresholdScales})})),d=m({numberOfSeries:1,isRandom:!1}).map((function(t){return Object.assign(Object.assign({},t),{accessors:o,renderer:i,scales:e.thresholdScales})}));this.chartThreshold.update(c),this.chartThreshold.setSeriesStates(c.map((function(t){return{seriesId:t.id,state:s.hb.deemphasized}}))),this.chartBand.update(d)}}]),t}()).\u0275fac=function(t){return new(t||r)(h.Pb(o.l))},r.\u0275cmp=h.Jb({type:r,selectors:[["nui-status-chart-test-example"]],decls:8,vars:2,consts:[[1,"nui-text-page"],[1,"d-flex","flex-column"],[1,"p-2",3,"chart"]],template:function(t,e){1&t&&(h.Vb(0,"p",0),h.Nc(1," Threshold section example\n"),h.Ub(),h.Vb(2,"div",1),h.Qb(3,"nui-chart",2),h.Ub(),h.Vb(4,"p",0),h.Nc(5," Band (Band'ish) scales on both scales\n"),h.Ub(),h.Vb(6,"div",1),h.Qb(7,"nui-chart",2),h.Ub()),2&t&&(h.Db(3),h.tc("chart",e.chartThreshold),h.Db(4),h.tc("chart",e.chartBand))},directives:[f.a],encapsulation:2}),r);function m(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{numberOfSeries:1,isRandom:!0},n=function(t){return u()().add({hours:t}).toDate()};return l()(e.numberOfSeries).map((t=e.isRandom,function(){for(var e=0,n=[];e<1e3;){var r=e+(t?100*Math.random():100);r>=1e3&&(r=1e3);var a=Math.random();n.push({start:e,end:r,status:a>.5?g.Up:a>.2?g.Warning:g.Critical}),e=r}return n})).map((function(t,e){return{id:"series-"+e,name:"Series "+e,data:t.map((function(t){return{value:t.end-t.start,status:t.status,start:n(t.start),end:n(t.end)}}))}}))}var w,y=((w=function(){function t(){_classCallCheck(this,t),this.palette=new s.u(new s.S({connect:s.m[0],dns:s.m[1],send:s.m[2],ttfb:s.m[3],cdownload:s.m[4]})),this.gridChart=new s.q(new s.vb(new s.f)),this.listItems=[{category:"Category 1",data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:178}]},{category:"Category 2",data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:788}]},{category:"Category 3",data:[{type:"connect",start:178,end:222},{type:"dns",start:222,end:239},{type:"send",start:239,end:259},{type:"ttfb",start:259,end:309},{type:"cdownload",start:309,end:578}]},{category:"Category 4",data:[{type:"connect",start:578,end:590},{type:"dns",start:590,end:799},{type:"send",start:799,end:888},{type:"ttfb",start:888,end:900},{type:"cdownload",start:900,end:990}]}]}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this,e=new s.c;e.padding(.5);var n=new s.Q;this.scales={y:e,x:n},this.scales.x.formatters.tick=function(t){return Number(t/1e3).toFixed(1)+"s"};var r=new s.g({highlightStrategy:new s.e("x")}),a=new s.F;a.data.color=function(e){return t.palette.standardColors.get(e.type)};var i=[],o=[];this.listItems.forEach((function(e,n){i.push(e.category),o.push({id:"series-"+n,name:"Series "+n,data:e.data.map((function(t){return{value:t.end-t.start,category:e.category,type:t.type,__bar:{start:t.start,end:t.end}}})),accessors:a,scales:t.scales,renderer:r})})),e.fixDomain(i.reverse()),this.gridChart.update(o)}}]),t}()).\u0275fac=function(t){return new(t||w)},w.\u0275cmp=h.Jb({type:w,selectors:[["nui-chart-waterfall-simple"]],decls:2,vars:1,consts:[[1,"chart"],[1,"d-flex",3,"chart"]],template:function(t,e){1&t&&(h.Vb(0,"div",0),h.Qb(1,"nui-chart",1),h.Ub()),2&t&&(h.Db(1),h.tc("chart",e.gridChart))},directives:[f.a],encapsulation:2}),w),v=n("+rOU"),C=n("rDax"),P=n("ofXK"),x=["templatePortalGrid"],_=["gridChartPlaceholder"];function O(t,e){1&t&&h.Qb(0,"div",9,10)}function M(t,e){if(1&t&&(h.Vb(0,"div",3),h.Qb(1,"nui-icon",4),h.Vb(2,"div",5),h.Vb(3,"span"),h.Nc(4),h.Ub(),h.Ub(),h.Vb(5,"div",6),h.Lc(6,O,2,0,"div",7),h.Qb(7,"nui-chart",8),h.Ub(),h.Ub()),2&t){var n=e.$implicit,r=e.first;h.Db(1),h.uc("icon",n.icon),h.Db(1),h.Kc("width",200,"px"),h.Db(2),h.Oc(n.url),h.Db(2),h.tc("ngIf",r),h.Db(1),h.tc("chart",n.chart)}}function k(t,e){if(1&t&&h.Qb(0,"nui-chart",8),2&t){var n=h.nc();h.tc("chart",n.gridChart)}}var D,S=((D=function(){function t(e,n,r,a){_classCallCheck(this,t),this.overlay=e,this.overlayPositionBuilder=n,this._viewContainerRef=r,this.scrollStrategyOptions=a,this.palette=new s.u(new s.S({connect:s.m[0],dns:s.m[1],send:s.m[2],ttfb:s.m[3],cdownload:s.m[4]})),this.gridChart=new s.q(new s.vb),this.listItems=[{url:"http://www.google.com",size:924,icon:"xml-file",chart:new s.q(new s.vb(new s.i({showBottomAxis:!1}))),data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:178}]},{url:"http://www2.google.com",size:924,icon:"xml-file",chart:new s.q(new s.vb(new s.i({showBottomAxis:!1}))),data:[{type:"connect",start:0,end:22},{type:"dns",start:22,end:39},{type:"send",start:39,end:59},{type:"ttfb",start:59,end:109},{type:"cdownload",start:109,end:788}]},{url:"http://www.google.com/cat.png",size:3333,icon:"image",chart:new s.q(new s.vb(new s.i({showBottomAxis:!1}))),data:[{type:"connect",start:178,end:222},{type:"dns",start:222,end:239},{type:"send",start:239,end:259},{type:"ttfb",start:259,end:309},{type:"cdownload",start:309,end:578}]},{url:"http://www.google.com/revenge.png",size:3333,icon:"image",chart:new s.q(new s.vb(new s.i({showBottomAxis:!1}))),data:[{type:"connect",start:578,end:590},{type:"dns",start:590,end:799},{type:"send",start:799,end:888},{type:"ttfb",start:888,end:900},{type:"cdownload",start:900,end:990}]}]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.gridChart.addPlugin(new s.xb),this.gridChart.getEventBus().getStream(s.jb).subscribe((function(e){var n=e.data;t.listItems.forEach((function(e){t.scales.x.fixDomain(n[t.scales.x.id]),e.chart.updateDimensions()}))}))}},{key:"ngAfterViewInit",value:function(){var t=this;this.templatePortal=new v.e(this.templatePortalGrid,this._viewContainerRef),this.positionStrategy=this.overlayPositionBuilder.flexibleConnectedTo(this.gridChartPlaceholder).withPositions([{overlayX:"start",overlayY:"top",originX:"start",originY:"top"}]).withFlexibleDimensions(!0).withPush(!0);var e=this.overlay.create({positionStrategy:this.positionStrategy,scrollStrategy:this.scrollStrategyOptions.close()}),n=new s.c,r=new s.Q;r.fixDomain([0,1e3]),n.fixDomain(["cat1"]),this.scales={y:n,x:r},this.scales.x.formatters.tick=function(t){return Number(t/1e3).toFixed(1)+"s"};var a=new s.g,i=new s.F;i.data.color=function(e){return t.palette.standardColors.get(e.type)};var o=0;this.listItems.forEach((function(e){var n=[{id:"series-1",name:"Series 1",data:e.data.map((function(t){return{value:t.end-t.start,category:"cat1",type:t.type,__bar:{start:t.start,end:t.end}}})),accessors:i,scales:t.scales,renderer:a}];e.chart.update(n),e.chart.getEventBus().getStream(s.D).subscribe(console.log),e.chart.getEventBus().getStream(s.ib).subscribe(console.log),o=e.chart.getGrid().config().dimension.width()}));var c=this.gridChart.getGrid().config();c.dimension.height(32*this.listItems.length),c.dimension.width(o),c.dimension.autoHeight=!1,c.axis.left.visible=!1,c.axis.left.gridTicks=!1,c.axis.bottom.gridTicks=!0,this.gridChart.update([{id:"i am grid",name:"i am grid",data:[],accessors:new s.U,scales:this.scales,renderer:new s.V}]),this.gridChart.updateDimensions(),e.attach(this.templatePortal)}},{key:"drop",value:function(t){Object(a.g)(this.listItems,t.previousIndex,t.currentIndex)}}]),t}()).\u0275fac=function(t){return new(t||D)(h.Pb(C.a),h.Pb(C.e),h.Pb(h.R),h.Pb(C.f))},D.\u0275cmp=h.Jb({type:D,selectors:[["nui-chart-waterfall-test"]],viewQuery:function(t,e){var n;1&t&&(h.Qc(x,!0),h.Qc(_,!0)),2&t&&(h.Ac(n=h.kc())&&(e.templatePortalGrid=n.first),h.Ac(n=h.kc())&&(e.gridChartPlaceholder=n.first))},decls:5,vars:1,consts:[["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["class","d-flex flex-row align-items-center waterfall-chart-list-item","cdkDrag","",4,"ngFor","ngForOf"],["templatePortalGrid",""],["cdkDrag","",1,"d-flex","flex-row","align-items-center","waterfall-chart-list-item"],[1,"p-2",3,"icon"],[1,"p-2",2,"overflow","hidden"],[1,"d-flex"],["class","d-flex h-100",4,"ngIf"],[1,"d-flex",3,"chart"],[1,"d-flex","h-100"],["gridChartPlaceholder",""]],template:function(t,e){1&t&&(h.Vb(0,"div"),h.Vb(1,"div",0),h.jc("cdkDropListDropped",(function(t){return e.drop(t)})),h.Lc(2,M,8,6,"div",1),h.Ub(),h.Ub(),h.Lc(3,k,1,1,"ng-template",null,2,h.Mc)),2&t&&(h.Db(2),h.tc("ngForOf",e.listItems))},directives:[a.d,P.o,a.a,o.k,P.p,f.a],styles:['.nui-dnd-hover-state[_ngcontent-%COMP%]{background:#f2f2f2}.nui-dnd-preview[_ngcontent-%COMP%], .nui-dnd-raised-state[_ngcontent-%COMP%]{z-index:1;box-sizing:border-box;box-shadow:0 2px 10px 0 var(--nui-shadow-color,rgba(17,17,17,.3))}.nui-dnd-preview[_ngcontent-%COMP%]{border:1px solid #d9d9d9;background:#f2f2f2}.nui-dnd-dropzone.nui-dnd-dropzone--active[_ngcontent-%COMP%]{border:4px dashed #999!important}.nui-dnd-dropzone.nui-dnd-dropzone--drop-allowed[_ngcontent-%COMP%]{cursor:move;border:4px solid #00c4d2!important;background-color:rgba(0,196,210,.2)}.nui-dnd-dropzone.nui-dnd-dropzone--drop-not-allowed[_ngcontent-%COMP%]{cursor:move;border:4px solid #dd2c00!important;background-color:rgba(221,44,0,.2)}.nui-dnd-dropzone[_ngcontent-%COMP%]   .centered-overlay[_ngcontent-%COMP%], .nui-dnd-dropzone[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.nui-dnd-dropzone[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{border-radius:50%;content:"";display:block;height:40px;width:40px;z-index:-1}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-permanent[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{background-color:#fff}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-permanent[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   polygon[_ngcontent-%COMP%]{fill:#111}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{background-color:#00c4d2}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   polygon[_ngcontent-%COMP%]{-webkit-clip-path:circle(5px);clip-path:circle(5px);fill:#fff}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-not-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]:before{background-color:#dd2c00}.nui-dnd-dropzone[_ngcontent-%COMP%]   .drop-circle-not-allowed[_ngcontent-%COMP%]   .nui-icon-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{-webkit-clip-path:circle(5px);clip-path:circle(5px);fill:#fff}.waterfall-chart-list-item[_ngcontent-%COMP%]:hover{background-color:var(--nui-color-selected,rgba(0,196,210,.1))}.waterfall-chart-list-item[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-content,#fff)}']}),D);n.d(e,"ChartStatusExampleModule",(function(){return I}));var z,U=[{path:"",component:b},{path:"waterfall",component:S},{path:"waterfall-simple",component:y}],I=((z=function t(){_classCallCheck(this,t)}).\u0275mod=h.Nb({type:z}),z.\u0275inj=h.Mb({factory:function(t){return new(t||z)},imports:[[a.f,o.z,c.a,s.X,i.e.forChild(U)]]}),z)}}]);