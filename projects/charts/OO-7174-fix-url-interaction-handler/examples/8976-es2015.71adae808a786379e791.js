"use strict";(self.webpackChunk_nova_ui_charts=self.webpackChunk_nova_ui_charts||[]).push([[8976],{78976:function(e,t,i){i.r(t),i.d(t,{PieChartExampleModule:function(){return v}});var n=i(66266),s=i(28425),r=i(4813),a=i(58490),c=i(62450),o=i(33018),u=i(13458),h=i(65804),d=i(38583),l=i(46743),g=i(83063),p=i(87373);function f(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",11),o._uU(2,"57"),o.qZA(),o.TgZ(3,"div",12),o._uU(4,"donuts"),o.qZA(),o.qZA())}function x(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"nui-legend-series",13),o.NdJ("mouseenter",function(){const t=o.CHM(e).$implicit;return o.oxw().chartAssist.emphasizeSeries(t.id)})("isSelectedChange",function(t){const i=o.CHM(e).$implicit;return o.oxw().chartAssist.toggleSeries(i.id,t)}),o._UZ(1,"nui-rich-legend-tile",14),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw();o.Q6J("descriptionPrimary",e.name)("seriesRenderState",null==i.chartAssist.renderStatesIndex[e.id]?null:i.chartAssist.renderStatesIndex[e.id].state)("isSelected",!i.chartAssist.isSeriesHidden(e.id)),o.xp6(1),o.Q6J("value",i.chartAssist.getHighlightedValue(e,"y","value"))("backgroundColor",i.chartAssist.palette.standardColors.get(e.id))("color",i.chartAssist.palette.textColors.get(e.id))}}function m(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",15),o.TgZ(1,"h3"),o._uU(2,"Annular's params"),o.qZA(),o.TgZ(3,"p"),o._uU(4," Setting one of the parameters to 0 will force donut chart to use default annular width of 20px. Default width is also configurable. "),o.qZA(),o.TgZ(5,"span"),o._uU(6,"Donut's width in percents"),o.qZA(),o.TgZ(7,"nui-textbox-number",16),o.NdJ("valueChange",function(t){return o.CHM(e),o.oxw().updateWidth(t)}),o.qZA(),o.TgZ(8,"span"),o._uU(9,"Max donut's width in px"),o.qZA(),o.TgZ(10,"nui-textbox-number",17),o.NdJ("valueChange",function(t){return o.CHM(e),o.oxw().updatemaxWidth(t)}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(7),o.Q6J("value",15)("maxValue",80),o.xp6(3),o.Q6J("value",e.renderer.config.maxThickness)}}const Z=[{path:"",component:(()=>{class e{constructor(e){this.toastr=e,this.compact=!1,this.chart=new r.kL2(new r.lS),this.chartAssist=new r.doR(this.chart),this.interactive=!1,this.processSeries=e=>(0,r.GVi)(e,e=>!this.chartAssist.isSeriesHidden(e.id))}ngOnInit(){const e=new r.GFe;e.interactive=!1,this.chart.getGrid().config(e),this.scales={r:new r.f$s},this.scales.r.fixDomain([0,1]),this.chartAssist=new r.doR(this.chart,this.processSeries),this.contentPlugin=new r.iM,this.chart.addPlugin(this.contentPlugin),this.refreshPie(),this.chart.getEventBus().getStream("click").subscribe(e=>{this.toastr.info({title:"Event Published",message:`event: click; data: ${e.data}`,options:{timeOut:1500}})})}generateSeriesSet(e=1){const t=c.N.generateMockOrdinalSeriesSet(["Chrome","Firefox","Edge"],e);return t.forEach(e=>{e.id+=`-${Math.round(100*Math.random())}`}),t.map(e=>Object.assign(Object.assign({},e),{accessors:{data:{value:e=>e.value},series:{color:this.chartAssist.palette.standardColors.get}},scales:this.scales,renderer:this.renderer,showInLegend:!0}))}refreshPie(){this.renderer=new r.bOg,this.chartAssist.update(this.generateSeriesSet())}updateWidth(e){this.renderer.config.annularGrowth=e/100,this.updateDonut()}updatemaxWidth(e){this.renderer.config.maxThickness=e,this.updateDonut()}refreshPieInteraction(){this.interactive=!this.interactive,this.renderer.interaction=this.interactive?{arc:{mouseover:"",mouseout:"",click:""}}:void 0,this.chartAssist.update(this.generateSeriesSet())}refreshDonut(e){this.renderer=new r.E8N,this.chartAssist.update(this.generateSeriesSet(e)),setTimeout(()=>{this.chart.updateDimensions()},0)}showContent(){return!(this.renderer instanceof r.bOg)}updateDonut(){setTimeout(()=>{this.chart.updateDimensions()},0)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(s.klp))},e.\u0275cmp=o.Xpm({type:e,selectors:[["nui-pie-chart-example"]],decls:21,vars:10,consts:[[1,"d-flex","flex-column"],[1,"d-flex","flex-fill","w-100","h-100",2,"position","relative"],[1,"flex-fill","w-100","h-100",3,"chart"],[3,"plugin"],[4,"ngIf"],[1,"d-flex","flex-column","pl-2"],["seriesUnitLabel","Share",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-group"],["nui-button","","type","button",3,"click"],["class","d-flex flex-column w-25",4,"ngIf"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],[1,"d-flex","flex-column","w-25"],[3,"value","maxValue","valueChange"],[3,"value","valueChange"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"nui-expander"),o.TgZ(2,"div",1),o._UZ(3,"nui-chart",2),o.TgZ(4,"nui-chart-donut-content",3),o.YNc(5,f,5,0,"div",4),o.qZA(),o.TgZ(6,"div",5),o.TgZ(7,"nui-legend",6),o.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),o.YNc(8,x,2,6,"nui-legend-series",7),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",8),o.TgZ(10,"button",9),o.NdJ("click",function(){return t.refreshDonut(1)}),o._uU(11,"1 circle donut "),o.qZA(),o.TgZ(12,"button",9),o.NdJ("click",function(){return t.refreshDonut(2)}),o._uU(13,"2 circle donut "),o.qZA(),o.TgZ(14,"button",9),o.NdJ("click",function(){return t.refreshPie()}),o._uU(15,"Pie"),o.qZA(),o.TgZ(16,"button",9),o.NdJ("click",function(){return t.refreshPieInteraction()}),o._uU(17,"Refresh and toggle interaction"),o.qZA(),o.TgZ(18,"button",9),o.NdJ("click",function(){return t.compact=!t.compact}),o._uU(19,"Toggle Size"),o.qZA(),o.qZA(),o.qZA(),o.YNc(20,m,11,3,"div",10)),2&e&&(o.Udp("height",t.compact?"150px":"500px"),o.xp6(3),o.Q6J("chart",t.chart),o.xp6(1),o.Q6J("plugin",t.contentPlugin),o.xp6(1),o.Q6J("ngIf",t.showContent()),o.xp6(2),o.Q6J("active",t.chartAssist.isLegendActive)("interactive",!0),o.xp6(1),o.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),o.xp6(12),o.Q6J("ngIf",t.showContent()))},directives:[s.Fxv,u.x,h.k,d.O5,l.F,d.sg,s.r0F,g.k,p.w,s.I5I],encapsulation:2}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[a.l,r.$y4,s.Az_,s.LRI,s.YMY,n.Bz.forChild(Z),s.Ld5]]}),e})()}}]);