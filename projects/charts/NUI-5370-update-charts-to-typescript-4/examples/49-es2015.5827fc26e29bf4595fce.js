(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{dLxB:function(e,t,i){"use strict";i.r(t),i.d(t,"TypeSwitchExampleModule",(function(){return k}));var s=i("tyNb"),r=i("Rr1A"),n=i("gKry"),a=i("s1Ul"),c=i("VJLA"),o=i.n(c),u=i("fXoL"),h=i("HHUD"),d=i("ofXK"),l=i("QpXW"),g=i("AFFp"),b=i("sBYA"),p=i("Gufu");function v(e,t){if(1&e&&(u.Rb(0),u.Tb(1,"nui-chart-donut-content",10),u.Tb(2,"div",11),u.Kc(3,"57"),u.Sb(),u.Tb(4,"div",12),u.Kc(5,"donuts"),u.Sb(),u.Sb(),u.Qb()),2&e){const e=u.kc();u.Bb(1),u.qc("plugin",e.donutContentPlugin)}}function m(e,t){if(1&e){const e=u.Ub();u.Tb(0,"nui-legend-series",13),u.gc("mouseenter",(function(){u.Cc(e);const i=t.$implicit;return u.kc().chartAssist.emphasizeSeries(i.id)}))("isSelectedChange",(function(i){u.Cc(e);const s=t.$implicit;return u.kc().chartAssist.toggleSeries(s.id,i)})),u.lc(1,"titlecase"),u.Ob(2,"nui-rich-legend-tile",14),u.Ob(3,"nui-icon",15),u.Sb()}if(2&e){const e=t.$implicit,i=u.kc();u.rc("descriptionPrimary",u.mc(1,5,e.id)),u.qc("seriesRenderState",null==i.chartAssist.renderStatesIndex[e.id]?null:i.chartAssist.renderStatesIndex[e.id].state)("isSelected",!i.chartAssist.isSeriesHidden(e.id)),u.Bb(2),u.qc("value",null==e.data[0]?null:e.data[0].value),u.Bb(1),u.qc("icon",i.iconMap[e.id])}}function y(e,t){if(1&e&&(u.Tb(0,"nui-radio",16),u.Kc(1),u.lc(2,"titlecase"),u.Sb()),2&e){const e=t.$implicit;u.qc("value",e),u.Bb(1),u.Mc(" ",u.mc(2,2,e)," ")}}let S=(()=>{class e{constructor(){this.chartTypes=["horizontal bar","vertical bar","pie","donut"],this.chartType=this.chartTypes[0],this.categories=["down","critical","warning","unknown","ok","other"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[24,16,7,6,97,4],this.iconMap=o()(this.categories,this.iconNames.map(e=>`status_${e}`)),this.colorProvider=new n.S(o()(this.categories,n.o))}ngOnInit(){this.updateChartType()}updateChartType(){this.buildChart(),this.chartAssist.chart.updateDimensions(),this.updateChart()}buildChart(){switch(this.donutContentPlugin=void 0,this.chartType){case"horizontal bar":this.chartAssist=new n.r(new n.q(Object(n.zb)({horizontal:!0})));break;case"vertical bar":this.chartAssist=new n.r(new n.q(Object(n.zb)({horizontal:!1})));break;case"pie":this.chartAssist=new n.r(new n.q(Object(n.Hb)()),n.Gb);break;case"donut":this.donutContentPlugin=new n.t,this.chartAssist=new n.r(new n.q(Object(n.Hb)()),n.Gb),this.chartAssist.chart.addPlugin(this.donutContentPlugin)}}getRenderer(){switch(this.chartType){case"horizontal bar":case"vertical bar":return new n.g;case"pie":return new n.Z;case"donut":return new n.eb}}updateChart(){const e=this.getAccessors(),t=this.getRenderer(),i=this.getScales();if(!e||!t||!i)throw new Error("Accessors, renderer or scales are unavailable");this.chartAssist.update(this.getChartAssistSeries(this.categories,this.values,e,t,i))}getScales(){const e=new n.c,t=new n.Q;switch(t.domainCalculator=Object(n.Db)([0,0]),this.chartType){case"horizontal bar":return{x:t,y:e};case"vertical bar":return{x:e,y:t};case"pie":case"donut":return Object(n.Jb)()}}getAccessors(){switch(this.chartType){case"horizontal bar":return new n.F(this.colorProvider);case"vertical bar":return new n.tb(this.colorProvider);case"pie":case"donut":{const e=new n.bb;return e.series.color=this.colorProvider.get,e}}}getChartAssistSeries(e,t,i,s,r){return e.map((e,n)=>({id:e,data:[{category:e,value:t[n]||0}],accessors:i,renderer:s,scales:r}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Hb({type:e,selectors:[["nui-chart-one-dimensional-data-example"]],decls:10,vars:8,consts:[[1,"nui-chart-layout"],[1,"chart",2,"position","relative"],[1,"w-100",3,"chart"],[4,"ngIf"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"plugin"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],["backgroundColor","transparent",3,"value"],[3,"icon"],[3,"value"]],template:function(e,t){1&e&&(u.Tb(0,"div",0),u.Tb(1,"div",1),u.Ob(2,"nui-chart",2),u.Ic(3,v,6,1,"ng-container",3),u.Sb(),u.Tb(4,"div",4),u.Tb(5,"nui-legend",5),u.gc("mouseleave",(function(){return t.chartAssist.resetVisibleSeries()})),u.Ic(6,m,4,7,"nui-legend-series",6),u.Sb(),u.Sb(),u.Tb(7,"div",7),u.Tb(8,"nui-radio-group",8),u.gc("valueChange",(function(e){return t.chartType=e}))("valueChange",(function(){return t.updateChartType()})),u.Ic(9,y,3,4,"nui-radio",9),u.Sb(),u.Sb(),u.Sb()),2&e&&(u.Bb(2),u.qc("chart",t.chartAssist.chart),u.Bb(1),u.qc("ngIf",t.donutContentPlugin),u.Bb(2),u.qc("active",t.chartAssist.isLegendActive)("interactive",!1),u.Bb(1),u.qc("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),u.Bb(2),u.qc("value",t.chartType),u.Bb(1),u.qc("ngForOf",t.chartTypes))},directives:[h.a,d.p,l.a,d.o,r.O,g.a,b.a,p.a,r.k,r.N],pipes:[d.y],encapsulation:2}),e})();function C(e,t){if(1&e&&(u.Tb(0,"nui-radio",9),u.Kc(1),u.lc(2,"titlecase"),u.Sb()),2&e){const e=t.$implicit;u.qc("value",e),u.Bb(1),u.Mc(" ",u.mc(2,2,e)," ")}}function w(e,t){if(1&e&&u.Ob(0,"nui-icon",13),2&e){const e=u.kc().$implicit,t=u.kc();u.qc("icon",t.iconMap[e.id])}}function f(e,t){if(1&e){const e=u.Ub();u.Tb(0,"nui-legend-series",10),u.gc("mouseenter",(function(){u.Cc(e);const i=t.$implicit;return u.kc().chartAssist.emphasizeSeries(i.id)}))("isSelectedChange",(function(i){u.Cc(e);const s=t.$implicit;return u.kc().chartAssist.toggleSeries(s.id,i)})),u.lc(1,"titlecase"),u.Ob(2,"nui-rich-legend-tile",11),u.Ic(3,w,1,1,"nui-icon",12),u.Sb()}if(2&e){const e=t.$implicit,i=u.kc();u.rc("descriptionPrimary",u.mc(1,7,e.id)),u.qc("seriesRenderState",null==i.chartAssist.renderStatesIndex[e.id]?null:i.chartAssist.renderStatesIndex[e.id].state)("isSelected",!i.chartAssist.isSeriesHidden(e.id)),u.Bb(2),u.qc("value",i.accessors.data.value(e.data[0],0,null,null))("backgroundColor",i.chartAssist.palette.standardColors.get(e.id))("color",i.chartAssist.palette.textColors.get(e.id)),u.Bb(1),u.qc("ngIf",i.iconMap[e.id])}}function T(e,t){if(1&e&&(u.Tb(0,"nui-radio",9),u.Kc(1),u.lc(2,"titlecase"),u.Sb()),2&e){const e=t.$implicit;u.qc("value",e),u.Bb(1),u.Mc(" ",u.mc(2,2,e)," ")}}var A=function(e){return e.StackedBar="stacked bar",e.GroupedBar="grouped bar",e.Line="line",e}({});const F=[{path:"1d",component:S},{path:"2d",component:(()=>{class e{constructor(){this.chartTypes=[A.StackedBar,A.GroupedBar,A.Line],this.chartType=this.chartTypes[0],this.mainCategoryOptions=["quarters","statuses"],this.mainCategory=this.mainCategoryOptions[0],this.statuses=["down","critical","warning","unknown","ok","other"],this.quarters=["Q1","Q2","Q3","Q4"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[[24,16,7,6,97,4],[13,8,5,17,5,25],[97,41,24,6,7,6],[45,87,23,48,24,9]],this.iconMap=o()(this.statuses,this.iconNames.map(e=>`status_${e}`))}ngOnInit(){this.updateMainCategory()}updateMainCategory(){const e=new n.u(new n.S(o()(this.statuses,n.o))),t=new n.u(n.m),i=this.mainCategory===this.mainCategoryOptions[0];this.categories=i?this.statuses:this.quarters,this.subCategories=i?this.quarters:this.statuses,this.valueAccessor=i?(e,t)=>this.values[e][t]:(e,t)=>this.values[t][e],this.palette=i?t:e,this.updateChartType()}updateChartType(){this.buildChart(),this.updateChart()}buildChart(){const{grid:e,accessors:t,renderer:i,scales:s,preprocessor:r}=this.getChartAttributes(this.chartType);this.renderer=i,this.accessors=t,this.scales=s;const a=new n.q(e);a.addPlugin(new n.K),this.chartAssist=new n.r(a,r,this.palette),this.chartType===A.StackedBar&&(this.chartAssist.seriesProcessor=n.Lb)}updateChart(){this.chartAssist.update(this.buildChartSeries(this.categories,this.subCategories,this.valueAccessor))}buildChartSeries(e,t,i){return t.map((t,s)=>({id:t,name:t,data:e.map((e,t)=>({category:e,value:i(s,t)||0})),accessors:this.accessors,renderer:this.renderer,scales:this.scales}))}getChartAttributes(e){const t=this.getChartTools(e),i={grid:t.gridFunction(),accessors:t.accessorFunction(),renderer:t.rendererFunction(),scales:t.scaleFunction()};return t.preprocessor&&(i.preprocessor=t.preprocessor),i}getChartTools(e){return{[A.StackedBar]:{preprocessor:n.Lb,gridFunction:n.zb,rendererFunction:()=>new n.g({highlightStrategy:new n.e("x")}),accessorFunction:()=>Object(n.yb)(void 0,this.palette.standardColors),scaleFunction:n.Ab},[A.GroupedBar]:{gridFunction:()=>Object(n.zb)({grouped:!0}),rendererFunction:()=>new n.g({highlightStrategy:new n.e("x")}),accessorFunction:()=>{const e=Object(n.yb)({grouped:!0},this.palette.standardColors);return e.data.category=(e,t,i,s)=>[e.category,s.name],e},scaleFunction:()=>Object(n.Ab)({grouped:!0})},[A.Line]:{gridFunction:()=>new n.ub,rendererFunction:()=>new n.O,accessorFunction:()=>{const e=new n.N(this.palette.standardColors);return e.data.x=e=>e.category,e.data.y=e=>e.value,e.data.value=e=>e.value,e},scaleFunction:()=>({x:(new n.c).fixDomain(this.categories),y:new n.Q})}}[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Hb({type:e,selectors:[["nui-chart-two-dimensional-data-example"]],decls:13,vars:9,consts:[[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[3,"value"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["class","mt-1 ml-3",3,"icon",4,"ngIf"],[1,"mt-1","ml-3",3,"icon"]],template:function(e,t){1&e&&(u.Tb(0,"h3"),u.Kc(1," Legend by "),u.Tb(2,"nui-radio-group",0),u.gc("valueChange",(function(e){return t.mainCategory=e}))("valueChange",(function(){return t.updateMainCategory()})),u.Ic(3,C,3,4,"nui-radio",1),u.Sb(),u.Sb(),u.Tb(4,"div",2),u.Tb(5,"div",3),u.Ob(6,"nui-chart",4),u.Sb(),u.Tb(7,"div",5),u.Tb(8,"nui-legend",6),u.gc("mouseleave",(function(){return t.chartAssist.resetVisibleSeries()})),u.Ic(9,f,4,9,"nui-legend-series",7),u.Sb(),u.Sb(),u.Tb(10,"div",8),u.Tb(11,"nui-radio-group",0),u.gc("valueChange",(function(e){return t.chartType=e}))("valueChange",(function(){return t.updateChartType()})),u.Ic(12,T,3,4,"nui-radio",1),u.Sb(),u.Sb(),u.Sb()),2&e&&(u.Bb(2),u.qc("value",t.mainCategory),u.Bb(1),u.qc("ngForOf",t.mainCategoryOptions),u.Bb(3),u.qc("chart",t.chartAssist.chart),u.Bb(2),u.qc("active",t.chartAssist.isLegendActive)("interactive",!1),u.Bb(1),u.qc("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),u.Bb(2),u.qc("value",t.chartType),u.Bb(1),u.qc("ngForOf",t.chartTypes))},directives:[r.O,d.o,h.a,l.a,r.N,b.a,p.a,d.p,r.k],pipes:[d.y],encapsulation:2}),e})()}];let k=(()=>{class e{}return e.\u0275mod=u.Lb({type:e}),e.\u0275inj=u.Kb({factory:function(t){return new(t||e)},imports:[[a.a,n.X,r.z,r.D,s.e.forChild(F)]]}),e})()}}]);