(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{Dj89:function(e,s,t){"use strict";t.r(s),t.d(s,"ThresholdsPrototypeModule",(function(){return C}));var r=t("tyNb"),i=t("gKry"),n=t("s1Ul"),a=t("wd/R"),o=t.n(a),c=t("fXoL"),h=t("HHUD"),d=t("QpXW"),l=t("ofXK"),u=t("sBYA"),g=t("Gufu"),b=t("WgrJ");function S(e,s){if(1&e){const e=c.Ub();c.Tb(0,"nui-legend-series",6),c.gc("mouseenter",(function(){c.Cc(e);const t=s.$implicit;return c.kc().chartAssist.emphasizeSeries(t.id)}))("isSelectedChange",(function(t){c.Cc(e);const r=s.$implicit;return c.kc().chartAssist.toggleSeries(r.id,t)})),c.Tb(1,"nui-rich-legend-tile",7),c.Ob(2,"nui-chart-marker",8),c.Sb(),c.Sb()}if(2&e){const e=s.$implicit,t=c.kc();c.qc("descriptionPrimary",e.name)("seriesRenderState",null==t.chartAssist.renderStatesIndex[e.id]?null:t.chartAssist.renderStatesIndex[e.id].state)("isSelected",!t.chartAssist.isSeriesHidden(e.id)),c.Bb(1),c.qc("value",t.chartAssist.getHighlightedValue(e,"y"))("backgroundColor",t.chartAssist.palette.standardColors.get(e.id))("color",t.chartAssist.palette.textColors.get(e.id)),c.Bb(1),c.qc("marker",t.chartAssist.markers.get(e.id))("color",t.chartAssist.palette.standardColors.get(e.id))}}function T(e,s){if(1&e){const e=c.Ub();c.Tb(0,"nui-legend-series",6),c.gc("mouseenter",(function(){c.Cc(e);const t=s.$implicit;return c.kc().reversedThresholdsChartAssist.emphasizeSeries(t.id)}))("isSelectedChange",(function(t){c.Cc(e);const r=s.$implicit;return c.kc().reversedThresholdsChartAssist.toggleSeries(r.id,t)})),c.Tb(1,"nui-rich-legend-tile",7),c.Ob(2,"nui-chart-marker",8),c.Sb(),c.Sb()}if(2&e){const e=s.$implicit,t=c.kc();c.qc("descriptionPrimary",e.name)("seriesRenderState",null==t.reversedThresholdsChartAssist.renderStatesIndex[e.id]?null:t.reversedThresholdsChartAssist.renderStatesIndex[e.id].state)("isSelected",!t.reversedThresholdsChartAssist.isSeriesHidden(e.id)),c.Bb(1),c.qc("value",t.reversedThresholdsChartAssist.getHighlightedValue(e,"y"))("backgroundColor",t.reversedThresholdsChartAssist.palette.standardColors.get(e.id))("color",t.reversedThresholdsChartAssist.palette.textColors.get(e.id)),c.Bb(1),c.qc("marker",t.reversedThresholdsChartAssist.markers.get(e.id))("color",t.reversedThresholdsChartAssist.palette.standardColors.get(e.id))}}var v=function(e){return e.Error="error",e.Warning="warning",e}({});function m(){const e="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:o()("2016-12-25T15:05:00Z",e).toDate(),y:20},{x:o()("2016-12-25T15:10:00Z",e).toDate(),y:80},{x:o()("2016-12-25T15:15:00Z",e).toDate(),y:10},{x:o()("2016-12-25T15:20:00Z",e).toDate(),y:0},{x:o()("2016-12-25T15:25:00Z",e).toDate(),y:50},{x:o()("2016-12-25T15:30:00Z",e).toDate(),y:20}]}]}const p=[{path:"",component:(()=>{class e{constructor(e){this.thresholdsService=e,this.chart=new i.q(new i.ub),this.reversedThresholdsChart=new i.q(new i.ub),this.chartAssist=new i.r(this.chart),this.reversedThresholdsChartAssist=new i.r(this.reversedThresholdsChart),this.thresholdsPalette=new i.u(new i.S({[v.Error]:i.o[1],[v.Warning]:i.o[2]}))}ngOnInit(){const e=new i.N(this.chartAssist.palette.standardColors,this.chartAssist.markers),s=new i.O,t={x:new i.qb(Object(a.duration)(5,"minutes")),y:new i.Q};t.y.fixDomain([0,100]);const r={x:new i.rb,y:new i.Q};r.y.fixDomain([0,100]);const n={x:t.x,y:(new i.c).fixDomain(i.mb.STATUS_DOMAIN)},o={x:r.x,y:(new i.c).fixDomain(i.mb.STATUS_DOMAIN)},c=[{status:v.Error,start:70,end:90},{status:v.Warning,start:40,end:70}],h=[{status:v.Error,end:20},{status:v.Warning,start:20,end:40}],d=m().map(r=>({...r,accessors:e,renderer:s,scales:t})),l=[];for(const i of d){const e=this.thresholdsService.getThresholdZones(i,c,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(i,e);const s=[...this.thresholdsService.getThresholdLines(e),this.thresholdsService.getBackgrounds(i,e,n,this.thresholdsPalette.backgroundColors)];l.push(...s)}const u=m().map(t=>({...t,accessors:e,renderer:s,scales:r})),g=[];for(const i of u){const e=this.thresholdsService.getThresholdZones(i,h,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(i,e);const s=[...this.thresholdsService.getThresholdLines(e),this.thresholdsService.getBackgrounds(i,e,o,this.thresholdsPalette.backgroundColors)];g.push(...s)}this.chartAssist.update([...l,...d]),this.reversedThresholdsChartAssist.update([...g,...u])}}return e.\u0275fac=function(s){return new(s||e)(c.Nb(i.pb))},e.\u0275cmp=c.Hb({type:e,selectors:[["ng-component"]],decls:13,vars:10,consts:[[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],["seriesUnitLabel","sec",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(e,s){1&e&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Ob(2,"nui-chart",2),c.Sb(),c.Tb(3,"div",3),c.Tb(4,"nui-legend",4),c.gc("mouseleave",(function(){return s.chartAssist.resetVisibleSeries()})),c.Ic(5,S,3,8,"nui-legend-series",5),c.Sb(),c.Sb(),c.Sb(),c.Ob(6,"br"),c.Tb(7,"div",0),c.Tb(8,"div",1),c.Ob(9,"nui-chart",2),c.Sb(),c.Tb(10,"div",3),c.Tb(11,"nui-legend",4),c.gc("mouseleave",(function(){return s.reversedThresholdsChartAssist.resetVisibleSeries()})),c.Ic(12,T,3,8,"nui-legend-series",5),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.Bb(2),c.qc("chart",s.chart),c.Bb(2),c.qc("active",s.chartAssist.isLegendActive)("interactive",!0),c.Bb(1),c.qc("ngForOf",s.chartAssist.legendSeriesSet)("ngForTrackBy",s.chartAssist.seriesTrackByFn),c.Bb(4),c.qc("chart",s.reversedThresholdsChart),c.Bb(2),c.qc("active",s.reversedThresholdsChartAssist.isLegendActive)("interactive",!0),c.Bb(1),c.qc("ngForOf",s.reversedThresholdsChartAssist.legendSeriesSet)("ngForTrackBy",s.reversedThresholdsChartAssist.seriesTrackByFn))},directives:[h.a,d.a,l.o,u.a,g.a,b.a],encapsulation:2}),e})(),data:{srlc:{hideIndicator:!0}}}];let C=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(s){return new(s||e)},imports:[[n.a,i.X,r.e.forChild(p)]]}),e})()}}]);