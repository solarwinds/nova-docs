!function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunk_nova_ui_charts=self.webpackChunk_nova_ui_charts||[]).push([[267],{267:function(n,i,a){a.r(i),a.d(i,{TypeSwitchExampleModule:function(){return J}});var s=a(66266),c=a(84797),o=a(72773),u=a(58490),l=a(31507),h=a.n(l),d=a(33018),p=a(13458),g=a(38583),v=a(46743),f=a(65804),y=a(83063),w=a(87373);function m(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"nui-chart-donut-content",10),d.TgZ(2,"div",11),d._uU(3,"57"),d.qZA(),d.TgZ(4,"div",12),d._uU(5,"donuts"),d.qZA(),d.qZA(),d.BQk()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("plugin",n.donutContentPlugin)}}function C(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"nui-legend-series",13),d.NdJ("mouseenter",function(){var e=d.CHM(n).$implicit;return d.oxw().chartAssist.emphasizeSeries(e.id)})("isSelectedChange",function(e){var t=d.CHM(n).$implicit;return d.oxw().chartAssist.toggleSeries(t.id,e)}),d.ALo(1,"titlecase"),d._UZ(2,"nui-rich-legend-tile",14),d._UZ(3,"nui-icon",15),d.qZA()}if(2&e){var r=t.$implicit,i=d.oxw();d.s9C("descriptionPrimary",d.lcZ(1,5,r.id)),d.Q6J("seriesRenderState",null==i.chartAssist.renderStatesIndex[r.id]?null:i.chartAssist.renderStatesIndex[r.id].state)("isSelected",!i.chartAssist.isSeriesHidden(r.id)),d.xp6(2),d.Q6J("value",null==r.data[0]?null:r.data[0].value),d.xp6(1),d.Q6J("icon",i.iconMap[r.id])}}function A(e,t){if(1&e&&(d.TgZ(0,"nui-radio",16),d._uU(1),d.ALo(2,"titlecase"),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n),d.xp6(1),d.hij(" ",d.lcZ(2,2,n)," ")}}var k,T=((k=function(){function e(){t(this,e),this.chartTypes=["horizontal bar","vertical bar","pie","donut"],this.chartType=this.chartTypes[0],this.categories=["down","critical","warning","unknown","ok","other"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[24,16,7,6,97,4],this.iconMap=h()(this.categories,this.iconNames.map(function(e){return"status_".concat(e)})),this.colorProvider=new o.oki(h()(this.categories,o.Sj$.filter(function(e,t){return t%2==0})))}return r(e,[{key:"ngOnInit",value:function(){this.updateChartType()}},{key:"updateChartType",value:function(){this.buildChart(),this.chartAssist.chart.updateDimensions(),this.updateChart()}},{key:"buildChart",value:function(){switch(this.donutContentPlugin=void 0,this.chartType){case"horizontal bar":this.chartAssist=new o.doR(new o.kL2((0,o.skL)({horizontal:!0})));break;case"vertical bar":this.chartAssist=new o.doR(new o.kL2((0,o.skL)({horizontal:!1})));break;case"pie":this.chartAssist=new o.doR(new o.kL2((0,o.Y6Q)()),o.fy$);break;case"donut":this.donutContentPlugin=new o.iM,this.chartAssist=new o.doR(new o.kL2((0,o.Y6Q)()),o.fy$),this.chartAssist.chart.addPlugin(this.donutContentPlugin)}}},{key:"getRenderer",value:function(){switch(this.chartType){case"horizontal bar":case"vertical bar":return new o.Z7w;case"pie":return new o.bOg;case"donut":return new o.E8N}}},{key:"updateChart",value:function(){var e=this.getAccessors(),t=this.getRenderer(),n=this.getScales();if(!e||!t||!n)throw new Error("Accessors, renderer or scales are unavailable");this.chartAssist.update(this.getChartAssistSeries(this.categories,this.values,e,t,n))}},{key:"getScales",value:function(){var e=new o.jS7,t=new o.f$s;switch(t.domainCalculator=(0,o._OB)([0,0]),this.chartType){case"horizontal bar":return{x:t,y:e};case"vertical bar":return{x:e,y:t};case"pie":case"donut":return(0,o._N$)()}}},{key:"getAccessors",value:function(){switch(this.chartType){case"horizontal bar":return new o.HVr(this.colorProvider);case"vertical bar":return new o.a9F(this.colorProvider);case"pie":case"donut":var e=new o.UDz;return e.series.color=this.colorProvider.get,e}}},{key:"getChartAssistSeries",value:function(e,t,n,r,i){return e.map(function(e,a){return{id:e,data:[{category:e,value:t[a]||0}],accessors:n,renderer:r,scales:i}})}}]),e}()).\u0275fac=function(e){return new(e||k)},k.\u0275cmp=d.Xpm({type:k,selectors:[["nui-chart-one-dimensional-data-example"]],decls:10,vars:8,consts:[[1,"nui-chart-layout"],[1,"chart",2,"position","relative"],[1,"w-100",3,"chart"],[4,"ngIf"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"plugin"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],["backgroundColor","transparent",3,"value"],[3,"icon"],[3,"value"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"nui-chart",2),d.YNc(3,m,6,1,"ng-container",3),d.qZA(),d.TgZ(4,"div",4),d.TgZ(5,"nui-legend",5),d.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),d.YNc(6,C,4,7,"nui-legend-series",6),d.qZA(),d.qZA(),d.TgZ(7,"div",7),d.TgZ(8,"nui-radio-group",8),d.NdJ("valueChange",function(e){return t.chartType=e})("valueChange",function(){return t.updateChartType()}),d.YNc(9,A,3,4,"nui-radio",9),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("chart",t.chartAssist.chart),d.xp6(1),d.Q6J("ngIf",t.donutContentPlugin),d.xp6(2),d.Q6J("active",t.chartAssist.isLegendActive)("interactive",!1),d.xp6(1),d.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),d.xp6(2),d.Q6J("value",t.chartType),d.xp6(1),d.Q6J("ngForOf",t.chartTypes))},directives:[p.x,g.O5,v.F,g.sg,c.wTj,f.k,y.k,w.w,c.oJW,c.UKb],pipes:[g.rS],encapsulation:2}),k);function Z(e,t){if(1&e&&(d.TgZ(0,"nui-radio",9),d._uU(1),d.ALo(2,"titlecase"),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n),d.xp6(1),d.hij(" ",d.lcZ(2,2,n)," ")}}function S(e,t){if(1&e&&d._UZ(0,"nui-icon",13),2&e){var n=d.oxw().$implicit,r=d.oxw();d.Q6J("icon",r.iconMap[n.id])}}function x(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"nui-legend-series",10),d.NdJ("mouseenter",function(){var e=d.CHM(n).$implicit;return d.oxw().chartAssist.emphasizeSeries(e.id)})("isSelectedChange",function(e){var t=d.CHM(n).$implicit;return d.oxw().chartAssist.toggleSeries(t.id,e)}),d.ALo(1,"titlecase"),d._UZ(2,"nui-rich-legend-tile",11),d.YNc(3,S,1,1,"nui-icon",12),d.qZA()}if(2&e){var r=t.$implicit,i=d.oxw();d.s9C("descriptionPrimary",d.lcZ(1,7,r.id)),d.Q6J("seriesRenderState",null==i.chartAssist.renderStatesIndex[r.id]?null:i.chartAssist.renderStatesIndex[r.id].state)("isSelected",!i.chartAssist.isSeriesHidden(r.id)),d.xp6(2),d.Q6J("value",i.accessors.data.value(r.data[0],0,null,null))("backgroundColor",i.chartAssist.palette.standardColors.get(r.id))("color",i.chartAssist.palette.textColors.get(r.id)),d.xp6(1),d.Q6J("ngIf",i.iconMap[r.id])}}function b(e,t){if(1&e&&(d.TgZ(0,"nui-radio",9),d._uU(1),d.ALo(2,"titlecase"),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n),d.xp6(1),d.hij(" ",d.lcZ(2,2,n)," ")}}var F=function(){return(e=F||(F={})).StackedBar="stacked bar",e.GroupedBar="grouped bar",e.Line="line",F;var e}(),Q=[{path:"1d",component:T},{path:"2d",component:function(){var n=function(){function n(){t(this,n),this.chartTypes=[F.StackedBar,F.GroupedBar,F.Line],this.chartType=this.chartTypes[0],this.mainCategoryOptions=["quarters","statuses"],this.mainCategory=this.mainCategoryOptions[0],this.statuses=["down","critical","warning","unknown","ok","other"],this.quarters=["Q1","Q2","Q3","Q4"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[[24,16,7,6,97,4],[13,8,5,17,5,25],[97,41,24,6,7,6],[45,87,23,48,24,9]],this.iconMap=h()(this.statuses,this.iconNames.map(function(e){return"status_".concat(e)}))}return r(n,[{key:"ngOnInit",value:function(){this.updateMainCategory()}},{key:"updateMainCategory",value:function(){var e=this,t=new o.syg(new o.oki(h()(this.statuses,o.Sj$.filter(function(e,t){return t%2==0})))),n=new o.syg(o.cpE),r=this.mainCategory===this.mainCategoryOptions[0];this.categories=r?this.statuses:this.quarters,this.subCategories=r?this.quarters:this.statuses,this.valueAccessor=r?function(t,n){return e.values[t][n]}:function(t,n){return e.values[n][t]},this.palette=r?n:t,this.updateChartType()}},{key:"updateChartType",value:function(){this.buildChart(),this.updateChart()}},{key:"buildChart",value:function(){var e=this.getChartAttributes(this.chartType),t=e.grid,n=e.accessors,r=e.renderer,i=e.scales,a=e.preprocessor;this.renderer=r,this.accessors=n,this.scales=i;var s=new o.kL2(t);s.addPlugin(new o.$fK),this.chartAssist=new o.doR(s,a,this.palette),this.chartType===F.StackedBar&&(this.chartAssist.seriesProcessor=o.knu)}},{key:"updateChart",value:function(){this.chartAssist.update(this.buildChartSeries(this.categories,this.subCategories,this.valueAccessor))}},{key:"buildChartSeries",value:function(e,t,n){var r=this;return t.map(function(t,i){return{id:t,name:t,data:e.map(function(e,t){return{category:e,value:n(i,t)||0}}),accessors:r.accessors,renderer:r.renderer,scales:r.scales}})}},{key:"getChartAttributes",value:function(e){var t=this.getChartTools(e),n={grid:t.gridFunction(),accessors:t.accessorFunction(),renderer:t.rendererFunction(),scales:t.scaleFunction()};return t.preprocessor&&(n.preprocessor=t.preprocessor),n}},{key:"getChartTools",value:function(t){var n,r=this;return(n={},e(n,F.StackedBar,{preprocessor:o.knu,gridFunction:o.skL,rendererFunction:function(){return new o.Z7w({highlightStrategy:new o.Pkp("x")})},accessorFunction:function(){return(0,o.Q6e)(void 0,r.palette.standardColors)},scaleFunction:o.CQI}),e(n,F.GroupedBar,{gridFunction:function(){return(0,o.skL)({grouped:!0})},rendererFunction:function(){return new o.Z7w({highlightStrategy:new o.Pkp("x")})},accessorFunction:function(){var e=(0,o.Q6e)({grouped:!0},r.palette.standardColors);return e.data.category=function(e,t,n,r){return[e.category,r.name]},e},scaleFunction:function(){return(0,o.CQI)({grouped:!0})}}),e(n,F.Line,{gridFunction:function(){return new o.Be5},rendererFunction:function(){return new o.Med},accessorFunction:function(){var e=new o.qxh(r.palette.standardColors);return e.data.x=function(e){return e.category},e.data.y=function(e){return e.value},e.data.value=function(e){return e.value},e},scaleFunction:function(){return{x:(new o.jS7).fixDomain(r.categories),y:new o.f$s}}}),n)[t]}}]),n}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["nui-chart-two-dimensional-data-example"]],decls:13,vars:9,consts:[[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[3,"value"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["class","mt-1 ml-3",3,"icon",4,"ngIf"],[1,"mt-1","ml-3",3,"icon"]],template:function(e,t){1&e&&(d.TgZ(0,"h3"),d._uU(1," Legend by "),d.TgZ(2,"nui-radio-group",0),d.NdJ("valueChange",function(e){return t.mainCategory=e})("valueChange",function(){return t.updateMainCategory()}),d.YNc(3,Z,3,4,"nui-radio",1),d.qZA(),d.qZA(),d.TgZ(4,"div",2),d.TgZ(5,"div",3),d._UZ(6,"nui-chart",4),d.qZA(),d.TgZ(7,"div",5),d.TgZ(8,"nui-legend",6),d.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),d.YNc(9,x,4,9,"nui-legend-series",7),d.qZA(),d.qZA(),d.TgZ(10,"div",8),d.TgZ(11,"nui-radio-group",0),d.NdJ("valueChange",function(e){return t.chartType=e})("valueChange",function(){return t.updateChartType()}),d.YNc(12,b,3,4,"nui-radio",1),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("value",t.mainCategory),d.xp6(1),d.Q6J("ngForOf",t.mainCategoryOptions),d.xp6(3),d.Q6J("chart",t.chartAssist.chart),d.xp6(2),d.Q6J("active",t.chartAssist.isLegendActive)("interactive",!1),d.xp6(1),d.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),d.xp6(2),d.Q6J("value",t.chartType),d.xp6(1),d.Q6J("ngForOf",t.chartTypes))},directives:[c.wTj,g.sg,p.x,v.F,c.UKb,y.k,w.w,g.O5,c.oJW],pipes:[g.rS],encapsulation:2}),n}()}],J=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[u.l,o.$y4,c.Ts3,c.CUE,s.Bz.forChild(Q)]]}),e}()}}])}();