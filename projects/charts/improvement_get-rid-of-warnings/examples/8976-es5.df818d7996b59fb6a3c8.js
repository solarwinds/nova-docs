!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunk_nova_ui_charts=self.webpackChunk_nova_ui_charts||[]).push([[8976],{78976:function(t,i,r){r.r(i),r.d(i,{PieChartExampleModule:function(){return S}});var s=r(66266),a=r(84797),c=r(72773),o=r(58490),u=r(62450),l=r(33018),h=r(13458),d=r(65804),f=r(38583),g=r(46743),p=r(83063),v=r(87373);function m(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"div",11),l._uU(2,"57"),l.qZA(),l.TgZ(3,"div",12),l._uU(4,"donuts"),l.qZA(),l.qZA())}function x(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"nui-legend-series",13),l.NdJ("mouseenter",function(){var e=l.CHM(n).$implicit;return l.oxw().chartAssist.emphasizeSeries(e.id)})("isSelectedChange",function(e){var t=l.CHM(n).$implicit;return l.oxw().chartAssist.toggleSeries(t.id,e)}),l._UZ(1,"nui-rich-legend-tile",14),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw();l.Q6J("descriptionPrimary",i.name)("seriesRenderState",null==r.chartAssist.renderStatesIndex[i.id]?null:r.chartAssist.renderStatesIndex[i.id].state)("isSelected",!r.chartAssist.isSeriesHidden(i.id)),l.xp6(1),l.Q6J("value",r.chartAssist.getHighlightedValue(i,"y","value"))("backgroundColor",r.chartAssist.palette.standardColors.get(i.id))("color",r.chartAssist.palette.textColors.get(i.id))}}function Z(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",15),l.TgZ(1,"h3"),l._uU(2,"Annular's params"),l.qZA(),l.TgZ(3,"p"),l._uU(4," Setting one of the parameters to 0 will force donut chart to use default annular width of 20px. Default width is also configurable. "),l.qZA(),l.TgZ(5,"span"),l._uU(6,"Donut's width in percents"),l.qZA(),l.TgZ(7,"nui-textbox-number",16),l.NdJ("valueChange",function(e){return l.CHM(n),l.oxw().updateWidth(e)}),l.qZA(),l.TgZ(8,"span"),l._uU(9,"Max donut's width in px"),l.qZA(),l.TgZ(10,"nui-textbox-number",17),l.NdJ("valueChange",function(e){return l.CHM(n),l.oxw().updatemaxWidth(e)}),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(7),l.Q6J("value",15)("maxValue",80),l.xp6(3),l.Q6J("value",i.renderer.config.maxThickness)}}var A,w=[{path:"",component:(A=function(){function t(n){var i=this;e(this,t),this.toastr=n,this.compact=!1,this.chart=new c.kL2(new c.lS),this.chartAssist=new c.doR(this.chart),this.interactive=!1,this.processSeries=function(e){return(0,c.GVi)(e,function(e){return!i.chartAssist.isSeriesHidden(e.id)})}}return n(t,[{key:"ngOnInit",value:function(){var e=this,t=new c.GFe;t.interactive=!1,this.chart.getGrid().config(t),this.scales={r:new c.f$s},this.scales.r.fixDomain([0,1]),this.chartAssist=new c.doR(this.chart,this.processSeries),this.contentPlugin=new c.iM,this.chart.addPlugin(this.contentPlugin),this.refreshPie(),this.chart.getEventBus().getStream("click").subscribe(function(t){e.toastr.info({title:"Event Published",message:"event: click; data: ".concat(t.data),options:{timeOut:1500}})})}},{key:"generateSeriesSet",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=u.N.generateMockOrdinalSeriesSet(["Chrome","Firefox","Edge"],t);return n.forEach(function(e){e.id+="-".concat(Math.round(100*Math.random()))}),n.map(function(t){return Object.assign(Object.assign({},t),{accessors:{data:{value:function(e){return e.value}},series:{color:e.chartAssist.palette.standardColors.get}},scales:e.scales,renderer:e.renderer,showInLegend:!0})})}},{key:"refreshPie",value:function(){this.renderer=new c.bOg,this.chartAssist.update(this.generateSeriesSet())}},{key:"updateWidth",value:function(e){this.renderer.config.annularGrowth=e/100,this.updateDonut()}},{key:"updatemaxWidth",value:function(e){this.renderer.config.maxThickness=e,this.updateDonut()}},{key:"refreshPieInteraction",value:function(){this.interactive=!this.interactive,this.renderer.interaction=this.interactive?{arc:{mouseover:"",mouseout:"",click:""}}:void 0,this.chartAssist.update(this.generateSeriesSet())}},{key:"refreshDonut",value:function(e){var t=this;this.renderer=new c.E8N,this.chartAssist.update(this.generateSeriesSet(e)),setTimeout(function(){t.chart.updateDimensions()},0)}},{key:"showContent",value:function(){return!(this.renderer instanceof c.bOg)}},{key:"updateDonut",value:function(){var e=this;setTimeout(function(){e.chart.updateDimensions()},0)}}]),t}(),A.\u0275fac=function(e){return new(e||A)(l.Y36(a.klp))},A.\u0275cmp=l.Xpm({type:A,selectors:[["nui-pie-chart-example"]],decls:21,vars:10,consts:[[1,"d-flex","flex-column"],[1,"d-flex","flex-fill","w-100","h-100",2,"position","relative"],[1,"flex-fill","w-100","h-100",3,"chart"],[3,"plugin"],[4,"ngIf"],[1,"d-flex","flex-column","pl-2"],["seriesUnitLabel","Share",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-group"],["nui-button","","type","button",3,"click"],["class","d-flex flex-column w-25",4,"ngIf"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],[1,"d-flex","flex-column","w-25"],[3,"value","maxValue","valueChange"],[3,"value","valueChange"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"nui-expander"),l.TgZ(2,"div",1),l._UZ(3,"nui-chart",2),l.TgZ(4,"nui-chart-donut-content",3),l.YNc(5,m,5,0,"div",4),l.qZA(),l.TgZ(6,"div",5),l.TgZ(7,"nui-legend",6),l.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),l.YNc(8,x,2,6,"nui-legend-series",7),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",8),l.TgZ(10,"button",9),l.NdJ("click",function(){return t.refreshDonut(1)}),l._uU(11,"1 circle donut "),l.qZA(),l.TgZ(12,"button",9),l.NdJ("click",function(){return t.refreshDonut(2)}),l._uU(13,"2 circle donut "),l.qZA(),l.TgZ(14,"button",9),l.NdJ("click",function(){return t.refreshPie()}),l._uU(15,"Pie"),l.qZA(),l.TgZ(16,"button",9),l.NdJ("click",function(){return t.refreshPieInteraction()}),l._uU(17,"Refresh and toggle interaction"),l.qZA(),l.TgZ(18,"button",9),l.NdJ("click",function(){return t.compact=!t.compact}),l._uU(19,"Toggle Size"),l.qZA(),l.qZA(),l.qZA(),l.YNc(20,Z,11,3,"div",10)),2&e&&(l.Udp("height",t.compact?"150px":"500px"),l.xp6(3),l.Q6J("chart",t.chart),l.xp6(1),l.Q6J("plugin",t.contentPlugin),l.xp6(1),l.Q6J("ngIf",t.showContent()),l.xp6(2),l.Q6J("active",t.chartAssist.isLegendActive)("interactive",!0),l.xp6(1),l.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),l.xp6(12),l.Q6J("ngIf",t.showContent()))},directives:[a.Fxv,h.x,d.k,f.O5,g.F,f.sg,a.r0F,p.k,v.w,a.I5I],encapsulation:2}),A)}],S=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.l,c.$y4,a.Az_,a.LRI,a.YMY,s.Bz.forChild(w),a.Ld5]]}),t}()}}])}();