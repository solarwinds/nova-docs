"use strict";(self.webpackChunk_nova_ui_charts=self.webpackChunk_nova_ui_charts||[]).push([[445],{445:function(e,s,t){t.r(s),t.d(s,{ThresholdsPrototypeModule:function(){return C}});var r=t(66266),i=t(72773),n=t(58490),a=t(16738),o=t.n(a),h=t(33018),d=t(13458),c=t(46743),l=t(38583),u=t(83063),g=t(87373),v=t(73943);function T(e,s){if(1&e){const e=h.EpF();h.TgZ(0,"nui-legend-series",6),h.NdJ("mouseenter",function(){const s=h.CHM(e).$implicit;return h.oxw().chartAssist.emphasizeSeries(s.id)})("isSelectedChange",function(s){const t=h.CHM(e).$implicit;return h.oxw().chartAssist.toggleSeries(t.id,s)}),h.TgZ(1,"nui-rich-legend-tile",7),h._UZ(2,"nui-chart-marker",8),h.qZA(),h.qZA()}if(2&e){const e=s.$implicit,t=h.oxw();h.Q6J("descriptionPrimary",e.name)("seriesRenderState",null==t.chartAssist.renderStatesIndex[e.id]?null:t.chartAssist.renderStatesIndex[e.id].state)("isSelected",!t.chartAssist.isSeriesHidden(e.id)),h.xp6(1),h.Q6J("value",t.chartAssist.getHighlightedValue(e,"y"))("backgroundColor",t.chartAssist.palette.standardColors.get(e.id))("color",t.chartAssist.palette.textColors.get(e.id)),h.xp6(1),h.Q6J("marker",t.chartAssist.markers.get(e.id))("color",t.chartAssist.palette.standardColors.get(e.id))}}function A(e,s){if(1&e){const e=h.EpF();h.TgZ(0,"nui-legend-series",6),h.NdJ("mouseenter",function(){const s=h.CHM(e).$implicit;return h.oxw().reversedThresholdsChartAssist.emphasizeSeries(s.id)})("isSelectedChange",function(s){const t=h.CHM(e).$implicit;return h.oxw().reversedThresholdsChartAssist.toggleSeries(t.id,s)}),h.TgZ(1,"nui-rich-legend-tile",7),h._UZ(2,"nui-chart-marker",8),h.qZA(),h.qZA()}if(2&e){const e=s.$implicit,t=h.oxw();h.Q6J("descriptionPrimary",e.name)("seriesRenderState",null==t.reversedThresholdsChartAssist.renderStatesIndex[e.id]?null:t.reversedThresholdsChartAssist.renderStatesIndex[e.id].state)("isSelected",!t.reversedThresholdsChartAssist.isSeriesHidden(e.id)),h.xp6(1),h.Q6J("value",t.reversedThresholdsChartAssist.getHighlightedValue(e,"y"))("backgroundColor",t.reversedThresholdsChartAssist.palette.standardColors.get(e.id))("color",t.reversedThresholdsChartAssist.palette.textColors.get(e.id)),h.xp6(1),h.Q6J("marker",t.reversedThresholdsChartAssist.markers.get(e.id))("color",t.reversedThresholdsChartAssist.palette.standardColors.get(e.id))}}var p=(()=>{return(e=p||(p={})).Error="error",e.Warning="warning",p;var e})();function S(){const e="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:o()("2016-12-25T15:05:00Z",e).toDate(),y:20},{x:o()("2016-12-25T15:10:00Z",e).toDate(),y:80},{x:o()("2016-12-25T15:15:00Z",e).toDate(),y:10},{x:o()("2016-12-25T15:20:00Z",e).toDate(),y:0},{x:o()("2016-12-25T15:25:00Z",e).toDate(),y:50},{x:o()("2016-12-25T15:30:00Z",e).toDate(),y:20}]}]}const m=[{path:"",component:(()=>{class e{constructor(e){this.thresholdsService=e,this.chart=new i.kL2(new i.Be5),this.reversedThresholdsChart=new i.kL2(new i.Be5),this.chartAssist=new i.doR(this.chart),this.reversedThresholdsChartAssist=new i.doR(this.reversedThresholdsChart),this.thresholdsPalette=new i.syg(new i.oki({[p.Error]:i.Sj$[2],[p.Warning]:i.Sj$[4]}))}ngOnInit(){const e=new i.qxh(this.chartAssist.palette.standardColors,this.chartAssist.markers),s=new i.Med,t={x:new i.lTH((0,a.duration)(5,"minutes")),y:new i.f$s};t.y.fixDomain([0,100]);const r={x:new i.FBd,y:new i.f$s};r.y.fixDomain([0,100]);const n={x:t.x,y:(new i.jS7).fixDomain(i.s1E.STATUS_DOMAIN)},o={x:r.x,y:(new i.jS7).fixDomain(i.s1E.STATUS_DOMAIN)},h=[{status:p.Error,start:70,end:90},{status:p.Warning,start:40,end:70}],d=[{status:p.Error,end:20},{status:p.Warning,start:20,end:40}],c=S().map(r=>Object.assign(Object.assign({},r),{accessors:e,renderer:s,scales:t})),l=[];for(const i of c){const e=this.thresholdsService.getThresholdZones(i,h,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(i,e);const s=[...this.thresholdsService.getThresholdLines(e),this.thresholdsService.getBackgrounds(i,e,n,this.thresholdsPalette.backgroundColors)];l.push(...s)}const u=S().map(t=>Object.assign(Object.assign({},t),{accessors:e,renderer:s,scales:r})),g=[];for(const i of u){const e=this.thresholdsService.getThresholdZones(i,d,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(i,e);const s=[...this.thresholdsService.getThresholdLines(e),this.thresholdsService.getBackgrounds(i,e,o,this.thresholdsPalette.backgroundColors)];g.push(...s)}this.chartAssist.update([...l,...c]),this.reversedThresholdsChartAssist.update([...g,...u])}}return e.\u0275fac=function(s){return new(s||e)(h.Y36(i.yaz))},e.\u0275cmp=h.Xpm({type:e,selectors:[["ng-component"]],decls:13,vars:10,consts:[[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],["seriesUnitLabel","sec",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(e,s){1&e&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h._UZ(2,"nui-chart",2),h.qZA(),h.TgZ(3,"div",3),h.TgZ(4,"nui-legend",4),h.NdJ("mouseleave",function(){return s.chartAssist.resetVisibleSeries()}),h.YNc(5,T,3,8,"nui-legend-series",5),h.qZA(),h.qZA(),h.qZA(),h._UZ(6,"br"),h.TgZ(7,"div",0),h.TgZ(8,"div",1),h._UZ(9,"nui-chart",2),h.qZA(),h.TgZ(10,"div",3),h.TgZ(11,"nui-legend",4),h.NdJ("mouseleave",function(){return s.reversedThresholdsChartAssist.resetVisibleSeries()}),h.YNc(12,A,3,8,"nui-legend-series",5),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.Q6J("chart",s.chart),h.xp6(2),h.Q6J("active",s.chartAssist.isLegendActive)("interactive",!0),h.xp6(1),h.Q6J("ngForOf",s.chartAssist.legendSeriesSet)("ngForTrackBy",s.chartAssist.seriesTrackByFn),h.xp6(4),h.Q6J("chart",s.reversedThresholdsChart),h.xp6(2),h.Q6J("active",s.reversedThresholdsChartAssist.isLegendActive)("interactive",!0),h.xp6(1),h.Q6J("ngForOf",s.reversedThresholdsChartAssist.legendSeriesSet)("ngForTrackBy",s.reversedThresholdsChartAssist.seriesTrackByFn))},directives:[d.x,c.F,l.sg,u.k,g.w,v.s],encapsulation:2}),e})(),data:{srlc:{hideIndicator:!0}}}];let C=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[n.l,i.$y4,r.Bz.forChild(m)]]}),e})()}}]);