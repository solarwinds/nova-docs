(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[61],{63629:(Rt,pt,o)=>{"use strict";o.d(pt,{V:()=>L});var v=o(92893),O=o(42625),m=o(5e3);let L=(()=>{class Y{constructor(et,w){this.chartComponent=et,this.chartCollectionService=w}ngOnChanges(et){const w=et.collectionId;w&&(w.previousValue&&this.chartCollectionService.getChartCollection(w.previousValue).removeChart(this.chartComponent.chart),w.currentValue&&this.chartCollectionService.getChartCollection(w.currentValue).addChart(this.chartComponent.chart))}}return Y.\u0275fac=function(et){return new(et||Y)(m.Y36(v.BD),m.Y36(O.v))},Y.\u0275dir=m.lG2({type:Y,selectors:[["","nuiChartCollectionId",""]],inputs:{collectionId:["nuiChartCollectionId","collectionId"]},features:[m.TTD]}),Y})()},42625:(Rt,pt,o)=>{"use strict";o.d(pt,{v:()=>Y});var v=o(34235),O=o.n(v),m=o(4482),L=o(5e3);let Y=(()=>{class k{constructor(){this.collections={}}getChartCollection(w){let D=this.collections[w];return O()(D)&&(D=new m.p,this.collections[w]=D),D}}return k.\u0275fac=function(w){return new(w||k)},k.\u0275prov=L.Yz7({token:k,factory:k.\u0275fac}),k})()},24386:(Rt,pt,o)=>{"use strict";o.d(pt,{k:()=>k}),o(37669);var O=o(5e3),m=o(69808);function L(et,w){if(1&et&&(O.TgZ(0,"div",1),O.Hsn(1),O.qZA()),2&et){const D=O.oxw();O.Udp("top",D.contentPosition.top,"px")("left",D.contentPosition.left,"px")("height",D.contentPosition.height,"px")("width",D.contentPosition.width,"px")}}const Y=["*"];let k=(()=>{class et{ngOnChanges(D){var B;D.plugin&&(null===(B=this.contentPositionUpdateSubscription)||void 0===B||B.unsubscribe(),this.contentPositionUpdateSubscription=this.plugin.contentPositionUpdateSubject.subscribe(V=>{this.contentPosition=V}),this.plugin.chart.updateDimensions())}ngOnDestroy(){this.contentPositionUpdateSubscription&&this.contentPositionUpdateSubscription.unsubscribe()}}return et.\u0275fac=function(D){return new(D||et)},et.\u0275cmp=O.Xpm({type:et,selectors:[["nui-chart-donut-content"]],inputs:{plugin:"plugin"},features:[O.TTD],ngContentSelectors:Y,decls:1,vars:1,consts:[["class","nui-chart-donut-content d-flex justify-content-center align-items-center text-center",3,"top","left","height","width",4,"ngIf"],[1,"nui-chart-donut-content","d-flex","justify-content-center","align-items-center","text-center"]],template:function(D,B){1&D&&(O.F$t(),O.YNc(0,L,2,8,"div",0)),2&D&&O.Q6J("ngIf",B.plugin&&B.contentPosition)},directives:[m.O5],styles:[".nui-chart-donut-content[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;width:100%;height:100%;overflow:hidden;text-overflow:ellipsis}"]}),et})()},21679:(Rt,pt,o)=>{"use strict";o.d(pt,{s:()=>et});var v=o(75946),O=o.n(v),m=o(61135),L=o(5e3);const Y=["svgContent"];let et=(()=>{class w{constructor(B){this.changeDetector=B,this.maxSize=20,this.height="10px",this.width="10px",this.svg=new m.X("")}ngAfterViewInit(){this.svg.subscribe(B=>{this.renderMarkerSvg(B)})}ngOnChanges(B){(B.marker||B.color)&&(B.color&&this.marker.setColor(this.color),this.marker&&this.marker.getSvg&&O()(this.marker.getSvg)&&this.svg.next(this.marker.getSvg()))}ngOnDestroy(){this.svg.complete()}renderMarkerSvg(B){const V=this.svgContent.nativeElement,W=`<line x1="-10" y1="0" x2="10" y2="0" style="stroke:${this.color};stroke-width:2" />`;V.innerHTML="",this.drawLine&&V.insertAdjacentHTML("beforeend",W),V.insertAdjacentHTML("beforeend",B),setTimeout(()=>{const T=V.getBBox();this.viewBox=`${T.x-3} ${T.y-3} ${T.width+6} ${T.height+6}`,this.width=Math.min(T.width+6,this.maxSize)+"px",this.height=Math.min(T.height+6,this.maxSize)+"px",this.changeDetector.markForCheck()})}}return w.\u0275fac=function(B){return new(B||w)(L.Y36(L.sBO))},w.\u0275cmp=L.Xpm({type:w,selectors:[["nui-chart-marker"]],viewQuery:function(B,V){if(1&B&&L.Gf(Y,5),2&B){let W;L.iGM(W=L.CRH())&&(V.svgContent=W.first)}},inputs:{marker:"marker",drawLine:"drawLine",color:"color",maxSize:"maxSize"},features:[L.TTD],decls:3,vars:3,consts:[["svgContent",""]],template:function(B,V){1&B&&(L.O4$(),L.TgZ(0,"svg"),L._UZ(1,"g",null,0),L.qZA()),2&B&&L.uIk("width",V.width)("height",V.height)("viewBox",V.viewBox)},styles:["[_nghost-%COMP%]{font-size:0}"]}),w})()},71004:(Rt,pt,o)=>{"use strict";o.d(pt,{D:()=>V});var v=o(5e3),O=o(77579),m=o(82722),L=o(75148),k=(o(44421),o(69808));function et(W,T){1&W&&v.GkF(0)}const w=function(W){return{dataPoints:W}};function D(W,T){if(1&W&&v.YNc(0,et,1,0,"ng-container",3),2&W){const A=v.oxw(2);v.Q6J("ngTemplateOutlet",A.template)("ngTemplateOutletContext",v.VKq(2,w,A.plugin.dataPoints))}}function B(W,T){if(1&W&&(v.TgZ(0,"div"),v._UZ(1,"nui-popover",1),v.YNc(2,D,1,4,"ng-template",null,2,v.W1O),v.qZA()),2&W){const A=v.MAs(3),R=v.oxw();v.xp6(1),v.Udp("height",R.plugin.popoverTargetPosition.height,"px"),v.Q6J("unlimited",!0)("template",A)("openPopover",R.plugin.openPopoverSubject)("closePopover",R.plugin.closePopoverSubject)("hasPadding",!1)("container",R.element.nativeElement)("withGrowAfterOpen",!0)}}let V=(()=>{class W{constructor(A,R){this.changeDetector=A,this.element=R,this.update=new v.vpe,this.destroy$=new O.x,this.initPlugin$=new O.x}ngOnChanges(A){A.plugin&&!A.plugin.isFirstChange()&&this.initPlugin()}ngOnInit(){this.initPlugin()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.initPlugin$.complete()}initPlugin(){var A,R;this.initPlugin$.next(),null===(A=this.plugin)||void 0===A||A.openPopoverSubject.pipe((0,m.R)(this.initPlugin$),(0,m.R)(this.destroy$)).subscribe(()=>{this.changeDetector.markForCheck()}),null===(R=this.plugin)||void 0===R||R.updatePositionSubject.pipe((0,m.R)(this.initPlugin$),(0,m.R)(this.destroy$)).subscribe(J=>{var H,rt,j;null===(H=this.popover)||void 0===H||H.resetSize(),this.element.nativeElement.style.left=J.left+J.width/2+"px",this.element.nativeElement.style.top=J.top+"px",null===(rt=this.popover)||void 0===rt||rt.updatePosition(),this.update.next(null===(j=this.plugin)||void 0===j?void 0:j.dataPoints)})}}return W.\u0275fac=function(A){return new(A||W)(v.Y36(v.sBO),v.Y36(v.SBq))},W.\u0275cmp=v.Xpm({type:W,selectors:[["nui-chart-popover"]],viewQuery:function(A,R){if(1&A&&v.Gf(L.U$R,5),2&A){let J;v.iGM(J=v.CRH())&&(R.popover=J.first)}},inputs:{plugin:"plugin",template:"template"},outputs:{update:"update"},features:[v.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["trigger","openPopoverSubject","placement","top",1,"chart-popover__popover",3,"unlimited","template","openPopover","closePopover","hasPadding","container","withGrowAfterOpen"],["popoverTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,R){1&A&&v.YNc(0,B,4,9,"div",0),2&A&&v.Q6J("ngIf",R.plugin&&R.plugin.dataPoints)},directives:[k.O5,L.U$R,k.tP],styles:["[_nghost-%COMP%]{position:absolute}.chart-popover__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]}),W})()},58:(Rt,pt,o)=>{"use strict";o.d(pt,{K:()=>At});var v=o(56859),O=o(35474),m=o.n(O),L=o(64509),Y=o.n(L),k=o(33816),et=o.n(k),w=o(77579),D=o(82722),V=(o(3645),o(47429)),W=o(41777),T=o(5e3),A=o(69808);function R(ut,ot){1&ut&&T.GkF(0)}let J=(()=>{class ut{}return ut.\u0275fac=function(nt){return new(nt||ut)},ut.\u0275cmp=T.Xpm({type:ut,selectors:[["nui-chart-tooltip"]],inputs:{template:"template"},decls:3,vars:2,consts:[[1,"nui-chart-tooltip","px-2","py-1","nui-text-small"],[4,"ngTemplateOutlet"]],template:function(nt,Zt){1&nt&&(T.TgZ(0,"div")(1,"div",0),T.YNc(2,R,1,0,"ng-container",1),T.qZA()()),2&nt&&(T.xp6(1),T.Q6J("@tooltip",void 0),T.xp6(1),T.Q6J("ngTemplateOutlet",Zt.template))},directives:[A.tP],styles:["[_nghost-%COMP%]{display:block;pointer-events:none}.nui-chart-tooltip[_ngcontent-%COMP%]{background-color:var(--nui-color-bg-inverse,#111);color:var(--nui-color-text-inverse,#fff);line-height:normal}"],data:{animation:[(0,W.X$)("tooltip",[(0,W.eR)(":enter",[(0,W.oB)({opacity:0}),(0,W.jt)(300,(0,W.oB)({opacity:1}))]),(0,W.eR)(":leave",[(0,W.jt)(300,(0,W.oB)({opacity:0}))])])]},changeDetection:0}),ut})();var H=o(91314);let rt=(()=>{class ut{constructor(nt,Zt,$t,ue){this.overlay=nt,this.overlayPositionBuilder=Zt,this.scrollStrategyOptions=$t,this.elementRef=ue}ngOnInit(){this.positionStrategy=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions(this.positions).withFlexibleDimensions(!1).withPush(!0),this.overlayRef=this.overlay.create({panelClass:"nui-chart-tooltip-pane",positionStrategy:this.positionStrategy,scrollStrategy:this.scrollStrategyOptions.close()}),this.openRemoteControl&&(this.openSubscription=this.openRemoteControl.subscribe(()=>{this.show()})),this.closeRemoteControl&&(this.closeSubscription=this.closeRemoteControl.subscribe(()=>{this.hide()}))}show(){this.overlayRef.hasAttached()?this.positionStrategy.apply():this.overlayRef.attach(new V.C5(J)).instance.template=this.template}hide(){this.overlayRef.detach()}ngOnDestroy(){this.hide(),this.openSubscription&&this.openSubscription.unsubscribe(),this.closeSubscription&&this.closeSubscription.unsubscribe()}getOverlayElement(){return this.overlayRef.overlayElement}}return ut.\u0275fac=function(nt){return new(nt||ut)(T.Y36(H.aV),T.Y36(H.wJ),T.Y36(H.uw),T.Y36(T.SBq))},ut.\u0275dir=T.lG2({type:ut,selectors:[["","nuiChartTooltip",""]],inputs:{template:"template",openRemoteControl:"openRemoteControl",closeRemoteControl:"closeRemoteControl",positions:"positions"}}),ut})();function j(ut,ot){1&ut&&T.GkF(0)}const ht=function(ut){return{dataPoint:ut}};function z(ut,ot){if(1&ut&&T.YNc(0,j,1,0,"ng-container",4),2&ut){const nt=T.oxw().$implicit,Zt=T.oxw(2);T.Q6J("ngTemplateOutlet",Zt.template)("ngTemplateOutletContext",T.VKq(2,ht,nt.value))}}function St(ut,ot){if(1&ut&&T._UZ(0,"div",5),2&ut){const nt=T.oxw().$implicit,Zt=T.MAs(2),$t=T.oxw(2);T.Udp("left",$t.plugin.dataPointPositions[nt.key].x,"px")("top",$t.plugin.dataPointPositions[nt.key].y,"px")("height",$t.plugin.dataPointPositions[nt.key].height,"px")("width",$t.plugin.dataPointPositions[nt.key].width,"px"),T.Q6J("template",Zt)("openRemoteControl",$t.openTooltips)("closeRemoteControl",$t.closeTooltips)("positions",$t.plugin.dataPointPositions[nt.key].overlayPositions),T.uIk("series-id",nt.key)}}function lt(ut,ot){if(1&ut&&(T.TgZ(0,"div"),T.YNc(1,z,1,4,"ng-template",null,2,T.W1O),T.YNc(3,St,1,13,"div",3),T.qZA()),2&ut){const nt=ot.$implicit,Zt=T.oxw(2);T.xp6(3),T.Q6J("ngIf",Zt.plugin.dataPointPositions[nt.key])}}function vt(ut,ot){if(1&ut&&(T.TgZ(0,"div"),T.YNc(1,lt,4,1,"div",1),T.ALo(2,"keyvalue"),T.qZA()),2&ut){const nt=T.oxw();T.xp6(1),T.Q6J("ngForOf",T.lcZ(2,2,nt.plugin.dataPoints))("ngForTrackBy",nt.trackByFn)}}let At=(()=>{class ut{constructor(nt){this.changeDetector=nt,this.openTooltips=new w.x,this.closeTooltips=new w.x,this.unsubscribe$=new w.x,this.tooltipDirectivesIndex={},this.closePending=!1,this.isOpen=!1}ngOnChanges(nt){!nt.plugin||!nt.plugin.currentValue||(this.unsubscribe$.next(),this.plugin.showSubject.pipe((0,D.R)(this.unsubscribe$)).subscribe(()=>this.handleOpen()),this.plugin.hideSubject.pipe((0,D.R)(this.unsubscribe$)).subscribe(()=>this.handleClose()))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}trackByFn(nt,Zt){return Zt.value.seriesId}handleOpen(){this.changeDetector.detectChanges();const nt={};this.tooltips.forEach($t=>{var ue;const ce=null!==(ue=$t.elementRef.nativeElement.getAttribute("series-id"))&&void 0!==ue?ue:void 0;if(!ce)throw new Error("SeriesId is not defined");nt[ce]=$t});const Zt=!Y()(nt,this.tooltipDirectivesIndex);this.closePending||Zt||!this.isOpen?(clearTimeout(this.openTimeout),this.openTimeout=window.setTimeout(()=>{this.openTooltips.next(),clearTimeout(this.collisionTimeout),this.collisionTimeout=window.setTimeout(()=>{this.avoidTooltipCollisions(),this.isOpen=!0})})):(this.openTooltips.next(),this.avoidTooltipCollisions(),this.isOpen=!0)}handleClose(){this.simulation&&this.simulation.stop(),this.closePending=!0,clearTimeout(this.closeTimeout),this.closeTimeout=window.setTimeout(()=>{this.closeTooltips.next(),this.closePending=!1,this.isOpen=!1})}avoidTooltipCollisions(){const nt={};this.tooltips.forEach(Zt=>{var $t;const ue=Zt.getOverlayElement(),ce=null!==($t=Zt.elementRef.nativeElement.getAttribute("series-id"))&&void 0!==$t?$t:void 0;if(!ce)throw new Error("SeriesId is not defined");this.tooltipDirectivesIndex[ce]=Zt,nt[ce]={x:ue.offsetLeft,y:ue.offsetTop,width:ue.clientWidth,height:ue.clientHeight}}),this.simulation&&this.simulation.stop(),this.simulation=this.startSimulation(this.tooltipDirectivesIndex,nt)}startSimulation(nt,Zt){const $t=Object.keys(Zt).map(ye=>{const it=Zt[ye];if(et()(it.height)||et()(it.width))throw new Error("Position height or width are not defined");const wt={seriesId:ye,x:it.x,y:it.y,radius:this.isVertical()?it.height/2:it.width/2};return this.isVertical()?wt.fx=it.x:wt.fy=it.y,wt}),ue=(0,v.Hh)(ye=>ye.radius).strength(.5).iterations(20),ce=(0,v.A4v)($t).alphaDecay(.3).force("collisionForce",ue);return ce.on("tick",()=>{m()($t,ye=>{(0,v.Ys)(nt[ye.seriesId].getOverlayElement()).style(this.isVertical()?"top":"left",(this.isVertical()?ye.y:ye.x)+"px")})}),ce}isVertical(){return"right"===this.plugin.orientation}}return ut.\u0275fac=function(nt){return new(nt||ut)(T.Y36(T.sBO))},ut.\u0275cmp=T.Xpm({type:ut,selectors:[["nui-chart-tooltips"]],viewQuery:function(nt,Zt){if(1&nt&&T.Gf(rt,5),2&nt){let $t;T.iGM($t=T.CRH())&&(Zt.tooltips=$t)}},inputs:{plugin:"plugin",template:"template"},features:[T.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["tooltipTemplate",""],["nuiChartTooltip","","class","chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions","left","top","height","width",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nuiChartTooltip","",1,"chart-tooltips__popover",3,"template","openRemoteControl","closeRemoteControl","positions"]],template:function(nt,Zt){1&nt&&T.YNc(0,vt,3,4,"div",0),2&nt&&T.Q6J("ngIf",Zt.plugin&&Zt.plugin.dataPoints)},directives:[A.O5,A.sg,A.tP,rt],pipes:[A.Nd],styles:[".chart-tooltips__popover[_ngcontent-%COMP%]{position:absolute;pointer-events:none}"]}),ut})()},42210:(Rt,pt,o)=>{"use strict";o.d(pt,{x:()=>Y});var v=o(5e3),O=o(20406),m=o.n(O),L=o(92893);let Y=(()=>{class k{constructor(w,D,B){this.elRef=w,this.ngZone=D,this.cd=B,this.redraw=()=>{this.chart.updateDimensions(),this.cd.detectChanges()},this.intersectionObserverCallback=(V,W)=>{const T={isChartInView:V[0].isIntersecting};this.chart.getEventBus().getStream(L._7).next({data:T})}}ngOnInit(){this.intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback),this.intersectionObserver.observe(this.elRef.nativeElement)}ngOnChanges(w){if(w.chart){const D=w.chart.previousValue;D&&D.destroy(),this.chart&&(this.chart.build(this.elRef.nativeElement),this.redraw())}}ngAfterContentInit(){this.chart.getEventBus().getStream(L._5).subscribe(()=>{this.chart.updateDimensions()})}ngAfterViewInit(){this.resizeHandler=m()(()=>this.redraw(),10),this.resizeObserver=new ResizeObserver(()=>{this.ngZone.run(()=>this.resizeHandler())}),this.ngZone.runOutsideAngular(()=>{var w;return null===(w=this.resizeObserver)||void 0===w?void 0:w.observe(this.elRef.nativeElement)})}ngOnDestroy(){var w,D,B;null===(w=this.intersectionObserver)||void 0===w||w.unobserve(this.elRef.nativeElement),null===(D=this.resizeObserver)||void 0===D||D.unobserve(this.elRef.nativeElement),null===(B=this.chart)||void 0===B||B.destroy()}}return k.\u0275fac=function(w){return new(w||k)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(v.sBO))},k.\u0275cmp=v.Xpm({type:k,selectors:[["nui-chart"]],inputs:{chart:"chart"},features:[v._Bn([{provide:L.BD,useExisting:(0,v.Gpc)(()=>k)}]),v.TTD],decls:0,vars:0,template:function(w,D){},encapsulation:2}),k})()},92893:(Rt,pt,o)=>{"use strict";o.d(pt,{BD:()=>j,C1:()=>V,CC:()=>m,DP:()=>k,GJ:()=>H,N:()=>L,N0:()=>lt,Qi:()=>B,Rj:()=>et,TC:()=>D,Vg:()=>St,_5:()=>R,_7:()=>J,bd:()=>A,gA:()=>W,hZ:()=>z,hk:()=>Y,mg:()=>rt,q7:()=>w,rz:()=>ht,wu:()=>T});var v=o(5e3),O=o(68208);const m="mouse_active",L="interaction_values_active",Y="interaction_values",k="interaction_coordinates",et="highlight_data_point",w="select_data_point",D="highlight_series",B="interaction_series",V="interaction_data_points",W="interaction_data_point",T="destroy",A="set_domain",R="refresh",J="chart_view_status",H="series_state_change",rt="axes_style_change",j=new v.OlP("chart_component"),ht={[O.n.background]:{name:O.n.background,order:0,clipped:!0},[O.n.data]:{name:O.n.data,order:50,clipped:!0},[O.n.unclippedData]:{name:O.n.unclippedData,order:51,clipped:!1},[O.n.foreground]:{name:O.n.foreground,order:1e3,clipped:!1}},z=-1,St=-2,lt="ignore-interaction"},4482:(Rt,pt,o)=>{"use strict";o.d(pt,{p:()=>D});var v=o(35474),O=o.n(v),m=o(58152),L=o.n(m),Y=o(34235),k=o.n(Y),et=o(92893),w=o(10866);class D{constructor(){this.lastIndex=-1,this.events=[et.hk,et.DP,et.CC,et._5],this.charts={},this.subscriptions={}}addChart(V){const W=(++this.lastIndex).toString();this.charts[W]=V,this.eventBus||this.initializeEventBus(),O()(this.events,T=>{this.subscribe(W,V.getEventBus().getStream(T),A=>{var R;A.broadcast||null===(R=this.eventBus)||void 0===R||R.getStream(T).next({chartIndex:W,event:A})})}),this.subscribe(W,V.getEventBus().getStream(et.wu),T=>{this.removeChart(V),0===Object.keys(this.charts).length&&this.destroy()})}removeChart(V){const W=this.getChartKey(V);if(k()(W))throw new Error("Chart not registered!");this.unsubscribeChart(W),delete this.charts[W]}destroy(){var V;null===(V=this.eventBus)||void 0===V||V.destroy(),this.eventBus=void 0}initializeEventBus(){this.eventBus=new w.N;for(const V of this.events)this.eventBus.getStream(V).subscribe(W=>{for(const T of Object.keys(this.charts))T!==W.chartIndex&&(W.event.broadcast=!0,this.charts[T].getEventBus().getStream(V).next(W.event))})}subscribe(V,W,T){const A=W.subscribe(T);let R=this.subscriptions[V];k()(R)&&(R=[],this.subscriptions[V]=R),R.push(A)}unsubscribeChart(V){O()(this.subscriptions[V],W=>{W.unsubscribe()}),delete this.subscriptions[V]}getChartKey(V){return L()(this.charts,W=>W===V)}}},47708:(Rt,pt,o)=>{"use strict";o.d(pt,{w:()=>v});class v{constructor(){}initialize(){}update(){}updateDimensions(){}destroy(){}}},10866:(Rt,pt,o)=>{"use strict";o.d(pt,{N:()=>L});var v=o(35474),O=o.n(v),m=o(77579);class L{constructor(){this.streams={}}getStream(k){return this.streams[k]||(this.streams[k]=new m.x),this.streams[k]}destroy(){O()(Object.keys(this.streams),k=>{this.streams[k].complete()})}}},2158:(Rt,pt,o)=>{"use strict";o.d(pt,{T:()=>V});var v=o(56859),O=o(69754),m=o.n(O),L=o(35474),Y=o.n(L),k=o(8817),et=o.n(k),w=o(92893),D=o(68208),B=o(28249);class V{constructor(T={}){this.config=T,this.interaction={},this.getContainerStateStyles=A=>{if(!this.config.stateStyles)throw new Error("stateStyles property is not defined");return this.config.stateStyles[A||D.L.default]},this.config=m()(this.config,V.DEFAULT_CONFIG)}getDataPointIndex(T,A,R){return w.hZ}highlightDataPoint(T,A,R){}setSeriesState(T,A){}setDataPointState(T,A){}getDomainOfFilteredData(T,A,R,J){let H=T.data;for(const rt of Object.keys(A)){const j=A[rt];!j.isDomainFixed||!j.isContinuous()||(H=this.filterDataByDomain(H,T,rt,j.domain()))}return this.getDomain(H,T,R,J)}getDomain(T,A,R,J){return T&&0!==T.length?(0,v.Wem)(T,(H,rt,j)=>{var ht,z;return null===(z=null===(ht=A.accessors.data)||void 0===ht?void 0:ht[R])||void 0===z?void 0:z.call(ht,H,rt,Array.from(j),A)}):B.iz}filterDataByDomain(T,A,R,J){var H;const rt=null===(H=A.accessors.data)||void 0===H?void 0:H[R];return T.filter((j,ht)=>{const z=rt(j,ht,T,A);return z>=J[0]&&z<=J[1]})}getRequiredLayers(){return[w.rz[D.n.data]]}setupInteraction(T,A,R,J,H){const rt=et()(this.interaction,T,{})[A];!rt||Y()(rt,j=>{R.on(A,()=>{const ht=R.node().getBoundingClientRect();J.next({eventName:j,data:Object.assign(Object.assign({},H),{position:ht})})})})}}V.DEFAULT_CONFIG={stateStyles:{[D.L.default]:{opacity:1},[D.L.hidden]:{opacity:0},[D.L.deemphasized]:{opacity:.1},[D.L.emphasized]:{opacity:1}}}},28249:(Rt,pt,o)=>{"use strict";o.d(pt,{Il:()=>Y,_v:()=>m,iz:()=>v,oT:()=>L,rX:()=>O});const v=[0,0],O=[0,1];function m(k){return!!k.domainWithTicks}function L(k){return"function"==typeof k.bandwidth}function Y(k){return void 0!==k.innerScale}},13431:(Rt,pt,o)=>{"use strict";o.d(pt,{s:()=>v});var v=(()=>{return(O=v||(v={})).Click="click",O.Hover="hover",O.MouseDown="mousedown",O.MouseEnter="mouseenter",O.MouseLeave="mouseleave",O.MouseMove="mousemove",O.MouseUp="mouseup",v;var O})()},37669:(Rt,pt,o)=>{"use strict";o.d(pt,{i:()=>k});var v=o(34235),O=o.n(v),m=o(77579),L=o(33335),Y=o(47708);class k extends Y.w{constructor(){super(...arguments),this.contentPositionUpdateSubject=new m.x,this.contentPosition={top:0,left:0,width:0,height:0}}updateDimensions(){const w=this.chart.getDataManager().chartSeriesSet.reduce((D,B)=>B.renderer instanceof L.E&&!O()(D)?Math.min(D,B.renderer.getInnerRadius(B.scales.r.range(),B.data.length-1)):D,1/0);if(O()(w))throw new Error("Radius is undefined");this.contentPosition=this.getContentPosition(w),this.contentPositionUpdateSubject.next(this.contentPosition)}destroy(){this.contentPositionUpdateSubject.complete()}getContentPosition(w){const D=[this.chart.getGrid().config().dimension.outerHeight()/2,this.chart.getGrid().config().dimension.outerWidth()/2];return{top:D[0]-w/Math.sqrt(2),left:D[1]-w/Math.sqrt(2),width:w*Math.sqrt(2),height:w*Math.sqrt(2)}}}},44421:(Rt,pt,o)=>{"use strict";o.d(pt,{i:()=>W});var v=o(69754),O=o.n(v),m=o(38322),L=o.n(m),Y=o(90377),k=o.n(Y),et=o(77579),w=o(82722),D=o(92893),B=o(47708),V=o(13431);class W extends B.w{constructor(A={}){super(),this.config=A,this.updatePositionSubject=new et.x,this.openPopoverSubject=new et.x,this.closePopoverSubject=new et.x,this.popoverTargetPosition={top:0,left:0,width:0,height:0},this.DEFAULT_CONFIG={eventStreamId:D.C1,interactionType:V.s.MouseMove},this.isOpen=!1,this.destroy$=new et.x,this.config=O()(this.config,this.DEFAULT_CONFIG)}initialize(){this.chart.getEventBus().getStream(this.config.eventStreamId).pipe((0,w.R)(this.destroy$)).subscribe(A=>{var R;if(A.data.interactionType===this.config.interactionType){const J=null!==(R=A.data.dataPoints)&&void 0!==R?R:{[A.data.dataPoint.seriesId]:A.data.dataPoint};this.processDataPoints(J)}})}destroy(){this.updatePositionSubject&&this.updatePositionSubject.complete(),this.openPopoverSubject&&this.openPopoverSubject.complete(),this.closePopoverSubject&&this.closePopoverSubject.complete(),this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}getAbsolutePosition(A){var R,J;const H=null===(J=null===(R=this.chart.target)||void 0===R?void 0:R.node())||void 0===J?void 0:J.parentNode;if(!H)throw new Error("Chart parent node is not defined");const rt=Math.min(...A.map(z=>z.position.x)),j=H.offsetLeft+this.chart.getGrid().config().dimension.margin.left+rt;return{top:H.offsetTop+this.chart.getGrid().config().dimension.margin.top,left:j,height:H.offsetHeight,width:Math.max(...A.map(z=>z.position.x+(z.position.width||0)))-rt}}processDataPoints(A){const R=L()(A,H=>H.index>=0&&H.position),J=k()(R);J.length>0?(this.popoverTargetPosition=this.getAbsolutePosition(J),this.dataPoints=R,setTimeout(()=>{this.updatePositionSubject.next(this.popoverTargetPosition),this.isOpen||(this.isOpen=!0,this.openPopoverSubject.next())})):setTimeout(()=>{this.closePopoverSubject.next(),this.isOpen=!1})}}},3645:(Rt,pt,o)=>{"use strict";o.d(pt,{n7:()=>J});var v=o(35474),O=o.n(v),m=o(38322),L=o.n(m),Y=o(90377),k=o.n(Y),et=o(77579),w=o(82722),D=o(92893),B=o(68208),V=o(47708),W=o(13431);class J extends V.w{constructor(rt=10,j="right"){var H;super(),this.tooltipPositionOffset=rt,this.orientation=j,this.dataPointPositions={},this.showSubject=new et.x,this.hideSubject=new et.x,this.isChartInView=!1,this.destroy$=new et.x,this.seriesVisibilityMap={},"right"===j?this.overlaySetup=[{originX:"end",originY:"top",overlayX:"start",overlayY:"center",offsetX:H=rt},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-H}]:"top"===j&&(this.overlaySetup=(H=>[{originX:"end",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-H},{originX:"end",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:H}])(rt))}initialize(){this.chart.getEventBus().getStream(D.C1).pipe((0,w.R)(this.destroy$)).subscribe(rt=>{rt.data.interactionType===W.s.MouseMove&&this.isChartInView&&this.processHighlightedDataPoints(rt.data.dataPoints)}),this.chart.getEventBus().getStream(D.GJ).pipe((0,w.R)(this.destroy$)).subscribe(rt=>{rt.data.forEach(j=>{this.seriesVisibilityMap[j.seriesId]=j.state!==B.L.hidden})}),this.chart.getEventBus().getStream(D._7).pipe((0,w.R)(this.destroy$)).subscribe(rt=>{this.isChartInView=rt.data.isChartInView,this.isChartInView||this.hideSubject.next()})}destroy(){this.destroy$.next(),this.destroy$.complete()}processHighlightedDataPoints(rt){var j,ht;const z=L()(rt,ut=>ut.index>=0&&ut.position&&!1!==this.seriesVisibilityMap[ut.seriesId]);if(0===k()(z).length)return void this.hideSubject.next();this.dataPoints=z;const St=null===(ht=null===(j=this.chart.target)||void 0===j?void 0:j.node())||void 0===ht?void 0:ht.parentNode;if(!St)throw new Error("Chart parent node is not defined");const lt=St.getBoundingClientRect(),vt=St.offsetParent.getBoundingClientRect(),At={x:lt.left-vt.left,y:lt.top-vt.top};O()(Object.keys(this.dataPoints),ut=>{const ot=this.dataPoints[ut],nt=this.chart.getDataManager().getChartSeries(ot.seriesId),Zt=this.getTooltipPosition(ot,nt);this.dataPointPositions[ut]=this.getAbsolutePosition(Zt,At)}),this.showSubject.next()}getTooltipPosition(rt,j){var ht,z;if(!rt.position)throw new Error("Unable to get tooltip position");return{x:rt.position.x,y:rt.position.y,height:(null===(ht=rt.position)||void 0===ht?void 0:ht.height)||1,width:(null===(z=rt.position)||void 0===z?void 0:z.width)||1,overlayPositions:this.overlaySetup}}getAbsolutePosition(rt,j){return Object.assign({},rt,{x:j.x+this.chart.getGrid().config().dimension.margin.left+rt.x,y:j.y+this.chart.getGrid().config().dimension.margin.top+rt.y})}}},88682:(Rt,pt,o)=>{"use strict";o.d(pt,{k:()=>H});var v=o(5e3),O=o(71973),m=o.n(O),L=o(68208),Y=o(32938),k=o(53784),et=o(69808);const w=["projectedDescription"];function D(rt,j){if(1&rt&&(v.TgZ(0,"div",11),v._uU(1),v.qZA()),2&rt){const ht=v.oxw(2);v.Q6J("title",ht.descriptionPrimary),v.xp6(1),v.hij(" ",ht.descriptionPrimary," ")}}function B(rt,j){if(1&rt&&(v.TgZ(0,"div",12),v._uU(1),v.qZA()),2&rt){const ht=v.oxw(2);v.Q6J("title",ht.descriptionSecondary),v.xp6(1),v.hij(" ",ht.descriptionSecondary," ")}}function V(rt,j){if(1&rt&&(v.TgZ(0,"div",8),v.YNc(1,D,2,2,"div",9),v.YNc(2,B,2,2,"div",10),v.qZA()),2&rt){const ht=v.oxw();v.xp6(1),v.Q6J("ngIf",!!ht.descriptionPrimary),v.xp6(1),v.Q6J("ngIf",!!ht.descriptionSecondary)}}function W(rt,j){1&rt&&(v.TgZ(0,"div",13,14),v.Hsn(2,1),v.qZA())}const T=["*",[["","description",""]]],A=function(rt){return[rt]},R=["*","[description]"];let H=(()=>{class rt{constructor(ht){this.legend=ht,this.isSelected=!0,this.isSelectedChange=new v.vpe,this.isHorizontalClassApplied=!1,this._active=!1}set active(ht){this._active=ht}set interactive(ht){this._interactive=ht}get interactive(){return this._interactive}set seriesRenderState(ht){this._seriesRenderState=ht}get seriesRenderState(){return this._seriesRenderState||L.L.default}get isInteractiveClassApplied(){return this._interactive}get isActiveClassApplied(){return this._active&&this.seriesRenderState!==L.L.hidden}ngAfterContentInit(){var ht;this.legend&&(this.legend.activeChanged.subscribe(z=>this._active=z),this.icon=this.icon||this.legend.seriesIcon,this._active=this.legend.active,this.interactive=null!==(ht=this.interactive)&&void 0!==ht?ht:this.legend.interactive,this.isHorizontalClassApplied=this.legend.orientation===Y.I.horizontal)}onClick(){this.interactive&&this.isSelectedChange.next(!this.isSelected)}hasInputDescription(){return!m()(this.descriptionPrimary)||!m()(this.descriptionSecondary)}hasProjectedDescription(){return!!this.projectedDescription&&0!==this.projectedDescription.nativeElement.children.length}}return rt.\u0275fac=function(ht){return new(ht||rt)(v.Y36(k.F,9))},rt.\u0275cmp=v.Xpm({type:rt,selectors:[["nui-legend-series"]],viewQuery:function(ht,z){if(1&ht&&v.Gf(w,5),2&ht){let St;v.iGM(St=v.CRH())&&(z.projectedDescription=St.first)}},hostAttrs:[1,"nui-legend-series"],hostVars:6,hostBindings:function(ht,z){1&ht&&v.NdJ("click",function(){return z.onClick()}),2&ht&&v.ekj("nui-legend-series--interactive",z.isInteractiveClassApplied)("nui-legend-series--horizontal",z.isHorizontalClassApplied)("inverse",z.isActiveClassApplied)},inputs:{active:"active",interactive:"interactive",isSelected:"isSelected",descriptionPrimary:"descriptionPrimary",descriptionSecondary:"descriptionSecondary",icon:"icon",color:"color",seriesRenderState:"seriesRenderState"},outputs:{isSelectedChange:"isSelectedChange"},ngContentSelectors:R,decls:10,vars:9,consts:[[1,"d-flex",3,"ngClass"],[1,"nui-legend-series__tile-wrapper"],[1,"nui-legend-series__tile"],[1,"nui-legend-series__checkbox-wrapper"],[1,"nui-legend-series__checkbox-mark"],[1,"nui-legend-series__checkbox-glyph"],["class","description-container nui-text-small d-flex flex-column justify-content-center",4,"ngIf","ngIfElse"],["descriptionTemplate",""],[1,"description-container","nui-text-small","d-flex","flex-column","justify-content-center"],["class","description description-primary",3,"title",4,"ngIf"],["class","description description-secondary",3,"title",4,"ngIf"],[1,"description","description-primary",3,"title"],[1,"description","description-secondary",3,"title"],[1,"d-flex"],["projectedDescription",""]],template:function(ht,z){if(1&ht&&(v.F$t(T),v.TgZ(0,"div",0)(1,"div",1)(2,"div",2),v.Hsn(3),v.qZA(),v.TgZ(4,"div",3)(5,"div",4),v._UZ(6,"i",5),v.qZA()()(),v.YNc(7,V,3,2,"div",6),v.qZA(),v.YNc(8,W,3,0,"ng-template",null,7,v.W1O)),2&ht){const St=v.MAs(9);v.ekj("nui-legend-series--deselected",!z.isSelected),v.Q6J("ngClass",v.VKq(7,A,"nui-legend-series--state-"+z.seriesRenderState)),v.xp6(4),v.ekj("nui-legend-series__checkbox--checked",z.isSelected),v.xp6(3),v.Q6J("ngIf",z.hasInputDescription())("ngIfElse",St)}},directives:[et.mk,et.O5],encapsulation:2,changeDetection:0}),rt})()},89657:(Rt,pt,o)=>{"use strict";o.d(pt,{w:()=>A});var v=o(33816),O=o.n(v),m=o(88682),L=o(5e3),Y=o(53784),k=o(69808);function et(R,J){if(1&R&&(L.TgZ(0,"div",10),L._uU(1),L.qZA()),2&R){const H=L.oxw();L.xp6(1),L.hij(" ",H.value," ")}}function w(R,J){if(1&R&&(L.TgZ(0,"div",11),L._uU(1),L.qZA()),2&R){const H=L.oxw();L.xp6(1),L.hij(" ",H.unitLabel," ")}}function D(R,J){1&R&&L.Hsn(0,3)}function B(R,J){1&R&&L.Hsn(0,4)}const V=["*",[["","leftEdge",""]],[["","rightEdge",""]],[["","top",""]],[["","bottom",""]]],W=function(R){return{"background-color":R}},T=["*","[leftEdge]","[rightEdge]","[top]","[bottom]"];let A=(()=>{class R{constructor(H,rt,j){this.legendSeries=H,this.legend=rt,this.changeDetector=j}ngAfterContentInit(){this.legend&&(this.unitLabel=this.unitLabel||this.legend.seriesUnitLabel,this.backgroundColor=this.backgroundColor||this.legend.seriesColor||"white")}ngAfterViewInit(){this.legendSeries&&(this.seriesHasAdditionalContent=this.legendSeries.hasInputDescription()||this.legendSeries.hasProjectedDescription(),this.changeDetector.detectChanges())}hasInputValue(){return!O()(this.value)}hasInputUnitLabel(){return!O()(this.unitLabel)}}return R.\u0275fac=function(H){return new(H||R)(L.Y36(m.k,1),L.Y36(Y.F,9),L.Y36(L.sBO))},R.\u0275cmp=L.Xpm({type:R,selectors:[["nui-rich-legend-tile"]],inputs:{unitLabel:"unitLabel",value:"value",backgroundColor:"backgroundColor",color:"color"},ngContentSelectors:T,decls:15,vars:13,consts:[[1,"nui-rich-legend-tile"],[1,"nui-rich-legend-tile__tilebox","d-flex","justify-content-center","align-items-end","flex-column",3,"ngStyle"],["class","nui-rich-legend-tile__tilebox-value nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],["class","nui-rich-legend-tile__tilebox-unit nui-rich-legend-tile__ellipsified",4,"ngIf","ngIfElse"],[1,"nui-rich-legend-tile__icon"],["icon",""],[1,"nui-rich-legend-tile__point-marker"],["rightEdge",""],["projectedTopContent",""],["projectedBottomContent",""],[1,"nui-rich-legend-tile__tilebox-value","nui-rich-legend-tile__ellipsified"],[1,"nui-rich-legend-tile__tilebox-unit","nui-rich-legend-tile__ellipsified"]],template:function(H,rt){if(1&H&&(L.F$t(V),L.TgZ(0,"div",0)(1,"div",1),L.YNc(2,et,2,1,"div",2),L.YNc(3,w,2,1,"div",3),L.Hsn(4),L.qZA(),L.TgZ(5,"div",4,5),L.Hsn(7,1),L.qZA(),L.TgZ(8,"div",6,7),L.Hsn(10,2),L.qZA()(),L.YNc(11,D,1,0,"ng-template",null,8,L.W1O),L.YNc(13,B,1,0,"ng-template",null,9,L.W1O)),2&H){const j=L.MAs(9),ht=L.MAs(12),z=L.MAs(14);L.ekj("nui-rich-legend-tile--has-point-marker",j.children.length>0)("nui-rich-legend-tile--series-has-additional-content",rt.seriesHasAdditionalContent),L.xp6(1),L.Udp("color",rt.color),L.Q6J("ngStyle",L.VKq(11,W,rt.backgroundColor)),L.xp6(1),L.Q6J("ngIf",rt.hasInputValue())("ngIfElse",ht),L.xp6(1),L.Q6J("ngIf",rt.hasInputUnitLabel())("ngIfElse",z)}},directives:[k.PC,k.O5],styles:[".nui-rich-legend-tile[_ngcontent-%COMP%]{position:relative;width:60px;height:100%;line-height:18px}.nui-rich-legend-tile[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:empty{display:none}.nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px;background-color:var(--nui-color-bg-light,#fff)}.nui-rich-legend-tile__ellipsified[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]{text-align:right;font-weight:600}.nui-rich-legend-tile__tilebox-value[_ngcontent-%COMP%]:not(:last-child){margin-bottom:-3px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]{text-align:right;font-size:11px}.nui-rich-legend-tile__tilebox-unit[_ngcontent-%COMP%]:not(:first-child){margin-top:-3px}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%], .nui-rich-legend-tile__icon[_ngcontent-%COMP%]{position:absolute;line-height:0;top:50%;pointer-events:none}.nui-rich-legend-tile__point-marker[_ngcontent-%COMP%]{right:0;transform:translate(50%,-50%)}.nui-rich-legend-tile__icon[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-50%)}.nui-rich-legend-tile--has-point-marker.nui-rich-legend-tile--series-has-additional-content[_ngcontent-%COMP%]{margin-right:5px}.nui-rich-legend-tile--has-point-marker[_ngcontent-%COMP%]   .nui-rich-legend-tile__tilebox[_ngcontent-%COMP%]{padding-right:7px}"]}),R})()},53784:(Rt,pt,o)=>{"use strict";o.d(pt,{F:()=>L});var v=o(5e3),O=o(32938);const m=["*"];let L=(()=>{class Y{constructor(){this.activeChanged=new v.vpe,this.active=!1,this.interactive=!1,this.orientation=O.I.vertical}ngOnChanges(et){et.active&&this.activeChanged.emit(this.active)}ngOnDestroy(){this.activeChanged.complete()}}return Y.\u0275fac=function(et){return new(et||Y)},Y.\u0275cmp=v.Xpm({type:Y,selectors:[["nui-legend"]],hostAttrs:[1,"d-inline-block"],inputs:{active:"active",interactive:"interactive",orientation:"orientation",seriesColor:"seriesColor",seriesIcon:"seriesIcon",seriesUnitLabel:"seriesUnitLabel"},features:[v.TTD],ngContentSelectors:m,decls:2,vars:2,consts:[[1,"nui-legend","d-flex","flex-wrap"]],template:function(et,w){1&et&&(v.F$t(),v.TgZ(0,"div",0),v.Hsn(1),v.qZA()),2&et&&v.ekj("flex-column","vertical"===w.orientation)},encapsulation:2}),Y})()},32938:(Rt,pt,o)=>{"use strict";o.d(pt,{I:()=>v});var v=(()=>{return(O=v||(v={})).vertical="vertical",O.horizontal="horizontal",v;var O})()},85061:(Rt,pt,o)=>{"use strict";o.d(pt,{mgU:()=>gt.mg,EYF:()=>Fn,QtU:()=>ci,jS7:()=>at,TVc:()=>Yn,Pkp:()=>Zr,U$N:()=>Xn,Z7w:()=>yi,TrQ:()=>Vr,mEc:()=>ti,cEY:()=>Vi,gyj:()=>P,WSY:()=>Tn,cpE:()=>xi,qo6:()=>ne,Sj$:()=>re,_7T:()=>gt._7,kL2:()=>Mi,doR:()=>l,xH4:()=>Hi.x,iM:()=>ke.i,syg:()=>$n,i4F:()=>Un.i,n7o:()=>Zn.n7,Vg0:()=>gt.Vg,hZk:()=>gt.hZ,GYO:()=>ki.G,nW9:()=>gr,V8c:()=>Nn,WYw:()=>jr,GFe:()=>U,Rj$:()=>gt.Rj,TC6:()=>gt.TC,HVr:()=>Wn,C1c:()=>gt.C1,gA9:()=>gt.gA,Qii:()=>gt.Qi,hkV:()=>gt.hk,$fK:()=>cn,koE:()=>fn,s_5:()=>en.s,qxh:()=>fi,Med:()=>Ui,t31:()=>nn,DKr:()=>Ar,f$s:()=>Te,CCM:()=>gt.CC,oki:()=>d,tCZ:()=>Ht,bbc:()=>Fr,XqW:()=>Wr,eQn:()=>mi,$y4:()=>ur,VXE:()=>I,bOg:()=>le,Yu5:()=>_t,UDz:()=>Sr,lS:()=>ar,QLC:()=>ei,E8N:()=>ki.E,zv$:()=>Cn,nTW:()=>kt.L,q7O:()=>gt.q7,GJE:()=>gt.GJ,bdF:()=>gt.bd,NVM:()=>rn,jpW:()=>Mn,ruA:()=>ir,ta5:()=>jn,G6f:()=>bi,H38:()=>kn,s1E:()=>an,FUO:()=>Gn,Wki:()=>qi,yaz:()=>Ki,lTH:()=>Dn,FBd:()=>Sn,tIi:()=>Ne,a9F:()=>pr,Ofn:()=>$i,Be5:()=>qn,c_e:()=>K,CJs:()=>tn,Rbc:()=>nr,nuZ:()=>ai,Q6e:()=>zr,skL:()=>Hr,CQI:()=>vr,qqc:()=>Ge,OQi:()=>ie,Ks6:()=>S,S2P:()=>He,_OB:()=>Me,ruO:()=>Ce,fy$:()=>Rr,Y6Q:()=>Dr,GVi:()=>Pr,_N$:()=>wr,fjP:()=>ri,knu:()=>Er,aCj:()=>Ji,mIe:()=>qr,HAP:()=>Xr,kxS:()=>Tr,s_I:()=>xn,M6V:()=>ts,fWz:()=>es}),o(24386),o(58),o(71004),o(21679);var Y=o(91314),k=o(73171),et=o(64747),w=o(52016);function D(u,e){return u.each(function(){var t=e.apply(this,arguments),n=(0,w.Z)(this);for(var i in t)n.attr(i,t[i])})}function B(u,e){for(var t in e)u.attr(t,e[t]);return u}function W(u,e,t){return u.each(function(){var n=e.apply(this,arguments),i=(0,w.Z)(this);for(var s in n)i.style(s,n[s],t)})}function T(u,e,t){for(var n in e)u.style(n,e[n],t);return u}function R(u,e){return u.each(function(){var t=e.apply(this,arguments),n=(0,w.Z)(this);for(var i in t)n.property(i,t[i])})}function J(u,e){for(var t in e)u.property(t,e[t]);return u}function rt(u,e){return u.each(function(){var t=e.apply(this,arguments),n=(0,w.Z)(this).transition(u);for(var i in t)n.attr(i,t[i])})}function j(u,e){for(var t in e)u.attr(t,e[t]);return u}function z(u,e,t){return u.each(function(){var n=e.apply(this,arguments),i=(0,w.Z)(this).transition(u);for(var s in n)i.style(s,n[s],t)})}function St(u,e,t){for(var n in e)u.style(n,e[n],t);return u}k.ZP.prototype.attrs=function V(u){return("function"==typeof u?D:B)(this,u)},k.ZP.prototype.styles=function A(u,e){return("function"==typeof u?W:T)(this,u,null==e?"":e)},k.ZP.prototype.properties=function H(u){return("function"==typeof u?R:J)(this,u)},et.eR.prototype.attrs=function ht(u){return("function"==typeof u?rt:j)(this,u)},et.eR.prototype.styles=function lt(u,e){return("function"==typeof u?z:St)(this,u,null==e?"":e)};var vt=o(75148),At=o(42625),ut=o(90733),ot=o.n(ut),nt=o(12906),Zt=o.n(nt),$t=o(78442),ue=o.n($t),ce=o(90377),ye=o.n(ce),it=o(28249),wt=o(8537),Vt=o(21503),ee=o.n(Vt),Be=o(70420),qe=o.n(Be),X=o(34220),xt=o.n(X),Xt=o(79598),pe=o.n(Xt),It=o(41970),he=o.n(It);function Ce(u){if(!qe()(u,"var("))return u;const e=xt()(pe()(he()(u,"var("),")"));return getComputedStyle(document.body).getPropertyValue(e)}class Ke{constructor(e,t){this.sourceProvider=e,this.fn=t,this.get=n=>{const i=this.sourceProvider.get(n);if(!i)throw new Error("clr is not defined");let s=this.processedColors[i];return s||(s=this.fn(i),this.processedColors[i]=s),s},this.reset()}reset(){this.processedColors={}}}class gn{constructor(e){this.values=e,this.get=t=>{let n=this.providedValues[t];if(!n){const i=++this.lastUsedIndex%this.values.length;n=this.values[i],this.providedValues[t]=n}return n},this.reset()}reset(){this.providedValues={},this.lastUsedIndex=-1}}class Mn extends gn{constructor(e){super(e),this.colors=e}}const On=1/12.92;class hn extends Ke{constructor(e,t){super(e,n=>{const i=Ce(n),s=(0,wt.B8)(i),a=this.getContrastRatio(s,(0,wt.B8)(t.light));return this.getContrastRatio(s,(0,wt.B8)(t.dark))>a?t.dark:t.light})}getContrastRatio(e,t){const n=this.getRelativeLuminance(e),i=this.getRelativeLuminance(t);let s,a;return n>i?(s=n,a=i):(s=i,a=n),(s+.05)/(a+.05)}getRelativeLuminance(e){const t=e.r/255,n=e.g/255,i=e.b/255;return.2126*(t<=.03928?t*On:this.adjustGamma(t))+.7152*(n<=.03928?n*On:this.adjustGamma(n))+.0722*(i<=.03928?i*On:this.adjustGamma(i))}adjustGamma(e){return Math.pow((e+.055)/1.055,2.4)}}class $n{constructor(e,t={backgroundOpacity:.15}){this._standardColors=ee()(e)?new Mn(e):e,this._textColors=new hn(this.standardColors,{light:"white",dark:"black"}),this._backgroundColors=new Ke(this.standardColors,n=>{const i=Ce(n),s=(0,wt.B8)(i);return s.opacity=t.backgroundOpacity,s.toString()})}get standardColors(){return this._standardColors}get backgroundColors(){return this._backgroundColors}get textColors(){return this._textColors}}var ni=o(34235),De=o.n(ni);class Gn{constructor(e){this.svg=e}getSvg(){return this.styledSvg||this.svg}setColor(e){this.styledSvg=De()(e)?e:`<g fill="${e}">${this.svg}</g>`}}const xi=["var(--nui-color-chart-one)","var(--nui-color-chart-two)","var(--nui-color-chart-three)","var(--nui-color-chart-four)","var(--nui-color-chart-five)","var(--nui-color-chart-six)","var(--nui-color-chart-seven)","var(--nui-color-chart-eight)","var(--nui-color-chart-nine)","var(--nui-color-chart-ten)"],ne=["var(--nui-color-chart-one)","var(--nui-color-chart-one-light)","var(--nui-color-chart-two)","var(--nui-color-chart-two-light)","var(--nui-color-chart-three)","var(--nui-color-chart-three-light)","var(--nui-color-chart-four)","var(--nui-color-chart-four-light)","var(--nui-color-chart-five)","var(--nui-color-chart-five-light)","var(--nui-color-chart-six)","var(--nui-color-chart-six-light)","var(--nui-color-chart-seven)","var(--nui-color-chart-seven-light)","var(--nui-color-chart-eight)","var(--nui-color-chart-eight-light)","var(--nui-color-chart-nine)","var(--nui-color-chart-nine-light)","var(--nui-color-chart-ten)","var(--nui-color-chart-ten-light)"],re=["var(--nui-color-semantic-down)","var(--nui-color-semantic-down-bg)","var(--nui-color-semantic-critical)","var(--nui-color-semantic-critical-bg)","var(--nui-color-semantic-warning)","var(--nui-color-semantic-warning-bg)","var(--nui-color-semantic-unknown)","var(--nui-color-semantic-unknown-bg)","var(--nui-color-semantic-ok)","var(--nui-color-semantic-ok-bg)","var(--nui-color-semantic-info)","var(--nui-color-semantic-info-bg)"],Ye=["m0 0m-4 0a4 4 0 1 0 8 0 4 4 0 1 0-8 0z","m-4,-4l8,0l0,8l-8,0l0,-8z","m0-4 4 8-8 0z","m0-4.95 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8 0z","m0-3.805 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703z"],Tn=[...Ye.map(u=>`<path class="nui-chart--path__outline" d="${u}"></path>`),...["m0 2c1.105 0 2-.895 2-2 0-1.105-.895-2-2-2-1.105 0-2 .895-2 2 0 1.105.895 2 2 2zm0 2c-2.209 0-4-1.791-4-4 0-2.209 1.791-4 4-4 2.209 0 4 1.791 4 4 0 2.209-1.791 4-4 4z","m-2-2 0 4 4 0 0-4-4 0zm-2-2 8 0 0 8-8 0 0-8z","m0-4-4 8 8.001 0-4.001-8zm0 3.354 1.573 3.146-3.145 0 1.572-3.146z","m0-2.121-2.121 2.121 2.121 2.121 2.121-2.121-2.121-2.121zm0-2.828 4.95 4.95-4.95 4.95-4.95-4.95 4.95-4.95z","m0 4-4-8 8.001 0-4.001 8zm0-3.354 1.573-3.146-3.145 0 1.572 3.146z","m0-1.951-2.237 1.626.855 2.63 2.766 0 .855-2.63-2.237-1.626zm0-1.854 4.001 2.907-1.528 4.703-4.945 0-1.528-4.703 4.001-2.907z"].map((u,e)=>`<path class="nui-chart--path__outline-fill" stroke="none" d="${Ye[e]}"></path>\n            <path class="nui-chart--path__outline" d="${u}"></path>`)].map(u=>new Gn(u));class rn extends gn{constructor(e){super(e),this.markers=e}}function Ve(){return new Mn(xi)}function $e(){return new rn(Tn)}class Fn{constructor(e=Ve(),t=$e()){this.colorProvider=e,this.markerProvider=t,this.data={x:(n,i,s,a)=>n.x,x0:(n,i,s,a)=>this.data.x(n,i,s,a),x1:(n,i,s,a)=>this.data.x(n,i,s,a),y:(n,i,s,a)=>n.y,y0:(n,i,s,a)=>this.data.y(n,i,s,a),y1:(n,i,s,a)=>this.data.y(n,i,s,a),absoluteX0:(n,i,s,a)=>{var c,f;return null!==(f=null===(c=n.__stack_x)||void 0===c?void 0:c.start)&&void 0!==f?f:this.data.x0(n,i,s,a)},absoluteX1:(n,i,s,a)=>{var c,f;return null!==(f=null===(c=n.__stack_x)||void 0===c?void 0:c.end)&&void 0!==f?f:this.data.x1(n,i,s,a)},absoluteY0:(n,i,s,a)=>{var c,f;return null!==(f=null===(c=n.__stack_y)||void 0===c?void 0:c.start)&&void 0!==f?f:this.data.y0(n,i,s,a)},absoluteY1:(n,i,s,a)=>{var c,f;return null!==(f=null===(c=n.__stack_y)||void 0===c?void 0:c.end)&&void 0!==f?f:this.data.y1(n,i,s,a)}},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}class mn extends class pn{constructor(){}}{constructor(e=Ve(),t=$e()){super(),this.colorProvider=e,this.markerProvider=t,this.data={value:n=>n.value,category:(n,i,s,a)=>n.category?n.category:this.series.category?this.series.category(a.id,a):null,start:(n,i,s,a)=>{if(n.__bar)return n.__bar.start;if(void 0!==n.start)return n.start;const c=this.getSingleValue(n,i,s,a);return Number.isFinite(c)?Math.min(0,c):null},end:(n,i,s,a)=>{if(n.__bar)return n.__bar.end;if(void 0!==n.end)return n.end;const c=this.getSingleValue(n,i,s,a);return Number.isFinite(c)?Math.max(0,c):null}},this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0,category:(n,i)=>i.name||i.id}}getSingleValue(e,t,n,i){let s;return this.data.value&&(s=this.data.value(e,t,n,i),void 0===s&&(s=e)),s}}class Wn extends mn{constructor(e,t){super(e,t),this.data=Object.assign(Object.assign({},this.data),{startX:(n,i,s,a)=>this.data.start(n,i,s,a),endX:(n,i,s,a)=>this.data.end(n,i,s,a),startY:(n,i,s,a)=>this.data.category(n,i,s,a),endY:(n,i,s,a)=>this.data.category(n,i,s,a),thicknessY:(n,i,s,a)=>this.data.thickness?this.data.thickness(n,i,s,a):void 0})}}class an{constructor(e){this.barAccessors=e,e.data.status=t=>t.status}get data(){return this.barAccessors.data}get series(){return this.barAccessors.series}}function xn(u,e){const t=new an(new Wn(u,e));return t.data.color=(n,i,s,a)=>u.get(t.data.status(n,i,s,a)),t.data.category=()=>an.STATUS_CATEGORY,t}an.STATUS_CATEGORY="status",an.STATUS_DOMAIN=[an.STATUS_CATEGORY];var Ln=o(62225),on=0;function En(){return new ze}function ze(){this._="@"+(++on).toString(36)}ze.prototype=En.prototype={constructor:ze,get:function(u){for(var e=this._;!(e in u);)if(!(u=u.parentNode))return;return u[e]},set:function(u,e){return u[this._]=e},remove:function(u){return this._ in u&&delete u[this._]},toString:function(){return this._}};var _e=o(69754),vn=o.n(_e),dn=o(22274),$=o.n(dn),bt=o(30836),jt=o.n(bt),gt=o(92893);function ie(u,e,t=.5,n=Number.MAX_VALUE){if(!u)return 0;if(!(0,it.oT)(u))return u.convert(e);const i=u;if(!ee()(e))return i.convert(e,t);const s=e;return 1===s.length||!i.innerScale||n<=1?i.convert(s[0],t):i.convert(s[0],0)+ie(i.innerScale,s.slice(1),t,n-1)}var kt=o(68208),se=o(2158),Pe=o(32608),Le=o.n(Pe),Xe=o(71973),ln=o.n(Xe);function Bn(u,e){if(!u)return 0;const t=u.invert(e);if(!(0,it.oT)(u)||De()(t))return t;if(!u.innerScale)return t;const i=Bn(u.innerScale,e-u.convert(t,0));return ee()(i)?[t,...i]:[t,i]}class Ne{static getValueAccessor(e,t){const n=e(t,0);if("number"==typeof n||"string"==typeof n)return e;if(n.valueOf&&"number"==typeof n.valueOf())return(i,s)=>e(i,s).valueOf();throw new Error("Value in the data series does not return numeric valueOf().")}static getClosestIndex(e,t,n){if(1===e.length)return 0;if(0===e.length)return;const i=Ne.getValueAccessor(t,e[0]);if("string"==typeof n)return e.findIndex(c=>i(c,0)===n);let s=this.findNearestIndex(e,n,t);return s=s>0?s-1:s,s=s>=e.length-1&&1!==e.length?e.length-2:s,s+Ne.getCloser(i(e[s],s),i(e[s+1],s+1),n)}static getCloser(e,t,n){return Math.abs(n-e)<=Math.abs(n-t)?0:1}static clampToRange(e,t){return e<t[0]?t[0]:e>t[1]?t[1]:e}static uuid(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===n?i:3&i|8).toString(16)})}static cssEscape(e){if(0===arguments.length)throw new TypeError("`cssEscape` requires an argument.");const t=String(e),n=t.length;let s,i=-1,a="";const c=t.charCodeAt(0);for(;++i<n;)s=t.charCodeAt(i),a+=0!==s?s>=1&&s<=31||127===s||0===i&&s>=48&&s<=57||1===i&&s>=48&&s<=57&&45===c?"\\"+s.toString(16)+" ":0===i&&1===n&&45===s||!(s>=128||45===s||95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122)?"\\"+t.charAt(i):t.charAt(i):"\ufffd";return a}static findNearestIndex(e,t,n=Le()){let i=0,s=null==e?i:e.length;for(;i<s;){const a=i+s>>>1,c=n(e[a],a);null!==c&&c<t?i=a+1:s=a}return Math.round(i)}static getXYValues(e,t,n,i){const s=Ne.getScaleValues(e,n),a=Ne.getScaleValues(t,i),c={};return ln()(s)||(c.x=s),ln()(a)||(c.y=a),c}static getScaleValues(e,t){return e.reduce(function n(i,s){const a=Bn(s,t);return De()(a)||(i[s.id]=a),i},{})}static getInteractionValues(e,t){var n;return e?null!==(n=e[t])&&void 0!==n?n:Object.values(e)[0]:null}}class tn extends se.T{draw(e,t){}getDataPointPosition(e,t,n){var i,s;if(t<0||t>=e.data.length)return;const a=e.data[t];if(!(null===(i=e.accessors.data)||void 0===i?void 0:i.x)||!(null===(s=e.accessors.data)||void 0===s?void 0:s.y))throw new Error("Can't get dataPointPosition");return{x:n.x.convert(e.accessors.data.x(a,t,e.data,e)),y:n.y.convert(e.accessors.data.y(a,t,e.data,e))}}getDataPointIndex(e,t,n){if(De()(t.x))return gt.Vg;const i=Ne.getClosestIndex(e.data,(s,a)=>{var c,f;return null===(f=null===(c=e.accessors.data)||void 0===c?void 0:c.x)||void 0===f?void 0:f.call(c,s,a,e.data,e)},t.x);if(De()(i))throw new Error("Unable to get data point index");return i}}let yi=(()=>{class u extends tn{constructor(t={}){super(t),this.config=t,this.DEFAULT_CONFIG={transitionDuration:300,padding:1,barClass:"bar-outline",highlightStrategy:void 0,pointerEvents:!0,enableMinBarThickness:!0},this.barContainerClass="bar-container",this.config=vn()(this.config,this.DEFAULT_CONFIG)}draw(t,n){var i,s,a;const c=t.containers[kt.n.data],f=t.dataSeries,_=f.accessors,E=this.getAttrsGenerator(f,t.scales),G=En(),ct=c.selectAll(`g.${this.barContainerClass}`).data(f.data);ct.exit().remove();const Nt=ct.enter().append("g").classed(this.barContainerClass,!0);Nt.append("rect").on("click",(Wt,Yt)=>{this.emitBarClick(t,Wt,Yt,n)}),Nt.merge(ct).property(G,(Wt,Yt)=>E(Wt,Yt)).select("rect").attr("class",(Wt,Yt)=>`${u.BAR_RECT_CLASS} ${this.config.barClass}${this.config.pointerEvents?" pointer-events":""}`+((Wt,Yt)=>{var Se;return void 0!==(null===(Se=_.data)||void 0===Se?void 0:Se.cssClass)&&" "+_.data.cssClass(Wt,Yt,f.data,f)||""})(Wt,Yt)).style("cursor",null!==(i=this.config.cursor)&&void 0!==i?i:"").style("stroke-width",null!==(a=null===(s=this.config)||void 0===s?void 0:s.strokeWidth)&&void 0!==a?a:"").style("fill",(Wt,Yt)=>{var Se,Je;return _.data.color?_.data.color(Wt,Yt,f.data,f):null===(Je=(Se=_.series).color)||void 0===Je?void 0:Je.call(Se,f.id,f)}).attrs(function(){return G.get(this)}).select("rect").style("fill",(Wt,Yt)=>{var Se,Je;return _.data.color?_.data.color(Wt,Yt,f.data,f):null===(Je=(Se=_.series).color)||void 0===Je?void 0:Je.call(Se,f.id,f)}).attrs(G.get),_.data.marker&&(Nt.append("g").classed("bar-icon",!0),Nt.merge(ct).select("g.bar-icon").html(function(Wt,Yt){var Se,Je;const In=G.get(this);if(!In||De()(null==In?void 0:In.height)||De()(null==In?void 0:In.width))throw new Error("barSize is undefined");if(Math.min(In.height,In.width)-1>=u.MIN_BAR_SIZE_FOR_ICON)return null===(Je=(Se=_.data).marker)||void 0===Je?void 0:Je.call(Se,Wt,Yt,f.data,f)}).attr("transform",function(){const Wt=G.get(this);if(!Wt||De()(null==Wt?void 0:Wt.height)||De()(null==Wt?void 0:Wt.width))throw new Error("barAttrs is undefined");return`translate(${Wt.x+Wt.width/2}, ${Wt.y+Wt.height/2})`}))}getDataPointIndex(t,n,i){return this.config.highlightStrategy?this.config.highlightStrategy.getDataPointIndex(this,t,n,i):gt.Vg}highlightDataPoint(t,n,i){this.config.highlightStrategy&&this.config.highlightStrategy.highlightDataPoint(this,t,n,i)}getDataPointPosition(t,n,i){const s=t.data[n];return s&&this.getAttrsGenerator(t,i)(s,n)}getDataPoint(t,n,i){return{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:i,data:n,position:n?this.getDataPointPosition(t.dataSeries,i,t.scales):void 0}}filterDataByDomain(t){return t}getDomain(t,n,i,s){const a=n.accessors.data,c=i.toUpperCase(),f=_=>(E,G,ct)=>{var Nt;return null===(Nt=a[_+c])||void 0===Nt?void 0:Nt.call(a,E,G,Array.from(ct),n)};if(s.isContinuous())return t&&0!==t.length?[(0,Ln.VV)(t,f("start")),(0,Ln.Fp)(t,f("end"))]:it.iz;{const _=t&&t.length>0?t.map(f("start")):[],E=Math.max(..._.map(G=>ee()(G)?G.length:-1));return E>=0?Array.from(Array(E)).map((G,ct)=>{const Nt=_.map(Ft=>ct<Ft.length?Ft[ct]:[]);return jt()($()(Nt))}):[jt()(_)]}}emitBarClick(t,n,i,s){s.next({eventName:gt.q7,data:this.getDataPoint(t,n,i)})}getAttrsGenerator(t,n){const i=t.accessors.data;return(s,a)=>{const c=this.getDimensions(i,s,a,t,n.x,"X"),f=this.getDimensions(i,s,a,t,n.y,"Y");return{x:c.start,width:c.thickness,y:f.start,height:f.thickness}}}getDimensions(t,n,i,s,a,c){let f,_;const E=t["thickness"+c],G=s.accessors.data["start"+c],ct=s.accessors.data["end"+c];if(_=null==E?void 0:E(n,i,s.data,s),De()(_)){if(!G||!ct)throw new Error("Can't compute dimensions");const Nt=ie(a,G(n,i,s.data,s),0),Ft=ie(a,ct(n,i,s.data,s),1);if(f=Math.min(Nt,Ft),_=Math.abs(Nt-Ft),(0,it.oT)(a)){if(De()(this.config.padding))throw new Error("Config is not defined");f+=this.config.padding,_-=2*this.config.padding}this.config.enableMinBarThickness&&(_=Math.max(_,u.MIN_BAR_THICKNESS))}else{if(!G)throw new Error("Can't compute dimensions");f=ie(a,G(n,i,s.data,s),.5)-_/2}return{start:f,thickness:_}}}return u.THICK=11,u.THIN=3,u.MIN_BAR_SIZE_FOR_ICON=10,u.MIN_BAR_THICKNESS=2,u.BAR_RECT_CLASS="bar",u})();const Di={stateStyles:{[kt.L.default]:{opacity:0},[kt.L.hidden]:{opacity:0},[kt.L.deemphasized]:{opacity:0},[kt.L.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},qi={stateStyles:{[kt.L.default]:{opacity:.3},[kt.L.hidden]:{opacity:0},[kt.L.deemphasized]:{opacity:0},[kt.L.emphasized]:{opacity:1}},ignoreForDomainCalculation:!0},ii={enabled:!1,clickable:!1},di="gauge-threshold-marker";class $i{constructor(){this.data={x:e=>e.x,y:e=>e.y}}}class fi extends $i{constructor(e=Ve(),t=$e()){super(),this.colorProvider=e,this.markerProvider=t,this.data.defined=(n,i)=>!n.hasOwnProperty("defined")||n.defined,this.series={color:this.colorProvider?this.colorProvider.get:void 0,marker:this.markerProvider?this.markerProvider.get:void 0}}}function Bi(u){this._context=u}function Gi(u){return new Bi(u)}Bi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(u,e){switch(u=+u,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(u,e):this._context.moveTo(u,e);break;case 1:this._point=2;default:this._context.lineTo(u,e)}}};var gi=o(73066),un=o(21456);function Pi(u){return u[0]}function tr(u){return u[1]}function Ri(){var u=Pi,e=tr,t=(0,un.Z)(!0),n=null,i=Gi,s=null;function a(c){var f,E,ct,_=c.length,G=!1;for(null==n&&(s=i(ct=(0,gi.Z)())),f=0;f<=_;++f)!(f<_&&t(E=c[f],f,c))===G&&((G=!G)?s.lineStart():s.lineEnd()),G&&s.point(+u(E,f,c),+e(E,f,c));if(ct)return s=null,ct+""||null}return a.x=function(c){return arguments.length?(u="function"==typeof c?c:(0,un.Z)(+c),a):u},a.y=function(c){return arguments.length?(e="function"==typeof c?c:(0,un.Z)(+c),a):e},a.defined=function(c){return arguments.length?(t="function"==typeof c?c:(0,un.Z)(!!c),a):t},a.curve=function(c){return arguments.length?(i=c,null!=n&&(s=i(n)),a):i},a.context=function(c){return arguments.length?(null==c?n=s=null:s=i(n=c),a):n},a}function si(u,e){const t=u.range().map(s=>s),n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i}var en=o(13431);let Ci=(()=>{class u{static manageMarker(t,n,i,s,a,c=ii){var f,_,E;if(!s)throw new Error("Container doesn't exist!");if(0===t.data.length)return void u.removeMarker(s);const G=t.accessors;i<0&&(i=t.data.length-1);const ct=t.data[i];if(!(null===(f=G.data)||void 0===f?void 0:f.x)||!G.data.y)throw new Error("Color or marker are undefined");const Nt=n.x.convert(G.data.x(ct,i,t.data,t)),Ft=n.y.convert(G.data.y(ct,i,t.data,t));if(void 0!==Nt&&void 0!==Ft&&si(n.x,Nt)&&si(n.y,Ft)){const Wt=t.id,Yt={index:i,data:ct,seriesId:Wt,position:{x:Nt,y:Ft},dataSeries:t};if(!(null===(_=G.series)||void 0===_?void 0:_.marker)||!(null===(E=G.series)||void 0===E?void 0:E.color))throw new Error("Color or marker are undefined");u.drawMarker(Yt,G.series.marker(Wt,t),G.series.color(Wt,t),s,a,u.DEFAULT_MARKER_CONTAINER_CLASS,c)}else u.removeMarker(s)}static drawMarker(t,n,i,s,a,c=u.DEFAULT_MARKER_CONTAINER_CLASS,f=ii){var _,E,G,ct,Nt;let Ft=s.select(`g.${c}`);const Se={transform:`translate(${null===(_=null==t?void 0:t.position)||void 0===_?void 0:_.x}, ${null===(E=null==t?void 0:t.position)||void 0===E?void 0:E.y})`,cursor:"crosshair"};Ft.empty()&&(Ft=s.append("g").classed(`${c}${f.enabled?" pointer-events":""}${f.enabled&&f.clickable?" pointer-events-click":""}`,!0)),n.setColor(i),Ft.attrs(Se),Ft.on("mouseenter",()=>{a.next({eventName:gt.gA,data:{interactionType:en.s.Hover,dataPoint:t}})}),Ft.on("mouseleave",()=>{a.next({eventName:gt.gA,data:{interactionType:en.s.Hover,dataPoint:Object.assign(Object.assign({},t),{index:gt.Vg})}})}),Ft.on("click",()=>{a.next({eventName:gt.gA,data:{interactionType:en.s.Click,dataPoint:t}})}),!Ft.selectAll("g > *").size()&&Ft.node()&&(null===(G=Ft.node())||void 0===G||G.appendChild(vt.fK2.getSvgFromString(n.getSvg())),Ft.select("path").classed(u.MARKER_PATH_CLASS,!0));const An=Ft.select("path").node();if(An&&f.enabled){const wi=An.getBoundingClientRect();An.setAttribute("x",Math.ceil((null===(ct=null==t?void 0:t.position)||void 0===ct?void 0:ct.x)-wi.width/2).toString()),An.setAttribute("y",Math.ceil((null===(Nt=null==t?void 0:t.position)||void 0===Nt?void 0:Nt.y)-wi.height/2).toString())}}static removeMarker(t,n=u.DEFAULT_MARKER_CONTAINER_CLASS){t.select(`g.${n}`).remove()}}return u.DEFAULT_MARKER_CONTAINER_CLASS="marker",u.MARKER_PATH_CLASS="marker-path",u})(),Ui=(()=>{class u extends tn{constructor(t={}){super(t),this.config=t,this.DEFAULT_CONFIG={strokeWidth:2,curveType:Gi,interactive:!0,strokeStyle:"",strokeLinecap:"round",markerInteraction:ii,useEnhancedLineCaps:!1,enhancedLineCap:{radius:3}},this.config=vn()(this.config,this.DEFAULT_CONFIG)}static getStrokeStyleDashed(t){const n=2*t;return`${n},${n}`}static getStrokeStyleDotted(t){return`${t},${t}`}draw(t,n){var i,s,a,c,f;const _=t.containers[kt.n.data],E=null===(s=(i=t.dataSeries.accessors.series).color)||void 0===s?void 0:s.call(i,t.dataSeries.id,t.dataSeries);let G=_.select("path.main");G.empty()&&(G=_.append("path").classed("main",!0).attrs({stroke:null!=E?E:null,"stroke-width":null!==(a=this.config.strokeWidth)&&void 0!==a?a:null,"stroke-dasharray":null!==(c=this.config.strokeStyle)&&void 0!==c?c:null,"stroke-linecap":null!==(f=this.config.strokeLinecap)&&void 0!==f?f:null,fill:"none"})),this.drawLine(t,G),this.config.interactionStrategy&&this.config.interactionStrategy.draw(this,t,n)}isInfiniteLineData(t){const n=t.dataSeries;return 1===n.data.length&&void 0===n.accessors.data.x(n.data[0],0,n.data,n)}drawLine(t,n){this.isInfiniteLineData(t)?this.drawInfiniteLine(t,n):this.drawStandardLine(t,n)}highlightDataPoint(t,n,i){if(!this.config.interactive)return;const s=t.dataSeries;!s.accessors.series.marker||Ci.manageMarker(s,t.scales,n,t.containers[kt.n.foreground],i,this.config.markerInteraction)}getRequiredLayers(){return[gt.rz[kt.n.data],gt.rz[kt.n.foreground],gt.rz[kt.n.unclippedData]]}getDataPointPosition(t,n,i){return super.getDataPointPosition(t,n,i)}drawStandardLine(t,n){var i,s;const a=t.dataSeries,c=a.accessors;let f=!1;const _=a.data.filter((G,ct)=>{const Nt=void 0!==c.data.x(G,ct,a.data,a)&&void 0!==c.data.y(G,ct,a.data,a);return!Nt&&!f&&(console.warn("Data point",G,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x:",c.data.x),console.warn(" -> accessors.data.y:",c.data.y),f=!0),Nt});if(!this.config.curveType)throw new Error("curveType is not defined");const E=Ri().x((G,ct)=>t.scales.x.convert(c.data.x(G,ct,a.data,a))).y((G,ct)=>t.scales.y.convert(c.data.y(G,ct,a.data,a))).defined((G,ct)=>!c.data.defined||c.data.defined(G,ct,a.data,a)).curve(this.config.curveType);n.attr("d",null!==(i=E(_))&&void 0!==i?i:""),this.config.useEnhancedLineCaps&&this.updateLineCaps(_,t,(null===(s=this.config.enhancedLineCap)||void 0===s?void 0:s.fill)||n.attr("stroke"))}drawInfiniteLine(t,n){const i=t.dataSeries,a=t.scales.y.convert(i.accessors.data.y(i.data[0],0,i.data,i)),c=[[t.scales.x.range()[0],a],[t.scales.x.range()[1],a]],_=Ri().x(E=>E[0]).y(E=>E[1])(c);if(!_)throw new Error("Line cannot be computed");n.attr("shape-rendering","crispEdges").attr("d",_)}updateLineCaps(t,n,i){var s,a,c;const f=n.dataSeries,_=f.accessors,E=t.filter((Ft,Wt)=>{var Yt,Se;return!(null===(Yt=null==_?void 0:_.data)||void 0===Yt?void 0:Yt.defined)||(null===(Se=null==_?void 0:_.data)||void 0===Se?void 0:Se.defined(Ft,Wt,f.data,f))}),G=(Ft,Wt)=>n.scales.x.convert(_.data.x(Ft,Wt,f.data,f)),ct=(Ft,Wt)=>n.scales.y.convert(_.data.y(Ft,Wt,f.data,f)),Nt=n.containers[kt.n.unclippedData].selectAll(`.${u.LINE_CAP_CLASS_NAME}`).data(E).attr("cx",G).attr("cy",ct);Nt.enter().append("circle").attr("class",u.LINE_CAP_CLASS_NAME).attr("r",null===(s=this.config.enhancedLineCap)||void 0===s?void 0:s.radius).attr("cx",G).attr("cy",ct).style("stroke-width",null===(a=this.config.enhancedLineCap)||void 0===a?void 0:a.strokeWidth).style("fill",i).style("stroke",null===(c=this.config.enhancedLineCap)||void 0===c?void 0:c.stroke),Nt.exit().remove()}}return u.UNCLIPPED_DATA_LAYER_NAME="unclipped-data",u.LINE_CAP_CLASS_NAME="nui-chart-line-cap",u})();var Ii=(()=>((Ii||(Ii={})).Grayscale="grayscale",Ii))();const Fi=`url("#${Ii.Grayscale}")`;class ji{constructor(){this.data={active:e=>e.active},this.series={start:()=>null,end:()=>null,activeColor:()=>"magenta"}}}let lr=(()=>{class u extends tn{constructor(t={}){super(t),this.DEFAULT_CONFIG={},this.config=vn()(this.config,this.DEFAULT_CONFIG)}draw(t,n){const i=t.containers[kt.n.unclippedData],s=t.dataSeries,a=t.scales,c=t.dataSeries.accessors;let f=i.select("rect");const _=s.data.length>0&&c.data.active(s.data[0],0,t.dataSeries.data,t.dataSeries),E=!_&&c.series.inactiveColor?c.series.inactiveColor:c.series.activeColor;f.empty()&&(f=i.append("rect").attrs({fill:E(s.id,s)}),!_&&!c.series.inactiveColor&&f.style("filter",Fi));const G=c.series.start(s.id,s),ct=c.series.end(s.id,s),Nt=null==ct?0:a.y.convert(ct),Wt=(null==G?a.y.range()[0]:Math.min(a.y.range()[0],a.y.convert(G)))-Nt;f.attrs({x:-2,y:Nt,height:Wt<0?0:Wt,width:2})}getDataPointIndex(t,n,i){return-1}getRequiredLayers(){return[gt.rz[kt.n.unclippedData]]}}return u.SIDE_INDICATORS_LAYER="side-indicators",u})();var Oi=(()=>{return(u=Oi||(Oi={})).Start="start",u.End="end",Oi;var u})(),Li=o(5e3);let Ki=(()=>{class u{constructor(t){this.loggerService=t}injectThresholdsData(t,n){const i={};n.forEach(s=>s.entered=!1);for(let s=0;s<t.data.length;s++){const a=t.data[s],c=t.accessors.data.x(a,s,t.data,t),f=t.accessors.data.y(a,s,t.data,t);a.__thresholds={};const _=this.getZoneByXY(n,i,c,f);_&&(_.entered=!0,a.__thresholds.status=_.value)}}getBackgrounds(t,n,i,s,a={},c=ot()(Di)){let f;t.data.length>0&&void 0===t.data[0].__thresholds&&this.loggerService.warn("Thresholds metadata is not defined on provided data series",t);const _=xn(s);return _.data.thickness=E=>a[E.status],(0,it.oT)(i.x)?(f=ot()(t.data),_.data.start=t.accessors.data.x,_.data.end=t.accessors.data.x,_.data.color=E=>E.__thresholds&&E.__thresholds.status?s.get(E.__thresholds.status):"transparent",_.data.thickness=E=>a[E.__thresholds.status]):f=this.getBackgroundsDataForContinuousScale(t,n),{id:t.id+u.SERIES_ID_SUFFIX,data:f,accessors:_,scales:i,renderer:new yi(c),showInLegend:!1}}getBackgroundsDataForContinuousScale(t,n){var i;const s=[],a=this.getBreakPoints(t,n),c={};for(let f=0;f<a.length-1;f++){const _=a[f],E=a[f+1];if(!_||!E)throw new Error("p1 or p2 are undefined");const G={x:(_.x+E.x)/2,y:(_.y+E.y)/2},ct=this.getZoneByXY(n,c,G.x,G.y);if(ct){const Nt=s[s.length-1];Nt&&(null===(i=Nt.end)||void 0===i?void 0:i.valueOf())===_.x&&Nt.status===ct.value?Nt.end=new Date(E.x):s.push({status:ct.value,start:new Date(_.x),end:new Date(E.x)})}}return s}getBreakPoints(t,n){var i,s,a,c;const f=t.accessors.data;let _=[];for(let E=0;E<t.data.length-1;E++){const G=t.data[E],ct=t.data[E+1],Nt={x:f.x(G,E,t.data,t).valueOf(),y:f.y(G,E,t.data,t).valueOf()},Ft={x:f.x(ct,E+1,t.data,t).valueOf(),y:f.y(ct,E+1,t.data,t).valueOf()};for(let Wt=0;Wt<n.length;Wt++){const Yt=n[Wt],Se=null===(s=(i=Yt.accessors.data).start)||void 0===s?void 0:s.call(i,Yt.data[0],0,Yt.data,Yt),Je=null===(c=(a=Yt.accessors.data).end)||void 0===c?void 0:c.call(a,Yt.data[0],0,Yt.data,Yt),In=[Se,Je].map(An=>this.getCrossPointWithY(Nt,Ft,An)).filter(An=>An);[Nt,Ft].forEach(An=>{(An.y===Se||An.y===Je)&&(An.isZoneEdge=!0)}),_=ue()(_,In,[Nt,Ft],(An,wi)=>(null==An?void 0:An.x)===(null==wi?void 0:wi.x)&&(null==An?void 0:An.isZoneEdge)===(null==wi?void 0:wi.isZoneEdge))}}return Zt()(_,"x")}getThresholdZones(t,n,i){const s=new Fn;return s.data.start=a=>a.start,s.data.end=a=>a.end,s.series.color=(a,c)=>i.get(c.value),n.map((a,c)=>({id:t.id+"__"+a.status+"-"+c,value:a.status,data:[{start:a.start,end:a.end}],scales:t.scales,accessors:s}))}getThresholdLines(t){if(-1===t.findIndex(s=>s.entered))return[];const n={};function i(s,a,c){const f=s(a.data[0],0,a.data,a);void 0!==f&&void 0===n[f]&&(n[f]={series:a,accessor:s,zoneBoundary:c})}for(const s of t)s.accessors.data.start&&s.accessors.data.end&&(i(s.accessors.data.start,s,Oi.Start),i(s.accessors.data.end,s,Oi.End));return ye()(n).map(s=>this.getThresholdLine(s.series,s.accessor,s.zoneBoundary))}getThresholdLine(t,n,i=Oi.Start){const s=new fi;s.data.y=n,s.series.color=t.accessors.series.color;const a=new Ui({interactive:!1,strokeWidth:1,strokeStyle:Ui.getStrokeStyleDashed(1),stateStyles:ot()(Di.stateStyles),ignoreForDomainCalculation:!0});return{id:`${t.id}__${i}__threshold-line`,data:t.data,value:t.value,accessors:s,renderer:a,scales:t.scales,showInLegend:!1}}getCrossPoint(t,n,i,s){const a_x=n.x-t.x,a_y=n.y-t.y,c_x=s.x-i.x,c_y=s.y-i.y,f=(-a_y*(t.x-i.x)+a_x*(t.y-i.y))/(-c_x*a_y+a_x*c_y),_=(c_x*(t.y-i.y)-c_y*(t.x-i.x))/(-c_x*a_y+a_x*c_y);if(f>=0&&f<=1&&_>=0&&_<=1)return{x:t.x+_*a_x,y:t.y+_*a_y}}getZoneByXY(t,n,i,s){var a,c;for(const f of t){n[f.id]||(n[f.id]=0);const _=this.moveZoneIndex(n[f.id],f,i);n[f.id]=_;const E=f.data[_],G=f.accessors.data,ct=null===(a=G.start)||void 0===a?void 0:a.call(G,E,_,f.data,f),Nt=null===(c=G.end)||void 0===c?void 0:c.call(G,E,_,f.data,f);if((void 0===ct||s>=ct)&&(void 0===Nt||s<=Nt))return f}return null}moveZoneIndex(t,n,i){for(;t<n.data.length-1&&n.accessors.data.x(n.data[t+1],t+1,n.data,n)<i;)t++;return t}getCrossPointWithY(t,n,i){return this.getCrossPoint(t,n,{x:t.x,y:i},{x:n.x,y:i})}getSideIndicators(t,n,i){const s=[],a=new lr(i||ot()(Di)),c=-1!==t.findIndex(f=>f.entered);for(const f of t){const _=new ji;_.series={start:()=>{var G,ct;return null===(ct=(G=f.accessors.data).start)||void 0===ct?void 0:ct.call(G,f.data[0],0,f.data,f)},end:()=>{var G,ct;return null===(ct=(G=f.accessors.data).end)||void 0===ct?void 0:ct.call(G,f.data[0],0,f.data,f)},activeColor:()=>{var G,ct;return null===(ct=(G=f.accessors.series).color)||void 0===ct?void 0:ct.call(G,f.id,f)}},s.push({id:f.id+"__side-indicator",data:[{active:c}],accessors:_,scales:n,renderer:a,showInLegend:!1})}return s}}return u.SERIES_ID_SUFFIX="__thresholds-background",u.\u0275fac=function(t){return new(t||u)(Li.LFG(vt.mQy))},u.\u0275prov=Li.Yz7({token:u,factory:u.\u0275fac}),u})(),ur=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=Li.oAB({type:u}),u.\u0275inj=Li.cJS({providers:[At.v,Ki],imports:[[vt.lam,vt.Ts3,vt.S6I,Y.U8]]}),u})();var Hi=o(42210);const pi="quantity",oi="remainder",Ai="threshold-markers";var Nn=(()=>{return(u=Nn||(Nn={})).Donut="donut",u.Horizontal="horizontal",u.Vertical="vertical",Nn;var u})(),kn=(()=>{return(u=kn||(kn={}))[u.Small=10]="Small",u[u.Large=15]="Large",kn;var u})(),bi=(()=>{return(u=bi||(bi={}))[u.Small=3]="Small",u[u.Large=4]="Large",bi;var u})(),jn=(()=>{return(u=jn||(jn={})).Warning="warning",u.Critical="critical",jn;var u})(),Qe=(()=>{return(u=Qe||(Qe={})).Remainder="var(--nui-color-semantic-unknown-bg-hover)",u.Ok="var(--nui-color-chart-one)",u.Warning="var(--nui-color-semantic-warning)",u.Critical="var(--nui-color-semantic-critical)",Qe;var u})();const rr={top:20,right:25,bottom:20,left:25};var Ze=o(35474),wn=o.n(Ze),_i=o(61135),h=o(77579),b=o(82722),N=o(35281),q=o.n(N),Dt=o(45588),Ut=o.n(Dt),Tt=o(12498),Gt=o.n(Tt);function zt(u,e){e&&0!==e.length&&(ee()(e[0])?(u.domain(e[0]),(0,it.Il)(u)&&zt(u.innerScale,e.slice(1))):u.domain(e))}class Qt{constructor(e){this.chart=e,this._chartSeriesSet=[],this.dataIndex={},this._scalesIndexByKey={},this._scalesIndexById={}}get chartSeriesSet(){return this._chartSeriesSet}get scalesIndexByKey(){return this._scalesIndexByKey}get scalesIndexById(){return this._scalesIndexById}update(e){const t=q()(e.map(n=>n.id),(n,i,s)=>Ut()(s,n,i+1));t.length>0&&console.warn("Series set contains duplicate IDs:",t),this._chartSeriesSet=e||[],this.dataIndex=Gt()(this._chartSeriesSet,n=>n.id),this._scalesIndexByKey=this.buildScalesIndex(this._chartSeriesSet),this._scalesIndexById=Gt()($()(ye()(this._scalesIndexByKey).map(n=>n.list)),n=>n.id)}getChartSeries(e){return this.dataIndex[e]}updateScaleDomain(e,t){var n,i;if(!e.isDomainFixed&&e.domainCalculator){const s=this.chartSeriesSet.filter(a=>a.scales[t]===e&&!a.renderer.config.ignoreForDomainCalculation).filter(a=>a.renderState!==kt.L.hidden);if(s.length||(null===(i=null===(n=this.chart)||void 0===n?void 0:n.configuration)||void 0===i?void 0:i.updateDomainForEmptySeries)){const a=e.domainCalculator(s,t,e);zt(e,a)}}}buildScalesIndex(e){const t={};return wn()(e,n=>{wn()(Object.keys(n.scales),i=>{const s=n.scales[i];let a=t[i];a||(a={index:{},list:[]},t[i]=a),a.index[s.id]||(a.index[s.id]=s,a.list.push(s))})}),t}updateScaleDomains(){wn()(Object.keys(this._scalesIndexByKey),e=>{wn()(this._scalesIndexByKey[e].list,t=>{this.updateScaleDomain(t,e)})})}}var Jt=o(10866),be=o(64509),Re=o.n(be);class Ie{constructor(e,t){this.lasagna=e,this.dataManager=t,this.interactionDataPointsSubject=new h.x,this.rendererSubject=new h.x,this.highlightedDataPoints={},this.renderLayers={},this.layerIndex={},this.highlightDataPointSubscription=this.rendererSubject.subscribe(n=>{n.eventName===gt.Rj&&this.highlightDataPoint(n.data.seriesId,n.data.index)})}update(){const e={};wn()(this.dataManager.chartSeriesSet,t=>{const n=this.getSeriesChildContainers(t.id);-1===Object.values(t.scales).findIndex(s=>{if(void 0===e[s.id]){const a=s.isDomainValid();a||console.warn("Invalid scale domain detected for scale:",s),e[s.id]=a}return!e[s.id]})&&t.renderer.draw({dataSeries:t,containers:n,scales:t.scales},this.rendererSubject)})}updateSeriesContainers(){this.layerIndex=this.buildLayerIndex(this.dataManager.chartSeriesSet),this.removeUnusedLayers(),this.addNeededLayers(),this.updateLayerContents()}emitInteractionDataPoints(e){let t=!1;const n=this.dataManager.chartSeriesSet.reduce((i,s)=>{const a={};wn()(Object.keys(e.values),E=>{a[E]=Ne.getInteractionValues(e.values[E],s.scales[E].id)});let c=gt.Vg;s.data&&s.data.length>0&&(c=s.renderer.getDataPointIndex(s,a,s.scales));const f=s.renderer.getDataPointPosition(s,c,s.scales),_={seriesId:s.id,dataSeries:s,index:c,data:c>=0?s.data[c]:null,position:f};if(e.interactionType===en.s.MouseMove){const E=this.highlightedDataPoints[s.id];!De()(c)&&(De()(E)||c===gt.Vg||c!==E.index)&&(t=!0,this.rendererSubject.next({eventName:gt.Rj,data:_}))}return i[s.id]=_,i},{});(e.interactionType!==en.s.MouseMove||t)&&this.interactionDataPointsSubject.next({interactionType:e.interactionType,dataPoints:n}),t&&(this.highlightedDataPoints=n)}highlightDataPoint(e,t){const n=this.getSeriesChildContainers(e),i=this.dataManager.getChartSeries(e);i.renderer.highlightDataPoint({dataSeries:i,containers:n,scales:i.scales},t,this.rendererSubject)}setSeriesStates(e){wn()(e,({seriesId:t,state:n})=>{const i=this.dataManager.getChartSeries(t);if(!i)return;const s=this.getSeriesChildContainers(t),a=i.renderer.getContainerStateStyles(n);wn()(ye()(s),c=>{c.attrs(a)}),i.renderer.setSeriesState(s,n)})}destroy(){this.highlightDataPointSubscription&&this.highlightDataPointSubscription.unsubscribe(),this.rendererSubject&&this.rendererSubject.complete()}buildLayerIndex(e){const t={};return wn()(e,n=>{wn()(n.renderer.getRequiredLayers(),i=>{if(gt.rz[i.name]&&!Re()(gt.rz[i.name],i))throw new Error(`Custom definition detected for render layer "${i.name}". Custom layers must use a name not already taken by the predefined layer set.`);let s=t[i.name];s||(s={seriesUsing:[],layerDefinition:i},t[i.name]=s),s.seriesUsing.push(n)})}),t}removeUnusedLayers(){wn()(Object.keys(this.renderLayers),e=>{this.layerIndex[e]||(this.lasagna.removeLayer(e),delete this.renderLayers[e])})}addNeededLayers(){wn()(this.layerIndex,e=>{this.renderLayers[e.layerDefinition.name]||(this.renderLayers[e.layerDefinition.name]=this.lasagna.addLayer(e.layerDefinition))})}updateLayerContents(){wn()(Object.keys(this.renderLayers),e=>{const n=this.renderLayers[e].selectAll("g.data-series-container").data(this.layerIndex[e].seriesUsing,i=>i.id).order();n.enter().append("g").attrs({id:i=>this.getChildContainerId(e,i.id),class:"data-series-container"}),n.exit().remove()})}getSeriesChildContainers(e){const t={};return wn()(Object.keys(this.renderLayers),n=>{t[n]=this.renderLayers[n].selectAll(`#${n}-${Ne.cssEscape(e)}`)}),t}getChildContainerId(e,t){return e+"-"+t}}var Hn=o(47708);class Qn extends Hn.w{constructor(){super(...arguments),this.isChartInView=!0,this.destroy$=new h.x}initialize(){this.renderEngine=this.chart.getRenderEngine(),this.chart.getEventBus().getStream(gt.hk).pipe((0,b.R)(this.destroy$)).subscribe(e=>{this.lastInteractionValuesPayload=e.data,this.isChartInView&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)}),this.renderEngine.interactionDataPointsSubject.pipe((0,b.R)(this.destroy$)).subscribe(e=>{this.chart.getEventBus().getStream(gt.C1).next({data:e})}),this.renderEngine.rendererSubject.pipe((0,b.R)(this.destroy$)).subscribe(e=>{this.chart.getEventBus().getStream(e.eventName).next({data:e.data})}),this.chart.getEventBus().getStream(gt._7).pipe((0,b.R)(this.destroy$)).subscribe(e=>{this.isChartInView=e.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.chart.getRenderEngine().emitInteractionDataPoints(this.lastInteractionValuesPayload)})}update(){this.renderEngine.updateSeriesContainers(),this.renderEngine.update()}updateDimensions(){this.renderEngine.update()}destroy(){this.renderEngine.destroy(),this.destroy$.next(),this.destroy$.complete()}}class Mi{constructor(e,t){if(this.grid=e,this.configuration=t,this.eventBus=new Jt.N,this.updateSubject=new _i.X([]),this.updateDimensionsSubject=new h.x,this.seriesStatesSubject=new _i.X([]),this.plugins=[],!e)throw new Error("Grid has to be defined!");e.updateChartDimensionsSubject=this.updateDimensionsSubject,e.eventBus=this.eventBus}getEventBus(){return this.eventBus}getDataManager(){return this.dataManager}getRenderEngine(){return this.renderEngine}getGrid(){return this.grid}addPlugin(e){e.chart=this,this.plugins.push(e)}removePlugin(e){const t=this.plugins.findIndex(n=>n instanceof e);-1!==t&&(this.plugins[t].destroy(),this.plugins.splice(t,1))}addPlugins(...e){for(const t of e)this.addPlugin(t)}removePlugins(...e){for(const t of e)this.removePlugin(t)}hasPlugin(e){return-1!==this.plugins.findIndex(t=>t instanceof e)}build(e){this.element=e,this.target=(0,w.Z)(this.element).append("svg").attrs({class:"nui-chart",height:"100%",width:"100%"}),this.configureCssFilters(),this.buildGrid(),this.dataManager=this.buildDataManager(),this.renderEngine=this.buildRenderEngine(this.grid.getLasagna(),this.dataManager);const t=new Qn;t.chart=this,this.plugins.unshift(t);for(const i of this.getGrid().buildPlugins(this))this.addPlugin(i);this.initialize();const n=()=>(0,b.R)(this.getEventBus().getStream(gt.wu));this.updateSubject.pipe(n()).subscribe(i=>this.onUpdate(i)),this.updateDimensionsSubject.pipe(n()).subscribe(()=>this.onUpdateDimensions()),this.seriesStatesSubject.pipe(n()).subscribe(i=>this.onSetSeriesStates(i))}configureCssFilters(){var e,t;this.filterDefs=null===(e=this.target)||void 0===e?void 0:e.append("defs"),null===(t=this.filterDefs)||void 0===t||t.append("filter").attr("id",Ii.Grayscale).append("feColorMatrix").attr("type","matrix").attr("values","\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0.2126 0.7152 0.0722 0 0\n0      0      0      1 0\n")}buildDataManager(){return new Qt(this)}buildGrid(){this.target&&(this.grid.target(this.target),this.grid.build(),this.updateTargetDimensions(this.grid.config().dimension))}buildRenderEngine(e,t){return new Ie(e,t)}update(e){this.updateSubject.next(e)}updateDimensions(){this.updateDimensionsSubject.next()}initialize(){wn()(this.plugins,e=>{e.initialize()})}destroy(){var e;this.eventBus.getStream(gt.wu).next({data:null}),this.eventBus.destroy(),this.plugins.forEach(t=>t.destroy()),null===(e=this.target)||void 0===e||e.remove(),this.target=void 0}setSeriesStates(e){this.seriesStatesSubject.next(e),this.eventBus.getStream(gt.GJ).next({data:e})}onUpdate(e){this.dataManager.update(e),this.grid.scales=this.dataManager.scalesIndexByKey,this.dataManager.updateScaleDomains(),this.grid.updateRanges(),this.plugins.forEach(t=>t.update())}onUpdateDimensions(){const e=this.grid.config().dimension;this.updateTargetDimensions(e);const t={};e.autoHeight&&(t.height=this.element.clientHeight),e.autoWidth&&(t.width=this.element.clientWidth),this.grid.updateDimensions(t),this.plugins.forEach(n=>n.updateDimensions())}updateTargetDimensions(e){var t,n;e.autoHeight||null===(t=this.target)||void 0===t||t.style("height",e.outerHeight()+"px"),e.autoWidth||null===(n=this.target)||void 0===n||n.style("width",e.outerWidth()+"px")}onSetSeriesStates(e){this.renderEngine.setSeriesStates(e)}}var cr=o(39646),hr=o(39300),yr=o(54004),br=o(63900),vi=(()=>{return(u=vi||(vi={})).ToggleSeries="ToggleSeries",u.ResetVisibleSeries="ResetVisibleSeries",u.EmphasizeSeries="EmphasizeSeries",vi;var u})();class dr{constructor(e,t,n=kt.L.default,i=!0){this.seriesId=e,this.series=t,this.emphasisState=n,this.visible=i}get state(){return this.visible?this.emphasisState:kt.L.hidden}}class l{constructor(e,t,n=function sn(){return new $n(Ve())}(),i=$e()){this.chart=e,this.palette=n,this.markers=i,this.isLegendActive=!1,this.inputSeriesSet=[],this.legendSeriesSet=[],this.chartAssistSubject=new h.x,this.toggleSeries=(s,a)=>{this.legendInteractionAssist.setGroupVisibility(s,a),this.update(this.inputSeriesSet,!1),this.chartAssistSubject.next({type:vi.ToggleSeries,payload:{seriesId:s,visible:a}})},this.resetVisibleSeries=()=>{this.legendInteractionAssist.resetSeries(),this.publishRenderStates(),this.chartAssistSubject.next({type:vi.ResetVisibleSeries,payload:{}})},this.emphasizeSeries=s=>{this.legendInteractionAssist.emphasizeSeries(s),this.publishRenderStates(),this.chartAssistSubject.next({type:vi.EmphasizeSeries,payload:{seriesId:s}})},this.getVisibleSeriesWithLegend=()=>this.legendSeriesSet.filter(s=>!this.isSeriesHidden(s.id)),this.configureChartEventSubscriptions(e.getEventBus()),t&&(this.seriesProcessor=t),this.legendInteractionAssist=new g(this),this.syncHandlerMap={[vi.EmphasizeSeries]:this.emphasizeSeries,[vi.ResetVisibleSeries]:this.resetVisibleSeries,[vi.ToggleSeries]:this.toggleSeries}}static getLabel(e,t,n,i,s){var a;if(!t||0===e.data.length)return null;const c=null===(a=e.accessors.data)||void 0===a?void 0:a[s||n];if(!c)return null;const f=t.index<0?e.data.length-1:t.index,E=c(e.data[f],f,e.data,e),G=e.scales[n];if(!G||!i)return E;const ct=G.formatters[i];return ct?ct(E):E}get renderStatesIndex(){return this.legendInteractionAssist.renderStatesIndex}legendLabelData$(e){return this.chart.getEventBus().getStream(gt.C1).asObservable().pipe((0,hr.h)(i=>i.data.interactionType===en.s.MouseMove),(0,yr.U)(i=>i.data.dataPoints[e.id])).pipe((0,br.w)(i=>(i=>i&&i.index>=0)(i)?(0,cr.of)(i.data):(0,cr.of)(e.data&&e.data.length?e.data[e.data.length-1]:null)))}seriesProcessor(e){return e}update(e,t=!0){this.inputSeriesSet=e;const n=this.seriesProcessor(e.map(s=>Object.assign(Object.assign({},s),{data:s.data||[]})));this.legendSeriesSet=n.filter(s=>s.showInLegend||void 0===s.showInLegend),t&&this.legendInteractionAssist.update(n);const i=n.map(s=>{var a;return Object.assign({renderState:null===(a=this.renderStatesIndex[s.id])||void 0===a?void 0:a.state},s)});this.chart.update(i),this.publishRenderStates()}isSeriesHidden(e){return this.legendInteractionAssist.isSeriesHidden(e)}seriesTrackByFn(e,t){return t.id}getHighlightedValue(e,t,n,i){if(this.highlightedDataPoints)return l.getLabel(e,this.highlightedDataPoints[e.id],t,n,i)}syncWithChartAssist(e){this.getVisibleSeriesWithLegendBackup=this.getVisibleSeriesWithLegend,this.getVisibleSeriesWithLegend=e.getVisibleSeriesWithLegend,this.syncSubscription=e.chartAssistSubject.pipe((0,b.R)(e.chart.getEventBus().getStream(gt.wu))).subscribe(t=>{const n=Object.keys(t.payload).map(i=>t.payload[i]);this.syncHandlerMap[t.type](...n)})}unsyncChartAssist(){this.getVisibleSeriesWithLegend=this.getVisibleSeriesWithLegendBackup,this.syncSubscription&&this.syncSubscription.unsubscribe()}configureChartEventSubscriptions(e){const t={[gt.C1]:n=>{n.interactionType===en.s.MouseMove&&(this.highlightedDataPoints=Object.assign({},n.dataPoints))},[gt.TC]:n=>{n.index>=0?this.emphasizeSeries(n.seriesId):this.resetVisibleSeries()},[gt.CC]:n=>{this.isLegendActive=n}};wn()(Object.keys(t),n=>{e.getStream(n).subscribe(i=>{t[n](i.data),this.onEvent&&this.onEvent(i)})})}publishRenderStates(){this.chart.setSeriesStates(this.legendInteractionAssist.getSeriesStates())}}class g{constructor(e){this.chartAssist=e,this.seriesGroups={},this.renderStatesIndex={}}update(e){this.seriesGroups=this.getSeriesGroups(e),this.seriesIndex=Gt()(e,t=>t.id),this.resetSeries();for(const t of e.filter(n=>n.renderState))this.renderStatesIndex[t.id]=new dr(t.id,t,t.renderState===kt.L.hidden?kt.L.default:t.renderState,t.renderState!==kt.L.hidden)}getSeriesStates(){return ye()(this.renderStatesIndex)}isSeriesHidden(e){const t=this.renderStatesIndex[e];return t&&!t.visible}getSeriesGroups(e){const t={};for(const n of e){const i=n.id.indexOf("__"),s=i>=0?n.id.substring(0,i):n.id;t[s]||(t[s]=[]),t[s].push(n.id)}return t}setGroupState(e,t){if(this.seriesGroups[e])for(const n of this.seriesGroups[e])this.setRenderState(n,t)}setGroupVisibility(e,t){if(this.seriesGroups[e])for(const n of this.seriesGroups[e])this.setVisibility(n,t)}emphasizeSeries(e){for(const t of Object.keys(this.seriesGroups))this.setGroupState(t,t===e?kt.L.emphasized:kt.L.deemphasized)}resetSeries(){const e=this.chartAssist.getVisibleSeriesWithLegend();if(1===e.length)this.emphasizeSeries(e[0].id);else for(const n of Object.keys(this.seriesGroups))this.setGroupState(n,kt.L.default)}setRenderState(e,t){let n=this.renderStatesIndex[e];n?n.emphasisState=t:(n=new dr(e,this.seriesIndex[e],t),this.renderStatesIndex[e]=n)}setVisibility(e,t){let n=this.renderStatesIndex[e];n?n.visible=t:(n=new dr(e,this.seriesIndex[e],kt.L.default,t),this.renderStatesIndex[e]=n)}}class p{constructor(){this._width=0,this._height=0,this.margin={top:0,right:0,bottom:0,left:0},this.padding={top:0,right:0,bottom:0,left:0},this.marginLocked={top:!1,right:!1,bottom:!1,left:!1},this.autoWidth=!0,this.autoHeight=!0}width(e){return void 0===e?this._width:(this._width=e,this)}height(e){return void 0===e?this._height:(this._height=e,this)}outerWidth(e){const t=this.margin.right+this.margin.left;return void 0===e?this._width+t:(this._width=Math.max(e-t,0),this)}outerHeight(e){const t=this.margin.top+this.margin.bottom;return void 0===e?this._height+t:(this._height=Math.max(e-t,0),this)}}function M(u,e){var t,n;const i=u.text(),s=i.split(""),a=u.text("").append("tspan").attr("class",`${gt.N0} ellipsis`).text("..."),c=u.insert("tspan",":first-child").attr("class",`${gt.N0} text`).text(i),f=e.ellipsisWidth+2*e.horizontalPadding,_=s.length;let E=((null===(t=null==c?void 0:c.node())||void 0===t?void 0:t.getComputedTextLength())||0)+2*e.horizontalPadding;for(;s.length&&(E>e.widthLimit||" "===s[s.length-1]);)s.pop(),c.text(s.join("")),E=f+((null===(n=null==c?void 0:c.node())||void 0===n?void 0:n.getComputedTextLength())||0);s.length===_&&a.remove()}class C{constructor(){this.visible=!0,this.gridTicks=!1,this.tickSize=5,this.tickLabel={horizontalPadding:0,overflowHandler:M},this.fit=!1,this._approximateTicks=5,this.padding=0}get approximateTicks(){return this._approximateTicks}set approximateTicks(e){this._approximateTicks=parseInt(e,10)}}class P{constructor(e){this.className=e,this.visible=!0}}class U{constructor(){this.interactive=!0,this.dimension=new p,this.borders={top:void 0,bottom:void 0,left:void 0,right:void 0},this.cursor="crosshair",this.disableRenderAreaHeightCorrection=!1,this.disableRenderAreaWidthCorrection=!1}}let K=(()=>{class u extends U{constructor(){super(),this.axis={top:new C,right:new C,bottom:new C,left:new C},this.interactionPlugins=!0,this.dimension.padding=Object.assign({},u.DEFAULT_PADDING),this.dimension.margin=Object.assign({},u.DEFAULT_MARGIN),this.borders.bottom=new P("nui-chart-border nui-chart-border--thick"),this.borders.left=new P("nui-chart-border nui-chart-border--thick"),this.borders.left.visible=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=0,this.axis.left.padding=10,this.axis.right.fit=!0,this.axis.right.tickSize=0,this.axis.right.padding=10,this.axis.bottom.tickLabel.horizontalPadding=5}}return u.DEFAULT_MARGIN={top:0,right:5,bottom:20,left:30},u.DEFAULT_PADDING={left:0,right:0,top:5,bottom:5},u})();var Z=o(56859),mt=o(11094),ft=o.n(mt),tt=o(33816),Et=o.n(tt),dt=o(61746),F=o(66073);let yt=(()=>{class u{constructor(t,n,i,s){this.target=t,this.interactiveArea=n,this.gridMargin=s,this.active=new _i.X(!1),this.interaction=new _i.X({type:en.s.Click,coordinates:{x:0,y:0}}),this.isActive=!1,this.onMouseInteraction=a=>{var c,f;if(dt.B.target.classList.contains(gt.N0))return;let _=0,E=0;const G=parseInt(this.interactiveArea.attr("width"),10)||0,ct=parseInt(this.interactiveArea.attr("height"),10)||0;if(/firefox/i.test(navigator.userAgent)){let Ft=_+dt.B.offsetX-((null===(c=this.gridMargin)||void 0===c?void 0:c.left)||0);Ft=Ft>G?G:Ft,_=Ft<0?0:Ft;let Wt=E+dt.B.offsetY-((null===(f=this.gridMargin)||void 0===f?void 0:f.top)||0);Wt=Wt>ct?ct:Wt,E=Wt<0?0:Wt}else{const Ft=(0,F.Z)(dt.B.currentTarget),Wt=Ft[0]>G?G:Ft[0];_=Wt<0?0:Wt;const Yt=Ft[1]>ct?ct:Ft[1];E=Yt<0?0:Yt}this.interaction.next({type:a,coordinates:{x:_,y:E}})},this.onMouseOver=()=>{this.isActive||dt.B.target.classList.contains(gt.N0)||(this.isActive=!0,this.active.next(!0))},this.onMouseOut=()=>{if(!this.isActive)return;let a=dt.B.relatedTarget;for(;a;){if(a===this.target.node())return;a=a.parentNode}this.isActive=!1,this.active.next(!1)},this.onMouseEnter=()=>{this.onMouseOver()},this.onMouseLeave=()=>{this.onMouseOut()},this.interactiveArea.style("cursor",i).classed(u.CONTAINER_CLASS,!0),this.target.on("mouseover",this.onMouseOver).on("mouseout",this.onMouseOut).on(en.s.MouseDown,()=>this.onMouseInteraction(en.s.MouseDown)).on(en.s.MouseUp,()=>this.onMouseInteraction(en.s.MouseUp)).on(en.s.MouseMove,()=>this.onMouseInteraction(en.s.MouseMove)).on(en.s.Click,()=>this.onMouseInteraction(en.s.Click))}}return u.CONTAINER_CLASS="mouse-interactive-area",u})();var st=o(73943),Ot=o.n(st),Pt=o(93205),ae=o(91237),Oe=o.n(ae);const He=(u,e,t)=>{const n=function We(u,e){return u.reduce((t,n)=>{for(const i of Object.keys(n.scales)){if(i===e)continue;const s=n.scales[i];!s.isDomainFixed||(t[i]||(t[i]=[]),-1===Oe()(t[i],s)&&t[i].push(s))}return t},{})}(u,e);return function Fe(u,e){if(e.isContinuous()){const n=u.filter(a=>a!==it.iz);return 0===n.length?it.iz:[(0,Z.VV$)(n.filter(a=>void 0!==typeof a[0]).map(a=>a[0])),(0,Z.Fp7)(n.filter(a=>void 0!==typeof a[1]).map(a=>a[1]))]}const t=Math.max(...u.map(n=>n.length));return Array.from(Array(t)).map((n,i)=>{const s=u.map(a=>i<a.length?a[i]:[]);return jt()($()(s))})}(u.map(s=>{const a=Object.keys(n).reduce((c,f)=>{const _=s.scales[f];return _&&_.isContinuous()&&-1!==Oe()(n[f],_)&&(c[f]=_),c},{});return s.renderer.getDomainOfFilteredData(s,a,e,s.scales[e])}),t)},Me=u=>(e,t,n)=>{const i=He(e,t,n);return[Math.min(i[0],u[0]),Math.max(i[1],u[1])]};class ge{constructor(e){this.domainCalculator=He,this.formatters={},this.isTimeseriesScale=!1,this.isReversed=!1,this._fixDomainValues=[],this.id=e||Ne.uuid(),this._d3Scale=this.createD3Scale()}get d3Scale(){return this._d3Scale}get fixDomainValues(){return this._fixDomainValues}setFixDomainValues(e){e.length>1&&(this.domain([e[0],e[e.length-1]]),this.isDomainFixed=!0),this._fixDomainValues=e}range(e){return e?(this._d3Scale.range(this.isReversed?e.reverse():e),this):this._d3Scale.range()}domain(e){return e?(this._d3Scale.domain(e),this):this._d3Scale.domain()}fixDomain(e){return this.domain(e),this.isDomainFixed=!0,this}isDomainValid(){return-1===this.domain().findIndex(e=>void 0===e)}reverse(){return this.reversed(!this.isReversed)}reversed(e){return void 0===e?this.isReversed:(this.isReversed=e,this)}}class Te extends ge{constructor(e){super(e),this.formatters.tick=t=>null==t?void 0:t.toLocaleString()}createD3Scale(){return(0,Pt.BY)()}convert(e){return this._d3Scale(e)}invert(e){return this._d3Scale.invert(e)}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(e=>isNaN(e))}}class at extends ge{constructor(e){super(e),this.formatters.tick=t=>{if(De()(t))throw new Error("Can't format bandFormatScale");return Ot()(t)}}createD3Scale(){return(0,Z.tiA)()}convert(e,t=.5){return this._d3Scale(e)+t*this.bandwidth()}invert(e){const t=this._d3Scale.domain();if(this.range()[0]<this.range()[1]){const n=this.getRangeMidPoints(t.map(this._d3Scale));return t[(0,Z.b4o)(n,e)]}{const n=this.getRangeMidPoints(t.map((i,s)=>this._d3Scale(t[t.length-1-s])));return t[t.length-1-(0,Z.b4o)(n,e)]}}range(e){const t=e?super.range(e):super.range();return e&&this.innerScale&&this.innerScale.range([0,this.bandwidth()]),t}round(e){return e?(this._d3Scale.round(e),this):this._d3Scale.round()}padding(e){return this._d3Scale.paddingInner(e),this._d3Scale.paddingOuter(e/2),this}align(e){return e?(this._d3Scale.align(e),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}step(){return this.domain().length?Math.abs(this.range()[1]-this.range()[0])/this.domain().length:0}copyToLinear(){const e=new Te;return e.domain(this.range()).range(this.range()),e}bandTicks(){const e=[],t=this.range()[0],n=this.step();for(let i=0;i<=this.domain().length;i++)e.push(t+i*n);return e}isContinuous(){return!1}getRangeMidPoints(e){return e.slice(1).map(t=>t-this._d3Scale.step()*this._d3Scale.paddingInner()/2)}}var xe=o(62516),Ee=o.n(xe);let cn=(()=>{class u extends Hn.w{constructor(t="title"){super(),this.formatterName=t,this.areLabelUpdatesEnabled=!0,this.isChartInView=!1,this.destroy$=new h.x}initialize(){this.interactionLabelLayer=this.chart.getGrid().getLasagna().addLayer({name:u.LAYER_NAME,order:901,clipped:!1}),this.chart.getEventBus().getStream(gt.hk).pipe((0,b.R)(this.destroy$)).subscribe(t=>{var n;if(null===(n=t.data.values)||void 0===n?void 0:n.y){const i=this.chart.getGrid(),s=Object.keys(t.data.values.y),a=i.scales.y.list[0];if(a.isTimeseriesScale&&!s.includes(a.id))return}this.lastInteractionValuesPayload=t.data,this.isChartInView&&this.handleLabelUpdate()}),this.chart.getEventBus().getStream(gt._7).pipe((0,b.R)(this.destroy$)).subscribe(t=>{this.isChartInView=t.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLabelUpdate()})}handleLabelUpdate(){const t=this.chart.getGrid();if(!(t instanceof qn))throw new Error(`${u.name} requires XYGrid`);const n=t.scales;if(!this.areLabelUpdatesEnabled||this.lastInteractionValuesPayload.interactionType!==en.s.MouseMove||ln()(n))return;const i=Ee()(n.x.index,{id:t.bottomScaleId});if(!i)throw new Error("xScale is not defined");const s=Ne.getInteractionValues(this.lastInteractionValuesPayload.values.x,i.id);this.updateLabel(i,ee()(s)?s.slice(0,s.length-1):s)}updateLabel(t,n){let i=this.interactionLabelLayer.select(`.${u.LAYER_NAME}`);if(i.empty()&&n)i=this.buildInteractionLabel(this.interactionLabelLayer);else if(!n)return void i.remove();const s=t.formatters[this.formatterName]||t.formatters.tick,a=null==s?void 0:s(n);if(!a)throw new Error("labelContent is not defined");const c=i.select("text").text(a),f=c.node().getBBox(),_=this.chart.getGrid().config().dimension,E=_.height()-f.y;c.attr("transform",`translate(0, ${E})`).style("text-anchor","middle");const ct=f.width+2*(f.height+f.y),Nt=[ct/2,_.width()-ct/2],Ft=ie(t,n,.5),Wt=Ne.clampToRange(Ft,Nt);i.attr("transform",`translate(${Wt},0)`).select("rect").attrs({transform:`translate(0,${E})`,x:-ct/2,y:f.y,width:ct,height:f.height})}destroy(){this.chart.getGrid().getLasagna().removeLayer(u.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}buildInteractionLabel(t){const n=t.append("g").attr("class",u.LAYER_NAME);return n.append("rect").attr("class",`${u.LAYER_NAME}__rect`),n.append("text").attr("class",`${u.LAYER_NAME}__text`),n}}return u.LAYER_NAME="interaction-label",u})(),fn=(()=>{class u extends Hn.w{constructor(){super(...arguments),this.isChartInView=!1,this.destroy$=new h.x}initialize(){this.interactionLineLayer=this.chart.getGrid().getLasagna().addLayer({name:"interaction-line",order:900,clipped:!0}),this.chart.getEventBus().getStream(gt.hk).pipe((0,b.R)(this.destroy$)).subscribe(t=>{this.lastInteractionValuesPayload=t.data,this.isChartInView&&this.handleLineUpdate()}),this.chart.getEventBus().getStream(gt._7).pipe((0,b.R)(this.destroy$)).subscribe(t=>{this.isChartInView=t.data.isChartInView,this.isChartInView&&this.lastInteractionValuesPayload&&this.handleLineUpdate()})}handleLineUpdate(){const t=this.chart.getGrid();if(!(t instanceof qn))throw new Error(`${u.name} requires XYGrid`);const n=t.scales;if(this.lastInteractionValuesPayload.interactionType!==en.s.MouseMove||ln()(n))return;const i=Ee()(n.x.index,{id:t.bottomScaleId});if(!i)throw new Error("xScale is not defined");const s=Ne.getInteractionValues(this.lastInteractionValuesPayload.values.x,i.id);this.updateLine(this.interactionLineLayer,i,s)}updateLine(t,n,i){const s=[];i&&s.push(i);const a=t.selectAll(`.${u.LAYER_NAME}`).data(s),c=_=>n.convert(_),f={class:u.LAYER_NAME,x1:c,y1:0,x2:c,y2:this.chart.getGrid().config().dimension.height()};a.enter().append("line").merge(a).attrs(f),a.exit().remove()}destroy(){this.chart.getGrid().getLasagna().removeLayer(u.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}}return u.LAYER_NAME="interaction-line",u})();class Jn extends Hn.w{constructor(e){super(),this.mouseInteractiveArea=e,this.destroy$=new h.x,this.interactionValuesActive=!0}initialize(){this.mouseInteractiveArea.active.pipe((0,b.R)(this.destroy$)).subscribe(e=>{this.chart.getEventBus().getStream(gt.CC).next({data:e})}),this.chart.getEventBus().getStream(gt.CC).pipe((0,b.R)(this.destroy$)).subscribe(e=>{!e.data&&this.chart.getDataManager().chartSeriesSet&&this.highlightReset()}),this.chart.getEventBus().getStream(gt.N).pipe((0,b.R)(this.destroy$)).subscribe(e=>this.interactionValuesActive=e.data),this.mouseInteractiveArea.interaction.pipe((0,b.R)(this.destroy$)).subscribe(e=>{const t=this.chart.getGrid().scales;if(!ln()(t)){if(this.interactionValuesActive){const c=Ne.getXYValues(t.x.list,t.y.list,e.coordinates.x,e.coordinates.y);this.chart.getEventBus().getStream(gt.hk).next({data:{interactionType:e.type,values:c}})}this.chart.getEventBus().getStream(gt.DP).next({data:{interactionType:e.type,coordinates:e.coordinates}})}})}update(){this.highlightReset()}updateDimensions(){this.highlightReset()}destroy(){this.destroy$.next(),this.destroy$.complete()}highlightReset(){this.chart.getEventBus().getStream(gt.hk).next({data:{interactionType:en.s.MouseMove,values:{}}})}}var li=o(9120),Ni=o.n(li);let Ei=(()=>{class u{constructor(t,n){this.clipPath=n,this.layers=[],this.container=t.append("g").attr("class",`${u.CONTAINER_CLASS} pointer-events`)}addLayer(t){return this.layers=Ni()(this.layers.concat(t),"order"),this.update(),this.getLayerContainer(t.name)}removeLayer(t){const n=this.layers.findIndex(i=>i.name===t);-1!==n&&(this.layers.splice(n,1),this.update())}getLayerContainer(t){return this.container.select(`.${u.LAYER_CLASS}-${t}`)}getContainer(){return this.container}update(){const t=this.container.selectAll(`g.${u.LAYER_CLASS}`).data(this.layers,n=>n.name).order();t.enter().append("g").attrs({class:n=>`${u.LAYER_CLASS} ${u.LAYER_CLASS}-${n.name}`,"clip-path":n=>n.clipped?`url(#${this.clipPath})`:"","pointer-events":"none"}),t.exit().remove()}}return u.CONTAINER_CLASS="lasagna-container",u.LAYER_CLASS="lasagna-layer",u})();const Kn=.5;let zn=(()=>{class u{constructor(){this.borders={},this.adjustRenderingArea=()=>{const t=this.config().dimension,n=this.config().disableRenderAreaHeightCorrection,i=this.config().disableRenderAreaWidthCorrection,s={width:Math.max(0,t.width()),height:Math.max(0,t.height()+(n?0:u.RENDER_AREA_HEIGHT_CORRECTION))};n||(s.y=-u.RENDER_AREA_HEIGHT_CORRECTION);const a=Object.assign(Object.assign({},s),{width:Math.max(0,t.width()-(i?0:u.RENDER_AREA_WIDTH_CORRECTION))});this.renderingAreaClipPath.attrs(s),this.renderingArea.attrs(a)}}getInteractiveArea(){return this.interactiveArea}getLasagna(){return this.lasagna}set scales(t){this._scales=t}get scales(){return this._scales}config(t){return void 0===t?this._config:(this._config=t,this)}target(t){return void 0===t?this._target:(this._target=t,this)}build(){if(!this.config()){const i=new U;this.config(i)}this.container=this._target.append("g").attrs({class:u.GRID_CLASS_NAME});const t=u.RENDERING_AREA_CLIP_PATH_PREFIX+Ne.uuid();this.lasagna=new Ei(this.container,t),this.renderingArea=this.buildRenderingArea(t),this.adjustRenderingArea(),this.gridElementsLayer=this.lasagna.addLayer({name:u.GRID_ELEMENTS_LAYER_NAME,order:100,clipped:!1});const n=this.buildBorders(this.gridElementsLayer);return n&&(this.borders=n),this}buildPlugins(t){return[]}update(){return ln()(this.scales)||(this.updateBorders(),this.adjustRenderingArea()),this}updateDimensions(t){const n=this.config().dimension;return t.width&&n.outerWidth(t.width-this.getOuterWidthDimensionCorrection()),t.height&&n.outerHeight(t.height),this.adjustRenderingArea(),this.updateRanges(),this}updateRanges(){return this.update(),this}getOuterWidthDimensionCorrection(){return u.TICK_DIMENSION_CORRECTION}buildBorders(t){if(!this.config()||!this.config().borders)return;const n=this.config().borders,i={},s=Object.keys(n);return wn()(s,a=>{var c;n[a]&&(i[a]=null!==(c=this.createBorder(t,n[a]))&&void 0!==c?c:void 0)}),i}buildRenderingArea(t){return this.renderingAreaClipPath=this._target.append("clipPath").attr("id",t).append("rect"),this.lasagna.addLayer({name:u.RENDERING_AREA_LAYER_NAME,order:-1,clipped:!0}).append("rect").attrs({"pointer-events":"all",fill:"transparent"})}createBorder(t,n){const i=t.append("line").attr("class",n.className||u.DEFAULT_BORDER_CLASS_NAME);return n.width&&i.style("stroke-width",n.width),n.color&&i.style("stroke",n.color),i.node()}updateBottomBorder(){var t;if(!this.borders.bottom)throw new Error("BottomBorder is not defined");(0,w.Z)(this.borders.bottom).attrs({x1:0,y1:this.config().dimension.height()-Kn,x2:this.config().dimension.width()+u.TICK_DIMENSION_CORRECTION,y2:this.config().dimension.height()-Kn,class:this._config.borders.bottom.className||u.DEFAULT_BORDER_CLASS_NAME}).classed("hidden",!(null===(t=this._config.borders.bottom)||void 0===t?void 0:t.visible))}updateBorders(){var t,n,i;this.borders.bottom&&this.updateBottomBorder(),this.borders.top&&(0,w.Z)(this.borders.top).attrs({x1:0,y1:Kn,x2:this.config().dimension.width()+u.TICK_DIMENSION_CORRECTION,y2:Kn}).classed("hidden",!(null===(t=this._config.borders.top)||void 0===t?void 0:t.visible)),this.borders.right&&(0,w.Z)(this.borders.right).attrs({x1:this.config().dimension.width()-Kn,y1:0,x2:this.config().dimension.width()-Kn,y2:this.config().dimension.height()+u.TICK_DIMENSION_CORRECTION}).classed("hidden",!(null===(n=this._config.borders.right)||void 0===n?void 0:n.visible)),this.borders.left&&(0,w.Z)(this.borders.left).attrs({x1:Kn,y1:0,x2:Kn,y2:this.config().dimension.height()+u.TICK_DIMENSION_CORRECTION}).classed("hidden",!(null===(i=this._config.borders.left)||void 0===i?void 0:i.visible))}}return u.GRID_CLASS_NAME="nui-chart-grid",u.DEFAULT_BORDER_CLASS_NAME="nui-chart-border",u.RENDERING_AREA_CLIP_PATH_PREFIX="clip-path_",u.GRID_ELEMENTS_LAYER_NAME="grid-elements",u.RENDERING_AREA_LAYER_NAME="rendering-area",u.RENDER_AREA_HEIGHT_CORRECTION=1,u.RENDER_AREA_WIDTH_CORRECTION=1,u.TICK_DIMENSION_CORRECTION=1,u})(),qn=(()=>{class u extends zn{constructor(t){super(),this.axisX={},this.axisYLeft={},this.axisYRight={},this.gridY={},this.gridX={},this.handleTickLabelOverflowDebounceIndex={},this.isApproximatelyEqual=(n,i)=>Math.abs(n-i)<.1,this.config(t||new K)}get bottomScaleId(){return this._bottomScaleId?this._bottomScaleId:ln()(this.scales)?void 0:this.scales.x.list[0].id}set bottomScaleId(t){this._bottomScaleId=t}get leftScaleId(){return this._leftScaleId?this._leftScaleId:ln()(this.scales)?void 0:this.scales.y.list[0].id}set leftScaleId(t){this._leftScaleId=t}get rightScaleId(){return this._rightScaleId}set rightScaleId(t){this._rightScaleId=t}set scales(t){this._scales=t,this._scales&&Object.keys(this._scales).forEach(n=>{var i,s;let c,a=this.config().axis.left;"x"!==n&&"y"!==n||null===(s=null===(i=this._scales[n])||void 0===i?void 0:i.list)||void 0===s||s.filter(f=>f instanceof Te).forEach(f=>{(null==f?void 0:f.id)===this.leftScaleId?(a=this.config().axis.left,c=Z.y4O):(null==f?void 0:f.id)===this.rightScaleId?(a=this.config().axis.right,c=Z.Khx):(null==f?void 0:f.id)===this.bottomScaleId&&(a=this.config().axis.bottom,c=Z.LLu),f.domainCalculator&&!(0,it._v)(f.domainCalculator)&&a.gridTicks&&(f.__domainCalculatedWithTicks=!0,f.domainCalculator=((u,e,t)=>{const n=(i,s,a)=>{const c=t(i,s,a),f=ot()(a);zt(f,c);const E=e(f.d3Scale).scale().ticks(u.approximateTicks);if(E.length<=1)return c;const G=E[1]-E[0];return E[0]>c[0]&&(c[0]=E[0]-G),E[E.length-1]<c[1]&&(c[1]=E[E.length-1]+G),c};return n.domainWithTicks=!0,n})(a,c,f.domainCalculator))})})}get scales(){return this._scales}config(t){return void 0===t?this._config:(this._config=t,this)}build(){return super.build(),this.config().interactive&&(this.interactiveArea=this.renderingArea),this.buildAxes(this.gridElementsLayer),this.recalculateMargins(this.container),this.eventBus.getStream(gt.GJ).pipe((()=>(0,b.R)(this.eventBus.getStream(gt.wu)))()).subscribe(n=>{const i=this.handleSeriesStateChange(n);this.eventBus.getStream(gt.mg).next({data:i})}),this}handleSeriesStateChange(t){var n;if(!this.rightScaleId)return;const i=[{scaleId:this.leftScaleId,element:this.axisYLeft.group},{scaleId:this.rightScaleId,element:null===(n=this.axisYRight)||void 0===n?void 0:n.group}],s=this.calculateAxesStyles(t,i);for(const a of i)a.scaleId&&a.element.attrs(s[a.scaleId]);return s}calculateAxesStyles(t,n){const s=t.data.filter(a=>a.state===kt.L.emphasized&&a.series).map(a=>a.series);if(s.length>0){const a=jt()(s.map(c=>null==c?void 0:c.scales.y).filter(c=>!!c));if(a.length<=0)return{};for(const c of a)if(c.id===this.leftScaleId||c.id===this.rightScaleId)return n.reduce((f,_)=>(f[_.scaleId]={opacity:c.id===_.scaleId?1:.1},f),{});return{}}return n.reduce((a,c)=>(a[c.scaleId]={opacity:1},a),{})}buildPlugins(t){const n=[],i=this.config();return i.interactive&&n.push(new Jn(new yt(this.getLasagna().getContainer(),this.getInteractiveArea(),i.cursor,i.dimension.margin))),i.interactionPlugins&&(n.push(new fn),n.push(new cn)),n}update(){return super.update(),this.updateAxes(),this.handleMarginUpdate(),this}drawTicks(t,n,i,s){var a,c;if(t.visible){const f=s(i.d3Scale).ticks(t.approximateTicks).tickSize(0);let _;(null===(a=i.fixDomainValues)||void 0===a?void 0:a.length)&&f.tickValues(i.fixDomainValues),f.tickFormat(i.formatters.tick),n.labelGroup.call(f),i instanceof at?_=s(i.copyToLinear().d3Scale).tickSize(t.tickSize).tickValues(i.bandTicks()).tickFormat(()=>""):(_=s(i.d3Scale).tickSize(t.tickSize),(null===(c=i.fixDomainValues)||void 0===c?void 0:c.length)&&_.tickValues(i.fixDomainValues),_.tickFormat(()=>""),_.ticks(t.approximateTicks)),n.tickGroup.call(_),this.adjustAxisTicks(n.labelGroup,i)}else n.labelGroup.selectAll("*").remove(),n.tickGroup.selectAll("*").remove()}drawGrids(t,n,i,s,a){var c;const _=i(s.d3Scale).tickSize(a);(null===(c=s.fixDomainValues)||void 0===c?void 0:c.length)&&_.tickValues(s.fixDomainValues),_.tickFormat(()=>"").ticks(t.approximateTicks),t.gridTicks?n.tickGroup.call(_).selectAll(".tick line").classed("nui-zero-line",G=>0===G):n.tickGroup.selectAll("*").remove()}updateRanges(){if(ln()(this.scales))return this;const t=this.config().dimension,n=t.padding;return this.scales.x&&wn()(this.scales.x.list,i=>{i.range([n.left,t.width()-n.right])}),this.scales.y&&wn()(this.scales.y.list,i=>{i.range([t.height()-n.bottom,n.top])}),super.updateRanges(),this}updateXAxis(){const t=this.bottomScaleId?this.scales.x.index[this.bottomScaleId]:void 0,n=this.config().axis;if(!t)throw new Error("xScale is not defined");this.axisX.group.attr("transform",`translate(0, ${this.config().dimension.height()})`),this.axisX.labelGroup.attr("transform",`translate(0, ${n.bottom.tickSize})`),this.drawTicks(n.bottom,this.axisX,t,Z.LLu),this.drawGrids(n.bottom,this.gridX,Z.F5q,t,this.config().dimension.height()),this.gridX.tickGroup.attr("transform",`translate(0, ${this.config().dimension.height()})`)}updateYAxes(){const t=this.config().axis,n=this.leftScaleId?this.scales.y.index[this.leftScaleId]:void 0;if(!n)throw new Error("yLeftScale is not defined");if(this.axisYLeft.labelGroup.attr("transform",`translate(${-t.left.tickSize-t.left.padding}, 0)`),this.drawTicks(t.left,this.axisYLeft,n,Z.y4O),this.drawGrids(t.left,this.gridY,Z.Khx,n,this.config().dimension.width()),this.rightScaleId){const i=this.scales.y.index[this.rightScaleId],s=t.right.padding+this.config().dimension.width()+t.right.tickSize;this.axisYRight.labelGroup.attr("transform",`translate(${s}, 0)`),this.axisYRight.tickGroup.attr("transform",`translate(${this.config().dimension.width()}, 0)`),this.drawTicks(t.right,this.axisYRight,i,Z.Khx)}}updateAxes(){!this.target()||(this.updateXAxis(),this.updateYAxes())}adjustAxisTicks(t,n){const i=[];t.attr("cursor","default"),t.selectAll("g").each(function(){(0,w.Z)(this).classed("sw-hidden",!1).classed("tick-hidden-text",!1),i.push(this)}),this.filterRepeatedElements(i).forEach(c=>{(0,w.Z)(c).classed("tick-hidden-text",!0)});const a=this.selectAllAxisLabels(t);a.forEach(c=>{const f=(0,w.Z)(c);if(f.select("text").attr("x",0).classed(gt.N0,!0),f.classed("pointer-events",!0),f.select("title").empty()){const _=f.data()[0],E=n.formatters.tick?n.formatters.tick(_):_;f.append("title").text(E)}}),this.handleTickLabelOverflow(t,n,a)}handleTickLabelOverflow(t,n,i){var s;const a=this.config().axis;if(n.id===this.bottomScaleId&&(n.isContinuous()||!a.bottom.tickLabel.overflowHandler))return void this.getElementsToHide(i,this._config.dimension.width(),!0).forEach(Se=>{const Je=(0,w.Z)(Se);Je.classed("tick-hidden-text",!0),Je.classed("pointer-events",!1)});(n.id===this.rightScaleId||n.id===this.leftScaleId)&&this.getElementsToHide(i,this._config.dimension.height(),!1).forEach(Se=>{(0,w.Z)(Se).classed("sw-hidden",!0)});const c=this.config().dimension.margin;let E,f=0,_=0,G=!1,ct=!1;const Nt=a.right.tickLabel.maxWidth,Ft=a.left.tickLabel.maxWidth;if(n.id===this.bottomScaleId){const Yt=a.bottom.tickLabel.maxWidth,Se=n.bandwidth?n.bandwidth():this.getTickDistance(i);f=De()(Yt)?Se:Se>Yt?Yt:Se,_=a.bottom.tickLabel.horizontalPadding,E=a.bottom.tickLabel.overflowHandler}else if(n.id!==this.rightScaleId||a.right.fit)if(n.id!==this.leftScaleId||a.left.fit)if(n.id===this.rightScaleId&&a.right.fit&&!De()(Nt))f=Nt,_=a.right.tickLabel.horizontalPadding,E=a.right.tickLabel.overflowHandler,ct=!0;else{if(n.id!==this.leftScaleId||!a.left.fit||De()(Ft))return;f=Ft,_=a.left.tickLabel.horizontalPadding,E=a.left.tickLabel.overflowHandler,G=!0}else{const Yt=c.left-a.left.padding-a.left.tickSize;f=De()(Ft)?Yt:Yt>Ft?Ft:Yt,_=a.left.tickLabel.horizontalPadding,E=a.left.tickLabel.overflowHandler}else{const Yt=c.right-a.right.padding-a.right.tickSize;f=De()(Nt)?Yt:Yt>Nt?Nt:Yt,_=a.right.tickLabel.horizontalPadding,E=a.right.tickLabel.overflowHandler}if(!E)return;let Wt=0;if(t.select(".sample-ellipsis").empty()){const Yt=t.append("text");Wt=(null===(s=Yt.classed("sample-ellipsis",!0).attr("opacity",0).append("tspan").text("...").node())||void 0===s?void 0:s.getComputedTextLength())||0,Yt.remove()}this.handleTickLabelOverflowDebounceIndex[n.id]&&(clearTimeout(this.handleTickLabelOverflowDebounceIndex[n.id]),this.handleTickLabelOverflowDebounceIndex[n.id]=null),t.classed("tick-hidden-text",!0),i.forEach(Yt=>{(0,w.Z)(Yt).classed("pointer-events",!1)}),this.handleTickLabelOverflowDebounceIndex[n.id]=setTimeout(()=>{i.forEach(Se=>{const Je=(0,w.Z)(Se);Je.select("text").call(E,{widthLimit:f,horizontalPadding:_,ellipsisWidth:Wt}),Je.classed("pointer-events",!0)});const Yt=this._config.dimension.marginLocked;Yt&&(ct||G)&&(this.handleMarginUpdate(),Yt.right=ct,Yt.left=G),t.classed("tick-hidden-text",!1)},u.TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL)}selectAllAxisLabels(t){const n=[];return t.selectAll("g:not(.tick-hidden-text)").each(function(){n.push(this)}),n}getOuterWidthDimensionCorrection(){return this.config().axis.bottom.visible?zn.TICK_DIMENSION_CORRECTION:0}handleMarginUpdate(){const t=ft()(this._config.dimension.margin);this.recalculateMargins(this.container),this.reconcileMarginsWithDebounce(t)}hasRightYAxis(){var t;return this.config().axis.right.visible&&(null===(t=this.rightScaleId)||void 0===t?void 0:t.length)>0}buildAxes(t){this.gridY.tickGroup=t.append("g").classed("sw-axis sw-axis-grid sw-axis-gridY",!0),this.gridX.tickGroup=t.append("g").classed("sw-axis sw-axis-grid sw-axis-gridX",!0),this.axisX.group=t.append("g").classed("sw-axis sw-axis-x",!0),this.axisX.tickGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-ticks",!0),this.axisX.labelGroup=this.axisX.group.append("g").classed("sw-axis sw-axis-x sw-axis-x-labels",!0),this.axisYLeft.group=t.append("g").classed("sw-axis sw-axis-y sw-axis-y-left",!0),this.axisYLeft.tickGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYLeft.labelGroup=this.axisYLeft.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0),this.axisYRight.group=t.append("g").classed("sw-axis sw-axis-y sw-axis-y-right",!0),this.axisYRight.tickGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-ticks",!0),this.axisYRight.labelGroup=this.axisYRight.group.append("g").classed("sw-axis sw-axis-y sw-axis-y-labels",!0)}filterRepeatedElements(t){const n=[t[0]];return t.reduce((i,s)=>{const a=(0,w.Z)(s).text();return a!==i&&n.push(s),a},t[0]&&(0,w.Z)(t[0]).text()),t.filter(i=>-1===n.indexOf(i))}getElementsToHide(t,n,i){const s=i?"width":"height",a=this.getTextMeasurement(t,s)<n,c=!!i&&this.getMaxTextWidth(t)<this.getTickDistance(t);if(i?a&&c:a)return[];const _=this.elementsFiltering(t,n,s);return t.filter(E=>-1===_.indexOf(E))}elementsFiltering(t,n,i){let s,a=2;const c=f=>"width"===i?this.getMaxTextWidth(f)>this.getTickDistance(f):this.getTextMeasurement(f,i)>n;do{if(s=t.filter((f,_)=>_%a==0),a++,1===s.length&&c(s))break}while(c(s));return s}getTextMeasurement(t,n){const i="width"===n?5:0;return t.reduce((s,a)=>s+a.getBoundingClientRect()[n]+i,0)}getMaxTextWidth(t){return 0===t.length?0:Math.max.apply(null,t.map(n=>n.getBoundingClientRect().width))}getTickDistance(t){if(0===t.length)return 0;let n=1/0;return t.map(s=>{const a=s.getAttribute("transform");if(Et()(a))throw new Error("tick transform is not defined");return parseFloat(a.slice(a.indexOf("(")+1,a.indexOf(",")))}).reduce((s,a)=>{const c=a-s;return c<n&&(n=c),a}),n}recalculateMargins(t){var n,i,s;if(!t)return;const a=this._config.dimension,c=this.config().axis,f=a.outerWidth(),_=a.outerHeight();!(null===(n=a.marginLocked)||void 0===n?void 0:n.left)&&c.left.fit&&c.left.visible&&(a.margin.left=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYLeft.labelGroup))+c.left.tickSize+c.left.padding),!(null===(i=a.marginLocked)||void 0===i?void 0:i.right)&&c.right.fit&&this.hasRightYAxis()&&(a.margin.right=this.getMaxTextWidth(this.selectAllAxisLabels(this.axisYRight.labelGroup))+c.right.tickSize+c.right.padding);const E=this.bottomScaleId&&this.scales?null===(s=this.scales.x)||void 0===s?void 0:s.index[this.bottomScaleId]:void 0;c.bottom.fit&&c.bottom.visible&&((null==E?void 0:E.isContinuous())||!c.bottom.tickLabel.overflowHandler)&&this.fitBottomAxis(a);const ct=a.margin.bottom;a.margin.top=a.margin.top,a.margin.bottom=ct,a.outerWidth(f),a.outerHeight(_);const Nt=this.config().dimension.margin.left,Ft=this.config().dimension.margin.top;t.attr("transform",`translate(${Nt}, ${Ft})`)}fitBottomAxis(t){var n,i,s;const a=null===(i=null===(n=this.scales)||void 0===n?void 0:n.x)||void 0===i?void 0:i.list[0].d3Scale;if(!a)return;let c=0,f=0;const _=this.axisX.labelGroup.select(".tick:not(.tick-hidden-text):last-child text").node();if(_){c=_.getBoundingClientRect().width,f=null!==(s=a(_.innerHTML))&&void 0!==s?s:0;const E=a.range()[1],G=c/2-Math.abs(E-f)/2;t.margin.right=G>0?G:0}}reconcileMarginsWithDebounce(t){this.reconcileMarginsDebounce&&(clearTimeout(this.reconcileMarginsDebounce),this.reconcileMarginsDebounce=null),this.reconcileMarginsDebounce=setTimeout(()=>{var n;this.areMarginsApproximatelyEqual(t,this._config.dimension.margin)||null===(n=this.updateChartDimensionsSubject)||void 0===n||n.next()},100)}areMarginsApproximatelyEqual(t,n){return this.isApproximatelyEqual(t.top,n.top)&&this.isApproximatelyEqual(t.right,n.right)&&this.isApproximatelyEqual(t.bottom,n.bottom)&&this.isApproximatelyEqual(t.left,n.left)}}return u.TICK_LABEL_OVERFLOW_DEBOUNCE_INTERVAL=200,u})();const Ti="gauge-label",Yi="gauge-labels",fr="threshold-label";var Cr=o(84524);function Or(u,e){return e<u?-1:e>u?1:e>=u?0:NaN}function Lr(u){return u}var Xi=o(6947);function er(){var u=Lr,e=Or,t=null,n=(0,un.Z)(0),i=(0,un.Z)(Xi.BZ),s=(0,un.Z)(0);function a(c){var f,E,G,Se,An,_=c.length,ct=0,Nt=new Array(_),Ft=new Array(_),Wt=+n.apply(this,arguments),Yt=Math.min(Xi.BZ,Math.max(-Xi.BZ,i.apply(this,arguments)-Wt)),Je=Math.min(Math.abs(Yt)/_,s.apply(this,arguments)),In=Je*(Yt<0?-1:1);for(f=0;f<_;++f)(An=Ft[Nt[f]=f]=+u(c[f],f,c))>0&&(ct+=An);for(null!=e?Nt.sort(function(wi,$r){return e(Ft[wi],Ft[$r])}):null!=t&&Nt.sort(function(wi,$r){return t(c[wi],c[$r])}),f=0,G=ct?(Yt-_*In)/ct:0;f<_;++f,Wt=Se)Ft[E=Nt[f]]={data:c[E],index:f,value:An=Ft[E],startAngle:Wt,endAngle:Se=Wt+(An>0?An*G:0)+In,padAngle:Je};return Ft}return a.value=function(c){return arguments.length?(u="function"==typeof c?c:(0,un.Z)(+c),a):u},a.sortValues=function(c){return arguments.length?(e=c,t=null,a):e},a.sort=function(c){return arguments.length?(t=c,e=null,a):t},a.startAngle=function(c){return arguments.length?(n="function"==typeof c?c:(0,un.Z)(+c),a):n},a.endAngle=function(c){return arguments.length?(i="function"==typeof c?c:(0,un.Z)(+c),a):i},a.padAngle=function(c){return arguments.length?(s="function"==typeof c?c:(0,un.Z)(+c),a):s},a}class Zi{static generateThresholdArcData(e){if(!e.length)return[];const t=Zi.generateArcValues(e),n=[];return er().sort(null)(t).forEach((a,c)=>{c%2==1&&n.push(a)}),n}static generateArcValues(e){const t=Array(2*e.length-1).fill(0);return e.forEach((n,i)=>{t[2*i]=0===i?n.value:n.value-e[i-1].value}),t}}var ki=o(33335);const Nr={markerRadius:bi.Large,enabled:!0};class _r extends ki.E{constructor(e={}){super(e),this.config=e,this.config=vn()(this.config,Nr)}draw(e,t){const n=e.containers[kt.n.data],i=ot()(this.config.enabled?e.dataSeries.data:[]);i.sort((f,_)=>f.value-_.value),this.segmentWidth=this.getSegmentWidth(e);const s=this.getInnerRadius(e.scales.r.range(),0),a=(0,Cr.Z)().outerRadius(this.getOuterRadius(e.scales.r.range(),0)).innerRadius(s>=0?s:0),c=n.selectAll(`circle.${di}`).data(Zi.generateThresholdArcData(i));c.exit().remove(),c.enter().append("circle").attr("class",di).merge(c).attr("cx",f=>a.centroid(f)[0]).attr("cy",f=>a.centroid(f)[1]).attr("r",this.config.markerRadius).style("fill",(f,_)=>`var(--nui-color-${i[_].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getInnerRadius(e,t){if(De()(this.segmentWidth))throw new Error("Can't compute inner radius");const n=e[1]-e[0]-this.segmentWidth;return n>=0?n:0}}let gr=(()=>{class u extends Hn.w{constructor(t={}){super(),this.config=t,this.DEFAULT_CONFIG={padding:5,formatterName:Ti,disableThresholdLabels:!1},this.destroy$=new h.x,this.config=vn()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:Yi,order:gt.rz[kt.n.data].order,clipped:!1}),this.chart.getEventBus().getStream(gt.C1).pipe((0,b.R)(this.destroy$)).subscribe(t=>{const n=this.lasagnaLayer.select(`.${Yi}`);if(!n.empty()){const i=t.data.dataPoints,s=Object.keys(i).find((a,c)=>i[a].index===gt.hZ)?0:1;n.style("opacity",s)}})}update(){this.drawThresholdLabels()}updateDimensions(){this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}drawThresholdLabels(){var t,n;const i=this.chart.getDataManager().chartSeriesSet.find(ct=>ct.renderer instanceof _r);if(De()(i))return void console.warn("Threshold series is undefined. As a result, threshold labels for the donut gauge will not be rendered.");let s=this.lasagnaLayer.select(`.${Yi}`);s.empty()&&(s=this.lasagnaLayer.append("svg:g").attr("class",Yi).style("opacity",0));const a=null==i?void 0:i.renderer,c=(null==a?void 0:a.getOuterRadius(null!==(t=null==i?void 0:i.scales.r.range())&&void 0!==t?t:[0,0],0))+this.config.padding;if(De()(c))throw new Error("Radius is undefined");const f=(0,Cr.Z)().outerRadius(c).innerRadius(c),_=null!==(n=null==i?void 0:i.scales.r.formatters[this.config.formatterName])&&void 0!==n?n:ct=>ct,E=ot()(this.config.disableThresholdLabels?[]:null==i?void 0:i.data);if(De()(E))throw new Error("Gauge threshold series data is undefined");E.sort((ct,Nt)=>ct.value-Nt.value);const G=s.selectAll(`text.${fr}`).data(Zi.generateThresholdArcData(E));G.exit().remove(),G.enter().append("text").attr("class",fr).merge(G).attr("transform",ct=>`translate(${f.centroid(ct)})`).attr("title",(ct,Nt)=>_(E[Nt].value)).style("text-anchor",ct=>this.getTextAnchor(ct.startAngle)).style("dominant-baseline",ct=>this.getAlignmentBaseline(ct.startAngle)).text((ct,Nt)=>_(E[Nt].value))}getTextAnchor(t){const n=Math.cos(t-Math.PI/2);return n>.5?"start":n<-.5?"end":"middle"}getAlignmentBaseline(t){const n=Math.sin(t+Math.PI/2);return n>.5?"text-after-edge":n<-.5?"text-before-edge":"central"}}return u.MARGIN_DEFAULT=25,u})();class Ar extends Hn.w{constructor(e={}){super(),this.config=e,this.DEFAULT_CONFIG={padding:5,formatterName:Ti,disableThresholdLabels:!1,flippedLabels:!1},this.destroy$=new h.x,this.isHorizontal=!0,this.xTranslate=(t,n)=>{var i,s,a,c,f;if(this.isHorizontal){const _=this.thresholdsSeries,E=null===(c=null===(a=null===(s=null===(i=this.thresholdsSeries)||void 0===i?void 0:i.accessors)||void 0===s?void 0:s.data)||void 0===a?void 0:a.value)||void 0===c?void 0:c.call(a,t,n,null==_?void 0:_.data,_);return null===(f=this.thresholdsSeries)||void 0===f?void 0:f.scales.x.convert(E)}return this.getLabelOffset()},this.yTranslate=(t,n)=>{var i,s,a,c,f;if(this.isHorizontal)return this.getLabelOffset();const _=this.thresholdsSeries,E=null===(c=null===(a=null===(s=null===(i=this.thresholdsSeries)||void 0===i?void 0:i.accessors)||void 0===s?void 0:s.data)||void 0===a?void 0:a.value)||void 0===c?void 0:c.call(a,t,n,null==_?void 0:_.data,_);return null===(f=this.thresholdsSeries)||void 0===f?void 0:f.scales.y.convert(E)},this.config=vn()(this.config,this.DEFAULT_CONFIG)}initialize(){this.lasagnaLayer=this.chart.getGrid().getLasagna().addLayer({name:Yi,order:gt.rz[kt.n.data].order,clipped:!1}),this.chart.getEventBus().getStream(gt.CC).pipe((0,b.R)(this.destroy$)).subscribe(e=>{const t=this.lasagnaLayer.select(`.${Yi}`);t.empty()||t.style("opacity",e.data?1:0)})}update(){this.updateData(),this.drawThresholdLabels()}updateDimensions(){this.updateData(),this.drawThresholdLabels()}destroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}updateData(){var e;this.thresholdsSeries=this.chart.getDataManager().chartSeriesSet.find(t=>t.id===Ai),this.isHorizontal=(null===(e=this.thresholdsSeries)||void 0===e?void 0:e.scales.x)instanceof Te}drawThresholdLabels(){var e,t,n;if(De()(this.thresholdsSeries))return void console.warn("Threshold series is undefined. As a result, threshold labels for the linear gauge will not be rendered.");let i=this.lasagnaLayer.select(`.${Yi}`);i.empty()&&(i=this.lasagnaLayer.append("svg:g").attr("class",Yi).style("opacity",0));const s=ot()(this.config.disableThresholdLabels?[]:null===(e=this.thresholdsSeries)||void 0===e?void 0:e.data);if(De()(s))throw new Error("Gauge threshold series data is undefined");s.pop();const a=null!==(n=null===(t=this.thresholdsSeries)||void 0===t?void 0:t.scales[this.isHorizontal?"x":"y"].formatters[this.config.formatterName])&&void 0!==n?n:f=>f,c=i.selectAll(`text.${fr}`).data(s);c.exit().remove(),c.enter().append("text").attr("class",fr).merge(c).attr("transform",(f,_)=>`translate(${this.xTranslate(f,_)}, ${this.yTranslate(f,_)})`).attr("title",(f,_)=>a(s[_].value)).style("text-anchor",f=>this.getTextAnchor()).style("dominant-baseline",f=>this.getAlignmentBaseline()).text((f,_)=>a(s[_].value))}getLabelOffset(){let e=0;if(!this.config.flippedLabels){const n=this.chart.getGrid().config().dimension;e=this.isHorizontal?n.height():n.width()}let t=this.config.padding;return t=this.config.flippedLabels?-t:t,e+t}getTextAnchor(){return this.isHorizontal?"middle":this.config.flippedLabels?"end":"start"}getAlignmentBaseline(){return this.isHorizontal?this.config.flippedLabels?"text-after-edge":"hanging":"central"}}class pr extends mn{constructor(e,t){super(e,t),this.data=Object.assign(Object.assign({},this.data),{startX:(n,i,s,a)=>this.data.category(n,i,s,a),endX:(n,i,s,a)=>this.data.category(n,i,s,a),thicknessX:(n,i,s,a)=>this.data.thickness?this.data.thickness(n,i,s,a):void 0,startY:(n,i,s,a)=>this.data.start(n,i,s,a),endY:(n,i,s,a)=>this.data.end(n,i,s,a)})}}function vr(u,e=new Te){const t=new at;let n;return u&&u.grouped&&(t.padding(.25),t.innerScale=new at),u&&u.horizontal?(t.reverse(),n={x:e,y:t}):n={x:t,y:e},n}const Gr={markerRadius:bi.Large,enabled:!0};class sr extends yi{constructor(e={}){super(e),this.config=e,this.config=vn()(this.config,Gr)}draw(e,t){const n=e.containers[kt.n.unclippedData],i=e.dataSeries,s=i.accessors,a=ot()(this.config.enabled?i.data:[]);a.pop();const c=n.selectAll(`circle.${di}`).data(a);c.exit().remove(),c.enter().append("circle").attr("class",di).merge(c).attr("cx",(f,_)=>{var E,G;return e.scales.x.convert(null===(G=null===(E=null==s?void 0:s.data)||void 0===E?void 0:E.endX)||void 0===G?void 0:G.call(E,f,_,i.data,i))}).attr("cy",(f,_)=>{var E,G;return e.scales.y.convert(null===(G=null===(E=null==s?void 0:s.data)||void 0===E?void 0:E.endY)||void 0===G?void 0:G.call(E,f,_,i.data,i))}).attr("r",this.config.markerRadius).style("fill",(f,_)=>`var(--nui-color-${a[_].hit?"text-light":"icon-default"})`).style("stroke-width",0)}getRequiredLayers(){return[gt.rz[kt.n.unclippedData]]}}var mr=o(83223),kr=o.n(mr);function Tr(u,e){if(0===u.length)return u;const t=function Br(u,e="category"){return u.reduce((t,n)=>{const i=n.accessors.data[e],s=n.data.reduce((a,c,f)=>(a.push(null==i?void 0:i(c,f,n.data,n)),a),[]);return kr()(t,s,a=>a.valueOf())},[])}(u);return u.reduce((n,i)=>{if(!De()(i.preprocess)&&!i.preprocess)return n;const s=i.accessors.data.category,a=i.accessors.data.value;if(!a)throw new Error("valueAccessor is not defined");const c=i.data.reduce((_,E,G)=>Object.assign(Object.assign({},_),{[s(E,G,i.data,i)]:G}),{}),f=[];return t.forEach((_,E)=>{let G;if(void 0!==c[_]){G=i.data[c[_]];const ct={},Nt=e(i)?1:0;ct.start=n[E],n[E]+=(a(G,c[_],i.data,i)||0)*Nt,ct.end=n[E],G.__bar=ct,f.push(G)}}),i.data=f,n},Array(t.length).fill(0)),u}function Er(u){return Tr(u,e=>!this.isSeriesHidden(e.id))}class Sr{constructor(e=Ve()){this.colorProvider=e,this.data={value:t=>Number.isFinite(t)?t:t.value},this.series={color:this.colorProvider?this.colorProvider.get:void 0}}}class ar extends zn{constructor(){super(...arguments),this.adjustRenderingArea=()=>{const e=this.config().dimension,t={width:e.outerWidth(),height:e.outerHeight(),transform:`translate(${-e.outerWidth()/2}, ${-e.outerHeight()/2})`};this.renderingAreaClipPath.attrs(t),this.renderingArea.attrs(t)}}build(){return super.build(),this.recenter(),this}updateDimensions(e){const t=this.config().dimension;if(De()(e.width)||t.outerWidth(e.width),De()(e.height)||t.outerHeight(e.height),this.scales){const n=this.scales.r;n&&n.list[0].range([0,Math.min(t.width(),t.height())/2])}return this.adjustRenderingArea(),this.updateRanges(),setTimeout(()=>{this.recenter()}),this}recenter(){this.container.attrs({transform:`translate(${this.config().dimension.outerWidth()/2},${this.config().dimension.outerHeight()/2})`})}}function Dr(){const u=new U;return u.interactive=!1,(new ar).config(u)}function Pr(u,e){if(!u[0])return u;const t=er().sort(null),s=u[0].data.reduce((a,c)=>(a.push(u.map(f=>e(f)&&!f.excludeFromArcCalculation?f.accessors.data.value(f.data[a.length],a.length,f.data,f):0)),a),[]).map(a=>t(a));return u.map((a,c)=>Object.assign(Object.assign({},a),{data:!1===a.preprocess?a.data:s.map(f=>Object.assign(Object.assign({},f[c]),{data:a.data[0]}))}))}function Rr(u){return Pr(u,e=>!this.isSeriesHidden(e.id))}function wr(){return{r:(new Te).fixDomain(it.rX)}}let jr=(()=>{class u{static createChartAssist(t,n,i){var s,a,c;const f=n===Nn.Donut?Dr():new qn(function Q(u,e=kn.Large){const t=new K;return t.interactionPlugins=!1,t.disableRenderAreaHeightCorrection=!0,t.axis.bottom.visible=!1,t.axis.bottom.gridTicks=!1,t.axis.left.visible=!1,t.axis.left.gridTicks=!1,t.borders.left.visible=!1,t.borders.bottom.visible=!1,t.dimension=new p,u===Nn.Vertical?(t.dimension.autoWidth=!1,t.dimension.width(e)):(t.dimension.autoHeight=!1,t.dimension.height(e)),t}(n,t.linearThickness)),_=f.config(),E=new Mi(f),G=!ln()(null===(s=t.thresholds)||void 0===s?void 0:s.definitions)&&!(null===(a=t.thresholds)||void 0===a?void 0:a.disableMarkers);if(n===Nn.Donut)return G&&(E.addPlugin(null!=i?i:new gr),_.dimension.margin=u.getMarginForLabelClearance(t,n,_.dimension.margin)),new l(E,Rr);if(G){const ct=!!(null===(c=t.labels)||void 0===c?void 0:c.flipped);E.addPlugin(null!=i?i:new Ar({flippedLabels:ct})),_.dimension.margin=u.getMarginForLabelClearance(t,n,_.dimension.margin)}return new l(E,Er)}static assembleSeriesSet(t,n){var i,s;t.value=null!==(i=t.value)&&void 0!==i?i:0,t.max=null!==(s=t.max)&&void 0!==s?s:0;const a=u.clampConfigToRange(t),c=u.generateRenderingAttributes(a,n);let f,_=[];return a.thresholds&&(f=u.generateThresholdSeries(a,c),_.push(f)),_=[...u.generateQuantityAndRemainderSeriesSet(a,c,null==f?void 0:f.activeThreshold),..._],_}static update(t,n){var i,s;n.value=null!==(i=n.value)&&void 0!==i?i:0,n.max=null!==(s=n.max)&&void 0!==s?s:0;const a=u.clampConfigToRange(n),c=u.generateThresholdsData(a);return t.map(_=>{var E,G,ct;return _.id===pi?Object.assign(Object.assign({},_),{data:[{category:u.DATA_CATEGORY,value:a.value}],activeThreshold:c.activeThreshold,defaultColor:a.defaultQuantityColor||Qe.Ok}):_.id===oi?Object.assign(Object.assign({},_),{data:[{category:u.DATA_CATEGORY,value:a.max-a.value}]}):_.id===Ai?(_.renderer.config.enabled=!(null===(E=a.thresholds)||void 0===E?void 0:E.disableMarkers),_.renderer.config.markerRadius=null!==(ct=null===(G=a.thresholds)||void 0===G?void 0:G.markerRadius)&&void 0!==ct?ct:bi.Large,Object.assign(Object.assign({},_),c)):_})}static createStandardThresholdsConfig(t,n){return{definitions:{[jn.Warning]:{id:jn.Warning,value:t,enabled:!0,color:Qe.Warning},[jn.Critical]:{id:jn.Critical,value:n,enabled:!0,color:Qe.Critical}},reversed:!1,disableMarkers:!1,markerRadius:bi.Large}}static getMarginForLabelClearance(t,n,i){var s,a,c,f,_;if(n===Nn.Donut){const Ft=null!==(a=null===(s=t.labels)||void 0===s?void 0:s.clearance)&&void 0!==a?a:30,Wt=Math.max(...Object.values(i),Ft);return{top:Wt,right:Wt,bottom:Wt,left:Wt}}let E;const G=!!(null===(c=t.labels)||void 0===c?void 0:c.flipped);E=n===Nn.Horizontal?G?"top":"bottom":G?"left":"right";const ct=null!==(_=null===(f=t.labels)||void 0===f?void 0:f.clearance)&&void 0!==_?_:rr[E],Nt=Math.max(i[E],ct);return Object.assign(Object.assign({},i),{[E]:Nt})}static generateQuantityAndRemainderSeriesSet(t,n,i){return u.generateQuantityAndRemainderData(t).map(a=>{const{quantityAccessors:c,remainderAccessors:f,scales:_,mainRenderer:E}=n;return c.data&&(c.data.color=(G,ct,Nt,Ft)=>Ft.activeThreshold?Ft.activeThreshold.color:Ft.defaultColor),f.data&&(f.data.color=()=>t.remainderColor||Qe.Remainder),a.id===pi&&(a.activeThreshold=i,a.defaultColor=t.defaultQuantityColor||Qe.Ok),Object.assign(Object.assign({},a),{accessors:a.id===pi?c:f,scales:_,renderer:E})})}static generateThresholdSeries(t,n){const{quantityAccessors:i,scales:s,thresholdsRenderer:a}=n;return Object.assign(Object.assign({},u.generateThresholdsData(t)),{accessors:i,scales:s,renderer:a,excludeFromArcCalculation:!0,preprocess:!1})}static generateRenderingAttributes(t,n){const i=u.generateRenderingTools(t,n);return{quantityAccessors:i.quantityAccessorFunction(),remainderAccessors:i.remainderAccessorFunction(),mainRenderer:i.mainRendererFunction(),thresholdsRenderer:i.thresholdsRendererFunction(),scales:i.scaleFunction()}}static generateRenderingTools(t,n){var i,s,a;const c={enabled:!(null===(i=t.thresholds)||void 0===i?void 0:i.disableMarkers),markerRadius:null===(s=t.thresholds)||void 0===s?void 0:s.markerRadius},f=null===(a=t.labels)||void 0===a?void 0:a.formatter;return{[Nn.Donut]:{mainRendererFunction:()=>new ki.E({strokeWidth:0,enableSeriesHighlighting:!1}),thresholdsRendererFunction:()=>new _r(c),quantityAccessorFunction:()=>new Sr,remainderAccessorFunction:()=>new Sr,scaleFunction:()=>{const E=wr();return E.r.formatters[Ti]=f,E}},[Nn.Horizontal]:{mainRendererFunction:()=>new yi({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new sr(c),quantityAccessorFunction:()=>new Wn,remainderAccessorFunction:()=>new Wn,scaleFunction:()=>{const E=vr({horizontal:!0});return E.x.formatters[Ti]=f,E}},[Nn.Vertical]:{mainRendererFunction:()=>new yi({padding:0,strokeWidth:0,enableMinBarThickness:!1}),thresholdsRendererFunction:()=>new sr(c),quantityAccessorFunction:()=>new pr,remainderAccessorFunction:()=>new pr,scaleFunction:()=>{const E=vr();return E.y.formatters[Ti]=f,E}}}[n]}static generateQuantityAndRemainderData(t){return[{id:pi,data:[{category:u.DATA_CATEGORY,value:t.value}]},{id:oi,data:[{category:u.DATA_CATEGORY,value:t.max-t.value}]}]}static generateThresholdsData(t){if(!t.thresholds)throw new Error("Thresholds are not defined in the gauge config. Unable to generate threshold data.");const{thresholds:n,activeThreshold:i}=u.prepareThresholdsData(t);return{id:Ai,data:[...n,{id:"max",enabled:!0,category:u.DATA_CATEGORY,value:t.max,color:""}],activeThreshold:i}}static prepareThresholdsData(t){var n,i;const s=Object.values((null===(n=t.thresholds)||void 0===n?void 0:n.definitions)||[]).filter(c=>c.enabled).map(c=>{var f;return Object.assign(Object.assign({},c),{category:u.DATA_CATEGORY,hit:(null===(f=t.thresholds)||void 0===f?void 0:f.reversed)?c.value<t.value:c.value<=t.value})}).sort((c,f)=>c.value-f.value),a=(null===(i=t.thresholds)||void 0===i?void 0:i.reversed)?null==s?void 0:s.find(c=>!De()(c.hit)&&!c.hit):null==s?void 0:s.slice().reverse().find(c=>c.hit);return{thresholds:s,activeThreshold:a}}static clampConfigToRange(t){var n;let i=t.value;t.value>t.max&&(console.warn(`Configured gauge value ${t.value} is greaterthan configured max ${t.max}. Clamping value to ${t.max}.`),i=t.max),t.value<0&&(console.warn(`Configured gauge value ${t.value} is less than 0. Clamping value to 0.`),i=0);const s=(null===(n=t.thresholds)||void 0===n?void 0:n.definitions)||{};return Object.keys(s||{}).forEach(a=>{const c=s[a];c&&(c.value>t.max&&(console.warn(`Configured threshold value ${c.value} for threshold ${a} is greaterthan configured max ${t.max}. Clamping value to ${t.max}.`),c.value=t.max),c.value<0&&(console.warn(`Configured threshold value ${c.value} is less than 0. Clamping value to 0.`),c.value=0))}),Object.assign(Object.assign({},t),{thresholds:Object.assign(Object.assign({},t.thresholds),{definitions:s}),value:i})}}return u.DATA_CATEGORY="gauge",u})();o(63629);class d{constructor(e,t){this.valueMap=e,this.defaultValue=t,this.get=n=>this.valueMap[n]||this.defaultValue,this.reset()}reset(){}}class I{constructor(e){this.element=document.createElement("path"),this.setAttributes({class:"nui-chart-element-marker nui-chart--path__outline","vector-effect":"non-scaling-stroke",d:e})}setColor(e){this.setAttributes({fill:e})}setAttributes(e){for(const t of Object.keys(e))this.element.setAttribute(t,e[t]);this.updateSvg()}getSvg(){return this.svg}updateSvg(){this.svg=this.element.outerHTML}}const S=(u,e)=>(t,n,i)=>e(u().concat(t),n,i);class _t extends ge{constructor(e){super(e),this.formatters.tick=t=>t}createD3Scale(){return(0,Pt.q2)()}convert(e){return this._d3Scale(e)}invert(e){const t=this._d3Scale.domain(),n=t.map(this._d3Scale).slice(0,-1).map(i=>i+this._d3Scale.step()/2);return t[(0,Ln.b4)(n,e)]}round(e){return e?(this._d3Scale.round(e),this):this._d3Scale.round()}padding(e){return this._d3Scale.padding(e),this}align(e){return e?(this._d3Scale.align(e),this):this._d3Scale.align()}bandwidth(){return this._d3Scale.bandwidth()}isContinuous(){return!1}}var Ct=o(15439),Mt=o.n(Ct);const Bt=(u,e)=>new Intl.DateTimeFormat(Mt().locale(),e).format(u),me=u=>(0,Z.Z_i)(u)<u?(u=>Bt(u,{hour:"numeric",minute:"2-digit",second:"2-digit"}))(u):(0,Z.rr1)(u)<u?(u=>Bt(u,{hour:"numeric",minute:"2-digit"}))(u):(0,Z.F0B)(u)<u?(u=>Bt(u,{month:"short",day:"2-digit"}))(u):(0,Z.jBk)(u)<u?(u=>Bt(u,{month:"short"}))(u):(u=>Bt(u,{year:"numeric"}))(u);class Sn extends ge{constructor(e){super(e),this.formatters.tick=me}createD3Scale(){return(0,Pt.Xf)()}convert(e){return this._d3Scale(e)}invert(e){const t=this._d3Scale.invert(e);return isNaN(t.getTime())?void 0:t}isContinuous(){return!0}isDomainValid(){return-1===this.domain().findIndex(e=>isNaN(e.getTime()))}}function yn(u){const e=new Date(u.getFullYear(),0,1).getTimezoneOffset(),t=new Date(u.getFullYear(),6,1).getTimezoneOffset();return Math.max(e,t)!==u.getTimezoneOffset()}class Dn extends Sn{constructor(e,t){super(t),this.defaultTitleFormatter=n=>{const i=this.interval().asDays(),s=yn(n),a=yn(this.domain()[0]),c=!s&&a;let _=0;(c||s&&!a)&&i>=1&&(_=c?36e5:-36e5);const E=new Date(n.getTime()+_),G=i>=1?Mt()(E).add(i,"days").toDate():Mt()(E).add(this.interval()).toDate();return me(E)+" - "+me(G)},this.interval(e),this._bandScale=(0,Pt.ti)(),this.formatters.title=this.defaultTitleFormatter}interval(e){return e?(this._interval=e,this):this._interval}domain(e){if(e){if(0===e.length||e.length%2!=0)throw new Error("TimeIntervalScale domain has to be defined as a pair of [from, to] time values.");const t=Re()(e,it.iz),n=[];if(!t)for(let s=0;s+1<e.length;s+=2)n.push(...this.getBandsForInterval(e[s],e[s+1]));this._bandScale.domain(n);const i=t?e:[e[0],Mt()(e[1]).add(this.interval()).toDate()];return super.domain(i)}return super.domain()}range(e){return e?(this._bandScale.range(e),super.range(e)):super.range()}getBands(){return this._bandScale.domain()}convert(e,t=.5){const n=this.truncToInterval(e,this.interval());if(!n)throw new Error("Could not convert interval");const i=this._bandScale(n);return"number"==typeof i?i+t*this.bandwidth():super.convert(e)}invert(e){const t=super.invert(e);return this.truncToInterval(t,this.interval())}bandwidth(){return this._bandScale.bandwidth()}truncToInterval(e,t,n=!1){if(!e)return e;const i=yn(e),s=n?i:yn(this.domain()[0]),a=s&&!i,c=!s&&i,_=this.interval().asDays()>=1&&c?(0,Ct.duration)(1,"hour").asMilliseconds():0,E=new Date(e.getTime()+_);let G=0;(a||c)&&(G=a?-60:60);const ct=6e4*(E.getTimezoneOffset()+G),Nt=E.getTime()-ct,Wt=Nt%t.asMilliseconds();return 0===Wt?E:new Date(Nt-Wt+ct)}isContinuous(){return!0}getBandsForInterval(e,t){const n=[];let i=this.truncToInterval(e,this.interval(),!0);if(!i)throw new Error("Could not get bands for interval");const s=this.interval().asMilliseconds(),a=this.interval().asDays(),c=yn(e),f=yn(t),_=!c&&f?(0,Ct.duration)(1,"hour").asMilliseconds():0,E=a>=1?new Date(t.getTime()+_):t;for(;i<=E;)n.push(i),i=new Date(i.getTime()+s);return n}}class mi{constructor(e){}convert(){}invert(){}get d3Scale(){}range(e){}domain(e){}fixDomain(e){return null}isContinuous(){return!1}isDomainValid(){return!0}reverse(){}reversed(e){}}class ui extends K{constructor(){super(),this.dimension.padding.bottom=2}}class Yn extends K{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!0,this.axis.left.tickSize=5,this.axis.bottom.gridTicks=!1,this.axis.left.fit=!0,this.axis.bottom.tickSize=5,this.axis.left.tickSize=0,this.dimension.margin.right=0,this.dimension.padding.bottom=2}}class Xn extends K{constructor(){super(),this.interactionPlugins=!1,this.axis.left.gridTicks=!1,this.axis.left.tickSize=0,this.axis.bottom.gridTicks=!0,this.axis.left.fit=!0,this.axis.bottom.fit=!0,this.axis.bottom.tickSize=0,this.axis.left.tickSize=5,this.dimension.padding.left=2,this.borders.left.visible=!0,this.borders.bottom.visible=!1}}class ti extends K{constructor(e={showBottomAxis:!0}){super(),this.interactive=!0,this.interactionPlugins=!1,e.showBottomAxis||(this.axis.bottom.visible=!1,this.borders.bottom.visible=!1),this.axis.left.visible=!1,this.axis.left.gridTicks=!1,this.borders.left.visible=!1,this.dimension.autoHeight=!1,this.dimension.margin.top=0,e.showBottomAxis||(this.dimension.margin.bottom=0),this.dimension.height(30)}}function ri(u=new K,e=!1,t=!0){return u.interactionPlugins=!1,u.axis.left.visible=!1,u.axis.left.gridTicks=!1,u.dimension.margin.left=5,u.dimension.margin.right=5,u.dimension.margin.bottom=e?u.dimension.margin.bottom:0,u.dimension.padding.top=5,u.dimension.padding.bottom=5,u.dimension.autoHeight=!1,u.dimension.height(36),t&&(u.borders.top=new P),e||(u.borders.bottom.visible=!1),u}var ke=o(37669),Un=o(44421);class ei extends Un.i{getAbsolutePosition(e){var t,n;const i=null===(n=null===(t=this.chart.target)||void 0===t?void 0:t.node())||void 0===n?void 0:n.parentNode;if(!i)throw new Error("Chart parent node is not defined");const s=Math.min(...e.map(_=>_.position.x)),a=Math.min(...e.map(_=>_.position.y)),c=i.offsetLeft+this.chart.getGrid().config().dimension.margin.left+s+this.chart.getGrid().config().dimension.width()/2;return{top:i.offsetTop+a+this.chart.getGrid().config().dimension.height()/2,left:c,height:0,width:0}}}var Zn=o(3645);const Ae=[{x:"end",y:"center"},{x:"end",y:"bottom"},{x:"center",y:"bottom"},{x:"start",y:"bottom"},{x:"start",y:"center"},{x:"start",y:"top"},{x:"center",y:"top"},{x:"end",y:"top"}],Pn={start:"end",end:"start",top:"bottom",bottom:"top"};class Cn extends Zn.n7{getTooltipPosition(e,t){const n=e.data,c=t.renderer.getOuterRadius(t.scales.r.range(),e.index)+this.tooltipPositionOffset,f=(n.startAngle+n.endAngle)/2-Math.PI/2;return{x:Math.cos(f)*c,y:Math.sin(f)*c,width:0,height:0,overlayPositions:[this.getOverlayPosition(f)]}}getAbsolutePosition(e,t){const n=super.getAbsolutePosition(e,t);return n.x+=this.chart.getGrid().config().dimension.width()/2,n.y+=this.chart.getGrid().config().dimension.height()/2,n}getOverlayPosition(e){const t=this.getSectionIndex(e,8);return{originX:Ae[t].x,originY:Ae[t].y,overlayX:this.opposite(Ae[t].x),overlayY:this.opposite(Ae[t].y)}}getSectionIndex(e,t){let n=Math.round(e/(2*Math.PI/t))%t;for(;n<0;)n+=t;return n}opposite(e){return Pn[e]||e}}class Vi extends Zn.n7{constructor(e){super()}}var xr=o(24099);let nr=(()=>{class u extends Hn.w{constructor(t={}){super(),this.config=t,this.destroy$=new h.x,this.brushStart=n=>{!De()(this.brushStartX)||(this.chart.getEventBus().getStream(gt.N).next({data:!1}),this.brushStartX=n)},this.brushMove=n=>{if(De()(this.brushStartX))return;const i=[this.brushStartX,n].sort((s,a)=>s-a);this.brush.move(this.brushElement,i)},this.brushEnd=n=>{if(De()(this.brushStartX))return;const i=[this.brushStartX,n].sort((_,E)=>_-E);this.brushStartX=void 0,this.chart.getEventBus().getStream(gt.N).next({data:!0}),this.brush.move(this.brushElement,null);const s=this.grid.scales.x.list;if(!s||i[0]===i[1])return;let a=0;const c=this.grid.config();!c.disableRenderAreaWidthCorrection&&i[1]===c.dimension.width()-zn.RENDER_AREA_WIDTH_CORRECTION&&(a=zn.RENDER_AREA_WIDTH_CORRECTION);const f=s.reduce((_,E)=>(_[E.id]=[i[0],i[1]+a].map(G=>E.invert(G)),_),{});this.chart.getEventBus().getStream(gt.bd).next({data:f})},this.config=vn()(this.config,u.DEFAULT_CONFIG),this.interactionHandlerMap={[en.s.MouseDown]:this.brushStart,[en.s.MouseMove]:this.brushMove,[en.s.MouseUp]:this.brushEnd}}initialize(){this.grid=this.chart.getGrid(),this.zoomBrushLayer=this.grid.getLasagna().addLayer({name:u.LAYER_NAME,order:gt.rz[kt.n.foreground].order+1,clipped:!0}),this.chart.getEventBus().getStream(gt.DP).pipe((0,b.R)(this.destroy$)).subscribe(t=>{if(t.broadcast&&!this.config.enableExternalEvents)return;const n=t.data;ln()(this.grid.scales)||ln()(n.coordinates)||!this.interactionHandlerMap[n.interactionType]||this.interactionHandlerMap[n.interactionType](n.coordinates&&n.coordinates.x)}),this.brush=(0,xr.Yu)(),this.brushElement=this.zoomBrushLayer.append("g").attr("class","brush"),this.chart.getGrid().getInteractiveArea().on("pointerdown",()=>dt.B.target.setPointerCapture(dt.B.pointerId)).on("pointerup",()=>dt.B.target.releasePointerCapture(dt.B.pointerId))}updateDimensions(){const t=this.grid.config().dimension;this.brush.extent([[0,0],[t.width(),t.height()]]),this.brush(this.zoomBrushLayer.select(".brush")),this.brushElement.select(".overlay").style("pointer-events","none"),this.brushElement.select(".selection").attr("stroke",null)}destroy(){this.grid.getLasagna().removeLayer(u.LAYER_NAME),this.destroy$.next(),this.destroy$.complete()}}return u.LAYER_NAME="zoom-brush",u.DEFAULT_CONFIG={enableExternalEvents:!1},u})();o(4482);class ir{constructor(e=!0,t=!0,n=new $n(xi),i=new rn(Tn)){this.showBottomAxis=e,this.showTopBorder=t,this.palette=n,this.markers=i,this.sparks=[],this.isLegendActive=!1,this.highlightedDataPoints={},this.gridConfig=ri(new K,!1,t),this.gridConfig.interactionPlugins=!1,this.lastGridConfig=ri(new K,e,t),this.lastGridConfig.interactionPlugins=!1}update(e){const t=e.map(n=>({id:n.id,chartSeriesSet:[n]}));this.updateSparks(t)}updateSparks(e){const t=ot()(e);this.sparks=t.map((n,i)=>{const s=i===t.length-1,a=n.id?this.sparks.findIndex(c=>c.id===n.id):-1;return-1!==a?n.chart=this.reconfigureChart(this.sparks[a].chart,s):(n.chart=n.chart||this.createChart(s),n.id=n.id||Ne.uuid()),n.chart.update(n.chartSeriesSet),n})}getHighlightedValue(e,t,n){return l.getLabel(e,this.highlightedDataPoints[e.id],t,n)}trackByFn(e,t){return null==t?void 0:t.id}setRenderState(e,t){}getVisibleSeriesWithLegend(){return[]}createChart(e){const t=new qn(e?this.lastGridConfig:this.gridConfig),n=new Mi(t);return(this.showTopBorder||this.showBottomAxis)&&n.addPlugin(new fn),e&&this.showBottomAxis&&n.addPlugin(new cn),this.configureEventSubscriptions(n.getEventBus()),n}configureEventSubscriptions(e){e.getStream(gt.C1).subscribe(t=>{if(t.data.interactionType===en.s.MouseMove){const n=t.data.dataPoints;Object.keys(n).forEach(i=>{this.highlightedDataPoints[i]=Object.assign({},n[i])})}}),e.getStream(gt.CC).subscribe(t=>{this.isLegendActive=t.data})}reconfigureChart(e,t){e.getGrid().config(t?this.lastGridConfig:this.gridConfig),e.updateDimensions();const n=e.hasPlugin(cn);if(t&&!n&&this.showBottomAxis){const i=new cn;e.addPlugin(i),i.initialize()}else!t&&n&&e.removePlugin(cn);return e}}o(88682),o(89657);class Fr{constructor(){this.series=void 0,this.data=void 0}}class Wr extends se.T{draw(e,t){}highlightDataPoint(e,t,n){}getRequiredLayers(){return[]}getDataPointPosition(e,t,n){}}function Hr(u){const e=new qn;return e.config(u&&u.horizontal?new Xn:new Yn),e}function zr(u,e,t){return u&&u.horizontal?new Wn(e,t):new pr(e,t)}var Yr=o(36397),Qi=o.n(Yr);class Zr{constructor(e,t=1,n){this.scaleKey=e,this.levels=t,this.selectedDataPointIdxFn=n}getDataPointIndex(e,t,n,i){const s=n[this.scaleKey];return void 0===s?gt.Vg:this.findDataPointByValue(t,s,this.scaleKey,i)}findDataPointByValue(e,t,n,i){var s,a;const c=n.toUpperCase(),f=e.accessors.data,_=f["start"+c],E=f["end"+c];if("string"==typeof t)return Qi()(e.data,(G,ct)=>t===(null==_?void 0:_(G,ct,e.data,e)));if(ee()(t))return Qi()(e.data,(G,ct)=>{const Nt=null==_?void 0:_(G,ct,e.data,e),Ft=Math.min(this.levels,t.length,Nt.length);for(let Wt=0;Wt<Ft;Wt++)if(t[Wt]!==Nt[Wt])return!1;return!0});if(t.valueOf){const G=t.valueOf();if(i&&(null===(s=i[n])||void 0===s?void 0:s.isContinuous())){let ct=Qi()(e.data,(Nt,Ft)=>G>=(null==_?void 0:_(Nt,Ft,e.data,e).valueOf())&&G<=(null==E?void 0:E(Nt,Ft,e.data,e).valueOf()));if(-1===ct&&void 0!==E)if((0,it.oT)(i[n])){const Nt=(Wt,Yt)=>null==_?void 0:_(Wt,Yt,e.data,e),Ft=Ne.findNearestIndex(e.data,t,Nt);ct=Ft>=e.data.length||Nt(e.data[Ft],Ft)>G?-1:Ft}else ct=null!==(a=Ne.getClosestIndex(e.data,(Nt,Ft)=>E(Nt,Ft,e.data,e),t))&&void 0!==a?a:-1;return ct}return Qi()(e.data,(ct,Nt)=>G>=(null==_?void 0:_(ct,Nt,e.data,e).valueOf())&&G<=(null==E?void 0:E(ct,Nt,e.data,e).valueOf()))}return gt.Vg}highlightDataPoint(e,t,n,i){const s=t.containers[kt.n.data],a=e.getContainerStateStyles,c=De()(this.selectedDataPointIdxFn)?gt.hZ:this.selectedDataPointIdxFn(t.dataSeries.id);s.selectAll(`g.${e.barContainerClass}`).each(function(f,_){let E;E=n===gt.Vg?_===c||c===gt.hZ?kt.L.default:kt.L.deemphasized:n===_||_===c?kt.L.emphasized:kt.L.deemphasized,(0,w.Z)(this).attrs(a(E))})}draw(e,t,n){}}class Vr{constructor(e,t=1){this.scaleKey=e,this.levels=t}getDataPointIndex(e,t,n,i){const s=n[this.scaleKey];return void 0===s?gt.Vg:this.findDataPointByValue(t,s,this.scaleKey)}findDataPointByValue(e,t,n){const i=n.toUpperCase(),s=e.accessors.data,a=s["start"+i],c=s["end"+i];if("string"==typeof t)return Qi()(e.data,(f,_)=>t===(null==a?void 0:a(f,_,e.data,e)));if(ee()(t))return Qi()(e.data,(f,_)=>{const E=null==a?void 0:a(f,_,e.data,e),G=Math.min(this.levels,t.length,E.length);for(let ct=0;ct<G;ct++)if(t[ct]!==E[ct])return!1;return!0});if(t.valueOf){const f=t.valueOf();return Qi()(e.data,(_,E)=>f>=(null==a?void 0:a(_,E,e.data,e).valueOf())&&f<=(null==c?void 0:c(_,E,e.data,e).valueOf()))}return gt.Vg}highlightDataPoint(e,t,n,i){(n>=0||n===gt.Vg)&&i.next({eventName:gt.TC,data:e.getDataPoint(t,t.dataSeries.data[n],n)})}draw(e,t,n){}}class le extends ki.E{getArc(e,t,n){return t.outerRadius(e[1]-e[0]).innerRadius(0)}}function Ge(u,e,t){const n=u.accessors.data,i=u.data,s=null==n?void 0:n[e];if(!s)throw new Error("Accessor "+e+" not defined!");const a=s(i[0],0,i,u),c=s(i[i.length-1],i.length-1,i,u);if(!a||!c)throw new Error("First or last values not defined!");const f=new Dn(t);f.domain([f.truncToInterval(a,f.interval()),f.truncToInterval(c,f.interval())]);const _=f.getBands(),E=[];let G=0;for(let ct=0;ct<i.length;ct++){const Nt=s(i[ct],ct,i,u),Ft=f.truncToInterval(Nt,f.interval());if(Ft&&Ft>_[G])for(E.push(Object.assign(Object.assign({},i[ct-1]),{defined:!1})),E.push(Object.assign(Object.assign({},i[ct]),{defined:!1}));_[G]<Nt;)G++;E.push(i[ct]),G++}return E}class nn{constructor(){this.INTERACTION_MARGIN=8}draw(e,t,n){const i=t.containers[kt.n.data];let s=i.select("path.interaction");if(Et()(e.config.strokeWidth))throw new Error("renderer.config.strokeWidth is not defined");s.empty()&&(s=i.append("path").classed("interaction",!0).classed("pointer-events pointer-events-click",!0).attrs({"stroke-width":e.config.strokeWidth+2*this.INTERACTION_MARGIN,stroke:"transparent",fill:"none"}).on("mouseenter",()=>{n.next({eventName:gt.TC,data:{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:0,data:t.dataSeries.data[0]}})}).on("mouseleave",()=>{n.next({eventName:gt.TC,data:{seriesId:t.dataSeries.id,dataSeries:t.dataSeries,index:gt.hZ}})}).on("click",(a,c)=>{this.emitEvent(e,gt.Qi,en.s.Click,t,a,c,n)})),e.drawLine(t,s)}getDataPointIndex(e,t,n,i){}highlightDataPoint(e,t,n,i){}emitEvent(e,t,n,i,s,a,c){const f={seriesId:i.dataSeries.id,dataSeries:i.dataSeries,index:a,data:s,position:e.getDataPointPosition(i.dataSeries,a,i.scales)};c.next({eventName:t,data:{interactionType:n,payload:f}})}}class Ht{constructor(){this.strokeWidth=1,this.interactive=!1,this.strokeStyle=Ui.getStrokeStyleDashed(1),this.useEnhancedLineCaps=!0}}function ai(){const u=new qn;return u.config(new ui),u}class ci extends tn{constructor(e={}){super(e),this.config=e,this.DEFAULT_CONFIG={curveType:Gi,interactive:!0,areaClass:"nui-chart-area",markerInteraction:ii},this.config=vn()(this.config,this.DEFAULT_CONFIG)}draw(e,t){var n,i,s;const a=e.containers[kt.n.data],c=e.dataSeries.accessors;let f=a.select(`path.${this.config.areaClass}`);if(f.empty()){if(!this.config.areaClass)throw new Error("areaClass is not defined");f=a.append("path").classed(this.config.areaClass,!0).attrs({fill:null===(i=(n=c.series).color)||void 0===i?void 0:i.call(n,e.dataSeries.id,e.dataSeries)}).style("stroke-width",null!==(s=this.config.strokeWidth)&&void 0!==s?s:1)}this.drawArea(e,f)}drawArea(e,t){var n;const i=e.dataSeries,s=i.accessors;let a=!1;const c=i.data.filter((_,E)=>{var G,ct,Nt,Ft,Wt,Yt,Se,Je;const In=void 0!==(null===(ct=(G=s.data).absoluteX0)||void 0===ct?void 0:ct.call(G,_,E,i.data,i))&&void 0!==(null===(Ft=(Nt=s.data).absoluteX1)||void 0===Ft?void 0:Ft.call(Nt,_,E,i.data,i))&&void 0!==(null===(Yt=(Wt=s.data).absoluteY0)||void 0===Yt?void 0:Yt.call(Wt,_,E,i.data,i))&&void 0!==(null===(Je=(Se=s.data).absoluteY1)||void 0===Je?void 0:Je.call(Se,_,E,i.data,i));return!In&&!a&&(console.warn("Data point",_,"was skipped as accessors didn't manage to extract any data."),console.warn(" -> accessors.data.x0:",s.data.x0),console.warn(" -> accessors.data.y0:",s.data.y0),console.warn(" -> accessors.data.x1:",s.data.x1),console.warn(" -> accessors.data.y1:",s.data.y1),a=!0),In});if(!this.config.curveType)throw new Error("curveType is not defined");const f=function bn(){var u=Pi,e=null,t=(0,un.Z)(0),n=tr,i=(0,un.Z)(!0),s=null,a=Gi,c=null;function f(E){var G,ct,Nt,Wt,Se,Ft=E.length,Yt=!1,Je=new Array(Ft),In=new Array(Ft);for(null==s&&(c=a(Se=(0,gi.Z)())),G=0;G<=Ft;++G){if(!(G<Ft&&i(Wt=E[G],G,E))===Yt)if(Yt=!Yt)ct=G,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),Nt=G-1;Nt>=ct;--Nt)c.point(Je[Nt],In[Nt]);c.lineEnd(),c.areaEnd()}Yt&&(Je[G]=+u(Wt,G,E),In[G]=+t(Wt,G,E),c.point(e?+e(Wt,G,E):Je[G],n?+n(Wt,G,E):In[G]))}if(Se)return c=null,Se+""||null}function _(){return Ri().defined(i).curve(a).context(s)}return f.x=function(E){return arguments.length?(u="function"==typeof E?E:(0,un.Z)(+E),e=null,f):u},f.x0=function(E){return arguments.length?(u="function"==typeof E?E:(0,un.Z)(+E),f):u},f.x1=function(E){return arguments.length?(e=null==E?null:"function"==typeof E?E:(0,un.Z)(+E),f):e},f.y=function(E){return arguments.length?(t="function"==typeof E?E:(0,un.Z)(+E),n=null,f):t},f.y0=function(E){return arguments.length?(t="function"==typeof E?E:(0,un.Z)(+E),f):t},f.y1=function(E){return arguments.length?(n=null==E?null:"function"==typeof E?E:(0,un.Z)(+E),f):n},f.lineX0=f.lineY0=function(){return _().x(u).y(t)},f.lineY1=function(){return _().x(u).y(n)},f.lineX1=function(){return _().x(e).y(t)},f.defined=function(E){return arguments.length?(i="function"==typeof E?E:(0,un.Z)(!!E),f):i},f.curve=function(E){return arguments.length?(a=E,null!=s&&(c=a(s)),f):a},f.context=function(E){return arguments.length?(null==E?s=c=null:c=a(s=E),f):s},f}().x0((_,E)=>{var G,ct;return this.safetyCheck(e.scales.x.convert(null===(ct=(G=s.data).absoluteX0)||void 0===ct?void 0:ct.call(G,_,E,i.data,i)))}).x1((_,E)=>{var G,ct;return this.safetyCheck(e.scales.x.convert(null===(ct=(G=s.data).absoluteX1)||void 0===ct?void 0:ct.call(G,_,E,i.data,i)))}).y0((_,E)=>{var G,ct;return this.safetyCheck(e.scales.y.convert(null===(ct=(G=s.data).absoluteY0)||void 0===ct?void 0:ct.call(G,_,E,i.data,i)))}).y1((_,E)=>{var G,ct;return this.safetyCheck(e.scales.y.convert(null===(ct=(G=s.data).absoluteY1)||void 0===ct?void 0:ct.call(G,_,E,i.data,i)))}).curve(this.config.curveType);t.attr("d",null!==(n=f(c))&&void 0!==n?n:"")}getDomain(e,t,n,i){if(!e||0===e.length)return it.iz;const s=t.accessors.data;if("x"!==n&&"y"!==n)return[void 0,void 0];const a=s[`absolute${n.toUpperCase()}0`],c=s[`absolute${n.toUpperCase()}1`];return[(0,Ln.VV)(e,(f,_,E)=>(0,Ln.VV)([null==a?void 0:a(f,_,E,t),null==c?void 0:c(f,_,E,t)])),(0,Ln.Fp)(e,(f,_,E)=>(0,Ln.Fp)([null==a?void 0:a(f,_,E,t),null==c?void 0:c(f,_,E,t)]))]}getRequiredLayers(){return[gt.rz[kt.n.data],gt.rz[kt.n.foreground]]}filterDataByDomain(e,t,n,i){const s=t.accessors.data[n+"0"],a=t.accessors.data[n+"1"];return e.filter((c,f)=>{const _=null==s?void 0:s(c,f,e,t),E=null==a?void 0:a(c,f,e,t);return Math.max(_,E)>=i[0]&&Math.min(_,E)<=i[1]})}highlightDataPoint(e,t,n){e.dataSeries.accessors.series.marker&&this.config.interactive&&Ci.manageMarker(e.dataSeries,e.scales,t,e.containers[kt.n.foreground],n,this.config.markerInteraction)}safetyCheck(e){return void 0===e||isNaN(e)?0:e}}function Ji(u){return function hi(u,e){if(0===u.length)return u;const t={};for(const s of u){if(!1===s.preprocess)continue;const a=s.accessors.data.x,c=s.accessors.data.y0,f=s.accessors.data.y1,_=e(s)?1:0;s.data.forEach((E,G)=>{const ct=a(E,G,s.data,s),Nt=null==c?void 0:c(E,G,s.data,s),Wt=((null==f?void 0:f(E,G,s.data,s))-Nt)*_;let Yt=t[ct.valueOf()];void 0===Yt&&(Yt=0,t[ct.valueOf()]=Yt);const Se=Yt+Wt;t[ct.valueOf()]=Se,E.__stack_y={start:Yt,end:Se}})}return u}(u,e=>!this.isSeriesHidden(e.id))}function Xr(u){return function Ir(u,e){if(0===u.length)return u;const t={},n={};for(const a of u)Qr("x","y",a,e,n);for(const a of u)Jr("x","y",a,e,t,n);return u}(u,e=>!this.isSeriesHidden(e.id))}function Qr(u,e,t,n,i){const s=t.accessors.data[u],a=t.accessors.data[e+"0"],c=t.accessors.data[e+"1"],f=n(t)?1:0;t.data.forEach((_,E)=>{const G=s(_,E,t.data,t),ct=null==a?void 0:a(_,E,t.data,t),Ft=((null==c?void 0:c(_,E,t.data,t))-ct)*f;let Wt=i[G.valueOf()];void 0===Wt&&(Wt=0,i[G.valueOf()]=Wt),i[G.valueOf()]=Wt+Ft})}function Jr(u,e,t,n,i,s){const a=t.accessors.data[u],c=t.accessors.data[e+"0"],f=t.accessors.data[e+"1"],_=n(t)?1:0;t.data.forEach((E,G)=>{const ct=a(E,G,t.data,t),Nt=null==c?void 0:c(E,G,t.data,t),Wt=((null==f?void 0:f(E,G,t.data,t))-Nt)*_;let Yt=i[ct.valueOf()];void 0===Yt&&(Yt=0,i[ct.valueOf()]=Yt);const Je=Yt+Wt/s[ct.valueOf()]*100;i[ct.valueOf()]=Je,E["__stack_"+e]={start:Yt,end:Je}})}function qr(u,e){const t=new Fn(u,e);return t.data.x=n=>n.x,t.data.y=t.data.absoluteY1,t.data.y0=()=>0,t.data.y1=n=>n.y,t}function ts(u=new K){return u.axis.left.visible=!1,u.axis.left.gridTicks=!1,u.dimension.padding.bottom=5,u.dimension.autoHeight=!1,u.dimension.height(20),u}function es(u=new K){return u.axis.bottom.visible=!1,u.dimension.margin.bottom=0,u.dimension.padding.bottom=5,u}},33335:(Rt,pt,o)=>{"use strict";o.d(pt,{E:()=>V,G:()=>B});var v=o(84524),O=o(69754),m=o.n(O),L=o(34235),Y=o.n(L),k=o(92893),et=o(2158),w=o(13431),D=o(68208);const B={annularWidth:20,annularPadding:5,maxThickness:30,annularGrowth:.15,cursor:"default",enableSeriesHighlighting:!0,enableDataPointHighlighting:!0};class V extends et.T{constructor(T={}){super(T),this.config=T,this.config=m()(this.config,B)}draw(T,A){const R=T.containers[D.n.data],J=T.dataSeries.data,H=T.dataSeries.accessors;this.segmentWidth=this.getSegmentWidth(T);const j=R.selectAll("path.arc").data(J);j.exit().remove(),j.enter().append("path").attr("class","arc pointer-events nui-chart--path__outline").style("stroke-width",this.config.strokeWidth).style("cursor",this.config.cursor).on("mouseenter",(ht,z)=>{this.emitDataPointHighlight(T,ht,z,A)}).on("mouseleave",(ht,z)=>{this.emitDataPointHighlight(T,null,k.hZ,A)}).on("click",(ht,z)=>{A.next({eventName:k.q7,data:{seriesId:T.dataSeries.id,index:z,data:ht.data,position:this.getDataPointPosition(T.dataSeries,z,T.scales)}})}).merge(j).attr("d",(ht,z)=>this.getArc(T.scales.r.range(),(0,v.Z)(),z)(ht)).attr("fill",(ht,z)=>{var St,lt;return H.data.color?H.data.color(ht.data,z,J,T.dataSeries):null===(lt=(St=H.series).color)||void 0===lt?void 0:lt.call(St,T.dataSeries.id,T.dataSeries)})}getDataPointPosition(T,A,R){if(A<0)return;const J=T.data[A],rt=this.getArc(R.r.range(),(0,v.Z)(),A).centroid(J);return{x:rt[0],y:rt[1],width:0,height:0}}getInnerRadius(T,A){if(Y()(this.segmentWidth)||Y()(this.config.annularPadding))throw new Error("Can't compute inner radius");const R=T[1]-T[0]-this.segmentWidth-A*(this.config.annularPadding+this.segmentWidth);return R>=0?R:0}getOuterRadius(T,A){if(Y()(this.segmentWidth)||Y()(this.config.annularPadding))throw new Error("Can't compute outer radius");const R=T[1]-T[0]-A*(this.config.annularPadding+this.segmentWidth);return R>=0?R:0}getArc(T,A,R){const J=this.getInnerRadius(T,R);return A.outerRadius(this.getOuterRadius(T,R)).innerRadius(J)}getSegmentWidth(T){return this.config.maxThickness&&this.config.annularGrowth?Math.min((T.scales.r.range()[1]-T.scales.r.range()[0])*this.config.annularGrowth,this.config.maxThickness):this.config.annularWidth}emitDataPointHighlight(T,A,R,J){const H=this.getDataPointPosition(T.dataSeries,R,T.scales),rt={seriesId:T.dataSeries.id,dataSeries:T.dataSeries,index:R,data:A,position:H};this.config.enableSeriesHighlighting&&J.next({eventName:k.TC,data:rt}),this.config.enableDataPointHighlighting&&J.next({eventName:k.Rj,data:rt}),J.next({eventName:k.C1,data:{interactionType:w.s.MouseMove,dataPoints:{[T.dataSeries.id]:rt}}})}}},68208:(Rt,pt,o)=>{"use strict";o.d(pt,{L:()=>v,n:()=>O});var v=(()=>{return(m=v||(v={})).hidden="hidden",m.deemphasized="deemphasized",m.emphasized="emphasized",m.default="default",v;var m})(),O=(()=>{return(m=O||(O={})).background="background",m.data="data",m.unclippedData="unclipped-data",m.foreground="foreground",O;var m})()},62225:(Rt,pt,o)=>{"use strict";function v(lt,vt){return lt<vt?-1:lt>vt?1:lt>=vt?0:NaN}function O(lt){return 1===lt.length&&(lt=function m(lt){return function(vt,At){return v(lt(vt),At)}}(lt)),{left:function(vt,At,ut,ot){for(null==ut&&(ut=0),null==ot&&(ot=vt.length);ut<ot;){var nt=ut+ot>>>1;lt(vt[nt],At)<0?ut=nt+1:ot=nt}return ut},right:function(vt,At,ut,ot){for(null==ut&&(ut=0),null==ot&&(ot=vt.length);ut<ot;){var nt=ut+ot>>>1;lt(vt[nt],At)>0?ot=nt:ut=nt+1}return ut}}}o.d(pt,{b4:()=>et,YF:()=>O,We:()=>w,Fp:()=>ht,VV:()=>z,w6:()=>St,G9:()=>J,ly:()=>H,sd:()=>R});const et=O(v).right;function w(lt,vt){var ot,nt,Zt,At=lt.length,ut=-1;if(null==vt){for(;++ut<At;)if(null!=(ot=lt[ut])&&ot>=ot)for(nt=Zt=ot;++ut<At;)null!=(ot=lt[ut])&&(nt>ot&&(nt=ot),Zt<ot&&(Zt=ot))}else for(;++ut<At;)if(null!=(ot=vt(lt[ut],ut,lt))&&ot>=ot)for(nt=Zt=ot;++ut<At;)null!=(ot=vt(lt[ut],ut,lt))&&(nt>ot&&(nt=ot),Zt<ot&&(Zt=ot));return[nt,Zt]}var W=Math.sqrt(50),T=Math.sqrt(10),A=Math.sqrt(2);function R(lt,vt,At){var ut,nt,Zt,$t,ot=-1;if(At=+At,(lt=+lt)==(vt=+vt)&&At>0)return[lt];if((ut=vt<lt)&&(nt=lt,lt=vt,vt=nt),0===($t=J(lt,vt,At))||!isFinite($t))return[];if($t>0)for(lt=Math.ceil(lt/$t),vt=Math.floor(vt/$t),Zt=new Array(nt=Math.ceil(vt-lt+1));++ot<nt;)Zt[ot]=(lt+ot)*$t;else for(lt=Math.floor(lt*$t),vt=Math.ceil(vt*$t),Zt=new Array(nt=Math.ceil(lt-vt+1));++ot<nt;)Zt[ot]=(lt-ot)/$t;return ut&&Zt.reverse(),Zt}function J(lt,vt,At){var ut=(vt-lt)/Math.max(0,At),ot=Math.floor(Math.log(ut)/Math.LN10),nt=ut/Math.pow(10,ot);return ot>=0?(nt>=W?10:nt>=T?5:nt>=A?2:1)*Math.pow(10,ot):-Math.pow(10,-ot)/(nt>=W?10:nt>=T?5:nt>=A?2:1)}function H(lt,vt,At){var ut=Math.abs(vt-lt)/Math.max(0,At),ot=Math.pow(10,Math.floor(Math.log(ut)/Math.LN10)),nt=ut/ot;return nt>=W?ot*=10:nt>=T?ot*=5:nt>=A&&(ot*=2),vt<lt?-ot:ot}function ht(lt,vt){var ot,nt,At=lt.length,ut=-1;if(null==vt){for(;++ut<At;)if(null!=(ot=lt[ut])&&ot>=ot)for(nt=ot;++ut<At;)null!=(ot=lt[ut])&&ot>nt&&(nt=ot)}else for(;++ut<At;)if(null!=(ot=vt(lt[ut],ut,lt))&&ot>=ot)for(nt=ot;++ut<At;)null!=(ot=vt(lt[ut],ut,lt))&&ot>nt&&(nt=ot);return nt}function z(lt,vt){var ot,nt,At=lt.length,ut=-1;if(null==vt){for(;++ut<At;)if(null!=(ot=lt[ut])&&ot>=ot)for(nt=ot;++ut<At;)null!=(ot=lt[ut])&&nt>ot&&(nt=ot)}else for(;++ut<At;)if(null!=(ot=vt(lt[ut],ut,lt))&&ot>=ot)for(nt=ot;++ut<At;)null!=(ot=vt(lt[ut],ut,lt))&&nt>ot&&(nt=ot);return nt}function St(lt,vt,At){lt=+lt,vt=+vt,At=(ot=arguments.length)<2?(vt=lt,lt=0,1):ot<3?1:+At;for(var ut=-1,ot=0|Math.max(0,Math.ceil((vt-lt)/At)),nt=new Array(ot);++ut<ot;)nt[ut]=lt+ut*At;return nt}},24099:(Rt,pt,o)=>{"use strict";o.d(pt,{Yu:()=>X});var v=o(25922),O=o(52016),m=o(61746);function Y(){m.B.preventDefault(),m.B.stopImmediatePropagation()}function k(It){var he=It.document.documentElement,Ce=(0,O.Z)(It).on("dragstart.drag",Y,!0);"onselectstart"in he?Ce.on("selectstart.drag",Y,!0):(he.__noselect=he.style.MozUserSelect,he.style.MozUserSelect="none")}function et(It,he){var Ce=It.document.documentElement,Ke=(0,O.Z)(It).on("dragstart.drag",null);he&&(Ke.on("click.drag",Y,!0),setTimeout(function(){Ke.on("click.drag",null)},0)),"onselectstart"in Ce?Ke.on("selectstart.drag",null):(Ce.style.MozUserSelect=Ce.__noselect,delete Ce.__noselect)}var w=o(82180),D=o(75819),B=o(25941),W=o(66073),T=o(64747);function A(It){return function(){return It}}function R(It,he,Ce){this.target=It,this.type=he,this.selection=Ce}function J(){m.B.stopImmediatePropagation()}function H(){m.B.preventDefault(),m.B.stopImmediatePropagation()}var rt={name:"drag"},j={name:"space"},ht={name:"handle"},z={name:"center"};function St(It){return[+It[0],+It[1]]}function lt(It){return[St(It[0]),St(It[1])]}function vt(It){return function(he){return function V(It,he,Ce){arguments.length<3&&(Ce=he,he=(0,D.Z)().changedTouches);for(var Mn,Ke=0,gn=he?he.length:0;Ke<gn;++Ke)if((Mn=he[Ke]).identifier===Ce)return(0,B.Z)(It,Mn);return null}(he,m.B.touches,It)}}var At={name:"x",handles:["w","e"].map(ye),input:function(It,he){return null==It?null:[[+It[0],he[0][1]],[+It[1],he[1][1]]]},output:function(It){return It&&[It[0][0],It[1][0]]}},ut={name:"y",handles:["n","s"].map(ye),input:function(It,he){return null==It?null:[[he[0][0],+It[0]],[he[1][0],+It[1]]]},output:function(It){return It&&[It[0][1],It[1][1]]}},nt=(["n","w","e","s","nw","ne","sw","se"].map(ye),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Zt={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},$t={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ue={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ce={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ye(It){return{type:It}}function it(){return!m.B.ctrlKey&&!m.B.button}function wt(){var It=this.ownerSVGElement||this;return It.hasAttribute("viewBox")?[[(It=It.viewBox.baseVal).x,It.y],[It.x+It.width,It.y+It.height]]:[[0,0],[It.width.baseVal.value,It.height.baseVal.value]]}function Vt(){return navigator.maxTouchPoints||"ontouchstart"in this}function ee(It){for(;!It.__brush;)if(!(It=It.parentNode))return;return It.__brush}function Be(It){return It[0][0]===It[1][0]||It[0][1]===It[1][1]}function X(){return function pe(It){var Vn,he=wt,Ce=it,Ke=Vt,gn=!0,Mn=(0,v.Z)("start","brush","end"),Rn=6;function je(ne){var ve=ne.property("__brush",xi).selectAll(".overlay").data([ye("overlay")]);ve.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",nt.overlay).merge(ve).each(function(){var re=ee(this).extent;(0,O.Z)(this).attr("x",re[0][0]).attr("y",re[0][1]).attr("width",re[1][0]-re[0][0]).attr("height",re[1][1]-re[0][1])}),ne.selectAll(".selection").data([ye("selection")]).enter().append("rect").attr("class","selection").attr("cursor",nt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var we=ne.selectAll(".handle").data(It.handles,function(re){return re.type});we.exit().remove(),we.enter().append("rect").attr("class",function(re){return"handle handle--"+re.type}).attr("cursor",function(re){return nt[re.type]}),ne.each(On).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",ni).filter(Ke).on("touchstart.brush",ni).on("touchmove.brush",De).on("touchend.brush touchcancel.brush",Gn).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function On(){var ne=(0,O.Z)(this),ve=ee(this).selection;ve?(ne.selectAll(".selection").style("display",null).attr("x",ve[0][0]).attr("y",ve[0][1]).attr("width",ve[1][0]-ve[0][0]).attr("height",ve[1][1]-ve[0][1]),ne.selectAll(".handle").style("display",null).attr("x",function(we){return"e"===we.type[we.type.length-1]?ve[1][0]-Rn/2:ve[0][0]-Rn/2}).attr("y",function(we){return"s"===we.type[0]?ve[1][1]-Rn/2:ve[0][1]-Rn/2}).attr("width",function(we){return"n"===we.type||"s"===we.type?ve[1][0]-ve[0][0]+Rn:Rn}).attr("height",function(we){return"e"===we.type||"w"===we.type?ve[1][1]-ve[0][1]+Rn:Rn})):ne.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function hn(ne,ve,we){var re=ne.__brush.emitter;return!re||we&&re.clean?new $n(ne,ve,we):re}function $n(ne,ve,we){this.that=ne,this.args=ve,this.state=ne.__brush,this.active=0,this.clean=we}function ni(){if((!Vn||m.B.touches)&&Ce.apply(this,arguments)){var sn,$e,pn,mn,an,xn,on,En,vn,$,bt,ne=this,ve=m.B.target.__data__.type,we="selection"===(gn&&m.B.metaKey?ve="overlay":ve)?rt:gn&&m.B.altKey?z:ht,re=It===ut?null:ue[ve],Ye=It===At?null:ce[ve],_n=ee(ne),Tn=_n.extent,rn=_n.selection,Ve=Tn[0][0],Fn=Tn[0][1],Wn=Tn[1][0],Ln=Tn[1][1],ze=0,_e=0,dn=re&&Ye&&gn&&m.B.shiftKey,jt=m.B.touches?vt(m.B.changedTouches[0].identifier):W.Z,gt=jt(ne),Kt=gt,ie=hn(ne,arguments,!0).beforestart();"overlay"===ve?(rn&&(vn=!0),_n.selection=rn=[[sn=It===ut?Ve:gt[0],pn=It===At?Fn:gt[1]],[an=It===ut?Wn:sn,on=It===At?Ln:pn]]):(sn=rn[0][0],pn=rn[0][1],an=rn[1][0],on=rn[1][1]),$e=sn,mn=pn,xn=an,En=on;var kt=(0,O.Z)(ne).attr("pointer-events","none"),se=kt.selectAll(".overlay").attr("cursor",nt[ve]);if(m.B.touches)ie.moved=Le,ie.ended=ln;else{var Pe=(0,O.Z)(m.B.view).on("mousemove.brush",Le,!0).on("mouseup.brush",ln,!0);gn&&Pe.on("keydown.brush",Bn,!0).on("keyup.brush",Ne,!0),k(m.B.view)}J(),(0,T.e1)(ne),On.call(ne),ie.start()}function Le(){var tn=jt(ne);dn&&!$&&!bt&&(Math.abs(tn[0]-Kt[0])>Math.abs(tn[1]-Kt[1])?bt=!0:$=!0),Kt=tn,vn=!0,H(),Xe()}function Xe(){var tn;switch(ze=Kt[0]-gt[0],_e=Kt[1]-gt[1],we){case j:case rt:re&&(ze=Math.max(Ve-sn,Math.min(Wn-an,ze)),$e=sn+ze,xn=an+ze),Ye&&(_e=Math.max(Fn-pn,Math.min(Ln-on,_e)),mn=pn+_e,En=on+_e);break;case ht:re<0?(ze=Math.max(Ve-sn,Math.min(Wn-sn,ze)),$e=sn+ze,xn=an):re>0&&(ze=Math.max(Ve-an,Math.min(Wn-an,ze)),$e=sn,xn=an+ze),Ye<0?(_e=Math.max(Fn-pn,Math.min(Ln-pn,_e)),mn=pn+_e,En=on):Ye>0&&(_e=Math.max(Fn-on,Math.min(Ln-on,_e)),mn=pn,En=on+_e);break;case z:re&&($e=Math.max(Ve,Math.min(Wn,sn-ze*re)),xn=Math.max(Ve,Math.min(Wn,an+ze*re))),Ye&&(mn=Math.max(Fn,Math.min(Ln,pn-_e*Ye)),En=Math.max(Fn,Math.min(Ln,on+_e*Ye)))}xn<$e&&(re*=-1,tn=sn,sn=an,an=tn,tn=$e,$e=xn,xn=tn,ve in Zt&&se.attr("cursor",nt[ve=Zt[ve]])),En<mn&&(Ye*=-1,tn=pn,pn=on,on=tn,tn=mn,mn=En,En=tn,ve in $t&&se.attr("cursor",nt[ve=$t[ve]])),_n.selection&&(rn=_n.selection),$&&($e=rn[0][0],xn=rn[1][0]),bt&&(mn=rn[0][1],En=rn[1][1]),(rn[0][0]!==$e||rn[0][1]!==mn||rn[1][0]!==xn||rn[1][1]!==En)&&(_n.selection=[[$e,mn],[xn,En]],On.call(ne),ie.brush())}function ln(){if(J(),m.B.touches){if(m.B.touches.length)return;Vn&&clearTimeout(Vn),Vn=setTimeout(function(){Vn=null},500)}else et(m.B.view,vn),Pe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);kt.attr("pointer-events","all"),se.attr("cursor",nt.overlay),_n.selection&&(rn=_n.selection),Be(rn)&&(_n.selection=null,On.call(ne)),ie.end()}function Bn(){switch(m.B.keyCode){case 16:dn=re&&Ye;break;case 18:we===ht&&(re&&(an=xn-ze*re,sn=$e+ze*re),Ye&&(on=En-_e*Ye,pn=mn+_e*Ye),we=z,Xe());break;case 32:(we===ht||we===z)&&(re<0?an=xn-ze:re>0&&(sn=$e-ze),Ye<0?on=En-_e:Ye>0&&(pn=mn-_e),we=j,se.attr("cursor",nt.selection),Xe());break;default:return}H()}function Ne(){switch(m.B.keyCode){case 16:dn&&($=bt=dn=!1,Xe());break;case 18:we===z&&(re<0?an=xn:re>0&&(sn=$e),Ye<0?on=En:Ye>0&&(pn=mn),we=ht,Xe());break;case 32:we===j&&(m.B.altKey?(re&&(an=xn-ze*re,sn=$e+ze*re),Ye&&(on=En-_e*Ye,pn=mn+_e*Ye),we=z):(re<0?an=xn:re>0&&(sn=$e),Ye<0?on=En:Ye>0&&(pn=mn),we=ht),se.attr("cursor",nt[ve]),Xe());break;default:return}H()}}function De(){hn(this,arguments).moved()}function Gn(){hn(this,arguments).ended()}function xi(){var ne=this.__brush||{selection:null};return ne.extent=lt(he.apply(this,arguments)),ne.dim=It,ne}return je.move=function(ne,ve){ne.selection?ne.on("start.brush",function(){hn(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){hn(this,arguments).end()}).tween("brush",function(){var we=this,re=we.__brush,Ye=hn(we,arguments),_n=re.selection,Tn=It.input("function"==typeof ve?ve.apply(this,arguments):ve,re.extent),rn=(0,w.Z)(_n,Tn);function Ve(sn){re.selection=1===sn&&null===Tn?null:rn(sn),On.call(we),Ye.brush()}return null!==_n&&null!==Tn?Ve:Ve(1)}):ne.each(function(){var we=this,re=arguments,Ye=we.__brush,_n=It.input("function"==typeof ve?ve.apply(we,re):ve,Ye.extent),Tn=hn(we,re).beforestart();(0,T.e1)(we),Ye.selection=null===_n?null:_n,On.call(we),Tn.start().brush().end()})},je.clear=function(ne){je.move(ne,null)},$n.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(ne){(0,m._H)(new R(je,ne,It.output(this.state.selection)),Mn.apply,Mn,[ne,this.that,this.args])}},je.extent=function(ne){return arguments.length?(he="function"==typeof ne?ne:A(lt(ne)),je):he},je.filter=function(ne){return arguments.length?(Ce="function"==typeof ne?ne:A(!!ne),je):Ce},je.touchable=function(ne){return arguments.length?(Ke="function"==typeof ne?ne:A(!!ne),je):Ke},je.handleSize=function(ne){return arguments.length?(Rn=+ne,je):Rn},je.keyModifiers=function(ne){return arguments.length?(gn=!!ne,je):gn},je.on=function(){var ne=Mn.on.apply(Mn,arguments);return ne===Mn?je:ne},je}(At)}},88097:(Rt,pt,o)=>{"use strict";o.d(pt,{UI:()=>L});var v="$";function O(){}function m(A,R){var J=new O;if(A instanceof O)A.each(function(z,St){J.set(St,z)});else if(Array.isArray(A)){var j,H=-1,rt=A.length;if(null==R)for(;++H<rt;)J.set(H,A[H]);else for(;++H<rt;)J.set(R(j=A[H],H,A),j)}else if(A)for(var ht in A)J.set(ht,A[ht]);return J}O.prototype=m.prototype={constructor:O,has:function(A){return v+A in this},get:function(A){return this[v+A]},set:function(A,R){return this[v+A]=R,this},remove:function(A){var R=v+A;return R in this&&delete this[R]},clear:function(){for(var A in this)A[0]===v&&delete this[A]},keys:function(){var A=[];for(var R in this)R[0]===v&&A.push(R.slice(1));return A},values:function(){var A=[];for(var R in this)R[0]===v&&A.push(this[R]);return A},entries:function(){var A=[];for(var R in this)R[0]===v&&A.push({key:R.slice(1),value:this[R]});return A},size:function(){var A=0;for(var R in this)R[0]===v&&++A;return A},empty:function(){for(var A in this)if(A[0]===v)return!1;return!0},each:function(A){for(var R in this)R[0]===v&&A(this[R],R.slice(1),this)}};const L=m;function B(){}var V=L.prototype;B.prototype=function W(A,R){var J=new B;if(A instanceof B)A.each(function(j){J.add(j)});else if(A){var H=-1,rt=A.length;if(null==R)for(;++H<rt;)J.add(A[H]);else for(;++H<rt;)J.add(R(A[H],H,A))}return J}.prototype={constructor:B,has:V.has,add:function(A){return this[v+(A+="")]=A,this},remove:V.remove,clear:V.clear,values:V.keys,size:V.size,empty:V.empty,each:V.each}},25922:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>et});var v={value:function(){}};function O(){for(var V,w=0,D=arguments.length,B={};w<D;++w){if(!(V=arguments[w]+"")||V in B||/[\s.]/.test(V))throw new Error("illegal type: "+V);B[V]=[]}return new m(B)}function m(w){this._=w}function L(w,D){return w.trim().split(/^|\s+/).map(function(B){var V="",W=B.indexOf(".");if(W>=0&&(V=B.slice(W+1),B=B.slice(0,W)),B&&!D.hasOwnProperty(B))throw new Error("unknown type: "+B);return{type:B,name:V}})}function Y(w,D){for(var W,B=0,V=w.length;B<V;++B)if((W=w[B]).name===D)return W.value}function k(w,D,B){for(var V=0,W=w.length;V<W;++V)if(w[V].name===D){w[V]=v,w=w.slice(0,V).concat(w.slice(V+1));break}return null!=B&&w.push({name:D,value:B}),w}m.prototype=O.prototype={constructor:m,on:function(w,D){var W,B=this._,V=L(w+"",B),T=-1,A=V.length;if(!(arguments.length<2)){if(null!=D&&"function"!=typeof D)throw new Error("invalid callback: "+D);for(;++T<A;)if(W=(w=V[T]).type)B[W]=k(B[W],w.name,D);else if(null==D)for(W in B)B[W]=k(B[W],w.name,null);return this}for(;++T<A;)if((W=(w=V[T]).type)&&(W=Y(B[W],w.name)))return W},copy:function(){var w={},D=this._;for(var B in D)w[B]=D[B].slice();return new m(w)},call:function(w,D){if((W=arguments.length-2)>0)for(var W,T,B=new Array(W),V=0;V<W;++V)B[V]=arguments[V+2];if(!this._.hasOwnProperty(w))throw new Error("unknown type: "+w);for(V=0,W=(T=this._[w]).length;V<W;++V)T[V].value.apply(D,B)},apply:function(w,D,B){if(!this._.hasOwnProperty(w))throw new Error("unknown type: "+w);for(var V=this._[w],W=0,T=V.length;W<T;++W)V[W].value.apply(D,B)}};const et=O},85961:(Rt,pt,o)=>{"use strict";function v(it,wt,Vt){it.prototype=wt.prototype=Vt,Vt.constructor=it}function O(it,wt){var Vt=Object.create(it.prototype);for(var ee in wt)Vt[ee]=wt[ee];return Vt}function m(){}o.d(pt,{ZP:()=>ht,B8:()=>vt});var L=.7,Y=1/L,k="\\s*([+-]?\\d+)\\s*",et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",w="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D=/^#([0-9a-f]{3,8})$/,B=new RegExp("^rgb\\("+[k,k,k]+"\\)$"),V=new RegExp("^rgb\\("+[w,w,w]+"\\)$"),W=new RegExp("^rgba\\("+[k,k,k,et]+"\\)$"),T=new RegExp("^rgba\\("+[w,w,w,et]+"\\)$"),A=new RegExp("^hsl\\("+[et,w,w]+"\\)$"),R=new RegExp("^hsla\\("+[et,w,w,et]+"\\)$"),J={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function H(){return this.rgb().formatHex()}function j(){return this.rgb().formatRgb()}function ht(it){var wt,Vt;return it=(it+"").trim().toLowerCase(),(wt=D.exec(it))?(Vt=wt[1].length,wt=parseInt(wt[1],16),6===Vt?z(wt):3===Vt?new At(wt>>8&15|wt>>4&240,wt>>4&15|240&wt,(15&wt)<<4|15&wt,1):8===Vt?St(wt>>24&255,wt>>16&255,wt>>8&255,(255&wt)/255):4===Vt?St(wt>>12&15|wt>>8&240,wt>>8&15|wt>>4&240,wt>>4&15|240&wt,((15&wt)<<4|15&wt)/255):null):(wt=B.exec(it))?new At(wt[1],wt[2],wt[3],1):(wt=V.exec(it))?new At(255*wt[1]/100,255*wt[2]/100,255*wt[3]/100,1):(wt=W.exec(it))?St(wt[1],wt[2],wt[3],wt[4]):(wt=T.exec(it))?St(255*wt[1]/100,255*wt[2]/100,255*wt[3]/100,wt[4]):(wt=A.exec(it))?Zt(wt[1],wt[2]/100,wt[3]/100,1):(wt=R.exec(it))?Zt(wt[1],wt[2]/100,wt[3]/100,wt[4]):J.hasOwnProperty(it)?z(J[it]):"transparent"===it?new At(NaN,NaN,NaN,0):null}function z(it){return new At(it>>16&255,it>>8&255,255&it,1)}function St(it,wt,Vt,ee){return ee<=0&&(it=wt=Vt=NaN),new At(it,wt,Vt,ee)}function lt(it){return it instanceof m||(it=ht(it)),it?new At((it=it.rgb()).r,it.g,it.b,it.opacity):new At}function vt(it,wt,Vt,ee){return 1===arguments.length?lt(it):new At(it,wt,Vt,null==ee?1:ee)}function At(it,wt,Vt,ee){this.r=+it,this.g=+wt,this.b=+Vt,this.opacity=+ee}function ut(){return"#"+nt(this.r)+nt(this.g)+nt(this.b)}function ot(){var it=this.opacity;return(1===(it=isNaN(it)?1:Math.max(0,Math.min(1,it)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===it?")":", "+it+")")}function nt(it){return((it=Math.max(0,Math.min(255,Math.round(it)||0)))<16?"0":"")+it.toString(16)}function Zt(it,wt,Vt,ee){return ee<=0?it=wt=Vt=NaN:Vt<=0||Vt>=1?it=wt=NaN:wt<=0&&(it=NaN),new ce(it,wt,Vt,ee)}function $t(it){if(it instanceof ce)return new ce(it.h,it.s,it.l,it.opacity);if(it instanceof m||(it=ht(it)),!it)return new ce;if(it instanceof ce)return it;var wt=(it=it.rgb()).r/255,Vt=it.g/255,ee=it.b/255,Be=Math.min(wt,Vt,ee),qe=Math.max(wt,Vt,ee),X=NaN,xt=qe-Be,Xt=(qe+Be)/2;return xt?(X=wt===qe?(Vt-ee)/xt+6*(Vt<ee):Vt===qe?(ee-wt)/xt+2:(wt-Vt)/xt+4,xt/=Xt<.5?qe+Be:2-qe-Be,X*=60):xt=Xt>0&&Xt<1?0:X,new ce(X,xt,Xt,it.opacity)}function ce(it,wt,Vt,ee){this.h=+it,this.s=+wt,this.l=+Vt,this.opacity=+ee}function ye(it,wt,Vt){return 255*(it<60?wt+(Vt-wt)*it/60:it<180?Vt:it<240?wt+(Vt-wt)*(240-it)/60:wt)}v(m,ht,{copy:function(it){return Object.assign(new this.constructor,this,it)},displayable:function(){return this.rgb().displayable()},hex:H,formatHex:H,formatHsl:function rt(){return $t(this).formatHsl()},formatRgb:j,toString:j}),v(At,vt,O(m,{brighter:function(it){return it=null==it?Y:Math.pow(Y,it),new At(this.r*it,this.g*it,this.b*it,this.opacity)},darker:function(it){return it=null==it?L:Math.pow(L,it),new At(this.r*it,this.g*it,this.b*it,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ut,formatHex:ut,formatRgb:ot,toString:ot})),v(ce,function ue(it,wt,Vt,ee){return 1===arguments.length?$t(it):new ce(it,wt,Vt,null==ee?1:ee)},O(m,{brighter:function(it){return it=null==it?Y:Math.pow(Y,it),new ce(this.h,this.s,this.l*it,this.opacity)},darker:function(it){return it=null==it?L:Math.pow(L,it),new ce(this.h,this.s,this.l*it,this.opacity)},rgb:function(){var it=this.h%360+360*(this.h<0),wt=isNaN(it)||isNaN(this.s)?0:this.s,Vt=this.l,ee=Vt+(Vt<.5?Vt:1-Vt)*wt,Be=2*Vt-ee;return new At(ye(it>=240?it-240:it+120,Be,ee),ye(it,Be,ee),ye(it<120?it+240:it-120,Be,ee),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var it=this.opacity;return(1===(it=isNaN(it)?1:Math.max(0,Math.min(1,it)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===it?")":", "+it+")")}}))},47927:(Rt,pt,o)=>{"use strict";function v(O){return function(){return O}}o.d(pt,{Z:()=>v})},6738:(Rt,pt,o)=>{"use strict";function v(O,m){return O=+O,m=+m,function(L){return O*(1-L)+m*L}}o.d(pt,{Z:()=>v})},23534:(Rt,pt,o)=>{"use strict";o.d(pt,{ZP:()=>V});var v=o(85961);function O(R,J,H,rt,j){var ht=R*R,z=ht*R;return((1-3*R+3*ht-z)*J+(4-6*ht+3*z)*H+(1+3*R+3*ht-3*z)*rt+z*j)/6}var Y=o(47927);function B(R,J){var H=J-R;return H?function k(R,J){return function(H){return R+H*J}}(R,H):(0,Y.Z)(isNaN(R)?J:R)}const V=function R(J){var H=function D(R){return 1==(R=+R)?B:function(J,H){return H-J?function et(R,J,H){return R=Math.pow(R,H),J=Math.pow(J,H)-R,H=1/H,function(rt){return Math.pow(R+rt*J,H)}}(J,H,R):(0,Y.Z)(isNaN(J)?H:J)}}(J);function rt(j,ht){var z=H((j=(0,v.B8)(j)).r,(ht=(0,v.B8)(ht)).r),St=H(j.g,ht.g),lt=H(j.b,ht.b),vt=B(j.opacity,ht.opacity);return function(At){return j.r=z(At),j.g=St(At),j.b=lt(At),j.opacity=vt(At),j+""}}return rt.gamma=R,rt}(1);function W(R){return function(J){var z,St,H=J.length,rt=new Array(H),j=new Array(H),ht=new Array(H);for(z=0;z<H;++z)St=(0,v.B8)(J[z]),rt[z]=St.r||0,j[z]=St.g||0,ht[z]=St.b||0;return rt=R(rt),j=R(j),ht=R(ht),St.opacity=1,function(lt){return St.r=rt(lt),St.g=j(lt),St.b=ht(lt),St+""}}}W(function m(R){var J=R.length-1;return function(H){var rt=H<=0?H=0:H>=1?(H=1,J-1):Math.floor(H*J),j=R[rt],ht=R[rt+1];return O((H-rt/J)*J,rt>0?R[rt-1]:2*j-ht,j,ht,rt<J-1?R[rt+2]:2*ht-j)}}),W(function L(R){var J=R.length;return function(H){var rt=Math.floor(((H%=1)<0?++H:H)*J);return O((H-rt/J)*J,R[(rt+J-1)%J],R[rt%J],R[(rt+1)%J],R[(rt+2)%J])}})},23096:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>k});var v=o(6738),O=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m=new RegExp(O.source,"g");function k(et,w){var B,V,W,D=O.lastIndex=m.lastIndex=0,T=-1,A=[],R=[];for(et+="",w+="";(B=O.exec(et))&&(V=m.exec(w));)(W=V.index)>D&&(W=w.slice(D,W),A[T]?A[T]+=W:A[++T]=W),(B=B[0])===(V=V[0])?A[T]?A[T]+=V:A[++T]=V:(A[++T]=null,R.push({i:T,x:(0,v.Z)(B,V)})),D=m.lastIndex;return D<w.length&&(W=w.slice(D),A[T]?A[T]+=W:A[++T]=W),A.length<2?R[0]?function Y(et){return function(w){return et(w)+""}}(R[0].x):function L(et){return function(){return et}}(w):(w=R.length,function(J){for(var rt,H=0;H<w;++H)A[(rt=R[H]).i]=rt.x(J);return A.join("")})}},82180:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>W});var v=o(85961),O=o(23534);function L(T,A){var j,R=A?A.length:0,J=T?Math.min(R,T.length):0,H=new Array(J),rt=new Array(R);for(j=0;j<J;++j)H[j]=W(T[j],A[j]);for(;j<R;++j)rt[j]=A[j];return function(ht){for(j=0;j<J;++j)rt[j]=H[j](ht);return rt}}function Y(T,A){var R=new Date;return T=+T,A=+A,function(J){return R.setTime(T*(1-J)+A*J),R}}var k=o(6738);function et(T,A){var H,R={},J={};for(H in(null===T||"object"!=typeof T)&&(T={}),(null===A||"object"!=typeof A)&&(A={}),A)H in T?R[H]=W(T[H],A[H]):J[H]=A[H];return function(rt){for(H in R)J[H]=R[H](rt);return J}}var w=o(23096),D=o(47927);function B(T,A){A||(A=[]);var H,R=T?Math.min(A.length,T.length):0,J=A.slice();return function(rt){for(H=0;H<R;++H)J[H]=T[H]*(1-rt)+A[H]*rt;return J}}function W(T,A){var J,R=typeof A;return null==A||"boolean"===R?(0,D.Z)(A):("number"===R?k.Z:"string"===R?(J=(0,v.ZP)(A))?(A=J,O.ZP):w.Z:A instanceof v.ZP?O.ZP:A instanceof Date?Y:function V(T){return ArrayBuffer.isView(T)&&!(T instanceof DataView)}(A)?B:Array.isArray(A)?L:"function"!=typeof A.valueOf&&"function"!=typeof A.toString||isNaN(A)?et:k.Z)(T,A)}},73066:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>et});var v=Math.PI,O=2*v,m=1e-6,L=O-m;function Y(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function k(){return new Y}Y.prototype=k.prototype={constructor:Y,moveTo:function(w,D){this._+="M"+(this._x0=this._x1=+w)+","+(this._y0=this._y1=+D)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(w,D){this._+="L"+(this._x1=+w)+","+(this._y1=+D)},quadraticCurveTo:function(w,D,B,V){this._+="Q"+ +w+","+ +D+","+(this._x1=+B)+","+(this._y1=+V)},bezierCurveTo:function(w,D,B,V,W,T){this._+="C"+ +w+","+ +D+","+ +B+","+ +V+","+(this._x1=+W)+","+(this._y1=+T)},arcTo:function(w,D,B,V,W){var T=this._x1,A=this._y1,R=(B=+B)-(w=+w),J=(V=+V)-(D=+D),H=T-w,rt=A-D,j=H*H+rt*rt;if((W=+W)<0)throw new Error("negative radius: "+W);if(null===this._x1)this._+="M"+(this._x1=w)+","+(this._y1=D);else if(j>m)if(Math.abs(rt*R-J*H)>m&&W){var ht=B-T,z=V-A,St=R*R+J*J,lt=ht*ht+z*z,vt=Math.sqrt(St),At=Math.sqrt(j),ut=W*Math.tan((v-Math.acos((St+j-lt)/(2*vt*At)))/2),ot=ut/At,nt=ut/vt;Math.abs(ot-1)>m&&(this._+="L"+(w+ot*H)+","+(D+ot*rt)),this._+="A"+W+","+W+",0,0,"+ +(rt*ht>H*z)+","+(this._x1=w+nt*R)+","+(this._y1=D+nt*J)}else this._+="L"+(this._x1=w)+","+(this._y1=D)},arc:function(w,D,B,V,W,T){w=+w,D=+D,T=!!T;var A=(B=+B)*Math.cos(V),R=B*Math.sin(V),J=w+A,H=D+R,rt=1^T,j=T?V-W:W-V;if(B<0)throw new Error("negative radius: "+B);null===this._x1?this._+="M"+J+","+H:(Math.abs(this._x1-J)>m||Math.abs(this._y1-H)>m)&&(this._+="L"+J+","+H),B&&(j<0&&(j=j%O+O),j>L?this._+="A"+B+","+B+",0,1,"+rt+","+(w-A)+","+(D-R)+"A"+B+","+B+",0,1,"+rt+","+(this._x1=J)+","+(this._y1=H):j>m&&(this._+="A"+B+","+B+",0,"+ +(j>=v)+","+rt+","+(this._x1=w+B*Math.cos(W))+","+(this._y1=D+B*Math.sin(W))))},rect:function(w,D,B,V){this._+="M"+(this._x0=this._x1=+w)+","+(this._y0=this._y1=+D)+"h"+ +B+"v"+ +V+"h"+-B+"Z"},toString:function(){return this._}};const et=k},93205:(Rt,pt,o)=>{"use strict";o.d(pt,{ti:()=>B,BY:()=>On,q2:()=>W,Xf:()=>Mr});var v=o(62225);function O(r,d){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(d).domain(r)}return this}var L=o(88097),Y=Array.prototype,k=Y.map,et=Y.slice,w={name:"implicit"};function D(){var r=(0,L.UI)(),d=[],I=[],S=w;function _t(Ct){var Mt=Ct+"",Bt=r.get(Mt);if(!Bt){if(S!==w)return S;r.set(Mt,Bt=d.push(Ct))}return I[(Bt-1)%I.length]}return _t.domain=function(Ct){if(!arguments.length)return d.slice();d=[],r=(0,L.UI)();for(var Lt,oe,Mt=-1,Bt=Ct.length;++Mt<Bt;)r.has(oe=(Lt=Ct[Mt])+"")||r.set(oe,d.push(Lt));return _t},_t.range=function(Ct){return arguments.length?(I=et.call(Ct),_t):I.slice()},_t.unknown=function(Ct){return arguments.length?(S=Ct,_t):S},_t.copy=function(){return D(d,I).unknown(S)},O.apply(_t,arguments),_t}function B(){var _t,Ct,r=D().unknown(void 0),d=r.domain,I=r.range,S=[0,1],Mt=!1,Bt=0,Lt=0,oe=.5;function fe(){var qt=d().length,de=S[1]<S[0],me=S[de-0],Sn=S[1-de];_t=(Sn-me)/Math.max(1,qt-Bt+2*Lt),Mt&&(_t=Math.floor(_t)),me+=(Sn-me-_t*(qt-Bt))*oe,Ct=_t*(1-Bt),Mt&&(me=Math.round(me),Ct=Math.round(Ct));var yn=(0,v.w6)(qt).map(function(Dn){return me+_t*Dn});return I(de?yn.reverse():yn)}return delete r.unknown,r.domain=function(qt){return arguments.length?(d(qt),fe()):d()},r.range=function(qt){return arguments.length?(S=[+qt[0],+qt[1]],fe()):S.slice()},r.rangeRound=function(qt){return S=[+qt[0],+qt[1]],Mt=!0,fe()},r.bandwidth=function(){return Ct},r.step=function(){return _t},r.round=function(qt){return arguments.length?(Mt=!!qt,fe()):Mt},r.padding=function(qt){return arguments.length?(Bt=Math.min(1,Lt=+qt),fe()):Bt},r.paddingInner=function(qt){return arguments.length?(Bt=Math.min(1,qt),fe()):Bt},r.paddingOuter=function(qt){return arguments.length?(Lt=+qt,fe()):Lt},r.align=function(qt){return arguments.length?(oe=Math.max(0,Math.min(1,qt)),fe()):oe},r.copy=function(){return B(d(),S).round(Mt).paddingInner(Bt).paddingOuter(Lt).align(oe)},O.apply(fe(),arguments)}function V(r){var d=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return V(d())},r}function W(){return V(B.apply(null,arguments).paddingInner(1))}var T=o(82180),A=o(6738);function R(r,d){return r=+r,d=+d,function(I){return Math.round(r*(1-I)+d*I)}}function H(r){return+r}var rt=[0,1];function j(r){return r}function ht(r,d){return(d-=r=+r)?function(I){return(I-r)/d}:function J(r){return function(){return r}}(isNaN(d)?NaN:.5)}function z(r){var S,d=r[0],I=r[r.length-1];return d>I&&(S=d,d=I,I=S),function(_t){return Math.max(d,Math.min(I,_t))}}function St(r,d,I){var S=r[0],_t=r[1],Ct=d[0],Mt=d[1];return _t<S?(S=ht(_t,S),Ct=I(Mt,Ct)):(S=ht(S,_t),Ct=I(Ct,Mt)),function(Bt){return Ct(S(Bt))}}function lt(r,d,I){var S=Math.min(r.length,d.length)-1,_t=new Array(S),Ct=new Array(S),Mt=-1;for(r[S]<r[0]&&(r=r.slice().reverse(),d=d.slice().reverse());++Mt<S;)_t[Mt]=ht(r[Mt],r[Mt+1]),Ct[Mt]=I(d[Mt],d[Mt+1]);return function(Bt){var Lt=(0,v.b4)(r,Bt,1,S)-1;return Ct[Lt](_t[Lt](Bt))}}function vt(r,d){return d.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function ut(r,d){return function At(){var S,_t,Ct,Bt,Lt,oe,r=rt,d=rt,I=T.Z,Mt=j;function fe(){return Bt=Math.min(r.length,d.length)>2?lt:St,Lt=oe=null,qt}function qt(de){return isNaN(de=+de)?Ct:(Lt||(Lt=Bt(r.map(S),d,I)))(S(Mt(de)))}return qt.invert=function(de){return Mt(_t((oe||(oe=Bt(d,r.map(S),A.Z)))(de)))},qt.domain=function(de){return arguments.length?(r=k.call(de,H),Mt===j||(Mt=z(r)),fe()):r.slice()},qt.range=function(de){return arguments.length?(d=et.call(de),fe()):d.slice()},qt.rangeRound=function(de){return d=et.call(de),I=R,fe()},qt.clamp=function(de){return arguments.length?(Mt=de?z(r):j,qt):Mt!==j},qt.interpolate=function(de){return arguments.length?(I=de,fe()):I},qt.unknown=function(de){return arguments.length?(Ct=de,qt):Ct},function(de,me){return S=de,_t=me,fe()}}()(r,d)}var ee,ot=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nt(r){if(!(d=ot.exec(r)))throw new Error("invalid format: "+r);var d;return new Zt({fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:d[6],comma:d[7],precision:d[8]&&d[8].slice(1),trim:d[9],type:d[10]})}function Zt(r){this.fill=void 0===r.fill?" ":r.fill+"",this.align=void 0===r.align?">":r.align+"",this.sign=void 0===r.sign?"-":r.sign+"",this.symbol=void 0===r.symbol?"":r.symbol+"",this.zero=!!r.zero,this.width=void 0===r.width?void 0:+r.width,this.comma=!!r.comma,this.precision=void 0===r.precision?void 0:+r.precision,this.trim=!!r.trim,this.type=void 0===r.type?"":r.type+""}function ue(r,d){if((I=(r=d?r.toExponential(d-1):r.toExponential()).indexOf("e"))<0)return null;var I,S=r.slice(0,I);return[S.length>1?S[0]+S.slice(2):S,+r.slice(I+1)]}function ce(r){return(r=ue(Math.abs(r)))?r[1]:NaN}function qe(r,d){var I=ue(r,d);if(!I)return r+"";var S=I[0],_t=I[1];return _t<0?"0."+new Array(-_t).join("0")+S:S.length>_t+1?S.slice(0,_t+1)+"."+S.slice(_t+1):S+new Array(_t-S.length+2).join("0")}nt.prototype=Zt.prototype,Zt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const X={"%":function(r,d){return(100*r).toFixed(d)},b:function(r){return Math.round(r).toString(2)},c:function(r){return r+""},d:function $t(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)},e:function(r,d){return r.toExponential(d)},f:function(r,d){return r.toFixed(d)},g:function(r,d){return r.toPrecision(d)},o:function(r){return Math.round(r).toString(8)},p:function(r,d){return qe(100*r,d)},r:qe,s:function Be(r,d){var I=ue(r,d);if(!I)return r+"";var S=I[0],_t=I[1],Ct=_t-(ee=3*Math.max(-8,Math.min(8,Math.floor(_t/3))))+1,Mt=S.length;return Ct===Mt?S:Ct>Mt?S+new Array(Ct-Mt+1).join("0"):Ct>0?S.slice(0,Ct)+"."+S.slice(Ct):"0."+new Array(1-Ct).join("0")+ue(r,Math.max(0,d+Ct-1))[0]},X:function(r){return Math.round(r).toString(16).toUpperCase()},x:function(r){return Math.round(r).toString(16)}};function xt(r){return r}var he,Ce,Ke,Xt=Array.prototype.map,pe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function je(r){var d=r.domain;return r.ticks=function(I){var S=d();return(0,v.sd)(S[0],S[S.length-1],null==I?10:I)},r.tickFormat=function(I,S){var _t=d();return function Vn(r,d,I,S){var Ct,_t=(0,v.ly)(r,d,I);switch((S=nt(null==S?",f":S)).type){case"s":var Mt=Math.max(Math.abs(r),Math.abs(d));return null==S.precision&&!isNaN(Ct=function ye(r,d){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ce(d)/3)))-ce(Math.abs(r)))}(_t,Mt))&&(S.precision=Ct),Ke(S,Mt);case"":case"e":case"g":case"p":case"r":null==S.precision&&!isNaN(Ct=function Mn(r,d){return r=Math.abs(r),d=Math.abs(d)-r,Math.max(0,ce(d)-ce(r))+1}(_t,Math.max(Math.abs(r),Math.abs(d))))&&(S.precision=Ct-("e"===S.type));break;case"f":case"%":null==S.precision&&!isNaN(Ct=function Rn(r){return Math.max(0,-ce(Math.abs(r)))}(_t))&&(S.precision=Ct-2*("%"===S.type))}return Ce(S)}(_t[0],_t[_t.length-1],null==I?10:I,S)},r.nice=function(I){null==I&&(I=10);var Lt,S=d(),_t=0,Ct=S.length-1,Mt=S[_t],Bt=S[Ct];return Bt<Mt&&(Lt=Mt,Mt=Bt,Bt=Lt,Lt=_t,_t=Ct,Ct=Lt),(Lt=(0,v.G9)(Mt,Bt,I))>0?(Mt=Math.floor(Mt/Lt)*Lt,Bt=Math.ceil(Bt/Lt)*Lt,Lt=(0,v.G9)(Mt,Bt,I)):Lt<0&&(Mt=Math.ceil(Mt*Lt)/Lt,Bt=Math.floor(Bt*Lt)/Lt,Lt=(0,v.G9)(Mt,Bt,I)),Lt>0?(S[_t]=Math.floor(Mt/Lt)*Lt,S[Ct]=Math.ceil(Bt/Lt)*Lt,d(S)):Lt<0&&(S[_t]=Math.ceil(Mt*Lt)/Lt,S[Ct]=Math.floor(Bt*Lt)/Lt,d(S)),r},r}function On(){var r=ut(j,j);return r.copy=function(){return vt(r,On())},O.apply(r,arguments),je(r)}!function gn(r){he=function It(r){var d=void 0===r.grouping||void 0===r.thousands?xt:function it(r,d){return function(I,S){for(var _t=I.length,Ct=[],Mt=0,Bt=r[0],Lt=0;_t>0&&Bt>0&&(Lt+Bt+1>S&&(Bt=Math.max(1,S-Lt)),Ct.push(I.substring(_t-=Bt,_t+Bt)),!((Lt+=Bt+1)>S));)Bt=r[Mt=(Mt+1)%r.length];return Ct.reverse().join(d)}}(Xt.call(r.grouping,Number),r.thousands+""),I=void 0===r.currency?"":r.currency[0]+"",S=void 0===r.currency?"":r.currency[1]+"",_t=void 0===r.decimal?".":r.decimal+"",Ct=void 0===r.numerals?xt:function wt(r){return function(d){return d.replace(/[0-9]/g,function(I){return r[+I]})}}(Xt.call(r.numerals,String)),Mt=void 0===r.percent?"%":r.percent+"",Bt=void 0===r.minus?"-":r.minus+"",Lt=void 0===r.nan?"NaN":r.nan+"";function oe(qt){var de=(qt=nt(qt)).fill,me=qt.align,Sn=qt.sign,yn=qt.symbol,Dn=qt.zero,mi=qt.width,ui=qt.comma,Yn=qt.precision,Xn=qt.trim,ti=qt.type;"n"===ti?(ui=!0,ti="g"):X[ti]||(void 0===Yn&&(Yn=12),Xn=!0,ti="g"),(Dn||"0"===de&&"="===me)&&(Dn=!0,de="0",me="=");var ri="$"===yn?I:"#"===yn&&/[boxX]/.test(ti)?"0"+ti.toLowerCase():"",ke="$"===yn?S:/[%p]/.test(ti)?Mt:"",Un=X[ti],ei=/[defgprs%]/.test(ti);function Zn(Ae){var Vi,xr,nr,Pn=ri,Cn=ke;if("c"===ti)Cn=Un(Ae)+Cn,Ae="";else{var or=(Ae=+Ae)<0||1/Ae<0;if(Ae=isNaN(Ae)?Lt:Un(Math.abs(Ae),Yn),Xn&&(Ae=function Vt(r){t:for(var _t,d=r.length,I=1,S=-1;I<d;++I)switch(r[I]){case".":S=_t=I;break;case"0":0===S&&(S=I),_t=I;break;default:if(!+r[I])break t;S>0&&(S=0)}return S>0?r.slice(0,S)+r.slice(_t+1):r}(Ae)),or&&0==+Ae&&"+"!==Sn&&(or=!1),Pn=(or?"("===Sn?Sn:Bt:"-"===Sn||"("===Sn?"":Sn)+Pn,Cn=("s"===ti?pe[8+ee/3]:"")+Cn+(or&&"("===Sn?")":""),ei)for(Vi=-1,xr=Ae.length;++Vi<xr;)if(48>(nr=Ae.charCodeAt(Vi))||nr>57){Cn=(46===nr?_t+Ae.slice(Vi+1):Ae.slice(Vi))+Cn,Ae=Ae.slice(0,Vi);break}}ui&&!Dn&&(Ae=d(Ae,1/0));var ir=Pn.length+Ae.length+Cn.length,Si=ir<mi?new Array(mi-ir+1).join(de):"";switch(ui&&Dn&&(Ae=d(Si+Ae,Si.length?mi-Cn.length:1/0),Si=""),me){case"<":Ae=Pn+Ae+Cn+Si;break;case"=":Ae=Pn+Si+Ae+Cn;break;case"^":Ae=Si.slice(0,ir=Si.length>>1)+Pn+Ae+Cn+Si.slice(ir);break;default:Ae=Si+Pn+Ae+Cn}return Ct(Ae)}return Yn=void 0===Yn?6:/[gprs]/.test(ti)?Math.max(1,Math.min(21,Yn)):Math.max(0,Math.min(20,Yn)),Zn.toString=function(){return qt+""},Zn}return{format:oe,formatPrefix:function fe(qt,de){var me=oe(((qt=nt(qt)).type="f",qt)),Sn=3*Math.max(-8,Math.min(8,Math.floor(ce(de)/3))),yn=Math.pow(10,-Sn),Dn=pe[8+Sn/3];return function(mi){return me(yn*mi)+Dn}}}}(r),Ce=he.format,Ke=he.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var on=o(56513),En=o(14296),ze=o(8231),_e=o(67661);function vn(r){return(0,ze.Z)(function(d){d.setDate(d.getDate()-(d.getDay()+7-r)%7),d.setHours(0,0,0,0)},function(d,I){d.setDate(d.getDate()+7*I)},function(d,I){return(I-d-(I.getTimezoneOffset()-d.getTimezoneOffset())*_e.yB)/_e.iM})}var dn=vn(0),$=vn(1),gt=(vn(2),vn(3),vn(4)),Ne=(vn(5),vn(6),o(76371));const yi=(0,ze.Z)(function(r){r.setTime(r-r.getMilliseconds()-r.getSeconds()*_e.Ym-r.getMinutes()*_e.yB)},function(r,d){r.setTime(+r+d*_e.Y2)},function(r,d){return(d-r)/_e.Y2},function(r){return r.getHours()});var qi=o(47793);const di=(0,ze.Z)(function(r){r.setTime(r-r.getMilliseconds())},function(r,d){r.setTime(+r+d*_e.Ym)},function(r,d){return(d-r)/_e.Ym},function(r){return r.getUTCSeconds()});var fi=(0,ze.Z)(function(){},function(r,d){r.setTime(+r+d)},function(r,d){return d-r});fi.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?(0,ze.Z)(function(d){d.setTime(Math.floor(d/r)*r)},function(d,I){d.setTime(+d+I*r)},function(d,I){return(I-d)/r}):fi:null};const Bi=fi;function gi(r){return(0,ze.Z)(function(d){d.setUTCDate(d.getUTCDate()-(d.getUTCDay()+7-r)%7),d.setUTCHours(0,0,0,0)},function(d,I){d.setUTCDate(d.getUTCDate()+7*I)},function(d,I){return(I-d)/_e.iM})}var un=gi(0),Pi=gi(1),si=(gi(2),gi(3),gi(4));const Ki=(gi(5),gi(6),(0,ze.Z)(function(r){r.setUTCHours(0,0,0,0)},function(r,d){r.setUTCDate(r.getUTCDate()+d)},function(r,d){return(d-r)/_e.UD},function(r){return r.getUTCDate()-1}));var Hi=(0,ze.Z)(function(r){r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,d){r.setUTCFullYear(r.getUTCFullYear()+d)},function(r,d){return d.getUTCFullYear()-r.getUTCFullYear()},function(r){return r.getUTCFullYear()});Hi.every=function(r){return isFinite(r=Math.floor(r))&&r>0?(0,ze.Z)(function(d){d.setUTCFullYear(Math.floor(d.getUTCFullYear()/r)*r),d.setUTCMonth(0,1),d.setUTCHours(0,0,0,0)},function(d,I){d.setUTCFullYear(d.getUTCFullYear()+I*r)}):null};const pi=Hi;function Ai(r){if(0<=r.y&&r.y<100){var d=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return d.setFullYear(r.y),d}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function Nn(r){if(0<=r.y&&r.y<100){var d=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return d.setUTCFullYear(r.y),d}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function kn(r,d,I){return{y:r,m:d,d:I,H:0,M:0,S:0,L:0}}var qn,Ti,jn={"-":"",_:" ",0:"0"},Qe=/^\s*\d+/,zi=/^%/,rr=/[\\^$*+?|[\]().{}]/g;function Ze(r,d,I){var S=r<0?"-":"",_t=(S?-r:r)+"",Ct=_t.length;return S+(Ct<I?new Array(I-Ct+1).join(d)+_t:_t)}function wn(r){return r.replace(rr,"\\$&")}function _i(r){return new RegExp("^(?:"+r.map(wn).join("|")+")","i")}function h(r){for(var d={},I=-1,S=r.length;++I<S;)d[r[I].toLowerCase()]=I;return d}function b(r,d,I){var S=Qe.exec(d.slice(I,I+1));return S?(r.w=+S[0],I+S[0].length):-1}function N(r,d,I){var S=Qe.exec(d.slice(I,I+1));return S?(r.u=+S[0],I+S[0].length):-1}function q(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.U=+S[0],I+S[0].length):-1}function Dt(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.V=+S[0],I+S[0].length):-1}function Ut(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.W=+S[0],I+S[0].length):-1}function Tt(r,d,I){var S=Qe.exec(d.slice(I,I+4));return S?(r.y=+S[0],I+S[0].length):-1}function Gt(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.y=+S[0]+(+S[0]>68?1900:2e3),I+S[0].length):-1}function zt(r,d,I){var S=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(d.slice(I,I+6));return S?(r.Z=S[1]?0:-(S[2]+(S[3]||"00")),I+S[0].length):-1}function Qt(r,d,I){var S=Qe.exec(d.slice(I,I+1));return S?(r.q=3*S[0]-3,I+S[0].length):-1}function Jt(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.m=S[0]-1,I+S[0].length):-1}function be(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.d=+S[0],I+S[0].length):-1}function Re(r,d,I){var S=Qe.exec(d.slice(I,I+3));return S?(r.m=0,r.d=+S[0],I+S[0].length):-1}function Ie(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.H=+S[0],I+S[0].length):-1}function Hn(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.M=+S[0],I+S[0].length):-1}function Qn(r,d,I){var S=Qe.exec(d.slice(I,I+2));return S?(r.S=+S[0],I+S[0].length):-1}function Mi(r,d,I){var S=Qe.exec(d.slice(I,I+3));return S?(r.L=+S[0],I+S[0].length):-1}function cr(r,d,I){var S=Qe.exec(d.slice(I,I+6));return S?(r.L=Math.floor(S[0]/1e3),I+S[0].length):-1}function hr(r,d,I){var S=zi.exec(d.slice(I,I+1));return S?I+S[0].length:-1}function yr(r,d,I){var S=Qe.exec(d.slice(I));return S?(r.Q=+S[0],I+S[0].length):-1}function br(r,d,I){var S=Qe.exec(d.slice(I));return S?(r.s=+S[0],I+S[0].length):-1}function vi(r,d){return Ze(r.getDate(),d,2)}function dr(r,d){return Ze(r.getHours(),d,2)}function l(r,d){return Ze(r.getHours()%12||12,d,2)}function g(r,d){return Ze(1+Ne.Z.count((0,on.Z)(r),r),d,3)}function p(r,d){return Ze(r.getMilliseconds(),d,3)}function M(r,d){return p(r,d)+"000"}function C(r,d){return Ze(r.getMonth()+1,d,2)}function P(r,d){return Ze(r.getMinutes(),d,2)}function U(r,d){return Ze(r.getSeconds(),d,2)}function K(r){var d=r.getDay();return 0===d?7:d}function Q(r,d){return Ze(dn.count((0,on.Z)(r)-1,r),d,2)}function Z(r){var d=r.getDay();return d>=4||0===d?gt(r):gt.ceil(r)}function mt(r,d){return r=Z(r),Ze(gt.count((0,on.Z)(r),r)+(4===(0,on.Z)(r).getDay()),d,2)}function ft(r){return r.getDay()}function tt(r,d){return Ze($.count((0,on.Z)(r)-1,r),d,2)}function Et(r,d){return Ze(r.getFullYear()%100,d,2)}function dt(r,d){return Ze((r=Z(r)).getFullYear()%100,d,2)}function F(r,d){return Ze(r.getFullYear()%1e4,d,4)}function yt(r,d){var I=r.getDay();return Ze((r=I>=4||0===I?gt(r):gt.ceil(r)).getFullYear()%1e4,d,4)}function st(r){var d=r.getTimezoneOffset();return(d>0?"-":(d*=-1,"+"))+Ze(d/60|0,"0",2)+Ze(d%60,"0",2)}function Ot(r,d){return Ze(r.getUTCDate(),d,2)}function Pt(r,d){return Ze(r.getUTCHours(),d,2)}function ae(r,d){return Ze(r.getUTCHours()%12||12,d,2)}function Oe(r,d){return Ze(1+Ki.count(pi(r),r),d,3)}function Fe(r,d){return Ze(r.getUTCMilliseconds(),d,3)}function We(r,d){return Fe(r,d)+"000"}function He(r,d){return Ze(r.getUTCMonth()+1,d,2)}function Me(r,d){return Ze(r.getUTCMinutes(),d,2)}function ge(r,d){return Ze(r.getUTCSeconds(),d,2)}function Te(r){var d=r.getUTCDay();return 0===d?7:d}function at(r,d){return Ze(un.count(pi(r)-1,r),d,2)}function te(r){var d=r.getUTCDay();return d>=4||0===d?si(r):si.ceil(r)}function xe(r,d){return r=te(r),Ze(si.count(pi(r),r)+(4===pi(r).getUTCDay()),d,2)}function Ee(r){return r.getUTCDay()}function Ue(r,d){return Ze(Pi.count(pi(r)-1,r),d,2)}function cn(r,d){return Ze(r.getUTCFullYear()%100,d,2)}function fn(r,d){return Ze((r=te(r)).getUTCFullYear()%100,d,2)}function Jn(r,d){return Ze(r.getUTCFullYear()%1e4,d,4)}function li(r,d){var I=r.getUTCDay();return Ze((r=I>=4||0===I?si(r):si.ceil(r)).getUTCFullYear()%1e4,d,4)}function Ni(){return"+0000"}function Ei(){return"%"}function Kn(r){return+r}function zn(r){return Math.floor(+r/1e3)}!function Or(r){qn=function bi(r){var d=r.dateTime,I=r.date,S=r.time,_t=r.periods,Ct=r.days,Mt=r.shortDays,Bt=r.months,Lt=r.shortMonths,oe=_i(_t),fe=h(_t),qt=_i(Ct),de=h(Ct),me=_i(Mt),Sn=h(Mt),yn=_i(Bt),Dn=h(Bt),mi=_i(Lt),ui=h(Lt),Yn={a:function or(le){return Mt[le.getDay()]},A:function ir(le){return Ct[le.getDay()]},b:function Si(le){return Lt[le.getMonth()]},B:function Kr(le){return Bt[le.getMonth()]},c:null,d:vi,e:vi,f:M,g:dt,G:yt,H:dr,I:l,j:g,L:p,m:C,M:P,p:function Fr(le){return _t[+(le.getHours()>=12)]},q:function Wr(le){return 1+~~(le.getMonth()/3)},Q:Kn,s:zn,S:U,u:K,U:Q,V:mt,w:ft,W:tt,x:null,X:null,y:Et,Y:F,Z:st,"%":Ei},Xn={a:function Hr(le){return Mt[le.getUTCDay()]},A:function zr(le){return Ct[le.getUTCDay()]},b:function Yr(le){return Lt[le.getUTCMonth()]},B:function Qi(le){return Bt[le.getUTCMonth()]},c:null,d:Ot,e:Ot,f:We,g:fn,G:li,H:Pt,I:ae,j:Oe,L:Fe,m:He,M:Me,p:function Zr(le){return _t[+(le.getUTCHours()>=12)]},q:function Vr(le){return 1+~~(le.getUTCMonth()/3)},Q:Kn,s:zn,S:ge,u:Te,U:at,V:xe,w:Ee,W:Ue,x:null,X:null,y:cn,Y:Jn,Z:Ni,"%":Ei},ti={a:function Zn(le,Ge,nn){var Ht=me.exec(Ge.slice(nn));return Ht?(le.w=Sn[Ht[0].toLowerCase()],nn+Ht[0].length):-1},A:function Ae(le,Ge,nn){var Ht=qt.exec(Ge.slice(nn));return Ht?(le.w=de[Ht[0].toLowerCase()],nn+Ht[0].length):-1},b:function Pn(le,Ge,nn){var Ht=mi.exec(Ge.slice(nn));return Ht?(le.m=ui[Ht[0].toLowerCase()],nn+Ht[0].length):-1},B:function Cn(le,Ge,nn){var Ht=yn.exec(Ge.slice(nn));return Ht?(le.m=Dn[Ht[0].toLowerCase()],nn+Ht[0].length):-1},c:function Vi(le,Ge,nn){return Un(le,d,Ge,nn)},d:be,e:be,f:cr,g:Gt,G:Tt,H:Ie,I:Ie,j:Re,L:Mi,m:Jt,M:Hn,p:function ei(le,Ge,nn){var Ht=oe.exec(Ge.slice(nn));return Ht?(le.p=fe[Ht[0].toLowerCase()],nn+Ht[0].length):-1},q:Qt,Q:yr,s:br,S:Qn,u:N,U:q,V:Dt,w:b,W:Ut,x:function xr(le,Ge,nn){return Un(le,I,Ge,nn)},X:function nr(le,Ge,nn){return Un(le,S,Ge,nn)},y:Gt,Y:Tt,Z:zt,"%":hr};function ri(le,Ge){return function(nn){var hi,Ji,Ir,Ht=[],ai=-1,bn=0,ci=le.length;for(nn instanceof Date||(nn=new Date(+nn));++ai<ci;)37===le.charCodeAt(ai)&&(Ht.push(le.slice(bn,ai)),null!=(Ji=jn[hi=le.charAt(++ai)])?hi=le.charAt(++ai):Ji="e"===hi?" ":"0",(Ir=Ge[hi])&&(hi=Ir(nn,Ji)),Ht.push(hi),bn=ai+1);return Ht.push(le.slice(bn,ai)),Ht.join("")}}function ke(le,Ge){return function(nn){var bn,ci,Ht=kn(1900,void 0,1);if(Un(Ht,le,nn+="",0)!=nn.length)return null;if("Q"in Ht)return new Date(Ht.Q);if("s"in Ht)return new Date(1e3*Ht.s+("L"in Ht?Ht.L:0));if(Ge&&!("Z"in Ht)&&(Ht.Z=0),"p"in Ht&&(Ht.H=Ht.H%12+12*Ht.p),void 0===Ht.m&&(Ht.m="q"in Ht?Ht.q:0),"V"in Ht){if(Ht.V<1||Ht.V>53)return null;"w"in Ht||(Ht.w=1),"Z"in Ht?(ci=(bn=Nn(kn(Ht.y,0,1))).getUTCDay(),bn=ci>4||0===ci?Pi.ceil(bn):Pi(bn),bn=Ki.offset(bn,7*(Ht.V-1)),Ht.y=bn.getUTCFullYear(),Ht.m=bn.getUTCMonth(),Ht.d=bn.getUTCDate()+(Ht.w+6)%7):(ci=(bn=Ai(kn(Ht.y,0,1))).getDay(),bn=ci>4||0===ci?$.ceil(bn):$(bn),bn=Ne.Z.offset(bn,7*(Ht.V-1)),Ht.y=bn.getFullYear(),Ht.m=bn.getMonth(),Ht.d=bn.getDate()+(Ht.w+6)%7)}else("W"in Ht||"U"in Ht)&&("w"in Ht||(Ht.w="u"in Ht?Ht.u%7:"W"in Ht?1:0),ci="Z"in Ht?Nn(kn(Ht.y,0,1)).getUTCDay():Ai(kn(Ht.y,0,1)).getDay(),Ht.m=0,Ht.d="W"in Ht?(Ht.w+6)%7+7*Ht.W-(ci+5)%7:Ht.w+7*Ht.U-(ci+6)%7);return"Z"in Ht?(Ht.H+=Ht.Z/100|0,Ht.M+=Ht.Z%100,Nn(Ht)):Ai(Ht)}}function Un(le,Ge,nn,Ht){for(var hi,Ji,ai=0,bn=Ge.length,ci=nn.length;ai<bn;){if(Ht>=ci)return-1;if(37===(hi=Ge.charCodeAt(ai++))){if(hi=Ge.charAt(ai++),!(Ji=ti[hi in jn?Ge.charAt(ai++):hi])||(Ht=Ji(le,nn,Ht))<0)return-1}else if(hi!=nn.charCodeAt(Ht++))return-1}return Ht}return Yn.x=ri(I,Yn),Yn.X=ri(S,Yn),Yn.c=ri(d,Yn),Xn.x=ri(I,Xn),Xn.X=ri(S,Xn),Xn.c=ri(d,Xn),{format:function(le){var Ge=ri(le+="",Yn);return Ge.toString=function(){return le},Ge},parse:function(le){var Ge=ke(le+="",!1);return Ge.toString=function(){return le},Ge},utcFormat:function(le){var Ge=ri(le+="",Xn);return Ge.toString=function(){return le},Ge},utcParse:function(le){var Ge=ke(le+="",!0);return Ge.toString=function(){return le},Ge}}}(r),Ti=qn.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var er=6e4,Zi=60*er,ki=24*Zi,_r=30*ki,gr=365*ki;function Ar(r){return new Date(r)}function pr(r){return r instanceof Date?+r:+new Date(+r)}function vr(r,d,I,S,_t,Ct,Mt,Bt,Lt){var oe=ut(j,j),fe=oe.invert,qt=oe.domain,de=Lt(".%L"),me=Lt(":%S"),Sn=Lt("%I:%M"),yn=Lt("%I %p"),Dn=Lt("%a %d"),mi=Lt("%b %d"),ui=Lt("%B"),Yn=Lt("%Y"),Xn=[[Mt,1,1e3],[Mt,5,5e3],[Mt,15,15e3],[Mt,30,3e4],[Ct,1,er],[Ct,5,5*er],[Ct,15,15*er],[Ct,30,30*er],[_t,1,Zi],[_t,3,3*Zi],[_t,6,6*Zi],[_t,12,12*Zi],[S,1,ki],[S,2,2*ki],[I,1,6048e5],[d,1,_r],[d,3,3*_r],[r,1,gr]];function ti(ke){return(Mt(ke)<ke?de:Ct(ke)<ke?me:_t(ke)<ke?Sn:S(ke)<ke?yn:d(ke)<ke?I(ke)<ke?Dn:mi:r(ke)<ke?ui:Yn)(ke)}function ri(ke,Un,ei,Zn){if(null==ke&&(ke=10),"number"==typeof ke){var Ae=Math.abs(ei-Un)/ke,Pn=(0,v.YF)(function(Cn){return Cn[2]}).right(Xn,Ae);Pn===Xn.length?(Zn=(0,v.ly)(Un/gr,ei/gr,ke),ke=r):Pn?(Zn=(Pn=Xn[Ae/Xn[Pn-1][2]<Xn[Pn][2]/Ae?Pn-1:Pn])[1],ke=Pn[0]):(Zn=Math.max((0,v.ly)(Un,ei,ke),1),ke=Bt)}return null==Zn?ke:ke.every(Zn)}return oe.invert=function(ke){return new Date(fe(ke))},oe.domain=function(ke){return arguments.length?qt(k.call(ke,pr)):qt().map(Ar)},oe.ticks=function(ke,Un){var Cn,ei=qt(),Zn=ei[0],Ae=ei[ei.length-1],Pn=Ae<Zn;return Pn&&(Cn=Zn,Zn=Ae,Ae=Cn),Cn=(Cn=ri(ke,Zn,Ae,Un))?Cn.range(Zn,Ae+1):[],Pn?Cn.reverse():Cn},oe.tickFormat=function(ke,Un){return null==Un?ti:Lt(Un)},oe.nice=function(ke,Un){var ei=qt();return(ke=ri(ke,ei[0],ei[ei.length-1],Un))?qt(function Lr(r,d){var Mt,I=0,S=(r=r.slice()).length-1,_t=r[I],Ct=r[S];return Ct<_t&&(Mt=I,I=S,S=Mt,Mt=_t,_t=Ct,Ct=Mt),r[I]=d.floor(_t),r[S]=d.ceil(Ct),r}(ei,ke)):oe},oe.copy=function(){return vt(oe,vr(r,d,I,S,_t,Ct,Mt,Bt,Lt))},oe}function Mr(){return O.apply(vr(on.Z,En.Z,dn,Ne.Z,yi,qi.Z,di,Bi,Ti).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},97905:(Rt,pt,o)=>{"use strict";function v(O){return function(){return this.matches(O)}}o.d(pt,{Z:()=>v})},66073:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>m});var v=o(75819),O=o(25941);function m(L){var Y=(0,v.Z)();return Y.changedTouches&&(Y=Y.changedTouches[0]),(0,O.Z)(L,Y)}},36175:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>O});var v=o(53517);function O(m){var L=m+="",Y=L.indexOf(":");return Y>=0&&"xmlns"!==(L=m.slice(0,Y))&&(m=m.slice(Y+1)),v.Z.hasOwnProperty(L)?{space:v.Z[L],local:m}:m}},53517:(Rt,pt,o)=>{"use strict";o.d(pt,{P:()=>v,Z:()=>O});var v="http://www.w3.org/1999/xhtml";const O={svg:"http://www.w3.org/2000/svg",xhtml:v,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},25941:(Rt,pt,o)=>{"use strict";function v(O,m){var L=O.ownerSVGElement||O;if(L.createSVGPoint){var Y=L.createSVGPoint();return Y.x=m.clientX,Y.y=m.clientY,[(Y=Y.matrixTransform(O.getScreenCTM().inverse())).x,Y.y]}var k=O.getBoundingClientRect();return[m.clientX-k.left-O.clientLeft,m.clientY-k.top-O.clientTop]}o.d(pt,{Z:()=>v})},52016:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>O});var v=o(73171);function O(m){return"string"==typeof m?new v.Y1([[document.querySelector(m)]],[document.documentElement]):new v.Y1([[m]],v.Jz)}},73171:(Rt,pt,o)=>{"use strict";o.d(pt,{Y1:()=>_e,ZP:()=>dn,Jz:()=>ze});var v=o(29742),m=o(32037),Y=o(97905);function et($){return new Array($.length)}function D($,bt){this.ownerDocument=$.ownerDocument,this.namespaceURI=$.namespaceURI,this._next=null,this._parent=$,this.__data__=bt}function W($,bt,jt,gt,Kt,ie){for(var se,kt=0,Pe=bt.length,Le=ie.length;kt<Le;++kt)(se=bt[kt])?(se.__data__=ie[kt],gt[kt]=se):jt[kt]=new D($,ie[kt]);for(;kt<Pe;++kt)(se=bt[kt])&&(Kt[kt]=se)}function T($,bt,jt,gt,Kt,ie,kt){var se,Pe,Ne,Le={},Xe=bt.length,ln=ie.length,Bn=new Array(Xe);for(se=0;se<Xe;++se)(Pe=bt[se])&&(Bn[se]=Ne="$"+kt.call(Pe,Pe.__data__,se,bt),Ne in Le?Kt[se]=Pe:Le[Ne]=Pe);for(se=0;se<ln;++se)(Pe=Le[Ne="$"+kt.call($,ie[se],se,ie)])?(gt[se]=Pe,Pe.__data__=ie[se],Le[Ne]=null):jt[se]=new D($,ie[se]);for(se=0;se<Xe;++se)(Pe=bt[se])&&Le[Bn[se]]===Pe&&(Kt[se]=Pe)}function ht($,bt){return $<bt?-1:$>bt?1:$>=bt?0:NaN}D.prototype={constructor:D,appendChild:function($){return this._parent.insertBefore($,this._next)},insertBefore:function($,bt){return this._parent.insertBefore($,bt)},querySelector:function($){return this._parent.querySelector($)},querySelectorAll:function($){return this._parent.querySelectorAll($)}};var ot=o(36175);function nt($){return function(){this.removeAttribute($)}}function Zt($){return function(){this.removeAttributeNS($.space,$.local)}}function $t($,bt){return function(){this.setAttribute($,bt)}}function ue($,bt){return function(){this.setAttributeNS($.space,$.local,bt)}}function ce($,bt){return function(){var jt=bt.apply(this,arguments);null==jt?this.removeAttribute($):this.setAttribute($,jt)}}function ye($,bt){return function(){var jt=bt.apply(this,arguments);null==jt?this.removeAttributeNS($.space,$.local):this.setAttributeNS($.space,$.local,jt)}}var wt=o(24476);function Vt($){return function(){delete this[$]}}function ee($,bt){return function(){this[$]=bt}}function Be($,bt){return function(){var jt=bt.apply(this,arguments);null==jt?delete this[$]:this[$]=jt}}function X($){return $.trim().split(/^|\s+/)}function xt($){return $.classList||new Xt($)}function Xt($){this._node=$,this._names=X($.getAttribute("class")||"")}function pe($,bt){for(var jt=xt($),gt=-1,Kt=bt.length;++gt<Kt;)jt.add(bt[gt])}function It($,bt){for(var jt=xt($),gt=-1,Kt=bt.length;++gt<Kt;)jt.remove(bt[gt])}function he($){return function(){pe(this,$)}}function Ce($){return function(){It(this,$)}}function Ke($,bt){return function(){(bt.apply(this,arguments)?pe:It)(this,$)}}function Mn(){this.textContent=""}function Rn($){return function(){this.textContent=$}}function Vn($){return function(){var bt=$.apply(this,arguments);this.textContent=null==bt?"":bt}}function On(){this.innerHTML=""}function hn($){return function(){this.innerHTML=$}}function $n($){return function(){var bt=$.apply(this,arguments);this.innerHTML=null==bt?"":bt}}function De(){this.nextSibling&&this.parentNode.appendChild(this)}function xi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Xt.prototype={add:function($){this._names.indexOf($)<0&&(this._names.push($),this._node.setAttribute("class",this._names.join(" ")))},remove:function($){var bt=this._names.indexOf($);bt>=0&&(this._names.splice(bt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function($){return this._names.indexOf($)>=0}};var ve=o(53517);function we($){return function(){var bt=this.ownerDocument,jt=this.namespaceURI;return jt===ve.P&&bt.documentElement.namespaceURI===ve.P?bt.createElement($):bt.createElementNS(jt,$)}}function re($){return function(){return this.ownerDocument.createElementNS($.space,$.local)}}function Ye($){var bt=(0,ot.Z)($);return(bt.local?re:we)(bt)}function Tn(){return null}function Ve(){var $=this.parentNode;$&&$.removeChild(this)}function $e(){var $=this.cloneNode(!1),bt=this.parentNode;return bt?bt.insertBefore($,this.nextSibling):$}function Fn(){var $=this.cloneNode(!0),bt=this.parentNode;return bt?bt.insertBefore($,this.nextSibling):$}var Wn=o(61746),an=o(2442);function xn($,bt,jt){var gt=(0,an.Z)($),Kt=gt.CustomEvent;"function"==typeof Kt?Kt=new Kt(bt,jt):(Kt=gt.document.createEvent("Event"),jt?(Kt.initEvent(bt,jt.bubbles,jt.cancelable),Kt.detail=jt.detail):Kt.initEvent(bt,!1,!1)),$.dispatchEvent(Kt)}function Ln($,bt){return function(){return xn(this,$,bt)}}function on($,bt){return function(){return xn(this,$,bt.apply(this,arguments))}}var ze=[null];function _e($,bt){this._groups=$,this._parents=bt}function vn(){return new _e([[document.documentElement]],ze)}_e.prototype=vn.prototype={constructor:_e,select:function O($){"function"!=typeof $&&($=(0,v.Z)($));for(var bt=this._groups,jt=bt.length,gt=new Array(jt),Kt=0;Kt<jt;++Kt)for(var Pe,Le,ie=bt[Kt],kt=ie.length,se=gt[Kt]=new Array(kt),Xe=0;Xe<kt;++Xe)(Pe=ie[Xe])&&(Le=$.call(Pe,Pe.__data__,Xe,ie))&&("__data__"in Pe&&(Le.__data__=Pe.__data__),se[Xe]=Le);return new _e(gt,this._parents)},selectAll:function L($){"function"!=typeof $&&($=(0,m.Z)($));for(var bt=this._groups,jt=bt.length,gt=[],Kt=[],ie=0;ie<jt;++ie)for(var Pe,kt=bt[ie],se=kt.length,Le=0;Le<se;++Le)(Pe=kt[Le])&&(gt.push($.call(Pe,Pe.__data__,Le,kt)),Kt.push(Pe));return new _e(gt,Kt)},filter:function k($){"function"!=typeof $&&($=(0,Y.Z)($));for(var bt=this._groups,jt=bt.length,gt=new Array(jt),Kt=0;Kt<jt;++Kt)for(var Pe,ie=bt[Kt],kt=ie.length,se=gt[Kt]=[],Le=0;Le<kt;++Le)(Pe=ie[Le])&&$.call(Pe,Pe.__data__,Le,ie)&&se.push(Pe);return new _e(gt,this._parents)},data:function A($,bt){if(!$)return Ne=new Array(this.size()),Le=-1,this.each(function(Bi){Ne[++Le]=Bi}),Ne;var jt=bt?T:W,gt=this._parents,Kt=this._groups;"function"!=typeof $&&($=function B($){return function(){return $}}($));for(var ie=Kt.length,kt=new Array(ie),se=new Array(ie),Pe=new Array(ie),Le=0;Le<ie;++Le){var Xe=gt[Le],ln=Kt[Le],Bn=ln.length,Ne=$.call(Xe,Xe&&Xe.__data__,Le,gt),tn=Ne.length,yi=se[Le]=new Array(tn),Di=kt[Le]=new Array(tn);jt(Xe,ln,yi,Di,Pe[Le]=new Array(Bn),Ne,bt);for(var $i,fi,ii=0,di=0;ii<tn;++ii)if($i=yi[ii]){for(ii>=di&&(di=ii+1);!(fi=Di[di])&&++di<tn;);$i._next=fi||null}}return(kt=new _e(kt,gt))._enter=se,kt._exit=Pe,kt},enter:function w(){return new _e(this._enter||this._groups.map(et),this._parents)},exit:function R(){return new _e(this._exit||this._groups.map(et),this._parents)},join:function J($,bt,jt){var gt=this.enter(),Kt=this,ie=this.exit();return gt="function"==typeof $?$(gt):gt.append($+""),null!=bt&&(Kt=bt(Kt)),null==jt?ie.remove():jt(ie),gt&&Kt?gt.merge(Kt).order():Kt},merge:function H($){for(var bt=this._groups,jt=$._groups,gt=bt.length,ie=Math.min(gt,jt.length),kt=new Array(gt),se=0;se<ie;++se)for(var Bn,Pe=bt[se],Le=jt[se],Xe=Pe.length,ln=kt[se]=new Array(Xe),Ne=0;Ne<Xe;++Ne)(Bn=Pe[Ne]||Le[Ne])&&(ln[Ne]=Bn);for(;se<gt;++se)kt[se]=bt[se];return new _e(kt,this._parents)},order:function rt(){for(var $=this._groups,bt=-1,jt=$.length;++bt<jt;)for(var kt,gt=$[bt],Kt=gt.length-1,ie=gt[Kt];--Kt>=0;)(kt=gt[Kt])&&(ie&&4^kt.compareDocumentPosition(ie)&&ie.parentNode.insertBefore(kt,ie),ie=kt);return this},sort:function j($){function bt(ln,Bn){return ln&&Bn?$(ln.__data__,Bn.__data__):!ln-!Bn}$||($=ht);for(var jt=this._groups,gt=jt.length,Kt=new Array(gt),ie=0;ie<gt;++ie){for(var Le,kt=jt[ie],se=kt.length,Pe=Kt[ie]=new Array(se),Xe=0;Xe<se;++Xe)(Le=kt[Xe])&&(Pe[Xe]=Le);Pe.sort(bt)}return new _e(Kt,this._parents).order()},call:function z(){var $=arguments[0];return arguments[0]=this,$.apply(null,arguments),this},nodes:function St(){var $=new Array(this.size()),bt=-1;return this.each(function(){$[++bt]=this}),$},node:function lt(){for(var $=this._groups,bt=0,jt=$.length;bt<jt;++bt)for(var gt=$[bt],Kt=0,ie=gt.length;Kt<ie;++Kt){var kt=gt[Kt];if(kt)return kt}return null},size:function vt(){var $=0;return this.each(function(){++$}),$},empty:function At(){return!this.node()},each:function ut($){for(var bt=this._groups,jt=0,gt=bt.length;jt<gt;++jt)for(var se,Kt=bt[jt],ie=0,kt=Kt.length;ie<kt;++ie)(se=Kt[ie])&&$.call(se,se.__data__,ie,Kt);return this},attr:function it($,bt){var jt=(0,ot.Z)($);if(arguments.length<2){var gt=this.node();return jt.local?gt.getAttributeNS(jt.space,jt.local):gt.getAttribute(jt)}return this.each((null==bt?jt.local?Zt:nt:"function"==typeof bt?jt.local?ye:ce:jt.local?ue:$t)(jt,bt))},style:wt.Z,property:function qe($,bt){return arguments.length>1?this.each((null==bt?Vt:"function"==typeof bt?Be:ee)($,bt)):this.node()[$]},classed:function gn($,bt){var jt=X($+"");if(arguments.length<2){for(var gt=xt(this.node()),Kt=-1,ie=jt.length;++Kt<ie;)if(!gt.contains(jt[Kt]))return!1;return!0}return this.each(("function"==typeof bt?Ke:bt?he:Ce)(jt,bt))},text:function je($){return arguments.length?this.each(null==$?Mn:("function"==typeof $?Vn:Rn)($)):this.node().textContent},html:function ni($){return arguments.length?this.each(null==$?On:("function"==typeof $?$n:hn)($)):this.node().innerHTML},raise:function Gn(){return this.each(De)},lower:function ne(){return this.each(xi)},append:function _n($){var bt="function"==typeof $?$:Ye($);return this.select(function(){return this.appendChild(bt.apply(this,arguments))})},insert:function rn($,bt){var jt="function"==typeof $?$:Ye($),gt=null==bt?Tn:"function"==typeof bt?bt:(0,v.Z)(bt);return this.select(function(){return this.insertBefore(jt.apply(this,arguments),gt.apply(this,arguments)||null)})},remove:function sn(){return this.each(Ve)},clone:function pn($){return this.select($?Fn:$e)},datum:function mn($){return arguments.length?this.property("__data__",$):this.node().__data__},on:Wn.ZP,dispatch:function En($,bt){return this.each(("function"==typeof bt?on:Ln)($,bt))}};const dn=vn},61746:(Rt,pt,o)=>{"use strict";o.d(pt,{B:()=>O,ZP:()=>D,_H:()=>B});var v={},O=null;function L(V,W,T){return V=Y(V,W,T),function(A){var R=A.relatedTarget;(!R||R!==this&&!(8&R.compareDocumentPosition(this)))&&V.call(this,A)}}function Y(V,W,T){return function(A){var R=O;O=A;try{V.call(this,this.__data__,W,T)}finally{O=R}}}function k(V){return V.trim().split(/^|\s+/).map(function(W){var T="",A=W.indexOf(".");return A>=0&&(T=W.slice(A+1),W=W.slice(0,A)),{type:W,name:T}})}function et(V){return function(){var W=this.__on;if(W){for(var J,T=0,A=-1,R=W.length;T<R;++T)J=W[T],V.type&&J.type!==V.type||J.name!==V.name?W[++A]=J:this.removeEventListener(J.type,J.listener,J.capture);++A?W.length=A:delete this.__on}}}function w(V,W,T){var A=v.hasOwnProperty(V.type)?L:Y;return function(R,J,H){var j,rt=this.__on,ht=A(W,J,H);if(rt)for(var z=0,St=rt.length;z<St;++z)if((j=rt[z]).type===V.type&&j.name===V.name)return this.removeEventListener(j.type,j.listener,j.capture),this.addEventListener(j.type,j.listener=ht,j.capture=T),void(j.value=W);this.addEventListener(V.type,ht,T),j={type:V.type,name:V.name,value:W,listener:ht,capture:T},rt?rt.push(j):this.__on=[j]}}function D(V,W,T){var R,H,A=k(V+""),J=A.length;if(!(arguments.length<2)){for(rt=W?w:et,null==T&&(T=!1),R=0;R<J;++R)this.each(rt(A[R],W,T));return this}var rt=this.node().__on;if(rt)for(var z,j=0,ht=rt.length;j<ht;++j)for(R=0,z=rt[j];R<J;++R)if((H=A[R]).type===z.type&&H.name===z.name)return z.value}function B(V,W,T,A){var R=O;V.sourceEvent=O,O=V;try{return W.apply(T,A)}finally{O=R}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(v={mouseenter:"mouseover",mouseleave:"mouseout"}))},24476:(Rt,pt,o)=>{"use strict";o.d(pt,{S:()=>k,Z:()=>Y});var v=o(2442);function O(et){return function(){this.style.removeProperty(et)}}function m(et,w,D){return function(){this.style.setProperty(et,w,D)}}function L(et,w,D){return function(){var B=w.apply(this,arguments);null==B?this.style.removeProperty(et):this.style.setProperty(et,B,D)}}function Y(et,w,D){return arguments.length>1?this.each((null==w?O:"function"==typeof w?L:m)(et,w,null==D?"":D)):k(this.node(),et)}function k(et,w){return et.style.getPropertyValue(w)||(0,v.Z)(et).getComputedStyle(et,null).getPropertyValue(w)}},29742:(Rt,pt,o)=>{"use strict";function v(){}function O(m){return null==m?v:function(){return this.querySelector(m)}}o.d(pt,{Z:()=>O})},32037:(Rt,pt,o)=>{"use strict";function v(){return[]}function O(m){return null==m?v:function(){return this.querySelectorAll(m)}}o.d(pt,{Z:()=>O})},75819:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>O});var v=o(61746);function O(){for(var L,m=v.B;L=m.sourceEvent;)m=L;return m}},2442:(Rt,pt,o)=>{"use strict";function v(O){return O.ownerDocument&&O.ownerDocument.defaultView||O.document&&O||O.defaultView}o.d(pt,{Z:()=>v})},84524:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>V});var v=o(73066),O=o(21456),m=o(6947);function L(W){return W.innerRadius}function Y(W){return W.outerRadius}function k(W){return W.startAngle}function et(W){return W.endAngle}function w(W){return W&&W.padAngle}function D(W,T,A,R,J,H,rt,j){var ht=A-W,z=R-T,St=rt-J,lt=j-H,vt=lt*ht-St*z;if(!(vt*vt<m.Ho))return[W+(vt=(St*(T-H)-lt*(W-J))/vt)*ht,T+vt*z]}function B(W,T,A,R,J,H,rt){var j=W-A,ht=T-R,z=(rt?H:-H)/(0,m._b)(j*j+ht*ht),St=z*ht,lt=-z*j,vt=W+St,At=T+lt,ut=A+St,ot=R+lt,nt=(vt+ut)/2,Zt=(At+ot)/2,$t=ut-vt,ue=ot-At,ce=$t*$t+ue*ue,ye=J-H,it=vt*ot-ut*At,wt=(ue<0?-1:1)*(0,m._b)((0,m.Fp)(0,ye*ye*ce-it*it)),Vt=(it*ue-$t*wt)/ce,ee=(-it*$t-ue*wt)/ce,Be=(it*ue+$t*wt)/ce,qe=(-it*$t+ue*wt)/ce,X=Vt-nt,xt=ee-Zt,Xt=Be-nt,pe=qe-Zt;return X*X+xt*xt>Xt*Xt+pe*pe&&(Vt=Be,ee=qe),{cx:Vt,cy:ee,x01:-St,y01:-lt,x11:Vt*(J/ye-1),y11:ee*(J/ye-1)}}function V(){var W=L,T=Y,A=(0,O.Z)(0),R=null,J=k,H=et,rt=w,j=null;function ht(){var z,St,lt=+W.apply(this,arguments),vt=+T.apply(this,arguments),At=J.apply(this,arguments)-m.ou,ut=H.apply(this,arguments)-m.ou,ot=(0,m.Wn)(ut-At),nt=ut>At;if(j||(j=z=(0,v.Z)()),vt<lt&&(St=vt,vt=lt,lt=St),vt>m.Ho)if(ot>m.BZ-m.Ho)j.moveTo(vt*(0,m.mC)(At),vt*(0,m.O$)(At)),j.arc(0,0,vt,At,ut,!nt),lt>m.Ho&&(j.moveTo(lt*(0,m.mC)(ut),lt*(0,m.O$)(ut)),j.arc(0,0,lt,ut,At,nt));else{var X,xt,Zt=At,$t=ut,ue=At,ce=ut,ye=ot,it=ot,wt=rt.apply(this,arguments)/2,Vt=wt>m.Ho&&(R?+R.apply(this,arguments):(0,m._b)(lt*lt+vt*vt)),ee=(0,m.VV)((0,m.Wn)(vt-lt)/2,+A.apply(this,arguments)),Be=ee,qe=ee;if(Vt>m.Ho){var Xt=(0,m.ZR)(Vt/lt*(0,m.O$)(wt)),pe=(0,m.ZR)(Vt/vt*(0,m.O$)(wt));(ye-=2*Xt)>m.Ho?(ue+=Xt*=nt?1:-1,ce-=Xt):(ye=0,ue=ce=(At+ut)/2),(it-=2*pe)>m.Ho?(Zt+=pe*=nt?1:-1,$t-=pe):(it=0,Zt=$t=(At+ut)/2)}var It=vt*(0,m.mC)(Zt),he=vt*(0,m.O$)(Zt),Ce=lt*(0,m.mC)(ce),Ke=lt*(0,m.O$)(ce);if(ee>m.Ho){var je,gn=vt*(0,m.mC)($t),Mn=vt*(0,m.O$)($t),Rn=lt*(0,m.mC)(ue),Vn=lt*(0,m.O$)(ue);if(ot<m.pi&&(je=D(It,he,Rn,Vn,gn,Mn,Ce,Ke))){var On=It-je[0],hn=he-je[1],$n=gn-je[0],ni=Mn-je[1],De=1/(0,m.O$)((0,m.Kh)((On*$n+hn*ni)/((0,m._b)(On*On+hn*hn)*(0,m._b)($n*$n+ni*ni)))/2),Gn=(0,m._b)(je[0]*je[0]+je[1]*je[1]);Be=(0,m.VV)(ee,(lt-Gn)/(De-1)),qe=(0,m.VV)(ee,(vt-Gn)/(De+1))}}it>m.Ho?qe>m.Ho?(X=B(Rn,Vn,It,he,vt,qe,nt),xt=B(gn,Mn,Ce,Ke,vt,qe,nt),j.moveTo(X.cx+X.x01,X.cy+X.y01),qe<ee?j.arc(X.cx,X.cy,qe,(0,m.fv)(X.y01,X.x01),(0,m.fv)(xt.y01,xt.x01),!nt):(j.arc(X.cx,X.cy,qe,(0,m.fv)(X.y01,X.x01),(0,m.fv)(X.y11,X.x11),!nt),j.arc(0,0,vt,(0,m.fv)(X.cy+X.y11,X.cx+X.x11),(0,m.fv)(xt.cy+xt.y11,xt.cx+xt.x11),!nt),j.arc(xt.cx,xt.cy,qe,(0,m.fv)(xt.y11,xt.x11),(0,m.fv)(xt.y01,xt.x01),!nt))):(j.moveTo(It,he),j.arc(0,0,vt,Zt,$t,!nt)):j.moveTo(It,he),lt>m.Ho&&ye>m.Ho?Be>m.Ho?(X=B(Ce,Ke,gn,Mn,lt,-Be,nt),xt=B(It,he,Rn,Vn,lt,-Be,nt),j.lineTo(X.cx+X.x01,X.cy+X.y01),Be<ee?j.arc(X.cx,X.cy,Be,(0,m.fv)(X.y01,X.x01),(0,m.fv)(xt.y01,xt.x01),!nt):(j.arc(X.cx,X.cy,Be,(0,m.fv)(X.y01,X.x01),(0,m.fv)(X.y11,X.x11),!nt),j.arc(0,0,lt,(0,m.fv)(X.cy+X.y11,X.cx+X.x11),(0,m.fv)(xt.cy+xt.y11,xt.cx+xt.x11),nt),j.arc(xt.cx,xt.cy,Be,(0,m.fv)(xt.y11,xt.x11),(0,m.fv)(xt.y01,xt.x01),!nt))):j.arc(0,0,lt,ce,ue,nt):j.lineTo(Ce,Ke)}else j.moveTo(0,0);if(j.closePath(),z)return j=null,z+""||null}return ht.centroid=function(){var z=(+W.apply(this,arguments)+ +T.apply(this,arguments))/2,St=(+J.apply(this,arguments)+ +H.apply(this,arguments))/2-m.pi/2;return[(0,m.mC)(St)*z,(0,m.O$)(St)*z]},ht.innerRadius=function(z){return arguments.length?(W="function"==typeof z?z:(0,O.Z)(+z),ht):W},ht.outerRadius=function(z){return arguments.length?(T="function"==typeof z?z:(0,O.Z)(+z),ht):T},ht.cornerRadius=function(z){return arguments.length?(A="function"==typeof z?z:(0,O.Z)(+z),ht):A},ht.padRadius=function(z){return arguments.length?(R=null==z?null:"function"==typeof z?z:(0,O.Z)(+z),ht):R},ht.startAngle=function(z){return arguments.length?(J="function"==typeof z?z:(0,O.Z)(+z),ht):J},ht.endAngle=function(z){return arguments.length?(H="function"==typeof z?z:(0,O.Z)(+z),ht):H},ht.padAngle=function(z){return arguments.length?(rt="function"==typeof z?z:(0,O.Z)(+z),ht):rt},ht.context=function(z){return arguments.length?(j=null==z?null:z,ht):j},ht}},21456:(Rt,pt,o)=>{"use strict";function v(O){return function(){return O}}o.d(pt,{Z:()=>v})},6947:(Rt,pt,o)=>{"use strict";o.d(pt,{BZ:()=>V,Fp:()=>L,Ho:()=>w,Kh:()=>W,O$:()=>k,VV:()=>Y,Wn:()=>v,ZR:()=>T,_b:()=>et,fv:()=>O,mC:()=>m,ou:()=>B,pi:()=>D});var v=Math.abs,O=Math.atan2,m=Math.cos,L=Math.max,Y=Math.min,k=Math.sin,et=Math.sqrt,w=1e-12,D=Math.PI,B=D/2,V=2*D;function W(A){return A>1?0:A<-1?D:Math.acos(A)}function T(A){return A>=1?B:A<=-1?-B:Math.asin(A)}},76371:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>L});var v=o(8231),O=o(67661);const L=(0,v.Z)(function(k){k.setHours(0,0,0,0)},function(k,et){k.setDate(k.getDate()+et)},function(k,et){return(et-k-(et.getTimezoneOffset()-k.getTimezoneOffset())*O.yB)/O.UD},function(k){return k.getDate()-1})},67661:(Rt,pt,o)=>{"use strict";o.d(pt,{UD:()=>L,Y2:()=>m,Ym:()=>v,iM:()=>Y,yB:()=>O});var v=1e3,O=6e4,m=36e5,L=864e5,Y=6048e5},8231:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>m});var v=new Date,O=new Date;function m(L,Y,k,et){function w(D){return L(D=0===arguments.length?new Date:new Date(+D)),D}return w.floor=function(D){return L(D=new Date(+D)),D},w.ceil=function(D){return L(D=new Date(D-1)),Y(D,1),L(D),D},w.round=function(D){var B=w(D),V=w.ceil(D);return D-B<V-D?B:V},w.offset=function(D,B){return Y(D=new Date(+D),null==B?1:Math.floor(B)),D},w.range=function(D,B,V){var T,W=[];if(D=w.ceil(D),V=null==V?1:Math.floor(V),!(D<B&&V>0))return W;do{W.push(T=new Date(+D)),Y(D,V),L(D)}while(T<D&&D<B);return W},w.filter=function(D){return m(function(B){if(B>=B)for(;L(B),!D(B);)B.setTime(B-1)},function(B,V){if(B>=B)if(V<0)for(;++V<=0;)for(;Y(B,-1),!D(B););else for(;--V>=0;)for(;Y(B,1),!D(B););})},k&&(w.count=function(D,B){return v.setTime(+D),O.setTime(+B),L(v),L(O),Math.floor(k(v,O))},w.every=function(D){return D=Math.floor(D),isFinite(D)&&D>0?D>1?w.filter(et?function(B){return et(B)%D==0}:function(B){return w.count(0,B)%D==0}):w:null}),w}},47793:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>L});var v=o(8231),O=o(67661);const L=(0,v.Z)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*O.Ym)},function(k,et){k.setTime(+k+et*O.yB)},function(k,et){return(et-k)/O.yB},function(k){return k.getMinutes()})},14296:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>m});const m=(0,o(8231).Z)(function(Y){Y.setDate(1),Y.setHours(0,0,0,0)},function(Y,k){Y.setMonth(Y.getMonth()+k)},function(Y,k){return k.getMonth()-Y.getMonth()+12*(k.getFullYear()-Y.getFullYear())},function(Y){return Y.getMonth()})},56513:(Rt,pt,o)=>{"use strict";o.d(pt,{Z:()=>m});var v=o(8231),O=(0,v.Z)(function(Y){Y.setMonth(0,1),Y.setHours(0,0,0,0)},function(Y,k){Y.setFullYear(Y.getFullYear()+k)},function(Y,k){return k.getFullYear()-Y.getFullYear()},function(Y){return Y.getFullYear()});O.every=function(Y){return isFinite(Y=Math.floor(Y))&&Y>0?(0,v.Z)(function(k){k.setFullYear(Math.floor(k.getFullYear()/Y)*Y),k.setMonth(0,1),k.setHours(0,0,0,0)},function(k,et){k.setFullYear(k.getFullYear()+et*Y)}):null};const m=O},49194:(Rt,pt,o)=>{"use strict";o.d(pt,{B7:()=>A,HT:()=>R,zO:()=>W});var Y,k,v=0,O=0,m=0,et=0,w=0,D=0,B="object"==typeof performance&&performance.now?performance:Date,V="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(z){setTimeout(z,17)};function W(){return w||(V(T),w=B.now()+D)}function T(){w=0}function A(){this._call=this._time=this._next=null}function R(z,St,lt){var vt=new A;return vt.restart(z,St,lt),vt}function H(){w=(et=B.now())+D,v=O=0;try{!function J(){W(),++v;for(var St,z=Y;z;)(St=w-z._time)>=0&&z._call.call(null,St),z=z._next;--v}()}finally{v=0,function j(){for(var z,lt,St=Y,vt=1/0;St;)St._call?(vt>St._time&&(vt=St._time),z=St,St=St._next):(lt=St._next,St._next=null,St=z?z._next=lt:Y=lt);k=z,ht(vt)}(),w=0}}function rt(){var z=B.now(),St=z-et;St>1e3&&(D-=St,et=z)}function ht(z){v||(O&&(O=clearTimeout(O)),z-w>24?(z<1/0&&(O=setTimeout(H,z-B.now()-D)),m&&(m=clearInterval(m))):(m||(et=B.now(),m=setInterval(rt,1e3)),v=1,V(H)))}A.prototype=R.prototype={constructor:A,restart:function(z,St,lt){if("function"!=typeof z)throw new TypeError("callback is not a function");lt=(null==lt?W():+lt)+(null==St?0:+St),!this._next&&k!==this&&(k?k._next=this:Y=this,k=this),this._call=z,this._time=lt,ht()},stop:function(){this._call&&(this._call=null,this._time=1/0,ht())}}},64747:(Rt,pt,o)=>{"use strict";o.d(pt,{e1:()=>j,eR:()=>Ai});var v=o(73171),O=o(25922),m=o(49194);function L(h,b,N){var q=new m.B7;return q.restart(function(Dt){q.stop(),h(Dt+b)},b=null==b?0:+b,N),q}var Y=(0,O.Z)("start","end","cancel","interrupt"),k=[];function A(h,b,N,q,Dt,Ut){var Tt=h.__transition;if(Tt){if(N in Tt)return}else h.__transition={};!function rt(h,b,N){var Dt,q=h.__transition;function Tt(Qt){var Jt,be,Re,Ie;if(1!==N.state)return zt();for(Jt in q)if((Ie=q[Jt]).name===N.name){if(3===Ie.state)return L(Tt);4===Ie.state?(Ie.state=6,Ie.timer.stop(),Ie.on.call("interrupt",h,h.__data__,Ie.index,Ie.group),delete q[Jt]):+Jt<b&&(Ie.state=6,Ie.timer.stop(),Ie.on.call("cancel",h,h.__data__,Ie.index,Ie.group),delete q[Jt])}if(L(function(){3===N.state&&(N.state=4,N.timer.restart(Gt,N.delay,N.time),Gt(Qt))}),N.state=2,N.on.call("start",h,h.__data__,N.index,N.group),2===N.state){for(N.state=3,Dt=new Array(Re=N.tween.length),Jt=0,be=-1;Jt<Re;++Jt)(Ie=N.tween[Jt].value.call(h,h.__data__,N.index,N.group))&&(Dt[++be]=Ie);Dt.length=be+1}}function Gt(Qt){for(var Jt=Qt<N.duration?N.ease.call(null,Qt/N.duration):(N.timer.restart(zt),N.state=5,1),be=-1,Re=Dt.length;++be<Re;)Dt[be].call(h,Jt);5===N.state&&(N.on.call("end",h,h.__data__,N.index,N.group),zt())}function zt(){for(var Qt in N.state=6,N.timer.stop(),delete q[b],q)return;delete h.__transition}q[b]=N,N.timer=(0,m.HT)(function Ut(Qt){N.state=1,N.timer.restart(Tt,N.delay,N.time),N.delay<=Qt&&Tt(Qt-N.delay)},0,N.time)}(h,N,{name:b,index:q,group:Dt,on:Y,tween:k,time:Ut.time,delay:Ut.delay,duration:Ut.duration,ease:Ut.ease,timer:null,state:0})}function R(h,b){var N=H(h,b);if(N.state>0)throw new Error("too late; already scheduled");return N}function J(h,b){var N=H(h,b);if(N.state>3)throw new Error("too late; already running");return N}function H(h,b){var N=h.__transition;if(!N||!(N=N[b]))throw new Error("transition not found");return N}function j(h,b){var q,Dt,Tt,N=h.__transition,Ut=!0;if(N){for(Tt in b=null==b?null:b+"",N)(q=N[Tt]).name===b?(Dt=q.state>2&&q.state<5,q.state=6,q.timer.stop(),q.on.call(Dt?"interrupt":"cancel",h,h.__data__,q.index,q.group),delete N[Tt]):Ut=!1;Ut&&delete h.__transition}}var At,ut,ot,nt,z=o(6738),St=180/Math.PI,lt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vt(h,b,N,q,Dt,Ut){var Tt,Gt,zt;return(Tt=Math.sqrt(h*h+b*b))&&(h/=Tt,b/=Tt),(zt=h*N+b*q)&&(N-=h*zt,q-=b*zt),(Gt=Math.sqrt(N*N+q*q))&&(N/=Gt,q/=Gt,zt/=Gt),h*q<b*N&&(h=-h,b=-b,zt=-zt,Tt=-Tt),{translateX:Dt,translateY:Ut,rotate:Math.atan2(b,h)*St,skewX:Math.atan(zt)*St,scaleX:Tt,scaleY:Gt}}function ue(h,b,N,q){function Dt(Qt){return Qt.length?Qt.pop()+" ":""}return function(Qt,Jt){var be=[],Re=[];return Qt=h(Qt),Jt=h(Jt),function Ut(Qt,Jt,be,Re,Ie,Hn){if(Qt!==be||Jt!==Re){var Qn=Ie.push("translate(",null,b,null,N);Hn.push({i:Qn-4,x:(0,z.Z)(Qt,be)},{i:Qn-2,x:(0,z.Z)(Jt,Re)})}else(be||Re)&&Ie.push("translate("+be+b+Re+N)}(Qt.translateX,Qt.translateY,Jt.translateX,Jt.translateY,be,Re),function Tt(Qt,Jt,be,Re){Qt!==Jt?(Qt-Jt>180?Jt+=360:Jt-Qt>180&&(Qt+=360),Re.push({i:be.push(Dt(be)+"rotate(",null,q)-2,x:(0,z.Z)(Qt,Jt)})):Jt&&be.push(Dt(be)+"rotate("+Jt+q)}(Qt.rotate,Jt.rotate,be,Re),function Gt(Qt,Jt,be,Re){Qt!==Jt?Re.push({i:be.push(Dt(be)+"skewX(",null,q)-2,x:(0,z.Z)(Qt,Jt)}):Jt&&be.push(Dt(be)+"skewX("+Jt+q)}(Qt.skewX,Jt.skewX,be,Re),function zt(Qt,Jt,be,Re,Ie,Hn){if(Qt!==be||Jt!==Re){var Qn=Ie.push(Dt(Ie)+"scale(",null,",",null,")");Hn.push({i:Qn-4,x:(0,z.Z)(Qt,be)},{i:Qn-2,x:(0,z.Z)(Jt,Re)})}else(1!==be||1!==Re)&&Ie.push(Dt(Ie)+"scale("+be+","+Re+")")}(Qt.scaleX,Qt.scaleY,Jt.scaleX,Jt.scaleY,be,Re),Qt=Jt=null,function(Ie){for(var Mi,Hn=-1,Qn=Re.length;++Hn<Qn;)be[(Mi=Re[Hn]).i]=Mi.x(Ie);return be.join("")}}}var ce=ue(function Zt(h){return"none"===h?lt:(At||(At=document.createElement("DIV"),ut=document.documentElement,ot=document.defaultView),At.style.transform=h,h=ot.getComputedStyle(ut.appendChild(At),null).getPropertyValue("transform"),ut.removeChild(At),vt(+(h=h.slice(7,-1).split(","))[0],+h[1],+h[2],+h[3],+h[4],+h[5]))},"px, ","px)","deg)"),ye=ue(function $t(h){return null!=h&&(nt||(nt=document.createElementNS("http://www.w3.org/2000/svg","g")),nt.setAttribute("transform",h),h=nt.transform.baseVal.consolidate())?vt((h=h.matrix).a,h.b,h.c,h.d,h.e,h.f):lt},", ",")",")"),it=o(36175);function wt(h,b){var N,q;return function(){var Dt=J(this,h),Ut=Dt.tween;if(Ut!==N)for(var Tt=0,Gt=(q=N=Ut).length;Tt<Gt;++Tt)if(q[Tt].name===b){(q=q.slice()).splice(Tt,1);break}Dt.tween=q}}function Vt(h,b,N){var q,Dt;if("function"!=typeof N)throw new Error;return function(){var Ut=J(this,h),Tt=Ut.tween;if(Tt!==q){Dt=(q=Tt).slice();for(var Gt={name:b,value:N},zt=0,Qt=Dt.length;zt<Qt;++zt)if(Dt[zt].name===b){Dt[zt]=Gt;break}zt===Qt&&Dt.push(Gt)}Ut.tween=Dt}}function Be(h,b,N){var q=h._id;return h.each(function(){var Dt=J(this,q);(Dt.value||(Dt.value={}))[b]=N.apply(this,arguments)}),function(Dt){return H(Dt,q).value[b]}}function qe(h,b,N){h.prototype=b.prototype=N,N.constructor=h}function X(h,b){var N=Object.create(h.prototype);for(var q in b)N[q]=b[q];return N}function xt(){}var pe=1/.7,It="\\s*([+-]?\\d+)\\s*",he="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ke=/^#([0-9a-f]{3,8})$/,gn=new RegExp("^rgb\\("+[It,It,It]+"\\)$"),Mn=new RegExp("^rgb\\("+[Ce,Ce,Ce]+"\\)$"),Rn=new RegExp("^rgba\\("+[It,It,It,he]+"\\)$"),Vn=new RegExp("^rgba\\("+[Ce,Ce,Ce,he]+"\\)$"),je=new RegExp("^hsl\\("+[he,Ce,Ce]+"\\)$"),On=new RegExp("^hsla\\("+[he,Ce,Ce,he]+"\\)$"),hn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $n(){return this.rgb().formatHex()}function De(){return this.rgb().formatRgb()}function Gn(h){var b,N;return h=(h+"").trim().toLowerCase(),(b=Ke.exec(h))?(N=b[1].length,b=parseInt(b[1],16),6===N?xi(b):3===N?new re(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===N?ne(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===N?ne(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=gn.exec(h))?new re(b[1],b[2],b[3],1):(b=Mn.exec(h))?new re(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=Rn.exec(h))?ne(b[1],b[2],b[3],b[4]):(b=Vn.exec(h))?ne(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=je.exec(h))?rn(b[1],b[2]/100,b[3]/100,1):(b=On.exec(h))?rn(b[1],b[2]/100,b[3]/100,b[4]):hn.hasOwnProperty(h)?xi(hn[h]):"transparent"===h?new re(NaN,NaN,NaN,0):null}function xi(h){return new re(h>>16&255,h>>8&255,255&h,1)}function ne(h,b,N,q){return q<=0&&(h=b=N=NaN),new re(h,b,N,q)}function ve(h){return h instanceof xt||(h=Gn(h)),h?new re((h=h.rgb()).r,h.g,h.b,h.opacity):new re}function re(h,b,N,q){this.r=+h,this.g=+b,this.b=+N,this.opacity=+q}function Ye(){return"#"+Tn(this.r)+Tn(this.g)+Tn(this.b)}function _n(){var h=this.opacity;return(1===(h=isNaN(h)?1:Math.max(0,Math.min(1,h)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===h?")":", "+h+")")}function Tn(h){return((h=Math.max(0,Math.min(255,Math.round(h)||0)))<16?"0":"")+h.toString(16)}function rn(h,b,N,q){return q<=0?h=b=N=NaN:N<=0||N>=1?h=b=NaN:b<=0&&(h=NaN),new $e(h,b,N,q)}function Ve(h){if(h instanceof $e)return new $e(h.h,h.s,h.l,h.opacity);if(h instanceof xt||(h=Gn(h)),!h)return new $e;if(h instanceof $e)return h;var b=(h=h.rgb()).r/255,N=h.g/255,q=h.b/255,Dt=Math.min(b,N,q),Ut=Math.max(b,N,q),Tt=NaN,Gt=Ut-Dt,zt=(Ut+Dt)/2;return Gt?(Tt=b===Ut?(N-q)/Gt+6*(N<q):N===Ut?(q-b)/Gt+2:(b-N)/Gt+4,Gt/=zt<.5?Ut+Dt:2-Ut-Dt,Tt*=60):Gt=zt>0&&zt<1?0:Tt,new $e(Tt,Gt,zt,h.opacity)}function $e(h,b,N,q){this.h=+h,this.s=+b,this.l=+N,this.opacity=+q}function Fn(h,b,N){return 255*(h<60?b+(N-b)*h/60:h<180?N:h<240?b+(N-b)*(240-h)/60:b)}qe(xt,Gn,{copy:function(h){return Object.assign(new this.constructor,this,h)},displayable:function(){return this.rgb().displayable()},hex:$n,formatHex:$n,formatHsl:function ni(){return Ve(this).formatHsl()},formatRgb:De,toString:De}),qe(re,function we(h,b,N,q){return 1===arguments.length?ve(h):new re(h,b,N,null==q?1:q)},X(xt,{brighter:function(h){return h=null==h?pe:Math.pow(pe,h),new re(this.r*h,this.g*h,this.b*h,this.opacity)},darker:function(h){return h=null==h?.7:Math.pow(.7,h),new re(this.r*h,this.g*h,this.b*h,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ye,formatHex:Ye,formatRgb:_n,toString:_n})),qe($e,function sn(h,b,N,q){return 1===arguments.length?Ve(h):new $e(h,b,N,null==q?1:q)},X(xt,{brighter:function(h){return h=null==h?pe:Math.pow(pe,h),new $e(this.h,this.s,this.l*h,this.opacity)},darker:function(h){return h=null==h?.7:Math.pow(.7,h),new $e(this.h,this.s,this.l*h,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),b=isNaN(h)||isNaN(this.s)?0:this.s,N=this.l,q=N+(N<.5?N:1-N)*b,Dt=2*N-q;return new re(Fn(h>=240?h-240:h+120,Dt,q),Fn(h,Dt,q),Fn(h<120?h+240:h-120,Dt,q),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var h=this.opacity;return(1===(h=isNaN(h)?1:Math.max(0,Math.min(1,h)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===h?")":", "+h+")")}}));var pn=o(23534),mn=o(23096);function Wn(h,b){var N;return("number"==typeof b?z.Z:b instanceof Gn?pn.ZP:(N=Gn(b))?(b=N,pn.ZP):mn.Z)(h,b)}function an(h){return function(){this.removeAttribute(h)}}function xn(h){return function(){this.removeAttributeNS(h.space,h.local)}}function Ln(h,b,N){var q,Ut,Dt=N+"";return function(){var Tt=this.getAttribute(h);return Tt===Dt?null:Tt===q?Ut:Ut=b(q=Tt,N)}}function on(h,b,N){var q,Ut,Dt=N+"";return function(){var Tt=this.getAttributeNS(h.space,h.local);return Tt===Dt?null:Tt===q?Ut:Ut=b(q=Tt,N)}}function En(h,b,N){var q,Dt,Ut;return function(){var Tt,zt,Gt=N(this);return null==Gt?void this.removeAttribute(h):(Tt=this.getAttribute(h))===(zt=Gt+"")?null:Tt===q&&zt===Dt?Ut:(Dt=zt,Ut=b(q=Tt,Gt))}}function ze(h,b,N){var q,Dt,Ut;return function(){var Tt,zt,Gt=N(this);return null==Gt?void this.removeAttributeNS(h.space,h.local):(Tt=this.getAttributeNS(h.space,h.local))===(zt=Gt+"")?null:Tt===q&&zt===Dt?Ut:(Dt=zt,Ut=b(q=Tt,Gt))}}function vn(h,b){return function(N){this.setAttribute(h,b.call(this,N))}}function dn(h,b){return function(N){this.setAttributeNS(h.space,h.local,b.call(this,N))}}function $(h,b){var N,q;function Dt(){var Ut=b.apply(this,arguments);return Ut!==q&&(N=(q=Ut)&&dn(h,Ut)),N}return Dt._value=b,Dt}function bt(h,b){var N,q;function Dt(){var Ut=b.apply(this,arguments);return Ut!==q&&(N=(q=Ut)&&vn(h,Ut)),N}return Dt._value=b,Dt}function gt(h,b){return function(){R(this,h).delay=+b.apply(this,arguments)}}function Kt(h,b){return b=+b,function(){R(this,h).delay=b}}function kt(h,b){return function(){J(this,h).duration=+b.apply(this,arguments)}}function se(h,b){return b=+b,function(){J(this,h).duration=b}}function Le(h,b){if("function"!=typeof b)throw new Error;return function(){J(this,h).ease=b}}var ln=o(97905);function yi(h,b,N){var q,Dt,Ut=function tn(h){return(h+"").trim().split(/^|\s+/).every(function(b){var N=b.indexOf(".");return N>=0&&(b=b.slice(0,N)),!b||"start"===b})}(b)?R:J;return function(){var Tt=Ut(this,h),Gt=Tt.on;Gt!==q&&(Dt=(q=Gt).copy()).on(b,N),Tt.on=Dt}}var di=o(29742),fi=o(32037),Gi=v.ZP.prototype.constructor,un=o(24476);function tr(h){return function(){this.style.removeProperty(h)}}function Ui(h,b,N){return function(q){this.style.setProperty(h,b.call(this,q),N)}}function Ii(h,b,N){var q,Dt;function Ut(){var Tt=b.apply(this,arguments);return Tt!==Dt&&(q=(Dt=Tt)&&Ui(h,Tt,N)),q}return Ut._value=b,Ut}function Oi(h){return function(b){this.textContent=h.call(this,b)}}function Li(h){var b,N;function q(){var Dt=h.apply(this,arguments);return Dt!==N&&(b=(N=Dt)&&Oi(Dt)),b}return q._value=h,q}var pi=0;function oi(h,b,N,q){this._groups=h,this._parents=b,this._name=N,this._id=q}function Ai(h){return(0,v.ZP)().transition(h)}function Nn(){return++pi}var kn=v.ZP.prototype;oi.prototype=Ai.prototype={constructor:oi,select:function $i(h){var b=this._name,N=this._id;"function"!=typeof h&&(h=(0,di.Z)(h));for(var q=this._groups,Dt=q.length,Ut=new Array(Dt),Tt=0;Tt<Dt;++Tt)for(var Jt,be,Gt=q[Tt],zt=Gt.length,Qt=Ut[Tt]=new Array(zt),Re=0;Re<zt;++Re)(Jt=Gt[Re])&&(be=h.call(Jt,Jt.__data__,Re,Gt))&&("__data__"in Jt&&(be.__data__=Jt.__data__),Qt[Re]=be,A(Qt[Re],b,N,Re,Qt,H(Jt,N)));return new oi(Ut,this._parents,b,N)},selectAll:function Bi(h){var b=this._name,N=this._id;"function"!=typeof h&&(h=(0,fi.Z)(h));for(var q=this._groups,Dt=q.length,Ut=[],Tt=[],Gt=0;Gt<Dt;++Gt)for(var Jt,zt=q[Gt],Qt=zt.length,be=0;be<Qt;++be)if(Jt=zt[be]){for(var Ie,Re=h.call(Jt,Jt.__data__,be,zt),Hn=H(Jt,N),Qn=0,Mi=Re.length;Qn<Mi;++Qn)(Ie=Re[Qn])&&A(Ie,b,N,Qn,Re,Hn);Ut.push(Re),Tt.push(Jt)}return new oi(Ut,Tt,b,N)},filter:function Bn(h){"function"!=typeof h&&(h=(0,ln.Z)(h));for(var b=this._groups,N=b.length,q=new Array(N),Dt=0;Dt<N;++Dt)for(var zt,Ut=b[Dt],Tt=Ut.length,Gt=q[Dt]=[],Qt=0;Qt<Tt;++Qt)(zt=Ut[Qt])&&h.call(zt,zt.__data__,Qt,Ut)&&Gt.push(zt);return new oi(q,this._parents,this._name,this._id)},merge:function Ne(h){if(h._id!==this._id)throw new Error;for(var b=this._groups,N=h._groups,q=b.length,Ut=Math.min(q,N.length),Tt=new Array(q),Gt=0;Gt<Ut;++Gt)for(var Re,zt=b[Gt],Qt=N[Gt],Jt=zt.length,be=Tt[Gt]=new Array(Jt),Ie=0;Ie<Jt;++Ie)(Re=zt[Ie]||Qt[Ie])&&(be[Ie]=Re);for(;Gt<q;++Gt)Tt[Gt]=b[Gt];return new oi(Tt,this._parents,this._name,this._id)},selection:function gi(){return new Gi(this._groups,this._parents)},transition:function ur(){for(var h=this._name,b=this._id,N=Nn(),q=this._groups,Dt=q.length,Ut=0;Ut<Dt;++Ut)for(var zt,Tt=q[Ut],Gt=Tt.length,Qt=0;Qt<Gt;++Qt)if(zt=Tt[Qt]){var Jt=H(zt,b);A(zt,h,N,Qt,Tt,{time:Jt.time+Jt.delay+Jt.duration,delay:0,duration:Jt.duration,ease:Jt.ease})}return new oi(q,this._parents,h,N)},call:kn.call,nodes:kn.nodes,node:kn.node,size:kn.size,empty:kn.empty,each:kn.each,on:function Di(h,b){var N=this._id;return arguments.length<2?H(this.node(),N).on.on(h):this.each(yi(N,h,b))},attr:function _e(h,b){var N=(0,it.Z)(h),q="transform"===N?ye:Wn;return this.attrTween(h,"function"==typeof b?(N.local?ze:En)(N,q,Be(this,"attr."+h,b)):null==b?(N.local?xn:an)(N):(N.local?on:Ln)(N,q,b))},attrTween:function jt(h,b){var N="attr."+h;if(arguments.length<2)return(N=this.tween(N))&&N._value;if(null==b)return this.tween(N,null);if("function"!=typeof b)throw new Error;var q=(0,it.Z)(h);return this.tween(N,(q.local?$:bt)(q,b))},style:function Ci(h,b,N){var q="transform"==(h+="")?ce:Wn;return null==b?this.styleTween(h,function Pi(h,b){var N,q,Dt;return function(){var Ut=(0,un.S)(this,h),Tt=(this.style.removeProperty(h),(0,un.S)(this,h));return Ut===Tt?null:Ut===N&&Tt===q?Dt:Dt=b(N=Ut,q=Tt)}}(h,q)).on("end.style."+h,tr(h)):"function"==typeof b?this.styleTween(h,function si(h,b,N){var q,Dt,Ut;return function(){var Tt=(0,un.S)(this,h),Gt=N(this),zt=Gt+"";return null==Gt&&(this.style.removeProperty(h),zt=Gt=(0,un.S)(this,h)),Tt===zt?null:Tt===q&&zt===Dt?Ut:(Dt=zt,Ut=b(q=Tt,Gt))}}(h,q,Be(this,"style."+h,b))).each(function en(h,b){var N,q,Dt,Gt,Ut="style."+b,Tt="end."+Ut;return function(){var zt=J(this,h),Qt=zt.on,Jt=null==zt.value[Ut]?Gt||(Gt=tr(b)):void 0;(Qt!==N||Dt!==Jt)&&(q=(N=Qt).copy()).on(Tt,Dt=Jt),zt.on=q}}(this._id,h)):this.styleTween(h,function Ri(h,b,N){var q,Ut,Dt=N+"";return function(){var Tt=(0,un.S)(this,h);return Tt===Dt?null:Tt===q?Ut:Ut=b(q=Tt,N)}}(h,q,b),N).on("end.style."+h,null)},styleTween:function Fi(h,b,N){var q="style."+(h+="");if(arguments.length<2)return(q=this.tween(q))&&q._value;if(null==b)return this.tween(q,null);if("function"!=typeof b)throw new Error;return this.tween(q,Ii(h,b,null==N?"":N))},text:function lr(h){return this.tween("text","function"==typeof h?function ji(h){return function(){var b=h(this);this.textContent=null==b?"":b}}(Be(this,"text",h)):function Wi(h){return function(){this.textContent=h}}(null==h?"":h+""))},textTween:function Ki(h){var b="text";if(arguments.length<1)return(b=this.tween(b))&&b._value;if(null==h)return this.tween(b,null);if("function"!=typeof h)throw new Error;return this.tween(b,Li(h))},remove:function ii(){return this.on("end.remove",function qi(h){return function(){var b=this.parentNode;for(var N in this.__transition)if(+N!==h)return;b&&b.removeChild(this)}}(this._id))},tween:function ee(h,b){var N=this._id;if(h+="",arguments.length<2){for(var Tt,q=H(this.node(),N).tween,Dt=0,Ut=q.length;Dt<Ut;++Dt)if((Tt=q[Dt]).name===h)return Tt.value;return null}return this.each((null==b?wt:Vt)(N,h,b))},delay:function ie(h){var b=this._id;return arguments.length?this.each(("function"==typeof h?gt:Kt)(b,h)):H(this.node(),b).delay},duration:function Pe(h){var b=this._id;return arguments.length?this.each(("function"==typeof h?kt:se)(b,h)):H(this.node(),b).duration},ease:function Xe(h){var b=this._id;return arguments.length?this.each(Le(b,h)):H(this.node(),b).ease},end:function Hi(){var h,b,N=this,q=N._id,Dt=N.size();return new Promise(function(Ut,Tt){var Gt={value:Tt},zt={value:function(){0==--Dt&&Ut()}};N.each(function(){var Qt=J(this,q),Jt=Qt.on;Jt!==h&&((b=(h=Jt).copy())._.cancel.push(Gt),b._.interrupt.push(Gt),b._.end.push(zt)),Qt.on=b})})}};var zi={time:null,delay:0,duration:250,ease:function Qe(h){return((h*=2)<=1?h*h*h:(h-=2)*h*h+2)/2}};function rr(h,b){for(var N;!(N=h.__transition)||!(N=N[b]);)if(!(h=h.parentNode))return zi.time=(0,m.zO)(),zi;return N}v.ZP.prototype.interrupt=function ht(h){return this.each(function(){j(this,h)})},v.ZP.prototype.transition=function Ze(h){var b,N;h instanceof oi?(b=h._id,h=h._name):(b=Nn(),(N=zi).time=(0,m.zO)(),h=null==h?null:h+"");for(var q=this._groups,Dt=q.length,Ut=0;Ut<Dt;++Ut)for(var zt,Tt=q[Ut],Gt=Tt.length,Qt=0;Qt<Gt;++Qt)(zt=Tt[Qt])&&A(zt,h,b,Qt,Tt,N||rr(zt,b));return new oi(q,this._parents,h,b)}},56859:(Rt,pt,o)=>{"use strict";o.d(pt,{LLu:()=>ye,y4O:()=>it,Khx:()=>ce,F5q:()=>ue,b4o:()=>H.b4,Wem:()=>H.We,Hh:()=>jt,A4v:()=>Bn,Fp7:()=>H.Fp,VV$:()=>H.VV,tiA:()=>fi.ti,Ys:()=>Bi.Z,rr1:()=>gi.Z,Z_i:()=>Gi.Z,F0B:()=>un.Z,jBk:()=>Pi.Z});var H=o(62225),rt=Array.prototype.slice;function j(l){return l}function At(l){return"translate("+(l+.5)+",0)"}function ut(l){return"translate(0,"+(l+.5)+")"}function ot(l){return function(g){return+l(g)}}function nt(l){var g=Math.max(0,l.bandwidth()-1)/2;return l.round()&&(g=Math.round(g)),function(p){return+l(p)+g}}function Zt(){return!this.__axis}function $t(l,g){var p=[],M=null,C=null,P=6,U=6,K=3,Q=1===l||4===l?-1:1,Z=4===l||2===l?"x":"y",mt=1===l||3===l?At:ut;function ft(tt){var Et=null==M?g.ticks?g.ticks.apply(g,p):g.domain():M,dt=null==C?g.tickFormat?g.tickFormat.apply(g,p):j:C,F=Math.max(P,0)+K,yt=g.range(),st=+yt[0]+.5,Ot=+yt[yt.length-1]+.5,Pt=(g.bandwidth?nt:ot)(g.copy()),ae=tt.selection?tt.selection():tt,Oe=ae.selectAll(".domain").data([null]),Fe=ae.selectAll(".tick").data(Et,g).order(),We=Fe.exit(),He=Fe.enter().append("g").attr("class","tick"),Me=Fe.select("line"),ge=Fe.select("text");Oe=Oe.merge(Oe.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Fe=Fe.merge(He),Me=Me.merge(He.append("line").attr("stroke","currentColor").attr(Z+"2",Q*P)),ge=ge.merge(He.append("text").attr("fill","currentColor").attr(Z,Q*F).attr("dy",1===l?"0em":3===l?"0.71em":"0.32em")),tt!==ae&&(Oe=Oe.transition(tt),Fe=Fe.transition(tt),Me=Me.transition(tt),ge=ge.transition(tt),We=We.transition(tt).attr("opacity",1e-6).attr("transform",function(Te){return isFinite(Te=Pt(Te))?mt(Te):this.getAttribute("transform")}),He.attr("opacity",1e-6).attr("transform",function(Te){var at=this.parentNode.__axis;return mt(at&&isFinite(at=at(Te))?at:Pt(Te))})),We.remove(),Oe.attr("d",4===l||2==l?U?"M"+Q*U+","+st+"H0.5V"+Ot+"H"+Q*U:"M0.5,"+st+"V"+Ot:U?"M"+st+","+Q*U+"V0.5H"+Ot+"V"+Q*U:"M"+st+",0.5H"+Ot),Fe.attr("opacity",1).attr("transform",function(Te){return mt(Pt(Te))}),Me.attr(Z+"2",Q*P),ge.attr(Z,Q*F).text(dt),ae.filter(Zt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===l?"start":4===l?"end":"middle"),ae.each(function(){this.__axis=Pt})}return ft.scale=function(tt){return arguments.length?(g=tt,ft):g},ft.ticks=function(){return p=rt.call(arguments),ft},ft.tickArguments=function(tt){return arguments.length?(p=null==tt?[]:rt.call(tt),ft):p.slice()},ft.tickValues=function(tt){return arguments.length?(M=null==tt?null:rt.call(tt),ft):M&&M.slice()},ft.tickFormat=function(tt){return arguments.length?(C=tt,ft):C},ft.tickSize=function(tt){return arguments.length?(P=U=+tt,ft):P},ft.tickSizeInner=function(tt){return arguments.length?(P=+tt,ft):P},ft.tickSizeOuter=function(tt){return arguments.length?(U=+tt,ft):U},ft.tickPadding=function(tt){return arguments.length?(K=+tt,ft):K},ft}function ue(l){return $t(1,l)}function ce(l){return $t(2,l)}function ye(l){return $t(3,l)}function it(l){return $t(4,l)}o(24099),Math,Math,Math,Math;var Vn=o(88097);function ne(l){return function(){return l}}function ve(){return 1e-6*(Math.random()-.5)}function re(l,g,p,M){if(isNaN(g)||isNaN(p))return l;var C,ft,tt,Et,dt,F,yt,st,Ot,P=l._root,U={data:M},K=l._x0,Q=l._y0,Z=l._x1,mt=l._y1;if(!P)return l._root=U,l;for(;P.length;)if((F=g>=(ft=(K+Z)/2))?K=ft:Z=ft,(yt=p>=(tt=(Q+mt)/2))?Q=tt:mt=tt,C=P,!(P=P[st=yt<<1|F]))return C[st]=U,l;if(Et=+l._x.call(null,P.data),dt=+l._y.call(null,P.data),g===Et&&p===dt)return U.next=P,C?C[st]=U:l._root=U,l;do{C=C?C[st]=new Array(4):l._root=new Array(4),(F=g>=(ft=(K+Z)/2))?K=ft:Z=ft,(yt=p>=(tt=(Q+mt)/2))?Q=tt:mt=tt}while((st=yt<<1|F)==(Ot=(dt>=tt)<<1|Et>=ft));return C[Ot]=P,C[st]=U,l}function Ve(l,g,p,M,C){this.node=l,this.x0=g,this.y0=p,this.x1=M,this.y1=C}function xn(l){return l[0]}function on(l){return l[1]}function ze(l,g,p){var M=new _e(null==g?xn:g,null==p?on:p,NaN,NaN,NaN,NaN);return null==l?M:M.addAll(l)}function _e(l,g,p,M,C,P){this._x=l,this._y=g,this._x0=p,this._y0=M,this._x1=C,this._y1=P,this._root=void 0}function vn(l){for(var g={data:l.data},p=g;l=l.next;)p=p.next={data:l.data};return g}var dn=ze.prototype=_e.prototype;function $(l){return l.x+l.vx}function bt(l){return l.y+l.vy}function jt(l){var g,p,M=1,C=1;function P(){for(var Q,mt,ft,tt,Et,dt,F,Z=g.length,yt=0;yt<C;++yt)for(mt=ze(g,$,bt).visitAfter(U),Q=0;Q<Z;++Q)F=(dt=p[(ft=g[Q]).index])*dt,tt=ft.x+ft.vx,Et=ft.y+ft.vy,mt.visit(st);function st(Ot,Pt,ae,Oe,Fe){var We=Ot.data,He=Ot.r,Me=dt+He;if(!We)return Pt>tt+Me||Oe<tt-Me||ae>Et+Me||Fe<Et-Me;if(We.index>ft.index){var ge=tt-We.x-We.vx,Te=Et-We.y-We.vy,at=ge*ge+Te*Te;at<Me*Me&&(0===ge&&(at+=(ge=ve())*ge),0===Te&&(at+=(Te=ve())*Te),at=(Me-(at=Math.sqrt(at)))/at*M,ft.vx+=(ge*=at)*(Me=(He*=He)/(F+He)),ft.vy+=(Te*=at)*Me,We.vx-=ge*(Me=1-Me),We.vy-=Te*Me)}}}function U(Q){if(Q.data)return Q.r=p[Q.data.index];for(var Z=Q.r=0;Z<4;++Z)Q[Z]&&Q[Z].r>Q.r&&(Q.r=Q[Z].r)}function K(){if(g){var Q,mt,Z=g.length;for(p=new Array(Z),Q=0;Q<Z;++Q)p[(mt=g[Q]).index]=+l(mt,Q,g)}}return"function"!=typeof l&&(l=ne(null==l?1:+l)),P.initialize=function(Q){g=Q,K()},P.iterations=function(Q){return arguments.length?(C=+Q,P):C},P.strength=function(Q){return arguments.length?(M=+Q,P):M},P.radius=function(Q){return arguments.length?(l="function"==typeof Q?Q:ne(+Q),K(),P):l},P}dn.copy=function(){var p,M,l=new _e(this._x,this._y,this._x0,this._y0,this._x1,this._y1),g=this._root;if(!g)return l;if(!g.length)return l._root=vn(g),l;for(p=[{source:g,target:l._root=new Array(4)}];g=p.pop();)for(var C=0;C<4;++C)(M=g.source[C])&&(M.length?p.push({source:M,target:g.target[C]=new Array(4)}):g.target[C]=vn(M));return l},dn.add=function we(l){var g=+this._x.call(null,l),p=+this._y.call(null,l);return re(this.cover(g,p),g,p,l)},dn.addAll=function Ye(l){var g,p,C,P,M=l.length,U=new Array(M),K=new Array(M),Q=1/0,Z=1/0,mt=-1/0,ft=-1/0;for(p=0;p<M;++p)isNaN(C=+this._x.call(null,g=l[p]))||isNaN(P=+this._y.call(null,g))||(U[p]=C,K[p]=P,C<Q&&(Q=C),C>mt&&(mt=C),P<Z&&(Z=P),P>ft&&(ft=P));if(Q>mt||Z>ft)return this;for(this.cover(Q,Z).cover(mt,ft),p=0;p<M;++p)re(this,U[p],K[p],l[p]);return this},dn.cover=function _n(l,g){if(isNaN(l=+l)||isNaN(g=+g))return this;var p=this._x0,M=this._y0,C=this._x1,P=this._y1;if(isNaN(p))C=(p=Math.floor(l))+1,P=(M=Math.floor(g))+1;else{for(var Q,Z,U=C-p,K=this._root;p>l||l>=C||M>g||g>=P;)switch(Z=(g<M)<<1|l<p,Q=new Array(4),Q[Z]=K,K=Q,U*=2,Z){case 0:C=p+U,P=M+U;break;case 1:p=C-U,P=M+U;break;case 2:C=p+U,M=P-U;break;case 3:p=C-U,M=P-U}this._root&&this._root.length&&(this._root=K)}return this._x0=p,this._y0=M,this._x1=C,this._y1=P,this},dn.data=function Tn(){var l=[];return this.visit(function(g){if(!g.length)do{l.push(g.data)}while(g=g.next)}),l},dn.extent=function rn(l){return arguments.length?this.cover(+l[0][0],+l[0][1]).cover(+l[1][0],+l[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},dn.find=function sn(l,g,p){var M,U,K,Q,Z,dt,F,C=this._x0,P=this._y0,mt=this._x1,ft=this._y1,tt=[],Et=this._root;for(Et&&tt.push(new Ve(Et,C,P,mt,ft)),null==p?p=1/0:(C=l-p,P=g-p,mt=l+p,ft=g+p,p*=p);dt=tt.pop();)if(!(!(Et=dt.node)||(U=dt.x0)>mt||(K=dt.y0)>ft||(Q=dt.x1)<C||(Z=dt.y1)<P))if(Et.length){var yt=(U+Q)/2,st=(K+Z)/2;tt.push(new Ve(Et[3],yt,st,Q,Z),new Ve(Et[2],U,st,yt,Z),new Ve(Et[1],yt,K,Q,st),new Ve(Et[0],U,K,yt,st)),(F=(g>=st)<<1|l>=yt)&&(dt=tt[tt.length-1],tt[tt.length-1]=tt[tt.length-1-F],tt[tt.length-1-F]=dt)}else{var Ot=l-+this._x.call(null,Et.data),Pt=g-+this._y.call(null,Et.data),ae=Ot*Ot+Pt*Pt;if(ae<p){var Oe=Math.sqrt(p=ae);C=l-Oe,P=g-Oe,mt=l+Oe,ft=g+Oe,M=Et.data}}return M},dn.remove=function $e(l){if(isNaN(mt=+this._x.call(null,l))||isNaN(ft=+this._y.call(null,l)))return this;var g,M,C,P,mt,ft,tt,Et,dt,F,yt,st,p=this._root,U=this._x0,K=this._y0,Q=this._x1,Z=this._y1;if(!p)return this;if(p.length)for(;;){if((dt=mt>=(tt=(U+Q)/2))?U=tt:Q=tt,(F=ft>=(Et=(K+Z)/2))?K=Et:Z=Et,g=p,!(p=p[yt=F<<1|dt]))return this;if(!p.length)break;(g[yt+1&3]||g[yt+2&3]||g[yt+3&3])&&(M=g,st=yt)}for(;p.data!==l;)if(C=p,!(p=p.next))return this;return(P=p.next)&&delete p.next,C?(P?C.next=P:delete C.next,this):g?(P?g[yt]=P:delete g[yt],(p=g[0]||g[1]||g[2]||g[3])&&p===(g[3]||g[2]||g[1]||g[0])&&!p.length&&(M?M[st]=p:this._root=p),this):(this._root=P,this)},dn.removeAll=function Fn(l){for(var g=0,p=l.length;g<p;++g)this.remove(l[g]);return this},dn.root=function pn(){return this._root},dn.size=function mn(){var l=0;return this.visit(function(g){if(!g.length)do{++l}while(g=g.next)}),l},dn.visit=function Wn(l){var p,C,P,U,K,Q,g=[],M=this._root;for(M&&g.push(new Ve(M,this._x0,this._y0,this._x1,this._y1));p=g.pop();)if(!l(M=p.node,P=p.x0,U=p.y0,K=p.x1,Q=p.y1)&&M.length){var Z=(P+K)/2,mt=(U+Q)/2;(C=M[3])&&g.push(new Ve(C,Z,mt,K,Q)),(C=M[2])&&g.push(new Ve(C,P,mt,Z,Q)),(C=M[1])&&g.push(new Ve(C,Z,U,K,mt)),(C=M[0])&&g.push(new Ve(C,P,U,Z,mt))}return this},dn.visitAfter=function an(l){var M,g=[],p=[];for(this._root&&g.push(new Ve(this._root,this._x0,this._y0,this._x1,this._y1));M=g.pop();){var C=M.node;if(C.length){var P,U=M.x0,K=M.y0,Q=M.x1,Z=M.y1,mt=(U+Q)/2,ft=(K+Z)/2;(P=C[0])&&g.push(new Ve(P,U,K,mt,ft)),(P=C[1])&&g.push(new Ve(P,mt,K,Q,ft)),(P=C[2])&&g.push(new Ve(P,U,ft,mt,Z)),(P=C[3])&&g.push(new Ve(P,mt,ft,Q,Z))}p.push(M)}for(;M=p.pop();)l(M.node,M.x0,M.y0,M.x1,M.y1);return this},dn.x=function Ln(l){return arguments.length?(this._x=l,this):this._x},dn.y=function En(l){return arguments.length?(this._y=l,this):this._y};var kt=o(25922),se=o(49194),ln=Math.PI*(3-Math.sqrt(5));function Bn(l){var g,p=1,M=.001,C=1-Math.pow(M,1/300),P=0,U=.6,K=(0,Vn.UI)(),Q=(0,se.HT)(mt),Z=(0,kt.Z)("tick","end");function mt(){ft(),Z.call("tick",g),p<M&&(Q.stop(),Z.call("end",g))}function ft(dt){var F,st,yt=l.length;void 0===dt&&(dt=1);for(var Ot=0;Ot<dt;++Ot)for(p+=(P-p)*C,K.each(function(Pt){Pt(p)}),F=0;F<yt;++F)null==(st=l[F]).fx?st.x+=st.vx*=U:(st.x=st.fx,st.vx=0),null==st.fy?st.y+=st.vy*=U:(st.y=st.fy,st.vy=0);return g}function tt(){for(var yt,dt=0,F=l.length;dt<F;++dt){if((yt=l[dt]).index=dt,null!=yt.fx&&(yt.x=yt.fx),null!=yt.fy&&(yt.y=yt.fy),isNaN(yt.x)||isNaN(yt.y)){var st=10*Math.sqrt(dt),Ot=dt*ln;yt.x=st*Math.cos(Ot),yt.y=st*Math.sin(Ot)}(isNaN(yt.vx)||isNaN(yt.vy))&&(yt.vx=yt.vy=0)}}function Et(dt){return dt.initialize&&dt.initialize(l),dt}return null==l&&(l=[]),tt(),g={tick:ft,restart:function(){return Q.restart(mt),g},stop:function(){return Q.stop(),g},nodes:function(dt){return arguments.length?(l=dt,tt(),K.each(Et),g):l},alpha:function(dt){return arguments.length?(p=+dt,g):p},alphaMin:function(dt){return arguments.length?(M=+dt,g):M},alphaDecay:function(dt){return arguments.length?(C=+dt,g):+C},alphaTarget:function(dt){return arguments.length?(P=+dt,g):P},velocityDecay:function(dt){return arguments.length?(U=1-dt,g):1-U},force:function(dt,F){return arguments.length>1?(null==F?K.remove(dt):K.set(dt,Et(F)),g):K.get(dt)},find:function(dt,F,yt){var Pt,ae,Oe,Fe,We,st=0,Ot=l.length;for(null==yt?yt=1/0:yt*=yt,st=0;st<Ot;++st)(Oe=(Pt=dt-(Fe=l[st]).x)*Pt+(ae=F-Fe.y)*ae)<yt&&(We=Fe,yt=Oe);return We},on:function(dt,F){return arguments.length>1?(Z.on(dt,F),g):Z.on(dt)}}}function tn(){return Math.random()}!function l(g){function p(M,C){return M=null==M?0:+M,C=null==C?1:+C,1===arguments.length?(C=M,M=0):C-=M,function(){return g()*C+M}}return p.source=l,p}(tn);const Di=function l(g){function p(M,C){var P,U;return M=null==M?0:+M,C=null==C?1:+C,function(){var K;if(null!=P)K=P,P=null;else do{P=2*g()-1,K=2*g()-1,U=P*P+K*K}while(!U||U>1);return M+C*K*Math.sqrt(-2*Math.log(U)/U)}}return p.source=l,p}(tn),ii=(function l(g){function p(){var M=Di.source(g).apply(this,arguments);return function(){return Math.exp(M())}}return p.source=l,p}(tn),function l(g){function p(M){return function(){for(var C=0,P=0;P<M;++P)C+=g();return C}}return p.source=l,p}(tn));(function l(g){function p(M){var C=ii.source(g)(M);return function(){return C()/M}}return p.source=l,p})(tn),function l(g){function p(M){return function(){return-Math.log(1-g())/M}}return p.source=l,p}(tn);var fi=o(93205),Bi=o(52016),Gi=o(47793),gi=o(76371),un=o(14296),Pi=o(56513);function Ri(){this._=null}function si(l){l.U=l.C=l.L=l.R=l.P=l.N=null}function en(l,g){var p=g,M=g.R,C=p.U;C?C.L===p?C.L=M:C.R=M:l._=M,M.U=C,p.U=M,p.R=M.L,p.R&&(p.R.U=p),M.L=p}function Ci(l,g){var p=g,M=g.L,C=p.U;C?C.L===p?C.L=M:C.R=M:l._=M,M.U=C,p.U=M,p.L=M.R,p.L&&(p.L.U=p),M.R=p}function Ui(l){for(;l.L;)l=l.L;return l}o(64747),Ri.prototype={constructor:Ri,insert:function(l,g){var p,M,C;if(l){if(g.P=l,g.N=l.N,l.N&&(l.N.P=g),l.N=g,l.R){for(l=l.R;l.L;)l=l.L;l.L=g}else l.R=g;p=l}else this._?(l=Ui(this._),g.P=null,g.N=l,l.P=l.L=g,p=l):(g.P=g.N=null,this._=g,p=null);for(g.L=g.R=null,g.U=p,g.C=!0,l=g;p&&p.C;)p===(M=p.U).L?(C=M.R)&&C.C?(p.C=C.C=!1,M.C=!0,l=M):(l===p.R&&(en(this,p),p=(l=p).U),p.C=!1,M.C=!0,Ci(this,M)):(C=M.L)&&C.C?(p.C=C.C=!1,M.C=!0,l=M):(l===p.L&&(Ci(this,p),p=(l=p).U),p.C=!1,M.C=!0,en(this,M)),p=l.U;this._.C=!1},remove:function(l){l.N&&(l.N.P=l.P),l.P&&(l.P.N=l.N),l.N=l.P=null;var p,P,U,g=l.U,M=l.L,C=l.R;if(P=M?C?Ui(C):M:C,g?g.L===l?g.L=P:g.R=P:this._=P,M&&C?(U=P.C,P.C=l.C,P.L=M,M.U=P,P!==C?(g=P.U,P.U=l.U,g.L=l=P.R,P.R=C,C.U=P):(P.U=g,g=P,l=P.R)):(U=l.C,l=P),l&&(l.U=g),!U){if(l&&l.C)return void(l.C=!1);do{if(l===this._)break;if(l===g.L){if((p=g.R).C&&(p.C=!1,g.C=!0,en(this,g),p=g.R),p.L&&p.L.C||p.R&&p.R.C){(!p.R||!p.R.C)&&(p.L.C=!1,p.C=!0,Ci(this,p),p=g.R),p.C=g.C,g.C=p.R.C=!1,en(this,g),l=this._;break}}else if((p=g.L).C&&(p.C=!1,g.C=!0,Ci(this,g),p=g.L),p.L&&p.L.C||p.R&&p.R.C){(!p.L||!p.L.C)&&(p.R.C=!1,p.C=!0,en(this,p),p=g.L),p.C=g.C,g.C=p.L.C=!1,Ci(this,g),l=this._;break}p.C=!0,l=g,g=g.U}while(!l.C);l&&(l.C=!1)}}};const Ii=Ri;function Fi(l,g,p,M){var C=[null,null],P=zt.push(C)-1;return C.left=l,C.right=g,p&&ji(C,l,g,p),M&&ji(C,g,l,M),Tt[l.index].halfedges.push(P),Tt[g.index].halfedges.push(P),C}function Wi(l,g,p){var M=[g,p];return M.left=l,M}function ji(l,g,p,M){l[0]||l[1]?l.left===p?l[1]=M:l[0]=M:(l[0]=M,l.left=g,l.right=p)}function lr(l,g,p,M,C){var F,P=l[0],U=l[1],K=P[0],Q=P[1],ft=0,tt=1,Et=U[0]-K,dt=U[1]-Q;if(F=g-K,Et||!(F>0)){if(F/=Et,Et<0){if(F<ft)return;F<tt&&(tt=F)}else if(Et>0){if(F>tt)return;F>ft&&(ft=F)}if(F=M-K,Et||!(F<0)){if(F/=Et,Et<0){if(F>tt)return;F>ft&&(ft=F)}else if(Et>0){if(F<ft)return;F<tt&&(tt=F)}if(F=p-Q,dt||!(F>0)){if(F/=dt,dt<0){if(F<ft)return;F<tt&&(tt=F)}else if(dt>0){if(F>tt)return;F>ft&&(ft=F)}if(F=C-Q,dt||!(F<0)){if(F/=dt,dt<0){if(F>tt)return;F>ft&&(ft=F)}else if(dt>0){if(F<ft)return;F<tt&&(tt=F)}return!(ft>0)&&!(tt<1)||(ft>0&&(l[0]=[K+ft*Et,Q+ft*dt]),tt<1&&(l[1]=[K+tt*Et,Q+tt*dt])),!0}}}}}function Oi(l,g,p,M,C){var P=l[1];if(P)return!0;var F,yt,U=l[0],K=l.left,Q=l.right,Z=K[0],mt=K[1],ft=Q[0],tt=Q[1],Et=(Z+ft)/2;if(tt===mt){if(Et<g||Et>=M)return;if(Z>ft){if(U){if(U[1]>=C)return}else U=[Et,p];P=[Et,C]}else{if(U){if(U[1]<p)return}else U=[Et,C];P=[Et,p]}}else if(yt=(mt+tt)/2-(F=(Z-ft)/(tt-mt))*Et,F<-1||F>1)if(Z>ft){if(U){if(U[1]>=C)return}else U=[(p-yt)/F,p];P=[(C-yt)/F,C]}else{if(U){if(U[1]<p)return}else U=[(C-yt)/F,C];P=[(p-yt)/F,p]}else if(mt<tt){if(U){if(U[0]>=M)return}else U=[g,F*g+yt];P=[M,F*M+yt]}else{if(U){if(U[0]<g)return}else U=[M,F*M+yt];P=[g,F*g+yt]}return l[0]=U,l[1]=P,!0}function ur(l,g){var p=l.site,M=g.left,C=g.right;return p===C&&(C=M,M=p),C?Math.atan2(C[1]-M[1],C[0]-M[0]):(p===M?(M=g[1],C=g[0]):(M=g[0],C=g[1]),Math.atan2(M[0]-C[0],C[1]-M[1]))}function Hi(l,g){return g[+(g.left!==l.site)]}function pi(l,g){return g[+(g.left===l.site)]}var kn,Nn=[];function bi(){si(this),this.x=this.y=this.arc=this.site=this.cy=null}function jn(l){var g=l.P,p=l.N;if(g&&p){var M=g.site,C=l.site,P=p.site;if(M!==P){var U=C[0],K=C[1],Q=M[0]-U,Z=M[1]-K,mt=P[0]-U,ft=P[1]-K,tt=2*(Q*ft-Z*mt);if(!(tt>=-Dt)){var Et=Q*Q+Z*Z,dt=mt*mt+ft*ft,F=(ft*Et-Z*dt)/tt,yt=(Q*dt-mt*Et)/tt,st=Nn.pop()||new bi;st.arc=l,st.site=C,st.x=F+U,st.y=(st.cy=yt+K)+Math.sqrt(F*F+yt*yt),l.circle=st;for(var Ot=null,Pt=Gt._;Pt;)if(st.y<Pt.y||st.y===Pt.y&&st.x<=Pt.x){if(!Pt.L){Ot=Pt.P;break}Pt=Pt.L}else{if(!Pt.R){Ot=Pt;break}Pt=Pt.R}Gt.insert(Ot,st),Ot||(kn=st)}}}}function Qe(l){var g=l.circle;g&&(g.P||(kn=g.N),Gt.remove(g),Nn.push(g),si(g),l.circle=null)}var zi=[];function rr(){si(this),this.edge=this.site=this.circle=null}function Ze(l){var g=zi.pop()||new rr;return g.site=l,g}function wn(l){Qe(l),Ut.remove(l),zi.push(l),si(l)}function _i(l){var g=l.circle,p=g.x,M=g.cy,C=[p,M],P=l.P,U=l.N,K=[l];wn(l);for(var Q=P;Q.circle&&Math.abs(p-Q.circle.x)<q&&Math.abs(M-Q.circle.cy)<q;)P=Q.P,K.unshift(Q),wn(Q),Q=P;K.unshift(Q),Qe(Q);for(var Z=U;Z.circle&&Math.abs(p-Z.circle.x)<q&&Math.abs(M-Z.circle.cy)<q;)U=Z.N,K.push(Z),wn(Z),Z=U;K.push(Z),Qe(Z);var ft,mt=K.length;for(ft=1;ft<mt;++ft)ji((Z=K[ft]).edge,(Q=K[ft-1]).site,Z.site,C);(Z=K[mt-1]).edge=Fi((Q=K[0]).site,Z.site,null,C),jn(Q),jn(Z)}function h(l){for(var M,C,P,U,g=l[0],p=l[1],K=Ut._;K;)if((P=b(K,p)-g)>q)K=K.L;else{if(!((U=g-N(K,p))>q)){P>-q?(M=K.P,C=K):U>-q?(M=K,C=K.N):M=C=K;break}if(!K.R){M=K;break}K=K.R}!function Ki(l){Tt[l.index]={site:l,halfedges:[]}}(l);var Q=Ze(l);if(Ut.insert(M,Q),M||C){if(M===C)return Qe(M),C=Ze(M.site),Ut.insert(Q,C),Q.edge=C.edge=Fi(M.site,Q.site),jn(M),void jn(C);if(!C)return void(Q.edge=Fi(M.site,Q.site));Qe(M),Qe(C);var Z=M.site,mt=Z[0],ft=Z[1],tt=l[0]-mt,Et=l[1]-ft,dt=C.site,F=dt[0]-mt,yt=dt[1]-ft,st=2*(tt*yt-Et*F),Ot=tt*tt+Et*Et,Pt=F*F+yt*yt,ae=[(yt*Ot-Et*Pt)/st+mt,(tt*Pt-F*Ot)/st+ft];ji(C.edge,Z,dt,ae),Q.edge=Fi(Z,l,null,ae),C.edge=Fi(l,dt,null,ae),jn(M),jn(C)}}function b(l,g){var p=l.site,M=p[0],C=p[1],P=C-g;if(!P)return M;var U=l.P;if(!U)return-1/0;var K=(p=U.site)[0],Q=p[1],Z=Q-g;if(!Z)return K;var mt=K-M,ft=1/P-1/Z,tt=mt/Z;return ft?(-tt+Math.sqrt(tt*tt-2*ft*(mt*mt/(-2*Z)-Q+Z/2+C-P/2)))/ft+M:(M+K)/2}function N(l,g){var p=l.N;if(p)return b(p,g);var M=l.site;return M[1]===g?M[0]:1/0}var Ut,Tt,Gt,zt,q=1e-6,Dt=1e-12;function Qt(l,g,p){return(l[0]-p[0])*(g[1]-l[1])-(l[0]-g[0])*(p[1]-l[1])}function Jt(l,g){return g[1]-l[1]||g[0]-l[0]}function be(l,g){var M,C,P,p=l.sort(Jt).pop();for(zt=[],Tt=new Array(l.length),Ut=new Ii,Gt=new Ii;;)if(P=kn,p&&(!P||p[1]<P.y||p[1]===P.y&&p[0]<P.x))(p[0]!==M||p[1]!==C)&&(h(p),M=p[0],C=p[1]),p=l.pop();else{if(!P)break;_i(P.arc)}if(function oi(){for(var p,M,C,P,l=0,g=Tt.length;l<g;++l)if((p=Tt[l])&&(P=(M=p.halfedges).length)){var U=new Array(P),K=new Array(P);for(C=0;C<P;++C)U[C]=C,K[C]=ur(p,zt[M[C]]);for(U.sort(function(Q,Z){return K[Z]-K[Q]}),C=0;C<P;++C)K[C]=M[U[C]];for(C=0;C<P;++C)M[C]=K[C]}}(),g){var U=+g[0][0],K=+g[0][1],Q=+g[1][0],Z=+g[1][1];(function Li(l,g,p,M){for(var P,C=zt.length;C--;)Oi(P=zt[C],l,g,p,M)&&lr(P,l,g,p,M)&&(Math.abs(P[0][0]-P[1][0])>q||Math.abs(P[0][1]-P[1][1])>q)||delete zt[C]})(U,K,Q,Z),function Ai(l,g,p,M){var P,U,K,Q,Z,mt,ft,tt,Et,dt,F,yt,C=Tt.length,st=!0;for(P=0;P<C;++P)if(U=Tt[P]){for(K=U.site,Q=(Z=U.halfedges).length;Q--;)zt[Z[Q]]||Z.splice(Q,1);for(Q=0,mt=Z.length;Q<mt;)F=(dt=pi(U,zt[Z[Q]]))[0],yt=dt[1],tt=(ft=Hi(U,zt[Z[++Q%mt]]))[0],Et=ft[1],(Math.abs(F-tt)>q||Math.abs(yt-Et)>q)&&(Z.splice(Q,0,zt.push(Wi(K,dt,Math.abs(F-l)<q&&M-yt>q?[l,Math.abs(tt-l)<q?Et:M]:Math.abs(yt-M)<q&&p-F>q?[Math.abs(Et-M)<q?tt:p,M]:Math.abs(F-p)<q&&yt-g>q?[p,Math.abs(tt-p)<q?Et:g]:Math.abs(yt-g)<q&&F-l>q?[Math.abs(Et-g)<q?tt:l,g]:null))-1),++mt);mt&&(st=!1)}if(st){var Ot,Pt,ae,Oe=1/0;for(P=0,st=null;P<C;++P)(U=Tt[P])&&(ae=(Ot=(K=U.site)[0]-l)*Ot+(Pt=K[1]-g)*Pt)<Oe&&(Oe=ae,st=U);if(st){var Fe=[l,g],We=[l,M],He=[p,M],Me=[p,g];st.halfedges.push(zt.push(Wi(K=st.site,Fe,We))-1,zt.push(Wi(K,We,He))-1,zt.push(Wi(K,He,Me))-1,zt.push(Wi(K,Me,Fe))-1)}}for(P=0;P<C;++P)(U=Tt[P])&&(U.halfedges.length||delete Tt[P])}(U,K,Q,Z)}this.edges=zt,this.cells=Tt,Ut=Gt=zt=Tt=null}function Ie(l,g,p){this.k=l,this.x=g,this.y=p}be.prototype={constructor:be,polygons:function(){var l=this.edges;return this.cells.map(function(g){var p=g.halfedges.map(function(M){return Hi(g,l[M])});return p.data=g.site.data,p})},triangles:function(){var l=[],g=this.edges;return this.cells.forEach(function(p,M){if(K=(P=p.halfedges).length)for(var P,K,Q,C=p.site,U=-1,Z=g[P[K-1]],mt=Z.left===C?Z.right:Z.left;++U<K;)Q=mt,mt=(Z=g[P[U]]).left===C?Z.right:Z.left,Q&&mt&&M<Q.index&&M<mt.index&&Qt(C,Q,mt)<0&&l.push([C.data,Q.data,mt.data])}),l},links:function(){return this.edges.filter(function(l){return l.right}).map(function(l){return{source:l.left.data,target:l.right.data}})},find:function(l,g,p){for(var C,K,M=this,P=M._found||0,U=M.cells.length;!(K=M.cells[P]);)if(++P>=U)return null;var Q=l-K.site[0],Z=g-K.site[1],mt=Q*Q+Z*Z;do{K=M.cells[C=P],P=null,K.halfedges.forEach(function(ft){var tt=M.edges[ft],Et=tt.left;if(Et!==K.site&&Et||(Et=tt.right)){var dt=l-Et[0],F=g-Et[1],yt=dt*dt+F*F;yt<mt&&(mt=yt,P=Et.index)}})}while(null!==P);return M._found=C,null==p||mt<=p*p?K.site:null}},Ie.prototype={constructor:Ie,scale:function(l){return 1===l?this:new Ie(this.k*l,this.x,this.y)},translate:function(l,g){return 0===l&0===g?this:new Ie(this.k,this.x+this.k*l,this.y+this.k*g)},apply:function(l){return[l[0]*this.k+this.x,l[1]*this.k+this.y]},applyX:function(l){return l*this.k+this.x},applyY:function(l){return l*this.k+this.y},invert:function(l){return[(l[0]-this.x)/this.k,(l[1]-this.y)/this.k]},invertX:function(l){return(l-this.x)/this.k},invertY:function(l){return(l-this.y)/this.k},rescaleX:function(l){return l.copy().domain(l.range().map(this.invertX,this).map(l.invert,l))},rescaleY:function(l){return l.copy().domain(l.range().map(this.invertY,this).map(l.invert,l))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Ie(1,0,0)},12706:Rt=>{Rt.exports=function pt(o,v,O,m){for(var L=-1,Y=null==o?0:o.length;++L<Y;){var k=o[L];v(m,k,O(k),o)}return m}},49276:(Rt,pt,o)=>{var v=o(85683),O=o(20217);Rt.exports=function m(L,Y,k){(void 0!==k&&!O(L[Y],k)||void 0===k&&!(Y in L))&&v(L,Y,k)}},96139:(Rt,pt,o)=>{var v=o(43132);Rt.exports=function O(m,L,Y,k){return v(m,function(et,w,D){L(k,et,Y(et),D)}),k}},2762:Rt=>{Rt.exports=function pt(o,v,O){var m;return O(o,function(L,Y,k){if(v(L,Y,k))return m=Y,!1}),m}},73842:(Rt,pt,o)=>{var v=o(2858),O=o(49276),m=o(30755),L=o(33675),Y=o(25940),k=o(16555),et=o(99351);Rt.exports=function w(D,B,V,W,T){D!==B&&m(B,function(A,R){if(T||(T=new v),Y(A))L(D,B,R,V,w,W,T);else{var J=W?W(et(D,R),A,R+"",D,B,T):void 0;void 0===J&&(J=A),O(D,R,J)}},k)}},33675:(Rt,pt,o)=>{var v=o(49276),O=o(19292),m=o(65208),L=o(99454),Y=o(4264),k=o(77151),et=o(21503),w=o(21330),D=o(80891),B=o(75946),V=o(25940),W=o(97614),T=o(48159),A=o(99351),R=o(8067);Rt.exports=function J(H,rt,j,ht,z,St,lt){var vt=A(H,j),At=A(rt,j),ut=lt.get(At);if(ut)v(H,j,ut);else{var ot=St?St(vt,At,j+"",H,rt,lt):void 0,nt=void 0===ot;if(nt){var Zt=et(At),$t=!Zt&&D(At),ue=!Zt&&!$t&&T(At);ot=At,Zt||$t||ue?et(vt)?ot=vt:w(vt)?ot=L(vt):$t?(nt=!1,ot=O(At,!0)):ue?(nt=!1,ot=m(At,!0)):ot=[]:W(At)||k(At)?(ot=vt,k(vt)?ot=R(vt):(!V(vt)||B(vt))&&(ot=Y(At))):nt=!1}nt&&(lt.set(At,ot),z(ot,At,ht,St,lt),lt.delete(At)),v(H,j,ot)}}},95286:(Rt,pt,o)=>{var v=o(14164);Rt.exports=function O(m,L){for(var Y=m.length;Y--&&v(L,m[Y],0)>-1;);return Y}},11146:(Rt,pt,o)=>{var v=o(14164);Rt.exports=function O(m,L){for(var Y=-1,k=m.length;++Y<k&&v(L,m[Y],0)>-1;);return Y}},41005:(Rt,pt,o)=>{var v=o(12706),O=o(96139),m=o(96517),L=o(21503);Rt.exports=function Y(k,et){return function(w,D){var B=L(w)?v:O,V=et?et():{};return B(w,k,m(D,2),V)}}},15082:(Rt,pt,o)=>{var v=o(73842),O=o(25940);Rt.exports=function m(L,Y,k,et,w,D){return O(L)&&O(Y)&&(D.set(Y,L),v(L,Y,void 0,m,D),D.delete(Y)),L}},99351:Rt=>{Rt.exports=function pt(o,v){if(("constructor"!==v||"function"!=typeof o[v])&&"__proto__"!=v)return o[v]}},69754:(Rt,pt,o)=>{var v=o(26999),O=o(23269),m=o(15082),L=o(25468),Y=O(function(k){return k.push(void 0,m),v(L,void 0,k)});Rt.exports=Y},58152:(Rt,pt,o)=>{var v=o(2762),O=o(45184),m=o(96517);Rt.exports=function L(Y,k){return v(Y,m(k,3),O)}},91237:(Rt,pt,o)=>{var v=o(14164),O=o(44401),m=Math.max;Rt.exports=function L(Y,k,et){var w=null==Y?0:Y.length;if(!w)return-1;var D=null==et?0:O(et);return D<0&&(D=m(w+D,0)),v(Y,k,D)}},12498:(Rt,pt,o)=>{var v=o(85683),m=o(41005)(function(L,Y,k){v(L,k,Y)});Rt.exports=m},25468:(Rt,pt,o)=>{var v=o(73842),m=o(84944)(function(L,Y,k,et){v(L,Y,k,et)});Rt.exports=m},38322:(Rt,pt,o)=>{var v=o(84633),O=o(96517),m=o(95495),L=o(6967);Rt.exports=function Y(k,et){if(null==k)return{};var w=v(L(k),function(D){return[D]});return et=O(et),m(k,w,function(D,B){return et(D,B[0])})}},12906:(Rt,pt,o)=>{var v=o(50686),O=o(6119),m=o(23269),L=o(93342),Y=m(function(k,et){if(null==k)return[];var w=et.length;return w>1&&L(k,et[0],et[1])?et=[]:w>2&&L(et[0],et[1],et[2])&&(et=[et[0]]),O(k,v(et,1),[])});Rt.exports=Y},8067:(Rt,pt,o)=>{var v=o(31989),O=o(16555);Rt.exports=function m(L){return v(L,O(L))}},34220:(Rt,pt,o)=>{var v=o(93935),O=o(83348),m=o(62329),L=o(95286),Y=o(11146),k=o(66007),et=o(73943);Rt.exports=function w(D,B,V){if((D=et(D))&&(V||void 0===B))return O(D);if(!D||!(B=v(B)))return D;var W=k(D),T=k(B),A=Y(W,T),R=L(W,T)+1;return m(W,A,R).join("")}},79598:(Rt,pt,o)=>{var v=o(93935),O=o(62329),m=o(95286),L=o(66007),Y=o(73943),k=o(42760);Rt.exports=function et(w,D,B){if((w=Y(w))&&(B||void 0===D))return w.slice(0,k(w)+1);if(!w||!(D=v(D)))return w;var V=L(w),W=m(V,L(D))+1;return O(V,0,W).join("")}},41970:(Rt,pt,o)=>{var v=o(93935),O=o(62329),m=o(11146),L=o(66007),Y=o(73943),k=/^\s+/;Rt.exports=function et(w,D,B){if((w=Y(w))&&(B||void 0===D))return w.replace(k,"");if(!w||!(D=v(D)))return w;var V=L(w),W=m(V,L(D));return O(V,W).join("")}},83223:(Rt,pt,o)=>{var v=o(50686),O=o(96517),m=o(23269),L=o(80707),Y=o(21330),k=o(25809),et=m(function(w){var D=k(w);return Y(D)&&(D=void 0),L(v(w,1,Y,!0),O(D,2))});Rt.exports=et},30836:(Rt,pt,o)=>{var v=o(80707);Rt.exports=function O(m){return m&&m.length?v(m):[]}},8537:(Rt,pt,o)=>{"use strict";function v(X,xt,Xt){X.prototype=xt.prototype=Xt,Xt.constructor=X}function O(X,xt){var Xt=Object.create(X.prototype);for(var pe in xt)Xt[pe]=xt[pe];return Xt}function m(){}o.d(pt,{B8:()=>At});var L=.7,Y=1/L,k="\\s*([+-]?\\d+)\\s*",et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",w="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D=/^#([0-9a-f]{3,8})$/,B=new RegExp(`^rgb\\(${k},${k},${k}\\)$`),V=new RegExp(`^rgb\\(${w},${w},${w}\\)$`),W=new RegExp(`^rgba\\(${k},${k},${k},${et}\\)$`),T=new RegExp(`^rgba\\(${w},${w},${w},${et}\\)$`),A=new RegExp(`^hsl\\(${et},${w},${w}\\)$`),R=new RegExp(`^hsla\\(${et},${w},${w},${et}\\)$`),J={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function H(){return this.rgb().formatHex()}function ht(){return this.rgb().formatRgb()}function z(X){var xt,Xt;return X=(X+"").trim().toLowerCase(),(xt=D.exec(X))?(Xt=xt[1].length,xt=parseInt(xt[1],16),6===Xt?St(xt):3===Xt?new ut(xt>>8&15|xt>>4&240,xt>>4&15|240&xt,(15&xt)<<4|15&xt,1):8===Xt?lt(xt>>24&255,xt>>16&255,xt>>8&255,(255&xt)/255):4===Xt?lt(xt>>12&15|xt>>8&240,xt>>8&15|xt>>4&240,xt>>4&15|240&xt,((15&xt)<<4|15&xt)/255):null):(xt=B.exec(X))?new ut(xt[1],xt[2],xt[3],1):(xt=V.exec(X))?new ut(255*xt[1]/100,255*xt[2]/100,255*xt[3]/100,1):(xt=W.exec(X))?lt(xt[1],xt[2],xt[3],xt[4]):(xt=T.exec(X))?lt(255*xt[1]/100,255*xt[2]/100,255*xt[3]/100,xt[4]):(xt=A.exec(X))?ye(xt[1],xt[2]/100,xt[3]/100,1):(xt=R.exec(X))?ye(xt[1],xt[2]/100,xt[3]/100,xt[4]):J.hasOwnProperty(X)?St(J[X]):"transparent"===X?new ut(NaN,NaN,NaN,0):null}function St(X){return new ut(X>>16&255,X>>8&255,255&X,1)}function lt(X,xt,Xt,pe){return pe<=0&&(X=xt=Xt=NaN),new ut(X,xt,Xt,pe)}function vt(X){return X instanceof m||(X=z(X)),X?new ut((X=X.rgb()).r,X.g,X.b,X.opacity):new ut}function At(X,xt,Xt,pe){return 1===arguments.length?vt(X):new ut(X,xt,Xt,null==pe?1:pe)}function ut(X,xt,Xt,pe){this.r=+X,this.g=+xt,this.b=+Xt,this.opacity=+pe}function ot(){return`#${ce(this.r)}${ce(this.g)}${ce(this.b)}`}function Zt(){const X=$t(this.opacity);return`${1===X?"rgb(":"rgba("}${ue(this.r)}, ${ue(this.g)}, ${ue(this.b)}${1===X?")":`, ${X})`}`}function $t(X){return isNaN(X)?1:Math.max(0,Math.min(1,X))}function ue(X){return Math.max(0,Math.min(255,Math.round(X)||0))}function ce(X){return((X=ue(X))<16?"0":"")+X.toString(16)}function ye(X,xt,Xt,pe){return pe<=0?X=xt=Xt=NaN:Xt<=0||Xt>=1?X=xt=NaN:xt<=0&&(X=NaN),new Vt(X,xt,Xt,pe)}function it(X){if(X instanceof Vt)return new Vt(X.h,X.s,X.l,X.opacity);if(X instanceof m||(X=z(X)),!X)return new Vt;if(X instanceof Vt)return X;var xt=(X=X.rgb()).r/255,Xt=X.g/255,pe=X.b/255,It=Math.min(xt,Xt,pe),he=Math.max(xt,Xt,pe),Ce=NaN,Ke=he-It,gn=(he+It)/2;return Ke?(Ce=xt===he?(Xt-pe)/Ke+6*(Xt<pe):Xt===he?(pe-xt)/Ke+2:(xt-Xt)/Ke+4,Ke/=gn<.5?he+It:2-he-It,Ce*=60):Ke=gn>0&&gn<1?0:Ce,new Vt(Ce,Ke,gn,X.opacity)}function Vt(X,xt,Xt,pe){this.h=+X,this.s=+xt,this.l=+Xt,this.opacity=+pe}function ee(X){return(X=(X||0)%360)<0?X+360:X}function Be(X){return Math.max(0,Math.min(1,X||0))}function qe(X,xt,Xt){return 255*(X<60?xt+(Xt-xt)*X/60:X<180?Xt:X<240?xt+(Xt-xt)*(240-X)/60:xt)}v(m,z,{copy(X){return Object.assign(new this.constructor,this,X)},displayable(){return this.rgb().displayable()},hex:H,formatHex:H,formatHex8:function rt(){return this.rgb().formatHex8()},formatHsl:function j(){return it(this).formatHsl()},formatRgb:ht,toString:ht}),v(ut,At,O(m,{brighter(X){return X=null==X?Y:Math.pow(Y,X),new ut(this.r*X,this.g*X,this.b*X,this.opacity)},darker(X){return X=null==X?L:Math.pow(L,X),new ut(this.r*X,this.g*X,this.b*X,this.opacity)},rgb(){return this},clamp(){return new ut(ue(this.r),ue(this.g),ue(this.b),$t(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ot,formatHex:ot,formatHex8:function nt(){return`#${ce(this.r)}${ce(this.g)}${ce(this.b)}${ce(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Zt,toString:Zt})),v(Vt,function wt(X,xt,Xt,pe){return 1===arguments.length?it(X):new Vt(X,xt,Xt,null==pe?1:pe)},O(m,{brighter(X){return X=null==X?Y:Math.pow(Y,X),new Vt(this.h,this.s,this.l*X,this.opacity)},darker(X){return X=null==X?L:Math.pow(L,X),new Vt(this.h,this.s,this.l*X,this.opacity)},rgb(){var X=this.h%360+360*(this.h<0),xt=isNaN(X)||isNaN(this.s)?0:this.s,Xt=this.l,pe=Xt+(Xt<.5?Xt:1-Xt)*xt,It=2*Xt-pe;return new ut(qe(X>=240?X-240:X+120,It,pe),qe(X,It,pe),qe(X<120?X+240:X-120,It,pe),this.opacity)},clamp(){return new Vt(ee(this.h),Be(this.s),Be(this.l),$t(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const X=$t(this.opacity);return`${1===X?"hsl(":"hsla("}${ee(this.h)}, ${100*Be(this.s)}%, ${100*Be(this.l)}%${1===X?")":`, ${X})`}`}}))}}]);