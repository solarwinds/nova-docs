(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{Dj89:function(e,s,r){"use strict";r.r(s),r.d(s,"ThresholdsPrototypeModule",function(){return p});var t=r("tyNb"),i=r("gKry"),n=r("s1Ul"),a=r("wd/R"),o=r.n(a),c=r("fXoL"),h=r("HHUD"),d=r("QpXW"),l=r("ofXK"),u=r("sBYA"),g=r("Gufu"),b=r("WgrJ");function T(e,s){if(1&e){const e=c.Vb();c.Ub(0,"nui-legend-series",6),c.hc("mouseenter",function(){c.Dc(e);const r=s.$implicit;return c.lc().chartAssist.emphasizeSeries(r.id)})("isSelectedChange",function(r){c.Dc(e);const t=s.$implicit;return c.lc().chartAssist.toggleSeries(t.id,r)}),c.Ub(1,"nui-rich-legend-tile",7),c.Pb(2,"nui-chart-marker",8),c.Tb(),c.Tb()}if(2&e){const e=s.$implicit,r=c.lc();c.rc("descriptionPrimary",e.name)("seriesRenderState",null==r.chartAssist.renderStatesIndex[e.id]?null:r.chartAssist.renderStatesIndex[e.id].state)("isSelected",!r.chartAssist.isSeriesHidden(e.id)),c.Cb(1),c.rc("value",r.chartAssist.getHighlightedValue(e,"y"))("backgroundColor",r.chartAssist.palette.standardColors.get(e.id))("color",r.chartAssist.palette.textColors.get(e.id)),c.Cb(1),c.rc("marker",r.chartAssist.markers.get(e.id))("color",r.chartAssist.palette.standardColors.get(e.id))}}function v(e,s){if(1&e){const e=c.Vb();c.Ub(0,"nui-legend-series",6),c.hc("mouseenter",function(){c.Dc(e);const r=s.$implicit;return c.lc().reversedThresholdsChartAssist.emphasizeSeries(r.id)})("isSelectedChange",function(r){c.Dc(e);const t=s.$implicit;return c.lc().reversedThresholdsChartAssist.toggleSeries(t.id,r)}),c.Ub(1,"nui-rich-legend-tile",7),c.Pb(2,"nui-chart-marker",8),c.Tb(),c.Tb()}if(2&e){const e=s.$implicit,r=c.lc();c.rc("descriptionPrimary",e.name)("seriesRenderState",null==r.reversedThresholdsChartAssist.renderStatesIndex[e.id]?null:r.reversedThresholdsChartAssist.renderStatesIndex[e.id].state)("isSelected",!r.reversedThresholdsChartAssist.isSeriesHidden(e.id)),c.Cb(1),c.rc("value",r.reversedThresholdsChartAssist.getHighlightedValue(e,"y"))("backgroundColor",r.reversedThresholdsChartAssist.palette.standardColors.get(e.id))("color",r.reversedThresholdsChartAssist.palette.textColors.get(e.id)),c.Cb(1),c.rc("marker",r.reversedThresholdsChartAssist.markers.get(e.id))("color",r.reversedThresholdsChartAssist.palette.standardColors.get(e.id))}}var C=function(e){return e.Error="error",e.Warning="warning",e}({});function m(){const e="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:o()("2016-12-25T15:05:00Z",e).toDate(),y:20},{x:o()("2016-12-25T15:10:00Z",e).toDate(),y:80},{x:o()("2016-12-25T15:15:00Z",e).toDate(),y:10},{x:o()("2016-12-25T15:20:00Z",e).toDate(),y:0},{x:o()("2016-12-25T15:25:00Z",e).toDate(),y:50},{x:o()("2016-12-25T15:30:00Z",e).toDate(),y:20}]}]}const S=[{path:"",component:(()=>{class e{constructor(e){this.thresholdsService=e,this.chart=new i.q(new i.ub),this.reversedThresholdsChart=new i.q(new i.ub),this.chartAssist=new i.r(this.chart),this.reversedThresholdsChartAssist=new i.r(this.reversedThresholdsChart),this.thresholdsPalette=new i.u(new i.S({[C.Error]:i.o[1],[C.Warning]:i.o[2]}))}ngOnInit(){const e=new i.N(this.chartAssist.palette.standardColors,this.chartAssist.markers),s=new i.O,r={x:new i.qb(Object(a.duration)(5,"minutes")),y:new i.Q};r.y.fixDomain([0,100]);const t={x:new i.rb,y:new i.Q};t.y.fixDomain([0,100]);const n={x:r.x,y:(new i.c).fixDomain(i.mb.STATUS_DOMAIN)},o={x:t.x,y:(new i.c).fixDomain(i.mb.STATUS_DOMAIN)},c=[{status:C.Error,start:70,end:90},{status:C.Warning,start:40,end:70}],h=[{status:C.Error,end:20},{status:C.Warning,start:20,end:40}],d=m().map(t=>Object.assign(Object.assign({},t),{accessors:e,renderer:s,scales:r})),l=[];for(const i of d){const e=this.thresholdsService.getThresholdZones(i,c,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(i,e);const s=[...this.thresholdsService.getThresholdLines(e),this.thresholdsService.getBackgrounds(i,e,n,this.thresholdsPalette.backgroundColors)];l.push(...s)}const u=m().map(r=>Object.assign(Object.assign({},r),{accessors:e,renderer:s,scales:t})),g=[];for(const i of u){const e=this.thresholdsService.getThresholdZones(i,h,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(i,e);const s=[...this.thresholdsService.getThresholdLines(e),this.thresholdsService.getBackgrounds(i,e,o,this.thresholdsPalette.backgroundColors)];g.push(...s)}this.chartAssist.update([...l,...d]),this.reversedThresholdsChartAssist.update([...g,...u])}}return e.\u0275fac=function(s){return new(s||e)(c.Ob(i.pb))},e.\u0275cmp=c.Ib({type:e,selectors:[["ng-component"]],decls:13,vars:10,consts:[[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],["seriesUnitLabel","sec",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(e,s){1&e&&(c.Ub(0,"div",0),c.Ub(1,"div",1),c.Pb(2,"nui-chart",2),c.Tb(),c.Ub(3,"div",3),c.Ub(4,"nui-legend",4),c.hc("mouseleave",function(){return s.chartAssist.resetVisibleSeries()}),c.Ic(5,T,3,8,"nui-legend-series",5),c.Tb(),c.Tb(),c.Tb(),c.Pb(6,"br"),c.Ub(7,"div",0),c.Ub(8,"div",1),c.Pb(9,"nui-chart",2),c.Tb(),c.Ub(10,"div",3),c.Ub(11,"nui-legend",4),c.hc("mouseleave",function(){return s.reversedThresholdsChartAssist.resetVisibleSeries()}),c.Ic(12,v,3,8,"nui-legend-series",5),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(2),c.rc("chart",s.chart),c.Cb(2),c.rc("active",s.chartAssist.isLegendActive)("interactive",!0),c.Cb(1),c.rc("ngForOf",s.chartAssist.legendSeriesSet)("ngForTrackBy",s.chartAssist.seriesTrackByFn),c.Cb(4),c.rc("chart",s.reversedThresholdsChart),c.Cb(2),c.rc("active",s.reversedThresholdsChartAssist.isLegendActive)("interactive",!0),c.Cb(1),c.rc("ngForOf",s.reversedThresholdsChartAssist.legendSeriesSet)("ngForTrackBy",s.reversedThresholdsChartAssist.seriesTrackByFn))},directives:[h.a,d.a,l.o,u.a,g.a,b.a],encapsulation:2}),e})(),data:{srlc:{hideIndicator:!0}}}];let p=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(s){return new(s||e)},imports:[[n.a,i.X,t.e.forChild(S)]]}),e})()}}]);