(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{dLxB:function(e,t,r){"use strict";r.r(t),r.d(t,"TypeSwitchExampleModule",function(){return O});var i=r("tyNb"),s=r("Rr1A"),n=r("gKry"),a=r("s1Ul"),c=r("VJLA"),o=r.n(c),u=r("fXoL"),h=r("HHUD"),l=r("ofXK"),d=r("QpXW"),b=r("AFFp"),p=r("sBYA"),g=r("Gufu");function C(e,t){if(1&e&&(u.Sb(0),u.Ub(1,"nui-chart-donut-content",10),u.Ub(2,"div",11),u.Kc(3,"57"),u.Tb(),u.Ub(4,"div",12),u.Kc(5,"donuts"),u.Tb(),u.Tb(),u.Rb()),2&e){const e=u.lc();u.Cb(1),u.rc("plugin",e.donutContentPlugin)}}function v(e,t){if(1&e){const e=u.Vb();u.Ub(0,"nui-legend-series",13),u.hc("mouseenter",function(){u.Dc(e);const r=t.$implicit;return u.lc().chartAssist.emphasizeSeries(r.id)})("isSelectedChange",function(r){u.Dc(e);const i=t.$implicit;return u.lc().chartAssist.toggleSeries(i.id,r)}),u.mc(1,"titlecase"),u.Pb(2,"nui-rich-legend-tile",14),u.Pb(3,"nui-icon",15),u.Tb()}if(2&e){const e=t.$implicit,r=u.lc();u.sc("descriptionPrimary",u.nc(1,5,e.id)),u.rc("seriesRenderState",null==r.chartAssist.renderStatesIndex[e.id]?null:r.chartAssist.renderStatesIndex[e.id].state)("isSelected",!r.chartAssist.isSeriesHidden(e.id)),u.Cb(2),u.rc("value",null==e.data[0]?null:e.data[0].value),u.Cb(1),u.rc("icon",r.iconMap[e.id])}}function m(e,t){if(1&e&&(u.Ub(0,"nui-radio",16),u.Kc(1),u.mc(2,"titlecase"),u.Tb()),2&e){const e=t.$implicit;u.rc("value",e),u.Cb(1),u.Mc(" ",u.nc(2,2,e)," ")}}let y=(()=>{class e{constructor(){this.chartTypes=["horizontal bar","vertical bar","pie","donut"],this.chartType=this.chartTypes[0],this.categories=["down","critical","warning","unknown","ok","other"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[24,16,7,6,97,4],this.iconMap=o()(this.categories,this.iconNames.map(e=>`status_${e}`)),this.colorProvider=new n.S(o()(this.categories,n.o))}ngOnInit(){this.updateChartType()}updateChartType(){this.buildChart(),this.chartAssist.chart.updateDimensions(),this.updateChart()}buildChart(){switch(this.donutContentPlugin=void 0,this.chartType){case"horizontal bar":this.chartAssist=new n.r(new n.q(Object(n.zb)({horizontal:!0})));break;case"vertical bar":this.chartAssist=new n.r(new n.q(Object(n.zb)({horizontal:!1})));break;case"pie":this.chartAssist=new n.r(new n.q(Object(n.Hb)()),n.Gb);break;case"donut":this.donutContentPlugin=new n.t,this.chartAssist=new n.r(new n.q(Object(n.Hb)()),n.Gb),this.chartAssist.chart.addPlugin(this.donutContentPlugin)}}getRenderer(){switch(this.chartType){case"horizontal bar":case"vertical bar":return new n.g;case"pie":return new n.Z;case"donut":return new n.eb}}updateChart(){const e=this.getAccessors(),t=this.getRenderer(),r=this.getScales();if(!e||!t||!r)throw new Error("Accessors, renderer or scales are unavailable");this.chartAssist.update(this.getChartAssistSeries(this.categories,this.values,e,t,r))}getScales(){const e=new n.c,t=new n.Q;switch(t.domainCalculator=Object(n.Db)([0,0]),this.chartType){case"horizontal bar":return{x:t,y:e};case"vertical bar":return{x:e,y:t};case"pie":case"donut":return Object(n.Jb)()}}getAccessors(){switch(this.chartType){case"horizontal bar":return new n.F(this.colorProvider);case"vertical bar":return new n.tb(this.colorProvider);case"pie":case"donut":{const e=new n.bb;return e.series.color=this.colorProvider.get,e}}}getChartAssistSeries(e,t,r,i,s){return e.map((e,n)=>({id:e,data:[{category:e,value:t[n]||0}],accessors:r,renderer:i,scales:s}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Ib({type:e,selectors:[["nui-chart-one-dimensional-data-example"]],decls:10,vars:8,consts:[[1,"nui-chart-layout"],[1,"chart",2,"position","relative"],[1,"w-100",3,"chart"],[4,"ngIf"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"plugin"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],["backgroundColor","transparent",3,"value"],[3,"icon"],[3,"value"]],template:function(e,t){1&e&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Pb(2,"nui-chart",2),u.Ic(3,C,6,1,"ng-container",3),u.Tb(),u.Ub(4,"div",4),u.Ub(5,"nui-legend",5),u.hc("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),u.Ic(6,v,4,7,"nui-legend-series",6),u.Tb(),u.Tb(),u.Ub(7,"div",7),u.Ub(8,"nui-radio-group",8),u.hc("valueChange",function(e){return t.chartType=e})("valueChange",function(){return t.updateChartType()}),u.Ic(9,m,3,4,"nui-radio",9),u.Tb(),u.Tb(),u.Tb()),2&e&&(u.Cb(2),u.rc("chart",t.chartAssist.chart),u.Cb(1),u.rc("ngIf",t.donutContentPlugin),u.Cb(2),u.rc("active",t.chartAssist.isLegendActive)("interactive",!1),u.Cb(1),u.rc("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),u.Cb(2),u.rc("value",t.chartType),u.Cb(1),u.rc("ngForOf",t.chartTypes))},directives:[h.a,l.p,d.a,l.o,s.O,b.a,p.a,g.a,s.k,s.N],pipes:[l.y],encapsulation:2}),e})();function w(e,t){if(1&e&&(u.Ub(0,"nui-radio",9),u.Kc(1),u.mc(2,"titlecase"),u.Tb()),2&e){const e=t.$implicit;u.rc("value",e),u.Cb(1),u.Mc(" ",u.nc(2,2,e)," ")}}function f(e,t){if(1&e&&u.Pb(0,"nui-icon",13),2&e){const e=u.lc().$implicit,t=u.lc();u.rc("icon",t.iconMap[e.id])}}function T(e,t){if(1&e){const e=u.Vb();u.Ub(0,"nui-legend-series",10),u.hc("mouseenter",function(){u.Dc(e);const r=t.$implicit;return u.lc().chartAssist.emphasizeSeries(r.id)})("isSelectedChange",function(r){u.Dc(e);const i=t.$implicit;return u.lc().chartAssist.toggleSeries(i.id,r)}),u.mc(1,"titlecase"),u.Pb(2,"nui-rich-legend-tile",11),u.Ic(3,f,1,1,"nui-icon",12),u.Tb()}if(2&e){const e=t.$implicit,r=u.lc();u.sc("descriptionPrimary",u.nc(1,7,e.id)),u.rc("seriesRenderState",null==r.chartAssist.renderStatesIndex[e.id]?null:r.chartAssist.renderStatesIndex[e.id].state)("isSelected",!r.chartAssist.isSeriesHidden(e.id)),u.Cb(2),u.rc("value",r.accessors.data.value(e.data[0],0,null,null))("backgroundColor",r.chartAssist.palette.standardColors.get(e.id))("color",r.chartAssist.palette.textColors.get(e.id)),u.Cb(1),u.rc("ngIf",r.iconMap[e.id])}}function S(e,t){if(1&e&&(u.Ub(0,"nui-radio",9),u.Kc(1),u.mc(2,"titlecase"),u.Tb()),2&e){const e=t.$implicit;u.rc("value",e),u.Cb(1),u.Mc(" ",u.nc(2,2,e)," ")}}var A=function(e){return e.StackedBar="stacked bar",e.GroupedBar="grouped bar",e.Line="line",e}({});const F=[{path:"1d",component:y},{path:"2d",component:(()=>{class e{constructor(){this.chartTypes=[A.StackedBar,A.GroupedBar,A.Line],this.chartType=this.chartTypes[0],this.mainCategoryOptions=["quarters","statuses"],this.mainCategory=this.mainCategoryOptions[0],this.statuses=["down","critical","warning","unknown","ok","other"],this.quarters=["Q1","Q2","Q3","Q4"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[[24,16,7,6,97,4],[13,8,5,17,5,25],[97,41,24,6,7,6],[45,87,23,48,24,9]],this.iconMap=o()(this.statuses,this.iconNames.map(e=>`status_${e}`))}ngOnInit(){this.updateMainCategory()}updateMainCategory(){const e=new n.u(new n.S(o()(this.statuses,n.o))),t=new n.u(n.m),r=this.mainCategory===this.mainCategoryOptions[0];this.categories=r?this.statuses:this.quarters,this.subCategories=r?this.quarters:this.statuses,this.valueAccessor=r?(e,t)=>this.values[e][t]:(e,t)=>this.values[t][e],this.palette=r?t:e,this.updateChartType()}updateChartType(){this.buildChart(),this.updateChart()}buildChart(){const{grid:e,accessors:t,renderer:r,scales:i,preprocessor:s}=this.getChartAttributes(this.chartType);this.renderer=r,this.accessors=t,this.scales=i;const a=new n.q(e);a.addPlugin(new n.K),this.chartAssist=new n.r(a,s,this.palette),this.chartType===A.StackedBar&&(this.chartAssist.seriesProcessor=n.Lb)}updateChart(){this.chartAssist.update(this.buildChartSeries(this.categories,this.subCategories,this.valueAccessor))}buildChartSeries(e,t,r){return t.map((t,i)=>({id:t,name:t,data:e.map((e,t)=>({category:e,value:r(i,t)||0})),accessors:this.accessors,renderer:this.renderer,scales:this.scales}))}getChartAttributes(e){const t=this.getChartTools(e),r={grid:t.gridFunction(),accessors:t.accessorFunction(),renderer:t.rendererFunction(),scales:t.scaleFunction()};return t.preprocessor&&(r.preprocessor=t.preprocessor),r}getChartTools(e){return{[A.StackedBar]:{preprocessor:n.Lb,gridFunction:n.zb,rendererFunction:()=>new n.g({highlightStrategy:new n.e("x")}),accessorFunction:()=>Object(n.yb)(void 0,this.palette.standardColors),scaleFunction:n.Ab},[A.GroupedBar]:{gridFunction:()=>Object(n.zb)({grouped:!0}),rendererFunction:()=>new n.g({highlightStrategy:new n.e("x")}),accessorFunction:()=>{const e=Object(n.yb)({grouped:!0},this.palette.standardColors);return e.data.category=(e,t,r,i)=>[e.category,i.name],e},scaleFunction:()=>Object(n.Ab)({grouped:!0})},[A.Line]:{gridFunction:()=>new n.ub,rendererFunction:()=>new n.O,accessorFunction:()=>{const e=new n.N(this.palette.standardColors);return e.data.x=e=>e.category,e.data.y=e=>e.value,e.data.value=e=>e.value,e},scaleFunction:()=>({x:(new n.c).fixDomain(this.categories),y:new n.Q})}}[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Ib({type:e,selectors:[["nui-chart-two-dimensional-data-example"]],decls:13,vars:9,consts:[[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[3,"value"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["class","mt-1 ml-3",3,"icon",4,"ngIf"],[1,"mt-1","ml-3",3,"icon"]],template:function(e,t){1&e&&(u.Ub(0,"h3"),u.Kc(1," Legend by "),u.Ub(2,"nui-radio-group",0),u.hc("valueChange",function(e){return t.mainCategory=e})("valueChange",function(){return t.updateMainCategory()}),u.Ic(3,w,3,4,"nui-radio",1),u.Tb(),u.Tb(),u.Ub(4,"div",2),u.Ub(5,"div",3),u.Pb(6,"nui-chart",4),u.Tb(),u.Ub(7,"div",5),u.Ub(8,"nui-legend",6),u.hc("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),u.Ic(9,T,4,9,"nui-legend-series",7),u.Tb(),u.Tb(),u.Ub(10,"div",8),u.Ub(11,"nui-radio-group",0),u.hc("valueChange",function(e){return t.chartType=e})("valueChange",function(){return t.updateChartType()}),u.Ic(12,S,3,4,"nui-radio",1),u.Tb(),u.Tb(),u.Tb()),2&e&&(u.Cb(2),u.rc("value",t.mainCategory),u.Cb(1),u.rc("ngForOf",t.mainCategoryOptions),u.Cb(3),u.rc("chart",t.chartAssist.chart),u.Cb(2),u.rc("active",t.chartAssist.isLegendActive)("interactive",!1),u.Cb(1),u.rc("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),u.Cb(2),u.rc("value",t.chartType),u.Cb(1),u.rc("ngForOf",t.chartTypes))},directives:[s.O,l.o,h.a,d.a,s.N,p.a,g.a,l.p,s.k],pipes:[l.y],encapsulation:2}),e})()}];let O=(()=>{class e{}return e.\u0275mod=u.Mb({type:e}),e.\u0275inj=u.Lb({factory:function(t){return new(t||e)},imports:[[a.a,n.X,s.z,s.D,i.e.forChild(F)]]}),e})()}}]);