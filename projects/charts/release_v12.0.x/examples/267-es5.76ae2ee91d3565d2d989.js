!function(){"use strict";function e(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(self.webpackChunk_nova_ui_charts=self.webpackChunk_nova_ui_charts||[]).push([[267],{267:function(r,i,a){a.r(i),a.d(i,{TypeSwitchExampleModule:function(){return J}});var s=a(66266),o=a(28425),c=a(7435),u=a(58490),l=a(31507),h=a.n(l),d=a(33018),p=a(13458),g=a(38583),v=a(46743),f=a(65804),y=a(83063),w=a(87373);function m(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"nui-chart-donut-content",10),d.TgZ(2,"div",11),d._uU(3,"57"),d.qZA(),d.TgZ(4,"div",12),d._uU(5,"donuts"),d.qZA(),d.qZA(),d.BQk()),2&e){var r=d.oxw();d.xp6(1),d.Q6J("plugin",r.donutContentPlugin)}}function C(e,t){if(1&e){var r=d.EpF();d.TgZ(0,"nui-legend-series",13),d.NdJ("mouseenter",function(){var e=d.CHM(r).$implicit;return d.oxw().chartAssist.emphasizeSeries(e.id)})("isSelectedChange",function(e){var t=d.CHM(r).$implicit;return d.oxw().chartAssist.toggleSeries(t.id,e)}),d.ALo(1,"titlecase"),d._UZ(2,"nui-rich-legend-tile",14),d._UZ(3,"nui-icon",15),d.qZA()}if(2&e){var n=t.$implicit,i=d.oxw();d.s9C("descriptionPrimary",d.lcZ(1,5,n.id)),d.Q6J("seriesRenderState",null==i.chartAssist.renderStatesIndex[n.id]?null:i.chartAssist.renderStatesIndex[n.id].state)("isSelected",!i.chartAssist.isSeriesHidden(n.id)),d.xp6(2),d.Q6J("value",null==n.data[0]?null:n.data[0].value),d.xp6(1),d.Q6J("icon",i.iconMap[n.id])}}function A(e,t){if(1&e&&(d.TgZ(0,"nui-radio",16),d._uU(1),d.ALo(2,"titlecase"),d.qZA()),2&e){var r=t.$implicit;d.Q6J("value",r),d.xp6(1),d.hij(" ",d.lcZ(2,2,r)," ")}}var k,T=((k=function(){function e(){t(this,e),this.chartTypes=["horizontal bar","vertical bar","pie","donut"],this.chartType=this.chartTypes[0],this.categories=["down","critical","warning","unknown","ok","other"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[24,16,7,6,97,4],this.iconMap=h()(this.categories,this.iconNames.map(function(e){return"status_".concat(e)})),this.colorProvider=new c.oki(h()(this.categories,c.lQw))}return n(e,[{key:"ngOnInit",value:function(){this.updateChartType()}},{key:"updateChartType",value:function(){this.buildChart(),this.chartAssist.chart.updateDimensions(),this.updateChart()}},{key:"buildChart",value:function(){switch(this.donutContentPlugin=void 0,this.chartType){case"horizontal bar":this.chartAssist=new c.doR(new c.kL2((0,c.skL)({horizontal:!0})));break;case"vertical bar":this.chartAssist=new c.doR(new c.kL2((0,c.skL)({horizontal:!1})));break;case"pie":this.chartAssist=new c.doR(new c.kL2((0,c.Y6Q)()),c.fy$);break;case"donut":this.donutContentPlugin=new c.iM,this.chartAssist=new c.doR(new c.kL2((0,c.Y6Q)()),c.fy$),this.chartAssist.chart.addPlugin(this.donutContentPlugin)}}},{key:"getRenderer",value:function(){switch(this.chartType){case"horizontal bar":case"vertical bar":return new c.Z7w;case"pie":return new c.bOg;case"donut":return new c.E8N}}},{key:"updateChart",value:function(){var e=this.getAccessors(),t=this.getRenderer(),r=this.getScales();if(!e||!t||!r)throw new Error("Accessors, renderer or scales are unavailable");this.chartAssist.update(this.getChartAssistSeries(this.categories,this.values,e,t,r))}},{key:"getScales",value:function(){var e=new c.jS7,t=new c.f$s;switch(t.domainCalculator=(0,c._OB)([0,0]),this.chartType){case"horizontal bar":return{x:t,y:e};case"vertical bar":return{x:e,y:t};case"pie":case"donut":return(0,c._N$)()}}},{key:"getAccessors",value:function(){switch(this.chartType){case"horizontal bar":return new c.HVr(this.colorProvider);case"vertical bar":return new c.a9F(this.colorProvider);case"pie":case"donut":var e=new c.UDz;return e.series.color=this.colorProvider.get,e}}},{key:"getChartAssistSeries",value:function(e,t,r,n,i){return e.map(function(e,a){return{id:e,data:[{category:e,value:t[a]||0}],accessors:r,renderer:n,scales:i}})}}]),e}()).\u0275fac=function(e){return new(e||k)},k.\u0275cmp=d.Xpm({type:k,selectors:[["nui-chart-one-dimensional-data-example"]],decls:10,vars:8,consts:[[1,"nui-chart-layout"],[1,"chart",2,"position","relative"],[1,"w-100",3,"chart"],[4,"ngIf"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"plugin"],[1,"nui-text-page"],[1,"nui-text-secondary"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],["backgroundColor","transparent",3,"value"],[3,"icon"],[3,"value"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"nui-chart",2),d.YNc(3,m,6,1,"ng-container",3),d.qZA(),d.TgZ(4,"div",4),d.TgZ(5,"nui-legend",5),d.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),d.YNc(6,C,4,7,"nui-legend-series",6),d.qZA(),d.qZA(),d.TgZ(7,"div",7),d.TgZ(8,"nui-radio-group",8),d.NdJ("valueChange",function(e){return t.chartType=e})("valueChange",function(){return t.updateChartType()}),d.YNc(9,A,3,4,"nui-radio",9),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("chart",t.chartAssist.chart),d.xp6(1),d.Q6J("ngIf",t.donutContentPlugin),d.xp6(2),d.Q6J("active",t.chartAssist.isLegendActive)("interactive",!1),d.xp6(1),d.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),d.xp6(2),d.Q6J("value",t.chartType),d.xp6(1),d.Q6J("ngForOf",t.chartTypes))},directives:[p.x,g.O5,v.F,g.sg,o.wTj,f.k,y.k,w.w,o.oJW,o.UKb],pipes:[g.rS],encapsulation:2}),k);function Z(e,t){if(1&e&&(d.TgZ(0,"nui-radio",9),d._uU(1),d.ALo(2,"titlecase"),d.qZA()),2&e){var r=t.$implicit;d.Q6J("value",r),d.xp6(1),d.hij(" ",d.lcZ(2,2,r)," ")}}function b(e,t){if(1&e&&d._UZ(0,"nui-icon",13),2&e){var r=d.oxw().$implicit,n=d.oxw();d.Q6J("icon",n.iconMap[r.id])}}function S(e,t){if(1&e){var r=d.EpF();d.TgZ(0,"nui-legend-series",10),d.NdJ("mouseenter",function(){var e=d.CHM(r).$implicit;return d.oxw().chartAssist.emphasizeSeries(e.id)})("isSelectedChange",function(e){var t=d.CHM(r).$implicit;return d.oxw().chartAssist.toggleSeries(t.id,e)}),d.ALo(1,"titlecase"),d._UZ(2,"nui-rich-legend-tile",11),d.YNc(3,b,1,1,"nui-icon",12),d.qZA()}if(2&e){var n=t.$implicit,i=d.oxw();d.s9C("descriptionPrimary",d.lcZ(1,7,n.id)),d.Q6J("seriesRenderState",null==i.chartAssist.renderStatesIndex[n.id]?null:i.chartAssist.renderStatesIndex[n.id].state)("isSelected",!i.chartAssist.isSeriesHidden(n.id)),d.xp6(2),d.Q6J("value",i.accessors.data.value(n.data[0],0,null,null))("backgroundColor",i.chartAssist.palette.standardColors.get(n.id))("color",i.chartAssist.palette.textColors.get(n.id)),d.xp6(1),d.Q6J("ngIf",i.iconMap[n.id])}}function x(e,t){if(1&e&&(d.TgZ(0,"nui-radio",9),d._uU(1),d.ALo(2,"titlecase"),d.qZA()),2&e){var r=t.$implicit;d.Q6J("value",r),d.xp6(1),d.hij(" ",d.lcZ(2,2,r)," ")}}var F=function(){return(e=F||(F={})).StackedBar="stacked bar",e.GroupedBar="grouped bar",e.Line="line",F;var e}(),Q=[{path:"1d",component:T},{path:"2d",component:function(){var r=function(){function r(){t(this,r),this.chartTypes=[F.StackedBar,F.GroupedBar,F.Line],this.chartType=this.chartTypes[0],this.mainCategoryOptions=["quarters","statuses"],this.mainCategory=this.mainCategoryOptions[0],this.statuses=["down","critical","warning","unknown","ok","other"],this.quarters=["Q1","Q2","Q3","Q4"],this.iconNames=["down","critical","warning","unknown","up","unmanaged"],this.values=[[24,16,7,6,97,4],[13,8,5,17,5,25],[97,41,24,6,7,6],[45,87,23,48,24,9]],this.iconMap=h()(this.statuses,this.iconNames.map(function(e){return"status_".concat(e)}))}return n(r,[{key:"ngOnInit",value:function(){this.updateMainCategory()}},{key:"updateMainCategory",value:function(){var e=this,t=new c.syg(new c.oki(h()(this.statuses,c.lQw))),r=new c.syg(c.cpE),n=this.mainCategory===this.mainCategoryOptions[0];this.categories=n?this.statuses:this.quarters,this.subCategories=n?this.quarters:this.statuses,this.valueAccessor=n?function(t,r){return e.values[t][r]}:function(t,r){return e.values[r][t]},this.palette=n?r:t,this.updateChartType()}},{key:"updateChartType",value:function(){this.buildChart(),this.updateChart()}},{key:"buildChart",value:function(){var e=this.getChartAttributes(this.chartType),t=e.grid,r=e.accessors,n=e.renderer,i=e.scales,a=e.preprocessor;this.renderer=n,this.accessors=r,this.scales=i;var s=new c.kL2(t);s.addPlugin(new c.$fK),this.chartAssist=new c.doR(s,a,this.palette),this.chartType===F.StackedBar&&(this.chartAssist.seriesProcessor=c.knu)}},{key:"updateChart",value:function(){this.chartAssist.update(this.buildChartSeries(this.categories,this.subCategories,this.valueAccessor))}},{key:"buildChartSeries",value:function(e,t,r){var n=this;return t.map(function(t,i){return{id:t,name:t,data:e.map(function(e,t){return{category:e,value:r(i,t)||0}}),accessors:n.accessors,renderer:n.renderer,scales:n.scales}})}},{key:"getChartAttributes",value:function(e){var t=this.getChartTools(e),r={grid:t.gridFunction(),accessors:t.accessorFunction(),renderer:t.rendererFunction(),scales:t.scaleFunction()};return t.preprocessor&&(r.preprocessor=t.preprocessor),r}},{key:"getChartTools",value:function(t){var r,n=this;return(r={},e(r,F.StackedBar,{preprocessor:c.knu,gridFunction:c.skL,rendererFunction:function(){return new c.Z7w({highlightStrategy:new c.Pkp("x")})},accessorFunction:function(){return(0,c.Q6e)(void 0,n.palette.standardColors)},scaleFunction:c.CQI}),e(r,F.GroupedBar,{gridFunction:function(){return(0,c.skL)({grouped:!0})},rendererFunction:function(){return new c.Z7w({highlightStrategy:new c.Pkp("x")})},accessorFunction:function(){var e=(0,c.Q6e)({grouped:!0},n.palette.standardColors);return e.data.category=function(e,t,r,n){return[e.category,n.name]},e},scaleFunction:function(){return(0,c.CQI)({grouped:!0})}}),e(r,F.Line,{gridFunction:function(){return new c.Be5},rendererFunction:function(){return new c.Med},accessorFunction:function(){var e=new c.qxh(n.palette.standardColors);return e.data.x=function(e){return e.category},e.data.y=function(e){return e.value},e.data.value=function(e){return e.value},e},scaleFunction:function(){return{x:(new c.jS7).fixDomain(n.categories),y:new c.f$s}}}),r)[t]}}]),r}();return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=d.Xpm({type:r,selectors:[["nui-chart-two-dimensional-data-example"]],decls:13,vars:9,consts:[[1,"nui-radio-group-inline",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],[3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-bottom"],[3,"value"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["class","mt-1 ml-3",3,"icon",4,"ngIf"],[1,"mt-1","ml-3",3,"icon"]],template:function(e,t){1&e&&(d.TgZ(0,"h3"),d._uU(1," Legend by "),d.TgZ(2,"nui-radio-group",0),d.NdJ("valueChange",function(e){return t.mainCategory=e})("valueChange",function(){return t.updateMainCategory()}),d.YNc(3,Z,3,4,"nui-radio",1),d.qZA(),d.qZA(),d.TgZ(4,"div",2),d.TgZ(5,"div",3),d._UZ(6,"nui-chart",4),d.qZA(),d.TgZ(7,"div",5),d.TgZ(8,"nui-legend",6),d.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),d.YNc(9,S,4,9,"nui-legend-series",7),d.qZA(),d.qZA(),d.TgZ(10,"div",8),d.TgZ(11,"nui-radio-group",0),d.NdJ("valueChange",function(e){return t.chartType=e})("valueChange",function(){return t.updateChartType()}),d.YNc(12,x,3,4,"nui-radio",1),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("value",t.mainCategory),d.xp6(1),d.Q6J("ngForOf",t.mainCategoryOptions),d.xp6(3),d.Q6J("chart",t.chartAssist.chart),d.xp6(2),d.Q6J("active",t.chartAssist.isLegendActive)("interactive",!1),d.xp6(1),d.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn),d.xp6(2),d.Q6J("value",t.chartType),d.xp6(1),d.Q6J("ngForOf",t.chartTypes))},directives:[o.wTj,g.sg,p.x,v.F,o.UKb,y.k,w.w,g.O5,o.oJW],pipes:[g.rS],encapsulation:2}),r}()}],J=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[u.l,c.$y4,o.Ts3,o.CUE,s.Bz.forChild(Q)]]}),e}()}}])}();