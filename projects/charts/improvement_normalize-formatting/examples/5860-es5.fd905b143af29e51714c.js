!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){h=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(h)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return n(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunk_nova_ui_charts=self.webpackChunk_nova_ui_charts||[]).push([[5860],{5462:function(e,t,s){var n={"./chart-docs-thresholds.component.html":24458,"./chart-docs-thresholds.component.ts":53272,"./chart-docs-thresholds.module.ts":54212,"./thresholds-basic/thresholds-basic.example.component.html":33794,"./thresholds-basic/thresholds-basic.example.component.ts":49577,"./thresholds-spark/thresholds-spark.example.component.html":90202,"./thresholds-spark/thresholds-spark.example.component.ts":52958,"./thresholds-summary/thresholds-summary-example/thresholds-summary.example.component.html":15009,"./thresholds-summary/thresholds-summary-example/thresholds-summary.example.component.ts":45826,"./thresholds-summary/thresholds-summary-test-harness/thresholds-summary-test-harness.component.html":52803,"./thresholds-summary/thresholds-summary-test-harness/thresholds-summary-test-harness.component.ts":12427,"./thresholds-summary/thresholds-summary-test/thresholds-summary-test.component.html":73579,"./thresholds-summary/thresholds-summary-test/thresholds-summary-test.component.ts":54378,"./thresholds-summary/thresholds-summary-visual-test/thresholds-summary-visual-test.component.html":42508,"./thresholds-summary/thresholds-summary-visual-test/thresholds-summary-visual-test.component.ts":85454,"./thresholds-summary/thresholds-summary-with-interval-scale-test/thresholds-summary-with-interval-scale-test.component.html":73587,"./thresholds-summary/thresholds-summary-with-interval-scale-test/thresholds-summary-with-interval-scale-test.component.ts":82913,"components/demo/thresholds/chart-docs-thresholds.component.html":24458,"components/demo/thresholds/chart-docs-thresholds.component.ts":53272,"components/demo/thresholds/chart-docs-thresholds.module.ts":54212,"components/demo/thresholds/thresholds-basic/thresholds-basic.example.component.html":33794,"components/demo/thresholds/thresholds-basic/thresholds-basic.example.component.ts":49577,"components/demo/thresholds/thresholds-spark/thresholds-spark.example.component.html":90202,"components/demo/thresholds/thresholds-spark/thresholds-spark.example.component.ts":52958,"components/demo/thresholds/thresholds-summary/thresholds-summary-example/thresholds-summary.example.component.html":15009,"components/demo/thresholds/thresholds-summary/thresholds-summary-example/thresholds-summary.example.component.ts":45826,"components/demo/thresholds/thresholds-summary/thresholds-summary-test-harness/thresholds-summary-test-harness.component.html":52803,"components/demo/thresholds/thresholds-summary/thresholds-summary-test-harness/thresholds-summary-test-harness.component.ts":12427,"components/demo/thresholds/thresholds-summary/thresholds-summary-test/thresholds-summary-test.component.html":73579,"components/demo/thresholds/thresholds-summary/thresholds-summary-test/thresholds-summary-test.component.ts":54378,"components/demo/thresholds/thresholds-summary/thresholds-summary-visual-test/thresholds-summary-visual-test.component.html":42508,"components/demo/thresholds/thresholds-summary/thresholds-summary-visual-test/thresholds-summary-visual-test.component.ts":85454,"components/demo/thresholds/thresholds-summary/thresholds-summary-with-interval-scale-test/thresholds-summary-with-interval-scale-test.component.html":73587,"components/demo/thresholds/thresholds-summary/thresholds-summary-with-interval-scale-test/thresholds-summary-with-interval-scale-test.component.ts":82913};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=5462},65860:function(s,n,i){"use strict";i.r(n),i.d(n,{ChartDocsThresholdsModule:function(){return V}});var h=i(90665),l=i(66266),d=i(28425),c=i(4813),u=i(58490),m=i(33018),p=i(16738),g=i.n(p),S=i(13458),f=i(46743),y=i(38583),v=i(83063),T=i(87373),A=i(73943);function C(e,t){if(1&e){var s=m.EpF();m.TgZ(0,"nui-legend-series",6),m.NdJ("mouseenter",function(){var e=m.CHM(s).$implicit;return m.oxw().chartAssist.emphasizeSeries(e.id)})("isSelectedChange",function(e){var t=m.CHM(s).$implicit;return m.oxw().chartAssist.toggleSeries(t.id,e)}),m.TgZ(1,"nui-rich-legend-tile",7),m._UZ(2,"nui-chart-marker",8),m.qZA(),m.qZA()}if(2&e){var n=t.$implicit,r=m.oxw();m.Q6J("descriptionPrimary",n.name)("seriesRenderState",null==r.chartAssist.renderStatesIndex[n.id]?null:r.chartAssist.renderStatesIndex[n.id].state)("isSelected",!r.chartAssist.isSeriesHidden(n.id)),m.xp6(1),m.Q6J("value",r.chartAssist.getHighlightedValue(n,"y"))("backgroundColor",r.chartAssist.palette.standardColors.get(n.id))("color",r.chartAssist.palette.textColors.get(n.id)),m.xp6(1),m.Q6J("marker",r.chartAssist.markers.get(n.id))("color",r.chartAssist.palette.standardColors.get(n.id))}}var w,x=((w=x||(x={})).Error="error",w.Warning="warning",x),k=function(){var s=function(){function s(e){var t;a(this,s),this.thresholdsService=e,this.chart=new c.kL2(new c.Be5),this.chartAssist=new c.doR(this.chart),this.thresholdsPalette=new c.syg(new c.oki((r(t={},x.Error,c.lQw[1]),r(t,x.Warning,c.lQw[2]),t)))}return o(s,[{key:"ngOnInit",value:function(){var s=new c.qxh(this.chartAssist.palette.standardColors,this.chartAssist.markers),n=new c.Med,r={x:new c.lTH((0,p.duration)(5,"minutes")),y:new c.f$s};this.chart.getGrid().leftScaleId=r.y.id;var a,i={x:r.x,y:(new c.jS7).fixDomain(c.s1E.STATUS_DOMAIN)},o=[{status:x.Error,start:90},{status:x.Error,end:10},{status:x.Warning,start:70,end:90},{status:x.Warning,start:10,end:30}],h=function(){var e="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:g()("2016-12-25T15:05:00Z",e).toDate(),y:30},{x:g()("2016-12-25T15:10:00Z",e).toDate(),y:95},{x:g()("2016-12-25T15:15:00Z",e).toDate(),y:15},{x:g()("2016-12-25T15:20:00Z",e).toDate(),y:60},{x:g()("2016-12-25T15:25:00Z",e).toDate(),y:35},{x:g()("2016-12-25T15:30:00Z",e).toDate(),y:5},{x:g()("2016-12-25T15:35:00Z",e).toDate(),y:60},{x:g()("2016-12-25T15:40:00Z",e).toDate(),y:84},{x:g()("2016-12-25T15:55:00Z",e).toDate(),y:86},{x:g()("2016-12-25T16:00:00Z",e).toDate(),y:35}]}]}().map(function(e){return Object.assign(Object.assign({},e),{accessors:s,renderer:n,scales:r})}),l=[],d=t(h);try{for(d.s();!(a=d.n()).done;){var u=a.value,m=this.thresholdsService.getThresholdZones(u,o,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(u,m);var S=[this.thresholdsService.getBackgrounds(u,m,i,this.thresholdsPalette.backgroundColors)].concat(e(this.thresholdsService.getThresholdLines(m)),e(this.thresholdsService.getSideIndicators(m,r)));l.push.apply(l,e(S))}}catch(f){d.e(f)}finally{d.f()}this.chartAssist.update([].concat(l,e(h)))}}]),s}();return s.\u0275fac=function(e){return new(e||s)(m.Y36(c.yaz))},s.\u0275cmp=m.Xpm({type:s,selectors:[["nui-thresholds-basic-example"]],decls:6,vars:5,consts:[[1,"nui-chart-layout"],[1,"chart"],[1,"w-100",3,"chart"],[1,"legend"],["seriesUnitLabel","sec",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m._UZ(2,"nui-chart",2),m.qZA(),m.TgZ(3,"div",3),m.TgZ(4,"nui-legend",4),m.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),m.YNc(5,C,3,8,"nui-legend-series",5),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Q6J("chart",t.chart),m.xp6(2),m.Q6J("active",t.chartAssist.isLegendActive)("interactive",!0),m.xp6(1),m.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn))},directives:[S.x,f.F,y.sg,v.k,T.w,A.s],encapsulation:2}),s}(),b=i(36092),Z=i(58102),I=i.n(Z),D=i(9647);function _(e,t){if(1&e&&m._UZ(0,"nui-icon",8),2&e){var s=t.$implicit,n=m.oxw(3);m.Q6J("icon",n.statusIcons[s])}}function z(e,t){if(1&e&&(m.TgZ(0,"nui-legend-series",5),m.TgZ(1,"nui-rich-legend-tile",6),m.YNc(2,_,1,1,"nui-icon",7),m.qZA(),m.qZA()),2&e){var s=t.$implicit,n=m.oxw(2);m.Q6J("interactive",!1)("descriptionSecondary",s.name),m.xp6(1),m.Q6J("unitLabel",s.units)("value",n.chartAssist.getHighlightedValue(s,"y"))("backgroundColor",n.statusBgColors.get(n.chartAssist.getHighlightedValue(s,"status"))),m.uIk("data-title",n.chartAssist.getHighlightedValue(s,"status")),m.xp6(1),m.Q6J("ngIf",n.chartAssist.getHighlightedValue(s,"status"))}}function M(e,t){if(1&e&&(m.TgZ(0,"div",1),m._UZ(1,"nui-chart",2),m.TgZ(2,"div",3),m.YNc(3,z,3,7,"nui-legend-series",4),m.qZA(),m.qZA()),2&e){var s=t.$implicit;m.xp6(1),m.Q6J("chart",s.chart),m.xp6(2),m.Q6J("ngIf",s.chartSeriesSet[0])}}var E=function(){return(e=E||(E={})).Error="error",e.Warning="warning",E;var e}(),U=function(){var e=function(){function e(t){var s,n;a(this,e),this.thresholdsService=t,this.statusBgColors=new c.oki((r(s={},E.Error,P(c.lQw[1],.2)),r(s,E.Warning,P(c.lQw[2],.3)),s),"transparent"),this.statusIcons=(r(n={},E.Error,"status_critical"),r(n,E.Warning,"status_warning"),n),this.xScale=new c.FBd}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.chartAssist=new c.ruA,this.renderer=new c.Med,this.accessors=new c.qxh(new c.jpW([c.cpE[0]]),new c.NVM([c.WSY[0]])),this.accessors.data.status=function(e){return I()(e,"__thresholds.status")};var t=function(e,t,s){var n=g()([2016,11,25]),r=g().duration(1,"hours");return[{id:"shared-pool-size",name:"Shared pool size",units:"MB",values:[67,16,3,56,26,68,74,45,54,81,13,90,72,61,97,32,64,22,60,11,53,77,88,49,66]},{id:"buffer-cache-size",name:"Buffer cache size",units:"MB",values:[5,15,52,75,64,74,6,24,100,26,91,38,4,45,93,44,59,48,99,96,53,72,32,69,27]},{id:"pga-cache-size",name:"PGA cache size",units:"MB",values:[83,21,43,8,96,100,5,53,14,20,82,23,29,62,33,34,94,72,77,45,81,80,19,26,86]},{id:"db-logical-read-rate",name:"DB logical read rate",units:"%",values:[74,9,10,87,83,41,4,96,100,33,30,26,40,12,21,3,69,59,32,93,62,25,90,58,51]},{id:"buffer-cache-hit-ratio",name:"Buffer cache hit ratio",units:"rps",values:[55,78,26,35,4,37,88,64,71,40,45,9,30,51,72,44,75,39,67,24,19,1,59,11,25]},{id:"library-cache-hit-ratio",name:"Library cache hit ratio",units:"%",values:[71,57,1,3,23,4,79,54,10,29,36,99,34,75,94,24,26,50,73,64,96,12,59,95,97]}].map(function(a){return Object.assign(Object.assign({},a),{data:L(a.values,n,r),scales:{x:e,y:new c.f$s},renderer:t,accessors:s})})}(this.xScale,this.renderer,this.accessors),s=[{status:E.Error,start:90},{status:E.Warning,start:70,end:90}],n=t.map(function(t){var n=e.thresholdsService.getThresholdZones(t,s,e.statusBgColors),r={x:t.scales.x,y:(new c.jS7).fixDomain(c.s1E.STATUS_DOMAIN)};e.thresholdsService.injectThresholdsData(t,n);var a=e.thresholdsService.getBackgrounds(t,n,r,e.statusBgColors);return{id:t.id,chartSeriesSet:[t,a]}});this.chartAssist.updateSparks(n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(c.yaz))},e.\u0275cmp=m.Xpm({type:e,selectors:[["nui-thresholds-spark-example"]],decls:1,vars:2,consts:[["class","d-flex",4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex"],["nuiChartCollectionId","example-collection-id",1,"w-100",3,"chart"],[1,"d-flex","flex-column","pl-2"],[3,"interactive","descriptionSecondary",4,"ngIf"],[3,"interactive","descriptionSecondary"],[3,"unitLabel","value","backgroundColor"],["iconSize","small","leftEdge","",3,"icon",4,"ngIf"],["iconSize","small","leftEdge","",3,"icon"]],template:function(e,t){1&e&&m.YNc(0,M,4,2,"div",0),2&e&&m.Q6J("ngForOf",t.chartAssist.sparks)("ngForTrackBy",t.chartAssist.trackByFn)},directives:[y.sg,S.x,D.V,y.O5,v.k,T.w,d.oJW],encapsulation:2}),e}();function L(e,t,s){return e.map(function(e,n){return{x:t.clone().add(g().duration(n*s.asMilliseconds())),y:e}})}function P(e,t){var s=(0,c.ruO)(e),n=(0,b.B8)(s);return n.opacity=t,n.toString()}var R=i(37524),O=i.n(R);function B(e,t){if(1&e){var s=m.EpF();m.TgZ(0,"nui-legend-series",6),m.NdJ("mouseenter",function(){var e=m.CHM(s).$implicit;return m.oxw().chartAssist.emphasizeSeries(e.id)})("isSelectedChange",function(e){var t=m.CHM(s).$implicit;return m.oxw().chartAssist.toggleSeries(t.id,e)}),m.TgZ(1,"nui-rich-legend-tile",7),m._UZ(2,"nui-chart-marker",8),m.qZA(),m.qZA()}if(2&e){var n=t.$implicit,r=m.oxw();m.Q6J("descriptionPrimary",n.id)("seriesRenderState",null==r.chartAssist.renderStatesIndex[n.id]?null:r.chartAssist.renderStatesIndex[n.id].state)("isSelected",!r.chartAssist.isSeriesHidden(n.id)),m.xp6(1),m.Q6J("value",r.chartAssist.getHighlightedValue(n,"y"))("backgroundColor",r.chartAssist.palette.standardColors.get(n.id))("color",r.chartAssist.palette.textColors.get(n.id)),m.xp6(1),m.Q6J("marker",r.chartAssist.markers.get(n.id))("color",r.chartAssist.palette.standardColors.get(n.id))}}var H=function(){return(e=H||(H={})).Error="error",e.Warning="warning",e.Ok="ok",H;var e}(),q=function(){var s=function(){function s(e){a(this,s),this.thresholdsService=e}return o(s,[{key:"ngOnInit",value:function(){var t,s=new c.kL2(new c.Be5((0,c.fWz)())),n=new c.kL2(new c.Be5((0,c.M6V)()));this.chartAssist=new c.doR(s),this.summaryChartAssist=new c.doR(n),this.summaryChartAssist.syncWithChartAssist(this.chartAssist);var a=new c.FBd,i={x:a,y:new c.f$s};s.getGrid().leftScaleId=i.y.id,i.y.domainCalculator=(0,c._OB)([0,100]),this.thresholdsPalette=new c.syg(new c.oki((r(t={},H.Error,c.lQw[1]),r(t,H.Warning,c.lQw[2]),r(t,H.Ok,c.lQw[4]),t),"transparent"));var o=new c.Med,h=new c.qxh(this.chartAssist.palette.standardColors,this.chartAssist.markers),l=function(){var e="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:g()("2016-12-25T15:14:29.909Z",e),y:30},{x:g()("2016-12-27T15:14:29.909Z",e),y:95},{x:g()("2016-12-29T15:14:29.909Z",e),y:15},{x:g()("2016-12-31T15:14:29.909Z",e),y:60},{x:g()("2017-01-03T15:14:29.909Z",e),y:35}]},{id:"series-2",name:"Series 2",data:[{x:g()("2016-12-25T15:14:29.909Z",e),y:60},{x:g()("2016-12-27T15:14:29.909Z",e),y:40},{x:g()("2016-12-29T15:14:29.909Z",e),y:70},{x:g()("2016-12-31T15:14:29.909Z",e),y:45},{x:g()("2017-01-03T15:14:29.909Z",e),y:90}]}]}().map(function(e){return Object.assign(Object.assign({},e),{accessors:h,renderer:o,scales:i})}),d=[{status:H.Error,start:80},{status:H.Warning,start:60,end:80}],u=this.createMainChartThresholdSeriesSet(l,i,d),m=this.createSummarySeriesSet(l,a,d);this.chartAssist.update([].concat(e(u),e(l))),this.summaryChartAssist.update(m)}},{key:"createMainChartThresholdSeriesSet",value:function(s,n,r){var a,i={x:n.x,y:(new c.jS7).fixDomain(c.s1E.STATUS_DOMAIN)},o=[],h=t(s);try{for(h.s();!(a=h.n()).done;){var l=a.value,d=this.thresholdsService.getThresholdZones(l,r,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(l,d);var u=[this.thresholdsService.getBackgrounds(l,d,i,this.thresholdsPalette.backgroundColors)].concat(e(this.thresholdsService.getThresholdLines(d)),e(this.thresholdsService.getSideIndicators(d,n)));o.push.apply(o,e(u))}}catch(m){h.e(m)}finally{h.f()}return o}},{key:"createSummarySeriesSet",value:function(t,s,n){var a=this,i=[].concat(e(n),[{status:H.Ok}]),o={x:s,y:(new c.jS7).fixDomain(c.s1E.STATUS_DOMAIN)},h=r({},H.Ok,c.Z7w.THIN);return e(t).map(function(e){var t=a.thresholdsService.getThresholdZones(e,i,a.thresholdsPalette.standardColors);return a.thresholdsService.injectThresholdsData(e,t),a.thresholdsService.getBackgrounds(e,t,o,a.thresholdsPalette.standardColors,h,O()(c.Wki))})}}]),s}();return s.\u0275fac=function(e){return new(e||s)(m.Y36(c.yaz))},s.\u0275cmp=m.Xpm({type:s,selectors:[["nui-thresholds-summary-example"]],decls:7,vars:6,consts:[[1,"nui-chart-layout"],[1,"chart","d-flex","flex-column"],["nuiChartCollectionId","collection",1,"w-100",3,"chart"],[1,"legend"],["seriesUnitLabel","sec",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m._UZ(2,"nui-chart",2),m._UZ(3,"nui-chart",2),m.qZA(),m.TgZ(4,"div",3),m.TgZ(5,"nui-legend",4),m.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),m.YNc(6,B,3,8,"nui-legend-series",5),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Q6J("chart",t.chartAssist.chart),m.xp6(1),m.Q6J("chart",t.summaryChartAssist.chart),m.xp6(2),m.Q6J("active",t.chartAssist.isLegendActive)("interactive",!0),m.xp6(1),m.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn))},directives:[S.x,D.V,f.F,y.sg,v.k,T.w,A.s],encapsulation:2}),s}(),N=function(){var e=o(function e(){a(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["nui-chart-docs-thresholds"]],decls:106,vars:2,consts:[["href","../classes/BarRenderer.html","target","_blank"],["href","../injectables/ThresholdsService.html","target","_blank"],["filenamePrefix","thresholds-basic","exampleTitle","Basic Thresholds For Line Chart"],["href","../classes/TimeIntervalScale.html","target","_blank"],["href","../classes/TimeScale.html","target","_blank"],["filenamePrefix","thresholds-spark","exampleTitle","Thresholds For Spark Charts"],["type","info",3,"allowDismiss"],["href","../classes/SparkChartAssist.html#updateSparks","target","_blank"],["href","../classes/SparkChartAssist.html","target","_blank"],["href","../classes/SparkChartAssist.html#update","target","_blank"],["href","../additional-documentation/spark.html","target","_parent"],["href","../components/ChartComponent.html","target","_blank"],["href","../classes/ChartAssist.html","target","_blank"],["href","../miscellaneous/functions.html#thresholdsTopGridConfig","target","_blank"],["href","../miscellaneous/functions.html#thresholdsSummaryGridConfig","target","_blank"],["href","../classes/ChartAssist.html#syncWithChartAssist","target","_blank"],["type","warning",3,"allowDismiss"],["filenamePrefix","thresholds-summary","exampleTitle","Thresholds Summary"]],template:function(e,t){1&e&&(m.TgZ(0,"h1"),m._uU(1,"Thresholds"),m.qZA(),m.TgZ(2,"p"),m._uU(3," Unlike in "),m.TgZ(4,"code"),m._uU(5,"novajs"),m.qZA(),m._uU(6," charts, threshold functionality is not built into the chart component. To get threshold specific elements on your chart you need separate data series that will be used by generic renderers such as the "),m.TgZ(7,"code"),m.TgZ(8,"a",0),m._uU(9,"BarRenderer"),m.qZA(),m.qZA(),m._uU(10," to display the threshold visualizations. The process of creating the data series needed for thresholds consists mainly of the following:\n"),m.qZA(),m.TgZ(11,"ol"),m.TgZ(12,"li"),m._uU(13,"Creating one or more zone series that define the threshold areas"),m.qZA(),m.TgZ(14,"li"),m._uU(15," Injecting the zone data into the standard data series to provide access to this information from the legend, tooltips, etc. "),m.qZA(),m.TgZ(16,"li"),m._uU(17," Creating the threshold series that actually visualize the thresholds on the chart "),m.qZA(),m.TgZ(18,"li"),m._uU(19," Creating additional visual elements such as side indicators and horizontal lines indicating the start and end of each threshold zone "),m.qZA(),m.qZA(),m.TgZ(20,"p"),m._uU(21," To help you with all of this, we've built a "),m.TgZ(22,"code"),m.TgZ(23,"a",1),m._uU(24,"ThresholdsService"),m.qZA(),m.qZA(),m._uU(25," that does the most common tasks in terms of threshold data calculation and new series generation.\n"),m.qZA(),m.TgZ(26,"p"),m._uU(27,"Sound complicated still?"),m.qZA(),m.TgZ(28,"p"),m._uU(29," Let's give it a try. Check out the inline comments of the following example.\n"),m.qZA(),m.TgZ(30,"nui-example-wrapper",2),m._UZ(31,"nui-thresholds-basic-example"),m.qZA(),m.TgZ(32,"p"),m._uU(33," For the above example we used "),m.TgZ(34,"code"),m.TgZ(35,"a",3),m._uU(36,"TimeIntervalScale"),m.qZA(),m.qZA(),m._uU(37," for the horizontal axis, but it can easily be replaced with a continuous "),m.TgZ(38,"code"),m.TgZ(39,"a",4),m._uU(40,"TimeScale"),m.qZA(),m.qZA(),m._uU(41," if needed. The service will do more precise calculations of background colored areas for a continuous scale. For an example of this, see the "),m.TgZ(42,"strong"),m._uU(43,"Thresholds Summary"),m.qZA(),m._uU(44," demo farther down the page.\n"),m.qZA(),m.TgZ(45,"h2"),m._uU(46,"Spark Chart With Thresholds"),m.qZA(),m.TgZ(47,"p"),m._uU(48," The process is similar for a spark chart. To see how, take a look at the inline comments of the example below.\n"),m.qZA(),m.TgZ(49,"nui-example-wrapper",5),m._UZ(50,"nui-thresholds-spark-example"),m.qZA(),m.TgZ(51,"nui-message",6),m._uU(52," When having multiple series per spark, you need to call "),m.TgZ(53,"code"),m.TgZ(54,"a",7),m._uU(55,"updateSparks()"),m.qZA(),m.qZA(),m._uU(56," method of "),m.TgZ(57,"code"),m.TgZ(58,"a",8),m._uU(59,"SparkChartAssist"),m.qZA(),m.qZA(),m._uU(60," instead of "),m.TgZ(61,"code"),m.TgZ(62,"a",9),m._uU(63,"update()"),m.qZA(),m.qZA(),m._uU(64," as usual. "),m.TgZ(65,"strong"),m._uU(66,"For general information about implementing spark charts, please see the spark chart page "),m.TgZ(67,"a",10),m._uU(68,"here"),m.qZA(),m.qZA(),m._uU(69,".\n"),m.qZA(),m.TgZ(70,"h2"),m._uU(71,"Thresholds Summary"),m.qZA(),m.TgZ(72,"p"),m._uU(73," If you want to add an area below the main chart that displays a summary of the threshold data from multiple series, you can add a second "),m.TgZ(74,"code"),m.TgZ(75,"a",11),m._uU(76,"nui-chart"),m.qZA(),m.qZA(),m._uU(77," to the page with the help of an additional instance of "),m.TgZ(78,"code"),m.TgZ(79,"a",12),m._uU(80,"ChartAssist"),m.qZA(),m.qZA(),m._uU(81,". To configure each of the chart grids to have the correct appearance you can use the "),m.TgZ(82,"code"),m.TgZ(83,"a",13),m._uU(84,"thresholdsTopGridConfig"),m.qZA(),m.qZA(),m._uU(85," function for the main chart grid and the "),m.TgZ(86,"code"),m.TgZ(87,"a",14),m._uU(88,"thresholdsSummaryGridConfig"),m.qZA(),m.qZA(),m._uU(89," function for the summary chart grid.\n"),m.qZA(),m.TgZ(90,"p"),m._uU(91," In order to synchronize the behaviors of the summary chart with the main chart's various legend interaction behaviors, you can invoke ChartAssist's "),m.TgZ(92,"code"),m.TgZ(93,"a",15),m._uU(94,"syncWithChartAssist"),m.qZA(),m.qZA(),m._uU(95," method on the summary chart assist passing a reference to the main chart assist.\n"),m.qZA(),m.TgZ(96,"p"),m._uU(97," The rest of the process is very similar to what's been shown in the previous examples. For more details about how to implement the summary chart take a look at the inline comments of the example source below.\n"),m.qZA(),m.TgZ(98,"nui-message",16),m.TgZ(99,"strong"),m._uU(100,"Note:"),m.qZA(),m._uU(101," By UX design, the threshold visualizations on the main chart of the following example are only displayed when a series is either hovered on the legend or is the only series selected on the legend. This behavior is meant to keep the visualizations focused on the primary data and to allow the user to inspect the secondary threshold data of each series via the legend if desired.\n"),m.qZA(),m.TgZ(102,"nui-example-wrapper",17),m._UZ(103,"nui-thresholds-summary-example"),m.qZA(),m.TgZ(104,"p"),m._uU(105,"Easy! Isn't it?"),m.qZA()),2&e&&(m.xp6(51),m.Q6J("allowDismiss",!1),m.xp6(47),m.Q6J("allowDismiss",!1))},directives:[d.hD2,k,U,d.qqZ,q],encapsulation:2}),e}();function G(e,t){if(1&e){var s=m.EpF();m.TgZ(0,"nui-legend-series",6),m.NdJ("mouseenter",function(){var e=m.CHM(s).$implicit;return m.oxw().chartAssist.emphasizeSeries(e.id)})("isSelectedChange",function(e){var t=m.CHM(s).$implicit;return m.oxw().chartAssist.toggleSeries(t.id,e)}),m.TgZ(1,"nui-rich-legend-tile",7),m._UZ(2,"nui-chart-marker",8),m.qZA(),m.qZA()}if(2&e){var n=t.$implicit,r=m.oxw();m.Q6J("descriptionPrimary",n.name)("seriesRenderState",null==r.chartAssist.renderStatesIndex[n.id]?null:r.chartAssist.renderStatesIndex[n.id].state)("isSelected",!r.chartAssist.isSeriesHidden(n.id)),m.xp6(1),m.Q6J("value",r.chartAssist.getHighlightedValue(n,"y"))("backgroundColor",r.chartAssist.palette.standardColors.get(n.id))("color",r.chartAssist.palette.textColors.get(n.id)),m.xp6(1),m.Q6J("marker",r.chartAssist.markers.get(n.id))("color",r.chartAssist.palette.standardColors.get(n.id))}}var F=function(){var s=function(){function s(e){a(this,s),this.thresholdsService=e,this.uid=c.tIi.uuid(),this.chart=new c.kL2(new c.Be5((0,c.fWz)())),this.summaryChart=new c.kL2(new c.Be5((0,c.M6V)())),this.chartAssist=new c.doR(this.chart),this.summaryChartAssist=new c.doR(this.summaryChart),this.scales={x:new c.FBd,y:new c.f$s},this.backgroundScales={x:this.scales.x,y:new c.jS7},this.summaryScales={x:this.scales.x,y:new c.jS7},this.configureGrids(this.scales.y.id),this.summaryChartAssist.syncWithChartAssist(this.chartAssist),this.scales.y.domainCalculator=(0,c._OB)([0,100]),this.backgroundScales.y.fixDomain(c.s1E.STATUS_DOMAIN),this.summaryScales.y.fixDomain(c.s1E.STATUS_DOMAIN),this.thresholdsPalette=new c.syg(new c.oki({error:c.lQw[1],warning:c.lQw[2],ok:c.lQw[4]},"transparent")),this.thicknessMap={ok:c.Z7w.THIN},this.renderer=new c.Med,this.accessors=new c.qxh(this.chartAssist.palette.standardColors,this.chartAssist.markers)}return o(s,[{key:"ngOnInit",value:function(){this.update(this.data)}},{key:"ngOnChanges",value:function(e){(e.data||e.zones)&&this.update(this.data)}},{key:"update",value:function(s){var n,r=this,a=function(e,t,s){var n=function(e,t){return{x:s.clone().add(t,"d"),y:e}};return Object.keys(e).map(function(s){return{id:s,name:s,data:e[s].map(n),accessors:t}})}(s,this.accessors,this.startDate).map(function(e){return Object.assign(Object.assign({},e),{renderer:r.renderer,scales:r.scales})}),i=e(a).map(function(t){var s=[].concat(e(r.zones),[{status:"ok"}]),n=r.thresholdsService.getThresholdZones(t,s,r.thresholdsPalette.standardColors);return r.thresholdsService.injectThresholdsData(t,n),r.thresholdsService.getBackgrounds(t,n,r.summaryScales,r.thresholdsPalette.standardColors,r.thicknessMap,O()(c.Wki))}),o=[],h=t(a);try{for(h.s();!(n=h.n()).done;){var l=n.value,d=this.thresholdsService.getThresholdZones(l,this.zones,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(l,d),o.push.apply(o,[this.thresholdsService.getBackgrounds(l,d,this.backgroundScales,this.thresholdsPalette.backgroundColors)].concat(e(this.thresholdsService.getThresholdLines(d)),e(this.thresholdsService.getSideIndicators(d,this.scales))))}}catch(u){h.e(u)}finally{h.f()}this.chartAssist.update([].concat(o,e(a))),this.summaryChartAssist.update(i)}},{key:"configureGrids",value:function(e){var t=this.chart.getGrid();t.leftScaleId=e;var s=t.config();s.dimension.width(400),s.dimension.height(110),s.dimension.autoWidth=!1,s.dimension.autoHeight=!1;var n=this.summaryChart.getGrid().config();n.dimension.width(400),n.dimension.autoWidth=!1}}]),s}();return s.\u0275fac=function(e){return new(e||s)(m.Y36(c.yaz))},s.\u0275cmp=m.Xpm({type:s,selectors:[["nui-thresholds-summary-test"]],inputs:{data:"data",zones:"zones",startDate:"startDate"},features:[m.TTD],decls:6,vars:8,consts:[[1,"d-flex","align-items-start"],[1,"d-flex","flex-column"],[1,"thresholds-main-chart",3,"chart","nuiChartCollectionId"],[1,"thresholds-summary-chart",3,"chart","nuiChartCollectionId"],["seriesUnitLabel","sec",1,"ml-2","thresholds-legend",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m._UZ(2,"nui-chart",2),m._UZ(3,"nui-chart",3),m.qZA(),m.TgZ(4,"nui-legend",4),m.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),m.YNc(5,G,3,8,"nui-legend-series",5),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Q6J("chart",t.chart)("nuiChartCollectionId",t.uid),m.xp6(1),m.Q6J("chart",t.summaryChart)("nuiChartCollectionId",t.uid),m.xp6(1),m.Q6J("active",t.chartAssist.isLegendActive)("interactive",!0),m.xp6(1),m.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn))},directives:[S.x,D.V,f.F,y.sg,v.k,T.w,A.s],encapsulation:2}),s}(),Y=function(){var e=function(){function e(){a(this,e),this.data={"series-1":[10,30,70,30,10],"series-2":[0,40,60,40,0]},this.zones=[{status:"error",start:50},{status:"warning",start:20,end:50}],this.startDate=g()([2016,11,25,15,14,29])}return o(e,[{key:"ngOnInit",value:function(){}},{key:"dataChanged",value:function(e){this.data=this.validateInput(e)||this.data}},{key:"zonesChanged",value:function(e){this.zones=this.validateInput(e)||this.zones}},{key:"validateInput",value:function(e){var t;try{t=JSON.parse(e)}catch(s){}return t}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["nui-thresholds-summary-test-harness"]],decls:11,vars:9,consts:[[1,"nui-thresholds-summary-test-harness"],[3,"data","zones","startDate"],["id","data-input","type","text",1,"w-100","mt-5",3,"ngModel","ngModelChange"],["id","zones-input","rows","13","cols","30",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m._UZ(1,"nui-thresholds-summary-test",1),m._UZ(2,"br"),m.TgZ(3,"h2"),m._uU(4,"Data"),m.qZA(),m.TgZ(5,"input",2),m.NdJ("ngModelChange",function(e){return t.dataChanged(e)}),m.ALo(6,"json"),m.qZA(),m.TgZ(7,"h2"),m._uU(8,"Zones"),m.qZA(),m.TgZ(9,"textarea",3),m.NdJ("ngModelChange",function(e){return t.zonesChanged(e)}),m.ALo(10,"json"),m.qZA(),m.qZA()),2&e&&(m.xp6(1),m.Q6J("data",t.data)("zones",t.zones)("startDate",t.startDate),m.xp6(4),m.Q6J("ngModel",m.lcZ(6,5,t.data)),m.xp6(4),m.Q6J("ngModel",m.lcZ(10,7,t.zones)))},directives:[F,h.Fj,h.JJ,h.On],pipes:[y.Ts],encapsulation:2}),e}(),W=i(94317);function j(e,t){if(1&e){var s=m.EpF();m.TgZ(0,"nui-legend-series",6),m.NdJ("mouseenter",function(){var e=m.CHM(s).$implicit;return m.oxw().chartAssist.emphasizeSeries(e.id)})("isSelectedChange",function(e){var t=m.CHM(s).$implicit;return m.oxw().chartAssist.toggleSeries(t.id,e)}),m.TgZ(1,"nui-rich-legend-tile",7),m._UZ(2,"nui-chart-marker",8),m.qZA(),m.qZA()}if(2&e){var n=t.$implicit,r=m.oxw();m.Q6J("descriptionPrimary",n.name)("seriesRenderState",null==r.chartAssist.renderStatesIndex[n.id]?null:r.chartAssist.renderStatesIndex[n.id].state)("isSelected",!r.chartAssist.isSeriesHidden(n.id)),m.xp6(1),m.Q6J("value",r.chartAssist.getHighlightedValue(n,"y"))("backgroundColor",r.chartAssist.palette.standardColors.get(n.id))("color",r.chartAssist.palette.textColors.get(n.id)),m.xp6(1),m.Q6J("marker",r.chartAssist.markers.get(n.id))("color",r.chartAssist.palette.standardColors.get(n.id))}}var J=function(){var s=function(){function s(t){a(this,s),this.thresholdsService=t,this.zones=[{status:"error",start:80},{status:"error",start:-100,end:10},{status:"warning",start:60,end:80},{status:"warning",start:10,end:20}],this.summaryZones=[].concat(e(this.zones),[{status:"ok",start:20,end:60}]),this.startDate=g()([2016,11,25,15,14,29]),this.uid=c.tIi.uuid(),this.chart=new c.kL2(new c.Be5((0,c.fWz)())),this.summaryChart=new c.kL2(new c.Be5((0,c.M6V)())),this.chartAssist=new c.doR(this.chart),this.summaryChartAssist=new c.doR(this.summaryChart),this.scales={x:new c.lTH((0,p.duration)(5,"minutes")),y:new c.f$s},this.backgroundScales={x:this.scales.x,y:new c.jS7},this.summaryScales={x:this.scales.x,y:new c.jS7},this.configureGrids(this.scales.y.id),this.summaryChartAssist.syncWithChartAssist(this.chartAssist),this.scales.y.domainCalculator=(0,c._OB)([0,100]),this.backgroundScales.y.fixDomain(c.s1E.STATUS_DOMAIN),this.summaryScales.y.fixDomain(c.s1E.STATUS_DOMAIN),this.thresholdsPalette=new c.syg(new c.oki({error:c.lQw[1],warning:c.lQw[2],ok:c.lQw[4]},"transparent")),this.thicknessMap={ok:c.Z7w.THIN},this.renderer=new c.Med,this.accessors=new c.qxh(this.chartAssist.palette.standardColors,this.chartAssist.markers)}return o(s,[{key:"ngOnInit",value:function(){this.update()}},{key:"update",value:function(){var s,n=this,r=function(){var e="YYYY-MM-DDTHH:mm:ssZ";return[{id:"series-1",name:"Series 1",data:[{x:g()("2016-12-25T15:05:00Z",e).toDate(),y:30},{x:g()("2016-12-25T15:10:00Z",e).toDate(),y:80},{x:g()("2016-12-25T15:15:00Z",e).toDate(),y:80},{x:g()("2016-12-25T15:20:00Z",e).toDate(),y:80},{x:g()("2016-12-25T15:25:00Z",e).toDate(),y:45},{x:g()("2016-12-25T15:30:00Z",e).toDate(),y:60},{x:g()("2016-12-25T15:35:00Z",e).toDate(),y:10},{x:g()("2016-12-25T15:40:00Z",e).toDate(),y:35}]}]}().map(function(e){return Object.assign(Object.assign({},e),{renderer:n.renderer,accessors:n.accessors,scales:n.scales})}),a=e(r).map(function(e){var t=n.thresholdsService.getThresholdZones(e,n.summaryZones,n.thresholdsPalette.standardColors);return n.thresholdsService.injectThresholdsData(e,t),n.thresholdsService.getBackgrounds(e,t,n.summaryScales,n.thresholdsPalette.standardColors,n.thicknessMap,O()(c.Wki))}),i=[],o=t(r);try{for(o.s();!(s=o.n()).done;){var h=s.value,l=this.thresholdsService.getThresholdZones(h,this.zones,this.thresholdsPalette.standardColors);this.thresholdsService.injectThresholdsData(h,l),i.push.apply(i,[this.thresholdsService.getBackgrounds(h,l,this.backgroundScales,this.thresholdsPalette.backgroundColors)].concat(e(this.thresholdsService.getThresholdLines(l)),e(this.thresholdsService.getSideIndicators(l,this.scales))))}}catch(d){o.e(d)}finally{o.f()}this.chartAssist.update([].concat(i,e(r))),this.summaryChartAssist.update(a)}},{key:"configureGrids",value:function(e){var t=this.chart.getGrid();t.leftScaleId=e;var s=t.config();s.dimension.width(400),s.dimension.height(110),s.dimension.autoWidth=!1,s.dimension.autoHeight=!1;var n=this.summaryChart.getGrid().config();n.dimension.width(400),n.dimension.autoWidth=!1}}]),s}();return s.\u0275fac=function(e){return new(e||s)(m.Y36(c.yaz))},s.\u0275cmp=m.Xpm({type:s,selectors:[["nui-thresholds-summary-with-interval-scale-test"]],decls:6,vars:8,consts:[[1,"d-flex","align-items-start"],[1,"d-flex","flex-column"],[1,"thresholds-main-chart",3,"chart","nuiChartCollectionId"],[1,"thresholds-summary-chart",3,"chart","nuiChartCollectionId"],["seriesUnitLabel","sec",1,"ml-2","thresholds-legend",3,"active","interactive","mouseleave"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"descriptionPrimary","seriesRenderState","isSelected","mouseenter","isSelectedChange"],[3,"value","backgroundColor","color"],["rightEdge","",3,"marker","color"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m._UZ(2,"nui-chart",2),m._UZ(3,"nui-chart",3),m.qZA(),m.TgZ(4,"nui-legend",4),m.NdJ("mouseleave",function(){return t.chartAssist.resetVisibleSeries()}),m.YNc(5,j,3,8,"nui-legend-series",5),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Q6J("chart",t.chart)("nuiChartCollectionId",t.uid),m.xp6(1),m.Q6J("chart",t.summaryChart)("nuiChartCollectionId",t.uid),m.xp6(1),m.Q6J("active",t.chartAssist.isLegendActive)("interactive",!0),m.xp6(1),m.Q6J("ngForOf",t.chartAssist.legendSeriesSet)("ngForTrackBy",t.chartAssist.seriesTrackByFn))},directives:[S.x,D.V,f.F,y.sg,v.k,T.w,A.s],encapsulation:2}),s}(),Q=[{path:"",component:N,data:{srlc:{stage:d.We9.beta},showThemeSwitcher:!0}},{path:"basic",component:k,data:{srlc:{hideIndicator:!0}}},{path:"spark",component:U,data:{srlc:{hideIndicator:!0}}},{path:"summary",component:q,data:{srlc:{hideIndicator:!0}}},{path:"summary-test",component:Y,data:{srlc:{hideIndicator:!0}}},{path:"summary-visual-test",component:function(){var e=o(function e(){a(this,e),this.singleSeries={"series-1":[30,95,15,60,35]},this.thresholdEdges={"series-1":[30,80,80,80,45,60,10,35]},this.singleSeriesNoHits={"series-1":[30,55,25,55,35]},this.multipleSeries={"series-1":[30,95,15,60,35],"series-2":[100,40,70,45,90]},this.zones=[{status:"error",start:80},{status:"error",start:-100,end:10},{status:"warning",start:60,end:80},{status:"warning",start:10,end:20}],this.startDate=g()([2016,11,25,15,14,29])});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["nui-thresholds-summary-visual-test"]],decls:8,vars:18,consts:[[1,"nui-thresholds-summary-single-1",3,"data","zones","startDate"],[1,"nui-thresholds-summary-single-2",3,"data","zones","startDate"],[1,"nui-thresholds-summary-single-3",3,"data","zones","startDate"],[1,"nui-thresholds-summary-multiple-1",3,"data","zones","startDate"],[1,"nui-thresholds-summary-multiple-2",3,"data","zones","startDate"],[1,"nui-thresholds-summary-multiple-3",3,"data","zones","startDate"]],template:function(e,t){1&e&&(m.TgZ(0,"charts-test-harness"),m._UZ(1,"nui-thresholds-summary-test",0),m._UZ(2,"nui-thresholds-summary-test",1),m._UZ(3,"nui-thresholds-summary-test",2),m._UZ(4,"nui-thresholds-summary-with-interval-scale-test"),m._UZ(5,"nui-thresholds-summary-test",3),m._UZ(6,"nui-thresholds-summary-test",4),m._UZ(7,"nui-thresholds-summary-test",5),m.qZA()),2&e&&(m.xp6(1),m.Q6J("data",t.singleSeries)("zones",t.zones)("startDate",t.startDate),m.xp6(1),m.Q6J("data",t.singleSeriesNoHits)("zones",t.zones)("startDate",t.startDate),m.xp6(1),m.Q6J("data",t.thresholdEdges)("zones",t.zones)("startDate",t.startDate),m.xp6(2),m.Q6J("data",t.multipleSeries)("zones",t.zones)("startDate",t.startDate),m.xp6(1),m.Q6J("data",t.multipleSeries)("zones",t.zones)("startDate",t.startDate),m.xp6(1),m.Q6J("data",t.multipleSeries)("zones",t.zones)("startDate",t.startDate))},directives:[W.m,F,J],encapsulation:2}),e}(),data:{srlc:{hideIndicator:!0}}}],V=function(){var e=o(function e(){a(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({providers:[{provide:d.V3$,useFactory:function(){return i(5462)}}],imports:[[u.l,h.u5,c.$y4,d.vvu,d.Ts3,d.gkT,l.Bz.forChild(Q)]]}),e}()},24458:function(e,t,s){"use strict";s.r(t),t.default='<h1>Thresholds</h1>\n<p>\n    Unlike in <code>novajs</code> charts, threshold functionality is not built\n    into the chart component. To get threshold specific elements on your chart\n    you need separate data series that will be used by generic renderers such as\n    the\n    <code\n        ><a href="../classes/BarRenderer.html" target="_blank"\n            >BarRenderer</a\n        ></code\n    >\n    to display the threshold visualizations. The process of creating the data\n    series needed for thresholds consists mainly of the following:\n</p>\n<ol>\n    <li>Creating one or more zone series that define the threshold areas</li>\n    <li>\n        Injecting the zone data into the standard data series to provide access\n        to this information from the legend, tooltips, etc.\n    </li>\n    <li>\n        Creating the threshold series that actually visualize the thresholds on\n        the chart\n    </li>\n    <li>\n        Creating additional visual elements such as side indicators and\n        horizontal lines indicating the start and end of each threshold zone\n    </li>\n</ol>\n<p>\n    To help you with all of this, we\'ve built a\n    <code\n        ><a href="../injectables/ThresholdsService.html" target="_blank"\n            >ThresholdsService</a\n        ></code\n    >\n    that does the most common tasks in terms of threshold data calculation and\n    new series generation.\n</p>\n<p>Sound complicated still?</p>\n<p>\n    Let\'s give it a try. Check out the inline comments of the following example.\n</p>\n<nui-example-wrapper\n    filenamePrefix="thresholds-basic"\n    exampleTitle="Basic Thresholds For Line Chart"\n>\n    <nui-thresholds-basic-example></nui-thresholds-basic-example>\n</nui-example-wrapper>\n\n<p>\n    For the above example we used\n    <code\n        ><a href="../classes/TimeIntervalScale.html" target="_blank"\n            >TimeIntervalScale</a\n        ></code\n    >\n    for the horizontal axis, but it can easily be replaced with a continuous\n    <code\n        ><a href="../classes/TimeScale.html" target="_blank">TimeScale</a></code\n    >\n    if needed. The service will do more precise calculations of background\n    colored areas for a continuous scale. For an example of this, see the\n    <strong>Thresholds Summary</strong> demo farther down the page.\n</p>\n\n<h2>Spark Chart With Thresholds</h2>\n<p>\n    The process is similar for a spark chart. To see how, take a look at the\n    inline comments of the example below.\n</p>\n<nui-example-wrapper\n    filenamePrefix="thresholds-spark"\n    exampleTitle="Thresholds For Spark Charts"\n>\n    <nui-thresholds-spark-example></nui-thresholds-spark-example>\n</nui-example-wrapper>\n\n<nui-message type="info" [allowDismiss]="false">\n    When having multiple series per spark, you need to call\n    <code\n        ><a href="../classes/SparkChartAssist.html#updateSparks" target="_blank"\n            >updateSparks()</a\n        ></code\n    >\n    method of\n    <code\n        ><a href="../classes/SparkChartAssist.html" target="_blank"\n            >SparkChartAssist</a\n        ></code\n    >\n    instead of\n    <code\n        ><a href="../classes/SparkChartAssist.html#update" target="_blank"\n            >update()</a\n        ></code\n    >\n    as usual.\n    <strong\n        >For general information about implementing spark charts, please see the\n        spark chart page\n        <a href="../additional-documentation/spark.html" target="_parent"\n            >here</a\n        ></strong\n    >.\n</nui-message>\n\n<h2>Thresholds Summary</h2>\n<p>\n    If you want to add an area below the main chart that displays a summary of\n    the threshold data from multiple series, you can add a second\n    <code\n        ><a href="../components/ChartComponent.html" target="_blank"\n            >nui-chart</a\n        ></code\n    >\n    to the page with the help of an additional instance of\n    <code\n        ><a href="../classes/ChartAssist.html" target="_blank"\n            >ChartAssist</a\n        ></code\n    >. To configure each of the chart grids to have the correct appearance you\n    can use the\n    <code\n        ><a\n            href="../miscellaneous/functions.html#thresholdsTopGridConfig"\n            target="_blank"\n            >thresholdsTopGridConfig</a\n        ></code\n    >\n    function for the main chart grid and the\n    <code\n        ><a\n            href="../miscellaneous/functions.html#thresholdsSummaryGridConfig"\n            target="_blank"\n            >thresholdsSummaryGridConfig</a\n        ></code\n    >\n    function for the summary chart grid.\n</p>\n<p>\n    In order to synchronize the behaviors of the summary chart with the main\n    chart\'s various legend interaction behaviors, you can invoke ChartAssist\'s\n    <code\n        ><a\n            href="../classes/ChartAssist.html#syncWithChartAssist"\n            target="_blank"\n            >syncWithChartAssist</a\n        ></code\n    >\n    method on the summary chart assist passing a reference to the main chart\n    assist.\n</p>\n<p>\n    The rest of the process is very similar to what\'s been shown in the previous\n    examples. For more details about how to implement the summary chart take a\n    look at the inline comments of the example source below.\n</p>\n<nui-message type="warning" [allowDismiss]="false">\n    <strong>Note:</strong> By UX design, the threshold visualizations on the\n    main chart of the following example are only displayed when a series is\n    either hovered on the legend or is the only series selected on the legend.\n    This behavior is meant to keep the visualizations focused on the primary\n    data and to allow the user to inspect the secondary threshold data of each\n    series via the legend if desired.\n</nui-message>\n<nui-example-wrapper\n    filenamePrefix="thresholds-summary"\n    exampleTitle="Thresholds Summary"\n>\n    <nui-thresholds-summary-example></nui-thresholds-summary-example>\n</nui-example-wrapper>\n\n<p>Easy! Isn\'t it?</p>\n'},53272:function(e,t,s){"use strict";s.r(t),t.default='import { Component } from "@angular/core";\n\n@Component({\n    selector: "nui-chart-docs-thresholds",\n    templateUrl: "./chart-docs-thresholds.component.html",\n})\nexport class ChartDocsThresholdsComponent {}\n'},54212:function(e,t,s){"use strict";s.r(t),t.default='import { NgModule } from "@angular/core";\nimport { FormsModule } from "@angular/forms";\nimport { RouterModule, Routes } from "@angular/router";\n\nimport {\n    DEMO_PATH_TOKEN,\n    NuiDocsModule,\n    NuiIconModule,\n    NuiMessageModule,\n    SrlcStage,\n} from "@nova-ui/bits";\nimport { NuiChartsModule } from "@nova-ui/charts";\n\nimport { DemoCommonModule } from "../common/demo-common.module";\nimport { ChartDocsThresholdsComponent } from "./chart-docs-thresholds.component";\nimport { ThresholdsBasicExampleComponent } from "./thresholds-basic/thresholds-basic.example.component";\nimport { ThresholdsSparkExampleComponent } from "./thresholds-spark/thresholds-spark.example.component";\nimport { ThresholdsSummaryExampleComponent } from "./thresholds-summary/thresholds-summary-example/thresholds-summary.example.component";\nimport { ThresholdsSummaryTestHarnessComponent } from "./thresholds-summary/thresholds-summary-test-harness/thresholds-summary-test-harness.component";\nimport { ThresholdsSummaryTestComponent } from "./thresholds-summary/thresholds-summary-test/thresholds-summary-test.component";\nimport { ThresholdsSummaryVisualTestComponent } from "./thresholds-summary/thresholds-summary-visual-test/thresholds-summary-visual-test.component";\n// eslint-disable-next-line max-len\nimport { ThresholdsSummaryWithIntervalScaleTestComponent } from "./thresholds-summary/thresholds-summary-with-interval-scale-test/thresholds-summary-with-interval-scale-test.component";\n\nconst exampleRoutes: Routes = [\n    {\n        path: "",\n        component: ChartDocsThresholdsComponent,\n        data: {\n            srlc: {\n                stage: SrlcStage.beta,\n            },\n            showThemeSwitcher: true,\n        },\n    },\n    {\n        path: "basic",\n        component: ThresholdsBasicExampleComponent,\n        data: {\n            srlc: {\n                hideIndicator: true,\n            },\n        },\n    },\n    {\n        path: "spark",\n        component: ThresholdsSparkExampleComponent,\n        data: {\n            srlc: {\n                hideIndicator: true,\n            },\n        },\n    },\n    {\n        path: "summary",\n        component: ThresholdsSummaryExampleComponent,\n        data: {\n            srlc: {\n                hideIndicator: true,\n            },\n        },\n    },\n    {\n        path: "summary-test",\n        component: ThresholdsSummaryTestHarnessComponent,\n        data: {\n            srlc: {\n                hideIndicator: true,\n            },\n        },\n    },\n    {\n        path: "summary-visual-test",\n        component: ThresholdsSummaryVisualTestComponent,\n        data: {\n            srlc: {\n                hideIndicator: true,\n            },\n        },\n    },\n];\n\n@NgModule({\n    declarations: [\n        ChartDocsThresholdsComponent,\n        ThresholdsBasicExampleComponent,\n        ThresholdsSparkExampleComponent,\n        ThresholdsSummaryExampleComponent,\n        ThresholdsSummaryTestComponent,\n        ThresholdsSummaryTestHarnessComponent,\n        ThresholdsSummaryVisualTestComponent,\n        ThresholdsSummaryWithIntervalScaleTestComponent,\n    ],\n    imports: [\n        DemoCommonModule,\n        FormsModule,\n        NuiChartsModule,\n        NuiDocsModule,\n        NuiIconModule,\n        NuiMessageModule,\n        RouterModule.forChild(exampleRoutes),\n    ],\n    providers: [\n        {\n            provide: DEMO_PATH_TOKEN,\n            useFactory: () =>\n                (<any>require).context(\n                    `!!raw-loader!./`,\n                    true,\n                    /.*\\.(ts|html|less)$/\n                ),\n        },\n    ],\n})\nexport class ChartDocsThresholdsModule {}\n'},33794:function(e,t,s){"use strict";s.r(t),t.default='<div class="nui-chart-layout">\n    <div class="chart">\n        <nui-chart class="w-100" [chart]="chart"></nui-chart>\n    </div>\n    <div class="legend">\n        <nui-legend\n            seriesUnitLabel="sec"\n            [active]="chartAssist.isLegendActive"\n            [interactive]="true"\n            (mouseleave)="chartAssist.resetVisibleSeries()"\n        >\n            <nui-legend-series\n                *ngFor="\n                    let legendSeries of chartAssist.legendSeriesSet;\n                    trackBy: chartAssist.seriesTrackByFn\n                "\n                [descriptionPrimary]="legendSeries[\'name\']"\n                (mouseenter)="chartAssist.emphasizeSeries(legendSeries.id)"\n                [seriesRenderState]="\n                    chartAssist.renderStatesIndex[legendSeries.id]?.state\n                "\n                [isSelected]="!chartAssist.isSeriesHidden(legendSeries.id)"\n                (isSelectedChange)="\n                    chartAssist.toggleSeries(legendSeries.id, $event)\n                "\n            >\n                <nui-rich-legend-tile\n                    [value]="chartAssist.getHighlightedValue(legendSeries, \'y\')"\n                    [backgroundColor]="\n                        chartAssist.palette.standardColors.get(legendSeries.id)\n                    "\n                    [color]="\n                        chartAssist.palette.textColors.get(legendSeries.id)\n                    "\n                >\n                    <nui-chart-marker\n                        rightEdge\n                        [marker]="chartAssist.markers.get(legendSeries.id)"\n                        [color]="\n                            chartAssist.palette.standardColors.get(\n                                legendSeries.id\n                            )\n                        "\n                    >\n                    </nui-chart-marker>\n                </nui-rich-legend-tile>\n            </nui-legend-series>\n        </nui-legend>\n    </div>\n</div>\n'},49577:function(e,t,s){"use strict";s.r(t),t.default='import { Component, OnInit } from "@angular/core";\nimport moment, { duration } from "moment/moment";\n\nimport {\n    BandScale,\n    Chart,\n    ChartAssist,\n    ChartPalette,\n    CHART_PALETTE_CS_S,\n    IAccessors,\n    IChartAssistSeries,\n    IChartSeries,\n    ILineAccessors,\n    ISimpleThresholdZone,\n    IXYScales,\n    LineAccessors,\n    LinearScale,\n    LineRenderer,\n    MappedValueProvider,\n    StatusAccessors,\n    ThresholdsService,\n    TimeIntervalScale,\n    XYGrid,\n} from "@nova-ui/charts";\n\nenum Status {\n    Error = "error",\n    Warning = "warning",\n}\n\n@Component({\n    selector: "nui-thresholds-basic-example",\n    templateUrl: "./thresholds-basic.example.component.html",\n})\nexport class ThresholdsBasicExampleComponent implements OnInit {\n    public chart = new Chart(new XYGrid());\n    public chartAssist = new ChartAssist(this.chart);\n\n    private thresholdsPalette = new ChartPalette(\n        new MappedValueProvider({\n            [Status.Error]: CHART_PALETTE_CS_S[1],\n            [Status.Warning]: CHART_PALETTE_CS_S[2],\n        })\n    );\n\n    constructor(private thresholdsService: ThresholdsService) {}\n\n    public ngOnInit() {\n        const accessors = new LineAccessors(\n            this.chartAssist.palette.standardColors,\n            this.chartAssist.markers\n        );\n        const renderer = new LineRenderer();\n        const scales: IXYScales = {\n            x: new TimeIntervalScale(duration(5, "minutes")),\n            // The example highlights time intervals defined by data points because of the type of scale that\'s used.\n            // All that\'s necessary to achieve status zones defined by data lines intersecting with threshold zones is\n            // to change the scale type to a continuous time scale by changing the \'x\' scale definition to:\n            // x: new TimeScale(),\n            y: new LinearScale(),\n        };\n\n        // Set the left scale ID on the chart\'s grid to let it know which scale to use for the left axis ticks\n        (this.chart.getGrid() as XYGrid).leftScaleId = scales.y.id;\n\n        // Backgrounds use the StatusBarRenderer which requires a special set of scales.\n        // Note that the x scale is shared between the foreground series and the background series.\n        // Also note that the y band scale fixes the domain to a single value of STATUS_DOMAIN\n        const bgScales: IXYScales = {\n            x: scales.x,\n            y: new BandScale().fixDomain(StatusAccessors.STATUS_DOMAIN),\n        };\n\n        // Zone definitions tell the threshold service where threshold zones begin and end\n        const zoneDefinitions: ISimpleThresholdZone[] = getZoneDefinitions();\n        // Here we define the main data series on the chart which will be visualized as lines\n        const seriesSet: IChartSeries<ILineAccessors>[] = getData().map(\n            (d) => ({\n                ...d,\n                accessors,\n                renderer,\n                scales,\n            })\n        );\n\n        const thresholds: IChartAssistSeries<IAccessors>[] = [];\n        for (const s of seriesSet) {\n            // It\'s possible to manually define zones by area-like data series with start/end values for every data point. We don\'t do that\n            // here, but what we do instead is use simplified zones that are defined by a start value and/or an end value. (A missing\n            // start or end value indicates an infinite zone.)\n            // Those values are then converted into a set of data series in this step.\n            const zones = this.thresholdsService.getThresholdZones(\n                s,\n                zoneDefinitions,\n                this.thresholdsPalette.standardColors\n            );\n\n            // This injects threshold data into every data point of the source series. It is important, because later we can\n            // access related threshold information from many different places like legend, tooltips or even when calculating\n            // other threshold related data series, which we do in the following step.\n            this.thresholdsService.injectThresholdsData(s, zones);\n\n            // Here we create all threshold related visuals for this series. The methods on the thresholdService are broken down and\n            // generate separate elements of the whole, because some situations only require, for example, the backgrounds to be applied.\n            // In this case, we\'re creating backgrounds, side indicators, and threshold lines.\n            // ---\n            // *Note:* The order in which these elements are rendered on the chart corresponds to the order in which\n            // the elements are defined here. So, in this case, since the threshold lines are defined after the\n            // backgrounds in this array, the threshold lines will be rendered in front of the backgrounds on the chart.\n            const seriesThresholds = [\n                this.thresholdsService.getBackgrounds(\n                    s,\n                    zones,\n                    bgScales,\n                    this.thresholdsPalette.backgroundColors\n                ),\n                ...this.thresholdsService.getThresholdLines(zones),\n                ...this.thresholdsService.getSideIndicators(zones, scales),\n            ];\n\n            thresholds.push(...seriesThresholds);\n        }\n\n        // Invoke the update method on the chart assist passing the appropriate series sets\n        // ---\n        // *Note:* The order in which these series sets are rendered on the chart corresponds to the order in which the series are\n        // passed here. So, in this case, since the \'seriesSet\' appears after the \'thresholds\' in this array, the main data elements\n        // will be rendered in front of the threshold-related elements on the chart.\n        this.chartAssist.update([...thresholds, ...seriesSet]);\n    }\n}\n\n/* Chart data */\nfunction getZoneDefinitions() {\n    return [\n        { status: Status.Error, start: 90 },\n        { status: Status.Error, end: 10 },\n        { status: Status.Warning, start: 70, end: 90 },\n        { status: Status.Warning, start: 10, end: 30 },\n    ];\n}\n\nfunction getData() {\n    const format = "YYYY-MM-DDTHH:mm:ssZ";\n    return [\n        {\n            id: "series-1",\n            name: "Series 1",\n            data: [\n                { x: moment("2016-12-25T15:05:00Z", format).toDate(), y: 30 },\n                { x: moment("2016-12-25T15:10:00Z", format).toDate(), y: 95 },\n                { x: moment("2016-12-25T15:15:00Z", format).toDate(), y: 15 },\n                { x: moment("2016-12-25T15:20:00Z", format).toDate(), y: 60 },\n                { x: moment("2016-12-25T15:25:00Z", format).toDate(), y: 35 },\n                { x: moment("2016-12-25T15:30:00Z", format).toDate(), y: 5 },\n                { x: moment("2016-12-25T15:35:00Z", format).toDate(), y: 60 },\n                { x: moment("2016-12-25T15:40:00Z", format).toDate(), y: 84 },\n                { x: moment("2016-12-25T15:55:00Z", format).toDate(), y: 86 },\n                { x: moment("2016-12-25T16:00:00Z", format).toDate(), y: 35 },\n            ],\n        },\n    ];\n}\n'},90202:function(e,t,s){"use strict";s.r(t),t.default='<div\n    *ngFor="let spark of chartAssist.sparks; trackBy: chartAssist.trackByFn"\n    class="d-flex"\n>\n    <nui-chart\n        class="w-100"\n        [chart]="spark.chart"\n        nuiChartCollectionId="example-collection-id"\n    ></nui-chart>\n    <div class="d-flex flex-column pl-2">\n        <nui-legend-series\n            *ngIf="spark.chartSeriesSet[0]; let lineSeries"\n            [interactive]="false"\n            [descriptionSecondary]="lineSeries.name"\n        >\n            <nui-rich-legend-tile\n                [unitLabel]="lineSeries.units"\n                [value]="chartAssist.getHighlightedValue(lineSeries, \'y\')"\n                [backgroundColor]="\n                    statusBgColors.get(\n                        chartAssist.getHighlightedValue(lineSeries, \'status\')\n                    )\n                "\n                [attr.data-title]="\n                    chartAssist.getHighlightedValue(lineSeries, \'status\')\n                "\n            >\n                <nui-icon\n                    *ngIf="\n                        chartAssist.getHighlightedValue(lineSeries, \'status\');\n                        let status\n                    "\n                    iconSize="small"\n                    [icon]="statusIcons[status]"\n                    leftEdge\n                ></nui-icon>\n            </nui-rich-legend-tile>\n        </nui-legend-series>\n    </div>\n</div>\n'},52958:function(e,t,s){"use strict";s.r(t),t.default='import { Component, OnInit } from "@angular/core";\nimport { rgb } from "d3-color";\nimport get from "lodash/get";\nimport moment, { Duration, Moment } from "moment/moment";\n\nimport {\n    BandScale,\n    CHART_MARKERS,\n    CHART_PALETTE_CS1,\n    CHART_PALETTE_CS_S,\n    getColorValueByName,\n    IChartSeries,\n    ILineAccessors,\n    LineAccessors,\n    LinearScale,\n    LineRenderer,\n    MappedValueProvider,\n    SequentialChartMarkerProvider,\n    SequentialColorProvider,\n    SparkChartAssist,\n    StatusAccessors,\n    ThresholdsService,\n    TimeScale,\n} from "@nova-ui/charts";\n\nenum Status {\n    Error = "error",\n    Warning = "warning",\n}\n\n@Component({\n    selector: "nui-thresholds-spark-example",\n    templateUrl: "./thresholds-spark.example.component.html",\n})\nexport class ThresholdsSparkExampleComponent implements OnInit {\n    public chartAssist: SparkChartAssist;\n    public statusBgColors = new MappedValueProvider(\n        {\n            [Status.Error]: addOpacity(CHART_PALETTE_CS_S[1], 0.2),\n            [Status.Warning]: addOpacity(CHART_PALETTE_CS_S[2], 0.3),\n        },\n        "transparent"\n    );\n    public statusIcons = {\n        [Status.Error]: "status_critical",\n        [Status.Warning]: "status_warning",\n    };\n\n    private renderer: LineRenderer;\n    private accessors: LineAccessors;\n    private xScale = new TimeScale();\n\n    constructor(private thresholdsService: ThresholdsService) {}\n\n    public ngOnInit() {\n        this.chartAssist = new SparkChartAssist();\n        this.renderer = new LineRenderer();\n        this.accessors = new LineAccessors(\n            new SequentialColorProvider([CHART_PALETTE_CS1[0]]),\n            new SequentialChartMarkerProvider([CHART_MARKERS[0]])\n        );\n        this.accessors.data.status = (d) => get(d, "__thresholds.status");\n\n        const seriesSet: IChartSeries<ILineAccessors>[] = getLineSeries(\n            this.xScale,\n            this.renderer,\n            this.accessors\n        );\n\n        // Zone definitions tell the threshold service where threshold zones begin and end\n        const zoneDefinitions = getZoneDefinitions();\n\n        const sparks = seriesSet.map((s) => {\n            // It\'s possible to manually define zones by area-like data series with start/end values for every data point. We don\'t do that\n            // here, but what we do instead is use simplified zones that are defined by a start value and/or an end value. (A missing\n            // start or end value indicates an infinite zone.)\n            // Those values are then converted into a set of data series in this step.\n            const zones = this.thresholdsService.getThresholdZones(\n                s,\n                zoneDefinitions,\n                this.statusBgColors\n            );\n\n            // Backgrounds use the StatusBarRenderer which requires a special set of scales.\n            // Note that the x scale is shared between the foreground series and the background series.\n            // Also note that the y band scale fixes the domain to a single value of STATUS_DOMAIN\n            const bgScales = {\n                x: s.scales.x,\n                y: new BandScale().fixDomain(StatusAccessors.STATUS_DOMAIN),\n            };\n\n            // This injects threshold data into every data point of the source series. It is important, because later we can\n            // access related threshold information from many different places such as the legend.\n            this.thresholdsService.injectThresholdsData(s, zones);\n            // We can use the thresholds service to create the background series for each spark\n            const backgrounds = this.thresholdsService.getBackgrounds(\n                s,\n                zones,\n                bgScales,\n                this.statusBgColors\n            );\n\n            return {\n                id: s.id,\n                chartSeriesSet: [s, backgrounds],\n            };\n        });\n\n        this.chartAssist.updateSparks(sparks);\n    }\n}\n\n/* Chart data */\nfunction getZoneDefinitions() {\n    return [\n        { status: Status.Error, start: 90 },\n        { status: Status.Warning, start: 70, end: 90 },\n    ];\n}\n\nfunction getLineSeries(\n    xScale: TimeScale,\n    renderer: LineRenderer,\n    accessors: LineAccessors\n): IChartSeries<ILineAccessors>[] {\n    const baseDate = moment([2016, 11, 25]);\n    const interval = moment.duration(1, "hours");\n    const series = [\n        {\n            id: "shared-pool-size",\n            name: "Shared pool size",\n            units: "MB",\n            values: [\n                67, 16, 3, 56, 26, 68, 74, 45, 54, 81, 13, 90, 72, 61, 97, 32,\n                64, 22, 60, 11, 53, 77, 88, 49, 66,\n            ],\n        },\n        {\n            id: "buffer-cache-size",\n            name: "Buffer cache size",\n            units: "MB",\n            values: [\n                5, 15, 52, 75, 64, 74, 6, 24, 100, 26, 91, 38, 4, 45, 93, 44,\n                59, 48, 99, 96, 53, 72, 32, 69, 27,\n            ],\n        },\n        {\n            id: "pga-cache-size",\n            name: "PGA cache size",\n            units: "MB",\n            values: [\n                83, 21, 43, 8, 96, 100, 5, 53, 14, 20, 82, 23, 29, 62, 33, 34,\n                94, 72, 77, 45, 81, 80, 19, 26, 86,\n            ],\n        },\n        {\n            id: "db-logical-read-rate",\n            name: "DB logical read rate",\n            units: "%",\n            values: [\n                74, 9, 10, 87, 83, 41, 4, 96, 100, 33, 30, 26, 40, 12, 21, 3,\n                69, 59, 32, 93, 62, 25, 90, 58, 51,\n            ],\n        },\n        {\n            id: "buffer-cache-hit-ratio",\n            name: "Buffer cache hit ratio",\n            units: "rps",\n            values: [\n                55, 78, 26, 35, 4, 37, 88, 64, 71, 40, 45, 9, 30, 51, 72, 44,\n                75, 39, 67, 24, 19, 1, 59, 11, 25,\n            ],\n        },\n        {\n            id: "library-cache-hit-ratio",\n            name: "Library cache hit ratio",\n            units: "%",\n            values: [\n                71, 57, 1, 3, 23, 4, 79, 54, 10, 29, 36, 99, 34, 75, 94, 24, 26,\n                50, 73, 64, 96, 12, 59, 95, 97,\n            ],\n        },\n    ];\n\n    return series.map((s) => ({\n        ...s,\n        data: getTimeData(s.values, baseDate, interval),\n        scales: {\n            x: xScale,\n            y: new LinearScale(),\n        },\n        renderer,\n        accessors,\n    }));\n}\n\nfunction getTimeData(\n    values: number[],\n    baseDate: Moment,\n    interval: Duration\n): { x: Moment; y: number }[] {\n    return values.map((v, i) => ({\n        x: baseDate.clone().add(moment.duration(i * interval.asMilliseconds())),\n        y: v,\n    }));\n}\n\nfunction addOpacity(c: string, opacity: number): string {\n    const color = getColorValueByName(c);\n    const rgbColor = rgb(color);\n    rgbColor.opacity = opacity;\n    return rgbColor.toString();\n}\n'},15009:function(e,t,s){"use strict";s.r(t),t.default='<div class="nui-chart-layout">\n    <div class="chart d-flex flex-column">\n        <nui-chart\n            class="w-100"\n            [chart]="chartAssist.chart"\n            nuiChartCollectionId="collection"\n        ></nui-chart>\n        <nui-chart\n            class="w-100"\n            [chart]="summaryChartAssist.chart"\n            nuiChartCollectionId="collection"\n        ></nui-chart>\n    </div>\n    <div class="legend">\n        <nui-legend\n            seriesUnitLabel="sec"\n            [active]="chartAssist.isLegendActive"\n            [interactive]="true"\n            (mouseleave)="chartAssist.resetVisibleSeries()"\n        >\n            <nui-legend-series\n                *ngFor="\n                    let legendSeries of chartAssist.legendSeriesSet;\n                    trackBy: chartAssist.seriesTrackByFn\n                "\n                [descriptionPrimary]="legendSeries.id"\n                (mouseenter)="chartAssist.emphasizeSeries(legendSeries.id)"\n                [seriesRenderState]="\n                    chartAssist.renderStatesIndex[legendSeries.id]?.state\n                "\n                [isSelected]="!chartAssist.isSeriesHidden(legendSeries.id)"\n                (isSelectedChange)="\n                    chartAssist.toggleSeries(legendSeries.id, $event)\n                "\n            >\n                <nui-rich-legend-tile\n                    [value]="chartAssist.getHighlightedValue(legendSeries, \'y\')"\n                    [backgroundColor]="\n                        chartAssist.palette.standardColors.get(legendSeries.id)\n                    "\n                    [color]="\n                        chartAssist.palette.textColors.get(legendSeries.id)\n                    "\n                >\n                    <nui-chart-marker\n                        rightEdge\n                        [marker]="chartAssist.markers.get(legendSeries.id)"\n                        [color]="\n                            chartAssist.palette.standardColors.get(\n                                legendSeries.id\n                            )\n                        "\n                    >\n                    </nui-chart-marker>\n                </nui-rich-legend-tile>\n            </nui-legend-series>\n        </nui-legend>\n    </div>\n</div>\n'},45826:function(e,t,s){"use strict";s.r(t),t.default='import { Component, OnInit } from "@angular/core";\nimport cloneDeep from "lodash/cloneDeep";\nimport moment from "moment/moment";\n\nimport {\n    BandScale,\n    BarRenderer,\n    Chart,\n    ChartAssist,\n    ChartPalette,\n    CHART_PALETTE_CS_S,\n    getAutomaticDomainWithIncludedInterval,\n    IAccessors,\n    IChartAssistSeries,\n    IChartSeries,\n    ILineAccessors,\n    IScale,\n    ISimpleThresholdZone,\n    IXYScales,\n    LineAccessors,\n    LinearScale,\n    LineRenderer,\n    MappedValueProvider,\n    StatusAccessors,\n    ThresholdsService,\n    thresholdsSummaryGridConfig,\n    thresholdsTopGridConfig,\n    THRESHOLDS_SUMMARY_RENDERER_CONFIG,\n    TimeScale,\n    XYGrid,\n} from "@nova-ui/charts";\n\nenum Status {\n    Error = "error",\n    Warning = "warning",\n    Ok = "ok",\n}\n\n@Component({\n    selector: "nui-thresholds-summary-example",\n    templateUrl: "./thresholds-summary.example.component.html",\n})\nexport class ThresholdsSummaryExampleComponent implements OnInit {\n    public chartAssist: ChartAssist;\n    public summaryChartAssist: ChartAssist;\n\n    private thresholdsPalette: ChartPalette;\n\n    constructor(private thresholdsService: ThresholdsService) {}\n\n    public ngOnInit() {\n        // When instantiating the charts, use the provided grid configuration functions for the main grid and summary grid\n        const mainChart = new Chart(new XYGrid(thresholdsTopGridConfig()));\n        const summaryChart = new Chart(\n            new XYGrid(thresholdsSummaryGridConfig())\n        );\n\n        // Instantiate a chart assist for the main chart and summary chart\n        this.chartAssist = new ChartAssist(mainChart);\n        this.summaryChartAssist = new ChartAssist(summaryChart);\n\n        // Synchronize the legend interaction events between the chart assists\n        this.summaryChartAssist.syncWithChartAssist(this.chartAssist);\n\n        // Create scales for the main chart data series\n        // Note that the x scale is shared between the main chart data series, main chart thresholds, and summary visualizations\n        const sharedXScale = new TimeScale();\n        const mainChartDataScales: IXYScales = {\n            x: sharedXScale,\n            y: new LinearScale(),\n        };\n\n        // Set the left scale ID on the main chart grid to let it know which scale to use for the left axis ticks\n        (mainChart.getGrid() as XYGrid).leftScaleId = mainChartDataScales.y.id;\n\n        // To give the data series visualization some vertical breathing room, set the y scale\'s\n        // domainCalculator by invoking getAutomaticDomainWithIncludedInterval, where the\n        // specified interval is larger than the expected domain of the visualized data\n        mainChartDataScales.y.domainCalculator =\n            getAutomaticDomainWithIncludedInterval([0, 100]);\n\n        // Create a palette with a mapped value provider that maps status to color\n        this.thresholdsPalette = new ChartPalette(\n            new MappedValueProvider(\n                {\n                    [Status.Error]: CHART_PALETTE_CS_S[1],\n                    [Status.Warning]: CHART_PALETTE_CS_S[2],\n                    [Status.Ok]: CHART_PALETTE_CS_S[4],\n                },\n                "transparent"\n            )\n        );\n\n        // Standard line renderer for the data series visualization\n        const renderer = new LineRenderer();\n        // Providing chartAssist colors and markers to LineAccessors will share them with the line chart\n        const accessors = new LineAccessors(\n            this.chartAssist.palette.standardColors,\n            this.chartAssist.markers\n        );\n\n        // Here we define the data series on the main chart which will be visualized as lines.\n        // These series are also used in the creation of the corresponding main chart threshold series\n        // and summary chart series.\n        const mainChartDataSeriesSet: IChartSeries<ILineAccessors>[] =\n            getData().map((d) => ({\n                ...d,\n                accessors,\n                renderer,\n                scales: mainChartDataScales,\n            }));\n\n        // Zone definitions tell the threshold service where threshold zones begin and end\n        const zoneDefinitions: ISimpleThresholdZone[] = getZoneDefinitions();\n\n        // See the createMainChartThresholdSeriesSet method definition below for how to assemble\n        // the required elements for thresholds on the main chart\n        const mainChartThresholdSeriesSet =\n            this.createMainChartThresholdSeriesSet(\n                mainChartDataSeriesSet,\n                mainChartDataScales,\n                zoneDefinitions\n            );\n\n        // See the createSummarySeriesSet method definition below for how to assemble the required elements\n        // for thresholds on the summary chart\n        const summarySeriesSet = this.createSummarySeriesSet(\n            mainChartDataSeriesSet,\n            sharedXScale,\n            zoneDefinitions\n        );\n\n        // Invoke the update method on each of the chart assists passing the appropriate series sets\n        // ---\n        // *Note:* The order in which these series sets are rendered on the chart corresponds to the order in which\n        // the series are passed here. So, in this case, since the \'mainChartDataSeriesSet\' appears after the\n        // \'mainChartThresholdSeriesSet\' in this array, the main data elements will be rendered in front of the\n        // threshold-related elements on the chart.\n        this.chartAssist.update([\n            ...mainChartThresholdSeriesSet,\n            ...mainChartDataSeriesSet,\n        ]);\n        this.summaryChartAssist.update(summarySeriesSet);\n    }\n\n    private createMainChartThresholdSeriesSet(\n        mainChartDataSeriesSet: IChartSeries<ILineAccessors>[],\n        mainChartDataScales: IXYScales,\n        zoneDefinitions: ISimpleThresholdZone[]\n    ) {\n        // Create scales for the main chart thresholds.\n        // Note that the same x scale from the data series scales is used here.\n        // Also note that the y band scale fixes the domain to a single value of STATUS_DOMAIN\n        const thresholdScales = {\n            x: mainChartDataScales.x,\n            y: new BandScale().fixDomain(StatusAccessors.STATUS_DOMAIN),\n        };\n\n        const thresholdSeriesSet: IChartAssistSeries<IAccessors>[] = [];\n        for (const s of mainChartDataSeriesSet) {\n            // It\'s possible to manually define zones by area-like data series with start/end values for every data point. We don\'t do that\n            // here, but what we do instead is use simplified zones that are defined by a start value and/or an end value. (A missing\n            // start or end value indicates an infinite zone.)\n            // Those values are then converted into a set of data series in this step.\n            const zones = this.thresholdsService.getThresholdZones(\n                s,\n                zoneDefinitions,\n                this.thresholdsPalette.standardColors\n            );\n\n            // This injects threshold data into every data point of the source series. It is important, because later we can\n            // access related threshold information from many different places like legend, tooltips or even when calculating\n            // other threshold related data series, which we do in the following step.\n            this.thresholdsService.injectThresholdsData(s, zones);\n\n            // Here we create the threshold related visuals for this series. The methods on the thresholdService are broken down and\n            // generate separate elements of the whole, because some situations only require, for example, the backgrounds to be applied.\n            // In this case, we\'re creating backgrounds, side indicators, and threshold lines.\n            // ---\n            // *Note:* The order in which these elements are rendered on the chart corresponds to the order in which\n            // the elements are defined here. So, in this case, since the threshold lines are defined after the\n            // backgrounds in this array, the threshold lines will be rendered in front of the backgrounds on the chart.\n            const seriesThresholds = [\n                this.thresholdsService.getBackgrounds(\n                    s,\n                    zones,\n                    thresholdScales,\n                    this.thresholdsPalette.backgroundColors\n                ),\n                ...this.thresholdsService.getThresholdLines(zones),\n                ...this.thresholdsService.getSideIndicators(\n                    zones,\n                    mainChartDataScales\n                ),\n            ];\n\n            thresholdSeriesSet.push(...seriesThresholds);\n        }\n        return thresholdSeriesSet;\n    }\n\n    private createSummarySeriesSet(\n        seriesSet: IChartSeries<ILineAccessors>[],\n        xScale: IScale<any>,\n        zoneDefinitions: ISimpleThresholdZone[]\n    ) {\n        // Zone definitions let the threshold service know where threshold zones begin and end.\n        //\n        // The summary zones use the same definitions as those on the main chart,\n        // but they also include an "ok" zone for time periods during which a threshold is not exceeded.\n        // The reason the main chart thresholds don\'t include an "ok" zone is that there just isn\'t\n        // a need to visualize the data in an "ok" state there.\n        //\n        // On the summary, data falling within the "ok" zone is visualized as a thin green line.\n        const summaryZoneDefs = [...zoneDefinitions, { status: Status.Ok }];\n\n        // Create scales for the summary chart.\n        // Note that the same x scale from the data series scales of the main chart is used here.\n        // Also note that, similar to the main chart thresholds, the y band scale fixes the domain to a single value of STATUS_DOMAIN\n        const summaryScales = {\n            x: xScale,\n            y: new BandScale().fixDomain(StatusAccessors.STATUS_DOMAIN),\n        };\n\n        // A thickness map can be provided to the thresholds service getBackgrounds method if you want to specify a custom\n        // height for the threshold visualization. The default thickness is the full height of the grid.\n        const thicknessMap = { [Status.Ok]: BarRenderer.THIN };\n\n        const summarySeriesSet: IChartAssistSeries<IAccessors>[] = [\n            ...seriesSet,\n        ].map((s) => {\n            // It\'s possible to manually define zones by area-like data series with start/end values for every data point. We don\'t do that\n            // here, but what we do instead is use simplified zones that are defined by a start value and/or an end value. (A missing\n            // start or end value indicates an infinite zone.)\n            // Those values are then converted into a set of data series in this step.\n            const zones = this.thresholdsService.getThresholdZones(\n                s,\n                summaryZoneDefs,\n                this.thresholdsPalette.standardColors\n            );\n\n            // This injects threshold data into every data point of the source series. It\'s important, because later we can\n            // access related threshold information from many different places like legend, tooltips or even when calculating\n            // other threshold related data series, which we do in the following step.\n            this.thresholdsService.injectThresholdsData(s, zones);\n\n            // Finally, create the thresholds series by invoking the threshold service\'s getBackgrounds method\n            // with arguments for the data series, the defined zones, the palette\'s standard colors\n            // and the predefined THRESHOLDS_SUMMARY_RENDERER_CONFIG.\n            // The renderer config defines the behavior of series when they are emphasized, hidden, etc.\n            return this.thresholdsService.getBackgrounds(\n                s,\n                zones,\n                summaryScales,\n                this.thresholdsPalette.standardColors,\n                thicknessMap,\n                cloneDeep(THRESHOLDS_SUMMARY_RENDERER_CONFIG)\n            );\n        });\n\n        return summarySeriesSet;\n    }\n}\n\n/** Chart data */\nfunction getZoneDefinitions() {\n    return [\n        { status: Status.Error, start: 80 },\n        { status: Status.Warning, start: 60, end: 80 },\n    ];\n}\n\nfunction getData(): any[] {\n    const format = "YYYY-MM-DDTHH:mm:ssZ";\n\n    return [\n        {\n            id: "series-1",\n            name: "Series 1",\n            data: [\n                { x: moment("2016-12-25T15:14:29.909Z", format), y: 30 },\n                { x: moment("2016-12-27T15:14:29.909Z", format), y: 95 },\n                { x: moment("2016-12-29T15:14:29.909Z", format), y: 15 },\n                { x: moment("2016-12-31T15:14:29.909Z", format), y: 60 },\n                { x: moment("2017-01-03T15:14:29.909Z", format), y: 35 },\n            ],\n        },\n        {\n            id: "series-2",\n            name: "Series 2",\n            data: [\n                { x: moment("2016-12-25T15:14:29.909Z", format), y: 60 },\n                { x: moment("2016-12-27T15:14:29.909Z", format), y: 40 },\n                { x: moment("2016-12-29T15:14:29.909Z", format), y: 70 },\n                { x: moment("2016-12-31T15:14:29.909Z", format), y: 45 },\n                { x: moment("2017-01-03T15:14:29.909Z", format), y: 90 },\n            ],\n        },\n    ];\n}\n'},52803:function(e,t,s){"use strict";s.r(t),t.default='<div class="nui-thresholds-summary-test-harness">\n    <nui-thresholds-summary-test\n        [data]="data"\n        [zones]="zones"\n        [startDate]="startDate"\n    ></nui-thresholds-summary-test>\n    <br />\n    <h2>Data</h2>\n    <input\n        id="data-input"\n        type="text"\n        class="w-100 mt-5"\n        [ngModel]="data | json"\n        (ngModelChange)="dataChanged($event)"\n    />\n    <h2>Zones</h2>\n    <textarea\n        id="zones-input"\n        rows="13"\n        cols="30"\n        [ngModel]="zones | json"\n        (ngModelChange)="zonesChanged($event)"\n    ></textarea>\n</div>\n'},12427:function(e,t,s){"use strict";s.r(t),t.default='import { Component, OnInit } from "@angular/core";\nimport moment from "moment/moment";\n\nimport { ISimpleThresholdZone } from "@nova-ui/charts";\n\n@Component({\n    selector: "nui-thresholds-summary-test-harness",\n    templateUrl: "./thresholds-summary-test-harness.component.html",\n})\nexport class ThresholdsSummaryTestHarnessComponent implements OnInit {\n    public data = {\n        "series-1": [10, 30, 70, 30, 10],\n        "series-2": [0, 40, 60, 40, 0],\n    };\n    public zones: ISimpleThresholdZone[] = [\n        { status: "error", start: 50 },\n        { status: "warning", start: 20, end: 50 },\n    ];\n    public startDate = moment([2016, 11, 25, 15, 14, 29]); // "2016-12-25T15:14:29.000Z"\n\n    public ngOnInit() {}\n\n    public dataChanged(value: string) {\n        this.data = this.validateInput(value) || this.data;\n    }\n\n    public zonesChanged(value: string) {\n        this.zones = this.validateInput(value) || this.zones;\n    }\n\n    private validateInput(value: string) {\n        let validatedInput: any;\n        try {\n            validatedInput = JSON.parse(value);\n        } catch {}\n        return validatedInput;\n    }\n}\n'},73579:function(e,t,s){"use strict";s.r(t),t.default='<div class="d-flex align-items-start">\n    <div class="d-flex flex-column">\n        <nui-chart\n            class="thresholds-main-chart"\n            [chart]="chart"\n            [nuiChartCollectionId]="uid"\n        ></nui-chart>\n        <nui-chart\n            class="thresholds-summary-chart"\n            [chart]="summaryChart"\n            [nuiChartCollectionId]="uid"\n        ></nui-chart>\n    </div>\n    <nui-legend\n        class="ml-2 thresholds-legend"\n        seriesUnitLabel="sec"\n        [active]="chartAssist.isLegendActive"\n        [interactive]="true"\n        (mouseleave)="chartAssist.resetVisibleSeries()"\n    >\n        <nui-legend-series\n            *ngFor="\n                let legendSeries of chartAssist.legendSeriesSet;\n                trackBy: chartAssist.seriesTrackByFn\n            "\n            [descriptionPrimary]="legendSeries[\'name\']"\n            (mouseenter)="chartAssist.emphasizeSeries(legendSeries.id)"\n            [seriesRenderState]="\n                chartAssist.renderStatesIndex[legendSeries.id]?.state\n            "\n            [isSelected]="!chartAssist.isSeriesHidden(legendSeries.id)"\n            (isSelectedChange)="\n                chartAssist.toggleSeries(legendSeries.id, $event)\n            "\n        >\n            <nui-rich-legend-tile\n                [value]="chartAssist.getHighlightedValue(legendSeries, \'y\')"\n                [backgroundColor]="\n                    chartAssist.palette.standardColors.get(legendSeries.id)\n                "\n                [color]="chartAssist.palette.textColors.get(legendSeries.id)"\n            >\n                <nui-chart-marker\n                    rightEdge\n                    [marker]="chartAssist.markers.get(legendSeries.id)"\n                    [color]="\n                        chartAssist.palette.standardColors.get(legendSeries.id)\n                    "\n                >\n                </nui-chart-marker>\n            </nui-rich-legend-tile>\n        </nui-legend-series>\n    </nui-legend>\n</div>\n'},54378:function(e,t,s){"use strict";s.r(t),t.default='import {\n    Component,\n    Input,\n    OnChanges,\n    OnInit,\n    SimpleChanges,\n} from "@angular/core";\nimport cloneDeep from "lodash/cloneDeep";\nimport { Moment } from "moment/moment";\n\nimport {\n    BandScale,\n    BarRenderer,\n    Chart,\n    ChartAssist,\n    ChartPalette,\n    ChartTooltipsPlugin,\n    CHART_PALETTE_CS_S,\n    getAutomaticDomainWithIncludedInterval,\n    IAccessors,\n    IChartAssistSeries,\n    IChartSeries,\n    IDataSeries,\n    ILineAccessors,\n    ISimpleThresholdZone,\n    IXYScales,\n    LineAccessors,\n    LinearScale,\n    LineRenderer,\n    MappedValueProvider,\n    StatusAccessors,\n    ThresholdsService,\n    thresholdsSummaryGridConfig,\n    thresholdsTopGridConfig,\n    THRESHOLDS_SUMMARY_RENDERER_CONFIG,\n    TimeScale,\n    UtilityService,\n    XYGrid,\n} from "@nova-ui/charts";\n\n@Component({\n    selector: "nui-thresholds-summary-test",\n    templateUrl: "./thresholds-summary-test.component.html",\n})\nexport class ThresholdsSummaryTestComponent implements OnChanges, OnInit {\n    @Input() data: Record<string, number[]>;\n    @Input() zones: ISimpleThresholdZone[];\n    @Input() startDate: Moment;\n\n    public uid = UtilityService.uuid();\n\n    public chart = new Chart(new XYGrid(thresholdsTopGridConfig()));\n    public summaryChart = new Chart(new XYGrid(thresholdsSummaryGridConfig()));\n\n    public chartAssist = new ChartAssist(this.chart);\n    public summaryChartAssist = new ChartAssist(this.summaryChart);\n    public tooltipsPlugin: ChartTooltipsPlugin;\n    public thresholdsPalette: ChartPalette;\n    public thicknessMap: Record<string, number>;\n\n    private accessors: LineAccessors;\n    private renderer: LineRenderer;\n    private scales: IXYScales;\n    private backgroundScales: IXYScales;\n    private summaryScales: IXYScales;\n\n    constructor(private thresholdsService: ThresholdsService) {\n        this.scales = {\n            x: new TimeScale(),\n            y: new LinearScale(),\n        };\n\n        this.backgroundScales = {\n            x: this.scales.x,\n            y: new BandScale(),\n        };\n\n        this.summaryScales = {\n            x: this.scales.x,\n            y: new BandScale(),\n        };\n\n        this.configureGrids(this.scales.y.id);\n\n        this.summaryChartAssist.syncWithChartAssist(this.chartAssist);\n\n        this.scales.y.domainCalculator = getAutomaticDomainWithIncludedInterval(\n            [0, 100]\n        );\n        this.backgroundScales.y.fixDomain(StatusAccessors.STATUS_DOMAIN);\n        this.summaryScales.y.fixDomain(StatusAccessors.STATUS_DOMAIN);\n\n        this.thresholdsPalette = new ChartPalette(\n            new MappedValueProvider(\n                {\n                    error: CHART_PALETTE_CS_S[1],\n                    warning: CHART_PALETTE_CS_S[2],\n                    ok: CHART_PALETTE_CS_S[4],\n                },\n                "transparent"\n            )\n        );\n        this.thicknessMap = { ok: BarRenderer.THIN };\n\n        this.renderer = new LineRenderer();\n        this.accessors = new LineAccessors(\n            this.chartAssist.palette.standardColors,\n            this.chartAssist.markers\n        );\n    }\n\n    public ngOnInit() {\n        this.update(this.data);\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes["data"] || changes["zones"]) {\n            this.update(this.data);\n        }\n    }\n\n    private update(data: Record<string, number[]>) {\n        const seriesSet: IChartSeries<ILineAccessors>[] = getDataSeriesSet(\n            data,\n            this.accessors,\n            this.startDate\n        ).map((d: any) => ({\n            ...d,\n            renderer: this.renderer,\n            scales: this.scales,\n        }));\n\n        const summarySeriesSet: IChartAssistSeries<IAccessors>[] = [\n            ...seriesSet,\n        ].map((s) => {\n            const summaryZoneDefs = [...this.zones, { status: "ok" }];\n            const zones = this.thresholdsService.getThresholdZones(\n                s,\n                summaryZoneDefs,\n                this.thresholdsPalette.standardColors\n            );\n            this.thresholdsService.injectThresholdsData(s, zones);\n            return this.thresholdsService.getBackgrounds(\n                s,\n                zones,\n                this.summaryScales,\n                this.thresholdsPalette.standardColors,\n                this.thicknessMap,\n                cloneDeep(THRESHOLDS_SUMMARY_RENDERER_CONFIG)\n            );\n        });\n        const thresholdSeriesSet: IChartAssistSeries<IAccessors>[] = [];\n        for (const s of seriesSet) {\n            const zones = this.thresholdsService.getThresholdZones(\n                s,\n                this.zones,\n                this.thresholdsPalette.standardColors\n            );\n            this.thresholdsService.injectThresholdsData(s, zones);\n            thresholdSeriesSet.push(\n                ...[\n                    this.thresholdsService.getBackgrounds(\n                        s,\n                        zones,\n                        this.backgroundScales,\n                        this.thresholdsPalette.backgroundColors\n                    ),\n                    ...this.thresholdsService.getThresholdLines(zones),\n                    ...this.thresholdsService.getSideIndicators(\n                        zones,\n                        this.scales\n                    ),\n                ]\n            );\n        }\n        // chart assist needs to be used to update data\n        this.chartAssist.update([...thresholdSeriesSet, ...seriesSet]);\n        this.summaryChartAssist.update(summarySeriesSet);\n    }\n\n    private configureGrids(mainChartLeftScaleId: string) {\n        const topGrid = this.chart.getGrid() as XYGrid;\n        topGrid.leftScaleId = mainChartLeftScaleId;\n        const topGridConfig = topGrid.config();\n        topGridConfig.dimension.width(400);\n        topGridConfig.dimension.height(110);\n        topGridConfig.dimension.autoWidth = false;\n        topGridConfig.dimension.autoHeight = false;\n\n        const summaryGridConfig = this.summaryChart.getGrid().config();\n        summaryGridConfig.dimension.width(400);\n        summaryGridConfig.dimension.autoWidth = false;\n    }\n}\n\nfunction getDataSeriesSet(\n    data: Record<string, number[]>,\n    accessors: LineAccessors,\n    startDate: Moment\n): IDataSeries<LineAccessors>[] {\n    const toDataPoint = (y: number, i: number) => ({\n        x: startDate.clone().add(i, "d"),\n        y,\n    });\n\n    return Object.keys(data).map((seriesId) => {\n        const seriesData = data[seriesId];\n        const dataValues = seriesData.map(toDataPoint);\n\n        return {\n            id: seriesId,\n            name: seriesId,\n            data: dataValues,\n            accessors,\n        };\n    });\n}\n'},42508:function(e,t,s){"use strict";s.r(t),t.default='<charts-test-harness>\n    <nui-thresholds-summary-test\n        class="nui-thresholds-summary-single-1"\n        [data]="singleSeries"\n        [zones]="zones"\n        [startDate]="startDate"\n    ></nui-thresholds-summary-test>\n    <nui-thresholds-summary-test\n        class="nui-thresholds-summary-single-2"\n        [data]="singleSeriesNoHits"\n        [zones]="zones"\n        [startDate]="startDate"\n    ></nui-thresholds-summary-test>\n    <nui-thresholds-summary-test\n        class="nui-thresholds-summary-single-3"\n        [data]="thresholdEdges"\n        [zones]="zones"\n        [startDate]="startDate"\n    ></nui-thresholds-summary-test>\n    <nui-thresholds-summary-with-interval-scale-test></nui-thresholds-summary-with-interval-scale-test>\n    <nui-thresholds-summary-test\n        class="nui-thresholds-summary-multiple-1"\n        [data]="multipleSeries"\n        [zones]="zones"\n        [startDate]="startDate"\n    ></nui-thresholds-summary-test>\n    <nui-thresholds-summary-test\n        class="nui-thresholds-summary-multiple-2"\n        [data]="multipleSeries"\n        [zones]="zones"\n        [startDate]="startDate"\n    ></nui-thresholds-summary-test>\n    <nui-thresholds-summary-test\n        class="nui-thresholds-summary-multiple-3"\n        [data]="multipleSeries"\n        [zones]="zones"\n        [startDate]="startDate"\n    ></nui-thresholds-summary-test>\n</charts-test-harness>\n'},85454:function(e,t,s){"use strict";s.r(t),t.default='import { Component } from "@angular/core";\nimport moment from "moment/moment";\n\n@Component({\n    selector: "nui-thresholds-summary-visual-test",\n    templateUrl: "./thresholds-summary-visual-test.component.html",\n})\nexport class ThresholdsSummaryVisualTestComponent {\n    public singleSeries = { "series-1": [30, 95, 15, 60, 35] };\n    public thresholdEdges = { "series-1": [30, 80, 80, 80, 45, 60, 10, 35] };\n    public singleSeriesNoHits = { "series-1": [30, 55, 25, 55, 35] };\n    public multipleSeries = {\n        "series-1": [30, 95, 15, 60, 35],\n        "series-2": [100, 40, 70, 45, 90],\n    };\n\n    public zones = [\n        { status: "error", start: 80 },\n        { status: "error", start: -100, end: 10 },\n        { status: "warning", start: 60, end: 80 },\n        { status: "warning", start: 10, end: 20 },\n    ];\n    public startDate = moment([2016, 11, 25, 15, 14, 29]); // "2016-12-25T15:14:29.000Z"\n}\n'},73587:function(e,t,s){"use strict";s.r(t),t.default='<div class="d-flex align-items-start">\n    <div class="d-flex flex-column">\n        <nui-chart\n            class="thresholds-main-chart"\n            [chart]="chart"\n            [nuiChartCollectionId]="uid"\n        ></nui-chart>\n        <nui-chart\n            class="thresholds-summary-chart"\n            [chart]="summaryChart"\n            [nuiChartCollectionId]="uid"\n        ></nui-chart>\n    </div>\n    <nui-legend\n        class="ml-2 thresholds-legend"\n        seriesUnitLabel="sec"\n        [active]="chartAssist.isLegendActive"\n        [interactive]="true"\n        (mouseleave)="chartAssist.resetVisibleSeries()"\n    >\n        <nui-legend-series\n            *ngFor="\n                let legendSeries of chartAssist.legendSeriesSet;\n                trackBy: chartAssist.seriesTrackByFn\n            "\n            [descriptionPrimary]="legendSeries[\'name\']"\n            (mouseenter)="chartAssist.emphasizeSeries(legendSeries.id)"\n            [seriesRenderState]="\n                chartAssist.renderStatesIndex[legendSeries.id]?.state\n            "\n            [isSelected]="!chartAssist.isSeriesHidden(legendSeries.id)"\n            (isSelectedChange)="\n                chartAssist.toggleSeries(legendSeries.id, $event)\n            "\n        >\n            <nui-rich-legend-tile\n                [value]="chartAssist.getHighlightedValue(legendSeries, \'y\')"\n                [backgroundColor]="\n                    chartAssist.palette.standardColors.get(legendSeries.id)\n                "\n                [color]="chartAssist.palette.textColors.get(legendSeries.id)"\n            >\n                <nui-chart-marker\n                    rightEdge\n                    [marker]="chartAssist.markers.get(legendSeries.id)"\n                    [color]="\n                        chartAssist.palette.standardColors.get(legendSeries.id)\n                    "\n                >\n                </nui-chart-marker>\n            </nui-rich-legend-tile>\n        </nui-legend-series>\n    </nui-legend>\n</div>\n'},82913:function(e,t,s){"use strict";s.r(t),t.default='import { Component, OnInit } from "@angular/core";\nimport cloneDeep from "lodash/cloneDeep";\nimport moment, { duration } from "moment/moment";\n\nimport {\n    BandScale,\n    BarRenderer,\n    Chart,\n    ChartAssist,\n    ChartPalette,\n    ChartTooltipsPlugin,\n    CHART_PALETTE_CS_S,\n    getAutomaticDomainWithIncludedInterval,\n    IAccessors,\n    IChartAssistSeries,\n    IChartSeries,\n    ILineAccessors,\n    IXYScales,\n    LineAccessors,\n    LinearScale,\n    LineRenderer,\n    MappedValueProvider,\n    StatusAccessors,\n    ThresholdsService,\n    thresholdsSummaryGridConfig,\n    thresholdsTopGridConfig,\n    THRESHOLDS_SUMMARY_RENDERER_CONFIG,\n    TimeIntervalScale,\n    UtilityService,\n    XYGrid,\n} from "@nova-ui/charts";\n\n@Component({\n    selector: "nui-thresholds-summary-with-interval-scale-test",\n    templateUrl: "./thresholds-summary-with-interval-scale-test.component.html",\n})\nexport class ThresholdsSummaryWithIntervalScaleTestComponent implements OnInit {\n    public zones = [\n        { status: "error", start: 80 },\n        { status: "error", start: -100, end: 10 },\n        { status: "warning", start: 60, end: 80 },\n        { status: "warning", start: 10, end: 20 },\n    ];\n    public summaryZones = [...this.zones, { status: "ok", start: 20, end: 60 }];\n    public startDate = moment([2016, 11, 25, 15, 14, 29]); // "2016-12-25T15:14:29.000Z"\n    public uid = UtilityService.uuid();\n\n    public chart = new Chart(new XYGrid(thresholdsTopGridConfig()));\n    public summaryChart = new Chart(new XYGrid(thresholdsSummaryGridConfig()));\n\n    public chartAssist = new ChartAssist(this.chart);\n    public summaryChartAssist = new ChartAssist(this.summaryChart);\n    public tooltipsPlugin: ChartTooltipsPlugin;\n    public thresholdsPalette: ChartPalette;\n    public thicknessMap: Record<string, number>;\n\n    private accessors: LineAccessors;\n    private renderer: LineRenderer;\n    private scales: IXYScales;\n    private backgroundScales: IXYScales;\n    private summaryScales: IXYScales;\n\n    constructor(private thresholdsService: ThresholdsService) {\n        this.scales = {\n            x: new TimeIntervalScale(duration(5, "minutes")),\n            y: new LinearScale(),\n        };\n\n        this.backgroundScales = {\n            x: this.scales.x,\n            y: new BandScale(),\n        };\n\n        this.summaryScales = {\n            x: this.scales.x,\n            y: new BandScale(),\n        };\n\n        this.configureGrids(this.scales.y.id);\n\n        this.summaryChartAssist.syncWithChartAssist(this.chartAssist);\n\n        this.scales.y.domainCalculator = getAutomaticDomainWithIncludedInterval(\n            [0, 100]\n        );\n        this.backgroundScales.y.fixDomain(StatusAccessors.STATUS_DOMAIN);\n        this.summaryScales.y.fixDomain(StatusAccessors.STATUS_DOMAIN);\n\n        this.thresholdsPalette = new ChartPalette(\n            new MappedValueProvider(\n                {\n                    error: CHART_PALETTE_CS_S[1],\n                    warning: CHART_PALETTE_CS_S[2],\n                    ok: CHART_PALETTE_CS_S[4],\n                },\n                "transparent"\n            )\n        );\n        this.thicknessMap = { ok: BarRenderer.THIN };\n\n        this.renderer = new LineRenderer();\n        this.accessors = new LineAccessors(\n            this.chartAssist.palette.standardColors,\n            this.chartAssist.markers\n        );\n    }\n\n    public ngOnInit() {\n        this.update();\n    }\n\n    private update() {\n        const seriesSet: IChartSeries<ILineAccessors>[] = getData().map(\n            (d: any) => ({\n                ...d,\n                renderer: this.renderer,\n                accessors: this.accessors,\n                scales: this.scales,\n            })\n        );\n\n        const summarySeriesSet: IChartAssistSeries<IAccessors>[] = [\n            ...seriesSet,\n        ].map((s) => {\n            const zones = this.thresholdsService.getThresholdZones(\n                s,\n                this.summaryZones,\n                this.thresholdsPalette.standardColors\n            );\n            this.thresholdsService.injectThresholdsData(s, zones);\n            return this.thresholdsService.getBackgrounds(\n                s,\n                zones,\n                this.summaryScales,\n                this.thresholdsPalette.standardColors,\n                this.thicknessMap,\n                cloneDeep(THRESHOLDS_SUMMARY_RENDERER_CONFIG)\n            );\n        });\n        const thresholdSeriesSet: IChartAssistSeries<IAccessors>[] = [];\n        for (const s of seriesSet) {\n            const zones = this.thresholdsService.getThresholdZones(\n                s,\n                this.zones,\n                this.thresholdsPalette.standardColors\n            );\n            this.thresholdsService.injectThresholdsData(s, zones);\n            thresholdSeriesSet.push(\n                ...[\n                    this.thresholdsService.getBackgrounds(\n                        s,\n                        zones,\n                        this.backgroundScales,\n                        this.thresholdsPalette.backgroundColors\n                    ),\n                    ...this.thresholdsService.getThresholdLines(zones),\n                    ...this.thresholdsService.getSideIndicators(\n                        zones,\n                        this.scales\n                    ),\n                ]\n            );\n        }\n        // chart assist needs to be used to update data\n        this.chartAssist.update([...thresholdSeriesSet, ...seriesSet]);\n        this.summaryChartAssist.update(summarySeriesSet);\n    }\n\n    private configureGrids(mainChartLeftScaleId: string) {\n        const topGrid = this.chart.getGrid() as XYGrid;\n        topGrid.leftScaleId = mainChartLeftScaleId;\n        const topGridConfig = topGrid.config();\n        topGridConfig.dimension.width(400);\n        topGridConfig.dimension.height(110);\n        topGridConfig.dimension.autoWidth = false;\n        topGridConfig.dimension.autoHeight = false;\n\n        const summaryGridConfig = this.summaryChart.getGrid().config();\n        summaryGridConfig.dimension.width(400);\n        summaryGridConfig.dimension.autoWidth = false;\n    }\n}\n\nfunction getData() {\n    const format = "YYYY-MM-DDTHH:mm:ssZ";\n    return [\n        {\n            id: "series-1",\n            name: "Series 1",\n            data: [\n                { x: moment("2016-12-25T15:05:00Z", format).toDate(), y: 30 },\n                { x: moment("2016-12-25T15:10:00Z", format).toDate(), y: 80 },\n                { x: moment("2016-12-25T15:15:00Z", format).toDate(), y: 80 },\n                { x: moment("2016-12-25T15:20:00Z", format).toDate(), y: 80 },\n                { x: moment("2016-12-25T15:25:00Z", format).toDate(), y: 45 },\n                { x: moment("2016-12-25T15:30:00Z", format).toDate(), y: 60 },\n                { x: moment("2016-12-25T15:35:00Z", format).toDate(), y: 10 },\n                { x: moment("2016-12-25T15:40:00Z", format).toDate(), y: 35 },\n            ],\n        },\n    ];\n}\n'}}])}();