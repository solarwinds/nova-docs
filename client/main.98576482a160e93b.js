(self.webpackChunknova_docs_client=self.webpackChunknova_docs_client||[]).push([[179],{9579:(h,m,l)=>{"use strict";var d=l(8869),t=l(6708),j=l(2256),a=l(7723);var _=l(655);let v=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})(),C=(()=>{class s extends v{constructor(e){super(),this.http=e,this.PROJECT_URL="/api/projects"}getProjects(){return(0,_.mG)(this,void 0,void 0,function*(){return this.http.get(`${this.PROJECT_URL}`).toPromise()})}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(j.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})();var b=l(2870);let k=(()=>{class s{constructor(e){this.location=e}getPath(){return this.location.path(!1)}getHash(){return this.location.path(!0).replace(/^[^#]*#?\/?/,"")}getAppPath(){return this.getHash().split("/")}formatDocPath({root:e=`${this.getPath()}#`,project:n,branch:r,resetSuffix:i=!1}){return[e,...i?[n,r,""]:[n,r,...this.getAppPath().slice(2)]].join("/")}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(b.Ye))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function w(s,o){if(1&s&&(t.TgZ(0,"nui-select-v2-option",7),t._uU(1),t.qZA()),2&s){const e=o.$implicit;t.Q6J("value",e.name),t.xp6(1),t.AsE(" ",e.name," ","main"===e.name?"(latest)":""," ")}}function S(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().openDocs(i)}),t._uU(1),t.qZA()}if(2&s){const e=o.$implicit,n=t.oxw();t.ekj("nui-button--active",(null==n.activeProject?null:n.activeProject.name)===e.name),t.Q6J("displayStyle",(null==n.activeProject?null:n.activeProject.name)===e.name?"primary":""),t.xp6(1),t.hij(" ",e.name," ")}}const A=Object.freeze([{name:"bits",branches:[{project:"bits",name:"main"}]},{name:"charts",branches:[{project:"charts",name:"main"}]},{name:"dashboards",branches:[{project:"dashboards",name:"main"}]}]);let O=(()=>{class s{constructor(e,n,r){this.appService=e,this.toastService=n,this.locationService=r,this.projects=[],this.selectedBranch="",this.emitSelectedUrl=new t.vpe,this.emitParsedUrl=new t.vpe}onHashChange(){this.projects.length&&this.pickProjectByUrl(this.locationService.getAppPath())}ngOnInit(){this.loadProjects()}onSelectBranch(e){if(!this.activeProject)return;const n=(s=>{var o;return"string"==typeof s?s:null!==(o=null==s?void 0:s.id)&&void 0!==o?o:""})((s=>{var o;return Array.isArray(s)?null!==(o=s[0])&&void 0!==o?o:null:s})(e));this.openDocs(this.activeProject,n)}openDocs(e,n=this.selectedBranch){var r;const i=(null===(r=this.activeProject)||void 0===r?void 0:r.name)!==(null==e?void 0:e.name);if(this.activeProject=e,this.selectedBranch=n,!e||!n)return;const c=this.locationService.formatDocPath({root:"",project:e.name,branch:n,resetSuffix:i});this.emitSelectedUrl.emit(c)}loadProjects(){return(0,_.mG)(this,void 0,void 0,function*(){try{const e=yield this.appService.getProjects();this.projects=e,this.setActiveProject()}catch(e){const n=e instanceof Error?e.message:String(e);this.toastService.error({title:n}),this.projects=A,this.setActiveProject()}})}setActiveProject(){const e=this.locationService.getAppPath();e.length?this.pickProjectByUrl(e):this.setDefaultProject()}setDefaultProject(){var e,n;const i=this.projects[0],c=null!==(n=null===(e=null==i?void 0:i.branches[0])||void 0===e?void 0:e.name)&&void 0!==n?n:"";this.openDocs(i,c)}pickProjectByUrl(e){var n,r,i,c,f;const y=this.projects,[B,J,...Z]=e,u=null!==(n=y.find(g=>g.name===B))&&void 0!==n?n:y[0];if(!u)return void this.openDocs(void 0,void 0);const P=null!==(f=null!==(i=null===(r=null==u?void 0:u.branches.find(g=>g.name===J))||void 0===r?void 0:r.name)&&void 0!==i?i:null===(c=null==u?void 0:u.branches[0])||void 0===c?void 0:c.name)&&void 0!==f?f:"",V=this.locationService.formatDocPath({root:"",project:u.name,branch:P});this.emitParsedUrl.emit(V),this.openDocs(u,P)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(v),t.Y36(a.klp),t.Y36(k))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-header"]],hostBindings:function(e,n){1&e&&t.NdJ("hashchange",function(i){return n.onHashChange(i)},!1,t.Jf7)},outputs:{emitSelectedUrl:"emitSelectedUrl",emitParsedUrl:"emitParsedUrl"},decls:8,vars:3,consts:[[1,"logo"],["src","../../assets/images/nova-logo.svg","alt","logo"],[1,"select-wrapper"],[3,"value","valueSelected"],["select",""],[3,"value",4,"ngFor","ngForOf"],["type","button","nui-button","",3,"displayStyle","nui-button--active","click",4,"ngFor","ngForOf"],[3,"value"],["type","button","nui-button","",3,"displayStyle","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.qZA(),t.TgZ(2,"div",2)(3,"nui-select-v2",3,4),t.NdJ("valueSelected",function(i){return n.onSelectBranch(i)}),t.YNc(5,w,2,3,"nui-select-v2-option",5),t.qZA()(),t.TgZ(6,"nav"),t.YNc(7,S,2,4,"button",6),t.qZA()),2&e&&(t.xp6(3),t.Q6J("value",n.selectedBranch),t.xp6(2),t.Q6J("ngForOf",null==n.activeProject?null:n.activeProject.branches),t.xp6(2),t.Q6J("ngForOf",n.projects))},directives:[a.j_n,b.sg,a.rLF,a.r0F],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:80px;padding:0 30px;background-color:#fff;border-bottom:1px solid #e7e7e7}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.select-wrapper[_ngcontent-%COMP%]{margin:0 100px;width:300px}nav[_ngcontent-%COMP%]   .nui-button[_ngcontent-%COMP%]{border-radius:0}nav[_ngcontent-%COMP%]   .nui-button[_ngcontent-%COMP%]:first-child{border-radius:3px 0 0 3px}nav[_ngcontent-%COMP%]   .nui-button[_ngcontent-%COMP%]:last-child{border-radius:0 3px 3px 0}nav[_ngcontent-%COMP%]   .nui-button--active.btn-primary[_ngcontent-%COMP%]{background-color:#00c4d2}"],changeDetection:0}),s})(),F=(()=>{class s{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(d.H7,16))},s.\u0275pipe=t.Yjl({name:"safe",type:s,pure:!0}),s})();const D=["iframe"];let H=(()=>{class s{constructor(e){this.logger=e,this.selectedUrl="",this.parsedUrl="",this.iframeUrl=""}withActiveFrame(e){var n;if(!this.iframe)return;const r=this.iframe.nativeElement,i=null===(n=r.contentWindow)||void 0===n?void 0:n.location;if(i)try{e(r,i)}catch(c){this.logger.error(c)}}ngOnChanges(e){this.withActiveFrame((n,r)=>{e.parsedUrl&&this.hasValueChanged(e.parsedUrl,r)&&(this.logger.debug("parsedUrl",{href:r.href,newValue:e.parsedUrl.currentValue}),r.replace(e.parsedUrl.currentValue)),e.selectedUrl&&this.hasValueChanged(e.selectedUrl,r)&&(this.logger.debug("selectedUrl",{href:r.href,newValue:e.selectedUrl.currentValue}),r.href=e.selectedUrl.currentValue)})}updateHash(){this.withActiveFrame((e,n)=>{const r=n.href,i=n.origin,c=null==r?void 0:r.replace(i,"");window.location.hash!==`#${c}`&&i&&"about:blank"!==c&&(this.logger.debug("updateHash",{windowHref:window.location.href,iframeRoot:c,iframeLocation:r,iframeLocationOrigin:i}),window.location.replace(`#${c}`))})}hasValueChanged(e,n){return e.previousValue!==e.currentValue&&e.currentValue!==n.href}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(a.mQy))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-docs"]],viewQuery:function(e,n){if(1&e&&t.Gf(D,7),2&e){let r;t.iGM(r=t.CRH())&&(n.iframe=r.first)}},inputs:{selectedUrl:"selectedUrl",parsedUrl:"parsedUrl"},features:[t.TTD],decls:3,vars:3,consts:[[3,"src","load"],["iframe",""]],template:function(e,n){1&e&&(t.TgZ(0,"iframe",0,1),t.NdJ("load",function(){return n.updateHash()}),t.ALo(2,"safe"),t.qZA()),2&e&&t.Q6J("src",t.lcZ(2,1,n.iframeUrl),t.uOi)},pipes:[F],styles:["[_nghost-%COMP%]{position:absolute;top:80px;width:100vw;height:calc(100vh - 80px)}iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}"],changeDetection:0}),s})(),T=(()=>{class s{constructor(e){this.logger=e,this.selectedUrl="",this.parsedUrl=""}setSelectedUrl(e){this.selectedUrl!==e&&(this.logger.debug("setSelectedUrl",e),this.selectedUrl=e)}setParsedUrl(e){this.parsedUrl!==e&&(this.logger.debug("setParsedUrl",e),this.parsedUrl=e)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(a.mQy))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-root"]],decls:2,vars:2,consts:[[3,"emitSelectedUrl","emitParsedUrl"],[3,"parsedUrl","selectedUrl"]],template:function(e,n){1&e&&(t.TgZ(0,"app-header",0),t.NdJ("emitSelectedUrl",function(i){return n.setSelectedUrl(i)})("emitParsedUrl",function(i){return n.setParsedUrl(i)}),t.qZA(),t._UZ(1,"app-docs",1)),2&e&&(t.xp6(1),t.Q6J("parsedUrl",n.parsedUrl)("selectedUrl",n.selectedUrl))},directives:[O,H],styles:[""],changeDetection:0}),s})();const U=new a.$0q;U.logLevel=a.ini.warn;let M=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s,bootstrap:[T]}),s.\u0275inj=t.cJS({providers:[{provide:t.Vkw,useValue:"xlf"},{provide:t.KLg,useValue:""},{provide:v,useClass:C},{provide:a.$0q,useValue:U}],imports:[[d.b2,a.qAs,a.Az_,j.JF,a.tez]]}),s})();(0,t.G48)(),d.q6().bootstrapModule(M).catch(s=>console.error(s))},6700:(h,m,l)=>{var d={"./af":6514,"./af.js":6514,"./ar":1065,"./ar-dz":6686,"./ar-dz.js":6686,"./ar-kw":1086,"./ar-kw.js":1086,"./ar-ly":3454,"./ar-ly.js":3454,"./ar-ma":173,"./ar-ma.js":173,"./ar-sa":8273,"./ar-sa.js":8273,"./ar-tn":356,"./ar-tn.js":356,"./ar.js":1065,"./az":622,"./az.js":622,"./be":6442,"./be.js":6442,"./bg":6497,"./bg.js":6497,"./bm":2828,"./bm.js":2828,"./bn":850,"./bn-bd":47,"./bn-bd.js":47,"./bn.js":850,"./bo":9633,"./bo.js":9633,"./br":26,"./br.js":26,"./bs":4286,"./bs.js":4286,"./ca":9178,"./ca.js":9178,"./cs":3201,"./cs.js":3201,"./cv":6546,"./cv.js":6546,"./cy":4545,"./cy.js":4545,"./da":4500,"./da.js":4500,"./de":7166,"./de-at":8920,"./de-at.js":8920,"./de-ch":7680,"./de-ch.js":7680,"./de.js":7166,"./dv":3874,"./dv.js":3874,"./el":6538,"./el.js":6538,"./en-au":3300,"./en-au.js":3300,"./en-ca":2846,"./en-ca.js":2846,"./en-gb":7105,"./en-gb.js":7105,"./en-ie":6414,"./en-ie.js":6414,"./en-il":1273,"./en-il.js":1273,"./en-in":1792,"./en-in.js":1792,"./en-nz":5498,"./en-nz.js":5498,"./en-sg":132,"./en-sg.js":132,"./eo":3798,"./eo.js":3798,"./es":2929,"./es-do":6270,"./es-do.js":6270,"./es-mx":7255,"./es-mx.js":7255,"./es-us":159,"./es-us.js":159,"./es.js":2929,"./et":1774,"./et.js":1774,"./eu":4240,"./eu.js":4240,"./fa":9875,"./fa.js":9875,"./fi":2917,"./fi.js":2917,"./fil":1083,"./fil.js":1083,"./fo":8558,"./fo.js":8558,"./fr":7122,"./fr-ca":4419,"./fr-ca.js":4419,"./fr-ch":7029,"./fr-ch.js":7029,"./fr.js":7122,"./fy":8612,"./fy.js":8612,"./ga":3831,"./ga.js":3831,"./gd":5060,"./gd.js":5060,"./gl":5037,"./gl.js":5037,"./gom-deva":9593,"./gom-deva.js":9593,"./gom-latn":2059,"./gom-latn.js":2059,"./gu":2027,"./gu.js":2027,"./he":6970,"./he.js":6970,"./hi":5696,"./hi.js":5696,"./hr":7887,"./hr.js":7887,"./hu":9281,"./hu.js":9281,"./hy-am":7460,"./hy-am.js":7460,"./id":6373,"./id.js":6373,"./is":7058,"./is.js":7058,"./it":6449,"./it-ch":7218,"./it-ch.js":7218,"./it.js":6449,"./ja":8911,"./ja.js":8911,"./jv":6271,"./jv.js":6271,"./ka":6266,"./ka.js":6266,"./kk":4304,"./kk.js":4304,"./km":7154,"./km.js":7154,"./kn":579,"./kn.js":579,"./ko":2318,"./ko.js":2318,"./ku":9081,"./ku.js":9081,"./ky":2223,"./ky.js":2223,"./lb":5632,"./lb.js":5632,"./lo":4600,"./lo.js":4600,"./lt":1371,"./lt.js":1371,"./lv":8445,"./lv.js":8445,"./me":1941,"./me.js":1941,"./mi":6928,"./mi.js":6928,"./mk":4719,"./mk.js":4719,"./ml":5582,"./ml.js":5582,"./mn":3621,"./mn.js":3621,"./mr":6439,"./mr.js":6439,"./ms":5161,"./ms-my":5357,"./ms-my.js":5357,"./ms.js":5161,"./mt":7511,"./mt.js":7511,"./my":9889,"./my.js":9889,"./nb":2803,"./nb.js":2803,"./ne":6165,"./ne.js":6165,"./nl":66,"./nl-be":4273,"./nl-be.js":4273,"./nl.js":66,"./nn":9389,"./nn.js":9389,"./oc-lnc":7573,"./oc-lnc.js":7573,"./pa-in":6655,"./pa-in.js":6655,"./pl":9521,"./pl.js":9521,"./pt":6942,"./pt-br":1573,"./pt-br.js":1573,"./pt.js":6942,"./ro":1562,"./ro.js":1562,"./ru":5266,"./ru.js":5266,"./sd":8214,"./sd.js":8214,"./se":6386,"./se.js":6386,"./si":3700,"./si.js":3700,"./sk":4396,"./sk.js":4396,"./sl":5635,"./sl.js":5635,"./sq":2834,"./sq.js":2834,"./sr":4840,"./sr-cyrl":9878,"./sr-cyrl.js":9878,"./sr.js":4840,"./ss":5479,"./ss.js":5479,"./sv":5279,"./sv.js":5279,"./sw":2074,"./sw.js":2074,"./ta":6334,"./ta.js":6334,"./te":8417,"./te.js":8417,"./tet":4628,"./tet.js":4628,"./tg":153,"./tg.js":153,"./th":280,"./th.js":280,"./tk":3992,"./tk.js":3992,"./tl-ph":8409,"./tl-ph.js":8409,"./tlh":4293,"./tlh.js":4293,"./tr":6852,"./tr.js":6852,"./tzl":2546,"./tzl.js":2546,"./tzm":3847,"./tzm-latn":8042,"./tzm-latn.js":8042,"./tzm.js":3847,"./ug-cn":9116,"./ug-cn.js":9116,"./uk":4155,"./uk.js":4155,"./ur":2770,"./ur.js":2770,"./uz":2294,"./uz-latn":7337,"./uz-latn.js":7337,"./uz.js":2294,"./vi":2129,"./vi.js":2129,"./x-pseudo":6597,"./x-pseudo.js":6597,"./yo":1472,"./yo.js":1472,"./zh-cn":6343,"./zh-cn.js":6343,"./zh-hk":4408,"./zh-hk.js":4408,"./zh-mo":3333,"./zh-mo.js":3333,"./zh-tw":507,"./zh-tw.js":507};function t(a){var p=j(a);return l(p)}function j(a){if(!l.o(d,a)){var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}return d[a]}t.keys=function(){return Object.keys(d)},t.resolve=j,h.exports=t,t.id=6700}},h=>{h.O(0,[736],()=>h(h.s=9579)),h.O()}]);