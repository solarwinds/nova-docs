import { browser, element, by } from "@solarwinds/uzi/protractor";
import { Atom } from "@solarwinds/uzi";
import { Eyes } from "eyes.protractor";
import { GlobalKeysAtom, RadioAtom } from "../index.atom";
import Helpers from "../helpers";
import { WebElement } from "@solarwinds/uzi/webdriver";

describe("Visual tests: Expander", function() {
    let eyes: Eyes;
    let globalKey: GlobalKeysAtom;
    let yesRadio: WebElement;
    
    globalKey = new GlobalKeysAtom(element(by.id("globalKeysTest")));
    yesRadio = browser.element(by.id("xui-demo-page-content"))
                          .all(by.className("xui-radio"))
                          .first();

    beforeEach(() => {
        eyes = Helpers.prepareEyes();
        Helpers.prepareBrowser("globalKeys");
        yesRadio.click();
    });

    it("Default look", function() {
        eyes.open(browser, "XUI","globalKeys");
        eyes.checkWindow("Default");

        globalKey.toggleXuiReveal();
        eyes.checkWindow("should show red outline if global keys chord was used");
        
        globalKey.toggleXuiReveal();
        eyes.checkWindow("should hide red outline if global keys chord was used");
        
        eyes.close();
    });
});
