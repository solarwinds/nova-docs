import {by, promise, ElementFinder} from "@solarwinds/uzi/protractor";
import {Atom} from "@solarwinds/uzi";

export class SwitchAtom extends Atom {
    public static ON_CSS = "xui-switched";
    public static CSS_CLASS = "xui-switch";

    public container = (): ElementFinder => {
        return this.getElement().element(by.className("xui-switch__container"));
    };

    public caption = () => {
        return this.getElement().element(by.className("xui-switch__label"));
    };

    public slider = () => {
        return this.getElement().element(by.className("xui-switch__bar"));
    };

    public isOn = () => {
        return this.hasClass(SwitchAtom.ON_CSS);
    };

    public isEnabled = async (): Promise<boolean> => {
        const attValue = await this.getElement().getAttribute("disabled");
        return attValue !== "true";
    }
}
