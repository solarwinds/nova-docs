import {browser, by, ElementFinder, promise} from "@solarwinds/uzi/protractor";
import Helpers from "../helpers";

describe("USERCONTROL ScrollShadows", () => {
    const shadowTop = "xui-scroll-shadow-top";
    const shadowBottom = "xui-scroll-shadow-bottom";

    let element: ElementFinder;

    const setScrollTop0 = () => {
        browser.element(by.css("[ng-click=\"ctrl.setScrollTop(0)\"]")).click();
    };

    const setScrollTop100 = () => {
        browser.element(by.css("[ng-click=\"ctrl.setScrollTop(100)\"]")).click();
    };

    const setScrollTop10000 = () => {
        browser.element(by.css("[ng-click=\"ctrl.setScrollTop(10000)\"]")).click();
    };

    beforeEach(() => {
        Helpers.prepareBrowser("scroll-shadows");
        element = browser.element(by.css("xui-scroll-shadows ng-transclude > *"));
    });

    it(`should has ${shadowBottom} class`, () => {
        element.getAttribute("class").then(_class => {
            expect(_class).toContain(shadowBottom);
            expect(_class).not.toContain(shadowTop);
        });
    });

    it(`should has ${shadowTop}, ${shadowBottom} classes`, () => {
        setScrollTop100();
        element.getAttribute("class").then(_class => {
            expect(_class).toContain(shadowTop);
            expect(_class).toContain(shadowBottom);
        });
    });

    it(`should has ${shadowTop} class`, () => {
        setScrollTop10000();
        element.getAttribute("class").then(_class => {
            expect(_class).toContain(shadowTop);
            expect(_class).not.toContain(shadowBottom);
        });
    });
});
