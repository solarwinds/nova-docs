<div ng-controller="PerfChicletsController as vm">
    <xui-chiclets id="xuiChicletsElement" title="Filters"
                items-source="vm.itemsSource"
                item-label-fn="vm.getItemLabel(itemId,groupId)"
                orientation="{{::vm.orientation}}"
                allow-clear-all="vm.allowClearAll"></xui-chiclets>
</div>


<script type="text/javascript">

    (function () {
        "use strict";

        Xui.controller("PerfChicletsController", PerfChicletsController, ["$scope", "perfService"]);

        function PerfChicletsController($scope, perfService) {

            var vm = this;

            vm.allowClearAll = false;
            vm.orientation = "vertical";
            vm.itemsSource = ["downId", "criticalId", "warningId", "okId"];

            vm.getItemLabel = function (itemId) {
                return _.capitalize(itemId.replace("Id", ""));
            };

            //register custom user metrics
            perfService.registerMetrics(["watchersCount", "digestLoop", "pageLoad"], $scope);

        }
    })();
</script>

