import {browser, promise} from "@solarwinds/uzi/protractor";
import Helpers from "../helpers";
import {Atom} from "@solarwinds/uzi";
import {Eyes} from "eyes.protractor";
import {DatePickerAtom} from "../index.atom";

describe("Visual tests: DatePicker", function () {
    let eyes: Eyes;
    let datePicker: DatePickerAtom;
    let dpLeftDown = Atom.find(DatePickerAtom, "input-datepicker");
    let dpLeftUp = Atom.find(DatePickerAtom, "input-datepicker-upside");
    let dpRightDown = Atom.find(DatePickerAtom, "input-datepicker-right");
    let dpRightUp = Atom.find(DatePickerAtom, "input-datepicker-upside-right");

    beforeEach(() => {
        eyes = Helpers.prepareEyes();
        Helpers.prepareBrowser("datePicker");
    });

    it("Default look", function () {
        eyes.open(browser, "XUI", "DatePicker");

        eyes.checkWindow("Default");

        dpLeftDown.clickCalendarIcon();
        eyes.checkWindow("Edge detection - display left-down");

        dpLeftUp.clickCalendarIcon();
        eyes.checkWindow("Edge detection - display left-up");

        dpRightDown.clickCalendarIcon();
        eyes.checkWindow("Edge detection - display right-down");

        dpRightUp.clickCalendarIcon();
        eyes.checkWindow("Edge detection - display right-up");

        dpLeftUp.clickCalendarIcon();
        dpLeftUp.clickTitle();
        eyes.checkWindow("Month selection");

        dpLeftUp.clickTitle();
        eyes.checkWindow("Year selection");

        eyes.close();
    }, 90000);
});
