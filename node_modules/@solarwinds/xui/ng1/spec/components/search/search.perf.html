<div class="xui" ng-controller="PerfSearchController as vm">
    <xui-search id="xuiSearchElement"
                caption="xui-search-complex"
                placeholder="{{::vm.placeholder}}"
                item-limit="{{vm.itemLimit}}"
                value="vm.value"
                items-source="vm.items"
                display-value="vm.displayValue"
                on-search="vm.onSearch()"
                on-clear="vm.onClear()"
                on-change="vm.onChange()">
    </xui-search>
    <pre>Model: <code>{{vm.value}}</code></pre>
</div>

<script>
    (function () {
        "use strict";

        Xui.controller("PerfSearchController", PerfSearchController, ["$scope", "perfService"]);

        function PerfSearchController($scope, perfService) {

            var vm = this;

            vm.displayValue = 'value';
            vm.placeholder = 'Search...';
            vm.value = undefined;
            vm.itemLimit = 3;
            vm.items = [
                {name: "item_1", value: "Item One"},
                {name: "item_2", value: "Item Two"},
                {name: "item_3", value: "Item Three"},
                {name: "item_4", value: "Item Four"},
                {name: "item_5", value: "Item Five"}
            ];

            vm.onChange = function () {
                vm.inputChanged = true;
            };
            vm.onSearch = function () {
                vm.value = vm.items[0];
            };

            //register custom user metrics
            perfService.registerMetrics(["watchersCount", "digestLoop", "pageLoad"], $scope);

        }
    })();
</script>

