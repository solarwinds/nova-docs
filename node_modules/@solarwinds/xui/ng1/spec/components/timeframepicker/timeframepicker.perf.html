<div id="xui-demo-components-timepicker" class="xui" ng-controller="PerfTimeframePickerController as vm">
    <xui-timeframe-picker id="timeframepicker"
                          presets="vm.presets"
                          ng-model="vm.model"
                          on-change="vm.valueHasChanged(model)">
    </xui-timeframe-picker>
    {{vm.title}}
</div>

<script>
    (function () {
        "use strict";

        Xui.controller("PerfTimeframePickerController", PerfTimeframePickerController, ["$scope", "perfService"]);

        function PerfTimeframePickerController($scope, perfService) {

            var vm = this;

            vm.title = "";
            vm.presets = {
                "lastHour": {name: "Last hour", startDatetimePattern: {hours: -1}, endDatetimePattern: {}},
                "last12Hours": {name: "Last 12 hours", startDatetimePattern: {hours: -12}, endDatetimePattern: {}}
            };
            vm.model = {};

            vm.valueHasChanged = function (model) {
                this.title = "Selected date and time: " + model.title;
            };

            perfService.registerMetrics(["watchersCount", "digestLoop", "pageLoad"], $scope);
        }

    })();
</script>
