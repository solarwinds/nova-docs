<div class="component-demo-card">
    <div class="example">
        <div id="xui-demo-components-timepicker" ng-controller="TimeframePickerController as vm">
            <div class="row">
                <div class="col-xs-4" id="timeframepicker">
                    <xui-timeframe-picker presets="vm.presets"
                                          ng-model="vm.model"
                                          on-change="vm.valueHasChanged(model)">
                    </xui-timeframe-picker>
                </div>
                <div class="col-xs-4" id="tfpMaxMin">
                    <xui-timeframe-picker presets="vm.presets"
                                          ng-model="vm.modelMaxMin"
                                          min-date="vm.minDatetime"
                                          max-date="vm.maxDatetime">
                    </xui-timeframe-picker>
                </div>
                <div class="col-xs-4">
                    <div id="model-startDatetime">{{vm.model.startDatetime}}</div>
                    <div id="model-endDatetime">{{vm.model.endDatetime}}</div>
                    <div id="model-selectedPresetId">{{vm.model.selectedPresetId}}</div>
                    <div id="model-onChangeTitle"></div>
                    <div id="modelMaxMin-startDatetime">{{vm.modelMaxMin.startDatetime}}</div>
                    <div id="modelMaxMin-endDatetime">{{vm.modelMaxMin.endDatetime}}</div>
                    <div id="minDatetime">{{vm.minDatetime}}</div>
                    <div id="maxDatetime">{{vm.maxDatetime}}</div>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    (function () {
        "use strict";

        Xui.controller("TimeframePickerController", timeframePickerController, ["$scope"]);

        function timeframePickerController() {
            this.presets = {
                "lastHour": {name: "Last hour", startDatetimePattern: {hours: -1}, endDatetimePattern: {}},
                "last12Hours": {name: "Last 12 hours", startDatetimePattern: {hours: -12}, endDatetimePattern: {}}
            };
            this.model = {
                selectedPresetId: "lastHour"
            };
            this.modelMaxMin = {
                startDatetime: new Date("2012-08-15T00:00:00Z"),
                endDatetime: new Date("2015-07-15T00:00:00Z")
            };
            this.minDatetime = new Date("2012-08-14T00:00:00Z");
            this.maxDatetime = new Date("2015-07-16T00:00:00Z");

            this.valueHasChanged = function (model) {
                document.getElementById("model-onChangeTitle").innerText = model.title;
            }
        }

    })();
</script>
