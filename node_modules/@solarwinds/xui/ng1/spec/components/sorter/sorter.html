<script type="text/javascript">
    function sorterController() {

        this.items = [
            {name: "item_1", value: "Animals"},
            {name: "item_2", value: "Stone"},
            {name: "item_3", value: "Fruit"},
            {name: "item_4", value: "Cars"}
        ];
        this.selectedItem = this.items[2];
        this.displayValue = "value";
        this.lastSortAction = "desc";
        this.callbackCall = false;
        this.onSortChanged = function (newValue, oldValue) {
            console.log("new sort value: " + JSON.stringify(newValue));
            console.log("old sort value: " + JSON.stringify(oldValue));
            this.callbackCall = true;
        };
    }
    Xui.controller("SorterController", sorterController);
</script>

<div id="sorter-page-e2e" ng-controller="SorterController as ctrl">
    <div style="border:0; height:1px; background:#333; background-image:linear-gradient(to right, #ccc, #333, #ccc);"/>
    <br/>
    <div style="border:0; height:1px; background:#333; background-image:linear-gradient(to right, #ccc, #333, #ccc);"/>
    <div style="font-weight: bold;">Sort Changed Action</div>
    <div>
        <img id="sortActionAsc" ng-show="ctrl.lastSortAction === 'asc'" src="spec/components/img/asc.png" height="82"
             width="178"/>
        <img id="sortActionDesc" ng-show="ctrl.lastSortAction === 'desc'" src="spec/components/img/desc.png" height="82"
             width="178"/>
    </div>
    <div style="border:0; height:1px; background:#333; background-image:linear-gradient(to right, #ccc, #333, #ccc);"/>
    <br/>
    <div style="border:0; height:1px; background:#333; background-image:linear-gradient(to right, #ccc, #333, #ccc);"/>
    <xui-sorter id="testSorter"
                caption="Sorter Example"
                selected-item="ctrl.selectedItem"
                items-source="ctrl.items"
                display-value="{{::ctrl.displayValue}}"
                sort-direction="ctrl.lastSortAction"
                on-change="ctrl.onSortChanged(newValue, oldValue)">
    </xui-sorter>
    <div id="sorterCallback" ng-show="ctrl.callbackCall">Callback called</div>
</div>
