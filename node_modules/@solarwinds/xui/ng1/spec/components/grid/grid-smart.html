<div ng-controller="GridDemoCtrl as vm" id="grid-smart-page">
    <xui-grid items-source="vm.smart.items"
              pagination-data="vm.smart.pagination"
              sorting-data="vm.smart.sorting"
              selection-mode="{{vm.smart.slectionMode}}"
              template-url="simple-template"
              smart-mode="true"
              options="vm.options"
              show-selector="true"></xui-grid>
    <xui-switch id="triggerSearchOnChange" ng-model="vm.options.triggerSearchOnChange">Trigger search on change?
    </xui-switch>
    <div>Current page: <span id="pagination-page">{{vm.smart.pagination.page}}</span></div>
</div>

<script type="text/ng-template" id="simple-template">{{item.name}}</script>

<script type="text/javascript">
    (function () {
        Xui.translations = {
            xui_grid_clear_selection: "Clear selection",
            xui_grid_items_selected: "item(s) selected.",
            xui_grid_select_all: "Select all",
            xui_grid_objects: "objects",
            xui_pager_displaying: "Displaying",
            xui_pager_items_per_page: "Items per Page:",
            xui_pager_next_page: "Next Page",
            xui_pager_of: "of",
            xui_pager_page: "Page",
            xui_pager_pages: "Pages",
            xui_pager_previous_page: "Previous Page",
            xui_progress_cancel: "Cancel",
            xui_selector_all: "All",
            xui_selector_all_pages: "All Pages",
            xui_selector_none: "None",
        };

        angular.module("xui").controller("GridDemoCtrl", controller);

        function controller($scope, $timeout) {
            var vm = this;
            var initializing = true;
            var itemsCount = 200;

            vm.options = {
                triggerSearchOnChange: false
            };

            vm.smart = {
                sorting: {
                    sortableColumns: [{"id": "name", "label": "Name"}],
                    sortBy: {"id": "name", "label": "Name"},
                    direction: "asc"
                },
                pagination: {
                    page: 1,
                    pageSize: 10,
                    total: itemsCount
                },
                items: [],
                selection: {
                    items: []
                },
                slectionMode: "multi"
            };

            for (var i = 0; i < itemsCount; i++) {
                vm.smart.items.push({
                    name: "Item " + _.padStart(i, 3, "0"),
                    value: i
                });
            }

            $timeout(function () {
                initializing = false;
            });
        }

        controller.$inject = ["$scope", "$timeout"];
    })();
</script>


