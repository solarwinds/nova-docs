<div class="xui" ng-controller="DropDownDemoController as ctrl" style="height:100vh;">
    <div id="basicSelection">
        <xui-dropdown id="dropdownBasic"
                      caption="xui dropdown"
                      selected-item="ctrl.vm.basic.selectedItem"
                      items-source="ctrl.vm.basic.items">
        </xui-dropdown>
        <xui-dropdown id="dropdownRequired"
                      caption="required dropdown"
                      ng-model="ctrl.vm.nonExistingObject"
                      placeholder="select item"
                      is-required="true"
                      items-source="ctrl.vm.basic.items">
            <div ng-message="required">This field is required</div>
        </xui-dropdown>
        <xui-dropdown id="dropdownComplex"
                      caption="xui dropdown complex"
                      selected-item="ctrl.vm.complex.selectedItem"
                      items-source="ctrl.vm.complex.items"
                      item-template-url="custom-dropdown-template">
        </xui-dropdown>
        <xui-dropdown id="dropdownWithSeparators"
                      caption="xui dropdown with separators"
                      selected-item="ctrl.vm.basic.selectedItem"
                      items-source="ctrl.vm.basic.itemsInGroups">
        </xui-dropdown>
        <div class="xui-dropdown--justified">
            <xui-dropdown id="dropdownjustified"
                          size="small"
                          caption="xui dropdown justified"
                          selected-item="ctrl.vm.basic.selectedItem"
                          items-source="ctrl.vm.basic.items">
            </xui-dropdown>
        </div>

        <div class="row">
            <div class="col-xs-6">
                <xui-dropdown id="combobox"
                              is-editable="true"
                              caption="combobox"
                              ng-model="ctrl.vm.combobox"
                              items-source="ctrl.vm.basic.items">
                </xui-dropdown>
            </div>
            <div class="col-xs-6" id="combobox-model">
                {{ctrl.vm.combobox}}
            </div>
        </div>

        <div class="row">
            <div class="col-xs-6">
                <xui-dropdown id="comboClearOnBlur"
                              is-editable="true"
                              clear-on-blur="true"
                              caption="combobox clear on blur"
                              ng-model="ctrl.vm.comboClearOnBlur"
                              items-source="ctrl.vm.basic.items">
                </xui-dropdown>
            </div>
            <div class="col-xs-6" id="combo-clear-on-blur-model">
                {{ctrl.vm.comboClearOnBlur}}
            </div>
        </div>

        <xui-dropdown
            class="test-alignments top-right"
            id="test-alignments-top-right"
            is-editable="true"
            caption="ddlist top right"
            items-source="ctrl.vm.basic.items">
        </xui-dropdown>
        <xui-dropdown
            class="test-alignments left-bottom"
            id="test-alignments-left-bottom"
            is-editable="true"
            caption="ddlist left bottom"
            items-source="ctrl.vm.basic.items">
        </xui-dropdown>
    </div>
</div>

<script>
    Xui.app().controller('DropDownDemoController',
        ['$templateCache', 'xuiToastService', function ($templateCache, toastService) {
            $templateCache.put("custom-dropdown-template", "<h3 class='custom-template-class'>{{::item.value}}</h3>");

            this.vm = {
                basic: {
                    items: ["Item 1", "Item 2", "Item 3", "Item 4", "Item 5", "Item 6", "Item 7", "Item 8", "Item 9",
                        "Item 10", "Item 11", "Item 12", "Item 13", "Item 14", "Item 15", "Item 16", "Item 17", "Item 18",
                        "Item 19", "Item 20"
                    ],
                    itemsInGroups: [
                        ["Item 1", "Item 2", "Item 3", "Item 4"],
                        ["Item 5", "Item 6", "Item 7", "Item 8", "Item 9", "Item 10", "Item 11", "Item 12", "Item 13"],
                        ["Item 14", "Item 15", "Item 16", "Item 17", "Item 18", "Item 19", "Item 20"]
                    ],
                    selectedItem: 'Item 1'
                },
                complex: {
                    displayValue: 'value',
                    displayFormat: 'Formatted display for {0}',
                    onChanged: function (newValue, oldValue) {
                        toastService.info("You selected " + newValue.value);
                    },
                    onSecondaryAction: function (actionName, property, direction) {
                        console.log(arguments);
                    },
                    items: [
                        {name: 'item_1', value: 'Item 1'},
                        {name: 'item_2', value: 'Item 2'},
                        {name: 'item_3', value: 'Item 3'},
                        {name: 'item_4', value: 'Item 4'},
                        {name: 'item_5', value: 'Item 5'}
                    ]
                },
                combobox: "unset"
            }
        }]);
</script>
<style>
    .test-alignments {
        position: fixed;
    }
    .test-alignments.top-right {
        top: 0px;
        right: 0px;
    }
    .test-alignments.left-bottom {
        bottom: 0px;
        left: 0px;
    }
    .test-alignments.top-right .xui-dropdown__menu {
        width: 500px;
    }
</style>
