import {browser, by, promise, ElementArrayFinder} from "@solarwinds/uzi/protractor";
import {Atom} from "@solarwinds/uzi";

export class BreadcrumbAtom extends Atom {
    public static CSS_CLASS = "xui-breadcrumb";
    public static CRUMB_CLASS = "xui-breadcrumb__crumb";

    public click() {
        return super.getElement().click();
    }

    public getCrumbs() {
        return super.getElement().all(by.className(BreadcrumbAtom.CRUMB_CLASS));
    }

    public getCrumbLabels() {
        return this.getCrumbs().map((item) => {
            return item.getText();
        });
    }

    public getCrumbTargets() : promise.Promise<string[]> {
        return this.getCrumbs().map((item) => {
            return item.getAttribute("href");
        });
    }
}
