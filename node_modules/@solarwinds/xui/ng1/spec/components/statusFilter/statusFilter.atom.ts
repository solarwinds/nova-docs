import {Atom} from "@solarwinds/uzi";
import {ElementFinder, promise, by} from "@solarwinds/uzi/protractor";

export class StatusFilterAtom extends Atom {
    public static CSS_CLASS = "xui-status-filter";

    public filter = (property: string): promise.Promise<void> => {
        return this.getFilterByName(property).click();
    };

    public filterIsActive = (name: string): promise.Promise<any> => {
        return this.getFilterByName(name).getAttribute("class").then((result) => {
            return result.split(" ").indexOf("sorter-button--activated") !== -1;
        });
    };

    public isAppended = (): promise.Promise<boolean> => {
        return this.getElement().isPresent();
    };

    private getFilterByName = (name: string): ElementFinder => {
        return this.getElement().element(by.className(name));
    }
}
