import {browser, by, promise} from "@solarwinds/uzi/protractor";
import Helpers from "../helpers";
import {Eyes} from "eyes.protractor";
import {TreeViewAtom} from "../index.atom";

describe("Visual tests: Treeview", function() {
    let eyes: Eyes;
    let treeview: TreeViewAtom;
    beforeEach(() => {
        eyes = Helpers.prepareEyes();
        Helpers.prepareBrowser("treeview");
    });

    it("Default look", function() {
        eyes.open(browser, "XUI","Treeview");
        eyes.checkWindow("Default");
        browser.actions().mouseMove(browser.driver.findElement(by.xpath("//*[text()[contains(.,'Node2')]]"))).perform();
        eyes.checkWindow("Mouse move over node");
        browser.driver.findElement(by.xpath("//*[text()[contains(.,'Node2')]]")).click();
        eyes.checkWindow("Clicked on node");
        browser.actions().doubleClick(browser.driver.findElement(by.xpath("//*[text()[contains(.,'Node2')]]")))
            .perform();
        eyes.checkWindow("Opened node");
        eyes.close();
    });
});
