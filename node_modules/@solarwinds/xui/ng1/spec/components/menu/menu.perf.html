<div class="xui" ng-controller="PerfMenuController as vm">
    <xui-menu title="Menu" id="menu">
        <xui-menu-header>Links:</xui-menu-header>
        <xui-menu-link url="#link" ng-repeat="link in vm.links">{{::link.title}}</xui-menu-link>
    </xui-menu>
</div>


<script type="text/javascript">

    (function () {
        "use strict";

        Xui.controller("PerfMenuController", PerfMenuController, ["$scope", "perfService"]);

        function PerfMenuController($scope, perfService) {

            var vm = this;

            vm.links = generateLinks();

            function generateLinks() {
                var links = [];
                for (var i = 0; i <= 100; i++) {
                    links.push({title: "link"+i})
                }
                return links;
            }

            //register custom user metrics
            perfService.registerMetrics(["watchersCount", "digestLoop", "pageLoad"], $scope);

        }

    })();

</script>
