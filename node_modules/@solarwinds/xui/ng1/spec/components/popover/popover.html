<div class="xui" ng-controller="PopoverExampleController as ctrl">
    <div id="xui-demo-components-dialog" class="popover-examples popover-examples__container">
        <div class="popover-examples__item">
            <h2>Inline Element</h2>
            <div class="popover-examples__item-body">
                Mouse enter is default popover trigger.
                Popover can contain any HTML markup and be applied even to in-line
                <mark id="elementPopoverTarget" xui-popover xui-popover-content="::ctrl.getInlineTemplate()">
                    element
                </mark>.
            </div>
        </div>

        <div class="popover-examples__box">
            <h2>Box Element with Binding</h2>
            <div id="boxPopoverTarget" class="popover-examples__item-body panel panel-primary well"
                xui-popover
                xui-popover-title="{{ctrl.textToBind}}"
                xui-popover-content="::ctrl.getBoxElementTemplate()"
                xui-popover-placement="right"
                xui-popover-trigger="click">
                Popover can also be used in any box element and may contain controls with bindings. Check this out! <strong>Click anywhere inside the box...</strong>
            </div>
        </div>

        <div class="popover-examples__item">
            <h2>Triggers</h2>
            <div class="popover-examples__item-body">
                <table>
                    <tr>
                        <th>trigger</th>
                        <th>example</th>
                    </tr>
                    <tr>
                        <td><code>click</code></td>
                        <td>
                            <xui-popover xui-popover-title="XUI POPOVER CLICK"
                                        xui-popover-content="::ctrl.getClickTriggerContent()"
                                        xui-popover-trigger="click">
                                <xui-button>
                                    <span>
                                        click me!
                                    </span>
                                </xui-button>
                            </xui-popover>
                        </td>
                    </tr>
                    <tr>
                        <td><code>focus</code></td>
                        <td>
                            <span id="focusTarget"
                                tabindex="0"
                                 xui-popover
                                 xui-popover-id="focusPopover"
                                 xui-popover-title="XUI POPOVER FOCUS"
                                 xui-popover-content="::ctrl.getFocusTriggerContent()"
                                 xui-popover-trigger="focus">
                                Set <strong>focus</strong> on me!
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td><code>mouseenter</code><br/>(default)</td>
                        <td>
                            <span xui-popover
                                xui-popover-id="hoverPopover"
                                xui-popover-title="XUI POPOVER"
                                xui-popover-content="::ctrl.getHoverTriggerTemplate()"
                                xui-popover-trigger="mouseenter">
                                Hover on me!
                            </span>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="popover-examples__item">
            <h2>Placement</h2>
            <div class="popover-examples__item-body">
                <div class="popover-examples__placement--{{item.placement}}" ng-repeat="item in ctrl.items"
                     ng-if="item.isPlacement">
                    <xui-popover id="{{item.placement + 'Button'}}"
                                xui-popover-title="XUI POPOVER"
                                xui-popover-content="::ctrl.getPlacementContent(item.placement)"
                                xui-popover-placement="{{item.placement}}"
                                xui-popover-trigger="click">
                        <xui-button>
                            open {{item.placement}}
                        </xui-button>
                    </xui-popover>
                </div>
            </div>
            <br/>
            <xui-popover id="leftAdjustToRightButton"
                        xui-popover-title="XUI POPOVER"
                        xui-popover-content="::ctrl.getLeftAdjustToRightContent()"
                        xui-popover-placement="left"
                        xui-popover-trigger="click">
                <xui-button>
                    adjusts right
                </xui-button>
            </xui-popover>
        </div>

        <div class="popover-examples__item">
            <h2>Status</h2>
            <p>Hover for status</p>
            <div class="popover-examples__item-body popover-examples__row">
                <div class="popover-examples__row-item" ng-repeat="item in ctrl.items">
                    <xui-popover id="{{'statusPopover_' + item.status}}"
                                xui-popover-title="XUI POPOVER"
                                xui-popover-content="::ctrl.getStatusContent(item)"
                                xui-popover-trigger="mouseenter"
                                xui-popover-placement="right"
                                xui-popover-status="{{item.status}}">
                            <span>
                                <xui-icon icon="server" status="{{item.status === 'ok' ? 'up' : item.status}}"></xui-icon>
                            </span>
                    </xui-popover>
                </div>
            </div>
        </div>

        <div class="popover-examples__item">
            <h2>Modal</h2>
            <div class="popover-examples__item-body popover-examples__item">
                <xui-popover xui-popover-title="Interactive popover"
                            xui-popover-content="::ctrl.getModalContent()"
                            xui-popover-trigger="click"
                            xui-popover-placement="right"
                            xui-popover-is-modal="true">
                    <xui-button>Show modal popover</xui-button>
                </xui-popover>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="xui-popover-example-inline">
    <div class="row">
        <div class="col-xs-2">
            <xui-icon icon="calendar" icon-size="large" class="calendar-icon"></xui-icon>
        </div>
        <div class="col-xs-10">
            If you have any <strong>questions</strong> about <code>xui-popover</code>
            please refer to <a href="http://knowledgebase.solarwinds.com/kb">Solarwinds Knowledge Base</a>
        </div>
    </div>
</script>

<script type="text/ng-template" id="xui-popover-example-box-element">
    <form>
        <div class="row">
            <div class="col-xs-3">
                <xui-icon icon="browse" icon-size="large" class="calendar-icon"></xui-icon>
            </div>
            <div class="col-xs-9">
                <xui-textbox caption="Change me:" ng-model="popoverCtrl.xuiPopoverTitle"></xui-textbox>
            </div>
        </div>
    </form>
</script>

<script type="text/ng-template" id="xui-popover-example-hover-trigger">
    <span>
        Be careful! <a href="https://thechive.files.wordpress.com/2015/12/12357287_550370541805300_1037792536_n.jpg?quality=85&strip=info">Hovering</a> is dangerous...
    </span>
</script>

<script>
    (function () {
        "use strict";

        Xui.controller("PopoverExampleController", popoverController, ["$scope"]);
        function popoverController($scope) {
            this.textToBind = "Text to bind";
            this.items = [
                {status: "", msg: "Nothing to see here, move along...", isPlacement: false},
                {status: "ok", msg: "We're all good here!", isPlacement: true, placement: "left"},
                {status: "warning", msg: "No one panic.", isPlacement: false},
                {status: "critical", msg: "The end is nigh.", isPlacement: true, placement: "right"},
                {status: "down", msg: "Get down on it...", isPlacement: false}
            ];
            this.templates = {
                inline: {url: "xui-popover-example-inline"},
                hoverTrigger:  {url: "xui-popover-example-hover-trigger"},
                boxElement: {url: "xui-popover-example-box-element"}
            };
            this.getInlineTemplate = function() { return this.templates.inline; };
            this.getHoverTriggerTemplate = function() { return this.templates.hoverTrigger; };
            this.getBoxElementTemplate = function() { return this.templates.boxElement; };
            this.getClickTriggerContent = function() { return "You can manage all credentials used for monitoring."; }
            this.getFocusTriggerContent = function() { return "I`m focused and ready-to-go!"; };
            this.getPlacementContent = function(placement) {
              return "This popover is shown on the " + placement + " of the button. It will auto-adjust up and down...";
            };
            this.getLeftAdjustToRightContent = function() { return "AdjustToRight"; }
            this.getStatusContent = function(item) { return item.msg; };
            this.getModalContent = function() {
              return "This should be used for interactive popovers \
                containing some content that the user should be focused on.";
            };
        }
    })();
</script>

<style type="text/css">
    .popover-examples td {
        border-bottom: 1px solid #ddd;
        padding: 8px 20px;
    }

    .popover-examples th {
        border-bottom: 2px solid dimgray;
        background-color: #0079AA;
        color: white;
        padding: 8px 20px;
    }

    .popover-examples tr:hover {background-color: #f5f5f5}

    .popover-examples mark {
        background-color: #99ff99;
        color: dimgray;
        font-weight: bold;
        border-radius: 1px;
    }

    .popover-examples .calendar-icon {
        float: left;
        padding-right: 15px;
    }

    .popover-examples__container {
        display: flex;
        flex-direction: column;
        align-content: flex-start;
    }

    .popover-examples__item {
        margin-bottom: 15px;
    }

    .popover-examples__item-body {
        margin-top: 15px;
    }

    .popover-examples__box {
        max-width: 350px;
    }

    .popover-examples__row {
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        margin: 15px 15px 15px 0;
    }

    .popover-examples__row-item {
        margin-right: 80px;
    }

    .popover-examples__placement--left {
        margin-left: 500px;
    }

    .popover-table {
        display: flex;
        flex-direction: column;
    }
</style>
