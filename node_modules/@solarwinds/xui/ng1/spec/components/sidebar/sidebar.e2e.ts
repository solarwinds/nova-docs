import {by, element, promise} from "@solarwinds/uzi/protractor";
import Helpers from "../helpers";
import {SidebarAtom} from "../index.atom";
import {Atom} from "@solarwinds/uzi";

describe("USERCONTROL sidebar: ", () => {
    let atom: SidebarAtom;

    beforeEach(() => {
        Helpers.prepareBrowser("sidebar");
        const section = element(by.id("sidebar-page"));
        atom = Atom.findIn(SidebarAtom, section);
    });

    const toggleSidebar = SidebarAtom.toggleSidebar;
    const setRightPosition = SidebarAtom.setRightPosition;
    const setLeftPosition = SidebarAtom.setLeftPosition;

    it("should open on the right side of the container", () => {
        setRightPosition();
        expect(SidebarAtom.rightSidebarIsPresent()).toBe(false);
        toggleSidebar();
        expect(SidebarAtom.rightSidebarIsPresent()).toBe(true);
    });

    it("should open on the left side of the container", () => {
        expect(SidebarAtom.leftSidebarIsPresent()).toBe(false);
        setLeftPosition();
        toggleSidebar();
        expect(SidebarAtom.leftSidebarIsPresent()).toBe(true);
    });
});
