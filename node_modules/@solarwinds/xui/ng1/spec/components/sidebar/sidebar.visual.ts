import {browser, promise} from "@solarwinds/uzi/protractor";
import Helpers from "../helpers";
import {Eyes} from "eyes.protractor";
import {SidebarAtom} from "../index.atom";

describe("Visual tests: Sidebar", function() {
    let eyes: Eyes;
    let sidebar: SidebarAtom;

    beforeAll(() => {
        eyes = Helpers.prepareEyes();
        Helpers.prepareBrowser("sidebar");
    });

    it("Default look", () => {

        const toggleSidebar = SidebarAtom.toggleSidebar;
        const setRightPosition = SidebarAtom.setRightPosition;
        const setLeftPosition = SidebarAtom.setLeftPosition;

        eyes.open(browser, "XUI", "Sidebar");
        eyes.checkWindow("Default");
        setRightPosition();
        toggleSidebar();
        eyes.checkWindow("Sidebar slides in from the right");
        toggleSidebar();
        setLeftPosition();
        toggleSidebar();
        eyes.checkWindow("Sidebar slides in from the left");
        eyes.close();
    });
});
