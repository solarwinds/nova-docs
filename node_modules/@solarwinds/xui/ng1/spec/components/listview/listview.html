<style>
    .color-box {
        float: left;
        width: 20px;
        height: 20px;
        border-width: 1px;
        border-style: solid;
        border-color: rgba(0, 0, 0, .2);
        margin: 0px 5px 5px 5px;
    }
</style>
<form>
    <div id="xui-demo-components-listview">
        <div class="component-demo-card">
            <div class="example" ng-controller="DemoListviewController as vm">
                <xui-listview name="testListViewStriped"
                              stripe="true"
                              items-source="vm.animals"
                              header-template-url="stripedHeaderTemplate"
                              template-url="animalTemplate">
                </xui-listview>
                <xui-divider></xui-divider>
                <xui-listview name="testListViewNoStripes"
                              stripe="false"
                              items-source="vm.items"
                              header-template-url="plainHeaderTemplate"
                              template-fn="vm.templateFn"></xui-listview>
                <xui-divider></xui-divider>
                <xui-listview name="emptyListView"
                              empty-text="no fruit available"
                              items-source="vm.fruit"
                              header-template-url="emptyListHeaderTemplate"
                              template-url="fruitTemplate">
                </xui-listview>
                <xui-divider></xui-divider>
                <xui-listview name="multiSelect"
                              row-padding="narrow"
                              stripe="true"
                              items-source="vm.items"
                              header-template-url="plainHeaderTemplate"
                              template-url="itemTemplate"
                              selection-mode="{{vm.selectionMode.multi}}"
                              selection="vm.selection"></xui-listview>
                <xui-listview name="multiSelectDisabledItems"
                              row-padding="narrow"
                              stripe="true"
                              items-source="vm.disabledItems"
                              header-template-url="plainHeaderTemplate"
                              template-url="itemTemplate"
                              selection-mode="{{vm.selectionMode.multi}}"
                              selection="vm.disabledSelection"></xui-listview>
                <xui-listview name="multiSelectInvert"
                              row-padding="narrow"
                              stripe="true"
                              items-source="vm.items"
                              header-template-url="plainHeaderTemplate"
                              template-url="itemTemplate"
                              selection-mode="{{vm.selectionMode.multi}}"
                              selection="vm.selection"
                              selection-invert="true"></xui-listview>
                Multi Select:
                <div id="multiSelectValues">{{vm.getSelection()}}</div>
                <xui-checkbox ng-model="vm.selectionInvert">Display inverted values?</xui-checkbox>
                <xui-divider></xui-divider>
                <xui-listview name="singleSelect"
                              row-padding="regular"
                              stripe="true"
                              items-source="vm.sizes"
                              header-template-url="sizeHeaderTemplate"
                              template-url="sizeTemplate"
                              selection-mode="{{vm.selectionMode.single}}"
                              selection="vm.selectedSize"></xui-listview>
                Single Select:
                <div id="singleSelectValue">{{vm.selectedSize}}</div>
                <xui-divider></xui-divider>
                <xui-listview name="emptyListViewWithTemplate"
                              items-source="vm.fruit"
                              empty-template-url="emptyListContentTemplate"
                              header-template-url="emptyListHeaderTemplate">
                </xui-listview>
                Radio Select:
                <div id="radioSelectValue">{{vm.selectedSize}}</div>
                <xui-divider></xui-divider>
                <xui-listview name="emptyListViewWithTemplate"
                              items-source="vm.fruit"
                              empty-template-url="emptyListContentTemplate"
                              header-template-url="emptyListHeaderTemplate">
                </xui-listview>
            </div>
        </div>
    </div>
</form>

<script type="text/javascript">
    (function () {
        "use strict";

        Xui.controller("DemoListviewController", controller, ["$templateCache"]);

        function controller($templateCache) {
            var vm = this;
            this.animals = [
                {type: "horse"},
                {type: "elk"},
                {type: "bobcat"},
                {type: "whale"},
                {type: "field mouse"},
                {type: "vulture"},
                {type: ""},
                {type: "squid"},
                {type: "slug"},
                {type: "snake"}
            ];

            this.items = [
                {color: "blue"},
                {color: "green"},
                {color: "yellow"},
                {color: "orange"},
                {color: "cyan"},
                {color: "magenta"},
                {color: "black"},
                {color: "red"},
                {color: "brown"},
                {color: "sage"}
            ];

            this.disabledItems = [
                { color: "blue", isDisabled: true },
                { color: "green", isDisabled: true }
            ];

            this.sizes = [
                "small",
                "medium",
                "large",
                "xlarge"
            ];

            this.selectedSize = "medium";

            this.fruit = [];
            this.selection = [];
            this.disabledSelection = [ "blue" ];
            this.selectionMode = {
                "multi": "multi",
                "single": "single"
            };

            this.getSelection = function () {
                return vm.selection.map(function (e) {
                    return e.color;
                }).join(",");
            };

            this.templateFn = function (item) {
                return "colorBoxTemplate";
            };

            $templateCache.put("stripedHeaderTemplate", "<h3>Striped ListView, Item Template</h3>");
            $templateCache.put("plainHeaderTemplate", "<h3>Plain ListView, Color-Box Template</h3>");
            $templateCache.put("sizeHeaderTemplate", "<h3>Single Selection</h3>");
            $templateCache.put("itemTemplate", "<div>{{::item.color}}</div>");
            $templateCache.put("emptyListHeaderTemplate", "<h3>Empty List</h3>");
            $templateCache.put("animalTemplate", "<div>{{::item.type}}</div>");
            $templateCache.put("sizeTemplate", "<div>{{::item}}</div>");
            $templateCache.put("fruitTemplate", "<div>{{::item.name}}</div>");
            $templateCache.put("colorBoxTemplate",
                "<div class='color-box {{::item.color}}' style='background-color: {{::item.color}}'></div>" +
                "<div>{{::item.color}}</div>");
            $templateCache.put("emptyListContentTemplate",
                "<div class='color-box red' style='color: rgba(255, 0, 0, 1)'>This is red</div>");
        }
    })();
</script>

<script type="text/ng-template">{{item}}</script>
