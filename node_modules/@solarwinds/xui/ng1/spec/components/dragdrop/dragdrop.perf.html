<div class="xui" ng-controller="DragdropController as vm">
    <div class="row">
        <div class="col-md-6" id="dropSrc">
            <div style="border: 1px solid grey;text-align: center;" xui-draggable
                 xui-draggable-object="vm.srcObject"
                 adorner-drag-class="demoDragClass">drag me (object)</div>
            <pre>{{vm.srcObject | json}}</pre>

        </div>

        <div class="col-md-6" id="dropTarget">
            <div style="border: 1px solid grey;text-align: center;" xui-droppable
                 on-drop="vm.onDropObject(event, transferObject)">drop here</div>
            <pre>{{vm.destObject | json}}</pre>
        </div>
    </div>
</div>


<script type="text/javascript">

    (function () {
        "use strict";

        Xui.controller("DragdropController", DragdropController, ["$scope", "perfService"]);

        function DragdropController($scope, perfService) {

            var vm = this;

            vm.srcObject = {
                imma: "little",
                teapot:"short and stout"
            };

            vm.srcExcel = "<table>"+
                "<tr>"+
                "<th>thing1</th>"+
                "<th>thing2</th>"+
                "</tr>"+
                "<tr>"+
                "<td>jeff</td>"+
                "<td>4</td>"+
                "</tr>"+
                "<tr>"+
                "<td>john</td>"+
                "<td>8</td>"+
                "</tr>"+
                "</table>";

            vm.destObject = {};

            vm.onDropObject = function(event, transferObject){
                vm.destObject = transferObject;
                //Note that no promise is returned
            };

            //register custom user metrics
            perfService.registerMetrics(["watchersCount", "digestLoop", "pageLoad"], $scope);

        }
    })();
</script>

