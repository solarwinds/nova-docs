<h1><code ng:non-bindable="">xuiGrid</code>
<div><span class="hint">directive in module <code ng:non-bindable="">xui</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="xui-directive-page xui-directive-xuigrid-page"><p>Apollo implementation of grid with sorting, paging, and searching controls. The grid supports two modes:</p>
<p><p></p>
<ol>
<li>In default mode, it acts as a simple UI control that exposes API of underlying UI controls, that is - pager,
sorter, and listview. It displays data in the listview and executes related callbacks on data change invoked by
respective controls, but it doesn&#39;t apply any changes to displayed data depending on pagination and sorter.
</p><p></li>
<li>With <code>smart-mode=&quot;true&quot;</code>, it works as a smart control that actually applies sorting and pagination to given data
depending on contained sorter and pager controls. In such case, the <code>IGridPagination.total</code> is derived
from the length of given data and ignores the supplied value for total.
</p>
These two can be simply understood as server (default) and client (smart-mode=&quot;true&quot;) modes.</li>
</ol>
<p>Inner directive <xui-grid-toolbar-container> can be used to define toolbar displayed above the grid.</p>
</div></div>
<h2 id="usage">Usage</h2>
<div class="usage">as element:<pre class="prettyprint linenums">&lt;xui-grid
       items-source="{array}"
       pagination-data="{IGridPagination}"
       sorting-data="{IGridSorting}"
       on-pagination-change="{function}"
       on-sorting-change="{function}"
       header-template-url="{string}"
       template-url="{string}"
       template-fn="{function}"
       [track-by]="{string}"
       [selection-mode]="{ListSelectionModeEnum}"
       selection-property="{string}"
       selection="{IGridSelection}"
       [stripe="{boolean}"]
       smart-mode="{boolean}"
       hide-toolbar="{boolean}"
       show-selector="{boolean}"
       allow-select-all-pages="{boolean}"
       [controller]="{any}"
       empty-data="{IEmptyData}"
       [show-empty="{boolean}"]
       on-search="{function}"
       on-clear="{function}"
       options="{IGridOptions}"
       smart-items-source="{array}"
       row-padding="{string}"
       [layout="{String}"]&gt;
&lt;/xui-grid&gt;</pre>
<h4 id="usage_parameters">Parameters</h4><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>items-source</td><td><a href="" class="label type-hint type-hint-array">array</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Array of items to be displayed in the table.</p>
</div></td></tr><tr><td>pagination-data</td><td><a href="" class="label type-hint type-hint-igridpagination">IGridPagination</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Data used by pager.</p>
</div></td></tr><tr><td>sorting-data</td><td><a href="" class="label type-hint type-hint-igridsorting">IGridSorting</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Interface data used by sorter.</p>
</div></td></tr><tr><td>on-pagination-change</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Callback for pagination change.</p>
</div></td></tr><tr><td>on-sorting-change</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Callback for sorting change.</p>
</div></td></tr><tr><td>header-template-url</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Template to be used as a header row.</p>
</div></td></tr><tr><td>template-url</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Template to be used as a fallback for all rows without their own templateURL.</p>
</div></td></tr><tr><td>template-fn</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Function returning template ID for given row.</p>
</div></td></tr><tr><td>[track-by]</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>The property name that would be used for track by in ngRepeat. If no value is specified,
or the property does not exist on the item, the auto-generated by angular hash will be used for key.</p>
</div></td></tr><tr><td>[selection-mode]</td><td><a href="" class="label type-hint type-hint-listselectionmodeenum">ListSelectionModeEnum</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Can be &quot;single&quot; or &quot;multi&quot;.
Use &quot;multi&quot; to display checkboxes on every row. If this value is not set, selection will be disabled.</p>
</div></td></tr><tr><td>selection-property</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Property of item that will be used for selection model. <i>Attention!</i> It is
necessary to use selection-property when smart-mode is not enabled and anytime the items can be dynamic. Storing
whole object into selection array (i.e. not using selection-property) could lead to sychronization fail between the
selection and items-source.</p>
</div></td></tr><tr><td>selection</td><td><a href="" class="label type-hint type-hint-igridselection">IGridSelection</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Array of selected items when &quot;multi&quot; selection mode is used.</p>
</div></td></tr><tr><td>stripe <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Whether the rows should be striped.</p>
</div> <p><em>(default: true)</em></p></td></tr><tr><td>smart-mode</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Whether client side processing of pagination/sorting should be used.</p>
</div> <p><em>(default: false)</em></p></td></tr><tr><td>hide-toolbar</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Whether the toolbar should be visible.</p>
</div> <p><em>(default: false)</em></p></td></tr><tr><td>show-selector</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Whether the selector should be visible.
It works only for selection-mode=&quot;multi&quot;.</p>
</div> <p><em>(default: false)</em></p></td></tr><tr><td>allow-select-all-pages</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>False to hide &quot;All Pages&quot; item in selector default item list
(passed to Selector component).</p>
</div> <p><em>(default: true)</em></p></td></tr><tr><td>[controller]</td><td><a href="" class="label type-hint type-hint-any">any</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Controller used in listview template.</p>
</div></td></tr><tr><td>empty-data</td><td><a href="" class="label type-hint type-hint-iemptydata">IEmptyData</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Empty data parameters object</p>
</div></td></tr><tr><td>show-empty <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Show empty state or not(Hiding empty state before data is loaded for example)</p>
</div></td></tr><tr><td>on-search</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>The callback function that is called when the search is applied.</p>
</div></td></tr><tr><td>on-clear</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>The callback function that is called when the search field is cleared.</p>
</div></td></tr><tr><td>options</td><td><a href="" class="label type-hint type-hint-igridoptions">IGridOptions</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Configuration of grid list. Currently available
options are:</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>hidePagination</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Whether the pagination is displayed or not.</p>
</div> <p><em>(default: true)</em></p></td></tr><tr><td>searchDebounce</td><td><a href="" class="label type-hint type-hint-number">number</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>The debounce time in milliseconds of calling the onSearchChange function.</p>
</div></td></tr><tr><td>triggerSearchOnChange</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Whether the search is triggered after each change in search text.</p>
</div></td></tr><tr><td>searchableColumns</td><td><a href="" class="label type-hint type-hint-string">string[]</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Columns which will be checked during search.</p>
</div></td></tr><tr><td>searchTerm</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>The initial search term used in the searchbox.</p>
</div></td></tr><tr><td>searchPlaceholder</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>The placeholder displayed in search input when no search text
is defined.</p>
</div></td></tr><tr><td>pagerAdjacent <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-number">number</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>It determines the adjacent for pagination layout. Options are:
&#39;1&#39; (extended layout), &#39;0&#39; (minified layout).</p>
</div> <p><em>(default: "1")</em></p></td></tr></tbody></table></td></tr><tr><td>smart-items-source</td><td><a href="" class="label type-hint type-hint-array">array</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>Array of items visible to the user in the current. moment when pagination is
applied and smart-mode=&quot;true&quot;.</p>
</div></td></tr><tr><td>row-padding</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>determines the padding of the row around the content. Options are:
&#39;regular&#39; (15px), &#39;narrow&#39; (15px; 7px), &#39;compact&#39; ( 5px; 7px) or &#39;none&#39; (0px).</p>
</div> <p><em>(default: "regular")</em></p></td></tr><tr><td>layout <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="xui-directive-page xui-directive-xuigrid-page"><p>If attribute equals to &quot;fill&quot;, layout of <strong>xuiGrid</strong> will be
changed from default to fill, so <strong>xuiGrid</strong> height will be equal to parent element height. Parent
element should have specified height. In case you need to use default layout, set &quot;layout&quot; attribute to &quot;default&quot;
or do not specify the attribute at all</p>
</div> <p><em>(default: "default")</em></p></td></tr></tbody></table></div>
<h2 id="example">Example</h2>
<div class="example"><div class="xui-directive-page xui-directive-xuigrid-page"><h4 id="example_source">Source</h4>
<div source-edit="xui" source-edit-deps="angular.js config.js script.js" source-edit-html="index.html-31" source-edit-css="" source-edit-js="config.js script.js-32" source-edit-json="" source-edit-unit="" source-edit-scenario=""></div>
<div class="tabbable"><div class="tab-pane" title="index.html">
<pre class="prettyprint linenums" ng-set-text="index.html-31" ng-html-wrap-loaded="xui angular.js config.js script.js"></pre>
<script type="text/ng-template" id="index.html-31"><link rel="stylesheet" type="text/css" href="http://localhost:8282/dist/css/xui.css">
<base href="/">

<ng-form name="grid">
    <h3 id="example_smart-mode-with-toolbar-and-selection-enabled">Smart mode with toolbar and selection enabled</h3>
    <div ng-controller="DemoGridController as vm">
        <xui-grid items-source="vm.items"
                  pagination-data="vm.gridPagination"
                  smart-mode="vm.smartMode"
                  selection-mode="{{vm.selectionMode}}"
                  selection="vm.selection"
                  selection-property="name"
                  show-selector="true"
                  sorting-data="vm.sorting">
            <xui-grid-toolbar-container>
                <xui-toolbar>
                    <xui-toolbar-item>
                        <xui-button icon="add" display-style="tertiary">Add
                        </xui-button>
                    </xui-toolbar-item>
                    <xui-toolbar-item>
                        <xui-button icon="edit" display-style="tertiary" ng-click="vm.customButtonClick()">
                            Custom
                        </xui-button>
                    </xui-toolbar-item>
                    <xui-toolbar-divider></xui-toolbar-divider>
                    <xui-toolbar-item>
                        <xui-menu title="More" display-style="tertiary">
                            <xui-menu-action action="vm.onMenuItemAction()">Add</xui-menu-action>
                            <xui-menu-action action="vm.onMenuItemAction()">Edit</xui-menu-action>
                            <xui-menu-action action="vm.removeItem()">Delete</xui-menu-action>
                        </xui-menu>
                    </xui-toolbar-item>
                    <xui-toolbar-splitter></xui-toolbar-splitter>
                </xui-toolbar>
            </xui-grid-toolbar-container>
        </xui-grid>
        <div style="padding: 15px">Selected items: {{vm.selection.items}}</div>
        <div style="padding: 15px">
            Selection mode:
            <xui-radio ng-model="vm.selectionMode" value="multi">Multi</xui-radio>
            <xui-radio ng-model="vm.selectionMode" value="single">Single</xui-radio>
            <xui-radio ng-model="vm.selectionMode" value="">None</xui-radio>
        </div>
    </div>

    <h3 id="example_with-realtime-search">With realtime search</h3>
    <div ng-controller="DemoGridController as vm">
        <xui-checkbox
            ng-model="vm.gridOptions.hidePagination"
        >Hide pagination</xui-checkbox>
        <xui-grid items-source="vm.items"
                  pagination-data="vm.gridPagination"
                  smart-mode="vm.smartMode"
                  sorting-data="vm.sorting"
                  options="vm.gridOptions">
        </xui-grid>
    </div>

    <h3 id="example_stripes-are-switched-off">Stripes are switched off</h3>
    <div ng-controller="DemoGridController as vm">
        <xui-grid items-source="vm.items"
                  stripe="false"
                  pagination-data="vm.gridPagination"
                  smart-mode="vm.smartMode"
                  sorting-data="vm.sorting"
                  options="vm.gridOptions">
        </xui-grid>
    </div>
    <h3 id="example_with-layout-of-type-"fill"">With layout of type "fill"</h3>
    <div ng-controller="DemoGridController as vm" style="height: 300px;">
        <xui-grid items-source="vm.items"
                  pagination-data="vm.gridPagination"
                  smart-mode="vm.smartMode"
                  sorting-data="vm.sorting"
                  options="vm.gridOptions"
                  layout="fill">
        </xui-grid>
    </div>
</ng-form>
</script>
</div>
<div class="tab-pane" title="config.js">
<pre class="prettyprint linenums" ng-set-text="config.js"></pre>
<script type="text/ng-template" id="config.js">
     Xui.translations = {
           xui_grid_clear_selection: "Clear selection",
           xui_grid_items_selected: "item(s) selected.",
           xui_grid_select_all: "Select all",
           xui_grid_objects: "objects",
           xui_pager_displaying: "Displaying",
           xui_pager_items_per_page: "Items per Page:",
           xui_pager_next_page: "Next Page",
           xui_pager_of: "of",
           xui_pager_page: "Page",
           xui_pager_pages: "Pages",
           xui_pager_previous_page: "Previous Page",
           xui_progress_cancel: "Cancel",
           xui_selector_all: "All",
           xui_selector_all_pages: "All Pages",
           xui_selector_none: "None"
     };
</script>
</div>
<div class="tab-pane" title="script.js">
<pre class="prettyprint linenums" ng-set-text="script.js-32"></pre>
<script type="text/ng-template" id="script.js-32">(function () {
    "use strict";

    Xui.module
        .controller("DemoGridController", DemoGridController, ["$q", "$templateCache", "xuiToastService"]);

    function DemoGridController ($q, $templateCache, toast) {
        var vm = this;
        var totalGridItemsCount = 50;
        var gridItems = createGridItems();

        vm.items = gridItems;
        vm.smartMode = true;

        vm.gridOptions = {
            triggerSearchOnChange: true,
            searchDebounce: 500,
            hidePagination: false,
            pagerAdjacent: 0
        };

        vm.gridPagination = {
            page: 1,
            pageSize: 5
        };

        vm.sorting = {
            sortableColumns: [{
                id: "name",
                label: "Name"
            }, {
                id: "value",
                label: "Value"
            }
            ],
            sortBy: {
                id: "name",
                label: "Name"
            },
            direction: "asc"
        };

        vm.selection = {};
        vm.selectionMode = "multi";

        vm.toolbarButtonClicked = function () {
            toast.success("Button clicked. Selected items: " + JSON.stringify(vm.selection));
        };

        vm.removeItem = function () {
            vm.items = _.filter(vm.items, function (item) {
                return !_.includes(vm.selection.items, item.name);
            });

            vm.selection.items = [];
            toast.success("Menu item removed. Selected items: " + JSON.stringify(vm.selection));
        };

        vm.onMenuItemAction = function () {
            toast.success("Menu item clicked. Selected items: " + JSON.stringify(vm.selection));
        };

        vm.customButtonClick = function () {
            vm.items[0].name = "Changed Item " + Math.round(Math.random()*1000);
            toast.success("Name of first row in the grid has been changed to " + vm.items[0].name);
        };

        function createGridItems() {
            var items = [];

            for (var i = 0; i < totalGridItemsCount; i++) {
                items.push({
                    name: "Item " + pad(i, 3),
                    value: makeValue(),
                    $templateUrl: "demo-item-template"
                });
            }

            return items;
        }

        function makeValue() {
            var text = "";
            var possible = "abcdefghijklmnopqrstuvwxyz";

            for (var i = 0; i < 10; i++) {
                text += possible.charAt(Math.floor(Math.random() * possible.length));
            }

            return text;
        }

        function pad(num, size) {
            var s = num + "";
            while (s.length < size) {
                s = "0" + s;
            }
            return s;
        }

        $templateCache.put("demo-item-template", "<div style='display:flex; justify-content:flex-start;'>{{::item.name}}<div style='margin-left:20px;'>{{::item.value}}</div></div>");
    }
})();
</script>
</div>
</div><h4 id="example_with-layout-of-type-"fill"_demo">Demo</h4>
<div class="well doc-example-live animate-container" ng-embed-app="xui" ng-set-html="index.html-31" ng-eval-javascript="config.js script.js-32"></div>
</div></div>
</div>
