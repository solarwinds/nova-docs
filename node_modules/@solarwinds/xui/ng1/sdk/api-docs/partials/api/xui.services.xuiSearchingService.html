<h1><code ng:non-bindable="">xuiSearchingService</code>
<div><span class="hint">service in module <code ng:non-bindable="">xui</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="xui-services-page xui-services-xuisearchingservice-page"><p>Service that provides searching algorithms.</p>
</div></div>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_search">search(items, properties, searchValue, dateFormat)</h3>
<div class="search"><div class="xui-services-page xui-services-xuisearchingservice-search-page"><p>Search the value on the items within the given properties.</p>
</div><h5 id="methods_search_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>items</td><td><a href="" class="label type-hint type-hint-any">any[]</a></td><td><div class="xui-services-page xui-services-xuisearchingservice-search-page"><p>Items to search within.</p>
</div></td></tr><tr><td>properties</td><td><a href="" class="label type-hint type-hint-string">string[]</a></td><td><div class="xui-services-page xui-services-xuisearchingservice-search-page"><p>Properties where the search is applied. If no property specified, search is
applied on all fields.</p>
</div></td></tr><tr><td>searchValue</td><td><a href="" class="label type-hint type-hint-string">string</a><a href="" class="label type-hint type-hint-number">number</a><a href="" class="label type-hint type-hint-date">date</a></td><td><div class="xui-services-page xui-services-xuisearchingservice-search-page"><p>The searched value that is used as a string or string fragment. Empty
string returns the whole array.</p>
</div></td></tr><tr><td>dateFormat</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-services-page xui-services-xuisearchingservice-search-page"><p>The Angular date format that is used for searching on Date type
properties.</p>
</div> <p><em>(default: "mediumDate")</em></p></td></tr></tbody></table><h5 id="methods_search_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-any">any[]</a></td><td><div class="xui-services-page xui-services-xuisearchingservice-search-page"><p>Items resulted after the search.</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
<h2 id="example">Example</h2>
<div class="example"><div class="xui-services-page xui-services-xuisearchingservice-page"><h4 id="example_source">Source</h4>
<div source-edit="xui" source-edit-deps="angular.js app.js" source-edit-html="index.html-1" source-edit-css="" source-edit-js="app.js" source-edit-json="" source-edit-unit="" source-edit-scenario=""></div>
<div class="tabbable"><div class="tab-pane" title="index.html">
<pre class="prettyprint linenums" ng-set-text="index.html-1" ng-html-wrap-loaded="xui angular.js app.js"></pre>
<script type="text/ng-template" id="index.html-1"><link rel="stylesheet" type="text/css" href="http://localhost:8282/dist/css/xui.css">
<base href="/">
<div class="xui" ng-controller="DemoSearchingController as vm">
    <div id="xui-demo-services-search">
        <h3 id="example_search-service">Search Service</h3>
        <h5 id="example_search-service_original-items">Original items</h5>
        <div class="searchservice-demo-data">
            <pre class="searchservice-demo-data-left">{{vm.itemsFormatted}}</pre>
            <xui-listview
                    class="searchservice-demo-data-right"
                    items-source="vm.items"
                    template-url="/exampleObject.tpl"
            ></xui-listview>
        </div>

        <ng-form>
            <p>Search this value</p>
            <xui-textbox
                    ng-model="vm.searchValue"
                    placeholder="Type something to search"
            ></xui-textbox>
            <p>On the following fields</p>
            <xui-checkbox-group ng-model="vm.props">
                <xui-checkbox value="1">Property 'stringContainer'</xui-checkbox>
                <xui-checkbox value="2">Property 'numberContainer'</xui-checkbox>
                <xui-checkbox value="3">Property 'dateContainer'</xui-checkbox>
            </xui-checkbox-group>
            <xui-button size="small" ng-click="vm.search()" display-style="primary">
                Search
            </xui-button>
        </ng-form>
        <br/><br/>
        <h5 id="example_search-service_search-result">Search result</h5>
        <div class="searchservice-demo-data">
            <pre class="searchservice-demo-data-left">{{vm.searchResultFormatted}}</pre>
            <xui-listview
                    class="searchservice-demo-data-right"
                    items-source="vm.searchResult"
                    template-url="/exampleObject.tpl"
            ></xui-listview>
        </div>
    </div>
    <xui-divider></xui-divider>
</div>

<script type="text/ng-template" id="/exampleObject.tpl">
    <div>
        <span class="label label-default">{{item.stringContainer}}</span>
        <span class="label label-success">{{item.numberContainer}}</span>
        <span class="label label-info">{{item.dateContainer | date}}</span>
    </div>
</script>

<style>
    .searchservice-demo-data {
        display: flex;
    }

    .searchservice-demo-data-left, .searchservice-demo-data-right {
        width: 50%;
    }
</style>
</script>
</div>
<div class="tab-pane" title="app.js">
<pre class="prettyprint linenums" ng-set-text="app.js"></pre>
<script type="text/ng-template" id="app.js">(function () {
    "use strict";

    Xui.module
        .controller("DemoSearchingController", DemoSearchingController, ["xuiSearchingService"]);

    function DemoSearchingController(searchingService) {
        var vm = this;
        var now = new Date().getTime();
        var week = 7 * 24 * 60 * 60 * 1000;

        vm.items = [
            {stringContainer: "abc", numberContainer: 123, dateContainer: new Date(now - week)},
            {stringContainer: "abcd", numberContainer: 1234, dateContainer: new Date(now)},
            {stringContainer: "abcde", numberContainer: 12345, dateContainer: new Date(now + week)}
        ];
        vm.itemsFormatted = JSON.stringify(vm.items, null, 2);
        vm.searchResult = null;
        vm.searchResultFormatted = null;
        vm.searchValue = null;
        vm.props = [];

        /* this ugly part is needed because the checkboxGroup doesn't work with string values */
        vm.getProps = function () {
            var props = [];

            if (vm.props.includes(1)) {
                props.push("stringContainer");
            }
            if (vm.props.includes(2)) {
                props.push("numberContainer");
            }
            if (vm.props.includes(3)) {
                props.push("dateContainer");
            }

            return props;
        };

        vm.search = function () {
            var props = vm.getProps();

            console.log(props, vm.searchValue);
            vm.searchResult = searchingService.search(vm.items, props, vm.searchValue);
            vm.searchResultFormatted = JSON.stringify(vm.searchResult, null, 2);
        };
    }
})();
</script>
</div>
</div><h4 id="example_search-service_demo">Demo</h4>
<div class="well doc-example-live animate-container" ng-embed-app="xui" ng-set-html="index.html-1" ng-eval-javascript="app.js"></div>
</div></div>
</div>
