<h1><code ng:non-bindable="">xuiWizard</code>
<div><span class="hint">directive in module <code ng:non-bindable="">xui</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Component that provides wizard functionality.</p>
</div></div>
<h2 id="usage">Usage</h2>
<div class="usage">as element:<pre class="prettyprint linenums">&lt;xui-wizard
       [name="{string}"]
       [can-finish="{boolean}"]
       [can-go-next="{boolean}"]
       [can-go-back="{boolean}"]
       [current-step="{IWizardStep}"]
       [additional-buttons="{IDialogButton[]}"]
       [current-step-index="{number}"]
       [hide-header="{boolean}"]
       [hide-next="{boolean}"]
       [finish-text="{string}"]
       [next-busy-text="{string}"]
       [navigation="{WizardNavigationOption}"]
       [on-next-step="{expression}"]
       [on-enter-step="{expression}"]
       [on-exit-step="{expression}"]
       [on-cancel="{expression}"]
       [on-finish="{expression}"]&gt;
&lt;/xui-wizard&gt;</pre>
<h4 id="usage_parameters">Parameters</h4><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>name <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>The name of the wizard instance.</p>
</div></td></tr><tr><td>can-finish <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Set to true to show the &quot;Finish&quot; button at any point during the wizard process.</p>
</div> <p><em>(default: false)</em></p></td></tr><tr><td>can-go-next <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Set to false to disable the &quot;Next&quot; button.</p>
</div> <p><em>(default: true)</em></p></td></tr><tr><td>can-go-back <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Set to false to disable the &quot;Back&quot; button.</p>
</div> <p><em>(default: true)</em></p></td></tr><tr><td>current-step <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-iwizardstep">IWizardStep</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>The current step of the wizard.</p>
</div></td></tr><tr><td>additional-buttons <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-idialogbutton">IDialogButton[]</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Additional buttons to display on the wizard.</p>
</div></td></tr><tr><td>current-step-index <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-number">number</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Gets or sets the current step by its index position.</p>
</div></td></tr><tr><td>hide-header <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Set to true to hide the header step links.</p>
</div> <p><em>(default: false)</em></p></td></tr><tr><td>hide-next <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Set to true to hide (dynamically) next button.</p>
</div> <p><em>(default: false)</em></p></td></tr><tr><td>finish-text <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Overrides the default text on the finish step button.</p>
</div> <p><em>(default: 'Close')</em></p></td></tr><tr><td>next-busy-text <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Busy text to display while transferring to next step.</p>
</div> <p><em>(default: 'Empty')</em></p></td></tr><tr><td>navigation <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-wizardnavigationoption">WizardNavigationOption</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Options: [&#39;enabled&#39;, &#39;disabled&#39;, &#39;headerDisabled&#39;].
Set to &#39;disabled&#39; to prevent the user from navigating the steps.
Set to &#39;headerDisabled&#39; to prevent navigation in the header (header will still be visible).</p>
</div> <p><em>(default: 'enabled')</em></p></td></tr><tr><td>on-next-step <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-expression">expression</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Evaluated when the user attempts to go to the next step.</p>
</div></td></tr><tr><td>on-enter-step <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-expression">expression</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Evaluated when a step is entered.</p>
</div></td></tr><tr><td>on-exit-step <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-expression">expression</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Evaluated when a step is exited.</p>
</div></td></tr><tr><td>on-cancel <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-expression">expression</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Evaluated when the user attempts to cancel the wizard.</p>
</div></td></tr><tr><td>on-finish <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-expression">expression</a></td><td><div class="xui-directive-page xui-directive-xuiwizard-page"><p>Evaluated when the user completes the wizard.</p>
</div></td></tr></tbody></table></div>
<h2 id="example">Example</h2>
<div class="example"><div class="xui-directive-page xui-directive-xuiwizard-page"><h4 id="example_source">Source</h4>
<div source-edit="xui" source-edit-deps="angular.js script.js" source-edit-html="index.html-87" source-edit-css="" source-edit-js="script.js-88" source-edit-json="" source-edit-unit="" source-edit-scenario=""></div>
<div class="tabbable"><div class="tab-pane" title="index.html">
<pre class="prettyprint linenums" ng-set-text="index.html-87" ng-html-wrap-loaded="xui angular.js script.js"></pre>
<script type="text/ng-template" id="index.html-87"><link rel="stylesheet" type="text/css" href="http://localhost:8282/dist/css/xui.css">
<base href="/">
<div class="xui">
    <h6 id="example_source_stand-alone-wizard">Stand-Alone Wizard</h6>
    <form ng-include="'wizard-demo'"></form>

    <xui-divider></xui-divider>

    <h6 id="example_source_dialog-wizard">Dialog Wizard</h6>
    <div ng-controller="DemoWizardLauncherController as vm">
        <xui-button ng-click="vm.showDialog()">Wizard Dialog</xui-button>
    </div>

    <xui-divider></xui-divider>

    <h6 id="example_source_dynamic-steps">Dynamic Steps </h6>
    <div ng-controller="DemoWizardModalController as vm">
        <xui-wizard on-cancel="vm.onCancel()"
                    on-exit-step="vm.onExitStep(step)"
                    on-enter-step="vm.onEnterStep(step)"
                    on-next-step="vm.onNextStep(from, to, cancellation)"
                    on-finish="vm.onFinish(cancellation)"
                    can-go-next="vm.goNextEnabled"
                    can-go-back="vm.goBackEnabled"
                    can-finish="false"
                    current-step="vm.currentStep"
                    finish-text="Finish This Demo"
                    next-busy-text="{{vm.nextBusyText}}"
                    hide-header="false"
                    hide-next="vm.hideNext"
                    ng-model="vm">
            <xui-wizard-step ng-repeat="step in vm.steps" label="{{ ::step.label }}" title="{{ ::step.title }}"
                             short-title="{{ ::step.shortTitle }}" description="{{ ::step.description }}">
                <ng-include src="::step.templateUrl"></ng-include>
            </xui-wizard-step>
        </xui-wizard>
        <xui-button ng-click="vm.addStep()">Add Step</xui-button>
        <xui-button ng-click="vm.insertStep()">Insert Step</xui-button>
        <xui-button ng-click="vm.toggleNextVisibility()">Dynamically hide/show next</xui-button>
    </div>

</div>

<script id="wizard-demo" type="text/ng-template">
    <div ng-controller="DemoWizardModalController as vm">
        <xui-wizard on-cancel="vm.onCancel()"
                    on-exit-step="vm.onExitStep(step)"
                    on-enter-step="vm.onEnterStep(step)"
                    on-next-step="vm.onNextStep(from, to, cancellation)"
                    on-finish="vm.onFinish(cancellation)"
                    can-go-next="vm.goNextEnabled"
                    can-go-back="vm.goBackEnabled"
                    can-finish="false"
                    current-step="vm.currentStep"
                    finish-text="Finish This Demo"
                    next-busy-text="{{vm.nextBusyText}}"
                    additional-buttons="vm.additionalButtons"
                    hide-header="false"
                    ng-model="vm">
            <xui-wizard-step label="first" title="Get Started" description="This is the first step of the wizard">
                <span>Let's Go!</span>
                <br/>
                <br/>
                <br/>
                <xui-checkbox ng-model="vm.goNextEnabled">I Accept!</xui-checkbox>
            </xui-wizard-step>
            <xui-wizard-step label="second" title="Second" short-title="2&#x207f;&#x1d48;" next-text="Continue">
                <xui-textbox ng-model="vm.firstName" caption="First Name"></xui-textbox>
                <xui-textbox ng-model="vm.lastName" caption="Last Name"></xui-textbox>
                <xui-textbox ng-model="vm.email" caption="Email" type="email"></xui-textbox>
                <xui-textbox ng-model="vm.phone" caption="Phone" type="phone"></xui-textbox>
                <xui-textbox ng-model="vm.notes" caption="Notes" rows="3"></xui-textbox>
                <xui-checkbox ng-model="vm.goNextEnabled">Check to continue</xui-checkbox>
                <xui-checkbox ng-model="vm.goBackEnabled">I want to go back!</xui-checkbox>
            </xui-wizard-step>
            <xui-wizard-step label="activate" title="Choose Your Favorite Fruit" short-title="Choose fav">
                <xui-radio ng-model="vm.fruit" value="apples">Apples</xui-radio>
                <xui-radio ng-model="vm.fruit" value="oranges">Oranges</xui-radio>
                <xui-radio ng-model="vm.fruit" value="grapes">Grapes</xui-radio>
                <xui-radio ng-model="vm.fruit" value="bananas">Bananas</xui-radio>
                <xui-radio ng-model="vm.fruit" value="mangos">Mangos</xui-radio>
                <xui-checkbox ng-model="vm.goNextEnabled">Check to continue</xui-checkbox>
                <xui-checkbox ng-model="vm.goBackEnabled">I want to go back!</xui-checkbox>
            </xui-wizard-step>
        </xui-wizard>
    </div>
</script>

<script id="wizard-dialog" type="text/ng-template">
    <xui-dialog>
        <xui-header-component>
            <xui-menu title="More" display-style="tertiary">
                <xui-menu-action action="vm.dialogOptions.viewModel.actionMethod()">
                    Additional menu action
                </xui-menu-action>
            </xui-menu>
        </xui-header-component>

        <div ng-include="'wizard-demo'"></div>
        <footer>
            <xui-message type="{{::vm.dialogOptions.viewModel.messageType}}"
                         allow-dismiss="{{::vm.dialogOptions.viewModel.messageDismiss}}">
                {{::vm.dialogOptions.viewModel.message}}
            </xui-message>
        </footer>
    </xui-dialog>
</script>

<script id="wizard-step-1" type="text/ng-template">
    <h3 id="example_step-1">STEP 1</h3>
    <xui-checkbox ng-model="vm.goNextEnabled">I Accept!</xui-checkbox>
</script>

<script id="wizard-step-2" type="text/ng-template">
    <h3 id="example_step-2">STEP 2</h3>
    <xui-checkbox ng-model="vm.goNextEnabled">I Accept!</xui-checkbox>
    <xui-checkbox ng-model="vm.goBackEnabled">Go Back Enabled?</xui-checkbox>
</script>

<script id="wizard-step-3" type="text/ng-template">
    <h3 id="example_step-3">STEP 3</h3>
    <xui-checkbox ng-model="vm.goNextEnabled">I Accept!</xui-checkbox>
    <xui-checkbox ng-model="vm.goBackEnabled">Go Back Enabled?</xui-checkbox>
</script>

<script id="wizard-step-4" type="text/ng-template">
    <h3 id="example_step-4">STEP 4</h3>
</script>

<script id="'wizard-step-5" type="text/ng-template">
    <h3 id="example_step-5">STEP 5</h3>
</script>
</script>
</div>
<div class="tab-pane" title="script.js">
<pre class="prettyprint linenums" ng-set-text="script.js-88"></pre>
<script type="text/ng-template" id="script.js-88">(function () {
    "use strict";

    Xui.module
        .controller("DemoWizardLauncherController", DemoWizardLauncherController, ["xuiWizardDialogService", "xuiToastService"])
        .controller("DemoWizardModalController", DemoWizardModalController, ["$timeout", "xuiToastService"]);

    function DemoWizardLauncherController(wizardService, toast) {
        var vm = this;

        vm.showDialog = function () {
            wizardService
                .showModal({
                    title: "Wizard Demo",
                    template: 
                        ['<xui-dialog>',
                            '<div ng-include="\'wizard-demo\'"></div>',
                            '<footer>',
                                '<xui-message type="{{::vm.dialogOptions.viewModel.messageType}}"',
                                            'allow-dismiss="{{::vm.dialogOptions.viewModel.messageDismiss}}">',
                                    '{{::vm.dialogOptions.viewModel.message}}',
                                '</xui-message>',
                            '</footer>',
                        '</xui-dialog>'].join(""),
                    size: "lg",
                    viewModel: {
                        messageType: "info",
                        messageDismiss: true,
                        message: "You can pass different parameters via viewModel object",
                        actionMethod: function () {
                            toast.info("Additional menu action done.");
                        }
                    }
                });
        };
    }

    function DemoWizardModalController($timeout, toast) {
        var vm = this;

        vm.nextBusyText = "waiting...";
        vm.additionalButtons = [{
            name: 'btn1',
            text: 'added Button 1',
            action: function () {
                toast.info("Disabling Button1 for 2 seconds");
                vm.additionalButtons[0].isDisabled = true;
                $timeout(function () {
                    vm.additionalButtons[0].isDisabled = false;
                    return true;
                }, 2000);
                return false;
            }
        }];
        vm.steps = [{
            label: "label-one",
            title: "title 1",
            description: "description 1",
            templateUrl: "wizard-step-1"
        }];
        vm.hideNext = false;

        vm.toggleNextVisibility = function() {
            this.hideNext = !this.hideNext;
        };

        vm.onEnterStep = function (step) {
            vm.goNextEnabled = false;
            vm.goBackEnabled = true;
            toast.info("onEnterStep: " + step.label);
        };

        vm.onExitStep = function (step) {
            toast.info("onExitStep: " + step.label);
        };

        vm.onNextStep = function (from, to, cancellation) {
            toast.info("from: " + from.label + " -> to:" + (to && to.label));
            vm.nextBusyText = "moving to " + (to && to.label);

            var timeout = (from.label === "activate") ? 2000 : 500;
            var promise = $timeout(function () {
                return true;
            }, timeout);
            cancellation.then(function () {
                toast.info("onNextStep cancelled");
                $timeout.cancel(promise);
            });

            return promise;
        };

        vm.onCancel = function () {
            toast.info("onCancel");
            return true;
        };

        vm.onFinish = function (cancellation) {
            vm.nextBusyText = "finishing";
            var promise = $timeout(function () {
                toast.info("onFinish");
                return true;
            }, 2000);
            cancellation.then(function () {
                toast.info("onFinish cancelled");
                $timeout.cancel(promise);
            });

            return promise;
        };

        vm.addStep = function () {
            var stepNum = vm.steps.length;
            vm.steps.push({
                label: "label-" + stepNum,
                title: "title " + stepNum,
                shortTitle: "S " + stepNum,
                description: "description " + stepNum,
                templateUrl: "wizard-step-" + stepNum
            });
        };

        vm.insertStep = function () {
            var stepNum = 2;

            vm.steps.splice(stepNum - 1, 0, {
                label: "label-" + stepNum,
                title: "title " + stepNum,
                description: "description " + stepNum,
                templateUrl: "wizard-step-" + stepNum
            });
        };
    }
})();
</script>
</div>
</div><h4 id="example_step-5_demo">Demo</h4>
<div class="well doc-example-live animate-container" ng-embed-app="xui" ng-set-html="index.html-87" ng-eval-javascript="script.js-88"></div>
</div></div>
</div>
