<h1><code ng:non-bindable="">xuiSearch</code>
<div><span class="hint">directive in module <code ng:non-bindable="">xui</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="xui-directive-page xui-directive-xuisearch-page"><p>Search element represented by input box with search icon on the right side of the box. Can be set with three sizes:
small, basic, and large.</p>
</div></div>
<h2 id="usage">Usage</h2>
<div class="usage">as element:<pre class="prettyprint linenums">&lt;xui-search
       [name="{string}"]
       [placeholder="{string}"]
       [caption="{string}"]
       [display-value="{string}"]
       [is-disabled="{boolean}"]
       item-limit="{number}"
       [value="{object}"]
       [items-source="{array}"]
       on-search="{expression}"
       [on-clear="{function}"]&gt;
&lt;/xui-search&gt;</pre>
<h4 id="usage_parameters">Parameters</h4><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>name <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuisearch-page"><p>User friendly name of control.</p>
</div></td></tr><tr><td>placeholder <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuisearch-page"><p>A string that will be placed as a watermark inside of the search when it&#39;s empty.</p>
</div></td></tr><tr><td>caption <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuisearch-page"><p>A string that will be used as the label.</p>
</div></td></tr><tr><td>display-value <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuisearch-page"><p>Object property name that will be used for item presentation and search.</p>
</div></td></tr><tr><td>is-disabled <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuisearch-page"><p>Indicates if the input should appear as disabled. Set true to disable input.</p>
</div></td></tr><tr><td>item-limit</td><td><a href="" class="label type-hint type-hint-number">number</a></td><td><div class="xui-directive-page xui-directive-xuisearch-page"><p>Number of suggested items that will be displayed.</p>
</div> <p><em>(default: 10)</em></p></td></tr><tr><td>value <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="xui-directive-page xui-directive-xuisearch-page"><p>Assignable Angular expression to data-bind to.</p>
</div></td></tr><tr><td>items-source <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-array">array</a></td><td><div class="xui-directive-page xui-directive-xuisearch-page"><p>Items source array to search in.</p>
</div></td></tr><tr><td>on-search</td><td><a href="" class="label type-hint type-hint-expression">expression</a></td><td><div class="xui-directive-page xui-directive-xuisearch-page"><p>Expression that is evaluated when the user performs a search.</p>
</div></td></tr><tr><td>on-clear <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="xui-directive-page xui-directive-xuisearch-page"><p>Function that is called when the user clears the search field.</p>
</div></td></tr></tbody></table></div>
<h2 id="example">Example</h2>
<div class="example"><div class="xui-directive-page xui-directive-xuisearch-page"><h4 id="example_source">Source</h4>
<div source-edit="xui" source-edit-deps="angular.js script.js" source-edit-html="index.html-54" source-edit-css="" source-edit-js="script.js-55" source-edit-json="" source-edit-unit="" source-edit-scenario=""></div>
<div class="tabbable"><div class="tab-pane" title="index.html">
<pre class="prettyprint linenums" ng-set-text="index.html-54" ng-html-wrap-loaded="xui angular.js script.js"></pre>
<script type="text/ng-template" id="index.html-54"><link rel="stylesheet" type="text/css" href="http://localhost:8282/dist/css/xui.css">
<base href="/">
<div class="xui" id="xui-demo-components-search">
    <div class="component-demo-card">
        <xui-spinner show="vm.value"></xui-spinner>
        <ng-form name="search">
            <h3 id="example_basic">Basic</h3>
            <div ng-controller="DemoSearchBasicController as vm">
                <xui-search caption="xui-search-basic"
                            is-disabled="false"
                            value="vm.value"
                            on-search="vm.onSearch(value, cancellation)"
                            on-clear="vm.onClear()"
                            items-source="vm.items"></xui-search>
                <pre>Model: <code>{{vm.value}}</code></pre>
            </div>

            <h3 id="example_complex">Complex</h3>
            <div ng-controller="DemoSearchComplexController as vm">
                <xui-search caption="xui-search-complex"
                            placeholder="{{vm.placeholder}}"
                            item-limit="{{vm.itemLimit}}"
                            value="vm.value"
                            items-source="vm.items"
                            display-value="vm.displayValue"
                            ng-blur="vm.onBlur($event)"
                            ng-focus="vm.onFocus($event)"
                            on-search="vm.onSearch(value, cancellation)"
                            on-clear="vm.onClear()"></xui-search>
                <pre>Model: <code>{{vm.value}}</code></pre>
                <xui-listview items-source="vm.searchResults"
                              selection-mode="multi"
                              selection-property="id"
                              template-url="search-results-item-template"></xui-listview>
            </div>

            <h3 id="example_search-on-change-enabled">Search on change enabled</h3>
            <div ng-controller="DemoSearchComplexController as vm">
                <xui-search caption="xui-search-on-change"
                            is-disabled="false"
                            value="vm.value"
                            on-search="vm.onSearch(value, cancellation)"
                            on-clear="vm.onClear()"
                            search-on-change="vm.searchOnChange"
                            search-debounce="500"
                            items-source="vm.items"></xui-search>
                <pre>Model: <code>{{vm.value}}</code></pre>
            </div>
        </ng-form>
    </div>
</div>

<script type="text/ng-template" id="search-results-item-template">
    <div class="row">
        <div class="col-xs-6">
            {{::item.name}}
        </div>
        <div class="col-xs-6">
            {{::item.value}}
        </div>
    </div>
</script>
</script>
</div>
<div class="tab-pane" title="script.js">
<pre class="prettyprint linenums" ng-set-text="script.js-55"></pre>
<script type="text/ng-template" id="script.js-55">(function() {
    "use strict";

    Xui.module
        .controller("DemoSearchBasicController", DemoSearchBasicController, ["$timeout", "xuiToastService"])
        .controller("DemoSearchComplexController", DemoSearchComplexController, ["$timeout", "xuiToastService", "$log"]);

    function DemoSearchBasicController($timeout, toastService) {
        var vm = this;

        vm.items = ['Item 1', 'Item 2', 'Item 3', 'Item 4', 'Item 5'];

        vm.onSearch = function(value, cancellation) {
            var promise = $timeout(function () {
                toastService.success("You searched for <pre>" + JSON.stringify(value) + "</pre>", "on-search event fired");
            }, 4000);

            cancellation.then(function() {
                $timeout.cancel(promise);
                toastService.info("Search cancelled!");
            });

            return promise;
        };

        vm.onClear = function() {
            return $timeout(function () {
                toastService.success("You cleared the search field", "on-clear event fired");
            }, 0);
        };
    }

    function DemoSearchComplexController($timeout, toastService, $log) {
        var vm = this;

        vm.searchOnChange = true;
        vm.displayValue = 'value';
        vm.placeholder = 'Search Me!';
        vm.itemLimit = 3;
        vm.searchResults = [];
        vm.items = [
            { name: 'item_1', value: 'Item 1' },
            { name: 'item_2', value: 'Item 2' },
            { name: 'item_3', value: 'Item 3' },
            { name: 'item_4', value: 'Item 4' },
            { name: 'item_5', value: 'Item 5' }
        ];

        vm.onSearch = function(value, cancellation) {
            var promise = $timeout(function () {
                vm.genSearchResults();
                toastService.success("You searched for <pre>" + JSON.stringify(value) + "</pre>", "on-search event fired");
            }, 3000);

            cancellation.then(function() {
                $timeout.cancel(promise);
                toastService.info("Search cancelled!");
            });

            return promise;
        };

        vm.onClear = function() {
            return $timeout(function () {
                toastService.success("You cleared the search field", "on-clear event fired");
            }, 0);
        };

        vm.onChange = function () {
            vm.searchResults.length = 0;
            $log.info("Search on-change event fired - " + vm.value);
        };

        vm.onBlur = function($event) {
            $log.info("Search on-blur event fired - " + vm.value);
        };

        vm.onFocus = function($event) {
            $log.info("Search on-focus event fired - " + vm.value);
        };

        vm.genSearchResults = function() {
            for (var i = 1; i <= 10; i++) {
                vm.searchResults.push({
                    id: i,
                    name: "item_" + i,
                    value: "Item " + i
                });
            }
        };
    }
})();
</script>
</div>
</div><h4 id="example_search-on-change-enabled_demo">Demo</h4>
<div class="well doc-example-live animate-container" ng-embed-app="xui" ng-set-html="index.html-54" ng-eval-javascript="script.js-55"></div>
</div></div>
</div>
