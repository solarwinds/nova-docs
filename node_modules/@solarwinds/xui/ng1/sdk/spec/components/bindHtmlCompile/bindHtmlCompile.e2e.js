"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
const protractor_1 = require("@solarwinds/uzi/protractor");
const helpers_1 = require("../helpers");
const uzi_1 = require("@solarwinds/uzi");
const index_atom_1 = require("../index.atom");
//region Test cases
describe("USERCONTROL bindHtmlCompile:", () => {
    function prepare() {
        return __awaiter(this, void 0, void 0, function* () {
            yield helpers_1.default.prepareBrowser("bindHtmlCompile");
        });
    }
    const idComplex = "testComplex";
    const idComplexData = "testComplexData";
    const idComplexScope = "testComplexScope";
    function getAtoms(atomClass, ids) {
        return ids.map(id => uzi_1.Atom.findIn(atomClass, protractor_1.element(protractor_1.by.id(id))));
    }
    describe("should expand", () => {
        beforeAll(prepare);
        it("simple html", () => __awaiter(this, void 0, void 0, function* () {
            const text = yield protractor_1.element(protractor_1.by.id("markerID")).getText();
            expect(text).toBe("simple");
        }));
        it("compilable elements", () => __awaiter(this, void 0, void 0, function* () {
            const [atom] = getAtoms(index_atom_1.ButtonAtom, [idComplex]);
            const text = yield atom.getText();
            expect(yield atom.isVisible()).toBe(true);
            expect(text.toLowerCase()).toBe("complex");
        }));
        it("compilable elements with custom data", () => __awaiter(this, void 0, void 0, function* () {
            const [atom] = getAtoms(index_atom_1.ButtonAtom, [idComplexData]);
            const text = yield atom.getText();
            expect(yield atom.isVisible()).toBe(true);
            expect(text.toLowerCase()).toBe("text from an object");
        }));
        it("compilable elements with custom scope", () => __awaiter(this, void 0, void 0, function* () {
            const [atom] = getAtoms(index_atom_1.ButtonAtom, [idComplexScope]);
            const text = yield atom.getText();
            expect(yield atom.isVisible()).toBe(true);
            expect(text.toLowerCase()).toBe("text from a scope");
        }));
    });
    describe("should react on change", () => {
        beforeEach(prepare);
        it("of html", () => __awaiter(this, void 0, void 0, function* () {
            const ids = [idComplex, idComplexData, idComplexScope];
            const [msgSimple, msgData, msgScope] = getAtoms(index_atom_1.MessageAtom, ids);
            expect(yield msgSimple.isVisible()).toBe(false, "simple message visible before change");
            expect(yield msgData.isVisible()).toBe(false, "data message visible before change");
            expect(yield msgScope.isVisible()).toBe(false, "scope message visible before change");
            yield protractor_1.browser.element(protractor_1.by.css("[id^='bnChangeTemplate']")).click();
            expect(yield msgSimple.isVisible()).toBe(true, "simple message visible after change");
            expect(yield msgData.isVisible()).toBe(true, "data message visible after change");
            expect(yield msgScope.isVisible()).toBe(true, "scope message visible after change");
        }));
        it("of scope", () => __awaiter(this, void 0, void 0, function* () {
            const ids = [idComplexData, idComplexScope];
            const [btnData, btnScope] = getAtoms(index_atom_1.ButtonAtom, ids);
            yield protractor_1.browser.element(protractor_1.by.css("[id^='bnChangeScope ']")).click();
            const textData = yield btnData.getText();
            expect(textData.toLowerCase())
                .toBe("text from another object", "data button text after change");
            const textScope = yield btnScope.getText();
            expect(textScope.toLowerCase())
                .toBe("text from another scope", "scope button text after change");
        }));
    });
});
//endregion

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvYmluZEh0bWxDb21waWxlL2JpbmRIdG1sQ29tcGlsZS5lMmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLDJEQUEyRTtBQUMzRSx3Q0FBaUM7QUFDakMseUNBQW1EO0FBQ25ELDhDQUFrRTtBQUVsRSxtQkFBbUI7QUFDbkIsUUFBUSxDQUFDLDhCQUE4QixFQUFFLEdBQUcsRUFBRTtJQUUxQzs7WUFDSSxNQUFNLGlCQUFPLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDcEQsQ0FBQztLQUFBO0lBRUQsTUFBTSxTQUFTLEdBQUcsYUFBYSxDQUFDO0lBQ2hDLE1BQU0sYUFBYSxHQUFHLGlCQUFpQixDQUFDO0lBQ3hDLE1BQU0sY0FBYyxHQUFHLGtCQUFrQixDQUFDO0lBRTFDLGtCQUFrQyxTQUF3QixFQUFFLEdBQWE7UUFDckUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxVQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxvQkFBTyxDQUFDLGVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVELFFBQVEsQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFO1FBRTNCLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUVuQixFQUFFLENBQUMsYUFBYSxFQUFFLEdBQVMsRUFBRTtZQUN6QixNQUFNLElBQUksR0FBRyxNQUFNLG9CQUFPLENBQUMsZUFBRSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDaEMsQ0FBQyxDQUFBLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxHQUFTLEVBQUU7WUFDakMsTUFBTSxDQUFFLElBQUks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RSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxvQ0FBb0MsQ0FBQyxDQUFDO1FBQ3hGLENBQUMsQ0FBQSxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsVUFBVSxFQUFFLEdBQVMsRUFBRTtZQUN0QixNQUFNLEdBQUcsR0FBRyxDQUFFLGFBQWEsRUFBRSxjQUFjLENBQUUsQ0FBQztZQUM5QyxNQUFNLENBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBRSxHQUFHLFFBQVEsQ0FBQyx1QkFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sb0JBQU8sQ0FBQyxPQUFPLENBQUMsZUFBRSxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7WUFFaEUsTUFBTSxRQUFRLEdBQUcsTUFBTSxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDekMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDekIsSUFBSSxDQUFDLDBCQUEwQixFQUFFLCtCQUErQixDQUFDLENBQUM7WUFFdkUsTUFBTSxTQUFTLEdBQUcsTUFBTSxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDM0MsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDMUIsSUFBSSxDQUFDLHlCQUF5QixFQUFFLGdDQUFnQyxDQUFDLENBQUM7UUFDM0UsQ0FBQyxDQUFBLENBQUMsQ0FBQztJQUVQLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUM7QUFDSCxXQUFXIiwiZmlsZSI6ImNvbXBvbmVudHMvYmluZEh0bWxDb21waWxlL2JpbmRIdG1sQ29tcGlsZS5lMmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBicm93c2VyLCBieSwgZWxlbWVudCwgcHJvbWlzZSB9IGZyb20gXCJAc29sYXJ3aW5kcy91emkvcHJvdHJhY3RvclwiO1xuaW1wb3J0IEhlbHBlcnMgZnJvbSBcIi4uL2hlbHBlcnNcIjtcbmltcG9ydCB7IEF0b20sIElBdG9tQ2xhc3MgfSBmcm9tIFwiQHNvbGFyd2luZHMvdXppXCI7XG5pbXBvcnQgeyBJY29uQXRvbSwgQnV0dG9uQXRvbSwgTWVzc2FnZUF0b20gfSBmcm9tIFwiLi4vaW5kZXguYXRvbVwiO1xuXG4vL3JlZ2lvbiBUZXN0IGNhc2VzXG5kZXNjcmliZShcIlVTRVJDT05UUk9MIGJpbmRIdG1sQ29tcGlsZTpcIiwgKCkgPT4ge1xuXG4gICAgYXN5bmMgZnVuY3Rpb24gcHJlcGFyZSgpIHtcbiAgICAgICAgYXdhaXQgSGVscGVycy5wcmVwYXJlQnJvd3NlcihcImJpbmRIdG1sQ29tcGlsZVwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBpZENvbXBsZXggPSBcInRlc3RDb21wbGV4XCI7XG4gICAgY29uc3QgaWRDb21wbGV4RGF0YSA9IFwidGVzdENvbXBsZXhEYXRhXCI7XG4gICAgY29uc3QgaWRDb21wbGV4U2NvcGUgPSBcInRlc3RDb21wbGV4U2NvcGVcIjtcblxuICAgIGZ1bmN0aW9uIGdldEF0b21zPFQgZXh0ZW5kcyBBdG9tPihhdG9tQ2xhc3M6IElBdG9tQ2xhc3M8VD4sIGlkczogc3RyaW5nW10pOiBUW10ge1xuICAgICAgICByZXR1cm4gaWRzLm1hcChpZCA9PiBBdG9tLmZpbmRJbihhdG9tQ2xhc3MsIGVsZW1lbnQoYnkuaWQoaWQpKSkpO1xuICAgIH1cblxuICAgIGRlc2NyaWJlKFwic2hvdWxkIGV4cGFuZFwiLCAoKSA9PiB7XG5cbiAgICAgICAgYmVmb3JlQWxsKHByZXBhcmUpO1xuXG4gICAgICAgIGl0KFwic2ltcGxlIGh0bWxcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGVsZW1lbnQoYnkuaWQoXCJtYXJrZXJJRFwiKSkuZ2V0VGV4dCgpO1xuICAgICAgICAgICAgZXhwZWN0KHRleHQpLnRvQmUoXCJzaW1wbGVcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwiY29tcGlsYWJsZSBlbGVtZW50c1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbIGF0b20gXSA9IGdldEF0b21zKEJ1dHRvbkF0b20sIFtpZENvbXBsZXhdKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBhdG9tLmdldFRleHQoKTtcbiAgICAgICAgICAgIGV4cGVjdChhd2FpdCBhdG9tLmlzVmlzaWJsZSgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgZXhwZWN0KHRleHQudG9Mb3dlckNhc2UoKSkudG9CZShcImNvbXBsZXhcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwiY29tcGlsYWJsZSBlbGVtZW50cyB3aXRoIGN1c3RvbSBkYXRhXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFsgYXRvbSBdID0gZ2V0QXRvbXMoQnV0dG9uQXRvbSwgW2lkQ29tcGxleERhdGFdKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBhdG9tLmdldFRleHQoKTtcbiAgICAgICAgICAgIGV4cGVjdChhd2FpdCBhdG9tLmlzVmlzaWJsZSgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgZXhwZWN0KHRleHQudG9Mb3dlckNhc2UoKSkudG9CZShcInRleHQgZnJvbSBhbiBvYmplY3RcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwiY29tcGlsYWJsZSBlbGVtZW50cyB3aXRoIGN1c3RvbSBzY29wZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbIGF0b20gXSA9IGdldEF0b21zKEJ1dHRvbkF0b20sIFtpZENvbXBsZXhTY29wZV0pO1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGF0b20uZ2V0VGV4dCgpO1xuICAgICAgICAgICAgZXhwZWN0KGF3YWl0IGF0b20uaXNWaXNpYmxlKCkpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICBleHBlY3QodGV4dC50b0xvd2VyQ2FzZSgpKS50b0JlKFwidGV4dCBmcm9tIGEgc2NvcGVcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJzaG91bGQgcmVhY3Qgb24gY2hhbmdlXCIsICgpID0+IHtcblxuICAgICAgICBiZWZvcmVFYWNoKHByZXBhcmUpO1xuXG4gICAgICAgIGl0KFwib2YgaHRtbFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZHMgPSBbIGlkQ29tcGxleCwgaWRDb21wbGV4RGF0YSwgaWRDb21wbGV4U2NvcGUgXTtcbiAgICAgICAgICAgIGNvbnN0IFsgbXNnU2ltcGxlLCBtc2dEYXRhLCBtc2dTY29wZSBdID0gZ2V0QXRvbXMoTWVzc2FnZUF0b20sIGlkcyk7XG5cbiAgICAgICAgICAgIGV4cGVjdChhd2FpdCBtc2dTaW1wbGUuaXNWaXNpYmxlKCkpLnRvQmUoZmFsc2UsIFwic2ltcGxlIG1lc3NhZ2UgdmlzaWJsZSBiZWZvcmUgY2hhbmdlXCIpO1xuICAgICAgICAgICAgZXhwZWN0KGF3YWl0IG1zZ0RhdGEuaXNWaXNpYmxlKCkpLnRvQmUoZmFsc2UsIFwiZGF0YSBtZXNzYWdlIHZpc2libGUgYmVmb3JlIGNoYW5nZVwiKTtcbiAgICAgICAgICAgIGV4cGVjdChhd2FpdCBtc2dTY29wZS5pc1Zpc2libGUoKSkudG9CZShmYWxzZSwgXCJzY29wZSBtZXNzYWdlIHZpc2libGUgYmVmb3JlIGNoYW5nZVwiKTtcblxuICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5lbGVtZW50KGJ5LmNzcyhcIltpZF49J2JuQ2hhbmdlVGVtcGxhdGUnXVwiKSkuY2xpY2soKTtcblxuICAgICAgICAgICAgZXhwZWN0KGF3YWl0IG1zZ1NpbXBsZS5pc1Zpc2libGUoKSkudG9CZSh0cnVlLCBcInNpbXBsZSBtZXNzYWdlIHZpc2libGUgYWZ0ZXIgY2hhbmdlXCIpO1xuICAgICAgICAgICAgZXhwZWN0KGF3YWl0IG1zZ0RhdGEuaXNWaXNpYmxlKCkpLnRvQmUodHJ1ZSwgXCJkYXRhIG1lc3NhZ2UgdmlzaWJsZSBhZnRlciBjaGFuZ2VcIik7XG4gICAgICAgICAgICBleHBlY3QoYXdhaXQgbXNnU2NvcGUuaXNWaXNpYmxlKCkpLnRvQmUodHJ1ZSwgXCJzY29wZSBtZXNzYWdlIHZpc2libGUgYWZ0ZXIgY2hhbmdlXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcIm9mIHNjb3BlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlkcyA9IFsgaWRDb21wbGV4RGF0YSwgaWRDb21wbGV4U2NvcGUgXTtcbiAgICAgICAgICAgIGNvbnN0IFsgYnRuRGF0YSwgYnRuU2NvcGUgXSA9IGdldEF0b21zKEJ1dHRvbkF0b20sIGlkcyk7XG4gICAgICAgICAgICBhd2FpdCBicm93c2VyLmVsZW1lbnQoYnkuY3NzKFwiW2lkXj0nYm5DaGFuZ2VTY29wZSAnXVwiKSkuY2xpY2soKTtcblxuICAgICAgICAgICAgY29uc3QgdGV4dERhdGEgPSBhd2FpdCBidG5EYXRhLmdldFRleHQoKTtcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0RGF0YS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgIC50b0JlKFwidGV4dCBmcm9tIGFub3RoZXIgb2JqZWN0XCIsIFwiZGF0YSBidXR0b24gdGV4dCBhZnRlciBjaGFuZ2VcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHRleHRTY29wZSA9IGF3YWl0IGJ0blNjb3BlLmdldFRleHQoKTtcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0U2NvcGUudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICAudG9CZShcInRleHQgZnJvbSBhbm90aGVyIHNjb3BlXCIsIFwic2NvcGUgYnV0dG9uIHRleHQgYWZ0ZXIgY2hhbmdlXCIpO1xuICAgICAgICB9KTtcblxuICAgIH0pO1xufSk7XG4vL2VuZHJlZ2lvblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
