"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const protractor_1 = require("@solarwinds/uzi/protractor");
const helpers_1 = require("../helpers");
const index_atom_1 = require("../index.atom");
const uzi_1 = require("@solarwinds/uzi");
describe("USERCONTROL Grid >", () => {
    describe("simple >", () => {
        let grid;
        let pager;
        let listView;
        let toolbar;
        let sorter;
        let selector;
        let defaultPageSize;
        beforeEach((done) => {
            helpers_1.default.prepareBrowser("grid");
            grid = uzi_1.Atom.findIn(index_atom_1.GridAtom, protractor_1.element(protractor_1.by.id("grid-page")));
            listView = grid.getListView();
            toolbar = grid.getToolbar();
            sorter = grid.getSorter();
            selector = grid.getSelector();
            pager = grid.getPager();
            grid.getPager().itemsPerPageSelection().then((defaultPageSizeText) => {
                defaultPageSize = 10;
                done();
            });
        });
        it("shows list of items", () => {
            expect(listView.getItems().count()).toBe(10);
            expect(listView.getItem(5).getText()).toContain("Item 005");
        });
        it("shows toolbar if it is defined", () => {
            expect(toolbar.isVisible()).toBe(true);
        });
        it("shows correct total items on pager", () => {
            expect(grid.getPager().itemCountText()).toBe("200");
        });
        it("supports changing page", () => {
            pager.pageLinkClick(2);
            expect(listView.getItem(0).getText()).toContain("Item 010");
        });
        it("shows correct items in grid according to pager", () => {
            expect(grid.getPager().itemsPerPageSelection()).toBe("10");
            pager.setItemsPerPage(25);
            expect(grid.getListView().getItems().count()).toBe(25);
            expect(protractor_1.element(protractor_1.by.id("pagination-page")).getText()).toBe("1");
        });
        it("allows selection of items across pages", () => {
            // initially the first checkbox isn't checked
            expect(listView.getCheckbox(0).isChecked()).toBe(false);
            // check it
            listView.selectCheckbox(0);
            expect(listView.getCheckbox(0).isChecked()).toBe(true);
            // switch to next page and expect that the checkbox isn't checked anymore
            pager.pageLinkClick(2);
            expect(listView.getCheckbox(0).isChecked()).toBe(false);
            // go back to original page (3rd page is chosen initially) and the checkbox should be checked again
            pager.pageLinkClick(1);
            expect(listView.getCheckbox(0).isChecked()).toBe(true);
        });
        it("shows selection title when some item is selected", () => {
            expect(grid.getSelectionTitleElement().isPresent()).toBe(false);
            expect(listView.getCheckbox(0).isChecked()).toBe(false);
            grid.getListView().selectCheckbox(0);
            expect(grid.getSelectionTitleElement().isDisplayed()).toBe(true);
        });
        it("sorts listview properly when sorter component is used", () => {
            const firstItem = listView.getItem(0);
            const secondItem = listView.getItem(1);
            expect(firstItem.getText()).toContain("Item 000");
            expect(secondItem.getText()).toContain("Item 001");
            sorter.clickSortToggle();
            expect(firstItem.getText()).toContain("Item 009");
            expect(secondItem.getText()).toContain("Item 008");
        });
        describe("selector related", () => {
            it("selects all items on a current page when selector option 'all' is used", () => {
                // check initial state
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(listView.getCheckbox(i).isChecked()).toBe(false);
                }
                pager.pageLinkClick(2);
                expect(listView.getCheckbox(0).isChecked()).toBe(false);
                pager.pageLinkClick(1);
                // click on 'all' option
                selector.clickOnDropdownItem(0);
                // verify changes
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(listView.getCheckbox(i).isChecked()).toBe(true);
                }
                pager.pageLinkClick(2);
                expect(listView.getCheckbox(0).isChecked()).toBe(false);
            });
            it("un-selects all items on all pages when selector option 'none' is used", () => {
                // check initial state
                listView.selectCheckbox(0);
                expect(listView.getCheckbox(0).isChecked()).toBe(true);
                pager.pageLinkClick(2);
                listView.selectCheckbox(0);
                expect(listView.getCheckbox(0).isChecked()).toBe(true);
                // click on 'none' option
                selector.clickOnDropdownItem(1);
                // verify changes
                expect(listView.getCheckbox(0).isChecked()).toBe(false);
                pager.pageLinkClick(1);
                expect(listView.getCheckbox(0).isChecked()).toBe(false);
            });
            it("selects all items across all pages when selector option 'all pages' is used", () => {
                // click on 'all pages' option
                selector.clickOnDropdownItem(2);
                // verify state
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(listView.getCheckbox(i).isChecked()).toBe(true);
                }
                pager.pageLinkClick(2);
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(listView.getCheckbox(i).isChecked()).toBe(true);
                }
            });
            it("has selector in indeterminate state when some items are selected", () => {
                // initialization
                expect(selector.isChecked()).toBe(false);
                expect(selector.isIndeterminate()).toBe(false);
                // select an item
                listView.selectCheckbox(0);
                // verify selector state
                expect(selector.isChecked()).toBe(true);
                expect(selector.isIndeterminate()).toBe(true);
            });
            it("has selector in checked state when all items are selected", () => {
                // initialization
                expect(selector.isChecked()).toBe(false);
                expect(selector.isIndeterminate()).toBe(false);
                // select an item
                for (let i = 0; i < defaultPageSize; i++) {
                    listView.selectCheckbox(i);
                }
                // verify selector state
                expect(selector.isChecked()).toBe(true);
                expect(selector.isIndeterminate()).toBe(false);
            });
            it("selects all items when click on selector in unchecked state", () => {
                // initialization
                expect(selector.isChecked()).toBe(false);
                expect(selector.isIndeterminate()).toBe(false);
                // select an item
                selector.getCheckboxButton().click();
                // verify selector state
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(listView.getCheckbox(i).isChecked()).toBe(true);
                }
                expect(selector.isChecked()).toBe(true);
                expect(selector.isIndeterminate()).toBe(false);
                pager.pageLinkClick(2);
                expect(listView.getCheckbox(0).isChecked()).toBe(false);
            });
            it("selects all items when click on selector in indeterminate state", () => {
                // initialization
                listView.selectCheckbox(0);
                expect(selector.isChecked()).toBe(true);
                expect(selector.isIndeterminate()).toBe(true);
                // select an item
                selector.getCheckboxButton().click();
                // verify selector state
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(listView.getCheckbox(i).isChecked()).toBe(true);
                }
                expect(selector.isChecked()).toBe(true);
                expect(selector.isIndeterminate()).toBe(false);
                pager.pageLinkClick(2);
                expect(listView.getCheckbox(0).isChecked()).toBe(false);
            });
            it("un-selects all items when click on selector in checked state", () => {
                // initialization
                selector.clickOnDropdownItem(2);
                expect(selector.isChecked()).toBe(true);
                expect(selector.isIndeterminate()).toBe(false);
                // select an item
                selector.getCheckboxButton().click();
                // verify selector state
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(listView.getCheckbox(i).isChecked()).toBe(false);
                }
                expect(selector.isChecked()).toBe(false);
                expect(selector.isIndeterminate()).toBe(false);
                pager.pageLinkClick(2);
                expect(listView.getCheckbox(0).isChecked()).toBe(false);
            });
        });
        describe("search functionalities should work as ", () => {
            it("grid should react on keyinput", () => {
                grid.writeIntoSearch("020");
                let list = grid.getListView().getItems();
                expect(list.count()).toBe(1);
            });
            it("grid should react on clearing search", () => {
                grid.writeIntoSearch("xxxx");
                let list = grid.getListView().getItems();
                expect(list.count()).toBe(0);
                grid.clickSearchClearButton();
                let list2 = grid.getListView().getItems();
                expect(list2.count()).toBeGreaterThan(0);
            });
            it("pager should react on search execution", () => {
                // UIF-2579 Pager is not update when selected page has been reset
                grid.writeIntoSearch("ite");
                pager.pageLinkClick(2);
                expect(pager.activePage()).toBe(2);
                grid.writeIntoSearch("m");
                expect(pager.activePage()).toBe(1);
            });
            it("calling clickSearchClearButton should not fail if search already cleared", () => {
                // UIF-5070 - GridAtom search methods not useable in production tests
                grid.writeIntoSearch("xxxx");
                grid.clickSearchClearButtonIfPresent();
                grid.clickSearchClearButtonIfPresent();
                let list = grid.getListView().getItems();
                expect(list.count()).toBeGreaterThan(0);
            });
        });
    });
    describe("smart >", () => {
        let smartGrid;
        let smartPager;
        let smartListView;
        let smartSorter;
        let smartSelector;
        let defaultPageSize;
        let searchOnChangeSwitch;
        beforeEach((done) => {
            helpers_1.default.prepareBrowser("grid-smart");
            smartGrid = uzi_1.Atom.findIn(index_atom_1.GridAtom, protractor_1.element(protractor_1.by.id("grid-smart-page")));
            smartPager = smartGrid.getPager();
            smartListView = smartGrid.getListView();
            smartSorter = smartGrid.getSorter();
            smartSelector = smartGrid.getSelector();
            smartGrid.getPager().itemsPerPageSelection().then((defaultPageSizeText) => {
                defaultPageSize = parseInt(defaultPageSizeText, 10);
                done();
            });
            searchOnChangeSwitch = uzi_1.Atom.findIn(index_atom_1.SwitchAtom, protractor_1.element(protractor_1.by.id("grid-smart-page")), 0);
        });
        it("shows correct items in grid according to pager", () => {
            expect(smartPager.itemsPerPageSelection()).toBe("10");
            smartPager.setItemsPerPage(25);
            expect(smartListView.getItems().count()).toBe(25);
        });
        it("supports changing page", () => {
            smartPager.pageLinkClick(2);
            expect(smartListView.getItem(0).getText()).toContain("Item 010");
        });
        it("allows selection of items across pages", () => {
            // initially the first checkbox isn't checked
            expect(smartListView.getCheckbox(0).isChecked()).toBe(false);
            // check it
            smartListView.selectCheckbox(0);
            expect(smartListView.getCheckbox(0).isChecked()).toBe(true);
            // switch to next page and expect that the checkbox isn't checked anymore
            smartPager.pageLinkClick(2);
            expect(smartListView.getCheckbox(0).isChecked()).toBe(false);
            // go back to original page (3rd page is chosen initially) and the checkbox should be checked again
            smartPager.pageLinkClick(1);
            expect(smartListView.getCheckbox(0).isChecked()).toBe(true);
        });
        describe("when sorter component is used", () => {
            it("sorts listView properly", () => {
                const firstItem = smartListView.getItem(0);
                const secondItem = smartListView.getItem(1);
                expect(firstItem.getText()).toContain("Item 000");
                expect(secondItem.getText()).toContain("Item 001");
                smartSorter.clickSortToggle();
                expect(firstItem.getText()).toContain("Item 199");
                expect(secondItem.getText()).toContain("Item 198");
            });
        });
        describe("selector related", () => {
            it("selects all items on a current page when selector option 'all' is used", () => {
                // check initial state
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(smartListView.getCheckbox(i).isChecked()).toBe(false);
                }
                smartPager.pageLinkClick(2);
                expect(smartListView.getCheckbox(0).isChecked()).toBe(false);
                smartPager.pageLinkClick(1);
                // click
                smartSelector.clickOnDropdownItem(0);
                // verify changes
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(smartListView.getCheckbox(i).isChecked()).toBe(true);
                }
                smartPager.pageLinkClick(2);
                expect(smartListView.getCheckbox(0).isChecked()).toBe(false);
            });
            it("un-selects all items on all pages when selector option 'none' is used", () => {
                // check initial state
                smartListView.selectCheckbox(0);
                expect(smartListView.getCheckbox(0).isChecked()).toBe(true);
                smartPager.pageLinkClick(2);
                smartListView.selectCheckbox(0);
                expect(smartListView.getCheckbox(0).isChecked()).toBe(true);
                // click
                smartSelector.clickOnDropdownItem(1);
                // verify changes
                expect(smartListView.getCheckbox(0).isChecked()).toBe(false);
                smartPager.pageLinkClick(1);
                expect(smartListView.getCheckbox(0).isChecked()).toBe(false);
            });
            it("selects all items across all pages when selector option 'all pages' is used", () => {
                // click
                smartSelector.clickOnDropdownItem(2);
                // verify state
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(smartListView.getCheckbox(i).isChecked()).toBe(true);
                }
                smartPager.pageLinkClick(2);
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(smartListView.getCheckbox(i).isChecked()).toBe(true);
                }
            });
            it("has selector in indeterminate state when some items are selected", () => {
                // initialization
                expect(smartSelector.isChecked()).toBe(false);
                expect(smartSelector.isIndeterminate()).toBe(false);
                // select an item
                smartListView.selectCheckbox(0);
                // verify smartSelector state
                expect(smartSelector.isChecked()).toBe(true);
                expect(smartSelector.isIndeterminate()).toBe(true);
            });
            it("has selector in checked state when all items are selected", () => {
                // initialization
                expect(smartSelector.isChecked()).toBe(false);
                expect(smartSelector.isIndeterminate()).toBe(false);
                // select an item
                for (let i = 0; i < defaultPageSize; i++) {
                    smartListView.selectCheckbox(i);
                }
                // verify smartSelector state
                expect(smartSelector.isChecked()).toBe(true);
                expect(smartSelector.isIndeterminate()).toBe(false);
            });
            it("selects all items when click on selector in unchecked state", () => {
                // initialization
                expect(smartSelector.isChecked()).toBe(false);
                expect(smartSelector.isIndeterminate()).toBe(false);
                // select an item
                smartSelector.getCheckboxButton().click();
                // verify smartSelector state
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(smartListView.getCheckbox(i).isChecked()).toBe(true);
                }
                expect(smartSelector.isChecked()).toBe(true);
                expect(smartSelector.isIndeterminate()).toBe(false);
                smartPager.pageLinkClick(2);
                expect(smartListView.getCheckbox(0).isChecked()).toBe(false);
            });
            it("selects all items when click on selector in indeterminate state", () => {
                // initialization
                smartListView.selectCheckbox(0);
                expect(smartSelector.isChecked()).toBe(true);
                expect(smartSelector.isIndeterminate()).toBe(true);
                // select an item
                smartSelector.getCheckboxButton().click();
                // verify smartSelector state
                for (let i = 0; i < defaultPageSize; i++) {
                    expect(smartListView.getCheckbox(i).isChecked()).toBe(true);
                }
                expect(smartSelector.isChecked()).toBe(true);
                expect(smartSelector.isIndeterminate()).toBe(false);
                smartPager.pageLinkClick(2);
                expect(smartListView.getCheckbox(0).isChecked()).toBe(false);
            });
        });
        describe("search functionalities should work as ", () => {
            it("grid should search just after changes on search text", () => {
                searchOnChangeSwitch.slider().click();
                smartGrid.writeIntoSearch("020");
                let list = smartGrid.getListView().getItems();
                expect(list.count()).toBe(1);
            });
            it("grid should search on search click", () => {
                smartGrid.writeIntoSearch("020");
                smartGrid.clickSearchButton();
                let list = smartGrid.getListView().getItems();
                expect(list.count()).toBe(1);
            });
            it("grid should react on clearing search", () => {
                smartGrid.writeIntoSearch("xxxx");
                smartGrid.clickSearchButton();
                let list = smartGrid.getListView().getItems();
                expect(list.count()).toBe(0);
                smartGrid.clickSearchClearButton();
                let list2 = smartGrid.getListView().getItems();
                expect(list2.count()).toBeGreaterThan(0);
            });
            it("pager should react on search execution", () => {
                // UIF-2579 Pager is not update when selected page has been reset
                smartGrid.writeIntoSearch("ite");
                smartGrid.clickSearchButton();
                smartPager.pageLinkClick(2);
                expect(smartPager.activePage()).toBe(2);
                smartGrid.writeIntoSearch("m");
                smartGrid.clickSearchButton();
                expect(smartPager.activePage()).toBe(1);
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvZ3JpZC9ncmlkLmUyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDJEQUFnRTtBQUNoRSx3Q0FBaUM7QUFDakMsOENBQW1IO0FBQ25ILHlDQUFxQztBQUVyQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO0lBQ2hDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRSxFQUFFO1FBQ3JCLElBQUksSUFBYyxDQUFDO1FBQ25CLElBQUksS0FBZ0IsQ0FBQztRQUNyQixJQUFJLFFBQXNCLENBQUM7UUFDM0IsSUFBSSxPQUFvQixDQUFDO1FBQ3pCLElBQUksTUFBa0IsQ0FBQztRQUN2QixJQUFJLFFBQXNCLENBQUM7UUFDM0IsSUFBSSxlQUF1QixDQUFDO1FBRTVCLFVBQVUsQ0FBQyxDQUFDLElBQVEsRUFBQyxFQUFFO1lBQ25CLGlCQUFPLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRS9CLElBQUksR0FBRyxVQUFJLENBQUMsTUFBTSxDQUFDLHFCQUFRLEVBQUUsb0JBQU8sQ0FBQyxlQUFFLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxRCxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzlCLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDNUIsTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUMxQixRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzlCLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLHFCQUFxQixFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsbUJBQW1CLEVBQUUsRUFBRTtnQkFDakUsZUFBZSxHQUFHLEVBQUUsQ0FBQztnQkFDckIsSUFBSSxFQUFFLENBQUM7WUFDWCxDQUFDLENBQUMsQ0FBQztRQUNQLENB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QUFDLGlCQUFpQixFQUFFLENBQUM7Z0JBQzlCLE1BQU0sQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUMsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQyxDQUFDO0FBRVAsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoiY29tcG9uZW50cy9ncmlkL2dyaWQuZTJlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtieSwgZWxlbWVudCwgcHJvbWlzZX0gZnJvbSBcIkBzb2xhcndpbmRzL3V6aS9wcm90cmFjdG9yXCI7XG5pbXBvcnQgSGVscGVycyBmcm9tIFwiLi4vaGVscGVyc1wiO1xuaW1wb3J0IHtHcmlkQXRvbSwgTGlzdFZpZXdBdG9tLCBQYWdlckF0b20sIFNlbGVjdG9yQXRvbSwgU29ydGVyQXRvbSwgU3dpdGNoQXRvbSwgVG9vbGJhckF0b219IGZyb20gXCIuLi9pbmRleC5hdG9tXCI7XG5pbXBvcnQge0F0b219IGZyb20gXCJAc29sYXJ3aW5kcy91emlcIjtcblxuZGVzY3JpYmUoXCJVU0VSQ09OVFJPTCBHcmlkID5cIiwgKCkgPT4ge1xuICAgIGRlc2NyaWJlKFwic2ltcGxlID5cIiwgKCk9PiB7XG4gICAgICAgIGxldCBncmlkOiBHcmlkQXRvbTtcbiAgICAgICAgbGV0IHBhZ2VyOiBQYWdlckF0b207XG4gICAgICAgIGxldCBsaXN0VmlldzogTGlzdFZpZXdBdG9tO1xuICAgICAgICBsZXQgdG9vbGJhcjogVG9vbGJhckF0b207XG4gICAgICAgIGxldCBzb3J0ZXI6IFNvcnRlckF0b207XG4gICAgICAgIGxldCBzZWxlY3RvcjogU2VsZWN0b3JBdG9tO1xuICAgICAgICBsZXQgZGVmYXVsdFBhZ2VTaXplOiBudW1iZXI7XG5cbiAgICAgICAgYmVmb3JlRWFjaCgoZG9uZTphbnkpPT4ge1xuICAgICAgICAgICAgSGVscGVycy5wcmVwYXJlQnJvd3NlcihcImdyaWRcIik7XG5cbiAgICAgICAgICAgIGdyaWQgPSBBdG9tLmZpbmRJbihHcmlkQXRvbSwgZWxlbWVudChieS5pZChcImdyaWQtcGFnZVwiKSkpO1xuICAgICAgICAgICAgbGlzdFZpZXcgPSBncmlkLmdldExpc3RWaWV3KCk7XG4gICAgICAgICAgICB0b29sYmFyID0gZ3JpZC5nZXRUb29sYmFyKCk7XG4gICAgICAgICAgICBzb3J0ZXIgPSBncmlkLmdldFNvcnRlcigpO1xuICAgICAgICAgICAgc2VsZWN0b3IgPSBncmlkLmdldFNlbGVjdG9yKCk7XG4gICAgICAgICAgICBwYWdlciA9IGdyaWQuZ2V0UGFnZXIoKTtcbiAgICAgICAgICAgIGdyaWQuZ2V0UGFnZXIoKS5pdGVtc1BlclBhZ2VTZWxlY3Rpb24oKS50aGVuKChkZWZhdWx0UGFnZVNpemVUZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFBhZ2VTaXplID0gMTA7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvd3MgbGlzdCBvZiBpdGVtc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QobGlzdFZpZXcuZ2V0SXRlbXMoKS5jb3VudCgpKS50b0JlKDEwKTtcbiAgICAgICAgICAgIGV4cGVjdChsaXN0Vmlldy5nZXRJdGVtKDUpLmdldFRleHQoKSkudG9Db250YWluKFwiSXRlbSAwMDVcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvd3MgdG9vbGJhciBpZiBpdCBpcyBkZWZpbmVkXCIsICgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdCh0b29sYmFyLmlzVmlzaWJsZSgpKS50b0JlKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3dzIGNvcnJlY3QgdG90YWwgaXRlbXMgb24gcGFnZXJcIiwgKCk9PiB7XG4gICAgICAgICAgICBleHBlY3QoZ3JpZC5nZXRQYWdlcigpLml0ZW1Db3VudFRleHQoKSkudG9CZShcIjIwMFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzdXBwb3J0cyBjaGFuZ2luZyBwYWdlXCIsICgpPT4ge1xuICAgICAgICAgICAgcGFnZXIucGFnZUxpbmtDbGljaygyKTtcbiAgICAgICAgICAgIGV4cGVjdChsaXN0Vmlldy5nZXRJdGVtKDApLmdldFRleHQoKSkudG9Db250YWluKFwiSXRlbSAwMTBcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvd3MgY29ycmVjdCBpdGVtcyBpbiBncmlkIGFjY29yZGluZyB0byBwYWdlclwiLCAoKT0+IHtcbiAgICAgICAgICAgIGV4cGVjdChncmlkLmdldFBhZ2VyKCkuaXRlbXNQZXJQYWdlU2VsZWN0aW9uKCkpLnRvQmUoXCIxMFwiKTtcblxuICAgICAgICAgICAgcGFnZXIuc2V0SXRlbXNQZXJQYWdlKDI1KTtcblxuICAgICAgICAgICAgZXhwZWN0KGdyaWQuZ2V0TGlzdFZpZXcoKS5nZXRJdGVtcygpLmNvdW50KCkpLnRvQmUoMjUpO1xuICAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoXCJwYWdpbmF0aW9uLXBhZ2VcIikpLmdldFRleHQoKSkudG9CZShcIjFcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwiYWxsb3dzIHNlbGVjdGlvbiBvZiBpdGVtcyBhY3Jvc3MgcGFnZXNcIiwgKCk9PiB7XG4gICAgICAgICAgICAvLyBpbml0aWFsbHkgdGhlIGZpcnN0IGNoZWNrYm94IGlzbid0IGNoZWNrZWRcbiAgICAgICAgICAgIGV4cGVjdChsaXN0Vmlldy5nZXRDaGVja2JveCgwKS5pc0NoZWNrZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICAvLyBjaGVjayBpdFxuICAgICAgICAgICAgbGlzdFZpZXcuc2VsZWN0Q2hlY2tib3goMCk7XG4gICAgICAgICAgICBleHBlY3QobGlzdFZpZXcuZ2V0Q2hlY2tib3goMCkuaXNDaGVja2VkKCkpLnRvQmUodHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIHN3aXRjaCB0byBuZXh0IHBhZ2UgYW5kIGV4cGVjdCB0aGF0IHRoZSBjaGVja2JveCBpc24ndCBjaGVja2VkIGFueW1vcmVcbiAgICAgICAgICAgIHBhZ2VyLnBhZ2VMaW5rQ2xpY2soMik7XG4gICAgICAgICAgICBleHBlY3QobGlzdFZpZXcuZ2V0Q2hlY2tib3goMCkuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuXG4gICAgICAgICAgICAvLyBnbyBiYWNrIHRvIG9yaWdpbmFsIHBhZ2UgKDNyZCBwYWdlIGlzIGNob3NlbiBpbml0aWFsbHkpIGFuZCB0aGUgY2hlY2tib3ggc2hvdWxkIGJlIGNoZWNrZWQgYWdhaW5cbiAgICAgICAgICAgIHBhZ2VyLnBhZ2VMaW5rQ2xpY2soMSk7XG4gICAgICAgICAgICBleHBlY3QobGlzdFZpZXcuZ2V0Q2hlY2tib3goMCkuaXNDaGVja2VkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvd3Mgc2VsZWN0aW9uIHRpdGxlIHdoZW4gc29tZSBpdGVtIGlzIHNlbGVjdGVkXCIsICgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChncmlkLmdldFNlbGVjdGlvblRpdGxlRWxlbWVudCgpLmlzUHJlc2VudCgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIGV4cGVjdChsaXN0Vmlldy5nZXRDaGVja2JveCgwKS5pc0NoZWNrZWQoKSkudG9CZShmYWxzZSk7XG5cbiAgICAgICAgICAgIGdyaWQuZ2V0TGlzdFZpZXcoKS5zZWxlY3RDaGVja2JveCgwKTtcblxuICAgICAgICAgICAgZXhwZWN0KGdyaWQuZ2V0U2VsZWN0aW9uVGl0bGVFbGVtZW50KCkuaXNEaXNwbGF5ZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzb3J0cyBsaXN0dmlldyBwcm9wZXJseSB3aGVuIHNvcnRlciBjb21wb25lbnQgaXMgdXNlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEl0ZW0gPSBsaXN0Vmlldy5nZXRJdGVtKDApO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kSXRlbSA9IGxpc3RWaWV3LmdldEl0ZW0oMSk7XG4gICAgICAgICAgICBleHBlY3QoZmlyc3RJdGVtLmdldFRleHQoKSkudG9Db250YWluKFwiSXRlbSAwMDBcIik7XG4gICAgICAgICAgICBleHBlY3Qoc2Vjb25kSXRlbS5nZXRUZXh0KCkpLnRvQ29udGFpbihcIkl0ZW0gMDAxXCIpO1xuXG4gICAgICAgICAgICBzb3J0ZXIuY2xpY2tTb3J0VG9nZ2xlKCk7XG5cbiAgICAgICAgICAgIGV4cGVjdChmaXJzdEl0ZW0uZ2V0VGV4dCgpKS50b0NvbnRhaW4oXCJJdGVtIDAwOVwiKTtcbiAgICAgICAgICAgIGV4cGVjdChzZWNvbmRJdGVtLmdldFRleHQoKSkudG9Db250YWluKFwiSXRlbSAwMDhcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRlc2NyaWJlKFwic2VsZWN0b3IgcmVsYXRlZFwiLCAoKT0+IHtcbiAgICAgICAgICAgIGl0KFwic2VsZWN0cyBhbGwgaXRlbXMgb24gYSBjdXJyZW50IHBhZ2Ugd2hlbiBzZWxlY3RvciBvcHRpb24gJ2FsbCcgaXMgdXNlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaW5pdGlhbCBzdGF0ZVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmYXVsdFBhZ2VTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGxpc3RWaWV3LmdldENoZWNrYm94KGkpLmlzQ2hlY2tlZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFnZXIucGFnZUxpbmtDbGljaygyKTtcbiAgICAgICAgICAgICAgICBleHBlY3QobGlzdFZpZXcuZ2V0Q2hlY2tib3goMCkuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHBhZ2VyLnBhZ2VMaW5rQ2xpY2soMSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjbGljayBvbiAnYWxsJyBvcHRpb25cbiAgICAgICAgICAgICAgICBzZWxlY3Rvci5jbGlja09uRHJvcGRvd25JdGVtKDApO1xuXG4gICAgICAgICAgICAgICAgLy8gdmVyaWZ5IGNoYW5nZXNcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZmF1bHRQYWdlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChsaXN0Vmlldy5nZXRDaGVja2JveChpKS5pc0NoZWNrZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFnZXIucGFnZUxpbmtDbGljaygyKTtcbiAgICAgICAgICAgICAgICBleHBlY3QobGlzdFZpZXcuZ2V0Q2hlY2tib3goMCkuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KFwidW4tc2VsZWN0cyBhbGwgaXRlbXMgb24gYWxsIHBhZ2VzIHdoZW4gc2VsZWN0b3Igb3B0aW9uICdub25lJyBpcyB1c2VkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpbml0aWFsIHN0YXRlXG4gICAgICAgICAgICAgICAgbGlzdFZpZXcuc2VsZWN0Q2hlY2tib3goMCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGxpc3RWaWV3LmdldENoZWNrYm94KDApLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIHBhZ2VyLnBhZ2VMaW5rQ2xpY2soMik7XG4gICAgICAgICAgICAgICAgbGlzdFZpZXcuc2VsZWN0Q2hlY2tib3goMCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGxpc3RWaWV3LmdldENoZWNrYm94KDApLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gY2xpY2sgb24gJ25vbmUnIG9wdGlvblxuICAgICAgICAgICAgICAgIHNlbGVjdG9yLmNsaWNrT25Ecm9wZG93bkl0ZW0oMSk7XG5cbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgY2hhbmdlc1xuICAgICAgICAgICAgICAgIGV4cGVjdChsaXN0Vmlldy5nZXRDaGVja2JveCgwKS5pc0NoZWNrZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcGFnZXIucGFnZUxpbmtDbGljaygxKTtcbiAgICAgICAgICAgICAgICBleHBlY3QobGlzdFZpZXcuZ2V0Q2hlY2tib3goMCkuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KFwic2VsZWN0cyBhbGwgaXRlbXMgYWNyb3NzIGFsbCBwYWdlcyB3aGVuIHNlbGVjdG9yIG9wdGlvbiAnYWxsIHBhZ2VzJyBpcyB1c2VkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjbGljayBvbiAnYWxsIHBhZ2VzJyBvcHRpb25cbiAgICAgICAgICAgICAgICBzZWxlY3Rvci5jbGlja09uRHJvcGRvd25JdGVtKDIpO1xuXG4gICAgICAgICAgICAgICAgLy8gdmVyaWZ5IHN0YXRlXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZhdWx0UGFnZVNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QobGlzdFZpZXcuZ2V0Q2hlY2tib3goaSkuaXNDaGVja2VkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhZ2VyLnBhZ2VMaW5rQ2xpY2soMik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZhdWx0UGFnZVNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QobGlzdFZpZXcuZ2V0Q2hlY2tib3goaSkuaXNDaGVja2VkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KFwiaGFzIHNlbGVjdG9yIGluIGluZGV0ZXJtaW5hdGUgc3RhdGUgd2hlbiBzb21lIGl0ZW1zIGFyZSBzZWxlY3RlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6YXRpb25cbiAgICAgICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3IuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzZWxlY3Rvci5pc0luZGV0ZXJtaW5hdGUoKSkudG9CZShmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZWxlY3QgYW4gaXRlbVxuICAgICAgICAgICAgICAgIGxpc3RWaWV3LnNlbGVjdENoZWNrYm94KDApO1xuXG4gICAgICAgICAgICAgICAgLy8gdmVyaWZ5IHNlbGVjdG9yIHN0YXRlXG4gICAgICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9yLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzZWxlY3Rvci5pc0luZGV0ZXJtaW5hdGUoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcImhhcyBzZWxlY3RvciBpbiBjaGVja2VkIHN0YXRlIHdoZW4gYWxsIGl0ZW1zIGFyZSBzZWxlY3RlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6YXRpb25cbiAgICAgICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3IuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzZWxlY3Rvci5pc0luZGV0ZXJtaW5hdGUoKSkudG9CZShmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZWxlY3QgYW4gaXRlbVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmYXVsdFBhZ2VTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdFZpZXcuc2VsZWN0Q2hlY2tib3goaSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdmVyaWZ5IHNlbGVjdG9yIHN0YXRlXG4gICAgICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9yLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzZWxlY3Rvci5pc0luZGV0ZXJtaW5hdGUoKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaXQoXCJzZWxlY3RzIGFsbCBpdGVtcyB3aGVuIGNsaWNrIG9uIHNlbGVjdG9yIGluIHVuY2hlY2tlZCBzdGF0ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6YXRpb25cbiAgICAgICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3IuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzZWxlY3Rvci5pc0luZGV0ZXJtaW5hdGUoKSkudG9CZShmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZWxlY3QgYW4gaXRlbVxuICAgICAgICAgICAgICAgIHNlbGVjdG9yLmdldENoZWNrYm94QnV0dG9uKCkuY2xpY2soKTtcblxuICAgICAgICAgICAgICAgIC8vIHZlcmlmeSBzZWxlY3RvciBzdGF0ZVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmYXVsdFBhZ2VTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGxpc3RWaWV3LmdldENoZWNrYm94KGkpLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3IuaXNDaGVja2VkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9yLmlzSW5kZXRlcm1pbmF0ZSgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBwYWdlci5wYWdlTGlua0NsaWNrKDIpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChsaXN0Vmlldy5nZXRDaGVja2JveCgwKS5pc0NoZWNrZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaXQoXCJzZWxlY3RzIGFsbCBpdGVtcyB3aGVuIGNsaWNrIG9uIHNlbGVjdG9yIGluIGluZGV0ZXJtaW5hdGUgc3RhdGVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemF0aW9uXG4gICAgICAgICAgICAgICAgbGlzdFZpZXcuc2VsZWN0Q2hlY2tib3goMCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9yLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzZWxlY3Rvci5pc0luZGV0ZXJtaW5hdGUoKSkudG9CZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgIC8vIHNlbGVjdCBhbiBpdGVtXG4gICAgICAgICAgICAgICAgc2VsZWN0b3IuZ2V0Q2hlY2tib3hCdXR0b24oKS5jbGljaygpO1xuXG4gICAgICAgICAgICAgICAgLy8gdmVyaWZ5IHNlbGVjdG9yIHN0YXRlXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZhdWx0UGFnZVNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QobGlzdFZpZXcuZ2V0Q2hlY2tib3goaSkuaXNDaGVja2VkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV4cGVjdChzZWxlY3Rvci5pc0NoZWNrZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3IuaXNJbmRldGVybWluYXRlKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHBhZ2VyLnBhZ2VMaW5rQ2xpY2soMik7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGxpc3RWaWV3LmdldENoZWNrYm94KDApLmlzQ2hlY2tlZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcInVuLXNlbGVjdHMgYWxsIGl0ZW1zIHdoZW4gY2xpY2sgb24gc2VsZWN0b3IgaW4gY2hlY2tlZCBzdGF0ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6YXRpb25cbiAgICAgICAgICAgICAgICBzZWxlY3Rvci5jbGlja09uRHJvcGRvd25JdGVtKDIpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzZWxlY3Rvci5pc0NoZWNrZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3IuaXNJbmRldGVybWluYXRlKCkpLnRvQmUoZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgLy8gc2VsZWN0IGFuIGl0ZW1cbiAgICAgICAgICAgICAgICBzZWxlY3Rvci5nZXRDaGVja2JveEJ1dHRvbigpLmNsaWNrKCk7XG5cbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgc2VsZWN0b3Igc3RhdGVcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZmF1bHRQYWdlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChsaXN0Vmlldy5nZXRDaGVja2JveChpKS5pc0NoZWNrZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV4cGVjdChzZWxlY3Rvci5pc0NoZWNrZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9yLmlzSW5kZXRlcm1pbmF0ZSgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBwYWdlci5wYWdlTGlua0NsaWNrKDIpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChsaXN0Vmlldy5nZXRDaGVja2JveCgwKS5pc0NoZWNrZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVzY3JpYmUoXCJzZWFyY2ggZnVuY3Rpb25hbGl0aWVzIHNob3VsZCB3b3JrIGFzIFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpdChcImdyaWQgc2hvdWxkIHJlYWN0IG9uIGtleWlucHV0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBncmlkLndyaXRlSW50b1NlYXJjaChcIjAyMFwiKTtcbiAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IGdyaWQuZ2V0TGlzdFZpZXcoKS5nZXRJdGVtcygpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChsaXN0LmNvdW50KCkpLnRvQmUoMSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaXQoXCJncmlkIHNob3VsZCByZWFjdCBvbiBjbGVhcmluZyBzZWFyY2hcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGdyaWQud3JpdGVJbnRvU2VhcmNoKFwieHh4eFwiKTtcbiAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IGdyaWQuZ2V0TGlzdFZpZXcoKS5nZXRJdGVtcygpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChsaXN0LmNvdW50KCkpLnRvQmUoMCk7XG5cbiAgICAgICAgICAgICAgICBncmlkLmNsaWNrU2VhcmNoQ2xlYXJCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBsZXQgbGlzdDIgPSBncmlkLmdldExpc3RWaWV3KCkuZ2V0SXRlbXMoKTtcbiAgICAgICAgICAgICAgICBleHBlY3QobGlzdDIuY291bnQoKSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KFwicGFnZXIgc2hvdWxkIHJlYWN0IG9uIHNlYXJjaCBleGVjdXRpb25cIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFVJRi0yNTc5IFBhZ2VyIGlzIG5vdCB1cGRhdGUgd2hlbiBzZWxlY3RlZCBwYWdlIGhhcyBiZWVuIHJlc2V0XG4gICAgICAgICAgICAgICAgZ3JpZC53cml0ZUludG9TZWFyY2goXCJpdGVcIik7XG4gICAgICAgICAgICAgICAgcGFnZXIucGFnZUxpbmtDbGljaygyKTtcbiAgICAgICAgICAgICAgICBleHBlY3QocGFnZXIuYWN0aXZlUGFnZSgpKS50b0JlKDIpO1xuXG4gICAgICAgICAgICAgICAgZ3JpZC53cml0ZUludG9TZWFyY2goXCJtXCIpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChwYWdlci5hY3RpdmVQYWdlKCkpLnRvQmUoMSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaXQoXCJjYWxsaW5nIGNsaWNrU2VhcmNoQ2xlYXJCdXR0b24gc2hvdWxkIG5vdCBmYWlsIGlmIHNlYXJjaCBhbHJlYWR5IGNsZWFyZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFVJRi01MDcwIC0gR3JpZEF0b20gc2VhcmNoIG1ldGhvZHMgbm90IHVzZWFibGUgaW4gcHJvZHVjdGlvbiB0ZXN0c1xuICAgICAgICAgICAgICAgIGdyaWQud3JpdGVJbnRvU2VhcmNoKFwieHh4eFwiKTtcbiAgICAgICAgICAgICAgICBncmlkLmNsaWNrU2VhcmNoQ2xlYXJCdXR0b25JZlByZXNlbnQoKTtcbiAgICAgICAgICAgICAgICBncmlkLmNsaWNrU2VhcmNoQ2xlYXJCdXR0b25JZlByZXNlbnQoKTtcbiAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IGdyaWQuZ2V0TGlzdFZpZXcoKS5nZXRJdGVtcygpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChsaXN0LmNvdW50KCkpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwic21hcnQgPlwiLCAoKT0+IHtcbiAgICAgICAgbGV0IHNtYXJ0R3JpZDogR3JpZEF0b207XG4gICAgICAgIGxldCBzbWFydFBhZ2VyOiBQYWdlckF0b207XG4gICAgICAgIGxldCBzbWFydExpc3RWaWV3OiBMaXN0Vmlld0F0b207XG4gICAgICAgIGxldCBzbWFydFNvcnRlcjogU29ydGVyQXRvbTtcbiAgICAgICAgbGV0IHNtYXJ0U2VsZWN0b3I6IFNlbGVjdG9yQXRvbTtcbiAgICAgICAgbGV0IGRlZmF1bHRQYWdlU2l6ZTogbnVtYmVyO1xuICAgICAgICBsZXQgc2VhcmNoT25DaGFuZ2VTd2l0Y2g6IFN3aXRjaEF0b207XG5cbiAgICAgICAgYmVmb3JlRWFjaCgoZG9uZTphbnkpPT4ge1xuICAgICAgICAgICAgSGVscGVycy5wcmVwYXJlQnJvd3NlcihcImdyaWQtc21hcnRcIik7XG5cbiAgICAgICAgICAgIHNtYXJ0R3JpZCA9IEF0b20uZmluZEluKEdyaWRBdG9tLCBlbGVtZW50KGJ5LmlkKFwiZ3JpZC1zbWFydC1wYWdlXCIpKSk7XG4gICAgICAgICAgICBzbWFydFBhZ2VyID0gc21hcnRHcmlkLmdldFBhZ2VyKCk7XG4gICAgICAgICAgICBzbWFydExpc3RWaWV3ID0gc21hcnRHcmlkLmdldExpc3RWaWV3KCk7XG4gICAgICAgICAgICBzbWFydFNvcnRlciA9IHNtYXJ0R3JpZC5nZXRTb3J0ZXIoKTtcbiAgICAgICAgICAgIHNtYXJ0U2VsZWN0b3IgPSBzbWFydEdyaWQuZ2V0U2VsZWN0b3IoKTtcbiAgICAgICAgICAgIHNtYXJ0R3JpZC5nZXRQYWdlcigpLml0ZW1zUGVyUGFnZVNlbGVjdGlvbigpLnRoZW4oKGRlZmF1bHRQYWdlU2l6ZVRleHQpID0+IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0UGFnZVNpemUgPSBwYXJzZUludChkZWZhdWx0UGFnZVNpemVUZXh0LCAxMCk7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZWFyY2hPbkNoYW5nZVN3aXRjaCA9IEF0b20uZmluZEluKFN3aXRjaEF0b20sIGVsZW1lbnQoYnkuaWQoXCJncmlkLXNtYXJ0LXBhZ2VcIikpLCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG93cyBjb3JyZWN0IGl0ZW1zIGluIGdyaWQgYWNjb3JkaW5nIHRvIHBhZ2VyXCIsICgpPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHNtYXJ0UGFnZXIuaXRlbXNQZXJQYWdlU2VsZWN0aW9uKCkpLnRvQmUoXCIxMFwiKTtcblxuICAgICAgICAgICAgc21hcnRQYWdlci5zZXRJdGVtc1BlclBhZ2UoMjUpO1xuXG4gICAgICAgICAgICBleHBlY3Qoc21hcnRMaXN0Vmlldy5nZXRJdGVtcygpLmNvdW50KCkpLnRvQmUoMjUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInN1cHBvcnRzIGNoYW5naW5nIHBhZ2VcIiwgKCk9PiB7XG4gICAgICAgICAgICBzbWFydFBhZ2VyLnBhZ2VMaW5rQ2xpY2soMik7XG5cbiAgICAgICAgICAgIGV4cGVjdChzbWFydExpc3RWaWV3LmdldEl0ZW0oMCkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oXCJJdGVtIDAxMFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJhbGxvd3Mgc2VsZWN0aW9uIG9mIGl0ZW1zIGFjcm9zcyBwYWdlc1wiLCAoKT0+IHtcbiAgICAgICAgICAgIC8vIGluaXRpYWxseSB0aGUgZmlyc3QgY2hlY2tib3ggaXNuJ3QgY2hlY2tlZFxuICAgICAgICAgICAgZXhwZWN0KHNtYXJ0TGlzdFZpZXcuZ2V0Q2hlY2tib3goMCkuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgLy8gY2hlY2sgaXRcbiAgICAgICAgICAgIHNtYXJ0TGlzdFZpZXcuc2VsZWN0Q2hlY2tib3goMCk7XG4gICAgICAgICAgICBleHBlY3Qoc21hcnRMaXN0Vmlldy5nZXRDaGVja2JveCgwKS5pc0NoZWNrZWQoKSkudG9CZSh0cnVlKTtcblxuICAgICAgICAgICAgLy8gc3dpdGNoIHRvIG5leHQgcGFnZSBhbmQgZXhwZWN0IHRoYXQgdGhlIGNoZWNrYm94IGlzbid0IGNoZWNrZWQgYW55bW9yZVxuICAgICAgICAgICAgc21hcnRQYWdlci5wYWdlTGlua0NsaWNrKDIpO1xuICAgICAgICAgICAgZXhwZWN0KHNtYXJ0TGlzdFZpZXcuZ2V0Q2hlY2tib3goMCkuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuXG4gICAgICAgICAgICAvLyBnbyBiYWNrIHRvIG9yaWdpbmFsIHBhZ2UgKDNyZCBwYWdlIGlzIGNob3NlbiBpbml0aWFsbHkpIGFuZCB0aGUgY2hlY2tib3ggc2hvdWxkIGJlIGNoZWNrZWQgYWdhaW5cbiAgICAgICAgICAgIHNtYXJ0UGFnZXIucGFnZUxpbmtDbGljaygxKTtcbiAgICAgICAgICAgIGV4cGVjdChzbWFydExpc3RWaWV3LmdldENoZWNrYm94KDApLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkZXNjcmliZShcIndoZW4gc29ydGVyIGNvbXBvbmVudCBpcyB1c2VkXCIsICgpPT4ge1xuICAgICAgICAgICAgaXQoXCJzb3J0cyBsaXN0VmlldyBwcm9wZXJseVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RJdGVtID0gc21hcnRMaXN0Vmlldy5nZXRJdGVtKDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZEl0ZW0gPSBzbWFydExpc3RWaWV3LmdldEl0ZW0oMSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGZpcnN0SXRlbS5nZXRUZXh0KCkpLnRvQ29udGFpbihcIkl0ZW0gMDAwXCIpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzZWNvbmRJdGVtLmdldFRleHQoKSkudG9Db250YWluKFwiSXRlbSAwMDFcIik7XG5cbiAgICAgICAgICAgICAgICBzbWFydFNvcnRlci5jbGlja1NvcnRUb2dnbGUoKTtcblxuICAgICAgICAgICAgICAgIGV4cGVjdChmaXJzdEl0ZW0uZ2V0VGV4dCgpKS50b0NvbnRhaW4oXCJJdGVtIDE5OVwiKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2Vjb25kSXRlbS5nZXRUZXh0KCkpLnRvQ29udGFpbihcIkl0ZW0gMTk4XCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRlc2NyaWJlKFwic2VsZWN0b3IgcmVsYXRlZFwiLCAoKT0+IHtcbiAgICAgICAgICAgIGl0KFwic2VsZWN0cyBhbGwgaXRlbXMgb24gYSBjdXJyZW50IHBhZ2Ugd2hlbiBzZWxlY3RvciBvcHRpb24gJ2FsbCcgaXMgdXNlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaW5pdGlhbCBzdGF0ZVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmYXVsdFBhZ2VTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHNtYXJ0TGlzdFZpZXcuZ2V0Q2hlY2tib3goaSkuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzbWFydFBhZ2VyLnBhZ2VMaW5rQ2xpY2soMik7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNtYXJ0TGlzdFZpZXcuZ2V0Q2hlY2tib3goMCkuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNtYXJ0UGFnZXIucGFnZUxpbmtDbGljaygxKTtcblxuICAgICAgICAgICAgICAgIC8vIGNsaWNrXG4gICAgICAgICAgICAgICAgc21hcnRTZWxlY3Rvci5jbGlja09uRHJvcGRvd25JdGVtKDApO1xuXG4gICAgICAgICAgICAgICAgLy8gdmVyaWZ5IGNoYW5nZXNcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZmF1bHRQYWdlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydExpc3RWaWV3LmdldENoZWNrYm94KGkpLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzbWFydFBhZ2VyLnBhZ2VMaW5rQ2xpY2soMik7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNtYXJ0TGlzdFZpZXcuZ2V0Q2hlY2tib3goMCkuaXNDaGVja2VkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KFwidW4tc2VsZWN0cyBhbGwgaXRlbXMgb24gYWxsIHBhZ2VzIHdoZW4gc2VsZWN0b3Igb3B0aW9uICdub25lJyBpcyB1c2VkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpbml0aWFsIHN0YXRlXG4gICAgICAgICAgICAgICAgc21hcnRMaXN0Vmlldy5zZWxlY3RDaGVja2JveCgwKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRMaXN0Vmlldy5nZXRDaGVja2JveCgwKS5pc0NoZWNrZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBzbWFydFBhZ2VyLnBhZ2VMaW5rQ2xpY2soMik7XG4gICAgICAgICAgICAgICAgc21hcnRMaXN0Vmlldy5zZWxlY3RDaGVja2JveCgwKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRMaXN0Vmlldy5nZXRDaGVja2JveCgwKS5pc0NoZWNrZWQoKSkudG9CZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgIC8vIGNsaWNrXG4gICAgICAgICAgICAgICAgc21hcnRTZWxlY3Rvci5jbGlja09uRHJvcGRvd25JdGVtKDEpO1xuXG4gICAgICAgICAgICAgICAgLy8gdmVyaWZ5IGNoYW5nZXNcbiAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRMaXN0Vmlldy5nZXRDaGVja2JveCgwKS5pc0NoZWNrZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgc21hcnRQYWdlci5wYWdlTGlua0NsaWNrKDEpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydExpc3RWaWV3LmdldENoZWNrYm94KDApLmlzQ2hlY2tlZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcInNlbGVjdHMgYWxsIGl0ZW1zIGFjcm9zcyBhbGwgcGFnZXMgd2hlbiBzZWxlY3RvciBvcHRpb24gJ2FsbCBwYWdlcycgaXMgdXNlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY2xpY2tcbiAgICAgICAgICAgICAgICBzbWFydFNlbGVjdG9yLmNsaWNrT25Ecm9wZG93bkl0ZW0oMik7XG5cbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgc3RhdGVcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZmF1bHRQYWdlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydExpc3RWaWV3LmdldENoZWNrYm94KGkpLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzbWFydFBhZ2VyLnBhZ2VMaW5rQ2xpY2soMik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZhdWx0UGFnZVNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRMaXN0Vmlldy5nZXRDaGVja2JveChpKS5pc0NoZWNrZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaXQoXCJoYXMgc2VsZWN0b3IgaW4gaW5kZXRlcm1pbmF0ZSBzdGF0ZSB3aGVuIHNvbWUgaXRlbXMgYXJlIHNlbGVjdGVkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXphdGlvblxuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFNlbGVjdG9yLmlzQ2hlY2tlZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRTZWxlY3Rvci5pc0luZGV0ZXJtaW5hdGUoKSkudG9CZShmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZWxlY3QgYW4gaXRlbVxuICAgICAgICAgICAgICAgIHNtYXJ0TGlzdFZpZXcuc2VsZWN0Q2hlY2tib3goMCk7XG5cbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgc21hcnRTZWxlY3RvciBzdGF0ZVxuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFNlbGVjdG9yLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFNlbGVjdG9yLmlzSW5kZXRlcm1pbmF0ZSgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KFwiaGFzIHNlbGVjdG9yIGluIGNoZWNrZWQgc3RhdGUgd2hlbiBhbGwgaXRlbXMgYXJlIHNlbGVjdGVkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXphdGlvblxuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFNlbGVjdG9yLmlzQ2hlY2tlZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRTZWxlY3Rvci5pc0luZGV0ZXJtaW5hdGUoKSkudG9CZShmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZWxlY3QgYW4gaXRlbVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmYXVsdFBhZ2VTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc21hcnRMaXN0Vmlldy5zZWxlY3RDaGVja2JveChpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgc21hcnRTZWxlY3RvciBzdGF0ZVxuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFNlbGVjdG9yLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFNlbGVjdG9yLmlzSW5kZXRlcm1pbmF0ZSgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcInNlbGVjdHMgYWxsIGl0ZW1zIHdoZW4gY2xpY2sgb24gc2VsZWN0b3IgaW4gdW5jaGVja2VkIHN0YXRlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXphdGlvblxuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFNlbGVjdG9yLmlzQ2hlY2tlZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRTZWxlY3Rvci5pc0luZGV0ZXJtaW5hdGUoKSkudG9CZShmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZWxlY3QgYW4gaXRlbVxuICAgICAgICAgICAgICAgIHNtYXJ0U2VsZWN0b3IuZ2V0Q2hlY2tib3hCdXR0b24oKS5jbGljaygpO1xuXG4gICAgICAgICAgICAgICAgLy8gdmVyaWZ5IHNtYXJ0U2VsZWN0b3Igc3RhdGVcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZmF1bHRQYWdlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydExpc3RWaWV3LmdldENoZWNrYm94KGkpLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRTZWxlY3Rvci5pc0NoZWNrZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRTZWxlY3Rvci5pc0luZGV0ZXJtaW5hdGUoKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgc21hcnRQYWdlci5wYWdlTGlua0NsaWNrKDIpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydExpc3RWaWV3LmdldENoZWNrYm94KDApLmlzQ2hlY2tlZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcInNlbGVjdHMgYWxsIGl0ZW1zIHdoZW4gY2xpY2sgb24gc2VsZWN0b3IgaW4gaW5kZXRlcm1pbmF0ZSBzdGF0ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6YXRpb25cbiAgICAgICAgICAgICAgICBzbWFydExpc3RWaWV3LnNlbGVjdENoZWNrYm94KDApO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFNlbGVjdG9yLmlzQ2hlY2tlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFNlbGVjdG9yLmlzSW5kZXRlcm1pbmF0ZSgpKS50b0JlKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gc2VsZWN0IGFuIGl0ZW1cbiAgICAgICAgICAgICAgICBzbWFydFNlbGVjdG9yLmdldENoZWNrYm94QnV0dG9uKCkuY2xpY2soKTtcblxuICAgICAgICAgICAgICAgIC8vIHZlcmlmeSBzbWFydFNlbGVjdG9yIHN0YXRlXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZhdWx0UGFnZVNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRMaXN0Vmlldy5nZXRDaGVja2JveChpKS5pc0NoZWNrZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNtYXJ0U2VsZWN0b3IuaXNDaGVja2VkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNtYXJ0U2VsZWN0b3IuaXNJbmRldGVybWluYXRlKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNtYXJ0UGFnZXIucGFnZUxpbmtDbGljaygyKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc21hcnRMaXN0Vmlldy5nZXRDaGVja2JveCgwKS5pc0NoZWNrZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVzY3JpYmUoXCJzZWFyY2ggZnVuY3Rpb25hbGl0aWVzIHNob3VsZCB3b3JrIGFzIFwiLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIGl0KFwiZ3JpZCBzaG91bGQgc2VhcmNoIGp1c3QgYWZ0ZXIgY2hhbmdlcyBvbiBzZWFyY2ggdGV4dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VhcmNoT25DaGFuZ2VTd2l0Y2guc2xpZGVyKCkuY2xpY2soKTtcbiAgICAgICAgICAgICAgICBzbWFydEdyaWQud3JpdGVJbnRvU2VhcmNoKFwiMDIwXCIpO1xuICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gc21hcnRHcmlkLmdldExpc3RWaWV3KCkuZ2V0SXRlbXMoKTtcbiAgICAgICAgICAgICAgICBleHBlY3QobGlzdC5jb3VudCgpKS50b0JlKDEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KFwiZ3JpZCBzaG91bGQgc2VhcmNoIG9uIHNlYXJjaCBjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc21hcnRHcmlkLndyaXRlSW50b1NlYXJjaChcIjAyMFwiKTtcbiAgICAgICAgICAgICAgICBzbWFydEdyaWQuY2xpY2tTZWFyY2hCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IHNtYXJ0R3JpZC5nZXRMaXN0VmlldygpLmdldEl0ZW1zKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGxpc3QuY291bnQoKSkudG9CZSgxKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcImdyaWQgc2hvdWxkIHJlYWN0IG9uIGNsZWFyaW5nIHNlYXJjaFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc21hcnRHcmlkLndyaXRlSW50b1NlYXJjaChcInh4eHhcIik7XG4gICAgICAgICAgICAgICAgc21hcnRHcmlkLmNsaWNrU2VhcmNoQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgbGV0IGxpc3QgPSBzbWFydEdyaWQuZ2V0TGlzdFZpZXcoKS5nZXRJdGVtcygpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChsaXN0LmNvdW50KCkpLnRvQmUoMCk7XG5cbiAgICAgICAgICAgICAgICBzbWFydEdyaWQuY2xpY2tTZWFyY2hDbGVhckJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGxldCBsaXN0MiA9IHNtYXJ0R3JpZC5nZXRMaXN0VmlldygpLmdldEl0ZW1zKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGxpc3QyLmNvdW50KCkpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcInBhZ2VyIHNob3VsZCByZWFjdCBvbiBzZWFyY2ggZXhlY3V0aW9uXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBVSUYtMjU3OSBQYWdlciBpcyBub3QgdXBkYXRlIHdoZW4gc2VsZWN0ZWQgcGFnZSBoYXMgYmVlbiByZXNldFxuICAgICAgICAgICAgICAgIHNtYXJ0R3JpZC53cml0ZUludG9TZWFyY2goXCJpdGVcIik7XG4gICAgICAgICAgICAgICAgc21hcnRHcmlkLmNsaWNrU2VhcmNoQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgc21hcnRQYWdlci5wYWdlTGlua0NsaWNrKDIpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFBhZ2VyLmFjdGl2ZVBhZ2UoKSkudG9CZSgyKTtcblxuICAgICAgICAgICAgICAgIHNtYXJ0R3JpZC53cml0ZUludG9TZWFyY2goXCJtXCIpO1xuICAgICAgICAgICAgICAgIHNtYXJ0R3JpZC5jbGlja1NlYXJjaEJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbWFydFBhZ2VyLmFjdGl2ZVBhZ2UoKSkudG9CZSgxKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
