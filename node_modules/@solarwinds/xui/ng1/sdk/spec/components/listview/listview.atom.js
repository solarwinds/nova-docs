"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const protractor_1 = require("@solarwinds/uzi/protractor");
const uzi_1 = require("@solarwinds/uzi");
const index_atom_1 = require("../index.atom");
class ListViewAtom extends uzi_1.Atom {
    constructor() {
        super(...arguments);
        this.getItems = () => {
            return super.getElement().all(protractor_1.by.css("li.list-group-item"));
        };
        this.itemCount = () => {
            return this.getItems().count();
        };
        this.getItem = (idx) => {
            return this.getItems().get(idx);
        };
        this.isItemSelected = (idx) => {
            return this.getItem(idx).getAttribute("class")
                .then((classValue) => {
                return classValue && classValue.indexOf("xui-listitem--selected") >= 0;
            });
        };
        this.selectCheckbox = (idx) => {
            return this.getItem(idx)
                .element(protractor_1.by.className("xui-listview-checkbox"))
                .click();
        };
        this.getCheckbox = (idx) => {
            const checkboxElement = this.getItem(idx).element(protractor_1.by.className("xui-listview-checkbox"));
            return new index_atom_1.CheckboxAtom(checkboxElement);
        };
        this.selectRow = (idx) => {
            return this.getItem(idx)
                .element(protractor_1.by.css(".xui-listitem__content"))
                .click();
        };
        this.isNarrow = () => {
            return uzi_1.Atom.hasClass(this.getItem(0), "xui-listitem--narrow");
        };
        this.isRegular = () => {
            return uzi_1.Atom.hasClass(this.getItem(0), "xui-listitem--regular");
        };
        this.isStriped = () => {
            const items = this.getItems();
            return items.first().getCssValue("background-color").then((lineOneColor) => {
                return items.get(1).getCssValue("background-color").then((lineTwoColor) => {
                    return lineOneColor !== lineTwoColor;
                });
            });
        };
        this.isEmptyTextPresented = () => {
            return super.getElement().element(protractor_1.by.css(".xui-listview__empty .xui-listview__empty--main-message"))
                .isPresent();
        };
        this.getEmptyText = () => {
            return super.getElement().element(protractor_1.by.css(".xui-listview__empty .xui-listview__empty--main-message")).getText();
        };
        this.getHeaderText = (innerCss) => {
            return super.getElement()
                .element(protractor_1.by.css(".xui-listview-header"))
                .element(protractor_1.by.css(innerCss))
                .getText();
        };
        this.getEmptyTemplateText = (innerCss) => {
            return super.getElement()
                .element(protractor_1.by.tagName("ng-include"))
                .element(protractor_1.by.className(innerCss))
                .getText();
        };
        this.getEmptyTemplateColor = (innerCss) => {
            return super.getElement()
                .element(protractor_1.by.tagName("ng-include"))
                .element(protractor_1.by.className(innerCss))
                .getCssValue("color");
        };
    }
}
ListViewAtom.CSS_CLASS = "xui-listview";
exports.ListViewAtom = ListViewAtom;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvbGlzdHZpZXcvbGlzdHZpZXcuYXRvbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDJEQUEwRjtBQUMxRix5Q0FBcUM7QUFDckMsOENBQTJDO0FBRTNDLGtCQUEwQixTQUFRLFVBQUk7SUFBdEM7O1FBR1csYUFBUSxHQUFHLEdBQXVCLEVBQUU7WUFDdkMsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQyxHQUFHLENBQUMsZUFBRSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7UUFDaEUsQ0FBQyxDQUFDO1FBRUssY0FBUyxHQUFHLEdBQTRCLEVBQUU7WUFDN0MsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNuQyxDQUFDLENBQUM7UUFFSyxZQUFPLEdBQUcsQ0FBQyxHQUFXLEVBQWlCLEVBQUU7WUFDNUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDcEMsQ0FBQyxDQUFDO1FBRUssbUJBQWMsR0FBRyxDQUFDLEdBQVcsRUFBNEIsRUFBRTtZQUM5RCxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDO2lCQUN6QyxJQUFJLENBQUMsQ0FBQyxVQUFrQixFQUFFLEVBQUU7Z0JBQ3pCLE1BQU0sQ0FBQyxVQUFVLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMzRSxDQUFDLENBQUMsQ0FBQztRQUNYLENBQUMsQ0FBQztRQUVLLG1CQUFjLEdBQUcsQ0FBQyxHQUFXLEVBQXlCLEVBQUU7WUFDM0QsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO2lCQUNuQixPQUFPLENBQUMsZUFBRSxDQUFDLFNBQVMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFD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LDBCQUFxQixHQUFHLENBQUMsUUFBZ0IsRUFBMkIsRUFBRTtZQUN6RSxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRTtpQkFDcEIsT0FBTyxDQUFDLGVBQUUsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7aUJBQ2pDLE9BQU8sQ0FBQyxlQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUMvQixXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDOUIsQ0FBQyxDQUFDO0lBQ04sQ0FBQzs7QUFwRmlCLHNCQUFTLEdBQUcsY0FBYyxDQUFDO0FBRDdDLG9DQXFGQyIsImZpbGUiOiJjb21wb25lbnRzL2xpc3R2aWV3L2xpc3R2aWV3LmF0b20uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2J5LCBFbGVtZW50QXJyYXlGaW5kZXIsIEVsZW1lbnRGaW5kZXIsIHByb21pc2V9IGZyb20gXCJAc29sYXJ3aW5kcy91emkvcHJvdHJhY3RvclwiO1xuaW1wb3J0IHtBdG9tfSBmcm9tIFwiQHNvbGFyd2luZHMvdXppXCI7XG5pbXBvcnQge0NoZWNrYm94QXRvbX0gZnJvbSBcIi4uL2luZGV4LmF0b21cIjtcblxuZXhwb3J0IGNsYXNzIExpc3RWaWV3QXRvbSBleHRlbmRzIEF0b20ge1xuICAgIHB1YmxpYyBzdGF0aWMgQ1NTX0NMQVNTID0gXCJ4dWktbGlzdHZpZXdcIjtcblxuICAgIHB1YmxpYyBnZXRJdGVtcyA9ICgpOiBFbGVtZW50QXJyYXlGaW5kZXIgPT4ge1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0RWxlbWVudCgpLmFsbChieS5jc3MoXCJsaS5saXN0LWdyb3VwLWl0ZW1cIikpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgaXRlbUNvdW50ID0gKCk6IHByb21pc2UuUHJvbWlzZTxudW1iZXI+ID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SXRlbXMoKS5jb3VudCgpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgZ2V0SXRlbSA9IChpZHg6IG51bWJlcik6IEVsZW1lbnRGaW5kZXIgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJdGVtcygpLmdldChpZHgpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgaXNJdGVtU2VsZWN0ZWQgPSAoaWR4OiBudW1iZXIpOiBwcm9taXNlLlByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJdGVtKGlkeCkuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIilcbiAgICAgICAgICAgIC50aGVuKChjbGFzc1ZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3NWYWx1ZSAmJiBjbGFzc1ZhbHVlLmluZGV4T2YoXCJ4dWktbGlzdGl0ZW0tLXNlbGVjdGVkXCIpID49IDA7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHVibGljIHNlbGVjdENoZWNrYm94ID0gKGlkeDogbnVtYmVyKTogcHJvbWlzZS5Qcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SXRlbShpZHgpXG4gICAgICAgICAgICAuZWxlbWVudChieS5jbGFzc05hbWUoXCJ4dWktbGlzdHZpZXctY2hlY2tib3hcIikpXG4gICAgICAgICAgICAuY2xpY2soKTtcbiAgICB9O1xuXG4gICAgcHVibGljIGdldENoZWNrYm94ID0gKGlkeDogbnVtYmVyKTogQ2hlY2tib3hBdG9tID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tib3hFbGVtZW50ID0gdGhpcy5nZXRJdGVtKGlkeCkuZWxlbWVudChieS5jbGFzc05hbWUoXCJ4dWktbGlzdHZpZXctY2hlY2tib3hcIikpO1xuICAgICAgICByZXR1cm4gbmV3IENoZWNrYm94QXRvbShjaGVja2JveEVsZW1lbnQpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgc2VsZWN0Um93ID0gKGlkeDogbnVtYmVyKTogcHJvbWlzZS5Qcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SXRlbShpZHgpXG4gICAgICAgICAgICAuZWxlbWVudChieS5jc3MoXCIueHVpLWxpc3RpdGVtX19jb250ZW50XCIpKVxuICAgICAgICAgICAgLmNsaWNrKCk7XG4gICAgfTtcblxuICAgIHB1YmxpYyBpc05hcnJvdyA9ICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICAgICAgcmV0dXJuIEF0b20uaGFzQ2xhc3ModGhpcy5nZXRJdGVtKDApLCBcInh1aS1saXN0aXRlbS0tbmFycm93XCIpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgaXNSZWd1bGFyID0gKCk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgICAgICByZXR1cm4gQXRvbS5oYXNDbGFzcyh0aGlzLmdldEl0ZW0oMCksIFwieHVpLWxpc3RpdGVtLS1yZWd1bGFyXCIpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgaXNTdHJpcGVkID0gKCk6IHByb21pc2UuUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRJdGVtcygpO1xuICAgICAgICByZXR1cm4gaXRlbXMuZmlyc3QoKS5nZXRDc3NWYWx1ZShcImJhY2tncm91bmQtY29sb3JcIikudGhlbigobGluZU9uZUNvbG9yOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtcy5nZXQoMSkuZ2V0Q3NzVmFsdWUoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpLnRoZW4oKGxpbmVUd29Db2xvcjogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmVPbmVDb2xvciAhPT0gbGluZVR3b0NvbG9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBwdWJsaWMgaXNFbXB0eVRleHRQcmVzZW50ZWQgPSAoKTogcHJvbWlzZS5Qcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldEVsZW1lbnQoKS5lbGVtZW50KGJ5LmNzcyhcIi54dWktbGlzdHZpZXdfX2VtcHR5IC54dWktbGlzdHZpZXdfX2VtcHR5LS1tYWluLW1lc3NhZ2VcIikpXG4gICAgICAgICAgICAuaXNQcmVzZW50KCk7XG4gICAgfTtcblxuICAgIHB1YmxpYyBnZXRFbXB0eVRleHQgPSAoKTogcHJvbWlzZS5Qcm9taXNlPHN0cmluZz4gPT4ge1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0RWxlbWVudCgpLmVsZW1lbnQoYnkuY3NzKFwiLnh1aS1saXN0dmlld19fZW1wdHkgLnh1aS1saXN0dmlld19fZW1wdHktLW1haW4tbWVzc2FnZVwiKSkuZ2V0VGV4dCgpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgZ2V0SGVhZGVyVGV4dCA9IChpbm5lckNzczogc3RyaW5nKTogcHJvbWlzZS5Qcm9taXNlPHN0cmluZz4gPT4ge1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0RWxlbWVudCgpXG4gICAgICAgICAgICAuZWxlbWVudChieS5jc3MoXCIueHVpLWxpc3R2aWV3LWhlYWRlclwiKSlcbiAgICAgICAgICAgIC5lbGVtZW50KGJ5LmNzcyhpbm5lckNzcykpXG4gICAgICAgICAgICAuZ2V0VGV4dCgpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgZ2V0RW1wdHlUZW1wbGF0ZVRleHQgPSAoaW5uZXJDc3M6IHN0cmluZyk6IHByb21pc2UuUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldEVsZW1lbnQoKVxuICAgICAgICAgICAgLmVsZW1lbnQoYnkudGFnTmFtZShcIm5nLWluY2x1ZGVcIikpXG4gICAgICAgICAgICAuZWxlbWVudChieS5jbGFzc05hbWUoaW5uZXJDc3MpKVxuICAgICAgICAgICAgLmdldFRleHQoKTtcbiAgICB9O1xuXG4gICAgcHVibGljIGdldEVtcHR5VGVtcGxhdGVDb2xvciA9IChpbm5lckNzczogc3RyaW5nKTogcHJvbWlzZS5Qcm9taXNlPHN0cmluZz4gPT4ge1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0RWxlbWVudCgpXG4gICAgICAgICAgICAuZWxlbWVudChieS50YWdOYW1lKFwibmctaW5jbHVkZVwiKSlcbiAgICAgICAgICAgIC5lbGVtZW50KGJ5LmNsYXNzTmFtZShpbm5lckNzcykpXG4gICAgICAgICAgICAuZ2V0Q3NzVmFsdWUoXCJjb2xvclwiKTtcbiAgICB9O1xufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
