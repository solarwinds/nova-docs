"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
const protractor_1 = require("@solarwinds/uzi/protractor");
const uzi_1 = require("@solarwinds/uzi");
const index_atom_1 = require("../index.atom");
class TreeItemAtom extends uzi_1.Atom {
    invertSelection() {
        return this.getInputElement().click();
    }
    getTitleElement() {
        return this.getElement().element(protractor_1.by.xpath("./div/div[contains(@class, 'xui-treeview-label')]"));
    }
    getSubItem(index) {
        let element = this.getSubItemElements().get(index);
        return new TreeItemAtom(element);
    }
    getIcon() {
        const headElement = this.getHeadElement();
        return uzi_1.Atom.findIn(index_atom_1.IconAtom, headElement.element(protractor_1.by.className("xui-treeview-icon")));
    }
    getSubItemsCount() {
        return this.getSubItemElements().count();
    }
    getSubItems() {
        return __awaiter(this, void 0, void 0, function* () {
            const subItemElements = this.getSubItemElements();
            const subItemElementsCount = yield subItemElements.count();
            let subItems = [];
            for (let i = 0; i < subItemElementsCount; i++) {
                subItems.push(new TreeItemAtom(subItemElements.get(i)));
            }
            return subItems;
        });
    }
    isDisplayed() {
        return this.getElement().isDisplayed();
    }
    toggleExpand() {
        return this.getExpanderElements().get(0).click();
    }
    getBackgroundColor() {
        return this.getElement().getCssValue("background-color");
    }
    isSelected() {
        const headElement = this.getHeadElement();
        return headElement.getAttribute("class").then((result) => {
            return result.indexOf("xui-is-selected") > -1;
        });
    }
    isFocused() {
        const headElement = this.getHeadElement();
        return headElement.getAttribute("class").then((result) => {
            return result.indexOf("xui-is-focused") > -1;
        });
    }
    isExpanderVisible() {
        return __awaiter(this, void 0, void 0, function* () {
            const count = yield this.getExpanderElements().count();
            return count > 0;
        });
    }
    ;
    isExpanded() {
        return __awaiter(this, void 0, void 0, function* () {
            const iconAtom = uzi_1.Atom.findIn(index_atom_1.IconAtom, this.getExpanderElements().get(0));
            return iconAtom.name().then((result) => {
                return result === "triangle-down";
            });
        });
    }
    ;
    getExpanderElements() {
        return this.getElement().all(protractor_1.by.xpath("./div/div/div/span[contains(@class, 'xui-treeview-toggle')]/a"));
    }
    getHeadElement() {
        return this.getElement().element(protractor_1.by.className("xui-treeview-head"));
    }
    getInputElement() {
        return uzi_1.Atom.findIn(index_atom_1.CheckboxAtom, this.getElement());
    }
    getSubItemElements() {
        return this.getElement().all(protractor_1.by.xpath("./div/ul/li"));
    }
}
exports.TreeItemAtom = TreeItemAtom;
class TreeViewAtom extends uzi_1.Atom {
    getSubItems() {
        return __awaiter(this, void 0, void 0, function* () {
            const subItemElements = this.getSubItemElements();
            const subItemElementsCount = yield subItemElements.count();
            let subItems = [];
            for (let i = 0; i < subItemElementsCount; i++) {
                subItems.push(new TreeItemAtom(subItemElements.get(i)));
            }
            return subItems;
        });
    }
    getSubItem(index) {
        let element = this.getSubItemElements().get(index);
        return new TreeItemAtom(element);
    }
    getSubItemsCount() {
        return this.getSubItemElements().count();
    }
    getSubItemElements() {
        return this.getElement().all(protractor_1.by.xpath("./div/ul/li"));
    }
}
TreeViewAtom.CSS_CLASS = "xui-treeview";
exports.TreeViewAtom = TreeViewAtom;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvdHJlZXZpZXcvdHJlZXZpZXcuYXRvbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMkRBQXNFO0FBQ3RFLHlDQUFxQztBQUNyQyw4Q0FBcUQ7QUFFcEQsa0JBQTBCLFNBQVEsVUFBSTtJQUM1QixlQUFlO1FBQ2xCLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDMUMsQ0FBQztJQUVNLGVBQWU7UUFDbEIsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxPQUFPLENBQUMsZUFBRSxDQUFDLEtBQUssQ0FBQyxtREFBbUQsQ0FBQyxDQUFDLENBQUM7SUFDcEcsQ0FBQztJQUVNLFVBQVUsQ0FBQyxLQUFhO1FBQzNCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxNQUFNLENBQUMsSUFBSSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVNLE9BQU87UUFDVixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDMUMsTUFBTSxDQUFDLFVBQUksQ0FBQyxNQUFNLENBQUMscUJBQVEsRUFBRSxXQUFXLENBQUMsT0FBTyxDQUFDLGVBQUUsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekYsQ0FBQztJQUVNLGdCQUFnQjtRQUNuQixNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDN0MsQ0FBQztJQUVZLFdBQVc7O1lBQ3BCLE1BQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQ2xELE1BQU0sb0JBQW9CLEdBQUcsTUFBTSxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDM0QsSUFBSSxRQUFRLEdBQW1CLEVBQUUs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YUFBYSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDO0NBQ0o7QUF0RkEsb0NBc0ZBO0FBRUQsa0JBQTBCLFNBQVEsVUFBSTtJQUdyQixXQUFXOztZQUNwQixNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztZQUNsRCxNQUFNLG9CQUFvQixHQUFHLE1BQU0sZUFBZSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQzNELElBQUksUUFBUSxHQUFtQixFQUFFLENBQUM7WUFDbEMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxvQkFBb0IsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM1QyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksWUFBWSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVELENBQUM7WUFDRCxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQ3BCLENBQUM7S0FBQTtJQUVNLFVBQVUsQ0FBQyxLQUFhO1FBQzNCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxNQUFNLENBQUMsSUFBSSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVNLGdCQUFnQjtRQUNuQixNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDN0MsQ0FBQztJQUVPLGtCQUFrQjtRQUN0QixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxlQUFFLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQzs7QUF2QmEsc0JBQVMsR0FBRyxjQUFjLENBQUM7QUFEN0Msb0NBeUJDIiwiZmlsZSI6ImNvbXBvbmVudHMvdHJlZXZpZXcvdHJlZXZpZXcuYXRvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YnksIHByb21pc2UsIEVsZW1lbnRGaW5kZXJ9IGZyb20gXCJAc29sYXJ3aW5kcy91emkvcHJvdHJhY3RvclwiO1xuaW1wb3J0IHtBdG9tfSBmcm9tIFwiQHNvbGFyd2luZHMvdXppXCI7XG5pbXBvcnQge0NoZWNrYm94QXRvbSwgSWNvbkF0b219IGZyb20gXCIuLi9pbmRleC5hdG9tXCI7XG5cbu+7v2V4cG9ydCBjbGFzcyBUcmVlSXRlbUF0b20gZXh0ZW5kcyBBdG9tIHtcbiAgICBwdWJsaWMgaW52ZXJ0U2VsZWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5jbGljaygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUaXRsZUVsZW1lbnQoKTogRWxlbWVudEZpbmRlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnQoKS5lbGVtZW50KGJ5LnhwYXRoKFwiLi9kaXYvZGl2W2NvbnRhaW5zKEBjbGFzcywgJ3h1aS10cmVldmlldy1sYWJlbCcpXVwiKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN1Ykl0ZW0oaW5kZXg6IG51bWJlcikge1xuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZ2V0U3ViSXRlbUVsZW1lbnRzKCkuZ2V0KGluZGV4KTtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlSXRlbUF0b20oZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEljb24oKTogSWNvbkF0b20ge1xuICAgICAgICBjb25zdCBoZWFkRWxlbWVudCA9IHRoaXMuZ2V0SGVhZEVsZW1lbnQoKTtcbiAgICAgICAgcmV0dXJuIEF0b20uZmluZEluKEljb25BdG9tLCBoZWFkRWxlbWVudC5lbGVtZW50KGJ5LmNsYXNzTmFtZShcInh1aS10cmVldmlldy1pY29uXCIpKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN1Ykl0ZW1zQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN1Ykl0ZW1FbGVtZW50cygpLmNvdW50KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldFN1Ykl0ZW1zKCk6IFByb21pc2U8VHJlZUl0ZW1BdG9tW10+IHtcbiAgICAgICAgY29uc3Qgc3ViSXRlbUVsZW1lbnRzID0gdGhpcy5nZXRTdWJJdGVtRWxlbWVudHMoKTtcbiAgICAgICAgY29uc3Qgc3ViSXRlbUVsZW1lbnRzQ291bnQgPSBhd2FpdCBzdWJJdGVtRWxlbWVudHMuY291bnQoKTtcbiAgICAgICAgbGV0IHN1Ykl0ZW1zOiBUcmVlSXRlbUF0b21bXSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1Ykl0ZW1FbGVtZW50c0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHN1Ykl0ZW1zLnB1c2gobmV3IFRyZWVJdGVtQXRvbShzdWJJdGVtRWxlbWVudHMuZ2V0KGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1Ykl0ZW1zO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0Rpc3BsYXllZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpLmlzRGlzcGxheWVkKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvZ2dsZUV4cGFuZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RXhwYW5kZXJFbGVtZW50cygpLmdldCgwKS5jbGljaygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRCYWNrZ3JvdW5kQ29sb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnQoKS5nZXRDc3NWYWx1ZShcImJhY2tncm91bmQtY29sb3JcIik7XG4gICAgfVxuXG4gICAgcHVibGljIGlzU2VsZWN0ZWQoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRFbGVtZW50ID0gdGhpcy5nZXRIZWFkRWxlbWVudCgpO1xuICAgICAgICByZXR1cm4gaGVhZEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmluZGV4T2YoXCJ4dWktaXMtc2VsZWN0ZWRcIikgPiAtMTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzRm9jdXNlZCgpIHtcbiAgICAgICAgY29uc3QgaGVhZEVsZW1lbnQgPSB0aGlzLmdldEhlYWRFbGVtZW50KCk7XG4gICAgICAgIHJldHVybiBoZWFkRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuaW5kZXhPZihcInh1aS1pcy1mb2N1c2VkXCIpID4gLTE7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBpc0V4cGFuZGVyVmlzaWJsZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgY291bnQgPSBhd2FpdCB0aGlzLmdldEV4cGFuZGVyRWxlbWVudHMoKS5jb3VudCgpO1xuICAgICAgICByZXR1cm4gY291bnQgPiAwO1xuICAgIH07XG5cbiAgICBwdWJsaWMgYXN5bmMgaXNFeHBhbmRlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgaWNvbkF0b206IEljb25BdG9tID0gQXRvbS5maW5kSW4oSWNvbkF0b20sIHRoaXMuZ2V0RXhwYW5kZXJFbGVtZW50cygpLmdldCgwKSk7XG4gICAgICAgIHJldHVybiBpY29uQXRvbS5uYW1lKCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBcInRyaWFuZ2xlLWRvd25cIjtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgZ2V0RXhwYW5kZXJFbGVtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpLmFsbChieS54cGF0aChcIi4vZGl2L2Rpdi9kaXYvc3Bhbltjb250YWlucyhAY2xhc3MsICd4dWktdHJlZXZpZXctdG9nZ2xlJyldL2FcIikpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0SGVhZEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnQoKS5lbGVtZW50KGJ5LmNsYXNzTmFtZShcInh1aS10cmVldmlldy1oZWFkXCIpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldElucHV0RWxlbWVudCgpOiBDaGVja2JveEF0b20ge1xuICAgICAgICByZXR1cm4gQXRvbS5maW5kSW4oQ2hlY2tib3hBdG9tLCB0aGlzLmdldEVsZW1lbnQoKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTdWJJdGVtRWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnQoKS5hbGwoYnkueHBhdGgoXCIuL2Rpdi91bC9saVwiKSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVHJlZVZpZXdBdG9tIGV4dGVuZHMgQXRvbSB7XG4gICAgcHVibGljIHN0YXRpYyBDU1NfQ0xBU1MgPSBcInh1aS10cmVldmlld1wiO1xuXG4gICAgcHVibGljIGFzeW5jIGdldFN1Ykl0ZW1zKCkge1xuICAgICAgICBjb25zdCBzdWJJdGVtRWxlbWVudHMgPSB0aGlzLmdldFN1Ykl0ZW1FbGVtZW50cygpO1xuICAgICAgICBjb25zdCBzdWJJdGVtRWxlbWVudHNDb3VudCA9IGF3YWl0IHN1Ykl0ZW1FbGVtZW50cy5jb3VudCgpO1xuICAgICAgICBsZXQgc3ViSXRlbXM6IFRyZWVJdGVtQXRvbVtdID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ViSXRlbUVsZW1lbnRzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgc3ViSXRlbXMucHVzaChuZXcgVHJlZUl0ZW1BdG9tKHN1Ykl0ZW1FbGVtZW50cy5nZXQoaSkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3ViSXRlbXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN1Ykl0ZW0oaW5kZXg6IG51bWJlcikge1xuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZ2V0U3ViSXRlbUVsZW1lbnRzKCkuZ2V0KGluZGV4KTtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlSXRlbUF0b20oZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN1Ykl0ZW1zQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN1Ykl0ZW1FbGVtZW50cygpLmNvdW50KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTdWJJdGVtRWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnQoKS5hbGwoYnkueHBhdGgoXCIuL2Rpdi91bC9saVwiKSk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
