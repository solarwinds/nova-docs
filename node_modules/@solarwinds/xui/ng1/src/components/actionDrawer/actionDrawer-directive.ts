import IActionDrawerController = xui.IActionDrawerController;

/**
 * @ngdoc directive
 * @name xui.directive:xuiActionDrawer
 * @restrict E
 *
 * @description
 * Implementation of xui horizontal sliding menu with actions
 *
 * @parameters
 * @param {array} items-source Array of items to be displayed in the menu slider.
 * @param {string} 'left | right' position-direction To specify menu's sliding direction.
 *
 * @example
 *   <example module="xui">
 *       <file src="src/components/actionDrawer/docs/actionDrawer-examples.html" name="index.html"></file>
 *       <file src="src/components/actionDrawer/docs/actionDrawer-examples.js" name="script.js"></file>
 *   </example>
 **/

export class ActionDrawer implements ng.IDirective {

    public restrict = "E";
    public template = require<string>("./actionDrawer-directive.html");
    public replace = true;
    public transclude = false;
    public scope = {};
    public bindToController = {
        itemSource: "=",
        positionDirection: "@"
    };
    public controller = "xuiActionDrawerController";
    public controllerAs = "ctrl";

    public link = (scope: ng.IScope, element: ng.IAugmentedJQuery,
                   attrs: ng.IAttributes, ctrl: IActionDrawerController) => {

        element.find(".xui-action-drawer__actions")
            .addClass(`expanded-${ctrl.positionDirection}`);
        element.parent()
            .css("overflow-x", "hidden");
    };
}
