import SpecHelper from "../../specHelper";
import {IIconScope} from "./icon-directive";

describe("components >", () => {
    describe("icon >", () => {
        let element:any,
            scope:any,
            compile:any;

        beforeEach(angular.mock.module("xui"));

        beforeEach(inject(function ($compile:ng.ICompileService, $rootScope:IIconScope) {
            compile = $compile;
            scope = $rootScope.$new();
        }));

        const directiveWithWrongIcon = "<xui-icon icon='xxxx'></xui-icon>";

        describe("dom manipulations >", () => {
            it("should set icon-not-found class when unable to find the icon name", () => {
                // act
                element = SpecHelper.getCompiledElement(compile, scope, directiveWithWrongIcon);

                // assert
                expect(element.hasClass("xui-icon-not-found")).toBeTruthy();
            });

        });
    });
});
