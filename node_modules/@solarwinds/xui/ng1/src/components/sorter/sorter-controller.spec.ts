import SorterController from "./sorter-controller";

describe("components >", ()=> {
    describe("sorter >", ()=> {
        describe("controller >", ()=> {
            let $controller:ng.IControllerService,
                ctrl:SorterController;

            beforeEach(angular.mock.module("xui"));

            beforeEach(inject(($injector:any)=> {
                $controller = $injector.get("$controller");
                ctrl = <SorterController>$controller("xuiSorterController", {});
            }));

            describe("when no sort direction is specified", ()=> {
                it("should use ascending direction by default", () => {
                    expect(ctrl.sortDirection).toEqual(SorterController.DIRECTION.ascending);
                    expect(ctrl.getSortIcon()).toEqual("arrow-up");
                });
            });

            describe("when 'toggleSortDirection()' is executed", ()=> {
                it("should switch sort direction", () => {
                    expect(ctrl.sortDirection).toEqual(SorterController.DIRECTION.ascending);

                    ctrl.toggleSortDirection();

                    expect(ctrl.sortDirection).toEqual(SorterController.DIRECTION.descending);

                    ctrl.toggleSortDirection();

                    expect(ctrl.sortDirection).toEqual(SorterController.DIRECTION.ascending);
                });
            });
        });
    });
});
