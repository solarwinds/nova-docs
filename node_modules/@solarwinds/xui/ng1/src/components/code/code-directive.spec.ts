import SpecHelper from "../../specHelper";
import * as angular from "angular";

describe("components >", () => {
    describe("code >", () => {
        let $scope: ng.IScope;
        let $compile: ng.ICompileService;
        const html = `<xui-code content="'export class Code { }'"></xui-code>`;

        beforeEach(angular.mock.module("xui"));
        beforeEach(inject(($injector:any) => {
            $scope = $injector.get("$rootScope");
            $compile = $injector.get("$compile");
        }));

        it("compiles and replaces element", () => {
            const element = SpecHelper.getCompiledElement($compile, $scope, html);
            expect(element.is(".xui-code")).toEqual(true);
        });

        it("applies highlight.js class", () => {
            const element = SpecHelper.getCompiledElement($compile, $scope, html);
            expect(element.is(".hljs")).toEqual(true);
        });
    });
});
