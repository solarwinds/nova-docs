(function () {
    "use strict";

    Xui.module
        .controller("MenuDemoController", MenuDemoController);

    function MenuDemoController() {
        var vm = this;

        vm.appendToBody = true;

        vm.actionMethod = function () {
            console.log("Action done");
        };

        vm.actionMethodParams = function (params) {
            console.log("Action done: " + params.a + " " + params.b);
        };

        vm.menuItems = [
            {url : "#", disabled : false},
            {url : "#", disabled : true},
            {disabled : false},
            {disabled : false},
            {disabled : true},
            {checked : true, disabled : false},
            {checked : false, disabled : true}
        ];

        vm.itemsSource =[
            {itemType: "header", title: "Links:"},
            {itemType: "link", title: "Link", url: "#"},
            {itemType: "link", title: "Disabled link", disabled: true },
            {itemType: "divider"},
            {itemType: "header", title: "Actions:"},
            {itemType: "action", title: "Action", action: this.actionMethod },
            {itemType: "action", title: "Action with parameters",
                action: this.actionMethodParams, params: { a: "action2a", b: "action2b"}},
            {itemType: "action", title: "Disabled action",
                action: this.actionMethod, disabled: true },
            {itemType: "divider"},
            {itemType: "header", title: "Options:"},
            {itemType: "option", title: "Option", checked: true },
            {itemType: "option", title: "Disabled option", disabled: true }
        ];

        vm.itemsSourceJson = vm.itemsSource.concat([
            {itemType: "header", title: "Permissions"},
            {itemType: "link", title: "Node management", url: "#", permissionRequired: "nodeManagement"},
            {itemType: "header", title: "Hide & Remove"},
            {itemType: "link", title: "Hidden", url: "#", hidden: true},
            {itemType: "link", title: "Removed", url: "#", removed: true},
            {itemType: "header", title: "Icons"},
            {itemType: "link", title: "Link with icon", url: "#", icon: "state_running"}
        ]);

        vm.toJSON = function (obj) {
            return JSON.stringify(obj, null, 3)
        };
    }
})();
