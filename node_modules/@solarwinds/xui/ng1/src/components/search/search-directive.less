@import (reference) "../../styles/xui-framework-variables.less";
@import (reference) "../../styles/mixins.less";

@xui-search-button-size: @input-height-base;
@xui-search-icon-size: @icon-size-small;
@xui-search-max-height: 300px;
@xui-search-border-active: @xui-color-brand-1;
@xui-search-border-active-hvr: @xui-color-brand-1-hvr;


.xui .xui-search {
    &--busy {
        .xui-search {
            &__input {
                &-control.form-control {
                    padding-left: (@icon-size-default + @padding-base-horizontal);
                }
            }
        }
    }
    &--active {
        .xui-search {
            &__input {
                &-control.form-control {
                    border-color: @xui-search-border-active;
                    z-index: 1;

                    &:hover {
                        border-color: @xui-search-border-active-hvr;
                    }
                }
            }
        }
    }

    &__group {
        position: relative;
        border-spacing: 0;
    }

    &__input {
        position: relative;
        .clearfix();

        &-spinner {
            position: absolute;
            left: (1px + @padding-xs-horizontal);
            top: 50%;
            transform: translateY(-50%);
            z-index: 2;
        }

        &-control.form-control {
            z-index: 0;
            padding-right: @xui-search-button-size;
            margin-right: @xui-search-button-size;
            transition: padding-left 0.3s ease;
            font-weight: @xui-font-weight-bold;

            // Disable IE clear element.
            &::-ms-clear {
                display: none;
                width: 0;
                height: 0;
            }

            .placeholder();

            &:hover, &:active, &:focus {
                z-index: 1;
            }
        }

        .dropdown-menu {
            border-color: @xui-color-focused-border;
            max-height: @xui-search-max-height;
            overflow-y: auto;
            margin-top: -1px;
            .default-drop-shadow();

            > li {
                &.active {
                    > a {
                        background-color: @xui-color-light-bg-hvr;
                        cursor: pointer;
                    }
                }
                > a {
                    padding: @padding-base-vertical @padding-base-horizontal;
                }
            }
        }

        &-cancel {
            position: absolute;
            right: 1px;
            padding: ((@xui-search-button-size - @xui-search-icon-size - 2) / 2);
            top: 1px;
            z-index: 1;

            &[is-empty="true"] {
                padding: @padding-small-vertical @padding-small-vertical 0;
            }

            .xui-icon svg {
                width: @icon-size-small;
                height: @icon-size-small;
            }
        }
    }

    &__button.input-group-btn {
        .xui-button {
            z-index: 0;
            border: solid 1px @input-border;
            height: @input-height-base;

            &:hover, &:active, &:focus {
                z-index: 1;
                border-color: @xui-color-focused-border;
            }

            &[is-empty="true"] {
                padding: ((@xui-search-button-size - @xui-search-icon-size - 2) / 2);
            }

            .xui-icon svg{
                width: @icon-size-small;
                height: @icon-size-small;
            }
        }
    }
}
