<link rel="stylesheet" type="text/css" href="_xui-css-url_">
<base href="/">
<div class="xui" id="xui-demo-components-search">
    <div class="component-demo-card">
        <xui-spinner show="vm.value"></xui-spinner>
        <ng-form name="search">
            <h1>Basic</h1>
            <div ng-controller="DemoSearchBasicController as vm">
                <xui-search caption="xui-search-basic"
                            is-disabled="false"
                            value="vm.value"
                            on-search="vm.onSearch(value, cancellation)"
                            on-clear="vm.onClear()"
                            items-source="vm.items"></xui-search>
                <pre>Model: <code>{{vm.value}}</code></pre>
            </div>

            <h1>Complex</h1>
            <div ng-controller="DemoSearchComplexController as vm">
                <xui-search caption="xui-search-complex"
                            placeholder="{{vm.placeholder}}"
                            item-limit="{{vm.itemLimit}}"
                            value="vm.value"
                            items-source="vm.items"
                            display-value="vm.displayValue"
                            ng-blur="vm.onBlur($event)"
                            ng-focus="vm.onFocus($event)"
                            on-search="vm.onSearch(value, cancellation)"
                            on-clear="vm.onClear()"></xui-search>
                <pre>Model: <code>{{vm.value}}</code></pre>
                <xui-listview items-source="vm.searchResults"
                              selection-mode="multi"
                              selection-property="id"
                              template-url="search-results-item-template"></xui-listview>
            </div>

            <h1>Search on change enabled</h1>
            <div ng-controller="DemoSearchComplexController as vm">
                <xui-search caption="xui-search-on-change"
                            is-disabled="false"
                            value="vm.value"
                            on-search="vm.onSearch(value, cancellation)"
                            on-clear="vm.onClear()"
                            search-on-change="vm.searchOnChange"
                            search-debounce="500"
                            items-source="vm.items"></xui-search>
                <pre>Model: <code>{{vm.value}}</code></pre>
            </div>
        </ng-form>
    </div>
</div>

<script type="text/ng-template" id="search-results-item-template">
    <div class="row">
        <div class="col-xs-6">
            {{::item.name}}
        </div>
        <div class="col-xs-6">
            {{::item.value}}
        </div>
    </div>
</script>
