<div class="xui-search">
    <label id="{{::searchCtrl.name}}_Label" for="{{::searchCtrl.name}}_Input" ng-show="::searchCtrl.caption">{{::searchCtrl.caption}}</label>
    <div class="xui-search__group input-group">
        <div class="xui-search__input" ng-class="{ 'xui-search--busy': searchCtrl.isBusy, 'xui-search--active': searchCtrl.isActive }">
            <xui-spinner class="xui-search__input-spinner" show="searchCtrl.isBusy"></xui-spinner>
            <input class="xui-search__input-control form-control"
                   xui-set-focus="searchCtrl.captureFocus"
                   ng-model="searchCtrl.value"
                   ng-model-options="{debounce: searchCtrl.searchDebounce}"
                   type="text"
                   id="{{::searchCtrl.name}}_Input"
                   name="{{::searchCtrl.name}}"
                   placeholder="{{::searchCtrl.placeholder}}"
                   autocomplete="off"
                   uib-typeahead="item as searchCtrl.getItemDisplay(item) for item in searchCtrl.itemsSource|filter:searchCtrl.getFilterValue($viewValue)|limitTo:searchCtrl.getItemLimit()"
                   typeahead-on-select="searchCtrl.select()"
                   ng-keyup="searchCtrl.onKeypress($event)"
                   ng-change="searchCtrl.onChangeModel()"
                   ng-blur="searchCtrl.onBlur($event)"
                   ng-focus="searchCtrl.onFocus($event)" />
            <xui-button ng-show="searchCtrl.value" ng-click="searchCtrl.clear()" class="xui-search__input-cancel" display-style="tertiary" icon="close"></xui-button>
        </div>
        <div class="xui-search__button input-group-btn">
            <xui-button display-style="tertiary" ng-click="searchCtrl.search()" icon="search"></xui-button>
        </div>
    </div>
</div>
