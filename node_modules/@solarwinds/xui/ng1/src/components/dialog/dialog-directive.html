<div class="xui-dialog xui-modal-content">
    <div class="{{::vm.getStatusAttributes().style}}">
        <xui-button class="close" icon="close" ng-click="vm.cancel()"
                    ng-if="!vm.dialogOptions.hideTopCancel" is-disabled="vm.isBusy"></xui-button>
        <div class="xui-dialog__header-component-container" ng-transclude="headerComponentSlot">
        </div>
        <div class="xui-dialog__status-icon">
            <xui-icon icon="{{::vm.getStatusAttributes().icon}}"
                      ng-show="vm.hasStatus()"></xui-icon>
        </div>
        <h1 class="modal-title">{{vm.dialogOptions.title}}</h1>
    </div>
    <div class="modal-body"
         xui-busy="vm.isBusy"
         xui-busy-message="{{ vm.getActionText() }}"
         xui-allow-cancel="vm.isCancelAllowed()"
         xui-busy-on-cancel="vm.cancel()">
        <form name="modalDialog" novalidate ng-class="{ invalid: !vm.isValid }" ng-transclude>
        </form>
    </div>
    <div class="modal-footer" ng-transclude="footer">
        <xui-button ng-repeat="button in ::vm.dialogOptions.buttons"
                    display-style="{{::button.isPrimary ? 'primary' : button.displayStyle}}"
                    ng-click="vm.execute(button, modalDialog)"
                    ng-class="::[button.cssClass , {'pull-left': button.pullLeft}]"
                    ng-hide="button.isHidden"
                    is-disabled="vm.isBusy || button.isDisabled"
                    icon="{{::button.icon}}"
                    icon-right="{{::button.iconRight}}">
            {{button.text}}
        </xui-button>
        <xui-button display-style="tertiary"
                    ng-click="vm.cancel()"
                    ng-hide="vm.dialogOptions.hideCancel"
                    is-disabled="vm.isBusy">
            {{::vm.dialogOptions.cancelButtonText}}
        </xui-button>
    </div>
</div>
