(function () {
    "use strict";

    Xui.controller("DemoTimeFramePickerController", DemoTimeFramePickerController);

    function DemoTimeFramePickerController() {
        var vm = this,
            dateIn_mS = 86400000, //24 hours in milliseconds
            currentDate = new Date();

        vm.presets = {
            last2Hours: {
                name: "Last 2 hours",
                startDatetimePattern: {hours: -2},
                endDatetimePattern: {}
            },
            last12Hours: {
                name: "Last 12 hours",
                startDatetimePattern: {hours: -12},
                endDatetimePattern: {}
            },
            today: {
                name: "Today",
                startDatetimePattern: moment.duration(moment().startOf("day").diff(moment())),
                endDatetimePattern: {}
            }
        };
        vm.model3 = {
            startDatetime: new Date("2012-08-08T13:00:00"),
            endDatetime: new Date("2015-07-07T13:00:00")
        };
        vm.model4 = {
            selectedPresetId: "last12Hours"
        };
        vm.modelCustom = {};
        vm.modelMaxMin = {
            startDatetime: new Date("2012-08-08T13:00:00"),
            endDatetime: currentDate
        };
        vm.minDatetime = new Date("2012-08-07");
        vm.maxDatetime = new Date(currentDate.getTime() + 3 * dateIn_mS);
        vm.datetimeTitleFormat = "MMM D, YYYY";

        vm.dateHasChanged = function (model) {
            console.log('date has changed:' + model.title);
        }
    }
})();
