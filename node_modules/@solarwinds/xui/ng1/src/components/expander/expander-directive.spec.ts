/// <reference path="../../ref.d.ts" />

import SpecHelper from "../../specHelper";
describe("components >", () => {

    describe("expander >", () => {
        const headingContent:string = "Very nice heading content";
        let expander:ng.IAugmentedJQuery,
            compile:ng.ICompileService,
            scope:ng.IScope;

        beforeEach(() => {
            angular.mock.module("xui");
            angular.mock.inject(function ($compile:ng.ICompileService, $rootScope:ng.IRootScopeService) {
                scope = <xui.IRootScope>$rootScope.$new();
                compile = $compile;
            });

            const expanderHtml = [
                "<xui-expander is-open='true' is-disabled='false'>",
                "<xui-expander-heading>" + headingContent + "</xui-expander-heading>",
                "<xui-button display-style='primary'>UT</xui-button>",
                "<xui-button>A&M</xui-button>",
                "</xui-expander>"
            ].join("");
            expander = SpecHelper.getCompiledElement(compile, scope, expanderHtml);
        });

        it("compiles", function () {
            expect(expander.find(".xui-expander-heading").length).toBe(1);
        });
        it("transcludes the heading content", function () {
            expect(expander.find(".xui-expander-heading-content xui-expander-heading").html()).toBe(headingContent);
        });
    });

});
