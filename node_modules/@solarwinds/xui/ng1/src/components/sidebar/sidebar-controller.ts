import ISidebarSettings = xui.ISidebarSettings;
import IScope = ng.IScope;

export default class SidebarController {
    public static $inject = ["$scope"];
    public settings: ISidebarSettings;
    public slideClass: string;

    constructor(public $scope: IScope) {
        $scope.$watch(() => this.settings, this.syncState, true);
    }

    private syncState = () => {
        this.slideClass = "xui-sidebar-" + (this.settings.shrink ? "-shrink-" : "");

        if (this.settings.display) {
            this.slideClass += "slidein-";
        } else {
            this.slideClass += "slideout-";
        }

        if (this.settings.position === "left") {
            this.slideClass += "left";
        } else {
            this.slideClass += "right";
        }
    };
}
