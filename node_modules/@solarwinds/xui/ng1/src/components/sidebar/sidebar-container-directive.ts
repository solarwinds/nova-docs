
/**
 * @ngdoc directive
 * @name xui.directive:xuiSidebarContainer
 * @restrict E
 *
 * @description
 * Parent component for xuiSidebar.
 *
 * @param {String=} layout If attribute equals to "fill", layout of xuiSidebarContainer will be changed from default to
 * fill, so xuiSidebarContainer height will be equal to parent element height. Parent element should have specified
 * height. In case you need to use default layout, set "layout" attribute to "default" or do not specify the attribute
 * at all
 *
 * @example
 *    <example module="xui">
 *        <file src="src/components/sidebar/docs/sidebar-examples.html" name="index.html"></file>
 *        <file src="src/components/sidebar/docs/sidebar-examples.css" name="style.css"></file>
 *        <file src="src/components/sidebar/docs/sidebar-examples.js" name="app.js"></file>
 *    </example>
 */

export default class SidebarContainer implements ng.IDirective {
    public static $inject = ["swUtil"];

    constructor(private swUtil: any) {}

    public restrict = "E";
    public template = require<string>("./sidebar-container-directive.html");
    public transclude = true;
    public scope = {
        layout: "@?"
    };

    private fillLayoutClass = "xui-sidebar-container--fill";

    public link: ng.IDirectiveLinkFn = (scope: ng.IScope,
                                        element: ng.IAugmentedJQuery,
                                        attrs: ng.IAttributes) => {
        //name
        this.swUtil.initComponent(attrs, "sidebar-container");

        if (attrs["layout"] === "fill") {
            element.addClass(this.fillLayoutClass);
        } else {
            element.removeClass(this.fillLayoutClass);
        }

    };
}
