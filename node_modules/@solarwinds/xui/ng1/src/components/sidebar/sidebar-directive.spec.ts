describe("components >", () => {
    describe("sidebar >", () => {
        let $compile: ng.ICompileService,
            $scope: ng.IScope,
            element: ng.IAugmentedJQuery;

        const transcludedText = "Fixed custom header";

        const plainDirective = `<xui-sidebar-container>
                <xui-sidebar settings="settings">
                    <div class="xui-demo-sidebar">
                        <div>{{vm.dynamicContent}}</div>
                    </div>
                </xui-sidebar>
            </xui-sidebar-container>`,
            directiveWithHeader = `<xui-sidebar-container layout="fill">
                <xui-sidebar settings="settings">
                    <xui-sidebar-header>
                        ${transcludedText}
                    </xui-sidebar-header>
                    <div class="xui-demo-sidebar">
                        <div>{{vm.dynamicContent}}</div>
                    </div>
                </xui-sidebar>
            </xui-sidebar-container>`,
            directiveWithFillLayout = `<xui-sidebar-container layout="fill">
                <xui-sidebar settings="settings">
                    <div class="xui-demo-sidebar">
                        <div>{{vm.dynamicContent}}</div>
                    </div>
                </xui-sidebar>
            </xui-sidebar-container>`;

        beforeEach(angular.mock.module("xui"));

        beforeEach(inject(($injector:any)=> {
            $scope = $injector.get("$rootScope").$new();
            $compile = $injector.get("$compile");

            $scope["settings"] = {
                display: false,
                position: "right",
                shrink: false
            };
        }));

        it("should compile component", () => {
            element = $compile(plainDirective)($scope);
            expect(element).toBeDefined();
        });

        it("should transclude header", () => {
            element = $compile(directiveWithHeader)($scope);
            expect(element.find(".xui-sidebar__transclude-header").text().trim()).toBe(transcludedText);
        });

        it("should apply fill-layout styles to sidebar container", () => {
            element = $compile(directiveWithFillLayout)($scope);
            expect(element.hasClass("xui-sidebar-container--fill")).toBeTruthy();
        });
    });
});
