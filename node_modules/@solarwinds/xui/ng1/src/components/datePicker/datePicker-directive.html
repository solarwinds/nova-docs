<div class="xui-datepicker" ng-class="{'xui-datepicker--inline': vm.displayInline,
        'has-error': vm.isInErrorState(), 'disabled': vm.isDisabled}">
    <uib-datepicker ng-model="vm.model" ng-disabled="vm.isDisabled"
                    min-date="vm.minDate"
                    max-date="vm.maxDate"
                    datepicker-options="vm.dateOptions"
                    class="well well-sm xui-no-animate xui-datepicker__inline"
                    ng-if="::vm.displayInline"></uib-datepicker>
    <div>
        <label id="{{::vm.name}}_label" for="{{::vm.name}}_input"
               ng-show="::vm.caption" class="xui-dropdown__label">{{::vm.caption}}</label>
        <div class="xui-datepicker__input-group input-group" ng-if="::!vm.displayInline">
            <div class="xui-datepicker__icon" ng-class="{ 'disabled': vm.isDisabled, 'icon-only': vm.iconOnly }">
                <xui-icon icon="calendar" aria-hidden="true" ng-click="vm.open()"></xui-icon>
            </div>
            <input type="text"
                   name="{{::vm.name}}_input"
                   class="xui-datepicker__textbox form-control"
                   moment-validate
                   uib-datepicker-popup="{{vm.format}}"
                   ng-model="vm.model"
                   ng-model-options="::vm.ngModelOptions"
                   is-open="vm.opened"
                   ng-focus="vm.open()"
                   ng-blur="vm.validateDate()"
                   ng-keypress="vm.checkEnter($event)"
                   on-open-focus="false"
                   datepicker-options="vm.dateOptions"
                   ng-required="vm.isRequired"
                   ng-disabled="vm.isDisabled"
                   clear-text="{{ 'xui_datepicker_clear' | translate }}"
                   current-text="{{ 'xui_datepicker_current' | translate }}"
                   close-text="{{ 'xui_datepicker_close' | translate }}"
                   ng-init="initModel()"
                   alt-input-formats="vm.formats"
                   ng-class="{ 'borderless': vm.iconOnly }"
                   />
        </div>
    </div>
    <div ng-messages="vm.ngModel.$error" ng-show="vm.isInErrorState()"
         class="xui-datepicker__messages xui-validation" role="alert" ng-transclude></div>
</div>
