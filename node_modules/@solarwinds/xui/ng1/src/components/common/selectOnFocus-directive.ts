import Inject from "../../decorators/di";

/**
 * Text inputs with this directive select the whole text on focus
 */
export default class SelectOnFocus implements ng.IDirective {
    public restrict = "A";

    constructor(@Inject("$window") private $window:ng.IWindowService) {
    }

    public link = (scope:ng.IScope, element:ng.IAugmentedJQuery)=> {
        const win = this.$window;
        element.on("focus", function() {
            if (!win.getSelection().toString()) {
                this.setSelectionRange(0, this.value.length);
            }
        });
    };
}
