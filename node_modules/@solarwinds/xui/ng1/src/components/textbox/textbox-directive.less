@import (reference) "../../styles/xui-framework-variables.less";
@import (reference) "../../styles/xui-framework-base.less";
@import (reference) "../../styles/xui-framework-typography.less";

@textbox-padding-internal-vertical: 7px;
@textbox-feedback-icon-margin: 7px;
@textbox-feedback-icon-offset: ((2 * @textbox-feedback-icon-margin) + @icon-size-small);
@textbox-updown-offset: ((2 * @input-height-base) - 2);
@textbox-input-left-padding: 10px;
@textbox-padding-simple-updown: @textbox-updown-offset + @textbox-feedback-icon-margin;
@textbox-feedback-icon-with-updown-margin: @textbox-feedback-icon-margin + @textbox-updown-offset;
@textbox-feedback-icon-offset-with-updown: @textbox-feedback-icon-offset + @textbox-updown-offset;
@textbox-busy-offset: 1px;
@textbox-busy-offset-with-updown: @textbox-updown-offset + @textbox-busy-offset;

.xui-textbox {
    margin-bottom: 10px;

    input[type="number"]::-webkit-inner-spin-button {
        display: none;
    }

    input[type="number"] {
        -moz-appearance: textfield;
    }

    &--disabled {
        label {
            color: fade(@xui-color-inactive, 60%);
        }
        .form-control {
            border-color: fade(@xui-color-border, 60%);
            background-color: fade(@xui-color-border, 60%);
        }
        .xui-textbox__help {
            color: fade(@xui-color-inactive, 60%);
        }
    }
    &--bold {
        .xui-textbox__input {
            .xui-text-l();
        }
    }

    &__help {
        clear: both;
        margin: 0 0 @textbox-padding-internal-vertical 0;
        padding: 0;
        line-height: @line-height-small;
        font-size: @xui-font-size-small;
    }

    &__state-text {
        color: @xui-color-neutral-text;
        padding-left: 5px;
    }

    &__updown{
        position: absolute;
        display: block;
        line-height: 1;
        height:30px;
        top: 1px;
        text-align: center;
        .xui & button.xui-button{
            padding-left:4px;
            width: 30px;
            height: 28px;
            border-top-width: 1px;
            border-bottom-width: 1px;
            &:focus{
                outline:none;
                border-color: @xui-color-border;
            }
        }
        &-divider{
            z-index:1;
            height: 28px;
            top: 1px;
            right: 30px;
            width:0;
            border-right: 1px solid @xui-color-border;
        }
    }

    &__up-button{
        right: 1px;
    }

    &__down-button{
        right: 30px;
        .xui & button.xui-button {
            border-left: 1px solid @xui-color-border;
        }
    }

    &__suffix {
        padding-left: 15px;
        margin-top: 5px;
        display: inline-block;
    }

    &__input {
        .xui-input-text();
    }

    &__input-wrapper {
        &--inline {
            float: left;
        }
    }

    //need to always have the has-feedback class to avoid a binding jump/flicker when show/hide
    .xui & .has-feedback .form-control {
        padding: 0 0 0 @textbox-input-left-padding;

        &[type="number"]{
            padding-right: @textbox-padding-simple-updown;
        }

        &.xui-textbox__input--icon {
            padding-right: @textbox-feedback-icon-offset;
            &[type="number"] {
                padding-right: @textbox-feedback-icon-offset-with-updown;
            }
        }

        &.xui-textbox__input--multiline {
            padding-top: 4px;
        }
    }

    &--centered {
        .xui & .has-feedback .form-control {
            padding: 0;
            text-align: center;
        }
    }

    .form-control {
        margin: 0 0 @textbox-padding-internal-vertical 0;
        box-shadow: inset 0 1px 3px fade(@xui-color-border, 50%);
        resize: vertical;
    }

    &.has-error, &.has-warning {
        & .xui-textbox__messages > div {
            clear: both;
            padding: 0;
            margin: 0 0 @textbox-padding-internal-vertical 0;
            line-height: @line-height-small;
            font-size: @xui-font-size-small;
            font-weight: @xui-font-weight-bold;
        }
    }

    .form-control-feedback {
        top: 7px;
        margin: 0 @textbox-feedback-icon-margin 0 0;
        &.xui-textbox__busy {
            top: 0;
            margin: 0 @textbox-busy-offset 0 0;
        }
    }

    .form-control-feedback svg {
        display: block;
        position: relative;
    }

    input[type="number"] ~ .form-control-feedback {
        margin: 0 @textbox-feedback-icon-with-updown-margin 0 0;
        &.xui-textbox__busy {
            top: 0;
            margin: 0 @textbox-busy-offset-with-updown 0 0;
        }
    }

    //specificity needed to override base style
    .xui-textbox__control-label {
        padding: 0;
        margin: @textbox-padding-internal-vertical 0;
    }

    &__control-label-container--hidden {
        display: none;
    }
}


