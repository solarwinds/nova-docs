(function () {
    "use strict";

    Xui.module
        .controller("DemoListViewController", DemoListViewController, ["$templateCache", "$timeout"]);

    function DemoListViewController($templateCache, $timeout) {
        var vm = this;

        vm.colorsWithTemplate = [
            {color: "blue", info:"#0000ff", $templateUrl: "color-template"},
            {color: "green", info:"#009900", $templateUrl: "color-info-template"},
            {color: "cyan ", info:"#00ffff", $templateUrl: "color-template"},
            {color: "magenta", info:"#ff00ff", $templateUrl: "color-info-template"},
            {color: "black", info:"#000000", $templateUrl: "color-box-template"}
        ];
        vm.colors = [
            {color: "blue"},
            {color: "green"},
            {color: "yellow"},
            {color: "cyan "},
            {color: "magenta"},
            {color: "black"}
        ];
        vm.colorsWithIsDisabledProperty = [
            { color: "blue", isDisabled: true },
            { color: "green", isDisabled: false },
            { color: "yellow" },
            { color: "cyan " },
            { color: "magenta", isDisabled: true },
            { color: "black" }
        ];
        vm.colorsDeferred = [];
        vm.loaded = false;

        vm.loadData = function () {
            vm.colorsDeferred = [
                {color: "blue"},
                {color: "green"},
                {color: "yellow"},
                {color: "cyan "},
                {color: "magenta"},
                {color: "black"}
            ];
            vm.loaded = true;
        };

        vm.showEmptyState = function () {
            vm.loaded = true;
            vm.colorsDeferred = [];
        };

        vm.hide = function () {
            vm.colorsDeferred = [];
            vm.loaded = false;
        };
        vm.selectedColors = ["yellow", "black"];
        vm.selectedColorsWithIsDisabledProperty = ["blue", "black"];

        vm.emptySource = [];

        vm.people = [
            {name: "Jo Smith", level: "bronze", status:"active"},
            {name: "Claire Rogan", level: "gold", status:"active"},
            {name: "Declan McGregor", level: "platinum", status:"active"},
            {name: "Fergus O'Brien", level: "bronze", status:"inactive"},
            {name: "Catriona Kildare", level: "gold", status:"active"}
        ];

        vm.peopleSelection = [vm.people[2]];

        vm.fruit = [];

        vm.customSelectionMode = "multi";
        vm.selectionModes = {
            "single": "single",
            "multi": "multi",
            "none": ""
        };

        vm.aclRules = [
            {lineNumber: 1, rule: "deny IP anti-spoofing PRIVATE-IP any log", count: 777},
            {lineNumber: 2, rule: "permit TCP any host 10.12.3.76 eq 80", count: 130456},
            {lineNumber: 3, rule: "permit TCP any host 10.12.3.76 eq 443", count: 133},
            {lineNumber: 4, rule: "permit TCP any host 10.12.3.231 eq 21", count: 0},
            {lineNumber: 5, rule: "deny IP any any log", count: 15},
        ];

        vm.customizedEmptyTemplate = {
            title: "Nothing found",
            description: "Try searching for something else",
            image: "no-search-results"
        };

        vm.templateFn = function(item) {
            return "color-box-template";
        };

        vm.emptyImageFn = function () {
            return "http://oriondemo.solarwinds.com/ui/modules/platform/images/404-Robot.svg";
        };

        vm.emptyText = "There is no item in this list!";

        $templateCache.put("empty-template",
            '<div class="empty-container" ng-controller="DemoListViewController as vm">' +
            '<img ng-src="{{vm.emptyImageFn()}}" alt="No items in the list" class="empty-pic"/>' +
            '<p>{{::vm.emptyText}}</p>' +
            '</div>'
        );

        $templateCache.put("people-template",
            "<div class='flex-row-container'>" +
            "<xui-icon css-class='flex-row-item' icon='user'></xui-icon>" +
            "<div class='flex-row-item flex-column-container'>" +
            "<div class='name-item'>{{item.name}}</div>" +
            "<div ng-class='item.level'>{{item.level}}</div>" +
            "<div class='status-item'>{{item.status}}</div>" +
            "</div>" +
            "</div>"
        );

        $templateCache.put("color-template",
            "<div>{{::item.color}}</div>"
        );

        $templateCache.put("color-info-template",
            "<div>{{::item.color}} [hex value: {{::item.info}}]</div>"
        );

        $templateCache.put("color-box-template",
            "<div class='color-box {{::item.color}}'></div>" +
            "<div>{{::item.color}}</div>"
        );

        $templateCache.put("header-template",
            "<div class='template-header'>Listview header from template</div>"
        );

        $templateCache.put("xui-listview-demo-code",
            "<xui-code-item line-number='item.lineNumber' content='item.rule'>" +
            "   <div class='pull-right'>{{::item.count}}</div>" +
            "</xui-code-item>"
        );
    }
})();
