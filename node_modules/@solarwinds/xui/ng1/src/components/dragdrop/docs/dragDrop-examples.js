(function () {
    "use strict";

    Xui.module
        .controller("DemoDragDropController", DemoDragDropController, ["xuiToastService", "$q"]);

    function DemoDragDropController(toast, $q) {
        var vm = this;

        vm.srcObject = {
            imma: "little",
            teapot:"short and stout",
        };

        vm.srcString ="this is a string";

        vm.srcExcel = "<table>"+
            "<tr>"+
            "<th>thing1</th>"+
            "<th>thing2</th>"+
            "</tr>"+
            "<tr>"+
            "<td>jeff</td>"+
            "<td>4</td>"+
            "</tr>"+
            "<tr>"+
            "<td>john</td>"+
            "<td>8</td>"+
            "</tr>"+
            "</table>";

        vm.destObject = {};

        vm.onDragStart = function(event){
            toast.info("Drag start");
        };

        vm.onDragEnd = function(event){
            toast.info("Drag end");
        };

        vm.onDragOver = function(event){
            toast.info("Drag over");
        };

        vm.onDragEnter = function(event){
            toast.info("Drag enter");
        };

        vm.onDragLeave = function(event){
            toast.info("Drag leave");
        };

        vm.onDropObject = function(event, transferObject){
            toast.info("Drop!");
            vm.destObject = transferObject;
            //Note that no promise is returned
        };

        vm.onDropString = function(event, transferObject){
            toast.info("Drop!");
            vm.destString = transferObject;
            return $q.resolve(true);
        };
    }
})();
