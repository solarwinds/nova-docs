/// <reference path="../../ref.d.ts" />

import StatusFilterController from "./statusFilter-controller";

/**
 * @ngdoc directive
 * @name xui.directive:xuiStatusFilter
 * @restrict E
 * @description
 * Element that provides objects collection filtration based on object's attribute.
 * Might be used with other components like xui-grid or xui-listview
 *
 * @parameters
 * @param {array} activeFilters Array of activated filters' names. Populates on filter's pane click.
 * Might be predefined from options.
 * @param {IStatusFilter[]} filterSource Collection of available filters.
 *  @param {string} filterSource.name Name of the filter.
 *  @param {number} filterSource.number Number of items, which have current filter type
 *  @param {string=} filterSource.tooltip Tooltip which will appear above filter button
 *  @param {boolean=} filterSource.tooltipAppendToBody Appends the tooltip to '$body' instead of the parent element.
 *  @param {string=} filterSource.emphasize Emphasize color for active state of filter button.
 *  Semantic colors available: <code>"xui-color-unknown-border" | "xui-color-info-border" | "xui-color-ok-border" |
 *  "xui-color-warning-border" | "xui-color-critical-border" | "xui-color-down-border" | "xui-color-unmanaged-border" |
 *  "xui-color-unrecheable-border" | "xui-color-external-border" | "xui-color-shutdown-border" |
 *  "xui-color-unplugged-border"</code>
 *  @param {string=} filterSource.icon Filter button icon. If not defined, name will be shown
 * @param {function=} filterChange Evaluates on filter's pane click. Might be used for further items array filtration.
 *
 * @example
 * <example module="xui">
 *     <file src="src/components/statusFilter/docs/statusFilter-examples.html" name="index.html"></file>
 *     <file src="src/components/statusFilter/docs/statusFilter-examples.js" name="app.js"></file>
 * </example>
 */

export default class StatusFilter implements ng.IDirective {
    public transclude = false;
    public replace = true;
    public template = require<string>("./statusFilter-directive.html");
    public restrict = "E";
    public scope = {};
    public bindToController = {
        activeFilters: "=",
        filterSource: "=",
        filterChange: "&?"
    };
    public controller = StatusFilterController;
    public controllerAs = "statusFilter";
}
