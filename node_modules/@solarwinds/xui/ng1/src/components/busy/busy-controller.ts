export default class BusyController {
    public static $inject = ["$q"];

    constructor(private $q:ng.IQService) {
    }

    public name:string;
    public isBusy:() => boolean;
    public message:string;
    public allowCancel:boolean;
    public onCancel:() => void;
    public showProgress:boolean;
    public percent:number;
    public helpText:string;

    public showCancel = ():boolean => {
        return angular.isDefined(this.allowCancel) ? this.allowCancel : angular.isFunction(this.onCancel);
    };

    public cancel = ():boolean => {
        if (angular.isFunction(this.onCancel)) {
            this.onCancel();
        }

        // We don't want to tell xui-progress to complete the cancel and hide itself. Instead
        // we will allow the consumer to control our state.
        return false;
    };
}
