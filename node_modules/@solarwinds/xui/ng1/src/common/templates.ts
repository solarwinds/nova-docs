///<reference path="../ref.d.ts"/>

import Module from "./module";

/**
 * Populate the template cache from .html files scattered throughout the project.
 *
 * @ngInject
 */
function templates($templateCache:ng.ITemplateCacheService) {
    const req = require.context("..", true, /^(?!.*\/docs\/).*\.html$/i);
    req.keys().forEach((r:any)=> {
        const key = "xui" + r.substr(1);
        const html = req(r);
        $templateCache.put(key, html);
    });
}

export default (module:Module)=> {
    module.app().run(templates);
};
