@import (reference) "xui-framework-variables.less";
@import (reference) "xui-icon-backgrounds.less";
@import (reference) "mixins/vendor-prefixes";
@import (reference) "mixins.less";

html {
    -webkit-tap-highlight-color: rgba(0,0,0,0);
}

body {
    font-family: @font-family-base;
    font-size: @xui-font-size-regular;
    line-height: @line-height-base;
    color: @text-color;
    background-color: @body-bg;
    margin: 0;
}

// Several classes in Bootstrap :extend the .clearfix class which has the unfortunate side effect
// of doubling the .xui namespace (.xui .xui) rendering them effectively useless
// so adding them back in framework to get proper clearfixes going on
.clearfix:before,
.clearfix:after,
.dl-horizontal dd:before,
.dl-horizontal dd:after,
.container:before,
.container:after,
.container-fluid:before,
.container-fluid:after,
.row:before,
.row:after,
.form-horizontal .form-group:before,
.form-horizontal .form-group:after,
.btn-toolbar:before,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:before,
.btn-group-vertical > .btn-group:after,
.nav:before,
.nav:after,
.navbar:before,
.navbar:after,
.navbar-header:before,
.navbar-header:after,
.navbar-collapse:before,
.navbar-collapse:after,
.pager:before,
.pager:after,
.panel-body:before,
.panel-body:after,
.modal-footer:before,
.modal-footer:after {
    content: " ";
    display: table;
}

.clearfix:after,
.dl-horizontal dd:after,
.container:after,
.container-fluid:after,
.row:after,
.form-horizontal .form-group:after,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:after,
.nav:after,
.navbar:after,
.navbar-header:after,
.navbar-collapse:after,
.pager:after,
.panel-body:after,
.modal-footer:after {
    clear: both;
}

// overrides for button classes
// TYPE.LESS OVERRIDES
blockquote, .blockquote-reverse {
    border-left: 0;
    border-right: 0;
    padding-left: 0;
    padding-right: 0;
}

.lead {
    margin-bottom: @padding-large-vertical;
}

.text-primary, .text-success, .text-info, .text-warning, .text-danger {
    font-weight: @xui-font-weight-bold;
}

.xui-input-help {
    color: @xui-color-neutral-text;
}

.dropup,
.navbar-fixed-bottom .dropdown {
    // Reverse the caret
    .caret {
        border-top: 0;
        border-bottom: 0;
        content: "";
    }
}

// TABLES.LESS OVERRIDES
.table {
    border-collapse: separate;

    > thead {
        background-color: @xui-color-default-bg;
        color: @xui-color-header;
        border: 1px solid @xui-color-default-bg;

        > th {
            font-weight: @xui-font-weight-semibold;
        }
    }

    > tbody > tr > td, > tbody > tr > th {
        border-top: 1px solid @xui-color-light-bg;
        border-bottom: 1px solid @xui-color-light-bg;
        border-left: 0;
        border-right: 0;
        &:first-child {
            border-left: 1px solid @xui-color-light-bg;
        }

        &:last-child {
            border-right: 1px solid @xui-color-light-bg;
        }
    }

    > thead, > tbody, > tfoot {
        > tr {
            > th, > td {
                padding-left: 15px;
                padding-right: 15px;
            }
        }
    }
}

ul {
    list-style: none;
}

.list-group {
    > .list-group-item {
        border: none;
        margin: 0;
    }

    &.list-group-striped {
        > .list-group-item {
            &:nth-of-type(odd) {
                background-color: @xui-color-zebra-bg;
            }

            &.xui-listitem {
                &.xui-listitem--selected {
                    .listitem--selected();
                }
            }
        }
    }
}

.table-striped {
    > tbody > tr:nth-of-type(odd) > td, > tbody > tr:nth-of-type(odd) > th {
        border-top-color: @xui-color-zebra-bg;
        border-bottom-color: @xui-color-zebra-bg;
        &:first-child {
            border-left-color: @xui-color-zebra-bg;
        }

        &:last-child {
            border-right-color: @xui-color-zebra-bg;
        }
    }
}

.table-hover > tbody > tr:hover > td, .table-hover > tbody > tr:hover > th {
    border-color: @xui-color-selected-border !important;
}

.table > thead > tr > td.active,
.table > tbody > tr > td.active,
.table > tfoot > tr > td.active,
.table > thead > tr > th.active,
.table > tbody > tr > th.active,
.table > tfoot > tr > th.active,
.table > thead > tr.active > td,
.table > tbody > tr.active > td,
.table > tfoot > tr.active > td,
.table > thead > tr.active > th,
.table > tbody > tr.active > th,
.table > tfoot > tr.active > th {
    border-top-color: @xui-color-selected;
    border-bottom-color: @xui-color-selected;
}

.table > thead > tr > td.success,
.table > tbody > tr > td.success,
.table > tfoot > tr > td.success,
.table > thead > tr > th.success,
.table > tbody > tr > th.success,
.table > tfoot > tr > th.success,
.table > thead > tr.success > td,
.table > tbody > tr.success > td,
.table > tfoot > tr.success > td,
.table > thead > tr.success > th,
.table > tbody > tr.success > th,
.table > tfoot > tr.success > th {
    border-top-color: @xui-color-ok-bg;
    border-bottom-color: @xui-color-ok-bg;
    color: @xui-color-ok-text;
}

.table > thead > tr > td.info,
.table > tbody > tr > td.info,
.table > tfoot > tr > td.info,
.table > thead > tr > th.info,
.table > tbody > tr > th.info,
.table > tfoot > tr > th.info,
.table > thead > tr.info > td,
.table > tbody > tr.info > td,
.table > tfoot > tr.info > td,
.table > thead > tr.info > th,
.table > tbody > tr.info > th,
.table > tfoot > tr.info > th {
    border-top-color: @xui-color-info-bg;
    border-bottom-color: @xui-color-info-bg;
    color: @xui-color-info-text;
}

.table > thead > tr > td.warning,
.table > tbody > tr > td.warning,
.table > tfoot > tr > td.warning,
.table > thead > tr > th.warning,
.table > tbody > tr > th.warning,
.table > tfoot > tr > th.warning,
.table > thead > tr.warning > td,
.table > tbody > tr.warning > td,
.table > tfoot > tr.warning > td,
.table > thead > tr.warning > th,
.table > tbody > tr.warning > th,
.table > tfoot > tr.warning > th {
    border-top-color: @xui-color-warning-bg;
    border-bottom-color: @xui-color-warning-bg;
    color: @xui-color-warning-text;
}

.table > thead > tr > td.danger,
.table > tbody > tr > td.danger,
.table > tfoot > tr > td.danger,
.table > thead > tr > th.danger,
.table > tbody > tr > th.danger,
.table > tfoot > tr > th.danger,
.table > thead > tr.danger > td,
.table > tbody > tr.danger > td,
.table > tfoot > tr.danger > td,
.table > thead > tr.danger > th,
.table > tbody > tr.danger > th,
.table > tfoot > tr.danger > th {
    border-top-color: @xui-color-critical-bg;
    border-bottom-color: @xui-color-critical-bg;
    color: @xui-color-critical-text;
}

.table-bordered {
    border: 1px solid @xui-color-border;
}
// FORMS.LESS OVERRIDES
textarea.form-control {
    height: auto;
}

select.form-control {
    padding-top: 3px;
    padding-bottom: 3px;
}

.form-inline > .form-group {
    margin-right: @padding-base-horizontal * 3;

    label {
        margin-right: @padding-base-horizontal;
    }
}

.has-error .form-control {
    background-color: @xui-color-critical-bg;
    border-color: @xui-color-critical-border;
    color: @xui-color-critical-text;
    font-weight: @xui-font-weight-semibold;
}

.has-warning .form-control {
    background-color: @xui-color-warning-bg;
    border-color: @xui-color-warning-border;
    color: @xui-color-warning-text;
    font-weight: @xui-font-weight-semibold;
}

// we don't want Chrome to show blue outlines around all clickable items (it shows it for buttons anyway)
[role="button"] {
    outline: none;
}

// common styling mixin for text inputs / textareas
.xui-input-text() {
    &:focus, &:active {
        border-color: @xui-color-input-focus;
        box-shadow: inset 0 1px 3px fade(@xui-color-border,50%);
    }
    &[disabled] {
        &:hover, &:focus, &:active {
            border-color: fade(@xui-color-border, 60%);
        }
    }
    &::-ms-clear {
        display: none;
    }
}

// style override for uib-typeahead,
// otherwise it loses specificity fight because of .xui namespace nesting for .dropdown-menu base styles
[uib-typeahead-popup].dropdown-menu {
    display: block;
}

.xui-no-animate {
    .transition(none) !important;
    .animation(none 0s) !important;
}
