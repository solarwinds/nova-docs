(function () {
    "use strict";

    Xui.module
        .controller("DemoSortingController", DemoSortingController, ["xuiSortingService"]);
    
    function DemoSortingController(sortingService) {
        var vm = this;

        vm.items = [{name: "c", value: 2}, {name: "a", value: 1}, {name: "b", value: 3}];
        vm.itemsFormatted = JSON.stringify(vm.items , null, 2);
        vm.sortedItems = null;
        vm.sortByNameAsc = function () {
            var sortedArr = sortingService.sortBy(vm.items, "name");
            vm.sortedItems = JSON.stringify(sortedArr, null, 2);
        };
        vm.sortByValueDesc = function () {
            var sortedArr = sortingService.sortBy(vm.items, "value", "desc");
            vm.sortedItems = JSON.stringify(sortedArr, null, 2);
        };
        vm.complexItems = [{
            name: "c",
            config: {id: 2}
        }, {
            name: "a",
            config: {id: 111}
        }, {
            name: "b",
            config: {id: 33}
        },{
            name: "X",
            foo: "I don't have a config.path"
        }];
        vm.complexItemsFormatted = JSON.stringify(vm.complexItems , null, 2);
        vm.complexSortedItems = null;

        vm.complexSortByNameAsc = function () {
            var sortedArr = sortingService.sortBy(vm.complexItems, "config.id");
            vm.complexSortedItems = JSON.stringify(sortedArr, null, 2);
        };

        vm.complexSortByValueDesc = function () {
            var sortedArr = sortingService.sortBy(vm.complexItems, "config.id", "desc");
            vm.complexSortedItems = JSON.stringify(sortedArr, null, 2);
        };
    }
})();