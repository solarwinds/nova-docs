import { Component, Inject } from "@angular/core";

import * as xui from "xui";
import { IEventPropagationService, IToastService } from "../../../../../src/services";

@Component({
    selector: "xui-event-propagation-service-example",
    template: require<string>("./event-propagation-service.example.component.html")
})
export class EventPropagationServiceExampleComponent {

    constructor(@Inject(xui.EventPropagationService) private eventPropagationService: IEventPropagationService,
                @Inject(xui.ToastService) private toastService: IToastService,) {
    }

    public handleClick (event: Event): void {
        const target = <Element>event.target;
        this.toastService.clear();
        if (this.eventPropagationService.targetShouldPropagate(event)) {
            this.toastService.success("Event Target Tag Name: " + target.tagName, "Event Propagates!");
        } else {
            this.toastService.warning("Event Target Tag Name: " + target.tagName, "Event Doesn't Propagate!");
        }
    }
}
