import { PopupComponent } from "./popup.component";
import { EdgeDetectionService } from "../../index";
import { ElementRef } from "@angular/core";
import { Logger } from "angular2-logger/app/core/logger";

describe("components >", () => {
    describe("popup >", () => {
        let subject: PopupComponent;

        beforeEach(() => {
            let edgeDetector = new EdgeDetectionService(new Document(), new Logger());
            subject = new PopupComponent(new MockElementRef(), edgeDetector);
        });

        describe("toggleOpened >", () => {
            it("should set opened if it is not", () => {
                subject.opened = false;
                subject.toggleOpened();

                expect(subject.opened).toBe(true);
            });

            it("should discard opened flag if it is", () => {
                subject.opened = true;
                subject.toggleOpened();

                expect(subject.opened).toBe(false);
            });
        });
    });
});

export class MockElementRef extends ElementRef {
    constructor() { super(null); }
}
