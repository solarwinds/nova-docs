@import (reference) "../../styles/xui-framework-variables.less";
@import (reference) "../../styles/xui-framework-animations.less";
@import (reference) "../../styles/mixins.less";

@xui-toast-top: 40px + @padding-base-vertical;
@xui-toast-max-width: 450px;
@xui-toast-min-width: 300px;
@xui-toast-progress-height: 2px;

.xui {
    .toast {
        &-fade-out {
            .opacity(0) !important; //needs to override opacity effect on toast component
        }
        &-animation {
            .transition(0.3s linear all);
        }
        &-title {
            font-weight: @xui-font-weight-bold;
            margin-right: (@padding-large-horizontal + @icon-size-small);
        }
        &-close-icon {
            position: relative;
            float: right;
            outline: none;
            .opacity(1);
            cursor: pointer;
        }

        &-progress {
            position: absolute;
            left: 0;
            bottom: 0;
            height: @xui-toast-progress-height;
        }

        // Positioning
        &-top-center {
            top: @xui-toast-top;
            right: 0;
            width: 100%;
        }
        &-bottom-center {
            bottom: @padding-base-vertical;
            right: 0;
            width: 100%;
        }
        &-top-full-width {
            top: 0;
            right: 0;
            width: 100%;
        }
        &-bottom-full-width {
            bottom: 0;
            right: 0;
            width: 100%;
        }
        &-top-left {
            top: @xui-toast-top;
            left: @padding-base-vertical;
        }
        &-top-right {
            top: @xui-toast-top;
            right: @padding-base-vertical;
        }
        &-bottom-right {
            right: @padding-base-vertical;
            bottom: @padding-base-vertical;
        }
        &-bottom-left {
            bottom: @padding-base-vertical;
            left: @padding-base-vertical;
        }
    }

    .toast-container {
        position: fixed;
        z-index: @zindex-toast;
        pointer-events: none;

        &.toast-top-center > .xui-toast,
        &.toast-bottom-center > .xui-toast {
            margin-left: auto;
            margin-right: auto;
        }
        &.toast-top-full-width > .xui-toast,
        &.toast-bottom-full-width > .xui-toast {
            width: 100%;
            max-width: 100%;
            margin-left: auto;
            margin-right: auto;
        }
    }

    .xui-toast {
        border-radius: 0;
        border-width: 1px;
        border-style: solid;
        position: relative;
        pointer-events: auto;
        overflow: hidden;
        max-width: @xui-toast-max-width;
        min-width: @xui-toast-min-width;
        margin: 0 0 @margin-base-vertical;
        padding: @padding-base-horizontal @padding-base-horizontal @padding-base-horizontal ((@padding-base-horizontal * 2) + @icon-size-default);
        background-position: @padding-base-horizontal @padding-base-horizontal;
        background-repeat: no-repeat;
        background-size: @icon-size-default;
        .default-drop-shadow();
        .opacity(.8);
        &:last-child {
            margin-bottom: 0;
        }

        &--info {
            //here and later !important needs to override .xui-icon-hascontents transparent bg
            background-color: @xui-color-info-bg !important;
            border-color: @xui-color-info-border;
            color: @xui-color-info-text !important;
            &:hover {
                .opacity(1);
            }
            .toast-progress {
                background-color: @xui-color-info-border;
            }
        }
        &--error {
            background-color: @xui-color-critical-bg !important;
            border-color: @xui-color-critical-border;
            color: @xui-color-critical-text !important;
            &:hover {
                .opacity(1);
            }
            .toast-progress {
                background-color: @xui-color-critical-border;
            }
        }
        &--warning {
            background-color: @xui-color-warning-bg !important;
            border-color: @xui-color-warning-border;
            color: @xui-color-warning-text !important;
            &:hover {
                .opacity(1);
            }
            .toast-progress {
                background-color: @xui-color-warning-border;
            }
        }
        &--success {
            background-color: @xui-color-ok-bg !important;
            border-color: @xui-color-ok-border;
            color: @xui-color-ok-text !important;
            &:hover {
                .opacity(1);
            }
            .toast-progress {
                background-color: @xui-color-ok-border;
            }
        }
    }
}
