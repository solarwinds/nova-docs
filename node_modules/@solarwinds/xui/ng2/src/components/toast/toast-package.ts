import { Subject } from "rxjs/Subject";
import { IToastConfig } from "./toast-config";
import { SafeHtml } from "@angular/platform-browser";
import { Observable } from "rxjs/Observable";
import { ToastRef } from "./toast-ref";
import {Injectable} from "@angular/core";

/**
 * __Description:__ Represents metadata of a toast.
 * Used as injectable entity, that injects into a toast component.
 */
@Injectable()
export class ToastPackage {
    private onClickSubject: Subject<any> = new Subject();

    constructor(
        public toastId: number,
        public config: IToastConfig,
        public body: string | SafeHtml,
        public title: string,
        public toastType: string,
        public toastRef: ToastRef<any>,
    ) { }

    /** Fires when click on toast is happened*/
    public triggerClick(): void {
        this.onClickSubject.next();
    }

    public onClick(): Observable<any> {
        return this.onClickSubject.asObservable();
    }

}
