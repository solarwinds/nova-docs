import { CodeComponent } from "./code.component";
import { ElementRef } from "@angular/core";
import * as hljs from "highlight.js";

describe("components >", () => {
    describe("code >", () => {
        let subject: CodeComponent;
        beforeEach(() => {
            subject = new CodeComponent;
            subject.codeElement =  {nativeElement: document.createElement("div")} as ElementRef;
        });

        describe("ngAfterViewInit", () => {
            it("should call hljs highlightBlock method", () => {
                spyOn(hljs, "highlightBlock");
                subject.ngAfterViewInit();
                expect(hljs.highlightBlock).toHaveBeenCalled();
            });
        });
    });
});
