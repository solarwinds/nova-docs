<div class="xui-listview">
    <div class="xui-listview-header">
        <ng-content select="[listHeaderTemplate]"></ng-content>
    </div>

    <div *ngIf="itemsSource && itemsSource.length; else emptyListTemplate">
        <ul class="list-group" role="list" [ngClass]="{'list-group-striped': striped}">

            <xui-list-item class="list-group-item" *ngFor="let item of itemsSource"
                (click)="itemClicked(item)"
                [clickable]="selectionMode === 'single'"
                [nowrap]="true"
                [paddingSize]="paddingSize"
                [selected]="isItemSelected(item)">

                <div *ngIf="selectionMode === 'multi'; then multiSelectionTemplate else singleSelectionTemplate"></div>
                <ng-template #multiSelectionTemplate>
                    <div class="xui-list-item__container">
                        <div class="xui-list-item__select">
                            <xui-checkbox
                                (valueChange)="multiSelectionChanged(item)"
                                [value]="item"
                                [checked]="isItemSelected(item)"
                                [disabled]="item.disabled">
                            </xui-checkbox>
                        </div>
                        <div class="xui-list-item__select-content">
                            <ng-container [ngTemplateOutlet]="listItemTemplateRef"
                                          [ngTemplateOutletContext]="{item:item}">
                            </ng-container>

                            <ng-container *ngIf="!listItemTemplateRef">
                                <ng-template ngFor let-item [ngForOf]="[item]" [ngForTemplate]="listItemTemplate">
                                </ng-template>
                            </ng-container>
                        </div>
                    </div>
                </ng-template>
                <ng-template #singleSelectionTemplate>
                    <ng-container [ngTemplateOutlet]="listItemTemplateRef"
                                  [ngTemplateOutletContext]="{item:item}">
                    </ng-container>

                    <ng-container *ngIf="!listItemTemplateRef">
                        <ng-template ngFor let-item [ngForOf]="[item]" [ngForTemplate]="listItemTemplate">
                        </ng-template>
                    </ng-container>
                </ng-template>
            </xui-list-item>

        </ul>
    </div>

    <ng-template #emptyListTemplate>
        <xui-empty [emptyData]="emptyData"></xui-empty>
    </ng-template>
</div>
