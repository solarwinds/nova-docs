import {
    Component,
    ElementRef,
    EventEmitter,
    Input,
    Output
} from "@angular/core";
import {
    IEmptyData,
    ListSelectionMode,
    PaddingOptions
} from "../../index";

/**
 * Grid is used for displaying of continuous rows.
 * It supports slection modes: "single" or "multi"
 * <example-url>./../../../demo/index.html#/grid</example-url>
 */
@Component({
    selector: "xui-grid",
    template: require<string>("./grid.component.html")
})
export class GridComponent {
    /**
     * Whether the rows should be striped.
     */
    @Input() public striped = false;
    /**
     * Array of items to be displayed in the table.
     */
    @Input() public itemsSource = [] as any[];

    /**
     * Available values are:
     * "multi": displayes checkboxes on every row,
     * "single": single row can be selected by click on it,
     * "none": selection is disabled
     */
    @Input() public selectionMode = ListSelectionMode.none;
    /**
     * Array of selected items when "multi" selection mode is used.
     */
    @Input() public selection = [] as any[];
    /**
     * Empty data parameters object
     */
    @Input() public emptyData: IEmptyData;

    /**
     * Sets the padding of the row around the content. Available values are:
     * "regular" (15px), "narrow" (15px; 7px), "compact" ( 5px; 7px) or "none" (0px).
     */
    @Input() public paddingSize: PaddingOptions; // = PaddingOptions.none;
    /**
     * List item template is passed here
     */
    @Input() public gridListItemTemplate: ElementRef;
    /**
     * Emits when set of selected items changes
     */
    @Output() public selectionChange = new EventEmitter();

    public handleSelectionChange(selection: any[]) {
        this.selectionChange.emit(selection);
    }
}
