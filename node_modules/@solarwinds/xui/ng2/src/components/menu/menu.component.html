<xui-popup>
    <button xui-button popupToggle
        [displayStyle]="displayStyle"
        [size]="size"
        [icon]="icon">

        <span>{{title}}<xui-icon class="xui-menu-btn-arrow"
            icon="caret-down"
            [iconSize]="iconSize"
            [iconColor]="iconColor"></xui-icon>
        </span>
    </button>

    <div popupAreaContent>
        <ng-content></ng-content>
    </div>
    <div popupAreaContent *ngIf="itemsSource">
        <ng-template ngFor let-item [ngForOf]="itemsSource">
            <ng-container [ngSwitch]="item.itemType">
                <ng-container *ngSwitchCase="'action'">
                    <xui-menu-action [disabled]="item.disabled"
                                     [icon]="item.icon"
                                     *ngIf="!item.removed"
                                     [hidden]="item.hidden"
                                     (click)="item.action()">{{item.title}}</xui-menu-action>
                </ng-container>
                <ng-container *ngSwitchCase="'link'">
                    <xui-menu-link [disabled]="item.disabled"
                                   [url]="item.url"
                                   [target]="item.target"
                                   [icon]="item.icon"
                                   *ngIf="!item.removed"
                                   [hidden]="item.hidden">{{item.title}}</xui-menu-link>
                </ng-container>
                <ng-container *ngSwitchCase="'header'">
                    <xui-menu-header>{{item.title}}</xui-menu-header>
                </ng-container>
                <ng-container *ngSwitchCase="'option'">
                    <xui-menu-option [disabled]="item.disabled"
                                     [checked]="item.checked">{{item.title}}</xui-menu-option>
                </ng-container>
            </ng-container>
        </ng-template>
    </div>
</xui-popup>
