import {by, element, promise, ElementFinder} from "@solarwinds/uzi/protractor";
import Helpers from "../helpers";
import {SidebarAtom} from "../index.atom";
import {Atom} from "@solarwinds/uzi";

describe("USERCONTROL sidebar: ", () => {
    let leftSidebarAtom: SidebarAtom;
    let rightSidebarAtom: SidebarAtom;
    let toggleLeftSidebarButton: ElementFinder;
    let toggleRightSidebarButton: ElementFinder;

    beforeEach(() => {
        Helpers.prepareBrowser("sidebar");
        toggleLeftSidebarButton = element(by.id("xui-demo-toggle-left-sidebar"));
        toggleRightSidebarButton = element(by.id("xui-demo-toggle-right-sidebar"));
        leftSidebarAtom = Atom.find(SidebarAtom, "xui-demo-left-sidebar");
        rightSidebarAtom = Atom.find(SidebarAtom, "xui-demo-right-sidebar");
    });

    it("should open on the left side of the container", () => {
        toggleLeftSidebarButton.click();
        expect(leftSidebarAtom.leftSidebarIsPresent()).toBe(true);
        toggleLeftSidebarButton.click();
        expect(leftSidebarAtom.leftSidebarIsPresent()).toBe(false);
    });

    it("should open on the right side of the container", () => {
        toggleRightSidebarButton.click();
        expect(rightSidebarAtom.rightSidebarIsPresent()).toBe(true);
        toggleRightSidebarButton.click();
        expect(rightSidebarAtom.rightSidebarIsPresent()).toBe(false);
    });
});
