import {by, element, promise} from "@solarwinds/uzi/protractor";
import Helpers from "../helpers";
import { CheckboxGroupAtom, CheckboxAtom } from "../index.atom";
import {Atom} from "@solarwinds/uzi";

describe("USERCONTROL Checkbox Group", () => {

    let checkboxGroup: CheckboxGroupAtom;
    let checkbox1: CheckboxAtom;
    let checkbox2: CheckboxAtom;
    let checkbox3: CheckboxAtom;
    let checkbox4: CheckboxAtom;

    beforeEach(() => {
        Helpers.prepareBrowser("checkbox-group");
        checkboxGroup = Atom.findIn(CheckboxGroupAtom, element(by.id("xui-demo-checkbox-group")));
        checkbox1 = checkboxGroup.getCheckbox("Cabbage");
        checkbox2 = checkboxGroup.getCheckbox("Potato");
        checkbox3 = checkboxGroup.getCheckbox("Tomato");
        checkbox4 = checkboxGroup.getCheckbox("Carrot");
    });

    it("checking works in a pre-checked group", () => {
        expect(checkbox1.isChecked()).toBe(false);
        expect(checkbox2.isChecked()).toBe(true);
        expect(checkbox3.isChecked()).toBe(true);
        expect(checkbox4.isChecked()).toBe(false);
        checkbox3.click();
        expect(checkbox3.isChecked()).toBe(false);
    });

    it("checking works in a pre-checked group", () => {
        const invertValues = Atom.findIn(CheckboxAtom, element(by.id("xui-demo-invert-values")));
        invertValues.click();
        expect(checkbox1.isChecked()).toBe(true);
        expect(checkbox2.isChecked()).toBe(false);
        expect(checkbox3.isChecked()).toBe(false);
        expect(checkbox4.isChecked()).toBe(true);
    });

});
