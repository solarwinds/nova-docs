import {by, ElementFinder, promise} from "@solarwinds/uzi/protractor";
import {Atom} from "@solarwinds/uzi";

export class FileUploadAtom extends Atom {
    public static CSS_CLASS = "xui-file-upload";

    public async selectFile(path: string) : Promise<void> {
        return await this.getInput().sendKeys(path);
    }

    public getInput = () : ElementFinder => {
        return super.getElement().element(by.css("input[type='file']"));
    };

    public getBrowseButton = () : ElementFinder => {
        return super.getElement().element(by.className("xui-file-upload__browse"));
    };

    public getChangeButton = () : ElementFinder => {
        return super.getElement().element(by.className("xui-file-upload__change"));
    };

    public getRemoveButton = () : ElementFinder => {
        return super.getElement().element(by.className("xui-file-upload__remove"));
    };

    public getNofileHint = () : ElementFinder => {
        return super.getElement().element(by.className("xui-help-hint"));
    };

    public getFilenameLabel = () : ElementFinder => {
        return super.getElement().element(by.className("xui-file-upload__file-name"));
    };

    public getInvalidLabel = () : ElementFinder => {
        return super.getElement().element(by.className("xui-file-upload__invalid"));
    };

    public getDisplayedFileName = () : promise.Promise<string> => {
        return this.getFilenameLabel().getText();
    }
}
