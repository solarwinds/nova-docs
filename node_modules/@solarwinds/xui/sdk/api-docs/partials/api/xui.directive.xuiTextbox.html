<h1><code ng:non-bindable="">xuiTextbox</code>
<div><span class="hint">directive in module <code ng:non-bindable="">xui</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="xui-directive-page xui-directive-xuitextbox-page"><p>XUI Textbox description.</p>
</div></div>
<h2 id="usage">Usage</h2>
<div class="usage">as element:<pre class="prettyprint linenums">&lt;xui-textbox
       caption="{string}"
       placeholder="{string}"
       validators="{string}"
       type="{string}"
       rows="{string}"
       name="{string}"
       help-text="{string}"
       is-disabled="{string}"
       is-read-only="{string}"
       [is-required="{boolean}"]
       ng-model-options="{object}"
       custom-box-width="{string}"
       suffix="{string}"&gt;
&lt;/xui-textbox&gt;</pre>
<h4 id="usage_parameters">Parameters</h4><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>caption</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Value used as a label for the text box.</p>
</div></td></tr><tr><td>placeholder</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Value used as a placeholder for the text box.</p>
</div></td></tr><tr><td>validators</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Comma-delimmited string of validator identifiers along with parameters (e.g. min=-5).</p>
</div></td></tr><tr><td>type</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Type of input box (e.g. email, number, password).</p>
</div></td></tr><tr><td>rows</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Number of rows for input.</p>
</div></td></tr><tr><td>name</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Name of the element.</p>
</div></td></tr><tr><td>help-text</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Help content provided below the text box.</p>
</div></td></tr><tr><td>is-disabled</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Expression to disable the text box.</p>
</div></td></tr><tr><td>is-read-only</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Expression to make the text box read only.</p>
</div></td></tr><tr><td>is-required <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Attribute to set/change conditional &#39;required&#39; validation.</p>
</div></td></tr><tr><td>ng-model-options</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>This component also supports <code>ng-model-options</code> directive for binding to forms.</p>
</div></td></tr><tr><td>custom-box-width</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Use to set a custom width for the input field.</p>
</div></td></tr><tr><td>suffix</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="xui-directive-page xui-directive-xuitextbox-page"><p>Use to set suffix (in conjunction with custom width).</p>
</div></td></tr></tbody></table></div>
<h2 id="example">Example</h2>
<div class="example"><div class="xui-directive-page xui-directive-xuitextbox-page"><h4 id="example_source">Source</h4>
<div source-edit="xui" source-edit-deps="angular.js app.js" source-edit-html="index.html-74" source-edit-css="" source-edit-js="app.js" source-edit-json="" source-edit-unit="" source-edit-scenario=""></div>
<div class="tabbable"><div class="tab-pane" title="index.html">
<pre class="prettyprint linenums" ng-set-text="index.html-74" ng-html-wrap-loaded="xui angular.js app.js"></pre>
<script type="text/ng-template" id="index.html-74"><link rel="stylesheet" type="text/css" href="http://localhost:8282/dist/css/xui.css">
<base href="/">
<ng-form>
    <div class="xui" ng-controller="DemoTextBoxController as vm">
        <div class="row">
            <div class="col-md-4">
                <xui-textbox ng-model="vm.readOnlyDisplayValue" caption="Read Only"
                             placeholder="Read Only" is-read-only="true">
                </xui-textbox>
            </div>
            <div class="col-md-4">
                <xui-textbox ng-model="vm.disabledDisplayValue" caption="Disabled"
                             placeholder="Disabled" is-disabled="true"></xui-textbox>
            </div>
            <div class="col-md-4">
                <xui-textbox ng-model="vm.plainValue" caption="Plain"
                             placeholder="Plain"></xui-textbox>
            </div>
        </div>
        <xui-textbox ng-model="vm.displayvalue" caption="MultiLine"
                     placeholder="MultiLine" validators="required" rows="2">
            <div ng-message="required">This field is required</div>
        </xui-textbox>
        <br>
        <xui-textbox type="email" ng-model="vm.validEmail" caption="Validation"
                     placeholder="email address" help-text="This is supposed to be an email address.
              It is also required." validators="required,email">
            <div ng-message="required">This field is required</div>
            <div ng-message="email">This field must be a valid email address</div>
        </xui-textbox>
        <br>
        <xui-textbox type="number" ng-model="vm.numberValue"
                     caption="Number type with Debounced/delayed validation"
                     help-text="This must be a number between -5 and 5."
                     validators="required,min=-5,max=5"
                     ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 2000, 'blur': 0 } }"
                     ng-change="vm.onChange()">
            <div ng-message="min">too low!</div>
            <div ng-message="max">too high!</div>
        </xui-textbox>

        <xui-textbox ng-model="vm.regexValue"
                    caption="Regex validation"
                    help-text="Only 'apollo-rulezz' value is allowed"
                    ng-pattern="'{{vm.regexPattern}}'">
            <div ng-message="pattern">Very bad value!</div>
        </xui-textbox>

        <xui-textbox ng-model="vm.numberValue" caption="Fixed Width"
                     placeholder="short!" custom-box-width="100px"
                     help-text="This is a very long message that should be much wider than the plain old text box.
          It should demonstrate that the text goes further than the box does"
                     validators="required" suffix="Units">
            <div ng-message="required">This should also be a very long message
                that gets the point across that the user is, in fact, in error. Required.
            </div>
        </xui-textbox>
        <xui-textbox ng-model="vm.ipAddress"
                     caption="Is IPV4 Subnet?"
                     help-text="Demonstrates async validation [192.168.1.0-255]"
                     validators="customip">
        </xui-textbox>

        <xui-switch
                ng-model="vm.isRequired">Switch to change 'required' for fields below.</xui-switch>
        <div class="row">
            <div class="col-md-6">
                <xui-textbox ng-model="vm.plainValue" caption="Plain"
                             placeholder="Plain" is-required="vm.isRequired"
                             help-text="Use switch to set the field is required or not">
                    <div ng-message="required">This field is required</div>
                </xui-textbox>
            </div>
        </div>

        <xui-textbox type="email" ng-model="vm.validEmail" caption="Validation"
                     placeholder="email address" is-required="vm.isRequired"
                     help-text="This is supposed to be an email address. 'Required' depends on switch."
                     validators="email">
            <div ng-message="required">This field is required</div>
            <div ng-message="email">This field must be a valid email address</div>
        </xui-textbox>
    </div>
</ng-form>
</script>
</div>
<div class="tab-pane" title="app.js">
<pre class="prettyprint linenums" ng-set-text="app.js"></pre>
<script type="text/ng-template" id="app.js">(function () {
    "use strict";

    Xui.module
        .controller("DemoTextBoxController", DemoTextBoxController, ["$log"])
        .directive("customip", customip, ["$timeout"]);


    function DemoTextBoxController($log) {
        var vm = this;

        vm.isRequired = true;

        vm.readOnlyDisplayValue = 'this is read only';
        vm.disabledDisplayValue = 'this is disabled text';
        vm.plainValue = 'plain text';
        vm.validEmail = "krustyTheClown@oldskool.museum";
        vm.numberValue = 23;
        vm.regexValue = "";
        vm.regexPattern = "^apollo-rulezz$";
        vm.ipAddress = "0.0.0.0";

        vm.onChange = function () {
            $log.info("text value changed", arguments);
        };
    }

    function customip($timeout) {
        return {
            require: 'ngModel',
            restrict: '',
            link: function (scope, elm, attrs, ctrl) {
                if (ctrl) {
                    ctrl.$asyncValidators.customIp = function (modelValue, viewValue) {
                        return $timeout(function () {
                            var isValid = true;
                            var octets = modelValue.split(".");

                            if (octets.length !== 4) {
                                isValid = false;
                            } else {
                                isValid = parseInt(octets[0]) === 192 &&
                                    parseInt(octets[1]) === 168 &&
                                    parseInt(octets[2]) === 1 &&
                                    (parseInt(octets[3]) >= 0 && parseInt(octets[3]) <= 255);
                            }

                            ctrl.$setValidity('customip', isValid);
                            return isValid;
                        }, 2000);
                    };
                }
            }
        };
    }
})();
</script>
</div>
</div><h4 id="example_demo">Demo</h4>
<div class="well doc-example-live animate-container" ng-embed-app="xui" ng-set-html="index.html-74" ng-eval-javascript="app.js"></div>
</div></div>
</div>
