"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
const protractor_1 = require("@solarwinds/uzi/protractor");
const index_atom_1 = require("../index.atom");
const uzi_1 = require("@solarwinds/uzi");
const helpers_1 = require("../helpers");
describe("USERCONTROL slider", () => {
    let singleValueSlider;
    let singleSliderModelValue;
    let rangeSlider;
    let rangeSliderModelStartValue;
    let rangeSliderModelEndValue;
    let disabledRangeSlider;
    let disabledSingleSlider;
    /* these needs to be same as the real inputs what are in html */
    const minValue = 10;
    const maxValue = 100;
    const defaultMinRange = 1;
    const initialRange = {
        start: 30,
        end: 60
    };
    const initialSingeValue = 50;
    const sliderOutrange = 800;
    const clickPrecision = 3;
    beforeEach(() => {
        helpers_1.default.prepareBrowser("slider");
    });
    describe("single value slider", () => {
        describe("without steps", () => {
            beforeEach(() => {
                singleValueSlider = uzi_1.Atom.find(index_atom_1.SliderAtom, "single-value-slider");
                singleSliderModelValue = protractor_1.element(protractor_1.by.id("single-value-slider-value"));
            });
            it("should have initial value set", () => {
                expect(singleValueSlider.getValue()).toBe(initialSingeValue);
            });
            it("should not have any steps at all", () => {
                expect(singleValueSlider.getSteps().count()).toBe(0);
            });
            it("should set the exact value by dragging", () => {
                let value = 40;
                singleValueSlider.dragSingleSliderToValue(value, minValue, maxValue);
                expect(singleValueSlider.getValue()).toBe(value);
            });
            it("should set the minimum value by dragging far to the left", () => __awaiter(this, void 0, void 0, function* () {
                yield singleValueSlider.dragSingleSliderTo(-sliderOutrange);
                const val = yield singleValueSlider.getValue();
                expect(val).toBe(minValue);
            }));
            it("should set the maximum value by dragging far to the right", () => {
                singleValueSlider.dragSingleSliderTo(sliderOutrange);
                expect(singleValueSlider.getValue()).toBe(maxValue);
            });
            it("should set the exact value on clicking on the grey line", () => {
                const onLineValue = 66;
                singleValueSlider.setSingleSliderValueByLineclick(onLineValue, minValue, maxValue);
                singleValueSlider.getValue().then((value) => {
                    expect(Math.abs(value - onLineValue)).toBeLessThan(clickPrecision);
                });
            });
            it("should set the exact value on clicking on the blue line", () => {
                const val = 30;
                singleValueSlider.setSingleSliderValueByLineclick(val, minValue, maxValue);
                expect(singleValueSlider.getValue()).toBe(val);
            });
            it("should set the exact value on clicking on start edge", () => {
                const val = minValue;
                singleValueSlider.setSingleSliderValueByLineclick(val, minValue, maxValue);
                expect(singleValueSlider.getValue()).toBe(val);
            });
            it("should set the exact value on clicking on end edge", () => {
                const val = maxValue;
                singleValueSlider.setSingleSliderValueByLineclick(val, minValue, maxValue);
                expect(singleValueSlider.getValue()).toBe(val);
            });
            it("should remain initial value when dragging is canceled by pressing ESC", () => {
                singleValueSlider.dragSingleSliderToValue(90, minValue, maxValue, { finishDrag: false });
                singleValueSlider.cancelDragging();
                expect(singleValueSlider.getValue()).toBe(initialSingeValue);
            });
            it("should not update the model value on dragging by default", () => {
                singleValueSlider.dragSingleSliderToValue(33, minValue, maxValue, { finishDrag: false });
                singleSliderModelValue.getText().then((value) => {
                    expect(value).toBe(initialSingeValue.toString());
                });
            });
            describe("by touch", () => {
                it("should set the exact value by dragging", () => {
                    let value = 40;
                    singleValueSlider.dragSingleSliderToValue(value, minValue, maxValue, { useTouch: true });
                    expect(singleValueSlider.getValue()).toBe(value);
                });
                it("should set the minimum value by dragging far to the left", () => {
                    singleValueSlider.dragSingleSliderTo(-sliderOutrange, { useTouch: true });
                    expect(singleValueSlider.getValue()).toBe(minValue);
                });
                it("should set the maximum value by dragging far to the right", () => __awaiter(this, void 0, void 0, function* () {
                    yield singleValueSlider.dragSingleSliderTo(sliderOutrange, { useTouch: true });
                    expect(singleValueSlider.getValue()).toBe(maxValue);
                }));
                it("should not update the model value on dragging by default", () => {
                    singleValueSlider.dragSingleSliderToValue(33, minValue, maxValue, { useTouch: true, finishDrag: false });
                    singleSliderModelValue.getText().then((value) => {
                        expect(value).toBe(initialSingeValue.toString());
                    });
                });
            });
        });
        describe("with steps defined", () => {
            const step = 5;
            const stepCount = Math.floor((maxValue - minValue) / step) + 1;
            beforeEach(() => {
                singleValueSlider = uzi_1.Atom.find(index_atom_1.SliderAtom, "single-value-slider-with-steps");
            });
            it("should have the proper number of steps", () => {
                expect(singleValueSlider.getEndsideSteps().count()).toBe(stepCount);
            });
            it("should set the closest step value instead of the exact", () => {
                const lowerValue = 42;
                const upperValue = 43;
                singleValueSlider.dragSingleSliderToValue(lowerValue, minValue, maxValue);
                expect(singleValueSlider.getValue()).toBe(Math.round(lowerValue / step) * step);
                singleValueSlider.dragSingleSliderToValue(upperValue, minValue, maxValue);
                expect(singleValueSlider.getValue()).toBe(Math.round(upperValue / step) * step);
            });
            it("should set the minimum value by dragging far to the left", () => {
                singleValueSlider.dragSingleSliderTo(-sliderOutrange);
                expect(singleValueSlider.getValue()).toBe(minValue);
            });
            it("should set the maximum value by dragging far to the right", () => {
                singleValueSlider.dragSingleSliderTo(sliderOutrange);
                expect(singleValueSlider.getValue()).toBe(maxValue);
            });
            it("should set the rounded value to closest step when clicking on grey", () => {
                const val = 42;
                singleValueSlider.setSingleSliderValueByLineclick(val, minValue, maxValue);
                expect(singleValueSlider.getValue()).toBe(Math.round(val / step) * step);
            });
            it("should set the rounded value to closest step when clicking on grey", () => {
                const val = 73;
                singleValueSlider.setSingleSliderValueByLineclick(val, minValue, maxValue);
                expect(singleValueSlider.getValue()).toBe(Math.round(val / step) * step);
            });
            it("should set the exact value on clicking on start edge", () => {
                const val = minValue;
                singleValueSlider.setSingleSliderValueByLineclick(val, minValue, maxValue);
                expect(singleValueSlider.getValue()).toBe(val);
            });
            it("should set the exact value on clicking on end edge", () => {
                const val = maxValue;
                singleValueSlider.setSingleSliderValueByLineclick(val, minValue, maxValue);
                expect(singleValueSlider.getValue()).toBe(val);
            });
            it("should remain initial value when dragging is canceled by pressing ESC", () => {
                singleValueSlider.dragSingleSliderToValue(90, minValue, maxValue, { finishDrag: false });
                singleValueSlider.cancelDragging();
                expect(singleValueSlider.getValue()).toBe(initialSingeValue);
            });
            describe("by touch", () => {
                it("should set the closest step value instead of the exact", () => {
                    const lowerValue = 42;
                    const upperValue = 43;
                    singleValueSlider.dragSingleSliderToValue(lowerValue, minValue, maxValue, { useTouch: true });
                    expect(singleValueSlider.getValue()).toBe(Math.round(lowerValue / step) * step);
                    singleValueSlider.dragSingleSliderToValue(upperValue, minValue, maxValue, { useTouch: true });
                    expect(singleValueSlider.getValue()).toBe(Math.round(upperValue / step) * step);
                });
                it("should set the minimum value by dragging far to the left", () => {
                    singleValueSlider.dragSingleSliderTo(-sliderOutrange, { useTouch: true });
                    expect(singleValueSlider.getValue()).toBe(minValue);
                });
                it("should set the maximum value by dragging far to the right", () => __awaiter(this, void 0, void 0, function* () {
                    yield singleValueSlider.dragSingleSliderTo(sliderOutrange, { useTouch: true });
                    expect(singleValueSlider.getValue()).toBe(maxValue);
                }));
            });
        });
        describe("with update on drag", () => {
            let singleValueSliderDragUpdated;
            let singleValueSliderDragUpdatedValue;
            beforeEach(() => {
                singleValueSliderDragUpdated = uzi_1.Atom.find(index_atom_1.SliderAtom, "single-value-slider-ondrag-update");
                singleValueSliderDragUpdatedValue = protractor_1.element(protractor_1.by.id("single-value-slider-ondrag-update-value"));
            });
            it("should update the model value during dragging", () => {
                const newValue = 66;
                singleValueSliderDragUpdated.dragSingleSliderToValue(newValue, minValue, maxValue, { finishDrag: false });
                singleValueSliderDragUpdatedValue.getText().then((value) => {
                    expect(value).toBe(newValue.toString());
                });
            });
            it("should be reverted to the previous value on cancel", () => {
                singleValueSliderDragUpdated.dragSingleSliderToValue(88, minValue, maxValue, { finishDrag: false });
                singleValueSliderDragUpdated.cancelDragging();
                singleValueSliderDragUpdated.getValue().then((value) => {
                    expect(value).toBe(initialSingeValue);
                });
            });
            describe("by touch", () => {
                it("should update the model value during dragging", () => {
                    const newValue = 66;
                    singleValueSliderDragUpdated.dragSingleSliderToValue(newValue, minValue, maxValue, { finishDrag: false, useTouch: true });
                    singleValueSliderDragUpdatedValue.getText().then((value) => {
                        expect(value).toBe(newValue.toString());
                    });
                });
            });
        });
    });
    describe("range slider", () => {
        describe("without steps", () => {
            beforeEach(() => {
                rangeSlider = uzi_1.Atom.find(index_atom_1.SliderAtom, "range-slider");
                rangeSliderModelStartValue = protractor_1.element(protractor_1.by.id("range-slider-start-value"));
                rangeSliderModelEndValue = protractor_1.element(protractor_1.by.id("range-slider-end-value"));
            });
            it("should have initial values set", () => {
                let range = rangeSlider.getRange();
                expect(range).toEqual(initialRange);
            });
            it("should not have any steps at all", () => {
                expect(rangeSlider.getSteps().count()).toBe(0);
            });
            describe("dragging the start handler", () => {
                it("far to the left should set the start value to the minimum value", () => {
                    rangeSlider.dragRangeStartTo(-sliderOutrange);
                    expect(rangeSlider.getRange()).toEqual({ start: minValue, end: initialRange.end });
                });
                it("far to the right should set the start value to the end value minus the minus the min range", () => {
                    rangeSlider.dragRangeStartTo(sliderOutrange);
                    expect(rangeSlider.getRange()).toEqual({
                        start: initialRange.end - defaultMinRange,
                        end: initialRange.end
                    });
                });
                it("to exact value should set the start value to the expected value", () => __awaiter(this, void 0, void 0, function* () {
                    let value = 20;
                    yield rangeSlider.dragRangeStartToValue(value, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: value, end: initialRange.end });
                }));
                it("should remain initial value when dragging is canceled by pressing ESC", () => {
                    rangeSlider.dragRangeStartToValue(10, minValue, maxValue, { finishDrag: false });
                    rangeSlider.cancelDragging();
                    expect(rangeSlider.getRange()).toEqual(initialRange);
                });
                it("should not update the model value on dragging by default", () => {
                    rangeSlider.dragRangeStartToValue(33, minValue, maxValue, { finishDrag: false });
                    rangeSliderModelStartValue.getText().then((value) => {
                        expect(value).toBe(initialRange.start.toString());
                    });
                });
                describe("by touch", () => {
                    it("far to the left should set the start value to the minimum value", () => {
                        rangeSlider.dragRangeStartTo(-sliderOutrange, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({ start: minValue, end: initialRange.end });
                    });
                    it("far to the right should set the start value to the end value minus the minus the min range", () => __awaiter(this, void 0, void 0, function* () {
                        yield rangeSlider.dragRangeStartTo(sliderOutrange, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({
                            start: initialRange.end - defaultMinRange,
                            end: initialRange.end
                        });
                    }));
                    it("to exact value should set the start value to the expected value", () => {
                        let value = 20;
                        rangeSlider.dragRangeStartToValue(value, minValue, maxValue, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({ start: value, end: initialRange.end });
                    });
                    it("should not update the model value on dragging by default", () => {
                        rangeSlider.dragRangeStartToValue(33, minValue, maxValue, { finishDrag: false, useTouch: true });
                        rangeSliderModelStartValue.getText().then((value) => {
                            expect(value).toBe(initialRange.start.toString());
                        });
                    });
                });
            });
            describe("dragging the end handler", () => {
                it("far to the right should set the start value to the maximum value", () => {
                    rangeSlider.dragRangeEndTo(sliderOutrange);
                    expect(rangeSlider.getRange()).toEqual({ start: initialRange.start, end: maxValue });
                });
                it("far to the left should set the end value to the start value plus min range", () => {
                    rangeSlider.dragRangeEndTo(-sliderOutrange);
                    expect(rangeSlider.getRange()).toEqual({
                        start: initialRange.start,
                        end: initialRange.start + defaultMinRange
                    });
                });
                it("to exact value should set the end value to the expected value", () => {
                    let value = 80;
                    rangeSlider.dragRangeEndToValue(value, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: initialRange.start, end: value });
                });
                it("should remain initial value when dragging is canceled by pressing ESC", () => {
                    rangeSlider.dragRangeEndToValue(80, minValue, maxValue, { finishDrag: false });
                    rangeSlider.cancelDragging();
                    expect(rangeSlider.getRange()).toEqual(initialRange);
                });
                it("should not update the model value on dragging by default", () => {
                    rangeSlider.dragRangeEndToValue(66, minValue, maxValue, { finishDrag: false });
                    rangeSliderModelEndValue.getText().then((value) => {
                        expect(value).toBe(initialRange.end.toString());
                    });
                });
                describe("by touch", () => {
                    it("far to the right should set the start value to the maximum value", () => __awaiter(this, void 0, void 0, function* () {
                        yield rangeSlider.dragRangeEndTo(sliderOutrange, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({ start: initialRange.start, end: maxValue });
                    }));
                    it("far to the left should set the end value to the start value plus min range", () => {
                        rangeSlider.dragRangeEndTo(-sliderOutrange, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({
                            start: initialRange.start,
                            end: initialRange.start + defaultMinRange
                        });
                    });
                    it("to exact value should set the end value to the expected value", () => {
                        let value = 80;
                        rangeSlider.dragRangeEndToValue(value, minValue, maxValue, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({ start: initialRange.start, end: value });
                    });
                    it("should not update the model value on dragging by default", () => {
                        rangeSlider.dragRangeEndToValue(66, minValue, maxValue, { finishDrag: false, useTouch: true });
                        rangeSliderModelEndValue.getText().then((value) => {
                            expect(value).toBe(initialRange.end.toString());
                        });
                    });
                });
            });
            describe("clicking the line", () => {
                it("should set the exact value on the start side grey", () => {
                    const val = 10;
                    rangeSlider.setRangeStartValueByClicking(val, minValue, maxValue);
                    rangeSlider.getRange().then((result) => {
                        expect(Math.abs(result.start - val)).toBeLessThan(clickPrecision);
                    });
                });
                it("should set the exact value on the start side blue", () => {
                    const val = 40;
                    rangeSlider.setRangeStartValueByClicking(val, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: val, end: initialRange.end });
                });
                it("should set the exact value on the end side grey", () => {
                    const val = 100;
                    rangeSlider.setRangeEndValueByClicking(val, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: initialRange.start, end: val });
                });
                it("should set the exact value on the end side blue", () => {
                    const val = 50;
                    rangeSlider.setRangeEndValueByClicking(val, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: initialRange.start, end: val });
                });
            });
            describe("dragging the rangeline as a whole", () => {
                it("should keep the distance when dragging far to the left and start value equal to the min value", () => __awaiter(this, void 0, void 0, function* () {
                    yield rangeSlider.dragRangeLineTo(-sliderOutrange);
                    const range = yield rangeSlider.getRange();
                    expect(range.end - range.start).toBe(initialRange.end - initialRange.start);
                    expect(range.start).toBe(minValue);
                }));
                it("should keep the distance when dragging far to the right and end value equal to the max value", () => {
                    rangeSlider.dragRangeLineTo(sliderOutrange);
                    rangeSlider.getRange().then((range) => {
                        expect(range.end - range.start).toBe(initialRange.end - initialRange.start);
                        expect(range.end).toBe(maxValue);
                    });
                });
                it("should keep the distance when dragging between min and max", () => {
                    rangeSlider.dragRangeLineTo(100);
                });
                it("should be reverted if pressing cancel", () => {
                    const startValue = 10;
                    const endValue = 80;
                    rangeSlider.dragRangeStartToValue(startValue, minValue, maxValue);
                    rangeSlider.dragRangeEndToValue(endValue, minValue, maxValue);
                    rangeSlider.dragRangeLineTo(sliderOutrange, false);
                    rangeSlider.cancelDragging();
                    expect(rangeSlider.getRange()).toEqual({ start: startValue, end: endValue });
                });
            });
        });
        describe("with steps", () => {
            const step = 10;
            const stepCount = Math.floor((maxValue - minValue) / step) + 1;
            beforeEach(() => {
                rangeSlider = uzi_1.Atom.find(index_atom_1.SliderAtom, "range-slider-with-steps");
            });
            it("should have the proper number of steps", () => {
                expect(rangeSlider.getEndsideSteps().count()).toBe(stepCount);
                expect(rangeSlider.getStartsideSteps().count()).toBe(stepCount);
            });
            describe("dragging the start handler", () => {
                it("far to the left should set the start value to the minimum value", () => {
                    rangeSlider.dragRangeStartTo(-sliderOutrange);
                    expect(rangeSlider.getRange()).toEqual({ start: minValue, end: initialRange.end });
                });
                it("far to the right should set the start value to the end value minus the min range", () => {
                    // as default the step is the min range
                    rangeSlider.dragRangeStartTo(sliderOutrange);
                    expect(rangeSlider.getRange()).toEqual({
                        start: initialRange.end - step,
                        end: initialRange.end
                    });
                });
                it("should set the closest step instead of the exact", () => {
                    const lowerValue = 23;
                    const upperValue = 33;
                    rangeSlider.dragRangeStartToValue(lowerValue, minValue, maxValue);
                    expect(rangeSlider.getRange())
                        .toEqual({ start: Math.round((lowerValue - minValue) / step) * step
                            + minValue, end: initialRange.end });
                    rangeSlider.dragRangeStartToValue(upperValue, minValue, maxValue);
                    expect(rangeSlider.getRange())
                        .toEqual({ start: Math.round((upperValue - minValue) / step) * step
                            + minValue, end: initialRange.end });
                });
                it("should remain initial value when dragging is canceled by pressing ESC", () => {
                    rangeSlider.dragRangeStartToValue(10, minValue, maxValue, { finishDrag: false });
                    rangeSlider.cancelDragging();
                    expect(rangeSlider.getRange()).toEqual(initialRange);
                });
                describe("by touch", () => {
                    it("far to the left should set the start value to the minimum value", () => {
                        rangeSlider.dragRangeStartTo(-sliderOutrange, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({ start: minValue, end: initialRange.end });
                    });
                    it("far to the right should set the start value to the end value minus the min range", () => __awaiter(this, void 0, void 0, function* () {
                        // as default the step is the min range
                        yield rangeSlider.dragRangeStartTo(sliderOutrange, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({
                            start: initialRange.end - step,
                            end: initialRange.end
                        });
                    }));
                    it("should set the closest step instead of the exact", () => {
                        const lowerValue = 23;
                        const upperValue = 33;
                        rangeSlider.dragRangeStartToValue(lowerValue, minValue, maxValue, { useTouch: true });
                        expect(rangeSlider.getRange())
                            .toEqual({ start: Math.round((lowerValue - minValue) / step) * step
                                + minValue, end: initialRange.end });
                        rangeSlider.dragRangeStartToValue(upperValue, minValue, maxValue, { useTouch: true });
                        expect(rangeSlider.getRange())
                            .toEqual({ start: Math.round((upperValue - minValue) / step) * step
                                + minValue, end: initialRange.end });
                    });
                });
            });
            describe("dragging the end handler", () => {
                it("far to the right should set the start value to the maximum value", () => {
                    rangeSlider.dragRangeEndTo(sliderOutrange);
                    expect(rangeSlider.getRange()).toEqual({ start: initialRange.start, end: maxValue });
                });
                it("far to the left should set the end value to the start value plus the min range", () => {
                    // as default the step is the min range
                    rangeSlider.dragRangeEndTo(-sliderOutrange);
                    expect(rangeSlider.getRange()).toEqual({
                        start: initialRange.start,
                        end: initialRange.start + step
                    });
                });
                it("should set the closest step instead of the exact", () => {
                    const lowerValue = 75;
                    const upperValue = 81;
                    rangeSlider.dragRangeEndToValue(lowerValue, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: initialRange.start,
                        end: Math.round((lowerValue - minValue) / step) * step + minValue });
                    rangeSlider.dragRangeEndToValue(upperValue, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: initialRange.start,
                        end: Math.round((upperValue - minValue) / step) * step + minValue });
                });
                it("should remain initial value when dragging is canceled by pressing ESC", () => {
                    rangeSlider.dragRangeEndToValue(80, minValue, maxValue, { finishDrag: false });
                    rangeSlider.cancelDragging();
                    expect(rangeSlider.getRange()).toEqual(initialRange);
                });
                describe("by touch", () => {
                    it("far to the right should set the start value to the maximum value", () => __awaiter(this, void 0, void 0, function* () {
                        yield rangeSlider.dragRangeEndTo(sliderOutrange, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({ start: initialRange.start, end: maxValue });
                    }));
                    it("far to the left should set the end value to the start value plus the min range", () => {
                        // as default the step is the min range
                        rangeSlider.dragRangeEndTo(-sliderOutrange, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({
                            start: initialRange.start,
                            end: initialRange.start + step
                        });
                    });
                    it("should set the closest step instead of the exact", () => {
                        const lowerValue = 75;
                        const upperValue = 81;
                        rangeSlider.dragRangeEndToValue(lowerValue, minValue, maxValue, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({ start: initialRange.start,
                            end: Math.round((lowerValue - minValue) / step) * step + minValue });
                        rangeSlider.dragRangeEndToValue(upperValue, minValue, maxValue, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({ start: initialRange.start,
                            end: Math.round((upperValue - minValue) / step) * step + minValue });
                    });
                });
            });
            describe("clicking the line", () => {
                it("should set the rounded value on the start side grey", () => {
                    const val = 20;
                    const roundedVal = Math.round((val - minValue) / step) * step + minValue;
                    rangeSlider.setRangeStartValueByClicking(val, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: roundedVal, end: initialRange.end });
                });
                it("should set the exact value on the start side blue", () => {
                    const val = 45;
                    const roundedVal = Math.round((val - minValue) / step) * step + minValue;
                    rangeSlider.setRangeStartValueByClicking(val, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: roundedVal, end: initialRange.end });
                });
                it("should set the exact value on the end side grey", () => {
                    const val = 85;
                    const roundedVal = Math.round((val - minValue) / step) * step + minValue;
                    rangeSlider.setRangeEndValueByClicking(val, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: initialRange.start, end: roundedVal });
                });
                it("should set the exact value on the end side blue", () => {
                    const val = 55;
                    const roundedVal = Math.round((val - minValue) / step) * step + minValue;
                    rangeSlider.setRangeEndValueByClicking(val, minValue, maxValue);
                    expect(rangeSlider.getRange()).toEqual({ start: initialRange.start, end: roundedVal });
                });
            });
            describe("dragging the rangeline as a whole", () => {
                it("should keep the distance when dragging far to the left", () => {
                    rangeSlider.dragRangeLineTo(-sliderOutrange);
                    rangeSlider.getRange().then((range) => {
                        expect(range.end - range.start).toBe(initialRange.end - initialRange.start);
                    });
                });
                it("should keep the distance when dragging far to the right", () => {
                    rangeSlider.dragRangeLineTo(sliderOutrange);
                    rangeSlider.getRange().then((range) => {
                        expect(range.end - range.start).toBe(initialRange.end - initialRange.start);
                    });
                });
                it("should keep the distance when dragging between min and max", () => {
                    rangeSlider.dragRangeLineTo(100);
                });
            });
        });
        describe("with min range", () => {
            const minRange = 10;
            beforeEach(() => {
                rangeSlider = uzi_1.Atom.find(index_atom_1.SliderAtom, "range-slider-with-min-range");
            });
            describe("dragging the start handler", () => {
                it("far to the right should set the start value based on min-range property", () => {
                    rangeSlider.dragRangeStartTo(sliderOutrange);
                    expect(rangeSlider.getRange()).toEqual({ start: 8, end: 18 });
                });
            });
            describe("dragging the end handler", () => {
                it("far to the left should set the end value to based on the min-range property", () => {
                    rangeSlider.dragRangeEndTo(-sliderOutrange);
                    expect(rangeSlider.getRange()).toEqual({ start: 2, end: 12 });
                });
            });
            describe("clicking the line", () => {
                it("should set the exact value on the start side blue", () => {
                    const val = 10;
                    rangeSlider.setRangeStartValueByClicking(val, 0, 20);
                    expect(rangeSlider.getRange()).toEqual({ start: 8, end: 18 });
                });
                it("should set the exact value on the end side blue", () => {
                    const val = 10;
                    rangeSlider.setRangeEndValueByClicking(val, 0, 20);
                    expect(rangeSlider.getRange()).toEqual({ start: 2, end: 12 });
                });
            });
            describe("by touch", () => {
                describe("dragging the start handler", () => {
                    it("far to the right should set the start value based on min-range property", () => __awaiter(this, void 0, void 0, function* () {
                        yield rangeSlider.dragRangeStartTo(sliderOutrange, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({ start: 8, end: 18 });
                    }));
                });
                describe("dragging the end handler", () => {
                    it("far to the left should set the end value to based on the min-range property", () => {
                        rangeSlider.dragRangeEndTo(-sliderOutrange, { useTouch: true });
                        expect(rangeSlider.getRange()).toEqual({ start: 2, end: 12 });
                    });
                });
            });
        });
        describe("with update on drag", () => {
            let rangeValueSliderDragUpdated;
            let rangeValueSliderDragUpdatedStartValue;
            let rangeValueSliderDragUpdatedEndValue;
            beforeEach(() => {
                rangeValueSliderDragUpdated = uzi_1.Atom.find(index_atom_1.SliderAtom, "range-slider-ondrag-update");
                rangeValueSliderDragUpdatedStartValue = protractor_1.element(protractor_1.by.id("range-slider-ondrag-update-start-value"));
                rangeValueSliderDragUpdatedEndValue = protractor_1.element(protractor_1.by.id("range-slider-ondrag-update-end-value"));
            });
            it("should update the model start value during dragging first button", () => {
                const newValue = 22;
                rangeValueSliderDragUpdated.dragRangeStartToValue(newValue, minValue, maxValue, { finishDrag: false });
                rangeValueSliderDragUpdatedStartValue.getText().then((value) => {
                    expect(value).toBe(newValue.toString());
                });
            });
            it("should update the model end value during dragging end button", () => {
                const newValue = 66;
                rangeValueSliderDragUpdated.dragRangeEndToValue(newValue, minValue, maxValue, { finishDrag: false });
                rangeValueSliderDragUpdatedEndValue.getText().then((value) => {
                    expect(value).toBe(newValue.toString());
                });
            });
            it("should be reverted to the previous value on cancel", () => {
                rangeValueSliderDragUpdated.dragRangeEndToValue(88, minValue, maxValue, { finishDrag: false });
                rangeValueSliderDragUpdated.cancelDragging();
                rangeValueSliderDragUpdated.getRange().then((range) => {
                    expect(range.end).toBe(initialRange.end);
                });
            });
            describe("by touch", () => {
                it("should update the model start value during dragging first button", () => {
                    const newValue = 22;
                    rangeValueSliderDragUpdated.dragRangeStartToValue(newValue, minValue, maxValue, { useTouch: true, finishDrag: false });
                    rangeValueSliderDragUpdatedStartValue.getText().then((value) => {
                        expect(value).toBe(newValue.toString());
                    });
                });
                it("should update the model end value during dragging end button", () => {
                    const newValue = 66;
                    rangeValueSliderDragUpdated.dragRangeEndToValue(newValue, minValue, maxValue, { useTouch: true, finishDrag: false });
                    rangeValueSliderDragUpdatedEndValue.getText().then((value) => {
                        expect(value).toBe(newValue.toString());
                    });
                });
            });
        });
    });
    describe("disabled", () => {
        beforeEach(() => {
            disabledRangeSlider = uzi_1.Atom.find(index_atom_1.SliderAtom, "disabled-range-slider");
            disabledSingleSlider = uzi_1.Atom.find(index_atom_1.SliderAtom, "disabled-single-value-slider");
        });
        it("range slider should not be draggable", () => {
            disabledRangeSlider.dragRangeEndTo(10);
            disabledRangeSlider.dragRangeStartTo(-10);
            expect(disabledRangeSlider.getRange()).toEqual(initialRange);
        });
        it("single value slider should not be draggable", () => {
            disabledSingleSlider.dragSingleSliderTo(20);
            expect(disabledSingleSlider.getValue()).toBe(initialSingeValue);
        });
        describe("by touch", () => {
            it("range slider should not be draggable", () => {
                disabledRangeSlider.dragRangeEndTo(10, { useTouch: true });
                disabledRangeSlider.dragRangeStartTo(-10, { useTouch: true });
                expect(disabledRangeSlider.getRange()).toEqual(initialRange);
            });
            it("single value slider should not be draggable", () => {
                disabledSingleSlider.dragSingleSliderTo(20, { useTouch: true });
                expect(disabledSingleSlider.getValue()).toBe(initialSingeValue);
            });
        });
    });
    describe("single-slider with text input", () => {
        let slider;
        describe("and without steps", () => {
            beforeEach(() => {
                slider = uzi_1.Atom.find(index_atom_1.SliderAtom, "single-value-slider-with-text");
            });
            it("should set the initial value on the text input", () => {
                expect(slider.getInputValue()).toBe(initialSingeValue);
            });
            it("should set the min value on the text input when moving far to the left", () => {
                slider.dragSingleSliderTo(-sliderOutrange);
                expect(slider.getInputValue()).toBe(minValue);
            });
            it("should set the max value on the text input when moving far to the right", () => {
                slider.dragSingleSliderTo(sliderOutrange);
                expect(slider.getInputValue()).toBe(maxValue);
            });
            it("text input between min and max should set the handle at exact position", () => {
                const newValue = 33;
                slider.setInputValue(newValue);
                expect(slider.getValueFromPosition(minValue, maxValue)).toBe(newValue);
            });
            it("non numeric text input should be reverted to the original value", () => {
                slider.setInputValue("bela", initialSingeValue);
                expect(slider.getInputValue()).toBe(initialSingeValue);
            });
            it("lower numeric text input then min should reverted to the min value", () => {
                const newValue = 5;
                slider.setInputValue(newValue, minValue);
                expect(slider.getValueFromPosition(minValue, maxValue)).toBe(minValue);
                expect(slider.getInputValue()).toBe(minValue);
            });
            it("higher numeric text input then max should reverted to the max value", () => {
                const newValue = 105;
                slider.setInputValue(newValue, maxValue);
                expect(slider.getValueFromPosition(minValue, maxValue)).toBe(maxValue);
                expect(slider.getInputValue()).toBe(maxValue);
            });
            it("should remain initial value when dragging is canceled by pressing ESC", () => __awaiter(this, void 0, void 0, function* () {
                yield slider.dragSingleSliderToValue(90, minValue, maxValue, { finishDrag: false });
                yield slider.cancelDragging();
                expect(slider.getInputValue()).toBe(initialSingeValue);
            }));
            describe("by touch", () => {
                it("should set the min value on the text input when moving far to the left", () => {
                    slider.dragSingleSliderTo(-sliderOutrange, { useTouch: true });
                    expect(slider.getInputValue()).toBe(minValue);
                });
                it("should set the max value on the text input when moving far to the right", () => __awaiter(this, void 0, void 0, function* () {
                    yield slider.dragSingleSliderTo(sliderOutrange, { useTouch: true });
                    expect(slider.getInputValue()).toBe(maxValue);
                }));
            });
        });
        describe("and with steps", () => {
            beforeEach(() => {
                slider = uzi_1.Atom.find(index_atom_1.SliderAtom, "single-value-slider-with-steps-and-text");
            });
            it("should set the initial value on the text input", () => {
                expect(slider.getInputValue()).toBe(initialSingeValue);
            });
            it("should set the min value on the text input when moving far to the left", () => {
                slider.dragSingleSliderTo(-sliderOutrange);
                expect(slider.getInputValue()).toBe(minValue);
            });
            it("should set the max value on the text input when moving far to the right", () => {
                slider.dragSingleSliderTo(sliderOutrange);
                expect(slider.getInputValue()).toBe(maxValue);
            });
            it("text input between min and max should set the value to the closest step", () => {
                const newValue = 33;
                const step = 5;
                const expectedResult = Math.round(newValue / step) * step;
                slider.setInputValue(newValue, expectedResult);
                expect(slider.getValueFromPosition(minValue, maxValue)).toBe(expectedResult);
                expect(slider.getInputValue()).toBe(expectedResult);
            });
            it("non numeric text input should be reverted to the original value", () => {
                slider.setInputValue("bela", initialSingeValue);
                expect(slider.getInputValue()).toBe(initialSingeValue);
            });
            it("lower numeric text input then min should reverted to the min value", () => {
                const newValue = 5;
                slider.setInputValue(newValue, minValue);
                expect(slider.getValueFromPosition(minValue, maxValue)).toBe(minValue);
                expect(slider.getInputValue()).toBe(minValue);
            });
            it("higher numeric text input then max should reverted to the max value", () => {
                const newValue = 105;
                slider.setInputValue(newValue, maxValue);
                expect(slider.getValueFromPosition(minValue, maxValue)).toBe(maxValue);
                expect(slider.getInputValue()).toBe(maxValue);
            });
            it("should remain initial value when dragging is canceled by pressing ESC", () => __awaiter(this, void 0, void 0, function* () {
                yield slider.dragSingleSliderToValue(90, minValue, maxValue, { finishDrag: false });
                yield slider.cancelDragging();
                expect(slider.getInputValue()).toBe(initialSingeValue);
            }));
            describe("by touch", () => {
                it("should set the min value on the text input when moving far to the left", () => {
                    slider.dragSingleSliderTo(-sliderOutrange, { useTouch: true });
                    expect(slider.getInputValue()).toBe(minValue);
                });
                it("should set the max value on the text input when moving far to the right", () => __awaiter(this, void 0, void 0, function* () {
                    yield slider.dragSingleSliderTo(sliderOutrange, { useTouch: true });
                    expect(slider.getInputValue()).toBe(maxValue);
                }));
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvc2xpZGVyL3NsaWRlci5lMmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLDJEQUErRTtBQUMvRSw4Q0FBeUM7QUFDekMseUNBQXFDO0FBQ3JDLHdDQUFpQztBQUdqQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO0lBQ2hDLElBQUksaUJBQTZCLENBQUM7SUFDbEMsSUFBSSxzQkFBcUMsQ0FBQztJQUMxQyxJQUFJLFdBQXVCLENBQUM7SUFDNUIsSUFBSSwwQkFBeUMsQ0FBQztJQUM5QyxJQUFJLHdCQUF1QyxDQUFDO0lBQzVDLElBQUksbUJBQStCLENBQUM7SUFDcEMsSUFBSSxvQkFBZ0MsQ0FBQztJQUVyQyxnRUFBZ0U7SUFFaEUsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBQ3BCLE1BQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQztJQUNyQixNQUFNLGVBQWUsR0FBRyxDQUFDLENBQUM7SUFDMUIsTUFBTSxZQUFZLEdBQWlCO1FBQy9CLEtBQUssRUFBRSxFQUFFO1FBQ1QsR0FBRyxFQUFFLEVBQUU7S0FDVixDQUFDO0lBQ0YsTUFBTSxpQkFBaUIsR0FBVyxFQUFFLENBQUM7SUFDckMsTUFBTSxjQUFjLEdBQVcsR0FBRyxDQUFDO0lBRW5DLE1BQU0sY0FBYyxHQUFXLENBQUMsQ0FBQztJQUVqQyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ1osaUJBQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckMsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO1FBRWpDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFO1lBQzNCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7Z0JBQ1osaUJBQWlCLEdBQUcsVUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBVSxFQUFFLHFCQUFxQixDQUFDLENBQUM7Z0JBQ2pFLHNCQUFzQixHQUFHLG9CQUFPLENBQUMsZUFB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QUMsQ0FBQztnQkFDbEQsQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsRUFBRSxDQUFDLHlFQUF5RSxFQUFFLEdBQVMsRUFBRTtvQkFDckYsTUFBTSxNQUFNLENBQUMsa0JBQWtCLENBQUMsY0FBYyxFQUFFLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7b0JBQ2xFLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2xELENBQUMsQ0FBQSxDQUFDLENBQUM7WUFDUCxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJjb21wb25lbnRzL3NsaWRlci9zbGlkZXIuZTJlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtieSwgZWxlbWVudCwgRWxlbWVudEZpbmRlciwgcHJvbWlzZX0gZnJvbSBcIkBzb2xhcndpbmRzL3V6aS9wcm90cmFjdG9yXCI7XG5pbXBvcnQge1NsaWRlckF0b219IGZyb20gXCIuLi9pbmRleC5hdG9tXCI7XG5pbXBvcnQge0F0b219IGZyb20gXCJAc29sYXJ3aW5kcy91emlcIjtcbmltcG9ydCBIZWxwZXJzIGZyb20gXCIuLi9oZWxwZXJzXCI7XG5pbXBvcnQge0lSYW5nZVJlc3VsdH0gZnJvbSBcIi4vc2xpZGVyLmF0b21cIjtcblxuZGVzY3JpYmUoXCJVU0VSQ09OVFJPTCBzbGlkZXJcIiwgKCkgPT4ge1xuICAgIGxldCBzaW5nbGVWYWx1ZVNsaWRlcjogU2xpZGVyQXRvbTtcbiAgICBsZXQgc2luZ2xlU2xpZGVyTW9kZWxWYWx1ZTogRWxlbWVudEZpbmRlcjtcbiAgICBsZXQgcmFuZ2VTbGlkZXI6IFNsaWRlckF0b207XG4gICAgbGV0IHJhbmdlU2xpZGVyTW9kZWxTdGFydFZhbHVlOiBFbGVtZW50RmluZGVyO1xuICAgIGxldCByYW5nZVNsaWRlck1vZGVsRW5kVmFsdWU6IEVsZW1lbnRGaW5kZXI7XG4gICAgbGV0IGRpc2FibGVkUmFuZ2VTbGlkZXI6IFNsaWRlckF0b207XG4gICAgbGV0IGRpc2FibGVkU2luZ2xlU2xpZGVyOiBTbGlkZXJBdG9tO1xuXG4gICAgLyogdGhlc2UgbmVlZHMgdG8gYmUgc2FtZSBhcyB0aGUgcmVhbCBpbnB1dHMgd2hhdCBhcmUgaW4gaHRtbCAqL1xuXG4gICAgY29uc3QgbWluVmFsdWUgPSAxMDtcbiAgICBjb25zdCBtYXhWYWx1ZSA9IDEwMDtcbiAgICBjb25zdCBkZWZhdWx0TWluUmFuZ2UgPSAxO1xuICAgIGNvbnN0IGluaXRpYWxSYW5nZTogSVJhbmdlUmVzdWx0ID0ge1xuICAgICAgICBzdGFydDogMzAsXG4gICAgICAgIGVuZDogNjBcbiAgICB9O1xuICAgIGNvbnN0IGluaXRpYWxTaW5nZVZhbHVlOiBudW1iZXIgPSA1MDtcbiAgICBjb25zdCBzbGlkZXJPdXRyYW5nZTogbnVtYmVyID0gODAwO1xuXG4gICAgY29uc3QgY2xpY2tQcmVjaXNpb246IG51bWJlciA9IDM7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgSGVscGVycy5wcmVwYXJlQnJvd3NlcihcInNsaWRlclwiKTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwic2luZ2xlIHZhbHVlIHNsaWRlclwiLCAoKSA9PiB7XG5cbiAgICAgICAgZGVzY3JpYmUoXCJ3aXRob3V0IHN0ZXBzXCIsICgpID0+IHtcbiAgICAgICAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyID0gQXRvbS5maW5kKFNsaWRlckF0b20sIFwic2luZ2xlLXZhbHVlLXNsaWRlclwiKTtcbiAgICAgICAgICAgICAgICBzaW5nbGVTbGlkZXJNb2RlbFZhbHVlID0gZWxlbWVudChieS5pZChcInNpbmdsZS12YWx1ZS1zbGlkZXItdmFsdWVcIikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNob3VsZCBoYXZlIGluaXRpYWwgdmFsdWUgc2V0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2luZ2xlVmFsdWVTbGlkZXIuZ2V0VmFsdWUoKSkudG9CZShpbml0aWFsU2luZ2VWYWx1ZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaXQoXCJzaG91bGQgbm90IGhhdmUgYW55IHN0ZXBzIGF0IGFsbFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNpbmdsZVZhbHVlU2xpZGVyLmdldFN0ZXBzKCkuY291bnQoKSkudG9CZSgwKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGV4YWN0IHZhbHVlIGJ5IGRyYWdnaW5nXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSA0MDtcbiAgICAgICAgICAgICAgICBzaW5nbGVWYWx1ZVNsaWRlci5kcmFnU2luZ2xlU2xpZGVyVG9WYWx1ZSh2YWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2luZ2xlVmFsdWVTbGlkZXIuZ2V0VmFsdWUoKSkudG9CZSh2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgbWluaW11bSB2YWx1ZSBieSBkcmFnZ2luZyBmYXIgdG8gdGhlIGxlZnRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUbygtc2xpZGVyT3V0cmFuZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IGF3YWl0IHNpbmdsZVZhbHVlU2xpZGVyLmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHZhbCkudG9CZShtaW5WYWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgbWF4aW11bSB2YWx1ZSBieSBkcmFnZ2luZyBmYXIgdG8gdGhlIHJpZ2h0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzaW5nbGVWYWx1ZVNsaWRlci5kcmFnU2luZ2xlU2xpZGVyVG8oc2xpZGVyT3V0cmFuZ2UpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzaW5nbGVWYWx1ZVNsaWRlci5nZXRWYWx1ZSgpKS50b0JlKG1heFZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBleGFjdCB2YWx1ZSBvbiBjbGlja2luZyBvbiB0aGUgZ3JleSBsaW5lXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbkxpbmVWYWx1ZTogbnVtYmVyID0gNjY7XG5cbiAgICAgICAgICAgICAgICBzaW5nbGVWYWx1ZVNsaWRlci5zZXRTaW5nbGVTbGlkZXJWYWx1ZUJ5TGluZWNsaWNrKG9uTGluZVZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmdldFZhbHVlKCkudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KE1hdGguYWJzKHZhbHVlIC0gb25MaW5lVmFsdWUpKS50b0JlTGVzc1RoYW4oY2xpY2tQcmVjaXNpb24pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGV4YWN0IHZhbHVlIG9uIGNsaWNraW5nIG9uIHRoZSBibHVlIGxpbmVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gMzA7XG4gICAgICAgICAgICAgICAgc2luZ2xlVmFsdWVTbGlkZXIuc2V0U2luZ2xlU2xpZGVyVmFsdWVCeUxpbmVjbGljayh2YWwsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNpbmdsZVZhbHVlU2xpZGVyLmdldFZhbHVlKCkpLnRvQmUodmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBleGFjdCB2YWx1ZSBvbiBjbGlja2luZyBvbiBzdGFydCBlZGdlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWw6IG51bWJlciA9IG1pblZhbHVlO1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLnNldFNpbmdsZVNsaWRlclZhbHVlQnlMaW5lY2xpY2sodmFsLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzaW5nbGVWYWx1ZVNsaWRlci5nZXRWYWx1ZSgpKS50b0JlKHZhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgZXhhY3QgdmFsdWUgb24gY2xpY2tpbmcgb24gZW5kIGVkZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gbWF4VmFsdWU7XG4gICAgICAgICAgICAgICAgc2luZ2xlVmFsdWVTbGlkZXIuc2V0U2luZ2xlU2xpZGVyVmFsdWVCeUxpbmVjbGljayh2YWwsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNpbmdsZVZhbHVlU2xpZGVyLmdldFZhbHVlKCkpLnRvQmUodmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgcmVtYWluIGluaXRpYWwgdmFsdWUgd2hlbiBkcmFnZ2luZyBpcyBjYW5jZWxlZCBieSBwcmVzc2luZyBFU0NcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUb1ZhbHVlKDkwLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHtmaW5pc2hEcmFnOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmNhbmNlbERyYWdnaW5nKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNpbmdsZVZhbHVlU2xpZGVyLmdldFZhbHVlKCkpLnRvQmUoaW5pdGlhbFNpbmdlVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNob3VsZCBub3QgdXBkYXRlIHRoZSBtb2RlbCB2YWx1ZSBvbiBkcmFnZ2luZyBieSBkZWZhdWx0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzaW5nbGVWYWx1ZVNsaWRlci5kcmFnU2luZ2xlU2xpZGVyVG9WYWx1ZSgzMywgbWluVmFsdWUsIG1heFZhbHVlLCB7ZmluaXNoRHJhZzogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICBzaW5nbGVTbGlkZXJNb2RlbFZhbHVlLmdldFRleHQoKS50aGVuKCh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh2YWx1ZSkudG9CZShpbml0aWFsU2luZ2VWYWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBkZXNjcmliZShcImJ5IHRvdWNoXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGV4YWN0IHZhbHVlIGJ5IGRyYWdnaW5nXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gNDA7XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUb1ZhbHVlKHZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc2luZ2xlVmFsdWVTbGlkZXIuZ2V0VmFsdWUoKSkudG9CZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBtaW5pbXVtIHZhbHVlIGJ5IGRyYWdnaW5nIGZhciB0byB0aGUgbGVmdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUbygtc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc2luZ2xlVmFsdWVTbGlkZXIuZ2V0VmFsdWUoKSkudG9CZShtaW5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBtYXhpbXVtIHZhbHVlIGJ5IGRyYWdnaW5nIGZhciB0byB0aGUgcmlnaHRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzaW5nbGVWYWx1ZVNsaWRlci5kcmFnU2luZ2xlU2xpZGVyVG8oc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc2luZ2xlVmFsdWVTbGlkZXIuZ2V0VmFsdWUoKSkudG9CZShtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgbm90IHVwZGF0ZSB0aGUgbW9kZWwgdmFsdWUgb24gZHJhZ2dpbmcgYnkgZGVmYXVsdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUb1ZhbHVlKDMzLCBtaW5WYWx1ZSwgbWF4VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VUb3VjaDogdHJ1ZSwgZmluaXNoRHJhZzogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlU2xpZGVyTW9kZWxWYWx1ZS5nZXRUZXh0KCkudGhlbigodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHZhbHVlKS50b0JlKGluaXRpYWxTaW5nZVZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVzY3JpYmUoXCJ3aXRoIHN0ZXBzIGRlZmluZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RlcDogbnVtYmVyID0gNTtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXBDb3VudCA9IE1hdGguZmxvb3IoKG1heFZhbHVlIC0gbWluVmFsdWUpIC8gc3RlcCkgKyAxO1xuICAgICAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2luZ2xlVmFsdWVTbGlkZXIgPSBBdG9tLmZpbmQoU2xpZGVyQXRvbSwgXCJzaW5nbGUtdmFsdWUtc2xpZGVyLXdpdGgtc3RlcHNcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwic2hvdWxkIGhhdmUgdGhlIHByb3BlciBudW1iZXIgb2Ygc3RlcHNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVjdChzaW5nbGVWYWx1ZVNsaWRlci5nZXRFbmRzaWRlU3RlcHMoKS5jb3VudCgpKS50b0JlKHN0ZXBDb3VudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgY2xvc2VzdCBzdGVwIHZhbHVlIGluc3RlYWQgb2YgdGhlIGV4YWN0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb3dlclZhbHVlOiBudW1iZXIgPSA0MjtcbiAgICAgICAgICAgICAgICBjb25zdCB1cHBlclZhbHVlOiBudW1iZXIgPSA0MztcblxuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUb1ZhbHVlKGxvd2VyVmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNpbmdsZVZhbHVlU2xpZGVyLmdldFZhbHVlKCkpLnRvQmUoTWF0aC5yb3VuZChsb3dlclZhbHVlIC8gc3RlcCkgKiBzdGVwKTtcbiAgICAgICAgICAgICAgICBzaW5nbGVWYWx1ZVNsaWRlci5kcmFnU2luZ2xlU2xpZGVyVG9WYWx1ZSh1cHBlclZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzaW5nbGVWYWx1ZVNsaWRlci5nZXRWYWx1ZSgpKS50b0JlKE1hdGgucm91bmQodXBwZXJWYWx1ZSAvIHN0ZXApICogc3RlcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgbWluaW11bSB2YWx1ZSBieSBkcmFnZ2luZyBmYXIgdG8gdGhlIGxlZnRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUbygtc2xpZGVyT3V0cmFuZ2UpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzaW5nbGVWYWx1ZVNsaWRlci5nZXRWYWx1ZSgpKS50b0JlKG1pblZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBtYXhpbXVtIHZhbHVlIGJ5IGRyYWdnaW5nIGZhciB0byB0aGUgcmlnaHRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUbyhzbGlkZXJPdXRyYW5nZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNpbmdsZVZhbHVlU2xpZGVyLmdldFZhbHVlKCkpLnRvQmUobWF4VmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIHJvdW5kZWQgdmFsdWUgdG8gY2xvc2VzdCBzdGVwIHdoZW4gY2xpY2tpbmcgb24gZ3JleVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsOiBudW1iZXIgPSA0MjtcbiAgICAgICAgICAgICAgICBzaW5nbGVWYWx1ZVNsaWRlci5zZXRTaW5nbGVTbGlkZXJWYWx1ZUJ5TGluZWNsaWNrKHZhbCwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2luZ2xlVmFsdWVTbGlkZXIuZ2V0VmFsdWUoKSkudG9CZShNYXRoLnJvdW5kKHZhbCAvIHN0ZXApICogc3RlcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgcm91bmRlZCB2YWx1ZSB0byBjbG9zZXN0IHN0ZXAgd2hlbiBjbGlja2luZyBvbiBncmV5XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWw6IG51bWJlciA9IDczO1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLnNldFNpbmdsZVNsaWRlclZhbHVlQnlMaW5lY2xpY2sodmFsLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzaW5nbGVWYWx1ZVNsaWRlci5nZXRWYWx1ZSgpKS50b0JlKE1hdGgucm91bmQodmFsIC8gc3RlcCkgKiBzdGVwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBleGFjdCB2YWx1ZSBvbiBjbGlja2luZyBvbiBzdGFydCBlZGdlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWw6IG51bWJlciA9IG1pblZhbHVlO1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLnNldFNpbmdsZVNsaWRlclZhbHVlQnlMaW5lY2xpY2sodmFsLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzaW5nbGVWYWx1ZVNsaWRlci5nZXRWYWx1ZSgpKS50b0JlKHZhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgZXhhY3QgdmFsdWUgb24gY2xpY2tpbmcgb24gZW5kIGVkZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gbWF4VmFsdWU7XG4gICAgICAgICAgICAgICAgc2luZ2xlVmFsdWVTbGlkZXIuc2V0U2luZ2xlU2xpZGVyVmFsdWVCeUxpbmVjbGljayh2YWwsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNpbmdsZVZhbHVlU2xpZGVyLmdldFZhbHVlKCkpLnRvQmUodmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgcmVtYWluIGluaXRpYWwgdmFsdWUgd2hlbiBkcmFnZ2luZyBpcyBjYW5jZWxlZCBieSBwcmVzc2luZyBFU0NcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUb1ZhbHVlKDkwLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHtmaW5pc2hEcmFnOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmNhbmNlbERyYWdnaW5nKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNpbmdsZVZhbHVlU2xpZGVyLmdldFZhbHVlKCkpLnRvQmUoaW5pdGlhbFNpbmdlVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRlc2NyaWJlKFwiYnkgdG91Y2hcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgY2xvc2VzdCBzdGVwIHZhbHVlIGluc3RlYWQgb2YgdGhlIGV4YWN0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG93ZXJWYWx1ZTogbnVtYmVyID0gNDI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwcGVyVmFsdWU6IG51bWJlciA9IDQzO1xuXG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUb1ZhbHVlKGxvd2VyVmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSwge3VzZVRvdWNoOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChzaW5nbGVWYWx1ZVNsaWRlci5nZXRWYWx1ZSgpKS50b0JlKE1hdGgucm91bmQobG93ZXJWYWx1ZSAvIHN0ZXApICogc3RlcCk7XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUb1ZhbHVlKHVwcGVyVmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSwge3VzZVRvdWNoOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChzaW5nbGVWYWx1ZVNsaWRlci5nZXRWYWx1ZSgpKS50b0JlKE1hdGgucm91bmQodXBwZXJWYWx1ZSAvIHN0ZXApICogc3RlcCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBtaW5pbXVtIHZhbHVlIGJ5IGRyYWdnaW5nIGZhciB0byB0aGUgbGVmdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUbygtc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc2luZ2xlVmFsdWVTbGlkZXIuZ2V0VmFsdWUoKSkudG9CZShtaW5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBtYXhpbXVtIHZhbHVlIGJ5IGRyYWdnaW5nIGZhciB0byB0aGUgcmlnaHRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzaW5nbGVWYWx1ZVNsaWRlci5kcmFnU2luZ2xlU2xpZGVyVG8oc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc2luZ2xlVmFsdWVTbGlkZXIuZ2V0VmFsdWUoKSkudG9CZShtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlc2NyaWJlKFwid2l0aCB1cGRhdGUgb24gZHJhZ1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgc2luZ2xlVmFsdWVTbGlkZXJEcmFnVXBkYXRlZDogU2xpZGVyQXRvbTtcbiAgICAgICAgICAgIGxldCBzaW5nbGVWYWx1ZVNsaWRlckRyYWdVcGRhdGVkVmFsdWU6IEVsZW1lbnRGaW5kZXI7XG4gICAgICAgICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzaW5nbGVWYWx1ZVNsaWRlckRyYWdVcGRhdGVkID0gQXRvbS5maW5kKFNsaWRlckF0b20sIFwic2luZ2xlLXZhbHVlLXNsaWRlci1vbmRyYWctdXBkYXRlXCIpO1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWRWYWx1ZSA9IGVsZW1lbnQoYnkuaWQoXCJzaW5nbGUtdmFsdWUtc2xpZGVyLW9uZHJhZy11cGRhdGUtdmFsdWVcIikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNob3VsZCB1cGRhdGUgdGhlIG1vZGVsIHZhbHVlIGR1cmluZyBkcmFnZ2luZ1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSA2NjtcbiAgICAgICAgICAgICAgICBzaW5nbGVWYWx1ZVNsaWRlckRyYWdVcGRhdGVkLmRyYWdTaW5nbGVTbGlkZXJUb1ZhbHVlKG5ld1ZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHtmaW5pc2hEcmFnOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWRWYWx1ZS5nZXRUZXh0KCkudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHZhbHVlKS50b0JlKG5ld1ZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KFwic2hvdWxkIGJlIHJldmVydGVkIHRvIHRoZSBwcmV2aW91cyB2YWx1ZSBvbiBjYW5jZWxcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWQuZHJhZ1NpbmdsZVNsaWRlclRvVmFsdWUoODgsIG1pblZhbHVlLCBtYXhWYWx1ZSwge2ZpbmlzaERyYWc6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgc2luZ2xlVmFsdWVTbGlkZXJEcmFnVXBkYXRlZC5jYW5jZWxEcmFnZ2luZygpO1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWQuZ2V0VmFsdWUoKS50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QodmFsdWUpLnRvQmUoaW5pdGlhbFNpbmdlVmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRlc2NyaWJlKFwiYnkgdG91Y2hcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIHVwZGF0ZSB0aGUgbW9kZWwgdmFsdWUgZHVyaW5nIGRyYWdnaW5nXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSA2NjtcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlVmFsdWVTbGlkZXJEcmFnVXBkYXRlZC5kcmFnU2luZ2xlU2xpZGVyVG9WYWx1ZShuZXdWYWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaW5pc2hEcmFnOiBmYWxzZSwgdXNlVG91Y2g6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlVmFsdWVTbGlkZXJEcmFnVXBkYXRlZFZhbHVlLmdldFRleHQoKS50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHZhbHVlKS50b0JlKG5ld1ZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZShcInJhbmdlIHNsaWRlclwiLCAoKSA9PiB7XG4gICAgICAgIGRlc2NyaWJlKFwid2l0aG91dCBzdGVwc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICByYW5nZVNsaWRlciA9IEF0b20uZmluZChTbGlkZXJBdG9tLCBcInJhbmdlLXNsaWRlclwiKTtcbiAgICAgICAgICAgICAgICByYW5nZVNsaWRlck1vZGVsU3RhcnRWYWx1ZSA9IGVsZW1lbnQoYnkuaWQoXCJyYW5nZS1zbGlkZXItc3RhcnQtdmFsdWVcIikpO1xuICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyTW9kZWxFbmRWYWx1ZSA9IGVsZW1lbnQoYnkuaWQoXCJyYW5nZS1zbGlkZXItZW5kLXZhbHVlXCIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgaGF2ZSBpbml0aWFsIHZhbHVlcyBzZXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCByYW5nZTogcHJvbWlzZS5Qcm9taXNlPElSYW5nZVJlc3VsdD4gPSByYW5nZVNsaWRlci5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZSkudG9FcXVhbChpbml0aWFsUmFuZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNob3VsZCBub3QgaGF2ZSBhbnkgc3RlcHMgYXQgYWxsXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0U3RlcHMoKS5jb3VudCgpKS50b0JlKDApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRlc2NyaWJlKFwiZHJhZ2dpbmcgdGhlIHN0YXJ0IGhhbmRsZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGl0KFwiZmFyIHRvIHRoZSBsZWZ0IHNob3VsZCBzZXQgdGhlIHN0YXJ0IHZhbHVlIHRvIHRoZSBtaW5pbXVtIHZhbHVlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlU3RhcnRUbygtc2xpZGVyT3V0cmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbCh7c3RhcnQ6IG1pblZhbHVlLCBlbmQ6IGluaXRpYWxSYW5nZS5lbmR9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdChcImZhciB0byB0aGUgcmlnaHQgc2hvdWxkIHNldCB0aGUgc3RhcnQgdmFsdWUgdG8gdGhlIGVuZCB2YWx1ZSBtaW51cyB0aGUgbWludXMgdGhlIG1pbiByYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLmRyYWdSYW5nZVN0YXJ0VG8oc2xpZGVyT3V0cmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogaW5pdGlhbFJhbmdlLmVuZCAtIGRlZmF1bHRNaW5SYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaW5pdGlhbFJhbmdlLmVuZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdChcInRvIGV4YWN0IHZhbHVlIHNob3VsZCBzZXQgdGhlIHN0YXJ0IHZhbHVlIHRvIHRoZSBleHBlY3RlZCB2YWx1ZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IDIwO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvVmFsdWUodmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogdmFsdWUsIGVuZDogaW5pdGlhbFJhbmdlLmVuZH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIHJlbWFpbiBpbml0aWFsIHZhbHVlIHdoZW4gZHJhZ2dpbmcgaXMgY2FuY2VsZWQgYnkgcHJlc3NpbmcgRVNDXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlU3RhcnRUb1ZhbHVlKDEwLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHtmaW5pc2hEcmFnOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5jYW5jZWxEcmFnZ2luZygpO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbChpbml0aWFsUmFuZ2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIG5vdCB1cGRhdGUgdGhlIG1vZGVsIHZhbHVlIG9uIGRyYWdnaW5nIGJ5IGRlZmF1bHRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvVmFsdWUoMzMsIG1pblZhbHVlLCBtYXhWYWx1ZSwge2ZpbmlzaERyYWc6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyTW9kZWxTdGFydFZhbHVlLmdldFRleHQoKS50aGVuKCh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QodmFsdWUpLnRvQmUoaW5pdGlhbFJhbmdlLnN0YXJ0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGRlc2NyaWJlKFwiYnkgdG91Y2hcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpdChcImZhciB0byB0aGUgbGVmdCBzaG91bGQgc2V0IHRoZSBzdGFydCB2YWx1ZSB0byB0aGUgbWluaW11bSB2YWx1ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvKC1zbGlkZXJPdXRyYW5nZSwge3VzZVRvdWNoOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbCh7c3RhcnQ6IG1pblZhbHVlLCBlbmQ6IGluaXRpYWxSYW5nZS5lbmR9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGl0KFwiZmFyIHRvIHRoZSByaWdodCBzaG91bGQgc2V0IHRoZSBzdGFydCB2YWx1ZSB0byB0aGUgZW5kIHZhbHVlIG1pbnVzIHRoZSBtaW51cyB0aGUgbWluIHJhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJhbmdlU2xpZGVyLmRyYWdSYW5nZVN0YXJ0VG8oc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBpbml0aWFsUmFuZ2UuZW5kIC0gZGVmYXVsdE1pblJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaW5pdGlhbFJhbmdlLmVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpdChcInRvIGV4YWN0IHZhbHVlIHNob3VsZCBzZXQgdGhlIHN0YXJ0IHZhbHVlIHRvIHRoZSBleHBlY3RlZCB2YWx1ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSAyMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLmRyYWdSYW5nZVN0YXJ0VG9WYWx1ZSh2YWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlLCB7dXNlVG91Y2g6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogdmFsdWUsIGVuZDogaW5pdGlhbFJhbmdlLmVuZH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgbm90IHVwZGF0ZSB0aGUgbW9kZWwgdmFsdWUgb24gZHJhZ2dpbmcgYnkgZGVmYXVsdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvVmFsdWUoMzMsIG1pblZhbHVlLCBtYXhWYWx1ZSwge2ZpbmlzaERyYWc6IGZhbHNlLCB1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXJNb2RlbFN0YXJ0VmFsdWUuZ2V0VGV4dCgpLnRoZW4oKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QodmFsdWUpLnRvQmUoaW5pdGlhbFJhbmdlLnN0YXJ0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZXNjcmliZShcImRyYWdnaW5nIHRoZSBlbmQgaGFuZGxlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXQoXCJmYXIgdG8gdGhlIHJpZ2h0IHNob3VsZCBzZXQgdGhlIHN0YXJ0IHZhbHVlIHRvIHRoZSBtYXhpbXVtIHZhbHVlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlRW5kVG8oc2xpZGVyT3V0cmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbCh7c3RhcnQ6IGluaXRpYWxSYW5nZS5zdGFydCwgZW5kOiBtYXhWYWx1ZX0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0KFwiZmFyIHRvIHRoZSBsZWZ0IHNob3VsZCBzZXQgdGhlIGVuZCB2YWx1ZSB0byB0aGUgc3RhcnQgdmFsdWUgcGx1cyBtaW4gcmFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VFbmRUbygtc2xpZGVyT3V0cmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogaW5pdGlhbFJhbmdlLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBpbml0aWFsUmFuZ2Uuc3RhcnQgKyBkZWZhdWx0TWluUmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJ0byBleGFjdCB2YWx1ZSBzaG91bGQgc2V0IHRoZSBlbmQgdmFsdWUgdG8gdGhlIGV4cGVjdGVkIHZhbHVlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gODA7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLmRyYWdSYW5nZUVuZFRvVmFsdWUodmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogaW5pdGlhbFJhbmdlLnN0YXJ0LCBlbmQ6IHZhbHVlfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgcmVtYWluIGluaXRpYWwgdmFsdWUgd2hlbiBkcmFnZ2luZyBpcyBjYW5jZWxlZCBieSBwcmVzc2luZyBFU0NcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VFbmRUb1ZhbHVlKDgwLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHtmaW5pc2hEcmFnOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5jYW5jZWxEcmFnZ2luZygpO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbChpbml0aWFsUmFuZ2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIG5vdCB1cGRhdGUgdGhlIG1vZGVsIHZhbHVlIG9uIGRyYWdnaW5nIGJ5IGRlZmF1bHRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VFbmRUb1ZhbHVlKDY2LCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHtmaW5pc2hEcmFnOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlck1vZGVsRW5kVmFsdWUuZ2V0VGV4dCgpLnRoZW4oKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdCh2YWx1ZSkudG9CZShpbml0aWFsUmFuZ2UuZW5kLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgZGVzY3JpYmUoXCJieSB0b3VjaFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0KFwiZmFyIHRvIHRoZSByaWdodCBzaG91bGQgc2V0IHRoZSBzdGFydCB2YWx1ZSB0byB0aGUgbWF4aW11bSB2YWx1ZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByYW5nZVNsaWRlci5kcmFnUmFuZ2VFbmRUbyhzbGlkZXJPdXRyYW5nZSwge3VzZVRvdWNoOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbCh7c3RhcnQ6IGluaXRpYWxSYW5nZS5zdGFydCwgZW5kOiBtYXhWYWx1ZX0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaXQoXCJmYXIgdG8gdGhlIGxlZnQgc2hvdWxkIHNldCB0aGUgZW5kIHZhbHVlIHRvIHRoZSBzdGFydCB2YWx1ZSBwbHVzIG1pbiByYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VFbmRUbygtc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBpbml0aWFsUmFuZ2Uuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBpbml0aWFsUmFuZ2Uuc3RhcnQgKyBkZWZhdWx0TWluUmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaXQoXCJ0byBleGFjdCB2YWx1ZSBzaG91bGQgc2V0IHRoZSBlbmQgdmFsdWUgdG8gdGhlIGV4cGVjdGVkIHZhbHVlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IDgwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlRW5kVG9WYWx1ZSh2YWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlLCB7dXNlVG91Y2g6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogaW5pdGlhbFJhbmdlLnN0YXJ0LCBlbmQ6IHZhbHVlfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpdChcInNob3VsZCBub3QgdXBkYXRlIHRoZSBtb2RlbCB2YWx1ZSBvbiBkcmFnZ2luZyBieSBkZWZhdWx0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLmRyYWdSYW5nZUVuZFRvVmFsdWUoNjYsIG1pblZhbHVlLCBtYXhWYWx1ZSwge2ZpbmlzaERyYWc6IGZhbHNlLCB1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXJNb2RlbEVuZFZhbHVlLmdldFRleHQoKS50aGVuKCh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHZhbHVlKS50b0JlKGluaXRpYWxSYW5nZS5lbmQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlc2NyaWJlKFwiY2xpY2tpbmcgdGhlIGxpbmVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgZXhhY3QgdmFsdWUgb24gdGhlIHN0YXJ0IHNpZGUgZ3JleVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gMTA7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLnNldFJhbmdlU3RhcnRWYWx1ZUJ5Q2xpY2tpbmcodmFsLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5nZXRSYW5nZSgpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KE1hdGguYWJzKHJlc3VsdC5zdGFydCAtIHZhbCkpLnRvQmVMZXNzVGhhbihjbGlja1ByZWNpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgZXhhY3QgdmFsdWUgb24gdGhlIHN0YXJ0IHNpZGUgYmx1ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gNDA7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLnNldFJhbmdlU3RhcnRWYWx1ZUJ5Q2xpY2tpbmcodmFsLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbCh7c3RhcnQ6IHZhbCwgZW5kOiBpbml0aWFsUmFuZ2UuZW5kfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBleGFjdCB2YWx1ZSBvbiB0aGUgZW5kIHNpZGUgZ3JleVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gMTAwO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5zZXRSYW5nZUVuZFZhbHVlQnlDbGlja2luZyh2YWwsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogaW5pdGlhbFJhbmdlLnN0YXJ0LCBlbmQ6IHZhbH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgZXhhY3QgdmFsdWUgb24gdGhlIGVuZCBzaWRlIGJsdWVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWw6IG51bWJlciA9IDUwO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5zZXRSYW5nZUVuZFZhbHVlQnlDbGlja2luZyh2YWwsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogaW5pdGlhbFJhbmdlLnN0YXJ0LCBlbmQ6IHZhbH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZXNjcmliZShcImRyYWdnaW5nIHRoZSByYW5nZWxpbmUgYXMgYSB3aG9sZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQga2VlcCB0aGUgZGlzdGFuY2Ugd2hlbiBkcmFnZ2luZyBmYXIgdG8gdGhlIGxlZnQgYW5kIHN0YXJ0IHZhbHVlIGVxdWFsIHRvIHRoZSBtaW4gdmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlTGluZVRvKC1zbGlkZXJPdXRyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGF3YWl0IHJhbmdlU2xpZGVyLmdldFJhbmdlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZS5lbmQgLSByYW5nZS5zdGFydCkudG9CZShpbml0aWFsUmFuZ2UuZW5kIC0gaW5pdGlhbFJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZS5zdGFydCkudG9CZShtaW5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIGtlZXAgdGhlIGRpc3RhbmNlIHdoZW4gZHJhZ2dpbmcgZmFyIHRvIHRoZSByaWdodCBhbmQgZW5kIHZhbHVlIGVxdWFsIHRvIHRoZSBtYXggdmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VMaW5lVG8oc2xpZGVyT3V0cmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5nZXRSYW5nZSgpLnRoZW4oKHJhbmdlOiBJUmFuZ2VSZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZS5lbmQgLSByYW5nZS5zdGFydCkudG9CZShpbml0aWFsUmFuZ2UuZW5kIC0gaW5pdGlhbFJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZS5lbmQpLnRvQmUobWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBrZWVwIHRoZSBkaXN0YW5jZSB3aGVuIGRyYWdnaW5nIGJldHdlZW4gbWluIGFuZCBtYXhcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VMaW5lVG8oMTAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBiZSByZXZlcnRlZCBpZiBwcmVzc2luZyBjYW5jZWxcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydFZhbHVlID0gMTA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZFZhbHVlID0gODA7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLmRyYWdSYW5nZVN0YXJ0VG9WYWx1ZShzdGFydFZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VFbmRUb1ZhbHVlKGVuZFZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VMaW5lVG8oc2xpZGVyT3V0cmFuZ2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuY2FuY2VsRHJhZ2dpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe3N0YXJ0OiBzdGFydFZhbHVlLCBlbmQ6IGVuZFZhbHVlfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlc2NyaWJlKFwid2l0aCBzdGVwc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGVwOiBudW1iZXIgPSAxMDtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXBDb3VudCA9IE1hdGguZmxvb3IoKG1heFZhbHVlIC0gbWluVmFsdWUpIC8gc3RlcCkgKyAxO1xuXG4gICAgICAgICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICByYW5nZVNsaWRlciA9IEF0b20uZmluZChTbGlkZXJBdG9tLCBcInJhbmdlLXNsaWRlci13aXRoLXN0ZXBzXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNob3VsZCBoYXZlIHRoZSBwcm9wZXIgbnVtYmVyIG9mIHN0ZXBzXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0RW5kc2lkZVN0ZXBzKCkuY291bnQoKSkudG9CZShzdGVwQ291bnQpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRTdGFydHNpZGVTdGVwcygpLmNvdW50KCkpLnRvQmUoc3RlcENvdW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVzY3JpYmUoXCJkcmFnZ2luZyB0aGUgc3RhcnQgaGFuZGxlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXQoXCJmYXIgdG8gdGhlIGxlZnQgc2hvdWxkIHNldCB0aGUgc3RhcnQgdmFsdWUgdG8gdGhlIG1pbmltdW0gdmFsdWVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvKC1zbGlkZXJPdXRyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogbWluVmFsdWUsIGVuZDogaW5pdGlhbFJhbmdlLmVuZH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0KFwiZmFyIHRvIHRoZSByaWdodCBzaG91bGQgc2V0IHRoZSBzdGFydCB2YWx1ZSB0byB0aGUgZW5kIHZhbHVlIG1pbnVzIHRoZSBtaW4gcmFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBkZWZhdWx0IHRoZSBzdGVwIGlzIHRoZSBtaW4gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlU3RhcnRUbyhzbGlkZXJPdXRyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBpbml0aWFsUmFuZ2UuZW5kIC0gc3RlcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaW5pdGlhbFJhbmdlLmVuZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGNsb3Nlc3Qgc3RlcCBpbnN0ZWFkIG9mIHRoZSBleGFjdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyVmFsdWU6IG51bWJlciA9IDIzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cHBlclZhbHVlOiBudW1iZXIgPSAzMztcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlU3RhcnRUb1ZhbHVlKGxvd2VyVmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvRXF1YWwoe3N0YXJ0OiBNYXRoLnJvdW5kKChsb3dlclZhbHVlIC0gbWluVmFsdWUpL3N0ZXApICogc3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgbWluVmFsdWUsIGVuZDogaW5pdGlhbFJhbmdlLmVuZH0pO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvVmFsdWUodXBwZXJWYWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9FcXVhbCh7c3RhcnQ6IE1hdGgucm91bmQoKHVwcGVyVmFsdWUgLSBtaW5WYWx1ZSkvc3RlcCkgKiBzdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBtaW5WYWx1ZSwgZW5kOiBpbml0aWFsUmFuZ2UuZW5kfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgcmVtYWluIGluaXRpYWwgdmFsdWUgd2hlbiBkcmFnZ2luZyBpcyBjYW5jZWxlZCBieSBwcmVzc2luZyBFU0NcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvVmFsdWUoMTAsIG1pblZhbHVlLCBtYXhWYWx1ZSwge2ZpbmlzaERyYWc6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLmNhbmNlbERyYWdnaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKGluaXRpYWxSYW5nZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBkZXNjcmliZShcImJ5IHRvdWNoXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXQoXCJmYXIgdG8gdGhlIGxlZnQgc2hvdWxkIHNldCB0aGUgc3RhcnQgdmFsdWUgdG8gdGhlIG1pbmltdW0gdmFsdWVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlU3RhcnRUbygtc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe3N0YXJ0OiBtaW5WYWx1ZSwgZW5kOiBpbml0aWFsUmFuZ2UuZW5kfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpdChcImZhciB0byB0aGUgcmlnaHQgc2hvdWxkIHNldCB0aGUgc3RhcnQgdmFsdWUgdG8gdGhlIGVuZCB2YWx1ZSBtaW51cyB0aGUgbWluIHJhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXMgZGVmYXVsdCB0aGUgc3RlcCBpcyB0aGUgbWluIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlU3RhcnRUbyhzbGlkZXJPdXRyYW5nZSwge3VzZVRvdWNoOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogaW5pdGlhbFJhbmdlLmVuZCAtIHN0ZXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaW5pdGlhbFJhbmdlLmVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgY2xvc2VzdCBzdGVwIGluc3RlYWQgb2YgdGhlIGV4YWN0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyVmFsdWU6IG51bWJlciA9IDIzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBwZXJWYWx1ZTogbnVtYmVyID0gMzM7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvVmFsdWUobG93ZXJWYWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlLCB7dXNlVG91Y2g6dHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvRXF1YWwoe3N0YXJ0OiBNYXRoLnJvdW5kKChsb3dlclZhbHVlIC0gbWluVmFsdWUpL3N0ZXApICogc3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG1pblZhbHVlLCBlbmQ6IGluaXRpYWxSYW5nZS5lbmR9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLmRyYWdSYW5nZVN0YXJ0VG9WYWx1ZSh1cHBlclZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvRXF1YWwoe3N0YXJ0OiBNYXRoLnJvdW5kKCh1cHBlclZhbHVlIC0gbWluVmFsdWUpL3N0ZXApICogc3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG1pblZhbHVlLCBlbmQ6IGluaXRpYWxSYW5nZS5lbmR9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlc2NyaWJlKFwiZHJhZ2dpbmcgdGhlIGVuZCBoYW5kbGVyXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpdChcImZhciB0byB0aGUgcmlnaHQgc2hvdWxkIHNldCB0aGUgc3RhcnQgdmFsdWUgdG8gdGhlIG1heGltdW0gdmFsdWVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VFbmRUbyhzbGlkZXJPdXRyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogaW5pdGlhbFJhbmdlLnN0YXJ0LCBlbmQ6IG1heFZhbHVlfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJmYXIgdG8gdGhlIGxlZnQgc2hvdWxkIHNldCB0aGUgZW5kIHZhbHVlIHRvIHRoZSBzdGFydCB2YWx1ZSBwbHVzIHRoZSBtaW4gcmFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBkZWZhdWx0IHRoZSBzdGVwIGlzIHRoZSBtaW4gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlRW5kVG8oLXNsaWRlck91dHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGluaXRpYWxSYW5nZS5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaW5pdGlhbFJhbmdlLnN0YXJ0ICsgc3RlcFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGNsb3Nlc3Qgc3RlcCBpbnN0ZWFkIG9mIHRoZSBleGFjdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyVmFsdWU6IG51bWJlciA9IDc1O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cHBlclZhbHVlOiBudW1iZXIgPSA4MTtcblxuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VFbmRUb1ZhbHVlKGxvd2VyVmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogaW5pdGlhbFJhbmdlLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBNYXRoLnJvdW5kKChsb3dlclZhbHVlIC0gbWluVmFsdWUpL3N0ZXApICogc3RlcCArIG1pblZhbHVlfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlRW5kVG9WYWx1ZSh1cHBlclZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbCh7c3RhcnQ6IGluaXRpYWxSYW5nZS5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogTWF0aC5yb3VuZCgodXBwZXJWYWx1ZSAtIG1pblZhbHVlKS9zdGVwKSAqIHN0ZXAgKyBtaW5WYWx1ZX0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIHJlbWFpbiBpbml0aWFsIHZhbHVlIHdoZW4gZHJhZ2dpbmcgaXMgY2FuY2VsZWQgYnkgcHJlc3NpbmcgRVNDXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlRW5kVG9WYWx1ZSg4MCwgbWluVmFsdWUsIG1heFZhbHVlLCB7ZmluaXNoRHJhZzogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuY2FuY2VsRHJhZ2dpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoaW5pdGlhbFJhbmdlKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGRlc2NyaWJlKFwiYnkgdG91Y2hcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpdChcImZhciB0byB0aGUgcmlnaHQgc2hvdWxkIHNldCB0aGUgc3RhcnQgdmFsdWUgdG8gdGhlIG1heGltdW0gdmFsdWVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlRW5kVG8oc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe3N0YXJ0OiBpbml0aWFsUmFuZ2Uuc3RhcnQsIGVuZDogbWF4VmFsdWV9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGl0KFwiZmFyIHRvIHRoZSBsZWZ0IHNob3VsZCBzZXQgdGhlIGVuZCB2YWx1ZSB0byB0aGUgc3RhcnQgdmFsdWUgcGx1cyB0aGUgbWluIHJhbmdlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFzIGRlZmF1bHQgdGhlIHN0ZXAgaXMgdGhlIG1pbiByYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlRW5kVG8oLXNsaWRlck91dHJhbmdlLCB7dXNlVG91Y2g6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogaW5pdGlhbFJhbmdlLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaW5pdGlhbFJhbmdlLnN0YXJ0ICsgc3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGNsb3Nlc3Qgc3RlcCBpbnN0ZWFkIG9mIHRoZSBleGFjdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3dlclZhbHVlOiBudW1iZXIgPSA3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwcGVyVmFsdWU6IG51bWJlciA9IDgxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VFbmRUb1ZhbHVlKGxvd2VyVmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSwge3VzZVRvdWNoOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbCh7c3RhcnQ6IGluaXRpYWxSYW5nZS5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IE1hdGgucm91bmQoKGxvd2VyVmFsdWUgLSBtaW5WYWx1ZSkvc3RlcCkgKiBzdGVwICsgbWluVmFsdWV9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlRW5kVG9WYWx1ZSh1cHBlclZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe3N0YXJ0OiBpbml0aWFsUmFuZ2Uuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBNYXRoLnJvdW5kKCh1cHBlclZhbHVlIC0gbWluVmFsdWUpL3N0ZXApICogc3RlcCArIG1pblZhbHVlfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZXNjcmliZShcImNsaWNraW5nIHRoZSBsaW5lXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIHJvdW5kZWQgdmFsdWUgb24gdGhlIHN0YXJ0IHNpZGUgZ3JleVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gMjA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdW5kZWRWYWw6IG51bWJlciA9IE1hdGgucm91bmQoKHZhbCAtIG1pblZhbHVlKS9zdGVwKSAqIHN0ZXAgKyBtaW5WYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuc2V0UmFuZ2VTdGFydFZhbHVlQnlDbGlja2luZyh2YWwsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogcm91bmRlZFZhbCwgZW5kOiBpbml0aWFsUmFuZ2UuZW5kfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBleGFjdCB2YWx1ZSBvbiB0aGUgc3RhcnQgc2lkZSBibHVlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsOiBudW1iZXIgPSA0NTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm91bmRlZFZhbDogbnVtYmVyID0gTWF0aC5yb3VuZCgodmFsIC0gbWluVmFsdWUpL3N0ZXApICogc3RlcCArIG1pblZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5zZXRSYW5nZVN0YXJ0VmFsdWVCeUNsaWNraW5nKHZhbCwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe3N0YXJ0OiByb3VuZGVkVmFsLCBlbmQ6IGluaXRpYWxSYW5nZS5lbmR9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGV4YWN0IHZhbHVlIG9uIHRoZSBlbmQgc2lkZSBncmV5XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsOiBudW1iZXIgPSA4NTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm91bmRlZFZhbDogbnVtYmVyID0gTWF0aC5yb3VuZCgodmFsIC0gbWluVmFsdWUpL3N0ZXApICogc3RlcCArIG1pblZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5zZXRSYW5nZUVuZFZhbHVlQnlDbGlja2luZyh2YWwsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogaW5pdGlhbFJhbmdlLnN0YXJ0LCBlbmQ6IHJvdW5kZWRWYWx9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGV4YWN0IHZhbHVlIG9uIHRoZSBlbmQgc2lkZSBibHVlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsOiBudW1iZXIgPSA1NTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm91bmRlZFZhbDogbnVtYmVyID0gTWF0aC5yb3VuZCgodmFsIC0gbWluVmFsdWUpL3N0ZXApICogc3RlcCArIG1pblZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5zZXRSYW5nZUVuZFZhbHVlQnlDbGlja2luZyh2YWwsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogaW5pdGlhbFJhbmdlLnN0YXJ0LCBlbmQ6IHJvdW5kZWRWYWx9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVzY3JpYmUoXCJkcmFnZ2luZyB0aGUgcmFuZ2VsaW5lIGFzIGEgd2hvbGVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIGtlZXAgdGhlIGRpc3RhbmNlIHdoZW4gZHJhZ2dpbmcgZmFyIHRvIHRoZSBsZWZ0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlTGluZVRvKC1zbGlkZXJPdXRyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLmdldFJhbmdlKCkudGhlbigocmFuZ2U6IElSYW5nZVJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlLmVuZCAtIHJhbmdlLnN0YXJ0KS50b0JlKGluaXRpYWxSYW5nZS5lbmQgLSBpbml0aWFsUmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBrZWVwIHRoZSBkaXN0YW5jZSB3aGVuIGRyYWdnaW5nIGZhciB0byB0aGUgcmlnaHRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VMaW5lVG8oc2xpZGVyT3V0cmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5nZXRSYW5nZSgpLnRoZW4oKHJhbmdlOiBJUmFuZ2VSZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZS5lbmQgLSByYW5nZS5zdGFydCkudG9CZShpbml0aWFsUmFuZ2UuZW5kIC0gaW5pdGlhbFJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQga2VlcCB0aGUgZGlzdGFuY2Ugd2hlbiBkcmFnZ2luZyBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlTGluZVRvKDEwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlc2NyaWJlKFwid2l0aCBtaW4gcmFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWluUmFuZ2U6IG51bWJlciA9IDEwO1xuICAgICAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIgPSBBdG9tLmZpbmQoU2xpZGVyQXRvbSwgXCJyYW5nZS1zbGlkZXItd2l0aC1taW4tcmFuZ2VcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlc2NyaWJlKFwiZHJhZ2dpbmcgdGhlIHN0YXJ0IGhhbmRsZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGl0KFwiZmFyIHRvIHRoZSByaWdodCBzaG91bGQgc2V0IHRoZSBzdGFydCB2YWx1ZSBiYXNlZCBvbiBtaW4tcmFuZ2UgcHJvcGVydHlcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvKHNsaWRlck91dHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe3N0YXJ0OiA4LCBlbmQ6IDE4fSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlc2NyaWJlKFwiZHJhZ2dpbmcgdGhlIGVuZCBoYW5kbGVyXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpdChcImZhciB0byB0aGUgbGVmdCBzaG91bGQgc2V0IHRoZSBlbmQgdmFsdWUgdG8gYmFzZWQgb24gdGhlIG1pbi1yYW5nZSBwcm9wZXJ0eVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlU2xpZGVyLmRyYWdSYW5nZUVuZFRvKC1zbGlkZXJPdXRyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogMiwgZW5kOiAxMn0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZXNjcmliZShcImNsaWNraW5nIHRoZSBsaW5lXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGV4YWN0IHZhbHVlIG9uIHRoZSBzdGFydCBzaWRlIGJsdWVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWw6IG51bWJlciA9IDEwO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNsaWRlci5zZXRSYW5nZVN0YXJ0VmFsdWVCeUNsaWNraW5nKHZhbCwgMCwgMjApO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbCh7c3RhcnQ6IDgsIGVuZDogMTh9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGV4YWN0IHZhbHVlIG9uIHRoZSBlbmQgc2lkZSBibHVlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsOiBudW1iZXIgPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuc2V0UmFuZ2VFbmRWYWx1ZUJ5Q2xpY2tpbmcodmFsLCAwLCAyMCk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogMiwgZW5kOiAxMn0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRlc2NyaWJlKFwiYnkgdG91Y2hcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRlc2NyaWJlKFwiZHJhZ2dpbmcgdGhlIHN0YXJ0IGhhbmRsZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpdChcImZhciB0byB0aGUgcmlnaHQgc2hvdWxkIHNldCB0aGUgc3RhcnQgdmFsdWUgYmFzZWQgb24gbWluLXJhbmdlIHByb3BlcnR5XCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJhbmdlU2xpZGVyLmRyYWdSYW5nZVN0YXJ0VG8oc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJhbmdlU2xpZGVyLmdldFJhbmdlKCkpLnRvRXF1YWwoe3N0YXJ0OiA4LCBlbmQ6IDE4fSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRlc2NyaWJlKFwiZHJhZ2dpbmcgdGhlIGVuZCBoYW5kbGVyXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXQoXCJmYXIgdG8gdGhlIGxlZnQgc2hvdWxkIHNldCB0aGUgZW5kIHZhbHVlIHRvIGJhc2VkIG9uIHRoZSBtaW4tcmFuZ2UgcHJvcGVydHlcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VTbGlkZXIuZHJhZ1JhbmdlRW5kVG8oLXNsaWRlck91dHJhbmdlLCB7dXNlVG91Y2g6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKHtzdGFydDogMiwgZW5kOiAxMn0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVzY3JpYmUoXCJ3aXRoIHVwZGF0ZSBvbiBkcmFnXCIsICgpID0+IHtcbiAgICAgICAgICAgIGxldCByYW5nZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWQ6IFNsaWRlckF0b207XG4gICAgICAgICAgICBsZXQgcmFuZ2VWYWx1ZVNsaWRlckRyYWdVcGRhdGVkU3RhcnRWYWx1ZTogRWxlbWVudEZpbmRlcjtcbiAgICAgICAgICAgIGxldCByYW5nZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWRFbmRWYWx1ZTogRWxlbWVudEZpbmRlcjtcblxuICAgICAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmFuZ2VWYWx1ZVNsaWRlckRyYWdVcGRhdGVkID0gQXRvbS5maW5kKFNsaWRlckF0b20sIFwicmFuZ2Utc2xpZGVyLW9uZHJhZy11cGRhdGVcIik7XG4gICAgICAgICAgICAgICAgcmFuZ2VWYWx1ZVNsaWRlckRyYWdVcGRhdGVkU3RhcnRWYWx1ZSA9IGVsZW1lbnQoYnkuaWQoXCJyYW5nZS1zbGlkZXItb25kcmFnLXVwZGF0ZS1zdGFydC12YWx1ZVwiKSk7XG4gICAgICAgICAgICAgICAgcmFuZ2VWYWx1ZVNsaWRlckRyYWdVcGRhdGVkRW5kVmFsdWUgPSBlbGVtZW50KGJ5LmlkKFwicmFuZ2Utc2xpZGVyLW9uZHJhZy11cGRhdGUtZW5kLXZhbHVlXCIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgdXBkYXRlIHRoZSBtb2RlbCBzdGFydCB2YWx1ZSBkdXJpbmcgZHJhZ2dpbmcgZmlyc3QgYnV0dG9uXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IDIyO1xuICAgICAgICAgICAgICAgIHJhbmdlVmFsdWVTbGlkZXJEcmFnVXBkYXRlZC5kcmFnUmFuZ2VTdGFydFRvVmFsdWUobmV3VmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSwge2ZpbmlzaERyYWc6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgcmFuZ2VWYWx1ZVNsaWRlckRyYWdVcGRhdGVkU3RhcnRWYWx1ZS5nZXRUZXh0KCkudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHZhbHVlKS50b0JlKG5ld1ZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNob3VsZCB1cGRhdGUgdGhlIG1vZGVsIGVuZCB2YWx1ZSBkdXJpbmcgZHJhZ2dpbmcgZW5kIGJ1dHRvblwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSA2NjtcbiAgICAgICAgICAgICAgICByYW5nZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWQuZHJhZ1JhbmdlRW5kVG9WYWx1ZShuZXdWYWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlLCB7ZmluaXNoRHJhZzogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICByYW5nZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWRFbmRWYWx1ZS5nZXRUZXh0KCkudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHZhbHVlKS50b0JlKG5ld1ZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNob3VsZCBiZSByZXZlcnRlZCB0byB0aGUgcHJldmlvdXMgdmFsdWUgb24gY2FuY2VsXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICByYW5nZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWQuZHJhZ1JhbmdlRW5kVG9WYWx1ZSg4OCwgbWluVmFsdWUsIG1heFZhbHVlLCB7ZmluaXNoRHJhZzogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICByYW5nZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWQuY2FuY2VsRHJhZ2dpbmcoKTtcbiAgICAgICAgICAgICAgICByYW5nZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWQuZ2V0UmFuZ2UoKS50aGVuKChyYW5nZSk9PiB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyYW5nZS5lbmQpLnRvQmUoaW5pdGlhbFJhbmdlLmVuZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGVzY3JpYmUoXCJieSB0b3VjaFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgdXBkYXRlIHRoZSBtb2RlbCBzdGFydCB2YWx1ZSBkdXJpbmcgZHJhZ2dpbmcgZmlyc3QgYnV0dG9uXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSAyMjtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VWYWx1ZVNsaWRlckRyYWdVcGRhdGVkLmRyYWdSYW5nZVN0YXJ0VG9WYWx1ZShuZXdWYWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VUb3VjaDogdHJ1ZSwgZmluaXNoRHJhZzogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VWYWx1ZVNsaWRlckRyYWdVcGRhdGVkU3RhcnRWYWx1ZS5nZXRUZXh0KCkudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdCh2YWx1ZSkudG9CZShuZXdWYWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgdXBkYXRlIHRoZSBtb2RlbCBlbmQgdmFsdWUgZHVyaW5nIGRyYWdnaW5nIGVuZCBidXR0b25cIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IDY2O1xuICAgICAgICAgICAgICAgICAgICByYW5nZVZhbHVlU2xpZGVyRHJhZ1VwZGF0ZWQuZHJhZ1JhbmdlRW5kVG9WYWx1ZShuZXdWYWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlVG91Y2g6IHRydWUsIGZpbmlzaERyYWc6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlVmFsdWVTbGlkZXJEcmFnVXBkYXRlZEVuZFZhbHVlLmdldFRleHQoKS50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHZhbHVlKS50b0JlKG5ld1ZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZShcImRpc2FibGVkXCIsICgpID0+IHtcbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICBkaXNhYmxlZFJhbmdlU2xpZGVyID0gIEF0b20uZmluZChTbGlkZXJBdG9tLCBcImRpc2FibGVkLXJhbmdlLXNsaWRlclwiKTtcbiAgICAgICAgICAgIGRpc2FibGVkU2luZ2xlU2xpZGVyID0gQXRvbS5maW5kKFNsaWRlckF0b20sIFwiZGlzYWJsZWQtc2luZ2xlLXZhbHVlLXNsaWRlclwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KFwicmFuZ2Ugc2xpZGVyIHNob3VsZCBub3QgYmUgZHJhZ2dhYmxlXCIsICgpID0+IHtcbiAgICAgICAgICAgIGRpc2FibGVkUmFuZ2VTbGlkZXIuZHJhZ1JhbmdlRW5kVG8oMTApO1xuICAgICAgICAgICAgZGlzYWJsZWRSYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvKC0xMCk7XG4gICAgICAgICAgICBleHBlY3QoZGlzYWJsZWRSYW5nZVNsaWRlci5nZXRSYW5nZSgpKS50b0VxdWFsKGluaXRpYWxSYW5nZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdChcInNpbmdsZSB2YWx1ZSBzbGlkZXIgc2hvdWxkIG5vdCBiZSBkcmFnZ2FibGVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgZGlzYWJsZWRTaW5nbGVTbGlkZXIuZHJhZ1NpbmdsZVNsaWRlclRvKDIwKTtcbiAgICAgICAgICAgIGV4cGVjdChkaXNhYmxlZFNpbmdsZVNsaWRlci5nZXRWYWx1ZSgpKS50b0JlKGluaXRpYWxTaW5nZVZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVzY3JpYmUoXCJieSB0b3VjaFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpdChcInJhbmdlIHNsaWRlciBzaG91bGQgbm90IGJlIGRyYWdnYWJsZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzYWJsZWRSYW5nZVNsaWRlci5kcmFnUmFuZ2VFbmRUbygxMCwge3VzZVRvdWNoOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgZGlzYWJsZWRSYW5nZVNsaWRlci5kcmFnUmFuZ2VTdGFydFRvKC0xMCwge3VzZVRvdWNoOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGRpc2FibGVkUmFuZ2VTbGlkZXIuZ2V0UmFuZ2UoKSkudG9FcXVhbChpbml0aWFsUmFuZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNpbmdsZSB2YWx1ZSBzbGlkZXIgc2hvdWxkIG5vdCBiZSBkcmFnZ2FibGVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRpc2FibGVkU2luZ2xlU2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUbygyMCwge3VzZVRvdWNoOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGRpc2FibGVkU2luZ2xlU2xpZGVyLmdldFZhbHVlKCkpLnRvQmUoaW5pdGlhbFNpbmdlVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJzaW5nbGUtc2xpZGVyIHdpdGggdGV4dCBpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIGxldCBzbGlkZXI6IFNsaWRlckF0b207XG4gICAgICAgIGRlc2NyaWJlKFwiYW5kIHdpdGhvdXQgc3RlcHNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2xpZGVyID0gIEF0b20uZmluZChTbGlkZXJBdG9tLCBcInNpbmdsZS12YWx1ZS1zbGlkZXItd2l0aC10ZXh0XCIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgaW5pdGlhbCB2YWx1ZSBvbiB0aGUgdGV4dCBpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICBleHBlY3Qoc2xpZGVyLmdldElucHV0VmFsdWUoKSkudG9CZShpbml0aWFsU2luZ2VWYWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgbWluIHZhbHVlIG9uIHRoZSB0ZXh0IGlucHV0IHdoZW4gbW92aW5nIGZhciB0byB0aGUgbGVmdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUbygtc2xpZGVyT3V0cmFuZ2UpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbGlkZXIuZ2V0SW5wdXRWYWx1ZSgpKS50b0JlKG1pblZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBtYXggdmFsdWUgb24gdGhlIHRleHQgaW5wdXQgd2hlbiBtb3ZpbmcgZmFyIHRvIHRoZSByaWdodFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUbyhzbGlkZXJPdXRyYW5nZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNsaWRlci5nZXRJbnB1dFZhbHVlKCkpLnRvQmUobWF4VmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInRleHQgaW5wdXQgYmV0d2VlbiBtaW4gYW5kIG1heCBzaG91bGQgc2V0IHRoZSBoYW5kbGUgYXQgZXhhY3QgcG9zaXRpb25cIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlOiBudW1iZXIgPSAzMztcbiAgICAgICAgICAgICAgICBzbGlkZXIuc2V0SW5wdXRWYWx1ZShuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNsaWRlci5nZXRWYWx1ZUZyb21Qb3NpdGlvbihtaW5WYWx1ZSwgbWF4VmFsdWUpKS50b0JlKG5ld1ZhbHVlKTtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcIm5vbiBudW1lcmljIHRleHQgaW5wdXQgc2hvdWxkIGJlIHJldmVydGVkIHRvIHRoZSBvcmlnaW5hbCB2YWx1ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2xpZGVyLnNldElucHV0VmFsdWUoXCJiZWxhXCIsIGluaXRpYWxTaW5nZVZhbHVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2xpZGVyLmdldElucHV0VmFsdWUoKSkudG9CZShpbml0aWFsU2luZ2VWYWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwibG93ZXIgbnVtZXJpYyB0ZXh0IGlucHV0IHRoZW4gbWluIHNob3VsZCByZXZlcnRlZCB0byB0aGUgbWluIHZhbHVlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWx1ZTogbnVtYmVyID0gNTtcbiAgICAgICAgICAgICAgICBzbGlkZXIuc2V0SW5wdXRWYWx1ZShuZXdWYWx1ZSwgbWluVmFsdWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbGlkZXIuZ2V0VmFsdWVGcm9tUG9zaXRpb24obWluVmFsdWUsIG1heFZhbHVlKSkudG9CZShtaW5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNsaWRlci5nZXRJbnB1dFZhbHVlKCkpLnRvQmUobWluVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcImhpZ2hlciBudW1lcmljIHRleHQgaW5wdXQgdGhlbiBtYXggc2hvdWxkIHJldmVydGVkIHRvIHRoZSBtYXggdmFsdWVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlOiBudW1iZXIgPSAxMDU7XG4gICAgICAgICAgICAgICAgc2xpZGVyLnNldElucHV0VmFsdWUobmV3VmFsdWUsIG1heFZhbHVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2xpZGVyLmdldFZhbHVlRnJvbVBvc2l0aW9uKG1pblZhbHVlLCBtYXhWYWx1ZSkpLnRvQmUobWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbGlkZXIuZ2V0SW5wdXRWYWx1ZSgpKS50b0JlKG1heFZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgcmVtYWluIGluaXRpYWwgdmFsdWUgd2hlbiBkcmFnZ2luZyBpcyBjYW5jZWxlZCBieSBwcmVzc2luZyBFU0NcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNsaWRlci5kcmFnU2luZ2xlU2xpZGVyVG9WYWx1ZSg5MCwgbWluVmFsdWUsIG1heFZhbHVlLCB7ZmluaXNoRHJhZzogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICBhd2FpdCBzbGlkZXIuY2FuY2VsRHJhZ2dpbmcoKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2xpZGVyLmdldElucHV0VmFsdWUoKSkudG9CZShpbml0aWFsU2luZ2VWYWx1ZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGVzY3JpYmUoXCJieSB0b3VjaFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBtaW4gdmFsdWUgb24gdGhlIHRleHQgaW5wdXQgd2hlbiBtb3ZpbmcgZmFyIHRvIHRoZSBsZWZ0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVyLmRyYWdTaW5nbGVTbGlkZXJUbygtc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc2xpZGVyLmdldElucHV0VmFsdWUoKSkudG9CZShtaW5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBtYXggdmFsdWUgb24gdGhlIHRleHQgaW5wdXQgd2hlbiBtb3ZpbmcgZmFyIHRvIHRoZSByaWdodFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNsaWRlci5kcmFnU2luZ2xlU2xpZGVyVG8oc2xpZGVyT3V0cmFuZ2UsIHt1c2VUb3VjaDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc2xpZGVyLmdldElucHV0VmFsdWUoKSkudG9CZShtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlc2NyaWJlKFwiYW5kIHdpdGggc3RlcHNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2xpZGVyID0gIEF0b20uZmluZChTbGlkZXJBdG9tLCBcInNpbmdsZS12YWx1ZS1zbGlkZXItd2l0aC1zdGVwcy1hbmQtdGV4dFwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIGluaXRpYWwgdmFsdWUgb24gdGhlIHRleHQgaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbGlkZXIuZ2V0SW5wdXRWYWx1ZSgpKS50b0JlKGluaXRpYWxTaW5nZVZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBtaW4gdmFsdWUgb24gdGhlIHRleHQgaW5wdXQgd2hlbiBtb3ZpbmcgZmFyIHRvIHRoZSBsZWZ0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzbGlkZXIuZHJhZ1NpbmdsZVNsaWRlclRvKC1zbGlkZXJPdXRyYW5nZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNsaWRlci5nZXRJbnB1dFZhbHVlKCkpLnRvQmUobWluVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcInNob3VsZCBzZXQgdGhlIG1heCB2YWx1ZSBvbiB0aGUgdGV4dCBpbnB1dCB3aGVuIG1vdmluZyBmYXIgdG8gdGhlIHJpZ2h0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzbGlkZXIuZHJhZ1NpbmdsZVNsaWRlclRvKHNsaWRlck91dHJhbmdlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2xpZGVyLmdldElucHV0VmFsdWUoKSkudG9CZShtYXhWYWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwidGV4dCBpbnB1dCBiZXR3ZWVuIG1pbiBhbmQgbWF4IHNob3VsZCBzZXQgdGhlIHZhbHVlIHRvIHRoZSBjbG9zZXN0IHN0ZXBcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlOiBudW1iZXIgPSAzMztcbiAgICAgICAgICAgICAgICBjb25zdCBzdGVwOiBudW1iZXIgPSA1O1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkUmVzdWx0OiBudW1iZXIgPSBNYXRoLnJvdW5kKG5ld1ZhbHVlIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgICAgICAgICAgIHNsaWRlci5zZXRJbnB1dFZhbHVlKG5ld1ZhbHVlLCBleHBlY3RlZFJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICBleHBlY3Qoc2xpZGVyLmdldFZhbHVlRnJvbVBvc2l0aW9uKG1pblZhbHVlLCBtYXhWYWx1ZSkpLnRvQmUoZXhwZWN0ZWRSZXN1bHQpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbGlkZXIuZ2V0SW5wdXRWYWx1ZSgpKS50b0JlKGV4cGVjdGVkUmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJub24gbnVtZXJpYyB0ZXh0IGlucHV0IHNob3VsZCBiZSByZXZlcnRlZCB0byB0aGUgb3JpZ2luYWwgdmFsdWVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNsaWRlci5zZXRJbnB1dFZhbHVlKFwiYmVsYVwiLCBpbml0aWFsU2luZ2VWYWx1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNsaWRlci5nZXRJbnB1dFZhbHVlKCkpLnRvQmUoaW5pdGlhbFNpbmdlVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdChcImxvd2VyIG51bWVyaWMgdGV4dCBpbnB1dCB0aGVuIG1pbiBzaG91bGQgcmV2ZXJ0ZWQgdG8gdGhlIG1pbiB2YWx1ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWU6IG51bWJlciA9IDU7XG4gICAgICAgICAgICAgICAgc2xpZGVyLnNldElucHV0VmFsdWUobmV3VmFsdWUsIG1pblZhbHVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2xpZGVyLmdldFZhbHVlRnJvbVBvc2l0aW9uKG1pblZhbHVlLCBtYXhWYWx1ZSkpLnRvQmUobWluVmFsdWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChzbGlkZXIuZ2V0SW5wdXRWYWx1ZSgpKS50b0JlKG1pblZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXQoXCJoaWdoZXIgbnVtZXJpYyB0ZXh0IGlucHV0IHRoZW4gbWF4IHNob3VsZCByZXZlcnRlZCB0byB0aGUgbWF4IHZhbHVlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWx1ZTogbnVtYmVyID0gMTA1O1xuICAgICAgICAgICAgICAgIHNsaWRlci5zZXRJbnB1dFZhbHVlKG5ld1ZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNsaWRlci5nZXRWYWx1ZUZyb21Qb3NpdGlvbihtaW5WYWx1ZSwgbWF4VmFsdWUpKS50b0JlKG1heFZhbHVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc2xpZGVyLmdldElucHV0VmFsdWUoKSkudG9CZShtYXhWYWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0KFwic2hvdWxkIHJlbWFpbiBpbml0aWFsIHZhbHVlIHdoZW4gZHJhZ2dpbmcgaXMgY2FuY2VsZWQgYnkgcHJlc3NpbmcgRVNDXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzbGlkZXIuZHJhZ1NpbmdsZVNsaWRlclRvVmFsdWUoOTAsIG1pblZhbHVlLCBtYXhWYWx1ZSwge2ZpbmlzaERyYWc6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgc2xpZGVyLmNhbmNlbERyYWdnaW5nKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHNsaWRlci5nZXRJbnB1dFZhbHVlKCkpLnRvQmUoaW5pdGlhbFNpbmdlVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRlc2NyaWJlKFwiYnkgdG91Y2hcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgbWluIHZhbHVlIG9uIHRoZSB0ZXh0IGlucHV0IHdoZW4gbW92aW5nIGZhciB0byB0aGUgbGVmdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlci5kcmFnU2luZ2xlU2xpZGVyVG8oLXNsaWRlck91dHJhbmdlLCB7dXNlVG91Y2g6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHNsaWRlci5nZXRJbnB1dFZhbHVlKCkpLnRvQmUobWluVmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgbWF4IHZhbHVlIG9uIHRoZSB0ZXh0IGlucHV0IHdoZW4gbW92aW5nIGZhciB0byB0aGUgcmlnaHRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGlkZXIuZHJhZ1NpbmdsZVNsaWRlclRvKHNsaWRlck91dHJhbmdlLCB7dXNlVG91Y2g6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHNsaWRlci5nZXRJbnB1dFZhbHVlKCkpLnRvQmUobWF4VmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
