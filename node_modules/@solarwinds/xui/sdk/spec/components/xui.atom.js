"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const protractor = require("@solarwinds/uzi/protractor");
const protractor_1 = require("@solarwinds/uzi/protractor");
const uzi_1 = require("@solarwinds/uzi");
class XuiAtom extends uzi_1.Atom {
    scrollIntoView() {
        let container = super.getElement().element(protractor_1.by.xpath(".//ancestor::*[@xui-scrollbar]"));
        return container.isPresent().then((isPresent) => {
            if (isPresent) {
                return protractor.promise.all([container.getLocation(), super.getElement().getLocation()])
                    .then((results) => {
                    return protractor_1.browser.executeScript(`arguments[0].scrollTop += arguments[2].y - arguments[1].y;
                            arguments[0].scrollLeft += arguments[2].x - arguments[1].x;`, container.getWebElement(), ...results);
                });
            }
            else {
                return protractor_1.browser.executeScript(() => arguments[0].scrollIntoView(false), super.getElement().getWebElement());
            }
        });
    }
    ;
}
XuiAtom.CSS_CLASS = "N/A";
exports.XuiAtom = XuiAtom;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMveHVpLmF0b20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5REFBeUQ7QUFDekQsMkRBQWdFO0FBQ2hFLHlDQUFxQztBQUVyQyxhQUFxQixTQUFRLFVBQUk7SUFHdEIsY0FBYztRQUNqQixJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUMsT0FBTyxDQUFDLGVBQUUsQ0FBQyxLQUFLLENBQUUsZ0NBQWdDLENBQUMsQ0FBQyxDQUFDO1FBQ3hGLE1BQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUU7WUFDNUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDWixNQUFNLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLEVBQUUsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7cUJBQ3JGLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO29CQUNsQixNQUFNLENBQUMsb0JBQU8sQ0FBQyxhQUFhLENBQ3hCO3dGQUNnRSxFQUNoRSxTQUFTLENBQUMsYUFBYSxFQUFFLEVBQUUsR0FBRyxPQUFPLENBQUMsQ0FBQztnQkFDL0MsQ0FBQyxDQUFDLENBQUM7WUFDUCxDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ0osTUFBTSxDQUFDLG9CQUFPLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLEVBQ2pFLEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDO1lBQzVDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFBQSxDQUFDOztBQWxCWSxpQkFBUyxHQUFHLEtBQUssQ0FBQztBQURwQywwQkFvQkMiLCJmaWxlIjoiY29tcG9uZW50cy94dWkuYXRvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHByb3RyYWN0b3IgZnJvbSBcIkBzb2xhcndpbmRzL3V6aS9wcm90cmFjdG9yXCI7XG5pbXBvcnQge2Jyb3dzZXIsIGJ5LCBwcm9taXNlfSBmcm9tIFwiQHNvbGFyd2luZHMvdXppL3Byb3RyYWN0b3JcIjtcbmltcG9ydCB7QXRvbX0gZnJvbSBcIkBzb2xhcndpbmRzL3V6aVwiO1xuXG5leHBvcnQgY2xhc3MgWHVpQXRvbSBleHRlbmRzIEF0b20ge1xuICAgIHB1YmxpYyBzdGF0aWMgQ1NTX0NMQVNTID0gXCJOL0FcIjtcblxuICAgIHB1YmxpYyBzY3JvbGxJbnRvVmlldygpOiBwcm9taXNlLlByb21pc2U8YW55PiB7XG4gICAgICAgIGxldCBjb250YWluZXIgPSBzdXBlci5nZXRFbGVtZW50KCkuZWxlbWVudChieS54cGF0aCggXCIuLy9hbmNlc3Rvcjo6KltAeHVpLXNjcm9sbGJhcl1cIikpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyLmlzUHJlc2VudCgpLnRoZW4oKGlzUHJlc2VudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUHJlc2VudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm90cmFjdG9yLnByb21pc2UuYWxsKFtjb250YWluZXIuZ2V0TG9jYXRpb24oKSwgc3VwZXIuZ2V0RWxlbWVudCgpLmdldExvY2F0aW9uKCldKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5leGVjdXRlU2NyaXB0KFxuICAgICAgICAgICAgICAgICAgICAgICAgYGFyZ3VtZW50c1swXS5zY3JvbGxUb3AgKz0gYXJndW1lbnRzWzJdLnkgLSBhcmd1bWVudHNbMV0ueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0uc2Nyb2xsTGVmdCArPSBhcmd1bWVudHNbMl0ueCAtIGFyZ3VtZW50c1sxXS54O2AsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZ2V0V2ViRWxlbWVudCgpLCAuLi5yZXN1bHRzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdCgoKSA9PiBhcmd1bWVudHNbMF0uc2Nyb2xsSW50b1ZpZXcoZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICBzdXBlci5nZXRFbGVtZW50KCkuZ2V0V2ViRWxlbWVudCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
