"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const protractor_1 = require("@solarwinds/uzi/protractor");
const helpers_1 = require("../helpers");
const index_atom_1 = require("../index.atom");
const uzi_1 = require("@solarwinds/uzi");
describe("USERCONTROL pageContent", () => {
    let atom;
    let busyAtom;
    let negationAtom;
    let breadcrumbsAtom;
    beforeEach(() => {
        helpers_1.default.prepareBrowser("pageContent");
        atom = uzi_1.Atom.find(index_atom_1.PageContentAtom, "mockPageContentNoBusy");
        busyAtom = uzi_1.Atom.find(index_atom_1.PageContentAtom, "mockPageContentBusy");
        negationAtom = uzi_1.Atom.find(index_atom_1.PageContentAtom, "negationTest");
        breadcrumbsAtom = uzi_1.Atom.find(index_atom_1.PageContentAtom, "mockBreadcrumbs");
    });
    const expectedTitle = "Ballad Of Serenity";
    const expectedLinkText = "what is Firefly?";
    const expectedBreadcrumbsText = "We > are > breadcrumbs";
    const expectedLinkTarget = "_blank";
    const expectedUrl = "https://en.wikipedia.org/wiki/Firefly_(TV_series)";
    it("should display title in the header", () => {
        expect(atom.getTitle()).toBe(expectedTitle);
    });
    it("should display the link text in the header", () => {
        expect(atom.getLinkText()).toBe(expectedLinkText);
    });
    it("should have link target", () => {
        expect(atom.getLinkTarget()).toBe(expectedLinkTarget);
    });
    it("should not have link target when unset", () => {
        expect(negationAtom.getLinkTarget()).toBe("");
    });
    it("should associate the url with the link text", () => {
        expect(atom.getLinkUrl()).toBe(expectedUrl);
    });
    it("should associate the 'help' link icon", () => {
        expect(atom.isIconDisplayed("help")).toBe(true);
        expect(atom.isIconDisplayed("notAnIcon")).toBe(false);
    });
    it("should not include a busy indicator", () => {
        expect(atom).toBeDefined();
        expect(atom.isBusyIndicatorDisplayed("mockPageContentNoBusy")).toBe(false);
    });
    it("should include a busy indicator with message", () => {
        expect(busyAtom).toBeDefined();
        expect(busyAtom.isBusyIndicatorDisplayed("mockPageContentBusy")).toBe(true);
        expect(busyAtom.getBusyMessage()).toBe("Loading...");
    });
    it("should use transcluded header when title is not specified", () => {
        expect(atom.isDefaultHeader()).toBe(true);
        expect(busyAtom.isDefaultHeader()).toBe(false);
        const transcludedHeader = busyAtom.getHeader();
        expect(transcludedHeader).toBeDefined();
        const title = transcludedHeader.element(protractor_1.by.id("busyBeeTitle"));
        expect(title).toBeDefined();
        expect(title.getText()).toBe("Busy Bee");
    });
    it("should show transcluded footer", () => {
        expect(atom.getFooter("fireflyFooter")).toBeDefined();
    });
    it("should show transcluded breadcrumbs", () => {
        const transcludedBreadcrumbs = breadcrumbsAtom.getBreadcrumbs();
        expect(transcludedBreadcrumbs).toBeDefined();
        const text = transcludedBreadcrumbs.element(protractor_1.by.id("breadcrumbsText"));
        expect(text).toBeDefined();
        expect(text.getText()).toBe(expectedBreadcrumbsText);
    });
    it("should apply scrollbars only when pageLayout=fill", () => {
        expect(atom.isBodyScrollable()).toBe(true);
        expect(busyAtom.isBodyScrollable()).toBe(false);
        const nonFillAtom = uzi_1.Atom.find(index_atom_1.PageContentAtom, "negationTest");
        expect(nonFillAtom.isBodyScrollable()).toBe(false);
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvcGFnZUNvbnRlbnQvcGFnZUNvbnRlbnQuZTJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsMkRBQXVEO0FBQ3ZELHdDQUFpQztBQUNqQyw4Q0FBOEM7QUFDOUMseUNBQXFDO0FBRXJDLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7SUFDckMsSUFBSSxJQUFxQixDQUFDO0lBQzFCLElBQUksUUFBeUIsQ0FBQztJQUM5QixJQUFJLFlBQTZCLENBQUM7SUFDbEMsSUFBSSxlQUFnQyxDQUFDO0lBRXJDLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDWixpQkFBTyxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN0QyxJQUFJLEdBQUcsVUFBSSxDQUFDLElBQUksQ0FBQyw0QkFBZSxFQUFFLHVCQUF1QixDQUFDLENBQUM7UUFDM0QsUUFBUSxHQUFHLFVBQUksQ0FBQyxJQUFJLENBQUMsNEJBQWUsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1FBQzdELFlBQVksR0FBRyxVQUFJLENBQUMsSUFBSSxDQUFDLDRCQUFlLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDMUQsZUFBZSxHQUFHLFVBQUksQ0FBQyxJQUFJLENBQUMsNEJBQWUsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3BFLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxhQUFhLEdBQUcsb0JBQW9CLENBQUM7SUFDM0MsTUFBTSxnQkFBZ0IsR0FBRyxrQkFBa0IsQ0FBQztJQUM1QyxNQUFNLHVCQUF1QixHQUFHLHdCQUF3QixDQUFDO0lBQ3pELE1BQU0sa0JBQWtCLEdBQUcsUUFBUSxDQUFDO0lBQ3BDLE1BQU0sV0FBVyxHQUFHLG1EQUFtRCxDQUFDO0lBRXhFLEVBQUUsQ0FBQyxvQ0FBb0MsRUFBRSxHQUFHLEVBQUU7UUFDMUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNoRCxDQUFD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QUFDO0lBQzFELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLEdBQUcsRUFBRTtRQUMzQyxNQUFNLHNCQUFzQixHQUFHLGVBQWUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNoRSxNQUFNLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM3QyxNQUFNLElBQUksR0FBRyxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsZUFBRSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7UUFDdEUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxtREFBbUQsRUFBRSxHQUFHLEVBQUU7UUFDekQsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNDLE1BQU0sQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRCxNQUFNLFdBQVcsR0FBRyxVQUFJLENBQUMsSUFBSSxDQUFDLDRCQUFlLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDL0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoiY29tcG9uZW50cy9wYWdlQ29udGVudC9wYWdlQ29udGVudC5lMmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2J5LCBwcm9taXNlfSBmcm9tIFwiQHNvbGFyd2luZHMvdXppL3Byb3RyYWN0b3JcIjtcbmltcG9ydCBIZWxwZXJzIGZyb20gXCIuLi9oZWxwZXJzXCI7XG5pbXBvcnQge1BhZ2VDb250ZW50QXRvbX0gZnJvbSBcIi4uL2luZGV4LmF0b21cIjtcbmltcG9ydCB7QXRvbX0gZnJvbSBcIkBzb2xhcndpbmRzL3V6aVwiO1xuXG5kZXNjcmliZShcIlVTRVJDT05UUk9MIHBhZ2VDb250ZW50XCIsICgpID0+IHtcbiAgICBsZXQgYXRvbTogUGFnZUNvbnRlbnRBdG9tO1xuICAgIGxldCBidXN5QXRvbTogUGFnZUNvbnRlbnRBdG9tO1xuICAgIGxldCBuZWdhdGlvbkF0b206IFBhZ2VDb250ZW50QXRvbTtcbiAgICBsZXQgYnJlYWRjcnVtYnNBdG9tOiBQYWdlQ29udGVudEF0b207XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgSGVscGVycy5wcmVwYXJlQnJvd3NlcihcInBhZ2VDb250ZW50XCIpO1xuICAgICAgICBhdG9tID0gQXRvbS5maW5kKFBhZ2VDb250ZW50QXRvbSwgXCJtb2NrUGFnZUNvbnRlbnROb0J1c3lcIik7XG4gICAgICAgIGJ1c3lBdG9tID0gQXRvbS5maW5kKFBhZ2VDb250ZW50QXRvbSwgXCJtb2NrUGFnZUNvbnRlbnRCdXN5XCIpO1xuICAgICAgICBuZWdhdGlvbkF0b20gPSBBdG9tLmZpbmQoUGFnZUNvbnRlbnRBdG9tLCBcIm5lZ2F0aW9uVGVzdFwiKTtcbiAgICAgICAgYnJlYWRjcnVtYnNBdG9tID0gQXRvbS5maW5kKFBhZ2VDb250ZW50QXRvbSwgXCJtb2NrQnJlYWRjcnVtYnNcIik7XG4gICAgfSk7XG5cbiAgICBjb25zdCBleHBlY3RlZFRpdGxlID0gXCJCYWxsYWQgT2YgU2VyZW5pdHlcIjtcbiAgICBjb25zdCBleHBlY3RlZExpbmtUZXh0ID0gXCJ3aGF0IGlzIEZpcmVmbHk/XCI7XG4gICAgY29uc3QgZXhwZWN0ZWRCcmVhZGNydW1ic1RleHQgPSBcIldlID4gYXJlID4gYnJlYWRjcnVtYnNcIjtcbiAgICBjb25zdCBleHBlY3RlZExpbmtUYXJnZXQgPSBcIl9ibGFua1wiO1xuICAgIGNvbnN0IGV4cGVjdGVkVXJsID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXJlZmx5XyhUVl9zZXJpZXMpXCI7XG5cbiAgICBpdChcInNob3VsZCBkaXNwbGF5IHRpdGxlIGluIHRoZSBoZWFkZXJcIiwgKCkgPT4ge1xuICAgICAgICBleHBlY3QoYXRvbS5nZXRUaXRsZSgpKS50b0JlKGV4cGVjdGVkVGl0bGUpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZGlzcGxheSB0aGUgbGluayB0ZXh0IGluIHRoZSBoZWFkZXJcIiwgKCkgPT4ge1xuICAgICAgICBleHBlY3QoYXRvbS5nZXRMaW5rVGV4dCgpKS50b0JlKGV4cGVjdGVkTGlua1RleHQpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGF2ZSBsaW5rIHRhcmdldFwiLCAoKSA9PiB7XG4gICAgICAgIGV4cGVjdChhdG9tLmdldExpbmtUYXJnZXQoKSkudG9CZShleHBlY3RlZExpbmtUYXJnZXQpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbm90IGhhdmUgbGluayB0YXJnZXQgd2hlbiB1bnNldFwiLCAoKSA9PiB7XG4gICAgICAgIGV4cGVjdChuZWdhdGlvbkF0b20uZ2V0TGlua1RhcmdldCgpKS50b0JlKFwiXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgYXNzb2NpYXRlIHRoZSB1cmwgd2l0aCB0aGUgbGluayB0ZXh0XCIsICgpID0+IHtcbiAgICAgICAgZXhwZWN0KGF0b20uZ2V0TGlua1VybCgpKS50b0JlKGV4cGVjdGVkVXJsKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGFzc29jaWF0ZSB0aGUgJ2hlbHAnIGxpbmsgaWNvblwiLCAoKSA9PiB7XG4gICAgICAgIGV4cGVjdChhdG9tLmlzSWNvbkRpc3BsYXllZChcImhlbHBcIikpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChhdG9tLmlzSWNvbkRpc3BsYXllZChcIm5vdEFuSWNvblwiKSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBub3QgaW5jbHVkZSBhIGJ1c3kgaW5kaWNhdG9yXCIsICgpID0+IHtcbiAgICAgICAgZXhwZWN0KGF0b20pLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIGV4cGVjdChhdG9tLmlzQnVzeUluZGljYXRvckRpc3BsYXllZChcIm1vY2tQYWdlQ29udGVudE5vQnVzeVwiKSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBpbmNsdWRlIGEgYnVzeSBpbmRpY2F0b3Igd2l0aCBtZXNzYWdlXCIsICgpID0+IHtcbiAgICAgICAgZXhwZWN0KGJ1c3lBdG9tKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICBleHBlY3QoYnVzeUF0b20uaXNCdXN5SW5kaWNhdG9yRGlzcGxheWVkKFwibW9ja1BhZ2VDb250ZW50QnVzeVwiKSkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KGJ1c3lBdG9tLmdldEJ1c3lNZXNzYWdlKCkpLnRvQmUoXCJMb2FkaW5nLi4uXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgdXNlIHRyYW5zY2x1ZGVkIGhlYWRlciB3aGVuIHRpdGxlIGlzIG5vdCBzcGVjaWZpZWRcIiwgKCkgPT4ge1xuICAgICAgICBleHBlY3QoYXRvbS5pc0RlZmF1bHRIZWFkZXIoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KGJ1c3lBdG9tLmlzRGVmYXVsdEhlYWRlcigpKS50b0JlKGZhbHNlKTtcblxuICAgICAgICBjb25zdCB0cmFuc2NsdWRlZEhlYWRlciA9IGJ1c3lBdG9tLmdldEhlYWRlcigpO1xuICAgICAgICBleHBlY3QodHJhbnNjbHVkZWRIZWFkZXIpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdHJhbnNjbHVkZWRIZWFkZXIuZWxlbWVudChieS5pZChcImJ1c3lCZWVUaXRsZVwiKSk7XG4gICAgICAgIGV4cGVjdCh0aXRsZSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgZXhwZWN0KHRpdGxlLmdldFRleHQoKSkudG9CZShcIkJ1c3kgQmVlXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgc2hvdyB0cmFuc2NsdWRlZCBmb290ZXJcIiwgKCkgPT4ge1xuICAgICAgICBleHBlY3QoYXRvbS5nZXRGb290ZXIoXCJmaXJlZmx5Rm9vdGVyXCIpKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgc2hvdyB0cmFuc2NsdWRlZCBicmVhZGNydW1ic1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRyYW5zY2x1ZGVkQnJlYWRjcnVtYnMgPSBicmVhZGNydW1ic0F0b20uZ2V0QnJlYWRjcnVtYnMoKTtcbiAgICAgICAgZXhwZWN0KHRyYW5zY2x1ZGVkQnJlYWRjcnVtYnMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0cmFuc2NsdWRlZEJyZWFkY3J1bWJzLmVsZW1lbnQoYnkuaWQoXCJicmVhZGNydW1ic1RleHRcIikpO1xuICAgICAgICBleHBlY3QodGV4dCkudG9CZURlZmluZWQoKTtcbiAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0JlKGV4cGVjdGVkQnJlYWRjcnVtYnNUZXh0KTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGFwcGx5IHNjcm9sbGJhcnMgb25seSB3aGVuIHBhZ2VMYXlvdXQ9ZmlsbFwiLCAoKSA9PiB7XG4gICAgICAgIGV4cGVjdChhdG9tLmlzQm9keVNjcm9sbGFibGUoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KGJ1c3lBdG9tLmlzQm9keVNjcm9sbGFibGUoKSkudG9CZShmYWxzZSk7XG4gICAgICAgIGNvbnN0IG5vbkZpbGxBdG9tID0gQXRvbS5maW5kKFBhZ2VDb250ZW50QXRvbSwgXCJuZWdhdGlvblRlc3RcIik7XG4gICAgICAgIGV4cGVjdChub25GaWxsQXRvbS5pc0JvZHlTY3JvbGxhYmxlKCkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
